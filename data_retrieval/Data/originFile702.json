{"items":[{"tags":["java","spring","csv","dto"],"owner":{"account_id":15281691,"reputation":13,"user_id":12116169,"display_name":"Broco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674676216,"creation_date":1674676216,"question_id":75239128,"body_markdown":"How can I map the data to four values for the BalanceDTO instead of two like in the example I made for the NetDTO. Any help will be appreciated, I want to find the 4 values to map them. I just need help in the loop to find the values. Thanks in Advance. \r\n\r\n\r\n```\r\n/// 2 values CSV File\r\npublic void toCSVFile(List&lt;ReceivedData&gt; receivedDataList) {\r\n\r\n        logger.info(&quot;Executing net value strategy...&quot;);\r\n\r\n        List&lt;ReceivedData&gt; secondaryList = receivedDataList;\r\n\r\n        List&lt;NetDTO&gt; netDTOList = new ArrayList&lt;&gt;();\r\n\r\n        //maps data to netDTO, finds minuend and subtrahend\r\n        for (ReceivedData y : receivedDataList) {\r\n\r\n            for (ReceivedData x : secondaryList) {\r\n                if (y.getLotid().equals(x.getLotid()) &amp;&amp; y.getMaterialNumber().equals(x.getMaterialNumber()) &amp;&amp; y.getOperKey().equals(x.getOperKey()) &amp;&amp; y.getOrderID().equals(x.getOrderID()) &amp;&amp;\r\n                        y.getSerialID().equals(x.getSerialID()) &amp;&amp; y.getStepKey().equals(x.getStepKey()) &amp;&amp;\r\n                        !y.getDataCollectionID().equals(x.getDataCollectionID()) &amp;&amp; y.getType().equals(&quot;MINUEND&quot;) &amp;&amp; x.getType().equals(&quot;SUBTRAHEND&quot;)) {\r\n\r\n                    NetDTO netDTO = new NetDTO(y, x);\r\n\r\n                    netDTOList.add(netDTO);\r\n                }\r\n            }\r\n        }\r\n        writer(receivedDataList.get(0).getProcess().getProcessName() + &quot;.csv&quot;, netDTOList);\r\n    }\r\n\r\n///// Net DTO\r\npublic NetDTO(ReceivedData minuend, ReceivedData subtrahend) {\r\n        this.ordNumber = minuend.getOrdNumber();\r\n        this.matNumber = minuend.getMaterialNumber();\r\n        this.operator = minuend.getOperator();\r\n        this.serialNumber = minuend.getSerialNumber();\r\n        this.toolNo = minuend.getToolNo();\r\n        this.timeStamp = minuend.getTimeStamp();\r\n\r\n        this.dcTitleMinuend = minuend.getDcTitle();\r\n        this.dcValueMinuend = minuend.getDcValue();\r\n\r\n        this.dcTitleSubtrahend = subtrahend.getDcTitle();\r\n        this.dcValueSubtrahend = subtrahend.getDcValue();\r\n\r\n    }\r\n\r\n//// Balance DTO (I want to map the data like I did in the netDTO to this dto. But with 4 values)\r\n\r\n public BalanceDTO(ReceivedData value1, ReceivedData value2, ReceivedData value3, ReceivedData value4) {\r\n        this.ordNumber = value1.getOrdNumber();\r\n        this.matNumber = value1.getMaterialNumber();\r\n        this.operator = value1.getOperator();\r\n        this.serialNumber = value1.getSerialNumber();\r\n        this.toolNo = value1.getToolNo();\r\n        this.timeStamp = value1.getTimeStamp();\r\n\r\n        this.dcTitleValue1 = value1.getDcTitle();\r\n        this.dcValueValue1 = value1.getDcValue();\r\n\r\n        this.dcTitleValue2 = value2.getDcTitle();\r\n        this.dcValueValue2 = value2.getDcValue();\r\n\r\n        this.dcTitleValue3 = value3.getDcTitle();\r\n        this.dcValueValue3 = value3.getDcValue();\r\n\r\n        this.dcTitleValue4 = value4.getDcTitle();\r\n        this.dcValueValue4 = value4.getDcValue();\r\n\r\n    }\r\n```\r\n\r\n\r\nI wan to know how can I approach the looping when it comes 3 or more values. In this case, 4 values. ","title":"How can I map data to a CSV file to find 4 values looping?","body":"<p>How can I map the data to four values for the BalanceDTO instead of two like in the example I made for the NetDTO. Any help will be appreciated, I want to find the 4 values to map them. I just need help in the loop to find the values. Thanks in Advance.</p>\n<pre><code>/// 2 values CSV File\npublic void toCSVFile(List&lt;ReceivedData&gt; receivedDataList) {\n\n        logger.info(&quot;Executing net value strategy...&quot;);\n\n        List&lt;ReceivedData&gt; secondaryList = receivedDataList;\n\n        List&lt;NetDTO&gt; netDTOList = new ArrayList&lt;&gt;();\n\n        //maps data to netDTO, finds minuend and subtrahend\n        for (ReceivedData y : receivedDataList) {\n\n            for (ReceivedData x : secondaryList) {\n                if (y.getLotid().equals(x.getLotid()) &amp;&amp; y.getMaterialNumber().equals(x.getMaterialNumber()) &amp;&amp; y.getOperKey().equals(x.getOperKey()) &amp;&amp; y.getOrderID().equals(x.getOrderID()) &amp;&amp;\n                        y.getSerialID().equals(x.getSerialID()) &amp;&amp; y.getStepKey().equals(x.getStepKey()) &amp;&amp;\n                        !y.getDataCollectionID().equals(x.getDataCollectionID()) &amp;&amp; y.getType().equals(&quot;MINUEND&quot;) &amp;&amp; x.getType().equals(&quot;SUBTRAHEND&quot;)) {\n\n                    NetDTO netDTO = new NetDTO(y, x);\n\n                    netDTOList.add(netDTO);\n                }\n            }\n        }\n        writer(receivedDataList.get(0).getProcess().getProcessName() + &quot;.csv&quot;, netDTOList);\n    }\n\n///// Net DTO\npublic NetDTO(ReceivedData minuend, ReceivedData subtrahend) {\n        this.ordNumber = minuend.getOrdNumber();\n        this.matNumber = minuend.getMaterialNumber();\n        this.operator = minuend.getOperator();\n        this.serialNumber = minuend.getSerialNumber();\n        this.toolNo = minuend.getToolNo();\n        this.timeStamp = minuend.getTimeStamp();\n\n        this.dcTitleMinuend = minuend.getDcTitle();\n        this.dcValueMinuend = minuend.getDcValue();\n\n        this.dcTitleSubtrahend = subtrahend.getDcTitle();\n        this.dcValueSubtrahend = subtrahend.getDcValue();\n\n    }\n\n//// Balance DTO (I want to map the data like I did in the netDTO to this dto. But with 4 values)\n\n public BalanceDTO(ReceivedData value1, ReceivedData value2, ReceivedData value3, ReceivedData value4) {\n        this.ordNumber = value1.getOrdNumber();\n        this.matNumber = value1.getMaterialNumber();\n        this.operator = value1.getOperator();\n        this.serialNumber = value1.getSerialNumber();\n        this.toolNo = value1.getToolNo();\n        this.timeStamp = value1.getTimeStamp();\n\n        this.dcTitleValue1 = value1.getDcTitle();\n        this.dcValueValue1 = value1.getDcValue();\n\n        this.dcTitleValue2 = value2.getDcTitle();\n        this.dcValueValue2 = value2.getDcValue();\n\n        this.dcTitleValue3 = value3.getDcTitle();\n        this.dcValueValue3 = value3.getDcValue();\n\n        this.dcTitleValue4 = value4.getDcTitle();\n        this.dcValueValue4 = value4.getDcValue();\n\n    }\n</code></pre>\n<p>I wan to know how can I approach the looping when it comes 3 or more values. In this case, 4 values.</p>\n"},{"tags":["java","junit","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1674576172,"post_id":75223076,"comment_id":132741075,"body_markdown":"`log4j-core` needs to be at least the same version as the API. Can you add the whole stacktrace (i.e. including the &quot;Caused by&quot;)? Can you run your test with `-Dlog4j2.debug` and include the output?","body":"<code>log4j-core</code> needs to be at least the same version as the API. Can you add the whole stacktrace (i.e. including the &quot;Caused by&quot;)? Can you run your test with <code>-Dlog4j2.debug</code> and include the output?"},{"owner":{"account_id":27609667,"reputation":21,"user_id":21073061,"display_name":"CliffAnderson"},"score":0,"creation_date":1674674776,"post_id":75223076,"comment_id":132767439,"body_markdown":"I ended up resolving the issue (see my answer). I do remember that there was no &quot;caused by&quot; section of the stacktrace.","body":"I ended up resolving the issue (see my answer). I do remember that there was no &quot;caused by&quot; section of the stacktrace."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1674675973,"post_id":75238895,"comment_id":132767783,"body_markdown":"I guess you already had an old `osgi.core` artifact on your classpath and Log4j2 tried (and failed) to retrieve its services through OSGI. cf. [LOG4J2-3642](https://issues.apache.org/jira/browse/LOG4J2-3642)","body":"I guess you already had an old <code>osgi.core</code> artifact on your classpath and Log4j2 tried (and failed) to retrieve its services through OSGI. cf. <a href=\"https://issues.apache.org/jira/browse/LOG4J2-3642\" rel=\"nofollow noreferrer\">LOG4J2-3642</a>"},{"owner":{"account_id":27609667,"reputation":21,"user_id":21073061,"display_name":"CliffAnderson"},"score":0,"creation_date":1674676413,"post_id":75238895,"comment_id":132767916,"body_markdown":"Thanks for the Jira link! Glad to see I&#39;m not the only one running into this :)","body":"Thanks for the Jira link! Glad to see I&#39;m not the only one running into this :)"}],"tags":[],"owner":{"account_id":27609667,"reputation":21,"user_id":21073061,"display_name":"CliffAnderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674674705,"creation_date":1674674705,"answer_id":75238895,"question_id":75223076,"body_markdown":"I found I had to add `org.osgi:osgi.core:8.0.0` to my list of dependencies. If anyone knows why, I would love to hear it.","title":"JUnit tests fail due to exception &quot;Could not initialize class org.apache.logging.log4j.util.PropertiesUtil&quot;","body":"<p>I found I had to add <code>org.osgi:osgi.core:8.0.0</code> to my list of dependencies. If anyone knows why, I would love to hear it.</p>\n"}],"owner":{"account_id":27609667,"reputation":21,"user_id":21073061,"display_name":"CliffAnderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674674705,"creation_date":1674571203,"question_id":75223076,"body_markdown":"I have a Java EE web service that I just converted to use log4j2 over v1. My JUnit tests are failing with the following stacktrace:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\r\n    \tat org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:78)\r\n    \tat org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:61)\r\n\r\n\r\nThe exact line it&#39;s failing on is `LOGGER = LogManager.getLogger(MyEndpoint.class);`. I&#39;ve searched high and low and cannot find any solution to this nor this being a common problem. My dependencies are:\r\njunit 4.12\r\nmockito-core 2.15.0\r\nlog4j-core and log4j-api 2.19.0\r\n\r\nDue to other dependencies I still have log4j1 on the classpath, however excluding it from the build doesn&#39;t change the outcome.\r\n\r\nI cannot post the whole source code as this is a company project.","title":"JUnit tests fail due to exception &quot;Could not initialize class org.apache.logging.log4j.util.PropertiesUtil&quot;","body":"<p>I have a Java EE web service that I just converted to use log4j2 over v1. My JUnit tests are failing with the following stacktrace:</p>\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.logging.log4j.util.PropertiesUtil\n    at org.apache.logging.log4j.status.StatusLogger.&lt;clinit&gt;(StatusLogger.java:78)\n    at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:61)\n</code></pre>\n<p>The exact line it's failing on is <code>LOGGER = LogManager.getLogger(MyEndpoint.class);</code>. I've searched high and low and cannot find any solution to this nor this being a common problem. My dependencies are:\njunit 4.12\nmockito-core 2.15.0\nlog4j-core and log4j-api 2.19.0</p>\n<p>Due to other dependencies I still have log4j1 on the classpath, however excluding it from the build doesn't change the outcome.</p>\n<p>I cannot post the whole source code as this is a company project.</p>\n"},{"tags":["java","javac","jls"],"comments":[{"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"score":1,"creation_date":1674674930,"post_id":75238888,"comment_id":132767488,"body_markdown":"For the person who voted to close, I&#39;m not looking for recommendations. \nI&#39;m looking for a very concrete and objective answer that can be verified to be true or false.","body":"For the person who voted to close, I&#39;m not looking for recommendations.  I&#39;m looking for a very concrete and objective answer that can be verified to be true or false."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1674683235,"post_id":75238888,"comment_id":132769761,"body_markdown":"The JDK source contains a class `ClassFinder` (https://github.com/openjdk/jdk17u/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/code/ClassFinder.java) which might be a central point of what you&#39;re looking for.","body":"The JDK source contains a class <code>ClassFinder</code> (<a href=\"https://github.com/openjdk/jdk17u/blob/master/src/jdk.compiler/share/classes/com/sun/tools/javac/code/ClassFinder.java\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/jdk.compiler/shar&zwnj;&#8203;e/&hellip;</a>) which might be a central point of what you&#39;re looking for."}],"owner":{"account_id":166796,"reputation":72317,"user_id":391161,"accept_rate":63,"display_name":"merlin2011"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674674679,"creation_date":1674674679,"question_id":75238888,"body_markdown":"Consider the following two classes, defined in two source files:\r\n\r\n#### Foo.java\r\n```\r\npublic class Foo {\r\n}\r\n```\r\n\r\n#### Bar.java\r\n```\r\npublic class Bar {\r\n  Foo foo;\r\n}\r\n```\r\n\r\nWhen we invoke `javac Bar.java`, the current directory now contains `Foo.class` and `Bar.class`.\r\n\r\nI&#39;d like to understand the exact steps that `javac` uses to determine that it needs to compile `Foo.java` when I ask it to compile `Bar.java`.\r\n\r\n**Could I get a pointer to the set of classes in the [source code][1] which implement the steps to infer the source files that a given source file depends on?**\r\n\r\nI&#39;ve looked through the Java [compiler API][2], as well as perused the source myself, but have so far been unsuccessful at finding what I seek, probably due to lack of familiarity.\r\n\r\nI am continuing to read the source, but asking this question in case someone happens to be much more familiar with the javac source code and knows this already.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/module-summary.html","title":"How does javac determine the source dependencies of the current source file?","body":"<p>Consider the following two classes, defined in two source files:</p>\n<h4>Foo.java</h4>\n<pre><code>public class Foo {\n}\n</code></pre>\n<h4>Bar.java</h4>\n<pre><code>public class Bar {\n  Foo foo;\n}\n</code></pre>\n<p>When we invoke <code>javac Bar.java</code>, the current directory now contains <code>Foo.class</code> and <code>Bar.class</code>.</p>\n<p>I'd like to understand the exact steps that <code>javac</code> uses to determine that it needs to compile <code>Foo.java</code> when I ask it to compile <code>Bar.java</code>.</p>\n<p><strong>Could I get a pointer to the set of classes in the <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">source code</a> which implement the steps to infer the source files that a given source file depends on?</strong></p>\n<p>I've looked through the Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/jdk.compiler/module-summary.html\" rel=\"nofollow noreferrer\">compiler API</a>, as well as perused the source myself, but have so far been unsuccessful at finding what I seek, probably due to lack of familiarity.</p>\n<p>I am continuing to read the source, but asking this question in case someone happens to be much more familiar with the javac source code and knows this already.</p>\n"},{"tags":["python","java","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1674675160,"post_id":75238887,"comment_id":132767557,"body_markdown":"You can use the Remote debugger configuration for that. Start a Java process with the suggested options and then connect to it with a debugger: https://www.jetbrains.com/help/idea/tutorial-remote-debug.html.","body":"You can use the Remote debugger configuration for that. Start a Java process with the suggested options and then connect to it with a debugger: <a href=\"https://www.jetbrains.com/help/idea/tutorial-remote-debug.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/tutorial-remote-debug.html</a>."}],"owner":{"account_id":1572115,"reputation":1345,"user_id":1459607,"accept_rate":8,"display_name":"Ryan Glenn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674674678,"creation_date":1674674678,"question_id":75238887,"body_markdown":"So there&#39;s a python script that I have that runs a specific java class based on input params. I want to know if it&#39;s possible to have it where when the python class spawns a subprocess for running java, if it&#39;s possible to have the debugger in intellij just start running and step into the next line that&#39;s in java. Is this possible? How can I do it?","title":"Intellij step into Java from Python (debugger)","body":"<p>So there's a python script that I have that runs a specific java class based on input params. I want to know if it's possible to have it where when the python class spawns a subprocess for running java, if it's possible to have the debugger in intellij just start running and step into the next line that's in java. Is this possible? How can I do it?</p>\n"},{"tags":["java","javascript","html","xpath","selenium"],"comments":[{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378161449,"post_id":18581522,"comment_id":27342930,"body_markdown":"Yep, definitely need to see your current code","body":"Yep, definitely need to see your current code"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378162825,"post_id":18581522,"comment_id":27343268,"body_markdown":"as requested i have updated the OP","body":"as requested i have updated the OP"},{"owner":{"account_id":2772348,"reputation":2191,"user_id":2386700,"accept_rate":58,"display_name":"Dingredient"},"score":0,"creation_date":1378178508,"post_id":18581522,"comment_id":27346296,"body_markdown":"I suspect the problem is the elements are not being selected properly when you create your lists. In Eclipse, you can use the debugger to check their value, or simply print them to the console like this:\n`for(WebElement detail : fleetDetails)` \n\n        `{` \n\n             `System.out.println(detail)` \n\n        `};`\n  \nIf the elements were selected properly, you&#39;ll see a bunch of hashcodes print out. But if there are no elements in the list, you won&#39;t see anything print out.","body":"I suspect the problem is the elements are not being selected properly when you create your lists. In Eclipse, you can use the debugger to check their value, or simply print them to the console like this: <code>for(WebElement detail : fleetDetails)</code>           <code>{</code>                <code>System.out.println(detail)</code>           <code>};</code>    If the elements were selected properly, you&#39;ll see a bunch of hashcodes print out. But if there are no elements in the list, you won&#39;t see anything print out."},{"owner":{"account_id":2772348,"reputation":2191,"user_id":2386700,"accept_rate":58,"display_name":"Dingredient"},"score":0,"creation_date":1378178564,"post_id":18581522,"comment_id":27346307,"body_markdown":"Maybe you thought that part was working because you didn&#39;t get any exception. But it doesn&#39;t throw any exception, because in Java, it&#39;s perfectly ok to have a list of length `0`.","body":"Maybe you thought that part was working because you didn&#39;t get any exception. But it doesn&#39;t throw any exception, because in Java, it&#39;s perfectly ok to have a list of length <code>0</code>."},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378238354,"post_id":18581522,"comment_id":27376040,"body_markdown":"well i thouroughly tested the code and if i use the ToString() method it prints what i expect it to print. Which is &quot;&lt;td class=&quot;value&quot;&gt;&quot;, this tag should hold the value but getText returns null.","body":"well i thouroughly tested the code and if i use the ToString() method it prints what i expect it to print. Which is &quot;&lt;td class=&quot;value&quot;&gt;&quot;, this tag should hold the value but getText returns null."}],"answers":[{"comments":[{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378163012,"post_id":18581834,"comment_id":27343310,"body_markdown":"Sorry, shouldn&#39;t have had the opening slash in the xpath","body":"Sorry, shouldn&#39;t have had the opening slash in the xpath"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378164032,"post_id":18581834,"comment_id":27343553,"body_markdown":"i didn&#39;t post more of the html because that would be a massive wall of code. Simply put starStreak is the surrounding tag that holds this table and other bits of information.\n\nWouldn&#39;t this also just return null? Since my issue wasn&#39;t about finding the object but about retrieving the value inside?\n\nI&#39;m not at all familiar with xpath&#39;s but i&#39;ll give it a shot anyway (copy-pasting yours gives a &quot;cannot be evaluated&quot; exception btw)","body":"i didn&#39;t post more of the html because that would be a massive wall of code. Simply put starStreak is the surrounding tag that holds this table and other bits of information.  Wouldn&#39;t this also just return null? Since my issue wasn&#39;t about finding the object but about retrieving the value inside?  I&#39;m not at all familiar with xpath&#39;s but i&#39;ll give it a shot anyway (copy-pasting yours gives a &quot;cannot be evaluated&quot; exception btw)"},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378187225,"post_id":18581834,"comment_id":27348506,"body_markdown":"What returns&quot;cannot be evaluated&quot;? Try removing the reference to &quot;starStreek&quot;.  Eg. Start xpath with &quot;td&quot;","body":"What returns&quot;cannot be evaluated&quot;? Try removing the reference to &quot;starStreek&quot;.  Eg. Start xpath with &quot;td&quot;"},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378187392,"post_id":18581834,"comment_id":27348576,"body_markdown":"Btw - I constructed the xpath in bed. Willbe able to try it later in the office","body":"Btw - I constructed the xpath in bed. Willbe able to try it later in the office"},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378193010,"post_id":18581834,"comment_id":27350977,"body_markdown":"There was a typo in the xpath; I left the closing bracket off the td identifier.  I have also removed the &quot;*[contains(@class,&#39;starStreek&#39;)]&quot;.  Put this back if you have problems but I don&#39;t think you should need it","body":"There was a typo in the xpath; I left the closing bracket off the td identifier.  I have also removed the &quot;*[contains(@class,&#39;starStreek&#39;)]&quot;.  Put this back if you have problems but I don&#39;t think you should need it"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378203679,"post_id":18581834,"comment_id":27356565,"body_markdown":"thanks for your responses so far and your xpath does work (it returns the right cell) but as i thought, calling &#39;getText()&#39; on the found element returns null.","body":"thanks for your responses so far and your xpath does work (it returns the right cell) but as i thought, calling &#39;getText()&#39; on the found element returns null."},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378204389,"post_id":18581834,"comment_id":27357021,"body_markdown":"What if you do not perform the Integer Parse? Does it return text then? Also, are you sure you want to parse to integer? There are decimal places, integers don&#39;t have decimal places","body":"What if you do not perform the Integer Parse? Does it return text then? Also, are you sure you want to parse to integer? There are decimal places, integers don&#39;t have decimal places"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378212125,"post_id":18581834,"comment_id":27361539,"body_markdown":"Trying to print out the String comes up empty. And indeed, i&#39;d have to remove the &quot;points&quot; inside the string before parsing but that doesn&#39;t matter (yet) since i get a NullPointerException anyway.","body":"Trying to print out the String comes up empty. And indeed, i&#39;d have to remove the &quot;points&quot; inside the string before parsing but that doesn&#39;t matter (yet) since i get a NullPointerException anyway."},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378213808,"post_id":18581834,"comment_id":27362598,"body_markdown":"What does fleet.findElement(identifier).getAttribute(&quot;class&quot;) return?","body":"What does fleet.findElement(identifier).getAttribute(&quot;class&quot;) return?"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378219601,"post_id":18581834,"comment_id":27366324,"body_markdown":"it prints value as it should :P\nSo, as i said, i do get the correct cell it&#39;s just that i cannot retrieve the inner text/value using getText().","body":"it prints value as it should :P So, as i said, i do get the correct cell it&#39;s just that i cannot retrieve the inner text/value using getText()."},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378220074,"post_id":18581834,"comment_id":27366642,"body_markdown":"Try getAttribute(&quot;value&quot;)","body":"Try getAttribute(&quot;value&quot;)"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378220235,"post_id":18581834,"comment_id":27366748,"body_markdown":"it&#39;s just that selenium seemingly doesn&#39;t recognize text as a String if it isn&#39;t surrounded by double quotation marks.\n\nedit: comes up empty.","body":"it&#39;s just that selenium seemingly doesn&#39;t recognize text as a String if it isn&#39;t surrounded by double quotation marks.  edit: comes up empty."},{"owner":{"account_id":1492154,"reputation":4051,"user_id":1399008,"display_name":"JacekM"},"score":2,"creation_date":1378223090,"post_id":18581834,"comment_id":27368385,"body_markdown":"WebDriver does not require string to be surrounded with quotation marks. I use getText() a lot in my projects and it works regardless of quotations.\n\nIf getText() does not work try `getAttribute(&quot;innerHTML&quot;);`","body":"WebDriver does not require string to be surrounded with quotation marks. I use getText() a lot in my projects and it works regardless of quotations.  If getText() does not work try <code>getAttribute(&quot;innerHTML&quot;);</code>"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378226699,"post_id":18581834,"comment_id":27370335,"body_markdown":"turns up null as well. If it isn&#39;t because of the quotation marks then i really don&#39;t understand why it won&#39;t work...","body":"turns up null as well. If it isn&#39;t because of the quotation marks then i really don&#39;t understand why it won&#39;t work..."},{"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"score":0,"creation_date":1378231934,"post_id":18581834,"comment_id":27372943,"body_markdown":"Can you get the entire page source via driver and post it here?","body":"Can you get the entire page source via driver and post it here?"},{"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"score":0,"creation_date":1378238069,"post_id":18581834,"comment_id":27375876,"body_markdown":"i could but that&#39;s alot of code. i&#39;ll post the relevant bit in the OP","body":"i could but that&#39;s alot of code. i&#39;ll post the relevant bit in the OP"}],"tags":[],"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"comment_count":16,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378197590,"creation_date":1378162813,"answer_id":18581834,"question_id":18581522,"body_markdown":"I would recommend using xpath in this scenario rather then relying on tagnames;\r\n\r\n    private int getMetalFromFleet(WebElement fleet)\r\n        {\r\n            By identifier = By.xpath(&quot;td[contains(text(),&#39;Metaal&#39;)]/following-sibling::td[contains(@class,&#39;value&#39;)]&quot;);\r\n    \r\n            return Integer.parseInt(fleet.findElement(identifier).getText());\r\n        }\r\n\r\nObviously you will want some error handling in there, but hopefully this gives the idea that those loops are not always required, and Xpath isn&#39;t always the bogeyman it is made out to be by some.\r\n\r\nEDIT\r\n\r\nJust in case anyone is confused, it is okay for the XPath to not have leading slashes if the selector is performed on a WebElement rather than the WebDriver object.  \r\n\r\nYou would have to add two leading slashes if this selector was used on the WebDriver object.\r\n\r\nEDIT AGAIN!\r\n\r\nXpath may need some tweaking but you should get the idea of the approach.  I cannot see &quot;StarStreek&quot; in your html but it was in your code so added it  to my xpath.\r\n","title":"accessing &lt;td&gt; value with selenium","body":"<p>I would recommend using xpath in this scenario rather then relying on tagnames;</p>\n\n<pre><code>private int getMetalFromFleet(WebElement fleet)\n    {\n        By identifier = By.xpath(\"td[contains(text(),'Metaal')]/following-sibling::td[contains(@class,'value')]\");\n\n        return Integer.parseInt(fleet.findElement(identifier).getText());\n    }\n</code></pre>\n\n<p>Obviously you will want some error handling in there, but hopefully this gives the idea that those loops are not always required, and Xpath isn't always the bogeyman it is made out to be by some.</p>\n\n<p>EDIT</p>\n\n<p>Just in case anyone is confused, it is okay for the XPath to not have leading slashes if the selector is performed on a WebElement rather than the WebDriver object.  </p>\n\n<p>You would have to add two leading slashes if this selector was used on the WebDriver object.</p>\n\n<p>EDIT AGAIN!</p>\n\n<p>Xpath may need some tweaking but you should get the idea of the approach.  I cannot see \"StarStreek\" in your html but it was in your code so added it  to my xpath.</p>\n"},{"tags":[],"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1445240772,"creation_date":1378314098,"answer_id":18619774,"question_id":18581522,"body_markdown":"I found some kind of an answer after digging through a ton of programming sites.\r\nApparently items that have the `style=&quot;display:none&quot;;` flag set like this will be seen as &quot;hidden&quot; by selenium.\r\n\r\nThis is, unfortunately, a feature and not a bug of some sort as selenium &quot;*tries to emulate the use*r&quot; and will therefore hide information that is not explicitely visible.\r\n\r\n&quot;*The user can&#39;t see it so neither can selenium*&quot; is their thought progress.\r\n\r\nHere is the [source.][1]\r\n\r\n[1]: https://code.google.com/p/selenium/issues/detail?id=371#c4\r\n\r\nThis, unfortunately, does not solve my issue. I can however try to get around this, I&#39;ll report back my findings.\r\n\r\n\r\n**EDIT**: It&#39;s amusing how different HtmlUnitDriver is from FirefoxDriver. One thing that works on HtmlUnitDriver won&#39;t work on FirefoxDriver and vice versa.\r\n\r\n**EDIT-2**: Found a solution! Finally.\r\n\r\nUsing selenium&#39;s `JavascriptExecutor` I can directly get the innerHTML from the found element like so:\r\n\r\n    By identifier = By.xpath(&quot;*[contains(@class,&#39;starStreak&#39;)]//td[contains(text(),&#39;Metaal:&#39;)]/following-sibling::td[contains(@class,&#39;value&#39;)]&quot;);\r\n        String script = &quot;return arguments[0].innerHTML&quot;;\r\n    \tString outcome = (String) ((JavascriptExecutor) driver).executeScript(script, fleet.findElement(identifier));\r\n\r\nIt&#39;s still annoying as hell that you can&#39;t just use `getText()` though. It should at least be an option.","title":"accessing &lt;td&gt; value with selenium","body":"<p>I found some kind of an answer after digging through a ton of programming sites.\nApparently items that have the <code>style=\"display:none\";</code> flag set like this will be seen as \"hidden\" by selenium.</p>\n\n<p>This is, unfortunately, a feature and not a bug of some sort as selenium \"<em>tries to emulate the use</em>r\" and will therefore hide information that is not explicitely visible.</p>\n\n<p>\"<em>The user can't see it so neither can selenium</em>\" is their thought progress.</p>\n\n<p>Here is the <a href=\"https://code.google.com/p/selenium/issues/detail?id=371#c4\" rel=\"nofollow\">source.</a></p>\n\n<p>This, unfortunately, does not solve my issue. I can however try to get around this, I'll report back my findings.</p>\n\n<p><strong>EDIT</strong>: It's amusing how different HtmlUnitDriver is from FirefoxDriver. One thing that works on HtmlUnitDriver won't work on FirefoxDriver and vice versa.</p>\n\n<p><strong>EDIT-2</strong>: Found a solution! Finally.</p>\n\n<p>Using selenium's <code>JavascriptExecutor</code> I can directly get the innerHTML from the found element like so:</p>\n\n<pre><code>By identifier = By.xpath(\"*[contains(@class,'starStreak')]//td[contains(text(),'Metaal:')]/following-sibling::td[contains(@class,'value')]\");\n    String script = \"return arguments[0].innerHTML\";\n    String outcome = (String) ((JavascriptExecutor) driver).executeScript(script, fleet.findElement(identifier));\n</code></pre>\n\n<p>It's still annoying as hell that you can't just use <code>getText()</code> though. It should at least be an option.</p>\n"},{"tags":[],"owner":{"account_id":4261244,"reputation":1,"user_id":3485554,"display_name":"kch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397820289,"creation_date":1397820289,"answer_id":23153134,"question_id":18581522,"body_markdown":"Got similar problem - i want to click on a row in a table which has given value. Solution (id can be changed to class name etc.):\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;//table[@id=&#39;&lt;yourTableId&gt;&#39;]//tr//td[contains(text(),&#39;&quot;+&lt;givenValue&gt;+&quot;&#39;)]&quot;)).click();","title":"accessing &lt;td&gt; value with selenium","body":"<p>Got similar problem - i want to click on a row in a table which has given value. Solution (id can be changed to class name etc.):</p>\n\n<pre><code>driver.findElement(By.xpath(\"//table[@id='&lt;yourTableId&gt;']//tr//td[contains(text(),'\"+&lt;givenValue&gt;+\"')]\")).click();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1674712423,"post_id":75238874,"comment_id":132773609,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75238874/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9403740,"reputation":1,"user_id":10805042,"display_name":"mehdi yavari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674674584,"creation_date":1674674584,"answer_id":75238874,"question_id":18581522,"body_markdown":"When I get value of td, I can get for 12 td per tr tag. More than 12 must one click on td tag then getText() \r\nThis work for me correctly.","title":"accessing &lt;td&gt; value with selenium","body":"<p>When I get value of td, I can get for 12 td per tr tag. More than 12 must one click on td tag then getText()\nThis work for me correctly.</p>\n"}],"owner":{"account_id":3151721,"reputation":377,"user_id":2665035,"accept_rate":67,"display_name":"killernerd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21866,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18619774,"answer_count":4,"score":1,"last_activity_date":1674674584,"creation_date":1378160554,"question_id":18581522,"body_markdown":"Using selenium i&#39;m trying to read out a dynamically generated table, i got down to the right elements (using the `findElement` method) but using `getText()` on them returns nothing.\r\n\r\nProbably because `getText()` looks for quotation marks when returning &quot;text&quot; and can&#39;t find any between the `&lt;td&gt;` tags. Some suggestions were to use xpaths but since the tables are generated dynamically the location of the value i need also changes.\r\n\r\nhere&#39;s the table i&#39;m trying to get 3 data points from:\r\n\r\n    &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;fleetinfo&quot;&gt;\r\n            &lt;tbody&gt;&lt;tr&gt;\r\n                &lt;th colspan=&quot;2&quot;&gt;Schepen:&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                &lt;td&gt;Groot vrachtschip:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                                40                        &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                &lt;td colspan=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;th colspan=&quot;2&quot;&gt;Lading:&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Metaal:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    536.062            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Kristal:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    289.008            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Deuterium:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    92.750            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;&lt;/table&gt;\r\n\r\nthe ones i&#39;m interested in are the ones inside the `&lt;td class=&quot;value&quot;&gt;` tags but as i said before, using `getText()` on them returns null.\r\n\r\nAny idea on how i can acces those values?\r\n\r\nedit: here&#39;s how i&#39;m doing it now\r\n\r\n    private int getMetalFromFleet(WebElement fleet)\r\n    \t{\r\n    \t\tint ret=0;\r\n    \t\t\r\n    \t\tWebElement streak = fleet.findElement(By.className(&quot;starStreak&quot;));\r\n    \t\tList&lt;WebElement&gt;fleetDetails = streak.findElements(By.tagName(&quot;tr&quot;));\r\n    \t\t\r\n    \t\tfor(WebElement detail : fleetDetails)\r\n    \t\t{\r\n    \t\t\tList&lt;WebElement&gt; tabel = detail.findElements(By.tagName(&quot;td&quot;)); \r\n    \t\t\t\r\n    \t\t\tif(tabel.size() != 2)\r\n    \t\t\t\tcontinue;\r\n    \t\t\t\r\n    \t\t\tif(tabel.get(0).getText().equalsIgnoreCase(&quot;metaal:&quot;))\r\n    \t\t\t{\r\n    \t\t\t\tret = Integer.parseInt(tabel.get(1).getText());\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn ret;\r\n    \t}\r\n\r\nedit: here&#39;s the relevant bit of html\r\n\r\n    &lt;div id=&quot;fleet9965869&quot; class=&quot;fleetDetails detailsOpened&quot; data-mission-type=&quot;4&quot; data-return-flight=&quot;false&quot; data-arrival-time=&quot;1378241688&quot;&gt;\r\n            &lt;span class=&quot;timer tooltip&quot; title=&quot;03.09.2013 22:54:48&quot; id=&quot;timer_9965869&quot;&gt;58m 48s&lt;/span&gt;\r\n            &lt;span class=&quot;absTime&quot;&gt;22:54:48 Klok&lt;/span&gt;\r\n            &lt;span class=&quot;mission neutral textBeefy&quot;&gt;Plaatsen&lt;/span&gt;\r\n            &lt;span class=&quot;allianceName&quot;&gt;&lt;/span&gt;\r\n            &lt;span class=&quot;originData&quot;&gt;\r\n                &lt;span class=&quot;originCoords tooltip&quot; title=&quot;killernerd&quot;&gt;&lt;a href=&quot;http://uni107.ogame.nl/game/index.php?page=galaxy&amp;amp;galaxy=5&amp;amp;system=213&quot;&gt;[5:213:8]&lt;/a&gt;&lt;/span&gt;\r\n                &lt;span class=&quot;originPlanet&quot;&gt;\r\n                    &lt;figure class=&quot;planetIcon planet tooltip js_hideTipOnMobile&quot; title=&quot;planeet&quot;&gt;&lt;/figure&gt;k7                            &lt;/span&gt;\r\n            &lt;/span&gt;\r\n            &lt;span class=&quot;marker01&quot;&gt;&lt;/span&gt;        \r\n            &lt;span class=&quot;marker02&quot;&gt;&lt;/span&gt;\r\n            &lt;span class=&quot;fleetDetailButton&quot;&gt;\r\n                &lt;a href=&quot;#bl9965869&quot; rel=&quot;bl9965869&quot; title=&quot;Vlootdetails&quot; class=&quot;tooltipRel tooltipClose fleet_icon_forward&quot;&gt;\r\n                &lt;/a&gt;\r\n            &lt;/span&gt;\r\n                    &lt;span class=&quot;reversal reversal_time&quot; ref=&quot;9965869&quot;&gt;\r\n                    &lt;a class=&quot;icon_link tooltipHTML&quot; href=&quot;http://uni107.ogame.nl/game/index.php?page=movement&amp;amp;return=9965869&quot; title=&quot;Roep terug:| 04.09.2013&amp;lt;br&amp;gt;01:54:05&quot;&gt;\r\n                        &lt;img src=&quot;http://gf2.geo.gfsrv.net/cdna2/89624964d4b06356842188dba05b1b.gif&quot; height=&quot;16&quot; width=&quot;16&quot;&gt;\r\n                    &lt;/a&gt;\r\n                &lt;/span&gt;\r\n                &lt;span class=&quot;starStreak&quot;&gt;\r\n                &lt;div style=&quot;position: relative;&quot;&gt;\r\n                    &lt;div class=&quot;origin fixed&quot;&gt;\r\n                        &lt;img class=&quot;tooltipHTML&quot; height=&quot;30&quot; width=&quot;30&quot; src=&quot;http://gf1.geo.gfsrv.net/cdnf0/af41c52dc08208b4463f4a4608e88c.png&quot; title=&quot;&quot; alt=&quot;&quot;&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                    &lt;div class=&quot;route fixed&quot;&gt;\r\n    \r\n                        &lt;a href=&quot;#bl9965869&quot; rel=&quot;bl9965869&quot; title=&quot;Vlootdetails&quot; class=&quot;tooltipRel tooltipClose basic2 fleet_icon_forward&quot; id=&quot;route_9965869&quot; style=&quot;margin-left: 220px;&quot;&gt;&lt;/a&gt;\r\n    \r\n                        &lt;div style=&quot;display:none;&quot; id=&quot;bl9965869&quot;&gt;\r\n                            &lt;div class=&quot;htmlTooltip&quot;&gt;\r\n        &lt;h1&gt;Vlootdetails:&lt;/h1&gt;\r\n        &lt;div class=&quot;splitLine&quot;&gt;&lt;/div&gt;\r\n        &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;fleetinfo&quot;&gt;\r\n            &lt;tbody&gt;&lt;tr&gt;\r\n                &lt;th colspan=&quot;2&quot;&gt;Schepen:&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                &lt;td&gt;Groot vrachtschip:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                                960                        &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n                    &lt;tr&gt;\r\n                &lt;td colspan=&quot;2&quot;&gt;&amp;nbsp;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;th colspan=&quot;2&quot;&gt;Lading:&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Metaal:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    8.173.484            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Kristal:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    6.325.966            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;Deuterium:&lt;/td&gt;\r\n                &lt;td class=&quot;value&quot;&gt;\r\n                    7.474.821            &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;&lt;/table&gt;\r\n    &lt;/div&gt;                    &lt;/div&gt;\r\n    \r\n                    &lt;/div&gt;\r\n    \r\n                    &lt;div class=&quot;destination fixed&quot;&gt;\r\n                        &lt;img class=&quot;tooltipHTML&quot; height=&quot;30&quot; width=&quot;30&quot; src=&quot;http://gf2.geo.gfsrv.net/cdnaa/af0b356fdbecc1cfc47130e990fa66.png&quot; title=&quot;Aankomsttijd:| 03.09.2013&amp;lt;br&amp;gt;22:54:48&quot; alt=&quot;&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/span&gt;&lt;!-- Starstreak --&gt;\r\n            &lt;span class=&quot;destinationData&quot;&gt;\r\n                            &lt;span class=&quot;destinationPlanet&quot;&gt;\r\n                    &lt;span&gt;\r\n                        &lt;figure class=&quot;planetIcon planet tooltip js_hideTipOnMobile&quot; title=&quot;planeet&quot;&gt;&lt;/figure&gt;Hoelbrak                                    &lt;/span&gt;\r\n                &lt;/span&gt;\r\n                            \r\n                                &lt;span class=&quot;destinationCoords tooltip&quot; title=&quot;killernerd&quot;&gt;&lt;a href=&quot;http://uni107.ogame.nl/game/index.php?page=galaxy&amp;amp;galaxy=1&amp;amp;system=2&quot;&gt;[1:2:6]&lt;/a&gt;&lt;/span&gt;\r\n                            \r\n            &lt;/span&gt;\r\n            &lt;span class=&quot;nextTimer tooltip&quot; title=&quot;04.09.2013 03:52:31&quot; id=&quot;timerNext_9965869&quot;&gt;5u 56m 31s&lt;/span&gt;\r\n            &lt;span class=&quot;nextabsTime&quot;&gt;03:52:31 Klok&lt;/span&gt;\r\n            &lt;span class=&quot;nextMission friendly textBeefy&quot;&gt;Keer terug&lt;/span&gt;\r\n            &lt;span class=&quot;openDetails&quot;&gt;\r\n                &lt;a href=&quot;javascript:void(0);&quot; class=&quot;openCloseDetails&quot; data-mission-id=&quot;9965869&quot; data-end-time=&quot;1378241688&quot;&gt;\r\n                    &lt;img src=&quot;http://gf3.geo.gfsrv.net/cdnb6/577565fadab7780b0997a76d0dca9b.gif&quot; height=&quot;16&quot; width=&quot;16&quot;&gt;\r\n                &lt;/a&gt;\r\n            &lt;/span&gt;\r\n        &lt;/div&gt;\r\n\r\nthe values i need are the numeric values under &quot;Metaal&quot;, &quot;kristal&quot; and &quot;deuterium&quot;.","title":"accessing &lt;td&gt; value with selenium","body":"<p>Using selenium i'm trying to read out a dynamically generated table, i got down to the right elements (using the <code>findElement</code> method) but using <code>getText()</code> on them returns nothing.</p>\n\n<p>Probably because <code>getText()</code> looks for quotation marks when returning \"text\" and can't find any between the <code>&lt;td&gt;</code> tags. Some suggestions were to use xpaths but since the tables are generated dynamically the location of the value i need also changes.</p>\n\n<p>here's the table i'm trying to get 3 data points from:</p>\n\n<pre><code>&lt;table cellpadding=\"0\" cellspacing=\"0\" class=\"fleetinfo\"&gt;\n        &lt;tbody&gt;&lt;tr&gt;\n            &lt;th colspan=\"2\"&gt;Schepen:&lt;/th&gt;\n        &lt;/tr&gt;\n                &lt;tr&gt;\n            &lt;td&gt;Groot vrachtschip:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                            40                        &lt;/td&gt;\n        &lt;/tr&gt;\n                &lt;tr&gt;\n            &lt;td colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th colspan=\"2\"&gt;Lading:&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Metaal:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                536.062            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Kristal:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                289.008            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Deuterium:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                92.750            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;&lt;/table&gt;\n</code></pre>\n\n<p>the ones i'm interested in are the ones inside the <code>&lt;td class=\"value\"&gt;</code> tags but as i said before, using <code>getText()</code> on them returns null.</p>\n\n<p>Any idea on how i can acces those values?</p>\n\n<p>edit: here's how i'm doing it now</p>\n\n<pre><code>private int getMetalFromFleet(WebElement fleet)\n    {\n        int ret=0;\n\n        WebElement streak = fleet.findElement(By.className(\"starStreak\"));\n        List&lt;WebElement&gt;fleetDetails = streak.findElements(By.tagName(\"tr\"));\n\n        for(WebElement detail : fleetDetails)\n        {\n            List&lt;WebElement&gt; tabel = detail.findElements(By.tagName(\"td\")); \n\n            if(tabel.size() != 2)\n                continue;\n\n            if(tabel.get(0).getText().equalsIgnoreCase(\"metaal:\"))\n            {\n                ret = Integer.parseInt(tabel.get(1).getText());\n                break;\n            }\n        }\n\n        return ret;\n    }\n</code></pre>\n\n<p>edit: here's the relevant bit of html</p>\n\n<pre><code>&lt;div id=\"fleet9965869\" class=\"fleetDetails detailsOpened\" data-mission-type=\"4\" data-return-flight=\"false\" data-arrival-time=\"1378241688\"&gt;\n        &lt;span class=\"timer tooltip\" title=\"03.09.2013 22:54:48\" id=\"timer_9965869\"&gt;58m 48s&lt;/span&gt;\n        &lt;span class=\"absTime\"&gt;22:54:48 Klok&lt;/span&gt;\n        &lt;span class=\"mission neutral textBeefy\"&gt;Plaatsen&lt;/span&gt;\n        &lt;span class=\"allianceName\"&gt;&lt;/span&gt;\n        &lt;span class=\"originData\"&gt;\n            &lt;span class=\"originCoords tooltip\" title=\"killernerd\"&gt;&lt;a href=\"http://uni107.ogame.nl/game/index.php?page=galaxy&amp;amp;galaxy=5&amp;amp;system=213\"&gt;[5:213:8]&lt;/a&gt;&lt;/span&gt;\n            &lt;span class=\"originPlanet\"&gt;\n                &lt;figure class=\"planetIcon planet tooltip js_hideTipOnMobile\" title=\"planeet\"&gt;&lt;/figure&gt;k7                            &lt;/span&gt;\n        &lt;/span&gt;\n        &lt;span class=\"marker01\"&gt;&lt;/span&gt;        \n        &lt;span class=\"marker02\"&gt;&lt;/span&gt;\n        &lt;span class=\"fleetDetailButton\"&gt;\n            &lt;a href=\"#bl9965869\" rel=\"bl9965869\" title=\"Vlootdetails\" class=\"tooltipRel tooltipClose fleet_icon_forward\"&gt;\n            &lt;/a&gt;\n        &lt;/span&gt;\n                &lt;span class=\"reversal reversal_time\" ref=\"9965869\"&gt;\n                &lt;a class=\"icon_link tooltipHTML\" href=\"http://uni107.ogame.nl/game/index.php?page=movement&amp;amp;return=9965869\" title=\"Roep terug:| 04.09.2013&amp;lt;br&amp;gt;01:54:05\"&gt;\n                    &lt;img src=\"http://gf2.geo.gfsrv.net/cdna2/89624964d4b06356842188dba05b1b.gif\" height=\"16\" width=\"16\"&gt;\n                &lt;/a&gt;\n            &lt;/span&gt;\n            &lt;span class=\"starStreak\"&gt;\n            &lt;div style=\"position: relative;\"&gt;\n                &lt;div class=\"origin fixed\"&gt;\n                    &lt;img class=\"tooltipHTML\" height=\"30\" width=\"30\" src=\"http://gf1.geo.gfsrv.net/cdnf0/af41c52dc08208b4463f4a4608e88c.png\" title=\"\" alt=\"\"&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"route fixed\"&gt;\n\n                    &lt;a href=\"#bl9965869\" rel=\"bl9965869\" title=\"Vlootdetails\" class=\"tooltipRel tooltipClose basic2 fleet_icon_forward\" id=\"route_9965869\" style=\"margin-left: 220px;\"&gt;&lt;/a&gt;\n\n                    &lt;div style=\"display:none;\" id=\"bl9965869\"&gt;\n                        &lt;div class=\"htmlTooltip\"&gt;\n    &lt;h1&gt;Vlootdetails:&lt;/h1&gt;\n    &lt;div class=\"splitLine\"&gt;&lt;/div&gt;\n    &lt;table cellpadding=\"0\" cellspacing=\"0\" class=\"fleetinfo\"&gt;\n        &lt;tbody&gt;&lt;tr&gt;\n            &lt;th colspan=\"2\"&gt;Schepen:&lt;/th&gt;\n        &lt;/tr&gt;\n                &lt;tr&gt;\n            &lt;td&gt;Groot vrachtschip:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                            960                        &lt;/td&gt;\n        &lt;/tr&gt;\n                &lt;tr&gt;\n            &lt;td colspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;th colspan=\"2\"&gt;Lading:&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Metaal:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                8.173.484            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Kristal:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                6.325.966            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Deuterium:&lt;/td&gt;\n            &lt;td class=\"value\"&gt;\n                7.474.821            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;&lt;/table&gt;\n&lt;/div&gt;                    &lt;/div&gt;\n\n                &lt;/div&gt;\n\n                &lt;div class=\"destination fixed\"&gt;\n                    &lt;img class=\"tooltipHTML\" height=\"30\" width=\"30\" src=\"http://gf2.geo.gfsrv.net/cdnaa/af0b356fdbecc1cfc47130e990fa66.png\" title=\"Aankomsttijd:| 03.09.2013&amp;lt;br&amp;gt;22:54:48\" alt=\"\"&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/span&gt;&lt;!-- Starstreak --&gt;\n        &lt;span class=\"destinationData\"&gt;\n                        &lt;span class=\"destinationPlanet\"&gt;\n                &lt;span&gt;\n                    &lt;figure class=\"planetIcon planet tooltip js_hideTipOnMobile\" title=\"planeet\"&gt;&lt;/figure&gt;Hoelbrak                                    &lt;/span&gt;\n            &lt;/span&gt;\n\n                            &lt;span class=\"destinationCoords tooltip\" title=\"killernerd\"&gt;&lt;a href=\"http://uni107.ogame.nl/game/index.php?page=galaxy&amp;amp;galaxy=1&amp;amp;system=2\"&gt;[1:2:6]&lt;/a&gt;&lt;/span&gt;\n\n        &lt;/span&gt;\n        &lt;span class=\"nextTimer tooltip\" title=\"04.09.2013 03:52:31\" id=\"timerNext_9965869\"&gt;5u 56m 31s&lt;/span&gt;\n        &lt;span class=\"nextabsTime\"&gt;03:52:31 Klok&lt;/span&gt;\n        &lt;span class=\"nextMission friendly textBeefy\"&gt;Keer terug&lt;/span&gt;\n        &lt;span class=\"openDetails\"&gt;\n            &lt;a href=\"javascript:void(0);\" class=\"openCloseDetails\" data-mission-id=\"9965869\" data-end-time=\"1378241688\"&gt;\n                &lt;img src=\"http://gf3.geo.gfsrv.net/cdnb6/577565fadab7780b0997a76d0dca9b.gif\" height=\"16\" width=\"16\"&gt;\n            &lt;/a&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>the values i need are the numeric values under \"Metaal\", \"kristal\" and \"deuterium\".</p>\n"},{"tags":["java","oop","interface","annotations"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":1,"creation_date":1343316254,"post_id":212614,"comment_id":15472008,"body_markdown":"I can&#39;t find the replacement for the @Override article (Oracle moved the old Sun blogs recently).  Do you know how to find it?","body":"I can&#39;t find the replacement for the @Override article (Oracle moved the old Sun blogs recently).  Do you know how to find it?"},{"owner":{"account_id":1093219,"reputation":5625,"user_id":1087370,"accept_rate":56,"display_name":"Alex"},"score":4,"creation_date":1424336317,"post_id":212614,"comment_id":45509541,"body_markdown":"We should have an @Implement(s) annotation by now (2015). That will make things clear!","body":"We should have an @Implement(s) annotation by now (2015). That will make things clear!"},{"owner":{"account_id":892064,"reputation":1665,"user_id":930122,"accept_rate":95,"display_name":"Lorenzo Sciuto"},"score":3,"creation_date":1434379035,"post_id":212614,"comment_id":49739493,"body_markdown":"by now (2015) should we use @Override with java 8?","body":"by now (2015) should we use @Override with java 8?"}],"answers":[{"comments":[{"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"score":152,"creation_date":1224668390,"post_id":212624,"comment_id":92398,"body_markdown":"Note that you **cannot** add the @Override annotation to a method implementing an interface in Java 5 - it generates an error. It is allowed in Java 6.","body":"Note that you <b>cannot</b> add the @Override annotation to a method implementing an interface in Java 5 - it generates an error. It is allowed in Java 6."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":18,"creation_date":1263576372,"post_id":212624,"comment_id":2003443,"body_markdown":"Um, no, it doesn&#39;t.  In fact, Eclipse auto-inserts @Override when filling in methods that implement an interface.","body":"Um, no, it doesn&#39;t.  In fact, Eclipse auto-inserts @Override when filling in methods that implement an interface."},{"owner":{"account_id":2908,"reputation":125963,"user_id":4120,"accept_rate":80,"display_name":"Grundlefleck"},"score":14,"creation_date":1263576776,"post_id":212624,"comment_id":2003490,"body_markdown":"-1 until the answer includes a mention about the different behaviour from Java 1.5 to 1.6 with regards to implementing an interface method. Just because I&#39;ve seen it be a confusing aspect for people and it really merits a mention.","body":"-1 until the answer includes a mention about the different behaviour from Java 1.5 to 1.6 with regards to implementing an interface method. Just because I&#39;ve seen it be a confusing aspect for people and it really merits a mention."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1263576907,"post_id":212624,"comment_id":2003507,"body_markdown":"Fixed...I guess I figure everyone uses the latest version of Java.  My bad.","body":"Fixed...I guess I figure everyone uses the latest version of Java.  My bad."},{"owner":{"account_id":1593295,"reputation":804,"user_id":1476154,"accept_rate":100,"display_name":"grinch"},"score":1,"creation_date":1349668648,"post_id":212624,"comment_id":17267138,"body_markdown":"+1 for the after 1.5 bit. Took me like 20 minutes to figure out why eclipse was giving me errors and with this I realized my new project was using java 1.5","body":"+1 for the after 1.5 bit. Took me like 20 minutes to figure out why eclipse was giving me errors and with this I realized my new project was using java 1.5"},{"owner":{"account_id":213485,"reputation":2822,"user_id":466884,"accept_rate":62,"display_name":"Rose"},"score":2,"creation_date":1352920722,"post_id":212624,"comment_id":18281713,"body_markdown":"If eclipse is complaining then upgrade ur jdk to &gt; 1.5 and change the compiler compliance level to 1.6 or 1.7. To do that right click on ur project-&gt; properties-&gt; Java compiler and select one that is higher than 1.5.","body":"If eclipse is complaining then upgrade ur jdk to &gt; 1.5 and change the compiler compliance level to 1.6 or 1.7. To do that right click on ur project-&gt; properties-&gt; Java compiler and select one that is higher than 1.5."},{"owner":{"account_id":889447,"reputation":1823,"user_id":928038,"display_name":"Joe Lee-Moyet"},"score":1,"creation_date":1401210799,"post_id":212624,"comment_id":36790048,"body_markdown":"Can anyone think of an example that actually justifies the answer (implementing interfaces rather than overriding base methods)?  A big plus for me is that it aids sets a readers expectations of how and by what a particular method might be used.","body":"Can anyone think of an example that actually justifies the answer (implementing interfaces rather than overriding base methods)?  A big plus for me is that it aids sets a readers expectations of how and by what a particular method might be used."},{"owner":{"account_id":1675111,"reputation":786,"user_id":1540840,"accept_rate":55,"display_name":"Luca Marzi"},"score":0,"creation_date":1434026356,"post_id":212624,"comment_id":49612041,"body_markdown":"Eclipse does not allow the @Override notation for methods that are not inherited by a superclass.","body":"Eclipse does not allow the @Override notation for methods that are not inherited by a superclass."},{"owner":{"account_id":558626,"reputation":1783,"user_id":921075,"accept_rate":87,"display_name":"dtc"},"score":1,"creation_date":1462834775,"post_id":212624,"comment_id":61794146,"body_markdown":"this rule makes no sense to me. unless im wrong, interfaces tell us what functions are needed, not what&#39;s fully defined. essentially, there&#39;s nothing to override cuz it hasn&#39;t happened yet. i would personally only want to put it for superclass methods. not only that, all public methods now have @Override if you follow java&#39;s testing practice recommendations for creating an interface all the time","body":"this rule makes no sense to me. unless im wrong, interfaces tell us what functions are needed, not what&#39;s fully defined. essentially, there&#39;s nothing to override cuz it hasn&#39;t happened yet. i would personally only want to put it for superclass methods. not only that, all public methods now have @Override if you follow java&#39;s testing practice recommendations for creating an interface all the time"},{"owner":{"account_id":2199682,"reputation":569,"user_id":1944408,"accept_rate":67,"display_name":"user1944408"},"score":0,"creation_date":1468859808,"post_id":212624,"comment_id":64289296,"body_markdown":"This is not an answer to the question. Object is not an interface.","body":"This is not an answer to the question. Object is not an interface."},{"owner":{"account_id":3093339,"reputation":9944,"user_id":2619038,"accept_rate":100,"display_name":"NoName"},"score":0,"creation_date":1498315100,"post_id":212624,"comment_id":76456556,"body_markdown":"Although encouraged, annotations are completely optional. It&#39;s metadata!","body":"Although encouraged, annotations are completely optional. It&#39;s metadata!"},{"owner":{"account_id":914356,"reputation":1301,"user_id":947497,"display_name":"Jean-Fran&#231;ois Beauchef"},"score":1,"creation_date":1589480045,"post_id":212624,"comment_id":109318902,"body_markdown":"@NoName If you put an &quot;Override&quot; annotation on something that is not overriden, it will not build. That&#39;s what this answer is saying. This way, you are making sure that you are really overriding a method, and not creating a new one if you mispelled the method name or something.","body":"@NoName If you put an &quot;Override&quot; annotation on something that is not overriden, it will not build. That&#39;s what this answer is saying. This way, you are making sure that you are really overriding a method, and not creating a new one if you mispelled the method name or something."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":12,"down_vote_count":5,"up_vote_count":346,"is_accepted":true,"score":341,"last_activity_date":1674674471,"creation_date":1224256891,"answer_id":212624,"question_id":212614,"body_markdown":"You should use `@Override` whenever possible.  It prevents simple mistakes from being made.  Example:\r\n\r\n    class C {\r\n        @Override\r\n        public boolean equals(SomeClass obj){\r\n            // code ...\r\n        }\r\n    }\r\n\r\nThis doesn&#39;t compile because it doesn&#39;t properly override [`public boolean equals(Object obj)`][1].\r\n\r\nThe same will go for methods that implement an interface (**1.6 and above only**) or override a Super class&#39;s method.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>You should use <code>@Override</code> whenever possible.  It prevents simple mistakes from being made.  Example:</p>\n<pre><code>class C {\n    @Override\n    public boolean equals(SomeClass obj){\n        // code ...\n    }\n}\n</code></pre>\n<p>This doesn't compile because it doesn't properly override <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>public boolean equals(Object obj)</code></a>.</p>\n<p>The same will go for methods that implement an interface (<strong>1.6 and above only</strong>) or override a Super class's method.</p>\n"},{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1224257255,"creation_date":1224257255,"answer_id":212640,"question_id":212614,"body_markdown":"I would use it at every opportunity.   See [When do you use Java&#39;s @Override annotation and why?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>I would use it at every opportunity.   See <a href=\"https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why\">When do you use Java's @Override annotation and why?</a></p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":118,"is_accepted":false,"score":118,"last_activity_date":1224257283,"creation_date":1224257283,"answer_id":212642,"question_id":212614,"body_markdown":"I believe that javac behaviour has changed - with 1.5 it prohibited the annotation, with 1.6 it doesn&#39;t. The annotation provides an extra compile-time check, so if you&#39;re using 1.6 I&#39;d go for it.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>I believe that javac behaviour has changed - with 1.5 it prohibited the annotation, with 1.6 it doesn't. The annotation provides an extra compile-time check, so if you're using 1.6 I'd go for it.</p>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1224278196,"creation_date":1224278196,"answer_id":213888,"question_id":212614,"body_markdown":"Overriding your own methods inherited from your own classes will typically not break on refactorings using an ide. But if you override a method inherited from a library it is recommended to use it. If you dont, you will often get no error on a later library change, but a well hidden bug.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>Overriding your own methods inherited from your own classes will typically not break on refactorings using an ide. But if you override a method inherited from a library it is recommended to use it. If you dont, you will often get no error on a later library change, but a well hidden bug.</p>\n"},{"tags":[],"owner":{"account_id":12929,"reputation":1443,"user_id":25720,"display_name":"savetheclocktower"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1224278372,"creation_date":1224278372,"answer_id":213896,"question_id":212614,"body_markdown":"Eclipse itself will add the `@Override` annotation when you tell it to &quot;generate unimplemented methods&quot; during creation of a class that implements an interface.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>Eclipse itself will add the <code>@Override</code> annotation when you tell it to \"generate unimplemented methods\" during creation of a class that implements an interface.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1233190324,"creation_date":1233190324,"answer_id":490087,"question_id":212614,"body_markdown":"For me, often times this is the only reason some code requires Java 6 to compile. Not sure if it&#39;s worth it.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>For me, often times this is the only reason some code requires Java 6 to compile. Not sure if it's worth it.</p>\n"},{"tags":[],"owner":{"account_id":31785,"reputation":5109,"user_id":87582,"accept_rate":92,"display_name":"Silent Warrior"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1451917047,"creation_date":1244462491,"answer_id":964567,"question_id":212614,"body_markdown":"JDK 5.0 does not allow you to use `@Override` annotation if you are implementing method declared in interface (its compilation error), but JDK 6.0 allows it. So may be you can configure your project preference according to your requirement. ","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>JDK 5.0 does not allow you to use <code>@Override</code> annotation if you are implementing method declared in interface (its compilation error), but JDK 6.0 allows it. So may be you can configure your project preference according to your requirement. </p>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386915967,"creation_date":1291355418,"answer_id":4342846,"question_id":212614,"body_markdown":"It&#39;s not a problem with JDK. In Eclipse Helios, it allows the @Override annotation for implemented interface methods, whichever JDK 5 or 6. As for Eclipse Galileo, the @Override annotation is not allowed, whichever JDK 5 or 6.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>It's not a problem with JDK. In Eclipse Helios, it allows the @Override annotation for implemented interface methods, whichever JDK 5 or 6. As for Eclipse Galileo, the @Override annotation is not allowed, whichever JDK 5 or 6.</p>\n"},{"tags":[],"owner":{"account_id":10014,"reputation":3837,"user_id":18744,"accept_rate":94,"display_name":"GKelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1510130293,"creation_date":1322212212,"answer_id":8266820,"question_id":212614,"body_markdown":"You should always annotate methods with `@Override` if it&#39;s available. \r\n\r\nIn JDK 5 this means overriding methods of superclasses, in JDK 6, and 7 it means overriding methods of superclasses, and implementing methods of interfaces. The reason, as mentioned previously, is it allows the compiler to catch errors where you think you are overriding (or implementing) a method, but are actually defining a new method (different signature). \r\n\r\nThe `equals(Object)` vs. `equals(YourObject)` example is a standard case in point, but the same argument can be made for interface implementations.\r\n\r\nI&#39;d imagine the reason it&#39;s not mandatory to annotate implementing methods of interfaces is that JDK 5 flagged this as a compile error. If JDK 6 made this annotation mandatory, it would break backwards compatibility. \r\n\r\nI am not an Eclipse user, but in other IDEs (IntelliJ), the `@Override` annotation is only added when implementing interface methods if the project is set as a JDK 6+ project. I would imagine that Eclipse is similar.\r\n\r\nHowever, I would have preferred to see a different annotation for this usage, maybe an `@Implements` annotation.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>You should always annotate methods with <code>@Override</code> if it's available. </p>\n\n<p>In JDK 5 this means overriding methods of superclasses, in JDK 6, and 7 it means overriding methods of superclasses, and implementing methods of interfaces. The reason, as mentioned previously, is it allows the compiler to catch errors where you think you are overriding (or implementing) a method, but are actually defining a new method (different signature). </p>\n\n<p>The <code>equals(Object)</code> vs. <code>equals(YourObject)</code> example is a standard case in point, but the same argument can be made for interface implementations.</p>\n\n<p>I'd imagine the reason it's not mandatory to annotate implementing methods of interfaces is that JDK 5 flagged this as a compile error. If JDK 6 made this annotation mandatory, it would break backwards compatibility. </p>\n\n<p>I am not an Eclipse user, but in other IDEs (IntelliJ), the <code>@Override</code> annotation is only added when implementing interface methods if the project is set as a JDK 6+ project. I would imagine that Eclipse is similar.</p>\n\n<p>However, I would have preferred to see a different annotation for this usage, maybe an <code>@Implements</code> annotation.</p>\n"},{"comments":[{"owner":{"account_id":32763,"reputation":1887,"user_id":91165,"display_name":"lilbyrdie"},"score":5,"creation_date":1401808778,"post_id":22517730,"comment_id":37021863,"body_markdown":"Calling a super, when not implementing an interface, is not something you always need to or want to do. Sometimes, you&#39;re adding functionality -- so you call it. Other times, you&#39;re replacing functionality, so you don&#39;t call it. An API author should document whether it relies on internal functionality or not and create a documented contract on how the class can be properly extended.","body":"Calling a super, when not implementing an interface, is not something you always need to or want to do. Sometimes, you&#39;re adding functionality -- so you call it. Other times, you&#39;re replacing functionality, so you don&#39;t call it. An API author should document whether it relies on internal functionality or not and create a documented contract on how the class can be properly extended."}],"tags":[],"owner":{"account_id":4198847,"reputation":147,"user_id":4339042,"display_name":"spujia"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451916954,"creation_date":1395262058,"answer_id":22517730,"question_id":212614,"body_markdown":"The problem with including the `@Override` is that it makes you think that you forgot to call the `super.theOverridenMethod()` method, which is *very confusing*.  This should be crystal-clear.  Perhaps Java should offer an `@Interface` to be used here.  Oh well, yet another half-assed Java peculiarity...","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>The problem with including the <code>@Override</code> is that it makes you think that you forgot to call the <code>super.theOverridenMethod()</code> method, which is <em>very confusing</em>.  This should be crystal-clear.  Perhaps Java should offer an <code>@Interface</code> to be used here.  Oh well, yet another half-assed Java peculiarity...</p>\n"},{"tags":[],"owner":{"account_id":245682,"reputation":490,"user_id":2019874,"accept_rate":89,"display_name":"juanchito"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450486137,"creation_date":1450486137,"answer_id":34366091,"question_id":212614,"body_markdown":"If a **concrete** class is not **overriding** an abstract method, using `@Override` for **implementation** is an open matter since the compiler will invariably warn you of any unimplemented methods. In these cases, an argument can be made that it detracts from readability -- it is more things to read on your code and, to a lesser degree, it is called `@Override` and not `@Implement`.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>If a <strong>concrete</strong> class is not <strong>overriding</strong> an abstract method, using <code>@Override</code> for <strong>implementation</strong> is an open matter since the compiler will invariably warn you of any unimplemented methods. In these cases, an argument can be made that it detracts from readability -- it is more things to read on your code and, to a lesser degree, it is called <code>@Override</code> and not <code>@Implement</code>.</p>\n"},{"comments":[{"owner":{"account_id":5574624,"reputation":985,"user_id":5270632,"accept_rate":38,"display_name":"cnexans"},"score":1,"creation_date":1598505973,"post_id":39740106,"comment_id":112481834,"body_markdown":"I agree, no other answer really justify why @override should used for an interface implementation. The only reason I&#39;d say it could be useful is if you&#39;d change a class to an abstract class, that reasonably speaking, should not happen.","body":"I agree, no other answer really justify why @override should used for an interface implementation. The only reason I&#39;d say it could be useful is if you&#39;d change a class to an abstract class, that reasonably speaking, should not happen."}],"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1475045851,"creation_date":1475045851,"answer_id":39740106,"question_id":212614,"body_markdown":"In java 6 and later versions, you can use `@Override` for a method implementing an interface. \r\n\r\nBut, I donot think it make sense: override means you hava a method in the super class, and you are implementing it in the sub class. \r\n\r\nIf you are implementing an interface, I think we should use `@Implement` or something else, but not the `@Override`. ","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>In java 6 and later versions, you can use <code>@Override</code> for a method implementing an interface. </p>\n\n<p>But, I donot think it make sense: override means you hava a method in the super class, and you are implementing it in the sub class. </p>\n\n<p>If you are implementing an interface, I think we should use <code>@Implement</code> or something else, but not the <code>@Override</code>. </p>\n"},{"tags":[],"owner":{"account_id":10313292,"reputation":71,"user_id":7608372,"display_name":"Zhao Pengfei"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1520562364,"creation_date":1520562364,"answer_id":49185682,"question_id":212614,"body_markdown":"By reading the javadoc in java8, you can find the following at the declaration of interface Override:\r\n\r\nIf a method is annotated with this annotation type compilers are required to generate an error message unless at least one of the following conditions hold:\r\n\r\n - The method does override or implement a method declared in a supertype.\r\n - The method has a signature that is override-equivalent to that of any public method declared in {@linkplain Object}.\r\n\r\nSo, at least in java8, you should use @Override on an implementation of an interface method.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>By reading the javadoc in java8, you can find the following at the declaration of interface Override:</p>\n\n<p>If a method is annotated with this annotation type compilers are required to generate an error message unless at least one of the following conditions hold:</p>\n\n<ul>\n<li>The method does override or implement a method declared in a supertype.</li>\n<li>The method has a signature that is override-equivalent to that of any public method declared in {@linkplain Object}.</li>\n</ul>\n\n<p>So, at least in java8, you should use @Override on an implementation of an interface method.</p>\n"},{"comments":[{"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"score":0,"creation_date":1647829970,"post_id":54490813,"comment_id":126461913,"body_markdown":"It is more than redundant. In STS4, when a class method implementing interface method was decorated with @Override, compiler error message says &quot;...must override a superclass method&quot;.","body":"It is more than redundant. In STS4, when a class method implementing interface method was decorated with @Override, compiler error message says &quot;...must override a superclass method&quot;."}],"tags":[],"owner":{"account_id":2249164,"reputation":119,"user_id":1981792,"display_name":"Madhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549092414,"creation_date":1549090807,"answer_id":54490813,"question_id":212614,"body_markdown":"If the class that is implementing the `interface` is an `abstract` class, `@Override` is useful to ensure that the implementation is for an `interface` method; without the  `@Override` an `abstract` class would just compile fine even if the implementation method signature does not match the method declared in the `interface`; the mismatched `interface` method would remain as unimplemented.\r\nThe Java doc cited by @Zhao\r\n\r\n&gt; The method does override or implement a method declared in a supertype\r\n\r\nis clearly referring to an `abstract` super class; an `interface` can not be called the supertype.\r\nSo, `@Override` is redundant and not sensible for `interface` method implementations in concrete classes.","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>If the class that is implementing the <code>interface</code> is an <code>abstract</code> class, <code>@Override</code> is useful to ensure that the implementation is for an <code>interface</code> method; without the  <code>@Override</code> an <code>abstract</code> class would just compile fine even if the implementation method signature does not match the method declared in the <code>interface</code>; the mismatched <code>interface</code> method would remain as unimplemented.\nThe Java doc cited by @Zhao</p>\n\n<blockquote>\n  <p>The method does override or implement a method declared in a supertype</p>\n</blockquote>\n\n<p>is clearly referring to an <code>abstract</code> super class; an <code>interface</code> can not be called the supertype.\nSo, <code>@Override</code> is redundant and not sensible for <code>interface</code> method implementations in concrete classes.</p>\n"},{"comments":[{"owner":{"account_id":2088051,"reputation":189,"user_id":1858489,"display_name":"Rui Zheng"},"score":0,"creation_date":1657309924,"post_id":70855508,"comment_id":128788512,"body_markdown":"Isn&#39;t it a very bad design to use `inheritance` to model the relationship between food and restaurant at first place? There is another way called `composition`. We shall never rely on the mighty power of a language to overcome the challenge brought by impotent design","body":"Isn&#39;t it a very bad design to use <code>inheritance</code> to model the relationship between food and restaurant at first place? There is another way called <code>composition</code>. We shall never rely on the mighty power of a language to overcome the challenge brought by impotent design"},{"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"score":0,"creation_date":1657322150,"post_id":70855508,"comment_id":128791065,"body_markdown":"@RuiZheng - Doesn&#39;t matter the design as the OP asked about override - `Should we @Override an interface&#39;s method implementation?`. I just wanted to describe why `@Override` is important. Of course, you are right, `food` can have from a `restaurant` or from `home` or from anywhere!. In my example, the tight coupling between food &amp; restaurant is wrong. Thank you for noticing it (but I already thought about this scenario, didn&#39;t want to confuse describing those here)","body":"@RuiZheng - Doesn&#39;t matter the design as the OP asked about override - <code>Should we @Override an interface&#39;s method implementation?</code>. I just wanted to describe why <code>@Override</code> is important. Of course, you are right, <code>food</code> can have from a <code>restaurant</code> or from <code>home</code> or from anywhere!. In my example, the tight coupling between food &amp; restaurant is wrong. Thank you for noticing it (but I already thought about this scenario, didn&#39;t want to confuse describing those here)"}],"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643143906,"creation_date":1643143906,"answer_id":70855508,"question_id":212614,"body_markdown":"This might be too late answer. But I hope this example would help someone to understand why `@override` is so important (for a scenario like this)\r\n\r\n\r\n    public interface Restaurant(){\r\n    \tpublic boolean getBill();\r\n    \tpublic BigDecimal payAmount();\r\n    }\r\n    \r\n    public interface Food() extends Restaurant{\r\n    \tpublic boolean haveSomeFood();\r\n    \tpublic boolean drinkWater();\r\n    }\r\n    \r\n    public class Hungry() implements Food{\r\n    \tpublic boolean haveSomeFood(){}\r\n    \tpublic boolean drinkWater(){}\r\n    \tpublic boolean getBill(){}\r\n    \tpublic BigDecimal payAmount(){}\r\n    }\r\n\r\nIn the above example, If I am `Hungry`, I can have `Food` from a `Restaurant`. But if I took out the implementation of Restaurant, I do not have to get a bill and no need to pay the amount!!!!\r\n\r\n**How?**&lt;br&gt;\r\n\r\n - The interface `Food` has the keyword `extends Restaurant` - which\r\n   means the class Hungry is also implemented from the interface\r\n   Restaurant. \r\n - The methods actually overriden from the interface *does\r\n   not* have the keyword `@override` \r\n - So, if I remove the keyword extends\r\n   Restaurant (or say if I remove the interface Restaurant, it will not\r\n   show any error.\r\n\r\nIf there was `@override`, whenever I am trying to remove the Restaurant interface it will show compilation error.\r\n\r\n**Note**: When you implement an interface, you might not know whether that interface is extended to another interface or can be extended or the inheritance may be removed. So it is always better to use `@override` keyword","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>This might be too late answer. But I hope this example would help someone to understand why <code>@override</code> is so important (for a scenario like this)</p>\n<pre><code>public interface Restaurant(){\n    public boolean getBill();\n    public BigDecimal payAmount();\n}\n\npublic interface Food() extends Restaurant{\n    public boolean haveSomeFood();\n    public boolean drinkWater();\n}\n\npublic class Hungry() implements Food{\n    public boolean haveSomeFood(){}\n    public boolean drinkWater(){}\n    public boolean getBill(){}\n    public BigDecimal payAmount(){}\n}\n</code></pre>\n<p>In the above example, If I am <code>Hungry</code>, I can have <code>Food</code> from a <code>Restaurant</code>. But if I took out the implementation of Restaurant, I do not have to get a bill and no need to pay the amount!!!!</p>\n<p><strong>How?</strong><br></p>\n<ul>\n<li>The interface <code>Food</code> has the keyword <code>extends Restaurant</code> - which\nmeans the class Hungry is also implemented from the interface\nRestaurant.</li>\n<li>The methods actually overriden from the interface <em>does\nnot</em> have the keyword <code>@override</code></li>\n<li>So, if I remove the keyword extends\nRestaurant (or say if I remove the interface Restaurant, it will not\nshow any error.</li>\n</ul>\n<p>If there was <code>@override</code>, whenever I am trying to remove the Restaurant interface it will show compilation error.</p>\n<p><strong>Note</strong>: When you implement an interface, you might not know whether that interface is extended to another interface or can be extended or the inheritance may be removed. So it is always better to use <code>@override</code> keyword</p>\n"}],"owner":{"account_id":2553,"reputation":15453,"user_id":3565,"accept_rate":70,"display_name":"Benno Richters"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229359,"favorite_count":0,"down_vote_count":0,"up_vote_count":488,"accepted_answer_id":212624,"answer_count":15,"score":488,"last_activity_date":1674674471,"creation_date":1224256681,"question_id":212614,"body_markdown":"\r\nShould a method that implements an interface method be annotated with `@Override`?\r\n\r\n\r\nThe [javadoc of the `Override` annotation][1] says: \r\n\r\n&gt; Indicates that a method declaration is intended to override a method declaration in a superclass. If a method is annotated with this annotation type but does not override a superclass method, compilers are required to generate an error message.\r\n\r\nI don&#39;t think that an interface is technically a superclass. Or is it?\r\n\r\n&lt;kbd&gt;[Question Elaboration][2]&lt;/kbd&gt;\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Override.html\r\n  [2]: https://stackoverflow.com/revisions/212614/5","title":"Should we @Override an interface&#39;s method implementation?","body":"<p>Should a method that implements an interface method be annotated with <code>@Override</code>?</p>\n\n<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Override.html\" rel=\"noreferrer\">javadoc of the <code>Override</code> annotation</a> says: </p>\n\n<blockquote>\n  <p>Indicates that a method declaration is intended to override a method declaration in a superclass. If a method is annotated with this annotation type but does not override a superclass method, compilers are required to generate an error message.</p>\n</blockquote>\n\n<p>I don't think that an interface is technically a superclass. Or is it?</p>\n\n<p><kbd><a href=\"https://stackoverflow.com/revisions/212614/5\">Question Elaboration</a></kbd></p>\n"},{"tags":["java","spring","weblogic12c"],"owner":{"account_id":23897357,"reputation":61,"user_id":17896099,"display_name":"H-Bar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674674460,"creation_date":1674674460,"question_id":75238861,"body_markdown":"I am trying to run Weblogic server on IntelliJ in debug mode. But I get the following exception\r\n\r\n&gt; Method threw &#39;java.lang.NullPointerException&#39; exception. Cannot evaluate weblogic.management.configuration.DomainMBeanImpl.toString()\r\n\r\nI tried deleting all the deployments through IntelliJ and config.xml file, still I get this issue.\r\nHowever Weblogic is able to run fine when not in Debug mode.\r\n\r\n\r\nPlease feel free to reach out for any further clarifications.","title":"Running Weblogic Server in Debug mode on IntelliJ in Windows 10","body":"<p>I am trying to run Weblogic server on IntelliJ in debug mode. But I get the following exception</p>\n<blockquote>\n<p>Method threw 'java.lang.NullPointerException' exception. Cannot evaluate weblogic.management.configuration.DomainMBeanImpl.toString()</p>\n</blockquote>\n<p>I tried deleting all the deployments through IntelliJ and config.xml file, still I get this issue.\nHowever Weblogic is able to run fine when not in Debug mode.</p>\n<p>Please feel free to reach out for any further clarifications.</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1674675756,"post_id":75238475,"comment_id":132767731,"body_markdown":"`Test.holder` is not immutable. `Holder` instances are immutable, but `Test.holder` is not a `Holder` instance. It is a mutable _variable_ that either can be `null`, or can contain a reference to an immutable `Holder` instance. If, as the comment says, `Holder` is immutable,  that means you cannot change the fields (member variables) of any `Holder` instance; but you _can_ change `Test.holder` to refer to a different `Holder` instance at any time.","body":"<code>Test.holder</code> is not immutable. <code>Holder</code> instances are immutable, but <code>Test.holder</code> is not a <code>Holder</code> instance. It is a mutable <i>variable</i> that either can be <code>null</code>, or can contain a reference to an immutable <code>Holder</code> instance. If, as the comment says, <code>Holder</code> is immutable,  that means you cannot change the fields (member variables) of any <code>Holder</code> instance; but you <i>can</i> change <code>Test.holder</code> to refer to a different <code>Holder</code> instance at any time."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1674767167,"post_id":75238475,"comment_id":132789449,"body_markdown":"No.  The write to `holder` is an ordinary, non-volatile write, and any read of the field is an ordinary, non-volatile read.  Therefore there is no _happens-before_ between the write in one thread and the read in another.","body":"No.  The write to <code>holder</code> is an ordinary, non-volatile write, and any read of the field is an ordinary, non-volatile read.  Therefore there is no <i>happens-before</i> between the write in one thread and the read in another."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":3,"creation_date":1674767260,"post_id":75238475,"comment_id":132789477,"body_markdown":"I think you are confused because there&#39;s a variant of this -- the initialize-on-demand-holder-idiom -- where `holder` is final and the value is computed in a field initializer (or static initializer.)  In this case, the final field safety guarantees ensure that actions performed as part of class initialization are visible through static final fields of the class.  But those are not in play for an ordinary write when `holder` is not final.","body":"I think you are confused because there&#39;s a variant of this -- the initialize-on-demand-holder-idiom -- where <code>holder</code> is final and the value is computed in a field initializer (or static initializer.)  In this case, the final field safety guarantees ensure that actions performed as part of class initialization are visible through static final fields of the class.  But those are not in play for an ordinary write when <code>holder</code> is not final."}],"answers":[{"comments":[{"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"score":0,"creation_date":1674674486,"post_id":75238625,"comment_id":132767356,"body_markdown":"I thought this as well, but the text explicitly mentions safe publication mechanisms (such as volatile) must be used for _effectively mutable objects_ (those that are not technically immutable, but whose state will not be modified after publication).  In contrast, it mentions _immutable objects_ as not having this requirement.","body":"I thought this as well, but the text explicitly mentions safe publication mechanisms (such as volatile) must be used for <i>effectively mutable objects</i> (those that are not technically immutable, but whose state will not be modified after publication).  In contrast, it mentions <i>immutable objects</i> as not having this requirement."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1674674919,"post_id":75238625,"comment_id":132767484,"body_markdown":"I believe the relevant distinction is about _visibility_: you can safely publish an object without it being immediately visible.","body":"I believe the relevant distinction is about <i>visibility</i>: you can safely publish an object without it being immediately visible."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675180266,"post_id":75238625,"comment_id":132870858,"body_markdown":"The point is, there is no guaranty whether the new reference will be seen by another thread, but *if* another thread happens to see the new reference, it will see the immutable (having only final fields) object in a consistent state whereas mutable or only effectively immutable objects may be seen in an inconsistent state.","body":"The point is, there is no guaranty whether the new reference will be seen by another thread, but <i>if</i> another thread happens to see the new reference, it will see the immutable (having only final fields) object in a consistent state whereas mutable or only effectively immutable objects may be seen in an inconsistent state."}],"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674672982,"creation_date":1674672982,"answer_id":75238625,"question_id":75238475,"body_markdown":"The modification made to the reference variable `Test.holder` is not guaranteed to be seen by other threads immediately. To ensure this, you have to declare it as `volatile`. Then, writes to `Test.holder` become visible immediately.\r\n\r\nWhat is meant in the text is that if you initialized the `Test.holder` with a `new Holder(42)` instead of `null` and never changed it, then all threads would see that `Holder(42)` object.","title":"Publishing immutable object references in Java","body":"<p>The modification made to the reference variable <code>Test.holder</code> is not guaranteed to be seen by other threads immediately. To ensure this, you have to declare it as <code>volatile</code>. Then, writes to <code>Test.holder</code> become visible immediately.</p>\n<p>What is meant in the text is that if you initialized the <code>Test.holder</code> with a <code>new Holder(42)</code> instead of <code>null</code> and never changed it, then all threads would see that <code>Holder(42)</code> object.</p>\n"}],"owner":{"account_id":875894,"reputation":3530,"user_id":925549,"accept_rate":73,"display_name":"yas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75238625,"answer_count":1,"score":0,"last_activity_date":1674674273,"creation_date":1674672147,"question_id":75238475,"body_markdown":"I am reading &quot;Java Concurency in Practice&quot; by Brian Goetz, and have a question about immutable object publication.\r\n\r\nIn section 3.5.5 it states:\r\n\r\n&gt; _Immutable objects_ can be published through any mechanism.\\\r\n&gt; _Effectively immutable objects_ must be safely published;\r\n\r\nAs an example for my question:\r\n\r\n    // assume Holder is immutable\r\n\r\n    public class Test {\r\n\t    public static Holder holder = null;\r\n    }\r\n\r\nSuppose a thread executes the statement:\r\n\r\n    Test.holder = new Holder(42);\r\n\r\nDoes this change (i.e. both the reference and the immutable Holder object together) become visible to other threads?\r\n\r\nIt would seem the semantics, if I&#39;m understanding the textbook correctly, are similar to volatile variables in the sense that the update to the `Test.holder` member specifically is visible to other threads immediately?","title":"Publishing immutable object references in Java","body":"<p>I am reading &quot;Java Concurency in Practice&quot; by Brian Goetz, and have a question about immutable object publication.</p>\n<p>In section 3.5.5 it states:</p>\n<blockquote>\n<p><em>Immutable objects</em> can be published through any mechanism.<br />\n<em>Effectively immutable objects</em> must be safely published;</p>\n</blockquote>\n<p>As an example for my question:</p>\n<pre><code>// assume Holder is immutable\n\npublic class Test {\n    public static Holder holder = null;\n}\n</code></pre>\n<p>Suppose a thread executes the statement:</p>\n<pre><code>Test.holder = new Holder(42);\n</code></pre>\n<p>Does this change (i.e. both the reference and the immutable Holder object together) become visible to other threads?</p>\n<p>It would seem the semantics, if I'm understanding the textbook correctly, are similar to volatile variables in the sense that the update to the <code>Test.holder</code> member specifically is visible to other threads immediately?</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674655766,"creation_date":1674655405,"answer_id":75235146,"question_id":75235145,"body_markdown":"I managed to customize responses in the following way:\r\n\r\nA class with arbitrary name which implements `AuthenticationFailureHandler` and `AccessDeniedHandler` interfaces:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import org.keycloak.adapters.springsecurity.authentication.KeycloakCookieBasedRedirect;\r\n    import org.springframework.security.web.access.AccessDeniedHandler;\r\n    import org.springframework.security.web.authentication.AuthenticationFailureHandler;\r\n    // ... other required imports\r\n    \r\n    \r\n    @Component\r\n    public class CustomSecurityFailureResponseHandler implements AuthenticationFailureHandler, AccessDeniedHandler {\r\n    \r\n        private final ObjectMapper objectMapper = new ObjectMapper();\r\n        \r\n        // The body of this method has been copied from its Keycloak counterpart, except for the marked line.\r\n        @Override\r\n        public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException {\r\n            if (!response.isCommitted()) {\r\n                if (KeycloakCookieBasedRedirect.getRedirectUrlFromCookie(request) != null) {\r\n                    response.addCookie(KeycloakCookieBasedRedirect.createCookieFromRedirectUrl(null));\r\n                }\r\n                writeResponse(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;Authentication failed&quot;);  // &lt;--- marked line\r\n            } else {\r\n                if (200 &lt;= response.getStatus() &amp;&amp; response.getStatus() &lt; 300) {\r\n                    throw new RuntimeException(&quot;Success response was committed while authentication failed!&quot;, exception);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException {\r\n            writeResponse(response, HttpServletResponse.SC_FORBIDDEN, &quot;Access denied&quot;);\r\n        }\r\n    \r\n        private void writeResponse(HttpServletResponse response, int status, String message) throws IOException {\r\n            \r\n            // Generate your intended response here, e.g.:\r\n            \r\n            response.setStatus(status);\r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \r\n            response.getOutputStream().println(\r\n                    objectMapper.writerWithDefaultPrettyPrinter()\r\n                            .writeValueAsString(new MessageResponse(status, message)));\r\n        }\r\n        \r\n        record ResponseMessage(int statusCode, String message) {}    \r\n    }\r\n\r\nin the keycloak security config:\r\n\r\n    @KeycloakConfiguration\r\n    @EnableGlobalMethodSecurity(jsr250Enabled = true)\r\n    @Import(KeycloakSpringBootConfigResolver.class)\r\n    @RequiredArgsConstructor\r\n    public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\r\n    \r\n        // An object of preceding class is injected here\r\n        private final CustomSecurityFailureResponseHandler customSecurityFailureResponseHandler;\r\n    \r\n        // Other required methods has been omitted for brevity\r\n        \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            super.configure(http);\r\n            http.csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .exceptionHandling()\r\n                .accessDeniedHandler(customSecurityFailureResponseHandler); // for 403 Forbidden\r\n        }\r\n    \r\n        // This method is overridden to customize 401 Unauthorized response\r\n        @Override\r\n        public KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\r\n    \r\n            KeycloakAuthenticationProcessingFilter filter = super.keycloakAuthenticationProcessingFilter();\r\n            filter.setAuthenticationFailureHandler(customSecurityFailureResponseHandler);\r\n    \r\n            return filter;\r\n        }\r\n    }\r\n\r\nThe method `keycloakAuthenticationProcessingFilter()` is overridden to replace favorable `AuthenticationFailureHandler`.\r\n\r\nThe `Keycloak 19.0.3` and the `Spring boot 2.7.4` have been used.\r\n\r\nI hope this workaround helps someone.\r\nAny better solution is appreciated.\r\n","title":"How to customize 401 Unauthorized and 403 Forbidden HTTP responses when using Keycloak and Spring boot?","body":"<p>I managed to customize responses in the following way:</p>\n<p>A class with arbitrary name which implements <code>AuthenticationFailureHandler</code> and <code>AccessDeniedHandler</code> interfaces:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport org.keycloak.adapters.springsecurity.authentication.KeycloakCookieBasedRedirect;\nimport org.springframework.security.web.access.AccessDeniedHandler;\nimport org.springframework.security.web.authentication.AuthenticationFailureHandler;\n// ... other required imports\n\n\n@Component\npublic class CustomSecurityFailureResponseHandler implements AuthenticationFailureHandler, AccessDeniedHandler {\n\n    private final ObjectMapper objectMapper = new ObjectMapper();\n    \n    // The body of this method has been copied from its Keycloak counterpart, except for the marked line.\n    @Override\n    public void onAuthenticationFailure(HttpServletRequest request, HttpServletResponse response, AuthenticationException exception) throws IOException {\n        if (!response.isCommitted()) {\n            if (KeycloakCookieBasedRedirect.getRedirectUrlFromCookie(request) != null) {\n                response.addCookie(KeycloakCookieBasedRedirect.createCookieFromRedirectUrl(null));\n            }\n            writeResponse(response, HttpServletResponse.SC_UNAUTHORIZED, &quot;Authentication failed&quot;);  // &lt;--- marked line\n        } else {\n            if (200 &lt;= response.getStatus() &amp;&amp; response.getStatus() &lt; 300) {\n                throw new RuntimeException(&quot;Success response was committed while authentication failed!&quot;, exception);\n            }\n        }\n    }\n\n    @Override\n    public void handle(HttpServletRequest request, HttpServletResponse response, AccessDeniedException accessDeniedException) throws IOException {\n        writeResponse(response, HttpServletResponse.SC_FORBIDDEN, &quot;Access denied&quot;);\n    }\n\n    private void writeResponse(HttpServletResponse response, int status, String message) throws IOException {\n        \n        // Generate your intended response here, e.g.:\n        \n        response.setStatus(status);\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setCharacterEncoding(&quot;UTF-8&quot;);\n\n        response.getOutputStream().println(\n                objectMapper.writerWithDefaultPrettyPrinter()\n                        .writeValueAsString(new MessageResponse(status, message)));\n    }\n    \n    record ResponseMessage(int statusCode, String message) {}    \n}\n</code></pre>\n<p>in the keycloak security config:</p>\n<pre><code>@KeycloakConfiguration\n@EnableGlobalMethodSecurity(jsr250Enabled = true)\n@Import(KeycloakSpringBootConfigResolver.class)\n@RequiredArgsConstructor\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    // An object of preceding class is injected here\n    private final CustomSecurityFailureResponseHandler customSecurityFailureResponseHandler;\n\n    // Other required methods has been omitted for brevity\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf().disable()\n            .authorizeRequests()\n            .anyRequest().permitAll()\n            .and()\n            .exceptionHandling()\n            .accessDeniedHandler(customSecurityFailureResponseHandler); // for 403 Forbidden\n    }\n\n    // This method is overridden to customize 401 Unauthorized response\n    @Override\n    public KeycloakAuthenticationProcessingFilter keycloakAuthenticationProcessingFilter() throws Exception {\n\n        KeycloakAuthenticationProcessingFilter filter = super.keycloakAuthenticationProcessingFilter();\n        filter.setAuthenticationFailureHandler(customSecurityFailureResponseHandler);\n\n        return filter;\n    }\n}\n</code></pre>\n<p>The method <code>keycloakAuthenticationProcessingFilter()</code> is overridden to replace favorable <code>AuthenticationFailureHandler</code>.</p>\n<p>The <code>Keycloak 19.0.3</code> and the <code>Spring boot 2.7.4</code> have been used.</p>\n<p>I hope this workaround helps someone.\nAny better solution is appreciated.</p>\n"},{"tags":[],"owner":{"account_id":13527126,"reputation":23,"user_id":9758652,"display_name":"El_Microman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674657560,"creation_date":1674657560,"answer_id":75235552,"question_id":75235145,"body_markdown":"You can check the error code you receive back using something like this:\r\n\r\n    int error = response.getStatusLine().getStatusCode();\r\n\r\nThen you can check the error if it triggers and display your own error:\r\n\r\n    if (error == 404)\r\n    {\r\n        Toast.makeText(this, &quot;custom message here&quot;, LENGTH_SHORT).show();\r\n    }\r\n\r\n","title":"How to customize 401 Unauthorized and 403 Forbidden HTTP responses when using Keycloak and Spring boot?","body":"<p>You can check the error code you receive back using something like this:</p>\n<pre><code>int error = response.getStatusLine().getStatusCode();\n</code></pre>\n<p>Then you can check the error if it triggers and display your own error:</p>\n<pre><code>if (error == 404)\n{\n    Toast.makeText(this, &quot;custom message here&quot;, LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"score":0,"creation_date":1674680837,"post_id":75238812,"comment_id":132769104,"body_markdown":"Good point, actually we are near to the end of current project. Certainly we will try `spring-security OAuth2` at the next project.","body":"Good point, actually we are near to the end of current project. Certainly we will try <code>spring-security OAuth2</code> at the next project."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674674187,"creation_date":1674674187,"answer_id":75238812,"question_id":75235145,"body_markdown":"The Keycloak adapters used in @Askar answer [are deprecated](https://github.com/keycloak/keycloak/discussions/10187) and will probably never be compatible with boot 3. Don&#39;t use it. Alternative in the accepted answer to [&quot;Use Keycloak Spring Adapter with Spring Boot 3&quot;](https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732) (applicable to boot 2.6 and 2.7 with very little modification). \r\n\r\nHere is sample of authentication exception customization in `HttpSecurity` configuration. You might do about anything with the response:\r\n```java\r\nhttp.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\r\n    response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n    response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n});\r\n```","title":"How to customize 401 Unauthorized and 403 Forbidden HTTP responses when using Keycloak and Spring boot?","body":"<p>The Keycloak adapters used in @Askar answer <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">are deprecated</a> and will probably never be compatible with boot 3. Don't use it. Alternative in the accepted answer to <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">&quot;Use Keycloak Spring Adapter with Spring Boot 3&quot;</a> (applicable to boot 2.6 and 2.7 with very little modification).</p>\n<p>Here is sample of authentication exception customization in <code>HttpSecurity</code> configuration. You might do about anything with the response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.exceptionHandling().authenticationEntryPoint((request, response, authException) -&gt; {\n    response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n    response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n});\n</code></pre>\n"}],"owner":{"account_id":2567543,"reputation":544,"user_id":2227178,"accept_rate":0,"display_name":"Askar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":766,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75235146,"answer_count":3,"score":0,"last_activity_date":1674674187,"creation_date":1674655405,"question_id":75235145,"body_markdown":"I get the following failure responses which the responses themselves are correct:\r\n\r\n - An `HTTP 401 Unauthorized` with empty body when the Keycloak token is\r\n   invalid or expired.\r\n - An `HTTP 403 Forbidden` with stack trace in body when access is denied.\r\n\r\nBut how can one generate custom responses instead?\r\n","title":"How to customize 401 Unauthorized and 403 Forbidden HTTP responses when using Keycloak and Spring boot?","body":"<p>I get the following failure responses which the responses themselves are correct:</p>\n<ul>\n<li>An <code>HTTP 401 Unauthorized</code> with empty body when the Keycloak token is\ninvalid or expired.</li>\n<li>An <code>HTTP 403 Forbidden</code> with stack trace in body when access is denied.</li>\n</ul>\n<p>But how can one generate custom responses instead?</p>\n"},{"tags":["java","jobs","job-scheduling"],"comments":[{"owner":{"account_id":7369804,"reputation":1147,"user_id":5610358,"display_name":"rhowell"},"score":0,"creation_date":1674674495,"post_id":75238803,"comment_id":132767361,"body_markdown":"quartz was my first thought as well","body":"quartz was my first thought as well"}],"owner":{"account_id":461468,"reputation":768,"user_id":863177,"accept_rate":90,"display_name":"swap310"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674674167,"creation_date":1674674167,"question_id":75238803,"body_markdown":"We have been using Apache Spark jobs launched via Apache Livy for running some jobs. Because of the reduced scale requirements, we no longer need to use Spark. I am looking for a general-purpose lightweight JAVA job scheduler with the ability to track and cancel jobs.\r\n\r\n[Quartz][1] seems to be one candidate. Are there any better alternatives?\r\n\r\n\r\n  [1]: https://Quartz-scheduler.org","title":"Lightweight General Purpose Job Scheduler/Execution Engine in Java","body":"<p>We have been using Apache Spark jobs launched via Apache Livy for running some jobs. Because of the reduced scale requirements, we no longer need to use Spark. I am looking for a general-purpose lightweight JAVA job scheduler with the ability to track and cancel jobs.</p>\n<p><a href=\"https://Quartz-scheduler.org\" rel=\"nofollow noreferrer\">Quartz</a> seems to be one candidate. Are there any better alternatives?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1674673352,"post_id":75238490,"comment_id":132767023,"body_markdown":"The `java.time` package has all of this (and much more) for you; why on Earth would anyone ask you to reinvent that wheel?","body":"The <code>java.time</code> package has all of this (and much more) for you; why on Earth would anyone ask you to reinvent that wheel?"},{"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"score":0,"creation_date":1674756270,"post_id":75238490,"comment_id":132786685,"body_markdown":"@E-Riz University assignment :(","body":"@E-Riz University assignment :("},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674760133,"post_id":75238490,"comment_id":132787725,"body_markdown":"Sadly, an outdated assignment. The `java.time` package has been around since Java 8, almost 9 years now. Maybe you can find a respectful way to point out to the instructor that the material is outdated and not necessarily preparing students for real-world work.","body":"Sadly, an outdated assignment. The <code>java.time</code> package has been around since Java 8, almost 9 years now. Maybe you can find a respectful way to point out to the instructor that the material is outdated and not necessarily preparing students for real-world work."}],"answers":[{"tags":[],"owner":{"account_id":27604979,"reputation":54,"user_id":21069312,"display_name":"Reza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674673773,"creation_date":1674673773,"answer_id":75238757,"question_id":75238490,"body_markdown":"you can refer to this [post][1] for complete explanation.\r\n\r\nwhen you have two date objects simply subtract them:\r\n\r\n    long diff = date1.getTime() - date2.getTime();\r\n\r\nand count the days:\r\n\r\n    TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\r\n\r\n  [1]: https://stackoverflow.com/questions/20165564/calculating-days-between-two-dates-with-java","title":"Finding the number of days between Dates","body":"<p>you can refer to this <a href=\"https://stackoverflow.com/questions/20165564/calculating-days-between-two-dates-with-java\">post</a> for complete explanation.</p>\n<p>when you have two date objects simply subtract them:</p>\n<pre><code>long diff = date1.getTime() - date2.getTime();\n</code></pre>\n<p>and count the days:</p>\n<pre><code>TimeUnit.DAYS.convert(diff, TimeUnit.MILLISECONDS);\n</code></pre>\n"}],"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674700549,"answer_count":1,"score":0,"last_activity_date":1674673773,"creation_date":1674672236,"question_id":75238490,"body_markdown":"The Question:\r\n\r\n&quot;create a method called compare, which takes a parameter of type Date and calculates the number of days between the date of the current object and the input object.&quot;\r\n\r\n\r\n```\r\npublic class Date {\r\n\r\n    int year;\r\n    int month;\r\n    int day;\r\n\r\n    void print() {\r\n        System.out.printf(&quot;Date: %d/%d/%d&quot;, this.month, this.day, this.year);\r\n    }\r\n\r\n    void addDays(int n) {\r\n        int[] month = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n\r\n        int i = this.month - 1;\r\n\r\n        int day = this.day + n;\r\n\r\n        while (day &gt; month[i]) {\r\n\r\n            day -= month[i];\r\n\r\n            if (this.month == 12) {\r\n                this.year++;\r\n                this.month = 0;\r\n                i = -1;\r\n            }\r\n\r\n            this.month++;\r\n            i++;\r\n\r\n        }\r\n        this.day = 0;\r\n        this.day += day;\r\n\r\n    }\r\n\r\n    int compare(Date d1) {\r\n\r\n      return 0;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is what I currently have and I was wondering how would I implement this method I&#39;ve tried messing around with the my method add days but I couldn&#39;t quite figure it out.\r\n\r\n\r\nAgain, I&#39;ve tried messing around with addDays and adding parameter so that the method the object is calling must always be older than the one being compared but I get quite lost. Any advice would help. ","title":"Finding the number of days between Dates","body":"<p>The Question:</p>\n<p>&quot;create a method called compare, which takes a parameter of type Date and calculates the number of days between the date of the current object and the input object.&quot;</p>\n<pre><code>public class Date {\n\n    int year;\n    int month;\n    int day;\n\n    void print() {\n        System.out.printf(&quot;Date: %d/%d/%d&quot;, this.month, this.day, this.year);\n    }\n\n    void addDays(int n) {\n        int[] month = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n\n        int i = this.month - 1;\n\n        int day = this.day + n;\n\n        while (day &gt; month[i]) {\n\n            day -= month[i];\n\n            if (this.month == 12) {\n                this.year++;\n                this.month = 0;\n                i = -1;\n            }\n\n            this.month++;\n            i++;\n\n        }\n        this.day = 0;\n        this.day += day;\n\n    }\n\n    int compare(Date d1) {\n\n      return 0;\n    }\n\n}\n</code></pre>\n<p>This is what I currently have and I was wondering how would I implement this method I've tried messing around with the my method add days but I couldn't quite figure it out.</p>\n<p>Again, I've tried messing around with addDays and adding parameter so that the method the object is calling must always be older than the one being compared but I get quite lost. Any advice would help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1674665854,"post_id":75237296,"comment_id":132764618,"body_markdown":"`EditText inpTxt = findViewById(R.id.input);` that is not the correct id for your `EditText`.  It is `editTextTextPersonName`.  instead you provided the id of the layout hence the class cast exception: `androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText`.","body":"<code>EditText inpTxt = findViewById(R.id.input);</code> that is not the correct id for your <code>EditText</code>.  It is <code>editTextTextPersonName</code>.  instead you provided the id of the layout hence the class cast exception: <code>androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText</code>."}],"answers":[{"tags":[],"owner":{"account_id":8713922,"reputation":158,"user_id":6519248,"display_name":"Yoav Gibri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674673637,"creation_date":1674673637,"answer_id":75238729,"question_id":75237296,"body_markdown":"If you&#39;ll scroll down in your stack starce you will see this:\r\n\r\n    Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText\r\n        at com.example.firstapp.MainActivity.onBtnTxt(MainActivity.java:25)\r\nIn your `onBtnTxt(View view)` method you wrote\r\n\r\n    EditText inpTxt = findViewById(R.id.input);\r\nbut in the layout file you gave this id (id.input) to the root view which is a `constraintlayout`, not an `EditText`\r\n\r\nchange it to \r\n\r\n    EditText inpTxt = findViewById(R.id.editTextTextPersonName);","title":"Was following a tutorial on android development. Did everything same yet im getting errors","body":"<p>If you'll scroll down in your stack starce you will see this:</p>\n<pre><code>Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText\n    at com.example.firstapp.MainActivity.onBtnTxt(MainActivity.java:25)\n</code></pre>\n<p>In your <code>onBtnTxt(View view)</code> method you wrote</p>\n<pre><code>EditText inpTxt = findViewById(R.id.input);\n</code></pre>\n<p>but in the layout file you gave this id (id.input) to the root view which is a <code>constraintlayout</code>, not an <code>EditText</code></p>\n<p>change it to</p>\n<pre><code>EditText inpTxt = findViewById(R.id.editTextTextPersonName);\n</code></pre>\n"}],"owner":{"account_id":25984186,"reputation":51,"user_id":19697370,"display_name":"Maxus_red"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75238729,"answer_count":1,"score":0,"last_activity_date":1674673637,"creation_date":1674665544,"question_id":75237296,"body_markdown":"\r\n```\r\npackage com.example.firstapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n    public void onBtnTxt(View view){\r\n        TextView txtApp = findViewById(R.id.txtMsg);\r\n        EditText inpTxt = findViewById(R.id.input);\r\n        txtApp.setText(inpTxt.getText().toString());\r\n    }\r\n}\r\n```\r\nthis is java code\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/input&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtMsg&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Welcome!!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.339&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick= &quot;onBtnTxt&quot;\r\n        android:text=&quot;Click&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextTextPersonName&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextPersonName&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Your name&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtMsg&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nthis is xml code\r\n\r\n\r\n```\r\n2023-01-25 22:07:15.960 9062-9062/com.example.firstapp D/AndroidRuntime: Shutting down VM\r\n2023-01-25 22:07:15.962 9062-9062/com.example.firstapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.firstapp, PID: 9062\r\n    java.lang.IllegalStateException: Could not execute method for android:onClick\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\r\n        at android.view.View.performClick(View.java:6597)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1194)\r\n        at android.view.View.performClickInternal(View.java:6574)\r\n        at android.view.View.onKeyUp(View.java:13216)\r\n        at android.widget.TextView.onKeyUp(TextView.java:7821)\r\n        at android.view.KeyEvent.dispatch(KeyEvent.java:2716)\r\n        at android.view.View.dispatchKeyEvent(View.java:12450)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\r\n        at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:428)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1820)\r\n        at android.app.Activity.dispatchKeyEvent(Activity.java:3360)\r\n        at androidx.core.app.ComponentActivity.superDispatchKeyEvent(ComponentActivity.java:122)\r\n        at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:84)\r\n        at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)\r\n        at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:599)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3089)\r\n        at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:342)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:5037)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4905)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4585)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4453)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4642)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4453)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4618)\r\n        at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:4779)\r\n        at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:2571)\r\n        at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:2081)\r\n        at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:2072)\r\n        at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:2548)\r\n        at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)\r\n        at android.os.MessageQueue.nativePollOnce(Native Method)\r\n        at android.os.MessageQueue.next(MessageQueue.java:326)\r\n        at android.os.Looper.loop(Looper.java:160)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n2023-01-25 22:07:15.963 9062-9062/com.example.firstapp E/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\r\n        \t... 52 more\r\n     Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText\r\n        at com.example.firstapp.MainActivity.onBtnTxt(MainActivity.java:25)\r\n        \t... 54 more\r\n\r\n```\r\n\r\nthis is the error log\r\n\r\n\r\nI was following android development for beginner course by freecodecamp from youtube.\r\nMy android studio is properly installed. I have installed &quot;pie&quot; with api level of 28 as the virtual device. After doing everything exactly same i get this error. My app suddenly crashes and shows fatal error.\r\n\r\n\r\nPlease help Im completely new in this.\r\n","title":"Was following a tutorial on android development. Did everything same yet im getting errors","body":"<pre><code>package com.example.firstapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n\n\n\n    }\n    public void onBtnTxt(View view){\n        TextView txtApp = findViewById(R.id.txtMsg);\n        EditText inpTxt = findViewById(R.id.input);\n        txtApp.setText(inpTxt.getText().toString());\n    }\n}\n</code></pre>\n<p>this is java code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/input&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtMsg&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Welcome!!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.339&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick= &quot;onBtnTxt&quot;\n        android:text=&quot;Click&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/editTextTextPersonName&quot;\n        app:layout_constraintVertical_bias=&quot;0.286&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextPersonName&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Your name&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txtMsg&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>this is xml code</p>\n<pre><code>2023-01-25 22:07:15.960 9062-9062/com.example.firstapp D/AndroidRuntime: Shutting down VM\n2023-01-25 22:07:15.962 9062-9062/com.example.firstapp E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.firstapp, PID: 9062\n    java.lang.IllegalStateException: Could not execute method for android:onClick\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:446)\n        at android.view.View.performClick(View.java:6597)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1194)\n        at android.view.View.performClickInternal(View.java:6574)\n        at android.view.View.onKeyUp(View.java:13216)\n        at android.widget.TextView.onKeyUp(TextView.java:7821)\n        at android.view.KeyEvent.dispatch(KeyEvent.java:2716)\n        at android.view.View.dispatchKeyEvent(View.java:12450)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at android.view.ViewGroup.dispatchKeyEvent(ViewGroup.java:1896)\n        at com.android.internal.policy.DecorView.superDispatchKeyEvent(DecorView.java:428)\n        at com.android.internal.policy.PhoneWindow.superDispatchKeyEvent(PhoneWindow.java:1820)\n        at android.app.Activity.dispatchKeyEvent(Activity.java:3360)\n        at androidx.core.app.ComponentActivity.superDispatchKeyEvent(ComponentActivity.java:122)\n        at androidx.core.view.KeyEventDispatcher.dispatchKeyEvent(KeyEventDispatcher.java:84)\n        at androidx.core.app.ComponentActivity.dispatchKeyEvent(ComponentActivity.java:140)\n        at androidx.appcompat.app.AppCompatActivity.dispatchKeyEvent(AppCompatActivity.java:599)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchKeyEvent(WindowCallbackWrapper.java:59)\n        at androidx.appcompat.app.AppCompatDelegateImpl$AppCompatWindowCallback.dispatchKeyEvent(AppCompatDelegateImpl.java:3089)\n        at com.android.internal.policy.DecorView.dispatchKeyEvent(DecorView.java:342)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processKeyEvent(ViewRootImpl.java:5037)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:4905)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4585)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4453)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:4642)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:4453)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:4426)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:4479)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:4445)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:4618)\n        at android.view.ViewRootImpl$ImeInputStage.onFinishedInputEvent(ViewRootImpl.java:4779)\n        at android.view.inputmethod.InputMethodManager$PendingEvent.run(InputMethodManager.java:2571)\n        at android.view.inputmethod.InputMethodManager.invokeFinishedInputEventCallback(InputMethodManager.java:2081)\n        at android.view.inputmethod.InputMethodManager.finishedInputEvent(InputMethodManager.java:2072)\n        at android.view.inputmethod.InputMethodManager$ImeInputEventSender.onInputEventFinished(InputMethodManager.java:2548)\n        at android.view.InputEventSender.dispatchInputEventFinished(InputEventSender.java:141)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:326)\n        at android.os.Looper.loop(Looper.java:160)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n2023-01-25 22:07:15.963 9062-9062/com.example.firstapp E/AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:441)\n            ... 52 more\n     Caused by: java.lang.ClassCastException: androidx.constraintlayout.widget.ConstraintLayout cannot be cast to android.widget.EditText\n        at com.example.firstapp.MainActivity.onBtnTxt(MainActivity.java:25)\n            ... 54 more\n\n</code></pre>\n<p>this is the error log</p>\n<p>I was following android development for beginner course by freecodecamp from youtube.\nMy android studio is properly installed. I have installed &quot;pie&quot; with api level of 28 as the virtual device. After doing everything exactly same i get this error. My app suddenly crashes and shows fatal error.</p>\n<p>Please help Im completely new in this.</p>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1674670231,"post_id":75238078,"comment_id":132766039,"body_markdown":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."}],"answers":[{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674673413,"creation_date":1674672487,"answer_id":75238537,"question_id":75238078,"body_markdown":"Here&#39;s your code cleaned up and fixed. I modified as little as possible to keep it at a level a beginner would be comfortable with. Some improvements to be made:\r\n\r\n- Repeated code like this screams, &quot;Put me in my own function!&quot;\r\n- A loop can be used to handle any number of digits, not just three.\r\n- Error checking/handling. You should handle bad input. What if the user enters &quot;hello&quot; instead of a number?\r\n\r\nImprovements I made:\r\n- Your original code never printed a result.\r\n- Better formatting. It makes the code easier to read.\r\n- Descriptive variable names!\r\n```\r\nScanner ob = new Scanner(System.in);\r\nint n = ob.nextInt();\r\nif (n &gt; 99 &amp;&amp; n &lt; 1000) {\r\n    int hundredsDigit = n / 100;\r\n    int tensDigit = n / 10 % 10;\r\n    int onesDigit = n % 10;\r\n    \r\n    if (hundredsDigit % 2 == 0) {\r\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN hundred&#39;s digit &quot; + hundredsDigit +&quot; with \\n&quot;);\r\n        int replacementDigit = ob.nextInt();\r\n        if (replacementDigit % 2 == 0) {\r\n            System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n        }\r\n        else {\r\n            hundredsDigit = replacementDigit;\r\n        }\r\n    }\r\n    if (tensDigit % 2 == 0) {\r\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN ten&#39;s digit &quot; + tensDigit + &quot; with \\n&quot;);\r\n        int replacementDigit = ob.nextInt();\r\n        if (replacementDigit % 2 == 0) {\r\n            System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n        }\r\n        else {\r\n            tensDigit = replacementDigit;\r\n        }\r\n    }\r\n    if (onesDigit % 2 == 0) {\r\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN one&#39;s digit &quot; + onesDigit + &quot; with \\n&quot;);\r\n        int replacementDigit = ob.nextInt();\r\n        if (replacementDigit % 2 == 0) {\r\n            System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n        }\r\n        else {\r\n            onesDigit = replacementDigit;\r\n        }\r\n    }\r\n    System.out.println(hundredsDigit * 100 + tensDigit * 10 + onesDigit);\r\n}\r\n```","title":"Problem in program to input a 3 digit number and check which digits are even and replace it with odd digits","body":"<p>Here's your code cleaned up and fixed. I modified as little as possible to keep it at a level a beginner would be comfortable with. Some improvements to be made:</p>\n<ul>\n<li>Repeated code like this screams, &quot;Put me in my own function!&quot;</li>\n<li>A loop can be used to handle any number of digits, not just three.</li>\n<li>Error checking/handling. You should handle bad input. What if the user enters &quot;hello&quot; instead of a number?</li>\n</ul>\n<p>Improvements I made:</p>\n<ul>\n<li>Your original code never printed a result.</li>\n<li>Better formatting. It makes the code easier to read.</li>\n<li>Descriptive variable names!</li>\n</ul>\n<pre><code>Scanner ob = new Scanner(System.in);\nint n = ob.nextInt();\nif (n &gt; 99 &amp;&amp; n &lt; 1000) {\n    int hundredsDigit = n / 100;\n    int tensDigit = n / 10 % 10;\n    int onesDigit = n % 10;\n    \n    if (hundredsDigit % 2 == 0) {\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN hundred's digit &quot; + hundredsDigit +&quot; with \\n&quot;);\n        int replacementDigit = ob.nextInt();\n        if (replacementDigit % 2 == 0) {\n            System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n        }\n        else {\n            hundredsDigit = replacementDigit;\n        }\n    }\n    if (tensDigit % 2 == 0) {\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN ten's digit &quot; + tensDigit + &quot; with \\n&quot;);\n        int replacementDigit = ob.nextInt();\n        if (replacementDigit % 2 == 0) {\n            System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n        }\n        else {\n            tensDigit = replacementDigit;\n        }\n    }\n    if (onesDigit % 2 == 0) {\n        System.out.println(&quot;Enter the odd number you would like to replace the EVEN one's digit &quot; + onesDigit + &quot; with \\n&quot;);\n        int replacementDigit = ob.nextInt();\n        if (replacementDigit % 2 == 0) {\n            System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n        }\n        else {\n            onesDigit = replacementDigit;\n        }\n    }\n    System.out.println(hundredsDigit * 100 + tensDigit * 10 + onesDigit);\n}\n</code></pre>\n"}],"owner":{"account_id":25843945,"reputation":9,"user_id":19579095,"display_name":"AsderSynth"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684618915,"accepted_answer_id":75238537,"answer_count":1,"score":-3,"last_activity_date":1674673413,"creation_date":1674670073,"question_id":75238078,"body_markdown":"Problem while entering a 3 digit no and getting no result. after entering 123 and when 2 is detected as even, and if user enters 7, it should display 173. but the program is immediately ending. It might be a problem in the last 0 check if-block. but removing it also doesn&#39;t help. Thanks in advance!\r\n\r\n```\r\n// in 3 dig, check even dig., replace them with odd and disp.\r\nimport java.util.*;\r\npublic class p24123 {\r\n    public static void main(String[] args) {\r\n        int n,h,t,o,m,z=0,z1=0,z2=0,fn;\r\n        Scanner ob = new Scanner(System.in);\r\n        n=ob.nextInt();\r\n        if(n&gt;99&amp;&amp;n&lt;1000){\r\n            h= n/100;\r\n            o=n%10;\r\n            m=n/10;\r\n            t=m%10;\r\n            if(h%2==0){\r\n               z=h;\r\n                System.out.println(&quot;Enter the odd number you would like to replace the EVEN hundred&#39;s digit&quot;+h+&quot; with \\n&quot;);\r\n                z=ob.nextInt();\r\n                if(z%2==0){\r\n                    System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n                    z=h;\r\n                }\r\n                else if(t%2==0) {\r\n                    System.out.println(&quot;Condition enter bokachpda&quot;);\r\n                    z1 = t;\r\n                    System.out.println(&quot;Enter the odd number you would like to replace the EVEN ten&#39;s digit&quot; + t + &quot; with \\n&quot;);\r\n                    z1 = ob.nextInt();\r\n                    if (z % 2 == 0) {\r\n                        System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n                        z1 = t;\r\n                    }\r\n                }\r\n                else if(o%2==0){\r\n                    z2=o;\r\n                    System.out.println(&quot;Enter the odd number you would like to replace the EVEN one&#39;s digit&quot;+h+&quot; with \\n&quot;);\r\n                    z2=ob.nextInt();\r\n                    if(z2%2==0){\r\n                        System.out.println(&quot;That&#39;s not odd. So we will keep the original digit in it&#39;s place&quot;);\r\n                        z2=o;\r\n                    }\r\n                }\r\n                else if(2==2){\r\n                    if(h&lt;1||t&lt;1||o&lt;1||z&lt;1||z1&lt;1||z2&lt;1){\r\n                        System.out.println(&quot;Error&quot;);\r\n                        System.exit(0);\r\n\r\n                    }\r\n                }\r\n                fn=z*100+z1*10+z;\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"Problem in program to input a 3 digit number and check which digits are even and replace it with odd digits","body":"<p>Problem while entering a 3 digit no and getting no result. after entering 123 and when 2 is detected as even, and if user enters 7, it should display 173. but the program is immediately ending. It might be a problem in the last 0 check if-block. but removing it also doesn't help. Thanks in advance!</p>\n<pre><code>// in 3 dig, check even dig., replace them with odd and disp.\nimport java.util.*;\npublic class p24123 {\n    public static void main(String[] args) {\n        int n,h,t,o,m,z=0,z1=0,z2=0,fn;\n        Scanner ob = new Scanner(System.in);\n        n=ob.nextInt();\n        if(n&gt;99&amp;&amp;n&lt;1000){\n            h= n/100;\n            o=n%10;\n            m=n/10;\n            t=m%10;\n            if(h%2==0){\n               z=h;\n                System.out.println(&quot;Enter the odd number you would like to replace the EVEN hundred's digit&quot;+h+&quot; with \\n&quot;);\n                z=ob.nextInt();\n                if(z%2==0){\n                    System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n                    z=h;\n                }\n                else if(t%2==0) {\n                    System.out.println(&quot;Condition enter bokachpda&quot;);\n                    z1 = t;\n                    System.out.println(&quot;Enter the odd number you would like to replace the EVEN ten's digit&quot; + t + &quot; with \\n&quot;);\n                    z1 = ob.nextInt();\n                    if (z % 2 == 0) {\n                        System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n                        z1 = t;\n                    }\n                }\n                else if(o%2==0){\n                    z2=o;\n                    System.out.println(&quot;Enter the odd number you would like to replace the EVEN one's digit&quot;+h+&quot; with \\n&quot;);\n                    z2=ob.nextInt();\n                    if(z2%2==0){\n                        System.out.println(&quot;That's not odd. So we will keep the original digit in it's place&quot;);\n                        z2=o;\n                    }\n                }\n                else if(2==2){\n                    if(h&lt;1||t&lt;1||o&lt;1||z&lt;1||z1&lt;1||z2&lt;1){\n                        System.out.println(&quot;Error&quot;);\n                        System.exit(0);\n\n                    }\n                }\n                fn=z*100+z1*10+z;\n\n\n            }\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1392116671,"post_id":21697329,"comment_id":32808649,"body_markdown":"The bit right after the colon where it specifies the source of the problem is rather important. Always post stack traces, not just partial error messages.","body":"The bit right after the colon where it specifies the source of the problem is rather important. Always post stack traces, not just partial error messages."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1487359566,"post_id":21697329,"comment_id":71766606,"body_markdown":"I believe this can happen when you mix private / public fields, getters, setters, or use a annotation like `@Id` inside the embeddable. a bit weird","body":"I believe this can happen when you mix private / public fields, getters, setters, or use a annotation like <code>@Id</code> inside the embeddable. a bit weird"}],"answers":[{"comments":[{"owner":{"account_id":4000103,"reputation":61,"user_id":3296345,"display_name":"user3296345"},"score":0,"creation_date":1392111306,"post_id":21697415,"comment_id":32805150,"body_markdown":"`@ElementCollection @Embedded \nList&lt;IncludedPRPoint&gt; includedPRPoint;` didnt help :\\","body":"<code>@ElementCollection @Embedded  List&lt;IncludedPRPoint&gt; includedPRPoint;</code> didnt help :\\"}],"tags":[],"owner":{"account_id":2387299,"reputation":10346,"user_id":2088000,"accept_rate":92,"display_name":"Vimal Bera"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392109823,"creation_date":1392109823,"answer_id":21697415,"question_id":21697329,"body_markdown":"I think you forgot to put `@Embedded` on your `List&lt;?&gt; includedPRPoint`. You have to mentioned the embedded object so that hibernate can know about its class.\r\n\r\nRefer [this][1] example for more details where to put which annotation.\r\n\r\n\r\n  [1]: http://www.dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-mapping-component-using-annotations-1.html","title":"Spring and hibernate error &quot;Declaring class is not found in the inheritance state hierarchy&quot;","body":"<p>I think you forgot to put <code>@Embedded</code> on your <code>List&lt;?&gt; includedPRPoint</code>. You have to mentioned the embedded object so that hibernate can know about its class.</p>\n\n<p>Refer <a href=\"http://www.dzone.com/tutorials/java/hibernate/hibernate-example/hibernate-mapping-component-using-annotations-1.html\" rel=\"nofollow\">this</a> example for more details where to put which annotation.</p>\n"}],"owner":{"account_id":4000103,"reputation":61,"user_id":3296345,"display_name":"user3296345"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7630,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1674673210,"creation_date":1392109538,"question_id":21697329,"body_markdown":"I am new to spring and hibernate and trying to use @ElementCollection and @Embeddable,\r\nIv&#39;e seen some close examples but not quite what i need, I have a &quot;top&quot; class that has an @IdClass and in that i want to have an @ElementCollection.&lt;br/&gt;\r\nEnvironment(and it&#39;s id) classes:&lt;br/&gt;\r\n\r\n    class EnvironmentId implements Serializable {\r\n\tString userName;\r\n\tString envName;\r\n    }\r\n\r\n    @Entity\r\n    @IdClass(EnvironmentId.class)\r\n    public class Environment {\r\n\t@Id\r\n\tString userName;\r\n\t\r\n\t@Id\r\n\tString envName;\r\n\t\r\n\t@Column\r\n\tString location;\r\n         \r\n         @ElementCollection\r\n\tList&lt;IncludedPRPoint&gt; includedPRPoint;\r\n\r\n         ... getters setters and constructures ...\r\n    }\r\n\r\nIncludedPRPoint class:\r\n\r\n    @Embeddable\r\n    public class IncludedPRPoint implements Serializable {\r\n\r\n\tString prPointName;\r\n\tString description;\r\n\tString mainSite;\r\n\r\n         ... Getters setters and constructors ...\r\n    }\r\n\r\nwhen trying to use i get exception &quot;Declaring class is not found in the inheritance state hierarchy: ...&quot;\r\n\r\nAm I doing something wrong?\r\n\r\n&lt;pre&gt;&lt;code&gt;Edit full stacktrace:&lt;br/&gt;\r\n[11:34:01:433 GMT+02:00 11/02/14] 0000006e webapp        E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[mvc-dispatcher]: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0&#39;: Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h8EntityManagerFactory&#39; defined in class path resource [build-spring-jpa.xml]: Invocation of init method failed; nested exception is org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:532)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\r\n\tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:741)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:383)\r\n\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\r\n\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\r\n\tat com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\r\n\tat com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:410)\r\n\tat com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\r\n\tat com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\r\n\tat com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:748)\r\n\tat com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:633)\r\n\tat com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:422)\r\n\tat com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:714)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1138)\r\n\tat com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1369)\r\n\tat com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.startModule(ApplicationMgrImpl.java:1634)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl.access$400(ApplicationMgrImpl.java:209)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl$3.run(ApplicationMgrImpl.java:1569)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5405)\r\n\tat com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5531)\r\n\tat com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\r\n\tat com.ibm.ws.runtime.component.ApplicationMgrImpl._startModule(ApplicationMgrImpl.java:1598)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:49)\r\n\tat sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:256)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1085)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:966)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:848)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:773)\r\n\tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n\tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n\tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n\tat com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment(StartDeploymentTask.java:236)\r\n\tat com.ibm.ws.management.application.sync.StartDeploymentTask.fineGrainUpdate(StartDeploymentTask.java:187)\r\n\tat com.ibm.ws.management.application.sync.StartDeploymentTask.performTask(StartDeploymentTask.java:99)\r\n\tat com.ibm.ws.management.application.sync.AppBinaryProcessor$ExpandApp.expand(AppBinaryProcessor.java:1705)\r\n\tat com.ibm.ws.management.application.sync.AppBinaryProcessor.postProcessSynchronousExt(AppBinaryProcessor.java:745)\r\n\tat com.ibm.ws.management.bla.sync.BLABinaryProcessor.postProcess(BLABinaryProcessor.java:575)\r\n\tat com.ibm.ws.management.bla.sync.BLABinaryProcessor.onChangeCompletion(BLABinaryProcessor.java:452)\r\n\tat com.ibm.ws.management.repository.FileRepository.postNotify(FileRepository.java:1936)\r\n\tat com.ibm.ws.management.repository.FileRepository.update(FileRepository.java:1445)\r\n\tat com.ibm.ws.management.repository.client.LocalConfigRepositoryClient.update(LocalConfigRepositoryClient.java:189)\r\n\tat com.ibm.ws.sm.workspace.impl.WorkSpaceMasterRepositoryAdapter.update(WorkSpaceMasterRepositoryAdapter.java:657)\r\n\tat com.ibm.ws.sm.workspace.impl.RepositoryContextImpl.update(RepositoryContextImpl.java:1998)\r\n\tat com.ibm.ws.sm.workspace.impl.RepositoryContextImpl.synch(RepositoryContextImpl.java:1946)\r\n\tat com.ibm.ws.sm.workspace.impl.WorkSpaceImpl.synch(WorkSpaceImpl.java:549)\r\n\tat com.ibm.ws.management.configservice.ConfigServiceImpl.save(ConfigServiceImpl.java:717)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat sun.reflect.misc.Trampoline.invoke(MethodUtil.java:49)\r\n\tat sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\r\n\tat java.lang.reflect.Method.invoke(Method.java:611)\r\n\tat sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:256)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1085)\r\n\tat javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:966)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:848)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:773)\r\n\tat com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\r\n\tat com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\r\n\tat com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\r\n\tat com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\r\n\tat com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\r\n\tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\r\n\tat com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\r\n\tat com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1784)\r\n\tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)\r\n\tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\r\n\tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\r\n\tat com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\r\n\tat com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\r\n\tat com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\r\n\tat com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\r\n\tat com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1650)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h8EntityManagerFactory&#39; defined in class path resource [build-spring-jpa.xml]: Invocation of init method failed; nested exception is org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:420)\r\n\tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:277)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n\tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n\tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:85)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1506)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1474)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\t... 88 more\r\nCaused by: org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\r\n\tat org.hibernate.cfg.BinderHelper.getMappedSuperclassOrNull(BinderHelper.java:656)\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:234)\r\n\tat org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:203)\r\n\tat org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2013)\r\n\tat org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2385)\r\n\tat org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2288)\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1399)\r\n\tat org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:735)\r\n\tat org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:670)\r\n\tat org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:66)\r\n\tat org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1591)\r\n\tat org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1366)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1731)\r\n\tat org.hibernate.ejb.EntityManagerFactoryImpl.&lt;init&gt;(EntityManagerFactoryImpl.java:94)\r\n\tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:905)\r\n\tat org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:890)\r\n\tat org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:74)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:286)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\r\n\t... 103 more&lt;/code&gt;&lt;/pre&gt;","title":"Spring and hibernate error &quot;Declaring class is not found in the inheritance state hierarchy&quot;","body":"<p>I am new to spring and hibernate and trying to use @ElementCollection and @Embeddable,\nIv'e seen some close examples but not quite what i need, I have a \"top\" class that has an @IdClass and in that i want to have an @ElementCollection.<br/>\nEnvironment(and it's id) classes:<br/></p>\n\n<pre><code>class EnvironmentId implements Serializable {\nString userName;\nString envName;\n}\n\n@Entity\n@IdClass(EnvironmentId.class)\npublic class Environment {\n@Id\nString userName;\n\n@Id\nString envName;\n\n@Column\nString location;\n\n     @ElementCollection\nList&lt;IncludedPRPoint&gt; includedPRPoint;\n\n     ... getters setters and constructures ...\n}\n</code></pre>\n\n<p>IncludedPRPoint class:</p>\n\n<pre><code>@Embeddable\npublic class IncludedPRPoint implements Serializable {\n\nString prPointName;\nString description;\nString mainSite;\n\n     ... Getters setters and constructors ...\n}\n</code></pre>\n\n<p>when trying to use i get exception \"Declaring class is not found in the inheritance state hierarchy: ...\"</p>\n\n<p>Am I doing something wrong?</p>\n\n<pre><code>Edit full stacktrace:<br/>\n[11:34:01:433 GMT+02:00 11/02/14] 0000006e webapp        E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[mvc-dispatcher]: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h8EntityManagerFactory' defined in class path resource [build-spring-jpa.xml]: Invocation of init method failed; nested exception is org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:532)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:741)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:383)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:283)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:112)\n    at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\n    at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:410)\n    at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n    at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:748)\n    at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:633)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:422)\n    at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:714)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1138)\n    at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1369)\n    at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.startModule(ApplicationMgrImpl.java:1634)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl.access$400(ApplicationMgrImpl.java:209)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl$3.run(ApplicationMgrImpl.java:1569)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5405)\n    at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5531)\n    at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n    at com.ibm.ws.runtime.component.ApplicationMgrImpl._startModule(ApplicationMgrImpl.java:1598)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:49)\n    at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:256)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1085)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:966)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:848)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:773)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n    at com.ibm.ws.management.application.sync.StartDeploymentTask.startDeployment(StartDeploymentTask.java:236)\n    at com.ibm.ws.management.application.sync.StartDeploymentTask.fineGrainUpdate(StartDeploymentTask.java:187)\n    at com.ibm.ws.management.application.sync.StartDeploymentTask.performTask(StartDeploymentTask.java:99)\n    at com.ibm.ws.management.application.sync.AppBinaryProcessor$ExpandApp.expand(AppBinaryProcessor.java:1705)\n    at com.ibm.ws.management.application.sync.AppBinaryProcessor.postProcessSynchronousExt(AppBinaryProcessor.java:745)\n    at com.ibm.ws.management.bla.sync.BLABinaryProcessor.postProcess(BLABinaryProcessor.java:575)\n    at com.ibm.ws.management.bla.sync.BLABinaryProcessor.onChangeCompletion(BLABinaryProcessor.java:452)\n    at com.ibm.ws.management.repository.FileRepository.postNotify(FileRepository.java:1936)\n    at com.ibm.ws.management.repository.FileRepository.update(FileRepository.java:1445)\n    at com.ibm.ws.management.repository.client.LocalConfigRepositoryClient.update(LocalConfigRepositoryClient.java:189)\n    at com.ibm.ws.sm.workspace.impl.WorkSpaceMasterRepositoryAdapter.update(WorkSpaceMasterRepositoryAdapter.java:657)\n    at com.ibm.ws.sm.workspace.impl.RepositoryContextImpl.update(RepositoryContextImpl.java:1998)\n    at com.ibm.ws.sm.workspace.impl.RepositoryContextImpl.synch(RepositoryContextImpl.java:1946)\n    at com.ibm.ws.sm.workspace.impl.WorkSpaceImpl.synch(WorkSpaceImpl.java:549)\n    at com.ibm.ws.management.configservice.ConfigServiceImpl.save(ConfigServiceImpl.java:717)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:49)\n    at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)\n    at java.lang.reflect.Method.invoke(Method.java:611)\n    at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:256)\n    at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1085)\n    at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:966)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:848)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:773)\n    at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n    at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n    at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n    at com.ibm.ws.management.connector.AdminServiceDelegator.invoke(AdminServiceDelegator.java:181)\n    at com.ibm.ws.management.connector.ipc.CallRouter.route(CallRouter.java:247)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink.doWork(IPCConnectorInboundLink.java:353)\n    at com.ibm.ws.management.connector.ipc.IPCConnectorInboundLink$IPCConnectorReadCallback.complete(IPCConnectorInboundLink.java:595)\n    at com.ibm.ws.ssl.channel.impl.SSLReadServiceContext$SSLReadCompletedCallback.complete(SSLReadServiceContext.java:1784)\n    at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted(AioReadCompletionListener.java:165)\n    at com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyncFuture.java:217)\n    at com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncChannelFuture.java:161)\n    at com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)\n    at com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)\n    at com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHandler.java:775)\n    at com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)\n    at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1650)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h8EntityManagerFactory' defined in class path resource [build-spring-jpa.xml]: Invocation of init method failed; nested exception is org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1486)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:461)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:295)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:292)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:198)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:420)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:277)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:85)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1506)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1474)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:524)\n    ... 88 more\nCaused by: org.hibernate.annotations.common.AssertionFailure: Declaring class is not found in the inheritance state hierarchy: demo.includedPRPoint\n    at org.hibernate.cfg.BinderHelper.getMappedSuperclassOrNull(BinderHelper.java:656)\n    at org.hibernate.cfg.annotations.PropertyBinder.bind(PropertyBinder.java:234)\n    at org.hibernate.cfg.annotations.PropertyBinder.makePropertyValueAndBind(PropertyBinder.java:203)\n    at org.hibernate.cfg.AnnotationBinder.processElementAnnotations(AnnotationBinder.java:2013)\n    at org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2385)\n    at org.hibernate.cfg.AnnotationBinder.fillComponent(AnnotationBinder.java:2288)\n    at org.hibernate.cfg.annotations.CollectionBinder.bindManyToManySecondPass(CollectionBinder.java:1399)\n    at org.hibernate.cfg.annotations.CollectionBinder.bindStarToManySecondPass(CollectionBinder.java:735)\n    at org.hibernate.cfg.annotations.CollectionBinder$1.secondPass(CollectionBinder.java:670)\n    at org.hibernate.cfg.CollectionSecondPass.doSecondPass(CollectionSecondPass.java:66)\n    at org.hibernate.cfg.Configuration.originalSecondPassCompile(Configuration.java:1591)\n    at org.hibernate.cfg.Configuration.secondPassCompile(Configuration.java:1366)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1731)\n    at org.hibernate.ejb.EntityManagerFactoryImpl.(EntityManagerFactoryImpl.java:94)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:905)\n    at org.hibernate.ejb.Ejb3Configuration.buildEntityManagerFactory(Ejb3Configuration.java:890)\n    at org.hibernate.ejb.HibernatePersistence.createContainerEntityManagerFactory(HibernatePersistence.java:74)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:286)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:310)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1483)\n    ... 103 more</code></pre>\n"},{"tags":["java","collections","dictionary","set","intersection"],"answers":[{"comments":[{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":4,"creation_date":1362115827,"post_id":6739175,"comment_id":21332582,"body_markdown":"Wow. Never knew `KeySet` supported `retainAll`. So useful.","body":"Wow. Never knew <code>KeySet</code> supported <code>retainAll</code>. So useful."},{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1382928514,"post_id":6739175,"comment_id":29137502,"body_markdown":"using collections since 1.1 - and did not know this either.","body":"using collections since 1.1 - and did not know this either."},{"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"score":0,"creation_date":1455264613,"post_id":6739175,"comment_id":58421482,"body_markdown":"Incredibly useful. values() supports this as well.","body":"Incredibly useful. values() supports this as well."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":3,"down_vote_count":0,"up_vote_count":141,"is_accepted":true,"score":141,"last_activity_date":1674672444,"creation_date":1311021736,"answer_id":6739175,"question_id":6739129,"body_markdown":"Just do:\r\n\r\n    map.keySet().retainAll(set);\r\n\r\nAs per the [javadoc][1], the changes in the key set are reflected back in the map.\r\n\r\n&gt; ... The set is backed by the map, so changes to the map are reflected in the set, and vice-versa.  ...\r\n\r\nHere&#39;s a demo:\r\n\r\n    var map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;1&quot;, &quot;one&quot;);\r\n    map.put(&quot;2&quot;, &quot;two&quot;);\r\n    map.put(&quot;3&quot;, &quot;three&quot;);\r\n    \r\n    var set = new HashSet&lt;String&gt;();\r\n    set.add(&quot;1&quot;);\r\n    set.add(&quot;3&quot;);\r\n    \r\n    map.keySet().retainAll(set);\r\n    \r\n    System.out.println(map); // {1=one, 3=three}\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()","title":"Filter the elements of a map based on a subset of its keys without iterating through the entire thing","body":"<p>Just do:</p>\n<pre><code>map.keySet().retainAll(set);\n</code></pre>\n<p>As per the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#keySet()\" rel=\"nofollow noreferrer\">javadoc</a>, the changes in the key set are reflected back in the map.</p>\n<blockquote>\n<p>... The set is backed by the map, so changes to the map are reflected in the set, and vice-versa.  ...</p>\n</blockquote>\n<p>Here's a demo:</p>\n<pre><code>var map = new HashMap&lt;String, String&gt;();\nmap.put(&quot;1&quot;, &quot;one&quot;);\nmap.put(&quot;2&quot;, &quot;two&quot;);\nmap.put(&quot;3&quot;, &quot;three&quot;);\n\nvar set = new HashSet&lt;String&gt;();\nset.add(&quot;1&quot;);\nset.add(&quot;3&quot;);\n\nmap.keySet().retainAll(set);\n\nSystem.out.println(map); // {1=one, 3=three}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416701,"reputation":4306,"user_id":792238,"accept_rate":87,"display_name":"Siddhartha"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1455264791,"creation_date":1455264791,"answer_id":35357673,"question_id":6739129,"body_markdown":"Elaborating on BalusC&#39;s excellent answer, values() supports retainAll() as well:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;1&quot;, &quot;one&quot;);\r\n    map.put(&quot;2&quot;, &quot;two&quot;);\r\n    map.put(&quot;3&quot;, &quot;three&quot;);\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n    set.add(&quot;one&quot;);\r\n    set.add(&quot;two&quot;);\r\n\r\n    map.values().retainAll(set);\r\n\r\n    System.out.println(map);   // prints {1=one, 2=two}\r\n\r\n\r\nretailAll retains duplicate values as well, as you would expect:\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;1&quot;, &quot;one&quot;);\r\n    map.put(&quot;2&quot;, &quot;two&quot;);\r\n    map.put(&quot;3&quot;, &quot;three&quot;);\r\n    map.put(&quot;4&quot;, &quot;two&quot;);\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n    set.add(&quot;one&quot;);\r\n    set.add(&quot;two&quot;);\r\n\r\n    map.values().retainAll(set);\r\n\r\n    System.out.println(map);  // prints {1=one, 2=two, 4=two}","title":"Filter the elements of a map based on a subset of its keys without iterating through the entire thing","body":"<p>Elaborating on BalusC's excellent answer, values() supports retainAll() as well:</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"1\", \"one\");\nmap.put(\"2\", \"two\");\nmap.put(\"3\", \"three\");\n\nSet&lt;String&gt; set = new HashSet&lt;String&gt;();\nset.add(\"one\");\nset.add(\"two\");\n\nmap.values().retainAll(set);\n\nSystem.out.println(map);   // prints {1=one, 2=two}\n</code></pre>\n\n<p>retailAll retains duplicate values as well, as you would expect:</p>\n\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"1\", \"one\");\nmap.put(\"2\", \"two\");\nmap.put(\"3\", \"three\");\nmap.put(\"4\", \"two\");\n\nSet&lt;String&gt; set = new HashSet&lt;String&gt;();\nset.add(\"one\");\nset.add(\"two\");\n\nmap.values().retainAll(set);\n\nSystem.out.println(map);  // prints {1=one, 2=two, 4=two}\n</code></pre>\n"}],"owner":{"account_id":171867,"reputation":1607,"user_id":399556,"accept_rate":92,"display_name":"dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32079,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":6739175,"answer_count":2,"score":62,"last_activity_date":1674672444,"creation_date":1311021512,"question_id":6739129,"body_markdown":"I have a `Map&lt;String, ArrayList&gt;` and a `Set&lt;String&gt;`. Is there a way to &quot;intersect&quot; the keys of the map with the set of strings such that only the pairs with the given key remain, without iterating over the entire map? My main concern is performance and re-inventing the wheel on something that can be done more elegantly.   ","title":"Filter the elements of a map based on a subset of its keys without iterating through the entire thing","body":"<p>I have a <code>Map&lt;String, ArrayList&gt;</code> and a <code>Set&lt;String&gt;</code>. Is there a way to \"intersect\" the keys of the map with the set of strings such that only the pairs with the given key remain, without iterating over the entire map? My main concern is performance and re-inventing the wheel on something that can be done more elegantly.   </p>\n"},{"tags":["java","selenium","testing","selenium-webdriver","safaridriver"],"comments":[{"owner":{"account_id":2593493,"reputation":226,"user_id":2247634,"display_name":"V_K"},"score":1,"creation_date":1566899990,"post_id":57670744,"comment_id":101791541,"body_markdown":"Are you sure you are able to create 5 safari sessions parallel? As safari does not support parallel session","body":"Are you sure you are able to create 5 safari sessions parallel? As safari does not support parallel session"},{"owner":{"account_id":16582243,"reputation":1,"user_id":11982554,"display_name":"hnayan"},"score":0,"creation_date":1566903052,"post_id":57670744,"comment_id":101793106,"body_markdown":"yes..I am able to create 5 instances of safari driver in single machine and all 5 run parallel.However,the 6th script is not getting picked up","body":"yes..I am able to create 5 instances of safari driver in single machine and all 5 run parallel.However,the 6th script is not getting picked up"},{"owner":{"account_id":15817306,"reputation":376,"user_id":11412643,"display_name":"Rohit"},"score":0,"creation_date":1630275346,"post_id":57670744,"comment_id":121905709,"body_markdown":"Hi @hnayan could you please help me with the Setup details that you used to run the parallel safari in one machine","body":"Hi @hnayan could you please help me with the Setup details that you used to run the parallel safari in one machine"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567077693,"creation_date":1567077693,"answer_id":57709059,"question_id":57670744,"body_markdown":"My expectation is that you&#39;re hitting default `maxSession` limit of `5` browser instances. \r\n\r\nYou can double check it by opening your Selenium Grid console and looking into node configuration:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe value can be ramped up by providing the relevant `maxSession` parameter to your Selenium Grid Node startup command line like:\r\n\r\n    java -jar selenium-server-standalone-3.141.59.jar -role node -maxSession 10 -hub http://localhost:4444/grid/register\r\n                                                                 ^^^^^^^^^^^^^^\r\n\r\nReferences:\r\n\r\n - [Selenium Grid][2]\r\n - [Selenium Grid - Configuring the nodes - Optional Parameters][3] \r\n - [How to run your Selenium tests in Distributed Test Execution Environments][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/znqiB.png\r\n  [2]: https://www.seleniumhq.org/docs/07_selenium_grid.jsp\r\n  [3]: https://github.com/SeleniumHQ/selenium/wiki/Grid2#optional-parameters\r\n  [4]: https://experitest.com/selenium-testing/selenium_distributed_test_execution_environments/","title":"Unable to perform parallel execution on safari on mac using selenium","body":"<p>My expectation is that you're hitting default <code>maxSession</code> limit of <code>5</code> browser instances. </p>\n\n<p>You can double check it by opening your Selenium Grid console and looking into node configuration:</p>\n\n<p><a href=\"https://i.stack.imgur.com/znqiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/znqiB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The value can be ramped up by providing the relevant <code>maxSession</code> parameter to your Selenium Grid Node startup command line like:</p>\n\n<pre><code>java -jar selenium-server-standalone-3.141.59.jar -role node -maxSession 10 -hub http://localhost:4444/grid/register\n                                                             ^^^^^^^^^^^^^^\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://www.seleniumhq.org/docs/07_selenium_grid.jsp\" rel=\"nofollow noreferrer\">Selenium Grid</a></li>\n<li><a href=\"https://github.com/SeleniumHQ/selenium/wiki/Grid2#optional-parameters\" rel=\"nofollow noreferrer\">Selenium Grid - Configuring the nodes - Optional Parameters</a> </li>\n<li><a href=\"https://experitest.com/selenium-testing/selenium_distributed_test_execution_environments/\" rel=\"nofollow noreferrer\">How to run your Selenium tests in Distributed Test Execution Environments</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10521390,"reputation":121,"user_id":7753798,"display_name":"bobbybobbobbed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674672398,"creation_date":1674672398,"answer_id":75238521,"question_id":57670744,"body_markdown":"It&#39;s an old question, but in case anyone comes across it, please read official apple website:\r\n\r\nhttps://developer.apple.com/documentation/webkit/about_webdriver_for_safari\r\n\r\n&gt; Only one Safari browser instance can be active at any given time, and\r\n&gt; only one WebDriver session at a time can be attached to the browser\r\n&gt; instance. These constraints ensure that the simulated behavior (mouse,\r\n&gt; keyboard, touch, and so forth) accurately reflects what a user can do\r\n&gt; in a macOS\r\n\r\nAt the moment, safari does not support parallel execution.  It would only be possible if you ran them each inside their own containers (with one Safari instance running inside each container)\r\n\r\nI too, thought I had 5 parallel Safari sessions running localy at first, but when you watch them, they only execute one at a time, changing maxSession will not fix this\r\n\r\n -- I hope this helps someone\r\n\r\n","title":"Unable to perform parallel execution on safari on mac using selenium","body":"<p>It's an old question, but in case anyone comes across it, please read official apple website:</p>\n<p><a href=\"https://developer.apple.com/documentation/webkit/about_webdriver_for_safari\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/webkit/about_webdriver_for_safari</a></p>\n<blockquote>\n<p>Only one Safari browser instance can be active at any given time, and\nonly one WebDriver session at a time can be attached to the browser\ninstance. These constraints ensure that the simulated behavior (mouse,\nkeyboard, touch, and so forth) accurately reflects what a user can do\nin a macOS</p>\n</blockquote>\n<p>At the moment, safari does not support parallel execution.  It would only be possible if you ran them each inside their own containers (with one Safari instance running inside each container)</p>\n<p>I too, thought I had 5 parallel Safari sessions running localy at first, but when you watch them, they only execute one at a time, changing maxSession will not fix this</p>\n<p>-- I hope this helps someone</p>\n"}],"owner":{"account_id":16582243,"reputation":1,"user_id":11982554,"display_name":"hnayan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674672398,"creation_date":1566895168,"question_id":57670744,"body_markdown":"I have around 1600 java TCs written using selenium.\r\nWhile executing test scripts in parallel (say thread count = 5), I am able to trigger 5 safari webdrivers and scripts are executing parallel.\r\n\r\nBut, when the 6th (threadcount +1) script gets invoked, it is throwing below exception:\r\n\r\n**Could not create a session: The Safari instance is already paired with another WebDriver session.**\r\n\r\nI am quitting and closing the webdriver session after each test case.\r\nThe same piece of code is working fine for other browsers except safari.It should run on the same machine with 5 instances running parallel.\r\n\r\n","title":"Unable to perform parallel execution on safari on mac using selenium","body":"<p>I have around 1600 java TCs written using selenium.\nWhile executing test scripts in parallel (say thread count = 5), I am able to trigger 5 safari webdrivers and scripts are executing parallel.</p>\n\n<p>But, when the 6th (threadcount +1) script gets invoked, it is throwing below exception:</p>\n\n<p><strong>Could not create a session: The Safari instance is already paired with another WebDriver session.</strong></p>\n\n<p>I am quitting and closing the webdriver session after each test case.\nThe same piece of code is working fine for other browsers except safari.It should run on the same machine with 5 instances running parallel.</p>\n"},{"tags":["java","spring","spring-kafka","spring-cloud-dataflow"],"owner":{"account_id":10934729,"reputation":3,"user_id":8036833,"display_name":"ld21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674672268,"creation_date":1674655040,"question_id":75235062,"body_markdown":"I have a spring cloud data flow processor that I need to increase the `fetch.max.bytes` value.  Based documentation from [here](https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-consumer-properties) and responses in the following questions [Question 1](https://stackoverflow.com/questions/58930762/where-are-kafka-consumer-properties-set-in-an-scdf-context) and [Question 2](https://stackoverflow.com/questions/74462328/spring-cloud-kafka-consumer-properties-not-working).  \r\n\r\nMy yml contains:\r\n\r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n      kafka:\r\n        bindings:\r\n          splitIncomingFile-in-0:\r\n            consumer:\r\n              configuration.fetch.max.bytes: 2147483647\r\n```\r\nUpon start up, the application fails to start, with the below error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\nDescription:\r\nFailed to bind properties under &#39;spring.cloud.stream.kafka.bindings.splitincomingfile-out-0&#39; to org.springframework.cloud.stream.binder.kafka.properties.KafkaBindingProperties:\r\nReason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [org.springframework.cloud.stream.binder.kafka.properties.KafkaBindingProperties]\r\nAction:\r\nUpdate your application&#39;s configuration\r\n```\r\n\r\nEverything I have tried is not remedying the situation does anyone have a solution.\r\n","title":"Spring cloud data flow consumer failing to load consumer configuration properties","body":"<p>I have a spring cloud data flow processor that I need to increase the <code>fetch.max.bytes</code> value.  Based documentation from <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream-binder-kafka.html#kafka-consumer-properties\" rel=\"nofollow noreferrer\">here</a> and responses in the following questions <a href=\"https://stackoverflow.com/questions/58930762/where-are-kafka-consumer-properties-set-in-an-scdf-context\">Question 1</a> and <a href=\"https://stackoverflow.com/questions/74462328/spring-cloud-kafka-consumer-properties-not-working\">Question 2</a>.</p>\n<p>My yml contains:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      kafka:\n        bindings:\n          splitIncomingFile-in-0:\n            consumer:\n              configuration.fetch.max.bytes: 2147483647\n</code></pre>\n<p>Upon start up, the application fails to start, with the below error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\nDescription:\nFailed to bind properties under 'spring.cloud.stream.kafka.bindings.splitincomingfile-out-0' to org.springframework.cloud.stream.binder.kafka.properties.KafkaBindingProperties:\nReason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [org.springframework.cloud.stream.binder.kafka.properties.KafkaBindingProperties]\nAction:\nUpdate your application's configuration\n</code></pre>\n<p>Everything I have tried is not remedying the situation does anyone have a solution.</p>\n"},{"tags":["java","multithreading","promise","future","vert.x"],"comments":[{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1674672846,"post_id":75238477,"comment_id":132766878,"body_markdown":"So I have a few questions for you to clarify for me, 1) why are you extending the Thread class? 2) why are you using a static method, 3) why are you using io.vertx package ?","body":"So I have a few questions for you to clarify for me, 1) why are you extending the Thread class? 2) why are you using a static method, 3) why are you using io.vertx package ?"},{"owner":{"account_id":24199659,"reputation":1,"user_id":18157674,"display_name":"Subhan Siddique"},"score":0,"creation_date":1674675292,"post_id":75238477,"comment_id":132767596,"body_markdown":"Yes I realized I did not have to extend the thread class. The method is static because I was writing a JUnit 4 test for it. I am using Vertx because this assignment is what im doing to learn futures and promises in the vertex lib","body":"Yes I realized I did not have to extend the thread class. The method is static because I was writing a JUnit 4 test for it. I am using Vertx because this assignment is what im doing to learn futures and promises in the vertex lib"},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1674683986,"post_id":75238477,"comment_id":132769953,"body_markdown":"I am not familiar with this library, but this code will run on the Main Thead and it is not creating any kind of parallel executions, I would suggest to read the docs for how to use this promise instancer you are creating, probably it should be passed to some kind of an executor, where the executor is responsible for executing some code and populating this promise instance with a fufure instance.","body":"I am not familiar with this library, but this code will run on the Main Thead and it is not creating any kind of parallel executions, I would suggest to read the docs for how to use this promise instancer you are creating, probably it should be passed to some kind of an executor, where the executor is responsible for executing some code and populating this promise instance with a fufure instance."}],"owner":{"account_id":24199659,"reputation":1,"user_id":18157674,"display_name":"Subhan Siddique"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674672150,"creation_date":1674672150,"question_id":75238477,"body_markdown":"Here is the code:\r\n\r\n    import io.vertx.core.Future; \r\n    import io.vertx.core.Promise; \r\n    import io.vertx.core.json.JsonArray; \r\n    import java.util.ArrayList; \r\n    import java.util.List; \r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Task extends Thread { \r\n    public static int sumEven(JsonArray numbers) {\r\n    List&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; numbers.size(); i++) {\r\n      int num = numbers.getInteger(i);\r\n      Promise&lt;Integer&gt; promise = Promise.promise();\r\n      try {\r\n        Thread.sleep(2000);\r\n        System.out.println(&quot;Waiting&quot;);\r\n      } catch (InterruptedException e) {\r\n        System.out.println(&quot;InterruptedException&quot;);\r\n        e.printStackTrace();\r\n      }\r\n      promise.complete(num);\r\n      futures.add(promise.future());\r\n    }\r\n    futures = futures.stream().filter(f -&gt; f.result() % 2 == 0).collect(Collectors.toList());\r\n    \r\n    if (futures.isEmpty()) {\r\n      return 0;\r\n    }\r\n    \r\n    int sum = 0;\r\n    for (int i = 0; i &lt; futures.size(); i++) {\r\n      sum += futures.get(i).result();\r\n    }\r\n    return sum;\r\n    }\r\n    }\r\n\r\nRight now its just waited 2 seconds during each iteration so complete a promise. I want to make it so that each promise turns into a thread that will take 2 seconds to complete the promise.\r\n\r\nMy code is above so you can see what I have tried. Right now its just waiting 2 seconds in every iteration. I want it so that each thread takes 2 seconds in an async manner.","title":"How can I make each promise take 2 seconds to complete in an async manner?","body":"<p>Here is the code:</p>\n<pre><code>import io.vertx.core.Future; \nimport io.vertx.core.Promise; \nimport io.vertx.core.json.JsonArray; \nimport java.util.ArrayList; \nimport java.util.List; \nimport java.util.stream.Collectors;\n\npublic class Task extends Thread { \npublic static int sumEven(JsonArray numbers) {\nList&lt;Future&lt;Integer&gt;&gt; futures = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; numbers.size(); i++) {\n  int num = numbers.getInteger(i);\n  Promise&lt;Integer&gt; promise = Promise.promise();\n  try {\n    Thread.sleep(2000);\n    System.out.println(&quot;Waiting&quot;);\n  } catch (InterruptedException e) {\n    System.out.println(&quot;InterruptedException&quot;);\n    e.printStackTrace();\n  }\n  promise.complete(num);\n  futures.add(promise.future());\n}\nfutures = futures.stream().filter(f -&gt; f.result() % 2 == 0).collect(Collectors.toList());\n\nif (futures.isEmpty()) {\n  return 0;\n}\n\nint sum = 0;\nfor (int i = 0; i &lt; futures.size(); i++) {\n  sum += futures.get(i).result();\n}\nreturn sum;\n}\n}\n</code></pre>\n<p>Right now its just waited 2 seconds during each iteration so complete a promise. I want to make it so that each promise turns into a thread that will take 2 seconds to complete the promise.</p>\n<p>My code is above so you can see what I have tried. Right now its just waiting 2 seconds in every iteration. I want it so that each thread takes 2 seconds in an async manner.</p>\n"},{"tags":["java","spring-boot","docker","maven","spring-native"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669457117,"post_id":74580459,"comment_id":131647920,"body_markdown":"You should check the reason for this: `com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of ch.qos.logback.classic.Logger are allowed in the image heap` ??","body":"You should check the reason for this: <code>com.oracle.graal.pointsto.constraints.UnsupportedFeatureExce&zwnj;&#8203;ption: No instances of ch.qos.logback.classic.Logger are allowed in the image heap</code> ??"},{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":0,"creation_date":1672403578,"post_id":74580459,"comment_id":132283397,"body_markdown":"Also see https://stackoverflow.com/questions/72770461/","body":"Also see <a href=\"https://stackoverflow.com/questions/72770461/\">stackoverflow.com/questions/72770461</a>"}],"answers":[{"tags":[],"owner":{"account_id":17918096,"reputation":111,"user_id":13018610,"display_name":"Tafadzwa L Nyamukapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670360201,"creation_date":1670360201,"answer_id":74708957,"question_id":74580459,"body_markdown":"You need to make sure you add reachability of metadata goal in your build plugin see github i[ssue][1] \r\n\r\n  \r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n        &lt;metadataRepository&gt;\r\n          &lt;enabled&gt;true&lt;/enabled&gt;\r\n        &lt;/metadataRepository&gt;\r\n        &lt;requiredVersion&gt;22.3&lt;/requiredVersion&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;add-reachability-metadata&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;add-reachability-metadata&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n  \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/33432","title":"Native Image with Spring Boot 3.0.0 logging trouble","body":"<p>You need to make sure you add reachability of metadata goal in your build plugin see github i<a href=\"https://github.com/spring-projects/spring-boot/issues/33432\" rel=\"nofollow noreferrer\">ssue</a></p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n  &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n    &lt;metadataRepository&gt;\n      &lt;enabled&gt;true&lt;/enabled&gt;\n    &lt;/metadataRepository&gt;\n    &lt;requiredVersion&gt;22.3&lt;/requiredVersion&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;add-reachability-metadata&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;add-reachability-metadata&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674671601,"creation_date":1674671601,"answer_id":75238366,"question_id":74580459,"body_markdown":"At the time when I asked this question, Spring Initializr did not offer (plugin-)dependency &quot;GraalVM Native Support&quot; for Spring Boot 3.0.0.\r\n\r\nNow this dependency is available. As confirmed at SpringOne event, it has to be used. After adding it the mentioned errors do not appear. The minimal required part in Maven config is this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n    &lt;/plugin&gt;","title":"Native Image with Spring Boot 3.0.0 logging trouble","body":"<p>At the time when I asked this question, Spring Initializr did not offer (plugin-)dependency &quot;GraalVM Native Support&quot; for Spring Boot 3.0.0.</p>\n<p>Now this dependency is available. As confirmed at SpringOne event, it has to be used. After adding it the mentioned errors do not appear. The minimal required part in Maven config is this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n  &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":19514117,"reputation":1316,"user_id":14277434,"display_name":"Elmar Brauch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1554,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75238366,"answer_count":2,"score":3,"last_activity_date":1674671601,"creation_date":1669447771,"question_id":74580459,"body_markdown":"When I start native Image of Spring Boot 3.0.0 spring-boot-starter-web with Docker, it shows strange log messages like this:\r\n\r\n` :: Spring Boot ::                (v3.0.0)`  \r\n`%PARSER_ERROR[d] %PARSER_ERROR[p] 1 --- [%PARSER_ERROR[t]] %PARSER_ERROR[logger] : %PARSER_ERROR[m]%PARSER_ERROR[n]%PARSER_ERROR[d] %PARSER_ERROR[p] 1 --- [%PARSER_ERROR[t]] %PARSER_ERROR[logger] : %PARSER_ERROR[m]%PARSER_ERROR[n]%PARSER_ERROR[d] %PARSER_ERROR[p] 1 ---`\r\n\r\nBefore I tried dependency spring-boot-starter-webflux in this case the build of the native image failed with error:  \r\n`com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of ch.qos.logback.classic.Logger are allowed in the image heap` \r\n\r\nWith Spring Initializr I generated a new project:\r\n- Maven\r\n- Java 17\r\n- Spring Boot version 3.0.0\r\n- Jar\r\n- Dependencies: spring-boot-starter-web &amp; lombok\r\n\r\nThen I build native Image with Maven &quot;mvn -p native spring-boot:build-image&quot;.\r\n\r\nI had the expectation, that native Images just work with the new Spring release for simple configuration like the one I made here. Am I missing something or has Spring Boot 3.0.0 big issues in supporting native Images?\r\n\r\n","title":"Native Image with Spring Boot 3.0.0 logging trouble","body":"<p>When I start native Image of Spring Boot 3.0.0 spring-boot-starter-web with Docker, it shows strange log messages like this:</p>\n<p><code> :: Spring Boot ::                (v3.0.0)</code><br />\n<code>%PARSER_ERROR[d] %PARSER_ERROR[p] 1 --- [%PARSER_ERROR[t]] %PARSER_ERROR[logger] : %PARSER_ERROR[m]%PARSER_ERROR[n]%PARSER_ERROR[d] %PARSER_ERROR[p] 1 --- [%PARSER_ERROR[t]] %PARSER_ERROR[logger] : %PARSER_ERROR[m]%PARSER_ERROR[n]%PARSER_ERROR[d] %PARSER_ERROR[p] 1 ---</code></p>\n<p>Before I tried dependency spring-boot-starter-webflux in this case the build of the native image failed with error:<br />\n<code>com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of ch.qos.logback.classic.Logger are allowed in the image heap</code></p>\n<p>With Spring Initializr I generated a new project:</p>\n<ul>\n<li>Maven</li>\n<li>Java 17</li>\n<li>Spring Boot version 3.0.0</li>\n<li>Jar</li>\n<li>Dependencies: spring-boot-starter-web &amp; lombok</li>\n</ul>\n<p>Then I build native Image with Maven &quot;mvn -p native spring-boot:build-image&quot;.</p>\n<p>I had the expectation, that native Images just work with the new Spring release for simple configuration like the one I made here. Am I missing something or has Spring Boot 3.0.0 big issues in supporting native Images?</p>\n"},{"tags":["java","gitlab","gitlab-api"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674420770,"post_id":75125923,"comment_id":132705835,"body_markdown":"Which endpoint are you referring to? Also please provide a link to the documentation that you have a hard time to understand.","body":"Which endpoint are you referring to? Also please provide a link to the documentation that you have a hard time to understand."},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1674502258,"post_id":75125923,"comment_id":132723527,"body_markdown":"I can see in the documentation `base_sha` refer to source branch and `start_sha` refers to target branch. But in your request both are same","body":"I can see in the documentation <code>base_sha</code> refer to source branch and <code>start_sha</code> refers to target branch. But in your request both are same"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1674671070,"post_id":75125923,"comment_id":132766308,"body_markdown":"it was an issue with the provided parameters. I updated the post","body":"it was an issue with the provided parameters. I updated the post"}],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674671054,"creation_date":1673793858,"question_id":75125923,"body_markdown":"i looked at the documentation but its hard to understand how it works.\r\n\r\nThis is my current restcall:\r\n\r\n    {\r\n        &quot;body&quot;: &quot;Via Rest&quot;,\r\n        &quot;position&quot;: {\r\n            &quot;base_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\r\n            &quot;start_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\r\n            &quot;head_sha&quot;: &quot;5828c8f62744f8c63d2e35cfb17988380a3a63d6&quot;,\r\n            &quot;new_path&quot;: &quot;README.md&quot;,\r\n            &quot;position_type&quot;: &quot;text&quot;,\r\n            &quot;line_range&quot;: {\r\n                &quot;start&quot;: {\r\n                    &quot;line_code&quot;: &quot;8ec9a00bfd09b3190ac6b22251dbb1aa95a0579d_0_6&quot;,\r\n                    &quot;type&quot;: &quot;new&quot;\r\n                },\r\n                &quot;end&quot;: {\r\n                    &quot;line_code&quot;: &quot;8ec9a00bfd09b3190ac6b22251dbb1aa95a0579d_0_11&quot;,\r\n                    &quot;type&quot;: &quot;new&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe response is:\r\n\r\n    &quot;message&quot;: &quot;400 Bad request - Note {:line_code=&gt;[\\&quot;can&#39;t be blank\\&quot;, \\&quot;must be a valid line code\\&quot;], :position=&gt;[\\&quot;is incomplete\\&quot;]}&quot;\r\n\r\nBut what i dont understand is that line_code is not blank... \r\n\r\nI also dont understand how the linecode itself works. I am adding a new comment, so SHA1HASH_OLDLINE_NEWLINE doesnt work as a format, since iam not referencing any old line. I looked at existing muliti line comments, but when i copy them (HASH_12_6 and HASH_12_11), it still returns the same error.\r\n\r\nEDIT: \r\nHere is the api i have problems with.\r\n\r\nhttps://docs.gitlab.com/ee/api/discussions.html#create-new-merge-request-thread\r\n\r\nAfter some testing i found out that the problem is probably NOT what the errors says.\r\n\r\nIf i create a normal merge request thread over a single line via this json:\r\n\r\n    {\r\n        &quot;body&quot;: &quot;Via Postman&quot;,\r\n        &quot;position&quot;: {\r\n            &quot;position_type&quot;: &quot;text&quot;,\r\n            &quot;base_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\r\n            &quot;head_sha&quot;: &quot;5828c8f62744f8c63d2e35cfb17988380a3a63d6&quot;,\r\n            &quot;start_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\r\n            &quot;new_path&quot;: &quot;src/main/java/com/example/demo/DemoApplication.java&quot;,\r\n            &quot;old_path&quot;: &quot;src/main/java/com/example/demo/DemoApplication.java&quot;,\r\n            &quot;new_line&quot;: 1\r\n        }\r\n    }\r\n\r\nit also returns the same error, but if i switch the old_path &amp; new_path to &quot;README.md&quot; it works.\r\n\r\nBoth files exist, but somehow the longer file is making problems.\r\n\r\nEDIT: i figured out the issue. The problem is that new_line really needs to point to a new line (green line in PR view). If its not green i have to supply both new_line and old_line. If its a red line i have to supply old_line","title":"How to add multiline comments to mergerequests in gitlab via rest api?","body":"<p>i looked at the documentation but its hard to understand how it works.</p>\n<p>This is my current restcall:</p>\n<pre><code>{\n    &quot;body&quot;: &quot;Via Rest&quot;,\n    &quot;position&quot;: {\n        &quot;base_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\n        &quot;start_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\n        &quot;head_sha&quot;: &quot;5828c8f62744f8c63d2e35cfb17988380a3a63d6&quot;,\n        &quot;new_path&quot;: &quot;README.md&quot;,\n        &quot;position_type&quot;: &quot;text&quot;,\n        &quot;line_range&quot;: {\n            &quot;start&quot;: {\n                &quot;line_code&quot;: &quot;8ec9a00bfd09b3190ac6b22251dbb1aa95a0579d_0_6&quot;,\n                &quot;type&quot;: &quot;new&quot;\n            },\n            &quot;end&quot;: {\n                &quot;line_code&quot;: &quot;8ec9a00bfd09b3190ac6b22251dbb1aa95a0579d_0_11&quot;,\n                &quot;type&quot;: &quot;new&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>The response is:</p>\n<pre><code>&quot;message&quot;: &quot;400 Bad request - Note {:line_code=&gt;[\\&quot;can't be blank\\&quot;, \\&quot;must be a valid line code\\&quot;], :position=&gt;[\\&quot;is incomplete\\&quot;]}&quot;\n</code></pre>\n<p>But what i dont understand is that line_code is not blank...</p>\n<p>I also dont understand how the linecode itself works. I am adding a new comment, so SHA1HASH_OLDLINE_NEWLINE doesnt work as a format, since iam not referencing any old line. I looked at existing muliti line comments, but when i copy them (HASH_12_6 and HASH_12_11), it still returns the same error.</p>\n<p>EDIT:\nHere is the api i have problems with.</p>\n<p><a href=\"https://docs.gitlab.com/ee/api/discussions.html#create-new-merge-request-thread\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/api/discussions.html#create-new-merge-request-thread</a></p>\n<p>After some testing i found out that the problem is probably NOT what the errors says.</p>\n<p>If i create a normal merge request thread over a single line via this json:</p>\n<pre><code>{\n    &quot;body&quot;: &quot;Via Postman&quot;,\n    &quot;position&quot;: {\n        &quot;position_type&quot;: &quot;text&quot;,\n        &quot;base_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\n        &quot;head_sha&quot;: &quot;5828c8f62744f8c63d2e35cfb17988380a3a63d6&quot;,\n        &quot;start_sha&quot;: &quot;bcdfbfd57c8f3cd6cd65998464bb71a562d49948&quot;,\n        &quot;new_path&quot;: &quot;src/main/java/com/example/demo/DemoApplication.java&quot;,\n        &quot;old_path&quot;: &quot;src/main/java/com/example/demo/DemoApplication.java&quot;,\n        &quot;new_line&quot;: 1\n    }\n}\n</code></pre>\n<p>it also returns the same error, but if i switch the old_path &amp; new_path to &quot;README.md&quot; it works.</p>\n<p>Both files exist, but somehow the longer file is making problems.</p>\n<p>EDIT: i figured out the issue. The problem is that new_line really needs to point to a new line (green line in PR view). If its not green i have to supply both new_line and old_line. If its a red line i have to supply old_line</p>\n"},{"tags":["java","loops","control-flow"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673817986,"post_id":75128478,"comment_id":132577133,"body_markdown":"If `current` is 2, the while body will be executed twice. If it is three, it will be executed three times. With an `if` it is guaranteed to be only executed at most once. Not sure I get what your question is – a loop loops until the condition becomes false.","body":"If <code>current</code> is 2, the while body will be executed twice. If it is three, it will be executed three times. With an <code>if</code> it is guaranteed to be only executed at most once. Not sure I get what your question is – a loop loops until the condition becomes false."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673818200,"post_id":75128478,"comment_id":132577183,"body_markdown":"Please provide a runnable example which illustrates the problem.","body":"Please provide a runnable example which illustrates the problem."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673818301,"post_id":75128478,"comment_id":132577198,"body_markdown":"And why not just put a breakpoint in your while loop and *find out* why it&#39;s running more than once?","body":"And why not just put a breakpoint in your while loop and <i>find out</i> why it&#39;s running more than once?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1673820034,"post_id":75128478,"comment_id":132577479,"body_markdown":"if `nums[left]` isn&#39;t `0`, the `while` operates differently. You say the second snippet &#39;passes&#39;, but it&#39;s not correct. Example input: 01111111000000000000000110. You always overwrite the answer, some sort of `ans = Math.max()` or similar needs to be involved somewhere.","body":"if <code>nums[left]</code> isn&#39;t <code>0</code>, the <code>while</code> operates differently. You say the second snippet &#39;passes&#39;, but it&#39;s not correct. Example input: 01111111000000000000000110. You always overwrite the answer, some sort of <code>ans = Math.max()</code> or similar needs to be involved somewhere."},{"owner":{"account_id":25254251,"reputation":15,"user_id":19086268,"display_name":"Siggyweb"},"score":0,"creation_date":1673859285,"post_id":75128478,"comment_id":132583145,"body_markdown":"Thanks all good spot that the conditional logic when current overtakes k is dependent on the first number in the window being a 0, @rzwitserloot please could you elaborate on what you mean with the use of `ans = Math.max()`?","body":"Thanks all good spot that the conditional logic when current overtakes k is dependent on the first number in the window being a 0, @rzwitserloot please could you elaborate on what you mean with the use of <code>ans = Math.max()</code>?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673871738,"post_id":75128478,"comment_id":132586962,"body_markdown":"Looks like you figured it out :)","body":"Looks like you figured it out :)"},{"owner":{"account_id":25254251,"reputation":15,"user_id":19086268,"display_name":"Siggyweb"},"score":0,"creation_date":1673903869,"post_id":75128478,"comment_id":132597002,"body_markdown":"Thank you kindly, it always looks so obvious when you find the answer :)","body":"Thank you kindly, it always looks so obvious when you find the answer :)"}],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674670794,"creation_date":1674670794,"answer_id":75238217,"question_id":75128478,"body_markdown":"[Solution moved](https://meta.stackexchange.com/q/309552/997587) from [@SiggyWeb](https://stackoverflow.com/users/19086268)&#39;s question post:\r\n&gt; Solution found via feedback from the comments\r\n&gt; ```\r\n&gt; class Solution {\r\n&gt;     public int longestOnes(int[] nums, int k) {\r\n&gt;         int current = 0;\r\n&gt;         int left = 0;\r\n&gt;         int ans = 0;\r\n&gt;            \r\n&gt;         for (int right = 0; right &lt; nums.length; right++){\r\n&gt;             if (nums[right] == 0){\r\n&gt;                 current++;\r\n&gt;             }         \r\n&gt;             \r\n&gt;             while (current &gt; k){\r\n&gt;                 if (nums[left] == 0){\r\n&gt;                     current--;\r\n&gt;                 }\r\n&gt;                 left++;\r\n&gt;             }\r\n&gt;             ans = Math.max(ans,right - left + 1);    \r\n&gt;         }\r\n&gt;         return ans;\r\n&gt;     }\r\n&gt; }\r\n&gt; ```","title":"Java Comparison of If/While Loop","body":"<p><a href=\"https://meta.stackexchange.com/q/309552/997587\">Solution moved</a> from <a href=\"https://stackoverflow.com/users/19086268\">@SiggyWeb</a>'s question post:</p>\n<blockquote>\n<p>Solution found via feedback from the comments</p>\n<pre><code>class Solution {\n    public int longestOnes(int[] nums, int k) {\n        int current = 0;\n        int left = 0;\n        int ans = 0;\n           \n        for (int right = 0; right &lt; nums.length; right++){\n            if (nums[right] == 0){\n                current++;\n            }         \n            \n            while (current &gt; k){\n                if (nums[left] == 0){\n                    current--;\n                }\n                left++;\n            }\n            ans = Math.max(ans,right - left + 1);    \n        }\n        return ans;\n    }\n}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":25254251,"reputation":15,"user_id":19086268,"display_name":"Siggyweb"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75238217,"answer_count":1,"score":-1,"last_activity_date":1674670794,"creation_date":1673817657,"question_id":75128478,"body_markdown":"Working on a leetcode problem described as: &quot;Given a binary array nums and an integer k, return the maximum number of consecutive 1&#39;s in the array if you can flip at most k 0&#39;s.&quot;\r\n\r\nI am using a sliding window approach and had produced the below code:\r\n\r\n```\r\nclass Solution {\r\n    public int longestOnes(int[] nums, int k) {\r\n        int current = 0;\r\n        int left = 0;\r\n        int ans = 0;\r\n           \r\n        for (int right = 0; right &lt; nums.length; right++){\r\n            if (nums[right] == 0){\r\n                current++;\r\n            }         \r\n            \r\n            while (current &gt; k){\r\n                if (nums[left] == 0){\r\n                    current--;\r\n                }\r\n                left++;\r\n            }\r\n\r\n            ans = right - left + 1;    \r\n        }\r\n        return ans;\r\n    }\r\n}\r\n``` \r\n\r\nThis produces a logical error in the ouptut where the value returned is off by 1 in either direction depending on the test. I replaced the `while` loop with in `if` statement shown in the code below which fixed the error. Why is this the case?\r\n\r\n```\r\nclass Solution {\r\n    public int longestOnes(int[] nums, int k) {\r\n        int current = 0;\r\n        int left = 0;\r\n        int ans = 0;\r\n           \r\n        for (int right = 0; right &lt; nums.length; right++){\r\n            if (nums[right] == 0){\r\n                current++;\r\n            }         \r\n            \r\n            if (current &gt; k){\r\n                if (nums[left] == 0){\r\n                    current--;\r\n                }\r\n                left++;\r\n            }\r\n            ans = right - left + 1;    \r\n        }\r\n            \r\n        return ans;\r\n    }\r\n}\r\n```\r\n\r\nI expected the `while` loop to run once and be equivalent as the block should evaluate the condition on each iteration and then act if the condition is true. What is happening here?","title":"Java Comparison of If/While Loop","body":"<p>Working on a leetcode problem described as: &quot;Given a binary array nums and an integer k, return the maximum number of consecutive 1's in the array if you can flip at most k 0's.&quot;</p>\n<p>I am using a sliding window approach and had produced the below code:</p>\n<pre><code>class Solution {\n    public int longestOnes(int[] nums, int k) {\n        int current = 0;\n        int left = 0;\n        int ans = 0;\n           \n        for (int right = 0; right &lt; nums.length; right++){\n            if (nums[right] == 0){\n                current++;\n            }         \n            \n            while (current &gt; k){\n                if (nums[left] == 0){\n                    current--;\n                }\n                left++;\n            }\n\n            ans = right - left + 1;    \n        }\n        return ans;\n    }\n}\n</code></pre>\n<p>This produces a logical error in the ouptut where the value returned is off by 1 in either direction depending on the test. I replaced the <code>while</code> loop with in <code>if</code> statement shown in the code below which fixed the error. Why is this the case?</p>\n<pre><code>class Solution {\n    public int longestOnes(int[] nums, int k) {\n        int current = 0;\n        int left = 0;\n        int ans = 0;\n           \n        for (int right = 0; right &lt; nums.length; right++){\n            if (nums[right] == 0){\n                current++;\n            }         \n            \n            if (current &gt; k){\n                if (nums[left] == 0){\n                    current--;\n                }\n                left++;\n            }\n            ans = right - left + 1;    \n        }\n            \n        return ans;\n    }\n}\n</code></pre>\n<p>I expected the <code>while</code> loop to run once and be equivalent as the block should evaluate the condition on each iteration and then act if the condition is true. What is happening here?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1674668420,"post_id":75237786,"comment_id":132765448,"body_markdown":"`Stream.of(...).filter(value -&gt; value != 3)...`?","body":"<code>Stream.of(...).filter(value -&gt; value != 3)...</code>?"},{"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"score":0,"creation_date":1674668494,"post_id":75237786,"comment_id":132765469,"body_markdown":"@Turing85 It should be filtered from the index, not the value","body":"@Turing85 It should be filtered from the index, not the value"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1674668765,"post_id":75237786,"comment_id":132765544,"body_markdown":"A stream does not have an &quot;index&quot;.","body":"A stream does not have an &quot;index&quot;."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1674668895,"post_id":75237786,"comment_id":132765588,"body_markdown":"What&#39;s more: the encounter-order is not guaranteed, especially not in parallel streams.","body":"What&#39;s more: the encounter-order is not guaranteed, especially not in parallel streams."}],"answers":[{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":6,"creation_date":1674671080,"post_id":75238199,"comment_id":132766313,"body_markdown":"These are both correct solutions, and you might want to point out that (a) streams are not the ultimate solutions to all problems (just like regex) and (b) this is a case where a simple loop is the more readable solution.","body":"These are both correct solutions, and you might want to point out that (a) streams are not the ultimate solutions to all problems (just like regex) and (b) this is a case where a simple loop is the more readable solution."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674670657,"creation_date":1674670657,"answer_id":75238199,"question_id":75237786,"body_markdown":"A Stream is not a data structure and doesn’t hold the data. It represent a pipeline through which data will flow and which functions to operate on the data. Especially you cannot point to a location in the stream where a certain element exists. What you could do is stream over the indices, filter out the index which you don&#39;t need and map to the list elements:\r\n\r\n    int n = 3;\r\n    List&lt;Integer&gt; myList = List.of(1, 2, 3, 4, 5);\r\n    IntStream.range(0, myList.size())\r\n             .filter(i -&gt; i !=n)\r\n             .map(myList::get)\r\n             .forEach(System.out::println);\r\n\r\nor include only elements you need from the source when streaming:\r\n\r\n    Stream.concat(myList.subList(0, n).stream(), myList.subList(n+1, myList.size()).stream())\r\n              .forEach(System.out::println);\r\n\r\n ","title":"How to skip only nth element in java stream","body":"<p>A Stream is not a data structure and doesn’t hold the data. It represent a pipeline through which data will flow and which functions to operate on the data. Especially you cannot point to a location in the stream where a certain element exists. What you could do is stream over the indices, filter out the index which you don't need and map to the list elements:</p>\n<pre><code>int n = 3;\nList&lt;Integer&gt; myList = List.of(1, 2, 3, 4, 5);\nIntStream.range(0, myList.size())\n         .filter(i -&gt; i !=n)\n         .map(myList::get)\n         .forEach(System.out::println);\n</code></pre>\n<p>or include only elements you need from the source when streaming:</p>\n<pre><code>Stream.concat(myList.subList(0, n).stream(), myList.subList(n+1, myList.size()).stream())\n          .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":75238199,"answer_count":1,"score":3,"last_activity_date":1674670657,"creation_date":1674668353,"question_id":75237786,"body_markdown":"In a given list of Integer, I want to skip one element at `n`th index.\r\n\r\nInput:\r\n\r\n```\r\n{ 1, 2, 3, 4, 5 }\r\n```\r\n\r\nExpected output after skipping 3rd element:\r\n\r\n```\r\n{ 1, 2, 4, 5 }\r\n```\r\n\r\nI can see even when running parallelly, stream consistently returns the last 3 elements though their order is different. So, stream can knows the index of each or is this a random coincidence?\r\n\r\n```java\r\nStream.of(1,2,3,4,5)\r\n\t.parallel()\r\n\t.skip(2)\r\n\t.forEach(System.out::println);\r\n```\r\n\r\nSo my question is, is it possible to skip only one element from a list withing Java Streams?\r\n\r\n\r\n","title":"How to skip only nth element in java stream","body":"<p>In a given list of Integer, I want to skip one element at <code>n</code>th index.</p>\n<p>Input:</p>\n<pre><code>{ 1, 2, 3, 4, 5 }\n</code></pre>\n<p>Expected output after skipping 3rd element:</p>\n<pre><code>{ 1, 2, 4, 5 }\n</code></pre>\n<p>I can see even when running parallelly, stream consistently returns the last 3 elements though their order is different. So, stream can knows the index of each or is this a random coincidence?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(1,2,3,4,5)\n    .parallel()\n    .skip(2)\n    .forEach(System.out::println);\n</code></pre>\n<p>So my question is, is it possible to skip only one element from a list withing Java Streams?</p>\n"},{"tags":["java","code-generation","builder","auto-value"],"owner":{"account_id":318097,"reputation":4364,"user_id":635125,"accept_rate":77,"display_name":"Chris Morris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674670408,"creation_date":1674670408,"question_id":75238146,"body_markdown":"I have an `AutoValue` with an `Optional` field. The top-level `AutoValue` has a `Builder` that provides a nested `Builder` for the `Optional` field. However, there is a compilation error because the nested `Builder` returns the field, itself, instead of an `Optional` containing that field. **Am I doing this incorrectly? Is there a suggested work around?**\r\n\r\n\r\nExample below:\r\n\r\n```\r\npackage com.google.sandbox;\r\n\r\nimport com.google.auto.value.AutoValue;\r\nimport java.util.Optional;\r\n\r\npublic final class MainClass {\r\n\r\n  @AutoValue\r\n  public abstract static class MainMessage {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_MainClass_MainMessage.Builder();\r\n    }\r\n\r\n    public abstract Optional&lt;SubMessage&gt; subMessage();\r\n\r\n    public abstract Builder toBuilder();\r\n\r\n    /** Builder for MainMessage. */\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      public abstract Builder setSubMessage(SubMessage value);\r\n\r\n      public abstract SubMessage.Builder subMessageBuilder();\r\n\r\n      public abstract MainMessage build();\r\n    }\r\n  }\r\n\r\n  @AutoValue\r\n  public abstract static class SubMessage {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_MainClass_SubMessage.Builder();\r\n    }\r\n\r\n    public abstract int someValue();\r\n\r\n    public abstract Builder toBuilder();\r\n\r\n    /** Builder for SubMessage. */\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      public abstract Builder setSomeValue(int value);\r\n\r\n      public abstract SubMessage build();\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nError:\r\n```\r\n[AutoValueBuilderWrongType] Property builder for subMessage has type com.google.sandbox.MainClass.SubMessage.Builder whose build() method returns com.google.sandbox.MainClass.SubMessage instead of java.util.Optional&lt;com.google.sandbox.MainClass.SubMessage&gt;\r\n      public abstract SubMessage.Builder subMessageBuilder();\r\n```\r\n","title":"compile error: nested AutoValue builder does not work when the object it builds is an Optional field","body":"<p>I have an <code>AutoValue</code> with an <code>Optional</code> field. The top-level <code>AutoValue</code> has a <code>Builder</code> that provides a nested <code>Builder</code> for the <code>Optional</code> field. However, there is a compilation error because the nested <code>Builder</code> returns the field, itself, instead of an <code>Optional</code> containing that field. <strong>Am I doing this incorrectly? Is there a suggested work around?</strong></p>\n<p>Example below:</p>\n<pre><code>package com.google.sandbox;\n\nimport com.google.auto.value.AutoValue;\nimport java.util.Optional;\n\npublic final class MainClass {\n\n  @AutoValue\n  public abstract static class MainMessage {\n\n    public static Builder builder() {\n      return new AutoValue_MainClass_MainMessage.Builder();\n    }\n\n    public abstract Optional&lt;SubMessage&gt; subMessage();\n\n    public abstract Builder toBuilder();\n\n    /** Builder for MainMessage. */\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      public abstract Builder setSubMessage(SubMessage value);\n\n      public abstract SubMessage.Builder subMessageBuilder();\n\n      public abstract MainMessage build();\n    }\n  }\n\n  @AutoValue\n  public abstract static class SubMessage {\n\n    public static Builder builder() {\n      return new AutoValue_MainClass_SubMessage.Builder();\n    }\n\n    public abstract int someValue();\n\n    public abstract Builder toBuilder();\n\n    /** Builder for SubMessage. */\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      public abstract Builder setSomeValue(int value);\n\n      public abstract SubMessage build();\n    }\n  }\n}\n\n</code></pre>\n<p>Error:</p>\n<pre><code>[AutoValueBuilderWrongType] Property builder for subMessage has type com.google.sandbox.MainClass.SubMessage.Builder whose build() method returns com.google.sandbox.MainClass.SubMessage instead of java.util.Optional&lt;com.google.sandbox.MainClass.SubMessage&gt;\n      public abstract SubMessage.Builder subMessageBuilder();\n</code></pre>\n"},{"tags":["java","jms","ibm-mq","spring-jms","jmstemplate"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1674636169,"post_id":75230503,"comment_id":132754389,"body_markdown":"Commit the DB transaction first and only then commit the consumption of the incoming JMS message is common pattern. To avoid a [Two-phase commit](https://en.wikipedia.org/wiki/Two-phase_commit_protocol), you should perform a duplicate check before inserting the order so you can safely retry the incoming message.","body":"Commit the DB transaction first and only then commit the consumption of the incoming JMS message is common pattern. To avoid a <a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" rel=\"nofollow noreferrer\">Two-phase commit</a>, you should perform a duplicate check before inserting the order so you can safely retry the incoming message."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":1,"creation_date":1674658407,"post_id":75230503,"comment_id":132761772,"body_markdown":"Using a transacted JMS session (i.e. `setSessionTransacted(true)`) _only_ applies to JMS. If you want to include both the JMS and JDBC resource managers in the same transaction you&#39;ll need to use an XA transaction.","body":"Using a transacted JMS session (i.e. <code>setSessionTransacted(true)</code>) <i>only</i> applies to JMS. If you want to include both the JMS and JDBC resource managers in the same transaction you&#39;ll need to use an XA transaction."}],"answers":[{"tags":[],"owner":{"account_id":5765894,"reputation":972,"user_id":4550871,"display_name":"Doug Grove"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674658552,"creation_date":1674658552,"answer_id":75235767,"question_id":75230503,"body_markdown":"The `JmsTransactionManager` is only capable of managing transactions on the connections that are issued by the connection factory that it contains.  In order to have synchronized transactions between JMS and your database, you will need to have a JTA transaction manager configured.  This is best done by having the JTA transaction manager being the `PlatformTransactionManager`.\r\n\r\nWith synchronized transactions, you will have `DUPS-OK` functionality.  The JMS message listener will start a transaction in a new transaction context.  The JPA database persistence will then join the existing JTA transaction and there will be two transactions in the transaction context.","title":"Database rollback not happening when using @JmsListener to listen to messages from IBM MQ","body":"<p>The <code>JmsTransactionManager</code> is only capable of managing transactions on the connections that are issued by the connection factory that it contains.  In order to have synchronized transactions between JMS and your database, you will need to have a JTA transaction manager configured.  This is best done by having the JTA transaction manager being the <code>PlatformTransactionManager</code>.</p>\n<p>With synchronized transactions, you will have <code>DUPS-OK</code> functionality.  The JMS message listener will start a transaction in a new transaction context.  The JPA database persistence will then join the existing JTA transaction and there will be two transactions in the transaction context.</p>\n"}],"owner":{"account_id":3303310,"reputation":417,"user_id":2778887,"accept_rate":27,"display_name":"Bifrost"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674670152,"creation_date":1674629136,"question_id":75230503,"body_markdown":"I am using the `@JmsListener` annotation from Spring JMS to consume messages from an IBM MQ queue, but when an exception occurs the database updates are not being rolled back. The JMS listener is only rolling back the MQ messages, i.e dequeuing the message and putting it back in the queue. How can I ensure that the database updates are also rolled back in this scenario?\r\n\r\nSample code:\r\n```java\r\n@Service\r\n@Transactional\r\n@JMSListener(containerFactory=&quot;jmsListenerContainerFactory&quot;,destination=&quot;ibm.mq.request&quot;)\r\npublic class TestListener {\r\n\r\n   public void receive message(String message) {\r\n        \r\n       1:  // convert message to object apply business logic\r\n\r\n       2:  // insert into order_table;\r\n\r\n       3:  // convert object back to string and put it into response queue\r\n       4:  jmsTemplate.convertAndSend(&quot;ibm.mq.response&quot;,message);\r\n    }\r\n}\r\n```\r\n\r\nWhen the listener starts, picks a message from MQ, converts it to an `Object`, applies some logic, and persists in the database.\r\n\r\nIssue: When an exception occurs at step 4, Listener picks up the same message (which indicates the message is still in the MQ) but the database insert did not roll back.\r\n\r\nCan someone help me how to roll back database insert/updates?\r\n\r\nJMS config file :\r\n```java\r\n    @Bean\r\n    public JmsTransactionManager jmsTransactionManager(MQConnectionFactory connectionFactory){\r\n       return new JmsTransactionManager(connectionFactory);\r\n    }\r\n\r\n    @Bean\r\n    public JmsTemplate jmsTemplate(MQConnectionFactory connectionFactory){\r\n       JmsTemplate jmsTemplate = new JmsTemplate (connectionFactory);\r\n       jmsTemplate.setSessionTransacted(true);\r\n       return jmsTemplate;\r\n    }\r\n```","title":"Database rollback not happening when using @JmsListener to listen to messages from IBM MQ","body":"<p>I am using the <code>@JmsListener</code> annotation from Spring JMS to consume messages from an IBM MQ queue, but when an exception occurs the database updates are not being rolled back. The JMS listener is only rolling back the MQ messages, i.e dequeuing the message and putting it back in the queue. How can I ensure that the database updates are also rolled back in this scenario?</p>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Transactional\n@JMSListener(containerFactory=&quot;jmsListenerContainerFactory&quot;,destination=&quot;ibm.mq.request&quot;)\npublic class TestListener {\n\n   public void receive message(String message) {\n        \n       1:  // convert message to object apply business logic\n\n       2:  // insert into order_table;\n\n       3:  // convert object back to string and put it into response queue\n       4:  jmsTemplate.convertAndSend(&quot;ibm.mq.response&quot;,message);\n    }\n}\n</code></pre>\n<p>When the listener starts, picks a message from MQ, converts it to an <code>Object</code>, applies some logic, and persists in the database.</p>\n<p>Issue: When an exception occurs at step 4, Listener picks up the same message (which indicates the message is still in the MQ) but the database insert did not roll back.</p>\n<p>Can someone help me how to roll back database insert/updates?</p>\n<p>JMS config file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public JmsTransactionManager jmsTransactionManager(MQConnectionFactory connectionFactory){\n       return new JmsTransactionManager(connectionFactory);\n    }\n\n    @Bean\n    public JmsTemplate jmsTemplate(MQConnectionFactory connectionFactory){\n       JmsTemplate jmsTemplate = new JmsTemplate (connectionFactory);\n       jmsTemplate.setSessionTransacted(true);\n       return jmsTemplate;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-ldap"],"answers":[{"comments":[{"owner":{"account_id":15608939,"reputation":31,"user_id":11260934,"display_name":"mark"},"score":0,"creation_date":1553679384,"post_id":55360664,"comment_id":97470060,"body_markdown":"i understand and thanks for your response, however this doesn&#39;t answer the question about*how to provide the values i had mentioned","body":"i understand and thanks for your response, however this doesn&#39;t answer the question about*how to provide the values i had mentioned"}],"tags":[],"owner":{"account_id":14583764,"reputation":139,"user_id":10533306,"display_name":"sparse"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553613567,"creation_date":1553613567,"answer_id":55360664,"question_id":55360199,"body_markdown":"You can put your properties in application.properties with spring.ldap.* and Spring Boot automatically will create necessary beans on runtime. Also, you can inject them with a LdapProperties object wherever you need.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html","title":"spring boot - how to provide ldap config in properties file?","body":"<p>You can put your properties in application.properties with spring.ldap.* and Spring Boot automatically will create necessary beans on runtime. Also, you can inject them with a LdapProperties object wherever you need.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html</a></p>\n"}],"owner":{"account_id":15608939,"reputation":31,"user_id":11260934,"display_name":"mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9441,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1674669965,"creation_date":1553612225,"question_id":55360199,"body_markdown":"i am new to spring security and ldap.\r\ni am trying to add custom authentication on top of ldap, so that only specific users mentioned in a local db can login. so far i have been able to implement ldap authentication. this is what i have tried so far -\r\n```java\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Value(&quot;${ldap.urls}&quot;)\r\n\tprivate String ldapUrl;\r\n\r\n\t@Autowired\r\n\tprivate CustomAuthenticationProvider authProvider;\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests().anyRequest().fullyAuthenticated().and().formLogin().loginPage(&quot;/login&quot;)\r\n\t\t\t\t.failureUrl(&quot;/login?error&quot;).permitAll();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\r\n\t\tauth.ldapAuthentication().userSearchBase(&quot;ou=people&quot;).userSearchFilter(&quot;(uid={0})&quot;).groupSearchBase(&quot;ou=groups&quot;)\r\n\t\t\t\t.groupSearchFilter(&quot;(uniqueMember={0})&quot;).groupRoleAttribute(&quot;ou&quot;).rolePrefix(&quot;ROLE_&quot;).contextSource()\r\n\t\t\t\t.url(ldapUrl);\r\n\r\n\t}\r\n\r\n}\r\n\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n\t@Override\r\n\tpublic Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n\t\tfinal String name = authentication.getName();\r\n\t\tfinal String password = authentication.getCredentials().toString();\r\n\t\tif (name.equals(&quot;user1&quot;)) {\r\n\t\t\tfinal List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\r\n\t\t\tgrantedAuths.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n\t\t\tfinal UserDetails principal = new User(name, password, grantedAuths);\r\n\t\t\tfinal Authentication auth = new UsernamePasswordAuthenticationToken(principal, password, grantedAuths);\r\n\t\t\treturn auth;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; authentication) {\r\n\t\treturn authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nhere, i am trying to add a CustomAuthenticationProvider which just checks for a single specific user name, but I am not using it. if i use this authProvider how do i tell spring about my ldap server, userSearchBase etc? should i move these to application.properties? how?","title":"spring boot - how to provide ldap config in properties file?","body":"<p>i am new to spring security and ldap.\ni am trying to add custom authentication on top of ldap, so that only specific users mentioned in a local db can login. so far i have been able to implement ldap authentication. this is what i have tried so far -</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(\"${ldap.urls}\")\n    private String ldapUrl;\n\n    @Autowired\n    private CustomAuthenticationProvider authProvider;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().fullyAuthenticated().and().formLogin().loginPage(\"/login\")\n                .failureUrl(\"/login?error\").permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n\n        auth.ldapAuthentication().userSearchBase(\"ou=people\").userSearchFilter(\"(uid={0})\").groupSearchBase(\"ou=groups\")\n                .groupSearchFilter(\"(uniqueMember={0})\").groupRoleAttribute(\"ou\").rolePrefix(\"ROLE_\").contextSource()\n                .url(ldapUrl);\n\n    }\n\n}\n\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        final String name = authentication.getName();\n        final String password = authentication.getCredentials().toString();\n        if (name.equals(\"user1\")) {\n            final List&lt;GrantedAuthority&gt; grantedAuths = new ArrayList&lt;&gt;();\n            grantedAuths.add(new SimpleGrantedAuthority(\"ROLE_USER\"));\n            final UserDetails principal = new User(name, password, grantedAuths);\n            final Authentication auth = new UsernamePasswordAuthenticationToken(principal, password, grantedAuths);\n            return auth;\n        } else {\n            return null;\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n\n}\n\n</code></pre>\n\n<p>here, i am trying to add a CustomAuthenticationProvider which just checks for a single specific user name, but I am not using it. if i use this authProvider how do i tell spring about my ldap server, userSearchBase etc? should i move these to application.properties? how?</p>\n"},{"tags":["java","timer","scheduled-tasks","vert.x"],"answers":[{"comments":[{"owner":{"account_id":3638674,"reputation":51,"user_id":3033420,"display_name":"sagarshah"},"score":0,"creation_date":1674675148,"post_id":75215560,"comment_id":132767553,"body_markdown":"Thank you Pendula. First solution worked for me!! \n\n@tsegismont : May I know since which version vertx support delay?","body":"Thank you Pendula. First solution worked for me!!   @tsegismont : May I know since which version vertx support delay?"},{"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"score":1,"creation_date":1674689847,"post_id":75215560,"comment_id":132771129,"body_markdown":"Version 4.3.4 https://github.com/vert-x3/wiki/wiki/4.3.4-Release-Notes","body":"Version 4.3.4 <a href=\"https://github.com/vert-x3/wiki/wiki/4.3.4-Release-Notes\" rel=\"nofollow noreferrer\">github.com/vert-x3/wiki/wiki/4.3.4-Release-Notes</a>"}],"tags":[],"owner":{"account_id":4776333,"reputation":735,"user_id":3859317,"accept_rate":100,"display_name":"Pendula"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674669957,"creation_date":1674511736,"answer_id":75215560,"question_id":75214474,"body_markdown":"This should be simple in combination with `vertx.setTimer(long delay, Handler&lt;Long&gt; handler)`\r\n\r\nYour code would look like this:\r\n\r\n    vertx.setTimer(30000, timerId -&gt; {\r\n        vertx.setPeriodic(1000, periodicId -&gt; { ... my task logic ... });\r\n    });\r\n\r\nEDIT: in recent versions of Vert.x, [`setPeriodic`][1] initial delay can be configured:\r\n\r\n    vertx.setPeriodic(30000, 1000, timerId -&gt; {\r\n     // My task\r\n    });\r\n\r\n  [1]: https://vertx.io/docs/apidocs/io/vertx/core/Vertx.html#setPeriodic-long-long-io.vertx.core.Handler-\r\n","title":"Is there any way to set initial delay (i.e 30 sec) in Vertx and then run task periodically with different time delay (i.e 1 sec)","body":"<p>This should be simple in combination with <code>vertx.setTimer(long delay, Handler&lt;Long&gt; handler)</code></p>\n<p>Your code would look like this:</p>\n<pre><code>vertx.setTimer(30000, timerId -&gt; {\n    vertx.setPeriodic(1000, periodicId -&gt; { ... my task logic ... });\n});\n</code></pre>\n<p>EDIT: in recent versions of Vert.x, <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Vertx.html#setPeriodic-long-long-io.vertx.core.Handler-\" rel=\"nofollow noreferrer\"><code>setPeriodic</code></a> initial delay can be configured:</p>\n<pre><code>vertx.setPeriodic(30000, 1000, timerId -&gt; {\n // My task\n});\n</code></pre>\n"}],"owner":{"account_id":3638674,"reputation":51,"user_id":3033420,"display_name":"sagarshah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75215560,"answer_count":1,"score":0,"last_activity_date":1674669957,"creation_date":1674504096,"question_id":75214474,"body_markdown":"I am using vert.x framework to write a Java application. I have a use case where I need to wait for 30 seconds before scheduling task for 1 second interval.\r\n\r\nI am using vertx.setPeriodic to execute task every 1 second. Here I am not able to find any utility of vertex which allows me to wait for 30 seconds initially before executing task every 1 second. I can use Thread.sleep(30000), but it will make my code synchronous. Rather I am looking for a vertx function which allow me to achieve same behavior asyc way.  \r\n\r\n```\r\nvertx.setPeriodic(1000, timerId -&gt; { ... my task logic ... });\r\n```\r\n\r\nI tried using vertx.setPeriodic, but it do not have overloaded method which allows initial delay.","title":"Is there any way to set initial delay (i.e 30 sec) in Vertx and then run task periodically with different time delay (i.e 1 sec)","body":"<p>I am using vert.x framework to write a Java application. I have a use case where I need to wait for 30 seconds before scheduling task for 1 second interval.</p>\n<p>I am using vertx.setPeriodic to execute task every 1 second. Here I am not able to find any utility of vertex which allows me to wait for 30 seconds initially before executing task every 1 second. I can use Thread.sleep(30000), but it will make my code synchronous. Rather I am looking for a vertx function which allow me to achieve same behavior asyc way.</p>\n<pre><code>vertx.setPeriodic(1000, timerId -&gt; { ... my task logic ... });\n</code></pre>\n<p>I tried using vertx.setPeriodic, but it do not have overloaded method which allows initial delay.</p>\n"},{"tags":["java","android","android-studio","wear-os"],"comments":[{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":1,"creation_date":1658876502,"post_id":73130593,"comment_id":129159913,"body_markdown":"Have you taken a look here? https://developer.android.com/training/wearables/user-input/rotary-input","body":"Have you taken a look here? <a href=\"https://developer.android.com/training/wearables/user-input/rotary-input\" rel=\"nofollow noreferrer\">developer.android.com/training/wearables/user-input/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658908635,"creation_date":1658908635,"answer_id":73134172,"question_id":73130593,"body_markdown":"Look at onGenericMotionEvent.  There are quiet a few examples on github\r\n\r\nFor example https://github.com/VladimirWrites/AnalogWatchFace/blob/ae09ed77b2c0ae89cdc32123ce7d229830188a8a/wear/src/main/java/com/vlad1m1r/watchface/settings/base/BaseRecyclerActivity.kt\r\n\r\n```\r\nopen class MyActivity : AppCompatActivity() {\r\n\r\n    override fun onGenericMotionEvent(event: MotionEvent?): Boolean {\r\n        if (event?.action == MotionEvent.ACTION_SCROLL &amp;&amp; RotaryEncoderHelper.isFromRotaryEncoder(event)) {\r\n            val delta = -RotaryEncoderHelper.getRotaryAxisValue(event) * RotaryEncoderHelper.getScaledScrollFactor(this)\r\n\r\n            myCustomScrollHandler(delta)\r\n\r\n            return true\r\n        }\r\n        return super.onGenericMotionEvent(event)\r\n    }\r\n}\r\n```","title":"Wear OS Custom Rotary Function","body":"<p>Look at onGenericMotionEvent.  There are quiet a few examples on github</p>\n<p>For example <a href=\"https://github.com/VladimirWrites/AnalogWatchFace/blob/ae09ed77b2c0ae89cdc32123ce7d229830188a8a/wear/src/main/java/com/vlad1m1r/watchface/settings/base/BaseRecyclerActivity.kt\" rel=\"nofollow noreferrer\">https://github.com/VladimirWrites/AnalogWatchFace/blob/ae09ed77b2c0ae89cdc32123ce7d229830188a8a/wear/src/main/java/com/vlad1m1r/watchface/settings/base/BaseRecyclerActivity.kt</a></p>\n<pre><code>open class MyActivity : AppCompatActivity() {\n\n    override fun onGenericMotionEvent(event: MotionEvent?): Boolean {\n        if (event?.action == MotionEvent.ACTION_SCROLL &amp;&amp; RotaryEncoderHelper.isFromRotaryEncoder(event)) {\n            val delta = -RotaryEncoderHelper.getRotaryAxisValue(event) * RotaryEncoderHelper.getScaledScrollFactor(this)\n\n            myCustomScrollHandler(delta)\n\n            return true\n        }\n        return super.onGenericMotionEvent(event)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23357171,"reputation":26,"user_id":17429984,"display_name":"Jay Whelan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674669934,"creation_date":1658876442,"question_id":73130593,"body_markdown":"I have been trying to add a custom function to my bevel / rotary input for wear OS.\r\nSimply I just want to increment a number when I turn the bevel one way or another.  \r\n\r\nIf anyone would have any examples of custom Rotary Input with the .XML I would appreciate it! \r\nSadly I can&#39;t seem to figure out from the documentation alone.\r\n\r\n","title":"Wear OS Custom Rotary Function","body":"<p>I have been trying to add a custom function to my bevel / rotary input for wear OS.\nSimply I just want to increment a number when I turn the bevel one way or another.</p>\n<p>If anyone would have any examples of custom Rotary Input with the .XML I would appreciate it!\nSadly I can't seem to figure out from the documentation alone.</p>\n"},{"tags":["java","android","android-studio","retrofit","httpurlconnection"],"answers":[{"comments":[{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1674668524,"post_id":75230528,"comment_id":132765478,"body_markdown":"thanks, do i have to replace from this `FileInputStream fileInputStream = new FileInputStream(upload_File);` to this `InputStream fileInputStream = mContext.getContentResolver().openInputStream(Uri.fromFile(upload_File));`??","body":"thanks, do i have to replace from this <code>FileInputStream fileInputStream = new FileInputStream(upload_File);</code> to this <code>InputStream fileInputStream = mContext.getContentResolver().openInputStream(Uri.fromFile(u&zwnj;&#8203;pload_File));</code>??"},{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1674668975,"post_id":75230528,"comment_id":132765610,"body_markdown":"Can I ask why do I need to remove that code? would it help to make it go much quicker to find the file instead of the real path?","body":"Can I ask why do I need to remove that code? would it help to make it go much quicker to find the file instead of the real path?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674669886,"post_id":75230528,"comment_id":132765913,"body_markdown":"`Uri uri = data.getData();` That is the uri i talked about. Use it. Do not mess around with File and paths.","body":"<code>Uri uri = data.getData();</code> That is the uri i talked about. Use it. Do not mess around with File and paths."},{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1674669958,"post_id":75230528,"comment_id":132765939,"body_markdown":"Yeah I know that, but you didnt say which one I should remove and replace it with??","body":"Yeah I know that, but you didnt say which one I should remove and replace it with??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674670142,"post_id":75230528,"comment_id":132766004,"body_markdown":"The FileOutputStream i mentioned was a typo. Sorry.","body":"The FileOutputStream i mentioned was a typo. Sorry."},{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1674671853,"post_id":75230528,"comment_id":132766556,"body_markdown":"Ok, can you please post what i need to make the changes?? How I can call the UploadFile instantly??","body":"Ok, can you please post what i need to make the changes?? How I can call the UploadFile instantly??"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674682141,"post_id":75230528,"comment_id":132769446,"body_markdown":"I already told you all you had to do and to change.","body":"I already told you all you had to do and to change."}],"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674669751,"creation_date":1674629346,"answer_id":75230528,"question_id":75228209,"body_markdown":"You start already wrong with trying to get a real path for an uri.\r\n\r\nRemove that code.\r\n\r\nThen instead of opening a FileInputStream open an InputStream for the uri \r\n\r\n    InputStream is = getContentResolvet().openInputStream(uri);","title":"Uploading a file from android take ages before calling a function","body":"<p>You start already wrong with trying to get a real path for an uri.</p>\n<p>Remove that code.</p>\n<p>Then instead of opening a FileInputStream open an InputStream for the uri</p>\n<pre><code>InputStream is = getContentResolvet().openInputStream(uri);\n</code></pre>\n"}],"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674669751,"creation_date":1674601720,"question_id":75228209,"body_markdown":"I&#39;m having a hard time with calling a function when I select on the files. \r\n\r\nWhen I select on a file, it start to take like 10 seconds before it start to call the `UploadFile` function and then connect to the server, so when I select more files to add, it will take like a minute or so before it start to call the `UploadFile` function and connect to the server which is wrong. It should have start to call the `UploadFile` function instantly and connect to the server when I am adding more than one files. \r\n\r\nBelow is the full code:\r\n\r\n    public class ComposeActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n\r\n        private static final int CHOOSE_FILE_REQUESTCODE = 1;\r\n        private RecyclerView mFilesDetailRecyclerView;\r\n        private ArrayList&lt;String&gt; mSelectedFilesList = new ArrayList&lt;&gt;();\r\n\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n    super.onActivityResult(requestCode, resultCode, data);\r\n\r\n            if (resultCode == RESULT_OK &amp;&amp; requestCode == CHOOSE_FILE_REQUESTCODE) {\r\n            try {\r\n                Uri uri = data.getData();\r\n                Cursor cursor = getContentResolver().query(uri, null, null, null, null);\r\n                int index = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\r\n                Context context = getApplicationContext();\r\n                FilePath = RealPathUtil.getRealPath(context, uri);\r\n                cursor.moveToFirst();\r\n                //mSelectedFilesList.add(cursor.getString(index));\r\n                mSelectedFilesList.add(FilePath);\r\n                mAdapter.notifyItemInserted(mSelectedFilesList.size());\r\n\r\n                Log.e(&quot;message.......&quot;, &quot;caught this.....&quot;);\r\n\r\n                upload_File = new File(FilePath);\r\n                FileName = upload_File.getName();\r\n\r\n                new UploadFile().execute();\r\n\r\n            } catch (Exception e) {\r\n                Toast.makeText(ComposeActivity.this, &quot;Choose any other file&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class UploadFile extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        @RequiresApi(api = Build.VERSION_CODES.O)\r\n        @Override\r\n        protected Void doInBackground(Void... params) {\r\n            HttpURLConnection urlConnection = null;\r\n\r\n            try {\r\n\r\n                String twoHyphens = &quot;--&quot;;\r\n                String boundary = &quot;*****&quot; + System.currentTimeMillis() + &quot;*****&quot;;\r\n                String lineEnd = &quot;\\r\\n&quot;;\r\n                Log.e(&quot;message.......&quot;, &quot;FileName....&quot; + FileName);\r\n\r\n                URL url = new URL(&quot;https://www.example.com/fileupload1.php&quot;);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                urlConnection.setUseCaches(false);\r\n                urlConnection.setDoOutput(true);\r\n                urlConnection.setDoInput(true);\r\n\r\n                urlConnection.setRequestMethod(&quot;POST&quot;);\r\n                urlConnection.setConnectTimeout(200);\r\n                urlConnection.setReadTimeout(200);\r\n\r\n                urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n                urlConnection.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\r\n                urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\r\n                urlConnection.setRequestProperty(&quot;uploaded_file&quot;, FileName);\r\n                FileInputStream fileInputStream = new FileInputStream(upload_File);\r\n                DataOutputStream dataOutputStream = new DataOutputStream(urlConnection.getOutputStream());\r\n                dataOutputStream.writeBytes(twoHyphens + boundary + lineEnd);\r\n                dataOutputStream.writeBytes(&quot;Content-Disposition:  form-data; name=\\&quot;uploaded_file&quot; +\r\n                    &quot;\\&quot;; filename=\\&quot;&quot; + FileName + &quot;\\&quot;&quot; + lineEnd);\r\n                dataOutputStream.writeBytes(lineEnd);\r\n                int bytesRead, bytesAvailable, bufferSize;\r\n                byte[] buffer;\r\n                int maxBufferSize = 1 * 1024 * 1024;\r\n                Log.e(&quot;message.......&quot;, &quot;FileName....&quot; + FileName);\r\n\r\n                //returns no. of bytes present in  fileInputStream\r\n                bytesAvailable = fileInputStream.available();\r\n\r\n                bufferSize = Math.min(bytesAvailable, maxBufferSize);\r\n                buffer = new byte[bufferSize];\r\n                bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                //Thread.sleep(5000);\r\n\r\n                while (bytesRead &gt; 0) {\r\n                    //int percentage = (int)  ((bytesRead / (float) size) * 100);\r\n                    dataOutputStream.write(buffer, 0, bufferSize);\r\n                    //dataOutputStream.flush(); //doesn&#39;t  help\r\n                    bytesAvailable = fileInputStream.available();\r\n                    bytesRead = fileInputStream.read(buffer, 0, bufferSize);\r\n                }\r\n\r\n                dataOutputStream.writeBytes(lineEnd);\r\n                dataOutputStream.writeBytes(twoHyphens + boundary + twoHyphens\r\n                    + lineEnd);\r\n                int code = urlConnection.getResponseCode();\r\n                StringBuilder result = new StringBuilder();\r\n\r\n                if (code == 200) {\r\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n                    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n                    String line;\r\n\r\n                    while ((line = reader.readLine()) != null) {\r\n                        result.append(line);\r\n                    }\r\n                    upload_success = result.toString();\r\n                }\r\n\r\n            } catch(SocketTimeoutException e) {\r\n                //e.printStackTrace();\r\n\r\n                if (urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                    cancel(true);\r\n                }\r\n            }\r\n            catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;message.......&quot;, &quot;here....5&quot;);\r\n            } catch (ClientProtocolException e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;message.......&quot;, &quot;here....6&quot;);\r\n            } catch (ConnectTimeoutException e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;message.......&quot;, &quot;here....7&quot;);\r\n            }\r\n            catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n                Log.e(&quot;message.......&quot;, &quot;here....2&quot;);\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n                Log.e(&quot;message.......&quot;, &quot;here....5&quot;);\r\n\r\n                if (failtoupload == false) {\r\n                    failtoupload = true;\r\n                }\r\n\r\n                if (sendMail == true) {\r\n                    sendMail = false;\r\n                }\r\n\r\n                if (UpdateDraft == true) {\r\n                    UpdateDraft = false;\r\n                }\r\n\r\n                if (saveDraft == true) {\r\n                    saveDraft = false;\r\n                }\r\n                Date dt = new Date();\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                String savedDate = dateFormat.format(dt);\r\n                draftDB = new DraftDB(mContext);\r\n\r\n                if (mSelectedFilesList.size() == 1) {\r\n                    attachments = join(&quot;&quot;, mSelectedFilesList);\r\n\r\n                    if (attachments.equals(&quot;&quot;)) {\r\n                        attachments = null;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    attachments = join(&quot;, &quot;, mSelectedFilesList);\r\n                }\r\n\r\n\r\n                if (attachments == null) {\r\n                    if (mSelectedFilesList.size() == 1) {\r\n                        attachments = join(&quot;&quot;, mSelectedFilesList);\r\n                    }\r\n                    else\r\n                    {\r\n                        attachments = join(&quot;, &quot;, mSelectedFilesList);\r\n                    }\r\n                }\r\n                String isImportant = &quot;true&quot;;\r\n                String isRead = &quot;unread&quot;;\r\n                String UpdateDB = null;\r\n                String draftID = null;\r\n\r\n\r\n\r\n                if (to == null) {\r\n                    to = &quot;&quot;;\r\n                }\r\n\r\n                if (bcc == null) {\r\n                    bcc = &quot;&quot;;\r\n                }\r\n\r\n                if (cc == null) {\r\n                    cc = &quot;&quot;;\r\n                }\r\n\r\n                if (subject == null) {\r\n                    subject = &quot;&quot;;\r\n                }\r\n\r\n                if (message == null) {\r\n                    message = &quot;&quot;;\r\n                }\r\n\r\n                if (draft_id != null) {\r\n                    draftID = draft_id;\r\n                    UpdateDB = &quot;yes&quot;;\r\n                }\r\n                else\r\n                {\r\n                    draftID = &quot;&quot;;\r\n                    UpdateDB = &quot;no&quot;;\r\n                }\r\n\r\n\r\n            \r\n                if (draftDB_id == 0) {\r\n                    draftDB.insertDraft(from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\r\n                    draftDB_id = draftDB.getID();\r\n                }\r\n                else\r\n                {\r\n                    int id = draftDB_id;\r\n                    draftDB.updateDraft(id, from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\r\n                }\r\n\r\n            else\r\n            {\r\n                int id = draftDB_id;\r\n                draftDB.updateDraft(id, from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\r\n\r\n            } finally {\r\n                if (urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void aVoid) {\r\n            Log.e(&quot;message.......&quot;, &quot;here....6&quot;);\r\n\r\n            if (upload_success != null) {\r\n                if (upload_success.equals(&quot;success&quot;)) {\r\n                    if (mSelectedFilesList.size() &gt; 0) {\r\n                        mSelectedFilesList.remove(0);\r\n   \r\n                        if (draft_id == null) {\r\n                            new SaveDraft().execute();\r\n                        }\r\n                        else if (draft_id != null) {\r\n                            if (attachment != null) {\r\n                                if (mSelectedFilesList.size() &gt;= 1) {\r\n                                    attid++;\r\n\r\n                                    for (int i = 0; i &lt; mSelectedFilesList.size(); i++) {\r\n                                        String path = mSelectedFilesList.get(0);\r\n                                        FileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\r\n                                        attachment += &quot; attid: &quot; + String.valueOf(attid) + &quot; filename: &quot; + FileName;\r\n                                    }\r\n                                }\r\n                            }\r\n                            Log.e(&quot;message........&quot;, &quot;attachment......&quot; + attachment);\r\n                            new UpdateDrafts().execute();\r\n                        }\r\n\r\n\r\n                        if (mSelectedFilesList.size() &gt;= 1) {\r\n                            FilePath = mSelectedFilesList.get(0);\r\n                            upload_File = new File(FilePath);\r\n                            FileName = upload_File.getName();\r\n                            new UploadFile().execute();\r\n                        }\r\n                    }\r\n\r\n                    //Now time to check the upload_File\r\n                    if (mSelectedFilesList.size() == 0) {\r\n                        if (upload_File != null) {\r\n                            upload_File = null;\r\n                        }\r\n\r\n                        if (FilePath != null) {\r\n                            FilePath = null;\r\n                        }\r\n                        Log.e(&quot;message.......&quot;, &quot;sendMail.........&quot; + sendMail);\r\n                    }\r\n\r\n                    if (upload_success != null) {\r\n                        upload_success = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onCancelled() {\r\n            super.onCancelled();\r\n            this.cancel(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\nWhat I am trying to do is when I select on the file and add more files on my mobile app, I want to call the `UploadFile` function instantly and connect to my server to upload the file in each time when I select on the file. If the server do not response for 10 seconds and the server is offline, I want to store the data in the sqlite database.\r\n\r\nI have been told that I should use multi thread and I should also use retrofit. I am not sure if it would be possible to use `HttpUrlConnection` method with multi thread to connect to the server and upload the files.\r\n\r\nCan you please show me an example of what is the best way I could use to get instantly call to a function and connect to the server using with `HttpUrlConnection` if that is possible??\r\n","title":"Uploading a file from android take ages before calling a function","body":"<p>I'm having a hard time with calling a function when I select on the files.</p>\n<p>When I select on a file, it start to take like 10 seconds before it start to call the <code>UploadFile</code> function and then connect to the server, so when I select more files to add, it will take like a minute or so before it start to call the <code>UploadFile</code> function and connect to the server which is wrong. It should have start to call the <code>UploadFile</code> function instantly and connect to the server when I am adding more than one files.</p>\n<p>Below is the full code:</p>\n<pre><code>public class ComposeActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    private static final int CHOOSE_FILE_REQUESTCODE = 1;\n    private RecyclerView mFilesDetailRecyclerView;\n    private ArrayList&lt;String&gt; mSelectedFilesList = new ArrayList&lt;&gt;();\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\nsuper.onActivityResult(requestCode, resultCode, data);\n\n        if (resultCode == RESULT_OK &amp;&amp; requestCode == CHOOSE_FILE_REQUESTCODE) {\n        try {\n            Uri uri = data.getData();\n            Cursor cursor = getContentResolver().query(uri, null, null, null, null);\n            int index = cursor.getColumnIndex(OpenableColumns.DISPLAY_NAME);\n            Context context = getApplicationContext();\n            FilePath = RealPathUtil.getRealPath(context, uri);\n            cursor.moveToFirst();\n            //mSelectedFilesList.add(cursor.getString(index));\n            mSelectedFilesList.add(FilePath);\n            mAdapter.notifyItemInserted(mSelectedFilesList.size());\n\n            Log.e(&quot;message.......&quot;, &quot;caught this.....&quot;);\n\n            upload_File = new File(FilePath);\n            FileName = upload_File.getName();\n\n            new UploadFile().execute();\n\n        } catch (Exception e) {\n            Toast.makeText(ComposeActivity.this, &quot;Choose any other file&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n@SuppressLint(&quot;StaticFieldLeak&quot;)\nprivate class UploadFile extends AsyncTask&lt;Void, Void, Void&gt; {\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected Void doInBackground(Void... params) {\n        HttpURLConnection urlConnection = null;\n\n        try {\n\n            String twoHyphens = &quot;--&quot;;\n            String boundary = &quot;*****&quot; + System.currentTimeMillis() + &quot;*****&quot;;\n            String lineEnd = &quot;\\r\\n&quot;;\n            Log.e(&quot;message.......&quot;, &quot;FileName....&quot; + FileName);\n\n            URL url = new URL(&quot;https://www.example.com/fileupload1.php&quot;);\n            urlConnection = (HttpURLConnection) url.openConnection();\n            urlConnection.setUseCaches(false);\n            urlConnection.setDoOutput(true);\n            urlConnection.setDoInput(true);\n\n            urlConnection.setRequestMethod(&quot;POST&quot;);\n            urlConnection.setConnectTimeout(200);\n            urlConnection.setReadTimeout(200);\n\n            urlConnection.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n            urlConnection.setRequestProperty(&quot;ENCTYPE&quot;, &quot;multipart/form-data&quot;);\n            urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data;boundary=&quot; + boundary);\n            urlConnection.setRequestProperty(&quot;uploaded_file&quot;, FileName);\n            FileInputStream fileInputStream = new FileInputStream(upload_File);\n            DataOutputStream dataOutputStream = new DataOutputStream(urlConnection.getOutputStream());\n            dataOutputStream.writeBytes(twoHyphens + boundary + lineEnd);\n            dataOutputStream.writeBytes(&quot;Content-Disposition:  form-data; name=\\&quot;uploaded_file&quot; +\n                &quot;\\&quot;; filename=\\&quot;&quot; + FileName + &quot;\\&quot;&quot; + lineEnd);\n            dataOutputStream.writeBytes(lineEnd);\n            int bytesRead, bytesAvailable, bufferSize;\n            byte[] buffer;\n            int maxBufferSize = 1 * 1024 * 1024;\n            Log.e(&quot;message.......&quot;, &quot;FileName....&quot; + FileName);\n\n            //returns no. of bytes present in  fileInputStream\n            bytesAvailable = fileInputStream.available();\n\n            bufferSize = Math.min(bytesAvailable, maxBufferSize);\n            buffer = new byte[bufferSize];\n            bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n            //Thread.sleep(5000);\n\n            while (bytesRead &gt; 0) {\n                //int percentage = (int)  ((bytesRead / (float) size) * 100);\n                dataOutputStream.write(buffer, 0, bufferSize);\n                //dataOutputStream.flush(); //doesn't  help\n                bytesAvailable = fileInputStream.available();\n                bytesRead = fileInputStream.read(buffer, 0, bufferSize);\n            }\n\n            dataOutputStream.writeBytes(lineEnd);\n            dataOutputStream.writeBytes(twoHyphens + boundary + twoHyphens\n                + lineEnd);\n            int code = urlConnection.getResponseCode();\n            StringBuilder result = new StringBuilder();\n\n            if (code == 200) {\n                InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n                BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n                String line;\n\n                while ((line = reader.readLine()) != null) {\n                    result.append(line);\n                }\n                upload_success = result.toString();\n            }\n\n        } catch(SocketTimeoutException e) {\n            //e.printStackTrace();\n\n            if (urlConnection != null) {\n                urlConnection.disconnect();\n                cancel(true);\n            }\n        }\n        catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n            Log.e(&quot;message.......&quot;, &quot;here....5&quot;);\n        } catch (ClientProtocolException e) {\n            e.printStackTrace();\n            Log.e(&quot;message.......&quot;, &quot;here....6&quot;);\n        } catch (ConnectTimeoutException e) {\n            e.printStackTrace();\n            Log.e(&quot;message.......&quot;, &quot;here....7&quot;);\n        }\n        catch (IOException ioException) {\n            ioException.printStackTrace();\n            Log.e(&quot;message.......&quot;, &quot;here....2&quot;);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n            Log.e(&quot;message.......&quot;, &quot;here....5&quot;);\n\n            if (failtoupload == false) {\n                failtoupload = true;\n            }\n\n            if (sendMail == true) {\n                sendMail = false;\n            }\n\n            if (UpdateDraft == true) {\n                UpdateDraft = false;\n            }\n\n            if (saveDraft == true) {\n                saveDraft = false;\n            }\n            Date dt = new Date();\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n            String savedDate = dateFormat.format(dt);\n            draftDB = new DraftDB(mContext);\n\n            if (mSelectedFilesList.size() == 1) {\n                attachments = join(&quot;&quot;, mSelectedFilesList);\n\n                if (attachments.equals(&quot;&quot;)) {\n                    attachments = null;\n                }\n            }\n            else\n            {\n                attachments = join(&quot;, &quot;, mSelectedFilesList);\n            }\n\n\n            if (attachments == null) {\n                if (mSelectedFilesList.size() == 1) {\n                    attachments = join(&quot;&quot;, mSelectedFilesList);\n                }\n                else\n                {\n                    attachments = join(&quot;, &quot;, mSelectedFilesList);\n                }\n            }\n            String isImportant = &quot;true&quot;;\n            String isRead = &quot;unread&quot;;\n            String UpdateDB = null;\n            String draftID = null;\n\n\n\n            if (to == null) {\n                to = &quot;&quot;;\n            }\n\n            if (bcc == null) {\n                bcc = &quot;&quot;;\n            }\n\n            if (cc == null) {\n                cc = &quot;&quot;;\n            }\n\n            if (subject == null) {\n                subject = &quot;&quot;;\n            }\n\n            if (message == null) {\n                message = &quot;&quot;;\n            }\n\n            if (draft_id != null) {\n                draftID = draft_id;\n                UpdateDB = &quot;yes&quot;;\n            }\n            else\n            {\n                draftID = &quot;&quot;;\n                UpdateDB = &quot;no&quot;;\n            }\n\n\n        \n            if (draftDB_id == 0) {\n                draftDB.insertDraft(from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\n                draftDB_id = draftDB.getID();\n            }\n            else\n            {\n                int id = draftDB_id;\n                draftDB.updateDraft(id, from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\n            }\n\n        else\n        {\n            int id = draftDB_id;\n            draftDB.updateDraft(id, from, to, cc, bcc, subject, message, attachments, isImportant, isRead, UpdateDB, draftID, savedDate);\n\n        } finally {\n            if (urlConnection != null) {\n                urlConnection.disconnect();\n            }\n        }\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void aVoid) {\n        Log.e(&quot;message.......&quot;, &quot;here....6&quot;);\n\n        if (upload_success != null) {\n            if (upload_success.equals(&quot;success&quot;)) {\n                if (mSelectedFilesList.size() &gt; 0) {\n                    mSelectedFilesList.remove(0);\n\n                    if (draft_id == null) {\n                        new SaveDraft().execute();\n                    }\n                    else if (draft_id != null) {\n                        if (attachment != null) {\n                            if (mSelectedFilesList.size() &gt;= 1) {\n                                attid++;\n\n                                for (int i = 0; i &lt; mSelectedFilesList.size(); i++) {\n                                    String path = mSelectedFilesList.get(0);\n                                    FileName = path.substring(path.lastIndexOf(&quot;/&quot;) + 1);\n                                    attachment += &quot; attid: &quot; + String.valueOf(attid) + &quot; filename: &quot; + FileName;\n                                }\n                            }\n                        }\n                        Log.e(&quot;message........&quot;, &quot;attachment......&quot; + attachment);\n                        new UpdateDrafts().execute();\n                    }\n\n\n                    if (mSelectedFilesList.size() &gt;= 1) {\n                        FilePath = mSelectedFilesList.get(0);\n                        upload_File = new File(FilePath);\n                        FileName = upload_File.getName();\n                        new UploadFile().execute();\n                    }\n                }\n\n                //Now time to check the upload_File\n                if (mSelectedFilesList.size() == 0) {\n                    if (upload_File != null) {\n                        upload_File = null;\n                    }\n\n                    if (FilePath != null) {\n                        FilePath = null;\n                    }\n                    Log.e(&quot;message.......&quot;, &quot;sendMail.........&quot; + sendMail);\n                }\n\n                if (upload_success != null) {\n                    upload_success = null;\n                }\n            }\n        }\n    }\n\n    @Override\n    protected void onCancelled() {\n        super.onCancelled();\n        this.cancel(true);\n    }\n}\n</code></pre>\n<p>What I am trying to do is when I select on the file and add more files on my mobile app, I want to call the <code>UploadFile</code> function instantly and connect to my server to upload the file in each time when I select on the file. If the server do not response for 10 seconds and the server is offline, I want to store the data in the sqlite database.</p>\n<p>I have been told that I should use multi thread and I should also use retrofit. I am not sure if it would be possible to use <code>HttpUrlConnection</code> method with multi thread to connect to the server and upload the files.</p>\n<p>Can you please show me an example of what is the best way I could use to get instantly call to a function and connect to the server using with <code>HttpUrlConnection</code> if that is possible??</p>\n"},{"tags":["java","hibernate","jpa","many-to-one"],"answers":[{"tags":[],"owner":{"account_id":4446772,"reputation":51,"user_id":3619843,"display_name":"user3619843"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1421180217,"creation_date":1421180217,"answer_id":27930735,"question_id":27930449,"body_markdown":"Use cascade in manytoone annotation\r\n    @manytoone(cascade=CascadeType.Remove)\r\n","title":"JPA many-to-one relation - need to save only Id","body":"<p>Use cascade in manytoone annotation\n    @manytoone(cascade=CascadeType.Remove)</p>\n"},{"comments":[{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":0,"creation_date":1421185302,"post_id":27930862,"comment_id":44261581,"body_markdown":"Thank you Enthusiast. Does it mean that its transient because Id does not exist or I didnt initialized it somehow by reading? Cause Id of the car that Im passing is valid","body":"Thank you Enthusiast. Does it mean that its transient because Id does not exist or I didnt initialized it somehow by reading? Cause Id of the car that Im passing is valid"},{"owner":{"account_id":5449410,"reputation":103,"user_id":4334765,"display_name":"00Enthusiast"},"score":0,"creation_date":1421218439,"post_id":27930862,"comment_id":44271306,"body_markdown":"Yes, it is, because it doesn&#39;t registered in persistence context. JPA cannot see it as a saved object at all! :) Even it doesn&#39;t exists in DB, so how can you relate it with something who doesn&#39;t exists?:)","body":"Yes, it is, because it doesn&#39;t registered in persistence context. JPA cannot see it as a saved object at all! :) Even it doesn&#39;t exists in DB, so how can you relate it with something who doesn&#39;t exists?:)"}],"tags":[],"owner":{"account_id":5449410,"reputation":103,"user_id":4334765,"display_name":"00Enthusiast"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674653364,"creation_date":1421180688,"answer_id":27930862,"question_id":27930449,"body_markdown":"```java\r\npublic void setCarId(long carId) {\r\n    this.car = new Car (carId);\r\n}\r\n```\r\n\r\nIt is actually not saved version of a `car`. So it is a **transient object** because it hasn&#39;t `id`. JPA demands that you should take care about relations. If entity is new (doesn&#39;t managed by context) it should be saved before it can relate with other managed/detached objects (actually the MASTER entity can maintain it&#39;s children by using cascades). \r\n\r\n**Two ways**: *cascades* or *save&amp;retrieval* from db.\r\n\r\nAlso you should avoid set entity `ID` **by hand**. **If you do not want to update/persist car** by it&#39;s MASTER entity, you should get the `CAR` from database and maintain your **driver** with **it&#39;s instance**. So, if you do that, `Car` will be detached from persistence context, BUT still it will have and ID and can be related with any Entity without affects.","title":"JPA many-to-one relation - need to save only Id","body":"<pre class=\"lang-java prettyprint-override\"><code>public void setCarId(long carId) {\n    this.car = new Car (carId);\n}\n</code></pre>\n<p>It is actually not saved version of a <code>car</code>. So it is a <strong>transient object</strong> because it hasn't <code>id</code>. JPA demands that you should take care about relations. If entity is new (doesn't managed by context) it should be saved before it can relate with other managed/detached objects (actually the MASTER entity can maintain it's children by using cascades).</p>\n<p><strong>Two ways</strong>: <em>cascades</em> or <em>save&amp;retrieval</em> from db.</p>\n<p>Also you should avoid set entity <code>ID</code> <strong>by hand</strong>. <strong>If you do not want to update/persist car</strong> by it's MASTER entity, you should get the <code>CAR</code> from database and maintain your <strong>driver</strong> with <strong>it's instance</strong>. So, if you do that, <code>Car</code> will be detached from persistence context, BUT still it will have and ID and can be related with any Entity without affects.</p>\n"},{"comments":[{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":0,"creation_date":1421185085,"post_id":27930910,"comment_id":44261478,"body_markdown":"Thank you Tobb. So if Im creating Driver from following Json\n{&quot;name&quot;:&quot;Joe Doe&quot;, &quot;carId&quot;:123} where Car with id 123 already exsits, then the object does exist in DB. Does it mean that I can&#39;t update Dirver::carId unless I will update referenced Car as well?","body":"Thank you Tobb. So if Im creating Driver from following Json {&quot;name&quot;:&quot;Joe Doe&quot;, &quot;carId&quot;:123} where Car with id 123 already exsits, then the object does exist in DB. Does it mean that I can&#39;t update Dirver::carId unless I will update referenced Car as well?"},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":4,"creation_date":1421186813,"post_id":27930910,"comment_id":44262383,"body_markdown":"First thing with JPA is that you have to stop thinking in terms of the database. JPA deals with Java objects, that is what you query, and that is what you get. Driver does not have an attribute carId, it has an attribute Car. So, if you recieve those data (I guess name is the name of a new Driver), you should first do an EntityManager#find on the carId to get the Car-object. Then create a new Driver, assign the fetched Car to it, and send it to EntityManager#persist. Since the Car is already persisted and managed I don&#39;t think you need any cascade for this to work..","body":"First thing with JPA is that you have to stop thinking in terms of the database. JPA deals with Java objects, that is what you query, and that is what you get. Driver does not have an attribute carId, it has an attribute Car. So, if you recieve those data (I guess name is the name of a new Driver), you should first do an EntityManager#find on the carId to get the Car-object. Then create a new Driver, assign the fetched Car to it, and send it to EntityManager#persist. Since the Car is already persisted and managed I don&#39;t think you need any cascade for this to work.."},{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":2,"creation_date":1421187479,"post_id":27930910,"comment_id":44262702,"body_markdown":"I see. I guess there is no way for me to create Car object as I do and mark it as persisted (feeding it just an Id). Feels like awkward limitation for someone who comes from pure DB query world where updating ID column is simple task.\nI guess another solution would be to change the CAR_ID field from @ManyToOne to basic Long field and add Transient field Car. That will allow me to work only with Ids during get and set and when I need to do get detailed Car info I can set Car field from Resuorce Controller by reading that Car explicitly.\nAppreciate your help.","body":"I see. I guess there is no way for me to create Car object as I do and mark it as persisted (feeding it just an Id). Feels like awkward limitation for someone who comes from pure DB query world where updating ID column is simple task. I guess another solution would be to change the CAR_ID field from @ManyToOne to basic Long field and add Transient field Car. That will allow me to work only with Ids during get and set and when I need to do get detailed Car info I can set Car field from Resuorce Controller by reading that Car explicitly. Appreciate your help."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":2,"creation_date":1421189231,"post_id":27930910,"comment_id":44263471,"body_markdown":"That would be against the purpose of JPA, if you want to work like that you should check out Spring JDBC, there you can write all the queries yourself. Using a framework against it&#39;s purpose is rarely a good idea..","body":"That would be against the purpose of JPA, if you want to work like that you should check out Spring JDBC, there you can write all the queries yourself. Using a framework against it&#39;s purpose is rarely a good idea.."},{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":6,"creation_date":1421196259,"post_id":27930910,"comment_id":44265800,"body_markdown":"Hmm isnt it sounds clunky when if i need to create/update Driver i would have to do unnesessery read (to read Car from id) even tho i dont use all that data. Imagine having few properties like that and instead of single persist you endup do N reads before persist (where N is number of properties like Car) just for the sake of ideology. I would cringe at it as unoptimal.","body":"Hmm isnt it sounds clunky when if i need to create/update Driver i would have to do unnesessery read (to read Car from id) even tho i dont use all that data. Imagine having few properties like that and instead of single persist you endup do N reads before persist (where N is number of properties like Car) just for the sake of ideology. I would cringe at it as unoptimal."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":2,"creation_date":1421221088,"post_id":27930910,"comment_id":44272347,"body_markdown":"It is, but we have to remember that it&#39;s not 1983 no more. A lot of the principles we use are really old, and does not apply that well today, with the abundance of processor power, memory and disk space. JPA is in no way optimal, but in 95% of the cases it&#39;s *good enough*. That being said, I&#39;m currently working on speeding up some JPA queries, and it can be a pain. It&#39;s really something that depends on the project, you have to weight speed against ease of programming. In most cases, the speed won&#39;t be an issue, so going for JPA will be the right choice, since it will save you time.","body":"It is, but we have to remember that it&#39;s not 1983 no more. A lot of the principles we use are really old, and does not apply that well today, with the abundance of processor power, memory and disk space. JPA is in no way optimal, but in 95% of the cases it&#39;s <i>good enough</i>. That being said, I&#39;m currently working on speeding up some JPA queries, and it can be a pain. It&#39;s really something that depends on the project, you have to weight speed against ease of programming. In most cases, the speed won&#39;t be an issue, so going for JPA will be the right choice, since it will save you time."},{"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"score":2,"creation_date":1421221158,"post_id":27930910,"comment_id":44272372,"body_markdown":"In the few cases where speed is the number one priority (weighs higher than the development cost), JPA should be avoided, instead one should use JDBC (Spring JDBC-template will be of great help in these cases, as it removes a lot of boilerplate code and results in prettier code.)","body":"In the few cases where speed is the number one priority (weighs higher than the development cost), JPA should be avoided, instead one should use JDBC (Spring JDBC-template will be of great help in these cases, as it removes a lot of boilerplate code and results in prettier code.)"},{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":0,"creation_date":1421289349,"post_id":27930910,"comment_id":44306690,"body_markdown":"Thank you for the overview Tobb.","body":"Thank you for the overview Tobb."},{"owner":{"account_id":1051438,"reputation":417,"user_id":1055278,"display_name":"Ali"},"score":1,"creation_date":1574759303,"post_id":27930910,"comment_id":104335484,"body_markdown":"Check @scetix answer below for how to use `EntityManager.getReference()` to bypass the un-needed read.","body":"Check @scetix answer below for how to use <code>EntityManager.getReference()</code> to bypass the un-needed read."}],"tags":[],"owner":{"account_id":1049814,"reputation":11925,"user_id":1054021,"accept_rate":81,"display_name":"Tobb"},"comment_count":9,"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1421180935,"creation_date":1421180935,"answer_id":27930910,"question_id":27930449,"body_markdown":"That error message means that you have have a transient instance in your object graph that is not explicitly persisted. Short recap of the statuses an object can have in JPA:\r\n\r\n- *Transient*: A new object that has not yet been stored in the database (and is thus unknown to the entitymanager.) Does not have an id set.\r\n- *Managed*: An object that the entitymanager keeps track of. Managed objects are what you work with within the scope of a transaction, and all changes done to a managed object will automatically be stored once the transaction is commited.\r\n- *Detached*: A previously managed object that is still reachable after the transction commits. (A managed object outside a transaction.) Has an id set.\r\n\r\nWhat the error message is telling you is that the (managed/detached) Driver-object you are working with holds a reference to a Car-object that is unknown to Hibernate (it is transient). In order to make Hibernate understand that any unsaved instances of Car being referenced from a Driver about be saved should also be saved you can call the persist-method of the EntityManager.\r\n\r\nAlternatively, you can add a cascade on persist (I think, just from the top of my head, haven&#39;t tested it), which will execute a persist on the Car prior to persisting the Driver.\r\n\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;CAR_ID&quot;)\r\n    private Car car;\r\n\r\n\r\nIf you use the merge-method of the entitymanager to store the Driver, you should add `CascadeType.MERGE` instead, or both:\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY, cascade={ CascadeType.PERSIST, CascadeType.MERGE })\r\n    @JoinColumn(name = &quot;CAR_ID&quot;)\r\n    private Car car;\r\n","title":"JPA many-to-one relation - need to save only Id","body":"<p>That error message means that you have have a transient instance in your object graph that is not explicitly persisted. Short recap of the statuses an object can have in JPA:</p>\n\n<ul>\n<li><em>Transient</em>: A new object that has not yet been stored in the database (and is thus unknown to the entitymanager.) Does not have an id set.</li>\n<li><em>Managed</em>: An object that the entitymanager keeps track of. Managed objects are what you work with within the scope of a transaction, and all changes done to a managed object will automatically be stored once the transaction is commited.</li>\n<li><em>Detached</em>: A previously managed object that is still reachable after the transction commits. (A managed object outside a transaction.) Has an id set.</li>\n</ul>\n\n<p>What the error message is telling you is that the (managed/detached) Driver-object you are working with holds a reference to a Car-object that is unknown to Hibernate (it is transient). In order to make Hibernate understand that any unsaved instances of Car being referenced from a Driver about be saved should also be saved you can call the persist-method of the EntityManager.</p>\n\n<p>Alternatively, you can add a cascade on persist (I think, just from the top of my head, haven't tested it), which will execute a persist on the Car prior to persisting the Driver.</p>\n\n<pre><code>@ManyToOne(fetch=FetchType.LAZY, cascade=CascadeType.PERSIST)\n@JoinColumn(name = \"CAR_ID\")\nprivate Car car;\n</code></pre>\n\n<p>If you use the merge-method of the entitymanager to store the Driver, you should add <code>CascadeType.MERGE</code> instead, or both:</p>\n\n<pre><code>@ManyToOne(fetch=FetchType.LAZY, cascade={ CascadeType.PERSIST, CascadeType.MERGE })\n@JoinColumn(name = \"CAR_ID\")\nprivate Car car;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2394638,"reputation":1447,"user_id":2093707,"display_name":"Adi Sutanto"},"score":14,"creation_date":1553061051,"post_id":32542366,"comment_id":97240584,"body_markdown":"In Spring, use JpaRepository#getOne(), see [Best Performance Practices for Hibernate 5 and Spring Boot 2 (Part 1)](https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp), Item 11: Populating a Child-Side Parent Association Via Proxy","body":"In Spring, use JpaRepository#getOne(), see <a href=\"https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp\" rel=\"nofollow noreferrer\">Best Performance Practices for Hibernate 5 and Spring Boot 2 (Part 1)</a>, Item 11: Populating a Child-Side Parent Association Via Proxy"},{"owner":{"account_id":2463196,"reputation":557,"user_id":2146861,"display_name":"Osmar"},"score":0,"creation_date":1581209018,"post_id":32542366,"comment_id":106354439,"body_markdown":"I think this is what the OP was looking for, I was looking for this exact same thing, I want to save the childs without having to read the parent from the DB as I don&#39;t need it at this point, so doing a select to the DB would be inefficient","body":"I think this is what the OP was looking for, I was looking for this exact same thing, I want to save the childs without having to read the parent from the DB as I don&#39;t need it at this point, so doing a select to the DB would be inefficient"},{"owner":{"account_id":16290452,"reputation":489,"user_id":11764050,"display_name":"PaulD"},"score":1,"creation_date":1665415309,"post_id":32542366,"comment_id":130689279,"body_markdown":"Link of first comment is redirecting me to a different article for some reason, found the page in a web archive: https://web.archive.org/web/20200608212049/https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp","body":"Link of first comment is redirecting me to a different article for some reason, found the page in a web archive: <a href=\"https://web.archive.org/web/20200608212049/https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp\" rel=\"nofollow noreferrer\">web.archive.org/web/20200608212049/https://dzone.com/article&zwnj;&#8203;s/&hellip;</a>"}],"tags":[],"owner":{"account_id":1296331,"reputation":803,"user_id":1247283,"accept_rate":100,"display_name":"scetix"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1599039304,"creation_date":1442083066,"answer_id":32542366,"question_id":27930449,"body_markdown":"You can do this via `getReference` call in `EntityManager`:\r\n\r\n    EntityManager em = ...;\r\n    Car car = em.getReference(Car.class, carId);\r\n    \r\n    Driver driver = ...;\r\n    driver.setCar(car);\r\n    em.persist(driver);\r\n\r\nThis will not execute SELECT statement from the database.","title":"JPA many-to-one relation - need to save only Id","body":"<p>You can do this via <code>getReference</code> call in <code>EntityManager</code>:</p>\n<pre><code>EntityManager em = ...;\nCar car = em.getReference(Car.class, carId);\n\nDriver driver = ...;\ndriver.setCar(car);\nem.persist(driver);\n</code></pre>\n<p>This will not execute SELECT statement from the database.</p>\n"},{"comments":[{"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"score":10,"creation_date":1518558051,"post_id":42633336,"comment_id":84553924,"body_markdown":"By setting insertable = false, updatable = false on the entity and not on the id I managed to insert a child with a valid parent id without having to fetch the parent. Thanks for the tip!","body":"By setting insertable = false, updatable = false on the entity and not on the id I managed to insert a child with a valid parent id without having to fetch the parent. Thanks for the tip!"},{"owner":{"account_id":21865,"reputation":13914,"user_id":53481,"accept_rate":82,"display_name":"okutane"},"score":0,"creation_date":1526399662,"post_id":42633336,"comment_id":87725230,"body_markdown":"@JonckvanderKogel care to share the snippet? :)","body":"@JonckvanderKogel care to share the snippet? :)"},{"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"score":0,"creation_date":1526497823,"post_id":42633336,"comment_id":87772858,"body_markdown":"@okutane please see the snippet below. Hope it helps!","body":"@okutane please see the snippet below. Hope it helps!"}],"tags":[],"owner":{"account_id":424607,"reputation":773,"user_id":804690,"accept_rate":80,"display_name":"Radu Gancea"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1488826333,"creation_date":1488826333,"answer_id":42633336,"question_id":27930449,"body_markdown":"You can work only with the `car` ID like this:\r\n\r\n    @JoinColumn(name = &quot;car&quot;)\r\n    @ManyToOne(targetEntity = Car.class, fetch = FetchType.LAZY)\r\n    @NotNull(message = &quot;Car not set&quot;)\r\n    @JsonIgnore\r\n    private Car car;\r\n\r\n    @Column(name = &quot;car&quot;, insertable = false, updatable = false)\r\n    private Long carId;","title":"JPA many-to-one relation - need to save only Id","body":"<p>You can work only with the <code>car</code> ID like this:</p>\n\n<pre><code>@JoinColumn(name = \"car\")\n@ManyToOne(targetEntity = Car.class, fetch = FetchType.LAZY)\n@NotNull(message = \"Car not set\")\n@JsonIgnore\nprivate Car car;\n\n@Column(name = \"car\", insertable = false, updatable = false)\nprivate Long carId;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2246480,"reputation":24384,"user_id":1979703,"accept_rate":87,"display_name":"Niklas"},"score":0,"creation_date":1586610191,"post_id":50378345,"comment_id":108192021,"body_markdown":"&gt;  Now when you fetch your entity the car field will be populated by Hibernate giving you the flexibility where only your parent gets fetched when it needs to.\n\nBut then should not `fetch = FetchType.EAGER` be `LAZY`?","body":"&gt;  Now when you fetch your entity the car field will be populated by Hibernate giving you the flexibility where only your parent gets fetched when it needs to.  But then should not <code>fetch = FetchType.EAGER</code> be <code>LAZY</code>?"},{"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"score":2,"creation_date":1586765709,"post_id":50378345,"comment_id":108238324,"body_markdown":"@Niklas it doesn&#39;t really matter, it can be EAGER or LAZY depending on your use-case. The point here is that it&#39;s a write optimisation, so you don&#39;t need to fetch the parent entity before inserting your child entity, you can just fill in the id saving a round trip to the database. When you fetch your child you probably want the full graph to be fetched including the car field and (at least in my case) I wanted to fetch it using 1 query and not 2, hence the EAGER. If it&#39;s not clear yet let me know and I will work out a full working example demonstrating this.","body":"@Niklas it doesn&#39;t really matter, it can be EAGER or LAZY depending on your use-case. The point here is that it&#39;s a write optimisation, so you don&#39;t need to fetch the parent entity before inserting your child entity, you can just fill in the id saving a round trip to the database. When you fetch your child you probably want the full graph to be fetched including the car field and (at least in my case) I wanted to fetch it using 1 query and not 2, hence the EAGER. If it&#39;s not clear yet let me know and I will work out a full working example demonstrating this."},{"owner":{"account_id":2246480,"reputation":24384,"user_id":1979703,"accept_rate":87,"display_name":"Niklas"},"score":0,"creation_date":1586771130,"post_id":50378345,"comment_id":108240514,"body_markdown":"Oh that&#39;s really helpful. I confused things before but now it&#39;s much clearer.","body":"Oh that&#39;s really helpful. I confused things before but now it&#39;s much clearer."},{"owner":{"account_id":1962480,"reputation":15483,"user_id":1763602,"accept_rate":76,"display_name":"Marco Sulla"},"score":0,"creation_date":1633614589,"post_id":50378345,"comment_id":122811186,"body_markdown":"I think this is the simplest solution","body":"I think this is the simplest solution"},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1658754307,"post_id":50378345,"comment_id":129122691,"body_markdown":"I get this `save the transient instance before flushing`","body":"I get this <code>save the transient instance before flushing</code>"},{"owner":{"account_id":16664048,"reputation":473,"user_id":12043263,"display_name":"Just A Question"},"score":0,"creation_date":1675163966,"post_id":50378345,"comment_id":132865108,"body_markdown":"Is that also possible for a list of Ids?","body":"Is that also possible for a list of Ids?"}],"tags":[],"owner":{"account_id":370719,"reputation":3063,"user_id":718849,"accept_rate":100,"display_name":"Jonck van der Kogel"},"comment_count":6,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1639118630,"creation_date":1526497779,"answer_id":50378345,"question_id":27930449,"body_markdown":"As an answer to okutane, please see snippet:\r\n\r\n\t@JoinColumn(name = &quot;car_id&quot;, insertable = false, updatable = false)\r\n\t@ManyToOne(targetEntity = Car.class, fetch = FetchType.EAGER)\r\n\tprivate Car car;\r\n\t\r\n\t@Column(name = &quot;car_id&quot;)\r\n\tprivate Long carId;\r\n\r\n\r\nSo what happens here is that when you want to do an insert/update, you only populate the `carId` field and perform the insert/update. Since the car field is non-insertable and non-updatable Hibernate will not complain about this and since in your database model you would only populate your `car_id` as a foreign key anyway this is enough at this point (and your foreign key relationship on the database will ensure your data integrity). Now when you fetch your entity the car field will be populated by Hibernate giving you the flexibility where only your parent gets fetched when it needs to.","title":"JPA many-to-one relation - need to save only Id","body":"<p>As an answer to okutane, please see snippet:</p>\n<pre><code>@JoinColumn(name = &quot;car_id&quot;, insertable = false, updatable = false)\n@ManyToOne(targetEntity = Car.class, fetch = FetchType.EAGER)\nprivate Car car;\n\n@Column(name = &quot;car_id&quot;)\nprivate Long carId;\n</code></pre>\n<p>So what happens here is that when you want to do an insert/update, you only populate the <code>carId</code> field and perform the insert/update. Since the car field is non-insertable and non-updatable Hibernate will not complain about this and since in your database model you would only populate your <code>car_id</code> as a foreign key anyway this is enough at this point (and your foreign key relationship on the database will ensure your data integrity). Now when you fetch your entity the car field will be populated by Hibernate giving you the flexibility where only your parent gets fetched when it needs to.</p>\n"},{"comments":[{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":0,"creation_date":1581257277,"post_id":55427683,"comment_id":106362583,"body_markdown":"This does also change semantics of relation. When `optional=false` is set, it changes default value (`true`) and from that point, there is no possibility to save Driver instance, which have `(driver.getCar() == null) == true`. If this is OK, perhaps this constrain should be there before any question asked.","body":"This does also change semantics of relation. When <code>optional=false</code> is set, it changes default value (<code>true</code>) and from that point, there is no possibility to save Driver instance, which have <code>(driver.getCar() == null) == true</code>. If this is OK, perhaps this constrain should be there before any question asked."}],"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581274548,"creation_date":1553913858,"answer_id":55427683,"question_id":27930449,"body_markdown":"Add optional field equal false like following\r\n\r\n    @ManyToOne(optional = false) // Telling hibernate trust me (As a trusted developer in this project) when building the query that the id provided to this entity is exists in database thus build the insert/update query right away without pre-checks\r\n    private Car car; \r\n\r\nThat way you can set just car&#39;s id as \r\n\r\n    driver.setCar(new Car(1));\r\n\r\nand then persist driver normal\r\n\r\n    driverRepo.save(driver);\r\n\r\nYou will see that car with id 1 is assigned perfectly to driver in database\r\n\r\n**Description:**\r\n\r\nSo what make this tiny `optional=false` makes may be this would help more https://stackoverflow.com/a/17987718\r\n\r\n","title":"JPA many-to-one relation - need to save only Id","body":"<p>Add optional field equal false like following</p>\n\n<pre><code>@ManyToOne(optional = false) // Telling hibernate trust me (As a trusted developer in this project) when building the query that the id provided to this entity is exists in database thus build the insert/update query right away without pre-checks\nprivate Car car; \n</code></pre>\n\n<p>That way you can set just car's id as </p>\n\n<pre><code>driver.setCar(new Car(1));\n</code></pre>\n\n<p>and then persist driver normal</p>\n\n<pre><code>driverRepo.save(driver);\n</code></pre>\n\n<p>You will see that car with id 1 is assigned perfectly to driver in database</p>\n\n<p><strong>Description:</strong></p>\n\n<p>So what make this tiny <code>optional=false</code> makes may be this would help more <a href=\"https://stackoverflow.com/a/17987718\">https://stackoverflow.com/a/17987718</a></p>\n"},{"tags":[],"owner":{"account_id":18441884,"reputation":11,"user_id":13434297,"display_name":"Alex Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674669544,"creation_date":1674669544,"answer_id":75237996,"question_id":27930449,"body_markdown":"Here&#39;s the missing article that Adi Sutanto linked.\r\n\r\n&gt;Item 11: Populating a Child-Side Parent Association Via Proxy\r\nExecuting more SQL statements than needed is always a performance penalty. It is important to strive to reduce their number as much as possible, and relying on references is one of the easy to use optimization.\r\n&gt;\r\n&gt;Description: A Hibernate proxy can be useful when a child entity can be persisted with a reference to its parent ( ```@ManyToOne``` or ```@OneToOne```   lazy association). In such cases, fetching the parent entity from the database (execute the ```SELECT``` statement) is a performance penalty and a pointless action. Hibernate can set the underlying foreign key value for an uninitialized proxy.\r\n&gt;\r\n&gt;Key points:\r\n&gt; - Rely on ```EntityManager#getReference()``` In Spring\r\n&gt; - use ```JpaRepository#getOne()``` Used in this example, \r\n&gt; - in Hibernate, use ```load()```\r\n&gt; - Assume two entities, ```Author``` and ```Book```, involved in a unidirectional ```@ManyToOne``` association (Author is the parent-side) We fetch the author via a proxy (this will not trigger a ```SELECT```), we create a new book\r\n&gt;\r\n&gt; - we set the proxy as the author for this book and we save the book (this will trigger an ```INSERT```  in the book  table)\r\n&gt;\r\n&gt;Output sample:\r\n&gt; - The console output will reveal that only an ```INSERT``` is triggered, and no ```SELECT```\r\n&gt;\r\n&gt;Source code can be found [here][1].\r\n\r\nIf you want to see the whole article put https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp into the wayback machine. I&#39;m not finding a live version of the article.\r\n\r\nPS. I&#39;m currently on a way to handle this well when using Jackson object mapper to deserialize Entities from the frontend. If you&#39;re interested in how that plays into all this leave a comment.\r\n\r\n\r\n  [1]: https://github.com/AnghelLeonard/Hibernate-SpringBoot/tree/master/HibernateSpringBootPopulatingChildViaProxy","title":"JPA many-to-one relation - need to save only Id","body":"<p>Here's the missing article that Adi Sutanto linked.</p>\n<blockquote>\n<p>Item 11: Populating a Child-Side Parent Association Via Proxy\nExecuting more SQL statements than needed is always a performance penalty. It is important to strive to reduce their number as much as possible, and relying on references is one of the easy to use optimization.</p>\n<p>Description: A Hibernate proxy can be useful when a child entity can be persisted with a reference to its parent ( <code>@ManyToOne</code> or <code>@OneToOne</code>   lazy association). In such cases, fetching the parent entity from the database (execute the <code>SELECT</code> statement) is a performance penalty and a pointless action. Hibernate can set the underlying foreign key value for an uninitialized proxy.</p>\n<p>Key points:</p>\n<ul>\n<li><p>Rely on <code>EntityManager#getReference()</code> In Spring</p>\n</li>\n<li><p>use <code>JpaRepository#getOne()</code> Used in this example,</p>\n</li>\n<li><p>in Hibernate, use <code>load()</code></p>\n</li>\n<li><p>Assume two entities, <code>Author</code> and <code>Book</code>, involved in a unidirectional <code>@ManyToOne</code> association (Author is the parent-side) We fetch the author via a proxy (this will not trigger a <code>SELECT</code>), we create a new book</p>\n</li>\n<li><p>we set the proxy as the author for this book and we save the book (this will trigger an <code>INSERT</code>  in the book  table)</p>\n</li>\n</ul>\n<p>Output sample:</p>\n<ul>\n<li>The console output will reveal that only an <code>INSERT</code> is triggered, and no <code>SELECT</code></li>\n</ul>\n<p>Source code can be found <a href=\"https://github.com/AnghelLeonard/Hibernate-SpringBoot/tree/master/HibernateSpringBootPopulatingChildViaProxy\" rel=\"nofollow noreferrer\">here</a>.</p>\n</blockquote>\n<p>If you want to see the whole article put <a href=\"https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp\" rel=\"nofollow noreferrer\">https://dzone.com/articles/50-best-performance-practices-for-hibernate-5-amp</a> into the wayback machine. I'm not finding a live version of the article.</p>\n<p>PS. I'm currently on a way to handle this well when using Jackson object mapper to deserialize Entities from the frontend. If you're interested in how that plays into all this leave a comment.</p>\n"}],"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92386,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":27930910,"answer_count":8,"score":58,"last_activity_date":1674669544,"creation_date":1421178962,"question_id":27930449,"body_markdown":"I have 2 classes: Driver and Car. Cars table updated in separate process. What I need is to have property in Driver that allows me to read full car description and write only Id pointing to existing Car. Here is example:\r\n\r\n    @Entity(name = &quot;DRIVER&quot;)\r\n    public class Driver {\r\n    ... ID and other properties for Driver goes here .....\r\n\r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name = &quot;CAR_ID&quot;)\r\n        private Car car;\r\n\r\n        @JsonView({Views.Full.class})\r\n        public Car getCar() {\r\n          return car;\r\n        }\r\n        @JsonView({Views.Short.class})\r\n        public long getCarId() {\r\n          return car.getId();\r\n        }\r\n        public void setCarId(long carId) {\r\n          this.car = new Car (carId);\r\n        }\r\n\r\n    }\r\nCar object is just typical JPA object with no back reference to the Driver.\r\n\r\nSo what I was trying to achieve by this is:\r\n1) I can read full Car description using detailed JSON View\r\n2) or I can read only Id of the Car in Short JsonView\r\n3) and most important, when creating new Driver I just want to pass in JSON ID of the car.\r\nThis way I dont need to do unnesessery reads for the Car during persist but just update Id. \r\n\r\nIm getting following error: \r\n\r\n```\r\nobject references an unsaved transient instance - save the transient instance before flushing : com.Driver.car -&gt; com.Car\r\n```\r\n\r\nI dont want to update instance of the Car in DB but rather just reference to it from Driver. Any idea how to achieve what I want?\r\n\r\nThank you.\r\n\r\nUPDATE:\r\nForgot to mention that the ID of the Car that I pass during creation of the Driver is valid Id of the existing Car in DB.","title":"JPA many-to-one relation - need to save only Id","body":"<p>I have 2 classes: Driver and Car. Cars table updated in separate process. What I need is to have property in Driver that allows me to read full car description and write only Id pointing to existing Car. Here is example:</p>\n<pre><code>@Entity(name = &quot;DRIVER&quot;)\npublic class Driver {\n... ID and other properties for Driver goes here .....\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name = &quot;CAR_ID&quot;)\n    private Car car;\n\n    @JsonView({Views.Full.class})\n    public Car getCar() {\n      return car;\n    }\n    @JsonView({Views.Short.class})\n    public long getCarId() {\n      return car.getId();\n    }\n    public void setCarId(long carId) {\n      this.car = new Car (carId);\n    }\n\n}\n</code></pre>\n<p>Car object is just typical JPA object with no back reference to the Driver.</p>\n<p>So what I was trying to achieve by this is:</p>\n<ol>\n<li>I can read full Car description using detailed JSON View</li>\n<li>or I can read only Id of the Car in Short JsonView</li>\n<li>and most important, when creating new Driver I just want to pass in JSON ID of the car.\nThis way I dont need to do unnesessery reads for the Car during persist but just update Id.</li>\n</ol>\n<p>Im getting following error:</p>\n<pre><code>object references an unsaved transient instance - save the transient instance before flushing : com.Driver.car -&gt; com.Car\n</code></pre>\n<p>I dont want to update instance of the Car in DB but rather just reference to it from Driver. Any idea how to achieve what I want?</p>\n<p>Thank you.</p>\n<p>UPDATE:\nForgot to mention that the ID of the Car that I pass during creation of the Driver is valid Id of the existing Car in DB.</p>\n"},{"tags":["java","spring-boot","neo4j","integration-testing","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":1684429,"reputation":4685,"user_id":1547989,"display_name":"Michael Simons"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674669408,"creation_date":1674656011,"answer_id":75235260,"question_id":74719975,"body_markdown":"here&#39;s one way to do this (using current Neo4j 5.3). I have a dump file called `neo4j.dump` created from a local instance and I use `withCopyFileToContainer` to copy it to the container before it starts.\r\n\r\nAs I use the community edition in this example, there is no online backup/restore, but only dump/load. So therefor I have to change the startup command. The `load` needs to happen before Neo4j starts. I can&#39;t stop Neo4j in the container because it would stop the container.\r\n\r\nTherefor I create a small shell script that executes the desired other command and than delegates to the original entry point.\r\n\r\nThis script is transferred with file mode `0100555`, corresponding to `r-xr-xr-x` so that it is executable.\r\n\r\nFinally, the container is started with the above script as command.\r\n\r\n\r\n\r\n```java\r\nimport org.junit.jupiter.api.AfterAll;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.Driver;\r\nimport org.neo4j.driver.GraphDatabase;\r\nimport org.testcontainers.containers.Neo4jContainer;\r\nimport org.testcontainers.images.builder.Transferable;\r\nimport org.testcontainers.utility.MountableFile;\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class LoadDumpTest {\r\n\r\n\tNeo4jContainer&lt;?&gt; neo4j;\r\n\r\n\tDriver driver;\r\n\r\n\t@BeforeAll\r\n\tvoid initNeo4j() {\r\n\r\n\t\tneo4j = new Neo4jContainer&lt;&gt;(&quot;neo4j:5.3.0&quot;)\r\n\t\t\t.withCopyFileToContainer(MountableFile.forClasspathResource(&quot;neo4j.dump&quot;),\r\n\t\t\t\t&quot;/var/lib/neo4j/data/dumps/neo4j.dump&quot;)\r\n\t\t\t.withCopyToContainer(Transferable.of(&quot;&quot;&quot;\r\n\t\t\t\t#!/bin/bash -eu\r\n\t\t\t\t/var/lib/neo4j/bin/neo4j-admin database load neo4j\r\n\t\t\t\t/startup/docker-entrypoint.sh neo4j\r\n\t\t\t\t&quot;&quot;&quot;, 0100555), &quot;/startup/load-dump-and-start.sh&quot;)\r\n\t\t\t.withCommand(&quot;/startup/load-dump-and-start.sh&quot;)\r\n\t\t\t.withLogConsumer(f -&gt; System.out.print(f.getUtf8String()));\r\n\t\tneo4j.start();\r\n\t\tdriver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, neo4j.getAdminPassword()));\r\n\t}\r\n\r\n\t@Test\r\n\tvoid dataShouldHaveBeenLoaded() {\r\n\t\ttry (var session = driver.session()) {\r\n\t\t\tvar numNodes = session.run(&quot;MATCH (n) RETURN count(n)&quot;).single().get(0).asLong();\r\n\t\t\tAssertions.assertTrue(numNodes &gt; 0);\r\n\t\t}\r\n\t}\r\n\r\n\t@AfterAll\r\n\tvoid stopNeo4j() {\r\n\t\tneo4j.stop();\r\n\t}\r\n}\r\n```\r\n\r\nEdit:\r\nIf you are on a recent enterprise edition, [Christophe][1] suggested the following solution on Twitter, which I do personally think it&#39;s superior, as it is less hacky.\r\n\r\nhttps://github.com/ikwattro/neo4j-5-testcontainers-restore-backup/blob/main/src/test/java/dev/ikwattro/Neo4j5RestoreBackupExampleTest.java\r\n\r\n\r\nIt makes use of seed URIs for databases. Copying or binding the resource in his example works the same as in mine.\r\n\r\n  [1]: https://stackoverflow.com/users/2662355/christophe-willemsen","title":"Load neo4j dump in test container during integration test run","body":"<p>here's one way to do this (using current Neo4j 5.3). I have a dump file called <code>neo4j.dump</code> created from a local instance and I use <code>withCopyFileToContainer</code> to copy it to the container before it starts.</p>\n<p>As I use the community edition in this example, there is no online backup/restore, but only dump/load. So therefor I have to change the startup command. The <code>load</code> needs to happen before Neo4j starts. I can't stop Neo4j in the container because it would stop the container.</p>\n<p>Therefor I create a small shell script that executes the desired other command and than delegates to the original entry point.</p>\n<p>This script is transferred with file mode <code>0100555</code>, corresponding to <code>r-xr-xr-x</code> so that it is executable.</p>\n<p>Finally, the container is started with the above script as command.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.AfterAll;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.neo4j.driver.AuthTokens;\nimport org.neo4j.driver.Driver;\nimport org.neo4j.driver.GraphDatabase;\nimport org.testcontainers.containers.Neo4jContainer;\nimport org.testcontainers.images.builder.Transferable;\nimport org.testcontainers.utility.MountableFile;\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class LoadDumpTest {\n\n    Neo4jContainer&lt;?&gt; neo4j;\n\n    Driver driver;\n\n    @BeforeAll\n    void initNeo4j() {\n\n        neo4j = new Neo4jContainer&lt;&gt;(&quot;neo4j:5.3.0&quot;)\n            .withCopyFileToContainer(MountableFile.forClasspathResource(&quot;neo4j.dump&quot;),\n                &quot;/var/lib/neo4j/data/dumps/neo4j.dump&quot;)\n            .withCopyToContainer(Transferable.of(&quot;&quot;&quot;\n                #!/bin/bash -eu\n                /var/lib/neo4j/bin/neo4j-admin database load neo4j\n                /startup/docker-entrypoint.sh neo4j\n                &quot;&quot;&quot;, 0100555), &quot;/startup/load-dump-and-start.sh&quot;)\n            .withCommand(&quot;/startup/load-dump-and-start.sh&quot;)\n            .withLogConsumer(f -&gt; System.out.print(f.getUtf8String()));\n        neo4j.start();\n        driver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, neo4j.getAdminPassword()));\n    }\n\n    @Test\n    void dataShouldHaveBeenLoaded() {\n        try (var session = driver.session()) {\n            var numNodes = session.run(&quot;MATCH (n) RETURN count(n)&quot;).single().get(0).asLong();\n            Assertions.assertTrue(numNodes &gt; 0);\n        }\n    }\n\n    @AfterAll\n    void stopNeo4j() {\n        neo4j.stop();\n    }\n}\n</code></pre>\n<p>Edit:\nIf you are on a recent enterprise edition, <a href=\"https://stackoverflow.com/users/2662355/christophe-willemsen\">Christophe</a> suggested the following solution on Twitter, which I do personally think it's superior, as it is less hacky.</p>\n<p><a href=\"https://github.com/ikwattro/neo4j-5-testcontainers-restore-backup/blob/main/src/test/java/dev/ikwattro/Neo4j5RestoreBackupExampleTest.java\" rel=\"nofollow noreferrer\">https://github.com/ikwattro/neo4j-5-testcontainers-restore-backup/blob/main/src/test/java/dev/ikwattro/Neo4j5RestoreBackupExampleTest.java</a></p>\n<p>It makes use of seed URIs for databases. Copying or binding the resource in his example works the same as in mine.</p>\n"},{"tags":[],"owner":{"account_id":1575719,"reputation":19504,"user_id":2662355,"display_name":"Christophe Willemsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674665016,"creation_date":1674665016,"answer_id":75237184,"question_id":74719975,"body_markdown":"If you&#39;re using Neo4j 5, I suggest you make backups instead of dumps. Using backups you can take advantage of the `seedUri` option when creating a database, meaning you can create a database from an URI pointing to a backup on disk ( or in the neo4j container ). https://neo4j.com/docs/operations-manual/current/clustering/databases/#cluster-seed-uri\r\n\r\nHere is an example using Testcontainers\r\n\r\n```java\r\npackage dev.ikwattro;\r\n\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.TestInstance;\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.Driver;\r\nimport org.neo4j.driver.GraphDatabase;\r\nimport org.neo4j.driver.Session;\r\nimport org.neo4j.driver.SessionConfig;\r\nimport org.testcontainers.containers.BindMode;\r\nimport org.testcontainers.containers.Neo4jContainer;\r\nimport org.testcontainers.junit.jupiter.Container;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@Testcontainers(disabledWithoutDocker = true)\r\npublic class Neo4j5RestoreBackupExampleTest {\r\n\r\n    @Container\r\n    private Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;(&quot;neo4j:5.3.0-enterprise&quot;)\r\n            .withAdminPassword(&quot;password&quot;)\r\n            .withEnv(&quot;NEO4J_dbms_memory_heap_max__size&quot;, &quot;256M&quot;)\r\n            .withEnv(&quot;NEO4J_dbms_databases_seed__from__uri__providers&quot;, &quot;URLConnectionSeedProvider&quot;)\r\n            .withClasspathResourceMapping(&quot;backups&quot;, &quot;/backups&quot;, BindMode.READ_ONLY)\r\n            .withEnv(&quot;NEO4J_ACCEPT_LICENSE_AGREEMENT&quot;, &quot;yes&quot;);\r\n\r\n\r\n    @BeforeAll\r\n    void beforeAll() {\r\n        neo4j.start();\r\n        createDbFromBackup();\r\n    }\r\n    @Test\r\n    void testCreatingDbFromBackup() {\r\n        try (Driver driver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;))) {\r\n            try (Session session = driver.session(SessionConfig.forDatabase(&quot;worldcup22&quot;))) {\r\n                var result = session.run(&quot;MATCH (n) RETURN count(n) AS c&quot;).single().get(&quot;c&quot;).asLong();\r\n                assertThat(result).isPositive();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createDbFromBackup() {\r\n        try (Driver driver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;))) {\r\n            try (Session session = driver.session(SessionConfig.forDatabase(&quot;system&quot;))) {\r\n                session.run(&quot;&quot;&quot;\r\n                        CREATE DATABASE worldcup22 OPTIONS { existingData: &quot;use&quot;, seedUri: &quot;file:///backups/world-cup-2022-neo4j.backup&quot;}\r\n                        &quot;&quot;&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou can find a working maven project here https://github.com/ikwattro/neo4j-5-testcontainers-restore-backup","title":"Load neo4j dump in test container during integration test run","body":"<p>If you're using Neo4j 5, I suggest you make backups instead of dumps. Using backups you can take advantage of the <code>seedUri</code> option when creating a database, meaning you can create a database from an URI pointing to a backup on disk ( or in the neo4j container ). <a href=\"https://neo4j.com/docs/operations-manual/current/clustering/databases/#cluster-seed-uri\" rel=\"nofollow noreferrer\">https://neo4j.com/docs/operations-manual/current/clustering/databases/#cluster-seed-uri</a></p>\n<p>Here is an example using Testcontainers</p>\n<pre class=\"lang-java prettyprint-override\"><code>package dev.ikwattro;\n\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestInstance;\nimport org.neo4j.driver.AuthTokens;\nimport org.neo4j.driver.Driver;\nimport org.neo4j.driver.GraphDatabase;\nimport org.neo4j.driver.Session;\nimport org.neo4j.driver.SessionConfig;\nimport org.testcontainers.containers.BindMode;\nimport org.testcontainers.containers.Neo4jContainer;\nimport org.testcontainers.junit.jupiter.Container;\nimport org.testcontainers.junit.jupiter.Testcontainers;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@Testcontainers(disabledWithoutDocker = true)\npublic class Neo4j5RestoreBackupExampleTest {\n\n    @Container\n    private Neo4jContainer&lt;?&gt; neo4j = new Neo4jContainer&lt;&gt;(&quot;neo4j:5.3.0-enterprise&quot;)\n            .withAdminPassword(&quot;password&quot;)\n            .withEnv(&quot;NEO4J_dbms_memory_heap_max__size&quot;, &quot;256M&quot;)\n            .withEnv(&quot;NEO4J_dbms_databases_seed__from__uri__providers&quot;, &quot;URLConnectionSeedProvider&quot;)\n            .withClasspathResourceMapping(&quot;backups&quot;, &quot;/backups&quot;, BindMode.READ_ONLY)\n            .withEnv(&quot;NEO4J_ACCEPT_LICENSE_AGREEMENT&quot;, &quot;yes&quot;);\n\n\n    @BeforeAll\n    void beforeAll() {\n        neo4j.start();\n        createDbFromBackup();\n    }\n    @Test\n    void testCreatingDbFromBackup() {\n        try (Driver driver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;))) {\n            try (Session session = driver.session(SessionConfig.forDatabase(&quot;worldcup22&quot;))) {\n                var result = session.run(&quot;MATCH (n) RETURN count(n) AS c&quot;).single().get(&quot;c&quot;).asLong();\n                assertThat(result).isPositive();\n            }\n        }\n    }\n\n    private void createDbFromBackup() {\n        try (Driver driver = GraphDatabase.driver(neo4j.getBoltUrl(), AuthTokens.basic(&quot;neo4j&quot;, &quot;password&quot;))) {\n            try (Session session = driver.session(SessionConfig.forDatabase(&quot;system&quot;))) {\n                session.run(&quot;&quot;&quot;\n                        CREATE DATABASE worldcup22 OPTIONS { existingData: &quot;use&quot;, seedUri: &quot;file:///backups/world-cup-2022-neo4j.backup&quot;}\n                        &quot;&quot;&quot;);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>You can find a working maven project here <a href=\"https://github.com/ikwattro/neo4j-5-testcontainers-restore-backup\" rel=\"nofollow noreferrer\">https://github.com/ikwattro/neo4j-5-testcontainers-restore-backup</a></p>\n"}],"owner":{"account_id":2229622,"reputation":21,"user_id":1967570,"display_name":"amit kumar gyandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674669408,"creation_date":1670430881,"question_id":74719975,"body_markdown":"I am trying to write integration test for neo4j using spring boot. I am using test container. Can anyone help me how to load database dump file to testcontainer?","title":"Load neo4j dump in test container during integration test run","body":"<p>I am trying to write integration test for neo4j using spring boot. I am using test container. Can anyone help me how to load database dump file to testcontainer?</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674663533,"creation_date":1674663533,"answer_id":75236847,"question_id":75236633,"body_markdown":"Well, shows how well I can search; as always, Jackson provides *some* way of doing whatever needs doing. In case it might help someone else:\r\n\r\nThere exists the `@JsonIgnoreProperties` annotation which, in addition to the `ignoreUnknown` property (that I already knew), supports a list of properties (via `value()`) to ignore during de-/serialization (which I did not know).\r\n\r\nThis is not *quite* the same as the intended solution above, but having these properties inside of `@JsonIgnoreProperties({ ... })` in the class header instead of the class body is a good enough compromise for me.\r\n\r\nSo, the solution would be:\r\n\r\n```java\r\n@JsonIgnoreProperties({&quot;unwantedProperty&quot;})\r\npublic class A {\r\n    // same as above...\r\n}\r\n```\r\n\r\nStill, if there is a MixIn solution which can completely decouple these things, I&#39;d still like to see it. I&#39;ll accept my own answer if nothing comes up in a few days.","title":"Using Jackson Mixins to selectively ignore only provided properties","body":"<p>Well, shows how well I can search; as always, Jackson provides <em>some</em> way of doing whatever needs doing. In case it might help someone else:</p>\n<p>There exists the <code>@JsonIgnoreProperties</code> annotation which, in addition to the <code>ignoreUnknown</code> property (that I already knew), supports a list of properties (via <code>value()</code>) to ignore during de-/serialization (which I did not know).</p>\n<p>This is not <em>quite</em> the same as the intended solution above, but having these properties inside of <code>@JsonIgnoreProperties({ ... })</code> in the class header instead of the class body is a good enough compromise for me.</p>\n<p>So, the solution would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties({&quot;unwantedProperty&quot;})\npublic class A {\n    // same as above...\n}\n</code></pre>\n<p>Still, if there is a MixIn solution which can completely decouple these things, I'd still like to see it. I'll accept my own answer if nothing comes up in a few days.</p>\n"},{"comments":[{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1674682448,"post_id":75237227,"comment_id":132769525,"body_markdown":"Great answer, thanks. *In order for the use-mixin-to-ignore-fields-in-json strategy to work, the fields to be ignored must exist in the class.* This is the exact piece of knowledge I was missing. I&#39;ll be putting a TODO down to implement your proposed solution since I&#39;m OK with the compromise I posted earlier for now, but this was exactly what I was looking for - a custom deserializer would probably perform better too.","body":"Great answer, thanks. <i>In order for the use-mixin-to-ignore-fields-in-json strategy to work, the fields to be ignored must exist in the class.</i> This is the exact piece of knowledge I was missing. I&#39;ll be putting a TODO down to implement your proposed solution since I&#39;m OK with the compromise I posted earlier for now, but this was exactly what I was looking for - a custom deserializer would probably perform better too."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674669082,"creation_date":1674665194,"answer_id":75237227,"question_id":75236633,"body_markdown":"**Answer to question 1:**  \r\nYou can instruct Jackson to ignore unknown properties.\r\nI tend to configure the `ObjectMapper` to ignore them,\r\nhere is some sample code:\r\n```Java\r\nprivate ObjectMapper mapper;\r\nJackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n\r\n// This matches the Fuse Mapper configuration.\r\nbuilder.featuresToDisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES\r\nmapper = builder.build();\r\n```\r\nYou can also annotate the class to ignore unknown properties.\r\nHere is some sample code:\r\n```Java\r\n@jsonignoreproperties(ignoreunknown = true)\r\npublic class A\r\n{\r\n   ...\r\n```\r\n  \r\n**Note about question 2:**  \r\nIn order for the use-mixin-to-ignore-fields-in-json strategy to work,\r\nthe fields to be ignored must exist in the class.\r\nIn your case,\r\nthis means that `class A` must have a field &quot;unwantedProperty&quot; for the mixin to work correctly.\r\n\r\n**Direction to solve questions 2 and 3**  \r\nYou cannot use the MixIn feature of Jackson to solve either\r\nquestion 2 or question 3.\r\nInstead,\r\nyou will need to write a custom deserializer.\r\nI suggest that you also use a custom Jackson annotation\r\nthat configures a list of ignored-unrecognized-fields\r\nand have your custom deserializer only throw the exception\r\nfor unrecognized fields that are not part of the\r\nignored-unrecognized-fields list.","title":"Using Jackson Mixins to selectively ignore only provided properties","body":"<p><strong>Answer to question 1:</strong><br />\nYou can instruct Jackson to ignore unknown properties.\nI tend to configure the <code>ObjectMapper</code> to ignore them,\nhere is some sample code:</p>\n<pre><code>private ObjectMapper mapper;\nJackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n\n// This matches the Fuse Mapper configuration.\nbuilder.featuresToDisable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES\nmapper = builder.build();\n</code></pre>\n<p>You can also annotate the class to ignore unknown properties.\nHere is some sample code:</p>\n<pre><code>@jsonignoreproperties(ignoreunknown = true)\npublic class A\n{\n   ...\n</code></pre>\n<p><strong>Note about question 2:</strong><br />\nIn order for the use-mixin-to-ignore-fields-in-json strategy to work,\nthe fields to be ignored must exist in the class.\nIn your case,\nthis means that <code>class A</code> must have a field &quot;unwantedProperty&quot; for the mixin to work correctly.</p>\n<p><strong>Direction to solve questions 2 and 3</strong><br />\nYou cannot use the MixIn feature of Jackson to solve either\nquestion 2 or question 3.\nInstead,\nyou will need to write a custom deserializer.\nI suggest that you also use a custom Jackson annotation\nthat configures a list of ignored-unrecognized-fields\nand have your custom deserializer only throw the exception\nfor unrecognized fields that are not part of the\nignored-unrecognized-fields list.</p>\n"}],"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75237227,"answer_count":2,"score":0,"last_activity_date":1674669082,"creation_date":1674662535,"question_id":75236633,"body_markdown":"I have the following situation:\r\n\r\n```java\r\npublic class A {\r\n    private String someProperty;\r\n    private String anotherProperty;\r\n\r\n    public A() {}\r\n\r\n    // getter/setter\r\n```\r\n\r\nAn `ObjectMapper` configuration as follows (enabled by default, but worth noting to get the point of the question across):\r\n\r\n```java\r\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\r\n```\r\n\r\nand an input JSON that looks as follows:\r\n\r\n```java\r\n{\r\n  &quot;someProperty&quot;: &quot;someValue&quot;,\r\n  &quot;anotherProperty&quot;:&quot;anotherValue&quot;,\r\n  &quot;unwantedProperty&quot;:&quot;unwantedValue&quot;\r\n}\r\n```\r\n\r\nWhen deserializing this JSON using `objectMapper.readValue(bytes, A.class)`, as expected, it gives me an exception:\r\n\r\n```java\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;unwantedProperty&quot;\r\n```\r\n\r\nNow, what *I want to do*, is the following:\r\n\r\n1. Only deserialize properties that are explicitly provided by `A.class`\r\n2. Use a MixIn to ignore all *unwanted, known* properties. So for example, I know that `unwantedProperty` is part of the JSON, but I don&#39;t need it, so I want to ignore it.\r\n3. Still raise an `UnrecognizedPropertyException` if a *new, unknown* property suddenly appears in my JSON.\r\n\r\nThe reason that I wish to use something like a MixIn class for this is that in reality, the input JSON has several dozens of fields. I would prefer not to clutter my `A.class` with dozens and dozens of unused properties with `@JsonIgnore` on them, so that it only contains the fields that I *really* want. If a new property unexpectedly does come along, I want to be forced to have a look at it.\r\n\r\nI thought that I could allow this behaviour by using a MixIn as follows:\r\n\r\n```java\r\npublic abstract class AMixIn {\r\n    @JsonIgnore private String unwantedProperty;\r\n```\r\n\r\ntogether with:\r\n\r\n```java\r\nobjectMapper.addMixIn(A.class, AMixIn.class);\r\n```\r\n\r\nbut this seemingly has no effect. I&#39;ve also tried creating getters in `AMixIn` and giving those `@JsonIgnore`, but this also has no result.\r\n\r\nAm I using MixIns incorrectly here? Is what I&#39;m trying to do even possible (as described in the 3 points above)? Or, is there a better way to do this?\r\n\r\nI&#39;ve tried searching, but my use case is a bit esoteric, so I haven&#39;t had much luck.","title":"Using Jackson Mixins to selectively ignore only provided properties","body":"<p>I have the following situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private String someProperty;\n    private String anotherProperty;\n\n    public A() {}\n\n    // getter/setter\n</code></pre>\n<p>An <code>ObjectMapper</code> configuration as follows (enabled by default, but worth noting to get the point of the question across):</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true);\n</code></pre>\n<p>and an input JSON that looks as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>{\n  &quot;someProperty&quot;: &quot;someValue&quot;,\n  &quot;anotherProperty&quot;:&quot;anotherValue&quot;,\n  &quot;unwantedProperty&quot;:&quot;unwantedValue&quot;\n}\n</code></pre>\n<p>When deserializing this JSON using <code>objectMapper.readValue(bytes, A.class)</code>, as expected, it gives me an exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;unwantedProperty&quot;\n</code></pre>\n<p>Now, what <em>I want to do</em>, is the following:</p>\n<ol>\n<li>Only deserialize properties that are explicitly provided by <code>A.class</code></li>\n<li>Use a MixIn to ignore all <em>unwanted, known</em> properties. So for example, I know that <code>unwantedProperty</code> is part of the JSON, but I don't need it, so I want to ignore it.</li>\n<li>Still raise an <code>UnrecognizedPropertyException</code> if a <em>new, unknown</em> property suddenly appears in my JSON.</li>\n</ol>\n<p>The reason that I wish to use something like a MixIn class for this is that in reality, the input JSON has several dozens of fields. I would prefer not to clutter my <code>A.class</code> with dozens and dozens of unused properties with <code>@JsonIgnore</code> on them, so that it only contains the fields that I <em>really</em> want. If a new property unexpectedly does come along, I want to be forced to have a look at it.</p>\n<p>I thought that I could allow this behaviour by using a MixIn as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AMixIn {\n    @JsonIgnore private String unwantedProperty;\n</code></pre>\n<p>together with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.addMixIn(A.class, AMixIn.class);\n</code></pre>\n<p>but this seemingly has no effect. I've also tried creating getters in <code>AMixIn</code> and giving those <code>@JsonIgnore</code>, but this also has no result.</p>\n<p>Am I using MixIns incorrectly here? Is what I'm trying to do even possible (as described in the 3 points above)? Or, is there a better way to do this?</p>\n<p>I've tried searching, but my use case is a bit esoteric, so I haven't had much luck.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674631949,"post_id":75230718,"comment_id":132753298,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":27615920,"reputation":1,"user_id":21077976,"display_name":"Hasan Cavit Ko&#231;ak"},"score":0,"creation_date":1674634708,"post_id":75230936,"comment_id":132753953,"body_markdown":"unfortunately these didn&#39;t work. I want to click on any size there, not xs.","body":"unfortunately these didn&#39;t work. I want to click on any size there, not xs."}],"tags":[],"owner":{"account_id":22542267,"reputation":11,"user_id":16732700,"display_name":"Fouzan Jafri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674632569,"creation_date":1674632569,"answer_id":75230936,"question_id":75230718,"body_markdown":"2 approach for this.\r\n1. \r\n\r\n    WebElement InputBox = driver.findElement(by.xpath(&quot;xpath of input box&quot;));`\r\n         InputBox.click();\r\n            WebElement DropDownAttribute = driver.findElement(by.xpath(&quot;//*[text()=&#39;Xs&#39;]&quot;));\r\n            DropDownAttribute.click();\r\n\r\n2.With Loop\r\n\r\n     List&lt;WebElement&gt; list = driver.findElements(by.xapth(&quot;Xpath of all the dropdown entity&quot;));\r\n    for(WebElement ele:list){\r\n    if(ele.getText().equals(&quot;Xs&quot;)){\r\n    ele.click();\r\n    }\r\n    }","title":"I can&#39;t do selenium java random click","body":"<p>2 approach for this.\n1.</p>\n<pre><code>WebElement InputBox = driver.findElement(by.xpath(&quot;xpath of input box&quot;));`\n     InputBox.click();\n        WebElement DropDownAttribute = driver.findElement(by.xpath(&quot;//*[text()='Xs']&quot;));\n        DropDownAttribute.click();\n</code></pre>\n<p>2.With Loop</p>\n<pre><code> List&lt;WebElement&gt; list = driver.findElements(by.xapth(&quot;Xpath of all the dropdown entity&quot;));\nfor(WebElement ele:list){\nif(ele.getText().equals(&quot;Xs&quot;)){\nele.click();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674642056,"creation_date":1674640986,"answer_id":75232324,"question_id":75230718,"body_markdown":"As you have not shared the HTML structure, can&#39;t suggest you on the actual code, however see the algorithm below:\r\n\r\n**Solution1:** Assuming the dropdown has **select** tag:\r\n\r\n1. Get the dropdown values into a Select object, call it **dropdownValues**\r\n\r\n       Select dropdownValues= new Select(driver.findElement(By.name(&quot;name of the element&quot;)));\r\n2. Create an instance(object) of Random class and generate a random number in the dropdown index range\r\n3. Select the random index from the dropdownValues \r\n\r\n       dropdownValues.selectByIndex(randomElement);\r\n\r\n**Solution2:** Assuming the dropdown does not have **select** tag:\r\n\r\n1. Get the dropdown values into a List, example below\r\n\r\n       List&lt;WebElement&gt; dropdownValues = driver.findElements(By.xpath(&quot;enter xpath here&quot;));\r\n\r\n2. Create an instance(object) of Random class like below\r\n\r\n       Random rand = new Random();\r\n\r\n3. Select the random index from the List dropdownValues \r\n\r\n       dropdownValues.get(rand.nextInt(dropdownValues .size()));","title":"I can&#39;t do selenium java random click","body":"<p>As you have not shared the HTML structure, can't suggest you on the actual code, however see the algorithm below:</p>\n<p><strong>Solution1:</strong> Assuming the dropdown has <strong>select</strong> tag:</p>\n<ol>\n<li><p>Get the dropdown values into a Select object, call it <strong>dropdownValues</strong></p>\n<pre><code>Select dropdownValues= new Select(driver.findElement(By.name(&quot;name of the element&quot;)));\n</code></pre>\n</li>\n<li><p>Create an instance(object) of Random class and generate a random number in the dropdown index range</p>\n</li>\n<li><p>Select the random index from the dropdownValues</p>\n<pre><code>dropdownValues.selectByIndex(randomElement);\n</code></pre>\n</li>\n</ol>\n<p><strong>Solution2:</strong> Assuming the dropdown does not have <strong>select</strong> tag:</p>\n<ol>\n<li><p>Get the dropdown values into a List, example below</p>\n<pre><code>List&lt;WebElement&gt; dropdownValues = driver.findElements(By.xpath(&quot;enter xpath here&quot;));\n</code></pre>\n</li>\n<li><p>Create an instance(object) of Random class like below</p>\n<pre><code>Random rand = new Random();\n</code></pre>\n</li>\n<li><p>Select the random index from the List dropdownValues</p>\n<pre><code>dropdownValues.get(rand.nextInt(dropdownValues .size()));\n</code></pre>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":27615920,"reputation":1,"user_id":21077976,"display_name":"Hasan Cavit Ko&#231;ak"},"score":0,"creation_date":1674739233,"post_id":75237800,"comment_id":132780646,"body_markdown":"it didn&#39;t work :(","body":"it didn&#39;t work :("},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1674744550,"post_id":75237800,"comment_id":132782580,"body_markdown":"What didn&#39;t work? Did you receive an error? If so, please post the error here.","body":"What didn&#39;t work? Did you receive an error? If so, please post the error here."}],"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674668430,"creation_date":1674668430,"answer_id":75237800,"question_id":75230718,"body_markdown":"The easiest way to do this is to count the dropdown selections and then generate a random number between 1 and the max number of selections. NOTE: You don&#39;t want to include 0 because of the &quot;Size&quot; label inside the dropdown.\r\n\r\n\tRandom random = new Random();\r\n    By selectLocator = By.id(&quot;someId&quot;); // the locator for the Size dropdown\r\n    Select dropdown = new Select(driver.findElement(selectLocator)); // get the Size dropdown element and convert it to a Select element to make it easier to work with\r\n\tInteger size = dropdown.getOptions().size() + 1; // get the number of OPTIONs and add 1 to avoid selecting the &quot;Size&quot; OPTION\r\n\tdropdown.selectByIndex(random.nextInt(size)); // select an OPTION based on the generated random number\r\n\r\n","title":"I can&#39;t do selenium java random click","body":"<p>The easiest way to do this is to count the dropdown selections and then generate a random number between 1 and the max number of selections. NOTE: You don't want to include 0 because of the &quot;Size&quot; label inside the dropdown.</p>\n<pre><code>Random random = new Random();\nBy selectLocator = By.id(&quot;someId&quot;); // the locator for the Size dropdown\nSelect dropdown = new Select(driver.findElement(selectLocator)); // get the Size dropdown element and convert it to a Select element to make it easier to work with\nInteger size = dropdown.getOptions().size() + 1; // get the number of OPTIONs and add 1 to avoid selecting the &quot;Size&quot; OPTION\ndropdown.selectByIndex(random.nextInt(size)); // select an OPTION based on the generated random number\n</code></pre>\n"}],"owner":{"account_id":27615920,"reputation":1,"user_id":21077976,"display_name":"Hasan Cavit Ko&#231;ak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674744574,"answer_count":3,"score":-1,"last_activity_date":1674668430,"creation_date":1674631001,"question_id":75230718,"body_markdown":"[enter image description here](https://i.stack.imgur.com/Sfynj.png)\r\n\r\nI want to do a rondom click with selenium, but I can&#39;t. I searched but couldn&#39;t find it. I want to choose the sizes in the photo randomly. Because the sizes may be out of stock and my test will fail.\r\n\r\nI ask for your support. I tried with list methods and I didn&#39;t.","title":"I can&#39;t do selenium java random click","body":"<p><a href=\"https://i.stack.imgur.com/Sfynj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I want to do a rondom click with selenium, but I can't. I searched but couldn't find it. I want to choose the sizes in the photo randomly. Because the sizes may be out of stock and my test will fail.</p>\n<p>I ask for your support. I tried with list methods and I didn't.</p>\n"},{"tags":["java","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674667736,"creation_date":1674667736,"answer_id":75237704,"question_id":75230235,"body_markdown":"This produced the same results as your code in a test that passed &quot;test_1&quot;, etc. into it.\r\n```Java\r\nmap.entrySet().stream()\r\n    .filter(entry -&gt; entry.getValue().stream()\r\n        .anyMatch(m -&gt; m.getOrDefault(input, false)))\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toSet());\r\n```","title":"Streams for iterating through Map of List of Map in Java","body":"<p>This produced the same results as your code in a test that passed &quot;test_1&quot;, etc. into it.</p>\n<pre><code>map.entrySet().stream()\n    .filter(entry -&gt; entry.getValue().stream()\n        .anyMatch(m -&gt; m.getOrDefault(input, false)))\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toSet());\n</code></pre>\n"}],"owner":{"account_id":9908232,"reputation":13,"user_id":7336026,"display_name":"Suchith Shivakumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75237704,"answer_count":1,"score":0,"last_activity_date":1674667736,"creation_date":1674626866,"question_id":75230235,"body_markdown":"I have a map that contains Integer as key and (List of Map of String as key and boolean as the value) as value. Map&lt;Int, List&lt;Map&lt;String, Boolean&gt;&gt;&gt;, I want to populate a set that has Int as key of the outer map based on condition.\r\n\r\n\r\nMyService.java\r\n```\r\n\r\npublic Set&lt;Integer&gt; getValue(String input){\r\n        Map&lt;String, Boolean&gt; in1 = new HashMap&lt;&gt;();\r\n        in1.put(&quot;test_1&quot;, true);\r\n        Map&lt;String, Boolean&gt; in2 = new HashMap&lt;&gt;();\r\n        in2.put(&quot;test_2&quot;, false);\r\n        Map&lt;String, Boolean&gt; in3 = new HashMap&lt;&gt;();\r\n        in2.put(&quot;test_3&quot;, false);\r\n        Map&lt;String, Boolean&gt; in4 = new HashMap&lt;&gt;();\r\n        in2.put(&quot;test_4&quot;, true);\r\n        List&lt;Map&lt;String, Boolean&gt;&gt; l1 = new ArrayList&lt;&gt;();\r\n        l1.add(in1);\r\n        l1.add(in2);\r\n        List&lt;Map&lt;String, Boolean&gt;&gt; l2 = new ArrayList&lt;&gt;();\r\n        l2.add(in3);\r\n        l2.add(in4);\r\n        Map&lt;Integer, List&lt;Map&lt;String,Boolean&gt;&gt;&gt; map = new HashMap();\r\n        map.put(123, l1);\r\n        map.put(345, l2);\r\n\r\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;();\r\n        for(Map.Entry&lt;Integer, List&lt;Map&lt;String, Boolean&gt;&gt;&gt; entry : map.entrySet()){\r\n            for(Map&lt;String, Boolean&gt; m: entry.getValue() ){\r\n                if(m.containsKey(input) &amp;&amp; m.get(input) == true){\r\n                    result.add(entry.getKey());\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nSo, basically I want to iterate from first the exterior map to get the internal map and then iterate the internal map to check if the input is present and add it to a set. How can I do this using java 8 streams?\r\n\r\nI tried with for loop, but I will like to replace it using Java streams.","title":"Streams for iterating through Map of List of Map in Java","body":"<p>I have a map that contains Integer as key and (List of Map of String as key and boolean as the value) as value. Map&lt;Int, List&lt;Map&lt;String, Boolean&gt;&gt;&gt;, I want to populate a set that has Int as key of the outer map based on condition.</p>\n<p>MyService.java</p>\n<pre><code>\npublic Set&lt;Integer&gt; getValue(String input){\n        Map&lt;String, Boolean&gt; in1 = new HashMap&lt;&gt;();\n        in1.put(&quot;test_1&quot;, true);\n        Map&lt;String, Boolean&gt; in2 = new HashMap&lt;&gt;();\n        in2.put(&quot;test_2&quot;, false);\n        Map&lt;String, Boolean&gt; in3 = new HashMap&lt;&gt;();\n        in2.put(&quot;test_3&quot;, false);\n        Map&lt;String, Boolean&gt; in4 = new HashMap&lt;&gt;();\n        in2.put(&quot;test_4&quot;, true);\n        List&lt;Map&lt;String, Boolean&gt;&gt; l1 = new ArrayList&lt;&gt;();\n        l1.add(in1);\n        l1.add(in2);\n        List&lt;Map&lt;String, Boolean&gt;&gt; l2 = new ArrayList&lt;&gt;();\n        l2.add(in3);\n        l2.add(in4);\n        Map&lt;Integer, List&lt;Map&lt;String,Boolean&gt;&gt;&gt; map = new HashMap();\n        map.put(123, l1);\n        map.put(345, l2);\n\n        Set&lt;Integer&gt; result = new HashSet&lt;&gt;();\n        for(Map.Entry&lt;Integer, List&lt;Map&lt;String, Boolean&gt;&gt;&gt; entry : map.entrySet()){\n            for(Map&lt;String, Boolean&gt; m: entry.getValue() ){\n                if(m.containsKey(input) &amp;&amp; m.get(input) == true){\n                    result.add(entry.getKey());\n                }\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>So, basically I want to iterate from first the exterior map to get the internal map and then iterate the internal map to check if the input is present and add it to a set. How can I do this using java 8 streams?</p>\n<p>I tried with for loop, but I will like to replace it using Java streams.</p>\n"},{"tags":["java","spring","spring-boot","web-services","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":15985474,"reputation":21,"user_id":11536092,"display_name":"Patryk Wargacki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674667712,"creation_date":1674663229,"answer_id":75236783,"question_id":75236014,"body_markdown":"Not sure if you can access ClientRequest from ClientResponse,  \r\nbut you can have access to both of them using ExchangeFilterFunction\r\n\r\nExchangeFilterFunction is a @FunctionalInterface\r\nthat means we can use simple lambda for this task\r\n\r\n    @Bean\r\n    public ExchangeFilterFunction logResponse() {\r\n        return (request, next) -&gt; {\r\n        // here you have access to request object\r\n            return next.exchange(request)\r\n                       .doOnEach(response -&gt; {/*here you have access to request AND response objects*/});\r\n        };\r\n    }\r\n\r\nAlso you are using [Mono.doOnEach][1] which takes Consumer&lt;Signal\\&lt;ClientResponse&gt;&gt; as argument  \r\nI would recommend to switch to [Mono.doOnNext][2] to have access to ClientResponse rather than Signal\\&lt;ClientResponse&gt;\r\n\r\nSo your example (without brackets) would look like this:\r\n\r\n    @Bean\r\n    public ExchangeFilterFunction logResponse() {\r\n        return (request, next) -&gt; \r\n            next.exchange(request)\r\n                .doOnNext(response -&gt; \r\n                    log.info(&quot;&quot;&quot;\r\n                        {} {}\r\n                        {}\r\n                        Response Headers: {}&quot;&quot;&quot;,\r\n                    request.method(), \r\n                    request.url,\r\n                    response.statusCode(),\r\n                    response.headers().asHttpHeaders()));\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnEach-java.util.function.Consumer-\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnNext-java.util.function.Consumer-","title":"Java Spring: How to access the originating request from ClientResponse?","body":"<p>Not sure if you can access ClientRequest from ClientResponse,<br />\nbut you can have access to both of them using ExchangeFilterFunction</p>\n<p>ExchangeFilterFunction is a @FunctionalInterface\nthat means we can use simple lambda for this task</p>\n<pre><code>@Bean\npublic ExchangeFilterFunction logResponse() {\n    return (request, next) -&gt; {\n    // here you have access to request object\n        return next.exchange(request)\n                   .doOnEach(response -&gt; {/*here you have access to request AND response objects*/});\n    };\n}\n</code></pre>\n<p>Also you are using <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Mono.doOnEach</a> which takes Consumer&lt;Signal&lt;ClientResponse&gt;&gt; as argument<br />\nI would recommend to switch to <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnNext-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">Mono.doOnNext</a> to have access to ClientResponse rather than Signal&lt;ClientResponse&gt;</p>\n<p>So your example (without brackets) would look like this:</p>\n<pre><code>@Bean\npublic ExchangeFilterFunction logResponse() {\n    return (request, next) -&gt; \n        next.exchange(request)\n            .doOnNext(response -&gt; \n                log.info(&quot;&quot;&quot;\n                    {} {}\n                    {}\n                    Response Headers: {}&quot;&quot;&quot;,\n                request.method(), \n                request.url,\n                response.statusCode(),\n                response.headers().asHttpHeaders()));\n</code></pre>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674667712,"creation_date":1674659755,"question_id":75236014,"body_markdown":"### Background\r\n\r\nThe class [`ClientResponse`][1] most probably internally has access to **the originating request**, as is clued by the documentation of methods such as [createError()][2]:\r\n\r\n&gt; Create a `Mono` that terminates with a `WebClientResponseException`, containing the response status, headers, body, and **the originating request**.\r\n\r\n### Question\r\n\r\nIs there a way to access the originating request from the `ClientResponse`?\r\n\r\n### Motivation behind\r\n\r\nI am writing my own [`ExchangeFilterFunction`][4] using [`ExchangeFilterFunction.ofResponseProcessor()`][5] inside which I want to access *also* the originating request:\r\n\r\n``` lang-java\r\n@Bean\r\npublic ExchangeFilterFunction logResponse() {\r\n    return ExchangeFilterFunction.ofResponseProcessor(response -&gt; {\r\n        return Mono.just(response)\r\n            .doOnEach(resp -&gt; log.info(&quot;&quot;&quot;\r\n                        {} {}\r\n                        {}\r\n                        Response Headers: {}&quot;&quot;&quot;,\r\n                ORIG_METHOD, ORIG_URI, // Here I need the originating request\r\n                response.statusCode(),\r\n                response.headers().asHttpHeaders())\r\n            );\r\n    });\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createError()\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createException()\r\n  [4]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor(java.util.function.Function)","title":"Java Spring: How to access the originating request from ClientResponse?","body":"<h3>Background</h3>\n<p>The class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html\" rel=\"nofollow noreferrer\"><code>ClientResponse</code></a> most probably internally has access to <strong>the originating request</strong>, as is clued by the documentation of methods such as <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientResponse.html#createError()\" rel=\"nofollow noreferrer\">createError()</a>:</p>\n<blockquote>\n<p>Create a <code>Mono</code> that terminates with a <code>WebClientResponseException</code>, containing the response status, headers, body, and <strong>the originating request</strong>.</p>\n</blockquote>\n<h3>Question</h3>\n<p>Is there a way to access the originating request from the <code>ClientResponse</code>?</p>\n<h3>Motivation behind</h3>\n<p>I am writing my own <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"nofollow noreferrer\"><code>ExchangeFilterFunction</code></a> using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html#ofResponseProcessor(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>ExchangeFilterFunction.ofResponseProcessor()</code></a> inside which I want to access <em>also</em> the originating request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ExchangeFilterFunction logResponse() {\n    return ExchangeFilterFunction.ofResponseProcessor(response -&gt; {\n        return Mono.just(response)\n            .doOnEach(resp -&gt; log.info(&quot;&quot;&quot;\n                        {} {}\n                        {}\n                        Response Headers: {}&quot;&quot;&quot;,\n                ORIG_METHOD, ORIG_URI, // Here I need the originating request\n                response.statusCode(),\n                response.headers().asHttpHeaders())\n            );\n    });\n}\n</code></pre>\n"},{"tags":["java","process","pid"],"comments":[{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1674576661,"post_id":75222286,"comment_id":132741251,"body_markdown":"For which OS do you need an application?","body":"For which OS do you need an application?"},{"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"score":0,"creation_date":1674587533,"post_id":75222286,"comment_id":132744740,"body_markdown":"@VolodyaLombrozo can there be a platform-independent solution for this? If not then what would be the different solutions for different platforms?","body":"@VolodyaLombrozo can there be a platform-independent solution for this? If not then what would be the different solutions for different platforms?"}],"answers":[{"comments":[{"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"score":0,"creation_date":1674636732,"post_id":75227922,"comment_id":132754546,"body_markdown":"But this does not provides the window title.","body":"But this does not provides the window title."},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1674646275,"post_id":75227922,"comment_id":132757609,"body_markdown":"@ameerzeya what do you mean &quot;window title&quot;? What is it exactly?","body":"@ameerzeya what do you mean &quot;window title&quot;? What is it exactly?"},{"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"score":0,"creation_date":1674660197,"post_id":75227922,"comment_id":132762428,"body_markdown":"Example when we open notepad, the window title is shown as &quot;Untitled - Notepad&quot;. If we have the processId of notepad, Can we get this String value of the title as &quot;Untitled - Notepad&quot;? @Volodya Lombrozo","body":"Example when we open notepad, the window title is shown as &quot;Untitled - Notepad&quot;. If we have the processId of notepad, Can we get this String value of the title as &quot;Untitled - Notepad&quot;? @Volodya Lombrozo"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1674667328,"post_id":75227922,"comment_id":132765105,"body_markdown":"@ameerzeya I&#39;ve added example, please have a look","body":"@ameerzeya I&#39;ve added example, please have a look"},{"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"score":0,"creation_date":1674754432,"post_id":75227922,"comment_id":132786115,"body_markdown":"Thank you Volodya , this solution from tasklist works, I am using it in PowerShell as CMD little relatively slower. Do we have equivalent command in Linux or mac also, In Linux, I can see there is the command &quot;ps&quot; but it doesn&#39;t seems to have windowtitle as return parameter . @Volodya Lobrozo","body":"Thank you Volodya , this solution from tasklist works, I am using it in PowerShell as CMD little relatively slower. Do we have equivalent command in Linux or mac also, In Linux, I can see there is the command &quot;ps&quot; but it doesn&#39;t seems to have windowtitle as return parameter . @Volodya Lobrozo"},{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1674754990,"post_id":75227922,"comment_id":132786284,"body_markdown":"@ameerzeya I believe it would be better to investigate it in a separate question","body":"@ameerzeya I believe it would be better to investigate it in a separate question"}],"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674667310,"creation_date":1674599168,"answer_id":75227922,"question_id":75222286,"body_markdown":"In Java 9 and later, you can use the `ProcessHandle` class to get information about a running process:\r\n```java\r\npublic class PH {\r\n    public static void main(String[] args) {\r\n        ProcessHandle.allProcesses().forEach(PH::info);\r\n    }\r\n\r\n    private static void info(final ProcessHandle processHandle) {\r\n        processHandle.info().user().ifPresent(PH::print);\r\n        processHandle.info().command().ifPresent(PH::print);\r\n        processHandle.info().commandLine().ifPresent(PH::print);\r\n        System.out.println();\r\n    }\r\n\r\n    private static void print(final String s) {\r\n        System.out.print(String.format(&quot;%s\\t&quot;, s));\r\n    }\r\n}\r\n\r\n```\r\n\r\nApproximate console output:\r\n```\r\nroot\t/usr/libexec/secd\t/usr/libexec/secd \t\r\nroot\t/usr/libexec/trustd\t/usr/libexec/trustd --agent\r\nuser\t/usr/libexec/lsd\t/usr/libexec/lsd \r\n```\r\nI&#39;m not sure that you will be able to get the title of an application by this way, but you can check another methods of [ProcessHandle.Info](https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.Info.html) class. \r\n\r\n___\r\nAlso you can try to use OS-specific utils for getting information about processes:\r\n\r\n- `ps -e` for Linux and Mac (you can read more about it [here](https://man7.org/linux/man-pages/man1/ps.1.html))\r\n- `tasklist.exe` for Windows (you can read more about it [here](https://learn.microsoft.com/en-gb/windows-server/administration/windows-commands/tasklist))\r\n\r\nIn order to call that commands you can use the next code:\r\n```java\r\nString command = &quot;ps -e&quot;;\r\nProcess process = Runtime.getRuntime().exec(command);\r\n\r\n// Get the input stream of the command&#39;s output\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\nString line;\r\nwhile ((line = reader.readLine()) != null) {\r\n    System.out.println(line);\r\n}\r\n```\r\n___\r\nActually the [similar question](https://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java) have been already asked, maybe you will find something useful here.\r\n___\r\n**Example:**\r\n\r\nIn order to get &quot;window title&quot; of all processes in OS Windows, you can run the next command:\r\n```\r\ntasklist /v /fo list |find /i &quot;window title&quot; |find /v &quot;N/A&quot;\r\n``` \r\nIt will print something like this:\r\n```sh\r\n...\r\nWindow Title: Untitled - Notepad\r\nWindow Title: Command Prompt\r\n...\r\n```\r\nIt means you can run that command using `Runtime.getRuntime().exec(command)` as I explained above:\r\n```java\r\nString command = &quot;tasklist /v /fo list |find /i \\&quot;window title\\&quot; |find /v \\&quot;N/A\\&quot;&quot;;\r\nProcess process = Runtime.getRuntime().exec(command);\r\n\r\n// Get the input stream of the command&#39;s output\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\nString line;\r\nwhile ((line = reader.readLine()) != null) {\r\n    System.out.println(line);\r\n}\r\n```\r\n\r\n\r\n","title":"How to get the Window title from that application processId","body":"<p>In Java 9 and later, you can use the <code>ProcessHandle</code> class to get information about a running process:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PH {\n    public static void main(String[] args) {\n        ProcessHandle.allProcesses().forEach(PH::info);\n    }\n\n    private static void info(final ProcessHandle processHandle) {\n        processHandle.info().user().ifPresent(PH::print);\n        processHandle.info().command().ifPresent(PH::print);\n        processHandle.info().commandLine().ifPresent(PH::print);\n        System.out.println();\n    }\n\n    private static void print(final String s) {\n        System.out.print(String.format(&quot;%s\\t&quot;, s));\n    }\n}\n\n</code></pre>\n<p>Approximate console output:</p>\n<pre><code>root    /usr/libexec/secd   /usr/libexec/secd   \nroot    /usr/libexec/trustd /usr/libexec/trustd --agent\nuser    /usr/libexec/lsd    /usr/libexec/lsd \n</code></pre>\n<p>I'm not sure that you will be able to get the title of an application by this way, but you can check another methods of <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.Info.html\" rel=\"nofollow noreferrer\">ProcessHandle.Info</a> class.</p>\n<hr />\n<p>Also you can try to use OS-specific utils for getting information about processes:</p>\n<ul>\n<li><code>ps -e</code> for Linux and Mac (you can read more about it <a href=\"https://man7.org/linux/man-pages/man1/ps.1.html\" rel=\"nofollow noreferrer\">here</a>)</li>\n<li><code>tasklist.exe</code> for Windows (you can read more about it <a href=\"https://learn.microsoft.com/en-gb/windows-server/administration/windows-commands/tasklist\" rel=\"nofollow noreferrer\">here</a>)</li>\n</ul>\n<p>In order to call that commands you can use the next code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String command = &quot;ps -e&quot;;\nProcess process = Runtime.getRuntime().exec(command);\n\n// Get the input stream of the command's output\nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n\nString line;\nwhile ((line = reader.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n<hr />\n<p>Actually the <a href=\"https://stackoverflow.com/questions/54686/how-to-get-a-list-of-current-open-windows-process-with-java\">similar question</a> have been already asked, maybe you will find something useful here.</p>\n<hr />\n<p><strong>Example:</strong></p>\n<p>In order to get &quot;window title&quot; of all processes in OS Windows, you can run the next command:</p>\n<pre><code>tasklist /v /fo list |find /i &quot;window title&quot; |find /v &quot;N/A&quot;\n</code></pre>\n<p>It will print something like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>...\nWindow Title: Untitled - Notepad\nWindow Title: Command Prompt\n...\n</code></pre>\n<p>It means you can run that command using <code>Runtime.getRuntime().exec(command)</code> as I explained above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String command = &quot;tasklist /v /fo list |find /i \\&quot;window title\\&quot; |find /v \\&quot;N/A\\&quot;&quot;;\nProcess process = Runtime.getRuntime().exec(command);\n\n// Get the input stream of the command's output\nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n\nString line;\nwhile ((line = reader.readLine()) != null) {\n    System.out.println(line);\n}\n</code></pre>\n"}],"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75227922,"answer_count":1,"score":0,"last_activity_date":1674667310,"creation_date":1674567499,"question_id":75222286,"body_markdown":"How can we get the main title of the application from the processId of that application.\r\n\r\nCan we use the ProcessHandler to get the window title?","title":"How to get the Window title from that application processId","body":"<p>How can we get the main title of the application from the processId of that application.</p>\n<p>Can we use the ProcessHandler to get the window title?</p>\n"},{"tags":["java","pid","window-handles"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674666931,"creation_date":1674666931,"answer_id":75237560,"question_id":75236987,"body_markdown":"From [GetWindowThreadProcessId][1]\r\n\r\n&gt; [out, optional] lpdwProcessId\r\n&gt;\r\n&gt; Type: LPDWORD\r\n&gt; \r\n&gt; A pointer to a variable that receives the process identifier. If this parameter is not NULL, GetWindowThreadProcessId copies the identifier of the process to the variable; otherwise, it does not.\r\n\r\nIn other words, pass an `IntByReference`, and afterwards retrieve its value. For instance (error checking omitted):\r\n\r\n```\r\nIntByReference lpdwProcessId = new IntByReference();\r\nUser32.INSTANCE.GetWindowThreadProcessId(desktopWindow.getHWND(), lpdwProcessId);\r\nOptional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(lpdwProcessId.getValue());\r\n```\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowthreadprocessid","title":"How to get processId from windowHandle in Java?","body":"<p>From <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowthreadprocessid\" rel=\"nofollow noreferrer\">GetWindowThreadProcessId</a></p>\n<blockquote>\n<p>[out, optional] lpdwProcessId</p>\n<p>Type: LPDWORD</p>\n<p>A pointer to a variable that receives the process identifier. If this parameter is not NULL, GetWindowThreadProcessId copies the identifier of the process to the variable; otherwise, it does not.</p>\n</blockquote>\n<p>In other words, pass an <code>IntByReference</code>, and afterwards retrieve its value. For instance (error checking omitted):</p>\n<pre><code>IntByReference lpdwProcessId = new IntByReference();\nUser32.INSTANCE.GetWindowThreadProcessId(desktopWindow.getHWND(), lpdwProcessId);\nOptional&lt;ProcessHandle&gt; processHandle = ProcessHandle.of(lpdwProcessId.getValue());\n</code></pre>\n"}],"owner":{"account_id":6878571,"reputation":23,"user_id":5286154,"display_name":"ameer zeya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674667194,"creation_date":1674664108,"question_id":75236987,"body_markdown":"Is is feasible to get the process Id from windowHandle or even vice versa in Java?\r\n\r\nWe have the option to get the thread from the windowHandle in Java\r\n\r\n```\r\nUser32.INSTANCE.GetWindowThreadProcessId(desktopWindow.getHWND(),null);\r\n```\r\n\r\nbut how would be relate this thread to the processId","title":"How to get processId from windowHandle in Java?","body":"<p>Is is feasible to get the process Id from windowHandle or even vice versa in Java?</p>\n<p>We have the option to get the thread from the windowHandle in Java</p>\n<pre><code>User32.INSTANCE.GetWindowThreadProcessId(desktopWindow.getHWND(),null);\n</code></pre>\n<p>but how would be relate this thread to the processId</p>\n"},{"tags":["java","static","initialization"],"comments":[{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1427101470,"post_id":3499214,"comment_id":46623453,"body_markdown":"Similar for static initializer blocks: http://stackoverflow.com/questions/2007666/in-what-order-do-static-initializer-blocks-in-java-run","body":"Similar for static initializer blocks: <a href=\"http://stackoverflow.com/questions/2007666/in-what-order-do-static-initializer-blocks-in-java-run\" title=\"in what order do static initializer blocks in java run\">stackoverflow.com/questions/2007666/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":0,"creation_date":1495501016,"post_id":3499221,"comment_id":75267384,"body_markdown":"There are ways to refer to a class without initializing it.","body":"There are ways to refer to a class without initializing it."}],"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1282017531,"creation_date":1282017531,"answer_id":3499221,"question_id":3499214,"body_markdown":"Yes, all static initializers are run before you access class first time. If it was any other way, I would call it a bug.","title":"When does static initialization happen?","body":"<p>Yes, all static initializers are run before you access class first time. If it was any other way, I would call it a bug.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1282020712,"post_id":3499321,"comment_id":3656378,"body_markdown":"Strictly speaking, initialization is not a &quot;phase&quot; of class loading.  Indeed, some classes *may* be loaded but never initialized if the application doesn&#39;t actually make use of them.","body":"Strictly speaking, initialization is not a &quot;phase&quot; of class loading.  Indeed, some classes <i>may</i> be loaded but never initialized if the application doesn&#39;t actually make use of them."},{"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"score":0,"creation_date":1282021765,"post_id":3499321,"comment_id":3656469,"body_markdown":"@Stephen C You are right, I used it for a lack of a better term, maybe i&#39;ll quote it.","body":"@Stephen C You are right, I used it for a lack of a better term, maybe i&#39;ll quote it."},{"owner":{"account_id":7833047,"reputation":594,"user_id":5922270,"accept_rate":80,"display_name":"Shabbir Essaji"},"score":0,"creation_date":1517902598,"post_id":3499321,"comment_id":84271700,"body_markdown":"@StephenC does that mean while the Class loading takes place, it assigns memory to static variables (&amp; methods) but those static variables aren&#39;t initialized with values provided in code? \nbecause here it seemd when b-&gt;sayHello()-&gt;a, &#39;a&#39; is in memory but value to it  is yet not assigned.","body":"@StephenC does that mean while the Class loading takes place, it assigns memory to static variables (&amp; methods) but those static variables aren&#39;t initialized with values provided in code?  because here it seemd when b-&gt;sayHello()-&gt;a, &#39;a&#39; is in memory but value to it  is yet not assigned."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1517904582,"post_id":3499321,"comment_id":84272743,"body_markdown":"Basically, yes.","body":"Basically, yes."},{"owner":{"account_id":11346074,"reputation":2935,"user_id":11204066,"display_name":"Hayk Mkrtchyan"},"score":0,"creation_date":1643020892,"post_id":3499321,"comment_id":125220409,"body_markdown":"@StephenC please, could you give some details? As I know in the linking phase it allocates memory for static variables and assigns them a default value. Then in the initialization phase, it assigns them with original values. In this example, `b` is null, because in the initialization phase static blocks are executed from parent to child and from top to bottom.","body":"@StephenC please, could you give some details? As I know in the linking phase it allocates memory for static variables and assigns them a default value. Then in the initialization phase, it assigns them with original values. In this example, <code>b</code> is null, because in the initialization phase static blocks are executed from parent to child and from top to bottom."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1643021459,"post_id":3499321,"comment_id":125220602,"body_markdown":"You have got it correct.  I don&#39;t know why you want me to explain something you already understand.  (But it is not *just* the static blocks.  All static initializations are executed in order, from the start of the class.  Like the answer says.)","body":"You have got it correct.  I don&#39;t know why you want me to explain something you already understand.  (But it is not <i>just</i> the static blocks.  All static initializations are executed in order, from the start of the class.  Like the answer says.)"}],"tags":[],"owner":{"account_id":117006,"reputation":24352,"user_id":306602,"display_name":"naikus"},"comment_count":6,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1282021790,"creation_date":1282018988,"answer_id":3499321,"question_id":3499214,"body_markdown":"Static fields are initialized during the [initialization][1] &quot;phase&quot; of the class loading (loading, linking and initialization) that includes static initializers and initializations of its static fields. The static initializers are executed in a textual order as defined in the class.\r\n\r\nConsider the example:\r\n\r\n\r\n    public class Test {\r\n       \r\n       static String sayHello()  {\r\n          return a;\r\n       }\r\n       \r\n       static String b = sayHello(); // a static method is called to assign value to b.\r\n                                     // but its a has not been initialized yet.\r\n       \r\n       static String a = &quot;hello&quot;;\r\n\r\n       static String c = sayHello(); // assignes &quot;hello&quot; to variable c\r\n       \r\n        public static void main(String[] arg) throws Throwable {\r\n             System.out.println(Test.b); // prints null\r\n             System.out.println(Test.sayHello()); // prints &quot;hello&quot;\r\n        }\r\n    }\r\n\r\nThe Test.b prints `null` because when the `sayHello` was called in static scope, the static variable `a` was not initialized.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.4","title":"When does static initialization happen?","body":"<p>Static fields are initialized during the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html#12.4\" rel=\"noreferrer\">initialization</a> \"phase\" of the class loading (loading, linking and initialization) that includes static initializers and initializations of its static fields. The static initializers are executed in a textual order as defined in the class.</p>\n\n<p>Consider the example:</p>\n\n<pre><code>public class Test {\n\n   static String sayHello()  {\n      return a;\n   }\n\n   static String b = sayHello(); // a static method is called to assign value to b.\n                                 // but its a has not been initialized yet.\n\n   static String a = \"hello\";\n\n   static String c = sayHello(); // assignes \"hello\" to variable c\n\n    public static void main(String[] arg) throws Throwable {\n         System.out.println(Test.b); // prints null\n         System.out.println(Test.sayHello()); // prints \"hello\"\n    }\n}\n</code></pre>\n\n<p>The Test.b prints <code>null</code> because when the <code>sayHello</code> was called in static scope, the static variable <code>a</code> was not initialized.</p>\n"},{"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":13,"creation_date":1382953508,"post_id":3499322,"comment_id":29145491,"body_markdown":"There is a common pitfall though. Primitives and `String`s are substituted and not referenced. If you reference a `class Other { public static final int VAL = 10; }` from some class `MyClass { private int = Other.VAL; }`, the class `Other` will not be loaded. Instead, the compiler will simply substitute the final field at compile time.","body":"There is a common pitfall though. Primitives and <code>String</code>s are substituted and not referenced. If you reference a <code>class Other { public static final int VAL = 10; }</code> from some class <code>MyClass { private int = Other.VAL; }</code>, the class <code>Other</code> will not be loaded. Instead, the compiler will simply substitute the final field at compile time."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":7,"creation_date":1450062185,"post_id":3499322,"comment_id":56259679,"body_markdown":"@RafaelWinterhalter - yes ... that is the **constant** static field case.","body":"@RafaelWinterhalter - yes ... that is the <b>constant</b> static field case."},{"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"score":2,"creation_date":1495500888,"post_id":3499322,"comment_id":75267351,"body_markdown":"@RafaelWinterhalter, this is not true for all &#39;static final&#39; primitive or `String` variables, only ones initialized by a constant expression.","body":"@RafaelWinterhalter, this is not true for all &#39;static final&#39; primitive or <code>String</code> variables, only ones initialized by a constant expression."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":1,"creation_date":1495518044,"post_id":3499322,"comment_id":75271909,"body_markdown":"Yes, and the field does not even need to be `static` while this is common case.","body":"Yes, and the field does not even need to be <code>static</code> while this is common case."},{"owner":{"account_id":6989720,"reputation":194,"user_id":5359435,"display_name":"Idan Damri"},"score":0,"creation_date":1580136333,"post_id":3499322,"comment_id":105988714,"body_markdown":"@StephenC is it also true regarding Androi with Java development?","body":"@StephenC is it also true regarding Androi with Java development?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1580137009,"post_id":3499322,"comment_id":105989077,"body_markdown":"It is the same programming language.  Yes.","body":"It is the same programming language.  Yes."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1649409542,"post_id":3499322,"comment_id":126873140,"body_markdown":"@RafaelWinterhalter but when the field is not `static`, you need a reference to an instance of it (the compiler will embed a `null`-check even when using the constant value afterwards), so reading a non-`static` constant field will not trigger a class initialization, but the initialization has happen already anyway, when the instance was created (if not even earlier)","body":"@RafaelWinterhalter but when the field is not <code>static</code>, you need a reference to an instance of it (the compiler will embed a <code>null</code>-check even when using the constant value afterwards), so reading a non-<code>static</code> constant field will not trigger a class initialization, but the initialization has happen already anyway, when the instance was created (if not even earlier)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":7,"down_vote_count":0,"up_vote_count":168,"is_accepted":true,"score":168,"last_activity_date":1643087534,"creation_date":1282018994,"answer_id":3499322,"question_id":3499214,"body_markdown":"A class&#39;s static initialization normally happens immediately before the first time one of the following events occur:\r\n\r\n  - an instance of the class is created,\r\n  - a static method of the class is invoked,\r\n  - a static field of the class is assigned,\r\n  - a non-constant static field is used, or \r\n  - &lt;strike&gt;for a top-level class, an assert statement lexically nested within the class is executed&lt;/strike&gt;&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nSee [JLS 12.4.1][1].  \r\n\r\nIt is also possible to force a class to initialize (if it hasn&#39;t already initialized) by using [`Class.forName(fqn, true, classLoader)`][3] or the short form [`Class.forName(fqn)`][4]\r\n\r\n----------------\r\n\r\n&gt; When does static class initialization happen?\r\n\r\nSee above.\r\n\r\n&gt; When are static fields initialized?\r\n\r\nAs part of static class initialization; see above.\r\n\r\n&gt; If I never instantiate a class, but I access a static field, are ALL the static blocks and private static methods used to instantiate private static fields called (in order) at that instant?\r\n\r\nYes.  (Modulo that nothing is truly instantaneous.)\r\n\r\n&gt; What if I call a static method? Does it also run all the static blocks? Before the method?\r\n\r\nYes and yes.\r\n\r\n----------------\r\n\r\nNote that it is possible to construct code where you can observe the *default initialized* value of a static field.\r\n\r\n----------------\r\n\r\n&lt;sup&gt;1 - The final bullet point was present in the JLS for Java 6 through Java 8, but it was apparently a mistake in the specification.  It was finally corrected in the Java 9 JLS: see [source][2].&lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1\r\n  [2]: https://stackoverflow.com/a/47999746/2844702\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String,%20boolean,%20java.lang.ClassLoader)\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String)","title":"When does static initialization happen?","body":"<p>A class's static initialization normally happens immediately before the first time one of the following events occur:</p>\n<ul>\n<li>an instance of the class is created,</li>\n<li>a static method of the class is invoked,</li>\n<li>a static field of the class is assigned,</li>\n<li>a non-constant static field is used, or</li>\n<li><strike>for a top-level class, an assert statement lexically nested within the class is executed</strike><sup>1</sup>.</li>\n</ul>\n<p>See <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.1\" rel=\"noreferrer\">JLS 12.4.1</a>.</p>\n<p>It is also possible to force a class to initialize (if it hasn't already initialized) by using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String,%20boolean,%20java.lang.ClassLoader)\" rel=\"noreferrer\"><code>Class.forName(fqn, true, classLoader)</code></a> or the short form <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Class.html#forName(java.lang.String)\" rel=\"noreferrer\"><code>Class.forName(fqn)</code></a></p>\n<hr />\n<blockquote>\n<p>When does static class initialization happen?</p>\n</blockquote>\n<p>See above.</p>\n<blockquote>\n<p>When are static fields initialized?</p>\n</blockquote>\n<p>As part of static class initialization; see above.</p>\n<blockquote>\n<p>If I never instantiate a class, but I access a static field, are ALL the static blocks and private static methods used to instantiate private static fields called (in order) at that instant?</p>\n</blockquote>\n<p>Yes.  (Modulo that nothing is truly instantaneous.)</p>\n<blockquote>\n<p>What if I call a static method? Does it also run all the static blocks? Before the method?</p>\n</blockquote>\n<p>Yes and yes.</p>\n<hr />\n<p>Note that it is possible to construct code where you can observe the <em>default initialized</em> value of a static field.</p>\n<hr />\n<p><sup>1 - The final bullet point was present in the JLS for Java 6 through Java 8, but it was apparently a mistake in the specification.  It was finally corrected in the Java 9 JLS: see <a href=\"https://stackoverflow.com/a/47999746/2844702\">source</a>.</sup></p>\n"}],"owner":{"account_id":27737,"reputation":11274,"user_id":73501,"accept_rate":89,"display_name":"Tony R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79581,"favorite_count":0,"down_vote_count":0,"up_vote_count":126,"accepted_answer_id":3499322,"answer_count":3,"score":126,"last_activity_date":1674666729,"creation_date":1282017385,"question_id":3499214,"body_markdown":"When are static fields initialized? If I never instantiate a class, but I access a static field, are ALL the static blocks and private static methods used to instantiate private static fields called (in order) at that instant?\r\n\r\nWhat if I call a static method? Does it also run all the static blocks? Before the method?","title":"When does static initialization happen?","body":"<p>When are static fields initialized? If I never instantiate a class, but I access a static field, are ALL the static blocks and private static methods used to instantiate private static fields called (in order) at that instant?</p>\n\n<p>What if I call a static method? Does it also run all the static blocks? Before the method?</p>\n"},{"tags":["java","bitwise-operators"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674620293,"post_id":75229637,"comment_id":132751351,"body_markdown":"You need to show the declaration of `databyte`.","body":"You need to show the declaration of <code>databyte</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674620331,"post_id":75229637,"comment_id":132751357,"body_markdown":"I suggest stepping through the code to see how the value of `id` changes.","body":"I suggest stepping through the code to see how the value of <code>id</code> changes."},{"owner":{"account_id":24210536,"reputation":31,"user_id":18167110,"display_name":"Mr.nobody"},"score":0,"creation_date":1674620564,"post_id":75229637,"comment_id":132751392,"body_markdown":"I added the declaration of databyte","body":"I added the declaration of databyte"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1674620687,"post_id":75229637,"comment_id":132751409,"body_markdown":"It doesn&#39;t have to be done that way, but it works. Imagine you have not seen this code, and you are given the assignment to create it. How would you do it?","body":"It doesn&#39;t have to be done that way, but it works. Imagine you have not seen this code, and you are given the assignment to create it. How would you do it?"},{"owner":{"account_id":24210536,"reputation":31,"user_id":18167110,"display_name":"Mr.nobody"},"score":1,"creation_date":1674621677,"post_id":75229637,"comment_id":132751507,"body_markdown":"If I were asked to do this, I&#39;d read all bytes into an array and use ByteBuffer to get the value of the id","body":"If I were asked to do this, I&#39;d read all bytes into an array and use ByteBuffer to get the value of the id"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1674666733,"post_id":75229637,"comment_id":132764908,"body_markdown":"@Mr.nobody And ByteBuffer could do the same thing this code does (though in recent versions it seems to do something else), while this code avoids the allocation of an array and the allocation of a ByteBuffer.","body":"@Mr.nobody And ByteBuffer could do the same thing this code does (though in recent versions it seems to do something else), while this code avoids the allocation of an array and the allocation of a ByteBuffer."}],"owner":{"account_id":24210536,"reputation":31,"user_id":18167110,"display_name":"Mr.nobody"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674666909,"answer_count":0,"score":0,"last_activity_date":1674666666,"creation_date":1674620137,"question_id":75229637,"body_markdown":"Suppose a program receives an ID number of **4 bytes** from the source, and it will only receive 1-byte data each time. In order to receive the correct ID number, the developer wrote the below code:\r\n \r\n```java\r\nint IdLength =4;\r\nint id = 0;\r\nByte databyte;\r\nfor (i=0; i&lt;IdLength; i++ )\r\n{\r\n\tdatabyte = ReadFilterInputPort();\t//Imagine ReadFilterInputPort() will read 1 byte data each time \r\n\tid = id | (databyte &amp; 0xFF);       \r\n\tif (i != IdLength-1)\t\t\t\t\r\n\t{\t\t\t\t\t\t\t\t\t\r\n\t\tid = id &lt;&lt; 8;\t\t\t\t\t \r\n\t}\r\n\tbytesread++;\t\t\t\t\t\t\r\n}\r\n```\r\n\r\nI don&#39;t understand why we need the **bitwise or** between the **id** and the value (**databyte &amp; 0xFF**). Also, why do we need to perform an 8-bit left shift operation on the id? ","title":"The logic behind the code that converts the byte into int in Java","body":"<p>Suppose a program receives an ID number of <strong>4 bytes</strong> from the source, and it will only receive 1-byte data each time. In order to receive the correct ID number, the developer wrote the below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int IdLength =4;\nint id = 0;\nByte databyte;\nfor (i=0; i&lt;IdLength; i++ )\n{\n    databyte = ReadFilterInputPort();   //Imagine ReadFilterInputPort() will read 1 byte data each time \n    id = id | (databyte &amp; 0xFF);       \n    if (i != IdLength-1)                \n    {                                   \n        id = id &lt;&lt; 8;                    \n    }\n    bytesread++;                        \n}\n</code></pre>\n<p>I don't understand why we need the <strong>bitwise or</strong> between the <strong>id</strong> and the value (<strong>databyte &amp; 0xFF</strong>). Also, why do we need to perform an 8-bit left shift operation on the id?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1615932,"reputation":111,"user_id":1493628,"display_name":"user1493628"},"score":0,"creation_date":1674666161,"post_id":75237382,"comment_id":132764713,"body_markdown":"If the Rewarded ad is not shown I have to click the button to setOnClickListener in order for the Rewarded ad to load.. which takes a couple of clicks for it to load. I don&#39;t want that.","body":"If the Rewarded ad is not shown I have to click the button to setOnClickListener in order for the Rewarded ad to load.. which takes a couple of clicks for it to load. I don&#39;t want that."}],"owner":{"account_id":1615932,"reputation":111,"user_id":1493628,"display_name":"user1493628"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674666052,"creation_date":1674666052,"question_id":75237382,"body_markdown":"Here is my code below:\r\n\r\n    tvWatch.setOnClickListener(v -&gt; {\r\n            earnCreditDialog.dismiss();\r\n\r\n            RewardedAd rewardedAd = adMobUtils().getRewardedAd();\r\n            if (rewardedAd != null /*&amp;&amp; rewardedAd.isLoaded()*/) {\r\n                isEarnCredit = true;\r\n                rewardedAd.show(TournamentActivity.this, rewardedAdCallback);\r\n                rewardedAd.setFullScreenContentCallback(setFullScreenContentCallback);\r\n            } else {\r\n                CommonUtils.showMessage(TournamentActivity.this, getString(R.string.earn_credit_not_available));\r\n                if (rewardedAd == null) {\r\n                    Timber.e(&quot;Create New Rewarded Ad&quot;);\r\n                    loadRewardVideoAd(true);\r\n                } else {\r\n                    Timber.e(&quot;Loading Current Rewarded Ad&quot;);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\nI would also like to add a dialog that I have coded already before the rewarded ad is shown. Here is the code below:\r\n\r\n    public void showAdsLoadingProgressDialog() {\r\n        if (adsLoadingDialog == null || !adsLoadingDialog.isShowing()) {\r\n            adsLoadingDialog = new Dialog(BaseActivity.this);\r\n            Window window = adsLoadingDialog.getWindow();\r\n            if (window != null) {\r\n                window.setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\r\n            }\r\n            adsLoadingDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            adsLoadingDialog.setContentView(R.layout.custom_ads_loading_dialog_layout);\r\n            adsLoadingDialog.show();\r\n            adsLoadingDialog.setCancelable(false);\r\n            adsLoadingDialog.setCanceledOnTouchOutside(false);\r\n        }\r\n    }\r\n\r\n","title":"I want to automatically reload function after setOnClickListener.. here is my code below","body":"<p>Here is my code below:</p>\n<pre><code>tvWatch.setOnClickListener(v -&gt; {\n        earnCreditDialog.dismiss();\n\n        RewardedAd rewardedAd = adMobUtils().getRewardedAd();\n        if (rewardedAd != null /*&amp;&amp; rewardedAd.isLoaded()*/) {\n            isEarnCredit = true;\n            rewardedAd.show(TournamentActivity.this, rewardedAdCallback);\n            rewardedAd.setFullScreenContentCallback(setFullScreenContentCallback);\n        } else {\n            CommonUtils.showMessage(TournamentActivity.this, getString(R.string.earn_credit_not_available));\n            if (rewardedAd == null) {\n                Timber.e(&quot;Create New Rewarded Ad&quot;);\n                loadRewardVideoAd(true);\n            } else {\n                Timber.e(&quot;Loading Current Rewarded Ad&quot;);\n            }\n\n        }\n    });\n</code></pre>\n<p>I would also like to add a dialog that I have coded already before the rewarded ad is shown. Here is the code below:</p>\n<pre><code>public void showAdsLoadingProgressDialog() {\n    if (adsLoadingDialog == null || !adsLoadingDialog.isShowing()) {\n        adsLoadingDialog = new Dialog(BaseActivity.this);\n        Window window = adsLoadingDialog.getWindow();\n        if (window != null) {\n            window.setBackgroundDrawable(new ColorDrawable(android.graphics.Color.TRANSPARENT));\n        }\n        adsLoadingDialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        adsLoadingDialog.setContentView(R.layout.custom_ads_loading_dialog_layout);\n        adsLoadingDialog.show();\n        adsLoadingDialog.setCancelable(false);\n        adsLoadingDialog.setCanceledOnTouchOutside(false);\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1632886540,"post_id":69368492,"comment_id":122610890,"body_markdown":"Use chromeprofile for this matter","body":"Use chromeprofile for this matter"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":1,"creation_date":1632896519,"post_id":69368492,"comment_id":122612945,"body_markdown":"Does this answer your question? [Disable Chrome notifications (Selenium)](https://stackoverflow.com/questions/34343423/disable-chrome-notifications-selenium)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34343423/disable-chrome-notifications-selenium\">Disable Chrome notifications (Selenium)</a>"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1632898096,"post_id":69368492,"comment_id":122613501,"body_markdown":"Have you tried the small check box in the notification panel ?","body":"Have you tried the small check box in the notification panel ?"}],"answers":[{"tags":[],"owner":{"account_id":7846659,"reputation":26,"user_id":5931510,"display_name":"Abhishek Rkrish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633082005,"creation_date":1633082005,"answer_id":69403920,"question_id":69368492,"body_markdown":"    // Try using chrome options as below.  \r\n      Map&lt;String, Object&gt; pref = new HashMap&lt;String, Object&gt;();\r\n        prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n        WebDriver driver = new ChromeDriver(options);\r\n    \r\n    // if it does not work , you need to check outside selenium.\r\n\r\n","title":"How do I choose to &quot;always allow&quot; in the popup notification in Google Chrome with Selenium/java?","body":"<pre><code>// Try using chrome options as below.  \n  Map&lt;String, Object&gt; pref = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\n    ChromeOptions options = new ChromeOptions();\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n    WebDriver driver = new ChromeDriver(options);\n\n// if it does not work , you need to check outside selenium.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633082296,"creation_date":1633082296,"answer_id":69403979,"question_id":69368492,"body_markdown":"I had a similar issue some time ago. As far as I remember it&#39;s not really possible to interact with those popups using selenium since it&#39;s not a part of website but rather something rendered by the browser itself. \r\n\r\nYou can try disabling the popups via ChromeOptions like this\r\n\r\n`options.addArguments(&quot;--disable-popup-blocking&quot;);`\r\n\r\ndepending on your chromedriver version this might not work. If so, try the following:\r\n\r\n`ChromeOptions options = new ChromeOptions();\r\noptions.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;));\r\ncaps.setCapability(ChromeOptions.CAPABILITY, options);`\r\n\r\nreferences:\r\n\r\nhttps://www.browserstack.com/docs/automate/selenium/enable-pop-ups\r\n\r\nhttps://newbedev.com/how-to-click-allow-on-show-notifications-popup-using-selenium-webdriver\r\n","title":"How do I choose to &quot;always allow&quot; in the popup notification in Google Chrome with Selenium/java?","body":"<p>I had a similar issue some time ago. As far as I remember it's not really possible to interact with those popups using selenium since it's not a part of website but rather something rendered by the browser itself.</p>\n<p>You can try disabling the popups via ChromeOptions like this</p>\n<p><code>options.addArguments(&quot;--disable-popup-blocking&quot;);</code></p>\n<p>depending on your chromedriver version this might not work. If so, try the following:</p>\n<p><code>ChromeOptions options = new ChromeOptions(); options.setExperimentalOption(&quot;excludeSwitches&quot;,Arrays.asList(&quot;disable-popup-blocking&quot;)); caps.setCapability(ChromeOptions.CAPABILITY, options);</code></p>\n<p>references:</p>\n<p><a href=\"https://www.browserstack.com/docs/automate/selenium/enable-pop-ups\" rel=\"nofollow noreferrer\">https://www.browserstack.com/docs/automate/selenium/enable-pop-ups</a></p>\n<p><a href=\"https://newbedev.com/how-to-click-allow-on-show-notifications-popup-using-selenium-webdriver\" rel=\"nofollow noreferrer\">https://newbedev.com/how-to-click-allow-on-show-notifications-popup-using-selenium-webdriver</a></p>\n"}],"owner":{"account_id":22888193,"reputation":23,"user_id":17028740,"display_name":"Carauz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69403920,"answer_count":2,"score":1,"last_activity_date":1674666005,"creation_date":1632863237,"question_id":69368492,"body_markdown":"[Popup notification][1]\r\n\r\nI am creating a program to automate whatsapp messages to some clients, but a notification appears on the screen, I would like to press always allow to advance in the process. Using Selenium with java.\r\n\r\nI already tried using code to deactivate the pop-up notifications but it doesn&#39;t work, so I would like to accept the permission so that the notification does not appear, I want to change the permissions so that the popup notification does not appear.\r\n\r\n \r\n\r\n ```\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.interactions.Actions;\r\n\r\n/**\r\n *\r\n * @author Dise&#241;oVerde\r\n */\r\npublic class Abrir_con_Chrome {\r\n    \r\n  \r\n  public int enviarnumero(int numero) {\r\n\r\n        int num = numero;\r\n        \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Dise&#241;oVerde\\\\OneDrive\\\\WhatsappDirect\\\\driver\\\\chromedriver.exe&quot;);\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n        \r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\nprefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\r\nprefs.put(&quot;credentials_enable_service&quot;, false);\r\nprefs.put(&quot;profile.password_manager_enabled&quot;, false);\r\nprefs.put(&quot;profile.managed_default_content_settings.notifications&quot;, 1);\r\n\r\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\noptions.addArguments(&quot;start-maximized&quot;);\r\noptions.addArguments(&quot;disable-infobars&quot;);\r\noptions.addArguments(&quot;--disable-extensions&quot;);\r\noptions.addArguments(&quot;--disable-notifications&quot;);\r\n\r\n\r\n\r\n        \r\n        WebDriver wd = new ChromeDriver(options);\r\n       \r\n\r\n        Actions builder = new Actions(wd);\r\n        \r\n        wd.get(&quot;https://wa.me/505&quot; + num);\r\n       \r\n\r\n        return 0;\r\n\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/SHmIK.png\r\n\r\nI wait your answer thank you!","title":"How do I choose to &quot;always allow&quot; in the popup notification in Google Chrome with Selenium/java?","body":"<p><a href=\"https://i.stack.imgur.com/SHmIK.png\" rel=\"nofollow noreferrer\">Popup notification</a></p>\n<p>I am creating a program to automate whatsapp messages to some clients, but a notification appears on the screen, I would like to press always allow to advance in the process. Using Selenium with java.</p>\n<p>I already tried using code to deactivate the pop-up notifications but it doesn't work, so I would like to accept the permission so that the notification does not appear, I want to change the permissions so that the popup notification does not appear.</p>\n<pre><code>import org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.interactions.Actions;\n\n/**\n*\n* @author DiseñoVerde\n*/\npublic class Abrir_con_Chrome {\n   \n \n public int enviarnumero(int numero) {\n\n       int num = numero;\n       \n       System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\DiseñoVerde\\\\OneDrive\\\\WhatsappDirect\\\\driver\\\\chromedriver.exe&quot;);\n\n       ChromeOptions options = new ChromeOptions();\n       \n       Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;profile.default_content_setting_values.notifications&quot;, 2);\nprefs.put(&quot;credentials_enable_service&quot;, false);\nprefs.put(&quot;profile.password_manager_enabled&quot;, false);\nprefs.put(&quot;profile.managed_default_content_settings.notifications&quot;, 1);\n\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\noptions.addArguments(&quot;start-maximized&quot;);\noptions.addArguments(&quot;disable-infobars&quot;);\noptions.addArguments(&quot;--disable-extensions&quot;);\noptions.addArguments(&quot;--disable-notifications&quot;);\n\n\n\n       \n       WebDriver wd = new ChromeDriver(options);\n      \n\n       Actions builder = new Actions(wd);\n       \n       wd.get(&quot;https://wa.me/505&quot; + num);\n      \n\n       return 0;\n\n   }\n}\n</code></pre>\n<p>I wait your answer thank you!</p>\n"},{"tags":["java","json","maven","predicate","jsonpath"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674675566,"post_id":75233125,"comment_id":132767670,"body_markdown":"The code you wrote works for me, it outputs &quot;Computer Science&quot;. Are you sure you&#39;re not using something from &quot;assert&quot;-package, but not running your code as test? If you remove &quot;test&quot; from your pom, does it work? Also, what IDE / java version are you using?","body":"The code you wrote works for me, it outputs &quot;Computer Science&quot;. Are you sure you&#39;re not using something from &quot;assert&quot;-package, but not running your code as test? If you remove &quot;test&quot; from your pom, does it work? Also, what IDE / java version are you using?"}],"owner":{"account_id":23718110,"reputation":11,"user_id":17738972,"display_name":"Remi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674665739,"answer_count":0,"score":1,"last_activity_date":1674665776,"creation_date":1674645068,"question_id":75233125,"body_markdown":"I&#39;ve seen plenty of websites and stackoverflow pages on this subject, but none have my answer.\r\nMy code below based on my pom.xml file, below, returns this error:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; com/jayway/jsonpath/Predicate \tat\r\n&gt; packagename.Hello.main(Hello.java:16)\r\n\r\nMy code file :\r\n\r\n    package packagename;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.jayway.jsonpath.Criteria;\r\n    import com.jayway.jsonpath.Filter;\r\n    import com.jayway.jsonpath.JsonPath;\r\n    \r\n    \r\n    \r\n    public class SimValJSONTEST {\r\n        public static void main(String[] args) {\r\n            String json = &quot;{\\&quot;id\\&quot;:12345, \\&quot;studentname\\&quot;:\\&quot;James Anderson\\&quot;, \\&quot;age\\&quot;:35,&quot;\r\n                + &quot; \\&quot;subjects\\&quot;:[\\&quot;Computer Science\\&quot;, \\&quot;Physics\\&quot;]}&quot;;\r\n    \r\n            String subject = JsonPath.read(json, &quot;$.subjects[0]&quot;);\r\n            System.out.println(subject);\r\n    \t\t\r\n        }\r\n    }\r\n\r\n\r\nMy pom.xml have this dependencies in :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhat can i do ?\r\nThanks in advance.\r\n","title":"JSONPath Predicate in Maven Java return NoClassDefFoundError: com/jayway/jsonpath/Predicate","body":"<p>I've seen plenty of websites and stackoverflow pages on this subject, but none have my answer.\nMy code below based on my pom.xml file, below, returns this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\ncom/jayway/jsonpath/Predicate     at\npackagename.Hello.main(Hello.java:16)</p>\n</blockquote>\n<p>My code file :</p>\n<pre><code>package packagename;\n\nimport java.util.List;\n\nimport com.jayway.jsonpath.Criteria;\nimport com.jayway.jsonpath.Filter;\nimport com.jayway.jsonpath.JsonPath;\n\n\n\npublic class SimValJSONTEST {\n    public static void main(String[] args) {\n        String json = &quot;{\\&quot;id\\&quot;:12345, \\&quot;studentname\\&quot;:\\&quot;James Anderson\\&quot;, \\&quot;age\\&quot;:35,&quot;\n            + &quot; \\&quot;subjects\\&quot;:[\\&quot;Computer Science\\&quot;, \\&quot;Physics\\&quot;]}&quot;;\n\n        String subject = JsonPath.read(json, &quot;$.subjects[0]&quot;);\n        System.out.println(subject);\n        \n    }\n}\n</code></pre>\n<p>My pom.xml have this dependencies in :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n  &lt;version&gt;2.7.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path-assert --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path-assert&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What can i do ?\nThanks in advance.</p>\n"},{"tags":["java","powershell","caching","continuous-integration","github-actions"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1674693181,"post_id":75233027,"comment_id":132771596,"body_markdown":"fwiw, the [hosted tool cache](https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#Hosted-Tool-Cache) contains temurin LTS versions, so that comes bundled for free.","body":"fwiw, the <a href=\"https://github.com/actions/setup-java/blob/main/docs/advanced-usage.md#Hosted-Tool-Cache\" rel=\"nofollow noreferrer\">hosted tool cache</a> contains temurin LTS versions, so that comes bundled for free."}],"answers":[{"comments":[{"owner":{"account_id":5547467,"reputation":320,"user_id":4401676,"accept_rate":78,"display_name":"Abubakar Riaz"},"score":0,"creation_date":1675050022,"post_id":75237092,"comment_id":132837794,"body_markdown":"Yeah, it was the same as dotnet. but I was missing ```/bin```. I thought setting the home directory was just it as it was in the case of dotnet.","body":"Yeah, it was the same as dotnet. but I was missing <code>&#47;bin</code>. I thought setting the home directory was just it as it was in the case of dotnet."},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1675055308,"post_id":75237092,"comment_id":132838360,"body_markdown":"@AbubakarRiaz: `JAVA_HOME` contains JDK&#39;s main directory but the actual executables are under `$JAVA_HOME/bin` directory so that needed to be set.","body":"@AbubakarRiaz: <code>JAVA_HOME</code> contains JDK&#39;s main directory but the actual executables are under <code>$JAVA_HOME&#47;bin</code> directory so that needed to be set."}],"tags":[],"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674665324,"creation_date":1674664596,"answer_id":75237092,"question_id":75233027,"body_markdown":"It turned out to be quite similar to your earlier question about the `dotnet` caching:\r\n\r\n- https://stackoverflow.com/questions/75180149/how-to-cache-dotnet-installation-in-github-actions\r\n\r\n---\r\n\r\nThe only thing is to cache the correct installed path and set it to `GITHUB_PATH` when the cache is hit.\r\n\r\n`JAVA_HOME_17_X64` will be:\r\n\r\n```\r\nC:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64\r\n```\r\n\r\nAnd, its `bin` subdirectory will be added to `GITHUB_PATH`:\r\n\r\n```\r\n${{ env.JAVA_HOME_17_X64 }}\\bin\r\n```\r\n\r\nHere&#39;s the complete workflow:\r\n\r\n```yml\r\nname: cache_java\r\n\r\non:\r\n  workflow_dispatch:\r\n\r\njobs:\r\n  build:\r\n    runs-on: windows-2022\r\n\r\n    env:\r\n      JAVA_HOME_17_X64: &#39;C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64&#39;\r\n\r\n    steps:\r\n      - name: Cache JDK\r\n        id: cache-jdk\r\n        uses: actions/cache@v3\r\n        with:\r\n          path: ${{ env.JAVA_HOME_17_X64 }}\r\n          key: ${{ runner.os }}-jdk-17\r\n          restore-keys: ${{ runner.os }}-jdk-\r\n\r\n      - name: Install Java\r\n        if: ${{ steps.cache-jdk.outputs.cache-hit != &#39;true&#39; }}\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;microsoft&#39;\r\n          java-version: &#39;17&#39;\r\n\r\n      - name: Check default Java version\r\n        run: java -version\r\n\r\n      - name: Set installed/cached Java path [${{ env.JAVA_HOME_17_X64 }}]\r\n        run: echo &quot;${{ env.JAVA_HOME_17_X64 }}\\bin&quot; | Out-File -FilePath $ENV:GITHUB_PATH -Encoding utf8 -Append\r\n\r\n      - name: Check installed/cached Java version\r\n        run: java -version\r\n```\r\n\r\nOutput:\r\n\r\n[![workflow run][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C4bSU.png","title":"How to cache Java installation using GitHub Actions","body":"<p>It turned out to be quite similar to your earlier question about the <code>dotnet</code> caching:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/75180149/how-to-cache-dotnet-installation-in-github-actions\">How to cache dotnet installation in GitHub Actions</a></li>\n</ul>\n<hr />\n<p>The only thing is to cache the correct installed path and set it to <code>GITHUB_PATH</code> when the cache is hit.</p>\n<p><code>JAVA_HOME_17_X64</code> will be:</p>\n<pre><code>C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64\n</code></pre>\n<p>And, its <code>bin</code> subdirectory will be added to <code>GITHUB_PATH</code>:</p>\n<pre><code>${{ env.JAVA_HOME_17_X64 }}\\bin\n</code></pre>\n<p>Here's the complete workflow:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: cache_java\n\non:\n  workflow_dispatch:\n\njobs:\n  build:\n    runs-on: windows-2022\n\n    env:\n      JAVA_HOME_17_X64: 'C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64'\n\n    steps:\n      - name: Cache JDK\n        id: cache-jdk\n        uses: actions/cache@v3\n        with:\n          path: ${{ env.JAVA_HOME_17_X64 }}\n          key: ${{ runner.os }}-jdk-17\n          restore-keys: ${{ runner.os }}-jdk-\n\n      - name: Install Java\n        if: ${{ steps.cache-jdk.outputs.cache-hit != 'true' }}\n        uses: actions/setup-java@v3\n        with:\n          distribution: 'microsoft'\n          java-version: '17'\n\n      - name: Check default Java version\n        run: java -version\n\n      - name: Set installed/cached Java path [${{ env.JAVA_HOME_17_X64 }}]\n        run: echo &quot;${{ env.JAVA_HOME_17_X64 }}\\bin&quot; | Out-File -FilePath $ENV:GITHUB_PATH -Encoding utf8 -Append\n\n      - name: Check installed/cached Java version\n        run: java -version\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/C4bSU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C4bSU.png\" alt=\"workflow run\" /></a></p>\n"}],"owner":{"account_id":5547467,"reputation":320,"user_id":4401676,"accept_rate":78,"display_name":"Abubakar Riaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75237092,"answer_count":1,"score":0,"last_activity_date":1674665324,"creation_date":1674644536,"question_id":75233027,"body_markdown":"I have created a GitHub actions script and in 2nd run, the cache step is used. However, the version that is cached was 17 but upon checking the version with ```java -version``` it shows version 1.8 \r\n```\r\nopenjdk version &quot;1.8.0_352&quot;\r\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_352-b08)\r\nOpenJDK 64-Bit Server VM (Temurin)(build 25.352-b08, mixed mode)\r\n``` \r\nhow do I do cache this particular version of java? thanks in advance.\r\n\r\nmy complete script.\r\n\r\n```\r\nname: dotnet-pipeline\r\non: [push]\r\n\r\njobs:\r\n  build:\r\n    name: Build-run-analysis\r\n    runs-on: windows-2022\r\n  \r\n    env:\r\n      JAVA_HOME: &#39;C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64&#39;\r\n      JAVA_HOME_17_X64: &#39;C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64&#39;\r\n     \r\n    steps:  \r\n    \r\n      - name: Cache JDK\r\n        id: cache-jdk\r\n        uses: actions/cache@v3\r\n        with:\r\n          path: ${{ env.JAVA_HOME }}\r\n          key: ${{ runner.os }}-jdk-17\r\n          restore-keys: |\r\n            ${{ runner.os }}-jdk-\r\n  \r\n      # Install Java development kit using microsoft distro\r\n      - name: Install Java\r\n        if: steps.cache-jdk.outputs.cache-hit != &#39;true&#39;\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          distribution: &#39;microsoft&#39;\r\n          java-version: &#39;17&#39;\r\n          check-latest: false # enforce to use files from cache\r\n        \r\n      - name: Set PATH\r\n        run: |\r\n          echo &quot;${{ env.JAVA_HOME }}&quot; | Out-File -FilePath $ENV:GITHUB_PATH -Encoding utf8 -Append      \r\n\r\n\r\n      - name: check version\r\n        run: java -version\r\n```","title":"How to cache Java installation using GitHub Actions","body":"<p>I have created a GitHub actions script and in 2nd run, the cache step is used. However, the version that is cached was 17 but upon checking the version with <code>java -version</code> it shows version 1.8</p>\n<pre><code>openjdk version &quot;1.8.0_352&quot;\nOpenJDK Runtime Environment (Temurin)(build 1.8.0_352-b08)\nOpenJDK 64-Bit Server VM (Temurin)(build 25.352-b08, mixed mode)\n</code></pre>\n<p>how do I do cache this particular version of java? thanks in advance.</p>\n<p>my complete script.</p>\n<pre><code>name: dotnet-pipeline\non: [push]\n\njobs:\n  build:\n    name: Build-run-analysis\n    runs-on: windows-2022\n  \n    env:\n      JAVA_HOME: 'C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64'\n      JAVA_HOME_17_X64: 'C:\\hostedtoolcache\\windows\\Java_Microsoft_jdk\\17.0.3\\x64'\n     \n    steps:  \n    \n      - name: Cache JDK\n        id: cache-jdk\n        uses: actions/cache@v3\n        with:\n          path: ${{ env.JAVA_HOME }}\n          key: ${{ runner.os }}-jdk-17\n          restore-keys: |\n            ${{ runner.os }}-jdk-\n  \n      # Install Java development kit using microsoft distro\n      - name: Install Java\n        if: steps.cache-jdk.outputs.cache-hit != 'true'\n        uses: actions/setup-java@v3\n        with:\n          distribution: 'microsoft'\n          java-version: '17'\n          check-latest: false # enforce to use files from cache\n        \n      - name: Set PATH\n        run: |\n          echo &quot;${{ env.JAVA_HOME }}&quot; | Out-File -FilePath $ENV:GITHUB_PATH -Encoding utf8 -Append      \n\n\n      - name: check version\n        run: java -version\n</code></pre>\n"},{"tags":["java","spring","exception"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674664854,"post_id":75237129,"comment_id":132764222,"body_markdown":"Where is your security configuration?","body":"Where is your security configuration?"},{"owner":{"account_id":13717542,"reputation":125,"user_id":9898348,"display_name":"Federico Arona"},"score":0,"creation_date":1674665049,"post_id":75237129,"comment_id":132764311,"body_markdown":"@Unmitigated added to the question, sorry","body":"@Unmitigated added to the question, sorry"}],"answers":[{"comments":[{"owner":{"account_id":13717542,"reputation":125,"user_id":9898348,"display_name":"Federico Arona"},"score":0,"creation_date":1674665470,"post_id":75237203,"comment_id":132764482,"body_markdown":"It&#39;s now returning a &quot;500 Internal server error&quot; but I guess that&#39;s ok, I can make an exception handler to handle and return the error messages as I want.\n\nDoes this means that the security configuration returns an HTTP response with the &quot;/error&quot; path to the caller?","body":"It&#39;s now returning a &quot;500 Internal server error&quot; but I guess that&#39;s ok, I can make an exception handler to handle and return the error messages as I want.  Does this means that the security configuration returns an HTTP response with the &quot;/error&quot; path to the caller?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1674665796,"post_id":75237203,"comment_id":132764598,"body_markdown":"@FedericoArona `/error` is just the path Spring uses to handle all errors.","body":"@FedericoArona <code>&#47;error</code> is just the path Spring uses to handle all errors."},{"owner":{"account_id":13717542,"reputation":125,"user_id":9898348,"display_name":"Federico Arona"},"score":0,"creation_date":1674665917,"post_id":75237203,"comment_id":132764630,"body_markdown":"Cool. thanks. I still don&#39;t understand why if I don&#39;t allow access to &quot;/error&quot;, it returns &quot;403&quot; since the request I&#39;m making has the auth header in it, but I&#39;ll figure it out.","body":"Cool. thanks. I still don&#39;t understand why if I don&#39;t allow access to &quot;/error&quot;, it returns &quot;403&quot; since the request I&#39;m making has the auth header in it, but I&#39;ll figure it out."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674665085,"creation_date":1674665085,"answer_id":75237203,"question_id":75237129,"body_markdown":"You need to allow access to `/error`.\r\n\r\n```java\r\n.requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/error&quot;).permitAll()\r\n```","title":"Spring: REST exceptions are caught as 403 Forbidden exception","body":"<p>You need to allow access to <code>/error</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/error&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":13717542,"reputation":125,"user_id":9898348,"display_name":"Federico Arona"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75237203,"answer_count":1,"score":2,"last_activity_date":1674665085,"creation_date":1674664771,"question_id":75237129,"body_markdown":"I created a Spring Boot Rest Api with custom JWT authentication (that I&#39;ll change someday with Keycloak).\r\n\r\nThe custom filter is this:\r\n\r\n```\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtService jwtService;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            @NonNull HttpServletRequest request,\r\n            @NonNull HttpServletResponse response,\r\n            @NonNull FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n        final String jwt;\r\n        final String userEmail;\r\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n        // Extract token\r\n        jwt = authHeader.substring(7);\r\n        // Extract username or email from JWT token\r\n        userEmail = jwtService.extractUsername(jwt);\r\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n            if(jwtService.isTokenValid(jwt, userDetails)){\r\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails,\r\n                        null,\r\n                        userDetails.getAuthorities()\r\n                );\r\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authToken);\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nThe security configuration:\r\n```\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\r\n        \r\n        httpSecurity\r\n                .csrf()\r\n                .disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\r\n        \r\n        return httpSecurity.build();\r\n    }\r\n    \r\n}\r\n```\r\n\r\nThe problem is that when I encounter any exception during runtime (IllegalArgumentException, RuntimeException etc.) all of them are returned to the caller as a &quot;403 Forbidden&quot;.\r\nI want to return the actual exception to whoever made the call.\r\n\r\nWhat am I missing here?","title":"Spring: REST exceptions are caught as 403 Forbidden exception","body":"<p>I created a Spring Boot Rest Api with custom JWT authentication (that I'll change someday with Keycloak).</p>\n<p>The custom filter is this:</p>\n<pre><code>public class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(\n            @NonNull HttpServletRequest request,\n            @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain\n    ) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if(authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n        // Extract token\n        jwt = authHeader.substring(7);\n        // Extract username or email from JWT token\n        userEmail = jwtService.extractUsername(jwt);\n        if(userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if(jwtService.isTokenValid(jwt, userDetails)){\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>The security configuration:</p>\n<pre><code>public class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception{\n        \n        httpSecurity\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n        \n        return httpSecurity.build();\n    }\n    \n}\n</code></pre>\n<p>The problem is that when I encounter any exception during runtime (IllegalArgumentException, RuntimeException etc.) all of them are returned to the caller as a &quot;403 Forbidden&quot;.\nI want to return the actual exception to whoever made the call.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","parsing","apache-tika"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1674716986,"post_id":75234115,"comment_id":132774232,"body_markdown":"Include some of the Tika Parsers as well?","body":"Include some of the Tika Parsers as well?"},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1674720076,"post_id":75234115,"comment_id":132774899,"body_markdown":"I have included tika-parses-standard-package as well. Do I need another to also include?","body":"I have included tika-parses-standard-package as well. Do I need another to also include?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1674780278,"post_id":75234115,"comment_id":132791876,"body_markdown":"See https://cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tika for how to check which ones you correctly included","body":"See <a href=\"https://cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tika\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/TIKA/Troubleshooting+Tik&zwnj;&#8203;a</a> for how to check which ones you correctly included"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":0,"creation_date":1675378885,"post_id":75234115,"comment_id":132922327,"body_markdown":"I agree with @Gagravarr.  Separately, why switch from tika-app 1.x to tika-core 2.x?  Give tika-app 2.x a try, no?","body":"I agree with @Gagravarr.  Separately, why switch from tika-app 1.x to tika-core 2.x?  Give tika-app 2.x a try, no?"},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1675680771,"post_id":75234115,"comment_id":132974385,"body_markdown":"Yes, I tried tika-app-2.6.0 and worked. I was hesitant because of potential vulnerabilities from other libraries and didn&#39;t want to include components that are not of any use in my case.","body":"Yes, I tried tika-app-2.6.0 and worked. I was hesitant because of potential vulnerabilities from other libraries and didn&#39;t want to include components that are not of any use in my case."}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674664836,"creation_date":1674650394,"question_id":75234115,"body_markdown":"Changed from tika-app-1.1 to tika-core-2.6.0 because of the vulnerabilities of the former. I only want to use the parsers and some other tools included in tika-core.\r\nI need to get the length of the content of the parsed file:\r\n\r\n    InputStream stream = MyClass.class.getResourceAsStream(&quot;test1.pdf&quot;);\r\n    if (documentByteArrayInput != null) {\r\n    \tMetadata metadata = new Metadata();\r\n    \tBodyContentHandler handler= new BodyContentHandler(-1);\r\n    \tAutoDetectParser parser= new AutoDetectParser();\r\n    \tparser.parse(stream, handler, metadata);\r\n    \tString doc= handler.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\r\n    \tint charsNo= doc.length();\r\n    }\r\n\r\nWith the tika-app-1.1 it correctly returns the number of characters of the file.\r\n\r\nWhen testing with tika-core-2.6.0 it always returns 0 as a result. I saw that `handler` was empty every time.\r\n\r\nChecked all the dependencies for tika-core-2.6.0.\r\n\r\nAre there any compatibility issues between the two? or what can be the cause of that?\r\n\r\nAny help is appreciated.\r\n","title":"Apache Tika-Core BodyContentHandler and Parser is always empty","body":"<p>Changed from tika-app-1.1 to tika-core-2.6.0 because of the vulnerabilities of the former. I only want to use the parsers and some other tools included in tika-core.\nI need to get the length of the content of the parsed file:</p>\n<pre><code>InputStream stream = MyClass.class.getResourceAsStream(&quot;test1.pdf&quot;);\nif (documentByteArrayInput != null) {\n    Metadata metadata = new Metadata();\n    BodyContentHandler handler= new BodyContentHandler(-1);\n    AutoDetectParser parser= new AutoDetectParser();\n    parser.parse(stream, handler, metadata);\n    String doc= handler.toString().replaceAll(&quot;\\\\s+&quot;, &quot;&quot;);\n    int charsNo= doc.length();\n}\n</code></pre>\n<p>With the tika-app-1.1 it correctly returns the number of characters of the file.</p>\n<p>When testing with tika-core-2.6.0 it always returns 0 as a result. I saw that <code>handler</code> was empty every time.</p>\n<p>Checked all the dependencies for tika-core-2.6.0.</p>\n<p>Are there any compatibility issues between the two? or what can be the cause of that?</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","function"],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1674788169,"post_id":75236938,"comment_id":132792880,"body_markdown":"This is correct. Many thanks. I am now able to just change the property value, restart the app, and have the correct function taken into account.","body":"This is correct. Many thanks. I am now able to just change the property value, restart the app, and have the correct function taken into account."}],"tags":[],"owner":{"account_id":168293,"reputation":1994,"user_id":393657,"display_name":"stryba"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1674664785,"creation_date":1674663920,"answer_id":75236938,"question_id":75209778,"body_markdown":"I would assume it should work using `RoutingFunction`, something like this:\r\n\r\n    @RestController\r\n    public class FunctionController {\r\n      \r\n      @Autowired\r\n      RoutingFunction function;\r\n    \r\n      @GetMapping(&quot;/applyFunctionToWord&quot;)\r\n      public String applyFunctionToWord(@RequestParam String word) {\r\n        return (String)function.apply(word);\r\n      }\r\n    \r\n    }","title":"SpringBoot + Spring Cloud Function: Configurable function composition issue","body":"<p>I would assume it should work using <code>RoutingFunction</code>, something like this:</p>\n<pre><code>@RestController\npublic class FunctionController {\n  \n  @Autowired\n  RoutingFunction function;\n\n  @GetMapping(&quot;/applyFunctionToWord&quot;)\n  public String applyFunctionToWord(@RequestParam String word) {\n    return (String)function.apply(word);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75236938,"answer_count":1,"score":0,"last_activity_date":1674664785,"creation_date":1674478195,"question_id":75209778,"body_markdown":"Small question regarding SpringBoot + Spring Cloud function application please.\r\n\r\nI have a very simple app which takes a word as input.\r\n\r\nThe business logic is written via functions. The &quot;difficulty&quot; is: the functions need to be configurable. Meaning, with just an ```application.properties``` change + restart, the web app should be able to pick the correct business logic, i.e. the correct function composition to apply to the input, without code change.\r\n\r\nHere is an example:\r\n\r\napplication.properties:\r\n```\r\nspring.cloud.function.definition=upper\r\n#spring.cloud.function.definition=reverse\r\n#spring.cloud.function.definition=upper|reverse\r\n```\r\n\r\npom:\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Function;\r\n\r\n@Service\r\npublic class ReverseFunction {\r\n\r\n    @Bean\r\n    Function&lt;String, String&gt; reverse() {\r\n        return s -&gt; new StringBuilder(s).reverse().toString();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.function.Function;\r\n\r\n@Service\r\npublic class UpperFunction {\r\n\r\n    @Bean\r\n    Function&lt;String, String&gt; upper() {\r\n        return String::toUpperCase;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd this is the business logic:\r\n\r\n```\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.function.Function;\r\n\r\n@RestController\r\npublic class FunctionController {\r\n\r\n    @GetMapping(&quot;/applyFunctionToWord&quot;)\r\n    public String applyFunctionToWord(@RequestParam String word) {\r\n        Function&lt;String, String&gt; function = ??? //configurable from application.properties\r\n        return function.apply(word);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn tutorials found online and from official documentation from Spring, it is said:\r\n\r\n```\r\nFunction Composition\r\nFunction composition is a feature of SCF that lets you compose several functions together in a declarative way.\r\nThe following example shows how to do so:\r\n\r\n--spring.cloud.function.definition=uppercase|reverse\r\nHere, we effectively provided a definition of a single function that is itself a composition of a function named uppercase and a function named reverse. You can also argue that we’ve orchestrated a simple pipeline consisting of running the uppercase function and then sending its output to the reverse function. The term orchestration is important here, and we cover it in more detail later in the post.\r\n```\r\n\r\nhttps://spring.io/blog/2019/11/04/spring-cloud-stream-composed-functions-or-eip#:~:text=Function%20composition%20is%20a%20feature%20of%20SCF%20that,following%20example%20shows%20how%20to%20do%20so%3A%20--spring.cloud.function.definition%3Duppercase%7Creverse\r\n\r\nWhat I tried:\r\n\r\nI did configure the property in application.properties. \r\n\r\nAnd as you can see, I did follow the guide naming the property: ```spring.cloud.function.definition```. What is the correct machanism please?\r\n\r\nAm I forced to fallback to something with ```@Value```? \r\n\r\nMy app is not a Spring Cloud Stream app. It is not based on Kafka. It is just a basic web app where the business logic is a configurable composition functions.\r\n\r\nQuestion:\r\n\r\nHow to have the webapp take into effect the value configured in ```spring.cloud.function.definition=```, and apply it to the input please?\r\n\r\nThank you","title":"SpringBoot + Spring Cloud Function: Configurable function composition issue","body":"<p>Small question regarding SpringBoot + Spring Cloud function application please.</p>\n<p>I have a very simple app which takes a word as input.</p>\n<p>The business logic is written via functions. The &quot;difficulty&quot; is: the functions need to be configurable. Meaning, with just an <code>application.properties</code> change + restart, the web app should be able to pick the correct business logic, i.e. the correct function composition to apply to the input, without code change.</p>\n<p>Here is an example:</p>\n<p>application.properties:</p>\n<pre><code>spring.cloud.function.definition=upper\n#spring.cloud.function.definition=reverse\n#spring.cloud.function.definition=upper|reverse\n</code></pre>\n<p>pom:</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-function-context&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Function;\n\n@Service\npublic class ReverseFunction {\n\n    @Bean\n    Function&lt;String, String&gt; reverse() {\n        return s -&gt; new StringBuilder(s).reverse().toString();\n    }\n\n}\n</code></pre>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.stereotype.Service;\n\nimport java.util.function.Function;\n\n@Service\npublic class UpperFunction {\n\n    @Bean\n    Function&lt;String, String&gt; upper() {\n        return String::toUpperCase;\n    }\n\n}\n</code></pre>\n<p>And this is the business logic:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.function.Function;\n\n@RestController\npublic class FunctionController {\n\n    @GetMapping(&quot;/applyFunctionToWord&quot;)\n    public String applyFunctionToWord(@RequestParam String word) {\n        Function&lt;String, String&gt; function = ??? //configurable from application.properties\n        return function.apply(word);\n    }\n\n}\n</code></pre>\n<p>In tutorials found online and from official documentation from Spring, it is said:</p>\n<pre><code>Function Composition\nFunction composition is a feature of SCF that lets you compose several functions together in a declarative way.\nThe following example shows how to do so:\n\n--spring.cloud.function.definition=uppercase|reverse\nHere, we effectively provided a definition of a single function that is itself a composition of a function named uppercase and a function named reverse. You can also argue that we’ve orchestrated a simple pipeline consisting of running the uppercase function and then sending its output to the reverse function. The term orchestration is important here, and we cover it in more detail later in the post.\n</code></pre>\n<p><a href=\"https://spring.io/blog/2019/11/04/spring-cloud-stream-composed-functions-or-eip#:%7E:text=Function%20composition%20is%20a%20feature%20of%20SCF%20that,following%20example%20shows%20how%20to%20do%20so%3A%20--spring.cloud.function.definition%3Duppercase%7Creverse\" rel=\"nofollow noreferrer\">https://spring.io/blog/2019/11/04/spring-cloud-stream-composed-functions-or-eip#:~:text=Function%20composition%20is%20a%20feature%20of%20SCF%20that,following%20example%20shows%20how%20to%20do%20so%3A%20--spring.cloud.function.definition%3Duppercase%7Creverse</a></p>\n<p>What I tried:</p>\n<p>I did configure the property in application.properties.</p>\n<p>And as you can see, I did follow the guide naming the property: <code>spring.cloud.function.definition</code>. What is the correct machanism please?</p>\n<p>Am I forced to fallback to something with <code>@Value</code>?</p>\n<p>My app is not a Spring Cloud Stream app. It is not based on Kafka. It is just a basic web app where the business logic is a configurable composition functions.</p>\n<p>Question:</p>\n<p>How to have the webapp take into effect the value configured in <code>spring.cloud.function.definition=</code>, and apply it to the input please?</p>\n<p>Thank you</p>\n"},{"tags":["java","list","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":1382259,"reputation":1901,"user_id":1315006,"accept_rate":0,"display_name":"Patil Prashanth"},"score":0,"creation_date":1376468114,"post_id":18226139,"comment_id":26719117,"body_markdown":"linkTexts[i] = e.getText(); lines gives me error while looping for the second time","body":"linkTexts[i] = e.getText(); lines gives me error while looping for the second time"},{"owner":{"account_id":1382259,"reputation":1901,"user_id":1315006,"accept_rate":0,"display_name":"Patil Prashanth"},"score":1,"creation_date":1376470740,"post_id":18226139,"comment_id":26720495,"body_markdown":"Resolved the error was due to page refresh 1. first i copied all the link texts to a String array variable and later used to for loop to click on the required links under each section.                   for (WebElement e : LeftNavLinks) \n\t\t{\t\n\t\t    linkTexts[i] = e.getText();\n\t\t    i++;\n}\nfor (int j=0;j&lt;leftnavlen;j++)\n{\n  if(linkTexts[j].equals(ben))\n  {\n   String BenefitStatLi=&quot;//*[@id=&#39;sliding-navigation&#39;]/li[%s]/a&quot;;\n driver.findElement(By.xpath(String.format(BenefitStatLi,j+1))).click();\n driver.findElement(By.xpath(&quot;//*@id=&#39;divContentHolder&#39;]/div[1]/a[1]&quot;)).click();\n}","body":"Resolved the error was due to page refresh 1. first i copied all the link texts to a String array variable and later used to for loop to click on the required links under each section.                   for (WebElement e : LeftNavLinks)  \t\t{\t \t\t    linkTexts[i] = e.getText(); \t\t    i++; } for (int j=0;j&lt;leftnavlen;j++) {   if(linkTexts[j].equals(ben))   {    String BenefitStatLi=&quot;//*[@id=&#39;sliding-navigation&#39;]/li[%s]/a&quot;;  driver.findElement(By.xpath(String.format(BenefitStatLi,j+1)&zwnj;&#8203;)).click();  driver.findElement(By.xpath(&quot;//*@id=&#39;divContentHolder&#39;]/div[&zwnj;&#8203;1]/a[1]&quot;)).click(); }"},{"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"score":0,"creation_date":1376471167,"post_id":18226139,"comment_id":26720727,"body_markdown":"So it was for the same same reason. Elements identified earlier were removed from DOM due to page refresh :)","body":"So it was for the same same reason. Elements identified earlier were removed from DOM due to page refresh :)"},{"owner":{"account_id":5137250,"reputation":722,"user_id":4115587,"accept_rate":50,"display_name":"Rahal Kanishka"},"score":0,"creation_date":1472038366,"post_id":18226139,"comment_id":65589773,"body_markdown":"Yes indeed it does .Thank a lot @AbhishekSingh","body":"Yes indeed it does .Thank a lot @AbhishekSingh"},{"owner":{"account_id":7163595,"reputation":436,"user_id":5473520,"display_name":"Raj Asapu"},"score":0,"creation_date":1491244238,"post_id":18226139,"comment_id":73456574,"body_markdown":"In my case i got this exception as i do not have break statement in the loop after the required element is clicked.So watch out for such situations as well.","body":"In my case i got this exception as i do not have break statement in the loop after the required element is clicked.So watch out for such situations as well."},{"owner":{"account_id":10524517,"reputation":315,"user_id":7755936,"accept_rate":57,"display_name":"Sanchit"},"score":0,"creation_date":1527139801,"post_id":18226139,"comment_id":88015489,"body_markdown":"Using `try` and `catch` solved the problem but doesn&#39;t help if we need to call that element outside of the `try` and `catch` method.","body":"Using <code>try</code> and <code>catch</code> solved the problem but doesn&#39;t help if we need to call that element outside of the <code>try</code> and <code>catch</code> method."},{"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"score":1,"creation_date":1655822979,"post_id":18226139,"comment_id":128419861,"body_markdown":"You&#39;re absolutely right, although the targeted element is displayed and clickable, it was reloaded in the DOM (I had a case of autocomplete text field), your idea is working great with some exception handling mechanism...thanks a lot !","body":"You&#39;re absolutely right, although the targeted element is displayed and clickable, it was reloaded in the DOM (I had a case of autocomplete text field), your idea is working great with some exception handling mechanism...thanks a lot !"}],"tags":[],"owner":{"account_id":898648,"reputation":10303,"user_id":935374,"accept_rate":50,"display_name":"Abhishek Singh"},"comment_count":7,"down_vote_count":3,"up_vote_count":132,"is_accepted":false,"score":129,"last_activity_date":1622679116,"creation_date":1376467080,"answer_id":18226139,"question_id":18225997,"body_markdown":"What is the line which gives exception ??\r\n\r\nThe reason for this is because the element to which you have referred is removed from the DOM structure\r\n\r\n\r\nI was facing the same problem while working with IEDriver. The reason was because javascript loaded the element one more time after i have referred so my date reference pointed to a nonexistent object even if it was right there in the UI. I used the following workaround:\r\n\r\n    try {\r\n        WebElement date = driver.findElement(By.linkText(Utility.getSheetData(path, 7, 1, 2)));\r\n        date.click();\r\n    }\r\n    catch(org.openqa.selenium.StaleElementReferenceException ex)\r\n    {\r\n        WebElement date = driver.findElement(By.linkText(Utility.getSheetData(path, 7, 1, 2)));\r\n        date.click();\r\n    }\r\n\r\nSee if the same can help you !","title":"stale element reference: element is not attached to the page document","body":"<p>What is the line which gives exception ??</p>\n<p>The reason for this is because the element to which you have referred is removed from the DOM structure</p>\n<p>I was facing the same problem while working with IEDriver. The reason was because javascript loaded the element one more time after i have referred so my date reference pointed to a nonexistent object even if it was right there in the UI. I used the following workaround:</p>\n<pre><code>try {\n    WebElement date = driver.findElement(By.linkText(Utility.getSheetData(path, 7, 1, 2)));\n    date.click();\n}\ncatch(org.openqa.selenium.StaleElementReferenceException ex)\n{\n    WebElement date = driver.findElement(By.linkText(Utility.getSheetData(path, 7, 1, 2)));\n    date.click();\n}\n</code></pre>\n<p>See if the same can help you !</p>\n"},{"tags":[],"owner":{"account_id":3755247,"reputation":282,"user_id":3121743,"display_name":"kiran"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1388140771,"creation_date":1387870885,"answer_id":20756894,"question_id":18225997,"body_markdown":"Use this code:\r\n\r\n\r\n    public class LinkTest \r\n    {\t\r\n        public static void main(String[] args) \r\n        {\r\n            WebDriver driver = new FirefoxDriver();\r\n            driver.navigate().to(&quot;file:///C:/Users/vkiran/Desktop/xyz.html&quot;);\r\n            List&lt;WebElement&gt; alllinks =driver.findElements(By.xpath(&quot;//*[@id=&#39;sliding-navigation&#39;]//a&quot;));\r\n            String a[]=new String[alllinks.size()];\r\n            for(int i=0;i&lt;alllinks.size();i++)\r\n            {\r\n                a[i]=alllinks.get(i).getText();\t\r\n                if(a[i].startsWith(&quot;B&quot;))\r\n                {\r\n                    System.out.println(&quot;clicking on this link::&quot;+driver.findElement(By.linkText(a[i])).getText());\r\n                    driver.findElement(By.linkText(a[i])).click();\t\r\n\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;does not starts with B so not clicking&quot;);\r\n                }\r\n            }\r\n\t}\r\n    }\r\n\r\n","title":"stale element reference: element is not attached to the page document","body":"<p>Use this code:</p>\n\n<pre><code>public class LinkTest \n{   \n    public static void main(String[] args) \n    {\n        WebDriver driver = new FirefoxDriver();\n        driver.navigate().to(\"file:///C:/Users/vkiran/Desktop/xyz.html\");\n        List&lt;WebElement&gt; alllinks =driver.findElements(By.xpath(\"//*[@id='sliding-navigation']//a\"));\n        String a[]=new String[alllinks.size()];\n        for(int i=0;i&lt;alllinks.size();i++)\n        {\n            a[i]=alllinks.get(i).getText(); \n            if(a[i].startsWith(\"B\"))\n            {\n                System.out.println(\"clicking on this link::\"+driver.findElement(By.linkText(a[i])).getText());\n                driver.findElement(By.linkText(a[i])).click();  \n\n            }\n            else\n            {\n                System.out.println(\"does not starts with B so not clicking\");\n            }\n        }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2939509,"reputation":7108,"user_id":2517730,"accept_rate":85,"display_name":"Yar"},"score":1,"creation_date":1464981936,"post_id":31061804,"comment_id":62726612,"body_markdown":"didn&#39;t work for me but still an interesting approach","body":"didn&#39;t work for me but still an interesting approach"},{"owner":{"account_id":1573670,"reputation":4947,"user_id":1460758,"accept_rate":8,"display_name":"Sam"},"score":32,"creation_date":1472241749,"post_id":31061804,"comment_id":65690008,"body_markdown":"This makes no sense what so ever.","body":"This makes no sense what so ever."},{"owner":{"account_id":978074,"reputation":8817,"user_id":998495,"accept_rate":27,"display_name":"emery"},"score":1,"creation_date":1492533001,"post_id":31061804,"comment_id":74010471,"body_markdown":"It makes sense, it&#39;s just not the most clear in terms of its variable name &quot;breakIt&quot;.  What that does is break out of the while(true) loop as soon as the &quot;element is not attached&quot; error is no longer being thrown.","body":"It makes sense, it&#39;s just not the most clear in terms of its variable name &quot;breakIt&quot;.  What that does is break out of the while(true) loop as soon as the &quot;element is not attached&quot; error is no longer being thrown."},{"owner":{"account_id":5356259,"reputation":191,"user_id":4268839,"display_name":"Tao Zhang"},"score":0,"creation_date":1496162659,"post_id":31061804,"comment_id":75543510,"body_markdown":"&#39;boolean doIt = true;\n        while (doIt) {\n        try {\n            // write your code here\n        } catch (Exception e) {\n            if (e.getMessage().contains(&quot;element is not attached&quot;)) {\n                doIt = false;\n            }\n        }\n    }&#39;","body":"&#39;boolean doIt = true;         while (doIt) {         try {             // write your code here         } catch (Exception e) {             if (e.getMessage().contains(&quot;element is not attached&quot;)) {                 doIt = false;             }         }     }&#39;"},{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":0,"creation_date":1543412209,"post_id":31061804,"comment_id":93910013,"body_markdown":"best answer I ever see","body":"best answer I ever see"},{"owner":{"account_id":195080,"reputation":495,"user_id":437779,"display_name":"Eugene Baranovsky"},"score":3,"creation_date":1543975932,"post_id":31061804,"comment_id":94108602,"body_markdown":"smells like goto spirit","body":"smells like goto spirit"}],"tags":[],"owner":{"display_name":"user4966430"},"comment_count":6,"down_vote_count":21,"up_vote_count":12,"is_accepted":false,"score":-9,"last_activity_date":1435270829,"creation_date":1435270829,"answer_id":31061804,"question_id":18225997,"body_markdown":"use this code to wait till the element is attached:\r\n\r\n    boolean breakIt = true;\r\n            while (true) {\r\n            breakIt = true;\r\n            try {\r\n                // write your code here\r\n            } catch (Exception e) {\r\n                if (e.getMessage().contains(&quot;element is not attached&quot;)) {\r\n                    breakIt = false;\r\n                }\r\n            }\r\n            if (breakIt) {\r\n                break;\r\n            }\r\n    \r\n        }","title":"stale element reference: element is not attached to the page document","body":"<p>use this code to wait till the element is attached:</p>\n\n<pre><code>boolean breakIt = true;\n        while (true) {\n        breakIt = true;\n        try {\n            // write your code here\n        } catch (Exception e) {\n            if (e.getMessage().contains(\"element is not attached\")) {\n                breakIt = false;\n            }\n        }\n        if (breakIt) {\n            break;\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6619697,"reputation":131,"user_id":5111843,"display_name":"BEWARB"},"score":0,"creation_date":1575814276,"post_id":40074136,"comment_id":104684089,"body_markdown":"Took me a while to understand why error was occuring!","body":"Took me a while to understand why error was occuring!"}],"tags":[],"owner":{"account_id":9450809,"reputation":71,"user_id":7027763,"display_name":"Adrian Coroi"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476643806,"creation_date":1476643806,"answer_id":40074136,"question_id":18225997,"body_markdown":"The thing here is that you&#39;re using a for loop outside of your conditional statement.\r\n\r\nAfter the conditions in your IF statement are met you probably navigate to another page, thus when the for loop attempts to iterate once more, you get the stale element error because you&#39;re on a different page.\r\n\r\nYou can add a **break** at the end of your if statement, this worked for me.","title":"stale element reference: element is not attached to the page document","body":"<p>The thing here is that you're using a for loop outside of your conditional statement.</p>\n\n<p>After the conditions in your IF statement are met you probably navigate to another page, thus when the for loop attempts to iterate once more, you get the stale element error because you're on a different page.</p>\n\n<p>You can add a <strong>break</strong> at the end of your if statement, this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11998255,"reputation":61,"user_id":8779042,"display_name":"אדם נחמיאס"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1508061883,"creation_date":1508061883,"answer_id":46753837,"question_id":18225997,"body_markdown":"Just break the loop when you find the element you want to click on it.\r\nfor example:\r\n\r\n      List&lt;WebElement&gt; buttons = getButtonElements();\r\n        for (WebElement b : buttons) {\r\n            if (b.getText().equals(&quot;Next&quot;){\r\n                b.click();\r\n                break;\r\n            }\r\n\r\n","title":"stale element reference: element is not attached to the page document","body":"<p>Just break the loop when you find the element you want to click on it.\nfor example:</p>\n\n<pre><code>  List&lt;WebElement&gt; buttons = getButtonElements();\n    for (WebElement b : buttons) {\n        if (b.getText().equals(\"Next\"){\n            b.click();\n            break;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12607051,"reputation":755,"user_id":9167594,"display_name":"Alisha Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1515477146,"creation_date":1515470718,"answer_id":48161278,"question_id":18225997,"body_markdown":"To handle it, I use the following click method.\r\nThis will attempt to find and click the element. If the DOM changes between the find and click, it will try again. The idea is that if it failed and I try again immediately the second attempt will succeed. If the DOM changes are very rapid then this will not work.\r\n\r\n    public boolean retryingFindClick(By by) {\r\n        boolean result = false;\r\n        int attempts = 0;\r\n        while(attempts &lt; 2) {\r\n            try {\r\n                driver.findElement(by).click();\r\n                result = true;\r\n                break;\r\n            } catch(StaleElementException e) {\r\n            }\r\n            attempts++;\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"stale element reference: element is not attached to the page document","body":"<p>To handle it, I use the following click method.\nThis will attempt to find and click the element. If the DOM changes between the find and click, it will try again. The idea is that if it failed and I try again immediately the second attempt will succeed. If the DOM changes are very rapid then this will not work.</p>\n\n<pre><code>public boolean retryingFindClick(By by) {\n    boolean result = false;\n    int attempts = 0;\n    while(attempts &lt; 2) {\n        try {\n            driver.findElement(by).click();\n            result = true;\n            break;\n        } catch(StaleElementException e) {\n        }\n        attempts++;\n    }\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":2,"creation_date":1529960582,"post_id":51027401,"comment_id":89055861,"body_markdown":"Is this answer somehow different from the top-voted answer here?","body":"Is this answer somehow different from the top-voted answer here?"},{"owner":{"account_id":16813238,"reputation":525,"user_id":12155745,"display_name":"Jwala Kumar"},"score":0,"creation_date":1654159056,"post_id":51027401,"comment_id":128026394,"body_markdown":"@Charan Raz\nI have refactored the code a little. For just sake of doing the task, it is good. But this is not a recommended approach to handling exception.","body":"@Charan Raz I have refactored the code a little. For just sake of doing the task, it is good. But this is not a recommended approach to handling exception."}],"tags":[],"owner":{"account_id":13695611,"reputation":71,"user_id":9882381,"display_name":"Charan Raz"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1529959997,"creation_date":1529941706,"answer_id":51027401,"question_id":18225997,"body_markdown":"    try {\r\n        WebElement button = driver.findElement(By.xpath(&quot;xpath&quot;));\r\n    \t\t  \tbutton.click();\r\n    }\r\n    catch(org.openqa.selenium.StaleElementReferenceException ex)\r\n    {\r\n        WebElement button = driver.findElement(By.xpath(&quot;xpath&quot;));\r\n    \t\t  \tbutton.click();\r\n    }\r\n    \r\n\r\nThis try/catch code actually worked for me. I got the same stale element error.\r\n","title":"stale element reference: element is not attached to the page document","body":"<pre><code>try {\n    WebElement button = driver.findElement(By.xpath(\"xpath\"));\n            button.click();\n}\ncatch(org.openqa.selenium.StaleElementReferenceException ex)\n{\n    WebElement button = driver.findElement(By.xpath(\"xpath\"));\n            button.click();\n}\n</code></pre>\n\n<p>This try/catch code actually worked for me. I got the same stale element error.</p>\n"},{"tags":[],"owner":{"account_id":1403180,"reputation":2551,"user_id":1331578,"accept_rate":33,"display_name":"SkorpEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535453069,"creation_date":1535453069,"answer_id":52055973,"question_id":18225997,"body_markdown":"This could be done in newer versions of selenium in JS( but all supporting **stalenessOf** will work): \r\n  \r\n\r\n     const { until } = require(&#39;selenium-webdriver&#39;);\r\n     driver.wait(\r\n            until.stalenessOf(\r\n              driver.findElement(\r\n                By.css(SQLQueriesByPhpMyAdminSelectors.sqlQueryArea)\r\n              )\r\n            ),\r\n            5 * 1000\r\n          )\r\n          .then( driver.findElement(By.css(SQLQueriesByPhpMyAdminSelectors.sqlQueryArea))\r\n          .sendKeys(sqlString)\r\n      );","title":"stale element reference: element is not attached to the page document","body":"<p>This could be done in newer versions of selenium in JS( but all supporting <strong>stalenessOf</strong> will work): </p>\n\n<pre><code> const { until } = require('selenium-webdriver');\n driver.wait(\n        until.stalenessOf(\n          driver.findElement(\n            By.css(SQLQueriesByPhpMyAdminSelectors.sqlQueryArea)\n          )\n        ),\n        5 * 1000\n      )\n      .then( driver.findElement(By.css(SQLQueriesByPhpMyAdminSelectors.sqlQueryArea))\n      .sendKeys(sqlString)\n  );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6276245,"reputation":2747,"user_id":4878848,"accept_rate":25,"display_name":"Nikunj Kakadiya"},"score":0,"creation_date":1588162843,"post_id":52449333,"comment_id":108792889,"body_markdown":"this worked for me. Also link to the document was helpful in understanding how it works. Thanks @Bruno_Sanches","body":"this worked for me. Also link to the document was helpful in understanding how it works. Thanks @Bruno_Sanches"},{"owner":{"account_id":3985773,"reputation":146,"user_id":3286381,"accept_rate":90,"display_name":"user3286381"},"score":0,"creation_date":1611259104,"post_id":52449333,"comment_id":116400825,"body_markdown":"Thanks for this answer. WebDriverWait was giving me issues but I used time.sleep(10) and it fixed the issue. Perhaps not the best solution but still worked.","body":"Thanks for this answer. WebDriverWait was giving me issues but I used time.sleep(10) and it fixed the issue. Perhaps not the best solution but still worked."}],"tags":[],"owner":{"account_id":14037047,"reputation":351,"user_id":10139482,"display_name":"Bruno Sanches"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1626403100,"creation_date":1537554566,"answer_id":52449333,"question_id":18225997,"body_markdown":"This errors have two common causes: The element has been deleted entirely, or the element is no longer attached to the DOM.\r\n\r\nIf you already checked if it is not your case, you could be facing the same problem as me.\r\n\r\nThe element in the DOM is not found because your page is not entirely loaded when Selenium is searching for the element. To solve that, you can put an explicit wait condition that tells Selenium to wait until the element is available to be clicked on.\r\n\r\n    from selenium.webdriver.support import expected_conditions as EC\r\n\r\n    wait = WebDriverWait(driver, 10)\r\n    element = wait.until(EC.element_to_be_clickable((By.ID, &#39;someid&#39;)))\r\n\r\nSee: https://selenium-python.readthedocs.io/waits.html\r\n\r\nIn Java \r\n\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    element = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\r\n\r\nSee: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html","title":"stale element reference: element is not attached to the page document","body":"<p>This errors have two common causes: The element has been deleted entirely, or the element is no longer attached to the DOM.</p>\n<p>If you already checked if it is not your case, you could be facing the same problem as me.</p>\n<p>The element in the DOM is not found because your page is not entirely loaded when Selenium is searching for the element. To solve that, you can put an explicit wait condition that tells Selenium to wait until the element is available to be clicked on.</p>\n<pre><code>from selenium.webdriver.support import expected_conditions as EC\n\nwait = WebDriverWait(driver, 10)\nelement = wait.until(EC.element_to_be_clickable((By.ID, 'someid')))\n</code></pre>\n<p>See: <a href=\"https://selenium-python.readthedocs.io/waits.html\" rel=\"noreferrer\">https://selenium-python.readthedocs.io/waits.html</a></p>\n<p>In Java</p>\n<pre><code>import org.openqa.selenium.support.ui.ExpectedConditions;\n\nWebDriverWait wait = new WebDriverWait(driver, 10);\nelement = wait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;someid&quot;)));\n</code></pre>\n<p>See: <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html</a></p>\n"},{"comments":[{"owner":{"account_id":2646455,"reputation":1163,"user_id":2289031,"accept_rate":36,"display_name":"Abhi"},"score":0,"creation_date":1596062161,"post_id":54230335,"comment_id":111693612,"body_markdown":"Hey, this seem to have solved my error. But I do not understand why I have to define same element having defined it earlier.","body":"Hey, this seem to have solved my error. But I do not understand why I have to define same element having defined it earlier."},{"owner":{"account_id":10573991,"reputation":726,"user_id":10145774,"display_name":"JuBaer AD"},"score":0,"creation_date":1606351579,"post_id":54230335,"comment_id":114941494,"body_markdown":"Great help. But can you please explain why the DOM changed for the same variable? Thanks.","body":"Great help. But can you please explain why the DOM changed for the same variable? Thanks."},{"owner":{"account_id":1954055,"reputation":112,"user_id":1757521,"display_name":"Dano"},"score":0,"creation_date":1607116613,"post_id":54230335,"comment_id":115181116,"body_markdown":"@JuBaerAD -- Would assert it can completely on the framework (react/vue/others).   Simple &quot;direct&quot; HTML would be hard to see things changing.   But using a framework it might do something completely for its&#39; own and the side effect is this.   Wrong?  First and foremost does the UI still work i.e. the React UI still work and function as needed?  Yes, no problem...  I&#39;ve does UI testing for 20+ years, i&#39;ve seen UIs where there were only actual controls upon referencing a control (fun to test not), and every time you accessed technically got a new control..  Same thing here i&#39;d suspect...","body":"@JuBaerAD -- Would assert it can completely on the framework (react/vue/others).   Simple &quot;direct&quot; HTML would be hard to see things changing.   But using a framework it might do something completely for its&#39; own and the side effect is this.   Wrong?  First and foremost does the UI still work i.e. the React UI still work and function as needed?  Yes, no problem...  I&#39;ve does UI testing for 20+ years, i&#39;ve seen UIs where there were only actual controls upon referencing a control (fun to test not), and every time you accessed technically got a new control..  Same thing here i&#39;d suspect..."},{"owner":{"account_id":4639831,"reputation":103,"user_id":3760016,"display_name":"user3760016"},"score":2,"creation_date":1628588986,"post_id":54230335,"comment_id":121455311,"body_markdown":"This one solved my issue, also if you are using the Actions class Click() method for click that element you can not use the same action class object for every click, you have to recreate objects from the action class every time when clicking on particular element otherwise it will return the StaleElementReference error","body":"This one solved my issue, also if you are using the Actions class Click() method for click that element you can not use the same action class object for every click, you have to recreate objects from the action class every time when clicking on particular element otherwise it will return the StaleElementReference error"},{"owner":{"account_id":3028860,"reputation":602,"user_id":2568296,"accept_rate":50,"display_name":"BlackBurn027"},"score":0,"creation_date":1673870949,"post_id":54230335,"comment_id":132586719,"body_markdown":"Seriously ? 91 upvotes? wow!","body":"Seriously ? 91 upvotes? wow!"}],"tags":[],"owner":{"account_id":11149883,"reputation":969,"user_id":8183474,"display_name":"rohit goudar"},"comment_count":5,"down_vote_count":1,"up_vote_count":97,"is_accepted":false,"score":96,"last_activity_date":1563636905,"creation_date":1547707242,"answer_id":54230335,"question_id":18225997,"body_markdown":"Whenever you face this issue, just **define the web element once again** above the line in which you are getting an Error.\r\n### Example:\r\n\r\n```js\r\nWebElement button = driver.findElement(By.xpath(&quot;xpath&quot;));\r\nbutton.click();\r\n\r\n//here you do something like update or save \r\n\r\n//then you try to use the button WebElement again to click \r\nbutton.click();\r\n```\r\n\r\nSince the DOM has changed e.g. through the update action, you are receiving a `StaleElementReference` Error.\r\n\r\n### Solution:\r\n```js\r\nWebElement button = driver.findElement(By.xpath(&quot;xpath&quot;));\r\nbutton.click();\r\n\r\n//here you do something like update or save \r\n\r\n//then you define the button element again before you use it\r\nWebElement button1 = driver.findElement(By.xpath(&quot;xpath&quot;));\r\n//that new element will point to the same element in the new DOM\r\nbutton1.click();\r\n\r\n```","title":"stale element reference: element is not attached to the page document","body":"<p>Whenever you face this issue, just <strong>define the web element once again</strong> above the line in which you are getting an Error.</p>\n\n<h3>Example:</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>WebElement button = driver.findElement(By.xpath(\"xpath\"));\nbutton.click();\n\n//here you do something like update or save \n\n//then you try to use the button WebElement again to click \nbutton.click();\n</code></pre>\n\n<p>Since the DOM has changed e.g. through the update action, you are receiving a <code>StaleElementReference</code> Error.</p>\n\n<h3>Solution:</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>WebElement button = driver.findElement(By.xpath(\"xpath\"));\nbutton.click();\n\n//here you do something like update or save \n\n//then you define the button element again before you use it\nWebElement button1 = driver.findElement(By.xpath(\"xpath\"));\n//that new element will point to the same element in the new DOM\nbutton1.click();\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8436352,"reputation":858,"user_id":6330442,"display_name":"J.Wincewicz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551739105,"creation_date":1551739105,"answer_id":54992692,"question_id":18225997,"body_markdown":"According to @Abhishek Singh&#39;s you need to understand the problem:\r\n\r\n&gt; What is the line which gives exception ??\r\n&gt; The reason for this is because the element to which you have referred is **removed** from the DOM structure\r\n\r\nand you can not refer to it anymore (imagine what element&#39;s ID has changed). \r\n\r\nFollow the code:\r\n```\r\nclass TogglingPage {\r\n  @FindBy(...)\r\n  private WebElement btnTurnOff;\r\n\r\n  @FindBy(...)\r\n  private WebElement btnTurnOn;\r\n\r\n  TogglingPage turnOff() {\r\n    this.btnTurnOff.isDisplayed();  \r\n    this.btnTurnOff.click();          // when clicked, button should swap into btnTurnOn\r\n    this.btnTurnOn.isDisplayed();\r\n    this.btnTurnOn.click();           // when clicked, button should swap into btnTurnOff\r\n    this.btnTurnOff.isDisplayed();    // throws an exception\r\n    return new TogglingPage();\r\n  }\r\n}\r\n```\r\n\r\nNow, let us wonder why?\r\n\r\n1. `btnTurnOff` was found by a driver - ok\r\n2. `btnTurnOff` was replaced by `btnTurnOn` - ok\r\n3. `btnTurnOn` was found by a driver. - ok\r\n4. `btnTurnOn` was replaced by `btnTurnOff` - ok\r\n5. we call `this.btnTurnOff.isDisplayed();` on the element which does not exist anymore in Selenium sense - you can see it, it works perfectly, but it is a **different instance of the same button**. \r\n\r\n\r\nPossible fix:\r\n```\r\n  TogglingPage turnOff() {\r\n    this.btnTurnOff.isDisplayed();  \r\n    this.btnTurnOff.click();\r\n\r\n    TogglingPage newPage = new TogglingPage();\r\n    newPage.btnTurnOn.isDisplayed();\r\n    newPage.btnTurnOn.click();\r\n\r\n    TogglingPage newerPage = new TogglingPage();\r\n    newerPage.btnTurnOff.isDisplayed();    // ok\r\n    return newerPage;\r\n  }\r\n```","title":"stale element reference: element is not attached to the page document","body":"<p>According to @Abhishek Singh's you need to understand the problem:</p>\n\n<blockquote>\n  <p>What is the line which gives exception ??\n  The reason for this is because the element to which you have referred is <strong>removed</strong> from the DOM structure</p>\n</blockquote>\n\n<p>and you can not refer to it anymore (imagine what element's ID has changed). </p>\n\n<p>Follow the code:</p>\n\n<pre><code>class TogglingPage {\n  @FindBy(...)\n  private WebElement btnTurnOff;\n\n  @FindBy(...)\n  private WebElement btnTurnOn;\n\n  TogglingPage turnOff() {\n    this.btnTurnOff.isDisplayed();  \n    this.btnTurnOff.click();          // when clicked, button should swap into btnTurnOn\n    this.btnTurnOn.isDisplayed();\n    this.btnTurnOn.click();           // when clicked, button should swap into btnTurnOff\n    this.btnTurnOff.isDisplayed();    // throws an exception\n    return new TogglingPage();\n  }\n}\n</code></pre>\n\n<p>Now, let us wonder why?</p>\n\n<ol>\n<li><code>btnTurnOff</code> was found by a driver - ok</li>\n<li><code>btnTurnOff</code> was replaced by <code>btnTurnOn</code> - ok</li>\n<li><code>btnTurnOn</code> was found by a driver. - ok</li>\n<li><code>btnTurnOn</code> was replaced by <code>btnTurnOff</code> - ok</li>\n<li>we call <code>this.btnTurnOff.isDisplayed();</code> on the element which does not exist anymore in Selenium sense - you can see it, it works perfectly, but it is a <strong>different instance of the same button</strong>. </li>\n</ol>\n\n<p>Possible fix:</p>\n\n<pre><code>  TogglingPage turnOff() {\n    this.btnTurnOff.isDisplayed();  \n    this.btnTurnOff.click();\n\n    TogglingPage newPage = new TogglingPage();\n    newPage.btnTurnOn.isDisplayed();\n    newPage.btnTurnOn.click();\n\n    TogglingPage newerPage = new TogglingPage();\n    newerPage.btnTurnOff.isDisplayed();    // ok\n    return newerPage;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5411777,"reputation":3825,"user_id":4308286,"accept_rate":62,"display_name":"Jamshaid K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563418065,"creation_date":1563418065,"answer_id":57086445,"question_id":18225997,"body_markdown":"In my case, I had a page where it was an `input type=&#39;date&#39;` whose reference I had got on page load, but When I tried to interact with it, it showed this `exception` and that was quite meaningful as `Javascript` had manipulated my control hence it was detached from the document and I had to `re-get` its reference after the javascript had performed its job with the control.\r\nSo, this is how my code looked before the exception:\r\n\r\n    if (elemDate != null)\r\n    { \r\n        elemDate.Clear(); \r\n        elemDate.SendKeys(model.Age);\r\n    }\r\n\r\nCode after the exception was raised:\r\n\r\n    int tries = 0;\r\n    do\r\n    {\r\n        try\r\n        {\r\n            tries++;\r\n            if (elemDate != null)\r\n            {\r\n                // these lines were causing the exception so I had break after these are successfully executed because if they are executed that means the control was found and attached to the document and we have taken the reference of it again.\r\n                elemDate.Clear();\r\n                elemDate.SendKeys(model.Age);\r\n                break;\r\n            }\r\n        }\r\n        catch (StaleElementReferenceException)\r\n        {\r\n            System.Threading.Thread.Sleep(10); // put minor fake delay so Javascript on page does its actions with controls\r\n            elemDate = driver.FindElement(By.Id(dateId));\r\n        }\r\n    } while (tries &lt; 3); // Try it three times.\r\n\r\nSo, Now you can perform further actions with your code or you can quit the driver if it was unsuccessful in getting the control to work.\r\n\r\n    if(tries &gt; 2)\r\n    {\r\n       // element was not found, find out what is causing the control detachment.\r\n       // driver.Quit();\r\n       return;\r\n    }\r\n  \r\n    // Hurray!! Control was attached and actions were performed.\r\n    // Do something with it...\r\n\r\n&gt; Something that I have learnt so far is, catching exceptions to know\r\n&gt; about successful code execution is not a good idea, But, I had to do\r\n&gt; it and I found this `work-around` to be working well in this case.\r\n\r\nPS: After writing all this, I just noticed the tags that this thread was for `java`. This code sample is just for demonstration purpose, It might help people who have issue in `C#` language. Or it can be easily translated to `java` as it doesn&#39;t have much `C#` specific code.","title":"stale element reference: element is not attached to the page document","body":"<p>In my case, I had a page where it was an <code>input type='date'</code> whose reference I had got on page load, but When I tried to interact with it, it showed this <code>exception</code> and that was quite meaningful as <code>Javascript</code> had manipulated my control hence it was detached from the document and I had to <code>re-get</code> its reference after the javascript had performed its job with the control.\nSo, this is how my code looked before the exception:</p>\n\n<pre><code>if (elemDate != null)\n{ \n    elemDate.Clear(); \n    elemDate.SendKeys(model.Age);\n}\n</code></pre>\n\n<p>Code after the exception was raised:</p>\n\n<pre><code>int tries = 0;\ndo\n{\n    try\n    {\n        tries++;\n        if (elemDate != null)\n        {\n            // these lines were causing the exception so I had break after these are successfully executed because if they are executed that means the control was found and attached to the document and we have taken the reference of it again.\n            elemDate.Clear();\n            elemDate.SendKeys(model.Age);\n            break;\n        }\n    }\n    catch (StaleElementReferenceException)\n    {\n        System.Threading.Thread.Sleep(10); // put minor fake delay so Javascript on page does its actions with controls\n        elemDate = driver.FindElement(By.Id(dateId));\n    }\n} while (tries &lt; 3); // Try it three times.\n</code></pre>\n\n<p>So, Now you can perform further actions with your code or you can quit the driver if it was unsuccessful in getting the control to work.</p>\n\n<pre><code>if(tries &gt; 2)\n{\n   // element was not found, find out what is causing the control detachment.\n   // driver.Quit();\n   return;\n}\n\n// Hurray!! Control was attached and actions were performed.\n// Do something with it...\n</code></pre>\n\n<blockquote>\n  <p>Something that I have learnt so far is, catching exceptions to know\n  about successful code execution is not a good idea, But, I had to do\n  it and I found this <code>work-around</code> to be working well in this case.</p>\n</blockquote>\n\n<p>PS: After writing all this, I just noticed the tags that this thread was for <code>java</code>. This code sample is just for demonstration purpose, It might help people who have issue in <code>C#</code> language. Or it can be easily translated to <code>java</code> as it doesn't have much <code>C#</code> specific code.</p>\n"},{"tags":[],"owner":{"account_id":12571826,"reputation":709,"user_id":9145674,"display_name":"k sarath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621580584,"creation_date":1621580584,"answer_id":67632222,"question_id":18225997,"body_markdown":"In my case, the locator I was using has multiple results thus it was unable to identify the right element to perform an action eventually exception was being thrown. \r\nSo having a locator which is unique, resolved my problem.","title":"stale element reference: element is not attached to the page document","body":"<p>In my case, the locator I was using has multiple results thus it was unable to identify the right element to perform an action eventually exception was being thrown.\nSo having a locator which is unique, resolved my problem.</p>\n"},{"tags":[],"owner":{"account_id":11226565,"reputation":71,"user_id":8236013,"display_name":"J.Orlando"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651559341,"creation_date":1651559341,"answer_id":72095541,"question_id":18225997,"body_markdown":"I had this issue several times. In one of my cases the accepted answer didn&#39;t solved my issue as for me the problem was that the center of the element was not clickable and the thrown exception is misleading &quot;stale element reference: element is not attached to the page document&quot;. \r\n\r\nFor me the fix was to scroll to the element to make sure the center of the element was clickable.\r\n\r\nTo do this I used the following code:\r\n\r\n    WebElement yourElement=\r\n                    driver.findElement(By.id(&quot;yourElementId&quot;));\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, yourElement);\r\n    yourElement.click();\r\n\r\nHope this helps!","title":"stale element reference: element is not attached to the page document","body":"<p>I had this issue several times. In one of my cases the accepted answer didn't solved my issue as for me the problem was that the center of the element was not clickable and the thrown exception is misleading &quot;stale element reference: element is not attached to the page document&quot;.</p>\n<p>For me the fix was to scroll to the element to make sure the center of the element was clickable.</p>\n<p>To do this I used the following code:</p>\n<pre><code>WebElement yourElement=\n                driver.findElement(By.id(&quot;yourElementId&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, yourElement);\nyourElement.click();\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":18268879,"reputation":25,"user_id":13300032,"display_name":"Robert Kovalauskis"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671458489,"creation_date":1671458489,"answer_id":74851546,"question_id":18225997,"body_markdown":"In my case the problem was resolved simply by a WAITER!\r\n\r\n     public void ClickOnButton()\r\n     {\r\n            Driver.WaitForPageUntilIWebElementIsClickable(Button);\r\n            Button.Click();\r\n     }","title":"stale element reference: element is not attached to the page document","body":"<p>In my case the problem was resolved simply by a WAITER!</p>\n<pre><code> public void ClickOnButton()\n {\n        Driver.WaitForPageUntilIWebElementIsClickable(Button);\n        Button.Click();\n }\n</code></pre>\n"}],"owner":{"account_id":1382259,"reputation":1901,"user_id":1315006,"accept_rate":0,"display_name":"Patil Prashanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699691,"favorite_count":0,"down_vote_count":0,"up_vote_count":177,"answer_count":15,"score":177,"last_activity_date":1674664429,"creation_date":1376466576,"question_id":18225997,"body_markdown":"I have list which has multiple links under each section. Each section has same links I need to click a particular link under each section. I have written the below code but when it executes it gives me `stale element reference: element is not attached to the page document` error.\r\n\r\nThis is my code:\r\n\r\n    public static void main(String[] args) throws InterruptedException \r\n\t{\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.navigate().to(&quot;url......&quot;);\r\n\t\t    driver.findElement(By.id(&quot;Login1_txtEmailID&quot;)).sendKeys(&quot;hourbank5@....com&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Login1_txtPassword&quot;)).sendKeys(&quot;Testing1*&quot;);\r\n\t\tdriver.findElement(By.id(&quot;Login1_btnLogin&quot;)).click();\r\n\t\tList&lt;WebElement&gt; LeftNavLinks=driver.findElements(By.xpath(&quot;//*[@id=&#39;sliding-navigation&#39;]//a&quot;));\r\n\t\tThread.sleep(1000);\r\n\t\tString ben=&quot;Benefit Status&quot;;\r\n\t\tString[] linkTexts = new String[LeftNavLinks.size()];\r\n\t\tint i = 0;\r\n\t\tfor (WebElement e : LeftNavLinks) \r\n\t\t{\t\r\n\t\t    linkTexts[i] = e.getText();\r\n\t\t    System.out.print(i+&quot; &quot; + linkTexts[i]+&quot;\\n&quot;);\r\n\t\t    if(linkTexts[i].equals(ben))\r\n\t\t\t{\r\n\t\t    \tString BenefitStatLi=&quot;//*[@id=&#39;sliding-navigation&#39;]/li[%s]/a&quot;;\r\n\t\t    \tSystem.out.print(i+&quot; &quot; + linkTexts[i]+&quot;\\n&quot;);\r\n\t\t\t\t    driver.findElement(By.xpath(String.format(BenefitStatLi,i))).click();\r\n\t\t\t\tdriver.findElement(By.xpath(&quot;//* [@id=&#39;divContentHolder&#39;]/div[1]/a[1]&quot;)).click();\r\n\t\t\t}\r\n\t\t    i++;\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nThis is the HTML structure is as below\r\n\r\n    &lt;div id=&quot;ucAdminMenu_divMenu&quot;&gt;\r\n      &lt;ul id=&quot;sliding-navigation&quot;&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Claims Status&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Eligibility Status&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;h3&gt;Section-1&lt;/h3&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Forms and Documents&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; HourBank.aspx?id=002&quot;&gt;Hour Bank&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;h3&gt;Section-2&lt;/h3&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Benefit Status&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Forms and Documents&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;h3&gt;Section-3&lt;/h3&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Forms and Documents&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;h3&gt;Testing Fund&lt;/h3&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Benefit Status&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;sliding-element&quot;&gt;\r\n          &lt;a href=&quot; &quot;&gt;Order ID Card&lt;/a&gt;\r\n        &lt;/li&gt;\r\n      &lt;/ul&gt;\r\n    &lt;/div&gt;\r\n\r\nThe Error Trace is: \r\n\r\n        Exception in thread &quot;main&quot; \r\n    org.openqa.selenium.StaleElementReferenceException: stale element \r\n    reference: element is not attached to the page document","title":"stale element reference: element is not attached to the page document","body":"<p>I have list which has multiple links under each section. Each section has same links I need to click a particular link under each section. I have written the below code but when it executes it gives me <code>stale element reference: element is not attached to the page document</code> error.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException \n{\n    WebDriver driver = new ChromeDriver();\n    driver.navigate().to(\"url......\");\n        driver.findElement(By.id(\"Login1_txtEmailID\")).sendKeys(\"hourbank5@....com\");\n    driver.findElement(By.id(\"Login1_txtPassword\")).sendKeys(\"Testing1*\");\n    driver.findElement(By.id(\"Login1_btnLogin\")).click();\n    List&lt;WebElement&gt; LeftNavLinks=driver.findElements(By.xpath(\"//*[@id='sliding-navigation']//a\"));\n    Thread.sleep(1000);\n    String ben=\"Benefit Status\";\n    String[] linkTexts = new String[LeftNavLinks.size()];\n    int i = 0;\n    for (WebElement e : LeftNavLinks) \n    {   \n        linkTexts[i] = e.getText();\n        System.out.print(i+\" \" + linkTexts[i]+\"\\n\");\n        if(linkTexts[i].equals(ben))\n        {\n            String BenefitStatLi=\"//*[@id='sliding-navigation']/li[%s]/a\";\n            System.out.print(i+\" \" + linkTexts[i]+\"\\n\");\n                driver.findElement(By.xpath(String.format(BenefitStatLi,i))).click();\n            driver.findElement(By.xpath(\"//* [@id='divContentHolder']/div[1]/a[1]\")).click();\n        }\n        i++;\n    }\n}\n\n}\n</code></pre>\n\n<p>This is the HTML structure is as below</p>\n\n<pre><code>&lt;div id=\"ucAdminMenu_divMenu\"&gt;\n  &lt;ul id=\"sliding-navigation\"&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Claims Status&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Eligibility Status&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;h3&gt;Section-1&lt;/h3&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Forms and Documents&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" HourBank.aspx?id=002\"&gt;Hour Bank&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;h3&gt;Section-2&lt;/h3&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Benefit Status&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Forms and Documents&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;h3&gt;Section-3&lt;/h3&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Forms and Documents&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;h3&gt;Testing Fund&lt;/h3&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Benefit Status&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"sliding-element\"&gt;\n      &lt;a href=\" \"&gt;Order ID Card&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The Error Trace is: </p>\n\n<pre><code>    Exception in thread \"main\" \norg.openqa.selenium.StaleElementReferenceException: stale element \nreference: element is not attached to the page document\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","keycloak"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1674664600,"post_id":75237048,"comment_id":132764132,"body_markdown":"Do you get any error message, stacktrace?","body":"Do you get any error message, stacktrace?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674680752,"post_id":75237048,"comment_id":132769083,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1675085142,"post_id":75237048,"comment_id":132846097,"body_markdown":"Are you using the default KeyCloak adapter for authentication?","body":"Are you using the default KeyCloak adapter for authentication?"}],"owner":{"account_id":15827237,"reputation":3,"user_id":11419727,"display_name":"Azamat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674664385,"creation_date":1674664385,"question_id":75237048,"body_markdown":"I have a problem.\r\nI have a project that consists of many services written on Spring boot framework, also they are all  using Keycloak. When keycloak is crashing and not available for example for 2-3 mins, and after time, when it becomes active and available my other services needs to be restarted. I think that not should be work like this. Services should reconnect automatically to Keycloak, but now they are not. \r\n\r\nI am using Spring Boot 2.5.0, and Keycloak 14.0.0.\r\n\r\nAny ideas, please!) \r\n\r\nI have searched in google, and documentation, but nothing found.","title":"Keycloak with Spring Boot","body":"<p>I have a problem.\nI have a project that consists of many services written on Spring boot framework, also they are all  using Keycloak. When keycloak is crashing and not available for example for 2-3 mins, and after time, when it becomes active and available my other services needs to be restarted. I think that not should be work like this. Services should reconnect automatically to Keycloak, but now they are not.</p>\n<p>I am using Spring Boot 2.5.0, and Keycloak 14.0.0.</p>\n<p>Any ideas, please!)</p>\n<p>I have searched in google, and documentation, but nothing found.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674666218,"post_id":75236985,"comment_id":132764727,"body_markdown":"You could always write one yourself if you really need it.","body":"You could always write one yourself if you really need it."}],"answers":[{"comments":[{"owner":{"account_id":9096979,"reputation":4448,"user_id":6770614,"display_name":"Boris Azanov"},"score":0,"creation_date":1674664435,"post_id":75237031,"comment_id":132764054,"body_markdown":"I think this is the most common way to validate something and throw an Exception in false case and it&#39;s very concise and clear","body":"I think this is the most common way to validate something and throw an Exception in false case and it&#39;s very concise and clear"},{"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"score":0,"creation_date":1674664452,"post_id":75237031,"comment_id":132764059,"body_markdown":"Absolutely nothing, but if you have handful of validations, too many ifs seems messy.","body":"Absolutely nothing, but if you have handful of validations, too many ifs seems messy."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674664507,"post_id":75237031,"comment_id":132764088,"body_markdown":"Just to dip in ahead of time: If the answer to the stated question is: &quot;Because my style guide forces me to 3-line that (with braces), and I find that a lot of code&quot;, the answer is: &quot;A style guide is just a tool. If the tool is not serving your needs, get rid of the tool and find a better one&quot;. i.e. update your style guide, this kind of style (braceless) is fine if the single statement is controlflow (throw, return, break, or continue).","body":"Just to dip in ahead of time: If the answer to the stated question is: &quot;Because my style guide forces me to 3-line that (with braces), and I find that a lot of code&quot;, the answer is: &quot;A style guide is just a tool. If the tool is not serving your needs, get rid of the tool and find a better one&quot;. i.e. update your style guide, this kind of style (braceless) is fine if the single statement is controlflow (throw, return, break, or continue)."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674664549,"post_id":75237031,"comment_id":132764106,"body_markdown":"&#39;too many ifs seems messy&#39; doesn&#39;t make much sense. It&#39;s less code and fewer AST nodes than your `Optional` example. It&#39;s __less__ messy. The fact that you think its more messy probably means your definition of &#39;messy&#39; is unwieldy.","body":"&#39;too many ifs seems messy&#39; doesn&#39;t make much sense. It&#39;s less code and fewer AST nodes than your <code>Optional</code> example. It&#39;s <b>less</b> messy. The fact that you think its more messy probably means your definition of &#39;messy&#39; is unwieldy."},{"owner":{"account_id":9096979,"reputation":4448,"user_id":6770614,"display_name":"Boris Azanov"},"score":0,"creation_date":1674664620,"post_id":75237031,"comment_id":132764138,"body_markdown":"@rahuls maybe you should start your question from the original problem, I suppose it could be: &quot;the more elegant way for many checks composition?&quot;","body":"@rahuls maybe you should start your question from the original problem, I suppose it could be: &quot;the more elegant way for many checks composition?&quot;"},{"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"score":1,"creation_date":1674665737,"post_id":75237031,"comment_id":132764577,"body_markdown":"you can always create the method with this if and throw, and then just call it","body":"you can always create the method with this if and throw, and then just call it"}],"tags":[],"owner":{"account_id":4394,"reputation":47462,"user_id":6568,"display_name":"Dave Costa"},"comment_count":6,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1674664314,"creation_date":1674664314,"answer_id":75237031,"question_id":75236985,"body_markdown":"What&#39;s wrong with:\r\n\r\n    if (!myFalseReturningMethod) throw new ValidationException(&quot;Check request&quot;);\r\n\r\n","title":"Is there any boolean true or throw error helper method in java","body":"<p>What's wrong with:</p>\n<pre><code>if (!myFalseReturningMethod) throw new ValidationException(&quot;Check request&quot;);\n</code></pre>\n"}],"owner":{"account_id":887484,"reputation":784,"user_id":926572,"accept_rate":50,"display_name":"sonic boom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1674664314,"creation_date":1674664106,"question_id":75236985,"body_markdown":"In Java 8+, is there any helper method which checks if boolean statement is TRUE, ok, otherwise, throw specified error.\r\n\r\nSomething like:\r\n\r\n    Optional.of(myFalseReturningMethod).orElseThrow(() -&gt; new ValidationException(&quot;Check request&quot;));","title":"Is there any boolean true or throw error helper method in java","body":"<p>In Java 8+, is there any helper method which checks if boolean statement is TRUE, ok, otherwise, throw specified error.</p>\n<p>Something like:</p>\n<pre><code>Optional.of(myFalseReturningMethod).orElseThrow(() -&gt; new ValidationException(&quot;Check request&quot;));\n</code></pre>\n"},{"tags":["java","maven","swing","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1674144480,"post_id":75173571,"comment_id":132656541,"body_markdown":"The module is called `javafx.swing`, not `javafx.embed.swing`.","body":"The module is called <code>javafx.swing</code>, not <code>javafx.embed.swing</code>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1674204211,"post_id":75173571,"comment_id":132668068,"body_markdown":"Don’t use `ea` version software.  Use a recent stable release, not an obsolete early access release.  For JavaFX, that is currently `19.0.2`.  And don’t mix versions of JavaFX software, use the exact same version for all JavaFX dependencies.","body":"Don’t use <code>ea</code> version software.  Use a recent stable release, not an obsolete early access release.  For JavaFX, that is currently <code>19.0.2</code>.  And don’t mix versions of JavaFX software, use the exact same version for all JavaFX dependencies."}],"answers":[{"comments":[{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1674140103,"post_id":75174089,"comment_id":132654929,"body_markdown":"but how i do that? i put requires the package and says it does exist.","body":"but how i do that? i put requires the package and says it does exist."},{"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"score":0,"creation_date":1674140435,"post_id":75174089,"comment_id":132655057,"body_markdown":"i dont have problems with JavaFX just with that particular class","body":"i dont have problems with JavaFX just with that particular class"},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1674140641,"post_id":75174089,"comment_id":132655126,"body_markdown":"You may have messed up your setup already. E.g., remove the explicit classifier handling. It is not needed.","body":"You may have messed up your setup already. E.g., remove the explicit classifier handling. It is not needed."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1674143922,"post_id":75174089,"comment_id":132656338,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1674139727,"creation_date":1674139727,"answer_id":75174089,"question_id":75173571,"body_markdown":"Just declaring a Maven dependency is simply not enough. You also have to make the Java module system happy. You have to declare this additional dependency in your module-info.java file of your project too. Javas module system knows nothing about Maven dependencies.","title":"package javafx.embed.swing is not visible maven JDK 17","body":"<p>Just declaring a Maven dependency is simply not enough. You also have to make the Java module system happy. You have to declare this additional dependency in your module-info.java file of your project too. Javas module system knows nothing about Maven dependencies.</p>\n"}],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674139903,"answer_count":1,"score":0,"last_activity_date":1674664151,"creation_date":1674137498,"question_id":75173571,"body_markdown":"I am new to Maven. I need to include \r\n\r\n    private javafx.embed.swing.JFXPanel jFXPanel1;\r\n\r\nTo a new project with uses Maven + Jigsaw modules.\r\n\r\nI have the following problem with `javafx.embed.swing` package.\r\n\r\n[![Problem][1]][1]\r\n\r\nI thought that adding this dependency would work, but it does not.\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n    &lt;version&gt;19&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOn clean install, I see the following\r\n\r\n&gt; (package javafx.embed.swing is declared in the unnamed module, but module com.my.module does not read it)\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t understand this. I see that JAR, it only has a manifest file, and no `.class` files, which confuses me even more.\r\n\r\nIf I look in the m2 folder, I see a different JAR with the same prefix, but with `win` suffix and there I see the package.\r\n\r\nI think this is the classifier\r\n\r\n```xml\r\n&lt;classifier&gt;${javafx.platform}&lt;/classifier&gt;\r\n```\r\n\r\nAnd I think, but I don&#39;t know, if this jar is being picked by Maven or not, but it seems it is not, because I don&#39;t see it in the IntelliK libraries.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n[![enter image description here][6]][6] \r\n\r\nI don&#39;t have any problem with JavaFX, everything is modular out there and is working. I have the problem only with this jar.\r\n\r\n***-----------------------------UPDATE-----------------------------------***\r\n\r\nThe culprit here was IntellijIdea i did click on **File-&gt;Invalidate caches** later restart it. Later i could see the dependency loaded.\r\n\r\n[![Dependency loaded.][7]][7]\r\n\r\nLater i could add the module\r\n[![Added module][8]][8]\r\n\r\n[![dependency loaded.][9]][9]\r\n\r\nAnd i can see now the dependency and that&#39;s it. Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h8MeT.png\r\n  [2]: https://i.stack.imgur.com/dK0j2.png\r\n  [3]: https://i.stack.imgur.com/oA3IN.png\r\n  [4]: https://i.stack.imgur.com/MZtLL.png\r\n  [5]: https://i.stack.imgur.com/has6u.png\r\n  [6]: https://i.stack.imgur.com/Pvfb3.png\r\n  [7]: https://i.stack.imgur.com/s4rcl.png\r\n  [8]: https://i.stack.imgur.com/fSGsV.png\r\n  [9]: https://i.stack.imgur.com/Ok9VD.png","title":"package javafx.embed.swing is not visible maven JDK 17","body":"<p>I am new to Maven. I need to include</p>\n<pre><code>private javafx.embed.swing.JFXPanel jFXPanel1;\n</code></pre>\n<p>To a new project with uses Maven + Jigsaw modules.</p>\n<p>I have the following problem with <code>javafx.embed.swing</code> package.</p>\n<p><a href=\"https://i.stack.imgur.com/h8MeT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8MeT.png\" alt=\"Problem\" /></a></p>\n<p>I thought that adding this dependency would work, but it does not.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.openjfx/javafx-swing --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n    &lt;version&gt;19&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>On clean install, I see the following</p>\n<blockquote>\n<p>(package javafx.embed.swing is declared in the unnamed module, but module com.my.module does not read it)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/dK0j2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dK0j2.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't understand this. I see that JAR, it only has a manifest file, and no <code>.class</code> files, which confuses me even more.</p>\n<p>If I look in the m2 folder, I see a different JAR with the same prefix, but with <code>win</code> suffix and there I see the package.</p>\n<p>I think this is the classifier</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;classifier&gt;${javafx.platform}&lt;/classifier&gt;\n</code></pre>\n<p>And I think, but I don't know, if this jar is being picked by Maven or not, but it seems it is not, because I don't see it in the IntelliK libraries.</p>\n<p><a href=\"https://i.stack.imgur.com/oA3IN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oA3IN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MZtLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZtLL.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/has6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/has6u.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Pvfb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pvfb3.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't have any problem with JavaFX, everything is modular out there and is working. I have the problem only with this jar.</p>\n<p><em><strong>-----------------------------UPDATE-----------------------------------</strong></em></p>\n<p>The culprit here was IntellijIdea i did click on <strong>File-&gt;Invalidate caches</strong> later restart it. Later i could see the dependency loaded.</p>\n<p><a href=\"https://i.stack.imgur.com/s4rcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4rcl.png\" alt=\"Dependency loaded.\" /></a></p>\n<p>Later i could add the module\n<a href=\"https://i.stack.imgur.com/fSGsV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fSGsV.png\" alt=\"Added module\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Ok9VD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ok9VD.png\" alt=\"dependency loaded.\" /></a></p>\n<p>And i can see now the dependency and that's it. Thanks.</p>\n"},{"tags":["java","wildfly","log4j2"],"answers":[{"comments":[{"owner":{"account_id":14054496,"reputation":11,"user_id":10152273,"display_name":"vapan"},"score":0,"creation_date":1674728377,"post_id":75236979,"comment_id":132777396,"body_markdown":"I added but i can&#39;t see a file in my project with logs. If i go to wildfly server and open the server.log i can view wildfly and log4j2 logs that have been executed. For example i can see a log that i have added when i delete a property:\n&quot;2023-01-26 11:55:08,629 INFO  [com.mycompany.webtechnikonproject.services.impl.OwnerServiceImpl] (default task-1) Deleting property with id: 1&quot;\n\nBut this log is not saved in a file. Thats what i m trying to do","body":"I added but i can&#39;t see a file in my project with logs. If i go to wildfly server and open the server.log i can view wildfly and log4j2 logs that have been executed. For example i can see a log that i have added when i delete a property: &quot;2023-01-26 11:55:08,629 INFO  [com.mycompany.webtechnikonproject.services.impl.OwnerServic&zwnj;&#8203;eImpl] (default task-1) Deleting property with id: 1&quot;  But this log is not saved in a file. Thats what i m trying to do"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1674752115,"post_id":75236979,"comment_id":132785360,"body_markdown":"Is this an EAR or WAR? Are you using a log4j 2 logger?","body":"Is this an EAR or WAR? Are you using a log4j 2 logger?"},{"owner":{"account_id":14054496,"reputation":11,"user_id":10152273,"display_name":"vapan"},"score":0,"creation_date":1674753701,"post_id":75236979,"comment_id":132785888,"body_markdown":"It is WAR. I use log4j2 for my logs","body":"It is WAR. I use log4j2 for my logs"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1674829745,"post_id":75236979,"comment_id":132802560,"body_markdown":"If you&#39;re seeing the logs in the `server.log` then it seems like your configuration is not being picked up. For a WAR the `jboss-deployment-structure.xml` should be in the `WEB-INF` directory.","body":"If you&#39;re seeing the logs in the <code>server.log</code> then it seems like your configuration is not being picked up. For a WAR the <code>jboss-deployment-structure.xml</code> should be in the <code>WEB-INF</code> directory."}],"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674664078,"creation_date":1674664078,"answer_id":75236979,"question_id":75234385,"body_markdown":"You also need to exclude the `org.apache.logging.log4j.api` or simply just exclude the `logging` subsystem.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jboss-deployment-structure&gt;\r\n        &lt;deployment&gt;\r\n            &lt;exclude-subsystem&gt;\r\n                &lt;subsystem name=&quot;logging&quot;/&gt;\r\n            &lt;/exclude-subsystem&gt;\r\n        &lt;/deployment&gt;\r\n    &lt;/jboss-deployment-structure&gt;\r\n\r\nThis would skip all the logging dependencies from being added to your deployment.\r\n\r\n","title":"How to turn off wildfly server logs and enable log4j2","body":"<p>You also need to exclude the <code>org.apache.logging.log4j.api</code> or simply just exclude the <code>logging</code> subsystem.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;exclude-subsystem&gt;\n            &lt;subsystem name=&quot;logging&quot;/&gt;\n        &lt;/exclude-subsystem&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>This would skip all the logging dependencies from being added to your deployment.</p>\n"}],"owner":{"account_id":14054496,"reputation":11,"user_id":10152273,"display_name":"vapan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674664078,"creation_date":1674651865,"question_id":75234385,"body_markdown":"I have made a web application using jakarta and wildfly server. My problem is that i have put loggers in some cases and when i call these methods i can&#39;t see them in a file. For example i have this method:\r\n\r\n```\r\n@Override\r\n    public PropertyOwnerDto updateEmail(int id, String email) {\r\n        try {\r\n            PropertyOwner propertyOwner = propertyOwnerRepository.read(id);\r\n            propertyOwner.setEmail(email);\r\n            propertyOwnerRepository.create(propertyOwner);\r\n            logger.info(&quot;Changing e-mail of owner with id: &quot; + id + &quot;to :&quot; + email);\r\n            return new PropertyOwnerDto(propertyOwner);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Not found&quot;);\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nIn which you can see i have 2 loggers. When i make a call with postman to change the email, the email will change but i cant see a log to inform me. I have the correct imports:\r\n\r\n*import org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;*\r\n\r\nand the correct dependencies:\r\n\r\n \r\n```\r\n  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\nAlso i made a log4j2.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n  &lt;Appenders&gt;\r\n    &lt;File name=&quot;MyFile&quot; fileName=&quot;logs/mylogfile.log&quot;&gt;\r\n      &lt;PatternLayout pattern=&quot;%d %p %C{1.} [%t] %m%n&quot;/&gt;\r\n    &lt;/File&gt;\r\n  &lt;/Appenders&gt;\r\n  &lt;Loggers&gt;\r\n    &lt;Root level=&quot;info&quot;&gt;\r\n      &lt;AppenderRef ref=&quot;MyFile&quot;/&gt;\r\n    &lt;/Root&gt;\r\n  &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n\r\n```\r\n\r\n\r\nand i made also a jboss-logging.properties to turn off the logs from wildfly server:\r\n\r\n`# Root logger option\r\nlogger.level=OFF`\r\n\r\nThe only logs i can see in &quot;mylogfile.log&quot; is when i build the project, i have some methods in which i read some properties from csv files. These logs are visible in my file:\r\n\r\n    2023-01-25 14:43:14,605 INFO c.m.w.s.i.IoServiceImpl [main] The csv file property.csv has been read \r\n    2023-01-25 14:43:14,610 INFO c.m.w.s.i.IoServiceImpl [main] The csv file owners.csv has been read \r\n    2023-01-25 14:43:14,611 INFO c.m.w.s.i.IoServiceImpl [main] The csv file repairs.csv has been read\r\n\r\nOne method from these is this:\r\n\r\n```\r\n @Override\r\n    public List&lt;String[]&gt; readCsvFile(String fileName) {\r\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n        BufferedReader br;\r\n        try {\r\n            br = new BufferedReader(new FileReader(fileName));\r\n            String str;\r\n            while ((str = br.readLine()) != null) {\r\n                list.add(str.split(&quot;,&quot;));\r\n            }\r\n            logger.info(&quot;The csv file {} has been read &quot;, fileName);\r\n        } catch (Exception ex) {\r\n            System.out.println(ex.getMessage());\r\n            return null;\r\n        }\r\n        return list;\r\n    }\r\n\r\n```\r\nMy question is how i can save every log i have in this file? For example if i make a http request when the application is running  to update the email as the method above, how i can save this log which has the level of INFO or ERROR in the file?\r\n\r\n\r\nI have created also in META-INF a xml which is called jboss-deployment-structure.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jboss-deployment-structure&gt;\r\n    &lt;deployment&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\r\n            &lt;module name=&quot;org.apache.log4j&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.logging.jul-to-slf4j-stub&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.logmanager&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.logmanager.log4j&quot; /&gt;\r\n            &lt;module name=&quot;org.slf4j&quot; /&gt;\r\n            &lt;module name=&quot;org.slf4j.impl&quot; /&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/deployment&gt;\r\n&lt;/jboss-deployment-structure&gt;\r\n```\r\n\r\n\r\ni tried to disable wildflyserver i said with jboss-logging.properties and i added the jboss-deployment-structure.xml which does not work`","title":"How to turn off wildfly server logs and enable log4j2","body":"<p>I have made a web application using jakarta and wildfly server. My problem is that i have put loggers in some cases and when i call these methods i can't see them in a file. For example i have this method:</p>\n<pre><code>@Override\n    public PropertyOwnerDto updateEmail(int id, String email) {\n        try {\n            PropertyOwner propertyOwner = propertyOwnerRepository.read(id);\n            propertyOwner.setEmail(email);\n            propertyOwnerRepository.create(propertyOwner);\n            logger.info(&quot;Changing e-mail of owner with id: &quot; + id + &quot;to :&quot; + email);\n            return new PropertyOwnerDto(propertyOwner);\n        } catch (Exception e) {\n            logger.error(&quot;Not found&quot;);\n        }\n        return null;\n    }\n</code></pre>\n<p>In which you can see i have 2 loggers. When i make a call with postman to change the email, the email will change but i cant see a log to inform me. I have the correct imports:</p>\n<p><em>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;</em></p>\n<p>and the correct dependencies:</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Also i made a log4j2.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n  &lt;Appenders&gt;\n    &lt;File name=&quot;MyFile&quot; fileName=&quot;logs/mylogfile.log&quot;&gt;\n      &lt;PatternLayout pattern=&quot;%d %p %C{1.} [%t] %m%n&quot;/&gt;\n    &lt;/File&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n      &lt;AppenderRef ref=&quot;MyFile&quot;/&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n\n</code></pre>\n<p>and i made also a jboss-logging.properties to turn off the logs from wildfly server:</p>\n<p><code># Root logger option logger.level=OFF</code></p>\n<p>The only logs i can see in &quot;mylogfile.log&quot; is when i build the project, i have some methods in which i read some properties from csv files. These logs are visible in my file:</p>\n<pre><code>2023-01-25 14:43:14,605 INFO c.m.w.s.i.IoServiceImpl [main] The csv file property.csv has been read \n2023-01-25 14:43:14,610 INFO c.m.w.s.i.IoServiceImpl [main] The csv file owners.csv has been read \n2023-01-25 14:43:14,611 INFO c.m.w.s.i.IoServiceImpl [main] The csv file repairs.csv has been read\n</code></pre>\n<p>One method from these is this:</p>\n<pre><code> @Override\n    public List&lt;String[]&gt; readCsvFile(String fileName) {\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\n        BufferedReader br;\n        try {\n            br = new BufferedReader(new FileReader(fileName));\n            String str;\n            while ((str = br.readLine()) != null) {\n                list.add(str.split(&quot;,&quot;));\n            }\n            logger.info(&quot;The csv file {} has been read &quot;, fileName);\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n            return null;\n        }\n        return list;\n    }\n\n</code></pre>\n<p>My question is how i can save every log i have in this file? For example if i make a http request when the application is running  to update the email as the method above, how i can save this log which has the level of INFO or ERROR in the file?</p>\n<p>I have created also in META-INF a xml which is called jboss-deployment-structure.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;exclusions&gt;\n            &lt;module name=&quot;org.apache.commons.logging&quot; /&gt;\n            &lt;module name=&quot;org.apache.log4j&quot; /&gt;\n            &lt;module name=&quot;org.jboss.logging&quot; /&gt;\n            &lt;module name=&quot;org.jboss.logging.jul-to-slf4j-stub&quot; /&gt;\n            &lt;module name=&quot;org.jboss.logmanager&quot; /&gt;\n            &lt;module name=&quot;org.jboss.logmanager.log4j&quot; /&gt;\n            &lt;module name=&quot;org.slf4j&quot; /&gt;\n            &lt;module name=&quot;org.slf4j.impl&quot; /&gt;\n        &lt;/exclusions&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n<p>i tried to disable wildflyserver i said with jboss-logging.properties and i added the jboss-deployment-structure.xml which does not work`</p>\n"},{"tags":["java","android","motionevent","android-touch-event"],"comments":[{"owner":{"account_id":8263558,"reputation":102,"user_id":6423246,"display_name":"Danny E.K. van der Kolk"},"score":0,"creation_date":1678210495,"post_id":75236963,"comment_id":133487873,"body_markdown":"My solution would be to overlay two transparent views, each for half of the screen, and register the touch events on those views.","body":"My solution would be to overlay two transparent views, each for half of the screen, and register the touch events on those views."}],"owner":{"account_id":23992610,"reputation":1,"user_id":17978513,"display_name":"nessel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674664016,"creation_date":1674664016,"question_id":75236963,"body_markdown":"So I&#39;m trying to build a pong-like game to be played on an Android phone. I want the controls to behave so that only one touch is registered for either screen half and that both players can move their paddles independently. I&#39;ve tried everything, but I can&#39;t get two paddles to move at once. Once the first finger is down, any other touches are discarded. How can I get the information about which paddle moved and how to handle the case where two touch pointers are moved at the same time? \r\n\r\n``` lang-java\r\n/** Pointer ID registered for bottom player. */\r\nprivate int ownId = -1;\r\n/** Pointer ID registered for top player. */\r\nprivate int otherId = -1;\r\n/** Holds the position where the bottom player first touched the screen.\r\n * Subsequent movements are relative to that position. */\r\nprivate float ownTouchOrigin;\r\n/** Holds the position where the top user player touched the screen.\r\n * Subsequent movements are relative to that position. */\r\nprivate float ownPaddleOrigin;\r\n/** Holds the position where the bottom paddle was when the ACTION_DOWN event occurred.\r\n * Subsequent movements are relative to that position. */\r\nprivate float otherTouchOrigin;\r\n/** Holds the position where the top paddle was when the ACTION_DOWN event occurred.\r\n * Subsequent movements are relative to that position. */\r\nprivate float otherPaddleOrigin;\r\n\r\n@Override\r\npublic boolean onTouchEvent(MotionEvent e) {\r\n    /*for (int i = 0; i &lt; e.getPointerCount(); i++) {\r\n        String actionString = actionToString(e.getActionMasked());\r\n        Log.d(&quot;GameActivity&quot;, String.format(&quot;Action %s at index %d with ID %d&quot;, actionString, i, e.getPointerId(i)));\r\n    }*/\r\n\r\n    for (int i = 0; i &lt; e.getPointerCount(); i++) {\r\n        if (i == e.getActionIndex()) {\r\n            int action = e.getActionMasked();\r\n            // set new pointer if no pointer was assigned to the top/bottom position\r\n            if (action == MotionEvent.ACTION_POINTER_DOWN || action == MotionEvent.ACTION_DOWN) {\r\n                if (ownId == -1 &amp;&amp; e.getY(i) &gt; 0.45f * h) {\r\n                    ownId = e.getPointerId(i);\r\n                    ownTouchOrigin = e.getX(i);\r\n                    ownPaddleOrigin = gameState.ownPaddleX;\r\n                } else if (otherId == -1 &amp;&amp; e.getY(i) &lt; 0.45f * h) {\r\n                    otherId = e.getPointerId(i);\r\n                    otherTouchOrigin = e.getX(i);\r\n                    otherPaddleOrigin = gameState.otherPaddleX;\r\n                }\r\n            // reset top/bottom pointer ID\r\n            } else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_POINTER_UP) {\r\n                if (e.getPointerId(i) == ownId) {\r\n                    ownId = -1;\r\n                } else if (e.getPointerId(i) == otherId) {\r\n                    otherId = -1;\r\n                }\r\n            // move paddle according to finger offset. this works but only for the first finger touching\r\n            } else if (action == MotionEvent.ACTION_MOVE) {\r\n                if (e.getPointerId(i) == ownId) {\r\n                    float offset = (ownTouchOrigin - e.getX(i)) * 1.8f;\r\n                    gameState.setPaddlePos(ownPaddleOrigin - (offset / width), 1f);\r\n                } else if (e.getPointerId(i) == otherId) {\r\n                    float offset = (otherTouchOrigin - e.getX(i)) * 1.8f;\r\n                    gameState.setPaddlePos(otherPaddleOrigin - (offset / width), 0f);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI tried to make to pong paddles controllable separately on an Android phone&#39;s screen but only one of them will move. The other touches are discarded.","title":"How to register to separate Android MotionEvents?","body":"<p>So I'm trying to build a pong-like game to be played on an Android phone. I want the controls to behave so that only one touch is registered for either screen half and that both players can move their paddles independently. I've tried everything, but I can't get two paddles to move at once. Once the first finger is down, any other touches are discarded. How can I get the information about which paddle moved and how to handle the case where two touch pointers are moved at the same time?</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Pointer ID registered for bottom player. */\nprivate int ownId = -1;\n/** Pointer ID registered for top player. */\nprivate int otherId = -1;\n/** Holds the position where the bottom player first touched the screen.\n * Subsequent movements are relative to that position. */\nprivate float ownTouchOrigin;\n/** Holds the position where the top user player touched the screen.\n * Subsequent movements are relative to that position. */\nprivate float ownPaddleOrigin;\n/** Holds the position where the bottom paddle was when the ACTION_DOWN event occurred.\n * Subsequent movements are relative to that position. */\nprivate float otherTouchOrigin;\n/** Holds the position where the top paddle was when the ACTION_DOWN event occurred.\n * Subsequent movements are relative to that position. */\nprivate float otherPaddleOrigin;\n\n@Override\npublic boolean onTouchEvent(MotionEvent e) {\n    /*for (int i = 0; i &lt; e.getPointerCount(); i++) {\n        String actionString = actionToString(e.getActionMasked());\n        Log.d(&quot;GameActivity&quot;, String.format(&quot;Action %s at index %d with ID %d&quot;, actionString, i, e.getPointerId(i)));\n    }*/\n\n    for (int i = 0; i &lt; e.getPointerCount(); i++) {\n        if (i == e.getActionIndex()) {\n            int action = e.getActionMasked();\n            // set new pointer if no pointer was assigned to the top/bottom position\n            if (action == MotionEvent.ACTION_POINTER_DOWN || action == MotionEvent.ACTION_DOWN) {\n                if (ownId == -1 &amp;&amp; e.getY(i) &gt; 0.45f * h) {\n                    ownId = e.getPointerId(i);\n                    ownTouchOrigin = e.getX(i);\n                    ownPaddleOrigin = gameState.ownPaddleX;\n                } else if (otherId == -1 &amp;&amp; e.getY(i) &lt; 0.45f * h) {\n                    otherId = e.getPointerId(i);\n                    otherTouchOrigin = e.getX(i);\n                    otherPaddleOrigin = gameState.otherPaddleX;\n                }\n            // reset top/bottom pointer ID\n            } else if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_POINTER_UP) {\n                if (e.getPointerId(i) == ownId) {\n                    ownId = -1;\n                } else if (e.getPointerId(i) == otherId) {\n                    otherId = -1;\n                }\n            // move paddle according to finger offset. this works but only for the first finger touching\n            } else if (action == MotionEvent.ACTION_MOVE) {\n                if (e.getPointerId(i) == ownId) {\n                    float offset = (ownTouchOrigin - e.getX(i)) * 1.8f;\n                    gameState.setPaddlePos(ownPaddleOrigin - (offset / width), 1f);\n                } else if (e.getPointerId(i) == otherId) {\n                    float offset = (otherTouchOrigin - e.getX(i)) * 1.8f;\n                    gameState.setPaddlePos(otherPaddleOrigin - (offset / width), 0f);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I tried to make to pong paddles controllable separately on an Android phone's screen but only one of them will move. The other touches are discarded.</p>\n"},{"tags":["java","micro-optimization"],"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1606613276,"post_id":65055988,"comment_id":115013590,"body_markdown":"String `next()` could maybe benefit from looking at the IO buffer directly and calling a Java builtin function to scan for the next char &gt;= `&#39; &#39;`, if there is one.  I expect that will JIT compile into a byte-at-a-time loop, but could go 16x as fast with SIMD if there are long runs of whitespace / control characters. Similarly for finding the range of non-whitespace bytes and copying it into a String; that could avoid StringBuilder, and (in the optimistic case where the end is found before the end of the input buffer) avoid saving a partially-constructed String / StringBuilder during an IO call","body":"String <code>next()</code> could maybe benefit from looking at the IO buffer directly and calling a Java builtin function to scan for the next char &gt;= <code>&#39; &#39;</code>, if there is one.  I expect that will JIT compile into a byte-at-a-time loop, but could go 16x as fast with SIMD if there are long runs of whitespace / control characters. Similarly for finding the range of non-whitespace bytes and copying it into a String; that could avoid StringBuilder, and (in the optimistic case where the end is found before the end of the input buffer) avoid saving a partially-constructed String / StringBuilder during an IO call"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1606613365,"post_id":65055988,"comment_id":115013603,"body_markdown":"Have you profiled to find out where it spends most of its CPU time?  Presumably in the recursive `solve()`, so micro-optimizing the IO would probably be negligible.","body":"Have you profiled to find out where it spends most of its CPU time?  Presumably in the recursive <code>solve()</code>, so micro-optimizing the IO would probably be negligible."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1606617692,"post_id":65055988,"comment_id":115014217,"body_markdown":"What is the format of the data you&#39;re reading?  Is it just the string of 48 characters in a file?  If so, why is 60% of your code just for reading a String from a file that can only contain combinations of ASCII characters?  I compared your FastIO class against the FileInputStream class, doing 1000 reps of reading randomly generated strings of 48 characters from a file, and FileInputStream was better than 3x faster than your class.  So if that&#39;s part of what&#39;s being timed, maybe you can just replace your FastIO class with FileInputStream and you&#39;ll be done.","body":"What is the format of the data you&#39;re reading?  Is it just the string of 48 characters in a file?  If so, why is 60% of your code just for reading a String from a file that can only contain combinations of ASCII characters?  I compared your FastIO class against the FileInputStream class, doing 1000 reps of reading randomly generated strings of 48 characters from a file, and FileInputStream was better than 3x faster than your class.  So if that&#39;s part of what&#39;s being timed, maybe you can just replace your FastIO class with FileInputStream and you&#39;ll be done."},{"owner":{"account_id":4835608,"reputation":415,"user_id":11391560,"display_name":"Krish"},"score":0,"creation_date":1606618625,"post_id":65055988,"comment_id":115014339,"body_markdown":"@Steve The IO was just part of a template. According to multiple sources, this is the one of the fastest ways to get IO available currently for Java. But for some reason, I just switched it to BufferedReader and I was able to submit everything within the time limit. This doesn&#39;t make a lot of sense as on questions such as https://www.spoj.com/problems/INTEST/ , they have a large amount of input (around  10^7 different integers), and this FastIO was able to complete it in around .3 seconds while just using BufferedReader was about .65 seconds.","body":"@Steve The IO was just part of a template. According to multiple sources, this is the one of the fastest ways to get IO available currently for Java. But for some reason, I just switched it to BufferedReader and I was able to submit everything within the time limit. This doesn&#39;t make a lot of sense as on questions such as <a href=\"https://www.spoj.com/problems/INTEST/\" rel=\"nofollow noreferrer\">spoj.com/problems/INTEST</a> , they have a large amount of input (around  10^7 different integers), and this FastIO was able to complete it in around .3 seconds while just using BufferedReader was about .65 seconds."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1606621982,"post_id":65055988,"comment_id":115014772,"body_markdown":"@Krish: I&#39;m not surprised those I/O functions are good for *large* input streams, where it doesn&#39;t all fit in one buffer (especially for integers but maybe not so much for string words). But you have a different case, where the input is small and does fit in a single input buffer, right? And would probably fit in whatever internal buffer standard Java IO classes use.  If most of your CPU time is *not* I/O, IDK why this would make a big difference, but it should be obvious that a piece of code can be fast or slow for different use-cases. Did the fast test-case you looked at mostly read numbers?","body":"@Krish: I&#39;m not surprised those I/O functions are good for <i>large</i> input streams, where it doesn&#39;t all fit in one buffer (especially for integers but maybe not so much for string words). But you have a different case, where the input is small and does fit in a single input buffer, right? And would probably fit in whatever internal buffer standard Java IO classes use.  If most of your CPU time is <i>not</i> I/O, IDK why this would make a big difference, but it should be obvious that a piece of code can be fast or slow for different use-cases. Did the fast test-case you looked at mostly read numbers?"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1606621991,"creation_date":1606620828,"answer_id":65056760,"question_id":65055988,"body_markdown":"I&#39;ve been playing around with this.  In addition to using a standard mechanism for reading the input file (which I suggested in a comment), you can gain a little time in the search alg itself by doing two things:\r\n\r\n1) Break the case `board[steps] == &#39;?&#39;` off from the other cases.  So check for `board[steps] == &#39;?&#39;` first, and just try all four directions in that case.  Otherwise (the `else` case for `if (board[steps] == &#39;?&#39;)`, just check for U/D/L/R.  Since for most steps, the character will be &#39;?&#39;, you save having to make the U/D/L/R tests most of the time.\r\n\r\n2) Look up the character to be tested once, with `c = board[steps]`,and then use `c` in each test instead of `board[steps]`.\r\n\r\nDoing these two things saved about 5% it seems.  I was doing 100 reps of the solve and timing with `System.currentTimeMillis()`.  I know there are more accurate ways of timing, but this was good enough to see a definite improvement even though the times jumped around quite a bit trial to trial.  The best I ever saw in each case was 3600 millis for 100 iterations as originally written vs 3400 millis with the improvements.\r\n\r\nMy guess is that it&#39;s mostly the first change that matters.  I&#39;d expect the compiler to be doing the second already, but I didn&#39;t try the two optimizations independently.","title":"Are there any efficient micro-optimizations to find the number of unique grid paths?","body":"<p>I've been playing around with this.  In addition to using a standard mechanism for reading the input file (which I suggested in a comment), you can gain a little time in the search alg itself by doing two things:</p>\n<ol>\n<li><p>Break the case <code>board[steps] == '?'</code> off from the other cases.  So check for <code>board[steps] == '?'</code> first, and just try all four directions in that case.  Otherwise (the <code>else</code> case for <code>if (board[steps] == '?')</code>, just check for U/D/L/R.  Since for most steps, the character will be '?', you save having to make the U/D/L/R tests most of the time.</p>\n</li>\n<li><p>Look up the character to be tested once, with <code>c = board[steps]</code>,and then use <code>c</code> in each test instead of <code>board[steps]</code>.</p>\n</li>\n</ol>\n<p>Doing these two things saved about 5% it seems.  I was doing 100 reps of the solve and timing with <code>System.currentTimeMillis()</code>.  I know there are more accurate ways of timing, but this was good enough to see a definite improvement even though the times jumped around quite a bit trial to trial.  The best I ever saw in each case was 3600 millis for 100 iterations as originally written vs 3400 millis with the improvements.</p>\n<p>My guess is that it's mostly the first change that matters.  I'd expect the compiler to be doing the second already, but I didn't try the two optimizations independently.</p>\n"},{"tags":[],"owner":{"account_id":24578820,"reputation":13,"user_id":18484275,"display_name":"BrisS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674663614,"creation_date":1674663614,"answer_id":75236863,"question_id":65055988,"body_markdown":"I also solved this problem in java (AC), and here is how I did it\r\n\r\n    public static char[] defaultPath;\r\n\tpublic static boolean[][] isUsed;\r\n\tpublic static int counter = 0;\r\n\t\r\n\tpublic static void solve(int indexChar, int indexRow, int indexColumn) {\r\n\t\tif (indexRow == 8 &amp;&amp; indexColumn == 2) {\r\n\t\t\tif (indexChar == 48) {\r\n\t\t\t\tcounter++;\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\t// Find correct way: &#39;D&#39;, &#39;U&#39;, &#39;L&#39;, &#39;R&#39;\r\n\t\t\tchar correctWay = &#39;?&#39;;\r\n\t\t\t// (1)\t\t\t(1)\r\n\t\t\t//  0 1   or   1 0\r\n\t\t\t//  1\t\t\t 1\r\n\t\t\tif ((isUsed[indexRow+1][indexColumn+1] || isUsed[indexRow+1][indexColumn-1])\r\n\t\t\t\t\t&amp;&amp; isUsed[indexRow+2][indexColumn] &amp;&amp; !isUsed[indexRow+1][indexColumn]) {\r\n\t\t\t\tcorrectWay = &#39;D&#39;;\r\n\t\t\t}\r\n\t\t\t//  1 \t\t\t 1 \r\n\t\t\t//  0 1   or   1 0\r\n\t\t\t// (1)\t\t\t(1)\r\n\t\t\telse if ((isUsed[indexRow-1][indexColumn+1] || isUsed[indexRow-1][indexColumn-1])\r\n\t\t\t\t\t&amp;&amp; !isUsed[indexRow-1][indexColumn] &amp;&amp; isUsed[indexRow-2][indexColumn]) {\r\n\t\t\t\tcorrectWay = &#39;U&#39;;\r\n\t\t\t}\r\n\t\t\t// 1 0 (1)   or    1\r\n\t\t\t//   1\t\t\t 1 0 (1)\r\n\t\t\telse if ((isUsed[indexRow+1][indexColumn-1] || isUsed[indexRow-1][indexColumn-1])\r\n\t\t\t\t\t&amp;&amp; !isUsed[indexRow][indexColumn-1] &amp;&amp; isUsed[indexRow][indexColumn-2]) {\r\n\t\t\t\tcorrectWay = &#39;L&#39;;\r\n\t\t\t}\r\n\t\t\t//(1) 0 1    or      1\r\n\t\t\t//    1\t\t     (1) 0 1\r\n\t\t\telse if ((isUsed[indexRow+1][indexColumn+1] || isUsed[indexRow-1][indexColumn+1])\r\n\t\t\t\t\t&amp;&amp; !isUsed[indexRow][indexColumn+1] &amp;&amp; isUsed[indexRow][indexColumn+2]) {\r\n\t\t\t\tcorrectWay = &#39;R&#39;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Check input path (default path)\r\n\t\t\tchar c = defaultPath[indexChar];\r\n\t\t\tif (c == &#39;?&#39;) {\r\n\t\t\t\tif (correctWay == &#39;?&#39;) {\r\n\t\t\t\t\t// &#39;D&#39;\r\n\t\t\t\t\tif (!isUsed[indexRow+1][indexColumn]) {\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow+1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// &#39;U&#39;\r\n\t\t\t\t\tif (!isUsed[indexRow-1][indexColumn]) {\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow-1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// &#39;L&#39;\r\n\t\t\t\t\tif (!isUsed[indexRow][indexColumn-1]) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn-1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// &#39;R&#39;\r\n\t\t\t\t\tif (!isUsed[indexRow][indexColumn+1]) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn+1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else {\r\n\t\t\t\t\tif (correctWay == &#39;D&#39;) {\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow+1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = false;\r\n\t\t\t\t\t}else if (correctWay == &#39;U&#39;) {\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow-1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = false;\r\n\t\t\t\t\t}else if (correctWay == &#39;L&#39;) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn-1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = false;\r\n\t\t\t\t\t}else if (correctWay == &#39;R&#39;) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn+1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tif (c == correctWay || correctWay == &#39;?&#39;) {\r\n\t\t\t\t\tif (c == &#39;D&#39; &amp;&amp; !isUsed[indexRow+1][indexColumn]) {\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow+1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow+1][indexColumn] = false;\r\n\t\t\t\t\t}else if (c == &#39;U&#39; &amp;&amp; !isUsed[indexRow-1][indexColumn]) {\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow-1, indexColumn);\r\n\t\t\t\t\t\tisUsed[indexRow-1][indexColumn] = false;\r\n\t\t\t\t\t}else if (c == &#39;L&#39; &amp;&amp; !isUsed[indexRow][indexColumn-1]) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn-1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn-1] = false;\r\n\t\t\t\t\t}else if (c == &#39;R&#39; &amp;&amp; !isUsed[indexRow][indexColumn+1]) {\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = true;\r\n\t\t\t\t\t\tsolve(indexChar+1, indexRow, indexColumn+1);\r\n\t\t\t\t\t\tisUsed[indexRow][indexColumn+1] = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tdefaultPath = scanner.next().toCharArray();\r\n\t\tisUsed = new boolean[11][11];\r\n\t\tfor (int i = 0; i &lt; 11; i++) {\r\n\t\t\tisUsed[0][i] = true;\r\n\t\t\tisUsed[1][i] = true;\r\n\t\t\tisUsed[9][i] = true;\r\n\t\t\tisUsed[10][i] = true;\r\n\t\t\tisUsed[i][0] = true;\r\n\t\t\tisUsed[i][1] = true;\r\n\t\t\tisUsed[i][9] = true;\r\n\t\t\tisUsed[i][10] = true;\r\n\t\t}\r\n\t\tisUsed[2][2] = true;\r\n\t\tisUsed[8][1] = false;\r\n\t\tisUsed[9][2] = false;\r\n\t\tsolve(0, 2, 2);\r\n\t\r\n\t\tSystem.out.println(counter);\r\n\t\tscanner.close();\r\n\t}","title":"Are there any efficient micro-optimizations to find the number of unique grid paths?","body":"<p>I also solved this problem in java (AC), and here is how I did it</p>\n<pre><code>public static char[] defaultPath;\npublic static boolean[][] isUsed;\npublic static int counter = 0;\n\npublic static void solve(int indexChar, int indexRow, int indexColumn) {\n    if (indexRow == 8 &amp;&amp; indexColumn == 2) {\n        if (indexChar == 48) {\n            counter++;\n        }\n    }else {\n        // Find correct way: 'D', 'U', 'L', 'R'\n        char correctWay = '?';\n        // (1)          (1)\n        //  0 1   or   1 0\n        //  1            1\n        if ((isUsed[indexRow+1][indexColumn+1] || isUsed[indexRow+1][indexColumn-1])\n                &amp;&amp; isUsed[indexRow+2][indexColumn] &amp;&amp; !isUsed[indexRow+1][indexColumn]) {\n            correctWay = 'D';\n        }\n        //  1            1 \n        //  0 1   or   1 0\n        // (1)          (1)\n        else if ((isUsed[indexRow-1][indexColumn+1] || isUsed[indexRow-1][indexColumn-1])\n                &amp;&amp; !isUsed[indexRow-1][indexColumn] &amp;&amp; isUsed[indexRow-2][indexColumn]) {\n            correctWay = 'U';\n        }\n        // 1 0 (1)   or    1\n        //   1           1 0 (1)\n        else if ((isUsed[indexRow+1][indexColumn-1] || isUsed[indexRow-1][indexColumn-1])\n                &amp;&amp; !isUsed[indexRow][indexColumn-1] &amp;&amp; isUsed[indexRow][indexColumn-2]) {\n            correctWay = 'L';\n        }\n        //(1) 0 1    or      1\n        //    1          (1) 0 1\n        else if ((isUsed[indexRow+1][indexColumn+1] || isUsed[indexRow-1][indexColumn+1])\n                &amp;&amp; !isUsed[indexRow][indexColumn+1] &amp;&amp; isUsed[indexRow][indexColumn+2]) {\n            correctWay = 'R';\n        }\n        \n        // Check input path (default path)\n        char c = defaultPath[indexChar];\n        if (c == '?') {\n            if (correctWay == '?') {\n                // 'D'\n                if (!isUsed[indexRow+1][indexColumn]) {\n                    isUsed[indexRow+1][indexColumn] = true;\n                    solve(indexChar+1, indexRow+1, indexColumn);\n                    isUsed[indexRow+1][indexColumn] = false;\n                }\n                // 'U'\n                if (!isUsed[indexRow-1][indexColumn]) {\n                    isUsed[indexRow-1][indexColumn] = true;\n                    solve(indexChar+1, indexRow-1, indexColumn);\n                    isUsed[indexRow-1][indexColumn] = false;\n                }\n                // 'L'\n                if (!isUsed[indexRow][indexColumn-1]) {\n                    isUsed[indexRow][indexColumn-1] = true;\n                    solve(indexChar+1, indexRow, indexColumn-1);\n                    isUsed[indexRow][indexColumn-1] = false;\n                }\n                // 'R'\n                if (!isUsed[indexRow][indexColumn+1]) {\n                    isUsed[indexRow][indexColumn+1] = true;\n                    solve(indexChar+1, indexRow, indexColumn+1);\n                    isUsed[indexRow][indexColumn+1] = false;\n                }\n            }else {\n                if (correctWay == 'D') {\n                    isUsed[indexRow+1][indexColumn] = true;\n                    solve(indexChar+1, indexRow+1, indexColumn);\n                    isUsed[indexRow+1][indexColumn] = false;\n                }else if (correctWay == 'U') {\n                    isUsed[indexRow-1][indexColumn] = true;\n                    solve(indexChar+1, indexRow-1, indexColumn);\n                    isUsed[indexRow-1][indexColumn] = false;\n                }else if (correctWay == 'L') {\n                    isUsed[indexRow][indexColumn-1] = true;\n                    solve(indexChar+1, indexRow, indexColumn-1);\n                    isUsed[indexRow][indexColumn-1] = false;\n                }else if (correctWay == 'R') {\n                    isUsed[indexRow][indexColumn+1] = true;\n                    solve(indexChar+1, indexRow, indexColumn+1);\n                    isUsed[indexRow][indexColumn+1] = false;\n                }\n            }\n        }else {\n            if (c == correctWay || correctWay == '?') {\n                if (c == 'D' &amp;&amp; !isUsed[indexRow+1][indexColumn]) {\n                    isUsed[indexRow+1][indexColumn] = true;\n                    solve(indexChar+1, indexRow+1, indexColumn);\n                    isUsed[indexRow+1][indexColumn] = false;\n                }else if (c == 'U' &amp;&amp; !isUsed[indexRow-1][indexColumn]) {\n                    isUsed[indexRow-1][indexColumn] = true;\n                    solve(indexChar+1, indexRow-1, indexColumn);\n                    isUsed[indexRow-1][indexColumn] = false;\n                }else if (c == 'L' &amp;&amp; !isUsed[indexRow][indexColumn-1]) {\n                    isUsed[indexRow][indexColumn-1] = true;\n                    solve(indexChar+1, indexRow, indexColumn-1);\n                    isUsed[indexRow][indexColumn-1] = false;\n                }else if (c == 'R' &amp;&amp; !isUsed[indexRow][indexColumn+1]) {\n                    isUsed[indexRow][indexColumn+1] = true;\n                    solve(indexChar+1, indexRow, indexColumn+1);\n                    isUsed[indexRow][indexColumn+1] = false;\n                }\n            }\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    defaultPath = scanner.next().toCharArray();\n    isUsed = new boolean[11][11];\n    for (int i = 0; i &lt; 11; i++) {\n        isUsed[0][i] = true;\n        isUsed[1][i] = true;\n        isUsed[9][i] = true;\n        isUsed[10][i] = true;\n        isUsed[i][0] = true;\n        isUsed[i][1] = true;\n        isUsed[i][9] = true;\n        isUsed[i][10] = true;\n    }\n    isUsed[2][2] = true;\n    isUsed[8][1] = false;\n    isUsed[9][2] = false;\n    solve(0, 2, 2);\n\n    System.out.println(counter);\n    scanner.close();\n}\n</code></pre>\n"}],"owner":{"account_id":4835608,"reputation":415,"user_id":11391560,"display_name":"Krish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65056760,"answer_count":2,"score":1,"last_activity_date":1674663614,"creation_date":1606611731,"question_id":65055988,"body_markdown":"I am trying to solve this CSES problem: [Grid Paths][1]. You are given a string of length 48, and you have to find the amount of paths such that you traverse all of the grid and end up at the lower left corner. \r\n\r\nI believe I have pruned the search to the best of my ability, as according to this book: [CP Handbook][2] (Look in the pruning the search category), the best optimization for this type of problem is to prevent your path from closing yourself off, and I have already implemented this. The time limits for this specific problem are tight, and although I have basically solved this problem, I am still failing 1-2 test cases because my solution takes around 1.01 seconds instead of being below the 1 second time limit. \r\n\r\nFinally, I just wanted to know if there were any cool micro-optimizations I could use to marginally enhance the speed of my java code, so I could actually pass all of the test cases for this problem. \r\n\r\n```\r\nimport java.io.*;\r\n\r\npublic class GridPaths {\r\n    public static class FastIO {\r\n        InputStream dis;\r\n        byte[] buffer = new byte[1 &lt;&lt; 17];\r\n        int pointer = 0;\r\n\r\n        public FastIO(String fileName) throws Exception {\r\n            dis = new FileInputStream(fileName);\r\n        }\r\n\r\n        public FastIO(InputStream is) {\r\n            dis = is;\r\n        }\r\n\r\n        int nextInt() throws Exception {\r\n            int ret = 0;\r\n            byte b;\r\n            do {\r\n                b = nextByte();\r\n            } while (b &lt;= &#39; &#39;);\r\n            boolean negative = false;\r\n            if (b == &#39;-&#39;) {\r\n                negative = true;\r\n                b = nextByte();\r\n            }\r\n            while (b &gt;= &#39;0&#39; &amp;&amp; b &lt;= &#39;9&#39;) {\r\n                ret = 10 * ret + b - &#39;0&#39;;\r\n                b = nextByte();\r\n            }\r\n            return (negative) ? -ret : ret;\r\n        }\r\n\r\n        long nextLong() throws Exception {\r\n            long ret = 0;\r\n            byte b;\r\n            do {\r\n                b = nextByte();\r\n            } while (b &lt;= &#39; &#39;);\r\n            boolean negative = false;\r\n            if (b == &#39;-&#39;) {\r\n                negative = true;\r\n                b = nextByte();\r\n            }\r\n            while (b &gt;= &#39;0&#39; &amp;&amp; b &lt;= &#39;9&#39;) {\r\n                ret = 10 * ret + b - &#39;0&#39;;\r\n                b = nextByte();\r\n            }\r\n            return (negative) ? -ret : ret;\r\n        }\r\n\r\n        Integer[] readArray(int n) throws Exception {\r\n            Integer[] a = new Integer[n];\r\n            for (int i = 0; i &lt; n; i++) a[i] = nextInt();\r\n            return a;\r\n        }\r\n\r\n        byte nextByte() throws Exception {\r\n            if (pointer == buffer.length) {\r\n                dis.read(buffer, 0, buffer.length);\r\n                pointer = 0;\r\n            }\r\n            return buffer[pointer++];\r\n        }\r\n\r\n        String next() throws Exception {\r\n            StringBuilder ret = new StringBuilder();\r\n            byte b;\r\n            do {\r\n                b = nextByte();\r\n            } while (b &lt;= &#39; &#39;);\r\n            while (b &gt; &#39; &#39;) {\r\n                ret.appendCodePoint(b);\r\n                b = nextByte();\r\n            }\r\n            return ret.toString();\r\n        }\r\n    }\r\n\r\n    static char[] board;\r\n    static boolean[][] visited = new boolean[7][7];\r\n    static int ans = 0;\r\n\r\n    public static boolean works(int i, int j) {\r\n        //makes sure that current spot is on the 7x7 grid and is not visited\r\n        return (i &gt;= 0 &amp;&amp; i&lt;=6 &amp;&amp; j&gt;=0 &amp;&amp; j&lt;=6 &amp;&amp; !visited[i][j]);\r\n    }\r\n    public static void solve(int i, int j, int steps) {\r\n        if (i == 6 &amp;&amp; j == 0) {\r\n            if (steps == 48) ans++; //all spots of the grid have to be visited in order to be counted as part of the answer\r\n            return;\r\n        }\r\n        visited[i][j] = true;\r\n        //you are given ? characters in the input string, and those mean that you have to try out all 4 combinations (U,D,L,R)\r\n        if (board[steps] == &#39;?&#39; || board[steps] == &#39;L&#39;) {\r\n            //second condition of the second if statement checks if the spot directly ahead of the current spot is blocked, and if it is, the left and right spots cannot both be unvisited or else you will not continue searching \r\n            if (works(i,j-1) &amp;&amp; !(!works(i,j-2) &amp;&amp; works(i+1,j-1) &amp;&amp; works(i-1,j-1))) {\r\n                solve(i, j - 1, steps + 1);\r\n            }\r\n        }\r\n        if (board[steps] == &#39;?&#39; || board[steps] == &#39;R&#39;) {\r\n            if (works(i,j+1) &amp;&amp; !(!works(i,j+2) &amp;&amp; works(i+1,j+1) &amp;&amp; works(i-1,j+1))) {\r\n                solve(i, j + 1, steps + 1);\r\n            }\r\n        }\r\n        if (board[steps] == &#39;?&#39; || board[steps] == &#39;U&#39;) {\r\n            if (works(i-1,j) &amp;&amp; !(!works(i-2,j) &amp;&amp; works(i-1,j+1) &amp;&amp; works(i-1,j-1))) {\r\n                solve(i - 1, j, steps + 1);\r\n            }\r\n        }\r\n        if (board[steps] == &#39;?&#39; || board[steps] == &#39;D&#39;) {\r\n            if (works(i+1,j) &amp;&amp; !(!works(i+2,j) &amp;&amp; works(i+1,j+1) &amp;&amp; works(i+1,j-1))) {\r\n                solve(i + 1, j, steps + 1);\r\n            }\r\n        }\r\n        visited[i][j] = false;\r\n\r\n    }\r\n    public static void main(String[] args) throws Exception {\r\n        FastIO in = new FastIO(System.in);\r\n        PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));\r\n        board = in.next().toCharArray();\r\n        solve(0,0,0);\r\n        out.println(ans);\r\n\r\n        out.close();\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote: I am already using one of the fastest, if not the fastest, ways to receive input in Java, so I do not believe I can actually improve upon that. \r\n\r\n  [1]: https://cses.fi/problemset/task/1625/\r\n  [2]: https://cses.fi/book/book.pdf","title":"Are there any efficient micro-optimizations to find the number of unique grid paths?","body":"<p>I am trying to solve this CSES problem: <a href=\"https://cses.fi/problemset/task/1625/\" rel=\"nofollow noreferrer\">Grid Paths</a>. You are given a string of length 48, and you have to find the amount of paths such that you traverse all of the grid and end up at the lower left corner.</p>\n<p>I believe I have pruned the search to the best of my ability, as according to this book: <a href=\"https://cses.fi/book/book.pdf\" rel=\"nofollow noreferrer\">CP Handbook</a> (Look in the pruning the search category), the best optimization for this type of problem is to prevent your path from closing yourself off, and I have already implemented this. The time limits for this specific problem are tight, and although I have basically solved this problem, I am still failing 1-2 test cases because my solution takes around 1.01 seconds instead of being below the 1 second time limit.</p>\n<p>Finally, I just wanted to know if there were any cool micro-optimizations I could use to marginally enhance the speed of my java code, so I could actually pass all of the test cases for this problem.</p>\n<pre><code>import java.io.*;\n\npublic class GridPaths {\n    public static class FastIO {\n        InputStream dis;\n        byte[] buffer = new byte[1 &lt;&lt; 17];\n        int pointer = 0;\n\n        public FastIO(String fileName) throws Exception {\n            dis = new FileInputStream(fileName);\n        }\n\n        public FastIO(InputStream is) {\n            dis = is;\n        }\n\n        int nextInt() throws Exception {\n            int ret = 0;\n            byte b;\n            do {\n                b = nextByte();\n            } while (b &lt;= ' ');\n            boolean negative = false;\n            if (b == '-') {\n                negative = true;\n                b = nextByte();\n            }\n            while (b &gt;= '0' &amp;&amp; b &lt;= '9') {\n                ret = 10 * ret + b - '0';\n                b = nextByte();\n            }\n            return (negative) ? -ret : ret;\n        }\n\n        long nextLong() throws Exception {\n            long ret = 0;\n            byte b;\n            do {\n                b = nextByte();\n            } while (b &lt;= ' ');\n            boolean negative = false;\n            if (b == '-') {\n                negative = true;\n                b = nextByte();\n            }\n            while (b &gt;= '0' &amp;&amp; b &lt;= '9') {\n                ret = 10 * ret + b - '0';\n                b = nextByte();\n            }\n            return (negative) ? -ret : ret;\n        }\n\n        Integer[] readArray(int n) throws Exception {\n            Integer[] a = new Integer[n];\n            for (int i = 0; i &lt; n; i++) a[i] = nextInt();\n            return a;\n        }\n\n        byte nextByte() throws Exception {\n            if (pointer == buffer.length) {\n                dis.read(buffer, 0, buffer.length);\n                pointer = 0;\n            }\n            return buffer[pointer++];\n        }\n\n        String next() throws Exception {\n            StringBuilder ret = new StringBuilder();\n            byte b;\n            do {\n                b = nextByte();\n            } while (b &lt;= ' ');\n            while (b &gt; ' ') {\n                ret.appendCodePoint(b);\n                b = nextByte();\n            }\n            return ret.toString();\n        }\n    }\n\n    static char[] board;\n    static boolean[][] visited = new boolean[7][7];\n    static int ans = 0;\n\n    public static boolean works(int i, int j) {\n        //makes sure that current spot is on the 7x7 grid and is not visited\n        return (i &gt;= 0 &amp;&amp; i&lt;=6 &amp;&amp; j&gt;=0 &amp;&amp; j&lt;=6 &amp;&amp; !visited[i][j]);\n    }\n    public static void solve(int i, int j, int steps) {\n        if (i == 6 &amp;&amp; j == 0) {\n            if (steps == 48) ans++; //all spots of the grid have to be visited in order to be counted as part of the answer\n            return;\n        }\n        visited[i][j] = true;\n        //you are given ? characters in the input string, and those mean that you have to try out all 4 combinations (U,D,L,R)\n        if (board[steps] == '?' || board[steps] == 'L') {\n            //second condition of the second if statement checks if the spot directly ahead of the current spot is blocked, and if it is, the left and right spots cannot both be unvisited or else you will not continue searching \n            if (works(i,j-1) &amp;&amp; !(!works(i,j-2) &amp;&amp; works(i+1,j-1) &amp;&amp; works(i-1,j-1))) {\n                solve(i, j - 1, steps + 1);\n            }\n        }\n        if (board[steps] == '?' || board[steps] == 'R') {\n            if (works(i,j+1) &amp;&amp; !(!works(i,j+2) &amp;&amp; works(i+1,j+1) &amp;&amp; works(i-1,j+1))) {\n                solve(i, j + 1, steps + 1);\n            }\n        }\n        if (board[steps] == '?' || board[steps] == 'U') {\n            if (works(i-1,j) &amp;&amp; !(!works(i-2,j) &amp;&amp; works(i-1,j+1) &amp;&amp; works(i-1,j-1))) {\n                solve(i - 1, j, steps + 1);\n            }\n        }\n        if (board[steps] == '?' || board[steps] == 'D') {\n            if (works(i+1,j) &amp;&amp; !(!works(i+2,j) &amp;&amp; works(i+1,j+1) &amp;&amp; works(i+1,j-1))) {\n                solve(i + 1, j, steps + 1);\n            }\n        }\n        visited[i][j] = false;\n\n    }\n    public static void main(String[] args) throws Exception {\n        FastIO in = new FastIO(System.in);\n        PrintWriter out = new PrintWriter(new OutputStreamWriter(System.out));\n        board = in.next().toCharArray();\n        solve(0,0,0);\n        out.println(ans);\n\n        out.close();\n    }\n\n}\n</code></pre>\n<p>Note: I am already using one of the fastest, if not the fastest, ways to receive input in Java, so I do not believe I can actually improve upon that.</p>\n"},{"tags":["java","jpa","openjpa"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1674642674,"post_id":75232143,"comment_id":132756462,"body_markdown":"Please pay attention to the tag descriptions. [tag:apache] is utterly unrelated.","body":"Please pay attention to the tag descriptions. <a href=\"https://stackoverflow.com/questions/tagged/apache\">apache</a> is utterly unrelated."}],"owner":{"account_id":24120680,"reputation":17,"user_id":18089908,"display_name":"BigMautone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674663428,"creation_date":1674640095,"question_id":75232143,"body_markdown":"## SOLVED ##\r\nMetadata classes and Entity/Embeddable classes have different names. I just renamed them and now it fires up\r\n\r\n\r\n----------\r\n\r\n\r\nI&#39;m trying to map an entity on my DB with my jpa web application. The problem is that the entity got a 2 elements key and, also if i&#39;m using an embeddable, after launching my app with tomcat, it displays this error:\r\n\r\n&gt; Caused by: &lt;openjpa-2.4.0-r422266:1674604 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type &quot;class it.cabel.aml.libb2b.cliente.jpa.entities.JpaKeyPK&quot; has not been enhanced.\r\n\r\n**I&#39;m changing the name of classes just for readability.**\r\n\r\nThis is the JpaKeyPK class:\r\n```java\r\n//import...\r\n\r\n@Embeddable\r\npublic class JpaKeyPK implements Serializable {\r\n\r\n    @Column(name = &quot;ID&quot;)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;DATA_VARIAZIONE&quot;)\r\n    private Date dataVariazione;\r\n\r\n    public JpaKeyPK () {\r\n    }\r\n\r\n    public JpaKeyPK (Integer id, Date dataVariazione) {\r\n        this.id = id;\r\n        this.dataVariazione = dataVariazione;\r\n    }\r\n\r\n   // getters, setters, hashcode and equals implementation...\r\n\r\n```\r\nAnd this is the entity class:\r\n```java\r\n@Entity\r\n@Table(name = &quot;TABLE_NAME&quot;)\r\npublic class JpaEntity{\r\n\r\n    @EmbeddedId\r\n    private JpaKeyPK pk;\r\n\r\n//getters, setters, constructor...\r\n```\r\n\r\nI added both of them to my *persistence.xml* file and, when i try to do a clean install with maven, logs write this:\r\n\r\n&gt; 12670  App INFO   [main] openjpa.Tool - Enhancer running on type &quot;class it.jpa.entities.JpaEntity&quot;.&lt;br&gt;\r\n12671  App INFO   [main] openjpa.Tool - Enhancer running on type &quot;class it.jpa.entities.JpaKeyPK&quot;.\r\n\r\nWhat&#39;s wrong?","title":"Embeddable not enhanced with OpenJpa","body":"<h2>SOLVED</h2>\n<p>Metadata classes and Entity/Embeddable classes have different names. I just renamed them and now it fires up</p>\n<hr />\n<p>I'm trying to map an entity on my DB with my jpa web application. The problem is that the entity got a 2 elements key and, also if i'm using an embeddable, after launching my app with tomcat, it displays this error:</p>\n<blockquote>\n<p>Caused by: &lt;openjpa-2.4.0-r422266:1674604 fatal user error&gt; org.apache.openjpa.util.MetaDataException: The type &quot;class it.cabel.aml.libb2b.cliente.jpa.entities.JpaKeyPK&quot; has not been enhanced.</p>\n</blockquote>\n<p><strong>I'm changing the name of classes just for readability.</strong></p>\n<p>This is the JpaKeyPK class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//import...\n\n@Embeddable\npublic class JpaKeyPK implements Serializable {\n\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;DATA_VARIAZIONE&quot;)\n    private Date dataVariazione;\n\n    public JpaKeyPK () {\n    }\n\n    public JpaKeyPK (Integer id, Date dataVariazione) {\n        this.id = id;\n        this.dataVariazione = dataVariazione;\n    }\n\n   // getters, setters, hashcode and equals implementation...\n\n</code></pre>\n<p>And this is the entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;TABLE_NAME&quot;)\npublic class JpaEntity{\n\n    @EmbeddedId\n    private JpaKeyPK pk;\n\n//getters, setters, constructor...\n</code></pre>\n<p>I added both of them to my <em>persistence.xml</em> file and, when i try to do a clean install with maven, logs write this:</p>\n<blockquote>\n<p>12670  App INFO   [main] openjpa.Tool - Enhancer running on type &quot;class it.jpa.entities.JpaEntity&quot;.<br>\n12671  App INFO   [main] openjpa.Tool - Enhancer running on type &quot;class it.jpa.entities.JpaKeyPK&quot;.</p>\n</blockquote>\n<p>What's wrong?</p>\n"},{"tags":["java","stddraw"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674677888,"post_id":75236725,"comment_id":132768325,"body_markdown":"Answering the question in your title, you can use the decorator pattern and create a parent class to expand the functionality of `StdDraw`.  I have no idea what the &quot;g-library&quot; refers to.","body":"Answering the question in your title, you can use the decorator pattern and create a parent class to expand the functionality of <code>StdDraw</code>.  I have no idea what the &quot;g-library&quot; refers to."},{"owner":{"account_id":14527207,"reputation":1,"user_id":10493066,"display_name":"Skelefish"},"score":0,"creation_date":1674681622,"post_id":75236725,"comment_id":132769316,"body_markdown":"the g-library  (idk if it has another name) was the old library we used everything was g.setFont(), g.drawPolygon(), etc.  Sorry for my shorthand.","body":"the g-library  (idk if it has another name) was the old library we used everything was g.setFont(), g.drawPolygon(), etc.  Sorry for my shorthand."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1674684558,"post_id":75236725,"comment_id":132770092,"body_markdown":"The &quot;g-library&quot; is actually the `Graphics` and `Graphics2D` classes in Java.  Yes, using native Swing components removes your dependency on an educational class or library.","body":"The &quot;g-library&quot; is actually the <code>Graphics</code> and <code>Graphics2D</code> classes in Java.  Yes, using native Swing components removes your dependency on an educational class or library."}],"owner":{"account_id":14527207,"reputation":1,"user_id":10493066,"display_name":"Skelefish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674662963,"creation_date":1674662963,"question_id":75236725,"body_markdown":"So in the beginner coding classes I teach, they&#39;ve (the district) moved us away from the Graphics library with java.awt.* and java.swing.* to the simplified standard graphics library, StdDraw -- not necessarily a bad thing as it has most of the bells and whistles that my students need and we only really use it for one chapter and then its an option for a later project if they feel more artsy that analytical.  It also more closely mirrors the coordinate system they&#39;re using in math classes and logically makes more sense to them defining center pionts to draw instead of corners.\r\n\r\nOne of the things I really wish it had was the ability to draw sectors/wedges/slices of circles.  It does arcs (the portions of a circumference), but especially for the graphical [pie] charts, it&#39;s quite essential.  For the moment they&#39;re just coloring the arcs and we&#39;re going on with the lessons.  But for NEXT year, I&#39;m hoping I can edit something into the library ahead of time and let them use it traditionally without going against the other teachers across the (large) district and  utilizing two graphical libraries &quot;StdDraw&quot; and &quot;g&quot; or being the lone one who uses g entirely.\r\n\r\n\r\nMost results online suggest migrating to the g-library, my only hesitation was the explicit move away from that for the younger students.  More advanced, older may still use it, but I don&#39;t teach them.  A decent Google, reddit and stackoverflow search didn&#39;t return anything that I could just plug into the StdDraw library so wondering if you have any suggestions or work-arounds?","title":"How to expand the StdDraw library without using AWT or SWING","body":"<p>So in the beginner coding classes I teach, they've (the district) moved us away from the Graphics library with java.awt.* and java.swing.* to the simplified standard graphics library, StdDraw -- not necessarily a bad thing as it has most of the bells and whistles that my students need and we only really use it for one chapter and then its an option for a later project if they feel more artsy that analytical.  It also more closely mirrors the coordinate system they're using in math classes and logically makes more sense to them defining center pionts to draw instead of corners.</p>\n<p>One of the things I really wish it had was the ability to draw sectors/wedges/slices of circles.  It does arcs (the portions of a circumference), but especially for the graphical [pie] charts, it's quite essential.  For the moment they're just coloring the arcs and we're going on with the lessons.  But for NEXT year, I'm hoping I can edit something into the library ahead of time and let them use it traditionally without going against the other teachers across the (large) district and  utilizing two graphical libraries &quot;StdDraw&quot; and &quot;g&quot; or being the lone one who uses g entirely.</p>\n<p>Most results online suggest migrating to the g-library, my only hesitation was the explicit move away from that for the younger students.  More advanced, older may still use it, but I don't teach them.  A decent Google, reddit and stackoverflow search didn't return anything that I could just plug into the StdDraw library so wondering if you have any suggestions or work-arounds?</p>\n"},{"tags":["java","spring","procedure","simplejdbccall"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674806550,"post_id":75236713,"comment_id":132795572,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75236713/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6508003,"reputation":1,"user_id":5036290,"display_name":"olly papi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674662905,"creation_date":1674662905,"answer_id":75236713,"question_id":72258652,"body_markdown":"p_process_results is not included in your query. Also add it to your model too.","title":"Spring - SimpleJdbcCall - Unable to locate the corresponding parameter value for &#39;***&#39; within the parameter values provided","body":"<p>p_process_results is not included in your query. Also add it to your model too.</p>\n"}],"owner":{"account_id":19931552,"reputation":11,"user_id":14605093,"display_name":"shizof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674662905,"creation_date":1652701353,"question_id":72258652,"body_markdown":"I have the code below. Basically I&#39;m trying to retrieve data from procedure to the Spring project.\r\nI got two out parameter which are Struct and Array which makes the process complicated. But for the inOut Array parameter i have **Unable to locate the corresponding parameter value for &#39;p_process_results&#39; within the parameter values provided: [p_claim_id, p_sf_no, p_user]** this error. I couldn&#39;t find what&#39;s wrong with the Component class.\r\n\r\nThis is the code I&#39;m trying to transform to the Spring Project.\r\n\r\n    String statement =  &quot;BEGIN  CUSTOMER.alz_exw_clm_transaction_utils.GET_MX_CLAIMS_INFO(?,?,?,?,?); END;&quot;;\r\n            conn = DbUtils.getConnection();\r\n            stmt = conn.prepareCall(statement);\r\n            stmt.setInt(1, claimId);\r\n            stmt.setInt(2, sfNo);\r\n            stmt.setString(3, username);\r\n            stmt.registerOutParameter(4, OracleTypes.STRUCT, ClaimMxStruct.recTypeName);\r\n            stmt.registerOutParameter(5, OracleTypes.ARRAY, ProcessResultType.tblTypeName);\r\n            stmt.execute();\r\n\r\nSpring Repository\r\n\r\n    public class ClaimMxRepository extends NamedParameterFactory{\r\n\r\n\t@Qualifier(&quot;getClaimMxInfo&quot;)\r\n\tprivate final SimpleJdbcCall getClaimMxInfo;\r\n\t\r\n\tpublic ClaimMx getClaimMx(ClaimMxReq request) throws SQLException {\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\t\tparams.put(&quot;p_claim_id&quot;, request.claimId);\r\n\t\tparams.put(&quot;p_sf_no&quot;, request.sfNo);\r\n\t\tparams.put(&quot;p_user&quot;, request.username);\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; result = getClaimMxInfo.execute(params);\r\n\t\t//ClaimMxStruct struct = (ClaimMxStruct) result.get(&quot;p_claim_mx_rec&quot;);\r\n\t\t//Array arr = (Array) result.get(&quot;p_process_results&quot;);\r\n\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n}\r\n\r\nComponent\r\n\r\n    \t@Bean(name = &quot;getClaimMxInfo&quot;)\r\n\tpublic SimpleJdbcCall getClaimMxInfo() {\r\n\t\treturn simpleJdbcCallService.simpleJdbcCallWithCustomerSchema(&quot;ALZ_EXW_CLM_TRANSACTION_UTILS&quot;, &quot;GET_MX_CLAIMS_INFO&quot;)\r\n\t\t\t\t.declareParameters(\r\n\t\t\t\t\t\tsqlParameterWithNumeric(&quot;p_claim_id&quot;),\r\n\t\t\t\t\t\tsqlParameterWithNumeric(&quot;p_sf_no&quot;),\r\n\t\t\t\t\t\tsqlParameterWithVarChar(&quot;p_user&quot;),\r\n\t\t\t\t\t\tnew SqlOutParameter(&quot;p_claim_mx_rec&quot;, STRUCT, &quot;CUSTOMER.CLAIM_MX_REC&quot;, new SqlReturnStruct(ClaimMxStruct.class)),\r\n\t\t\t\t\t\tnew SqlInOutParameter(&quot;p_process_results&quot;, ARRAY,&quot;CUSTOMER.PROCESS_RESULT_TABLE&quot;, new SqlReturnArray()));\r\n\t\t\t\t\r\n\t}\r\n\r\nProcedure\r\n\r\n        CREATE OR REPLACE PACKAGE BODY CUSTOMER.&quot;ALZ_EXW_CLM_TRANSACTION_UTILS&quot;\r\n    IS\r\n    \r\n       PROCEDURE get_mx_claims_info (\r\n          p_claim_id                   NUMBER,\r\n          p_sf_no                      NUMBER,\r\n          p_user                       VARCHAR2,\r\n          p_claim_mx_rec      OUT      customer.claim_mx_rec,\r\n          p_process_results   IN OUT   customer.process_result_table\r\n       )\r\n       IS","title":"Spring - SimpleJdbcCall - Unable to locate the corresponding parameter value for &#39;***&#39; within the parameter values provided","body":"<p>I have the code below. Basically I'm trying to retrieve data from procedure to the Spring project.\nI got two out parameter which are Struct and Array which makes the process complicated. But for the inOut Array parameter i have <strong>Unable to locate the corresponding parameter value for 'p_process_results' within the parameter values provided: [p_claim_id, p_sf_no, p_user]</strong> this error. I couldn't find what's wrong with the Component class.</p>\n<p>This is the code I'm trying to transform to the Spring Project.</p>\n<pre><code>String statement =  &quot;BEGIN  CUSTOMER.alz_exw_clm_transaction_utils.GET_MX_CLAIMS_INFO(?,?,?,?,?); END;&quot;;\n        conn = DbUtils.getConnection();\n        stmt = conn.prepareCall(statement);\n        stmt.setInt(1, claimId);\n        stmt.setInt(2, sfNo);\n        stmt.setString(3, username);\n        stmt.registerOutParameter(4, OracleTypes.STRUCT, ClaimMxStruct.recTypeName);\n        stmt.registerOutParameter(5, OracleTypes.ARRAY, ProcessResultType.tblTypeName);\n        stmt.execute();\n</code></pre>\n<p>Spring Repository</p>\n<pre><code>public class ClaimMxRepository extends NamedParameterFactory{\n\n@Qualifier(&quot;getClaimMxInfo&quot;)\nprivate final SimpleJdbcCall getClaimMxInfo;\n\npublic ClaimMx getClaimMx(ClaimMxReq request) throws SQLException {\n    \n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;p_claim_id&quot;, request.claimId);\n    params.put(&quot;p_sf_no&quot;, request.sfNo);\n    params.put(&quot;p_user&quot;, request.username);\n    \n    Map&lt;String, Object&gt; result = getClaimMxInfo.execute(params);\n    //ClaimMxStruct struct = (ClaimMxStruct) result.get(&quot;p_claim_mx_rec&quot;);\n    //Array arr = (Array) result.get(&quot;p_process_results&quot;);\n\n    \n    return null;\n}\n</code></pre>\n<p>}</p>\n<p>Component</p>\n<pre><code>    @Bean(name = &quot;getClaimMxInfo&quot;)\npublic SimpleJdbcCall getClaimMxInfo() {\n    return simpleJdbcCallService.simpleJdbcCallWithCustomerSchema(&quot;ALZ_EXW_CLM_TRANSACTION_UTILS&quot;, &quot;GET_MX_CLAIMS_INFO&quot;)\n            .declareParameters(\n                    sqlParameterWithNumeric(&quot;p_claim_id&quot;),\n                    sqlParameterWithNumeric(&quot;p_sf_no&quot;),\n                    sqlParameterWithVarChar(&quot;p_user&quot;),\n                    new SqlOutParameter(&quot;p_claim_mx_rec&quot;, STRUCT, &quot;CUSTOMER.CLAIM_MX_REC&quot;, new SqlReturnStruct(ClaimMxStruct.class)),\n                    new SqlInOutParameter(&quot;p_process_results&quot;, ARRAY,&quot;CUSTOMER.PROCESS_RESULT_TABLE&quot;, new SqlReturnArray()));\n            \n}\n</code></pre>\n<p>Procedure</p>\n<pre><code>    CREATE OR REPLACE PACKAGE BODY CUSTOMER.&quot;ALZ_EXW_CLM_TRANSACTION_UTILS&quot;\nIS\n\n   PROCEDURE get_mx_claims_info (\n      p_claim_id                   NUMBER,\n      p_sf_no                      NUMBER,\n      p_user                       VARCHAR2,\n      p_claim_mx_rec      OUT      customer.claim_mx_rec,\n      p_process_results   IN OUT   customer.process_result_table\n   )\n   IS\n</code></pre>\n"},{"tags":["java","database","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":11281630,"reputation":250,"user_id":8273830,"display_name":"sukhbeer"},"score":0,"creation_date":1674802637,"post_id":75236701,"comment_id":132794731,"body_markdown":"try to clear your list before adding items again like this if(list !+ null){list. clear list.add(text} else {list.add}","body":"try to clear your list before adding items again like this if(list !+ null){list. clear list.add(text} else {list.add}"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675092520,"post_id":75236701,"comment_id":132848761,"body_markdown":"Have you tried to clear the list before updating it? Please respond using @AlexMamo","body":"Have you tried to clear the list before updating it? Please respond using @AlexMamo"}],"owner":{"account_id":27619947,"reputation":1,"user_id":21081233,"display_name":"Devloper21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674662874,"creation_date":1674662874,"question_id":75236701,"body_markdown":"**My Code**\r\n\r\n```\r\nFloatingActionButton button;\r\n        button = findViewById(R.id.floatbtn);\r\n        if (button != null) {\r\n            button.setOnClickListener(new android.view.View.OnClickListener() {\r\n                @Override\r\n                public void onClick(android.view.View v) {\r\n                    startActivity(new Intent(Userlist.this, AddTextActivity.class));\r\n                    recyclerView.removeAllViews();\r\n                    recyclerView.removeAllViewsInLayout();\r\n                }\r\n            });\r\n        }\r\n\r\n        recyclerView = findViewById(R.id.userList);\r\n        database = FirebaseDatabase.getInstance().getReference(&quot;Messages&quot;);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        list = new ArrayList&lt;&gt;();\r\n        myAdapter = new MyAdapter(this, list);\r\n        recyclerView.setAdapter(myAdapter);\r\n\r\n        database.addValueEventListener(new ValueEventListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n\r\n                    Text text = dataSnapshot.getValue(Text.class);\r\n                    list.add(text);\r\n\r\n                }\r\n                myAdapter.notifyDataSetChanged();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nHow do i fix recyclerview shows database entrys twice after new entry\r\n\r\nI try to delete to remove all Views when Activity is closing. This didnt work.\r\nCan you help me with this problem?\r\nWhy is this happening at all?","title":"How do i fix recyclerview shows database entrys twice after new entry?","body":"<p><strong>My Code</strong></p>\n<pre><code>FloatingActionButton button;\n        button = findViewById(R.id.floatbtn);\n        if (button != null) {\n            button.setOnClickListener(new android.view.View.OnClickListener() {\n                @Override\n                public void onClick(android.view.View v) {\n                    startActivity(new Intent(Userlist.this, AddTextActivity.class));\n                    recyclerView.removeAllViews();\n                    recyclerView.removeAllViewsInLayout();\n                }\n            });\n        }\n\n        recyclerView = findViewById(R.id.userList);\n        database = FirebaseDatabase.getInstance().getReference(&quot;Messages&quot;);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        list = new ArrayList&lt;&gt;();\n        myAdapter = new MyAdapter(this, list);\n        recyclerView.setAdapter(myAdapter);\n\n        database.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n\n                    Text text = dataSnapshot.getValue(Text.class);\n                    list.add(text);\n\n                }\n                myAdapter.notifyDataSetChanged();\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>How do i fix recyclerview shows database entrys twice after new entry</p>\n<p>I try to delete to remove all Views when Activity is closing. This didnt work.\nCan you help me with this problem?\nWhy is this happening at all?</p>\n"},{"tags":["java","nginx"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674678296,"post_id":75236611,"comment_id":132768424,"body_markdown":"“Of course nginx-timeout can be increased, but this is not secured.” can you explain what you mean by this? NGINX has multiple timeout configuration settings, and you may be able to increase only `proxy_read_timeout`. Alternatively, if you are able to stream the response as it is generated, this might avoid triggering the timeout.","body":"“Of course nginx-timeout can be increased, but this is not secured.” can you explain what you mean by this? NGINX has multiple timeout configuration settings, and you may be able to increase only <code>proxy_read_timeout</code>. Alternatively, if you are able to stream the response as it is generated, this might avoid triggering the timeout."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1674729592,"post_id":75236611,"comment_id":132777784,"body_markdown":"@TimMoore yes, I&#39;m talking about proxy_read_timeout. I suppose this is not very good idea to increase it?(from point of security)what do you mean under response stream? Java-reactive streams?","body":"@TimMoore yes, I&#39;m talking about proxy_read_timeout. I suppose this is not very good idea to increase it?(from point of security)what do you mean under response stream? Java-reactive streams?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674733008,"post_id":75236611,"comment_id":132778754,"body_markdown":"I&#39;m asking what the specific security concern is. It sounds like increasing `proxy_read_timeout` is exactly what you&#39;re asking for, so I&#39;m trying to understand why that isn&#39;t a suitable solution for you, in order to try to suggest an alternative that doesn&#39;t have the same problem. Pardon my ignorance about the risk, but the only thing I can imagine is increased risk of DoS attacks with long-running requests. It sounds like long-running requests are normal and expected in this application.","body":"I&#39;m asking what the specific security concern is. It sounds like increasing <code>proxy_read_timeout</code> is exactly what you&#39;re asking for, so I&#39;m trying to understand why that isn&#39;t a suitable solution for you, in order to try to suggest an alternative that doesn&#39;t have the same problem. Pardon my ignorance about the risk, but the only thing I can imagine is increased risk of DoS attacks with long-running requests. It sounds like long-running requests are normal and expected in this application."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674733220,"post_id":75236611,"comment_id":132778820,"body_markdown":"What I mean about streaming the response is writing partial results to the response as they are available. This could involve using reactive streams, but doesn&#39;t have to. For example, writing each row of the CSV to the response before calculating the next one, if that&#39;s possible for this application. If each row can be generated within the 30 second timeout, that should avoid triggering the timeout, which resets whenever nginx can read data from your server&#39;s response.","body":"What I mean about streaming the response is writing partial results to the response as they are available. This could involve using reactive streams, but doesn&#39;t have to. For example, writing each row of the CSV to the response before calculating the next one, if that&#39;s possible for this application. If each row can be generated within the 30 second timeout, that should avoid triggering the timeout, which resets whenever nginx can read data from your server&#39;s response."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674733508,"post_id":75236611,"comment_id":132778892,"body_markdown":"Maybe it&#39;s also worth pointing out that `proxy_read_timeout` can be configured in a [`location`](https://nginx.org/en/docs/http/ngx_http_core_module.html#location) context, if you don&#39;t want it to apply globally to the server, but just to a particular URL pattern.","body":"Maybe it&#39;s also worth pointing out that <code>proxy_read_timeout</code> can be configured in a <a href=\"https://nginx.org/en/docs/http/ngx_http_core_module.html#location\" rel=\"nofollow noreferrer\"><code>location</code></a> context, if you don&#39;t want it to apply globally to the server, but just to a particular URL pattern."}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674662435,"creation_date":1674662435,"question_id":75236611,"body_markdown":"There is `Java` on project `server-side`. I have some endpoints which allow to generate csv files(lets say user records from db). File size can be different, because there can be applied filters. When filters are applied and file is not too big it works correctly, but when file is big it takes 1,5min to generate it, but `nginx` timeout is 30 sec, so `nginx` does not wait for server response and reports with `500`. Of course `nginx`-timeout can be increased, but this is not secured. Is it possible somehow to make `nginx` waiting more without touching its timeout param?","title":"How to make nginx wait for response, when response time can be different?","body":"<p>There is <code>Java</code> on project <code>server-side</code>. I have some endpoints which allow to generate csv files(lets say user records from db). File size can be different, because there can be applied filters. When filters are applied and file is not too big it works correctly, but when file is big it takes 1,5min to generate it, but <code>nginx</code> timeout is 30 sec, so <code>nginx</code> does not wait for server response and reports with <code>500</code>. Of course <code>nginx</code>-timeout can be increased, but this is not secured. Is it possible somehow to make <code>nginx</code> waiting more without touching its timeout param?</p>\n"},{"tags":["java","android","date","calendar"],"comments":[{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1340354603,"post_id":11152851,"comment_id":14623623,"body_markdown":"jodatime will make yr life easier http://joda-time.sourceforge.net/","body":"jodatime will make yr life easier <a href=\"http://joda-time.sourceforge.net/\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net</a>"}],"answers":[{"comments":[{"owner":{"account_id":1059872,"reputation":5968,"user_id":1061728,"accept_rate":91,"display_name":"GAMA"},"score":0,"creation_date":1340356131,"post_id":11152877,"comment_id":14624213,"body_markdown":"Please have a look at Edited question.","body":"Please have a look at Edited question."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1340356323,"post_id":11152877,"comment_id":14624300,"body_markdown":"Check http://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances and to do Date arithmetic use `Calendar` and its   `add()`method See its documentation","body":"Check <a href=\"http://stackoverflow.com/questions/1555262/calculating-the-difference-between-two-java-date-instances\" title=\"calculating the difference between two java date instances\">stackoverflow.com/questions/1555262/&hellip;</a> and to do Date arithmetic use <code>Calendar</code> and its   <code>add()</code>method See its documentation"}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1340354536,"creation_date":1340354536,"answer_id":11152877,"question_id":11152851,"body_markdown":"use `SimpleDateFormat` to convert `String` (representing date) to `Date`\r\n\r\nFor example : \r\n\r\n    Date parsedDate  = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(&quot;2012-01-05&quot;);","title":"Subtracting and comparing Dates","body":"<p>use <code>SimpleDateFormat</code> to convert <code>String</code> (representing date) to <code>Date</code></p>\n\n<p>For example : </p>\n\n<pre><code>Date parsedDate  = new SimpleDateFormat(\"yyyy-MM-dd\").parse(\"2012-01-05\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1059872,"reputation":5968,"user_id":1061728,"accept_rate":91,"display_name":"GAMA"},"score":0,"creation_date":1340355115,"post_id":11152895,"comment_id":14623813,"body_markdown":"TimeZone for both the dates are same so no issue about transition. I want to compare today&#39;s date with a specific date (which will be created from string using parse method).","body":"TimeZone for both the dates are same so no issue about transition. I want to compare today&#39;s date with a specific date (which will be created from string using parse method)."},{"owner":{"account_id":1059872,"reputation":5968,"user_id":1061728,"accept_rate":91,"display_name":"GAMA"},"score":0,"creation_date":1340356165,"post_id":11152895,"comment_id":14624228,"body_markdown":"Please have a look at Edited question.","body":"Please have a look at Edited question."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340354631,"creation_date":1340354631,"answer_id":11152895,"question_id":11152851,"body_markdown":"If you can *possibly* use [Joda Time][1] instead of `Date`/`Calendar`, do so. It&#39;ll make your life easier.\r\n\r\nIf not, it sounds like you don&#39;t want to *format* the current date - instead, you want to *parse* `Date2` from the user:\r\n\r\n    Date date2 = dateFormatter.parse(text);\r\n\r\nThen you can *either* create a calendar and subtract a particular number of days, or (if you&#39;re talking about elapsed time - you need to think about your behaviour around DST transitions and time zones here) you could just subtract 7 * 24 * 60 * 60 * 1000 milliseconds from `date2.getTime()`.\r\n\r\nFundamentally, you should convert *out* of a string format as earlier as possible, and only convert *to* a string format when you really need to - certainly not for comparisons. The natural representation of this data is as a `Date` or `Calendar` (assuming you&#39;re sticking with the JDK), so work towards getting your data into that representation.\r\n\r\nYou have several genuine &quot;business&quot; questions to think about though:\r\n\r\n- Do you want to compare the current *date* with the date the user&#39;s given, or the current *date and time* with the date the user&#39;s given?\r\n- What time zone do you want to use for the user&#39;s input?\r\n- Are you thinking about elapsed days or &quot;logical&quot; days? Because 7 * 24 hours earlier than 1.30am may be 2.30am or vice versa, due to DST transitions\r\n\r\nYou should answer all those questions *before* you try to implement your code, as it will affect the representation you use. Also, write unit tests for everything you can think of before you start the implementation.\r\n\r\n  [1]: http://joda-time.sf.net","title":"Subtracting and comparing Dates","body":"<p>If you can <em>possibly</em> use <a href=\"http://joda-time.sf.net\" rel=\"nofollow\">Joda Time</a> instead of <code>Date</code>/<code>Calendar</code>, do so. It'll make your life easier.</p>\n\n<p>If not, it sounds like you don't want to <em>format</em> the current date - instead, you want to <em>parse</em> <code>Date2</code> from the user:</p>\n\n<pre><code>Date date2 = dateFormatter.parse(text);\n</code></pre>\n\n<p>Then you can <em>either</em> create a calendar and subtract a particular number of days, or (if you're talking about elapsed time - you need to think about your behaviour around DST transitions and time zones here) you could just subtract 7 * 24 * 60 * 60 * 1000 milliseconds from <code>date2.getTime()</code>.</p>\n\n<p>Fundamentally, you should convert <em>out</em> of a string format as earlier as possible, and only convert <em>to</em> a string format when you really need to - certainly not for comparisons. The natural representation of this data is as a <code>Date</code> or <code>Calendar</code> (assuming you're sticking with the JDK), so work towards getting your data into that representation.</p>\n\n<p>You have several genuine \"business\" questions to think about though:</p>\n\n<ul>\n<li>Do you want to compare the current <em>date</em> with the date the user's given, or the current <em>date and time</em> with the date the user's given?</li>\n<li>What time zone do you want to use for the user's input?</li>\n<li>Are you thinking about elapsed days or \"logical\" days? Because 7 * 24 hours earlier than 1.30am may be 2.30am or vice versa, due to DST transitions</li>\n</ul>\n\n<p>You should answer all those questions <em>before</em> you try to implement your code, as it will affect the representation you use. Also, write unit tests for everything you can think of before you start the implementation.</p>\n"},{"comments":[{"owner":{"account_id":1059872,"reputation":5968,"user_id":1061728,"accept_rate":91,"display_name":"GAMA"},"score":0,"creation_date":1340356205,"post_id":11152898,"comment_id":14624243,"body_markdown":"Please have a look at Edited question.","body":"Please have a look at Edited question."}],"tags":[],"owner":{"account_id":1074562,"reputation":2593,"user_id":1072991,"accept_rate":62,"display_name":"MobileEvangelist"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340355932,"creation_date":1340354647,"answer_id":11152898,"question_id":11152851,"body_markdown":"I think you can make use of Comparator provided by java will do work of comparing and sorting the dates too.\r\nhere is the [link](http://www.roseindia.net/java/example/java/util/CompareDate.shtml)\r\n\r\nhope you get what you was looking for..","title":"Subtracting and comparing Dates","body":"<p>I think you can make use of Comparator provided by java will do work of comparing and sorting the dates too.\nhere is the <a href=\"http://www.roseindia.net/java/example/java/util/CompareDate.shtml\" rel=\"nofollow\">link</a></p>\n\n<p>hope you get what you was looking for..</p>\n"},{"tags":[],"owner":{"account_id":1202597,"reputation":1831,"user_id":1172936,"accept_rate":71,"display_name":"SKT"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340370534,"creation_date":1340370534,"answer_id":11156822,"question_id":11152851,"body_markdown":"From my understanding you have two dates now and you want to subtract a particular number of days from date.\r\n\r\nFirst you can use `SimpleDateFormat` to convert a date to string and string to date\r\n\r\nNow to subtract days say 7. you can get time of the date and subtract 7*24*60*60*1000 from it\r\n\r\n \r\n\r\n       \r\n         long daybeforeLong = 7 * 24 * 60 * 60 * 1000;\r\n    try {\r\n    \r\n    Date todayDate = new Date();\r\n    \r\n    long nowLong = todayDate.getTime();\r\n        \r\n    Date beforeDate = new Date((nowLong - daybeforeLong));\r\n        \t\t\t\t\t\t\t\t\t\t\r\n        } \r\n\r\n    catch (ParseException e) {\r\n    // TODO Auto-generated catch block\r\n            \t\t\t\t\t\t\t\t\t\te.printStackTrace();\r\n    }","title":"Subtracting and comparing Dates","body":"<p>From my understanding you have two dates now and you want to subtract a particular number of days from date.</p>\n\n<p>First you can use <code>SimpleDateFormat</code> to convert a date to string and string to date</p>\n\n<p>Now to subtract days say 7. you can get time of the date and subtract 7*24*60*60*1000 from it</p>\n\n<pre><code>     long daybeforeLong = 7 * 24 * 60 * 60 * 1000;\ntry {\n\nDate todayDate = new Date();\n\nlong nowLong = todayDate.getTime();\n\nDate beforeDate = new Date((nowLong - daybeforeLong));\n\n    } \n\ncatch (ParseException e) {\n// TODO Auto-generated catch block\n                                                e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674661912,"creation_date":1674063294,"answer_id":75163133,"question_id":11152851,"body_markdown":"java.time\r\n--\r\n\r\nThe question and the accepted answer have used the `java.util` Date-Time API and their parsing/formatting API, `SimpleDateFormat` which was appropriate thing to do using the standard library in 2012. In March 2014, Java 8 introduced the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) which supplanted the legacy API and since then it is highly recommended to use the modern Date-Time API.\r\n\r\nAlso, quoted below is a notice from the [home page of **Joda-Time**](https://www.joda.org/joda-time/):\r\n\r\n&gt; **Note that from Java SE 8 onwards, users are asked to migrate to** `java.time` **(JSR-310) - a core part of the JDK which replaces this project.**\r\n\r\nRequirements copied from your question:\r\n--\r\n\r\n&gt; From your suggestions, I&#39;ll be able to convert `String` to `Date` by using\r\n&gt; parse method of `SimpleDateFormat`.\r\n&gt; \r\n&gt; Now I&#39;ve 2 `Date` Objects.\r\n&gt; \r\n&gt;  - How do I find Difference between them in terms of `days`, `months`, and\r\n&gt; `years`?\r\n&gt; - How to Subtract particular no. of days, say `7`, from a\r\n&gt; particular date, say `2012-01-05`?\r\n\r\nSolution using `java.time`, the modern Date-Time API:\r\n--\r\n\r\nWith `java.time`, you can parse your date string into a `LocalDate` and then find the [`Period`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html) between this date and the current date (which you obtain with `LocalDate.now()`). You can also subtract days, months, and years using methods like `minusXxx`/`minus`. You have similar methods (`plusXxx`/`plus`) for adding these units. Check [the documentation of `LocalDate`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html) to learn more about it.\r\n\r\n**Note**: `java.time` API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and therefore you do not need a `DateTimeFormatter` to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, `2012-06-22`).\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            LocalDate then = LocalDate.parse(&quot;2012-06-22&quot;);\r\n            LocalDate now = LocalDate.now();\r\n    \r\n            Period period = Period.between(then, now);\r\n            System.out.println(period);\r\n            System.out.printf(&quot;%d years %d months %d days%n&quot;, \r\n               period.getYears(), period.getMonths(), period.getDays());\r\n    \r\n            // Examples of subtracting date units\r\n            LocalDate sevenDaysAgo = now.minusDays(7);\r\n            System.out.println(sevenDaysAgo);\r\n            // Alternatively\r\n            sevenDaysAgo = now.minus(7, ChronoUnit.DAYS);\r\n            System.out.println(sevenDaysAgo);\r\n        }\r\n    }\r\n\r\n**Output from a sample run:**\r\n\r\n    P10Y6M27D\r\n    10 years 6 months 27 days\r\n    2023-01-11\r\n    2023-01-11\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/40NmZn)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Subtracting and comparing Dates","body":"<h2>java.time</h2>\n<p>The question and the accepted answer have used the <code>java.util</code> Date-Time API and their parsing/formatting API, <code>SimpleDateFormat</code> which was appropriate thing to do using the standard library in 2012. In March 2014, Java 8 introduced the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> which supplanted the legacy API and since then it is highly recommended to use the modern Date-Time API.</p>\n<p>Also, quoted below is a notice from the <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">home page of <strong>Joda-Time</strong></a>:</p>\n<blockquote>\n<p><strong>Note that from Java SE 8 onwards, users are asked to migrate to</strong> <code>java.time</code> <strong>(JSR-310) - a core part of the JDK which replaces this project.</strong></p>\n</blockquote>\n<h2>Requirements copied from your question:</h2>\n<blockquote>\n<p>From your suggestions, I'll be able to convert <code>String</code> to <code>Date</code> by using\nparse method of <code>SimpleDateFormat</code>.</p>\n<p>Now I've 2 <code>Date</code> Objects.</p>\n<ul>\n<li>How do I find Difference between them in terms of <code>days</code>, <code>months</code>, and\n<code>years</code>?</li>\n<li>How to Subtract particular no. of days, say <code>7</code>, from a\nparticular date, say <code>2012-01-05</code>?</li>\n</ul>\n</blockquote>\n<h2>Solution using <code>java.time</code>, the modern Date-Time API:</h2>\n<p>With <code>java.time</code>, you can parse your date string into a <code>LocalDate</code> and then find the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Period.html\" rel=\"nofollow noreferrer\"><code>Period</code></a> between this date and the current date (which you obtain with <code>LocalDate.now()</code>). You can also subtract days, months, and years using methods like <code>minusXxx</code>/<code>minus</code>. You have similar methods (<code>plusXxx</code>/<code>plus</code>) for adding these units. Check <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">the documentation of <code>LocalDate</code></a> to learn more about it.</p>\n<p><strong>Note</strong>: <code>java.time</code> API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and therefore you do not need a <code>DateTimeFormatter</code> to parse a date-time string which is already in ISO 8601 format (e.g. your date-time string, <code>2012-06-22</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.Period;\nimport java.time.temporal.ChronoUnit;\n\nclass Main {\n    public static void main(String[] args) {\n        LocalDate then = LocalDate.parse(&quot;2012-06-22&quot;);\n        LocalDate now = LocalDate.now();\n\n        Period period = Period.between(then, now);\n        System.out.println(period);\n        System.out.printf(&quot;%d years %d months %d days%n&quot;, \n           period.getYears(), period.getMonths(), period.getDays());\n\n        // Examples of subtracting date units\n        LocalDate sevenDaysAgo = now.minusDays(7);\n        System.out.println(sevenDaysAgo);\n        // Alternatively\n        sevenDaysAgo = now.minus(7, ChronoUnit.DAYS);\n        System.out.println(sevenDaysAgo);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>P10Y6M27D\n10 years 6 months 27 days\n2023-01-11\n2023-01-11\n</code></pre>\n<p><a href=\"https://ideone.com/40NmZn\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":1059872,"reputation":5968,"user_id":1061728,"accept_rate":91,"display_name":"GAMA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11152877,"answer_count":5,"score":1,"last_activity_date":1674661912,"creation_date":1340354421,"question_id":11152851,"body_markdown":"I have found some similar Que&#39;s on *SO* but had not find the solution.\r\n\r\nI have today&#39;s `Date` as following: (Let&#39;s say this as **Date1** and it&#39;s value as `2012-06-22`)\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n\t\tSimpleDateFormat dateformatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tDate start = cal.getTime();\r\n        String currentDate=dateformatter.format(start);\r\n******\r\nI&#39;m retrieving 4 values from the user:\r\n\r\n - Particular Date (Assume `5`)\r\n - Particular Month (Assume `1`)\r\n - Particular Year (Assume `2012`)\r\n - No. of days (Assume `7`)\r\n\r\nSo this date, say **Date2** becomes `2012-01-05` (*yyyy-MM-dd*) along with **No. of days** set to `7`.\r\n\r\n*******\r\nI want to compare **Date 1** and **Date 2-No. of days**.\r\n\r\nI know that by using following snippet, particular no. of days can be subtracted from a calender instance.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.add(Calendar.DATE, -7);\r\n\r\nBut since I&#39;m having **Date2** in form of `String`, I&#39;m not able to follow this approach.\r\n\r\nAny help appreciated. \r\n\r\nEdit:\r\n-\r\nFrom your suggestions, I&#39;ll be able to convert `String` to `Date` by using `parse` method of `SimpleDateFormat`.\r\n\r\nNow I&#39;ve 2 `Date` Objects.\r\n\r\n - How do I find **Difference** between them in terms of `days`, `months`, and `years`?\r\n - How to **Subtract** particular no. of days, say `7`, from a particular date, say `2012-01-05`?","title":"Subtracting and comparing Dates","body":"<p>I have found some similar Que's on <em>SO</em> but had not find the solution.</p>\n\n<p>I have today's <code>Date</code> as following: (Let's say this as <strong>Date1</strong> and it's value as <code>2012-06-22</code>)</p>\n\n<pre><code>    Calendar cal = Calendar.getInstance();\n    SimpleDateFormat dateformatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n    Date start = cal.getTime();\n    String currentDate=dateformatter.format(start);\n</code></pre>\n\n<hr>\n\n<p>I'm retrieving 4 values from the user:</p>\n\n<ul>\n<li>Particular Date (Assume <code>5</code>)</li>\n<li>Particular Month (Assume <code>1</code>)</li>\n<li>Particular Year (Assume <code>2012</code>)</li>\n<li>No. of days (Assume <code>7</code>)</li>\n</ul>\n\n<p>So this date, say <strong>Date2</strong> becomes <code>2012-01-05</code> (<em>yyyy-MM-dd</em>) along with <strong>No. of days</strong> set to <code>7</code>.</p>\n\n<hr>\n\n<p>I want to compare <strong>Date 1</strong> and <strong>Date 2-No. of days</strong>.</p>\n\n<p>I know that by using following snippet, particular no. of days can be subtracted from a calender instance.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.add(Calendar.DATE, -7);\n</code></pre>\n\n<p>But since I'm having <strong>Date2</strong> in form of <code>String</code>, I'm not able to follow this approach.</p>\n\n<p>Any help appreciated. </p>\n\n<h2>Edit:</h2>\n\n<p>From your suggestions, I'll be able to convert <code>String</code> to <code>Date</code> by using <code>parse</code> method of <code>SimpleDateFormat</code>.</p>\n\n<p>Now I've 2 <code>Date</code> Objects.</p>\n\n<ul>\n<li>How do I find <strong>Difference</strong> between them in terms of <code>days</code>, <code>months</code>, and <code>years</code>?</li>\n<li>How to <strong>Subtract</strong> particular no. of days, say <code>7</code>, from a particular date, say <code>2012-01-05</code>?</li>\n</ul>\n"},{"tags":["java","spring-boot","java-17"],"owner":{"account_id":6006179,"reputation":2415,"user_id":4718042,"display_name":"Bradley D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674661859,"creation_date":1674661859,"question_id":75236474,"body_markdown":"After upgrading to Java 17 and Spring Boot 3.0.1, jakarta is also replacing javax. You can add as many datasources as you like, as long as they share the same username/password and driveClassName.  However, what if you have two datasources with different creds?  There doesn&#39;t seem to be an equivalent to how javax handles this. i.e., see first answer here with the Config class...  \r\nhttps://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources\r\n\r\nWhat is the jakarta equivalent or how do we configure this?","title":"Primary and Secondary datasource using jakarta instead of javax","body":"<p>After upgrading to Java 17 and Spring Boot 3.0.1, jakarta is also replacing javax. You can add as many datasources as you like, as long as they share the same username/password and driveClassName.  However, what if you have two datasources with different creds?  There doesn't seem to be an equivalent to how javax handles this. i.e., see first answer here with the Config class...<br />\n<a href=\"https://stackoverflow.com/questions/30337582/spring-boot-configure-and-use-two-data-sources\">Spring Boot configure and use two data sources</a></p>\n<p>What is the jakarta equivalent or how do we configure this?</p>\n"},{"tags":["java","spring-boot","activemq","spring-jms","jmstemplate"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1674661926,"post_id":75236332,"comment_id":132763089,"body_markdown":"Have you tried setting the [`prefetchPolicy`](http://activemq.apache.org/what-is-the-prefetch-limit-for.html) on your `ActiveMQSslConnectionFactory` instance? The default queue prefetch is `1000`. Try setting this to `0` instead. You can do this via your connection URL or programmatically directly on the `ActiveMQSslConnectionFactory` instance.","body":"Have you tried setting the <a href=\"http://activemq.apache.org/what-is-the-prefetch-limit-for.html\" rel=\"nofollow noreferrer\"><code>prefetchPolicy</code></a> on your <code>ActiveMQSslConnectionFactory</code> instance? The default queue prefetch is <code>1000</code>. Try setting this to <code>0</code> instead. You can do this via your connection URL or programmatically directly on the <code>ActiveMQSslConnectionFactory</code> instance."},{"owner":{"account_id":26684400,"reputation":1,"user_id":20293929,"display_name":"Parth"},"score":0,"creation_date":1674663240,"post_id":75236332,"comment_id":132763587,"body_markdown":"Yes I tried setting it to 0 and 1 as well, still same result","body":"Yes I tried setting it to 0 and 1 as well, still same result"}],"owner":{"account_id":26684400,"reputation":1,"user_id":20293929,"display_name":"Parth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674661695,"creation_date":1674661257,"question_id":75236332,"body_markdown":"This is my JMS configuration:\r\n```java\r\n@EnableJms\r\n@Configuration\r\npublic class VmsJmsConfig implements JmsListenerConfigurer {\r\n\r\n    @Value(&quot;${spring.activemq.broker-url}&quot;)\r\n    String brokerUrl;\r\n    @Value(&quot;${spring.activemq.ssl.trustStorePath}&quot;)\r\n    String trustStorePath;\r\n    @Value(&quot;${spring.activemq.ssl.trustStorePass}&quot;)\r\n    String trustStorePass;\r\n\r\n    @Bean\r\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory conFactory) {\r\n        DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory = new DefaultJmsListenerContainerFactory();\r\n\r\n        defaultJmsListenerContainerFactory.setConnectionFactory(conFactory);\r\n        defaultJmsListenerContainerFactory.setConcurrency(&quot;10-20&quot;);\r\n        return defaultJmsListenerContainerFactory;\r\n    }\r\n\r\n    @Bean(&quot;conFactory&quot;)\r\n    public ConnectionFactory activeMQSslConnectionFactory() throws Exception {\r\n        ActiveMQSslConnectionFactory activeMQSslConnectionFactory = new ActiveMQSslConnectionFactory(brokerUrl);\r\n        activeMQSslConnectionFactory.setTrustStore(trustStorePath);\r\n        activeMQSslConnectionFactory.setTrustStorePassword(trustStorePass);\r\n\r\n        return activeMQSslConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\r\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\r\n        factory.setMessageConverter(messageConverter());\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter messageConverter() {\r\n        return new MappingJackson2MessageConverter();\r\n    }\r\n\r\n    @Override\r\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\r\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\r\n    }\r\n}\r\n```\r\n\r\nMy app is listening to an ActiveMQ queue. It consumes a message, transforms it, sends a downstream request, waits for the response, and sends that response to another queue.\r\n\r\nI want it to consume multiple messages at the same time and process them in parallel, but no matter how many consumer I set in `setConcurrency()` it only consumes 1 message at a time, and there are more than 1000 messages pending in queue.\r\n\r\nI tried changing the `concurency`, but no luck. But when I comment downstream call, it consumes 10-20 messages at a time, I couldn&#39;t find reason for that.","title":"DefaultJmsListnerContainerFactory concurrency not working","body":"<p>This is my JMS configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableJms\n@Configuration\npublic class VmsJmsConfig implements JmsListenerConfigurer {\n\n    @Value(&quot;${spring.activemq.broker-url}&quot;)\n    String brokerUrl;\n    @Value(&quot;${spring.activemq.ssl.trustStorePath}&quot;)\n    String trustStorePath;\n    @Value(&quot;${spring.activemq.ssl.trustStorePass}&quot;)\n    String trustStorePass;\n\n    @Bean\n    public DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory(ConnectionFactory conFactory) {\n        DefaultJmsListenerContainerFactory defaultJmsListenerContainerFactory = new DefaultJmsListenerContainerFactory();\n\n        defaultJmsListenerContainerFactory.setConnectionFactory(conFactory);\n        defaultJmsListenerContainerFactory.setConcurrency(&quot;10-20&quot;);\n        return defaultJmsListenerContainerFactory;\n    }\n\n    @Bean(&quot;conFactory&quot;)\n    public ConnectionFactory activeMQSslConnectionFactory() throws Exception {\n        ActiveMQSslConnectionFactory activeMQSslConnectionFactory = new ActiveMQSslConnectionFactory(brokerUrl);\n        activeMQSslConnectionFactory.setTrustStore(trustStorePath);\n        activeMQSslConnectionFactory.setTrustStorePassword(trustStorePass);\n\n        return activeMQSslConnectionFactory;\n    }\n\n    @Bean\n    public DefaultMessageHandlerMethodFactory handlerMethodFactory() {\n        DefaultMessageHandlerMethodFactory factory = new DefaultMessageHandlerMethodFactory();\n        factory.setMessageConverter(messageConverter());\n        return factory;\n    }\n\n    @Bean\n    public MessageConverter messageConverter() {\n        return new MappingJackson2MessageConverter();\n    }\n\n    @Override\n    public void configureJmsListeners(JmsListenerEndpointRegistrar registrar) {\n        registrar.setMessageHandlerMethodFactory(handlerMethodFactory());\n    }\n}\n</code></pre>\n<p>My app is listening to an ActiveMQ queue. It consumes a message, transforms it, sends a downstream request, waits for the response, and sends that response to another queue.</p>\n<p>I want it to consume multiple messages at the same time and process them in parallel, but no matter how many consumer I set in <code>setConcurrency()</code> it only consumes 1 message at a time, and there are more than 1000 messages pending in queue.</p>\n<p>I tried changing the <code>concurency</code>, but no luck. But when I comment downstream call, it consumes 10-20 messages at a time, I couldn't find reason for that.</p>\n"},{"tags":["java","android","json","android-intent"],"comments":[{"owner":{"account_id":3549806,"reputation":8516,"user_id":2964945,"display_name":"Melquiades"},"score":0,"creation_date":1392738307,"post_id":21858528,"comment_id":33090525,"body_markdown":"What are your extras?","body":"What are your extras?"},{"owner":{"account_id":52849,"reputation":1479,"user_id":157983,"accept_rate":73,"display_name":"Murph"},"score":0,"creation_date":1392738829,"post_id":21858528,"comment_id":33090943,"body_markdown":"I&#39;m not looking to handle specific sets of extras. I&#39;d like some general code to do it, since this codepath could be used with arbitrary data by other developers than myself.","body":"I&#39;m not looking to handle specific sets of extras. I&#39;d like some general code to do it, since this codepath could be used with arbitrary data by other developers than myself."}],"answers":[{"comments":[{"owner":{"account_id":245013,"reputation":7966,"user_id":518251,"display_name":"Cameron Ketcham"},"score":1,"creation_date":1398966285,"post_id":21859000,"comment_id":35877160,"body_markdown":"This implementation doesn&#39;t seem to handle maps or lists correctly. You should check the type of the object that you get from the bundle, if it is a map you can use the new JSONObject(map) constructor, and if it is a list you can use new JSONArray(list)","body":"This implementation doesn&#39;t seem to handle maps or lists correctly. You should check the type of the object that you get from the bundle, if it is a map you can use the new JSONObject(map) constructor, and if it is a list you can use new JSONArray(list)"},{"owner":{"account_id":402370,"reputation":2097,"user_id":769501,"display_name":"Makario"},"score":1,"creation_date":1398969580,"post_id":21859000,"comment_id":35878975,"body_markdown":"Good call. If you don&#39;t want to do the checking, there&#39;s also a `JSONObject#wrap` method that will wrap it for you.","body":"Good call. If you don&#39;t want to do the checking, there&#39;s also a <code>JSONObject#wrap</code> method that will wrap it for you."},{"owner":{"account_id":245013,"reputation":7966,"user_id":518251,"display_name":"Cameron Ketcham"},"score":0,"creation_date":1398979996,"post_id":21859000,"comment_id":35884504,"body_markdown":"Cool. I didn&#39;t know that function existed, that makes it a lot easier.","body":"Cool. I didn&#39;t know that function existed, that makes it a lot easier."},{"owner":{"account_id":245013,"reputation":7966,"user_id":518251,"display_name":"Cameron Ketcham"},"score":3,"creation_date":1398981285,"post_id":21859000,"comment_id":35885050,"body_markdown":"Just noticed that function is only available in version 19 of the android SDK, but you can just copy that function from the source. https://android.googlesource.com/platform/libcore/+/master/json/src/main/java/org/json/JSONObject.java","body":"Just noticed that function is only available in version 19 of the android SDK, but you can just copy that function from the source. <a href=\"https://android.googlesource.com/platform/libcore/+/master/json/src/main/java/org/json/JSONObject.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/libcore/+/master/json/src/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":402370,"reputation":2097,"user_id":769501,"display_name":"Makario"},"score":1,"creation_date":1398982328,"post_id":21859000,"comment_id":35885467,"body_markdown":"Boo. Updated the answer to reflect that.","body":"Boo. Updated the answer to reflect that."}],"tags":[],"owner":{"account_id":402370,"reputation":2097,"user_id":769501,"display_name":"Makario"},"comment_count":5,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1398982292,"creation_date":1392739331,"answer_id":21859000,"question_id":21858528,"body_markdown":"You can use `Bundle#keySet()` to get a list of keys that a Bundle contains. You can then iterate through those keys and add each key-value pair into a `JSONObject`:\r\n\r\n    JSONObject json = new JSONObject();\r\n    Set&lt;String&gt; keys = bundle.keySet();\r\n    for (String key : keys) {\r\n        try {\r\n            // json.put(key, bundle.get(key)); see edit below\r\n            json.put(key, JSONObject.wrap(bundle.get(key)));\r\n        } catch(JSONException e) {\r\n            //Handle exception here\r\n        }\r\n    }\r\n\r\nNote that `JSONObject#put` will require you to catch a `JSONException`.\r\n\r\n**Edit:**\r\n\r\nIt was pointed out that the previous code didn&#39;t handle `Collection` and `Map` types very well.  If you&#39;re using API 19 or higher, there&#39;s a `JSONObject#wrap` method that will help if that&#39;s important to you. From the [docs][1]:\r\n\r\n&gt; Wrap an object, if necessary. If the object is null, return the NULL\r\n&gt; object. If it is an array or collection, wrap it in a JSONArray. If it\r\n&gt; is a map, wrap it in a JSONObject. If it is a standard property\r\n&gt; (Double, String, et al) then it is already wrapped. Otherwise, if it\r\n&gt; comes from one of the java packages, turn it into a string. And if it\r\n&gt; doesn&#39;t, try to wrap it in a JSONObject. If the wrapping fails, then\r\n&gt; null is returned.\r\n\r\n\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html#wrap%28java.lang.Object%29","title":"Convert a Bundle to JSON","body":"<p>You can use <code>Bundle#keySet()</code> to get a list of keys that a Bundle contains. You can then iterate through those keys and add each key-value pair into a <code>JSONObject</code>:</p>\n\n<pre><code>JSONObject json = new JSONObject();\nSet&lt;String&gt; keys = bundle.keySet();\nfor (String key : keys) {\n    try {\n        // json.put(key, bundle.get(key)); see edit below\n        json.put(key, JSONObject.wrap(bundle.get(key)));\n    } catch(JSONException e) {\n        //Handle exception here\n    }\n}\n</code></pre>\n\n<p>Note that <code>JSONObject#put</code> will require you to catch a <code>JSONException</code>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>It was pointed out that the previous code didn't handle <code>Collection</code> and <code>Map</code> types very well.  If you're using API 19 or higher, there's a <code>JSONObject#wrap</code> method that will help if that's important to you. From the <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#wrap%28java.lang.Object%29\">docs</a>:</p>\n\n<blockquote>\n  <p>Wrap an object, if necessary. If the object is null, return the NULL\n  object. If it is an array or collection, wrap it in a JSONArray. If it\n  is a map, wrap it in a JSONObject. If it is a standard property\n  (Double, String, et al) then it is already wrapped. Otherwise, if it\n  comes from one of the java packages, turn it into a string. And if it\n  doesn't, try to wrap it in a JSONObject. If the wrapping fails, then\n  null is returned.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2932017,"reputation":11,"user_id":2512010,"display_name":"Carlos Andres Acevedo"},"score":0,"creation_date":1461215721,"post_id":36760212,"comment_id":61099366,"body_markdown":"I used gson because JSONObject.wrap requires Build 19. if you have an expected object just deserialized using gson. :P","body":"I used gson because JSONObject.wrap requires Build 19. if you have an expected object just deserialized using gson. :P"}],"tags":[],"owner":{"account_id":2932017,"reputation":11,"user_id":2512010,"display_name":"Carlos Andres Acevedo"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461215676,"creation_date":1461215676,"answer_id":36760212,"question_id":21858528,"body_markdown":"    Object myJsonObj = bundleObject.get(&quot;yourKey&quot;);\r\n    JsonParser parser = new JsonParser();\r\n    JsonObject json = parser.parse(myJsonObj.toString()).getAsJsonObject();\r\n    json.get(&quot;memberInJson&quot;).getAsString();","title":"Convert a Bundle to JSON","body":"<pre><code>Object myJsonObj = bundleObject.get(\"yourKey\");\nJsonParser parser = new JsonParser();\nJsonObject json = parser.parse(myJsonObj.toString()).getAsJsonObject();\njson.get(\"memberInJson\").getAsString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1963860,"reputation":358,"user_id":1764601,"display_name":"Dmitry"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465481095,"creation_date":1465481095,"answer_id":37728241,"question_id":21858528,"body_markdown":"    \r\n    private String getJson(final Bundle bundle) {\r\n        if (bundle == null) return null;\r\n        JSONObject jsonObject = new JSONObject();\r\n\r\n        for (String key : bundle.keySet()) {\r\n            Object obj = bundle.get(key);\r\n            try {\r\n                jsonObject.put(key, wrap(bundle.get(key)));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return jsonObject.toString();\r\n    }\r\n\r\n    public static Object wrap(Object o) {\r\n        if (o == null) {\r\n            return JSONObject.NULL;\r\n        }\r\n        if (o instanceof JSONArray || o instanceof JSONObject) {\r\n            return o;\r\n        }\r\n        if (o.equals(JSONObject.NULL)) {\r\n            return o;\r\n        }\r\n        try {\r\n            if (o instanceof Collection) {\r\n                return new JSONArray((Collection) o);\r\n            } else if (o.getClass().isArray()) {\r\n                return toJSONArray(o);\r\n            }\r\n            if (o instanceof Map) {\r\n                return new JSONObject((Map) o);\r\n            }\r\n            if (o instanceof Boolean ||\r\n                    o instanceof Byte ||\r\n                    o instanceof Character ||\r\n                    o instanceof Double ||\r\n                    o instanceof Float ||\r\n                    o instanceof Integer ||\r\n                    o instanceof Long ||\r\n                    o instanceof Short ||\r\n                    o instanceof String) {\r\n                return o;\r\n            }\r\n            if (o.getClass().getPackage().getName().startsWith(&quot;java.&quot;)) {\r\n                return o.toString();\r\n            }\r\n        } catch (Exception ignored) {\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static JSONArray toJSONArray(Object array) throws JSONException {\r\n        JSONArray result = new JSONArray();\r\n        if (!array.getClass().isArray()) {\r\n            throw new JSONException(&quot;Not a primitive array: &quot; + array.getClass());\r\n        }\r\n        final int length = Array.getLength(array);\r\n        for (int i = 0; i &lt; length; ++i) {\r\n            result.put(wrap(Array.get(array, i)));\r\n        }\r\n        return result;\r\n    }\r\n","title":"Convert a Bundle to JSON","body":"<pre><code>private String getJson(final Bundle bundle) {\n    if (bundle == null) return null;\n    JSONObject jsonObject = new JSONObject();\n\n    for (String key : bundle.keySet()) {\n        Object obj = bundle.get(key);\n        try {\n            jsonObject.put(key, wrap(bundle.get(key)));\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n    }\n    return jsonObject.toString();\n}\n\npublic static Object wrap(Object o) {\n    if (o == null) {\n        return JSONObject.NULL;\n    }\n    if (o instanceof JSONArray || o instanceof JSONObject) {\n        return o;\n    }\n    if (o.equals(JSONObject.NULL)) {\n        return o;\n    }\n    try {\n        if (o instanceof Collection) {\n            return new JSONArray((Collection) o);\n        } else if (o.getClass().isArray()) {\n            return toJSONArray(o);\n        }\n        if (o instanceof Map) {\n            return new JSONObject((Map) o);\n        }\n        if (o instanceof Boolean ||\n                o instanceof Byte ||\n                o instanceof Character ||\n                o instanceof Double ||\n                o instanceof Float ||\n                o instanceof Integer ||\n                o instanceof Long ||\n                o instanceof Short ||\n                o instanceof String) {\n            return o;\n        }\n        if (o.getClass().getPackage().getName().startsWith(\"java.\")) {\n            return o.toString();\n        }\n    } catch (Exception ignored) {\n    }\n    return null;\n}\n\npublic static JSONArray toJSONArray(Object array) throws JSONException {\n    JSONArray result = new JSONArray();\n    if (!array.getClass().isArray()) {\n        throw new JSONException(\"Not a primitive array: \" + array.getClass());\n    }\n    final int length = Array.getLength(array);\n    for (int i = 0; i &lt; length; ++i) {\n        result.put(wrap(Array.get(array, i)));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51548,"reputation":1773,"user_id":154059,"accept_rate":0,"display_name":"inder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501515583,"creation_date":1501515583,"answer_id":45420083,"question_id":21858528,"body_markdown":"Here is a Gson type adapter factory that converts a Bundle to JSON.\r\n\r\nhttps://github.com/google-gson/typeadapters/blob/master/android/src/main/java/BundleTypeAdapterFactory.java","title":"Convert a Bundle to JSON","body":"<p>Here is a Gson type adapter factory that converts a Bundle to JSON.</p>\n\n<p><a href=\"https://github.com/google-gson/typeadapters/blob/master/android/src/main/java/BundleTypeAdapterFactory.java\" rel=\"nofollow noreferrer\">https://github.com/google-gson/typeadapters/blob/master/android/src/main/java/BundleTypeAdapterFactory.java</a></p>\n"},{"tags":[],"owner":{"account_id":7219246,"reputation":121,"user_id":5510459,"display_name":"RLU"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633066218,"creation_date":1633007401,"answer_id":69392840,"question_id":21858528,"body_markdown":"If the bundle has nested bundles then `JSONObject.wrap(bundle.get(key))` will return `null`. So I managed to get it to work for my use case with this recursive function. Haven&#39;t tested more advanced use cases though.\r\n\r\n```java\r\nJSONObject json = convertBundleToJson(bundle);\r\n\r\npublic JSONObject convertBundleToJson(Bundle bundle) {\r\n    JSONObject json = new JSONObject();\r\n    Set&lt;String&gt; keys = bundle.keySet();\r\n\r\n    for (String key : keys) {\r\n        try {\r\n            if (bundle.get(key) != null &amp;&amp; bundle.get(key).getClass().getName().equals(&quot;android.os.Bundle&quot;)) {\r\n                Bundle nestedBundle = (Bundle) bundle.get(key);\r\n                json.put(key, convertToJson(nestedBundle));\r\n            } else {\r\n                json.put(key, JSONObject.wrap(bundle.get(key)));\r\n            }\r\n        } catch(JSONException e) {\r\n            System.out.println(e.toString());\r\n        }\r\n    }\r\n\r\n    return json;\r\n}\r\n```","title":"Convert a Bundle to JSON","body":"<p>If the bundle has nested bundles then <code>JSONObject.wrap(bundle.get(key))</code> will return <code>null</code>. So I managed to get it to work for my use case with this recursive function. Haven't tested more advanced use cases though.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject json = convertBundleToJson(bundle);\n\npublic JSONObject convertBundleToJson(Bundle bundle) {\n    JSONObject json = new JSONObject();\n    Set&lt;String&gt; keys = bundle.keySet();\n\n    for (String key : keys) {\n        try {\n            if (bundle.get(key) != null &amp;&amp; bundle.get(key).getClass().getName().equals(&quot;android.os.Bundle&quot;)) {\n                Bundle nestedBundle = (Bundle) bundle.get(key);\n                json.put(key, convertToJson(nestedBundle));\n            } else {\n                json.put(key, JSONObject.wrap(bundle.get(key)));\n            }\n        } catch(JSONException e) {\n            System.out.println(e.toString());\n        }\n    }\n\n    return json;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6326429,"reputation":31,"user_id":4912772,"display_name":"Niraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674661620,"creation_date":1674643378,"answer_id":75232791,"question_id":21858528,"body_markdown":"\r\n    private static void createFlatJSon(Bundle appRestrictions, JSONObject jsonObject) throws JSONException{\r\n        for (String key : appRestrictions.keySet()) {\r\n            if (appRestrictions.get(key) instanceof Bundle) {\r\n               Bundle bundle = (Bundle)appRestrictions.get(key);\r\n                Map&lt;String, String&gt; map = ((Bundle)appRestrictions.get(key)).keySet().stream().collect(Collectors.toMap(x -&gt; x, x -&gt; bundle.get(x).toString()));\r\n                JSONObject jsonNested = new JSONObject(map);\r\n                jsonObject.put(key,jsonNested);\r\n                //createFlatJSon((Bundle) appRestrictions.get(key),jsonObject);\r\n            }else if (appRestrictions.get(key) instanceof Parcelable[]){\r\n                for (int i=0;i&lt; ((Parcelable[]) appRestrictions.get(key)).length; i++){\r\n                    createFlatJSon((Bundle)((Parcelable[]) appRestrictions.get(key))[i],jsonObject);\r\n                }\r\n                //Log.e(&quot;KEY skipped&quot;,appRestrictions.get(key).toString());\r\n            }else{\r\n                // map = appRestrictions.keySet().stream().collect(Collectors.toMap(x -&gt; x, x -&gt; appRestrictions.get(x).toString()));// Use this if don&#39;t want to modify the keys\r\n                Log.e(&quot;KEY: &quot;, key + &quot; Value:&quot; + appRestrictions.getString(key));\r\n                Log.e(&quot;KEY: &quot;, key + &quot; Value:&quot; + appRestrictions.get(key).getClass().getSimpleName());\r\n                if (appRestrictions.get(key) instanceof String[]){\r\n                    JSONArray jsonArray = new JSONArray();\r\n                    for (String value : (String[])appRestrictions.get(key)) {\r\n                        jsonArray.put(value);\r\n                    }\r\n                    jsonObject.put(key,jsonArray);\r\n                }else {\r\n                     jsonObject.put(key, appRestrictions.get(key).toString());\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n    }","title":"Convert a Bundle to JSON","body":"<pre><code>private static void createFlatJSon(Bundle appRestrictions, JSONObject jsonObject) throws JSONException{\n    for (String key : appRestrictions.keySet()) {\n        if (appRestrictions.get(key) instanceof Bundle) {\n           Bundle bundle = (Bundle)appRestrictions.get(key);\n            Map&lt;String, String&gt; map = ((Bundle)appRestrictions.get(key)).keySet().stream().collect(Collectors.toMap(x -&gt; x, x -&gt; bundle.get(x).toString()));\n            JSONObject jsonNested = new JSONObject(map);\n            jsonObject.put(key,jsonNested);\n            //createFlatJSon((Bundle) appRestrictions.get(key),jsonObject);\n        }else if (appRestrictions.get(key) instanceof Parcelable[]){\n            for (int i=0;i&lt; ((Parcelable[]) appRestrictions.get(key)).length; i++){\n                createFlatJSon((Bundle)((Parcelable[]) appRestrictions.get(key))[i],jsonObject);\n            }\n            //Log.e(&quot;KEY skipped&quot;,appRestrictions.get(key).toString());\n        }else{\n            // map = appRestrictions.keySet().stream().collect(Collectors.toMap(x -&gt; x, x -&gt; appRestrictions.get(x).toString()));// Use this if don't want to modify the keys\n            Log.e(&quot;KEY: &quot;, key + &quot; Value:&quot; + appRestrictions.getString(key));\n            Log.e(&quot;KEY: &quot;, key + &quot; Value:&quot; + appRestrictions.get(key).getClass().getSimpleName());\n            if (appRestrictions.get(key) instanceof String[]){\n                JSONArray jsonArray = new JSONArray();\n                for (String value : (String[])appRestrictions.get(key)) {\n                    jsonArray.put(value);\n                }\n                jsonObject.put(key,jsonArray);\n            }else {\n                 jsonObject.put(key, appRestrictions.get(key).toString());\n            }\n        }\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":52849,"reputation":1479,"user_id":157983,"accept_rate":73,"display_name":"Murph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31516,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":21859000,"answer_count":6,"score":30,"last_activity_date":1674661620,"creation_date":1392738150,"question_id":21858528,"body_markdown":"I&#39;d like to convert the an Intent&#39;s extras Bundle into a JSONObject so that I can pass it to/from JavaScript.\r\n\r\nIs there a quick or best way to do this conversion? It would be alright if not all possible Bundles will work.","title":"Convert a Bundle to JSON","body":"<p>I'd like to convert the an Intent's extras Bundle into a JSONObject so that I can pass it to/from JavaScript.</p>\n\n<p>Is there a quick or best way to do this conversion? It would be alright if not all possible Bundles will work.</p>\n"},{"tags":["java","oop","arraylist"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":1,"creation_date":1674661834,"post_id":75236416,"comment_id":132763055,"body_markdown":"The usual approach is: Read the CSV file line by line. Write each line to a temp file unless it is your wrong record. Or modify the record before writing it. After that you delete the original file and rename the temp file to the original name.","body":"The usual approach is: Read the CSV file line by line. Write each line to a temp file unless it is your wrong record. Or modify the record before writing it. After that you delete the original file and rename the temp file to the original name."}],"owner":{"account_id":27619751,"reputation":1,"user_id":21081071,"display_name":"user21081071"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674661618,"creation_date":1674661618,"question_id":75236416,"body_markdown":"I&#39;m trying to create a csv file with names and ID numbers in order to create individual users. It is also used to identify whether an user has admin status or not (boolean). If I accidentally input a user as an admin when they are not, how can I delete that user or edit his status? I am using an array list. Thanks.\r\n\r\nI&#39;ve included my load method for any clarification needed. I&#39;m new to Stack Overflow so please excuse any formatting errors.  \r\n\r\n```\r\npublic static void load() throws IOException\r\n    {\r\n        System.out.println(&quot;&lt;&lt;&lt; Loading users &gt;&gt;&gt;&quot;);\r\n        File userFile = new File(&quot;user.csv&quot;);\r\n        if (!userFile.exists())\r\n        {\r\n            userFile.createNewFile();\r\n            System.out.println(&quot;Data file not found.&quot;);\r\n            add(); // or go and add an item --&gt;addItem()\r\n        }\r\n        FileReader fr = new FileReader(userFile);\r\n        BufferedReader in = new BufferedReader(fr); //read mode\r\n        String newfirstName = &quot;&quot;;\r\n        int newSchool_ID = 0;\r\n        String admin = &quot;Y&quot;;\r\n        String isAdmin = &quot;&quot;;\r\n        boolean newisAdmin = false;\r\n        String temp;\r\n        users.clear();\r\n        temp = in.readLine(); // read the heading and ignore it\r\n        while (in.ready())  // read lines while file has content\r\n        {\r\n            newisAdmin = false;\r\n            temp = in.readLine();\r\n            String[] line = temp.split(&quot;,&quot;);\r\n            newfirstName = line[0];\r\n            newSchool_ID = Integer.parseInt(line[1]);\r\n            if(admin.equals(line[2])){\r\n                isAdmin = &quot;Admin&quot;;\r\n                newisAdmin = true;\r\n            }\r\n            User newUser = new User(newfirstName, newSchool_ID, newisAdmin);\r\n            users.add(newUser);\r\n        }\r\n        in.close();\r\n        System.out.println(&quot;User loaded.&quot;);\r\n    } \r\n```","title":"How do I delete a row or amend an element in a CSV file using Java?","body":"<p>I'm trying to create a csv file with names and ID numbers in order to create individual users. It is also used to identify whether an user has admin status or not (boolean). If I accidentally input a user as an admin when they are not, how can I delete that user or edit his status? I am using an array list. Thanks.</p>\n<p>I've included my load method for any clarification needed. I'm new to Stack Overflow so please excuse any formatting errors.</p>\n<pre><code>public static void load() throws IOException\n    {\n        System.out.println(&quot;&lt;&lt;&lt; Loading users &gt;&gt;&gt;&quot;);\n        File userFile = new File(&quot;user.csv&quot;);\n        if (!userFile.exists())\n        {\n            userFile.createNewFile();\n            System.out.println(&quot;Data file not found.&quot;);\n            add(); // or go and add an item --&gt;addItem()\n        }\n        FileReader fr = new FileReader(userFile);\n        BufferedReader in = new BufferedReader(fr); //read mode\n        String newfirstName = &quot;&quot;;\n        int newSchool_ID = 0;\n        String admin = &quot;Y&quot;;\n        String isAdmin = &quot;&quot;;\n        boolean newisAdmin = false;\n        String temp;\n        users.clear();\n        temp = in.readLine(); // read the heading and ignore it\n        while (in.ready())  // read lines while file has content\n        {\n            newisAdmin = false;\n            temp = in.readLine();\n            String[] line = temp.split(&quot;,&quot;);\n            newfirstName = line[0];\n            newSchool_ID = Integer.parseInt(line[1]);\n            if(admin.equals(line[2])){\n                isAdmin = &quot;Admin&quot;;\n                newisAdmin = true;\n            }\n            User newUser = new User(newfirstName, newSchool_ID, newisAdmin);\n            users.add(newUser);\n        }\n        in.close();\n        System.out.println(&quot;User loaded.&quot;);\n    } \n</code></pre>\n"},{"tags":["java","oracle","export-to-csv","import-from-csv"],"comments":[{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1674659340,"post_id":75235825,"comment_id":132762111,"body_markdown":"Just about any programming client environment that has hooks into a database can do this. Perl, PHP, python, C++, Java, etc.. whatever. Even SQL*Plus, though that isn&#39;t very efficient. Just connect, query, fetch, and then use string concatenation to write out a CSV.\n\nNothing that Oracle itself provides with the database will do this for you. In the past folks tried using utl_file but it&#39;s slow, writes only to the database host and is a security hole. This is a task for a client programming language outside the database.","body":"Just about any programming client environment that has hooks into a database can do this. Perl, PHP, python, C++, Java, etc.. whatever. Even SQL*Plus, though that isn&#39;t very efficient. Just connect, query, fetch, and then use string concatenation to write out a CSV.  Nothing that Oracle itself provides with the database will do this for you. In the past folks tried using utl_file but it&#39;s slow, writes only to the database host and is a security hole. This is a task for a client programming language outside the database."},{"owner":{"account_id":10003396,"reputation":1990,"user_id":7398653,"display_name":"gsalem"},"score":4,"creation_date":1674659565,"post_id":75235825,"comment_id":132762197,"body_markdown":"You sure want to extract 2B rows into a csv file to do some processing, and then load into the DB? I would try as hard as I can to write the processing in SQL and do t in the DB.","body":"You sure want to extract 2B rows into a csv file to do some processing, and then load into the DB? I would try as hard as I can to write the processing in SQL and do t in the DB."},{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":1,"creation_date":1674660731,"post_id":75235825,"comment_id":132762622,"body_markdown":"Agreed: if you can do SQL set operations on that many rows instead of row-by-row processing outside the database, your performance will be better by multiple orders of magnitude.","body":"Agreed: if you can do SQL set operations on that many rows instead of row-by-row processing outside the database, your performance will be better by multiple orders of magnitude."},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1674662961,"post_id":75235825,"comment_id":132763476,"body_markdown":"The requestor specified that the data was *required* to be extracted to csv for file processing. The requestor may have reasons for this not shared, so while it is pertinent to suggest reconsidering this architecture, it&#39;s still legit to ask how such a file can be made.","body":"The requestor specified that the data was <i>required</i> to be extracted to csv for file processing. The requestor may have reasons for this not shared, so while it is pertinent to suggest reconsidering this architecture, it&#39;s still legit to ask how such a file can be made."}],"answers":[{"tags":[],"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674661571,"creation_date":1674661571,"answer_id":75236406,"question_id":75235825,"body_markdown":"I think this is a very bad idea. Anyway, you can use the ODBC Driver &quot;Microsoft Text Driver (*.txt; *.csv)&quot; which should be available on each Windows.\r\n\r\nSetup the connection in ODBC Administrator `odbcad32.exe`  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd then you can select the data with any generic ODBC capable SQL tool, e.g. [WinSQL][3] or [DBeaver][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YOvCl.png\r\n  [2]: https://i.stack.imgur.com/b98NI.png\r\n  [3]: https://web.synametrics.com/winsql.htm\r\n  [4]: https://dbeaver.io/","title":"extract data in csv from table with 2 billion records","body":"<p>I think this is a very bad idea. Anyway, you can use the ODBC Driver &quot;Microsoft Text Driver (*.txt; *.csv)&quot; which should be available on each Windows.</p>\n<p>Setup the connection in ODBC Administrator <code>odbcad32.exe</code></p>\n<p><a href=\"https://i.stack.imgur.com/YOvCl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YOvCl.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/b98NI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b98NI.png\" alt=\"enter image description here\" /></a></p>\n<p>And then you can select the data with any generic ODBC capable SQL tool, e.g. <a href=\"https://web.synametrics.com/winsql.htm\" rel=\"nofollow noreferrer\">WinSQL</a> or <a href=\"https://dbeaver.io/\" rel=\"nofollow noreferrer\">DBeaver</a></p>\n"}],"owner":{"account_id":23736008,"reputation":25,"user_id":17754688,"display_name":"umang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674661571,"creation_date":1674658794,"question_id":75235825,"body_markdown":"Wanted to know the tool which can extract data in csv from a table or by executing a sql query like \r\n\r\n    select * from table 1 inner join table 2 on ...\r\n\r\n Data is currently in oracle database and required to be extracted in csv and processed through Java code and after processing final csv/multiple csv files required to be loaded back to same oracle database .\r\n\r\nIs there any tool script does this task efficiently ","title":"extract data in csv from table with 2 billion records","body":"<p>Wanted to know the tool which can extract data in csv from a table or by executing a sql query like</p>\n<pre><code>select * from table 1 inner join table 2 on ...\n</code></pre>\n<p>Data is currently in oracle database and required to be extracted in csv and processed through Java code and after processing final csv/multiple csv files required to be loaded back to same oracle database .</p>\n<p>Is there any tool script does this task efficiently</p>\n"},{"tags":["java","android","gradle","jar"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1674661872,"post_id":75236386,"comment_id":132763072,"body_markdown":"A gradle android project doesn&#39;t build JAR files, because Android doesn&#39;t run jar files (it runs APK files or DEX files, depending on which level you are looking at). If you want a classical Java jar file in an Android project, I suggest you separate that out into its own module (i.e. sub-project). That would also help with making the dependencies easier to separate, because having Android-specific dependencies in a jar file will likely make the jar file not work correctly. Also [this question](https://stackoverflow.com/q/21712714) might be useful.","body":"A gradle android project doesn&#39;t build JAR files, because Android doesn&#39;t run jar files (it runs APK files or DEX files, depending on which level you are looking at). If you want a classical Java jar file in an Android project, I suggest you separate that out into its own module (i.e. sub-project). That would also help with making the dependencies easier to separate, because having Android-specific dependencies in a jar file will likely make the jar file not work correctly. Also <a href=\"https://stackoverflow.com/q/21712714\">this question</a> might be useful."}],"owner":{"account_id":27491699,"reputation":3,"user_id":20976944,"display_name":"Catarina Mota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674661484,"creation_date":1674661484,"question_id":75236386,"body_markdown":"I have a class `AplicacaoTeste` with a `main` and I need to generate a .jar file, but I couldn&#39;t find anything to help me. How can I create a jar file and execute it on the teste.bat?\r\n\r\nImma post my project packages and build.gradle settings:\r\n\r\n[project packages][https://i.stack.imgur.com/h5OGJ.png]\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;aXX.es&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;aXX.es&quot;\r\n        minSdk 24\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;de.mobilej.unmock:UnMockPlugin:0.6.0&#39;\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\n```","title":"How to create a .jar file to execute a class inside an Android Studio application?","body":"<p>I have a class <code>AplicacaoTeste</code> with a <code>main</code> and I need to generate a .jar file, but I couldn't find anything to help me. How can I create a jar file and execute it on the teste.bat?</p>\n<p>Imma post my project packages and build.gradle settings:</p>\n<p>[project packages][https://i.stack.imgur.com/h5OGJ.png]</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'aXX.es'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;aXX.es&quot;\n        minSdk 24\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildscript {\n        repositories {\n            jcenter()\n        }\n\n        dependencies {\n            classpath 'de.mobilej.unmock:UnMockPlugin:0.6.0'\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    lintOptions {\n        abortOnError false\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.0'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\n</code></pre>\n"},{"tags":["java","xml","math","mathjax","mathml"],"answers":[{"tags":[],"owner":{"account_id":11967851,"reputation":2132,"user_id":8757033,"display_name":"Miguel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674661265,"creation_date":1674661265,"answer_id":75236340,"question_id":54818179,"body_markdown":"## General solution\r\nChecking if mathematical objects are equal could be an unsolvable problem. However, from how you formulated your question, I will assume that you were comparing relatively simple objects, like polynomial equations.\r\n\r\nYou didn&#39;t tell how you are storing the XML tree, so I will give you an implementation agnostic solution (In fact, depending on your internal representation of the tree, you might even want a separate representation to manipulate it).\r\n\r\nThe best way to achieve what you want would be to define a normalized form for any kind of object you want to compare, and **compare the formalized forms**.\r\n\r\n## Example: Polynomial equations\r\n\r\nA possible normal form for polynomial equations could be this:\r\n\r\n- The right side of the equation is always zero.\r\n- The left side of the equation has a minimal form.\r\n- The left side monomials are ordered by degree.\r\n\r\nSo for an equation like `5x + x^2 - 3x = -8` the normalized form would be `x^2 + 2x + 8 = 0`.\r\n\r\nTo implement a normalization algorithm like this is not trivial. My suggestion would be to implement the following functions:\r\n\r\n- One function to check the degree of a monomial (`3`-&gt;`0`, `2x`-&gt;`1`, `x^2`-&gt;`2`, etc).\r\n- A function to reduce monomials of the same degree to its minimal form (`4x + 2x`-&gt;`6x`).\r\n- A function to translate all subtractions into additions with a unary_minus in the second operand (`5 - 3`-&gt;`5 + (-3)`).\r\n- A function to flatten applications of additions (`(1 + 2) + 3`-&gt;`1 + 2 + 3`). \r\n- A function to change the sign of a monomial: add an application of unary_minus if there is none, or remove it if there is (`4`-&gt;`(-4)`).\r\n\r\nAnd finally implement this algorithm:\r\n\r\n1. On both sides, translate all subtractions into additions in both sides and flatten them.\r\n2. Change the sign of all monomials in right side and bring them to the left side. Replace the whole right side with a single zero.\r\n3. Sort the left side monomials by degree.\r\n4. Reduce the monomials with the same degree (that are now consecutive). \r\n\r\nWith this normalizing function, you can compare any polynomial equation, no matter how the XML is built.\r\n\r\n***\r\n\r\n## TL;DR\r\n\r\nTo compare mathematical objects that are built differently, you must use a normalized form of said objects. So unfortunately there is no an easy way to do it.","title":"Can OpenMath-Objects be compared to another in terms of equality?","body":"<h2>General solution</h2>\n<p>Checking if mathematical objects are equal could be an unsolvable problem. However, from how you formulated your question, I will assume that you were comparing relatively simple objects, like polynomial equations.</p>\n<p>You didn't tell how you are storing the XML tree, so I will give you an implementation agnostic solution (In fact, depending on your internal representation of the tree, you might even want a separate representation to manipulate it).</p>\n<p>The best way to achieve what you want would be to define a normalized form for any kind of object you want to compare, and <strong>compare the formalized forms</strong>.</p>\n<h2>Example: Polynomial equations</h2>\n<p>A possible normal form for polynomial equations could be this:</p>\n<ul>\n<li>The right side of the equation is always zero.</li>\n<li>The left side of the equation has a minimal form.</li>\n<li>The left side monomials are ordered by degree.</li>\n</ul>\n<p>So for an equation like <code>5x + x^2 - 3x = -8</code> the normalized form would be <code>x^2 + 2x + 8 = 0</code>.</p>\n<p>To implement a normalization algorithm like this is not trivial. My suggestion would be to implement the following functions:</p>\n<ul>\n<li>One function to check the degree of a monomial (<code>3</code>-&gt;<code>0</code>, <code>2x</code>-&gt;<code>1</code>, <code>x^2</code>-&gt;<code>2</code>, etc).</li>\n<li>A function to reduce monomials of the same degree to its minimal form (<code>4x + 2x</code>-&gt;<code>6x</code>).</li>\n<li>A function to translate all subtractions into additions with a unary_minus in the second operand (<code>5 - 3</code>-&gt;<code>5 + (-3)</code>).</li>\n<li>A function to flatten applications of additions (<code>(1 + 2) + 3</code>-&gt;<code>1 + 2 + 3</code>).</li>\n<li>A function to change the sign of a monomial: add an application of unary_minus if there is none, or remove it if there is (<code>4</code>-&gt;<code>(-4)</code>).</li>\n</ul>\n<p>And finally implement this algorithm:</p>\n<ol>\n<li>On both sides, translate all subtractions into additions in both sides and flatten them.</li>\n<li>Change the sign of all monomials in right side and bring them to the left side. Replace the whole right side with a single zero.</li>\n<li>Sort the left side monomials by degree.</li>\n<li>Reduce the monomials with the same degree (that are now consecutive).</li>\n</ol>\n<p>With this normalizing function, you can compare any polynomial equation, no matter how the XML is built.</p>\n<hr />\n<h2>TL;DR</h2>\n<p>To compare mathematical objects that are built differently, you must use a normalized form of said objects. So unfortunately there is no an easy way to do it.</p>\n"}],"owner":{"account_id":15384283,"reputation":21,"user_id":11098804,"display_name":"Phu Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674661265,"creation_date":1550794600,"question_id":54818179,"body_markdown":"im actually interested in comparing two OpenMath-Objects with each other in terms of equality (despite being build a bit differently in XML) by using Java.\r\n\r\nFor example i want &quot;x^2+2x-35=0&quot; to be equal to &quot;-35+2x+x^2=0&quot;.\r\n\r\nSo im wondering if there is a way to achieve this. I at least understand OpenMath as some sort of tree structure and thought there might be a way to compare them.\r\n\r\nI already tried writing the expressions for those two equations, but ended up with no luck or good idea.\r\n\r\n    Equation 1: x^2+2x-35=0\r\n    &lt;OMOBJ xmlns=&#39;http://www.openmath.org/OpenMath&#39; version=&#39;2.0&#39; cdbase=&#39;http://www.openmath.org/cd&#39;&gt;\r\n    \t&lt;OMA&gt;\r\n    \t\t&lt;OMS cd=&#39;relation1&#39; name=&#39;eq&#39;/&gt;\r\n    \t\t&lt;OMA&gt;\r\n    \t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;minus&#39;/&gt;\r\n    \t\t\t&lt;OMA&gt;\r\n    \t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;plus&#39;/&gt;\r\n    \t\t\t\t&lt;OMA&gt;\r\n    \t\t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;power&#39;/&gt;\r\n    \t\t\t\t\t&lt;OMV name=&#39;x&#39;/&gt;\r\n    \t\t\t\t\t&lt;OMI&gt;\r\n    \t\t\t\t\t\t2\r\n    \t\t\t\t\t&lt;/OMI&gt;\r\n    \t\t\t\t&lt;/OMA&gt;\r\n    \t\t\t\t&lt;OMA style=&#39;invisible&#39;&gt;\r\n    \t\t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;times&#39;/&gt;\r\n    \t\t\t\t\t&lt;OMI&gt;\r\n    \t\t\t\t\t\t2\r\n    \t\t\t\t\t&lt;/OMI&gt;\r\n    \t\t\t\t\t&lt;OMV name=&#39;x&#39;/&gt;\r\n    \t\t\t\t&lt;/OMA&gt;\r\n    \t\t\t&lt;/OMA&gt;\r\n    \t\t\t&lt;OMI&gt;\r\n    \t\t\t\t35\r\n    \t\t\t&lt;/OMI&gt;\r\n    \t\t&lt;/OMA&gt;\r\n    \t\t&lt;OMI&gt;\r\n    \t\t\t0\r\n    \t\t&lt;/OMI&gt;\r\n    \t&lt;/OMA&gt;\r\n    &lt;/OMOBJ&gt;\r\n\r\n    Equation 2: -35+2x+x^2\r\n    &lt;OMOBJ xmlns=&#39;http://www.openmath.org/OpenMath&#39; version=&#39;2.0&#39; cdbase=&#39;http://www.openmath.org/cd&#39;&gt;\r\n    \t&lt;OMA&gt;\r\n    \t\t&lt;OMS cd=&#39;relation1&#39; name=&#39;eq&#39;/&gt;\r\n    \t\t&lt;OMA&gt;\r\n    \t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;plus&#39;/&gt;\r\n    \t\t\t&lt;OMA&gt;\r\n    \t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;unary_minus&#39;/&gt;\r\n    \t\t\t\t&lt;OMI&gt;\r\n    \t\t\t\t\t35\r\n    \t\t\t\t&lt;/OMI&gt;\r\n    \t\t\t&lt;/OMA&gt;\r\n    \t\t\t&lt;OMA style=&#39;invisible&#39;&gt;\r\n    \t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;times&#39;/&gt;\r\n    \t\t\t\t&lt;OMI&gt;\r\n    \t\t\t\t\t2\r\n    \t\t\t\t&lt;/OMI&gt;\r\n    \t\t\t\t&lt;OMV name=&#39;x&#39;/&gt;\r\n    \t\t\t&lt;/OMA&gt;\r\n    \t\t\t&lt;OMA&gt;\r\n    \t\t\t\t&lt;OMS cd=&#39;arith1&#39; name=&#39;power&#39;/&gt;\r\n    \t\t\t\t&lt;OMV name=&#39;x&#39;/&gt;\r\n    \t\t\t\t&lt;OMI&gt;\r\n    \t\t\t\t\t2\r\n    \t\t\t\t&lt;/OMI&gt;\r\n    \t\t\t&lt;/OMA&gt;\r\n    \t\t&lt;/OMA&gt;\r\n    \t\t&lt;OMI&gt;\r\n    \t\t\t0\r\n    \t\t&lt;/OMI&gt;\r\n    \t&lt;/OMA&gt;\r\n    &lt;/OMOBJ&gt;\r\n\r\nThank you for your time\r\n\r\nSincerely\r\n\r\nPhu","title":"Can OpenMath-Objects be compared to another in terms of equality?","body":"<p>im actually interested in comparing two OpenMath-Objects with each other in terms of equality (despite being build a bit differently in XML) by using Java.</p>\n\n<p>For example i want \"x^2+2x-35=0\" to be equal to \"-35+2x+x^2=0\".</p>\n\n<p>So im wondering if there is a way to achieve this. I at least understand OpenMath as some sort of tree structure and thought there might be a way to compare them.</p>\n\n<p>I already tried writing the expressions for those two equations, but ended up with no luck or good idea.</p>\n\n<pre><code>Equation 1: x^2+2x-35=0\n&lt;OMOBJ xmlns='http://www.openmath.org/OpenMath' version='2.0' cdbase='http://www.openmath.org/cd'&gt;\n    &lt;OMA&gt;\n        &lt;OMS cd='relation1' name='eq'/&gt;\n        &lt;OMA&gt;\n            &lt;OMS cd='arith1' name='minus'/&gt;\n            &lt;OMA&gt;\n                &lt;OMS cd='arith1' name='plus'/&gt;\n                &lt;OMA&gt;\n                    &lt;OMS cd='arith1' name='power'/&gt;\n                    &lt;OMV name='x'/&gt;\n                    &lt;OMI&gt;\n                        2\n                    &lt;/OMI&gt;\n                &lt;/OMA&gt;\n                &lt;OMA style='invisible'&gt;\n                    &lt;OMS cd='arith1' name='times'/&gt;\n                    &lt;OMI&gt;\n                        2\n                    &lt;/OMI&gt;\n                    &lt;OMV name='x'/&gt;\n                &lt;/OMA&gt;\n            &lt;/OMA&gt;\n            &lt;OMI&gt;\n                35\n            &lt;/OMI&gt;\n        &lt;/OMA&gt;\n        &lt;OMI&gt;\n            0\n        &lt;/OMI&gt;\n    &lt;/OMA&gt;\n&lt;/OMOBJ&gt;\n\nEquation 2: -35+2x+x^2\n&lt;OMOBJ xmlns='http://www.openmath.org/OpenMath' version='2.0' cdbase='http://www.openmath.org/cd'&gt;\n    &lt;OMA&gt;\n        &lt;OMS cd='relation1' name='eq'/&gt;\n        &lt;OMA&gt;\n            &lt;OMS cd='arith1' name='plus'/&gt;\n            &lt;OMA&gt;\n                &lt;OMS cd='arith1' name='unary_minus'/&gt;\n                &lt;OMI&gt;\n                    35\n                &lt;/OMI&gt;\n            &lt;/OMA&gt;\n            &lt;OMA style='invisible'&gt;\n                &lt;OMS cd='arith1' name='times'/&gt;\n                &lt;OMI&gt;\n                    2\n                &lt;/OMI&gt;\n                &lt;OMV name='x'/&gt;\n            &lt;/OMA&gt;\n            &lt;OMA&gt;\n                &lt;OMS cd='arith1' name='power'/&gt;\n                &lt;OMV name='x'/&gt;\n                &lt;OMI&gt;\n                    2\n                &lt;/OMI&gt;\n            &lt;/OMA&gt;\n        &lt;/OMA&gt;\n        &lt;OMI&gt;\n            0\n        &lt;/OMI&gt;\n    &lt;/OMA&gt;\n&lt;/OMOBJ&gt;\n</code></pre>\n\n<p>Thank you for your time</p>\n\n<p>Sincerely</p>\n\n<p>Phu</p>\n"},{"tags":["java","neo4j","driver"],"answers":[{"tags":[],"owner":{"account_id":2806364,"reputation":405,"user_id":2413527,"accept_rate":38,"display_name":"orion_kid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674574716,"creation_date":1674574716,"answer_id":75223780,"question_id":75222515,"body_markdown":"1. You have to connect using bolt to fix the first issue\r\n2. you have to set the default database to fabric using an env var to fix the driver issues","title":"Using neo4j fabric queries with java native driver","body":"<ol>\n<li>You have to connect using bolt to fix the first issue</li>\n<li>you have to set the default database to fabric using an env var to fix the driver issues</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1684429,"reputation":4685,"user_id":1547989,"display_name":"Michael Simons"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674660657,"creation_date":1674660657,"answer_id":75236211,"question_id":75222515,"body_markdown":"Neo4j Java driver connects to servers. Servers can have default databases per users.\r\n\r\n`:use` as in the Neo4j Browser (or Cypher-Shell) is not a Cypher-Command. It&#39;s a browser respectively Cypher-Shell command, telling the corresponding tool to switch this session to another database on the server.\r\n\r\nThe pendant to this on the Java-Driver is the `SessionConfig` class and this builder method [`public static SessionConfig forDatabase(String database)`][1]. In code:\r\n\r\n```java\r\nimport org.junit.jupiter.api.Test;\r\nimport org.neo4j.driver.AuthTokens;\r\nimport org.neo4j.driver.GraphDatabase;\r\nimport org.neo4j.driver.SessionConfig;\r\n\r\npublic class Thing {\r\n\r\n\t@Test\r\n\tvoid changeDatabaseShouldWork() {\r\n\t\ttry (\r\n\t\t\tvar driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;verysecret&quot;));\r\n\t\t\tvar session = driver.session(SessionConfig.forDatabase(&quot;fabric&quot;))) { // &lt;- Configure you session this way!\r\n\t\t\tsession.run(&quot;use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;)\r\n\t\t\t\t.forEachRemaining(r -&gt; {\r\n\t\t\t\t\tSystem.out.println(r.get(&quot;n&quot;).asNode());\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/SessionConfig.html#forDatabase(java.lang.String)","title":"Using neo4j fabric queries with java native driver","body":"<p>Neo4j Java driver connects to servers. Servers can have default databases per users.</p>\n<p><code>:use</code> as in the Neo4j Browser (or Cypher-Shell) is not a Cypher-Command. It's a browser respectively Cypher-Shell command, telling the corresponding tool to switch this session to another database on the server.</p>\n<p>The pendant to this on the Java-Driver is the <code>SessionConfig</code> class and this builder method <a href=\"https://neo4j.com/docs/api/java-driver/current/org.neo4j.driver/org/neo4j/driver/SessionConfig.html#forDatabase(java.lang.String)\" rel=\"nofollow noreferrer\"><code>public static SessionConfig forDatabase(String database)</code></a>. In code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.api.Test;\nimport org.neo4j.driver.AuthTokens;\nimport org.neo4j.driver.GraphDatabase;\nimport org.neo4j.driver.SessionConfig;\n\npublic class Thing {\n\n    @Test\n    void changeDatabaseShouldWork() {\n        try (\n            var driver = GraphDatabase.driver(&quot;neo4j://localhost:7687&quot;, AuthTokens.basic(&quot;neo4j&quot;, &quot;verysecret&quot;));\n            var session = driver.session(SessionConfig.forDatabase(&quot;fabric&quot;))) { // &lt;- Configure you session this way!\n            session.run(&quot;use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;)\n                .forEachRemaining(r -&gt; {\n                    System.out.println(r.get(&quot;n&quot;).asNode());\n                });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2806364,"reputation":405,"user_id":2413527,"accept_rate":38,"display_name":"orion_kid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674660657,"creation_date":1674568503,"question_id":75222515,"body_markdown":"In my browser I can do this\r\n```\r\n:use fabric\r\nuse fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n\r\n```\r\nThis times out with:\r\n*WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: 3*\r\n\r\nBut my actual question is how do I do the same thing using the Java driver\r\nI can&#39;t do this\r\n```\r\n    session.run(&quot;USE fabric&quot;); // Exception Query cannot conclude with USE GRAPH\r\n```\r\nor this\r\n```\r\n    session.run(&quot;:USE fabric&quot;); // Syntax error\r\n```\r\nor this\r\n```\r\nsession.run(&quot;use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;); // Multiple graphs in the same query not allowed here. This feature is only available in a Fabric database.\r\n```\r\nor this\r\n```\r\nsession.run(&quot;use fabric use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;); // Exception USE can only appear at the beginning of a (sub-)query\r\n```\r\n\r\n\r\n","title":"Using neo4j fabric queries with java native driver","body":"<p>In my browser I can do this</p>\n<pre><code>:use fabric\nuse fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n\n</code></pre>\n<p>This times out with:\n<em>WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket <code>readyState</code> is: 3</em></p>\n<p>But my actual question is how do I do the same thing using the Java driver\nI can't do this</p>\n<pre><code>    session.run(&quot;USE fabric&quot;); // Exception Query cannot conclude with USE GRAPH\n</code></pre>\n<p>or this</p>\n<pre><code>    session.run(&quot;:USE fabric&quot;); // Syntax error\n</code></pre>\n<p>or this</p>\n<pre><code>session.run(&quot;use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;); // Multiple graphs in the same query not allowed here. This feature is only available in a Fabric database.\n</code></pre>\n<p>or this</p>\n<pre><code>session.run(&quot;use fabric use fabric.graph1 match(n) return n UNION use fabric.graph2 match (n) return n&quot;); // Exception USE can only appear at the beginning of a (sub-)query\n</code></pre>\n"},{"tags":["java","image","swing","exception","composite"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1674236037,"post_id":75187209,"comment_id":132678812,"body_markdown":"Either convert your images to `TYPE_INT_RGB` or `TYPE_INT_ARGB` (easy), or implement the multiply operation for the data type you have (probably a 3 byte RGB/4 byte ARGB type).","body":"Either convert your images to <code>TYPE_INT_RGB</code> or <code>TYPE_INT_ARGB</code> (easy), or implement the multiply operation for the data type you have (probably a 3 byte RGB/4 byte ARGB type)."}],"answers":[{"tags":[],"owner":{"account_id":27582164,"reputation":17,"user_id":21051135,"display_name":"TheRatKing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674659995,"creation_date":1674659995,"answer_id":75236062,"question_id":75187209,"body_markdown":"I made a new method that converts the image to ARGB, thank you to Harald K for the help he left in the comment section. The ARGB image works with the method I was having issues with.","title":"I&#39;m Trying to use this MULTIPLY composite effect made by Kristopher Ives. and I don&#39;t understand why my Datatype TYPE_INT doesn&#39;t match whats required","body":"<p>I made a new method that converts the image to ARGB, thank you to Harald K for the help he left in the comment section. The ARGB image works with the method I was having issues with.</p>\n"}],"owner":{"account_id":27582164,"reputation":17,"user_id":21051135,"display_name":"TheRatKing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75236062,"answer_count":1,"score":0,"last_activity_date":1674659995,"creation_date":1674234411,"question_id":75187209,"body_markdown":"This is the new Composite class for a Multiply(Overlay) effect made by Kristopher Ives(https://stackoverflow.com/questions/639977/howto-perform-a-multiply-composite-effect-using-graphics2d). As far as I can tell he&#39;s been inactive for quite some time. Every time I run the Main class all I get is &quot;Expected integer sample type&quot; exception which is thrown when: \r\n\r\n```\r\n&#39;(r.getSampleModel().getDataType() != DataBuffer.TYPE_INT)&#39;\r\n```\r\n\r\n```\r\n\r\nimport java.awt.*;\r\nimport java.awt.image.ColorModel;\r\nimport java.awt.image.DataBuffer;\r\nimport java.awt.image.Raster;\r\nimport java.awt.image.WritableRaster;\r\n\r\npublic class MultiplyComposite implements Composite, CompositeContext {\r\n    protected void checkRaster(Raster r) {\r\n        if (r.getSampleModel().getDataType() != DataBuffer.TYPE_INT) {\r\n            throw new IllegalStateException(&quot;Expected integer sample type&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void compose(Raster src, Raster dstIn, WritableRaster dstOut) {\r\n        checkRaster(src);\r\n        checkRaster(dstIn);\r\n        checkRaster(dstOut);\r\n\r\n        int width = Math.min(src.getWidth(), dstIn.getWidth());\r\n        int height = Math.min(src.getHeight(), dstIn.getHeight());\r\n        int x, y;\r\n        int[] srcPixels = new int[width];\r\n        int[] dstPixels = new int[width];\r\n\r\n        for (y=0; y &lt; height; y++) {\r\n            src.getDataElements(0, y, width, 1, srcPixels);\r\n            dstIn.getDataElements(0, y, width, 1, dstPixels);\r\n\r\n            for (x=0; x &lt; width; x++) {\r\n                dstPixels[x] = mixPixel(srcPixels[x], dstPixels[x]);\r\n            }\r\n\r\n            dstOut.setDataElements(0, y, width, 1, dstPixels);\r\n        }\r\n    }\r\n\r\n    private static int mixPixel(int x, int y) {\r\n        int xb = (x) &amp; 0xFF;\r\n        int yb = (y) &amp; 0xFF;\r\n        int b = (xb * yb) / 255;\r\n\r\n        int xg = (x &gt;&gt; 8) &amp; 0xFF;\r\n        int yg = (y &gt;&gt; 8) &amp; 0xFF;\r\n        int g = (xg * yg) / 255;\r\n\r\n        int xr = (x &gt;&gt; 16) &amp; 0xFF;\r\n        int yr = (y &gt;&gt; 16) &amp; 0xFF;\r\n        int r = (xr * yr) / 255;\r\n\r\n        int xa = (x &gt;&gt; 24) &amp; 0xFF;\r\n        int ya = (y &gt;&gt; 24) &amp; 0xFF;\r\n        int a = Math.min(255, xa + ya);\r\n\r\n        return (b) | (g &lt;&lt; 8) | (r &lt;&lt; 16) | (a &lt;&lt; 24);\r\n    }\r\n\r\n\r\n    @Override\r\n    public CompositeContext createContext(ColorModel srcColorModel, ColorModel dstColorModel, RenderingHints hints) {\r\n        return this;\r\n    }\r\n\r\n    @Override\r\n    public void dispose() {\r\n\r\n    }\r\n\r\n    public static final MultiplyComposite Multiply = new MultiplyComposite();\r\n\r\n}\r\n```\r\n\r\nThis is my code for blending the two photos together which are BufferedImage types. The Overlay is provided from a folder and converted to a buffered image in a separate method which you can find at the bottom, and the SS is provided by a screenshot that is run through another class to make it greyscale and is then converted to a BufferedImage and is returned(You can find that at the bottom too).\r\n\r\n// BLENDING THE PHOTOS TOGETHER\r\n\r\n```\r\n    public static BufferedImage photosBlender(BufferedImage SS, BufferedImage Overlay) {\r\n        try {\r\n            BufferedImage base = SS;\r\n            BufferedImage overlay = Overlay;\r\n\r\n            Graphics2D g2d = base.createGraphics();\r\n            g2d.setComposite(MultiplyComposite.Multiply);\r\n            int x = (base.getWidth() - overlay.getWidth()) / 2;\r\n            int y = (base.getHeight() - overlay.getHeight()) / 2;\r\n            g2d.drawImage(overlay, x, y, null);\r\n            g2d.dispose();\r\n\r\n            File f = new File(&quot;resources/OutputImages/OutputBlended.png&quot;);\r\n            ImageIO.write((RenderedImage) base, &quot;png&quot;, f);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nGETTING THE OVERLAY: the args is provided by a random selection method for selecting random overlay files provided in resources\r\n\r\n```\r\n    public static BufferedImage OverlayProcess(String args) {\r\n        BufferedImage OverlayInput = null;\r\n        JFrame OverlayFrame = null;\r\n        try {\r\n            OverlayInput = ImageIO.read(new File(args));\r\n            ImageIcon screenShotIcon = new ImageIcon(OverlayInput);\r\n            \r\n            //To Display selected Overlay for Testing purposes\r\n            \r\n            /*OverlayFrame = new JFrame();\r\n            OverlayFrame.setLayout(new FlowLayout());\r\n            OverlayFrame.setSize(1500, 800);\r\n            JLabel lbl = new JLabel();\r\n            lbl.setIcon(screenShotIcon);\r\n            OverlayFrame.add(lbl);\r\n            OverlayFrame.setVisible(true);\r\n            OverlayFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);*/\r\n\r\n        } catch (IOException e) {\r\n\r\n        }\r\n\r\n        return OverlayInput;\r\n\r\n    }\r\n```\r\n\r\nGREYSCALING THE SS\r\n\r\n```\r\npublic class GreyscaleTheImage {\r\n\r\n    public static BufferedImage main(String args) throws IOException {\r\n        BufferedImage img = null;\r\n        File f = null;\r\n\r\n        //read image\r\n        try {\r\n            f = new File(args);\r\n            img = ImageIO.read(f);\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n        //get image width and height\r\n        int width = img.getWidth();\r\n        int height = img.getHeight();\r\n\r\n        //convert to grayscale\r\n        int x = 0;\r\n        int y;\r\n        for (y = 0; y &lt; height; y++) {\r\n            for (x = 0; x &lt; width; x++) {\r\n                int p = img.getRGB(x, y);\r\n\r\n                int a = (p &gt;&gt; 24) &amp; 0xff;\r\n                int r = (p &gt;&gt; 16) &amp; 0xff;\r\n                int g = (p &gt;&gt; 8) &amp; 0xff;\r\n                int b = p &amp; 0xff;\r\n\r\n                //calculate average\r\n                int avg = (r + g + b) / 3;\r\n\r\n                //replace RGB value with avg\r\n                p = (a &lt;&lt; 24) | (avg &lt;&lt; 16) | (avg &lt;&lt; 8) | avg;\r\n\r\n                img.setRGB(x, y, p);\r\n            }\r\n        }\r\n\r\n        BufferedImage finalImage = null;\r\n        try {\r\n            finalImage = img;\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n        //write image\r\n        try {\r\n            f = new File(&quot;resources/OutputImages/Output.png&quot;);\r\n            ImageIO.write(img, &quot;png&quot;, f);\r\n        } catch (IOException e) {\r\n            System.out.println(e);\r\n        }\r\n\r\n\r\n        return finalImage;\r\n    }//main() ends here\r\n\r\n}//class ends here\r\n```\r\n\r\nI&#39;ve already tried changing the Raster of the image but it&#39;s just too much for my current skill level. I simply can&#39;t understand what sampleModels are or what it means to have a DataType of 3. I have a suspicion that it might have something to do with the image possibly having something other than a 32 bit &quot;integer&quot; buffer (whatever that means), because of Kristopher&#39;s resources saying that&#39;s all it will work with.","title":"I&#39;m Trying to use this MULTIPLY composite effect made by Kristopher Ives. and I don&#39;t understand why my Datatype TYPE_INT doesn&#39;t match whats required","body":"<p>This is the new Composite class for a Multiply(Overlay) effect made by Kristopher Ives(<a href=\"https://stackoverflow.com/questions/639977/howto-perform-a-multiply-composite-effect-using-graphics2d\">Howto perform a MULTIPLY composite effect using Graphics2D</a>). As far as I can tell he's been inactive for quite some time. Every time I run the Main class all I get is &quot;Expected integer sample type&quot; exception which is thrown when:</p>\n<pre><code>'(r.getSampleModel().getDataType() != DataBuffer.TYPE_INT)'\n</code></pre>\n<pre><code>\nimport java.awt.*;\nimport java.awt.image.ColorModel;\nimport java.awt.image.DataBuffer;\nimport java.awt.image.Raster;\nimport java.awt.image.WritableRaster;\n\npublic class MultiplyComposite implements Composite, CompositeContext {\n    protected void checkRaster(Raster r) {\n        if (r.getSampleModel().getDataType() != DataBuffer.TYPE_INT) {\n            throw new IllegalStateException(&quot;Expected integer sample type&quot;);\n        }\n    }\n\n    @Override\n    public void compose(Raster src, Raster dstIn, WritableRaster dstOut) {\n        checkRaster(src);\n        checkRaster(dstIn);\n        checkRaster(dstOut);\n\n        int width = Math.min(src.getWidth(), dstIn.getWidth());\n        int height = Math.min(src.getHeight(), dstIn.getHeight());\n        int x, y;\n        int[] srcPixels = new int[width];\n        int[] dstPixels = new int[width];\n\n        for (y=0; y &lt; height; y++) {\n            src.getDataElements(0, y, width, 1, srcPixels);\n            dstIn.getDataElements(0, y, width, 1, dstPixels);\n\n            for (x=0; x &lt; width; x++) {\n                dstPixels[x] = mixPixel(srcPixels[x], dstPixels[x]);\n            }\n\n            dstOut.setDataElements(0, y, width, 1, dstPixels);\n        }\n    }\n\n    private static int mixPixel(int x, int y) {\n        int xb = (x) &amp; 0xFF;\n        int yb = (y) &amp; 0xFF;\n        int b = (xb * yb) / 255;\n\n        int xg = (x &gt;&gt; 8) &amp; 0xFF;\n        int yg = (y &gt;&gt; 8) &amp; 0xFF;\n        int g = (xg * yg) / 255;\n\n        int xr = (x &gt;&gt; 16) &amp; 0xFF;\n        int yr = (y &gt;&gt; 16) &amp; 0xFF;\n        int r = (xr * yr) / 255;\n\n        int xa = (x &gt;&gt; 24) &amp; 0xFF;\n        int ya = (y &gt;&gt; 24) &amp; 0xFF;\n        int a = Math.min(255, xa + ya);\n\n        return (b) | (g &lt;&lt; 8) | (r &lt;&lt; 16) | (a &lt;&lt; 24);\n    }\n\n\n    @Override\n    public CompositeContext createContext(ColorModel srcColorModel, ColorModel dstColorModel, RenderingHints hints) {\n        return this;\n    }\n\n    @Override\n    public void dispose() {\n\n    }\n\n    public static final MultiplyComposite Multiply = new MultiplyComposite();\n\n}\n</code></pre>\n<p>This is my code for blending the two photos together which are BufferedImage types. The Overlay is provided from a folder and converted to a buffered image in a separate method which you can find at the bottom, and the SS is provided by a screenshot that is run through another class to make it greyscale and is then converted to a BufferedImage and is returned(You can find that at the bottom too).</p>\n<p>// BLENDING THE PHOTOS TOGETHER</p>\n<pre><code>    public static BufferedImage photosBlender(BufferedImage SS, BufferedImage Overlay) {\n        try {\n            BufferedImage base = SS;\n            BufferedImage overlay = Overlay;\n\n            Graphics2D g2d = base.createGraphics();\n            g2d.setComposite(MultiplyComposite.Multiply);\n            int x = (base.getWidth() - overlay.getWidth()) / 2;\n            int y = (base.getHeight() - overlay.getHeight()) / 2;\n            g2d.drawImage(overlay, x, y, null);\n            g2d.dispose();\n\n            File f = new File(&quot;resources/OutputImages/OutputBlended.png&quot;);\n            ImageIO.write((RenderedImage) base, &quot;png&quot;, f);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n<p>GETTING THE OVERLAY: the args is provided by a random selection method for selecting random overlay files provided in resources</p>\n<pre><code>    public static BufferedImage OverlayProcess(String args) {\n        BufferedImage OverlayInput = null;\n        JFrame OverlayFrame = null;\n        try {\n            OverlayInput = ImageIO.read(new File(args));\n            ImageIcon screenShotIcon = new ImageIcon(OverlayInput);\n            \n            //To Display selected Overlay for Testing purposes\n            \n            /*OverlayFrame = new JFrame();\n            OverlayFrame.setLayout(new FlowLayout());\n            OverlayFrame.setSize(1500, 800);\n            JLabel lbl = new JLabel();\n            lbl.setIcon(screenShotIcon);\n            OverlayFrame.add(lbl);\n            OverlayFrame.setVisible(true);\n            OverlayFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);*/\n\n        } catch (IOException e) {\n\n        }\n\n        return OverlayInput;\n\n    }\n</code></pre>\n<p>GREYSCALING THE SS</p>\n<pre><code>public class GreyscaleTheImage {\n\n    public static BufferedImage main(String args) throws IOException {\n        BufferedImage img = null;\n        File f = null;\n\n        //read image\n        try {\n            f = new File(args);\n            img = ImageIO.read(f);\n        } catch (IOException e) {\n            System.out.println(e);\n        }\n\n        //get image width and height\n        int width = img.getWidth();\n        int height = img.getHeight();\n\n        //convert to grayscale\n        int x = 0;\n        int y;\n        for (y = 0; y &lt; height; y++) {\n            for (x = 0; x &lt; width; x++) {\n                int p = img.getRGB(x, y);\n\n                int a = (p &gt;&gt; 24) &amp; 0xff;\n                int r = (p &gt;&gt; 16) &amp; 0xff;\n                int g = (p &gt;&gt; 8) &amp; 0xff;\n                int b = p &amp; 0xff;\n\n                //calculate average\n                int avg = (r + g + b) / 3;\n\n                //replace RGB value with avg\n                p = (a &lt;&lt; 24) | (avg &lt;&lt; 16) | (avg &lt;&lt; 8) | avg;\n\n                img.setRGB(x, y, p);\n            }\n        }\n\n        BufferedImage finalImage = null;\n        try {\n            finalImage = img;\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n\n        //write image\n        try {\n            f = new File(&quot;resources/OutputImages/Output.png&quot;);\n            ImageIO.write(img, &quot;png&quot;, f);\n        } catch (IOException e) {\n            System.out.println(e);\n        }\n\n\n        return finalImage;\n    }//main() ends here\n\n}//class ends here\n</code></pre>\n<p>I've already tried changing the Raster of the image but it's just too much for my current skill level. I simply can't understand what sampleModels are or what it means to have a DataType of 3. I have a suspicion that it might have something to do with the image possibly having something other than a 32 bit &quot;integer&quot; buffer (whatever that means), because of Kristopher's resources saying that's all it will work with.</p>\n"},{"tags":["java","android","android-bitmap","android-vectordrawable"],"owner":{"account_id":15480837,"reputation":576,"user_id":11168170,"display_name":"Chris Pi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1674659887,"creation_date":1674659887,"question_id":75236046,"body_markdown":"I want to add a contact to the android contacts database which is working fine. As a Contact Photo there is a Vector from resource which gets converted to a Bitmap and then into a ByteArray like this:\r\n\r\n``` java\r\n    public static Bitmap getBitmapFromVectorDrawable(Context context, int drawableId) {\r\n        Drawable drawable = ContextCompat.getDrawable(context, drawableId);\r\n        drawable = (DrawableCompat.wrap(drawable)).mutate();\r\n\r\n        Bitmap bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\r\n        Canvas canvas = new Canvas(bitmap);\r\n        Paint paint = new Paint();\r\n        paint.setARGB(255,255,255,255);\r\n        canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), paint);\r\n        drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\r\n        drawable.draw(canvas);\r\n\r\n        return bitmap;\r\n    }\r\n\r\n    public static byte[] toByteArray(Bitmap bitmap) {\r\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n        return stream.toByteArray();\r\n    }\r\n```\r\nSo basically its saved as PNG, so it should be transparent, right? For me its not. Does the Contact database support transparency or did I miss something at converting the Bitmap?","title":"Saving photo with transparent background to Contacts","body":"<p>I want to add a contact to the android contacts database which is working fine. As a Contact Photo there is a Vector from resource which gets converted to a Bitmap and then into a ByteArray like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Bitmap getBitmapFromVectorDrawable(Context context, int drawableId) {\n        Drawable drawable = ContextCompat.getDrawable(context, drawableId);\n        drawable = (DrawableCompat.wrap(drawable)).mutate();\n\n        Bitmap bitmap = Bitmap.createBitmap(drawable.getIntrinsicWidth(), drawable.getIntrinsicHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(bitmap);\n        Paint paint = new Paint();\n        paint.setARGB(255,255,255,255);\n        canvas.drawRect(0, 0, canvas.getWidth(), canvas.getHeight(), paint);\n        drawable.setBounds(0, 0, canvas.getWidth(), canvas.getHeight());\n        drawable.draw(canvas);\n\n        return bitmap;\n    }\n\n    public static byte[] toByteArray(Bitmap bitmap) {\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n        return stream.toByteArray();\n    }\n</code></pre>\n<p>So basically its saved as PNG, so it should be transparent, right? For me its not. Does the Contact database support transparency or did I miss something at converting the Bitmap?</p>\n"},{"tags":["java","android","encryption","aes","aes-gcm"],"owner":{"account_id":19951903,"reputation":452,"user_id":14621362,"display_name":"user16780334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674885184,"answer_count":0,"score":-2,"last_activity_date":1674659848,"creation_date":1674659215,"question_id":75235909,"body_markdown":"Recently I came to a bunch of code in Java for encryption and since it is cryptography which I am not well aware of I am confused with the output of `Cipher.dofinal`. I am posting below two chunks of encryption code in Java which I am a fresher still . Please help me to identify the difference between the two. IV_LENG is 12 and TAG_LENG is 16\r\n\r\n**Code 1:** \r\n\r\n   \r\n\r\n     private static String encrypt(String privateString, SecretKey secureKey) throws Exception {\r\n            byte[] iv = new byte[IV_LENG];\r\n            (new SecureRandom()).nextBytes(iv);\r\n    \r\n            Cipher cipherInstance = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n            GCMParameterSpec ivectorSpecs = new GCMParameterSpec(TAG_LENG * Byte.SIZE, iv);\r\n            cipherInstance.init(Cipher.ENCRYPT_MODE, secureKey, ivectorSpecs);\r\n    \r\n            byte[] cipheredMessage = cipher.doFinal(privateString.getBytes(&quot;UTF8&quot;));\r\n            \r\n            **// Does the base 64 string &quot;encoded&quot; cipher text contains the IV  ?**\r\n            String encodedString = Base64.getEncoder().encodeToString(cipheredMessage);\r\n    \r\n            return encodedString;\r\n        }\r\n\r\nIn the above code does the **encodedString** which is returned contains the IV along with it?\r\n\r\n**Code 2 :**\r\n\r\n\r\nBelow is the code with few modifications from the above code \r\n\r\n \r\n\r\n        private static String encrypt(String privateString, SecretKey secureKey) throws Exception {\r\n                    byte[] iv = new byte[IV_LENG];\r\n                    (new SecureRandom()).nextBytes(iv);\r\n            \r\n                    Cipher cipherInstance = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n                    GCMParameterSpec ivectorSpecs = new GCMParameterSpec(TAG_LENG * Byte.SIZE, iv);\r\n                    cipherInstance.init(Cipher.ENCRYPT_MODE, secureKey, ivectorSpecs);\r\n            \r\n                    byte[] cipheredMessage = cipher.doFinal(privateString.getBytes(&quot;UTF8&quot;));\r\n    \r\n    // Newly added codes \r\n                    byte[] encrypted = new byte[iv.length + cipheredMessage.length];\r\n                    System.arraycopy(iv, 0, encrypted, 0, iv.length);\r\n                    System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\r\n                    \r\n                    **// What does the newly added codes do to the cipheredMessage variable?**\r\n                    String encodedString = Base64.getEncoder().encodeToString(encrypted);\r\n            \r\n                    return encodedString;\r\n                }\r\n\r\nAs you can see I have added the lines in **Code 2** sample\r\n\r\n \r\n\r\n    byte[] encrypted = new byte[iv.length + cipheredMessage.length];\r\n                        System.arraycopy(iv, 0, encrypted, 0, iv.length);\r\n                        System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\r\n\r\nSo my major doubt is what is the difference between the above two codes? \r\n\r\n1) Does the encrypted value which is returned from **Code 1 snippet** above includes the IV too along with it?\r\n\r\n2) What does the new lines added in **Code 2 snippet** do ? ","title":"Does doing Cipher.dofinal generates the cipher text with IV in it?","body":"<p>Recently I came to a bunch of code in Java for encryption and since it is cryptography which I am not well aware of I am confused with the output of <code>Cipher.dofinal</code>. I am posting below two chunks of encryption code in Java which I am a fresher still . Please help me to identify the difference between the two. IV_LENG is 12 and TAG_LENG is 16</p>\n<p><strong>Code 1:</strong></p>\n<pre><code> private static String encrypt(String privateString, SecretKey secureKey) throws Exception {\n        byte[] iv = new byte[IV_LENG];\n        (new SecureRandom()).nextBytes(iv);\n\n        Cipher cipherInstance = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n        GCMParameterSpec ivectorSpecs = new GCMParameterSpec(TAG_LENG * Byte.SIZE, iv);\n        cipherInstance.init(Cipher.ENCRYPT_MODE, secureKey, ivectorSpecs);\n\n        byte[] cipheredMessage = cipher.doFinal(privateString.getBytes(&quot;UTF8&quot;));\n        \n        **// Does the base 64 string &quot;encoded&quot; cipher text contains the IV  ?**\n        String encodedString = Base64.getEncoder().encodeToString(cipheredMessage);\n\n        return encodedString;\n    }\n</code></pre>\n<p>In the above code does the <strong>encodedString</strong> which is returned contains the IV along with it?</p>\n<p><strong>Code 2 :</strong></p>\n<p>Below is the code with few modifications from the above code</p>\n<pre><code>    private static String encrypt(String privateString, SecretKey secureKey) throws Exception {\n                byte[] iv = new byte[IV_LENG];\n                (new SecureRandom()).nextBytes(iv);\n        \n                Cipher cipherInstance = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n                GCMParameterSpec ivectorSpecs = new GCMParameterSpec(TAG_LENG * Byte.SIZE, iv);\n                cipherInstance.init(Cipher.ENCRYPT_MODE, secureKey, ivectorSpecs);\n        \n                byte[] cipheredMessage = cipher.doFinal(privateString.getBytes(&quot;UTF8&quot;));\n\n// Newly added codes \n                byte[] encrypted = new byte[iv.length + cipheredMessage.length];\n                System.arraycopy(iv, 0, encrypted, 0, iv.length);\n                System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\n                \n                **// What does the newly added codes do to the cipheredMessage variable?**\n                String encodedString = Base64.getEncoder().encodeToString(encrypted);\n        \n                return encodedString;\n            }\n</code></pre>\n<p>As you can see I have added the lines in <strong>Code 2</strong> sample</p>\n<pre><code>byte[] encrypted = new byte[iv.length + cipheredMessage.length];\n                    System.arraycopy(iv, 0, encrypted, 0, iv.length);\n                    System.arraycopy(ciphertext, 0, encrypted, iv.length, ciphertext.length);\n</code></pre>\n<p>So my major doubt is what is the difference between the above two codes?</p>\n<ol>\n<li><p>Does the encrypted value which is returned from <strong>Code 1 snippet</strong> above includes the IV too along with it?</p>\n</li>\n<li><p>What does the new lines added in <strong>Code 2 snippet</strong> do ?</p>\n</li>\n</ol>\n"},{"tags":["java","windows","clipboard"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1607424002,"post_id":65191275,"comment_id":115261743,"body_markdown":"This is the same as question [https://stackoverflow.com/questions/65186759/java-thread-to-manipulate-the-clipboard-does-not-work] and both examples ignore `Exception e`","body":"This is the same as question [<a href=\"https://stackoverflow.com/questions/65186759/java-thread-to-manipulate-the-clipboard-does-not-work]\" title=\"java thread to manipulate the clipboard does not work%5d\">stackoverflow.com/questions/65186759/&hellip;</a> and both examples ignore <code>Exception e</code>"},{"owner":{"account_id":20157562,"reputation":1,"user_id":14783381,"display_name":"MA-IT"},"score":0,"creation_date":1607440242,"post_id":65191275,"comment_id":115269434,"body_markdown":"What do you mean with both examples ignore Exception e?","body":"What do you mean with both examples ignore Exception e?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1607441802,"post_id":65191275,"comment_id":115270254,"body_markdown":"The easiest way to debug any Java problem is to search all the catch blocks and delete any exception handler that continues after an exception (as in `lostOwnership`), or worse, does nothing such as `catch (Exception e) {}` as seen in `process_clipboard`. Once you know that there are no exceptions, it may be easier to resolve the underlying problems.","body":"The easiest way to debug any Java problem is to search all the catch blocks and delete any exception handler that continues after an exception (as in <code>lostOwnership</code>), or worse, does nothing such as <code>catch (Exception e) {}</code> as seen in <code>process_clipboard</code>. Once you know that there are no exceptions, it may be easier to resolve the underlying problems."},{"owner":{"account_id":20157562,"reputation":1,"user_id":14783381,"display_name":"MA-IT"},"score":0,"creation_date":1607449798,"post_id":65191275,"comment_id":115274257,"body_markdown":"I tried so much. It throws no exception in the IDE. It just doesnt work.","body":"I tried so much. It throws no exception in the IDE. It just doesnt work."}],"answers":[{"comments":[{"owner":{"account_id":20157562,"reputation":1,"user_id":14783381,"display_name":"MA-IT"},"score":0,"creation_date":1607455711,"post_id":65205110,"comment_id":115276842,"body_markdown":"Thank your very much for your help:) Now it works","body":"Thank your very much for your help:) Now it works"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1607454485,"creation_date":1607453753,"answer_id":65205110,"question_id":65191275,"body_markdown":"Comment out the `TakeOwnership` line inside `lostOwnership()`. It resets the original clipboard contents that you have just changed inside the preceeding `process_clipboard` call.\r\n\r\n    //TakeOwnership(contents);\r\n\r\nAnd make this non-static / use &quot;this&quot;:\r\n\r\n    public void addStringToClipBoard(String cache) {\r\n      StringSelection selection = new StringSelection(cache.trim());\r\n      Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n      clipboard.setContents(selection,this);\r\n    }\r\n\r\nIn this example your class does not need to be a `Thread` as you can call `c.run()` directly in `main`. Methods with a tight CPU loop `while(true) {}` are not a good idea - wait on some exit condition.","title":"Windows Clipboard Java Program Does Not Work","body":"<p>Comment out the <code>TakeOwnership</code> line inside <code>lostOwnership()</code>. It resets the original clipboard contents that you have just changed inside the preceeding <code>process_clipboard</code> call.</p>\n<pre><code>//TakeOwnership(contents);\n</code></pre>\n<p>And make this non-static / use &quot;this&quot;:</p>\n<pre><code>public void addStringToClipBoard(String cache) {\n  StringSelection selection = new StringSelection(cache.trim());\n  Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n  clipboard.setContents(selection,this);\n}\n</code></pre>\n<p>In this example your class does not need to be a <code>Thread</code> as you can call <code>c.run()</code> directly in <code>main</code>. Methods with a tight CPU loop <code>while(true) {}</code> are not a good idea - wait on some exit condition.</p>\n"}],"owner":{"account_id":20157562,"reputation":1,"user_id":14783381,"display_name":"MA-IT"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1674734088,"accepted_answer_id":65205110,"answer_count":1,"score":-3,"last_activity_date":1674659843,"creation_date":1607386013,"question_id":65191275,"body_markdown":"I want to edit the contents of the Windows clipboard, so that leading and trailing whitespace are removed when inserting the text.\r\n\r\nFor example, if I copy the text &quot; Hello World &quot;, it should insert &quot;Hello World&quot;.\r\n\r\nI tried this code:\r\n```\r\npublic class ClipBoardListener extends Thread implements ClipboardOwner{\r\n\t\r\nClipboard sysClip = Toolkit.getDefaultToolkit().getSystemClipboard();  \r\n\r\n\r\n  public void run() {\r\n    Transferable trans = sysClip.getContents(this);  \r\n    TakeOwnership(trans);       \r\n    while(true) {\r\n    }\r\n  }  \r\n\r\n    public void lostOwnership(Clipboard c, Transferable t) {  \r\n\r\n  try {  \r\n      ClipBoardListener.sleep(250);  //waiting e.g for loading huge elements like word&#39;s etc.\r\n  } catch(Exception e) {  \r\n    System.out.println(&quot;Exception: &quot; + e);  \r\n  }  \r\n  Transferable contents = sysClip.getContents(this);  \r\n    try {\r\n        process_clipboard(contents, c);\r\n    } catch (Exception ex) {\r\n        Logger.getLogger(ClipBoardListener.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n  TakeOwnership(contents);\r\n\r\n\r\n}  \r\n\r\n  void TakeOwnership(Transferable t) {  \r\n    sysClip.setContents(t, this);  \r\n  }  \r\n\r\npublic void process_clipboard(Transferable t, Clipboard c) { //your implementation\r\n    String tempText;\r\n    Transferable trans = t;\r\n\r\n    try {\r\n        if (trans != null?trans.isDataFlavorSupported(DataFlavor.stringFlavor):false) {\r\n            tempText = (String) trans.getTransferData(DataFlavor.stringFlavor);\r\n            \r\n           addStringToClipBoard(tempText);\r\n            \r\n           \r\n        }\r\n\r\n    } catch (Exception e) {\r\n    }\r\n}\r\npublic static void addStringToClipBoard(String cache) {\t\t\t\t\t\t\t\r\n\tStringSelection selection = new StringSelection(cache.trim());\r\n\tClipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n\tclipboard.setContents(selection,null);\r\n}\r\n\r\n\r\npublic static void main(String[] args) {\r\n\t\r\n\tClipBoardListener c = new ClipBoardListener();\r\n\tc.start();\r\n\t\t\r\n }  \r\n}\r\n```\r\nBut it doesn&#39;t work. How can I fix the problem?","title":"Windows Clipboard Java Program Does Not Work","body":"<p>I want to edit the contents of the Windows clipboard, so that leading and trailing whitespace are removed when inserting the text.</p>\n<p>For example, if I copy the text &quot; Hello World &quot;, it should insert &quot;Hello World&quot;.</p>\n<p>I tried this code:</p>\n<pre><code>public class ClipBoardListener extends Thread implements ClipboardOwner{\n    \nClipboard sysClip = Toolkit.getDefaultToolkit().getSystemClipboard();  \n\n\n  public void run() {\n    Transferable trans = sysClip.getContents(this);  \n    TakeOwnership(trans);       \n    while(true) {\n    }\n  }  \n\n    public void lostOwnership(Clipboard c, Transferable t) {  \n\n  try {  \n      ClipBoardListener.sleep(250);  //waiting e.g for loading huge elements like word's etc.\n  } catch(Exception e) {  \n    System.out.println(&quot;Exception: &quot; + e);  \n  }  \n  Transferable contents = sysClip.getContents(this);  \n    try {\n        process_clipboard(contents, c);\n    } catch (Exception ex) {\n        Logger.getLogger(ClipBoardListener.class.getName()).log(Level.SEVERE, null, ex);\n    }\n  TakeOwnership(contents);\n\n\n}  \n\n  void TakeOwnership(Transferable t) {  \n    sysClip.setContents(t, this);  \n  }  \n\npublic void process_clipboard(Transferable t, Clipboard c) { //your implementation\n    String tempText;\n    Transferable trans = t;\n\n    try {\n        if (trans != null?trans.isDataFlavorSupported(DataFlavor.stringFlavor):false) {\n            tempText = (String) trans.getTransferData(DataFlavor.stringFlavor);\n            \n           addStringToClipBoard(tempText);\n            \n           \n        }\n\n    } catch (Exception e) {\n    }\n}\npublic static void addStringToClipBoard(String cache) {                         \n    StringSelection selection = new StringSelection(cache.trim());\n    Clipboard clipboard = Toolkit.getDefaultToolkit().getSystemClipboard();\n    clipboard.setContents(selection,null);\n}\n\n\npublic static void main(String[] args) {\n    \n    ClipBoardListener c = new ClipBoardListener();\n    c.start();\n        \n }  \n}\n</code></pre>\n<p>But it doesn't work. How can I fix the problem?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda"],"answers":[{"tags":[],"owner":{"account_id":5304401,"reputation":81,"user_id":4232872,"display_name":"Kodeffeminate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607103064,"creation_date":1607103064,"answer_id":65148076,"question_id":64901467,"body_markdown":"I solved my problem by increasing the Lambda timeout and invoking my process in a new thread and timing out the Thread after n seconds.\r\n```\r\n        ExecutorService service = Executors.newSingleThreadExecutor();\r\n         try {\r\n\t\t\t    Runnable r = () -&gt;{\r\n\t\t\t        \ttry {\r\n\t\t\t        \t   myFunction();\t\r\n\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t    };\r\n\t\t\t    f = service.submit(r);\r\n\t\t\t    f.get(n, TimeUnit.MILLISECONDS);// attempt the task for n milliseconds\r\n\t\t\t}catch(TimeoutException toe){\r\n\t\t\t\t//custom logic\r\n        }\r\n```","title":"Looking for ways to detect AWS Lambda timeouts(few seconds before timeout) in Java and to test the same","body":"<p>I solved my problem by increasing the Lambda timeout and invoking my process in a new thread and timing out the Thread after n seconds.</p>\n<pre><code>        ExecutorService service = Executors.newSingleThreadExecutor();\n         try {\n                Runnable r = () -&gt;{\n                        try {\n                           myFunction();    \n                        } catch (Exception e) {\n                            e.printStackTrace();\n                        }\n                };\n                f = service.submit(r);\n                f.get(n, TimeUnit.MILLISECONDS);// attempt the task for n milliseconds\n            }catch(TimeoutException toe){\n                //custom logic\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5304401,"reputation":81,"user_id":4232872,"display_name":"Kodeffeminate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625095522,"creation_date":1625095522,"answer_id":68202578,"question_id":64901467,"body_markdown":"Another option is to use the \r\n\r\n&gt; readTimeOut\r\n\r\n property of the RestClient(in my case Jersey) to set the timeout.But I see that this property is not working consistently within the Lambda code.Not sure if it&#39;s and issue with the Jersey client or the Lambda.","title":"Looking for ways to detect AWS Lambda timeouts(few seconds before timeout) in Java and to test the same","body":"<p>Another option is to use the</p>\n<blockquote>\n<p>readTimeOut</p>\n</blockquote>\n<p>property of the RestClient(in my case Jersey) to set the timeout.But I see that this property is not working consistently within the Lambda code.Not sure if it's and issue with the Jersey client or the Lambda.</p>\n"},{"tags":[],"owner":{"account_id":14041296,"reputation":329,"user_id":10142632,"display_name":"Shreenitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674659525,"creation_date":1674659525,"answer_id":75235979,"question_id":64901467,"body_markdown":"You can try with cancellation token to return custom exceptions with lambda before timeout.\r\n\r\n    try\r\n    {\r\n        var tokenSource = new CancellationTokenSource(TimeSpan.FromMinutes(1)); // set timeout value\r\n        var taskResult = ApiCall(); // call web service method\r\n        while (!taskResult.IsCompleted)\r\n        {\r\n            if (tokenSource.IsCancellationRequested)\r\n            {\r\n                throw new OperationCanceledException(&quot;time out for lambda&quot;); // throw custom exceptions eg : OperationCanceledException\r\n            }\r\n        }\r\n        return taskResult.Result;\r\n    }\r\n    catch (OperationCanceledException ex)\r\n    {\r\n        // handle exception\r\n    }","title":"Looking for ways to detect AWS Lambda timeouts(few seconds before timeout) in Java and to test the same","body":"<p>You can try with cancellation token to return custom exceptions with lambda before timeout.</p>\n<pre><code>try\n{\n    var tokenSource = new CancellationTokenSource(TimeSpan.FromMinutes(1)); // set timeout value\n    var taskResult = ApiCall(); // call web service method\n    while (!taskResult.IsCompleted)\n    {\n        if (tokenSource.IsCancellationRequested)\n        {\n            throw new OperationCanceledException(&quot;time out for lambda&quot;); // throw custom exceptions eg : OperationCanceledException\n        }\n    }\n    return taskResult.Result;\n}\ncatch (OperationCanceledException ex)\n{\n    // handle exception\n}\n</code></pre>\n"}],"owner":{"account_id":5304401,"reputation":81,"user_id":4232872,"display_name":"Kodeffeminate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1674659525,"creation_date":1605733934,"question_id":64901467,"body_markdown":"My current Lambda function is calling a 3rd party web service **Synchronously**.This function occasionally times out (current timeout set to 25s and cannot be increased further)\r\nMy code is something like:\r\n\r\n   \r\n\r\n     handleRequest(InputStream input, OutputStream output, Context context) throws IOException {\r\n           try{\r\n           response = calling 3rd party REST service\r\n           }catch(Exception e){\r\n              //handle exceptions\r\n           }\r\n    }\r\n\r\n1)I want to custom handle the timeout (tracking the time and handling few milli seconds before actual timeout) within my Lambda function by sending a custom error message back to the client.\r\nHow can I effectively use the \r\n\r\ncontext.getRemainingTimeInMillis()\r\n\r\n method to track the time remaining while my synchronous call is running? Planning to call the context.getRemainingTimeInMillis() asynchronously.Is that the right approach?\r\n2)What is a good way to test the timeout custom functionality ?","title":"Looking for ways to detect AWS Lambda timeouts(few seconds before timeout) in Java and to test the same","body":"<p>My current Lambda function is calling a 3rd party web service <strong>Synchronously</strong>.This function occasionally times out (current timeout set to 25s and cannot be increased further)\nMy code is something like:</p>\n<pre><code> handleRequest(InputStream input, OutputStream output, Context context) throws IOException {\n       try{\n       response = calling 3rd party REST service\n       }catch(Exception e){\n          //handle exceptions\n       }\n}\n</code></pre>\n<p>1)I want to custom handle the timeout (tracking the time and handling few milli seconds before actual timeout) within my Lambda function by sending a custom error message back to the client.\nHow can I effectively use the</p>\n<p>context.getRemainingTimeInMillis()</p>\n<p>method to track the time remaining while my synchronous call is running? Planning to call the context.getRemainingTimeInMillis() asynchronously.Is that the right approach?\n2)What is a good way to test the timeout custom functionality ?</p>\n"},{"tags":["java","arrays","json","qjsonobject"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1674656206,"post_id":75235233,"comment_id":132761011,"body_markdown":"why do you do it by hand? you should use a library for json serialization/deserialization like jackson or gson","body":"why do you do it by hand? you should use a library for json serialization/deserialization like jackson or gson"}],"answers":[{"comments":[{"owner":{"account_id":13333705,"reputation":71,"user_id":9624198,"display_name":"nikom"},"score":0,"creation_date":1674656707,"post_id":75235313,"comment_id":132761195,"body_markdown":"In order to use getJSONObject , do i have to add some dependency to pom?","body":"In order to use getJSONObject , do i have to add some dependency to pom?"},{"owner":{"account_id":18976903,"reputation":96,"user_id":13849179,"display_name":"VIVEK JAIN"},"score":0,"creation_date":1674659432,"post_id":75235313,"comment_id":132762148,"body_markdown":"@Kadev yes, i&#39;ll update my answer to include the dependency as well","body":"@Kadev yes, i&#39;ll update my answer to include the dependency as well"},{"owner":{"account_id":13333705,"reputation":71,"user_id":9624198,"display_name":"nikom"},"score":0,"creation_date":1674663150,"post_id":75235313,"comment_id":132763552,"body_markdown":"Thanks, but when i do this and add the data to a grpc object, it is overriding the previous values:  Object object =  recommendationCandidate.get(&quot;candidate_id&quot;);\n            Object object1 =  recommendationCandidate.get(&quot;utterance&quot;);\n\n            abc.put(&quot;candidate_id&quot;, object);\n            abc.put(&quot;cluster_id&quot;, object);\n           // logger.debug(&quot;print abc{}&quot;, abc);\n            eventBuilder.addAllRecommendationCandidates(abc.values());  --overriding","body":"Thanks, but when i do this and add the data to a grpc object, it is overriding the previous values:  Object object =  recommendationCandidate.get(&quot;candidate_id&quot;);             Object object1 =  recommendationCandidate.get(&quot;utterance&quot;);              abc.put(&quot;candidate_id&quot;, object);             abc.put(&quot;cluster_id&quot;, object);            // logger.debug(&quot;print abc{}&quot;, abc);             eventBuilder.addAllRecommendationCandidates(abc.values());  --overriding"},{"owner":{"account_id":18976903,"reputation":96,"user_id":13849179,"display_name":"VIVEK JAIN"},"score":0,"creation_date":1674792032,"post_id":75235313,"comment_id":132793302,"body_markdown":"@kadev not sure if this is a typo but you are putting `object` inside both `candidate_id` and `cluster_id` of `abc`","body":"@kadev not sure if this is a typo but you are putting <code>object</code> inside both <code>candidate_id</code> and <code>cluster_id</code> of <code>abc</code>"},{"owner":{"account_id":13333705,"reputation":71,"user_id":9624198,"display_name":"nikom"},"score":0,"creation_date":1675070101,"post_id":75235313,"comment_id":132841440,"body_markdown":"Yes it was a typo, the things is I want to add these objects into GRPC object called eventBuilder which will carry the response as :  recommendationCandidates: [{candidate_id:&quot;abc&quot;, text : &quot; abc&quot;, count : 2},,,and so on ] , but currently is it being overridden","body":"Yes it was a typo, the things is I want to add these objects into GRPC object called eventBuilder which will carry the response as :  recommendationCandidates: [{candidate_id:&quot;abc&quot;, text : &quot; abc&quot;, count : 2},,,and so on ] , but currently is it being overridden"}],"tags":[],"owner":{"account_id":18976903,"reputation":96,"user_id":13849179,"display_name":"VIVEK JAIN"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674659514,"creation_date":1674656279,"answer_id":75235313,"question_id":75235233,"body_markdown":"I believe you have a `getJSONObject()` method in `JSONArray`\r\n\r\n```java\r\nJSONArray array = new JSONArray()\r\nJSONObject object = array.getJSONObject(0)\r\n```\r\n\r\nYou can just iterate over your `JSONArray` and create `JSONObject`s\r\n\r\n**UPDATE**\r\n\r\nAdd this to `pom.xml`\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20201115&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Extract elements from List of Strings and assign it to a separate String","body":"<p>I believe you have a <code>getJSONObject()</code> method in <code>JSONArray</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONArray array = new JSONArray()\nJSONObject object = array.getJSONObject(0)\n</code></pre>\n<p>You can just iterate over your <code>JSONArray</code> and create <code>JSONObject</code>s</p>\n<p><strong>UPDATE</strong></p>\n<p>Add this to <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20201115&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13333705,"reputation":71,"user_id":9624198,"display_name":"nikom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674659514,"creation_date":1674655859,"question_id":75235233,"body_markdown":"I am new to Java and below is the requirement,\r\nI have a JSONArray like :\r\n```\r\n[{&quot;candidate_id&quot;:&quot;agent_4&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;2&quot;,&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;}, {&quot;candidate_id&quot;:&quot;agent_11&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;2&quot;,&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 3544&quot;}, {&quot;candidate_id&quot;:&quot;agent_16&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;63&quot;,&quot;utterance&quot;:&quot;Hello Janet can you confirm your phone number?&quot;}\r\n```\r\nThe requirement is to extract keys from this JSONArray one by one and assign to to a JSONObject like :\r\n```\r\n{\r\n&quot;candidate_id&quot;: &quot;agent_11&quot;,\r\n&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,\r\n&quot;count&quot;:&quot;63&quot;,\r\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\r\n\r\n} and the rest as well as separate\r\n```\r\n\r\nNow, as of now I converted this JSONArray to list of Strings in which i will traverse and extract it one by one :\r\n```\r\n for(int j=0;j&lt;s.length(); j++) {\r\n                if(s.contains(&quot;candidate_id&quot;)){\r\n                    final String candidate_id =exampleList.get(j);\r\n                    logger.info(&quot;print  candidate_id={}&quot;, candidate_id);\r\n                   \r\n                }\r\n```\r\nbut it&#39;s not extracting the required results, what can be done here?\r\n\r\nFinal Output should look like :\r\n```\r\nRecommendation :{\r\n{candidate_id: &quot;agent_11&quot;,\r\ncluster_ID&quot;:&quot;To_Be_Added&quot;,\r\ncount&quot;:&quot;63&quot;,\r\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\r\n},\r\n{candidate_id: &quot;agent_13&quot;,\r\ncluster_ID&quot;:&quot;To_Be_Added&quot;,\r\ncount&quot;:&quot;45&quot;,\r\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\r\n}}\r\n```","title":"Extract elements from List of Strings and assign it to a separate String","body":"<p>I am new to Java and below is the requirement,\nI have a JSONArray like :</p>\n<pre><code>[{&quot;candidate_id&quot;:&quot;agent_4&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;2&quot;,&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;}, {&quot;candidate_id&quot;:&quot;agent_11&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;2&quot;,&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 3544&quot;}, {&quot;candidate_id&quot;:&quot;agent_16&quot;,&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,&quot;count&quot;:&quot;63&quot;,&quot;utterance&quot;:&quot;Hello Janet can you confirm your phone number?&quot;}\n</code></pre>\n<p>The requirement is to extract keys from this JSONArray one by one and assign to to a JSONObject like :</p>\n<pre><code>{\n&quot;candidate_id&quot;: &quot;agent_11&quot;,\n&quot;cluster_ID&quot;:&quot;To_Be_Added&quot;,\n&quot;count&quot;:&quot;63&quot;,\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\n\n} and the rest as well as separate\n</code></pre>\n<p>Now, as of now I converted this JSONArray to list of Strings in which i will traverse and extract it one by one :</p>\n<pre><code> for(int j=0;j&lt;s.length(); j++) {\n                if(s.contains(&quot;candidate_id&quot;)){\n                    final String candidate_id =exampleList.get(j);\n                    logger.info(&quot;print  candidate_id={}&quot;, candidate_id);\n                   \n                }\n</code></pre>\n<p>but it's not extracting the required results, what can be done here?</p>\n<p>Final Output should look like :</p>\n<pre><code>Recommendation :{\n{candidate_id: &quot;agent_11&quot;,\ncluster_ID&quot;:&quot;To_Be_Added&quot;,\ncount&quot;:&quot;63&quot;,\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\n},\n{candidate_id: &quot;agent_13&quot;,\ncluster_ID&quot;:&quot;To_Be_Added&quot;,\ncount&quot;:&quot;45&quot;,\n&quot;utterance&quot;:&quot;Can I text you a confirmation code on the line ending in 1544&quot;\n}}\n</code></pre>\n"},{"tags":["java","service","systemd"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1417110187,"post_id":27176303,"comment_id":42841917,"body_markdown":"Since that notification feature requires native code, you&#39;ll need to use JNI and/or JNA.","body":"Since that notification feature requires native code, you&#39;ll need to use JNI and/or JNA."}],"answers":[{"comments":[{"owner":{"account_id":12539,"reputation":39420,"user_id":24762,"accept_rate":71,"display_name":"Andrew Aylett"},"score":0,"creation_date":1456157369,"post_id":35496714,"comment_id":58804914,"body_markdown":"Good call -- I&#39;ve yet to find a better solution.  I&#39;ve removed your link, as it&#39;s actually referencing a SO clone&#39;s copy of this question.","body":"Good call -- I&#39;ve yet to find a better solution.  I&#39;ve removed your link, as it&#39;s actually referencing a SO clone&#39;s copy of this question."},{"owner":{"account_id":136932,"reputation":2130,"user_id":340790,"display_name":"JdeBP"},"score":2,"creation_date":1462228357,"post_id":35496714,"comment_id":61539471,"body_markdown":"This class uses something, forking a child `systemd-notify` process,  that is notoriously unreliable.  [There is a better way.](http://stackoverflow.com/a/36992645/340790)","body":"This class uses something, forking a child <code>systemd-notify</code> process,  that is notoriously unreliable.  <a href=\"http://stackoverflow.com/a/36992645/340790\">There is a better way.</a>"},{"owner":{"account_id":411987,"reputation":412,"user_id":784804,"display_name":"Ian"},"score":4,"creation_date":1541528182,"post_id":35496714,"comment_id":93245339,"body_markdown":"I&#39;ve taken the answer from @JdeBP and turned it into something a little more generic: https://gist.github.com/juur/048cc3d0554953b717e9c6867970f30e","body":"I&#39;ve taken the answer from @JdeBP and turned it into something a little more generic: <a href=\"https://gist.github.com/juur/048cc3d0554953b717e9c6867970f30e\" rel=\"nofollow noreferrer\">gist.github.com/juur/048cc3d0554953b717e9c6867970f30e</a>"}],"tags":[],"owner":{"account_id":6200619,"reputation":176,"user_id":4830567,"display_name":"Jonathan"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456157310,"creation_date":1455852011,"answer_id":35496714,"question_id":27176303,"body_markdown":"I found this implementation which does use system hooks, but at least doesn&#39;t require JNA/JNI.\r\n\r\nhttps://gist.github.com/yrro/18dc22513f1001d0ec8d\r\n\r\nAs you say, systemd uses sockets referenced by an environment variable (System.getenv(&quot;NOTIFY_SOCKET&quot;) in the code), so I&#39;d imagine there may also be a way to use a Java Socket, although I&#39;d imagine a lot of research and/or trial-and-error would be required.","title":"sd_notify() from Java","body":"<p>I found this implementation which does use system hooks, but at least doesn't require JNA/JNI.</p>\n\n<p><a href=\"https://gist.github.com/yrro/18dc22513f1001d0ec8d\" rel=\"nofollow\">https://gist.github.com/yrro/18dc22513f1001d0ec8d</a></p>\n\n<p>As you say, systemd uses sockets referenced by an environment variable (System.getenv(\"NOTIFY_SOCKET\") in the code), so I'd imagine there may also be a way to use a Java Socket, although I'd imagine a lot of research and/or trial-and-error would be required.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674659294,"creation_date":1674659294,"answer_id":75235926,"question_id":27176303,"body_markdown":"There is Java + JNI implementation:\r\n\r\nhttps://github.com/faljse/SDNotify\r\n\r\n&gt; The Notify protocol uses datagram unix sockets, which are not accessible via Java; Therefore SDNotify includes a JNA wrapper of the socket API.","title":"sd_notify() from Java","body":"<p>There is Java + JNI implementation:</p>\n<p><a href=\"https://github.com/faljse/SDNotify\" rel=\"nofollow noreferrer\">https://github.com/faljse/SDNotify</a></p>\n<blockquote>\n<p>The Notify protocol uses datagram unix sockets, which are not accessible via Java; Therefore SDNotify includes a JNA wrapper of the socket API.</p>\n</blockquote>\n"}],"owner":{"account_id":12539,"reputation":39420,"user_id":24762,"accept_rate":71,"display_name":"Andrew Aylett"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3015,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1674659294,"creation_date":1417109851,"question_id":27176303,"body_markdown":"I have a Java service (implemented using [Dropwizard][1]) which I&#39;m launching from a user instance of [systemd][2].  So far so good.  Now I would like to use systemd&#39;s [notification features][3] to make it aware of the service state (available as a [C library function][4] or [shell script][5] but eventually both methods talk to a socket referenced by an environment variable).  I can run arbitrary code when the service has finished starting up, but I&#39;m not sure how best to notify systemd from within Java.\r\n\r\nOther developers run this service on Windows, so for bonus points it would be really useful if my notification code were discreet and didn&#39;t cause any output if not running with systemd.\r\n\r\n\r\n  [1]: http://dropwizard.io\r\n  [2]: http://www.freedesktop.org/wiki/Software/systemd/\r\n  [3]: http://www.freedesktop.org/software/systemd/man/sd_notify.html\r\n  [4]: http://www.freedesktop.org/software/systemd/man/sd_notify.html\r\n  [5]: http://www.freedesktop.org/software/systemd/man/systemd-notify.html","title":"sd_notify() from Java","body":"<p>I have a Java service (implemented using <a href=\"http://dropwizard.io\" rel=\"noreferrer\">Dropwizard</a>) which I'm launching from a user instance of <a href=\"http://www.freedesktop.org/wiki/Software/systemd/\" rel=\"noreferrer\">systemd</a>.  So far so good.  Now I would like to use systemd's <a href=\"http://www.freedesktop.org/software/systemd/man/sd_notify.html\" rel=\"noreferrer\">notification features</a> to make it aware of the service state (available as a <a href=\"http://www.freedesktop.org/software/systemd/man/sd_notify.html\" rel=\"noreferrer\">C library function</a> or <a href=\"http://www.freedesktop.org/software/systemd/man/systemd-notify.html\" rel=\"noreferrer\">shell script</a> but eventually both methods talk to a socket referenced by an environment variable).  I can run arbitrary code when the service has finished starting up, but I'm not sure how best to notify systemd from within Java.</p>\n\n<p>Other developers run this service on Windows, so for bonus points it would be really useful if my notification code were discreet and didn't cause any output if not running with systemd.</p>\n"},{"tags":["java","spring","enums","converters"],"owner":{"account_id":6696839,"reputation":855,"user_id":5164612,"display_name":"Teodor Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674659253,"creation_date":1674659253,"question_id":75235916,"body_markdown":"In order to automatically convert incoming objects to enums in my Spring ReST controller, I tried writing a converter and wiring it with a WebMvcConfigurer. I have done this before and it worked fine; this time I got an unfathomable error.\r\n\r\nI need my controller to automatically map a RequestBody to a custom class that has an Enum field. As suggested by [Baeldung](https://www.baeldung.com/spring-enum-request-param), I created a simple converter:\r\n```\r\npublic class RestQuarterConverter implements Converter&lt;String, Quarter&gt; {\r\n    @Override\r\n    public Quarter convert(String source) {\r\n        return Quarter.valueOf(source);\r\n    }\r\n}\r\n```\r\nand attached it to the controller using\r\n\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new RestQuarterConverter());\r\n    }\r\n}\r\n```\r\nIn the past, this technique has worked perfectly. But this time, when building the project, I got the following (extremely verbose but little illuminating) exception:\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException:\r\nError creating bean with name &#39;webConfig&#39;:\r\nUnsatisfied dependency expressed through method &#39;addFormatters&#39; parameter 0;\r\nnested exception is org.springframework.beans.factory.BeanCreationException:\r\nError creating bean with name &#39;mvcConversionService&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]:\r\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\r\nFailed to instantiate [org.springframework.format.support.FormattingConversionService]:\r\nFactory method &#39;mvcConversionService&#39; threw exception;\r\nnested exception is java.lang.IllegalStateException:\r\nNo thread-bound request found:\r\nAre you referring to request attributes outside of an actual web request,\r\nor processing a request outside of the originally receiving thread?\r\nIf you are actually operating within a web request and still receive this message,\r\nyour code is probably running outside of DispatcherServlet:\r\nIn this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n```\r\n\r\nI compared my code with working code I wrote before and could find no difference. What am I doing wrong here?","title":"What is the reason for an IllegalStateException when attempting to configure a convertor for my controller?","body":"<p>In order to automatically convert incoming objects to enums in my Spring ReST controller, I tried writing a converter and wiring it with a WebMvcConfigurer. I have done this before and it worked fine; this time I got an unfathomable error.</p>\n<p>I need my controller to automatically map a RequestBody to a custom class that has an Enum field. As suggested by <a href=\"https://www.baeldung.com/spring-enum-request-param\" rel=\"nofollow noreferrer\">Baeldung</a>, I created a simple converter:</p>\n<pre><code>public class RestQuarterConverter implements Converter&lt;String, Quarter&gt; {\n    @Override\n    public Quarter convert(String source) {\n        return Quarter.valueOf(source);\n    }\n}\n</code></pre>\n<p>and attached it to the controller using</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new RestQuarterConverter());\n    }\n}\n</code></pre>\n<p>In the past, this technique has worked perfectly. But this time, when building the project, I got the following (extremely verbose but little illuminating) exception:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException:\nError creating bean with name 'webConfig':\nUnsatisfied dependency expressed through method 'addFormatters' parameter 0;\nnested exception is org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]:\nBean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException:\nFailed to instantiate [org.springframework.format.support.FormattingConversionService]:\nFactory method 'mvcConversionService' threw exception;\nnested exception is java.lang.IllegalStateException:\nNo thread-bound request found:\nAre you referring to request attributes outside of an actual web request,\nor processing a request outside of the originally receiving thread?\nIf you are actually operating within a web request and still receive this message,\nyour code is probably running outside of DispatcherServlet:\nIn this case, use RequestContextListener or RequestContextFilter to expose the current request.\n</code></pre>\n<p>I compared my code with working code I wrote before and could find no difference. What am I doing wrong here?</p>\n"},{"tags":["java","spring","spring-mvc","ffmpeg"],"owner":{"account_id":4666800,"reputation":195,"user_id":3779674,"accept_rate":61,"display_name":"isaric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674659180,"creation_date":1674627168,"question_id":75230260,"body_markdown":"I am trying to relay an RTSP stream as a normal video stream over http. First, I remux the stream to mpeg4 using ffmpeg and pipe to stdout. Now I want to serve that stream over a Spring Web endpoint. The idea is similar to this example in JavaScript [here][1].\r\n\r\nHow to do this using Spring Web?\r\n\r\n\r\n  [1]: https://github.com/ShinobiCCTV/Shinobi/blob/master/tools/ffmpegToWeb.js","title":"How to stream a live video using Spring Web?","body":"<p>I am trying to relay an RTSP stream as a normal video stream over http. First, I remux the stream to mpeg4 using ffmpeg and pipe to stdout. Now I want to serve that stream over a Spring Web endpoint. The idea is similar to this example in JavaScript <a href=\"https://github.com/ShinobiCCTV/Shinobi/blob/master/tools/ffmpegToWeb.js\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>How to do this using Spring Web?</p>\n"},{"tags":["java","micrometer","google-cloud-monitoring"],"answers":[{"tags":[],"owner":{"account_id":1194566,"reputation":490,"user_id":1166554,"accept_rate":100,"display_name":"alsid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674658812,"creation_date":1674658812,"answer_id":75235830,"question_id":73444447,"body_markdown":"To make better sense of distribution in stackdriver try to use following timer configuration:\r\n\r\n    Timer.builder(&quot;request.latency&quot;)\r\n            .tag(&quot;tag&quot;, &quot;tagValue&quot;)\r\n            .publishPercentileHistogram()\r\n            .minimumExpectedValue(Duration.ofMillis(100))\r\n            .maximumExpectedValue(Duration.ofSeconds(1))\r\n            .register(meterRegistry);\r\n\r\nOr if you want to use your own SLO to generate buckets:\r\n\r\n    Timer.builder(&quot;request.latency&quot;)\r\n            .tag(&quot;tag&quot;, &quot;tagValue&quot;)\r\n            .serviceLevelObjectives(\r\n                Duration.ofMillis(100),\r\n                Duration.ofMillis(200),\r\n                Duration.ofMillis(400),\r\n                Duration.ofMillis(600),\r\n                Duration.ofMillis(800),\r\n                Duration.ofMillis(1000))\r\n            .register(meterRegistry);\r\n\r\nWith similar configuration I was able to use percentile aggregations and generate heatmap chart. \r\n\r\nI also tried to follow [google tutorial][1] for custom metrics using opencensus and got more manageable metrics. Feels like micrometer stackdriver using slightly different logic configuring metrics. For instance it uses gauge metric kind for distributions. \r\n\r\nAlso worth checking [supported metric kinds and types][2]. Not all of them are applicable for custom metrics.\r\n\r\n\r\n  [1]: https://cloud.google.com/monitoring/custom-metrics/open-census#monitoring_opencensus_metrics_quickstart-java\r\n  [2]: https://cloud.google.com/monitoring/api/v3/kinds-and-types#kind-type-combos","title":"Micrometer stackdriver registry. Understanding distribution","body":"<p>To make better sense of distribution in stackdriver try to use following timer configuration:</p>\n<pre><code>Timer.builder(&quot;request.latency&quot;)\n        .tag(&quot;tag&quot;, &quot;tagValue&quot;)\n        .publishPercentileHistogram()\n        .minimumExpectedValue(Duration.ofMillis(100))\n        .maximumExpectedValue(Duration.ofSeconds(1))\n        .register(meterRegistry);\n</code></pre>\n<p>Or if you want to use your own SLO to generate buckets:</p>\n<pre><code>Timer.builder(&quot;request.latency&quot;)\n        .tag(&quot;tag&quot;, &quot;tagValue&quot;)\n        .serviceLevelObjectives(\n            Duration.ofMillis(100),\n            Duration.ofMillis(200),\n            Duration.ofMillis(400),\n            Duration.ofMillis(600),\n            Duration.ofMillis(800),\n            Duration.ofMillis(1000))\n        .register(meterRegistry);\n</code></pre>\n<p>With similar configuration I was able to use percentile aggregations and generate heatmap chart.</p>\n<p>I also tried to follow <a href=\"https://cloud.google.com/monitoring/custom-metrics/open-census#monitoring_opencensus_metrics_quickstart-java\" rel=\"nofollow noreferrer\">google tutorial</a> for custom metrics using opencensus and got more manageable metrics. Feels like micrometer stackdriver using slightly different logic configuring metrics. For instance it uses gauge metric kind for distributions.</p>\n<p>Also worth checking <a href=\"https://cloud.google.com/monitoring/api/v3/kinds-and-types#kind-type-combos\" rel=\"nofollow noreferrer\">supported metric kinds and types</a>. Not all of them are applicable for custom metrics.</p>\n"}],"owner":{"account_id":9377224,"reputation":1,"user_id":8566738,"display_name":"hsb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674658812,"creation_date":1661168133,"question_id":73444447,"body_markdown":"I am in the process of switching over from influxdb to google cloud monitoring via micrometer. In influxdb, published metrics are very easy to make sense of. Though in stackdriver&#39;s case it&#39;s very confusing. Taking one micrometer timer as an example, on the google cloud monitoring metric explorer, i see three custom metrics for selection when timer metrics are published to it:\r\n1. count\r\n2. max\r\n3. DISTRIBUTION\r\n\r\nNow i have gone over the whole gcloud monitoring documentation to understand what DISTRIBUTIONS are. But when I try to fiddle with it, the only useful thing i get out of it is through the &#39;mean&#39; aggregator. Selecting other aggregators does nothing. Choosing the aligner in advance options menu produces different results for &#39;next older&#39; and &#39;sum&#39;. The rest of percentile options give back just the value 0.\r\n\r\nWhat I don&#39;t understand is that if micrometer publishes separate metrics for count and max then why dont they do that for mean as well. Why use DISTRIBUTION instead and using it in a such a way that only the &#39;mean&#39; aggregator produces something meaningful.\r\n\r\nAm I doing something wrong here? Hard to understand what because the same timer generates metrics that look completely fine in influxdb but produces a confusing mess in google cloud monitoring.","title":"Micrometer stackdriver registry. Understanding distribution","body":"<p>I am in the process of switching over from influxdb to google cloud monitoring via micrometer. In influxdb, published metrics are very easy to make sense of. Though in stackdriver's case it's very confusing. Taking one micrometer timer as an example, on the google cloud monitoring metric explorer, i see three custom metrics for selection when timer metrics are published to it:</p>\n<ol>\n<li>count</li>\n<li>max</li>\n<li>DISTRIBUTION</li>\n</ol>\n<p>Now i have gone over the whole gcloud monitoring documentation to understand what DISTRIBUTIONS are. But when I try to fiddle with it, the only useful thing i get out of it is through the 'mean' aggregator. Selecting other aggregators does nothing. Choosing the aligner in advance options menu produces different results for 'next older' and 'sum'. The rest of percentile options give back just the value 0.</p>\n<p>What I don't understand is that if micrometer publishes separate metrics for count and max then why dont they do that for mean as well. Why use DISTRIBUTION instead and using it in a such a way that only the 'mean' aggregator produces something meaningful.</p>\n<p>Am I doing something wrong here? Hard to understand what because the same timer generates metrics that look completely fine in influxdb but produces a confusing mess in google cloud monitoring.</p>\n"},{"tags":["java","android","usb"],"owner":{"account_id":27619146,"reputation":1,"user_id":21080625,"display_name":"drm98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674657641,"creation_date":1674657641,"question_id":75235571,"body_markdown":"I&#39;m going to be connected to a device which will send JSON messages asynchronously and would like my connection to the device to be open and waiting for those messages so that I can process them. \r\n\r\n\r\nI&#39;ve already completed the following steps:\r\n1. Requested proper permissions\r\n2. Found and connected to device \r\n3. Claimed the interface\r\n\r\nOnce I have the device connection object and the endpoint objects how to I wait asynchronously for input messages?\r\n\r\nIt seems like UsbRequest sends data to the device to request data back, but the device I&#39;m connected to will be sending data regardless of whether I request it or not","title":"How can I handle incoming asynchronous messages using Android&#39;s USB Host","body":"<p>I'm going to be connected to a device which will send JSON messages asynchronously and would like my connection to the device to be open and waiting for those messages so that I can process them.</p>\n<p>I've already completed the following steps:</p>\n<ol>\n<li>Requested proper permissions</li>\n<li>Found and connected to device</li>\n<li>Claimed the interface</li>\n</ol>\n<p>Once I have the device connection object and the endpoint objects how to I wait asynchronously for input messages?</p>\n<p>It seems like UsbRequest sends data to the device to request data back, but the device I'm connected to will be sending data regardless of whether I request it or not</p>\n"},{"tags":["java","classloader","urlclassloader","dynamic-class-loaders"],"answers":[{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460483928,"creation_date":1460383626,"answer_id":36551064,"question_id":36548229,"body_markdown":"Classloaders (CL) in Java work on a delegate strategy which means that the CL first will ask her parent, which also asks her parent, if she knows the defintion for class X. Only if neither the parent nor any of the ancestors or the current classloader knew the classdefinition for X then the current classloader will load the definition from the respective `X.class` file.\r\n\r\nIf a class `Foo` is loaded by the system classloader, any classes `Foo` is dependend on need also be loaded by either the system CL or by a parent of this CL. As `IDoMagic` is provided in an other JAR, you most likely need to add this JAR file to the classpath (`java -cp ...` or `java -jar ...`). Due to the delegation model, any CL which is a (grand-; and so forth)child of this CL will also gain access to the class definitions loaded by any of the parental CL.\r\n\r\nIf `IDoMagic` needs to be loaded by a custom CL, `Foo` must not be loaded by the system CL but with either the custom CL or a child of this CL in order for the delegation strategy to kick in and provide the definition for `IDoMagic` if `Foo` is loaded/instantiated.\r\n\r\nThere is a custom delegation CL model where shared classes are kept in a kind of common CL list/array which may be used by dependend CL. The dependend classes are not direct children of the common CLs but are children to a delegation CL which simply delegates calls to the common ones before asking the parent if neither of the children was able to execute the task. One solution here might be a structure like this:\r\n\r\n    bootstrap CL\r\n    - system CL\r\n      - delegation CL\r\n        - common CL\r\n        - plugin CL\r\n          - plugin 1 CL\r\n          - plugin 2 CL\r\n\r\nHere, the delegation CL needs to delegate an invocation of `loadClass(...)` and `findClass(...)` to its contained common CL (object composition) and only if it couldn&#39;t find a definition delegate the call to his parent. Similar to this [still experimental class](https://github.com/RovoMe/PluginApplication/blob/master/PluginFramework/PluginCore/src/main/java/at/rovo/core/classloader/DelegationClassLoader.java)\r\n\r\nThis delegation loader enables to load `IDoMagic` with the common CL f.e. and the `Foo` class with one of the plugin loaders, which is not a direct child of the `common CL`. However, this requires that the `delegation CL` propagetes all calls to the common CL first before asking the parent. Also, this delegation loader brings some overhead to the table as it makes one of the adavandages of custom CL (the unloading of unused classes) more difficult. ","title":"Loading class with interface from another class loader","body":"<p>Classloaders (CL) in Java work on a delegate strategy which means that the CL first will ask her parent, which also asks her parent, if she knows the defintion for class X. Only if neither the parent nor any of the ancestors or the current classloader knew the classdefinition for X then the current classloader will load the definition from the respective <code>X.class</code> file.</p>\n\n<p>If a class <code>Foo</code> is loaded by the system classloader, any classes <code>Foo</code> is dependend on need also be loaded by either the system CL or by a parent of this CL. As <code>IDoMagic</code> is provided in an other JAR, you most likely need to add this JAR file to the classpath (<code>java -cp ...</code> or <code>java -jar ...</code>). Due to the delegation model, any CL which is a (grand-; and so forth)child of this CL will also gain access to the class definitions loaded by any of the parental CL.</p>\n\n<p>If <code>IDoMagic</code> needs to be loaded by a custom CL, <code>Foo</code> must not be loaded by the system CL but with either the custom CL or a child of this CL in order for the delegation strategy to kick in and provide the definition for <code>IDoMagic</code> if <code>Foo</code> is loaded/instantiated.</p>\n\n<p>There is a custom delegation CL model where shared classes are kept in a kind of common CL list/array which may be used by dependend CL. The dependend classes are not direct children of the common CLs but are children to a delegation CL which simply delegates calls to the common ones before asking the parent if neither of the children was able to execute the task. One solution here might be a structure like this:</p>\n\n<pre><code>bootstrap CL\n- system CL\n  - delegation CL\n    - common CL\n    - plugin CL\n      - plugin 1 CL\n      - plugin 2 CL\n</code></pre>\n\n<p>Here, the delegation CL needs to delegate an invocation of <code>loadClass(...)</code> and <code>findClass(...)</code> to its contained common CL (object composition) and only if it couldn't find a definition delegate the call to his parent. Similar to this <a href=\"https://github.com/RovoMe/PluginApplication/blob/master/PluginFramework/PluginCore/src/main/java/at/rovo/core/classloader/DelegationClassLoader.java\" rel=\"nofollow\">still experimental class</a></p>\n\n<p>This delegation loader enables to load <code>IDoMagic</code> with the common CL f.e. and the <code>Foo</code> class with one of the plugin loaders, which is not a direct child of the <code>common CL</code>. However, this requires that the <code>delegation CL</code> propagetes all calls to the common CL first before asking the parent. Also, this delegation loader brings some overhead to the table as it makes one of the adavandages of custom CL (the unloading of unused classes) more difficult. </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674726290,"post_id":75235570,"comment_id":132776755,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75235570/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27618847,"reputation":1,"user_id":21080380,"display_name":"dev-jack"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674657636,"creation_date":1674657636,"answer_id":75235570,"question_id":36548229,"body_markdown":"If a class loader receives a class load request, it does not self-load\r\n\r\nInstead, the request is delegated to the loader of the parent class. If the parent class loader still has its own parent class loader, it is further requested\r\n\r\nThe request will eventually reach the top-level starting class loader, and if the parent class loader can complete the class loading task, it will return successfully\r\n\r\nIf the parent loader is unable to complete the load task, the child loader will try to load it itself. This is the two-parent delegation model.\r\n\r\n","title":"Loading class with interface from another class loader","body":"<p>If a class loader receives a class load request, it does not self-load</p>\n<p>Instead, the request is delegated to the loader of the parent class. If the parent class loader still has its own parent class loader, it is further requested</p>\n<p>The request will eventually reach the top-level starting class loader, and if the parent class loader can complete the class loading task, it will return successfully</p>\n<p>If the parent loader is unable to complete the load task, the child loader will try to load it itself. This is the two-parent delegation model.</p>\n"}],"owner":{"account_id":985311,"reputation":1765,"user_id":1003962,"accept_rate":43,"display_name":"nadavy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674657636,"creation_date":1460376367,"question_id":36548229,"body_markdown":"I have a class `Foo` which implements an `IDoMagic` interface.\r\nThe `Foo` class is loaded by the system classloader and the `IDoMagic` interface is defined in a third party component, which I think loads the interface in another class loader (Dynamic Classloader).\r\n\r\nWhen I try to create a new instance of `Foo`, I&#39;m getting a `NoClassDefFound` for `IDoMagic`. I assume that&#39;s because it is loaded by a different class loader.\r\n\r\nI have tried to create a `BridgeClassLoader` (similar to the one used by Guice) and then load class `Foo` from the system class loader and all other classes from a different classloader which I think is the one used for `IDoMagic` but without any success.\r\n\r\nIs there a way around it?","title":"Loading class with interface from another class loader","body":"<p>I have a class <code>Foo</code> which implements an <code>IDoMagic</code> interface.\nThe <code>Foo</code> class is loaded by the system classloader and the <code>IDoMagic</code> interface is defined in a third party component, which I think loads the interface in another class loader (Dynamic Classloader).</p>\n\n<p>When I try to create a new instance of <code>Foo</code>, I'm getting a <code>NoClassDefFound</code> for <code>IDoMagic</code>. I assume that's because it is loaded by a different class loader.</p>\n\n<p>I have tried to create a <code>BridgeClassLoader</code> (similar to the one used by Guice) and then load class <code>Foo</code> from the system class loader and all other classes from a different classloader which I think is the one used for <code>IDoMagic</code> but without any success.</p>\n\n<p>Is there a way around it?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":9757929,"reputation":712,"user_id":7233978,"display_name":"The 5th column mouse"},"score":0,"creation_date":1675029214,"post_id":71117711,"comment_id":132835259,"body_markdown":"What version of Spring Boot are you using?","body":"What version of Spring Boot are you using?"},{"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"score":0,"creation_date":1675067782,"post_id":71117711,"comment_id":132840782,"body_markdown":"I&#39;m using Spring Boot 2.7 but I&#39;d be happy to know if Spring Boot 3 offers more options.","body":"I&#39;m using Spring Boot 2.7 but I&#39;d be happy to know if Spring Boot 3 offers more options."}],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674657611,"creation_date":1674657611,"answer_id":75235564,"question_id":71117711,"body_markdown":"Unfortunately I also could not find any information about this in the Spring documentation, but even if it is not officially supported, it is still possible by transforming the original map.\r\n\r\nYou can use this code to transform the map:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport static java.util.stream.Collectors.toMap;\r\n\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n@ConfigurationProperties(&quot;prefix&quot;)\r\npublic class ConfigurationService {\r\n  private final Map&lt;String, Object&gt; config;\r\n\r\n  public ConfigurationService(Map&lt;String, Object&gt; config) {\r\n    this.config =\r\n        config.entrySet().stream()\r\n            .collect(toMap(e -&gt; transformSpinalCaseToCamelCase(e.getKey()), Map.Entry::getValue));\r\n  }\r\n\r\n  public Map&lt;String, Object&gt; getConfig() {\r\n    return config;\r\n  }\r\n\r\n  private static String transformSpinalCaseToCamelCase(String key) {\r\n    var words = key.split(&quot;-&quot;);\r\n    return IntStream.range(0, words.length)\r\n        .mapToObj(\r\n            i -&gt; {\r\n              String word = words[i];\r\n              if (i == 0) {\r\n                return word.isEmpty() ? word : word.toLowerCase();\r\n              } else {\r\n                return word.isEmpty()\r\n                    ? word\r\n                    : Character.toUpperCase(word.charAt(0)) + word.substring(1).toLowerCase();\r\n              }\r\n            })\r\n        .collect(Collectors.joining());\r\n  }\r\n}\r\n\r\n```\r\n\r\nFor this to work you have to add `@EnableConfigurationProperties(ConfigurationService.class)` to a `@Configuration` class.","title":"How to convert keys from spinal case to camel case when using @ConfigurationProperties to assign a map from a YAML file","body":"<p>Unfortunately I also could not find any information about this in the Spring documentation, but even if it is not officially supported, it is still possible by transforming the original map.</p>\n<p>You can use this code to transform the map:</p>\n<pre><code>package com.example.demo;\n\nimport static java.util.stream.Collectors.toMap;\n\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(&quot;prefix&quot;)\npublic class ConfigurationService {\n  private final Map&lt;String, Object&gt; config;\n\n  public ConfigurationService(Map&lt;String, Object&gt; config) {\n    this.config =\n        config.entrySet().stream()\n            .collect(toMap(e -&gt; transformSpinalCaseToCamelCase(e.getKey()), Map.Entry::getValue));\n  }\n\n  public Map&lt;String, Object&gt; getConfig() {\n    return config;\n  }\n\n  private static String transformSpinalCaseToCamelCase(String key) {\n    var words = key.split(&quot;-&quot;);\n    return IntStream.range(0, words.length)\n        .mapToObj(\n            i -&gt; {\n              String word = words[i];\n              if (i == 0) {\n                return word.isEmpty() ? word : word.toLowerCase();\n              } else {\n                return word.isEmpty()\n                    ? word\n                    : Character.toUpperCase(word.charAt(0)) + word.substring(1).toLowerCase();\n              }\n            })\n        .collect(Collectors.joining());\n  }\n}\n\n</code></pre>\n<p>For this to work you have to add <code>@EnableConfigurationProperties(ConfigurationService.class)</code> to a <code>@Configuration</code> class.</p>\n"}],"owner":{"account_id":4609695,"reputation":30874,"user_id":3738171,"display_name":"Guerric P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674657611,"creation_date":1644869397,"question_id":71117711,"body_markdown":"I have this class:\r\n\r\n    @ConfigurationProperties(&quot;prefix&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class ConfigurationService {\r\n    \tprivate Map&lt;String, Object&gt; config;\r\n    }\r\n\r\nIt properly reads my YAML file:\r\n\r\n```yml\r\nprefix:\r\n  config:\r\n    spinal-case-key-one: value\r\n    spinal-case-key-two: other\r\n```\r\n\r\nBut I&#39;d like to convert the keys to camel case before assigning the map. I&#39;ve read the documentation but found nothing about it. Is it somehow possible?","title":"How to convert keys from spinal case to camel case when using @ConfigurationProperties to assign a map from a YAML file","body":"<p>I have this class:</p>\n<pre><code>@ConfigurationProperties(&quot;prefix&quot;)\n@Getter\n@Setter\npublic class ConfigurationService {\n    private Map&lt;String, Object&gt; config;\n}\n</code></pre>\n<p>It properly reads my YAML file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>prefix:\n  config:\n    spinal-case-key-one: value\n    spinal-case-key-two: other\n</code></pre>\n<p>But I'd like to convert the keys to camel case before assigning the map. I've read the documentation but found nothing about it. Is it somehow possible?</p>\n"},{"tags":["java","apache-storm"],"comments":[{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1667817808,"post_id":74345286,"comment_id":131250094,"body_markdown":"Do you run in local or distributed mode? At which logfile you see the error? And can you post your `storm.yaml`?","body":"Do you run in local or distributed mode? At which logfile you see the error? And can you post your <code>storm.yaml</code>?"},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1667819375,"post_id":74345286,"comment_id":131250619,"body_markdown":"But the very first log comes from your `nimbus.log` - yes?","body":"But the very first log comes from your <code>nimbus.log</code> - yes?"},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667820120,"post_id":74345286,"comment_id":131250854,"body_markdown":"@moosehead42 no, nimbus sends nothing related to this. That log comes from worker.log","body":"@moosehead42 no, nimbus sends nothing related to this. That log comes from worker.log"},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1667821451,"post_id":74345286,"comment_id":131251299,"body_markdown":"If I got it right, you are at the point to kill an old topo and submit an new one - and the new one complains about the adress in use, right? So are you very sure that the old query and workers are terminated before the new query is submitted? This should be in a different logfile than the new query of course, as every worker get its own logfile.","body":"If I got it right, you are at the point to kill an old topo and submit an new one - and the new one complains about the adress in use, right? So are you very sure that the old query and workers are terminated before the new query is submitted? This should be in a different logfile than the new query of course, as every worker get its own logfile."},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667824580,"post_id":74345286,"comment_id":131252403,"body_markdown":"@moosehead42 sort of. first I kill all topologies with -t 60 to give 60 sec for them to be killed. After I just wait 3 mins to give some time for Storm to clean blob storage. After I deploy new ones and it works fine from time to time. But some time something happens and storm cant deploy a new topology. In my current case I assume that NEW topology did not have enough time for starting and storm deleted paths before it actually was set up so did it in a wrong was and whats why I got a zombie topology and then storm thinks that it does not exist but it exists.","body":"@moosehead42 sort of. first I kill all topologies with -t 60 to give 60 sec for them to be killed. After I just wait 3 mins to give some time for Storm to clean blob storage. After I deploy new ones and it works fine from time to time. But some time something happens and storm cant deploy a new topology. In my current case I assume that NEW topology did not have enough time for starting and storm deleted paths before it actually was set up so did it in a wrong was and whats why I got a zombie topology and then storm thinks that it does not exist but it exists."},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667824587,"post_id":74345286,"comment_id":131252406,"body_markdown":"@moosehead42 But I have other cases when Storm works fine but then some stuff happens it either rebalances or does some other action and I may get the same case when Storm by some reason recreated topology but did not delete the old one property and I have the same exception again and Storm falls in a circle","body":"@moosehead42 But I have other cases when Storm works fine but then some stuff happens it either rebalances or does some other action and I may get the same case when Storm by some reason recreated topology but did not delete the old one property and I have the same exception again and Storm falls in a circle"},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667824904,"post_id":74345286,"comment_id":131252504,"body_markdown":"@moosehead42 I guess that I need to find some configs to give the supervisor time to wait like this one: supervisor.worker.timeout.secs default 30 and I can try 90. the only thing that its hard to test.","body":"@moosehead42 I guess that I need to find some configs to give the supervisor time to wait like this one: supervisor.worker.timeout.secs default 30 and I can try 90. the only thing that its hard to test."},{"owner":{"account_id":18975267,"reputation":409,"user_id":13847890,"display_name":"moosehead42"},"score":0,"creation_date":1667843075,"post_id":74345286,"comment_id":131259440,"body_markdown":"But a new topology will also have different blob storage paths, right? So there should be no overlap between both...? btw, are you aware that you need to configure the `supervisor.wirker.timeout.secs` decentrally on each worker?","body":"But a new topology will also have different blob storage paths, right? So there should be no overlap between both...? btw, are you aware that you need to configure the <code>supervisor.wirker.timeout.secs</code> decentrally on each worker?"},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667905676,"post_id":74345286,"comment_id":131274120,"body_markdown":"@moosehead42 path will be different its right, but as u can see from logs superior gave a command to worker to create a topology then waited for 20 secs and decided that it was dead or not created and then started deleting paths and thought the job was done. But worker started creating a topology 30-40 secs after and when paths were deleting actually they had not been created yet. And when supervisor asked a worker to create a new one (the supervisor does not know that topology exists already on some port) worker can not do it since the address already in use by that topology.","body":"@moosehead42 path will be different its right, but as u can see from logs superior gave a command to worker to create a topology then waited for 20 secs and decided that it was dead or not created and then started deleting paths and thought the job was done. But worker started creating a topology 30-40 secs after and when paths were deleting actually they had not been created yet. And when supervisor asked a worker to create a new one (the supervisor does not know that topology exists already on some port) worker can not do it since the address already in use by that topology."},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1667905857,"post_id":74345286,"comment_id":131274183,"body_markdown":"@moosehead42 thats how I see it now. Overlap is not in paths but in ports. Worker created a topology and at this moment supervisor thinks its already been deleted. And now we have 1 zombie topology. Maybe  there is some another explanation but I see only this one. Since I very often get address already in use exceptions.  As I understood by using Storm its rely on different timeout too much and if some env is slow u may have issues","body":"@moosehead42 thats how I see it now. Overlap is not in paths but in ports. Worker created a topology and at this moment supervisor thinks its already been deleted. And now we have 1 zombie topology. Maybe  there is some another explanation but I see only this one. Since I very often get address already in use exceptions.  As I understood by using Storm its rely on different timeout too much and if some env is slow u may have issues"},{"owner":{"account_id":14580973,"reputation":91,"user_id":10531450,"display_name":"Rhys Madigan"},"score":0,"creation_date":1668504604,"post_id":74345286,"comment_id":131415357,"body_markdown":"@NikitaPoddubskiy We have also been seeing something like this - seems to happen more frequently when there are no slots free and killing/replacing an existing topology. \nOne solution seems to be to delete all zookeeper state and re-deploy all topologies, but obviously we would like to avoid this!\nExtending the wait time may also help - we are looking at modifying our deployment job.","body":"@NikitaPoddubskiy We have also been seeing something like this - seems to happen more frequently when there are no slots free and killing/replacing an existing topology.  One solution seems to be to delete all zookeeper state and re-deploy all topologies, but obviously we would like to avoid this! Extending the wait time may also help - we are looking at modifying our deployment job."},{"owner":{"account_id":8143755,"reputation":156,"user_id":6133008,"display_name":"Vitos"},"score":0,"creation_date":1673380082,"post_id":74345286,"comment_id":132484510,"body_markdown":"@NikitaPoddubskiy Could you please provide content of user-resource-pools.yaml config? ResourceAwareScheduler requires it to distribute supervisor resources. If your topology doesn&#39;t; fit worker resources it wouldn&#39;t start.","body":"@NikitaPoddubskiy Could you please provide content of user-resource-pools.yaml config? ResourceAwareScheduler requires it to distribute supervisor resources. If your topology doesn&#39;t; fit worker resources it wouldn&#39;t start."},{"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"score":0,"creation_date":1673518662,"post_id":74345286,"comment_id":132519205,"body_markdown":"@Vitos I dont use users. And it happened before I set the resource scheduler for testing so this scheduler is not an issue.","body":"@Vitos I dont use users. And it happened before I set the resource scheduler for testing so this scheduler is not an issue."}],"answers":[{"tags":[],"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674657542,"creation_date":1674657011,"answer_id":75235461,"question_id":74345286,"body_markdown":"I found a solution to solve it and it solves the issue but not the thing causing it on the storm side. \r\nSo we know that sometimes the storm supervisor asks a worker to up the topology. Then the storm waits for some time and decides to remove it because of no response from the worker and after this worker starts deploying a topology. And in the final end storm does not know about the topology opened on some port (and thinks this port is free) but it exists and causing Address already in use exceptions later on in a cycle.\r\nManually I always fixed it by killing the pid on the port and it starts working after so if we know that its a storm 100% it would be great to have a mechanism to close it. So I ve cloned original Storm git repo and tried find an easy way to close it.\r\nits for example &quot;storm client&quot; project. Worker and Utils classes.\r\nChanges, Utils class adding:\r\n\r\n        public static UncaughtExceptionHandler createWorkerUncaughtExceptionHandler(String port) {\r\n        return (thread, thrown) -&gt; {\r\n            try {\r\n                try {\r\n                    String message = thrown.getMessage();\r\n                    Throwable cause = thrown.getCause();\r\n                    if (thrown instanceof BindException || cause instanceof BindException\r\n                            || (message != null &amp;&amp; message.contains(&quot;BindException&quot;))) {\r\n                        Process process = new ProcessBuilder().command(&quot;lsof&quot;, &quot;-t&quot;,\r\n                                String.format(&quot;-i:%s&quot;, port)).start();\r\n                        try (BufferedReader reader = new BufferedReader(\r\n                                new InputStreamReader(process.getInputStream()))) {\r\n                            String pid;\r\n                            if ((pid = reader.readLine()) != null) {\r\n                                new ProcessBuilder().command(&quot;kill&quot;, &quot;-9&quot;, pid).start();\r\n                                LOG.error(&quot;killed pid &quot; + pid);\r\n                            }\r\n                        }\r\n                        LOG.error(String.format(\r\n                                &quot;Received BindException error on %s port, process was closed on this port&quot;, port));\r\n                    }\r\n                } catch (Exception e) {\r\n                    LOG.error(String.format(\r\n                            &quot;Received BindException error on %s port, process was not closed on this port&quot;, port), e);\r\n                }\r\n                handleWorkerUncaughtException(thrown);\r\n            } catch (Error err) {\r\n                LOG.error(&quot;Received error in thread {}.. port &quot; + port + &quot;.. terminating worker...&quot;, thread.getName(),\r\n                        err);\r\n                Runtime.getRuntime().exit(-2);\r\n            }\r\n        };\r\n    }\r\n    public static void setupWorkerUncaughtExceptionHandler(String port) {\r\n        Thread.setDefaultUncaughtExceptionHandler(createWorkerUncaughtExceptionHandler(port));\r\n    }\r\n\r\nAnd in Worker class call in main method our setupWorkerUncaughtExceptionHandler with the port:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Preconditions.checkArgument(args.length == 5, &quot;Illegal number of arguments. Expected: 5, Actual: &quot; + args.length);\r\n        String stormId = args[0];\r\n        String assignmentId = args[1];\r\n        String supervisorPort = args[2];\r\n        String portStr = args[3];\r\n        String workerId = args[4];\r\n        Map&lt;String, Object&gt; conf = ConfigUtils.readStormConfig();\r\n        //Changes\r\n        Utils.setupWorkerUncaughtExceptionHandler(portStr);\r\n        //Changes\r\n        StormCommon.validateDistributedMode(conf);\r\n        int supervisorPortInt = Integer.parseInt(supervisorPort);\r\n        Worker worker = new Worker(conf, null, stormId, assignmentId, supervisorPortInt, Integer.parseInt(portStr), workerId);\r\n\r\n        //Add shutdown hooks before starting any other threads to avoid possible race condition\r\n        //between invoking shutdown hooks and registering shutdown hooks. See STORM-3658.\r\n        int workerShutdownSleepSecs = ObjectReader.getInt(conf.get(Config.SUPERVISOR_WORKER_SHUTDOWN_SLEEP_SECS));\r\n        LOG.info(&quot;Adding shutdown hook with kill in {} secs&quot;, workerShutdownSleepSecs);\r\n        Utils.addShutdownHookWithDelayedForceKill(worker::shutdown, workerShutdownSleepSecs);\r\n\r\n        worker.start();\r\n    }\r\n\r\nSo in the final end if we catch the Address already in use exception we will close the process. Not the best but fast and working solution. Then we only need to build this library and replace it in storm folder in all nodes.\r\nBut you should be sure that nothing else can be opened on storm ports and it&#39;s better to run storm on its own user in Linux. In this case, Storm will not be able to close any other process except for opened by storm itself.\r\nLibrary is build based on 2.4.0 storm version. My library build:\r\nhttps://gitlab.com/nikita_poddubskiy/storm-address-already-in-use\r\n Also opened a question here, but no response still.\r\nhttps://lists.apache.org/list?user@storm.apache.org:2022-12","title":"Apache Storm address already in use error","body":"<p>I found a solution to solve it and it solves the issue but not the thing causing it on the storm side.\nSo we know that sometimes the storm supervisor asks a worker to up the topology. Then the storm waits for some time and decides to remove it because of no response from the worker and after this worker starts deploying a topology. And in the final end storm does not know about the topology opened on some port (and thinks this port is free) but it exists and causing Address already in use exceptions later on in a cycle.\nManually I always fixed it by killing the pid on the port and it starts working after so if we know that its a storm 100% it would be great to have a mechanism to close it. So I ve cloned original Storm git repo and tried find an easy way to close it.\nits for example &quot;storm client&quot; project. Worker and Utils classes.\nChanges, Utils class adding:</p>\n<pre><code>    public static UncaughtExceptionHandler createWorkerUncaughtExceptionHandler(String port) {\n    return (thread, thrown) -&gt; {\n        try {\n            try {\n                String message = thrown.getMessage();\n                Throwable cause = thrown.getCause();\n                if (thrown instanceof BindException || cause instanceof BindException\n                        || (message != null &amp;&amp; message.contains(&quot;BindException&quot;))) {\n                    Process process = new ProcessBuilder().command(&quot;lsof&quot;, &quot;-t&quot;,\n                            String.format(&quot;-i:%s&quot;, port)).start();\n                    try (BufferedReader reader = new BufferedReader(\n                            new InputStreamReader(process.getInputStream()))) {\n                        String pid;\n                        if ((pid = reader.readLine()) != null) {\n                            new ProcessBuilder().command(&quot;kill&quot;, &quot;-9&quot;, pid).start();\n                            LOG.error(&quot;killed pid &quot; + pid);\n                        }\n                    }\n                    LOG.error(String.format(\n                            &quot;Received BindException error on %s port, process was closed on this port&quot;, port));\n                }\n            } catch (Exception e) {\n                LOG.error(String.format(\n                        &quot;Received BindException error on %s port, process was not closed on this port&quot;, port), e);\n            }\n            handleWorkerUncaughtException(thrown);\n        } catch (Error err) {\n            LOG.error(&quot;Received error in thread {}.. port &quot; + port + &quot;.. terminating worker...&quot;, thread.getName(),\n                    err);\n            Runtime.getRuntime().exit(-2);\n        }\n    };\n}\npublic static void setupWorkerUncaughtExceptionHandler(String port) {\n    Thread.setDefaultUncaughtExceptionHandler(createWorkerUncaughtExceptionHandler(port));\n}\n</code></pre>\n<p>And in Worker class call in main method our setupWorkerUncaughtExceptionHandler with the port:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    Preconditions.checkArgument(args.length == 5, &quot;Illegal number of arguments. Expected: 5, Actual: &quot; + args.length);\n    String stormId = args[0];\n    String assignmentId = args[1];\n    String supervisorPort = args[2];\n    String portStr = args[3];\n    String workerId = args[4];\n    Map&lt;String, Object&gt; conf = ConfigUtils.readStormConfig();\n    //Changes\n    Utils.setupWorkerUncaughtExceptionHandler(portStr);\n    //Changes\n    StormCommon.validateDistributedMode(conf);\n    int supervisorPortInt = Integer.parseInt(supervisorPort);\n    Worker worker = new Worker(conf, null, stormId, assignmentId, supervisorPortInt, Integer.parseInt(portStr), workerId);\n\n    //Add shutdown hooks before starting any other threads to avoid possible race condition\n    //between invoking shutdown hooks and registering shutdown hooks. See STORM-3658.\n    int workerShutdownSleepSecs = ObjectReader.getInt(conf.get(Config.SUPERVISOR_WORKER_SHUTDOWN_SLEEP_SECS));\n    LOG.info(&quot;Adding shutdown hook with kill in {} secs&quot;, workerShutdownSleepSecs);\n    Utils.addShutdownHookWithDelayedForceKill(worker::shutdown, workerShutdownSleepSecs);\n\n    worker.start();\n}\n</code></pre>\n<p>So in the final end if we catch the Address already in use exception we will close the process. Not the best but fast and working solution. Then we only need to build this library and replace it in storm folder in all nodes.\nBut you should be sure that nothing else can be opened on storm ports and it's better to run storm on its own user in Linux. In this case, Storm will not be able to close any other process except for opened by storm itself.\nLibrary is build based on 2.4.0 storm version. My library build:\n<a href=\"https://gitlab.com/nikita_poddubskiy/storm-address-already-in-use\" rel=\"nofollow noreferrer\">https://gitlab.com/nikita_poddubskiy/storm-address-already-in-use</a>\nAlso opened a question here, but no response still.\n<a href=\"https://lists.apache.org/list?user@storm.apache.org:2022-12\" rel=\"nofollow noreferrer\">https://lists.apache.org/list?user@storm.apache.org:2022-12</a></p>\n"}],"owner":{"account_id":16791300,"reputation":83,"user_id":12138892,"display_name":"Mykyta Piddubskiy"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75235461,"answer_count":1,"score":1,"last_activity_date":1674657542,"creation_date":1667817624,"question_id":74345286,"body_markdown":"From time to time I have an error in circle like this:\r\n```\r\n022-11-07 06:34:30.977 o.a.s.m.n.Server main [INFO] Create Netty Server Netty-server-localhost-6704, buffer_size: 5242880, maxWorkers: 1\r\n2022-11-07 06:34:31.566 o.a.s.u.Utils main [ERROR] Received error in thread main.. terminating worker...\r\njava.lang.Error: java.security.PrivilegedActionException: java.net.BindException: Address already in use\r\n\tat org.apache.storm.utils.Utils.handleUncaughtException(Utils.java:663) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.utils.Utils.handleWorkerUncaughtException(Utils.java:671) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat org.apache.storm.utils.Utils.lambda$createWorkerUncaughtExceptionHandler$3(Utils.java:1058) ~[storm-client-2.4.0.jar:2.4.0]\r\n\tat java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1055) [?:?]\r\n\tat java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1050) [?:?]\r\n\tat java.lang.Thread.dispatchUncaughtException(Thread.java:2002) [?:?]\r\n```\r\nStorm is trying to set up a new topology but it can&#39;t.\r\n\r\nI have been facing it for a long period of time after deploying to Storm. Once I was able to fix it by setting a big timeout (about 300secs) between deleting old topologies and setting up new ones and increased workerShutdownSleepSecs config. In this case, Storm was able to delete all blobs to work fine because I noticed in logs that Storm needed some time to have everything deleted even after topology was completely deleted.\r\n\r\nBut now I faced it again but with all actions above but in a smaller QA environment. Does anybody know what else can cause it?\r\n\r\nAlso in the supervisor machine, I checked the storm data folder and in &quot;/storm/workers&quot; folder I found that there are some old folders with id in their name and I assume that storm did not delete old topologies again.\r\n\r\nI think it should be something very common because storm as I noticed fails almost after everything it tries to do on its own so somebody faced it already I guess.\r\n\r\nMy storm.yaml:\r\n(storm.scheduler: &quot;org.apache.storm.scheduler.resource.ResourceAwareScheduler&quot; config just for testing but I don&#39;t think it affects something)\r\n```\r\nstorm.zookeeper.servers:\r\n  - storm-nimbus-cloud-qa1\r\n  - storm-nimbus-cloud-qa2\r\n  - storm-nimbus-cloud-qa3\r\n\r\nnimbus.seeds: [&quot;storm-nimbus-cloud-qa1&quot;, &quot;storm-nimbus-cloud-qa2&quot;, &quot;storm-nimbus-cloud-qa3&quot;]\r\nstorm.local.dir: /data/ansible/storm\r\nsupervisor.slots.ports:\r\n  - 6700\r\n  - 6701\r\n  - 6702\r\n  - 6703\r\n  - 6704\r\n\r\nstorm.log.dir: &quot;/data/ansible/storm_logging&quot;\r\n\r\nnimbus.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\r\n\r\nui.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\r\nui.port: 8080\r\n\r\nsupervisor.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\r\nsupervisor.cpu.capacity: 200.0\r\nsupervisor.memory.capacity.mb: 3072.0\r\n\r\nworker.childopts: &quot;-Djava.net.preferIPv4Stack=true&quot;\r\nworker.heap.memory.mb: 512\r\n\r\ntopology.component.cpu.pcore.percent: 5.0\r\n\r\nblacklist.scheduler.assume.supervisor.bad.based.on.bad.slot: false\r\nnimbus.topology.blobstore.deletion.delay.ms: 120000\r\nsupervisor.worker.shutdown.sleep.secs: 60\r\nscheduler.display.resource: true\r\nstorm.scheduler: &quot;org.apache.storm.scheduler.resource.ResourceAwareScheduler&quot;\r\n\r\nlogviewer.cleanup.interval.secs: 3600\r\nlogviewer.max.per.worker.logs.size.mb: 512\r\nlogviewer.max.sum.worker.logs.size.mb: 2560\r\nlogviewer.cleanup.age.mins: 20160\r\n\r\nstorm.messaging.netty.max_retries: 300\r\nstorm.messaging.netty.max_wait_ms: 10000\r\nstorm.messaging.netty.min_wait_ms: 1000\r\n```\r\n\r\nAlso I checked supervisor and worker logs and this is all what I found:\r\nAll logs in supervisor.log related to tooplogy\r\n```\r\n\tLine  6493: 2022-11-04 11:09:55.880 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Created Worker ID 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6494: 2022-11-04 11:09:55.880 o.a.s.d.s.Container SLOT_6704 [INFO] Setting up 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6495: 2022-11-04 11:09:55.881 o.a.s.d.s.Container SLOT_6704 [INFO] GET worker-user for 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6496: 2022-11-04 11:09:55.882 o.a.s.d.s.Container SLOT_6704 [INFO] SET worker-user 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 stormadmin\r\n\tLine  6497: 2022-11-04 11:09:55.882 o.a.s.d.s.Container SLOT_6704 [INFO] Creating symlinks for worker-id: 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 storm-id: EventHandler-17-1667560186 for files(1): [resources]\r\n\tLine  6498: 2022-11-04 11:09:55.882 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Launching worker with assignment LocalAssignment(topology_id:EventHandler-17-1667560186, executors:[ExecutorInfo(task_start:4, task_end:4)], resources:WorkerResources(mem_on_heap:128.0, mem_off_heap:0.0, cpu:5.0, shared_mem_on_heap:0.0, shared_mem_off_heap:0.0, resources:{offheap.memory.mb=0.0, onheap.memory.mb=128.0, cpu.pcore.percent=5.0}, shared_resources:{}), owner:stormadmin) for this supervisor 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27 on port 6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6499: 2022-11-04 11:09:55.883 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Launching worker with command: &#39;java&#39; &#39;-cp&#39; &#39;/usr/local/apache-storm-2.4.0/lib-worker/*:/usr/local/apache-storm-2.4.0/extlib/*:/opt/storm/conf:/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/stormjar.jar&#39; &#39;-Xmx64m&#39; &#39;-Dlogging.sensitivity=S3&#39; &#39;-Dlogfile.name=worker.log&#39; &#39;-Dstorm.home=/usr/local/apache-storm-2.4.0&#39; &#39;-Dworkers.artifacts=/data/ansible/storm_logging/workers-artifacts&#39; &#39;-Dstorm.id=EventHandler-17-1667560186&#39; &#39;-Dworker.id=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0&#39; &#39;-Dworker.port=6704&#39; &#39;-Dstorm.log.dir=/data/ansible/storm_logging&#39; &#39;-DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector&#39; &#39;-Dstorm.local.dir=/data/ansible/storm&#39; &#39;-Dworker.memory_limit_mb=128&#39; &#39;-Dlog4j.configurationFile=/usr/local/apache-storm-2.4.0/log4j2/worker.xml&#39; &#39;org.apache.storm.LogWriter&#39; &#39;java&#39; &#39;-server&#39; &#39;-Dlogging.sensitivity=S3&#39; &#39;-Dlogfile.name=worker.log&#39; &#39;-Dstorm.home=/usr/local/apache-storm-2.4.0&#39; &#39;-Dworkers.artifacts=/data/ansible/storm_logging/workers-artifacts&#39; &#39;-Dstorm.id=EventHandler-17-1667560186&#39; &#39;-Dworker.id=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0&#39; &#39;-Dworker.port=6704&#39; &#39;-Dstorm.log.dir=/data/ansible/storm_logging&#39; &#39;-DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector&#39; &#39;-Dstorm.local.dir=/data/ansible/storm&#39; &#39;-Dworker.memory_limit_mb=128&#39; &#39;-Dlog4j.configurationFile=/usr/local/apache-storm-2.4.0/log4j2/worker.xml,topology_logger.xml&#39; &#39;-Djava.net.preferIPv4Stack=true&#39; &#39;-javaagent:/opt/storm/agent/dd-java-agent.jar&#39; &#39;-Ddd.env=qa&#39; &#39;-Ddd.service=EventHandler&#39; &#39;-Djava.net.preferIPv4Stack=true&#39; &#39;-Ddd.logs.injection=true&#39; &#39;-Djava.library.path=/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/resources/Linux-amd64:/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/resources:/usr/local/lib:/opt/local/lib:/usr/lib:/usr/lib64&#39; &#39;-Dstorm.conf.file=&#39; &#39;-Dstorm.options=&#39; &#39;-Djava.io.tmpdir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32 ...\r\n\tLine  6503: 2022-11-04 11:09:55.899 o.a.s.d.s.Slot SLOT_6704 [INFO] STATE waiting-for-blob-localization msInState: 42 -&gt; waiting-for-worker-start msInState: 0 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6515: 2022-11-04 11:10:18.981 o.a.s.d.s.Slot SLOT_6704 [INFO] STATE waiting-for-worker-start msInState: 23082 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 -&gt; kill-blob-update msInState: 1 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6516: 2022-11-04 11:10:18.981 o.a.s.d.s.Container SLOT_6704 [INFO] Cleaning up 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6517: 2022-11-04 11:10:18.981 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/heartbeats\r\n\tLine  6518: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/pids\r\n\tLine  6519: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/tmp\r\n\tLine  6520: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6521: 2022-11-04 11:10:18.982 o.a.s.d.s.Container SLOT_6704 [INFO] REMOVE worker-user 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6522: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers-users/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine  6531: 2022-11-04 11:10:18.990 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Removed Worker ID 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n```\r\n\r\nAll logs in worker.log related to topology\r\n```\r\n\tLine      5: 2022-11-04 11:10:30.922 o.a.s.d.w.Worker main [INFO] Launching worker for EventHandler-17-1667560186 on 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 and conf {storm.messaging.netty.min_wait_ms=1000, topology.backpressure.wait.strategy=org.apache.storm.policy.WaitStrategyProgressive, storm.resource.isolation.plugin=org.apache.storm.container.cgroup.CgroupManager, storm.zookeeper.auth.user=null, storm.messaging.netty.buffer_size=5242880, storm.exhibitor.port=8080, topology.bolt.wait.progressive.level1.count=1, pacemaker.auth.method=NONE, storm.oci.cgroup.root=/sys/fs/cgroup, ui.filter=null, worker.profiler.enabled=false, executor.metrics.frequency.secs=60, supervisor.thrift.threads=16, ui.http.creds.plugin=org.apache.storm.security.auth.DefaultHttpCredentialsPlugin, supervisor.supervisors.commands=[], supervisor.queue.size=128, logviewer.cleanup.age.mins=20160, topology.tuple.serializer=org.apache.storm.serialization.types.ListDelegateSerializer, storm.cgroup.memory.enforcement.enable=false, drpc.port=3772, supervisor.localizer.update.blob.interval.secs=30, topology.max.spout.pending=null, topology.transfer.buffer.size=1000, storm.oci.nscd.dir=/var/run/nscd, nimbus.worker.heartbeats.recovery.strategy.class=org.apache.storm.nimbus.TimeOutWorkerHeartbeatsRecoveryStrategy, worker.metrics={CGroupMemory=org.apache.storm.metrics2.cgroup.CGroupMemoryUsage, CGroupMemoryLimit=org.apache.storm.metrics2.cgroup.CGroupMemoryLimit, CGroupCpu=org.apache.storm.metrics2.cgroup.CGroupCpu, CGroupCpuGuarantee=org.apache.storm.metrics2.cgroup.CGroupCpuGuarantee, CGroupCpuGuaranteeByCfsQuota=org.apache.storm.metrics2.cgroup.CGroupCpuGuaranteeByCfsQuota, CGroupCpuStat=org.apache.storm.metrics2.cgroup.CGroupCpuStat}, logviewer.port=8000, worker.childopts=-Djava.net.preferIPv4Stack=true, topology.component.cpu.pcore.percent=5.0, storm.daemon.metrics.reporter.plugins=[org.apache.storm.daemon.metrics.reporters.JmxPreparableReporter], worker.max.timeout.secs=600, blac ...\r\n\tLine     16: 2022-11-04 11:10:34.608 o.a.s.s.o.a.z.ZooKeeper main [INFO] Client environment:java.io.tmpdir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/tmp\r\n\tLine     23: 2022-11-04 11:10:34.664 o.a.s.s.o.a.z.ZooKeeper main [INFO] Client environment:user.dir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine     71: 2022-11-04 11:10:50.097 o.a.s.d.w.WorkerState Netty-server-localhost-6704-worker-1 [INFO] Sending BackPressure status to new client. BPStatus: {worker=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0, bpStatusId=1, bpTasks=[], nonBpTasks=[4]}\r\n\tLine     73: 2022-11-04 11:10:51.622 o.a.s.d.w.WorkerState refresh-active-timer [INFO] All connections are ready for worker 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\r\n\tLine     83: 2022-11-04 11:10:53.841 o.a.s.d.w.Worker main [INFO] Worker 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 for storm EventHandler-17-1667560186 on 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704  has finished loading\r\n```\r\n\r\nSo I see that supervisor waited for about 20secs to consider to kill topology (want to remind that this env is not fast so maybe it takes some time to up topology) from 11:09:55 to 11:10:18 but the worker finished setting up the topology at 11:10:53 and that&#39;s maybe why nothing was killed from /storm/workers and those idle workers keep sending heartbeats and other stuff. So as I understand I need some config to ask storm to wait about a min before checking the topology state?\r\n\r\nUPD: I faced the same issue but on prod env again already. it seems that it does not depend on slow or fast machines. The logs absolutely the same but the time was different (at 02:15:45 supervisor launched a worker and after 2! secs status was changed &quot;waiting-for-worker-start msInState: 2002 -&gt; kill-blob-update msInState: 0&quot;. But why?\r\nI started to search in the code and I found that in Slot class in handleWaitingForWorkerStart method there is a code as:\r\n```\r\ndynamicState = filterChangingBlobsFor(dynamicState, dynamicState.currentAssignment);\r\nif (!dynamicState.changingBlobs.isEmpty()) {\r\n    //Kill the container and restart it\r\n    return killContainerFor(KillReason.BLOB_CHANGED, dynamicState, staticState);\r\n}\r\n```\r\nDoes not know what changingBlobs collection means (maybe some blobs are being changed) but looks like here status was changed and the worker was marked to be killed. \r\nTimeout is different I think because before in that method it waits for a heartbeat but on different machines it can take more or less time. \r\nSo by what reason supervisor changed the status and why worker started launching itself after supervisor deleted everything related to this worker?","title":"Apache Storm address already in use error","body":"<p>From time to time I have an error in circle like this:</p>\n<pre><code>022-11-07 06:34:30.977 o.a.s.m.n.Server main [INFO] Create Netty Server Netty-server-localhost-6704, buffer_size: 5242880, maxWorkers: 1\n2022-11-07 06:34:31.566 o.a.s.u.Utils main [ERROR] Received error in thread main.. terminating worker...\njava.lang.Error: java.security.PrivilegedActionException: java.net.BindException: Address already in use\n    at org.apache.storm.utils.Utils.handleUncaughtException(Utils.java:663) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.utils.Utils.handleWorkerUncaughtException(Utils.java:671) ~[storm-client-2.4.0.jar:2.4.0]\n    at org.apache.storm.utils.Utils.lambda$createWorkerUncaughtExceptionHandler$3(Utils.java:1058) ~[storm-client-2.4.0.jar:2.4.0]\n    at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1055) [?:?]\n    at java.lang.ThreadGroup.uncaughtException(ThreadGroup.java:1050) [?:?]\n    at java.lang.Thread.dispatchUncaughtException(Thread.java:2002) [?:?]\n</code></pre>\n<p>Storm is trying to set up a new topology but it can't.</p>\n<p>I have been facing it for a long period of time after deploying to Storm. Once I was able to fix it by setting a big timeout (about 300secs) between deleting old topologies and setting up new ones and increased workerShutdownSleepSecs config. In this case, Storm was able to delete all blobs to work fine because I noticed in logs that Storm needed some time to have everything deleted even after topology was completely deleted.</p>\n<p>But now I faced it again but with all actions above but in a smaller QA environment. Does anybody know what else can cause it?</p>\n<p>Also in the supervisor machine, I checked the storm data folder and in &quot;/storm/workers&quot; folder I found that there are some old folders with id in their name and I assume that storm did not delete old topologies again.</p>\n<p>I think it should be something very common because storm as I noticed fails almost after everything it tries to do on its own so somebody faced it already I guess.</p>\n<p>My storm.yaml:\n(storm.scheduler: &quot;org.apache.storm.scheduler.resource.ResourceAwareScheduler&quot; config just for testing but I don't think it affects something)</p>\n<pre><code>storm.zookeeper.servers:\n  - storm-nimbus-cloud-qa1\n  - storm-nimbus-cloud-qa2\n  - storm-nimbus-cloud-qa3\n\nnimbus.seeds: [&quot;storm-nimbus-cloud-qa1&quot;, &quot;storm-nimbus-cloud-qa2&quot;, &quot;storm-nimbus-cloud-qa3&quot;]\nstorm.local.dir: /data/ansible/storm\nsupervisor.slots.ports:\n  - 6700\n  - 6701\n  - 6702\n  - 6703\n  - 6704\n\nstorm.log.dir: &quot;/data/ansible/storm_logging&quot;\n\nnimbus.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\n\nui.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\nui.port: 8080\n\nsupervisor.childopts: &quot;-Xmx512m -Djava.net.preferIPv4Stack=true&quot;\nsupervisor.cpu.capacity: 200.0\nsupervisor.memory.capacity.mb: 3072.0\n\nworker.childopts: &quot;-Djava.net.preferIPv4Stack=true&quot;\nworker.heap.memory.mb: 512\n\ntopology.component.cpu.pcore.percent: 5.0\n\nblacklist.scheduler.assume.supervisor.bad.based.on.bad.slot: false\nnimbus.topology.blobstore.deletion.delay.ms: 120000\nsupervisor.worker.shutdown.sleep.secs: 60\nscheduler.display.resource: true\nstorm.scheduler: &quot;org.apache.storm.scheduler.resource.ResourceAwareScheduler&quot;\n\nlogviewer.cleanup.interval.secs: 3600\nlogviewer.max.per.worker.logs.size.mb: 512\nlogviewer.max.sum.worker.logs.size.mb: 2560\nlogviewer.cleanup.age.mins: 20160\n\nstorm.messaging.netty.max_retries: 300\nstorm.messaging.netty.max_wait_ms: 10000\nstorm.messaging.netty.min_wait_ms: 1000\n</code></pre>\n<p>Also I checked supervisor and worker logs and this is all what I found:\nAll logs in supervisor.log related to tooplogy</p>\n<pre><code>    Line  6493: 2022-11-04 11:09:55.880 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Created Worker ID 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6494: 2022-11-04 11:09:55.880 o.a.s.d.s.Container SLOT_6704 [INFO] Setting up 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6495: 2022-11-04 11:09:55.881 o.a.s.d.s.Container SLOT_6704 [INFO] GET worker-user for 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6496: 2022-11-04 11:09:55.882 o.a.s.d.s.Container SLOT_6704 [INFO] SET worker-user 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 stormadmin\n    Line  6497: 2022-11-04 11:09:55.882 o.a.s.d.s.Container SLOT_6704 [INFO] Creating symlinks for worker-id: 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 storm-id: EventHandler-17-1667560186 for files(1): [resources]\n    Line  6498: 2022-11-04 11:09:55.882 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Launching worker with assignment LocalAssignment(topology_id:EventHandler-17-1667560186, executors:[ExecutorInfo(task_start:4, task_end:4)], resources:WorkerResources(mem_on_heap:128.0, mem_off_heap:0.0, cpu:5.0, shared_mem_on_heap:0.0, shared_mem_off_heap:0.0, resources:{offheap.memory.mb=0.0, onheap.memory.mb=128.0, cpu.pcore.percent=5.0}, shared_resources:{}), owner:stormadmin) for this supervisor 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27 on port 6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6499: 2022-11-04 11:09:55.883 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Launching worker with command: 'java' '-cp' '/usr/local/apache-storm-2.4.0/lib-worker/*:/usr/local/apache-storm-2.4.0/extlib/*:/opt/storm/conf:/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/stormjar.jar' '-Xmx64m' '-Dlogging.sensitivity=S3' '-Dlogfile.name=worker.log' '-Dstorm.home=/usr/local/apache-storm-2.4.0' '-Dworkers.artifacts=/data/ansible/storm_logging/workers-artifacts' '-Dstorm.id=EventHandler-17-1667560186' '-Dworker.id=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0' '-Dworker.port=6704' '-Dstorm.log.dir=/data/ansible/storm_logging' '-DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector' '-Dstorm.local.dir=/data/ansible/storm' '-Dworker.memory_limit_mb=128' '-Dlog4j.configurationFile=/usr/local/apache-storm-2.4.0/log4j2/worker.xml' 'org.apache.storm.LogWriter' 'java' '-server' '-Dlogging.sensitivity=S3' '-Dlogfile.name=worker.log' '-Dstorm.home=/usr/local/apache-storm-2.4.0' '-Dworkers.artifacts=/data/ansible/storm_logging/workers-artifacts' '-Dstorm.id=EventHandler-17-1667560186' '-Dworker.id=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0' '-Dworker.port=6704' '-Dstorm.log.dir=/data/ansible/storm_logging' '-DLog4jContextSelector=org.apache.logging.log4j.core.selector.BasicContextSelector' '-Dstorm.local.dir=/data/ansible/storm' '-Dworker.memory_limit_mb=128' '-Dlog4j.configurationFile=/usr/local/apache-storm-2.4.0/log4j2/worker.xml,topology_logger.xml' '-Djava.net.preferIPv4Stack=true' '-javaagent:/opt/storm/agent/dd-java-agent.jar' '-Ddd.env=qa' '-Ddd.service=EventHandler' '-Djava.net.preferIPv4Stack=true' '-Ddd.logs.injection=true' '-Djava.library.path=/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/resources/Linux-amd64:/data/ansible/storm/supervisor/stormdist/EventHandler-17-1667560186/resources:/usr/local/lib:/opt/local/lib:/usr/lib:/usr/lib64' '-Dstorm.conf.file=' '-Dstorm.options=' '-Djava.io.tmpdir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32 ...\n    Line  6503: 2022-11-04 11:09:55.899 o.a.s.d.s.Slot SLOT_6704 [INFO] STATE waiting-for-blob-localization msInState: 42 -&gt; waiting-for-worker-start msInState: 0 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6515: 2022-11-04 11:10:18.981 o.a.s.d.s.Slot SLOT_6704 [INFO] STATE waiting-for-worker-start msInState: 23082 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 -&gt; kill-blob-update msInState: 1 topo:EventHandler-17-1667560186 worker:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6516: 2022-11-04 11:10:18.981 o.a.s.d.s.Container SLOT_6704 [INFO] Cleaning up 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6517: 2022-11-04 11:10:18.981 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/heartbeats\n    Line  6518: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/pids\n    Line  6519: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/tmp\n    Line  6520: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6521: 2022-11-04 11:10:18.982 o.a.s.d.s.Container SLOT_6704 [INFO] REMOVE worker-user 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6522: 2022-11-04 11:10:18.982 o.a.s.d.s.AdvancedFSOps SLOT_6704 [INFO] Deleting path /data/ansible/storm/workers-users/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line  6531: 2022-11-04 11:10:18.990 o.a.s.d.s.BasicContainer SLOT_6704 [INFO] Removed Worker ID 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n</code></pre>\n<p>All logs in worker.log related to topology</p>\n<pre><code>    Line      5: 2022-11-04 11:10:30.922 o.a.s.d.w.Worker main [INFO] Launching worker for EventHandler-17-1667560186 on 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 and conf {storm.messaging.netty.min_wait_ms=1000, topology.backpressure.wait.strategy=org.apache.storm.policy.WaitStrategyProgressive, storm.resource.isolation.plugin=org.apache.storm.container.cgroup.CgroupManager, storm.zookeeper.auth.user=null, storm.messaging.netty.buffer_size=5242880, storm.exhibitor.port=8080, topology.bolt.wait.progressive.level1.count=1, pacemaker.auth.method=NONE, storm.oci.cgroup.root=/sys/fs/cgroup, ui.filter=null, worker.profiler.enabled=false, executor.metrics.frequency.secs=60, supervisor.thrift.threads=16, ui.http.creds.plugin=org.apache.storm.security.auth.DefaultHttpCredentialsPlugin, supervisor.supervisors.commands=[], supervisor.queue.size=128, logviewer.cleanup.age.mins=20160, topology.tuple.serializer=org.apache.storm.serialization.types.ListDelegateSerializer, storm.cgroup.memory.enforcement.enable=false, drpc.port=3772, supervisor.localizer.update.blob.interval.secs=30, topology.max.spout.pending=null, topology.transfer.buffer.size=1000, storm.oci.nscd.dir=/var/run/nscd, nimbus.worker.heartbeats.recovery.strategy.class=org.apache.storm.nimbus.TimeOutWorkerHeartbeatsRecoveryStrategy, worker.metrics={CGroupMemory=org.apache.storm.metrics2.cgroup.CGroupMemoryUsage, CGroupMemoryLimit=org.apache.storm.metrics2.cgroup.CGroupMemoryLimit, CGroupCpu=org.apache.storm.metrics2.cgroup.CGroupCpu, CGroupCpuGuarantee=org.apache.storm.metrics2.cgroup.CGroupCpuGuarantee, CGroupCpuGuaranteeByCfsQuota=org.apache.storm.metrics2.cgroup.CGroupCpuGuaranteeByCfsQuota, CGroupCpuStat=org.apache.storm.metrics2.cgroup.CGroupCpuStat}, logviewer.port=8000, worker.childopts=-Djava.net.preferIPv4Stack=true, topology.component.cpu.pcore.percent=5.0, storm.daemon.metrics.reporter.plugins=[org.apache.storm.daemon.metrics.reporters.JmxPreparableReporter], worker.max.timeout.secs=600, blac ...\n    Line     16: 2022-11-04 11:10:34.608 o.a.s.s.o.a.z.ZooKeeper main [INFO] Client environment:java.io.tmpdir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0/tmp\n    Line     23: 2022-11-04 11:10:34.664 o.a.s.s.o.a.z.ZooKeeper main [INFO] Client environment:user.dir=/data/ansible/storm/workers/7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line     71: 2022-11-04 11:10:50.097 o.a.s.d.w.WorkerState Netty-server-localhost-6704-worker-1 [INFO] Sending BackPressure status to new client. BPStatus: {worker=7e1e50ed-0fba-4d8b-8c62-301edfaf32b0, bpStatusId=1, bpTasks=[], nonBpTasks=[4]}\n    Line     73: 2022-11-04 11:10:51.622 o.a.s.d.w.WorkerState refresh-active-timer [INFO] All connections are ready for worker 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704 with id 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0\n    Line     83: 2022-11-04 11:10:53.841 o.a.s.d.w.Worker main [INFO] Worker 7e1e50ed-0fba-4d8b-8c62-301edfaf32b0 for storm EventHandler-17-1667560186 on 6a061042-8ce3-4b65-ab1b-46fd67a63093-172.23.16.27:6704  has finished loading\n</code></pre>\n<p>So I see that supervisor waited for about 20secs to consider to kill topology (want to remind that this env is not fast so maybe it takes some time to up topology) from 11:09:55 to 11:10:18 but the worker finished setting up the topology at 11:10:53 and that's maybe why nothing was killed from /storm/workers and those idle workers keep sending heartbeats and other stuff. So as I understand I need some config to ask storm to wait about a min before checking the topology state?</p>\n<p>UPD: I faced the same issue but on prod env again already. it seems that it does not depend on slow or fast machines. The logs absolutely the same but the time was different (at 02:15:45 supervisor launched a worker and after 2! secs status was changed &quot;waiting-for-worker-start msInState: 2002 -&gt; kill-blob-update msInState: 0&quot;. But why?\nI started to search in the code and I found that in Slot class in handleWaitingForWorkerStart method there is a code as:</p>\n<pre><code>dynamicState = filterChangingBlobsFor(dynamicState, dynamicState.currentAssignment);\nif (!dynamicState.changingBlobs.isEmpty()) {\n    //Kill the container and restart it\n    return killContainerFor(KillReason.BLOB_CHANGED, dynamicState, staticState);\n}\n</code></pre>\n<p>Does not know what changingBlobs collection means (maybe some blobs are being changed) but looks like here status was changed and the worker was marked to be killed.\nTimeout is different I think because before in that method it waits for a heartbeat but on different machines it can take more or less time.\nSo by what reason supervisor changed the status and why worker started launching itself after supervisor deleted everything related to this worker?</p>\n"},{"tags":["java","recursion","series"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674502790,"post_id":75214205,"comment_id":132723692,"body_markdown":"When should it stop?","body":"When should it stop?"}],"answers":[{"tags":[],"owner":{"account_id":26495067,"reputation":34,"user_id":20132955,"display_name":"OCEAN OESTREICHER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674530105,"creation_date":1674530105,"answer_id":75217099,"question_id":75214205,"body_markdown":"User16320675 has a valid solution for this. You can implement 2 recursive methods, one for the going up and a second for going down. Alternatively, you can implement one recursive method which carries a flag to know when the series has reversed.\r\n\r\n    public static void goUp(ArrayList&lt;Double&gt; theList)\r\n    public static void goDown(ArrayList&lt;Double&gt; theList)\r\n\r\nor\r\n\r\n   \r\n\r\n    public static void crazySeriesRecursive(ArrayList&lt;Double&gt; theList, boolean reverseDirection)\r\n\r\n ","title":"Crazy series using recursion","body":"<p>User16320675 has a valid solution for this. You can implement 2 recursive methods, one for the going up and a second for going down. Alternatively, you can implement one recursive method which carries a flag to know when the series has reversed.</p>\n<pre><code>public static void goUp(ArrayList&lt;Double&gt; theList)\npublic static void goDown(ArrayList&lt;Double&gt; theList)\n</code></pre>\n<p>or</p>\n<pre><code>public static void crazySeriesRecursive(ArrayList&lt;Double&gt; theList, boolean reverseDirection)\n</code></pre>\n"}],"owner":{"account_id":20353987,"reputation":11,"user_id":14929953,"display_name":"Aleks Uher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1674657506,"creation_date":1674502352,"question_id":75214205,"body_markdown":"I have to print out an arraylist of values forming a crazy series. In the crazy series, you will be given a starting number (10). Then, you need to times 2 for each number until the number is greater than 100. After the number is greater than 100, you need to divide 3 until we reach the number is less than 5. Note that\r\nthe input number must be greater than 0, and you are not allowed to use loop here.\r\n\r\nI think the problem can be solved using recursion. I have added two methods instead of one now. The problem now though is that I can&#39;t cast type int to double with Arraylists. Is there a way to get this exercise to work using Arraylists? Thank you. Here is my code: \r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class A1 {\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tSystem.out.println(goUp(10));\r\n//\t\tSystem.out.println(benNumber(3, 5));\r\n\r\n    }\r\n\r\n   /* static int benNumber(int a, int b) {\r\n        // TODO your code goes here\r\n\r\n    }*/\r\n\r\n    public static ArrayList&lt;Double&gt; goUp(int start) {\r\n        ArrayList theList = new ArrayList();\r\n        theList.add(start);\r\n        if (start &lt;= 100) {\r\n            start = start * 2;\r\n            goUp(start);\r\n        } else if (start &gt;= 100) {\r\n            theList.add(start);\r\n        }\r\n        goDown(theList);\r\n        return theList;\r\n    }\r\n    public static ArrayList&lt;Double&gt; goDown(ArrayList&lt;Double&gt; theList) {\r\n        Double start = theList.get(theList.size()-1);\r\n        if (start &gt;= 5) {\r\n            start = start / 3;\r\n            theList.add(start);\r\n            goDown(theList);\r\n        }\r\n        else if (start &lt; 5) {\r\n            theList.add(start);\r\n            return theList;\r\n        }\r\n            return theList;\r\n    }\r\n\r\n}\r\n\r\n```\r\nI tried the above code, but it only returns some of the correct values.\r\nI was expecting an output like: \r\n\r\n [10.0, 20.0, 40.0, 80.0, 160.0,\r\n53.333333333333336, 17.77777777777778, 5.9259259259259265, 1.9753086419753088]","title":"Crazy series using recursion","body":"<p>I have to print out an arraylist of values forming a crazy series. In the crazy series, you will be given a starting number (10). Then, you need to times 2 for each number until the number is greater than 100. After the number is greater than 100, you need to divide 3 until we reach the number is less than 5. Note that\nthe input number must be greater than 0, and you are not allowed to use loop here.</p>\n<p>I think the problem can be solved using recursion. I have added two methods instead of one now. The problem now though is that I can't cast type int to double with Arraylists. Is there a way to get this exercise to work using Arraylists? Thank you. Here is my code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class A1 {\n\n    public static void main(String[] args) {\n\n        System.out.println(goUp(10));\n//      System.out.println(benNumber(3, 5));\n\n    }\n\n   /* static int benNumber(int a, int b) {\n        // TODO your code goes here\n\n    }*/\n\n    public static ArrayList&lt;Double&gt; goUp(int start) {\n        ArrayList theList = new ArrayList();\n        theList.add(start);\n        if (start &lt;= 100) {\n            start = start * 2;\n            goUp(start);\n        } else if (start &gt;= 100) {\n            theList.add(start);\n        }\n        goDown(theList);\n        return theList;\n    }\n    public static ArrayList&lt;Double&gt; goDown(ArrayList&lt;Double&gt; theList) {\n        Double start = theList.get(theList.size()-1);\n        if (start &gt;= 5) {\n            start = start / 3;\n            theList.add(start);\n            goDown(theList);\n        }\n        else if (start &lt; 5) {\n            theList.add(start);\n            return theList;\n        }\n            return theList;\n    }\n\n}\n\n</code></pre>\n<p>I tried the above code, but it only returns some of the correct values.\nI was expecting an output like:</p>\n<p>[10.0, 20.0, 40.0, 80.0, 160.0,\n53.333333333333336, 17.77777777777778, 5.9259259259259265, 1.9753086419753088]</p>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":25193454,"reputation":1,"user_id":19033348,"display_name":"rachel"},"score":0,"creation_date":1674661438,"post_id":75235441,"comment_id":132762879,"body_markdown":"Thank you, but i tried writing a while leaving the body empty and it just gets stuck in that infinite loop and never leaves so it&#39;s a problem.","body":"Thank you, but i tried writing a while leaving the body empty and it just gets stuck in that infinite loop and never leaves so it&#39;s a problem."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1674676187,"post_id":75235441,"comment_id":132767836,"body_markdown":"Check the condition that keeps the loop running. What exactly does compareAndCheck do? When does it return true? Do you have to negate the result?","body":"Check the condition that keeps the loop running. What exactly does compareAndCheck do? When does it return true? Do you have to negate the result?"}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674656947,"creation_date":1674656947,"answer_id":75235441,"question_id":75234875,"body_markdown":"Replace your `if` with a `while`. You may keep the body empty, even though it might be advisable to sleep some milliseconds.\r\n\r\nThe reason is: Your method acquire neither throws an exception nor does it return a result (success/failure). Thus the calling code would assume when the call to acquire is done, the thread can continue doing the sensitive job.\r\n\r\nSo you cannot exit the method without having the lock, even if that means to wait indefinitely. A more advanced method would allow to define a timeout but then also needs to communicate whether the lock is aquired or the timeout was reached.","title":"How to make a thread wait without using wait() nor sleep() in java","body":"<p>Replace your <code>if</code> with a <code>while</code>. You may keep the body empty, even though it might be advisable to sleep some milliseconds.</p>\n<p>The reason is: Your method acquire neither throws an exception nor does it return a result (success/failure). Thus the calling code would assume when the call to acquire is done, the thread can continue doing the sensitive job.</p>\n<p>So you cannot exit the method without having the lock, even if that means to wait indefinitely. A more advanced method would allow to define a timeout but then also needs to communicate whether the lock is aquired or the timeout was reached.</p>\n"}],"owner":{"account_id":25193454,"reputation":1,"user_id":19033348,"display_name":"rachel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674656947,"creation_date":1674654189,"question_id":75234875,"body_markdown":"I am writing a class called MyReentrantLock and I have to create a function called acquire() that locks a thread if it&#39;s not locked and if it is indeed locked then it has to wait until it unlocks to lock it again. It&#39;s kind of confusing and I can&#39;t use wait() or sleep(), only AtomicBoolean and Thread class in java.\r\n\r\n```\r\npublic class MyReentrantLock implements Lock{\r\n\r\n    AtomicBoolean locked = new AtomicBoolean(false);\r\n    long IdOfThreadCurrentlyHoldingLock;\r\n    @Override\r\n    public void acquire() {\r\n\r\n        if(!locked.compareAndSet(false,true)){\r\n           WHAT DO I WRITE HERE!!\r\n        }\r\n\r\n        locked.compareAndSet(false, true);\r\n        IdOfThreadCurrentlyHoldingLock=Thread.currentThread().getId();\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean tryAcquire() {\r\n        if(!locked.compareAndSet(false,true))\r\n            return false;\r\n        else {\r\n            acquire();\r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void release() {\r\n       locked.compareAndSet(true,false);\r\n       if(!locked.compareAndSet(true,false) || IdOfThreadCurrentlyHoldingLock!=Thread.currentThread().getId()){\r\n           throw new IllegalReleaseAttempt();\r\n       }\r\n\r\n    }\r\n```","title":"How to make a thread wait without using wait() nor sleep() in java","body":"<p>I am writing a class called MyReentrantLock and I have to create a function called acquire() that locks a thread if it's not locked and if it is indeed locked then it has to wait until it unlocks to lock it again. It's kind of confusing and I can't use wait() or sleep(), only AtomicBoolean and Thread class in java.</p>\n<pre><code>public class MyReentrantLock implements Lock{\n\n    AtomicBoolean locked = new AtomicBoolean(false);\n    long IdOfThreadCurrentlyHoldingLock;\n    @Override\n    public void acquire() {\n\n        if(!locked.compareAndSet(false,true)){\n           WHAT DO I WRITE HERE!!\n        }\n\n        locked.compareAndSet(false, true);\n        IdOfThreadCurrentlyHoldingLock=Thread.currentThread().getId();\n\n    }\n\n\n    @Override\n    public boolean tryAcquire() {\n        if(!locked.compareAndSet(false,true))\n            return false;\n        else {\n            acquire();\n            return true;\n        }\n    }\n\n    @Override\n    public void release() {\n       locked.compareAndSet(true,false);\n       if(!locked.compareAndSet(true,false) || IdOfThreadCurrentlyHoldingLock!=Thread.currentThread().getId()){\n           throw new IllegalReleaseAttempt();\n       }\n\n    }\n</code></pre>\n"},{"tags":["java","firebird","firebird2.1","jaybird"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281112953,"post_id":3424206,"comment_id":3566612,"body_markdown":"Reformatted code; please revert if incorrect.","body":"Reformatted code; please revert if incorrect."},{"owner":{"account_id":237591,"reputation":26585,"user_id":505893,"accept_rate":83,"display_name":"bluish"},"score":1,"creation_date":1306397270,"post_id":3424206,"comment_id":7121604,"body_markdown":"Don&#39;t add a &quot;Problem solved&quot; section to the question, post it as an answer instead and accept it. Thanks!","body":"Don&#39;t add a &quot;Problem solved&quot; section to the question, post it as an answer instead and accept it. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1281102282,"post_id":3424336,"comment_id":3564647,"body_markdown":"I am absolutley sure about connection parameters along with the path of FDB file.","body":"I am absolutley sure about connection parameters along with the path of FDB file."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281102171,"creation_date":1281102171,"answer_id":3424336,"question_id":3424206,"body_markdown":"Your URL is most likely broken for this driver.\r\n\r\nAttach actual source to the jar and set a breakpoint in FBDataSource.getConnection(...) and see what values are actually present when the connection is attempted made.\r\n\r\nAre you absolutely certain that the combination of a hostname with port agrees with a path to the FDB-file?","title":"Firebird connection with java","body":"<p>Your URL is most likely broken for this driver.</p>\n\n<p>Attach actual source to the jar and set a breakpoint in FBDataSource.getConnection(...) and see what values are actually present when the connection is attempted made.</p>\n\n<p>Are you absolutely certain that the combination of a hostname with port agrees with a path to the FDB-file?</p>\n"},{"comments":[{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1281110875,"post_id":3425216,"comment_id":3566271,"body_markdown":"I have tried all the options including url specified by you..nothing is working..","body":"I have tried all the options including url specified by you..nothing is working.."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281112835,"post_id":3425216,"comment_id":3566590,"body_markdown":"Is Firebird running on port 3050? Can you connect by any other means, e.g. isql or a GUI client?","body":"Is Firebird running on port 3050? Can you connect by any other means, e.g. isql or a GUI client?"},{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1281113697,"post_id":3425216,"comment_id":3566726,"body_markdown":"I can connect with isql and flameRobin..it is running on 3050 port..I have tried creating a new database..switching off windows firewall..copying dll&#39;s in system 32 (as specified on firebird support group)..","body":"I can connect with isql and flameRobin..it is running on 3050 port..I have tried creating a new database..switching off windows firewall..copying dll&#39;s in system 32 (as specified on firebird support group).."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281155286,"post_id":3425216,"comment_id":3570668,"body_markdown":"@rakesh-nitj: Sorry, I&#39;m running low on fresh ideas; more above.","body":"@rakesh-nitj: Sorry, I&#39;m running low on fresh ideas; more above."},{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1281168305,"post_id":3425216,"comment_id":3571315,"body_markdown":"@trashgod:tried .gdb databases as well..anyways posted this question in firebird-java-support group..thanks for your time and efforts!","body":"@trashgod:tried .gdb databases as well..anyways posted this question in firebird-java-support group..thanks for your time and efforts!"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281180131,"post_id":3425216,"comment_id":3571979,"body_markdown":"@rakesh-nitj: I&#39;d like to hear how the problem gets resolved.","body":"@rakesh-nitj: I&#39;d like to hear how the problem gets resolved."},{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1281243758,"post_id":3425216,"comment_id":3575891,"body_markdown":"@trashgod:Problem got solved. Please see the updates above. Thanks for your assistance.","body":"@trashgod:Problem got solved. Please see the updates above. Thanks for your assistance."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281258735,"post_id":3425216,"comment_id":3576643,"body_markdown":"@rakesh-nitj: Thanks for updating your question.","body":"@rakesh-nitj: Thanks for updating your question."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1281258808,"post_id":3425216,"comment_id":3576645,"body_markdown":"@Thorbj&#248;rn Ravn Andersen: Sorry about misspelling your name. :-)","body":"@Thorbj&#248;rn Ravn Andersen: Sorry about misspelling your name. :-)"}],"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1281258595,"creation_date":1281108196,"answer_id":3425216,"question_id":3424206,"body_markdown":"As @Thorbj&#248;rn Ravn Andersen observes, your [Jaybird JDBC URL][1] is incorrect. The syntax is `jdbc:firebirdsql:[host[/port]:]&lt;database&gt;`. You need a colon between the host/port and the database path. Perhaps something like this:\r\n\r\n    &quot;jdbc:firebirdsql://localhost/3050:C:\\\\firebird\\database\\EMPLOYEE.FDB&quot;\r\n\r\nOops, I left in the leading slashes; try this:\r\n\r\n    &quot;jdbc:firebirdsql:localhost/3050:C:\\\\firebird\\database\\EMPLOYEE.FDB&quot;\r\n\r\nAddendum:  You might run through the [common errors][2] list. Also, my firebird database files end in `.fdb`, but the FAQ mentions `.gdb`. It can&#39;t hurt to check.\r\n\r\n[1]:http://www.firebirdsql.org/index.php?op=devel&amp;sub=jdbc&amp;id=faq#6\r\n[2]:http://www.firebirdsql.org/index.php?op=devel&amp;sub=jdbc&amp;id=faq#20","title":"Firebird connection with java","body":"<p>As @Thorbjørn Ravn Andersen observes, your <a href=\"http://www.firebirdsql.org/index.php?op=devel&amp;sub=jdbc&amp;id=faq#6\" rel=\"nofollow noreferrer\">Jaybird JDBC URL</a> is incorrect. The syntax is <code>jdbc:firebirdsql:[host[/port]:]&lt;database&gt;</code>. You need a colon between the host/port and the database path. Perhaps something like this:</p>\n\n<pre><code>\"jdbc:firebirdsql://localhost/3050:C:\\\\firebird\\database\\EMPLOYEE.FDB\"\n</code></pre>\n\n<p>Oops, I left in the leading slashes; try this:</p>\n\n<pre><code>\"jdbc:firebirdsql:localhost/3050:C:\\\\firebird\\database\\EMPLOYEE.FDB\"\n</code></pre>\n\n<p>Addendum:  You might run through the <a href=\"http://www.firebirdsql.org/index.php?op=devel&amp;sub=jdbc&amp;id=faq#20\" rel=\"nofollow noreferrer\">common errors</a> list. Also, my firebird database files end in <code>.fdb</code>, but the FAQ mentions <code>.gdb</code>. It can't hurt to check.</p>\n"},{"tags":[],"owner":{"account_id":2398251,"reputation":3207,"user_id":2096619,"display_name":"Fernando Vieira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401331272,"creation_date":1401331272,"answer_id":23924898,"question_id":3424206,"body_markdown":"Looking at the documentation on this site:\r\n[http://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html][1], item 3.1\r\n\r\nIt seems that after the [port], you must have an slash &quot;/&quot; or double slash &quot;//&quot; in case you would connect on a linux server.\r\n\r\n\r\n  [1]: http://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html","title":"Firebird connection with java","body":"<p>Looking at the documentation on this site:\n<a href=\"http://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html\" rel=\"nofollow\">http://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html</a>, item 3.1</p>\n\n<p>It seems that after the [port], you must have an slash \"/\" or double slash \"//\" in case you would connect on a linux server.</p>\n"},{"tags":[],"owner":{"account_id":369728,"reputation":17994,"user_id":717267,"display_name":"Eduardo Cuomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1490882434,"creation_date":1490882434,"answer_id":43120144,"question_id":3424206,"body_markdown":"From https://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html#pure-java-default\r\n\r\nDefault URL format:\r\n\r\n    &quot;jdbc:firebirdsql://host[:port]/&lt;database&gt;&quot;\r\n\r\nDeprecated, but still supported legacy URL format:\r\n\r\n    &quot;jdbc:firebirdsql:host[/port]:&lt;database&gt;&quot;\r\n\r\nThen, the correct URL should be:\r\n\r\n    &quot;jdbc:firebirdsql://localhost:3050/C:/firebird/database/EMPLOYEE.FDB&quot;\r\n","title":"Firebird connection with java","body":"<p>From <a href=\"https://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html#pure-java-default\" rel=\"nofollow noreferrer\">https://www.firebirdsql.org/file/documentation/drivers_documentation/java/faq.html#pure-java-default</a></p>\n\n<p>Default URL format:</p>\n\n<pre><code>\"jdbc:firebirdsql://host[:port]/&lt;database&gt;\"\n</code></pre>\n\n<p>Deprecated, but still supported legacy URL format:</p>\n\n<pre><code>\"jdbc:firebirdsql:host[/port]:&lt;database&gt;\"\n</code></pre>\n\n<p>Then, the correct URL should be:</p>\n\n<pre><code>\"jdbc:firebirdsql://localhost:3050/C:/firebird/database/EMPLOYEE.FDB\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8853760,"reputation":31,"user_id":6612135,"display_name":"Mayur Lokare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505370183,"creation_date":1505370183,"answer_id":46211934,"question_id":3424206,"body_markdown":"To connect to the database located on remote machine or cloud (linux) then use following link.\r\n\r\njdbc:firebirdsql:34.212.208.251/3050:/opt/app/db/sample_training.fdb\r\n","title":"Firebird connection with java","body":"<p>To connect to the database located on remote machine or cloud (linux) then use following link.</p>\n\n<p>jdbc:firebirdsql:34.212.208.251/3050:/opt/app/db/sample_training.fdb</p>\n"},{"tags":[],"owner":{"account_id":4826543,"reputation":16,"user_id":3895873,"display_name":"tjlee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554119796,"creation_date":1554118540,"answer_id":55454179,"question_id":3424206,"body_markdown":"You should try this one. It works for me on Windows.\r\n\r\n    jdbc:firebirdsql://localhost:3050/C:\\firebird\\database\\EMPLOYEE.FDB\r\n\r\nAlso make sure you added an exception for port 3050 to the Firewall.","title":"Firebird connection with java","body":"<p>You should try this one. It works for me on Windows.</p>\n\n<pre><code>jdbc:firebirdsql://localhost:3050/C:\\firebird\\database\\EMPLOYEE.FDB\n</code></pre>\n\n<p>Also make sure you added an exception for port 3050 to the Firewall.</p>\n"},{"tags":[],"owner":{"account_id":11415843,"reputation":71,"user_id":8874665,"display_name":"Kyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674656611,"creation_date":1674656611,"answer_id":75235384,"question_id":3424206,"body_markdown":"Connection string example for Apache Tomcat `properties.xml` with specified IP, port, data base alias and encoding:\r\n\r\n`&lt;entry key=&quot;db.url&quot;&gt;jdbc:firebirdsql:127.0.0.1/2222:my-db-alias?lc_ctype=WIN1251&lt;/entry&gt;`","title":"Firebird connection with java","body":"<p>Connection string example for Apache Tomcat <code>properties.xml</code> with specified IP, port, data base alias and encoding:</p>\n<p><code>&lt;entry key=&quot;db.url&quot;&gt;jdbc:firebirdsql:127.0.0.1/2222:my-db-alias?lc_ctype=WIN1251&lt;/entry&gt;</code></p>\n"}],"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30280,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":7,"score":12,"last_activity_date":1674656611,"creation_date":1281101337,"question_id":3424206,"body_markdown":"I have installed Firebird 2.1 on windows Xp and using firebirdsql.jdbc-2.1.6 driver to connect with java. Code:\r\n\r\n    Class.forName(&quot;org.firebirdsql.jdbc.FBDriver&quot;); \r\n     \r\n    connection = DriverManager.getConnection(\r\n        &quot;jdbc:firebirdsql://localhost/3050//C:/firebird/database/EMPLOYEE.FDB&quot;, \r\n        &quot;test&quot;,&quot;test&quot;); \r\n\r\nI am getting following error:\r\n\r\n&lt;pre&gt;\r\nCaused by: org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544375.\r\nunavailable database \r\nReason: unavailable database at \r\norg.firebirdsql.jdbc.FBDataSource.getConnection(FBDataSource.java:122) at \r\norg.firebirdsql.jdbc.FBDriver.connect(FBDriver.java:140) at \r\njava.sql.DriverManager.getConnection(DriverManager.java:525) at \r\njava.sql.DriverManager.getConnection(DriverManager.java:171)\r\n&lt;/pre&gt;\r\n\r\nPlease help.\r\n\r\nProblem solved:\r\nActually I had problem with jar file that I got from \r\n\r\nhttp://mirrors.ibiblio.org/pub/mirrors/maven2\r\n\r\nI downloaded jaybird-full-2.1.6.jar from firebird offical website and problem got solved.\r\n\r\nCorrect URL is \r\n\r\n    &quot;jdbc:firebirdsql://localhost:3050/C:\\\\firebird\\\\database\\\\EMPLOYEE.FDB&quot;\r\n\r\nI tried this URL earlier also but it was not working beacuse of jar issue.\r\n\r\n\r\n","title":"Firebird connection with java","body":"<p>I have installed Firebird 2.1 on windows Xp and using firebirdsql.jdbc-2.1.6 driver to connect with java. Code:</p>\n\n<pre><code>Class.forName(\"org.firebirdsql.jdbc.FBDriver\"); \n\nconnection = DriverManager.getConnection(\n    \"jdbc:firebirdsql://localhost/3050//C:/firebird/database/EMPLOYEE.FDB\", \n    \"test\",\"test\"); \n</code></pre>\n\n<p>I am getting following error:</p>\n\n<pre>\nCaused by: org.firebirdsql.jdbc.FBSQLException: GDS Exception. 335544375.\nunavailable database \nReason: unavailable database at \norg.firebirdsql.jdbc.FBDataSource.getConnection(FBDataSource.java:122) at \norg.firebirdsql.jdbc.FBDriver.connect(FBDriver.java:140) at \njava.sql.DriverManager.getConnection(DriverManager.java:525) at \njava.sql.DriverManager.getConnection(DriverManager.java:171)\n</pre>\n\n<p>Please help.</p>\n\n<p>Problem solved:\nActually I had problem with jar file that I got from </p>\n\n<p><a href=\"http://mirrors.ibiblio.org/pub/mirrors/maven2\" rel=\"noreferrer\">http://mirrors.ibiblio.org/pub/mirrors/maven2</a></p>\n\n<p>I downloaded jaybird-full-2.1.6.jar from firebird offical website and problem got solved.</p>\n\n<p>Correct URL is </p>\n\n<pre><code>\"jdbc:firebirdsql://localhost:3050/C:\\\\firebird\\\\database\\\\EMPLOYEE.FDB\"\n</code></pre>\n\n<p>I tried this URL earlier also but it was not working beacuse of jar issue.</p>\n"},{"tags":["java","gradle"],"answers":[{"comments":[{"owner":{"account_id":3265279,"reputation":1275,"user_id":2749903,"accept_rate":73,"display_name":"user2749903"},"score":0,"creation_date":1623602047,"post_id":67948180,"comment_id":120120142,"body_markdown":"No, i need the unexploded A jar  inside B.jar.","body":"No, i need the unexploded A jar  inside B.jar."}],"tags":[],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623495575,"creation_date":1623495575,"answer_id":67948180,"question_id":67947806,"body_markdown":"If what you need to do is to reference the project A inside project B, then you can compile project A at the time of project B build time and add it as a dependency to the project B jar file. \r\n\r\ninclude both projects in `settings.gradle` file in the root project.\r\n\r\n    include &#39;project A&#39;\r\n    include &#39;project B&#39;\r\n\r\nthen in the `build.gradle` file of project B add\r\n\r\n    dependencies{\r\n       compile (&#39;:project A&#39;)\r\n    }","title":"Put jar output from one module into another","body":"<p>If what you need to do is to reference the project A inside project B, then you can compile project A at the time of project B build time and add it as a dependency to the project B jar file.</p>\n<p>include both projects in <code>settings.gradle</code> file in the root project.</p>\n<pre><code>include 'project A'\ninclude 'project B'\n</code></pre>\n<p>then in the <code>build.gradle</code> file of project B add</p>\n<pre><code>dependencies{\n   compile (':project A')\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674656465,"creation_date":1674656465,"answer_id":75235358,"question_id":67947806,"body_markdown":"Let&#39;s say you want to include **classes and resources** project `A` to `B`\r\n\r\nThe module `B` should contain:\r\n\r\n```groovy\r\ndependencies {\r\n  // it must be compile only to prevent it to be exposed as a transitive dependency in the pom file\r\n  compileOnly project(&quot;:A&quot;)\r\n}\r\n\r\njar {\r\n    from project(&#39;:A&#39;).sourceSets.main.output\r\n}\r\n```\r\n\r\nThen you shall expect when you generate a jar with `jar` task inside the `B.jar` classes from module `A` right next to the classes from `B`, e.g. modules are merged.\r\n\r\n\r\nGradle 7.6.0","title":"Put jar output from one module into another","body":"<p>Let's say you want to include <strong>classes and resources</strong> project <code>A</code> to <code>B</code></p>\n<p>The module <code>B</code> should contain:</p>\n<pre><code>dependencies {\n  // it must be compile only to prevent it to be exposed as a transitive dependency in the pom file\n  compileOnly project(&quot;:A&quot;)\n}\n\njar {\n    from project(':A').sourceSets.main.output\n}\n</code></pre>\n<p>Then you shall expect when you generate a jar with <code>jar</code> task inside the <code>B.jar</code> classes from module <code>A</code> right next to the classes from <code>B</code>, e.g. modules are merged.</p>\n<p>Gradle 7.6.0</p>\n"}],"owner":{"account_id":3265279,"reputation":1275,"user_id":2749903,"accept_rate":73,"display_name":"user2749903"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674656465,"creation_date":1623492961,"question_id":67947806,"body_markdown":"I have Gradle 7 project, there are two sub modules \r\n\r\n```\r\n - Root\r\n   - sub project A\r\n   - sub project B\r\n```  \r\n\r\nMy goal is following: \r\n1) When project A is build it creates a A.jar file. \r\n2) When project B is build it creates a B.jar file that contains unexploded A.jar output from build of project A\r\n\r\nTo be more clear B.jar should look something like this\r\n\r\n```\r\n\\META-INF\r\n\\my\r\n  \\package\r\n    \\tree\r\n      SomeClassInsideBJar\r\n\r\n\\A.jar\r\n```\r\n\r\n```\r\nURI aJarUri = someClassInsideBjar.getClassLaoder().getResource(&quot;A.jar&quot;);\r\n```\r\n\r\nSubproject A build  just fine, but i cannot figure out how to embed its jar into B.jar\r\n\r\n\r\nAccording to another questions I should be able to get a reference to .jar output of a task by .archiveFile property\r\n\r\nI tried this in B`s build file\r\n```\r\njar {\r\n    sourceSets.main.resources.includes = project(&quot;:A&quot;).getByName(&quot;build&quot;).archiveFile\r\n}\r\n```\r\nBut that ends with error \r\n\r\n&gt; No signature of method: build_62kfcng7dpn0plap6jwx8ojvt.jar() is\r\n&gt; applicable for argument types:\r\n&gt; (build_62kfcng7dpn0plap6jwx8ojvt$_run_closure2) values:\r\n&gt; [build_62kfcng7dpn0plap6jwx8ojvt$_run_closure2@be2d508]\r\n\r\n","title":"Put jar output from one module into another","body":"<p>I have Gradle 7 project, there are two sub modules</p>\n<pre><code> - Root\n   - sub project A\n   - sub project B\n</code></pre>\n<p>My goal is following:</p>\n<ol>\n<li>When project A is build it creates a A.jar file.</li>\n<li>When project B is build it creates a B.jar file that contains unexploded A.jar output from build of project A</li>\n</ol>\n<p>To be more clear B.jar should look something like this</p>\n<pre><code>\\META-INF\n\\my\n  \\package\n    \\tree\n      SomeClassInsideBJar\n\n\\A.jar\n</code></pre>\n<pre><code>URI aJarUri = someClassInsideBjar.getClassLaoder().getResource(&quot;A.jar&quot;);\n</code></pre>\n<p>Subproject A build  just fine, but i cannot figure out how to embed its jar into B.jar</p>\n<p>According to another questions I should be able to get a reference to .jar output of a task by .archiveFile property</p>\n<p>I tried this in B`s build file</p>\n<pre><code>jar {\n    sourceSets.main.resources.includes = project(&quot;:A&quot;).getByName(&quot;build&quot;).archiveFile\n}\n</code></pre>\n<p>But that ends with error</p>\n<blockquote>\n<p>No signature of method: build_62kfcng7dpn0plap6jwx8ojvt.jar() is\napplicable for argument types:\n(build_62kfcng7dpn0plap6jwx8ojvt$_run_closure2) values:\n[build_62kfcng7dpn0plap6jwx8ojvt$_run_closure2@be2d508]</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1674649543,"post_id":75233803,"comment_id":132758532,"body_markdown":"Maybe you could show the code of SpecificCaseCondition class?","body":"Maybe you could show the code of SpecificCaseCondition class?"},{"owner":{"account_id":15704117,"reputation":83,"user_id":11916606,"display_name":"Artem Causelove"},"score":0,"creation_date":1674649962,"post_id":75233803,"comment_id":132758660,"body_markdown":"SpecificCaseCondition implements Condition(org.springframework.context.annotation) and matches method always returns &quot;true&quot;.  and yep, all 3 beans will be loaded if condition is true, otherwise, nothing will be loaded and AnyConfiguration won&#39;t be created","body":"SpecificCaseCondition implements Condition(org.springframework.context.annotation) and matches method always returns &quot;true&quot;.  and yep, all 3 beans will be loaded if condition is true, otherwise, nothing will be loaded and AnyConfiguration won&#39;t be created"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1674655182,"post_id":75233803,"comment_id":132760633,"body_markdown":"You should edit the question to include extra content instead of using a comment. I&#39;ve done so for you.","body":"You should edit the question to include extra content instead of using a comment. I&#39;ve done so for you."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674656001,"creation_date":1674656001,"answer_id":75235259,"question_id":75233803,"body_markdown":"When Spring Boot auto-configures the beans for the app context, it does so in multiple _phases_. By default, condition at the class level* will be evaluated multiple times, for each phase. That&#39;s probably why you&#39;re seeing your custom `Condition` method being called more than once; Spring is invoking it during each phase.\r\n\r\nOne way to avoid that would be to annotate the `@Bean` *methods* with `@Conditional` instead of the entire *class*. Like this:\r\n```java\r\n@Configuration\r\npublic class AnyConfiguration {\r\n\r\n    @Bean\r\n    @Conditional(SpecificCaseCondition.class)\r\n    public Service firstService() {\r\n        return new RealService();\r\n    }\r\n    \r\n    @Bean\r\n    @Conditional(SpecificCaseCondition.class)\r\n    public Service secondService() {\r\n        return new RealService();\r\n    }\r\n    \r\n    @Bean\r\n    @Conditional(SpecificCaseCondition.class)\r\n    public Service thirdService() {\r\n        return new RealService();\r\n    }\r\n}\r\n```\r\nIn my experiments, method-level conditions are only evaluated during the `REGISTER_BEAN` phase.\r\n\r\nThere is a downside to this solution, of course - it isn&#39;t very [DRY][1]. As an alternative, you can change your condition to implement `ConfigurationCondition` which has a method, `public ConfigurationPhase getConfigurationPhase()`, to dictate which phase the condition should be evaluated in.\r\n \r\n\r\n---\r\n* The various `@Conditional*` annotations can be placed at the class level or the method level.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Don%27t_repeat_yourself","title":"@Conditional matches method is invoked n+1 times","body":"<p>When Spring Boot auto-configures the beans for the app context, it does so in multiple <em>phases</em>. By default, condition at the class level* will be evaluated multiple times, for each phase. That's probably why you're seeing your custom <code>Condition</code> method being called more than once; Spring is invoking it during each phase.</p>\n<p>One way to avoid that would be to annotate the <code>@Bean</code> <em>methods</em> with <code>@Conditional</code> instead of the entire <em>class</em>. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AnyConfiguration {\n\n    @Bean\n    @Conditional(SpecificCaseCondition.class)\n    public Service firstService() {\n        return new RealService();\n    }\n    \n    @Bean\n    @Conditional(SpecificCaseCondition.class)\n    public Service secondService() {\n        return new RealService();\n    }\n    \n    @Bean\n    @Conditional(SpecificCaseCondition.class)\n    public Service thirdService() {\n        return new RealService();\n    }\n}\n</code></pre>\n<p>In my experiments, method-level conditions are only evaluated during the <code>REGISTER_BEAN</code> phase.</p>\n<p>There is a downside to this solution, of course - it isn't very <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY</a>. As an alternative, you can change your condition to implement <code>ConfigurationCondition</code> which has a method, <code>public ConfigurationPhase getConfigurationPhase()</code>, to dictate which phase the condition should be evaluated in.</p>\n<hr />\n<ul>\n<li>The various <code>@Conditional*</code> annotations can be placed at the class level or the method level.</li>\n</ul>\n"}],"owner":{"account_id":15704117,"reputation":83,"user_id":11916606,"display_name":"Artem Causelove"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75235259,"answer_count":1,"score":0,"last_activity_date":1674656243,"creation_date":1674648716,"question_id":75233803,"body_markdown":"Why boolean **matches(...)** method in SpecificCaseCondition class is invoked 2 times ? I expect it to be invoked only once, on AnyConfiguration creation. In fact, it&#39;s invoked 2 times. \r\n\r\n```java\r\npublic class SpecificCaseCondition implements Condition {\r\n\t@Override\r\n\tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\n\r\n@Configuration\r\n@Conditional(SpecificCaseCondition.class)\r\npublic class AnyConfiguration {\r\n\r\n    @Bean\r\n    public Service firstService() {\r\n        return new RealService();\r\n    }\r\n    \r\n    @Bean\r\n    public Service secondService() {\r\n        return new RealService();\r\n    }\r\n    \r\n    @Bean\r\n    public Service thirdService() {\r\n        return new RealService();\r\n    }\r\n}\r\n```","title":"@Conditional matches method is invoked n+1 times","body":"<p>Why boolean <strong>matches(...)</strong> method in SpecificCaseCondition class is invoked 2 times ? I expect it to be invoked only once, on AnyConfiguration creation. In fact, it's invoked 2 times.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SpecificCaseCondition implements Condition {\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return true;\n    }\n}\n\n\n@Configuration\n@Conditional(SpecificCaseCondition.class)\npublic class AnyConfiguration {\n\n    @Bean\n    public Service firstService() {\n        return new RealService();\n    }\n    \n    @Bean\n    public Service secondService() {\n        return new RealService();\n    }\n    \n    @Bean\n    public Service thirdService() {\n        return new RealService();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator","health-check","readinessprobe"],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674656196,"creation_date":1674656196,"question_id":75235299,"body_markdown":"To customize spring boot actuator for `/actuator/health` we can implement our own `HealthIndicator`\r\n\r\nTo customize spring boot actuator for `/actuator/health`in reactive app  we can implement our own `ReactiveHealthIndicator`\r\n\r\nTo customize spring boot actuator for `/actuator/health/readiness` endpoint we can extend\r\n`ReadinessStateHealthIndicator`. \r\n\r\n\r\nHow to customize spring boot actuator for `/actuator/health/readiness` in reactive Spring webflux application ?","title":"What is reactive analog of ReadinessStateHealthIndicator?","body":"<p>To customize spring boot actuator for <code>/actuator/health</code> we can implement our own <code>HealthIndicator</code></p>\n<p>To customize spring boot actuator for <code>/actuator/health</code>in reactive app  we can implement our own <code>ReactiveHealthIndicator</code></p>\n<p>To customize spring boot actuator for <code>/actuator/health/readiness</code> endpoint we can extend\n<code>ReadinessStateHealthIndicator</code>.</p>\n<p>How to customize spring boot actuator for <code>/actuator/health/readiness</code> in reactive Spring webflux application ?</p>\n"},{"tags":["java","telegram-bot"],"owner":{"account_id":26370194,"reputation":21,"user_id":20025005,"display_name":"Dmitriy Kandalov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674656071,"creation_date":1674656071,"question_id":75235272,"body_markdown":"I create a telegram bot on SpringWebhookBot(telegram api) on java.\r\nI have a has these methods\r\n\r\n     private SendMessage getArmours(String chatId, String type) {\r\n        method body\r\n        return makeMessage(chatId, buttons, text);\r\n    }\r\n\r\nI need to build an image in SendMessage instance, or send it separately but from this method.\r\nI can&#39;t use the execute(Sendphoto sendphoto) method because I don&#39;t have a bot instance in this environment.I tried to do it but went into a cyclical dependency\r\n\r\n&gt; ┌─────┐\r\n|  bot defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\bot\\Bot.class]\r\n↑     ↓\r\n|  messageHandler defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\bot\\MessageHandler.class]\r\n↑     ↓\r\n|  home defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\locations\\Home.class]\r\n└─────┘\r\nPlease. help. How could I include an image in sendMessage.","title":"Telegram api sendphoto method","body":"<p>I create a telegram bot on SpringWebhookBot(telegram api) on java.\nI have a has these methods</p>\n<pre><code> private SendMessage getArmours(String chatId, String type) {\n    method body\n    return makeMessage(chatId, buttons, text);\n}\n</code></pre>\n<p>I need to build an image in SendMessage instance, or send it separately but from this method.\nI can't use the execute(Sendphoto sendphoto) method because I don't have a bot instance in this environment.I tried to do it but went into a cyclical dependency</p>\n<blockquote>\n<p>┌─────┐\n|  bot defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\bot\\Bot.class]\n↑     ↓\n|  messageHandler defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\bot\\MessageHandler.class]\n↑     ↓\n|  home defined in file [C:\\Users\\Crank\\dev\\wow\\target\\classes\\ru\\studio\\crank\\wow\\locations\\Home.class]\n└─────┘\nPlease. help. How could I include an image in sendMessage.</p>\n</blockquote>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":4564696,"reputation":43122,"user_id":3706016,"display_name":"jarlh"},"score":0,"creation_date":1674654727,"post_id":75234955,"comment_id":132760462,"body_markdown":"Which dbms are you using? (Your table definitions are partly product specific.)","body":"Which dbms are you using? (Your table definitions are partly product specific.)"},{"owner":{"account_id":16466711,"reputation":217,"user_id":11896664,"display_name":"Nitin Singhal"},"score":0,"creation_date":1674655544,"post_id":75234955,"comment_id":132760773,"body_markdown":"You don&#39;t need any changes in order table, only first 2 columns means id and id_person is fine. As your orderItem table will take care of mapping.","body":"You don&#39;t need any changes in order table, only first 2 columns means id and id_person is fine. As your orderItem table will take care of mapping."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674655597,"creation_date":1674655597,"answer_id":75235187,"question_id":75234955,"body_markdown":"When you see a collection of child objects owned by a parent, that means there&#39;s a one-to-many relationship between the entities. You&#39;ll need parent and child tables, with a foreign key relationship to the parent in the child table. There will be zero or more rows in the child table for each row in the parent table.\r\n\r\nYou have it right in your design.  There&#39;s no need for the `order` table to know about the `orderItem` table.  The child table needs to [refer][1] to the parent.\r\n\r\n    CREATE TABLE order (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        id_person INT FOREIGN KEY REFERENCES person(id),;\r\n    );\r\n    \r\n    CREATE TABLE orderItem (\r\n        id INT AUTO_INCREENT PRIMARY KEY,\r\n        id_product INT FOREIGN KEY REFERENCES product(id),\r\n        quantity INT(999999) NOT NULL,\r\n        id_order INT FOREIGN KEY REFERENCES order(id)\r\n    );\r\n\r\n\r\n  [1]: https://www.w3schools.com/sql/sql_foreignkey.asp","title":"How do I create a SQL table when a column receives a list?","body":"<p>When you see a collection of child objects owned by a parent, that means there's a one-to-many relationship between the entities. You'll need parent and child tables, with a foreign key relationship to the parent in the child table. There will be zero or more rows in the child table for each row in the parent table.</p>\n<p>You have it right in your design.  There's no need for the <code>order</code> table to know about the <code>orderItem</code> table.  The child table needs to <a href=\"https://www.w3schools.com/sql/sql_foreignkey.asp\" rel=\"nofollow noreferrer\">refer</a> to the parent.</p>\n<pre><code>CREATE TABLE order (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    id_person INT FOREIGN KEY REFERENCES person(id),;\n);\n\nCREATE TABLE orderItem (\n    id INT AUTO_INCREENT PRIMARY KEY,\n    id_product INT FOREIGN KEY REFERENCES product(id),\n    quantity INT(999999) NOT NULL,\n    id_order INT FOREIGN KEY REFERENCES order(id)\n);\n</code></pre>\n"}],"owner":{"account_id":27618608,"reputation":1,"user_id":21080183,"display_name":"Paulo Henrique"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674655826,"creation_date":1674654566,"question_id":75234955,"body_markdown":"I&#39;m starting to learn SQL and I need to create a table based on a java entity but one of the arguments from a class is a list of another class.\r\n\r\nThis is are the code:\r\n\r\n    public class Product {\r\n        private int id;\r\n        private String description;\r\n        private BigDecimal value;\r\n    }\r\n\r\n    public class order {\r\n        private Long id;\r\n        private Person person;\r\n        private List&lt;orderItem&gt; itens;\r\n    }\r\n\r\n    public class PedidoItem {\r\n        private long id;\r\n        private Product product;\r\n        private int quantity;\r\n        private Order order;\r\n    }\r\n\r\nAnd this is the script I was creating:\r\n\r\n\r\n    CREATE TABLE product (\r\n        id INT AUTO_INCREMENT  PRIMARY KEY,\r\n        description VARCHAR(50) NOT NULL,\r\n        value NUMERIC(10,2) NOT NULL\r\n    );\r\n\r\n    CREATE TABLE order (\r\n        id INT AUTO_INCREMENT PRIMARY KEY,\r\n        id_person INT FOREIGN KEY REFERENCES person(id),\r\n        itens  &quot; &lt;- I don&#39;t know how to complete this! &quot;;\r\n    );\r\n\r\n    CREATE TABLE orderItem (\r\n        id INT AUTO_INCREENT PRIMARY KEY,\r\n        id_product INT FOREIGN KEY REFERENCES product(id),\r\n        quantity INT(999999) NOT NULL,\r\n        id_order INT FOREIGN KEY REFERENCES order(id)\r\n    );","title":"How do I create a SQL table when a column receives a list?","body":"<p>I'm starting to learn SQL and I need to create a table based on a java entity but one of the arguments from a class is a list of another class.</p>\n<p>This is are the code:</p>\n<pre><code>public class Product {\n    private int id;\n    private String description;\n    private BigDecimal value;\n}\n\npublic class order {\n    private Long id;\n    private Person person;\n    private List&lt;orderItem&gt; itens;\n}\n\npublic class PedidoItem {\n    private long id;\n    private Product product;\n    private int quantity;\n    private Order order;\n}\n</code></pre>\n<p>And this is the script I was creating:</p>\n<pre><code>CREATE TABLE product (\n    id INT AUTO_INCREMENT  PRIMARY KEY,\n    description VARCHAR(50) NOT NULL,\n    value NUMERIC(10,2) NOT NULL\n);\n\nCREATE TABLE order (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    id_person INT FOREIGN KEY REFERENCES person(id),\n    itens  &quot; &lt;- I don't know how to complete this! &quot;;\n);\n\nCREATE TABLE orderItem (\n    id INT AUTO_INCREENT PRIMARY KEY,\n    id_product INT FOREIGN KEY REFERENCES product(id),\n    quantity INT(999999) NOT NULL,\n    id_order INT FOREIGN KEY REFERENCES order(id)\n);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"score":1,"creation_date":1320939567,"post_id":8081392,"comment_id":9905292,"body_markdown":"• Have you checked that ZIP stream (file) you try to process is valid one (e.g. `unzip` can unpack it)? • Please pinpoint the line in code that actually raised the exception.","body":"• Have you checked that ZIP stream (file) you try to process is valid one (e.g. <code>unzip</code> can unpack it)? • Please pinpoint the line in code that actually raised the exception."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1320939682,"post_id":8081392,"comment_id":9905343,"body_markdown":"I may not remember correctly but aren&#39;t you supposed to close each entry after processing it?","body":"I may not remember correctly but aren&#39;t you supposed to close each entry after processing it?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1332365856,"post_id":8081392,"comment_id":12500033,"body_markdown":"You should close the baos before calling insertZipEntry(), and our &#39;currentByte&#39; variable is poorly named: should be &#39;count&#39; or similar.","body":"You should close the baos before calling insertZipEntry(), and our &#39;currentByte&#39; variable is poorly named: should be &#39;count&#39; or similar."},{"owner":{"account_id":2869871,"reputation":412,"user_id":2463453,"display_name":"Stephan L"},"score":0,"creation_date":1439380264,"post_id":8081392,"comment_id":51835817,"body_markdown":"Can you pick a best answer for your question?","body":"Can you pick a best answer for your question?"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1332365746,"post_id":8083656,"comment_id":12500000,"body_markdown":"That&#39;s not necessary. The ZipInputStream takes care of that for you.","body":"That&#39;s not necessary. The ZipInputStream takes care of that for you."},{"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"score":0,"creation_date":1401372212,"post_id":8083656,"comment_id":36865254,"body_markdown":"EJP: and yet it fails. However, both entry.getSize() and entry.getCompressedSize() return -1 for me.","body":"EJP: and yet it fails. However, both entry.getSize() and entry.getCompressedSize() return -1 for me."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633061728,"post_id":8083656,"comment_id":122664912,"body_markdown":"@Buffalo It fails because the input is truncated, and this technique does not and cannot possibly solve that.","body":"@Buffalo It fails because the input is truncated, and this technique does not and cannot possibly solve that."}],"tags":[],"owner":{"account_id":344466,"reputation":7026,"user_id":676803,"accept_rate":64,"display_name":"Drona"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1320945775,"creation_date":1320945775,"answer_id":8083656,"question_id":8081392,"body_markdown":"Never attempt to read more bytes than the entry contains. Call ZipEntry.getSize() to get the actual size of the entry, then use this value to keep track of the number of bytes remaining in the entry while reading from it. See below : \r\n\r\n    try{\t\r\n\r\n       ...\r\n\r\n       int bytesLeft = (int)entry.getSize();\r\n       while ( bytesLeft&gt;0 &amp;&amp; (currentByte=zis.read(data, 0, Math.min(BUFFER, bytesLeft))) != -1) {\r\n         ...\r\n      }\r\n\r\n      ...\r\n\r\n      }","title":"java extract zip Unexpected end of ZLIB input stream","body":"<p>Never attempt to read more bytes than the entry contains. Call ZipEntry.getSize() to get the actual size of the entry, then use this value to keep track of the number of bytes remaining in the entry while reading from it. See below : </p>\n\n<pre><code>try{    \n\n   ...\n\n   int bytesLeft = (int)entry.getSize();\n   while ( bytesLeft&gt;0 &amp;&amp; (currentByte=zis.read(data, 0, Math.min(BUFFER, bytesLeft))) != -1) {\n     ...\n  }\n\n  ...\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1332365999,"creation_date":1332365999,"answer_id":9813276,"question_id":8081392,"body_markdown":"I would say you are occasionally being given truncated Zip files to process. Check upstream.","title":"java extract zip Unexpected end of ZLIB input stream","body":"<p>I would say you are occasionally being given truncated Zip files to process. Check upstream.</p>\n"},{"tags":[],"owner":{"account_id":2869871,"reputation":412,"user_id":2463453,"display_name":"Stephan L"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533139617,"creation_date":1379407393,"answer_id":18845169,"question_id":8081392,"body_markdown":"This is probably caused by this [JVM bug (JVM-6519463)](https://bugs.java.com/bugdatabase/view_bug;jsessionid=53ede10dc8803210b03577eac43?bug_id=6519463)\r\n\r\nI previously has about one or two errors on 1000 randomly created documents, I applied the proposed solution (catch EOFException and do nothing with it) and I have no more errors.","title":"java extract zip Unexpected end of ZLIB input stream","body":"<p>This is probably caused by this <a href=\"https://bugs.java.com/bugdatabase/view_bug;jsessionid=53ede10dc8803210b03577eac43?bug_id=6519463\" rel=\"nofollow noreferrer\">JVM bug (JVM-6519463)</a></p>\n<p>I previously has about one or two errors on 1000 randomly created documents, I applied the proposed solution (catch EOFException and do nothing with it) and I have no more errors.</p>\n"},{"tags":[],"owner":{"account_id":2571436,"reputation":636,"user_id":2230060,"accept_rate":43,"display_name":"Aleksandar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674655282,"creation_date":1643706926,"answer_id":70938020,"question_id":8081392,"body_markdown":"I had the same exception and the problem was in the compressing method (not extracting). I did not close the ZipOutputStream with `zos.closeEntry()` after writing to the output stream. Without that, compressing worked well but I got an exception while extracting.\r\n\r\n    public static byte[] zip(String outputFilename, byte[] output) {\r\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n             ZipOutputStream zos = new ZipOutputStream(baos)) {\r\n            zos.putNextEntry(new ZipEntry(outputFilename));\r\n            zos.write(output, 0, output.length);            \r\n            zos.closeEntry(); //this line must be here\r\n            return baos.toByteArray();\r\n        } catch (IOException e) {\r\n            //catch exception\r\n        }\r\n    }","title":"java extract zip Unexpected end of ZLIB input stream","body":"<p>I had the same exception and the problem was in the compressing method (not extracting). I did not close the ZipOutputStream with <code>zos.closeEntry()</code> after writing to the output stream. Without that, compressing worked well but I got an exception while extracting.</p>\n<pre><code>public static byte[] zip(String outputFilename, byte[] output) {\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream();\n         ZipOutputStream zos = new ZipOutputStream(baos)) {\n        zos.putNextEntry(new ZipEntry(outputFilename));\n        zos.write(output, 0, output.length);            \n        zos.closeEntry(); //this line must be here\n        return baos.toByteArray();\n    } catch (IOException e) {\n        //catch exception\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":98352,"reputation":4166,"user_id":266284,"accept_rate":87,"display_name":"medium"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18845169,"answer_count":4,"score":3,"last_activity_date":1674655282,"creation_date":1320936736,"question_id":8081392,"body_markdown":"I am creating a program that will extract a zip and then insert the files into a database, every so often I get the error \r\n\r\n    java.lang.Exception: java.io.EOFException: Unexpected end of ZLIB input stream\r\n\r\nI can not pinpoint the reason for this as the extraction code is pretty much the same as all the other code you can find on the web. My code is as follows: \r\n\r\n    public void extract(String zipName, InputStream content) throws Exception {\r\n\r\n\t    int BUFFER = 2048;\r\n\t    \r\n\t    //create the zipinputstream \r\n\t    ZipInputStream zis = new ZipInputStream(content);\r\n\r\n\t    //Get the name of the zip\r\n\t    String containerName = zipName;\r\n\t\r\n\t    //container for the zip entry\r\n\t    ZipEntry entry;\r\n\t\t\r\n\t    // Process each entry\r\n\t    while ((entry = zis.getNextEntry()) != null) {\r\n\r\n\t    \t//get the entry file name\r\n\t        String currentEntry = entry.getName();\r\n\t\t\r\n\t        try {\r\n\r\n\t                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n\t                // establish buffer for writing file\r\n\t                byte data[] = new byte[BUFFER];\r\n\t                int currentByte;\r\n\t                \r\n\t                // read and write until last byte is encountered\r\n\t                while ((currentByte = zis.read(data, 0, BUFFER)) != -1) {\r\n\t                \r\n\t                \tbaos.write(data, 0, currentByte);\r\n\t                }\r\n\t                \r\n\t                baos.flush(); //flush the buffer \r\n\t   \t                \r\n\t                //this method inserts the file into the database\r\n\t                insertZipEntry(baos.toByteArray());\r\n\t                \r\n\t                baos.close();\r\n\t          \r\n\t        } \r\n\t        catch (Exception e) {\r\n\t            System.out.println(&quot;ERROR WITHIN ZIP &quot; + containerName);\r\n\t        }\r\n\t    }\r\n\t}","title":"java extract zip Unexpected end of ZLIB input stream","body":"<p>I am creating a program that will extract a zip and then insert the files into a database, every so often I get the error </p>\n\n<pre><code>java.lang.Exception: java.io.EOFException: Unexpected end of ZLIB input stream\n</code></pre>\n\n<p>I can not pinpoint the reason for this as the extraction code is pretty much the same as all the other code you can find on the web. My code is as follows: </p>\n\n<pre><code>public void extract(String zipName, InputStream content) throws Exception {\n\n    int BUFFER = 2048;\n\n    //create the zipinputstream \n    ZipInputStream zis = new ZipInputStream(content);\n\n    //Get the name of the zip\n    String containerName = zipName;\n\n    //container for the zip entry\n    ZipEntry entry;\n\n    // Process each entry\n    while ((entry = zis.getNextEntry()) != null) {\n\n        //get the entry file name\n        String currentEntry = entry.getName();\n\n        try {\n\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n                // establish buffer for writing file\n                byte data[] = new byte[BUFFER];\n                int currentByte;\n\n                // read and write until last byte is encountered\n                while ((currentByte = zis.read(data, 0, BUFFER)) != -1) {\n\n                    baos.write(data, 0, currentByte);\n                }\n\n                baos.flush(); //flush the buffer \n\n                //this method inserts the file into the database\n                insertZipEntry(baos.toByteArray());\n\n                baos.close();\n\n        } \n        catch (Exception e) {\n            System.out.println(\"ERROR WITHIN ZIP \" + containerName);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","android-activity"],"comments":[{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1674655166,"post_id":75186812,"comment_id":132760630,"body_markdown":"Removed `android-studio` tag as that tag is for questions/issues related to the Android Studio product. Your question has nothing to do with Android Studio.","body":"Removed <code>android-studio</code> tag as that tag is for questions/issues related to the Android Studio product. Your question has nothing to do with Android Studio."}],"answers":[{"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1674233062,"post_id":75186864,"comment_id":132677870,"body_markdown":"@Gino you probably want `myActivityA` instead of `A.this`.","body":"@Gino you probably want <code>myActivityA</code> instead of <code>A.this</code>."}],"tags":[],"owner":{"display_name":"user21026706"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674233025,"creation_date":1674232465,"answer_id":75186864,"question_id":75186812,"body_markdown":"I suggest you to add a parameter to the `show()` method passing a reference to the activity A:\r\n\r\n\r\n    new B().show(myActivityA);\r\n    \r\n    \r\n    private void show(AppCompactActivity myActivityA){\r\n       Intent c = new Intent(A.this, C.class);\r\n       myActivityA.startActivity(c);\r\n    }\r\n\r\n","title":"How to Start an AppCompatActivity from a non AppCompatActivity Class?","body":"<p>I suggest you to add a parameter to the <code>show()</code> method passing a reference to the activity A:</p>\n<pre><code>new B().show(myActivityA);\n\n\nprivate void show(AppCompactActivity myActivityA){\n   Intent c = new Intent(A.this, C.class);\n   myActivityA.startActivity(c);\n}\n</code></pre>\n"}],"owner":{"account_id":27491699,"reputation":3,"user_id":20976944,"display_name":"Catarina Mota"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75186864,"answer_count":1,"score":0,"last_activity_date":1674655130,"creation_date":1674232197,"question_id":75186812,"body_markdown":"[Classes](https://i.stack.imgur.com/rnRi5.png)\r\n\r\nLet&#39;s say I have my main activity A that is a AppCompactActivity, I want in this class A (for example in OnCrete) to do:\r\n```\r\nnew B().show();\r\n```\r\n\r\nClass B would have a method show like :\r\n```\r\nprivate void show(){\r\n   Intent c = new Intent(A.this, C.class);\r\n   startActivity(c);\r\n}\r\n```\r\n\r\nHow can I make this work?\r\n\r\nI tried to do the implementation above.","title":"How to Start an AppCompatActivity from a non AppCompatActivity Class?","body":"<p><a href=\"https://i.stack.imgur.com/rnRi5.png\" rel=\"nofollow noreferrer\">Classes</a></p>\n<p>Let's say I have my main activity A that is a AppCompactActivity, I want in this class A (for example in OnCrete) to do:</p>\n<pre><code>new B().show();\n</code></pre>\n<p>Class B would have a method show like :</p>\n<pre><code>private void show(){\n   Intent c = new Intent(A.this, C.class);\n   startActivity(c);\n}\n</code></pre>\n<p>How can I make this work?</p>\n<p>I tried to do the implementation above.</p>\n"},{"tags":["java","selenium","junit","cucumber"],"comments":[{"owner":{"account_id":2869041,"reputation":4363,"user_id":2462759,"accept_rate":52,"display_name":"paul"},"score":1,"creation_date":1510585339,"post_id":43315248,"comment_id":81485273,"body_markdown":"Me too facing same problem. Screenshot captured but do not appear as attachment in allure report. I am using Java+Maven+TestNG+Allure.","body":"Me too facing same problem. Screenshot captured but do not appear as attachment in allure report. I am using Java+Maven+TestNG+Allure."}],"answers":[{"comments":[{"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"score":0,"creation_date":1491801553,"post_id":43315367,"comment_id":73695558,"body_markdown":"Sorry, one thing is still not clear - what is CONTEXT variable?","body":"Sorry, one thing is still not clear - what is CONTEXT variable?"},{"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"score":0,"creation_date":1491803220,"post_id":43315367,"comment_id":73696086,"body_markdown":"Sorry, but this stuff didn&#39;t help","body":"Sorry, but this stuff didn&#39;t help"},{"owner":{"account_id":3740129,"reputation":184,"user_id":3110058,"display_name":"Amit Malik"},"score":0,"creation_date":1491803294,"post_id":43315367,"comment_id":73696103,"body_markdown":"what is the issue you are facing?","body":"what is the issue you are facing?"},{"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"score":0,"creation_date":1491803577,"post_id":43315367,"comment_id":73696194,"body_markdown":"Still the same thing - no screenshot in report))","body":"Still the same thing - no screenshot in report))"}],"tags":[],"owner":{"account_id":3740129,"reputation":184,"user_id":3110058,"display_name":"Amit Malik"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491801732,"creation_date":1491801059,"answer_id":43315367,"question_id":43315248,"body_markdown":"In the GlobalGlue\r\n\r\n    public class GlobalGlue {\r\n\r\n      @Before\r\n      public void before(Scenario scenario) throws Exception {\r\n        CONTEXT.setScenario(scenario);\r\n      }\r\n\r\n      @After\r\n      public void after() {\r\n        WebDriverUtility.after(getDriver(), CONTEXT.getScenario());\r\n      }\r\n\r\n    }\r\n\r\nCreate another class WebDriverUtility and in that add method:\r\n\r\n    public static void after(WebDriver driver, Scenario scenario) {\r\n      getScreenshot(driver, scenario);\r\n      driver.close();\r\n    }\r\n\r\nand \r\n\r\n    public static void getScreenshot(WebDriver driver, Scenario scenario) {\r\n    if (scenario.isFailed()) {\r\n      final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n      scenario.embed(screenshot, &quot;image/png&quot;);\r\n      log.info(&quot;Thread: &quot; + Thread.currentThread().getId() + &quot; :: &quot;\r\n          + &quot;Screenshot taken and inserted in scenario report&quot;);\r\n    }\r\n  }\r\n\r\nthe main part is you need to embed the screen shot in scenario when scenario is failed:\r\n\r\n     final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n     scenario.embed(screenshot, &quot;image/png&quot;);\r\n\r\nExecutionContext.java\r\n\r\n     \r\n    import com.google.common.cache.CacheBuilder;\r\n    import com.google.common.cache.CacheLoader;\r\n    import com.google.common.cache.LoadingCache;\r\n    import cucumber.api.Scenario;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    import java.util.Map;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ExecutionException;\r\n\r\n    /**\r\n     * Maintains one webdriver per scenario and one scenario per thread.\r\n     * Can be used for parallel execution.\r\n     * Assumes that scenarios within one feature are not parallel.\r\n     * Can be rewritten using &lt;code&gt;ThreadLocal&lt;/code&gt;.\r\n     *\r\n     * @author dkhvatov\r\n     */\r\n    public enum ExecutionContext {\r\n\r\n      CONTEXT;\r\n\r\n      private static final Logger log = LogManager.getLogger(ExecutionContext.class);\r\n\r\n      private final LoadingCache&lt;Scenario, WebDriver&gt; webDrivers =\r\n        CacheBuilder.newBuilder()\r\n          .build(CacheLoader.from(scenario -&gt;\r\n            WebDriverUtility.createDriver()));\r\n\r\n      private final Map&lt;String, Scenario&gt; scenarios = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\r\n      /**\r\n       * Lazily gets a webdriver for the current scenario.\r\n       *\r\n       * @return webdriver\r\n       */\r\n      public WebDriver getDriver() {\r\n        try {\r\n          Scenario scenario = getScenario();\r\n          if (scenario == null) {\r\n            throw new IllegalStateException(&quot;Scenario is not set for context. &quot; +\r\n              &quot;Please verify your glue settings. Either use GlobalGlue, or set &quot; +\r\n              &quot;scenario manually: CONTEXT.setScenario(scenario)&quot;);\r\n          }\r\n          return webDrivers.get(scenario);\r\n        } catch (ExecutionException e) {\r\n          log.error(&quot;Unable to start webdriver&quot;, e);\r\n          throw new RuntimeException(e);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Gets scenario for a current thread.\r\n       *\r\n       * @return scenario\r\n       */\r\n      public Scenario getScenario() {\r\n        return scenarios.get(Thread.currentThread().getName());\r\n      }\r\n\r\n      /**\r\n       * Sets current scenario. Overwrites current scenario in a map.\r\n       *\r\n       * @param scenario scenario\r\n       */\r\n      public void setScenario(Scenario scenario) {\r\n        scenarios.put(Thread.currentThread().getName(), scenario);\r\n      }\r\n\r\n    }\r\n","title":"How take screenshot and attach it to Allure report, while using Cucumber and JUnit?","body":"<p>In the GlobalGlue</p>\n\n<pre><code>public class GlobalGlue {\n\n  @Before\n  public void before(Scenario scenario) throws Exception {\n    CONTEXT.setScenario(scenario);\n  }\n\n  @After\n  public void after() {\n    WebDriverUtility.after(getDriver(), CONTEXT.getScenario());\n  }\n\n}\n</code></pre>\n\n<p>Create another class WebDriverUtility and in that add method:</p>\n\n<pre><code>public static void after(WebDriver driver, Scenario scenario) {\n  getScreenshot(driver, scenario);\n  driver.close();\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public static void getScreenshot(WebDriver driver, Scenario scenario) {\nif (scenario.isFailed()) {\n  final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n  scenario.embed(screenshot, \"image/png\");\n  log.info(\"Thread: \" + Thread.currentThread().getId() + \" :: \"\n      + \"Screenshot taken and inserted in scenario report\");\n}\n</code></pre>\n\n<p>}</p>\n\n<p>the main part is you need to embed the screen shot in scenario when scenario is failed:</p>\n\n<pre><code> final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n scenario.embed(screenshot, \"image/png\");\n</code></pre>\n\n<p>ExecutionContext.java</p>\n\n<pre><code>import com.google.common.cache.CacheBuilder;\nimport com.google.common.cache.CacheLoader;\nimport com.google.common.cache.LoadingCache;\nimport cucumber.api.Scenario;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.openqa.selenium.WebDriver;\n\nimport java.util.Map;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutionException;\n\n/**\n * Maintains one webdriver per scenario and one scenario per thread.\n * Can be used for parallel execution.\n * Assumes that scenarios within one feature are not parallel.\n * Can be rewritten using &lt;code&gt;ThreadLocal&lt;/code&gt;.\n *\n * @author dkhvatov\n */\npublic enum ExecutionContext {\n\n  CONTEXT;\n\n  private static final Logger log = LogManager.getLogger(ExecutionContext.class);\n\n  private final LoadingCache&lt;Scenario, WebDriver&gt; webDrivers =\n    CacheBuilder.newBuilder()\n      .build(CacheLoader.from(scenario -&gt;\n        WebDriverUtility.createDriver()));\n\n  private final Map&lt;String, Scenario&gt; scenarios = new ConcurrentHashMap&lt;&gt;();\n\n\n  /**\n   * Lazily gets a webdriver for the current scenario.\n   *\n   * @return webdriver\n   */\n  public WebDriver getDriver() {\n    try {\n      Scenario scenario = getScenario();\n      if (scenario == null) {\n        throw new IllegalStateException(\"Scenario is not set for context. \" +\n          \"Please verify your glue settings. Either use GlobalGlue, or set \" +\n          \"scenario manually: CONTEXT.setScenario(scenario)\");\n      }\n      return webDrivers.get(scenario);\n    } catch (ExecutionException e) {\n      log.error(\"Unable to start webdriver\", e);\n      throw new RuntimeException(e);\n    }\n  }\n\n  /**\n   * Gets scenario for a current thread.\n   *\n   * @return scenario\n   */\n  public Scenario getScenario() {\n    return scenarios.get(Thread.currentThread().getName());\n  }\n\n  /**\n   * Sets current scenario. Overwrites current scenario in a map.\n   *\n   * @param scenario scenario\n   */\n  public void setScenario(Scenario scenario) {\n    scenarios.put(Thread.currentThread().getName(), scenario);\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491803747,"creation_date":1491803747,"answer_id":43315863,"question_id":43315248,"body_markdown":"The solution is just to add following code to your definition classes:\r\n\r\n    @After\r\n    public void embedScreenshot(Scenario scenario) {\r\n        if (scenario.isFailed()) {\r\n            try {\r\n                byte[] screenshot = ((TakesScreenshot) Application.getInstance().getWebDriver())\r\n                        .getScreenshotAs(OutputType.BYTES);\r\n                scenario.embed(screenshot, &quot;image/png&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How take screenshot and attach it to Allure report, while using Cucumber and JUnit?","body":"<p>The solution is just to add following code to your definition classes:</p>\n\n<pre><code>@After\npublic void embedScreenshot(Scenario scenario) {\n    if (scenario.isFailed()) {\n        try {\n            byte[] screenshot = ((TakesScreenshot) Application.getInstance().getWebDriver())\n                    .getScreenshotAs(OutputType.BYTES);\n            scenario.embed(screenshot, \"image/png\");\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5560513,"reputation":385,"user_id":4409991,"accept_rate":80,"display_name":"George Marin"},"score":0,"creation_date":1580576826,"post_id":57490197,"comment_id":106146368,"body_markdown":"You don&#39;t need to convert to ByteArray, just mention the output type to bytes.     `public byte[] takeScreenshot() {\n        return ((TakesScreenshot) webDriver).getScreenshotAs(OutputType.BYTES);\n    }`","body":"You don&#39;t need to convert to ByteArray, just mention the output type to bytes.     <code>public byte[] takeScreenshot() {         return ((TakesScreenshot) webDriver).getScreenshotAs(OutputType.BYTES);     }</code>"}],"tags":[],"owner":{"account_id":3340565,"reputation":1007,"user_id":2806948,"accept_rate":78,"display_name":"Chinthaka Devinda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565768479,"creation_date":1565768479,"answer_id":57490197,"question_id":43315248,"body_markdown":"This way you can attach screens to your allure report.\r\nAlso use the Latest allure version in your pom file\r\n\r\n        \r\n\r\n    \r\n    import com.google.common.io.Files;\r\n    import io.qameta.allure.Attachment;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class ScreenshotUtils {\r\n        @Attachment(type = &quot;image/png&quot;)\r\n        public static byte[] screenshot(WebDriver driver)/* throws IOException */ {\r\n            try {\r\n                File screen = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n                return Files.toByteArray(screen);\r\n            } catch (IOException e) {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nPom File :\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-cucumber4-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;${allure.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"How take screenshot and attach it to Allure report, while using Cucumber and JUnit?","body":"<p>This way you can attach screens to your allure report.\nAlso use the Latest allure version in your pom file</p>\n\n<pre><code>import com.google.common.io.Files;\nimport io.qameta.allure.Attachment;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class ScreenshotUtils {\n    @Attachment(type = \"image/png\")\n    public static byte[] screenshot(WebDriver driver)/* throws IOException */ {\n        try {\n            File screen = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n            return Files.toByteArray(screen);\n        } catch (IOException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Pom File :</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-cucumber4-jvm&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\n        &lt;version&gt;${allure.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27609678,"reputation":1,"user_id":21073071,"display_name":"user21073071"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674655035,"creation_date":1674655035,"answer_id":75235061,"question_id":43315248,"body_markdown":"    public static void TakeScreenshot(string text)\r\n            {\r\n                byte[] content = ((ITakesScreenshot)driver).GetScreenshot().AsByteArray;\r\n                AllureLifecycle.Instance.AddAttachment(text, &quot;image/png&quot;, content);\r\n            }\r\n    public static void Write(By by, string text)\r\n            {\r\n                try\r\n                {\r\n                    driver.FindElement(by).SendKeys(text);\r\n                    TakeScreenshot( &quot;Write : &quot; + text);\r\n                }\r\n                catch (Exception ex)\r\n                {\r\n                    TakeScreenshot( &quot;Write Failed : &quot; + ex.ToString());\r\n                    Assert.Fail();\r\n                }\r\n            }","title":"How take screenshot and attach it to Allure report, while using Cucumber and JUnit?","body":"<pre><code>public static void TakeScreenshot(string text)\n        {\n            byte[] content = ((ITakesScreenshot)driver).GetScreenshot().AsByteArray;\n            AllureLifecycle.Instance.AddAttachment(text, &quot;image/png&quot;, content);\n        }\npublic static void Write(By by, string text)\n        {\n            try\n            {\n                driver.FindElement(by).SendKeys(text);\n                TakeScreenshot( &quot;Write : &quot; + text);\n            }\n            catch (Exception ex)\n            {\n                TakeScreenshot( &quot;Write Failed : &quot; + ex.ToString());\n                Assert.Fail();\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":3990598,"reputation":2191,"user_id":3289673,"accept_rate":64,"display_name":"SanchelliosProg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17730,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1674655035,"creation_date":1491800254,"question_id":43315248,"body_markdown":"I&#39;m using Cucumber, Selenium, Java, Maven and JUnit stack in my automation-test-project. \r\n\r\nThe goal is to take screenshots on fails and broken tests. I have found the solution for Java/Maven/JUnit stack:\r\n\r\n    @Rule\r\n    public TestWatcher screenshotOnFailure = new TestWatcher() {\r\n        @Override\r\n        protected void failed(Throwable e, Description description) {\r\n            makeScreenshotOnFailure();\r\n        }\r\n    \r\n        @Attachment(&quot;Screenshot on failure&quot;)\r\n        public byte[] makeScreenshotOnFailure() {\r\n            return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        }\r\n    };\r\n\r\nBut, of course it does not work in case of using Cucumber, because it does not use any @Test methods. \r\n\r\nSo, I&#39;ve decided to change @Rule to @ClassRule, to make it listen to any fails, so here it is:\r\n\r\n    @ClassRule\r\n    public static TestWatcher screenshotOnFailure = new TestWatcher() {\r\n        @Override\r\n        protected void failed(Throwable e, Description description) {\r\n            makeScreenshotOnFailure();\r\n        }\r\n    \r\n        @Attachment(&quot;Screenshot on failure&quot;)\r\n        public byte[] makeScreenshotOnFailure() {\r\n            logger.debug(&quot;Taking screenshot&quot;);\r\n            return ((TakesScreenshot) Application.getInstance().getWebDriver()).getScreenshotAs(OutputType.BYTES);\r\n        }\r\n    };\r\n\r\nAnd this solution didn&#39;t help me. \r\n\r\nSo, the question is: &quot;How to attach screenshots on fail, when I use Java/Selenium/Cucumber/JUnit/Maven in my test project?&quot; ","title":"How take screenshot and attach it to Allure report, while using Cucumber and JUnit?","body":"<p>I'm using Cucumber, Selenium, Java, Maven and JUnit stack in my automation-test-project. </p>\n\n<p>The goal is to take screenshots on fails and broken tests. I have found the solution for Java/Maven/JUnit stack:</p>\n\n<pre><code>@Rule\npublic TestWatcher screenshotOnFailure = new TestWatcher() {\n    @Override\n    protected void failed(Throwable e, Description description) {\n        makeScreenshotOnFailure();\n    }\n\n    @Attachment(\"Screenshot on failure\")\n    public byte[] makeScreenshotOnFailure() {\n        return ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n    }\n};\n</code></pre>\n\n<p>But, of course it does not work in case of using Cucumber, because it does not use any @Test methods. </p>\n\n<p>So, I've decided to change @Rule to @ClassRule, to make it listen to any fails, so here it is:</p>\n\n<pre><code>@ClassRule\npublic static TestWatcher screenshotOnFailure = new TestWatcher() {\n    @Override\n    protected void failed(Throwable e, Description description) {\n        makeScreenshotOnFailure();\n    }\n\n    @Attachment(\"Screenshot on failure\")\n    public byte[] makeScreenshotOnFailure() {\n        logger.debug(\"Taking screenshot\");\n        return ((TakesScreenshot) Application.getInstance().getWebDriver()).getScreenshotAs(OutputType.BYTES);\n    }\n};\n</code></pre>\n\n<p>And this solution didn't help me. </p>\n\n<p>So, the question is: \"How to attach screenshots on fail, when I use Java/Selenium/Cucumber/JUnit/Maven in my test project?\" </p>\n"},{"tags":["java","jpos"],"answers":[{"comments":[{"owner":{"account_id":68343,"reputation":12400,"user_id":806076,"accept_rate":61,"display_name":"Mubashar"},"score":0,"creation_date":1380515091,"post_id":19086147,"comment_id":28215894,"body_markdown":"Yes I have seen that, what you suggest?","body":"Yes I have seen that, what you suggest?"},{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":0,"creation_date":1380515741,"post_id":19086147,"comment_id":28216005,"body_markdown":"Do not exceed the length","body":"Do not exceed the length"},{"owner":{"account_id":68343,"reputation":12400,"user_id":806076,"accept_rate":61,"display_name":"Mubashar"},"score":0,"creation_date":1380519494,"post_id":19086147,"comment_id":28216869,"body_markdown":":) that is what i am already doing to avoid this any suggestion on changing the channels, like this problem is with ASCIChannel is there any other channel which allows larger size messages?","body":":) that is what i am already doing to avoid this any suggestion on changing the channels, like this problem is with ASCIChannel is there any other channel which allows larger size messages?"},{"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"score":0,"creation_date":1380522855,"post_id":19086147,"comment_id":28217958,"body_markdown":"Please see updated answer, you should do your own trimming if you don&#39;t want exceptions to be thrown","body":"Please see updated answer, you should do your own trimming if you don&#39;t want exceptions to be thrown"}],"tags":[],"owner":{"account_id":60096,"reputation":40513,"user_id":179630,"accept_rate":64,"display_name":"gerrytan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380522834,"creation_date":1380512457,"answer_id":19086147,"question_id":19086031,"body_markdown":"Please see the [source code for AsciiChannel class][1], length is capped at maximum 9999\r\n\r\n    /**\r\n     * @param len the packed Message len\r\n     * @exception IOException\r\n     */\r\n    protected void sendMessageLength(int len) throws IOException {\r\n        if (len &gt; 9999)\r\n            throw new IOException (&quot;len exceeded&quot;);\r\n\r\n        try {\r\n            serverOut.write(\r\n                ISOUtil.zeropad(Integer.toString(len), 4).getBytes()\r\n            );\r\n        } catch (ISOException e) { }\r\n    }\r\n\r\nAlso the `checkLength()` method you call isn&#39;t actually trimming the length, it only threw exception when the content is too long. if you don&#39;t want exceptions then don&#39;t call this method / capture the exception and trim it\r\n\r\n     protected void checkLength(int len, int maxLength) throws IllegalArgumentException\r\n        {\r\n            if (len &gt; maxLength)\r\n            {\r\n                throw new IllegalArgumentException(&quot;Length &quot; + len + &quot; too long for &quot; + getClass().getName());\r\n            }\r\n        }\r\n\r\n  [1]: https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/ASCIIChannel.java\r\n\r\n\r\n","title":"Implementing IFB_LLLLCHAR","body":"<p>Please see the <a href=\"https://github.com/jpos/jPOS/blob/master/jpos/src/main/java/org/jpos/iso/channel/ASCIIChannel.java\" rel=\"nofollow\">source code for AsciiChannel class</a>, length is capped at maximum 9999</p>\n\n<pre><code>/**\n * @param len the packed Message len\n * @exception IOException\n */\nprotected void sendMessageLength(int len) throws IOException {\n    if (len &gt; 9999)\n        throw new IOException (\"len exceeded\");\n\n    try {\n        serverOut.write(\n            ISOUtil.zeropad(Integer.toString(len), 4).getBytes()\n        );\n    } catch (ISOException e) { }\n}\n</code></pre>\n\n<p>Also the <code>checkLength()</code> method you call isn't actually trimming the length, it only threw exception when the content is too long. if you don't want exceptions then don't call this method / capture the exception and trim it</p>\n\n<pre><code> protected void checkLength(int len, int maxLength) throws IllegalArgumentException\n    {\n        if (len &gt; maxLength)\n        {\n            throw new IllegalArgumentException(\"Length \" + len + \" too long for \" + getClass().getName());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3824152,"reputation":56,"user_id":3171381,"display_name":"Vishy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1389148088,"creation_date":1389148088,"answer_id":20985905,"question_id":19086031,"body_markdown":"The total length of the complete message cannot exceed 9999 using the AsciiChannel (like @gerrytan already pointed out).\r\n\r\nThe AsciiChannel assumes a protocol where the first four bytes are the ASCII value of the length digits.\r\n\r\nYou might want to look at HEXChannel or NACChannel as they can accommodate larger lengths. HEXChannel and NACChannel allow length up to 0xFFFF.","title":"Implementing IFB_LLLLCHAR","body":"<p>The total length of the complete message cannot exceed 9999 using the AsciiChannel (like @gerrytan already pointed out).</p>\n\n<p>The AsciiChannel assumes a protocol where the first four bytes are the ASCII value of the length digits.</p>\n\n<p>You might want to look at HEXChannel or NACChannel as they can accommodate larger lengths. HEXChannel and NACChannel allow length up to 0xFFFF.</p>\n"},{"comments":[{"owner":{"account_id":68343,"reputation":12400,"user_id":806076,"accept_rate":61,"display_name":"Mubashar"},"score":0,"creation_date":1391125980,"post_id":21455356,"comment_id":32403425,"body_markdown":"Thanks for this, All your suggestion are true and has already been implemented.","body":"Thanks for this, All your suggestion are true and has already been implemented."}],"tags":[],"owner":{"account_id":535384,"reputation":442,"user_id":904910,"accept_rate":71,"display_name":"chhil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391081687,"creation_date":1391081687,"answer_id":21455356,"question_id":19086031,"body_markdown":"The channel definition is something that you have agreed with the system you are talking to. If you need to send more than 9999 you need to change the channel as mentioned in earlier response and so does the other entity. Both sides of the communication need to make sure that they have the same understanding of what the length header is to extract the full message.\r\n\r\nOptions you have \r\n\r\n - Both sides fo the communication channel update the size that can be sent or received by using a different channel.\r\n - You compress the large data encoded as base64, assuming the other side of the comm channel is told about this change so that they can handle it.\r\n - Sometimes the specification/protocol indicates how one can split this data into multiple requests, see if thats available.","title":"Implementing IFB_LLLLCHAR","body":"<p>The channel definition is something that you have agreed with the system you are talking to. If you need to send more than 9999 you need to change the channel as mentioned in earlier response and so does the other entity. Both sides of the communication need to make sure that they have the same understanding of what the length header is to extract the full message.</p>\n\n<p>Options you have </p>\n\n<ul>\n<li>Both sides fo the communication channel update the size that can be sent or received by using a different channel.</li>\n<li>You compress the large data encoded as base64, assuming the other side of the comm channel is told about this change so that they can handle it.</li>\n<li>Sometimes the specification/protocol indicates how one can split this data into multiple requests, see if thats available.</li>\n</ul>\n"}],"owner":{"account_id":68343,"reputation":12400,"user_id":806076,"accept_rate":61,"display_name":"Mubashar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20985905,"answer_count":3,"score":0,"last_activity_date":1674654908,"creation_date":1380511640,"question_id":19086031,"body_markdown":"We are using jpos server with ASCIChannel and custom package which contains one field with max length 9999. To do this we implemented IFB_LLLLCHAR as follows:\r\n\r\n    public class IFB_LLLLCHAR extends ISOStringFieldPackager {\r\n        public IFB_LLLLCHAR() {\r\n            super(NullPadder.INSTANCE, AsciiInterpreter.INSTANCE, BcdPrefixer.LLLL);\r\n        }\r\n        \r\n        public IFB_LLLLCHAR(int len, String description) {\r\n            super(len, description, NullPadder.INSTANCE, AsciiInterpreter.INSTANCE, BcdPrefixer.LLLL);\r\n            checkLength(len, 9999);\r\n        }\r\n    \r\n        public void setLength(int len)\r\n        {\r\n            checkLength(len, 9999);\r\n            super.setLength(len);\r\n        }\r\n    }\r\n\r\nThe problem is that I couldn&#39;t use the whole 9999 because if the size of whole message goes over 9999 it throws the following exception while sending it:\r\n \r\n\r\n    &lt;exception name=&quot;len exceeded&quot;&gt;\r\n        java.io.IOException: len exceeded\r\n    \tat org.jpos.iso.channel.ASCIIChannel.sendMessageLength(ASCIIChannel.java:80)\r\n    \tat org.jpos.iso.BaseChannel.send(BaseChannel.java:528)\r\n    \tat com.advam.gateway.terminalmanagementserver.gateway.LogUploadFuncTest.testLogUpload(LogUploadFuncTest.java:39)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat junit.framework.TestCase.runTest(TestCase.java:154)\r\n    \tat junit.framework.TestCase.runBare(TestCase.java:127)\r\n    \tat junit.framework.TestResult$1.protect(TestResult.java:106)\r\n    \tat junit.framework.TestResult.runProtected(TestResult.java:124)\r\n    \tat junit.framework.TestResult.run(TestResult.java:109)\r\n    \tat junit.framework.TestCase.run(TestCase.java:118)\r\n    \tat org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n        &lt;/exception&gt;\r\n\r\nWhy am I getting this exception, and how to fix it? I don&#39;t have much knowledge about inside of jpos.\r\n","title":"Implementing IFB_LLLLCHAR","body":"<p>We are using jpos server with ASCIChannel and custom package which contains one field with max length 9999. To do this we implemented IFB_LLLLCHAR as follows:</p>\n<pre><code>public class IFB_LLLLCHAR extends ISOStringFieldPackager {\n    public IFB_LLLLCHAR() {\n        super(NullPadder.INSTANCE, AsciiInterpreter.INSTANCE, BcdPrefixer.LLLL);\n    }\n    \n    public IFB_LLLLCHAR(int len, String description) {\n        super(len, description, NullPadder.INSTANCE, AsciiInterpreter.INSTANCE, BcdPrefixer.LLLL);\n        checkLength(len, 9999);\n    }\n\n    public void setLength(int len)\n    {\n        checkLength(len, 9999);\n        super.setLength(len);\n    }\n}\n</code></pre>\n<p>The problem is that I couldn't use the whole 9999 because if the size of whole message goes over 9999 it throws the following exception while sending it:</p>\n<pre><code>&lt;exception name=&quot;len exceeded&quot;&gt;\n    java.io.IOException: len exceeded\n    at org.jpos.iso.channel.ASCIIChannel.sendMessageLength(ASCIIChannel.java:80)\n    at org.jpos.iso.BaseChannel.send(BaseChannel.java:528)\n    at com.advam.gateway.terminalmanagementserver.gateway.LogUploadFuncTest.testLogUpload(LogUploadFuncTest.java:39)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at junit.framework.TestCase.runTest(TestCase.java:154)\n    at junit.framework.TestCase.runBare(TestCase.java:127)\n    at junit.framework.TestResult$1.protect(TestResult.java:106)\n    at junit.framework.TestResult.runProtected(TestResult.java:124)\n    at junit.framework.TestResult.run(TestResult.java:109)\n    at junit.framework.TestCase.run(TestCase.java:118)\n    at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n    &lt;/exception&gt;\n</code></pre>\n<p>Why am I getting this exception, and how to fix it? I don't have much knowledge about inside of jpos.</p>\n"},{"tags":["java","database","spring-boot","entity"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674643912,"post_id":75232879,"comment_id":132756876,"body_markdown":"have you tried?","body":"have you tried?"},{"owner":{"account_id":3284701,"reputation":39,"user_id":2764467,"display_name":"Confusion"},"score":0,"creation_date":1674644005,"post_id":75232879,"comment_id":132756917,"body_markdown":"Yes, got the exception as org.hibernate.engine.jdbc.spi.SqlExceptionHelper [ForkJoinPool.commonPool-worker-1] (conn=4760) Unknown column &#39;student_.age&#39; in &#39;field list&#39;","body":"Yes, got the exception as org.hibernate.engine.jdbc.spi.SqlExceptionHelper [ForkJoinPool.commonPool-worker-1] (conn=4760) Unknown column &#39;student_.age&#39; in &#39;field list&#39;"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1674644181,"post_id":75232879,"comment_id":132756987,"body_markdown":"Why would you want to do that? Even if possible, how will you insert/update data in those columns then? If you need to send partial data in some response, then use dtos or projections.","body":"Why would you want to do that? Even if possible, how will you insert/update data in those columns then? If you need to send partial data in some response, then use dtos or projections."},{"owner":{"account_id":3284701,"reputation":39,"user_id":2764467,"display_name":"Confusion"},"score":0,"creation_date":1674652406,"post_id":75232879,"comment_id":132759564,"body_markdown":"I will add explicit select and update queries. I want to avoid a param(holds xml) to get loaded to memory while fetching data from the table.","body":"I will add explicit select and update queries. I want to avoid a param(holds xml) to get loaded to memory while fetching data from the table."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1674654936,"post_id":75232879,"comment_id":132760530,"body_markdown":"In general it&#39;s allowed. Would need your complete code to reproduce the issue.","body":"In general it&#39;s allowed. Would need your complete code to reproduce the issue."}],"owner":{"account_id":3284701,"reputation":39,"user_id":2764467,"display_name":"Confusion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674654816,"creation_date":1674643848,"question_id":75232879,"body_markdown":"I have a Student table with Columns name, age, gender and address.\r\nIs it possible to create a Java POJO class with `@Entity` annotation and \r\nhave only name and address in it?\r\n\r\n    @Entity\r\n    @Table(name=&quot;Student&quot;)\r\n    public class Student {\r\n    \r\n      @Column(name = &quot;name&quot;)\r\n      String name;\r\n    \r\n      @Column(name=&quot;address&quot;)\r\n      String address;\r\n    }\r\n\r\nI am new to Spring boot and searched a bit around this but couldn&#39;t get any specific answer.","title":"Information on Entity Class","body":"<p>I have a Student table with Columns name, age, gender and address.\nIs it possible to create a Java POJO class with <code>@Entity</code> annotation and\nhave only name and address in it?</p>\n<pre><code>@Entity\n@Table(name=&quot;Student&quot;)\npublic class Student {\n\n  @Column(name = &quot;name&quot;)\n  String name;\n\n  @Column(name=&quot;address&quot;)\n  String address;\n}\n</code></pre>\n<p>I am new to Spring boot and searched a bit around this but couldn't get any specific answer.</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","converters"],"answers":[{"tags":[],"owner":{"account_id":6356432,"reputation":131,"user_id":4933529,"accept_rate":27,"display_name":"Tommeck37"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653210206,"creation_date":1653210206,"answer_id":72336145,"question_id":72328421,"body_markdown":"I managed to resolve the issue in an ugly way.\r\nBy adding property to category object it allowed to push the contnent of the form to the controller.\r\n\r\n&lt;br&gt;\r\n&lt;form:select path=&quot;category.id&quot; items=&quot;${categories}&quot; itemLabel=&quot;fullNameCategory&quot; itemValue=&quot;id&quot;/&gt;\r\n&lt;form:errors path=&quot;category.id&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n\r\n&lt;br&gt;","title":"spring boot String converter to Object fails","body":"<p>I managed to resolve the issue in an ugly way.\nBy adding property to category object it allowed to push the contnent of the form to the controller.</p>\n<br>\n\n<br>\n<br>\n"}],"owner":{"account_id":6356432,"reputation":131,"user_id":4933529,"accept_rate":27,"display_name":"Tommeck37"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674654787,"creation_date":1653126364,"question_id":72328421,"body_markdown":"I am building an app where I need to display list of  categories to select from drop-down menu. What I do is:\r\n\r\n     @ModelAttribute(&quot;categories&quot;)\r\n    public List&lt;Category&gt; getAllCategories(){\r\n        return categoryRepository.findAll();\r\n    }\r\n\r\nI have entities: Product, Category - they are ManyToOne (products-&gt;category).\r\nWhen I select any of the drop-down options I get :\r\n\r\n     Failed to convert property value of type java.lang.String to required type com.slodkacysia.bakeryshop.entity.Category for property category; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.persistence.ManyToOne com.slodkacysia.bakeryshop.entity.Category] for value 2; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.slodkacysia.bakeryshop.entity.Category. Expected: class java.lang.Long, got class java.lang.Integer; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.slodkacysia.bakeryshop.entity.Category. Expected: class java.lang.Long, got class java.lang.Integer\r\n\r\nI have tried with the following converter:\r\n\r\n    @Configuration\r\n    public class WebAppConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n    \r\n        }\r\n        @Override\r\n        public void addFormatters(FormatterRegistry registry) {\r\n            registry.addConverter(CategoryConverter());\r\n        }\r\n        @Bean\r\n        public Converter CategoryConverter(){\r\n            return new CategoryConverter();\r\n        }\r\n    }\r\n\r\n\r\n    import com.slodkacysia.bakeryshop.entity.Category;\r\n    import com.slodkacysia.bakeryshop.repository.CategoryRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.convert.converter.Converter;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    @Component\r\n    public class CategoryConverter implements Converter&lt;String, List&lt;Category&gt;&gt; {\r\n    \r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n    \r\n    \r\n        @Override\r\n        public List&lt;Category&gt; convert(String s) {\r\n            List&lt;Category&gt; result = new ArrayList&lt;&gt;();\r\n            result.add(categoryRepository.findById(Long.parseLong(s)));\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nentities:\r\n\r\n    package com.slodkacysia.bakeryshop.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    import javax.persistence.*;\r\n    import java.math.BigDecimal;\r\n    import java.util.List;\r\n    \r\n    @Entity\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n    \r\n        private String name;\r\n        private String description;\r\n    \r\n        private String image_url;\r\n    \r\n        private BigDecimal price;\r\n    \r\n        public List&lt;CartItem&gt; getCartItems() {\r\n            return cartItems;\r\n        }\r\n    \r\n        public void setCartItems(List&lt;CartItem&gt; cartItems) {\r\n            this.cartItems = cartItems;\r\n        }\r\n        @ManyToOne\r\n        private Category category;\r\n    \r\n        @OneToMany(mappedBy = &quot;product&quot;)\r\n        private List&lt;CartItem&gt; cartItems;\r\n    \r\n        public Category getCategory() {\r\n            return category;\r\n        }\r\n    \r\n        public void setCategory(Category category) {\r\n            this.category = category;\r\n        }\r\n    \r\n        private Integer available_quantity;\r\n    \r\n    \r\n    \r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getImage_url() {\r\n            return image_url;\r\n        }\r\n    \r\n        public void setImage_url(String image_url) {\r\n            this.image_url = image_url;\r\n        }\r\n    \r\n        public BigDecimal getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(BigDecimal price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public Integer getAvailable_quantity() {\r\n            return available_quantity;\r\n        }\r\n    \r\n        public void setAvailable_quantity(Integer available_quantity) {\r\n            this.available_quantity = available_quantity;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    package com.slodkacysia.bakeryshop.entity;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        private String name;\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n        public String getFullNameCategory() {\r\n            return name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Category{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\nand view:\r\n\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\r\n    &lt;%@ taglib prefix=&quot;sec&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Product administration&lt;/title&gt;\r\n        &lt;style&gt;\r\n            .error {\r\n                color: red;\r\n            }\r\n        &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    &lt;a&gt;\r\n        &lt;%@include file=&quot;/WEB-INF/header.jsp&quot; %&gt;&lt;/a&gt;&lt;br&gt;\r\n    &lt;%--@elvariable id=&quot;product&quot; type=&quot;pl.coderslab.entity.Product&quot;--%&gt;\r\n    &lt;form:form modelAttribute=&quot;product&quot; &gt;\r\n        Nazwa &lt;form:input path=&quot;name&quot;/&gt;\r\n        &lt;form:errors path=&quot;name&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        Opis &lt;form:input path=&quot;description&quot; /&gt;\r\n        &lt;form:errors path=&quot;description&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        Image URL &lt;form:input path=&quot;image_url&quot; /&gt;\r\n        &lt;form:errors path=&quot;image_url&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        &lt;br/&gt;\r\n    \r\n        Price &lt;form:input path=&quot;price&quot;/&gt;\r\n        &lt;form:errors path=&quot;price&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        &lt;br&gt;\r\n        Available Quantity &lt;form:input path=&quot;available_quantity&quot;/&gt;\r\n        &lt;form:errors path=&quot;available_quantity&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;form:select path=&quot;category&quot; items=&quot;${categories}&quot; itemLabel=&quot;fullNameCategory&quot; itemValue=&quot;id&quot;/&gt;\r\n        &lt;form:errors path=&quot;category&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;input type=&quot;submit&quot;&gt;\r\n    &lt;/form:form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nQuestion: what do I need to get rid of these errors? thank you","title":"spring boot String converter to Object fails","body":"<p>I am building an app where I need to display list of  categories to select from drop-down menu. What I do is:</p>\n<pre><code> @ModelAttribute(&quot;categories&quot;)\npublic List&lt;Category&gt; getAllCategories(){\n    return categoryRepository.findAll();\n}\n</code></pre>\n<p>I have entities: Product, Category - they are ManyToOne (products-&gt;category).\nWhen I select any of the drop-down options I get :</p>\n<pre><code> Failed to convert property value of type java.lang.String to required type com.slodkacysia.bakeryshop.entity.Category for property category; nested exception is org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@javax.persistence.ManyToOne com.slodkacysia.bakeryshop.entity.Category] for value 2; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Provided id of the wrong type for class com.slodkacysia.bakeryshop.entity.Category. Expected: class java.lang.Long, got class java.lang.Integer; nested exception is java.lang.IllegalArgumentException: Provided id of the wrong type for class com.slodkacysia.bakeryshop.entity.Category. Expected: class java.lang.Long, got class java.lang.Integer\n</code></pre>\n<p>I have tried with the following converter:</p>\n<pre><code>@Configuration\npublic class WebAppConfig implements WebMvcConfigurer {\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n\n    }\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(CategoryConverter());\n    }\n    @Bean\n    public Converter CategoryConverter(){\n        return new CategoryConverter();\n    }\n}\n\n\nimport com.slodkacysia.bakeryshop.entity.Category;\nimport com.slodkacysia.bakeryshop.repository.CategoryRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.convert.converter.Converter;\nimport org.springframework.stereotype.Component;\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n@Component\npublic class CategoryConverter implements Converter&lt;String, List&lt;Category&gt;&gt; {\n\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n\n\n    @Override\n    public List&lt;Category&gt; convert(String s) {\n        List&lt;Category&gt; result = new ArrayList&lt;&gt;();\n        result.add(categoryRepository.findById(Long.parseLong(s)));\n        return result;\n    }\n\n}\n</code></pre>\n<p>entities:</p>\n<pre><code>package com.slodkacysia.bakeryshop.entity;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport javax.persistence.*;\nimport java.math.BigDecimal;\nimport java.util.List;\n\n@Entity\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n\n    private String name;\n    private String description;\n\n    private String image_url;\n\n    private BigDecimal price;\n\n    public List&lt;CartItem&gt; getCartItems() {\n        return cartItems;\n    }\n\n    public void setCartItems(List&lt;CartItem&gt; cartItems) {\n        this.cartItems = cartItems;\n    }\n    @ManyToOne\n    private Category category;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;CartItem&gt; cartItems;\n\n    public Category getCategory() {\n        return category;\n    }\n\n    public void setCategory(Category category) {\n        this.category = category;\n    }\n\n    private Integer available_quantity;\n\n\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getImage_url() {\n        return image_url;\n    }\n\n    public void setImage_url(String image_url) {\n        this.image_url = image_url;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public Integer getAvailable_quantity() {\n        return available_quantity;\n    }\n\n    public void setAvailable_quantity(Integer available_quantity) {\n        this.available_quantity = available_quantity;\n    }\n}\n\n\n\npackage com.slodkacysia.bakeryshop.entity;\n\nimport javax.persistence.*;\n\n@Entity\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getFullNameCategory() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Category{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>and view:</p>\n<pre><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;\n&lt;%@ taglib prefix=&quot;sec&quot; uri=&quot;http://www.springframework.org/security/tags&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Product administration&lt;/title&gt;\n    &lt;style&gt;\n        .error {\n            color: red;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;a&gt;\n    &lt;%@include file=&quot;/WEB-INF/header.jsp&quot; %&gt;&lt;/a&gt;&lt;br&gt;\n&lt;%--@elvariable id=&quot;product&quot; type=&quot;pl.coderslab.entity.Product&quot;--%&gt;\n&lt;form:form modelAttribute=&quot;product&quot; &gt;\n    Nazwa &lt;form:input path=&quot;name&quot;/&gt;\n    &lt;form:errors path=&quot;name&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    Opis &lt;form:input path=&quot;description&quot; /&gt;\n    &lt;form:errors path=&quot;description&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    Image URL &lt;form:input path=&quot;image_url&quot; /&gt;\n    &lt;form:errors path=&quot;image_url&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    &lt;br/&gt;\n\n    Price &lt;form:input path=&quot;price&quot;/&gt;\n    &lt;form:errors path=&quot;price&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    &lt;br&gt;\n    Available Quantity &lt;form:input path=&quot;available_quantity&quot;/&gt;\n    &lt;form:errors path=&quot;available_quantity&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    &lt;br&gt;\n    &lt;form:select path=&quot;category&quot; items=&quot;${categories}&quot; itemLabel=&quot;fullNameCategory&quot; itemValue=&quot;id&quot;/&gt;\n    &lt;form:errors path=&quot;category&quot; cssClass=&quot;error&quot; /&gt;&lt;br&gt;\n\n    &lt;br&gt;\n    &lt;input type=&quot;submit&quot;&gt;\n&lt;/form:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Question: what do I need to get rid of these errors? thank you</p>\n"},{"tags":["java","postgresql","spring-webflux","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":61147,"reputation":2846,"user_id":182393,"accept_rate":85,"display_name":"Koziołek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674474919,"creation_date":1674474919,"answer_id":75209140,"question_id":75171276,"body_markdown":"You need to implement `ReadingConverter` and `WritingConverter` and then register them in `R2dbcCustomConversions` in configuration.\r\n\r\n\r\n```java\r\n@Bean\r\npublic R2dbcCustomConversions myConverters(ConnectionFactory connectionFactory){\r\nvar dialect = DialectResolver.getDialect(connectionFactory);\r\n    var converters = List.of(…);\r\n    return R2dbcCustomConversions.of(dialect, converters);\r\n}\r\n```\r\n\r\nConverters itself should produce JSONs.","title":"How to save java object in postgres jsonb column","body":"<p>You need to implement <code>ReadingConverter</code> and <code>WritingConverter</code> and then register them in <code>R2dbcCustomConversions</code> in configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic R2dbcCustomConversions myConverters(ConnectionFactory connectionFactory){\nvar dialect = DialectResolver.getDialect(connectionFactory);\n    var converters = List.of(…);\n    return R2dbcCustomConversions.of(dialect, converters);\n}\n</code></pre>\n<p>Converters itself should produce JSONs.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674654657,"creation_date":1674654068,"answer_id":75234845,"question_id":75171276,"body_markdown":"If you using Postgres, there are two approaches you can use to map to Postgres JSON/JSONB fields.\r\n\r\n1. use Postgres R2dbc `Json` type directly in Java entity class.\r\n2. use any Java type and convert it between `Json` via registering custom converters.\r\n\r\nThe first one is simple and stupid.\r\n\r\n1. Declare a `json` db type field, eg. \r\n\r\n   ```\r\n   metadata   JSON         default &#39;{}&#39;\r\n   ```\r\n2. Declare the `Json` type field in your entity class.\r\n\r\n   ```java\r\n   class Post{\r\n        @Column(&quot;metadata&quot;)\r\n        private Json metadata;\r\n   }\r\n   ```\r\n\r\nFor the second the solution, similarly\r\n1. Declare `json`/`jsonb` db type in the [schema.sql](https://github.com/hantsy/spring-r2dbc-sample/blob/master/pg-json/src/main/resources/schema.sql#L7).\r\n2. Declare the field type as your custom type.eg. \r\n   \r\n   ```java\r\n   class Post{\r\n        @Column(&quot;statistics&quot;)\r\n        private Statistics statistics;\r\n\r\n\r\n       record Statistics(\r\n            Integer viewed,\r\n            Integer bookmarked\r\n       ) {}\r\n   }\r\n   ```\r\n3. Declare a `R2dbcCustomConversions` bean. \r\n\r\n   ```java\r\n\t@Configuration\r\n\tclass DataR2dbcConfig {\r\n\t\t@Bean\r\n\t\tR2dbcCustomConversions r2dbcCustomConversions(ConnectionFactory factory, ObjectMapper objectMapper) {\r\n\t\t\tR2dbcDialect dialect = DialectResolver.getDialect(factory);\r\n\t\t\treturn R2dbcCustomConversions\r\n\t\t\t\t\t.of(\r\n\t\t\t\t\t\t\tdialect,\r\n\t\t\t\t\t\t\tList.of(\r\n\t\t\t\t\t\t\t\t\tnew JsonToStatisticsConverter(objectMapper),\r\n\t\t\t\t\t\t\t\t\tnew StatisticsToJsonConverter(objectMapper)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@ReadingConverter\r\n\t@RequiredArgsConstructor\r\n\tclass JsonToStatisticsConverter implements Converter&lt;Json, Post.Statistics&gt; {\r\n\t\tprivate final ObjectMapper objectMapper;\r\n\r\n\t\t@SneakyThrows\r\n\t\t@Override\r\n\t\tpublic Post.Statistics convert(Json source) {\r\n\t\t\treturn objectMapper.readValue(source.asString(), Post.Statistics.class);\r\n\t\t}\r\n\t}\r\n\r\n\t@WritingConverter\r\n\t@RequiredArgsConstructor\r\n\tclass StatisticsToJsonConverter implements Converter&lt;Post.Statistics, Json&gt; {\r\n\t\tprivate final ObjectMapper objectMapper;\r\n\r\n\t\t@SneakyThrows\r\n\t\t@Override\r\n\t\tpublic Json convert(Post.Statistics source) {\r\n\t\t\treturn Json.of(objectMapper.writeValueAsString(source));\r\n\t\t}\r\n\t}\r\n\r\n   ```\r\n\r\nThe example codes is [here](https://github.com/hantsy/spring-r2dbc-sample/tree/master/pg-json).\r\n\r\nFinally verify it with a [`@DataR2dbcTest` test](https://github.com/hantsy/spring-r2dbc-sample/blob/master/pg-json/src/test/java/com/example/demo/PostRepositoryTest.java).\r\n\r\n```java\r\n@Test\r\npublic void testInsertAndQuery() {\r\n        var data = Post.builder()\r\n                .title(&quot;test title&quot;)\r\n                .content(&quot;content of test&quot;)\r\n                .metadata(Json.of(&quot;{\\&quot;tags\\&quot;:[\\&quot;spring\\&quot;,\\&quot;r2dbc\\&quot;]}&quot;))\r\n                .statistics(new Post.Statistics(1000, 200))\r\n                .build();\r\n        this.template.insert(data)\r\n                .thenMany(\r\n                        this.posts.findByTitleContains(&quot;test%&quot;)\r\n                )\r\n                .log()\r\n                .as(StepVerifier::create)\r\n                .consumeNextWith(p -&gt; {\r\n                            log.info(&quot;saved post: {}&quot;, p);\r\n                            assertThat(p.getTitle()).isEqualTo(&quot;test title&quot;);\r\n                        }\r\n                )\r\n                .verifyComplete();\r\n\r\n}\r\n```\r\n","title":"How to save java object in postgres jsonb column","body":"<p>If you using Postgres, there are two approaches you can use to map to Postgres JSON/JSONB fields.</p>\n<ol>\n<li>use Postgres R2dbc <code>Json</code> type directly in Java entity class.</li>\n<li>use any Java type and convert it between <code>Json</code> via registering custom converters.</li>\n</ol>\n<p>The first one is simple and stupid.</p>\n<ol>\n<li><p>Declare a <code>json</code> db type field, eg.</p>\n<pre><code>metadata   JSON         default '{}'\n</code></pre>\n</li>\n<li><p>Declare the <code>Json</code> type field in your entity class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Post{\n     @Column(&quot;metadata&quot;)\n     private Json metadata;\n}\n</code></pre>\n</li>\n</ol>\n<p>For the second the solution, similarly</p>\n<ol>\n<li><p>Declare <code>json</code>/<code>jsonb</code> db type in the <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/pg-json/src/main/resources/schema.sql#L7\" rel=\"nofollow noreferrer\">schema.sql</a>.</p>\n</li>\n<li><p>Declare the field type as your custom type.eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Post{\n     @Column(&quot;statistics&quot;)\n     private Statistics statistics;\n\n\n    record Statistics(\n         Integer viewed,\n         Integer bookmarked\n    ) {}\n}\n</code></pre>\n</li>\n<li><p>Declare a <code>R2dbcCustomConversions</code> bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Configuration\n class DataR2dbcConfig {\n     @Bean\n     R2dbcCustomConversions r2dbcCustomConversions(ConnectionFactory factory, ObjectMapper objectMapper) {\n         R2dbcDialect dialect = DialectResolver.getDialect(factory);\n         return R2dbcCustomConversions\n                 .of(\n                         dialect,\n                         List.of(\n                                 new JsonToStatisticsConverter(objectMapper),\n                                 new StatisticsToJsonConverter(objectMapper)\n                         )\n                 );\n     }\n\n }\n\n @ReadingConverter\n @RequiredArgsConstructor\n class JsonToStatisticsConverter implements Converter&lt;Json, Post.Statistics&gt; {\n     private final ObjectMapper objectMapper;\n\n     @SneakyThrows\n     @Override\n     public Post.Statistics convert(Json source) {\n         return objectMapper.readValue(source.asString(), Post.Statistics.class);\n     }\n }\n\n @WritingConverter\n @RequiredArgsConstructor\n class StatisticsToJsonConverter implements Converter&lt;Post.Statistics, Json&gt; {\n     private final ObjectMapper objectMapper;\n\n     @SneakyThrows\n     @Override\n     public Json convert(Post.Statistics source) {\n         return Json.of(objectMapper.writeValueAsString(source));\n     }\n }\n\n</code></pre>\n</li>\n</ol>\n<p>The example codes is <a href=\"https://github.com/hantsy/spring-r2dbc-sample/tree/master/pg-json\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Finally verify it with a <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/pg-json/src/test/java/com/example/demo/PostRepositoryTest.java\" rel=\"nofollow noreferrer\"><code>@DataR2dbcTest</code> test</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testInsertAndQuery() {\n        var data = Post.builder()\n                .title(&quot;test title&quot;)\n                .content(&quot;content of test&quot;)\n                .metadata(Json.of(&quot;{\\&quot;tags\\&quot;:[\\&quot;spring\\&quot;,\\&quot;r2dbc\\&quot;]}&quot;))\n                .statistics(new Post.Statistics(1000, 200))\n                .build();\n        this.template.insert(data)\n                .thenMany(\n                        this.posts.findByTitleContains(&quot;test%&quot;)\n                )\n                .log()\n                .as(StepVerifier::create)\n                .consumeNextWith(p -&gt; {\n                            log.info(&quot;saved post: {}&quot;, p);\n                            assertThat(p.getTitle()).isEqualTo(&quot;test title&quot;);\n                        }\n                )\n                .verifyComplete();\n\n}\n</code></pre>\n"}],"owner":{"account_id":27084369,"reputation":1,"user_id":20633103,"display_name":"Javohir Majidov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674654657,"creation_date":1674126237,"question_id":75171276,"body_markdown":"Here is my code:\r\nI need to save java object value as jsonb in database (r2dbc).\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(&quot;scoring&quot;)\r\npublic class ScoringModel extends BaseModel {\r\n\r\n    @Column(&quot;client_id&quot;)\r\n    @SerializedName(value = &quot;clientId&quot;, alternate = {&quot;client_id&quot;})\r\n    private String clientId;\r\n    //othres\r\n    @Column(&quot;languages&quot;)\r\n    @SerializedName(value = &quot;languages&quot;, alternate = {&quot;languages&quot;})\r\n    private String languages;\r\n\r\n    @SerializedName(value = &quot;response&quot;, alternate = {&quot;response&quot;})\r\n    //Need to save as JsonB\r\n    private Object response;\r\n}\r\n```\r\n\r\nPlease help me resolve the issue","title":"How to save java object in postgres jsonb column","body":"<p>Here is my code:\nI need to save java object value as jsonb in database (r2dbc).</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(&quot;scoring&quot;)\npublic class ScoringModel extends BaseModel {\n\n    @Column(&quot;client_id&quot;)\n    @SerializedName(value = &quot;clientId&quot;, alternate = {&quot;client_id&quot;})\n    private String clientId;\n    //othres\n    @Column(&quot;languages&quot;)\n    @SerializedName(value = &quot;languages&quot;, alternate = {&quot;languages&quot;})\n    private String languages;\n\n    @SerializedName(value = &quot;response&quot;, alternate = {&quot;response&quot;})\n    //Need to save as JsonB\n    private Object response;\n}\n</code></pre>\n<p>Please help me resolve the issue</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-mvc"],"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674654634,"creation_date":1674654634,"question_id":75234967,"body_markdown":"I&#39;m new spring boot and making todo application.\r\n\r\n**I&#39;m trying to display logged in user&#39;s todo but it results in all todos are displayed.**\r\n\r\nDoes anyone help?\r\n\r\n\r\n----------\r\nTodoRepository\r\n\r\n    package com.portfoilo.fullstackbackend.Repository;\r\n\r\n    import com.portfoilo.fullstackbackend.Model.Todo;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import java.util.List;\r\n\r\n    @Repository\r\n    public interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\r\n    @Query(value = &quot;SELECT * FROM todos WHERE user_id = :id&quot;, nativeQuery = true)\r\n    List&lt;Todo&gt; find(@Param(&quot;id&quot;) Integer id);\r\n    }\r\n\r\n\r\n----------\r\nTodoController\r\n\r\n    package com.portfoilo.fullstackbackend.Controller;\r\n    import com.portfoilo.fullstackbackend.Model.Todo;\r\n    import com.portfoilo.fullstackbackend.Model.User;\r\n    import com.portfoilo.fullstackbackend.Model.UserDetailsImpl;\r\n    import com.portfoilo.fullstackbackend.Repository.TodoRepository;\r\n    import com.portfoilo.fullstackbackend.Service.TodoService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.annotation.Validated; \r\n    import org.springframework.web.bind.annotation.CookieValue;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n \r\n    import javax.servlet.http.Cookie;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.util.List;\r\n\r\n    @Controller\r\n    　public class TodoController {\r\n\r\n    @Autowired\r\n    TodoRepository todoRepository;\r\n\r\n    @Autowired\r\n    TodoService todoService;\r\n\r\n    @GetMapping(&quot;/todo/{id}&quot;)\r\n    public String home(@PathVariable(&quot;id&quot;)Integer id, Model model, HttpServletResponse httpServletResponse,　@AuthenticationPrincipal UserDetailsImpl userDetails, User user) \r\n    {\r\n        System.out.println(userDetails.getUsername());\r\n        System.out.println(user.getId());\r\n        httpServletResponse.addCookie(new Cookie(&quot;user_id&quot;, user.getId().toString()));\r\n\r\n        List&lt;Todo&gt; list = todoRepository.find(id);\r\n        model.addAttribute(&quot;list&quot;, list);\r\n        model.addAttribute(&quot;todo&quot;, new Todo());\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    public String showCookie(@CookieValue(&quot;user_id&quot;) String cookieValue) {\r\n        System.out.println(cookieValue);\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/todo/{id}&quot;)\r\n    public String createTodo(@Validated Todo todo, BindingResult result, Model model) {\r\n        todoService.addTodo(todo);\r\n        return &quot;redirect:/todo/{id}&quot;;\r\n    　}\r\n    　}\r\n\r\n\r\n----------\r\nTodo.java\r\n\r\n    package com.portfoilo.fullstackbackend.Model;\r\n\r\n    import com.portfoilo.fullstackbackend.SignupForm;\r\n    import lombok.Data;\r\n\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.NotNull;\r\n    import java.util.Date;\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;todos&quot;)\r\n    public class Todo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Integer user_id;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @Column(name = &quot;due_date&quot;)\r\n    private Date due_date;\r\n\r\n    @Column(name = &quot;priority&quot;)\r\n    private Integer priority;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot; ,insertable = false, updatable = false)\r\n    private User user;\r\n    }\r\n\r\n\r\n----------\r\nUser.java\r\n\r\n    package com.portfoilo.fullstackbackend.Model;\r\n\r\n    import javax.persistence.*;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;authority&quot;)\r\n    private String authority;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    private List&lt;Todo&gt; todos;\r\n\r\n    public User(String email, String password, String authority) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.authority = authority;\r\n    }\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Integer id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    public void setAuthority(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    public List&lt;Todo&gt; getTodos() {\r\n        return todos;\r\n    }\r\n\r\n    public void setTodos(List&lt;Todo&gt; todos) {\r\n        this.todos = todos;\r\n    }\r\n    }\r\n \r\n\r\n\r\n----------\r\nHome.html\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\r\n    &lt;title&gt;Todo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div th:text=&quot;&#39;Hello &#39; + ${#authentication.name}&quot;&gt;&lt;/div&gt;\r\n    &lt;h1&gt;Todo&lt;/h1&gt;\r\n    &lt;h2&gt;Add&lt;/h2&gt;\r\n    &lt;div&gt;\r\n      &lt;form method=&quot;post&quot; th:action=&quot;@{/todo}&quot; th:object=&quot;${todo}&quot;&gt;\r\n        &lt;p th:errors=&quot;*{title}&quot; class=&quot;todo-error-message&quot;&gt;&lt;/p&gt;\r\n        &lt;input th:field=&quot;*{title}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;title&quot;&gt;\r\n        &lt;input th:field=&quot;*{description}&quot; class=&quot;add-input&quot; type=&quot;text&quot; \r\n        placeholder=&quot;details&quot;&gt;\r\n        &lt;input th:field=&quot;*{due_date}&quot; class=&quot;add-input-third&quot; type=&quot;text&quot;&gt; \r\n        &lt;br/&gt;\r\n        &lt;div class=&quot;add-form&quot;&gt;\r\n            &lt;span&gt;Priority&lt;/span&gt;\r\n            &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;3&quot; checked&gt;大\r\n            &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;2&quot;&gt;中\r\n            &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;1&quot;&gt;小&lt;br/&gt;\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;add-btn&quot;&gt;Add&lt;/button&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;h2&gt;List&lt;/h2&gt;\r\n    &lt;div&gt;\r\n    &lt;tr th:each=&quot;list:${list}&quot;&gt;\r\n        &lt;td th:text=&quot;${list.title}&quot;&gt;\r\n        &lt;td th:text=&quot;${list.user_id}&quot;&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\r\n    &lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n----------\r\n\r\n\r\nI thought TodoRepository&#39;s query is may be wrong but I couldn&#39;t find something like correct answer.\r\n\r\nI would appreciate it if you could help...!","title":"how to display logged in user&#39;s todo","body":"<p>I'm new spring boot and making todo application.</p>\n<p><strong>I'm trying to display logged in user's todo but it results in all todos are displayed.</strong></p>\n<p>Does anyone help?</p>\n<hr />\n<p>TodoRepository</p>\n<pre><code>package com.portfoilo.fullstackbackend.Repository;\n\nimport com.portfoilo.fullstackbackend.Model.Todo;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface TodoRepository extends JpaRepository&lt;Todo, Integer&gt; {\n@Query(value = &quot;SELECT * FROM todos WHERE user_id = :id&quot;, nativeQuery = true)\nList&lt;Todo&gt; find(@Param(&quot;id&quot;) Integer id);\n}\n</code></pre>\n<hr />\n<p>TodoController</p>\n<pre><code>package com.portfoilo.fullstackbackend.Controller;\nimport com.portfoilo.fullstackbackend.Model.Todo;\nimport com.portfoilo.fullstackbackend.Model.User;\nimport com.portfoilo.fullstackbackend.Model.UserDetailsImpl;\nimport com.portfoilo.fullstackbackend.Repository.TodoRepository;\nimport com.portfoilo.fullstackbackend.Service.TodoService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.annotation.AuthenticationPrincipal;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated; \nimport org.springframework.web.bind.annotation.CookieValue;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletResponse;\nimport java.util.List;\n\n@Controller\n　public class TodoController {\n\n@Autowired\nTodoRepository todoRepository;\n\n@Autowired\nTodoService todoService;\n\n@GetMapping(&quot;/todo/{id}&quot;)\npublic String home(@PathVariable(&quot;id&quot;)Integer id, Model model, HttpServletResponse httpServletResponse,　@AuthenticationPrincipal UserDetailsImpl userDetails, User user) \n{\n    System.out.println(userDetails.getUsername());\n    System.out.println(user.getId());\n    httpServletResponse.addCookie(new Cookie(&quot;user_id&quot;, user.getId().toString()));\n\n    List&lt;Todo&gt; list = todoRepository.find(id);\n    model.addAttribute(&quot;list&quot;, list);\n    model.addAttribute(&quot;todo&quot;, new Todo());\n    return &quot;home&quot;;\n}\n\npublic String showCookie(@CookieValue(&quot;user_id&quot;) String cookieValue) {\n    System.out.println(cookieValue);\n    return &quot;home&quot;;\n}\n\n@PostMapping(&quot;/todo/{id}&quot;)\npublic String createTodo(@Validated Todo todo, BindingResult result, Model model) {\n    todoService.addTodo(todo);\n    return &quot;redirect:/todo/{id}&quot;;\n　}\n　}\n</code></pre>\n<hr />\n<p>Todo.java</p>\n<pre><code>package com.portfoilo.fullstackbackend.Model;\n\nimport com.portfoilo.fullstackbackend.SignupForm;\nimport lombok.Data;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotNull;\nimport java.util.Date;\n\n@Entity\n@Data\n@Table(name = &quot;todos&quot;)\npublic class Todo {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;user_id&quot;)\nprivate Integer user_id;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;title&quot;)\nprivate String title;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;description&quot;)\nprivate String description;\n\n@Column(name = &quot;due_date&quot;)\nprivate Date due_date;\n\n@Column(name = &quot;priority&quot;)\nprivate Integer priority;\n\n@ManyToOne\n@JoinColumn(name = &quot;user_id&quot; ,insertable = false, updatable = false)\nprivate User user;\n}\n</code></pre>\n<hr />\n<p>User.java</p>\n<pre><code>package com.portfoilo.fullstackbackend.Model;\n\nimport javax.persistence.*;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n@Id\n@Column(name = &quot;id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(name = &quot;email&quot;)\nprivate String email;\n@Column(name = &quot;password&quot;)\nprivate String password;\n\n@Column(name = &quot;authority&quot;)\nprivate String authority;\n\n@OneToMany(mappedBy = &quot;user&quot;)\nprivate List&lt;Todo&gt; todos;\n\npublic User(String email, String password, String authority) {\n    this.email = email;\n    this.password = password;\n    this.authority = authority;\n}\n\npublic User() {\n\n}\n\npublic Integer getId() {\n    return id;\n}\n\npublic void setId(Integer id) {\n    this.id = id;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getAuthority() {\n    return authority;\n}\n\npublic void setAuthority(String authority) {\n    this.authority = authority;\n}\n\npublic List&lt;Todo&gt; getTodos() {\n    return todos;\n}\n\npublic void setTodos(List&lt;Todo&gt; todos) {\n    this.todos = todos;\n}\n}\n</code></pre>\n<hr />\n<p>Home.html</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\n&lt;title&gt;Todo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div th:text=&quot;'Hello ' + ${#authentication.name}&quot;&gt;&lt;/div&gt;\n&lt;h1&gt;Todo&lt;/h1&gt;\n&lt;h2&gt;Add&lt;/h2&gt;\n&lt;div&gt;\n  &lt;form method=&quot;post&quot; th:action=&quot;@{/todo}&quot; th:object=&quot;${todo}&quot;&gt;\n    &lt;p th:errors=&quot;*{title}&quot; class=&quot;todo-error-message&quot;&gt;&lt;/p&gt;\n    &lt;input th:field=&quot;*{title}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;title&quot;&gt;\n    &lt;input th:field=&quot;*{description}&quot; class=&quot;add-input&quot; type=&quot;text&quot; \n    placeholder=&quot;details&quot;&gt;\n    &lt;input th:field=&quot;*{due_date}&quot; class=&quot;add-input-third&quot; type=&quot;text&quot;&gt; \n    &lt;br/&gt;\n    &lt;div class=&quot;add-form&quot;&gt;\n        &lt;span&gt;Priority&lt;/span&gt;\n        &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;3&quot; checked&gt;大\n        &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;2&quot;&gt;中\n        &lt;input type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;1&quot;&gt;小&lt;br/&gt;\n    &lt;/div&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;add-btn&quot;&gt;Add&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n&lt;h2&gt;List&lt;/h2&gt;\n&lt;div&gt;\n&lt;tr th:each=&quot;list:${list}&quot;&gt;\n    &lt;td th:text=&quot;${list.title}&quot;&gt;\n    &lt;td th:text=&quot;${list.user_id}&quot;&gt;\n&lt;/tr&gt;\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\n&lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<hr />\n<p>I thought TodoRepository's query is may be wrong but I couldn't find something like correct answer.</p>\n<p>I would appreciate it if you could help...!</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":1,"creation_date":1632390779,"post_id":69297442,"comment_id":122481286,"body_markdown":"`The version of the jasperreports.jar file is the version of the Jasper Reports being used by the product` - How this related with *jasper* file that can be created by 3rd party?","body":"<code>The version of the jasperreports.jar file is the version of the Jasper Reports being used by the product</code> - How this related with <i>jasper</i> file that can be created by 3rd party?"},{"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"score":1,"creation_date":1632397969,"post_id":69297442,"comment_id":122484239,"body_markdown":"I have just a bunch of `filename.jasper` and nothing more.","body":"I have just a bunch of <code>filename.jasper</code> and nothing more."},{"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"score":0,"creation_date":1632409512,"post_id":69297442,"comment_id":122489742,"body_markdown":"@AlexK\nI don&#39;t have access to the path `$DCS/server/run/jrtskdae/lib/` as you mentioned on your answer, I have just a files. Also consider that I am not looking for Jasper Report version but java verion which has been used to compile the `file.jasper`","body":"@AlexK I don&#39;t have access to the path <code>$DCS&#47;server&#47;run&#47;jrtskdae&#47;lib&#47;</code> as you mentioned on your answer, I have just a files. Also consider that I am not looking for Jasper Report version but java verion which has been used to compile the <code>file.jasper</code>"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1632409618,"post_id":69297442,"comment_id":122489788,"body_markdown":"@itro It is not my answer","body":"@itro It is not my answer"}],"tags":[],"owner":{"account_id":19806970,"reputation":15,"user_id":14506719,"display_name":"Akash ATG"},"comment_count":4,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1632404070,"creation_date":1632389383,"answer_id":69297442,"question_id":69296563,"body_markdown":"Follow the below steps to find the Jasper Report version:\r\n\r\n 1. Navigate to the path $DCS/server/run/jrtskdae/lib/\r\n 2. Search for **jasperreports**\r\n 3. The version of the jasperreports.jar file is the version of the Jasper Reports being used by the product\r\n*(eg. **jasperreports-5.0.0.jar**)*","title":"How can I detect java version used to compile .jasper?","body":"<p>Follow the below steps to find the Jasper Report version:</p>\n<ol>\n<li>Navigate to the path $DCS/server/run/jrtskdae/lib/</li>\n<li>Search for <strong>jasperreports</strong></li>\n<li>The version of the jasperreports.jar file is the version of the Jasper Reports being used by the product\n<em>(eg. <strong>jasperreports-5.0.0.jar</strong>)</em></li>\n</ol>\n"}],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1674654634,"creation_date":1632385914,"question_id":69296563,"body_markdown":"I have a bunch of .jasper file which I have no idea which java version has been used to compile them.\r\n\r\n**Is there any way to detect it?**\r\n\r\nFor java class I know dat we can use follwing command.\r\n\r\n    javap -verbose .\\Customer.class | findstr &quot;major&quot;","title":"How can I detect java version used to compile .jasper?","body":"<p>I have a bunch of .jasper file which I have no idea which java version has been used to compile them.</p>\n<p><strong>Is there any way to detect it?</strong></p>\n<p>For java class I know dat we can use follwing command.</p>\n<pre><code>javap -verbose .\\Customer.class | findstr &quot;major&quot;\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":11533028,"reputation":303,"user_id":8451417,"accept_rate":50,"display_name":"SomethingCool"},"score":0,"creation_date":1566803435,"post_id":57653209,"comment_id":101756496,"body_markdown":"check this link -  https://stackoverflow.com/questions/14355759/ro-sf-lcd-density-must-be-defined-as-a-build-property and yeah there is stuff in google....","body":"check this link -  <a href=\"https://stackoverflow.com/questions/14355759/ro-sf-lcd-density-must-be-defined-as-a-build-property\" title=\"ro sf lcd density must be defined as a build property\">stackoverflow.com/questions/14355759/&hellip;</a> and yeah there is stuff in google...."},{"owner":{"account_id":12015910,"reputation":57,"user_id":8791071,"display_name":"Justin Joseph"},"score":1,"creation_date":1567694529,"post_id":57653209,"comment_id":102047467,"body_markdown":"nope this doesn&#39;t answer the querry","body":"nope this doesn&#39;t answer the querry"}],"answers":[{"comments":[{"owner":{"account_id":12015910,"reputation":57,"user_id":8791071,"display_name":"Justin Joseph"},"score":0,"creation_date":1576729625,"post_id":59383708,"comment_id":104995183,"body_markdown":"I have a lot of images should this be done on all of them?","body":"I have a lot of images should this be done on all of them?"},{"owner":{"account_id":16310936,"reputation":273,"user_id":11779588,"display_name":"RocqJones"},"score":1,"creation_date":1576849679,"post_id":59383708,"comment_id":105038649,"body_markdown":"Yes you should distribute a copy of all your images to those directories... Then the system will pick the correct one automatically based on the pixel density of the device your app is running on:","body":"Yes you should distribute a copy of all your images to those directories... Then the system will pick the correct one automatically based on the pixel density of the device your app is running on:"}],"tags":[],"owner":{"account_id":16310936,"reputation":273,"user_id":11779588,"display_name":"RocqJones"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576626430,"creation_date":1576626430,"answer_id":59383708,"question_id":57653209,"body_markdown":"I had the same problem but mine was because of screen density. You may need to revise your images or icons size if any in the drawable folder then generate a copy to following directories. \r\n\r\n    res/\r\n      drawable-xxxhdpi/\r\n        example.png\r\n      drawable-xxhdpi/\r\n        example.png\r\n      drawable-xhdpi/\r\n        example.png\r\n      drawable-hdpi/\r\n        example.png\r\n      drawable-mdpi/\r\n        example.png\r\n\r\nFor more info read [here](https://developer.android.com/training/multiscreen/screendensities)","title":"Access denied finding property &quot;ro.sf.lcd_density","body":"<p>I had the same problem but mine was because of screen density. You may need to revise your images or icons size if any in the drawable folder then generate a copy to following directories. </p>\n\n<pre><code>res/\n  drawable-xxxhdpi/\n    example.png\n  drawable-xxhdpi/\n    example.png\n  drawable-xhdpi/\n    example.png\n  drawable-hdpi/\n    example.png\n  drawable-mdpi/\n    example.png\n</code></pre>\n\n<p>For more info read <a href=\"https://developer.android.com/training/multiscreen/screendensities\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674654604,"creation_date":1674654164,"answer_id":75234867,"question_id":57653209,"body_markdown":"To eliminate this error message, add the following line to the `build.prop` file located in the `/system` folder on the device:\r\n\r\n    ro.sf.lcd_density=160\r\n\r\nThis sets the display density to 160 dpi, which is the [lowest among currently supported devices][1]. You can adjust it to match the specific density of your device.\r\n\r\n**Note:** You need to have root access to the device in order to edit the `build.prop` file. Since this can cause issues on some devices, it is to make a backup of the original file before making any changes.\r\n\r\n\r\n  [1]: https://developer.android.com/training/multiscreen/screendensities","title":"Access denied finding property &quot;ro.sf.lcd_density","body":"<p>To eliminate this error message, add the following line to the <code>build.prop</code> file located in the <code>/system</code> folder on the device:</p>\n<pre><code>ro.sf.lcd_density=160\n</code></pre>\n<p>This sets the display density to 160 dpi, which is the <a href=\"https://developer.android.com/training/multiscreen/screendensities\" rel=\"nofollow noreferrer\">lowest among currently supported devices</a>. You can adjust it to match the specific density of your device.</p>\n<p><strong>Note:</strong> You need to have root access to the device in order to edit the <code>build.prop</code> file. Since this can cause issues on some devices, it is to make a backup of the original file before making any changes.</p>\n"}],"owner":{"account_id":12015910,"reputation":57,"user_id":8791071,"display_name":"Justin Joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1674654604,"creation_date":1566803219,"question_id":57653209,"body_markdown":"My program is running correctly, but this error is being displayed in the compiler. How to fix it?\r\n\r\nNo answer regarding this can be found on Google, I checked quite many times.\r\n\r\nactivity_main\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    \r\n        android:id=&quot;@+id/mainLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;!-- username--&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n    \r\n            android:id=&quot;@+id/username_TIL&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;100dp&quot;\r\n            android:elevation=&quot;2dp&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n    \r\n                android:id=&quot;@+id/username_TIET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n    \r\n                android:hint=&quot;@string/username&quot; /&gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;!-- password--&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n    \r\n            android:id=&quot;@+id/password_TIL&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_below=&quot;@id/username_TIL&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n    \r\n                android:id=&quot;@+id/password_TIET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n    \r\n                android:hint=&quot;password&quot;/&gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;!-- confirmPassword--&gt;\r\n        &lt;com.google.android.material.textfield.TextInputLayout\r\n    \r\n            android:id=&quot;@+id/confirmPassword_TIL&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_below=&quot;@id/password_TIL&quot;&gt;\r\n    \r\n            &lt;com.google.android.material.textfield.TextInputEditText\r\n    \r\n                android:id=&quot;@+id/confirmPassword_TIET&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n    \r\n                android:hint=&quot;@string/confirm_password&quot;/&gt;\r\n    \r\n        &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n        &lt;!-- SignIn--&gt;\r\n        &lt;androidx.appcompat.widget.AppCompatButton\r\n    \r\n            android:id=&quot;@+id/signIn_BTN&quot;\r\n            android:layout_width=&quot;100dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n    \r\n            android:text=&quot;@string/sign_in&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            app:cornerRadius=&quot;50dp&quot;\r\n            android:elevation=&quot;2dp&quot;\r\n            android:layout_below=&quot;@id/confirmPassword_TIL&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:background=&quot;@android:color/holo_blue_light&quot;/&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n    \r\nMainActivity has nothing in it - initialised\r\n\r\nManifest File also has nothing extra added to it. Any explanations towards why is this error occurring. Also one more error is being displayed.\r\n\r\n    E/InputTransport: ro.sf.lcd_density must be defined as a build property\r\n\r\n","title":"Access denied finding property &quot;ro.sf.lcd_density","body":"<p>My program is running correctly, but this error is being displayed in the compiler. How to fix it?</p>\n\n<p>No answer regarding this can be found on Google, I checked quite many times.</p>\n\n<p>activity_main</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\n    android:id=\"@+id/mainLayout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;!-- username--&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n\n        android:id=\"@+id/username_TIL\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"wrap_content\"\n\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"100dp\"\n        android:elevation=\"2dp\"&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n\n            android:id=\"@+id/username_TIET\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n\n            android:hint=\"@string/username\" /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;!-- password--&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n\n        android:id=\"@+id/password_TIL\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"wrap_content\"\n\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_below=\"@id/username_TIL\"&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n\n            android:id=\"@+id/password_TIET\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n\n            android:hint=\"password\"/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;!-- confirmPassword--&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n\n        android:id=\"@+id/confirmPassword_TIL\"\n        android:layout_width=\"250dp\"\n        android:layout_height=\"wrap_content\"\n\n        android:layout_centerHorizontal=\"true\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_below=\"@id/password_TIL\"&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n\n            android:id=\"@+id/confirmPassword_TIET\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n\n            android:hint=\"@string/confirm_password\"/&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;!-- SignIn--&gt;\n    &lt;androidx.appcompat.widget.AppCompatButton\n\n        android:id=\"@+id/signIn_BTN\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"wrap_content\"\n\n        android:text=\"@string/sign_in\"\n        android:textColor=\"@android:color/white\"\n        app:cornerRadius=\"50dp\"\n        android:elevation=\"2dp\"\n        android:layout_below=\"@id/confirmPassword_TIL\"\n        android:layout_marginTop=\"20dp\"\n        android:layout_centerHorizontal=\"true\"\n        android:background=\"@android:color/holo_blue_light\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>MainActivity has nothing in it - initialised</p>\n\n<p>Manifest File also has nothing extra added to it. Any explanations towards why is this error occurring. Also one more error is being displayed.</p>\n\n<pre><code>E/InputTransport: ro.sf.lcd_density must be defined as a build property\n</code></pre>\n"},{"tags":["java","spring-boot","splunk"],"comments":[{"owner":{"account_id":3110,"reputation":32932,"user_id":4418,"accept_rate":94,"display_name":"warren"},"score":0,"creation_date":1674655861,"post_id":75234822,"comment_id":132760883,"body_markdown":"Have you followed the [directions to setup](https://docs.splunk.com/Documentation/Splunk/9.0.3/Data/UsetheHTTPEventCollector#Configure_HTTP_Event_Collector_on_Splunk_Cloud_Platform) the HEC token for Splunk Cloud? Can you submit data to that HEC URL via any other form (eg `curl`) with that token?","body":"Have you followed the <a href=\"https://docs.splunk.com/Documentation/Splunk/9.0.3/Data/UsetheHTTPEventCollector#Configure_HTTP_Event_Collector_on_Splunk_Cloud_Platform\" rel=\"nofollow noreferrer\">directions to setup</a> the HEC token for Splunk Cloud? Can you submit data to that HEC URL via any other form (eg <code>curl</code>) with that token?"},{"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"score":0,"creation_date":1674658569,"post_id":75234822,"comment_id":132761829,"body_markdown":"Yes, I tried following that, but from local i am not sure with URI Format.","body":"Yes, I tried following that, but from local i am not sure with URI Format."},{"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"score":0,"creation_date":1674660535,"post_id":75234822,"comment_id":132762550,"body_markdown":"http://http-inputs-prd-p-wyalk.splunkcloud.com:8088/services/collector/raw\nTried this but no luck","body":"<a href=\"http://http-inputs-prd-p-wyalk.splunkcloud.com:8088/services/collector/raw\" rel=\"nofollow noreferrer\">http-inputs-prd-p-wyalk.splunkcloud.com:8088/services/collec&zwnj;&#8203;tor/&hellip;</a> Tried this but no luck"}],"owner":{"account_id":26700454,"reputation":19,"user_id":20307598,"display_name":"Balakirethiga R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674653939,"creation_date":1674653939,"question_id":75234822,"body_markdown":"I tried integrating my SpringBoot Application with Splunk, but could not get the logs. There is no Error in Console. Kindly help\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout\r\n                    pattern=&quot;%style{%d{ISO8601}} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{10}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\r\n        &lt;/Console&gt;\r\n        &lt;SplunkHttp\r\n                name=&quot;student-service-token&quot;\r\n                url=&quot;https://prd-p-wyalk.splunkcloud.com:8080&quot;\r\n                token=&quot;*********************************&quot;\r\n                host=&quot;localhost&quot;\r\n                index=&quot;student_idex_api&quot;\r\n                type=&quot;raw&quot;\r\n                source=&quot;http-event-logs&quot;\r\n                sourcetype=&quot;log4j&quot;\r\n                messageFormat=&quot;text&quot;\r\n                disableCertificateValidation=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%m&quot; /&gt;\r\n        &lt;/SplunkHttp&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;!-- LOG everything at INFO level --&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;splunkhttp&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n","title":"Splunk HTTP Event Collector Log4j2 SpringBoot unable to send data","body":"<p>I tried integrating my SpringBoot Application with Splunk, but could not get the logs. There is no Error in Console. Kindly help</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout\n                    pattern=&quot;%style{%d{ISO8601}} %highlight{%-5level }[%style{%t}{bright,blue}] %style{%C{10}}{bright,yellow}: %msg%n%throwable&quot; /&gt;\n        &lt;/Console&gt;\n        &lt;SplunkHttp\n                name=&quot;student-service-token&quot;\n                url=&quot;https://prd-p-wyalk.splunkcloud.com:8080&quot;\n                token=&quot;*********************************&quot;\n                host=&quot;localhost&quot;\n                index=&quot;student_idex_api&quot;\n                type=&quot;raw&quot;\n                source=&quot;http-event-logs&quot;\n                sourcetype=&quot;log4j&quot;\n                messageFormat=&quot;text&quot;\n                disableCertificateValidation=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%m&quot; /&gt;\n        &lt;/SplunkHttp&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;!-- LOG everything at INFO level --&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n            &lt;AppenderRef ref=&quot;splunkhttp&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104429,"reputation":1390,"user_id":4762482,"accept_rate":48,"display_name":"taylorswiftfan"},"score":1,"creation_date":1674512825,"post_id":75215659,"comment_id":132726326,"body_markdown":"Hi Valentine - could you point to us the specific lines in the snippet causing the problems? Also tell us more about the problems.","body":"Hi Valentine - could you point to us the specific lines in the snippet causing the problems? Also tell us more about the problems."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674513354,"post_id":75215659,"comment_id":132726429,"body_markdown":"I would recommend separating your UI and data so that you can better abstract and model your data.  The UI should be a representation of the state of your model.  This would then allow you do things like [this](https://stackoverflow.com/questions/32770321/connect-4-check-for-a-win-algorithm/32771401#32771401) - while this is a connect 4 example, the core is basically the same thing you want to do","body":"I would recommend separating your UI and data so that you can better abstract and model your data.  The UI should be a representation of the state of your model.  This would then allow you do things like <a href=\"https://stackoverflow.com/questions/32770321/connect-4-check-for-a-win-algorithm/32771401#32771401\">this</a> - while this is a connect 4 example, the core is basically the same thing you want to do"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1674513380,"post_id":75215659,"comment_id":132726437,"body_markdown":"What you&#39;re currently counting is the TOTAL number of things that are red, blue or green in the entire row, column or diagonal, REGARDLESS of where they are, meaning there could be spaces in-between them. Do the four things need to be NEXT TO EACH OTHER with NO SPACES in-between them?","body":"What you&#39;re currently counting is the TOTAL number of things that are red, blue or green in the entire row, column or diagonal, REGARDLESS of where they are, meaning there could be spaces in-between them. Do the four things need to be NEXT TO EACH OTHER with NO SPACES in-between them?"},{"owner":{"account_id":27604572,"reputation":11,"user_id":21069001,"display_name":"Valentine"},"score":0,"creation_date":1674524505,"post_id":75215659,"comment_id":132728085,"body_markdown":"I&#39;ve since figured using a string that has a color assignment and you use the assignment for sequences of up to 4 in a direction, do that for a scan from 8 directions, from each angle 2d.","body":"I&#39;ve since figured using a string that has a color assignment and you use the assignment for sequences of up to 4 in a direction, do that for a scan from 8 directions, from each angle 2d."},{"owner":{"account_id":27604572,"reputation":11,"user_id":21069001,"display_name":"Valentine"},"score":0,"creation_date":1674630572,"post_id":75215659,"comment_id":132752954,"body_markdown":"I&#39;ve updated the code to be a bit more informative of my situation.\n\nWhen a diagonal is figured, in a sequence of 4 +&#39;s, when checking for the winner; the winner fails to be declared. Only when the check is anywhere in the middle.","body":"I&#39;ve updated the code to be a bit more informative of my situation.  When a diagonal is figured, in a sequence of 4 +&#39;s, when checking for the winner; the winner fails to be declared. Only when the check is anywhere in the middle."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1674662681,"post_id":75215659,"comment_id":132763369,"body_markdown":"It would be helpful if you posted a picture of your interface with a win condition, a no win condition, and possibly a win condition that isn&#39;t being detected by your algorithm.","body":"It would be helpful if you posted a picture of your interface with a win condition, a no win condition, and possibly a win condition that isn&#39;t being detected by your algorithm."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674653861,"creation_date":1674646846,"answer_id":75233453,"question_id":75215659,"body_markdown":"What I came up with is that I am always checking only from top to bottom and \r\n\r\n - Only to the right\r\n - Only to the bottom\r\n - Bottom down diagonally\r\n - Bottom left diagonally\r\n \r\nSo in my opinion this covers all possible wining configurations if the search is done field by field from the top.\r\n\r\nI use 1D array to represent the gameboard and I always check if any of those checks can be performed or not, and skipping the one that.\r\n\r\nRunning example tries to randomly fill the board of given dimensions step by step and stops execution when winning condition is met (or it is a tie). \r\n\r\nFor checking winning conditions I just define the &quot;field index progression&quot; for the next field so I can do the `ckeck` as simple `for` loop.\r\n\r\n    public class TheGame {\r\n\r\n\r\n    static int side = 8;\r\n    static int fieldsCount = side * side;\r\n    static int[] fields = new int[fieldsCount];\r\n    static int toWin = 5;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        //generate list of random picks\r\n        List&lt;Integer&gt; fieldsToBet = IntStream.range(0, fields.length).boxed().collect(Collectors.toList());\r\n        Collections.shuffle(fieldsToBet);\r\n        Iterator&lt;Integer&gt; it = fieldsToBet.iterator();\r\n        Arrays.fill(fields, &#39; &#39;);\r\n        \r\n        //place bets using list above\r\n        char nextBet = 0;\r\n        while (it.hasNext()) {\r\n            nextBet = nextBet == &#39;o&#39; ? &#39;x&#39; : &#39;o&#39;;\r\n            Integer idx = it.next();\r\n            fields[idx] = nextBet;\r\n            char winner=(char) gameOver(idx); //check the condition, if game is done, return the winner\r\n            if (winner &gt; 0) {\r\n                System.out.println();\r\n                System.out.println(&quot;Winner is: &quot; + nextBet);\r\n                break;\r\n            }\r\n        }\r\n        printout();\r\n    }\r\n\r\n    private static int gameOver(Integer i) {\r\n            if (fields[i] == &#39; &#39;) {\r\n                return 0;\r\n            }\r\n            int column = i % side; //this can be ommited if using nested for loops\r\n            int row = i / side;\r\n            boolean canCheckRight = column + toWin &lt;= side;\r\n            boolean canCheckDown = row &lt;= side - toWin;\r\n            boolean canCheckLeft = column + 1 - toWin &gt;= 0;\r\n\r\n            boolean canCheckRightDownDiagonal = canCheckDown &amp;&amp; canCheckRight;\r\n            boolean canCheckLeftDownDiagonal = canCheckDown &amp;&amp; canCheckLeft;\r\n\r\n            boolean itsEnd =\r\n                    canCheckRight &amp;&amp; check(i, toWin, idx -&gt; idx += 1) || //every field to check is just &quot;next field&quot;\r\n                            canCheckDown &amp;&amp; check(i, toWin, idx -&gt; idx += side) || // every field to check is in next row\r\n                            canCheckRightDownDiagonal &amp;&amp; check(i, toWin, idx -&gt; idx += side + 1) || // next field to check is in next row skewed by 1 to the right\r\n                            canCheckLeftDownDiagonal &amp;&amp; check(i, toWin, idx -&gt; idx += side - 1);// next field to check is in next row skewed by 1 to the left\r\n            return itsEnd ? fields[i]:0;\r\n    }\r\n\r\n    private static boolean check(int idx, int iterations, Function&lt;Integer, Integer&gt; nextCoordinateProducer) {\r\n        int figure = fields[idx];\r\n        if (figure == &#39; &#39;) {\r\n            return false;\r\n        }\r\n        for (int i = 1; i &lt; iterations; i++) {\r\n            idx = nextCoordinateProducer.apply(idx);\r\n            if (figure != fields[idx]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static void printout() {\r\n        for (int i = 0; i &lt; fieldsCount; i += side) {\r\n            System.out.println(Arrays.stream(fields)\r\n                    .skip(i)\r\n                    .limit(side)\r\n                    .boxed()\r\n                    .map(v -&gt; Character.valueOf((char) v.intValue()).toString())\r\n                    .collect(Collectors.joining(&quot;|&quot;)));\r\n        }\r\n    }\r\n\r\n    }","title":"Determining a winner on a grid of 8x8 tic tac toe","body":"<p>What I came up with is that I am always checking only from top to bottom and</p>\n<ul>\n<li>Only to the right</li>\n<li>Only to the bottom</li>\n<li>Bottom down diagonally</li>\n<li>Bottom left diagonally</li>\n</ul>\n<p>So in my opinion this covers all possible wining configurations if the search is done field by field from the top.</p>\n<p>I use 1D array to represent the gameboard and I always check if any of those checks can be performed or not, and skipping the one that.</p>\n<p>Running example tries to randomly fill the board of given dimensions step by step and stops execution when winning condition is met (or it is a tie).</p>\n<p>For checking winning conditions I just define the &quot;field index progression&quot; for the next field so I can do the <code>ckeck</code> as simple <code>for</code> loop.</p>\n<pre><code>public class TheGame {\n\n\nstatic int side = 8;\nstatic int fieldsCount = side * side;\nstatic int[] fields = new int[fieldsCount];\nstatic int toWin = 5;\n\npublic static void main(String[] args) {\n\n    //generate list of random picks\n    List&lt;Integer&gt; fieldsToBet = IntStream.range(0, fields.length).boxed().collect(Collectors.toList());\n    Collections.shuffle(fieldsToBet);\n    Iterator&lt;Integer&gt; it = fieldsToBet.iterator();\n    Arrays.fill(fields, ' ');\n    \n    //place bets using list above\n    char nextBet = 0;\n    while (it.hasNext()) {\n        nextBet = nextBet == 'o' ? 'x' : 'o';\n        Integer idx = it.next();\n        fields[idx] = nextBet;\n        char winner=(char) gameOver(idx); //check the condition, if game is done, return the winner\n        if (winner &gt; 0) {\n            System.out.println();\n            System.out.println(&quot;Winner is: &quot; + nextBet);\n            break;\n        }\n    }\n    printout();\n}\n\nprivate static int gameOver(Integer i) {\n        if (fields[i] == ' ') {\n            return 0;\n        }\n        int column = i % side; //this can be ommited if using nested for loops\n        int row = i / side;\n        boolean canCheckRight = column + toWin &lt;= side;\n        boolean canCheckDown = row &lt;= side - toWin;\n        boolean canCheckLeft = column + 1 - toWin &gt;= 0;\n\n        boolean canCheckRightDownDiagonal = canCheckDown &amp;&amp; canCheckRight;\n        boolean canCheckLeftDownDiagonal = canCheckDown &amp;&amp; canCheckLeft;\n\n        boolean itsEnd =\n                canCheckRight &amp;&amp; check(i, toWin, idx -&gt; idx += 1) || //every field to check is just &quot;next field&quot;\n                        canCheckDown &amp;&amp; check(i, toWin, idx -&gt; idx += side) || // every field to check is in next row\n                        canCheckRightDownDiagonal &amp;&amp; check(i, toWin, idx -&gt; idx += side + 1) || // next field to check is in next row skewed by 1 to the right\n                        canCheckLeftDownDiagonal &amp;&amp; check(i, toWin, idx -&gt; idx += side - 1);// next field to check is in next row skewed by 1 to the left\n        return itsEnd ? fields[i]:0;\n}\n\nprivate static boolean check(int idx, int iterations, Function&lt;Integer, Integer&gt; nextCoordinateProducer) {\n    int figure = fields[idx];\n    if (figure == ' ') {\n        return false;\n    }\n    for (int i = 1; i &lt; iterations; i++) {\n        idx = nextCoordinateProducer.apply(idx);\n        if (figure != fields[idx]) {\n            return false;\n        }\n    }\n    return true;\n}\n\npublic static void printout() {\n    for (int i = 0; i &lt; fieldsCount; i += side) {\n        System.out.println(Arrays.stream(fields)\n                .skip(i)\n                .limit(side)\n                .boxed()\n                .map(v -&gt; Character.valueOf((char) v.intValue()).toString())\n                .collect(Collectors.joining(&quot;|&quot;)));\n    }\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":27604572,"reputation":11,"user_id":21069001,"display_name":"Valentine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1674653861,"creation_date":1674512598,"question_id":75215659,"body_markdown":"I&#39;m trying to get the diagonals of a matrix that is at least 5x5; trying to loop through new columns in multiple rows. The example I have is 8x8. I can&#39;t get it to trigger the middle section as recorded &quot;hits&quot; in a sequence diagonally. Here is my code. This is regarding button presses that then register a persons choice, based on a player color. It loops through fine on the edges like this:\r\n\r\n```\r\nJButton[][] buttons = new JButton[8][8];\r\nString red = &quot;&quot;;\r\nString green = &quot;&quot;;\r\nstring blue = &quot;&quot;;\r\nint col = 0;\r\n        for (int row = 0; row &lt; 8; row++, col++) {\r\n            if (buttons[row][col].getBackground() == Color.RED) {\r\n                red = red.concat(&quot;+&quot;);\r\n            } else if (buttons[row][col].getBackground() == Color.GREEN) {\r\n                green = green.concat(&quot;+&quot;);\r\n            } else if (buttons[row][col].getBackground() == Color.BLUE) {\r\n                blue = blue.concat(&quot;+&quot;);\r\n            } else {\r\n                red = red.concat(&quot;,&quot;);\r\n                green = green.concat(&quot;,&quot;);\r\n                blue = blue.concat(&quot;,&quot;);\r\n            }\r\n        }\r\n```\r\n\r\nI am trying to solve it like this:\r\n```\r\nJButton[][] buttons = new JButton[8][8];\r\nString red = &quot;&quot;;\r\nString green = &quot;&quot;;\r\nstring blue = &quot;&quot;;\r\nint col = 0;\r\nfor (int loop = 0; loop &lt; 5; loop++) {\r\n        for (int row = (0 + loop); row &lt; 8; row++, col++) {\r\n            if (buttons[row][col].getBackground() == Color.RED) {\r\n                red = red.concat(&quot;+&quot;);\r\n            } else if (buttons[row][col].getBackground() == Color.GREEN) {\r\n                green = green.concat(&quot;+&quot;);\r\n            } else if (buttons[row][col].getBackground() == Color.BLUE) {\r\n                blue = blue.concat(&quot;+&quot;);\r\n            } else {\r\n                red = red.concat(&quot;,&quot;);\r\n                green = green.concat(&quot;,&quot;);\r\n                blue = blue.concat(&quot;,&quot;);\r\n            }\r\n        }\r\n}\r\n","title":"Determining a winner on a grid of 8x8 tic tac toe","body":"<p>I'm trying to get the diagonals of a matrix that is at least 5x5; trying to loop through new columns in multiple rows. The example I have is 8x8. I can't get it to trigger the middle section as recorded &quot;hits&quot; in a sequence diagonally. Here is my code. This is regarding button presses that then register a persons choice, based on a player color. It loops through fine on the edges like this:</p>\n<pre><code>JButton[][] buttons = new JButton[8][8];\nString red = &quot;&quot;;\nString green = &quot;&quot;;\nstring blue = &quot;&quot;;\nint col = 0;\n        for (int row = 0; row &lt; 8; row++, col++) {\n            if (buttons[row][col].getBackground() == Color.RED) {\n                red = red.concat(&quot;+&quot;);\n            } else if (buttons[row][col].getBackground() == Color.GREEN) {\n                green = green.concat(&quot;+&quot;);\n            } else if (buttons[row][col].getBackground() == Color.BLUE) {\n                blue = blue.concat(&quot;+&quot;);\n            } else {\n                red = red.concat(&quot;,&quot;);\n                green = green.concat(&quot;,&quot;);\n                blue = blue.concat(&quot;,&quot;);\n            }\n        }\n</code></pre>\n<p>I am trying to solve it like this:</p>\n<pre><code>JButton[][] buttons = new JButton[8][8];\nString red = &quot;&quot;;\nString green = &quot;&quot;;\nstring blue = &quot;&quot;;\nint col = 0;\nfor (int loop = 0; loop &lt; 5; loop++) {\n        for (int row = (0 + loop); row &lt; 8; row++, col++) {\n            if (buttons[row][col].getBackground() == Color.RED) {\n                red = red.concat(&quot;+&quot;);\n            } else if (buttons[row][col].getBackground() == Color.GREEN) {\n                green = green.concat(&quot;+&quot;);\n            } else if (buttons[row][col].getBackground() == Color.BLUE) {\n                blue = blue.concat(&quot;+&quot;);\n            } else {\n                red = red.concat(&quot;,&quot;);\n                green = green.concat(&quot;,&quot;);\n                blue = blue.concat(&quot;,&quot;);\n            }\n        }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9521,"page":702,"page_size":100}
