{"items":[{"tags":["java","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673939922,"post_id":75142848,"comment_id":132602748,"body_markdown":"try to use @JsonProperty(&quot;data&quot;) and @JsonIgnoreProperties(ignoreUnknown=true) on Employee","body":"try to use @JsonProperty(&quot;data&quot;) and @JsonIgnoreProperties(ignoreUnknown=true) on Employee"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1673940221,"post_id":75142848,"comment_id":132602820,"body_markdown":"I get this syntax error when trying to put on top of Employee class: &#39;@JsonProperty&#39; not applicable to type. Changed it to @JsonRootname also getting null","body":"I get this syntax error when trying to put on top of Employee class: &#39;@JsonProperty&#39; not applicable to type. Changed it to @JsonRootname also getting null"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673940538,"post_id":75142848,"comment_id":132602901,"body_markdown":"ok than JsonProperty can only be used on properties. try to rename employee to Data","body":"ok than JsonProperty can only be used on properties. try to rename employee to Data"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1673940732,"post_id":75142848,"comment_id":132602946,"body_markdown":"@sge Changed it already using the code above still returning null. but the number of returned objects is correct, just that all the fields are null","body":"@sge Changed it already using the code above still returning null. but the number of returned objects is correct, just that all the fields are null"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673940957,"post_id":75142848,"comment_id":132603010,"body_markdown":"i would say you have to define a &quot;Data&quot; object inside employee that contains firstname and lastname and then it should work","body":"i would say you have to define a &quot;Data&quot; object inside employee that contains firstname and lastname and then it should work"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1673941081,"post_id":75142848,"comment_id":132603042,"body_markdown":"@sge Sorry but what do you mean? Create the Employee class with the 5 fields + Data object? And what to put in the Data class?","body":"@sge Sorry but what do you mean? Create the Employee class with the 5 fields + Data object? And what to put in the Data class?"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673941286,"post_id":75142848,"comment_id":132603077,"body_markdown":"something like this\npublic class Employee {\nprivate Data data;\n\n}\n\nclass Data{\n\n    private String firstName;\n    private String lastName;\n\n}","body":"something like this public class Employee { private Data data;  }  class Data{      private String firstName;     private String lastName;  }"},{"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"score":0,"creation_date":1673942459,"post_id":75142848,"comment_id":132603395,"body_markdown":"I see I see but just a quick check, is there anyway we can specify json property on class level? Like for example map the Employee to data property in JSON","body":"I see I see but just a quick check, is there anyway we can specify json property on class level? Like for example map the Employee to data property in JSON"},{"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"score":0,"creation_date":1673942583,"post_id":75142848,"comment_id":132603425,"body_markdown":"There are a few possible ways you can map nested objects with Jackson. Check out [this article](https://www.baeldung.com/jackson-nested-values)","body":"There are a few possible ways you can map nested objects with Jackson. Check out <a href=\"https://www.baeldung.com/jackson-nested-values\" rel=\"nofollow noreferrer\">this article</a>"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1673945530,"post_id":75142848,"comment_id":132604205,"body_markdown":"you could also try to use JsonRootName(&quot;data&quot;) on employee class. it might work without an other nested class","body":"you could also try to use JsonRootName(&quot;data&quot;) on employee class. it might work without an other nested class"}],"owner":{"account_id":5339345,"reputation":2303,"user_id":4257073,"accept_rate":63,"display_name":"QWERTY"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673938482,"creation_date":1673938482,"question_id":75142848,"body_markdown":"I was having some problem when trying to extract data from JSON using RestTemplate. Here is the sample JSON output:\r\n\r\n    [\r\n        {\r\n            &quot;data&quot;: {\r\n                &quot;position&quot;: &quot;pos1&quot;,\r\n                &quot;firstName&quot;: &quot;test&quot;,\r\n                &quot;lastName&quot;: &quot;doe&quot;,\r\n                &quot;employeeId&quot;: &quot;123&quot;,\r\n                &quot;email&quot;: [\r\n                    &quot;test@gmail.com&quot;\r\n                ]\r\n            },\r\n            &quot;highlightings&quot;: [],\r\n            &quot;sortValues&quot;: []\r\n        },\r\n        {\r\n            &quot;data&quot;: {\r\n                &quot;position&quot;: &quot;pos2&quot;,\r\n                &quot;firstName&quot;: &quot;test2&quot;,\r\n                &quot;lastName&quot;: &quot;john&quot;,\r\n                &quot;employeeId&quot;: &quot;456&quot;,\r\n                &quot;email&quot;: [\r\n                    &quot;test2@gmail.com&quot;\r\n                ]\r\n            },\r\n            &quot;highlightings&quot;: [],\r\n            &quot;sortValues&quot;: []\r\n        }\r\n    ]\r\n\r\nAnd my object class:\r\n\r\n    public class Employee {\r\n    \r\n        private Long employeeId;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n        private String position;\r\n    }\r\n\r\nThe part where I am using RestTemplate and tried to print out the returned data:\r\n\r\n    ResponseEntity&lt;Employee[]&gt; response = restTemplate.exchange(\r\n                builder.build().encode().toUri(),\r\n                HttpMethod.GET,\r\n                requestEntity,\r\n                Employee[].class\r\n            );\r\n    \r\n            System.out.println(response.getBody());\r\n            for(int i = 0; i &lt; response.getBody().length; i++){\r\n                System.out.println(response.getBody()[i].getEmployeeId());\r\n                System.out.println(response.getBody()[i].getEmail());\r\n            }\r\n\r\nHowever, it keeps returning null for all the fields. I tested to return rest template as string it did managed to show the list of record. However, when I tried to return as array of objects it became null.\r\n\r\nAny ideas on how to fix this? Thanks!","title":"Java RestTemplate Returning Null Values when Extract Data","body":"<p>I was having some problem when trying to extract data from JSON using RestTemplate. Here is the sample JSON output:</p>\n<pre><code>[\n    {\n        &quot;data&quot;: {\n            &quot;position&quot;: &quot;pos1&quot;,\n            &quot;firstName&quot;: &quot;test&quot;,\n            &quot;lastName&quot;: &quot;doe&quot;,\n            &quot;employeeId&quot;: &quot;123&quot;,\n            &quot;email&quot;: [\n                &quot;test@gmail.com&quot;\n            ]\n        },\n        &quot;highlightings&quot;: [],\n        &quot;sortValues&quot;: []\n    },\n    {\n        &quot;data&quot;: {\n            &quot;position&quot;: &quot;pos2&quot;,\n            &quot;firstName&quot;: &quot;test2&quot;,\n            &quot;lastName&quot;: &quot;john&quot;,\n            &quot;employeeId&quot;: &quot;456&quot;,\n            &quot;email&quot;: [\n                &quot;test2@gmail.com&quot;\n            ]\n        },\n        &quot;highlightings&quot;: [],\n        &quot;sortValues&quot;: []\n    }\n]\n</code></pre>\n<p>And my object class:</p>\n<pre><code>public class Employee {\n\n    private Long employeeId;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String position;\n}\n</code></pre>\n<p>The part where I am using RestTemplate and tried to print out the returned data:</p>\n<pre><code>ResponseEntity&lt;Employee[]&gt; response = restTemplate.exchange(\n            builder.build().encode().toUri(),\n            HttpMethod.GET,\n            requestEntity,\n            Employee[].class\n        );\n\n        System.out.println(response.getBody());\n        for(int i = 0; i &lt; response.getBody().length; i++){\n            System.out.println(response.getBody()[i].getEmployeeId());\n            System.out.println(response.getBody()[i].getEmail());\n        }\n</code></pre>\n<p>However, it keeps returning null for all the fields. I tested to return rest template as string it did managed to show the list of record. However, when I tried to return as array of objects it became null.</p>\n<p>Any ideas on how to fix this? Thanks!</p>\n"},{"tags":["java","string","substring","indexoutofboundsexception"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1673929406,"post_id":75141939,"comment_id":132601034,"body_markdown":"Welcome to Stack Overflow.  Change the line `String name = scnr.next();` to `String name = scnr.nextLine();`.  I would suggest that you get comfortable running your code in a debugger.  The way I found this problem was to run your code in a debugger and step through your code.  I saw right away that the `name` variable did not contain the entire input string that I had typed but rather only the first word that I typed.","body":"Welcome to Stack Overflow.  Change the line <code>String name = scnr.next();</code> to <code>String name = scnr.nextLine();</code>.  I would suggest that you get comfortable running your code in a debugger.  The way I found this problem was to run your code in a debugger and step through your code.  I saw right away that the <code>name</code> variable did not contain the entire input string that I had typed but rather only the first word that I typed."},{"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"score":0,"creation_date":1673929733,"post_id":75141939,"comment_id":132601086,"body_markdown":"I feel dumb. Thank you! This helped a bit. Still getting errors for inputs that only have a first name or first+second name, though.","body":"I feel dumb. Thank you! This helped a bit. Still getting errors for inputs that only have a first name or first+second name, though."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673930366,"post_id":75141939,"comment_id":132601178,"body_markdown":"*&quot;Still getting errors for inputs that only have a first name or first+second name, though.&quot;* - I suggest you do what CryptoFool suggested.  Use a debugger.  If it works for him, it will work for you. And doing is part of learning.","body":"<i>&quot;Still getting errors for inputs that only have a first name or first+second name, though.&quot;</i> - I suggest you do what CryptoFool suggested.  Use a debugger.  If it works for him, it will work for you. And doing is part of learning."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673930492,"post_id":75141939,"comment_id":132601204,"body_markdown":"&quot;I&#39;ve been working on this all day and I have a headache.&quot; - I suggest you take a break then.  Seriously.  Then learn to use a debugger tomorrow.  Another useful resource is https://rubberduckdebugging.com","body":"&quot;I&#39;ve been working on this all day and I have a headache.&quot; - I suggest you take a break then.  Seriously.  Then learn to use a debugger tomorrow.  Another useful resource is <a href=\"https://rubberduckdebugging.com\" rel=\"nofollow noreferrer\">rubberduckdebugging.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673937221,"creation_date":1673937221,"answer_id":75142709,"question_id":75141939,"body_markdown":"    String middleName = name.substring((name.indexOf(&quot; &quot;) + 1), name.lastIndexOf(&quot; &quot;));\r\n\r\nThis line is a problem when you name only has one space inside it (ex: &quot;John Doe&quot;). It will look for a substring between the index of the first space (4 in thsis case) in the name + 1 and the last space which is the same one! So in this case you are asking for a substring between 5 and the lesser 4 which will give an error.\r\n\r\nIf you can, I recommend the split method. This will work with multiple names:\r\n\r\n    StringBuilder initials = new StringBuilder(new String());\r\n    String[] individualNames = name.split(&quot; &quot;);\r\n    for (int i = 0; i &lt; individualNames.length; i++) {\r\n      initials.append(individualNames[i].substring(0, 1) + &quot;. &quot;);\r\n    }\r\n    System.out.println(initials);\r\n","title":"How do I troubleshoot an OutOfBoundsException error when trying to get initials from a full name in Java?","body":"<pre><code>String middleName = name.substring((name.indexOf(&quot; &quot;) + 1), name.lastIndexOf(&quot; &quot;));\n</code></pre>\n<p>This line is a problem when you name only has one space inside it (ex: &quot;John Doe&quot;). It will look for a substring between the index of the first space (4 in thsis case) in the name + 1 and the last space which is the same one! So in this case you are asking for a substring between 5 and the lesser 4 which will give an error.</p>\n<p>If you can, I recommend the split method. This will work with multiple names:</p>\n<pre><code>StringBuilder initials = new StringBuilder(new String());\nString[] individualNames = name.split(&quot; &quot;);\nfor (int i = 0; i &lt; individualNames.length; i++) {\n  initials.append(individualNames[i].substring(0, 1) + &quot;. &quot;);\n}\nSystem.out.println(initials);\n</code></pre>\n"}],"owner":{"account_id":23269252,"reputation":13,"user_id":18367361,"display_name":"comingundone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75142709,"answer_count":1,"score":-1,"last_activity_date":1673937221,"creation_date":1673928942,"question_id":75141939,"body_markdown":"University computer science major here. I&#39;m using zyBooks for my Object-Oriented Programming class. I&#39;m stuck on an error when I&#39;m trying to work with substrings and whatnot when asked to derive initials from a full name. I&#39;m asked to do the following\r\n\r\n**Write a public static method named getInitials that will take a single argument of type String and will return a String. When called, and passed a name, this method must compute and return a String value with the initials for the given name.** \r\n\r\nBelow is my code so far. I&#39;ve tried looking at other resources, but I&#39;m not really allowed to use concepts outside of what we&#39;ve learned and what&#39;s given as criteria for this assignment. \r\n\r\n```\r\n// Below this comment: import the Scanner\r\nimport java.util.Scanner;\r\npublic class Initials {\r\n   public static void main(String[] args) {\r\n      // Below this comment: declare and instantiate a Scanner\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      // Below this comment: collect the required inputs\r\n      System.out.println(&quot;Enter name : &quot;);\r\n        String name = scnr.next();\r\n      \r\n      \r\n      // Below this comment: call your required method\r\n      String initials = getInitials(name);\r\n      \r\n      \r\n      // Below this comment: disply the required results\r\n      System.out.println(&quot;Initials for &quot; + name + &quot; : &quot; + initials);\r\n      \r\n   }\r\n   \r\n   // define your required method here below\r\n   public static String getInitials(String name){\r\n      String firstName = name.substring(0, name.indexOf(&quot; &quot;));\r\n      String firstInit = firstName.substring(0, 1);\r\n      String middleName = name.substring((name.indexOf(&quot; &quot;)+1), name.lastIndexOf(&quot; &quot;));\r\n      String middleInit = middleName.substring(0, 1);\r\n      String lastName = name.substring((name.lastIndexOf(&quot; &quot;)+1), name.length());\r\n      String lastInit = lastName.substring(0, 1);\r\n      String initials = (firstInit + &quot;. &quot; + middleInit + &quot;. &quot; + lastInit + &quot;.&quot;);\r\n      return initials;\r\n   }\r\n}\r\n```\r\nThis is the error zyBooks displays:\r\n```\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 3\r\n\tat java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\r\n\tat java.base/java.lang.String.substring(String.java:1874)\r\n\tat Initials.getInitials(Initials.java:24)\r\n\tat Initials.main(Initials.java:14)\r\n```\r\nI know it has something to do with the code trying to access stuff outside of my parameters, but I&#39;m not sure what to tweak to make sure that doesn&#39;t happen. I think I need an if statement but I don&#39;t know. Any help is appreciated!\r\n\r\nSorry if this post isn&#39;t clarified that well. I&#39;ve been working on this all day and I have a headache. ","title":"How do I troubleshoot an OutOfBoundsException error when trying to get initials from a full name in Java?","body":"<p>University computer science major here. I'm using zyBooks for my Object-Oriented Programming class. I'm stuck on an error when I'm trying to work with substrings and whatnot when asked to derive initials from a full name. I'm asked to do the following</p>\n<p><strong>Write a public static method named getInitials that will take a single argument of type String and will return a String. When called, and passed a name, this method must compute and return a String value with the initials for the given name.</strong></p>\n<p>Below is my code so far. I've tried looking at other resources, but I'm not really allowed to use concepts outside of what we've learned and what's given as criteria for this assignment.</p>\n<pre><code>// Below this comment: import the Scanner\nimport java.util.Scanner;\npublic class Initials {\n   public static void main(String[] args) {\n      // Below this comment: declare and instantiate a Scanner\n      Scanner scnr = new Scanner(System.in);\n      \n      // Below this comment: collect the required inputs\n      System.out.println(&quot;Enter name : &quot;);\n        String name = scnr.next();\n      \n      \n      // Below this comment: call your required method\n      String initials = getInitials(name);\n      \n      \n      // Below this comment: disply the required results\n      System.out.println(&quot;Initials for &quot; + name + &quot; : &quot; + initials);\n      \n   }\n   \n   // define your required method here below\n   public static String getInitials(String name){\n      String firstName = name.substring(0, name.indexOf(&quot; &quot;));\n      String firstInit = firstName.substring(0, 1);\n      String middleName = name.substring((name.indexOf(&quot; &quot;)+1), name.lastIndexOf(&quot; &quot;));\n      String middleInit = middleName.substring(0, 1);\n      String lastName = name.substring((name.lastIndexOf(&quot; &quot;)+1), name.length());\n      String lastInit = lastName.substring(0, 1);\n      String initials = (firstInit + &quot;. &quot; + middleInit + &quot;. &quot; + lastInit + &quot;.&quot;);\n      return initials;\n   }\n}\n</code></pre>\n<p>This is the error zyBooks displays:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 3\n    at java.base/java.lang.String.checkBoundsBeginEnd(String.java:3319)\n    at java.base/java.lang.String.substring(String.java:1874)\n    at Initials.getInitials(Initials.java:24)\n    at Initials.main(Initials.java:14)\n</code></pre>\n<p>I know it has something to do with the code trying to access stuff outside of my parameters, but I'm not sure what to tweak to make sure that doesn't happen. I think I need an if statement but I don't know. Any help is appreciated!</p>\n<p>Sorry if this post isn't clarified that well. I've been working on this all day and I have a headache.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1673938135,"post_id":75142686,"comment_id":132602405,"body_markdown":"This isn&#39;t really anything Spring related in here, it is a web filter and thus is bound to the Servlet container handling your request. I would also say your code is wrong as you are trying to get the part header from the `HttpServletRequest` and not the `Part`. Looks like the error is in your own code. You should be doing `part.getHeader` not `httpServletRequest.getHeader` in the for loop.","body":"This isn&#39;t really anything Spring related in here, it is a web filter and thus is bound to the Servlet container handling your request. I would also say your code is wrong as you are trying to get the part header from the <code>HttpServletRequest</code> and not the <code>Part</code>. Looks like the error is in your own code. You should be doing <code>part.getHeader</code> not <code>httpServletRequest.getHeader</code> in the for loop."},{"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"score":0,"creation_date":1673940189,"post_id":75142686,"comment_id":132602816,"body_markdown":"@M.Deinum Thank You So much sir. yes. I was wrong on getting headers from httpServletRequest. you solved my problem. thank you again.","body":"@M.Deinum Thank You So much sir. yes. I was wrong on getting headers from httpServletRequest. you solved my problem. thank you again."}],"owner":{"account_id":7998897,"reputation":93,"user_id":18771851,"display_name":"Mehdi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673936976,"creation_date":1673936976,"question_id":75142686,"body_markdown":"I have a **Client** Spring Boot project which sends a multipart request (actually uploads a picture) to a **Server** Spring Boot project. \r\n\r\nthis is the service of my **Client** Spring Boot project which sends the request:\r\n\r\n    @Service\r\n    public class MyService {\r\n    \r\n        @Autowired\r\n        RestTemplate restTemplate;\r\n    \r\n        public String upload(MultipartFile file) throws IOException {\r\n            String destinationUrl = &quot;http://localhost:8081/upload&quot;;\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;PULL, POST, GET, OPTIONS, DELETE&quot;);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;3600&quot;);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;x-requested-with&quot;);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;Content-Type, api_key, Authorization&quot;);\r\n            headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;Content-Disposition&quot;);\r\n            // =========================================================================================\r\n            // first part\r\n            MultiValueMap&lt;String, String&gt; filePartMetadata = new LinkedMultiValueMap&lt;&gt;();\r\n            ContentDisposition contentDisposition1 = createContentDisposition(&quot;form-data&quot;, &quot;file&quot;, &quot;Taoon.jpeg&quot;);\r\n            filePartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition1.toString());\r\n            filePartMetadata.add(HttpHeaders.CONTENT_TYPE, MediaType.IMAGE_JPEG_VALUE);\r\n            filePartMetadata.add(&quot;content-transfer-encoding&quot;, &quot;binary&quot;); \r\n            HttpEntity&lt;byte[]&gt; filePartEntity;\r\n            filePartEntity = new HttpEntity&lt;&gt;(file.getBytes(), filePartMetadata);\r\n            // =========================================================================================\r\n            // second part\r\n            MultiValueMap&lt;String, String&gt; secondPartMetadata = new LinkedMultiValueMap&lt;&gt;();\r\n            ContentDisposition contentDisposition2 = createContentDisposition(&quot;form-data&quot;, &quot;fileId&quot;);\r\n            secondPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition2.toString());\r\n            HttpEntity&lt;String&gt; secondPartEntity = new HttpEntity&lt;&gt;(&quot;#675&quot;, secondPartMetadata);\r\n            // =========================================================================================\r\n            // third part\r\n            MultiValueMap&lt;String, String&gt; thirdPartMetadata = new LinkedMultiValueMap&lt;&gt;();\r\n            ContentDisposition contentDisposition3 = createContentDisposition(&quot;form-data&quot;, &quot;title&quot;);\r\n            thirdPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition3.toString());\r\n            HttpEntity&lt;String&gt; thirdPartEntity = new HttpEntity&lt;&gt;(&quot;The Plague&quot;, thirdPartMetadata);\r\n            // =========================================================================================\r\n            // fourth part\r\n            MultiValueMap&lt;String, String&gt; fourthPartMetadata = new LinkedMultiValueMap&lt;&gt;();\r\n            ContentDisposition contentDisposition4 = createContentDisposition(&quot;form-data&quot;, &quot;name&quot;);\r\n            fourthPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition4.toString());\r\n            HttpEntity&lt;String&gt; fourthPartEntity = new HttpEntity&lt;&gt;(&quot;albert camus&#39;s the plague&quot;, fourthPartMetadata);\r\n            // =========================================================================================\r\n            MultiValueMap&lt;String, Object&gt; bodyParts = new LinkedMultiValueMap&lt;&gt;();\r\n            bodyParts.add(&quot;fiP&quot;, filePartEntity);\r\n            bodyParts.add(&quot;sP&quot;, secondPartEntity);\r\n            bodyParts.add(&quot;tP&quot;, thirdPartEntity);\r\n            bodyParts.add(&quot;foP&quot;, fourthPartEntity);\r\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyParts, headers);\r\n    \r\n            return restTemplate.postForEntity(destinationUrl, requestEntity, String.class).getBody();\r\n        }\r\n    \r\n        private ContentDisposition createContentDisposition(String dispositionType, String contentDispositionName) {\r\n            return ContentDisposition.builder(dispositionType)\r\n                    .name(contentDispositionName)\r\n                    .build();\r\n        }\r\n    \r\n        private ContentDisposition createContentDisposition(String dispositionType,\r\n                                                            String contentDispositionName, String contentDispositionFileName) {\r\n            return ContentDisposition.builder(dispositionType)\r\n                    .name(contentDispositionName)\r\n                    .filename(contentDispositionFileName, StandardCharsets.UTF_8)\r\n                    .build();\r\n        }\r\n\r\nnow, in my **Server** Spring Boot project, I wrote this `Filter` to track and check the request that has been sent:\r\n\r\n    @WebFilter(&quot;/upload&quot;)\r\n    @Component\r\n    @Order(1)\r\n    public class MyFilter implements Filter {\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n            HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n    \r\n            printHttpServletRequestHeaders(httpServletRequest);\r\n    \r\n            Collection&lt;Part&gt; parts = httpServletRequest.getParts();\r\n            parts.forEach(part -&gt; {\r\n                System.out.println(&quot;========================================&quot;);\r\n                System.out.println(&quot;part size:\\t&quot; + part.getSize());\r\n                System.out.println(&quot;the part content type:\\t&quot; + part.getContentType());\r\n                System.out.println(&quot;the part name:\\t&quot; + part.getName());\r\n                System.out.println(&quot;the part submitted file name:\\t&quot; + part.getSubmittedFileName());\r\n    \r\n                if (!part.getContentType().equals(MediaType.IMAGE_JPEG_VALUE)) {\r\n                    System.out.print(&quot;body of the part:\\t&quot;);\r\n                    try {\r\n                        byte[] bytes = part.getInputStream().readAllBytes();\r\n                        String body = new String(bytes);\r\n                        System.out.println(body);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n    \r\n                Collection&lt;String&gt; headerNames = part.getHeaderNames();\r\n                System.out.println(&quot;the part&#39;s headers:&quot;);\r\n                headerNames.forEach(headerName -&gt; {\r\n                    System.out.println(&quot;\\t&quot; + headerName + &quot; (header) --&gt; &quot; + httpServletRequest.getHeader(headerName));\r\n                });\r\n                System.out.println(&quot;========================================&quot;);\r\n            });\r\n    \r\n            chain.doFilter(request, response);\r\n        }\r\n    \r\n        private void printHttpServletRequestHeaders(HttpServletRequest request) {\r\n            Iterator&lt;String&gt; headersNameIterator = request.getHeaderNames().asIterator();\r\n            while (headersNameIterator.hasNext()) {\r\n                String headerName = headersNameIterator.next();\r\n                System.out.println(headerName + &quot;:&quot; + request.getHeader(headerName));\r\n            }\r\n        }\r\n    }\r\n\r\nand this is the result of execution of my `Filter` and actually the request which I received in my Server Spring Boot project:\r\n\r\n    accept:text/plain, application/json, application/*+json, */*\r\n    content-type:multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\r\n    access-control-allow-origin:*\r\n    access-control-allow-methods:PULL, POST, GET, OPTIONS, DELETE\r\n    access-control-max-age:3600\r\n    access-control-allow-headers:x-requested-with\r\n    access-control-expose-headers:Content-Disposition\r\n    user-agent:Java/11.0.16.1\r\n    host:localhost:8081\r\n    connection:keep-alive\r\n    content-length:2848\r\n    ========================================\r\n    part size:\t2107\r\n    the part content type:\timage/jpeg\r\n    the part name:\tfile\r\n    the part submitted file name:\tTaoon.jpeg\r\n    the part&#39;s headers:\r\n    \tcontent-disposition (header) --&gt; null\r\n    \tcontent-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\r\n    \tcontent-transfer-encoding (header) --&gt; null\r\n    \tcontent-length (header) --&gt; 2848\r\n    ========================================\r\n    ========================================\r\n    part size:\t4\r\n    the part content type:\ttext/plain;charset=UTF-8\r\n    the part name:\tfileId\r\n    the part submitted file name:\tnull\r\n    body of the part:\t#675\r\n    the part&#39;s headers:\r\n    \tcontent-disposition (header) --&gt; null\r\n    \tcontent-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\r\n    \tcontent-length (header) --&gt; 2848\r\n    ========================================\r\n    ========================================\r\n    part size:\t10\r\n    the part content type:\ttext/plain;charset=UTF-8\r\n    the part name:\ttitle\r\n    the part submitted file name:\tnull\r\n    body of the part:\tThe Plague\r\n    the part&#39;s headers:\r\n    \tcontent-disposition (header) --&gt; null\r\n    \tcontent-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\r\n    \tcontent-length (header) --&gt; 2848\r\n    ========================================\r\n    ========================================\r\n    part size:\t25\r\n    the part content type:\ttext/plain;charset=UTF-8\r\n    the part name:\tname\r\n    the part submitted file name:\tnull\r\n    body of the part:\talbert camus&#39;s the plague\r\n    the part&#39;s headers:\r\n    \tcontent-disposition (header) --&gt; null\r\n    \tcontent-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\r\n    \tcontent-length (header) --&gt; 2848\r\n    ========================================\r\n\r\n\r\nnow, my question is why Part&#39;s headers like `content-disposition` and `content-transfer-encoding` are null? what is wrong in my **Server** code that I receive these two header null?\r\n\r\nactually all of the Part&#39;s header are either null or have same value as the HttpServletRequest&#39;s headers value. why? \r\n\r\nThank you. sorry for my bad english.\r\n\r\n***PS***: in some question, someone mentioned that it may be relate to CORS and I set CORS header in my server project but I still receive them null. ","title":"Why headers of javax.servlet.http.Part in Spring Boot are either null or have same value with HttpServletRequest headers in multipart request?","body":"<p>I have a <strong>Client</strong> Spring Boot project which sends a multipart request (actually uploads a picture) to a <strong>Server</strong> Spring Boot project.</p>\n<p>this is the service of my <strong>Client</strong> Spring Boot project which sends the request:</p>\n<pre><code>@Service\npublic class MyService {\n\n    @Autowired\n    RestTemplate restTemplate;\n\n    public String upload(MultipartFile file) throws IOException {\n        String destinationUrl = &quot;http://localhost:8081/upload&quot;;\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;PULL, POST, GET, OPTIONS, DELETE&quot;);\n        headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;3600&quot;);\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;x-requested-with&quot;);\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;Content-Type, api_key, Authorization&quot;);\n        headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;Content-Disposition&quot;);\n        // =========================================================================================\n        // first part\n        MultiValueMap&lt;String, String&gt; filePartMetadata = new LinkedMultiValueMap&lt;&gt;();\n        ContentDisposition contentDisposition1 = createContentDisposition(&quot;form-data&quot;, &quot;file&quot;, &quot;Taoon.jpeg&quot;);\n        filePartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition1.toString());\n        filePartMetadata.add(HttpHeaders.CONTENT_TYPE, MediaType.IMAGE_JPEG_VALUE);\n        filePartMetadata.add(&quot;content-transfer-encoding&quot;, &quot;binary&quot;); \n        HttpEntity&lt;byte[]&gt; filePartEntity;\n        filePartEntity = new HttpEntity&lt;&gt;(file.getBytes(), filePartMetadata);\n        // =========================================================================================\n        // second part\n        MultiValueMap&lt;String, String&gt; secondPartMetadata = new LinkedMultiValueMap&lt;&gt;();\n        ContentDisposition contentDisposition2 = createContentDisposition(&quot;form-data&quot;, &quot;fileId&quot;);\n        secondPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition2.toString());\n        HttpEntity&lt;String&gt; secondPartEntity = new HttpEntity&lt;&gt;(&quot;#675&quot;, secondPartMetadata);\n        // =========================================================================================\n        // third part\n        MultiValueMap&lt;String, String&gt; thirdPartMetadata = new LinkedMultiValueMap&lt;&gt;();\n        ContentDisposition contentDisposition3 = createContentDisposition(&quot;form-data&quot;, &quot;title&quot;);\n        thirdPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition3.toString());\n        HttpEntity&lt;String&gt; thirdPartEntity = new HttpEntity&lt;&gt;(&quot;The Plague&quot;, thirdPartMetadata);\n        // =========================================================================================\n        // fourth part\n        MultiValueMap&lt;String, String&gt; fourthPartMetadata = new LinkedMultiValueMap&lt;&gt;();\n        ContentDisposition contentDisposition4 = createContentDisposition(&quot;form-data&quot;, &quot;name&quot;);\n        fourthPartMetadata.add(HttpHeaders.CONTENT_DISPOSITION, contentDisposition4.toString());\n        HttpEntity&lt;String&gt; fourthPartEntity = new HttpEntity&lt;&gt;(&quot;albert camus's the plague&quot;, fourthPartMetadata);\n        // =========================================================================================\n        MultiValueMap&lt;String, Object&gt; bodyParts = new LinkedMultiValueMap&lt;&gt;();\n        bodyParts.add(&quot;fiP&quot;, filePartEntity);\n        bodyParts.add(&quot;sP&quot;, secondPartEntity);\n        bodyParts.add(&quot;tP&quot;, thirdPartEntity);\n        bodyParts.add(&quot;foP&quot;, fourthPartEntity);\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(bodyParts, headers);\n\n        return restTemplate.postForEntity(destinationUrl, requestEntity, String.class).getBody();\n    }\n\n    private ContentDisposition createContentDisposition(String dispositionType, String contentDispositionName) {\n        return ContentDisposition.builder(dispositionType)\n                .name(contentDispositionName)\n                .build();\n    }\n\n    private ContentDisposition createContentDisposition(String dispositionType,\n                                                        String contentDispositionName, String contentDispositionFileName) {\n        return ContentDisposition.builder(dispositionType)\n                .name(contentDispositionName)\n                .filename(contentDispositionFileName, StandardCharsets.UTF_8)\n                .build();\n    }\n</code></pre>\n<p>now, in my <strong>Server</strong> Spring Boot project, I wrote this <code>Filter</code> to track and check the request that has been sent:</p>\n<pre><code>@WebFilter(&quot;/upload&quot;)\n@Component\n@Order(1)\npublic class MyFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws ServletException, IOException {\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n\n        printHttpServletRequestHeaders(httpServletRequest);\n\n        Collection&lt;Part&gt; parts = httpServletRequest.getParts();\n        parts.forEach(part -&gt; {\n            System.out.println(&quot;========================================&quot;);\n            System.out.println(&quot;part size:\\t&quot; + part.getSize());\n            System.out.println(&quot;the part content type:\\t&quot; + part.getContentType());\n            System.out.println(&quot;the part name:\\t&quot; + part.getName());\n            System.out.println(&quot;the part submitted file name:\\t&quot; + part.getSubmittedFileName());\n\n            if (!part.getContentType().equals(MediaType.IMAGE_JPEG_VALUE)) {\n                System.out.print(&quot;body of the part:\\t&quot;);\n                try {\n                    byte[] bytes = part.getInputStream().readAllBytes();\n                    String body = new String(bytes);\n                    System.out.println(body);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            Collection&lt;String&gt; headerNames = part.getHeaderNames();\n            System.out.println(&quot;the part's headers:&quot;);\n            headerNames.forEach(headerName -&gt; {\n                System.out.println(&quot;\\t&quot; + headerName + &quot; (header) --&gt; &quot; + httpServletRequest.getHeader(headerName));\n            });\n            System.out.println(&quot;========================================&quot;);\n        });\n\n        chain.doFilter(request, response);\n    }\n\n    private void printHttpServletRequestHeaders(HttpServletRequest request) {\n        Iterator&lt;String&gt; headersNameIterator = request.getHeaderNames().asIterator();\n        while (headersNameIterator.hasNext()) {\n            String headerName = headersNameIterator.next();\n            System.out.println(headerName + &quot;:&quot; + request.getHeader(headerName));\n        }\n    }\n}\n</code></pre>\n<p>and this is the result of execution of my <code>Filter</code> and actually the request which I received in my Server Spring Boot project:</p>\n<pre><code>accept:text/plain, application/json, application/*+json, */*\ncontent-type:multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\naccess-control-allow-origin:*\naccess-control-allow-methods:PULL, POST, GET, OPTIONS, DELETE\naccess-control-max-age:3600\naccess-control-allow-headers:x-requested-with\naccess-control-expose-headers:Content-Disposition\nuser-agent:Java/11.0.16.1\nhost:localhost:8081\nconnection:keep-alive\ncontent-length:2848\n========================================\npart size:  2107\nthe part content type:  image/jpeg\nthe part name:  file\nthe part submitted file name:   Taoon.jpeg\nthe part's headers:\n    content-disposition (header) --&gt; null\n    content-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\n    content-transfer-encoding (header) --&gt; null\n    content-length (header) --&gt; 2848\n========================================\n========================================\npart size:  4\nthe part content type:  text/plain;charset=UTF-8\nthe part name:  fileId\nthe part submitted file name:   null\nbody of the part:   #675\nthe part's headers:\n    content-disposition (header) --&gt; null\n    content-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\n    content-length (header) --&gt; 2848\n========================================\n========================================\npart size:  10\nthe part content type:  text/plain;charset=UTF-8\nthe part name:  title\nthe part submitted file name:   null\nbody of the part:   The Plague\nthe part's headers:\n    content-disposition (header) --&gt; null\n    content-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\n    content-length (header) --&gt; 2848\n========================================\n========================================\npart size:  25\nthe part content type:  text/plain;charset=UTF-8\nthe part name:  name\nthe part submitted file name:   null\nbody of the part:   albert camus's the plague\nthe part's headers:\n    content-disposition (header) --&gt; null\n    content-type (header) --&gt; multipart/form-data;boundary=1QIvQU7agC_ATe8c6BEqvgKMSjyk_4uVV5IKSu\n    content-length (header) --&gt; 2848\n========================================\n</code></pre>\n<p>now, my question is why Part's headers like <code>content-disposition</code> and <code>content-transfer-encoding</code> are null? what is wrong in my <strong>Server</strong> code that I receive these two header null?</p>\n<p>actually all of the Part's header are either null or have same value as the HttpServletRequest's headers value. why?</p>\n<p>Thank you. sorry for my bad english.</p>\n<p><em><strong>PS</strong></em>: in some question, someone mentioned that it may be relate to CORS and I set CORS header in my server project but I still receive them null.</p>\n"},{"tags":["java","eclipse","gradle","import","slf4j"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1673927448,"post_id":75141689,"comment_id":132600795,"body_markdown":"*What* did you specify with `requires` in the `module-info.java`?","body":"<i>What</i> did you specify with <code>requires</code> in the <code>module-info.java</code>?"},{"owner":{"account_id":27548566,"reputation":1,"user_id":21024020,"display_name":"bigblacknight"},"score":0,"creation_date":1673928178,"post_id":75141689,"comment_id":132600882,"body_markdown":"@nitind  `requires org.slf4j.simple; requires org.slf4j;` . FYI, for the class, I specified the imports as `import org.slf4j.Logger; import org.slf4j.LoggerFactory;`","body":"@nitind  <code>requires org.slf4j.simple; requires org.slf4j;</code> . FYI, for the class, I specified the imports as <code>import org.slf4j.Logger; import org.slf4j.LoggerFactory;</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1674000046,"post_id":75141689,"comment_id":132620780,"body_markdown":"The external JARs have to be on the _Modulepath_, not on the _Classpath_, in order to be used as modules. In _Project &gt; Properties: Java Build Path_, tab _Libraries_ move the JARs from the  _Classpath_ to the _Modulepath_. By the way, the `.classpath` file looks like from a plain Java project, not from a Gradle project.","body":"The external JARs have to be on the <i>Modulepath</i>, not on the <i>Classpath</i>, in order to be used as modules. In <i>Project &gt; Properties: Java Build Path</i>, tab <i>Libraries</i> move the JARs from the  <i>Classpath</i> to the <i>Modulepath</i>. By the way, the <code>.classpath</code> file looks like from a plain Java project, not from a Gradle project."},{"owner":{"account_id":27548566,"reputation":1,"user_id":21024020,"display_name":"bigblacknight"},"score":0,"creation_date":1683026114,"post_id":75141689,"comment_id":134300294,"body_markdown":"@howlger sflr, your comment helped me a lot, I was new at gradle so I&#39;m a bit rusty, thanks!","body":"@howlger sflr, your comment helped me a lot, I was new at gradle so I&#39;m a bit rusty, thanks!"}],"owner":{"account_id":27548566,"reputation":1,"user_id":21024020,"display_name":"bigblacknight"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673936810,"creation_date":1673925591,"question_id":75141689,"body_markdown":"I am trying to use the SLF4J library in my Gradle project. I have done the steps to import External JARs by Eclipse IDE. But I cannot import them to my class.\r\n\r\nI have tried:\r\n\r\n- To use &#39;requires&#39; on module-info.java and use &#39;import&#39; in my class. The error shows &quot;org.slf4j cannot be resolved to a module&quot; in the module-info.java and &quot;The type org.slf4j.Logger is not accessible&quot; for the import in the class file.\r\n- To use the method Class.forName in my class, if I run the program it shows &quot;Error occurred during initialization of boot layer. java.lang.module.FindException: Module trial_1201 not found&quot;\r\n- To use the SLF4J migrator and use a manifest file to run the migrator, but I&#39;m stuck on Error: Could not find or load main class myclass_name. Caused by: java.lang.ClassNotFoundException: myclass_name&quot;\r\n\r\nSLF4J Libraries in my project that have been imported are: \r\nslf4j-api-2.0.6.jar, slf4j-simple-2.0.6.jar\r\n\r\nMy .classpath file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-19&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/snowflake-jdbc-3.9.2.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-migrator-2.0.6.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-simple-2.0.6.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-api-2.0.6.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/javax.mail-1.6.2.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\r\n&lt;/classpath&gt;\r\n```","title":"Error when using/importing Libraries in Java Gradle","body":"<p>I am trying to use the SLF4J library in my Gradle project. I have done the steps to import External JARs by Eclipse IDE. But I cannot import them to my class.</p>\n<p>I have tried:</p>\n<ul>\n<li>To use 'requires' on module-info.java and use 'import' in my class. The error shows &quot;org.slf4j cannot be resolved to a module&quot; in the module-info.java and &quot;The type org.slf4j.Logger is not accessible&quot; for the import in the class file.</li>\n<li>To use the method Class.forName in my class, if I run the program it shows &quot;Error occurred during initialization of boot layer. java.lang.module.FindException: Module trial_1201 not found&quot;</li>\n<li>To use the SLF4J migrator and use a manifest file to run the migrator, but I'm stuck on Error: Could not find or load main class myclass_name. Caused by: java.lang.ClassNotFoundException: myclass_name&quot;</li>\n</ul>\n<p>SLF4J Libraries in my project that have been imported are:\nslf4j-api-2.0.6.jar, slf4j-simple-2.0.6.jar</p>\n<p>My .classpath file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; path=&quot;src&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-19&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;module&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/snowflake-jdbc-3.9.2.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-migrator-2.0.6.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-simple-2.0.6.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/slf4j-api-2.0.6.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;lib&quot; path=&quot;mypath/javax.mail-1.6.2.jar&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","dexguard"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673175010,"post_id":75047130,"comment_id":132435049,"body_markdown":"You have a NullPointerException. Now tell us which pointer == null? And post the relevant code.","body":"You have a NullPointerException. Now tell us which pointer == null? And post the relevant code."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673175103,"post_id":75047130,"comment_id":132435069,"body_markdown":"Does it crash at install?","body":"Does it crash at install?"},{"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"score":0,"creation_date":1673176672,"post_id":75047130,"comment_id":132435309,"body_markdown":"It crashes when the app starts after it installs. \n\nAbout your first question, that is the problem it doesn&#39;t link to any code and crashes. This is a full stack trace.\n\nI already tried updating google-services.json, checked app id, and updated the 3rd party libraries.","body":"It crashes when the app starts after it installs.   About your first question, that is the problem it doesn&#39;t link to any code and crashes. This is a full stack trace.  I already tried updating google-services.json, checked app id, and updated the 3rd party libraries."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673176877,"post_id":75047130,"comment_id":132435335,"body_markdown":"Then what has your app to do with Firebase?","body":"Then what has your app to do with Firebase?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673176940,"post_id":75047130,"comment_id":132435348,"body_markdown":"Comment all code in onCreate().","body":"Comment all code in onCreate()."},{"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"score":0,"creation_date":1673177040,"post_id":75047130,"comment_id":132435366,"body_markdown":"Tried these ? https://stackoverflow.com/questions/37312103/unable-to-get-provider-com-google-firebase-provider-firebaseinitprovider","body":"Tried these ? <a href=\"https://stackoverflow.com/questions/37312103/unable-to-get-provider-com-google-firebase-provider-firebaseinitprovider\" title=\"unable to get provider com google firebase provider firebaseinitprovider\">stackoverflow.com/questions/37312103/&hellip;</a>"},{"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"score":0,"creation_date":1673177915,"post_id":75047130,"comment_id":132435495,"body_markdown":"1. Okay, trying out to comment out all onCreate on the starting activity. -&gt; Still crashed but now pointing to FirebaseCrashlytics uncaught exceptions.\n2. We already have the applicationId on our defaultConfig\n3. Our minimum SDK is 23 so it should be okay to not have a problem with MultiDex","body":"1. Okay, trying out to comment out all onCreate on the starting activity. -&gt; Still crashed but now pointing to FirebaseCrashlytics uncaught exceptions. 2. We already have the applicationId on our defaultConfig 3. Our minimum SDK is 23 so it should be okay to not have a problem with MultiDex"}],"answers":[{"tags":[],"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673936177,"creation_date":1673936177,"answer_id":75142576,"question_id":75047130,"body_markdown":"To everyone who may have encountered this issue, it&#39;s because Dexguard obfuscation conflicts with some libraries I am using. In this case, the firebase libraries, crashlytics, and the desugaring SDK are notable.\r\n\r\nBringing down firebase and the desugaring SDK to older versions solved my issue.\r\n\r\nIf you encounter this next time, double-check your commits and look for SDK dependency updates. Start from there because the logs will not be helpful in any way.\r\n\r\nGOODLUCK!","title":"java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.NullPointerException","body":"<p>To everyone who may have encountered this issue, it's because Dexguard obfuscation conflicts with some libraries I am using. In this case, the firebase libraries, crashlytics, and the desugaring SDK are notable.</p>\n<p>Bringing down firebase and the desugaring SDK to older versions solved my issue.</p>\n<p>If you encounter this next time, double-check your commits and look for SDK dependency updates. Start from there because the logs will not be helpful in any way.</p>\n<p>GOODLUCK!</p>\n"}],"owner":{"account_id":1474825,"reputation":43,"user_id":1385495,"display_name":"Android Noob"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673936177,"creation_date":1673174657,"question_id":75047130,"body_markdown":"Hi I am trying to build our app for its release variant but it triggers the following error when running the app for the first time.\r\n\r\nSteps to replicate:\r\n 1. Build a signed apk\r\n 2. Install the apk on the emulator\r\n 3. App Crash\r\n\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: silicon.android.app.alpha, PID: 7837\r\njava.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.Integer.intValue()&#39; on a null object reference\r\n         at android.app.ActivityThread.installProvider(ActivityThread.java:7493)\r\n         at android.app.ActivityThread.installContentProviders(ActivityThread.java:6999)\r\n         at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6770)\r\n         at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2134)\r\n         at android.os.Handler.dispatchMessage(Handler.java:106)\r\n         at android.os.Looper.loopOnce(Looper.java:201)\r\n         at android.os.Looper.loop(Looper.java:288)\r\n         at android.app.ActivityThread.main(ActivityThread.java:7898)\r\n         at java.lang.reflect.Method.invoke(Native Method)\r\n         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n      Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.Integer.intValue()&#39; on a null object reference\r\n         at com.google.firebase.components.AbstractComponentContainer.setOf(Unknown Source:220)\r\n         at com.google.firebase.components.ComponentRuntime.setOf(ComponentRuntime.java:46)\r\n         at com.google.firebase.components.RestrictedComponentContainer.setOf(RestrictedComponentContainer.java:150)\r\n         at com.google.firebase.heartbeatinfo.DefaultHeartBeatController.lambda$component$4(DefaultHeartBeatController.java:157)\r\n         at com.google.firebase.heartbeatinfo.DefaultHeartBeatController$$ExternalSyntheticLambda3.create(Unknown Source:0)\r\n         at com.google.firebase.components.ComponentRuntime.lambda$discoverComponents$0$com-google-firebase-components-ComponentRuntime(ComponentRuntime.java:140)\r\n         at com.google.firebase.components.ComponentRuntime$$ExternalSyntheticLambda1.get(Unknown Source:4)\r\n         at com.google.firebase.components.Lazy.get(Lazy.java:53)\r\n         at com.google.firebase.FirebaseApp.initializeAllApis(FirebaseApp.java:606)\r\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:307)\r\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\r\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\r\n         at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\r\n         at android.content.ContentProvider.attachInfo(ContentProvider.java:2451)\r\n         at android.content.ContentProvider.attachInfo(ContentProvider.java:2421)\r\n         at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\r\n         at android.app.ActivityThread.installProvider(ActivityThread.java:7488)\r\n         at android.app.ActivityThread.installContentProviders(ActivityThread.java:6999)&#160;\r\n         at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6770)&#160;\r\n         at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)&#160;\r\n         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2134)&#160;\r\n         at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n         at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n         at android.os.Looper.loop(Looper.java:288)&#160;\r\n         at android.app.ActivityThread.main(ActivityThread.java:7898)&#160;\r\n         at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\nCoincidentally, this only runs on release, but on debug it works fine. I have added -dontshrink, -dontoptimize, -dontobfuscate to my proguard rules which is why I could generate the stack trace.\r\n\r\nBuild Gradle Values\r\n```\r\nandroid {\r\n    compileSdkVersion 33\r\n    buildToolsVersion &quot;33.0.0&quot;\r\n    defaultConfig {\r\n        minSdkVersion 23\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &#39;0.1.0&#39;\r\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n}\r\n```\r\n\r\nminifyEnabled, textCoverageEnabled, shrinkResources all turned to false\r\n\r\nFirebase Libraries\r\n```\r\n&quot;analytics&quot;  : &quot;com.google.firebase:firebase-analytics-ktx&quot;,\r\n&quot;crashlytics&quot;: &quot;com.google.firebase:firebase-crashlytics-ktx&quot;,\r\n&quot;config&quot;     : &quot;com.google.firebase:firebase-config-ktx&quot;,\r\n```","title":"java.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.NullPointerException","body":"<p>Hi I am trying to build our app for its release variant but it triggers the following error when running the app for the first time.</p>\n<p>Steps to replicate:</p>\n<ol>\n<li>Build a signed apk</li>\n<li>Install the apk on the emulator</li>\n<li>App Crash</li>\n</ol>\n<pre><code>FATAL EXCEPTION: main\nProcess: silicon.android.app.alpha, PID: 7837\njava.lang.RuntimeException: Unable to get provider com.google.firebase.provider.FirebaseInitProvider: java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.Integer.intValue()' on a null object reference\n         at android.app.ActivityThread.installProvider(ActivityThread.java:7493)\n         at android.app.ActivityThread.installContentProviders(ActivityThread.java:6999)\n         at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6770)\n         at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\n         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2134)\n         at android.os.Handler.dispatchMessage(Handler.java:106)\n         at android.os.Looper.loopOnce(Looper.java:201)\n         at android.os.Looper.loop(Looper.java:288)\n         at android.app.ActivityThread.main(ActivityThread.java:7898)\n         at java.lang.reflect.Method.invoke(Native Method)\n         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n      Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.Integer.intValue()' on a null object reference\n         at com.google.firebase.components.AbstractComponentContainer.setOf(Unknown Source:220)\n         at com.google.firebase.components.ComponentRuntime.setOf(ComponentRuntime.java:46)\n         at com.google.firebase.components.RestrictedComponentContainer.setOf(RestrictedComponentContainer.java:150)\n         at com.google.firebase.heartbeatinfo.DefaultHeartBeatController.lambda$component$4(DefaultHeartBeatController.java:157)\n         at com.google.firebase.heartbeatinfo.DefaultHeartBeatController$$ExternalSyntheticLambda3.create(Unknown Source:0)\n         at com.google.firebase.components.ComponentRuntime.lambda$discoverComponents$0$com-google-firebase-components-ComponentRuntime(ComponentRuntime.java:140)\n         at com.google.firebase.components.ComponentRuntime$$ExternalSyntheticLambda1.get(Unknown Source:4)\n         at com.google.firebase.components.Lazy.get(Lazy.java:53)\n         at com.google.firebase.FirebaseApp.initializeAllApis(FirebaseApp.java:606)\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:307)\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:271)\n         at com.google.firebase.FirebaseApp.initializeApp(FirebaseApp.java:256)\n         at com.google.firebase.provider.FirebaseInitProvider.onCreate(FirebaseInitProvider.java:51)\n         at android.content.ContentProvider.attachInfo(ContentProvider.java:2451)\n         at android.content.ContentProvider.attachInfo(ContentProvider.java:2421)\n         at com.google.firebase.provider.FirebaseInitProvider.attachInfo(FirebaseInitProvider.java:45)\n         at android.app.ActivityThread.installProvider(ActivityThread.java:7488)\n         at android.app.ActivityThread.installContentProviders(ActivityThread.java:6999) \n         at android.app.ActivityThread.handleBindApplication(ActivityThread.java:6770) \n         at android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0) \n         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2134) \n         at android.os.Handler.dispatchMessage(Handler.java:106) \n         at android.os.Looper.loopOnce(Looper.java:201) \n         at android.os.Looper.loop(Looper.java:288) \n         at android.app.ActivityThread.main(ActivityThread.java:7898) \n         at java.lang.reflect.Method.invoke(Native Method) \n         at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>Coincidentally, this only runs on release, but on debug it works fine. I have added -dontshrink, -dontoptimize, -dontobfuscate to my proguard rules which is why I could generate the stack trace.</p>\n<p>Build Gradle Values</p>\n<pre><code>android {\n    compileSdkVersion 33\n    buildToolsVersion &quot;33.0.0&quot;\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 33\n        versionCode 1\n        versionName '0.1.0'\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n}\n</code></pre>\n<p>minifyEnabled, textCoverageEnabled, shrinkResources all turned to false</p>\n<p>Firebase Libraries</p>\n<pre><code>&quot;analytics&quot;  : &quot;com.google.firebase:firebase-analytics-ktx&quot;,\n&quot;crashlytics&quot;: &quot;com.google.firebase:firebase-crashlytics-ktx&quot;,\n&quot;config&quot;     : &quot;com.google.firebase:firebase-config-ktx&quot;,\n</code></pre>\n"},{"tags":["java","oracle","ads","arabic","hyperion"],"answers":[{"tags":[],"owner":{"account_id":3117792,"reputation":2507,"user_id":2638235,"display_name":"Prags"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673936113,"creation_date":1673889711,"answer_id":75137614,"question_id":75122103,"body_markdown":"There is several way to convert `.ads` files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format\r\n\r\nA) **By changing system/Server setting as give below** `(Require Administrative Privilege&#39;s on System/Server)` \r\n\r\n 1. Control Panel\r\n 2. Clock and Region\r\n 3. Region\r\n\r\nand in Region Tab Select **Administrative**\r\n\r\n**-&gt;** **Change system Locale** and select **Region specific language** for example i have selected `Saudi Arabia`\r\n\r\n[![How to change system setting][1]][1]\r\n\r\nAnd then use below steps\r\n\r\n    Step -1: Navigate to the &lt;Patch_Extract&gt;\\src folder in Command Prompt\r\n    Step -2: Set the JRE path variable\r\n    Step -3: Run the Java Compiler by executing the below command for the Main class –\r\n    Javac ADS_DRM.java\r\n    Step -4: Execute the Java Program using the below command:\r\n    Java ADS_DRM&lt;Space&gt;“ADS File name”&lt;Space&gt;”Target.txt”\r\n\r\n  [1]: https://i.stack.imgur.com/fTjJg.png","title":"Blank File generating, while Converting EPMA generated “.ADS” files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format","body":"<p>There is several way to convert <code>.ads</code> files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format</p>\n<p>A) <strong>By changing system/Server setting as give below</strong> <code>(Require Administrative Privilege's on System/Server)</code></p>\n<ol>\n<li>Control Panel</li>\n<li>Clock and Region</li>\n<li>Region</li>\n</ol>\n<p>and in Region Tab Select <strong>Administrative</strong></p>\n<p><strong>-&gt;</strong> <strong>Change system Locale</strong> and select <strong>Region specific language</strong> for example i have selected <code>Saudi Arabia</code></p>\n<p><a href=\"https://i.stack.imgur.com/fTjJg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTjJg.png\" alt=\"How to change system setting\" /></a></p>\n<p>And then use below steps</p>\n<pre><code>Step -1: Navigate to the &lt;Patch_Extract&gt;\\src folder in Command Prompt\nStep -2: Set the JRE path variable\nStep -3: Run the Java Compiler by executing the below command for the Main class –\nJavac ADS_DRM.java\nStep -4: Execute the Java Program using the below command:\nJava ADS_DRM&lt;Space&gt;“ADS File name”&lt;Space&gt;”Target.txt”\n</code></pre>\n"}],"owner":{"account_id":3117792,"reputation":2507,"user_id":2638235,"display_name":"Prags"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75137614,"answer_count":1,"score":0,"last_activity_date":1673936113,"creation_date":1673740858,"question_id":75122103,"body_markdown":"Blank File generating, while Converting EPMA generated “.ADS” files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format. And .ads file contain some Arabic word&#39;s\r\n\r\n```\r\nTo run the converter, follow the ReadMe document and the step-by-step actions also captured.\r\nStep -1: Navigate to the &lt;Patch_Extract&gt;\\src folder in Command Prompt\r\nStep -2: Set the JRE path variable\r\nStep -3: Run the Java Compiler by executing the below command for the Main class –\r\nJavac ADS_DRM.java\r\nStep -4: Execute the Java Program using the below command:\r\nJava ADS_DRM&lt;Space&gt;“ADS File name”&lt;Space&gt;”Target.txt”\r\n```\r\n\r\nFile getting generated with 0 Byte/Blank file\r\n\r\nPlease suggest how to fix this issue","title":"Blank File generating, while Converting EPMA generated “.ADS” files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format","body":"<p>Blank File generating, while Converting EPMA generated “.ADS” files for their Planning, HFM, HPCM and Essbase outlines to a DRM import format. And .ads file contain some Arabic word's</p>\n<pre><code>To run the converter, follow the ReadMe document and the step-by-step actions also captured.\nStep -1: Navigate to the &lt;Patch_Extract&gt;\\src folder in Command Prompt\nStep -2: Set the JRE path variable\nStep -3: Run the Java Compiler by executing the below command for the Main class –\nJavac ADS_DRM.java\nStep -4: Execute the Java Program using the below command:\nJava ADS_DRM&lt;Space&gt;“ADS File name”&lt;Space&gt;”Target.txt”\n</code></pre>\n<p>File getting generated with 0 Byte/Blank file</p>\n<p>Please suggest how to fix this issue</p>\n"},{"tags":["java","http-status-codes","okhttp"],"answers":[{"tags":[],"owner":{"account_id":1847968,"reputation":2287,"user_id":1675219,"accept_rate":100,"display_name":"dinukadev"},"down_vote_count":3,"up_vote_count":71,"is_accepted":true,"score":68,"last_activity_date":1401640901,"creation_date":1401631725,"answer_id":23980707,"question_id":23980521,"body_markdown":"You can use [HttpResponse][1] class and using that you can access the status code as follows;\r\n\r\n    HttpResponse httpResponse = client.newCall(request).execute(); \r\n    httpResponse.getStatusLine().getStatusCode();\r\n\r\nIf you are using com.squareup.okhttp.Response then you can use the code() method to get the HTTP status code.\r\n\r\n    Response httpResponse = client.newCall(request).execute(); \r\n    httpResponse.code();\r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpResponse.html?is-external=true","title":"Get Http Status Code with OkHttp","body":"<p>You can use <a href=\"http://hc.apache.org/httpcomponents-core-ga/httpcore/apidocs/org/apache/http/HttpResponse.html?is-external=true\">HttpResponse</a> class and using that you can access the status code as follows;</p>\n\n<pre><code>HttpResponse httpResponse = client.newCall(request).execute(); \nhttpResponse.getStatusLine().getStatusCode();\n</code></pre>\n\n<p>If you are using com.squareup.okhttp.Response then you can use the code() method to get the HTTP status code.</p>\n\n<pre><code>Response httpResponse = client.newCall(request).execute(); \nhttpResponse.code();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1699302,"reputation":11792,"user_id":1559852,"accept_rate":100,"display_name":"savepopulation"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1401884198,"creation_date":1401884198,"answer_id":24037236,"question_id":23980521,"body_markdown":"You can get response with:\r\n\r\n    Response response = client.newCall(request).execute();\r\n\r\nAnd get response status code with:\r\n\r\n    int responseCode = response.code();","title":"Get Http Status Code with OkHttp","body":"<p>You can get response with:</p>\n\n<pre><code>Response response = client.newCall(request).execute();\n</code></pre>\n\n<p>And get response status code with:</p>\n\n<pre><code>int responseCode = response.code();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16780122,"reputation":31,"user_id":12130510,"display_name":"Davronito"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673935981,"creation_date":1673935981,"answer_id":75142555,"question_id":23980521,"body_markdown":"    Response response = client.newCall(request).execute();\r\n    HttpStatus status = response!=null ? HttpStatus.resolve(response.code()) : null;","title":"Get Http Status Code with OkHttp","body":"<pre><code>Response response = client.newCall(request).execute();\nHttpStatus status = response!=null ? HttpStatus.resolve(response.code()) : null;\n</code></pre>\n"}],"owner":{"account_id":1521886,"reputation":17478,"user_id":2224996,"accept_rate":87,"display_name":"maja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46719,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":23980707,"answer_count":3,"score":34,"last_activity_date":1673935981,"creation_date":1401630364,"question_id":23980521,"body_markdown":"I&#39;m using OkHttp to get the content of some websites.\r\n\r\nHowever, I&#39;m not able to get the Http-Status Code from the response.\r\n\r\nMy Java-Code:\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n    Request request = new Request.Builder()\r\n    \t\t    \t   \t.url(&quot;https://www.google.at&quot;)\r\n    \t\t    \t   \t.build();\r\n    Response httpResponse = client.newCall(request).execute();    \r\n    String html = httpResponse.body().string();\r\n\r\n\r\nThis method:\r\n\r\n    httpResponse.toString(); \r\n\r\nReturns the following content:\r\n\r\n    Response{protocol=http/1.1, code=200, message=OK, url=https://www.google.at}\r\n\r\nIs there a way to get the statusCode as an integer, or do I need a Regular Expression to filter it out of this toString()-method?","title":"Get Http Status Code with OkHttp","body":"<p>I'm using OkHttp to get the content of some websites.</p>\n\n<p>However, I'm not able to get the Http-Status Code from the response.</p>\n\n<p>My Java-Code:</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\nRequest request = new Request.Builder()\n                    .url(\"https://www.google.at\")\n                    .build();\nResponse httpResponse = client.newCall(request).execute();    \nString html = httpResponse.body().string();\n</code></pre>\n\n<p>This method:</p>\n\n<pre><code>httpResponse.toString(); \n</code></pre>\n\n<p>Returns the following content:</p>\n\n<pre><code>Response{protocol=http/1.1, code=200, message=OK, url=https://www.google.at}\n</code></pre>\n\n<p>Is there a way to get the statusCode as an integer, or do I need a Regular Expression to filter it out of this toString()-method?</p>\n"},{"tags":["java","gradle","jitpack"],"answers":[{"tags":[],"owner":{"account_id":13219673,"reputation":1830,"user_id":9546874,"display_name":"Recessive"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673935938,"creation_date":1673935938,"answer_id":75142552,"question_id":75141410,"body_markdown":"90% sure this was caused by the git history being too long (ie, over 500mb). To fix this I did the following:\r\n\r\n```\r\ngit checkout --orphan &lt;orphan-branch-name&gt;\r\ngit commit\r\n\r\ngit push &lt;remote-name&gt; &lt;orphan-branch-name&gt;\r\n```\r\n\r\nThis created an orphan branch with no commit history. Then in the build file I replaced the version with:\r\n\r\n```\r\ndependencies{\r\n    compileOnly &quot;com.github.Recessive:repo:orphan-SNAPSHOT&quot;\r\n}\r\n```\r\n\r\nAnd it started working. Gradle/Jitpack has a horrendous lack of proper error reporting, as is evident but the [most common error message from Jitpack](https://stackoverflow.com/questions/33058358/jitpack-io-failed-to-resolve-github-repo) having *10 different answers*","title":"jitpack not finding new versions of github repo but can find old ones","body":"<p>90% sure this was caused by the git history being too long (ie, over 500mb). To fix this I did the following:</p>\n<pre><code>git checkout --orphan &lt;orphan-branch-name&gt;\ngit commit\n\ngit push &lt;remote-name&gt; &lt;orphan-branch-name&gt;\n</code></pre>\n<p>This created an orphan branch with no commit history. Then in the build file I replaced the version with:</p>\n<pre><code>dependencies{\n    compileOnly &quot;com.github.Recessive:repo:orphan-SNAPSHOT&quot;\n}\n</code></pre>\n<p>And it started working. Gradle/Jitpack has a horrendous lack of proper error reporting, as is evident but the <a href=\"https://stackoverflow.com/questions/33058358/jitpack-io-failed-to-resolve-github-repo\">most common error message from Jitpack</a> having <em>10 different answers</em></p>\n"}],"owner":{"account_id":13219673,"reputation":1830,"user_id":9546874,"display_name":"Recessive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673935938,"creation_date":1673921686,"question_id":75141410,"body_markdown":"I have the following `build.gradle` file:\r\n\r\n    apply plugin: &quot;java&quot;\r\n    \r\n    version &#39;1.0&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    sourceSets.main.java.srcDirs = [&quot;src&quot;]\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenCentral()\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n        }\r\n    }\r\n    \r\n    dependencies{\r\n        compileOnly &#39;com.github.Recessive:repo:v0.5&#39; \r\n        implementation &#39;mysql:mysql-connector-java:8.0.12&#39;\r\n    }\r\n    \r\n    jar{\r\n        archiveFileName = &quot;${project.archivesBaseName}.jar&quot;\r\n        from{\r\n            configurations.runtimeClasspath.collect{it.isDirectory() ? it : zipTree(it)}\r\n        }\r\n    \r\n        from(rootDir){\r\n            include &quot;plugin.json&quot;\r\n        }\r\n    }\r\n\r\nThat isn&#39;t working and returning the error \r\n```\r\nLocalRepo1:main: Could not find com.github.Recessive.repo:v0.5:.\r\n```\r\n\r\nTo add salt to the wound, I released a `v0.2` three months ago, and this works perfectly fine. Changing the line \r\n\r\n`compileOnly &#39;com.github.Recessive:repo:v0.5&#39; `\r\n\r\nto \r\n\r\n`compileOnly &#39;com.github.Recessive:repo:v0.2&#39;` \r\n\r\nwill build with the older version no problem. I&#39;ve released `v0.3` to `v0.5` as troubleshooting just to try and get jitpack to work, they are all functionally the same. I tried using the `master-SNAPSHOT` as well but this stopped working when I made the `v0.3` release for unknown reasons.\r\n\r\nThe only error I will get regardless of the issue is the one stated before, making it basically impossible to know what is going on without significant knowledge of jitpack and gradle, hence the question here.\r\n\r\nIf anyone has any idea why this error might have suddenly popped up help would be greatly appreciated\r\n\r\n\r\nEDIT: Also I know jitpack is returning the `v0.2` version properly as I checked the link manually. While gradle is just building from the cached version jitpack is also behaving as expected","title":"jitpack not finding new versions of github repo but can find old ones","body":"<p>I have the following <code>build.gradle</code> file:</p>\n<pre><code>apply plugin: &quot;java&quot;\n\nversion '1.0'\n\nsourceCompatibility = 1.8\n\nsourceSets.main.java.srcDirs = [&quot;src&quot;]\n\nallprojects {\n    repositories {\n        mavenCentral()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n}\n\ndependencies{\n    compileOnly 'com.github.Recessive:repo:v0.5' \n    implementation 'mysql:mysql-connector-java:8.0.12'\n}\n\njar{\n    archiveFileName = &quot;${project.archivesBaseName}.jar&quot;\n    from{\n        configurations.runtimeClasspath.collect{it.isDirectory() ? it : zipTree(it)}\n    }\n\n    from(rootDir){\n        include &quot;plugin.json&quot;\n    }\n}\n</code></pre>\n<p>That isn't working and returning the error</p>\n<pre><code>LocalRepo1:main: Could not find com.github.Recessive.repo:v0.5:.\n</code></pre>\n<p>To add salt to the wound, I released a <code>v0.2</code> three months ago, and this works perfectly fine. Changing the line</p>\n<p><code>compileOnly 'com.github.Recessive:repo:v0.5' </code></p>\n<p>to</p>\n<p><code>compileOnly 'com.github.Recessive:repo:v0.2'</code></p>\n<p>will build with the older version no problem. I've released <code>v0.3</code> to <code>v0.5</code> as troubleshooting just to try and get jitpack to work, they are all functionally the same. I tried using the <code>master-SNAPSHOT</code> as well but this stopped working when I made the <code>v0.3</code> release for unknown reasons.</p>\n<p>The only error I will get regardless of the issue is the one stated before, making it basically impossible to know what is going on without significant knowledge of jitpack and gradle, hence the question here.</p>\n<p>If anyone has any idea why this error might have suddenly popped up help would be greatly appreciated</p>\n<p>EDIT: Also I know jitpack is returning the <code>v0.2</code> version properly as I checked the link manually. While gradle is just building from the cached version jitpack is also behaving as expected</p>\n"},{"tags":["java","visual-studio-code","utf-8","formatting","output"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1673598746,"post_id":75106575,"comment_id":132539601,"body_markdown":"Which code page is being used (`chcp` command in command window)? Is your Windows Locale set to support Unicode UTF-8? [screenshot](https://i.stack.imgur.com/ME3DG.png) {assuming Windows OS}","body":"Which code page is being used (<code>chcp</code> command in command window)? Is your Windows Locale set to support Unicode UTF-8? <a href=\"https://i.stack.imgur.com/ME3DG.png\" rel=\"nofollow noreferrer\">screenshot</a> {assuming Windows OS}"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673600160,"post_id":75106575,"comment_id":132540018,"body_markdown":"chcp is 65001 when done in the terminal.\nI also have a thing where it auto does 65001 whenever I open to run code.\nJson code online was used to automatically do the 65001:","body":"chcp is 65001 when done in the terminal. I also have a thing where it auto does 65001 whenever I open to run code. Json code online was used to automatically do the 65001:"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673600715,"post_id":75106575,"comment_id":132540183,"body_markdown":"Also I forgot to add, my Windows Locale is st to support Unicode UTF-8","body":"Also I forgot to add, my Windows Locale is st to support Unicode UTF-8"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1673602254,"post_id":75106575,"comment_id":132540667,"body_markdown":"What font is being used in your terminal window?","body":"What font is being used in your terminal window?"},{"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"score":0,"creation_date":1673625460,"post_id":75106575,"comment_id":132548332,"body_markdown":"For font, this is what it says:\nEditor: Consolas, &#39;Courier New&#39;, monospace\nIf I recall, Consolas can print special characters. For Terminal Font family it also says Consolas.","body":"For font, this is what it says: Editor: Consolas, &#39;Courier New&#39;, monospace If I recall, Consolas can print special characters. For Terminal Font family it also says Consolas."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1673902970,"post_id":75106575,"comment_id":132596754,"body_markdown":"I can&#39;t reproduce your problem in VSCode on Windows 10. From this `System.out.println(&quot;PrintStream is using &quot; + System.out.charset().toString() + &quot;: &quot; + &#39;说&#39;); ` I get this output in Terminal: `PrintStream is using UTF-8: 说`. Can you update your question to show your code, and also include my `println()` call so we can see what encoding is being used? You might also try doing `System.setOut(new PrintStream(System.out, true, StandardCharsets.UTF_8));` to explicitly set your PrintStream to use UTF-8 before calling `println()`, though in your case that shouldn&#39;t really be necessary.","body":"I can&#39;t reproduce your problem in VSCode on Windows 10. From this <code>System.out.println(&quot;PrintStream is using &quot; + System.out.charset().toString() + &quot;: &quot; + &#39;说&#39;); </code> I get this output in Terminal: <code>PrintStream is using UTF-8: 说</code>. Can you update your question to show your code, and also include my <code>println()</code> call so we can see what encoding is being used? You might also try doing <code>System.setOut(new PrintStream(System.out, true, StandardCharsets.UTF_8));</code> to explicitly set your PrintStream to use UTF-8 before calling <code>println()</code>, though in your case that shouldn&#39;t really be necessary."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1673903356,"post_id":75106575,"comment_id":132596858,"body_markdown":"Also provide a screen shot of the Terminal window to show _exactly_ what is being printed. I just ran in VSCode without doing any explicit configuration at all and it worked fine, so it seems probable that there is something in your environment that is causing this issue.","body":"Also provide a screen shot of the Terminal window to show <i>exactly</i> what is being printed. I just ran in VSCode without doing any explicit configuration at all and it worked fine, so it seems probable that there is something in your environment that is causing this issue."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673935611,"creation_date":1673935611,"answer_id":75142504,"question_id":75106575,"body_markdown":"What is your machine language? Change the system language to ***Chinese***, and modify the system locale to ***Chinese***(you may need to restart the computer), then restart vscode and print out Chinese characters.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother simple and effective way is to use the [Code Runner][2] extension. Install the extension and execute the script with `Run Code`, the **OUTPUT** panel will display the result.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CwxNr.png\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [3]: https://i.stack.imgur.com/pJhnb.png","title":"Java, not printing Chinese Character in Visual Studios Code, but works in Python","body":"<p>What is your machine language? Change the system language to <em><strong>Chinese</strong></em>, and modify the system locale to <em><strong>Chinese</strong></em>(you may need to restart the computer), then restart vscode and print out Chinese characters.</p>\n<p><a href=\"https://i.stack.imgur.com/CwxNr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CwxNr.png\" alt=\"enter image description here\" /></a></p>\n<p>Another simple and effective way is to use the <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\">Code Runner</a> extension. Install the extension and execute the script with <code>Run Code</code>, the <strong>OUTPUT</strong> panel will display the result.</p>\n<p><a href=\"https://i.stack.imgur.com/pJhnb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pJhnb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17927004,"reputation":23,"user_id":13025372,"display_name":"Rikki Koppolu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673935611,"creation_date":1673598365,"question_id":75106575,"body_markdown":"When I do\r\nSystem.out.println(&#39;说&#39;);\r\nIt just prints &quot;?&quot;\r\n\r\nIn the bottom right corner it says UTF-8 (so that is good).\r\nI have no idea what I am doing wrong, any help much appreciated.\r\nPS: When I make a python file and print it, it prints it properly. But not in java :(\r\n\r\nI tried doing System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;); but same result sadly. I tried running code in repl.it, and it works. But not in visual studios.\r\n\r\nNote that windows Locale is set to support UTF-8. And I am using Consolas Font, which should support UTF-8.\r\nI also tried uninstalling VS and installing it again - it didn&#39;t fix anything.\r\n\r\nI am also using terminal for all output.\r\n\r\n","title":"Java, not printing Chinese Character in Visual Studios Code, but works in Python","body":"<p>When I do\nSystem.out.println('说');\nIt just prints &quot;?&quot;</p>\n<p>In the bottom right corner it says UTF-8 (so that is good).\nI have no idea what I am doing wrong, any help much appreciated.\nPS: When I make a python file and print it, it prints it properly. But not in java :(</p>\n<p>I tried doing System.setProperty(&quot;file.encoding&quot;, &quot;UTF-8&quot;); but same result sadly. I tried running code in repl.it, and it works. But not in visual studios.</p>\n<p>Note that windows Locale is set to support UTF-8. And I am using Consolas Font, which should support UTF-8.\nI also tried uninstalling VS and installing it again - it didn't fix anything.</p>\n<p>I am also using terminal for all output.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"score":0,"creation_date":1340727431,"post_id":11211451,"comment_id":14720934,"body_markdown":"i dont think u can debug an xml file. i have tried debugging the actual java code but it never reaches it as it is still trying to organise the beans and its applicaion context","body":"i dont think u can debug an xml file. i have tried debugging the actual java code but it never reaches it as it is still trying to organise the beans and its applicaion context"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1340727656,"post_id":11211451,"comment_id":14721071,"body_markdown":"Spring and Hibernate are written in &quot;actual java code&quot;, too. The stacktrace reveals which classes and methods are involved in building the SessionFactory. Simply set a few breakpoint there to find out where things are going wrong?","body":"Spring and Hibernate are written in &quot;actual java code&quot;, too. The stacktrace reveals which classes and methods are involved in building the SessionFactory. Simply set a few breakpoint there to find out where things are going wrong?"},{"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"score":0,"creation_date":1340787484,"post_id":11211451,"comment_id":14738991,"body_markdown":"Sorry but u cant debug libs unless u import the whole lib class project into your project. things like &quot;org.springframework.beans.factory&quot; cant be debugged through libs.","body":"Sorry but u cant debug libs unless u import the whole lib class project into your project. things like &quot;org.springframework.beans.factory&quot; cant be debugged through libs."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":2,"creation_date":1340814786,"post_id":11211451,"comment_id":14752976,"body_markdown":"Of course you can. Yes, the source code of the libraries is useful for that. A well configured IDE / build tool like eclipse/maven will download the source code of dependencies automatically. Failing that, you can also attach the sources manually. In short, consult the documentation of your IDE before proclaiming something impossible.","body":"Of course you can. Yes, the source code of the libraries is useful for that. A well configured IDE / build tool like eclipse/maven will download the source code of dependencies automatically. Failing that, you can also attach the sources manually. In short, consult the documentation of your IDE before proclaiming something impossible."}],"answers":[{"tags":[],"owner":{"account_id":1041278,"reputation":5253,"user_id":1047269,"display_name":"Johanna"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1340727826,"creation_date":1340727826,"answer_id":11211751,"question_id":11211451,"body_markdown":"The database connection is missing. Add to your hibernate.cfg.xml file a lines like this\r\n\r\n    &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    &lt;property name=&quot;connection.url&quot;&gt;\r\n\t\tjdbc:mysql://localhost:3306/your_database\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;connection.username&quot;&gt;your_user&lt;/property&gt;\r\n    &lt;property name=&quot;connection.password&quot;&gt;your_password&lt;/property&gt;\r\n\r\n(replace localhost if the database is not installed on your computer, and set the values beginning with `your_` in my example).","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>The database connection is missing. Add to your hibernate.cfg.xml file a lines like this</p>\n\n<pre><code>&lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n&lt;property name=\"connection.url\"&gt;\n    jdbc:mysql://localhost:3306/your_database\n&lt;/property&gt;\n&lt;property name=\"connection.username\"&gt;your_user&lt;/property&gt;\n&lt;property name=\"connection.password\"&gt;your_password&lt;/property&gt;\n</code></pre>\n\n<p>(replace localhost if the database is not installed on your computer, and set the values beginning with <code>your_</code> in my example).</p>\n"},{"tags":[],"owner":{"account_id":1580087,"reputation":8933,"user_id":1465623,"accept_rate":84,"display_name":"Rahul Agrawal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507294664,"creation_date":1340776626,"answer_id":11220224,"question_id":11211451,"body_markdown":"I think your `datasource-config.xml` is not in classpath\r\n\r\ninstead of having this file in `WEB-INF/datasource-config.xml`\r\n\r\ncopy it to `WEB-INF/classes/datasource-config.xml`","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I think your <code>datasource-config.xml</code> is not in classpath</p>\n\n<p>instead of having this file in <code>WEB-INF/datasource-config.xml</code></p>\n\n<p>copy it to <code>WEB-INF/classes/datasource-config.xml</code></p>\n"},{"tags":[],"owner":{"account_id":64344,"reputation":8352,"user_id":189992,"accept_rate":95,"display_name":"ssedano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340879541,"creation_date":1340875329,"answer_id":11241581,"question_id":11211451,"body_markdown":"I you are using hibernate and `InnoDB` why don&#39;t you set the `hibernate.dialect` to `org.hibernate.dialect.MySQL5` or   `org.hibernate.dialect.MySQL`.\r\n\r\nand the connection property to `hibernate.connection.url`.","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I you are using hibernate and <code>InnoDB</code> why don't you set the <code>hibernate.dialect</code> to <code>org.hibernate.dialect.MySQL5</code> or   <code>org.hibernate.dialect.MySQL</code>.</p>\n\n<p>and the connection property to <code>hibernate.connection.url</code>.</p>\n"},{"tags":[],"owner":{"account_id":1509946,"reputation":1433,"user_id":1412324,"accept_rate":75,"display_name":"Jonas Eicher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362407478,"creation_date":1362407478,"answer_id":15203883,"question_id":11211451,"body_markdown":"I had the same problem. Switching from the Apache Commons DataSource:\r\n\r\n    &lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n        destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${database.password} &quot; /&gt;\r\n    &lt;/bean&gt;\r\nTo C3P0:\r\n\r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:mysql://ipadress:3306/schema&quot; /&gt;\r\n\t\t&lt;property name=&quot;user&quot; value=&quot;root&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;abc&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nmade my problem go away. Maybe someone can explain why, I am just happy it works and wanna share what little I know :)","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I had the same problem. Switching from the Apache Commons DataSource:</p>\n\n<pre><code>&lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n    destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n    &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${database.password} \" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>To C3P0:</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"&gt;\n    &lt;property name=\"driverClass\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"jdbcUrl\" value=\"jdbc:mysql://ipadress:3306/schema\" /&gt;\n    &lt;property name=\"user\" value=\"root\" /&gt;\n    &lt;property name=\"password\" value=\"abc\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>made my problem go away. Maybe someone can explain why, I am just happy it works and wanna share what little I know :)</p>\n"},{"tags":[],"owner":{"account_id":2194764,"reputation":118,"user_id":1940763,"accept_rate":75,"display_name":"manoj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484300174,"creation_date":1377854535,"answer_id":18529337,"question_id":11211451,"body_markdown":"i think you are not configure **hibernate.cfg.xml.**\r\n\r\n    Configuration configuration = new Configuration();\r\n\tconfiguration.configure(&quot;hibernate.cfg.xml&quot;);\r\n\tSessionFactory factory = configuration.buildSessionFactory();\r\n\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>i think you are not configure <strong>hibernate.cfg.xml.</strong></p>\n\n<pre><code>Configuration configuration = new Configuration();\nconfiguration.configure(\"hibernate.cfg.xml\");\nSessionFactory factory = configuration.buildSessionFactory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3964426,"reputation":1709,"user_id":3270804,"accept_rate":89,"display_name":"Jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393675184,"creation_date":1393675184,"answer_id":22114068,"question_id":11211451,"body_markdown":"You did&#39;t post your session factory initialization code. But I guess this is the same problem with &lt;a href=&quot;https://stackoverflow.com/questions/21282432/hibernateexception-access-to-dialectresolutioninfo-cannot-be-null-when-hiberna&quot;&gt;this one&lt;/a&gt;\r\n\r\nFrom Hibernate 4.3.2.Final, StandardServiceRegistryBuilder is introduced. Please follow this order to intialize, e.g.:\r\n\r\n    Configuration configuration = new Configuration();\r\n    configuration.configure(&quot;com/jeecourse/config/hibernate.cfg.xml&quot;);\r\n\r\n    ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\r\n            configuration.getProperties()).build();\r\n    sessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\r\n\r\nPlease double check your code.\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>You did't post your session factory initialization code. But I guess this is the same problem with <a href=\"https://stackoverflow.com/questions/21282432/hibernateexception-access-to-dialectresolutioninfo-cannot-be-null-when-hiberna\">this one</a></p>\n\n<p>From Hibernate 4.3.2.Final, StandardServiceRegistryBuilder is introduced. Please follow this order to intialize, e.g.:</p>\n\n<pre><code>Configuration configuration = new Configuration();\nconfiguration.configure(\"com/jeecourse/config/hibernate.cfg.xml\");\n\nServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder().applySettings(\n        configuration.getProperties()).build();\nsessionFactory = configuration.buildSessionFactory(serviceRegistry);\n</code></pre>\n\n<p>Please double check your code.</p>\n"},{"tags":[],"owner":{"account_id":1923885,"reputation":4601,"user_id":1734778,"display_name":"jsina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448551841,"creation_date":1448551841,"answer_id":33942228,"question_id":11211451,"body_markdown":"I think you don&#39;t create the Configuration like below. \r\n\r\n    Configuration conf = new Configuration().configure();\r\n\r\nBest\r\n\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I think you don't create the Configuration like below. </p>\n\n<pre><code>Configuration conf = new Configuration().configure();\n</code></pre>\n\n<p>Best</p>\n"},{"tags":[],"owner":{"account_id":7634085,"reputation":1,"user_id":5788156,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507295576,"creation_date":1452753044,"answer_id":34783037,"question_id":11211451,"body_markdown":"Creation of `ServiceRegistry` instance separately and pass it to `buildSessionFactory` may cause this error. Try to create `SessionFactory` instance as follows:\r\n \r\n\r\n    private static SessionFactory factory;\r\n    factory = cfg.buildSessionFactory(\r\n              new ServiceRegistryBuilder().applySettings(cfg.getProperties())\r\n             .buildServiceRegistry());\r\n\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>Creation of <code>ServiceRegistry</code> instance separately and pass it to <code>buildSessionFactory</code> may cause this error. Try to create <code>SessionFactory</code> instance as follows:</p>\n\n<pre><code>private static SessionFactory factory;\nfactory = cfg.buildSessionFactory(\n          new ServiceRegistryBuilder().applySettings(cfg.getProperties())\n         .buildServiceRegistry());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7672197,"reputation":21,"user_id":5814056,"display_name":"BALA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507294313,"creation_date":1453373499,"answer_id":34921707,"question_id":11211451,"body_markdown":"I think its the problem of not loading your `hibernate.cfg.xml` file in your application.\r\n\r\nI too got the same problem. I have tried with the following code in my project:\r\n\r\n    Configuration cfg = new Configuration();\r\n    cfg.configure(&quot;hibernate.cfg.xml&quot;);\r\n\r\nThen it has worked fine. \r\nHope this will help.","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I think its the problem of not loading your <code>hibernate.cfg.xml</code> file in your application.</p>\n\n<p>I too got the same problem. I have tried with the following code in my project:</p>\n\n<pre><code>Configuration cfg = new Configuration();\ncfg.configure(\"hibernate.cfg.xml\");\n</code></pre>\n\n<p>Then it has worked fine. \nHope this will help.</p>\n"},{"tags":[],"owner":{"account_id":7733290,"reputation":1,"user_id":5855656,"display_name":"xiaofeiyu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467877207,"creation_date":1467874845,"answer_id":38239314,"question_id":11211451,"body_markdown":"I think the error cased by unloading hibernate.cfg.xml file after you have created the Configuration Object like this:\r\n  \r\n\r\n    Configuration config = new Configuration();\r\n\tconfig.configure(&quot;hibernate.cfg.xml&quot;);","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I think the error cased by unloading hibernate.cfg.xml file after you have created the Configuration Object like this:</p>\n\n<pre><code>Configuration config = new Configuration();\nconfig.configure(\"hibernate.cfg.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4426945,"reputation":1289,"user_id":3605161,"accept_rate":87,"display_name":"phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479215049,"creation_date":1479215049,"answer_id":40610544,"question_id":11211451,"body_markdown":"I had the the same problem and the issue was, that my computer was not entered in the pg_hba.conf of the postgres database that allows which Clients(IP-Adresses) are allowed to speak with the database. \r\n\r\nbtw: Other users tells that the error raises too if they simply forget starting database service locally","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I had the the same problem and the issue was, that my computer was not entered in the pg_hba.conf of the postgres database that allows which Clients(IP-Adresses) are allowed to speak with the database. </p>\n\n<p>btw: Other users tells that the error raises too if they simply forget starting database service locally</p>\n"},{"tags":[],"owner":{"account_id":12245563,"reputation":51,"user_id":8937307,"display_name":"navin shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543157510,"creation_date":1543142975,"answer_id":53466705,"question_id":11211451,"body_markdown":"This issue comes if your mysql-connector version and mysql-installer version is different. \r\n\r\nInternally it will throw Caused by: \r\n\r\n&gt;com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client.\r\n\r\nSo you need make your mysql-connector version and mysql-installer version same...\r\n\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>This issue comes if your mysql-connector version and mysql-installer version is different. </p>\n\n<p>Internally it will throw Caused by: </p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: Client does not support authentication protocol requested by server; consider upgrading MySQL client.</p>\n</blockquote>\n\n<p>So you need make your mysql-connector version and mysql-installer version same...</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555508170,"creation_date":1555508170,"answer_id":55728835,"question_id":11211451,"body_markdown":"Added the following in persistence.xml file,\r\n\r\n    &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot;/&gt;","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>Added the following in persistence.xml file,</p>\n\n<pre><code>&lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2423876,"reputation":802,"user_id":2116248,"accept_rate":45,"display_name":"Luiz Rossi"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1590001709,"creation_date":1590001709,"answer_id":61921019,"question_id":11211451,"body_markdown":"I had this error with JPA, then I just added this line to application.properties:\r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\nbased on this post: https://stackoverflow.com/questions/26548505/org-hibernate-hibernateexception-access-to-dialectresolutioninfo-cannot-be-null","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>I had this error with JPA, then I just added this line to application.properties:</p>\n\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n\n<p>based on this post: <a href=\"https://stackoverflow.com/questions/26548505/org-hibernate-hibernateexception-access-to-dialectresolutioninfo-cannot-be-null\">org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set</a></p>\n"},{"tags":[],"owner":{"account_id":11408324,"reputation":59,"user_id":8363186,"display_name":"Anshul Samaiyar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590287544,"creation_date":1590287544,"answer_id":61980949,"question_id":11211451,"body_markdown":"We were recently facing the same issue with one of our deployment, as we were also using hibernate and dialect is null is a vague error.\r\nI use was with connection string itself and did the changes below to make it work\r\n\r\nconnectionUrl :- jdbc:mysql://127.0.0.1:3306/{{dbName}}?serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&amp;useSSL=false\r\n\r\nSteps how did we solve it\r\n1) We ran simple DB connection with JDBC driver that will gave the exception of time zone.\r\n2) we found the issue with time zone and had to add more properties in connection string as show above.\r\n3) We also added 2 other properties as still it was not working.\r\n\r\nDialect is not set is vague to took lot of our time, I hope this helps.\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>We were recently facing the same issue with one of our deployment, as we were also using hibernate and dialect is null is a vague error.\nI use was with connection string itself and did the changes below to make it work</p>\n\n<p>connectionUrl :- jdbc:mysql://127.0.0.1:3306/{{dbName}}?serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&amp;useSSL=false</p>\n\n<p>Steps how did we solve it\n1) We ran simple DB connection with JDBC driver that will gave the exception of time zone.\n2) we found the issue with time zone and had to add more properties in connection string as show above.\n3) We also added 2 other properties as still it was not working.</p>\n\n<p>Dialect is not set is vague to took lot of our time, I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5157394,"reputation":51,"user_id":4130245,"display_name":"SatyaRajC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613369139,"creation_date":1613369139,"answer_id":66203406,"question_id":11211451,"body_markdown":"\r\n\r\nThis worked for me added the dialect property...\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n\t&lt;persistence-unit name=&quot;project_name&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.schema-generation.drop-source&quot; value=&quot;script-then-metadata&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;  \r\n\t\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>This worked for me added the dialect property...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;project_name&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.drop-source&quot; value=&quot;script-then-metadata&quot;/&gt;\n            &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;  \n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"}],"owner":{"account_id":199386,"reputation":17510,"user_id":444668,"accept_rate":51,"display_name":"Jono"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147621,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":16,"score":33,"last_activity_date":1673935535,"creation_date":1340726725,"question_id":11211451,"body_markdown":"having more issues with seting up hibernate with spring3. this time it is saying that connection is nul as the dialect is not set which it is on my hibernate.cfg.xml file.\r\n\r\nhere is the full exception:\r\n\r\n        org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mySessionFactory&#39; defined in URL [file:war/WEB-INF/datasource-config.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Connection cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:567)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:96)\r\n    \tat org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:44)\r\n    \tat org.springframework.test.context.TestContext.buildApplicationContext(TestContext.java:198)\r\n    \tat org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:233)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:126)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:85)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:231)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:95)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.invokeTestMethod(SpringJUnit4ClassRunner.java:139)\r\n    \tat org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:51)\r\n    \tat org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:44)\r\n    \tat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)\r\n    \tat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)\r\n    \tat org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:42)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n    Caused by: org.hibernate.HibernateException: Connection cannot be null when &#39;hibernate.dialect&#39; not set\r\n    \tat org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:97)\r\n    \tat org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:67)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:172)\r\n    \tat org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\r\n    \tat org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\r\n    \tat org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\r\n    \tat org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1775)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:184)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:314)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\r\n    \t... 29 more\r\n\r\n\r\n\r\nHere is my dataSource-config.xml thats ets up the sessionfactory\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;\r\n       http://www.springframework.org/schema/beans \r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n       http://www.springframework.org/schema/tx \r\n       http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n       http://www.springframework.org/schema/context\r\n       http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n          &quot;&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${database.password} &quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;mySessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n    \t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.jr.freedom&quot;/&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot; value=&quot;classpath:hibernate.cfg.xml&quot;/&gt;\r\n    \t\t\t\t\t\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Declare a transaction manager --&gt;\r\n    \t&lt;bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;\r\n    \t\tp:sessionFactory-ref=&quot;mySessionFactory&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n\r\nAnd below is the hibernate.cfg.xml file\r\n\r\n  \r\n\r\n     &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n            &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n            &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;!-- JDBC connection settings --&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/freedom&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;password&lt;/property&gt;\r\n             \r\n            &lt;!-- JDBC connection pool, use Hibernate internal connection pool --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;25&lt;/property&gt;\r\n     \r\n            &lt;!-- Defines the SQL dialect used in Hiberante&#39;s application --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n     \r\n            &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n     \r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n     \r\n            &lt;!-- Display and format all executed SQL to stdout --&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n     \r\n            &lt;!-- Drop and re-create the database schema on startup --&gt;\r\n            &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n             \r\n            &lt;!-- Mapping to hibernate mapping files --&gt;\r\n            &lt;!--mapping resource=&quot;org/kodejava/example/hibernate/app/Label.hbm.xml&quot;/--&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nAs you can see, the dialect is being set.\r\n\r\n\r\nedit: my database.properties file\r\n\r\n        # DB properties file\r\n    \r\n    database.url=jdbc:mysql://localhost:3306/freedom\r\n    database.driver=com.mysql.jdbc.Driver\r\n    database.user=root\r\n    database.password=password\r\n    database.maxConnections=25\r\n\r\nedit: here is a full stack trace. accessing the database could be the issue but i can succefully access it via command prompt?\r\n\r\n \r\n\r\n       2288 [main] WARN  org.hibernate.engine.jdbc.internal.JdbcServicesImpl  - HHH000342: Could not obtain connection to query metadata : Cannot create PoolableConnectionFactory (Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES))\r\n    2289 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4f549ceb: defining beans [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.config.viewControllerHandlerMapping,userService,myDataSource,mySessionFactory,transactionManager,propertyConfigurer,org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping#0,viewResolver,org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter#0,hello,userController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n    2289 [main] DEBUG org.springframework.beans.factory.support.DisposableBeanAdapter  - Invoking destroy method &#39;close&#39; on bean with name &#39;myDataSource&#39;\r\n    2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean &#39;(inner bean)#14&#39;: [org.springframework.web.servlet.config.viewControllerHandlerMapping]\r\n    2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean &#39;(inner bean)#8&#39;: [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0]\r\n    2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean &#39;(inner bean)#1&#39;: [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0]\r\n    2290 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean &#39;(inner bean)&#39;: [org.springframework.web.servlet.handler.MappedInterceptor#0]\r\n","title":"Connection cannot be null when &#39;hibernate.dialect&#39; not set","body":"<p>having more issues with seting up hibernate with spring3. this time it is saying that connection is nul as the dialect is not set which it is on my hibernate.cfg.xml file.</p>\n\n<p>here is the full exception:</p>\n\n<pre><code>    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mySessionFactory' defined in URL [file:war/WEB-INF/datasource-config.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Connection cannot be null when 'hibernate.dialect' not set\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1455)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:567)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:96)\n    at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:44)\n    at org.springframework.test.context.TestContext.buildApplicationContext(TestContext.java:198)\n    at org.springframework.test.context.TestContext.getApplicationContext(TestContext.java:233)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:126)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:85)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:231)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:95)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.invokeTestMethod(SpringJUnit4ClassRunner.java:139)\n    at org.junit.internal.runners.JUnit4ClassRunner.runMethods(JUnit4ClassRunner.java:51)\n    at org.junit.internal.runners.JUnit4ClassRunner$1.run(JUnit4ClassRunner.java:44)\n    at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:27)\n    at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:37)\n    at org.junit.internal.runners.JUnit4ClassRunner.run(JUnit4ClassRunner.java:42)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\nCaused by: org.hibernate.HibernateException: Connection cannot be null when 'hibernate.dialect' not set\n    at org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:97)\n    at org.hibernate.service.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:67)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:172)\n    at org.hibernate.service.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:75)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:159)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)\n    at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:71)\n    at org.hibernate.cfg.Configuration.buildSettingsInternal(Configuration.java:2270)\n    at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2266)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1735)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1775)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:184)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:314)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1514)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1452)\n    ... 29 more\n</code></pre>\n\n<p>Here is my dataSource-config.xml thats ets up the sessionfactory</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n   http://www.springframework.org/schema/beans \n   http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n   http://www.springframework.org/schema/tx \n   http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n   http://www.springframework.org/schema/context\n   http://www.springframework.org/schema/context/spring-context-3.0.xsd\n      \"&gt;\n\n\n    &lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n        &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n        &lt;property name=\"password\" value=\"${database.password} \" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"mySessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"myDataSource\" /&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.jr.freedom\"/&gt;\n        &lt;property name=\"hibernateProperties\" value=\"classpath:hibernate.cfg.xml\"/&gt;\n\n    &lt;/bean&gt;\n\n    &lt;!-- Declare a transaction manager --&gt;\n    &lt;bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"\n        p:sessionFactory-ref=\"mySessionFactory\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And below is the hibernate.cfg.xml file</p>\n\n<pre><code> &lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- JDBC connection settings --&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/freedom&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;password&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool, use Hibernate internal connection pool --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;25&lt;/property&gt;\n\n        &lt;!-- Defines the SQL dialect used in Hiberante's application --&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;!-- Display and format all executed SQL to stdout --&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n\n        &lt;!-- Drop and re-create the database schema on startup --&gt;\n        &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;!-- Mapping to hibernate mapping files --&gt;\n        &lt;!--mapping resource=\"org/kodejava/example/hibernate/app/Label.hbm.xml\"/--&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>As you can see, the dialect is being set.</p>\n\n<p>edit: my database.properties file</p>\n\n<pre><code>    # DB properties file\n\ndatabase.url=jdbc:mysql://localhost:3306/freedom\ndatabase.driver=com.mysql.jdbc.Driver\ndatabase.user=root\ndatabase.password=password\ndatabase.maxConnections=25\n</code></pre>\n\n<p>edit: here is a full stack trace. accessing the database could be the issue but i can succefully access it via command prompt?</p>\n\n<pre><code>   2288 [main] WARN  org.hibernate.engine.jdbc.internal.JdbcServicesImpl  - HHH000342: Could not obtain connection to query metadata : Cannot create PoolableConnectionFactory (Access denied for user 'root'@'localhost' (using password: YES))\n2289 [main] INFO  org.springframework.beans.factory.support.DefaultListableBeanFactory  - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@4f549ceb: defining beans [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.config.viewControllerHandlerMapping,userService,myDataSource,mySessionFactory,transactionManager,propertyConfigurer,org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping#0,viewResolver,org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter#0,hello,userController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\n2289 [main] DEBUG org.springframework.beans.factory.support.DisposableBeanAdapter  - Invoking destroy method 'close' on bean with name 'myDataSource'\n2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean '(inner bean)#14': [org.springframework.web.servlet.config.viewControllerHandlerMapping]\n2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean '(inner bean)#8': [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0]\n2289 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean '(inner bean)#1': [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0]\n2290 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory  - Retrieved dependent beans for bean '(inner bean)': [org.springframework.web.servlet.handler.MappedInterceptor#0]\n</code></pre>\n"},{"tags":["java","collections","hashmap","hashset"],"comments":[{"owner":{"account_id":5068227,"reputation":711,"user_id":4067759,"accept_rate":60,"display_name":"therealprashant"},"score":0,"creation_date":1432015160,"post_id":2773824,"comment_id":48730652,"body_markdown":"HashSet is implemented using HashMap","body":"HashSet is implemented using HashMap"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1497725317,"post_id":2773824,"comment_id":76203273,"body_markdown":"I think knowing why HashSet is different than ArrayList will help you understand the answer to your above question:  https://stackoverflow.com/questions/18706870/java-hashset-vs-array-performance","body":"I think knowing why HashSet is different than ArrayList will help you understand the answer to your above question:  <a href=\"https://stackoverflow.com/questions/18706870/java-hashset-vs-array-performance\" title=\"java hashset vs array performance\">stackoverflow.com/questions/18706870/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1273067945,"creation_date":1273067945,"answer_id":2773843,"question_id":2773824,"body_markdown":"A [HashSet][1] is implemented in terms of a [HashMap][2].  It&#39;s a mapping between the key and a PRESENT object.\r\n\r\n\r\n  [1]: http://hg.openjdk.java.net/icedtea/jdk7/jdk/file/tip/src/share/classes/java/util/HashSet.java\r\n  [2]: http://hg.openjdk.java.net/icedtea/jdk7/jdk/file/tip/src/share/classes/java/util/HashMap.java","title":"Difference between HashSet and HashMap?","body":"<p>A <a href=\"http://hg.openjdk.java.net/icedtea/jdk7/jdk/file/tip/src/share/classes/java/util/HashSet.java\" rel=\"nofollow noreferrer\">HashSet</a> is implemented in terms of a <a href=\"http://hg.openjdk.java.net/icedtea/jdk7/jdk/file/tip/src/share/classes/java/util/HashMap.java\" rel=\"nofollow noreferrer\">HashMap</a>.  It's a mapping between the key and a PRESENT object.</p>\n"},{"tags":[],"owner":{"account_id":112835,"reputation":9845,"user_id":297484,"display_name":"chris"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1673935004,"creation_date":1273067959,"answer_id":2773846,"question_id":2773824,"body_markdown":"EDIT - this answer isn&#39;t correct. I&#39;m leaving it here in case other people have a similar idea. b.roth and justkt have the correct answers above.\r\n\r\n--- original ---\r\n\r\nyou pretty much answered your own question - hashset doesn&#39;t allow duplicate values. it would be trivial to build a hashset using a backing hashmap (and just a check to see if the value already exists). i guess the various java implementations either do that, or implement some custom code to do it more efficiently.","title":"Difference between HashSet and HashMap?","body":"<p>EDIT - this answer isn't correct. I'm leaving it here in case other people have a similar idea. b.roth and justkt have the correct answers above.</p>\n<p>--- original ---</p>\n<p>you pretty much answered your own question - hashset doesn't allow duplicate values. it would be trivial to build a hashset using a backing hashmap (and just a check to see if the value already exists). i guess the various java implementations either do that, or implement some custom code to do it more efficiently.</p>\n"},{"tags":[],"owner":{"account_id":17047,"reputation":2145,"user_id":37776,"display_name":"Andy Gherna"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1273070459,"creation_date":1273067992,"answer_id":2773852,"question_id":2773824,"body_markdown":"A HashSet uses a HashMap internally to store its entries.  Each entry in the internal HashMap is keyed by a single Object, so all entries hash into the same bucket.  I don&#39;t recall what the internal HashMap uses to store its values, but it doesn&#39;t really matter since that internal container will never contain duplicate values.\r\n\r\n**EDIT**:  To address Matthew&#39;s comment, he&#39;s right; I had it backwards.  The internal HashMap is keyed **with the Objects that make up the Set elements**.  The values of the HashMap are an Object that&#39;s just simply stored in the HashMap buckets.  ","title":"Difference between HashSet and HashMap?","body":"<p>A HashSet uses a HashMap internally to store its entries.  Each entry in the internal HashMap is keyed by a single Object, so all entries hash into the same bucket.  I don't recall what the internal HashMap uses to store its values, but it doesn't really matter since that internal container will never contain duplicate values.</p>\n\n<p><strong>EDIT</strong>:  To address Matthew's comment, he's right; I had it backwards.  The internal HashMap is keyed <strong>with the Objects that make up the Set elements</strong>.  The values of the HashMap are an Object that's just simply stored in the HashMap buckets.  </p>\n"},{"tags":[],"owner":{"account_id":132539,"reputation":5443,"user_id":333291,"accept_rate":47,"display_name":"Spidfire"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273067997,"creation_date":1273067997,"answer_id":2773853,"question_id":2773824,"body_markdown":"HashSet allows us to store objects in the set where as HashMap allows us to store objects on the basis of key and value. Every object or stored object will be having key.","title":"Difference between HashSet and HashMap?","body":"<p>HashSet allows us to store objects in the set where as HashMap allows us to store objects on the basis of key and value. Every object or stored object will be having key.</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1273068000,"creation_date":1273068000,"answer_id":2773854,"question_id":2773824,"body_markdown":"As the names imply, a **HashMap**  is an associative **Map** (mapping from a key to a value), a **HashSet** is just a **Set**.","title":"Difference between HashSet and HashMap?","body":"<p>As the names imply, a <strong>HashMap</strong>  is an associative <strong>Map</strong> (mapping from a key to a value), a <strong>HashSet</strong> is just a <strong>Set</strong>.</p>\n"},{"tags":[],"owner":{"account_id":74379,"reputation":14630,"user_id":213758,"accept_rate":100,"display_name":"justkt"},"down_vote_count":5,"up_vote_count":190,"is_accepted":true,"score":185,"last_activity_date":1471525746,"creation_date":1273068037,"answer_id":2773861,"question_id":2773824,"body_markdown":"They are entirely different constructs.  A `HashMap` is an implementation of `Map`.  A [Map][1] maps keys to values.  The key look up occurs using the hash.\r\n\r\nOn the other hand, a `HashSet` is an implementation of `Set`.  A [Set][2] is designed to match the mathematical model of a set.  A `HashSet` does use a `HashMap` to back its implementation, as you noted.  However, it implements an entirely different interface.\r\n\r\nWhen you are looking for what will be the best `Collection` for your purposes, this [Tutorial][3] is a good starting place.  If you truly want to know what&#39;s going on, [there&#39;s a book for that][4], too.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Map.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Set.html\r\n  [3]: http://java.sun.com/docs/books/tutorial/collections/index.html\r\n  [4]: http://www.amazon.com/Java-Generics-Collections-Maurice-Naftalin/dp/0596527756","title":"Difference between HashSet and HashMap?","body":"<p>They are entirely different constructs.  A <code>HashMap</code> is an implementation of <code>Map</code>.  A <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html\" rel=\"noreferrer\">Map</a> maps keys to values.  The key look up occurs using the hash.</p>\n\n<p>On the other hand, a <code>HashSet</code> is an implementation of <code>Set</code>.  A <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a> is designed to match the mathematical model of a set.  A <code>HashSet</code> does use a <code>HashMap</code> to back its implementation, as you noted.  However, it implements an entirely different interface.</p>\n\n<p>When you are looking for what will be the best <code>Collection</code> for your purposes, this <a href=\"http://java.sun.com/docs/books/tutorial/collections/index.html\" rel=\"noreferrer\">Tutorial</a> is a good starting place.  If you truly want to know what's going on, <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596527756\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">there's a book for that</a>, too.</p>\n"},{"tags":[],"owner":{"account_id":42322,"reputation":9431,"user_id":123266,"accept_rate":100,"display_name":"b.roth"},"down_vote_count":0,"up_vote_count":349,"is_accepted":false,"score":349,"last_activity_date":1273068039,"creation_date":1273068039,"answer_id":2773862,"question_id":2773824,"body_markdown":"HashSet is a **set**, e.g. **{1,2,3,4,5}**\r\n\r\nHashMap is a **key -&gt; value** (key to value) map, e.g. **{a -&gt; 1, b -&gt; 2, c -&gt; 2, d -&gt; 1}**\r\n\r\nNotice in my example above that in the HashMap there must not be duplicate keys, but it may have duplicate values.\r\n\r\nIn the HashSet, there must be no duplicate elements.","title":"Difference between HashSet and HashMap?","body":"<p>HashSet is a <strong>set</strong>, e.g. <strong>{1,2,3,4,5}</strong></p>\n\n<p>HashMap is a <strong>key -> value</strong> (key to value) map, e.g. <strong>{a -> 1, b -> 2, c -> 2, d -> 1}</strong></p>\n\n<p>Notice in my example above that in the HashMap there must not be duplicate keys, but it may have duplicate values.</p>\n\n<p>In the HashSet, there must be no duplicate elements.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1273068261,"creation_date":1273068261,"answer_id":2773885,"question_id":2773824,"body_markdown":"A **`HashMap`** is to add, get, remove, ... objects indexed by a custom key of any type.  \r\nA **`HashSet`** is to add elements, remove elements and check if elements are present by comparing their hashes.\r\n\r\nSo a HashMap contains the elements and a HashSet remembers their hashes.","title":"Difference between HashSet and HashMap?","body":"<p>A <strong><code>HashMap</code></strong> is to add, get, remove, ... objects indexed by a custom key of any type.<br>\nA <strong><code>HashSet</code></strong> is to add elements, remove elements and check if elements are present by comparing their hashes.</p>\n\n<p>So a HashMap contains the elements and a HashSet remembers their hashes.</p>\n"},{"tags":[],"owner":{"account_id":121574,"reputation":11440,"user_id":314763,"accept_rate":77,"display_name":"frictionlesspulley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1273083757,"creation_date":1273083757,"answer_id":2775745,"question_id":2773824,"body_markdown":"Differences:\r\nwith respect to heirarchy: \r\nHashSet implements Set.\r\nHashMap implements Map and stores a mapping of keys and values.\r\n\r\nA use of HashSet and HashMap with respect to database would help you understand the significance of each.\r\n&lt;br/&gt;\r\n**HashSet:** is generally used for storing unique collection objects.\r\nE.g: It might be used as implementation class for storing many-to-one relation ship between &lt;br/&gt;\r\n**class Item and Class Bid where (Item has many Bids)**\r\n**HashMap:** is used to map a key to value.the value may be null or any Object /list of Object (which is object in itself).&lt;br/&gt;\r\n\r\n\r\n\r\n                             ","title":"Difference between HashSet and HashMap?","body":"<p>Differences:\nwith respect to heirarchy: \nHashSet implements Set.\nHashMap implements Map and stores a mapping of keys and values.</p>\n\n<p>A use of HashSet and HashMap with respect to database would help you understand the significance of each.\n<br/>\n<strong>HashSet:</strong> is generally used for storing unique collection objects.\nE.g: It might be used as implementation class for storing many-to-one relation ship between <br/>\n<strong>class Item and Class Bid where (Item has many Bids)</strong>\n<strong>HashMap:</strong> is used to map a key to value.the value may be null or any Object /list of Object (which is object in itself).<br/></p>\n"},{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1273084218,"creation_date":1273084218,"answer_id":2775800,"question_id":2773824,"body_markdown":"It&#39;s really a shame that both their names start with **Hash**.  That&#39;s the least important part of them.  The important parts come after the **Hash** - the **Set** and **Map**, as others have pointed out.  What they are, respectively, are a **Set** - an unordered collection - and a **Map** - a collection with keyed access.  They happen to be implemented with hashes - that&#39;s where the names come from - but their essence is hidden behind that part of their names.\r\n\r\nDon&#39;t be confused by their names; they are deeply different things.","title":"Difference between HashSet and HashMap?","body":"<p>It's really a shame that both their names start with <strong>Hash</strong>.  That's the least important part of them.  The important parts come after the <strong>Hash</strong> - the <strong>Set</strong> and <strong>Map</strong>, as others have pointed out.  What they are, respectively, are a <strong>Set</strong> - an unordered collection - and a <strong>Map</strong> - a collection with keyed access.  They happen to be implemented with hashes - that's where the names come from - but their essence is hidden behind that part of their names.</p>\n\n<p>Don't be confused by their names; they are deeply different things.</p>\n"},{"tags":[],"owner":{"account_id":246287,"reputation":1379,"user_id":520348,"accept_rate":74,"display_name":"Munish Goyal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1312699844,"creation_date":1312699844,"answer_id":6971241,"question_id":2773824,"body_markdown":"Basically in HashMap, user has to provide both Key and Value, whereas in HashSet you provide only Value, the Key is derived automatically from Value by using hash function. So after having both Key and Value, HashSet can be stored as HashMap internally. ","title":"Difference between HashSet and HashMap?","body":"<p>Basically in HashMap, user has to provide both Key and Value, whereas in HashSet you provide only Value, the Key is derived automatically from Value by using hash function. So after having both Key and Value, HashSet can be stored as HashMap internally. </p>\n"},{"tags":[],"owner":{"account_id":1907514,"reputation":947,"user_id":1722066,"accept_rate":14,"display_name":"prateeksarda"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1351018138,"creation_date":1351018138,"answer_id":13037158,"question_id":2773824,"body_markdown":"HashSet and HashMap both store &lt;key,value&gt; pairs , the difference lies that in HashMap you can specify a key while in HashSet the key comes from object&#39;s hash code","title":"Difference between HashSet and HashMap?","body":"<p>HashSet and HashMap both store  pairs , the difference lies that in HashMap you can specify a key while in HashSet the key comes from object's hash code</p>\n"},{"tags":[],"owner":{"account_id":2212813,"reputation":1915,"user_id":1954219,"display_name":"Vibha Sanskrityayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360056372,"creation_date":1360056372,"answer_id":14704034,"question_id":2773824,"body_markdown":"**Differences between HashSet and HashMap in Java**\r\n\r\n**1)** First and most significant difference between HashMap and HashSet is that HashMap is an implementation of Map interface while HashSet is an implementation of Set interface, which means HashMap is a key value based data-structure and HashSet guarantees uniqueness by not allowing duplicates.In reality HashSet is a wrapper around HashMap in Java, if you look at the code of add(E e) method of HashSet.java you will see following code :\r\n\r\n    public boolean add(E e) \r\n    {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n\r\nwhere its putting  Object into map as key and value is an final object PRESENT which is dummy.\r\n\r\n**2)** Second difference between HashMap and HashSet is that , we use add() method to put elements into Set but we use put() method to insert key and value into HashMap in Java.\r\n\r\n**3)** HashSet allows only one null key, but HashMap can allow one null key + multiple null values.\r\n\r\nThat&#39;s all on difference between HashSet and HashMap in Java. In summary HashSet and HashMap are two different type of Collection one being Set and other being Map. ","title":"Difference between HashSet and HashMap?","body":"<p><strong>Differences between HashSet and HashMap in Java</strong></p>\n\n<p><strong>1)</strong> First and most significant difference between HashMap and HashSet is that HashMap is an implementation of Map interface while HashSet is an implementation of Set interface, which means HashMap is a key value based data-structure and HashSet guarantees uniqueness by not allowing duplicates.In reality HashSet is a wrapper around HashMap in Java, if you look at the code of add(E e) method of HashSet.java you will see following code :</p>\n\n<pre><code>public boolean add(E e) \n{\n    return map.put(e, PRESENT)==null;\n}\n</code></pre>\n\n<p>where its putting  Object into map as key and value is an final object PRESENT which is dummy.</p>\n\n<p><strong>2)</strong> Second difference between HashMap and HashSet is that , we use add() method to put elements into Set but we use put() method to insert key and value into HashMap in Java.</p>\n\n<p><strong>3)</strong> HashSet allows only one null key, but HashMap can allow one null key + multiple null values.</p>\n\n<p>That's all on difference between HashSet and HashMap in Java. In summary HashSet and HashMap are two different type of Collection one being Set and other being Map. </p>\n"},{"tags":[],"owner":{"account_id":1834295,"reputation":384,"user_id":2244734,"display_name":"Appesh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1365078141,"creation_date":1365076885,"answer_id":15810536,"question_id":2773824,"body_markdown":"`HashMaps` allow one null key and null values. They are not synchronized, which increases efficiency. If it is required, you can make them synchronized using `Collections.SynchronizedMap()`\r\n\r\n`Hashtables` don&#39;t allow null keys and are synchronized.\r\n\r\n","title":"Difference between HashSet and HashMap?","body":"<p><code>HashMaps</code> allow one null key and null values. They are not synchronized, which increases efficiency. If it is required, you can make them synchronized using <code>Collections.SynchronizedMap()</code></p>\n\n<p><code>Hashtables</code> don't allow null keys and are synchronized.</p>\n"},{"tags":[],"owner":{"account_id":4189319,"reputation":21,"user_id":3539704,"display_name":"user3539704"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397625276,"creation_date":1397624482,"answer_id":23100373,"question_id":2773824,"body_markdown":"***Differences between HashSet and HashMap in Java***\r\n\r\nHashSet internally uses HashMap to store objects.when add(String) method called it calls HahsMap put(key,value) method where key=String object &amp; value=new Object(Dummy).so it maintain no duplicates because keys are nothing but Value Object.\r\n\r\nthe Objects which are stored as key in Hashset/HashMap should override hashcode &amp; equals contract. \r\n\r\nKeys which are used to access/store value objects in HashMap should declared as Final because when it is modified Value object can&#39;t be located &amp; returns null.\r\n\r\n\r\n\r\n","title":"Difference between HashSet and HashMap?","body":"<p><strong><em>Differences between HashSet and HashMap in Java</em></strong></p>\n\n<p>HashSet internally uses HashMap to store objects.when add(String) method called it calls HahsMap put(key,value) method where key=String object &amp; value=new Object(Dummy).so it maintain no duplicates because keys are nothing but Value Object.</p>\n\n<p>the Objects which are stored as key in Hashset/HashMap should override hashcode &amp; equals contract. </p>\n\n<p>Keys which are used to access/store value objects in HashMap should declared as Final because when it is modified Value object can't be located &amp; returns null.</p>\n"},{"tags":[],"owner":{"account_id":6014381,"reputation":892,"user_id":4723778,"accept_rate":100,"display_name":"Hengameh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1430749918,"creation_date":1430749918,"answer_id":30032779,"question_id":2773824,"body_markdown":"\r\nHashMap  is a implementation of Map interface\r\nHashSet is an implementation of Set Interface\r\n\r\nHashMap Stores data in form of  key value pair\r\nHashSet Store only objects\r\n\r\nPut method is used to add element in map\r\nAdd method is used to add element is Set\r\n\r\nIn hash map hashcode value is calculated using key object\r\nHere member object is used for calculating hashcode value which can be same for two objects so equal () method is used to check for equality if it returns false that means two objects are different.\r\n\r\nHashMap is faster than hashset because unique key is used to access object\r\nHashSet is slower than Hashmap\r\n\r\n","title":"Difference between HashSet and HashMap?","body":"<p>HashMap  is a implementation of Map interface\nHashSet is an implementation of Set Interface</p>\n\n<p>HashMap Stores data in form of  key value pair\nHashSet Store only objects</p>\n\n<p>Put method is used to add element in map\nAdd method is used to add element is Set</p>\n\n<p>In hash map hashcode value is calculated using key object\nHere member object is used for calculating hashcode value which can be same for two objects so equal () method is used to check for equality if it returns false that means two objects are different.</p>\n\n<p>HashMap is faster than hashset because unique key is used to access object\nHashSet is slower than Hashmap</p>\n"},{"tags":[],"owner":{"account_id":6177072,"reputation":2304,"user_id":4813631,"accept_rate":100,"display_name":"A.K."},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1541222294,"creation_date":1441414223,"answer_id":32408453,"question_id":2773824,"body_markdown":"HashSet\r\n=======\r\n\r\n 1. HashSet class implements the Set interface\r\n 2. In HashSet, we store objects(elements or values)\r\n    e.g. If we have a HashSet of string elements then it could depict a\r\n    set of HashSet elements: {“Hello”, “Hi”, “Bye”, “Run”}\r\n 3. HashSet does not allow duplicate elements that mean you\r\n    can not store duplicate values in HashSet.\t\r\n 4. HashSet permits to have a single null value.\r\n 5. HashSet is not synchronized which means they are not suitable for thread-safe operations until unless synchronized explicitly.[similarity]\r\n\r\n                              add      contains next     notes\r\n        HashSet               O(1)     O(1)     O(h/n)   h is the table \r\n\r\nHashMap\r\n=======\r\n\r\n 1. HashMap class implements the Map interface\r\n 2. HashMap is\r\n    used for storing key &amp; value pairs. In short, it maintains the\r\n    mapping of key &amp; value (The HashMap class is roughly equivalent to\r\n    Hashtable, except that it is unsynchronized and permits nulls.) This\r\n    is how you could represent HashMap elements if it has integer key\r\n    and value of String type: e.g. {1-&gt;”Hello”, 2-&gt;”Hi”, 3-&gt;”Bye”,\r\n    4-&gt;”Run”}\r\n 3. HashMap does not allow duplicate keys however it allows having duplicate values.\r\n 4. HashMap permits single null key and any number of null values.\r\n 5. HashMap is not synchronized which means they are not suitable for thread-safe operations until unless synchronized explicitly.[similarity]\r\n\r\n                               get      containsKey next     Notes\r\n         HashMap               O(1)     O(1)        O(h/n)   h is the table \r\n\r\n\r\nPlease refer [this article][1] to find more information.\r\n\r\n\r\n  [1]: http://beginnersbook.com/2014/08/hashset-vs-hashmap-java/","title":"Difference between HashSet and HashMap?","body":"<h1>HashSet</h1>\n\n<ol>\n<li>HashSet class implements the Set interface</li>\n<li>In HashSet, we store objects(elements or values)\ne.g. If we have a HashSet of string elements then it could depict a\nset of HashSet elements: {“Hello”, “Hi”, “Bye”, “Run”}</li>\n<li>HashSet does not allow duplicate elements that mean you\ncan not store duplicate values in HashSet.  </li>\n<li>HashSet permits to have a single null value.</li>\n<li><p>HashSet is not synchronized which means they are not suitable for thread-safe operations until unless synchronized explicitly.[similarity]</p>\n\n<pre><code>                      add      contains next     notes\nHashSet               O(1)     O(1)     O(h/n)   h is the table \n</code></pre></li>\n</ol>\n\n<h1>HashMap</h1>\n\n<ol>\n<li>HashMap class implements the Map interface</li>\n<li>HashMap is\nused for storing key &amp; value pairs. In short, it maintains the\nmapping of key &amp; value (The HashMap class is roughly equivalent to\nHashtable, except that it is unsynchronized and permits nulls.) This\nis how you could represent HashMap elements if it has integer key\nand value of String type: e.g. {1->”Hello”, 2->”Hi”, 3->”Bye”,\n4->”Run”}</li>\n<li>HashMap does not allow duplicate keys however it allows having duplicate values.</li>\n<li>HashMap permits single null key and any number of null values.</li>\n<li><p>HashMap is not synchronized which means they are not suitable for thread-safe operations until unless synchronized explicitly.[similarity]</p>\n\n<pre><code>                       get      containsKey next     Notes\n HashMap               O(1)     O(1)        O(h/n)   h is the table \n</code></pre></li>\n</ol>\n\n<p>Please refer <a href=\"http://beginnersbook.com/2014/08/hashset-vs-hashmap-java/\" rel=\"noreferrer\">this article</a> to find more information.</p>\n"},{"tags":[],"owner":{"account_id":7696974,"reputation":1,"user_id":5831364,"display_name":"Minnie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453650332,"creation_date":1453649023,"answer_id":34977523,"question_id":2773824,"body_markdown":"`HashMap` is a `Map` implementation, allowing **duplicate values** but **not duplicate keys.**. For adding an object a Key/Value pair is required. Null Keys and Null values are allowed. eg:\r\n\r\n&gt;    {The-&gt;3,world-&gt;5,is-&gt;2,nice-&gt;4}\r\n\r\n`HashSet` is a `Set` implementation,which does **not allow duplicates**.If you tried to add a duplicate object, a call to `public boolean add(Object o)` method, then the set remains unchanged and returns `false`. eg:\r\n&gt;    [The,world,is,nice]","title":"Difference between HashSet and HashMap?","body":"<p><code>HashMap</code> is a <code>Map</code> implementation, allowing <strong>duplicate values</strong> but <strong>not duplicate keys.</strong>. For adding an object a Key/Value pair is required. Null Keys and Null values are allowed. eg:</p>\n\n<blockquote>\n  <p>{The->3,world->5,is->2,nice->4}</p>\n</blockquote>\n\n<p><code>HashSet</code> is a <code>Set</code> implementation,which does <strong>not allow duplicates</strong>.If you tried to add a duplicate object, a call to <code>public boolean add(Object o)</code> method, then the set remains unchanged and returns <code>false</code>. eg:</p>\n\n<blockquote>\n  <p>[The,world,is,nice]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10874507,"reputation":91,"user_id":7995278,"display_name":"Abhay S"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1643131546,"creation_date":1494480304,"answer_id":43907171,"question_id":2773824,"body_markdown":"The `Hashset` Internally implements `HashMap`. If you see the internal [implementation][1] the values inserted in HashSet are stored as keys in the HashMap and the value is a Dummy object of Object class.  \r\nDifference between HashMap vs HashSet is:-  \r\n\r\n 1. `HashMap` contains key value pairs and each value can be accessed by key where as HashSet needs to be iterated everytime as there is no get method.\r\n 2. `HashMap` implements Map interface and allows one null value as a key and multiple null values as values, whereas `HashSet` implements Set interface, allows only one null value and no duplicated values.(Remeber one null key is allowed in HashMap key hence one null value in HashSet as HashSet implemements HashMap internally).  \r\n 3. `HashSet` and `HashMap` do not maintain the order of insertion while iterating.\r\n\r\n\r\n  [1]: http://javaconceptoftheday.com/how-hashset-works-internally-in-java/","title":"Difference between HashSet and HashMap?","body":"<p>The <code>Hashset</code> Internally implements <code>HashMap</code>. If you see the internal <a href=\"http://javaconceptoftheday.com/how-hashset-works-internally-in-java/\" rel=\"nofollow noreferrer\">implementation</a> the values inserted in HashSet are stored as keys in the HashMap and the value is a Dummy object of Object class.<br />\nDifference between HashMap vs HashSet is:-</p>\n<ol>\n<li><code>HashMap</code> contains key value pairs and each value can be accessed by key where as HashSet needs to be iterated everytime as there is no get method.</li>\n<li><code>HashMap</code> implements Map interface and allows one null value as a key and multiple null values as values, whereas <code>HashSet</code> implements Set interface, allows only one null value and no duplicated values.(Remeber one null key is allowed in HashMap key hence one null value in HashSet as HashSet implemements HashMap internally).</li>\n<li><code>HashSet</code> and <code>HashMap</code> do not maintain the order of insertion while iterating.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20240039,"reputation":1,"user_id":14844143,"display_name":"aman Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1608747681,"creation_date":1608747681,"answer_id":65429097,"question_id":2773824,"body_markdown":"The main difference between them you can find as follows:\r\n\r\n**HashSet**\r\n\r\n - It does not allow duplicate keys.\r\n - Even it is not synchronized, so this will have better performance.\r\n - It allows a null key.\r\n - HashSet can be used when you want to maintain a unique list.\r\n - HashSet implements Set interface and it is backed by the hash table(actually HashMap instance).\r\n - HashSet stores objects.\r\n - HashSet doesn’t allow duplicate elements but null values are allowed.\r\n - This interface doesn’t guarantee that order will remain constant over time.\r\n\r\n**HashMap**\r\n\r\n - It allows duplicate keys.\r\nIt is not synchronized, so this will have better performance.\r\n - HashMap does not maintain insertion order. \r\n - The order is defined by the Hash function. \r\n - It is not Thread Safe \r\n - It allows null for both key and value. \r\n - It allows one null key and as many null values as you like.\r\n - HashMap is a Hash table-based implementation of the Map interface.\r\n - HashMap store object as key and value pair.\r\n - HashMap does not allow duplicate keys but null keys and values are allowed.\r\n - Ordering of the element is not guaranteed overtime.","title":"Difference between HashSet and HashMap?","body":"<p>The main difference between them you can find as follows:</p>\n<p><strong>HashSet</strong></p>\n<ul>\n<li>It does not allow duplicate keys.</li>\n<li>Even it is not synchronized, so this will have better performance.</li>\n<li>It allows a null key.</li>\n<li>HashSet can be used when you want to maintain a unique list.</li>\n<li>HashSet implements Set interface and it is backed by the hash table(actually HashMap instance).</li>\n<li>HashSet stores objects.</li>\n<li>HashSet doesn’t allow duplicate elements but null values are allowed.</li>\n<li>This interface doesn’t guarantee that order will remain constant over time.</li>\n</ul>\n<p><strong>HashMap</strong></p>\n<ul>\n<li>It allows duplicate keys.\nIt is not synchronized, so this will have better performance.</li>\n<li>HashMap does not maintain insertion order.</li>\n<li>The order is defined by the Hash function.</li>\n<li>It is not Thread Safe</li>\n<li>It allows null for both key and value.</li>\n<li>It allows one null key and as many null values as you like.</li>\n<li>HashMap is a Hash table-based implementation of the Map interface.</li>\n<li>HashMap store object as key and value pair.</li>\n<li>HashMap does not allow duplicate keys but null keys and values are allowed.</li>\n<li>Ordering of the element is not guaranteed overtime.</li>\n</ul>\n"}],"owner":{"account_id":69574,"reputation":6771,"user_id":202325,"accept_rate":71,"display_name":"SpikETidE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295125,"favorite_count":0,"down_vote_count":1,"up_vote_count":215,"accepted_answer_id":2773861,"answer_count":20,"score":214,"last_activity_date":1673935004,"creation_date":1273067801,"question_id":2773824,"body_markdown":"Apart from the fact that `HashSet` does not allow duplicate values, what is the difference between `HashMap` and `HashSet`?\r\n\r\nI mean implementation wise? It&#39;s a little bit vague because both use _hash tables_ to store values.\r\n\r\n","title":"Difference between HashSet and HashMap?","body":"<p>Apart from the fact that <code>HashSet</code> does not allow duplicate values, what is the difference between <code>HashMap</code> and <code>HashSet</code>?</p>\n\n<p>I mean implementation wise? It's a little bit vague because both use <em>hash tables</em> to store values.</p>\n"},{"tags":["java","android","floating-action-button"],"owner":{"account_id":27507549,"reputation":11,"user_id":20990052,"display_name":"Nguyen Dinh Anh Tuan FPL HCM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673934354,"creation_date":1673934354,"question_id":75142346,"body_markdown":"Can anyone help me ? I want my fab show to be able to hide the expend fabs by itself without having to manually click again, instead the user can click anywhere and it will work exactly the same\r\n\r\nThis is the java file, as you can see, here I am using an if function and a global boolean variable to manage the show and hide functionality of expand fabs\r\n\r\n```\r\n    package anhtuan.example.sample.feature;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.graphics.Color; \r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n\r\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\r\n\r\n    import anhtuan.example.sample.R;\r\n\r\n    public class Books extends AppCompatActivity {\r\n    FloatingActionButton show,search,add,best;\r\n    boolean flag = true;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_books);\r\n        setTitle(&quot;Books&quot;);\r\n        show = findViewById(R.id.book_fab_show);\r\n        search = findViewById(R.id.book_fab_search);\r\n        add = findViewById(R.id.book_fab_add);\r\n        best = findViewById(R.id.book_fab_best);\r\n\r\n        show.setColorFilter(Color.WHITE);\r\n        search.setColorFilter(Color.WHITE);\r\n        add.setColorFilter(Color.WHITE);\r\n        best.setColorFilter(Color.WHITE);\r\n\r\n\r\n        show.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(flag){\r\n                    showfab();\r\n                    flag=false;\r\n                }else{\r\n                    hidefab();\r\n                    flag=true;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void showfab(){\r\n        search.show();\r\n        add.show();\r\n        best.show();\r\n    }\r\n\r\n    public void hidefab(){\r\n        search.hide();\r\n        add.hide();\r\n        best.hide();\r\n    }\r\n    }\r\n```\r\nAnd here is the xml file, i has 4 fabs, one named show to make the others appear and hide\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.feature.Books&quot;&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/book_fab_show&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_gravity=&quot;bottom|right&quot;\r\n        android:layout_marginBottom=&quot;30dp&quot;\r\n        android:layout_marginEnd=&quot;15dp&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        android:src=&quot;@drawable/ic_baseline_menu_open_24&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot;&gt;\r\n    &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/book_fab_add&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_gravity=&quot;bottom|right&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:layout_marginEnd=&quot;85dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        android:src=&quot;@drawable/ic_baseline_add_circle_24&quot;\r\n        android:backgroundTint=&quot;#125B95&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/book_fab_search&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_gravity=&quot;bottom|right&quot;\r\n        android:layout_marginBottom=&quot;70dp&quot;\r\n        android:layout_marginEnd=&quot;65dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        android:src=&quot;@drawable/ic_baseline_manage_search_24&quot;\r\n        android:backgroundTint=&quot;#88570F&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\r\n\r\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\r\n        android:id=&quot;@+id/book_fab_best&quot;\r\n        android:layout_width=&quot;55dp&quot;\r\n        android:layout_height=&quot;55dp&quot;\r\n        android:layout_gravity=&quot;bottom|right&quot;\r\n        android:layout_marginBottom=&quot;105dp&quot;\r\n        android:layout_marginEnd=&quot;15dp&quot;\r\n        android:visibility=&quot;invisible&quot;\r\n        android:scaleType=&quot;center&quot;\r\n        android:src=&quot;@drawable/ic_baseline_monetization_on_24&quot;\r\n        android:backgroundTint=&quot;#0B8510&quot;\r\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n```\r\n ","title":"Close expand fab without click it","body":"<p>Can anyone help me ? I want my fab show to be able to hide the expend fabs by itself without having to manually click again, instead the user can click anywhere and it will work exactly the same</p>\n<p>This is the java file, as you can see, here I am using an if function and a global boolean variable to manage the show and hide functionality of expand fabs</p>\n<pre><code>    package anhtuan.example.sample.feature;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.graphics.Color; \n    import android.os.Bundle;\n    import android.view.View;\n\n    import com.google.android.material.floatingactionbutton.FloatingActionButton;\n\n    import anhtuan.example.sample.R;\n\n    public class Books extends AppCompatActivity {\n    FloatingActionButton show,search,add,best;\n    boolean flag = true;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_books);\n        setTitle(&quot;Books&quot;);\n        show = findViewById(R.id.book_fab_show);\n        search = findViewById(R.id.book_fab_search);\n        add = findViewById(R.id.book_fab_add);\n        best = findViewById(R.id.book_fab_best);\n\n        show.setColorFilter(Color.WHITE);\n        search.setColorFilter(Color.WHITE);\n        add.setColorFilter(Color.WHITE);\n        best.setColorFilter(Color.WHITE);\n\n\n        show.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if(flag){\n                    showfab();\n                    flag=false;\n                }else{\n                    hidefab();\n                    flag=true;\n                }\n            }\n        });\n    }\n\n    public void showfab(){\n        search.show();\n        add.show();\n        best.show();\n    }\n\n    public void hidefab(){\n        search.hide();\n        add.hide();\n        best.hide();\n    }\n    }\n</code></pre>\n<p>And here is the xml file, i has 4 fabs, one named show to make the others appear and hide</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.feature.Books&quot;&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/book_fab_show&quot;\n        android:layout_width=&quot;55dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_gravity=&quot;bottom|right&quot;\n        android:layout_marginBottom=&quot;30dp&quot;\n        android:layout_marginEnd=&quot;15dp&quot;\n        android:scaleType=&quot;center&quot;\n        android:src=&quot;@drawable/ic_baseline_menu_open_24&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot;&gt;\n    &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/book_fab_add&quot;\n        android:layout_width=&quot;55dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_gravity=&quot;bottom|right&quot;\n        android:layout_marginBottom=&quot;15dp&quot;\n        android:layout_marginEnd=&quot;85dp&quot;\n        android:visibility=&quot;invisible&quot;\n        android:scaleType=&quot;center&quot;\n        android:src=&quot;@drawable/ic_baseline_add_circle_24&quot;\n        android:backgroundTint=&quot;#125B95&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/book_fab_search&quot;\n        android:layout_width=&quot;55dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_gravity=&quot;bottom|right&quot;\n        android:layout_marginBottom=&quot;70dp&quot;\n        android:layout_marginEnd=&quot;65dp&quot;\n        android:visibility=&quot;invisible&quot;\n        android:scaleType=&quot;center&quot;\n        android:src=&quot;@drawable/ic_baseline_manage_search_24&quot;\n        android:backgroundTint=&quot;#88570F&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\n\n    &lt;com.google.android.material.floatingactionbutton.FloatingActionButton\n        android:id=&quot;@+id/book_fab_best&quot;\n        android:layout_width=&quot;55dp&quot;\n        android:layout_height=&quot;55dp&quot;\n        android:layout_gravity=&quot;bottom|right&quot;\n        android:layout_marginBottom=&quot;105dp&quot;\n        android:layout_marginEnd=&quot;15dp&quot;\n        android:visibility=&quot;invisible&quot;\n        android:scaleType=&quot;center&quot;\n        android:src=&quot;@drawable/ic_baseline_monetization_on_24&quot;\n        android:backgroundTint=&quot;#0B8510&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck,SpeakableTextPresentCheck&quot;&gt;     &lt;/com.google.android.material.floatingactionbutton.FloatingActionButton&gt;\n\n    &lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":7119091,"reputation":313,"user_id":5444295,"accept_rate":50,"display_name":"Gerlando Caldara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1536758820,"creation_date":1536306801,"answer_id":52217877,"question_id":52217542,"body_markdown":"a) You can try to extract all topic messages into a file\r\n\r\n    kafka-console-consumer --bootstrap-server localhost:9092 --topic &lt;TOPIC&gt; --from-beginning &gt; singlefile.txt\r\n\r\nYou can also add `--property print.key=true` to include the message key \r\n\r\nYou can use the file output to produce the data to into kafka.\r\n\r\nb) \r\nYou can get the topic partitions, configurations, and sync status with this command\r\n\r\n    kafka-topics --describe --zookeeper localhost:2181 --topic &lt;TOPIC&gt;\r\n\r\nYou can get the topic settings with this command\r\n\r\n    kafka-configs --zookeeper localhost:2181 --describe --entity-type topics --entity-name &lt;TOPIC&gt;\r\n\r\nYou can use the add on every command and export them to the filesystem.\r\n\r\n    &gt; simplefile.txt\r\n\r\n\r\n\r\n","title":"How to store all records of topic in single file.?","body":"<p>a) You can try to extract all topic messages into a file</p>\n\n<pre><code>kafka-console-consumer --bootstrap-server localhost:9092 --topic &lt;TOPIC&gt; --from-beginning &gt; singlefile.txt\n</code></pre>\n\n<p>You can also add <code>--property print.key=true</code> to include the message key </p>\n\n<p>You can use the file output to produce the data to into kafka.</p>\n\n<p>b) \nYou can get the topic partitions, configurations, and sync status with this command</p>\n\n<pre><code>kafka-topics --describe --zookeeper localhost:2181 --topic &lt;TOPIC&gt;\n</code></pre>\n\n<p>You can get the topic settings with this command</p>\n\n<pre><code>kafka-configs --zookeeper localhost:2181 --describe --entity-type topics --entity-name &lt;TOPIC&gt;\n</code></pre>\n\n<p>You can use the add on every command and export them to the filesystem.</p>\n\n<pre><code>&gt; simplefile.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8180146,"reputation":49,"user_id":6157639,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673933864,"creation_date":1673933864,"answer_id":75142301,"question_id":52217542,"body_markdown":"I think this tool may help you.\r\nhttps://github.com/huantt/kafka-dump\r\n\r\n&gt; go install github.com/huantt/kafka-dump@latest\r\n&gt; \r\n&gt; kafka-dump export \\\r\n&gt; --storage=file\r\n&gt; --file=path/to/output/data.parquet \\\r\n&gt; --kafka-topics=users-activities \\\r\n&gt; --kafka-group-id=id=kafka-dump.local \\\r\n&gt; --kafka-servers=localhost:9092 \\\r\n&gt; --kafka-username=admin \\\r\n&gt; --kafka-password=admin \\\r\n&gt; --kafka-security-protocol=SASL_SSL \\\r\n&gt; --kafka-sasl-mechanism=PLAIN\r\n\r\n","title":"How to store all records of topic in single file.?","body":"<p>I think this tool may help you.\n<a href=\"https://github.com/huantt/kafka-dump\" rel=\"nofollow noreferrer\">https://github.com/huantt/kafka-dump</a></p>\n<blockquote>\n<p>go install github.com/huantt/kafka-dump@latest</p>\n<p>kafka-dump export <br />\n--storage=file\n--file=path/to/output/data.parquet <br />\n--kafka-topics=users-activities <br />\n--kafka-group-id=id=kafka-dump.local <br />\n--kafka-servers=localhost:9092 <br />\n--kafka-username=admin <br />\n--kafka-password=admin <br />\n--kafka-security-protocol=SASL_SSL <br />\n--kafka-sasl-mechanism=PLAIN</p>\n</blockquote>\n"}],"owner":{"account_id":2421322,"reputation":121,"user_id":8274092,"display_name":"Kailas Biradar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2200,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":52217877,"answer_count":2,"score":1,"last_activity_date":1673933864,"creation_date":1536305621,"question_id":52217542,"body_markdown":"How to store all information of kafka topic with all records details in file.\r\n\r\na) Can i get all records of KafkaTopic in single file.?\r\n\r\nb) Where located topic details on kafka.? \r\n\r\n","title":"How to store all records of topic in single file.?","body":"<p>How to store all information of kafka topic with all records details in file.</p>\n\n<p>a) Can i get all records of KafkaTopic in single file.?</p>\n\n<p>b) Where located topic details on kafka.? </p>\n"},{"tags":["java","gradle","artifactory"],"owner":{"account_id":2088824,"reputation":1426,"user_id":1859100,"accept_rate":27,"display_name":"Vivek Panday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673933819,"creation_date":1673933819,"question_id":75142295,"body_markdown":"I have upgraded gradle to latest gradle 7 from gradle 4 .\r\nwhile executing ```allDepInsight --configuration compileClasspath --dependency log4j-core``` I am getting below error \r\n\r\nCould not determine the dependencies of task &#39;:project-module-test:allDepInsight&#39;.\r\n&gt; Cannot query the value of task &#39;allDepInsight&#39; property &#39;showingAllVariants&#39; because it has no value available.\r\n\r\nPlease find below build.gradle file\r\n```apply plugin: &#39;java&#39;\r\napply plugin: &#39;groovy&#39;\r\n\r\nsourceSets {\r\n    attributesTest {\r\n        java { srcDir &#39;src/main/java&#39; }\r\n        groovy { srcDir &#39;src/main/groovy&#39; }\r\n        resources { srcDirs = [&#39;src/main/resources&#39;] }\r\n        compileClasspath = sourceSets.main.output + configurations.runtimeClasspath\r\n        runtimeClasspath = compileClasspath + output\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.13.1&#39;\r\n\r\n    implementation &#39;org.jboss.resteasy:jaxrs-api:3.0.12.Final&#39;\r\n    implementation &#39;org.jboss.resteasy:resteasy-client:3.11.3.Final&#39;\r\n    \r\n    \r\n    implementation &#39;org.freemarker:freemarker:2.3.30&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n\r\n    implementation &#39;org.apache.httpcomponents:httpmime:4.5.1&#39;\r\n    implementation &#39;org.apache.commons:commons-lang3:3.1&#39;\r\n    implementation &#39;org.apache.commons:com.springsource.org.apache.commons.lang:2.6.0&#39;\r\n    implementation &quot;org.springframework:spring-beans:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-context:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-core:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-web:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-webmvc:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-context-support:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-aop:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-expression:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-jdbc:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-orm:$rev_spring&quot;\r\n    implementation &quot;org.springframework:spring-tx:$rev_spring&quot;\r\n    implementation &quot;org.springframework.security:spring-security-web:$rev_spring_security&quot;\r\n    implementation &quot;org.springframework.security:spring-security-config:$rev_spring_security&quot;\r\n    implementation &quot;org.springframework:spring-test:$rev_spring&quot;\r\n    \r\n    implementation &#39;org.json:json:20090211&#39;\r\n    implementation &quot;org.jasypt:jasypt:$rev_jasypt&quot;\r\n    implementation &quot;org.codehaus.groovy:groovy-all:$rev_groovy&quot;\r\n    implementation &quot;org.codehaus.gpars:gpars:$rev_gpars&quot;\r\n    implementation &quot;org.spockframework:spock-core:$rev_spock&quot;\r\n    implementation &quot;org.spockframework:spock-spring:$rev_spock&quot;\r\n\r\n    implementation libraries.spring\r\n    implementation libraries.rest\r\n    implementation libraries.groovy\r\n\r\n    testImplementation libraries.test\r\n    testImplementation libraries.encryption\r\n    \r\n}\r\n\r\ntask attributesTest(type: Test) {\r\n    testClassesDirs = sourceSets.attributesTest.output.classesDirs\r\n    classpath = sourceSets.attributesTest.runtimeClasspath\r\n    systemProperties System.properties\r\n    testLogging.showStandardStreams = true\r\n}\r\n``` ","title":"Cannot query the value of task &#39;allDepInsight&#39; property &#39;showingAllVariants&#39; because it has no value available","body":"<p>I have upgraded gradle to latest gradle 7 from gradle 4 .\nwhile executing <code>allDepInsight --configuration compileClasspath --dependency log4j-core</code> I am getting below error</p>\n<p>Could not determine the dependencies of task ':project-module-test:allDepInsight'.</p>\n<blockquote>\n<p>Cannot query the value of task 'allDepInsight' property 'showingAllVariants' because it has no value available.</p>\n</blockquote>\n<p>Please find below build.gradle file</p>\n<pre><code>apply plugin: 'groovy'\n\nsourceSets {\n    attributesTest {\n        java { srcDir 'src/main/java' }\n        groovy { srcDir 'src/main/groovy' }\n        resources { srcDirs = ['src/main/resources'] }\n        compileClasspath = sourceSets.main.output + configurations.runtimeClasspath\n        runtimeClasspath = compileClasspath + output\n    }\n}\n\ndependencies {\n\n    testImplementation group: 'junit', name: 'junit', version: '4.13.1'\n\n    implementation 'org.jboss.resteasy:jaxrs-api:3.0.12.Final'\n    implementation 'org.jboss.resteasy:resteasy-client:3.11.3.Final'\n    \n    \n    implementation 'org.freemarker:freemarker:2.3.30'\n    implementation 'com.google.code.gson:gson:2.8.9'\n\n    implementation 'org.apache.httpcomponents:httpmime:4.5.1'\n    implementation 'org.apache.commons:commons-lang3:3.1'\n    implementation 'org.apache.commons:com.springsource.org.apache.commons.lang:2.6.0'\n    implementation &quot;org.springframework:spring-beans:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-context:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-core:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-web:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-webmvc:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-context-support:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-aop:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-expression:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-jdbc:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-orm:$rev_spring&quot;\n    implementation &quot;org.springframework:spring-tx:$rev_spring&quot;\n    implementation &quot;org.springframework.security:spring-security-web:$rev_spring_security&quot;\n    implementation &quot;org.springframework.security:spring-security-config:$rev_spring_security&quot;\n    implementation &quot;org.springframework:spring-test:$rev_spring&quot;\n    \n    implementation 'org.json:json:20090211'\n    implementation &quot;org.jasypt:jasypt:$rev_jasypt&quot;\n    implementation &quot;org.codehaus.groovy:groovy-all:$rev_groovy&quot;\n    implementation &quot;org.codehaus.gpars:gpars:$rev_gpars&quot;\n    implementation &quot;org.spockframework:spock-core:$rev_spock&quot;\n    implementation &quot;org.spockframework:spock-spring:$rev_spock&quot;\n\n    implementation libraries.spring\n    implementation libraries.rest\n    implementation libraries.groovy\n\n    testImplementation libraries.test\n    testImplementation libraries.encryption\n    \n}\n\ntask attributesTest(type: Test) {\n    testClassesDirs = sourceSets.attributesTest.output.classesDirs\n    classpath = sourceSets.attributesTest.runtimeClasspath\n    systemProperties System.properties\n    testLogging.showStandardStreams = true\n}\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673869193,"post_id":75133420,"comment_id":132586194,"body_markdown":"`String url = Uri.parse(selectedFile.getAbsolutePath()).toString();` -- that has not worked reliably in several years. Please use `FileProvider` and `getUriForFile()`.","body":"<code>String url = Uri.parse(selectedFile.getAbsolutePath()).toString();</code> -- that has not worked reliably in several years. Please use <code>FileProvider</code> and <code>getUriForFile()</code>."}],"answers":[{"tags":[],"owner":{"account_id":27520421,"reputation":11,"user_id":21000695,"display_name":"Ravinder Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673933041,"creation_date":1673879798,"answer_id":75135748,"question_id":75133420,"body_markdown":"Please try the following code:\r\n\r\n\r\n\r\n     \r\n       Uri uri = FileProvider.getUriForFile(context, &quot;com.example.project.fileprovider&quot;, file);  \r\n        \r\n          if (uri != null) {\r\n             Intent share = new Intent();\r\n             share.setAction(Intent.ACTION_SEND);\r\n             share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // temp permission for receiving app to read this file\r\n             share.setDataAndType(uri, getContentResolver().getType(uri));\r\n             share.putExtra(Intent.EXTRA_STREAM, uri);\r\n             final PackageManager pmanager = getPackageManager();\r\n             final List&lt;ResolveInfo&gt; matches = pmanager.queryIntentActivities(share, 0);\r\n             ResolveInfo rInfo = null;\r\n             if (rInfo != null)\r\n             share.setClassName(rInfo.activityInfo.packageName, rInfo.activityInfo.name);\r\n             startActivity(share);\r\n     }\r\n\r\n\r\nand let me know.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"android open sharing image and try to sent to any app, but i get media not found","body":"<p>Please try the following code:</p>\n<pre><code>   Uri uri = FileProvider.getUriForFile(context, &quot;com.example.project.fileprovider&quot;, file);  \n    \n      if (uri != null) {\n         Intent share = new Intent();\n         share.setAction(Intent.ACTION_SEND);\n         share.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // temp permission for receiving app to read this file\n         share.setDataAndType(uri, getContentResolver().getType(uri));\n         share.putExtra(Intent.EXTRA_STREAM, uri);\n         final PackageManager pmanager = getPackageManager();\n         final List&lt;ResolveInfo&gt; matches = pmanager.queryIntentActivities(share, 0);\n         ResolveInfo rInfo = null;\n         if (rInfo != null)\n         share.setClassName(rInfo.activityInfo.packageName, rInfo.activityInfo.name);\n         startActivity(share);\n }\n</code></pre>\n<p>and let me know.</p>\n"}],"owner":{"account_id":21319197,"reputation":1,"user_id":15692636,"display_name":"בני סעדון"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673933041,"creation_date":1673867536,"question_id":75133420,"body_markdown":"API 28\r\n\r\nClicking share in my custom menu, and after opening the sharing environment and trying to share I get this error message &quot;no media found&quot;.\r\nplease help\r\n\r\nSending media to another app failed\r\n(by the way the normal sharing works well)\r\n\r\n\r\n```\r\n if(item.getTitle().equals(&quot;SHARED&quot;)){\r\n                            String url = Uri.parse(selectedFile.getAbsolutePath()).toString();\r\n\r\n                            try {\r\n                                Intent share = new Intent(Intent.ACTION_SEND);\r\n\r\n                                share.putExtra(Intent.EXTRA_STREAM, url);\r\n\r\n                                if(url.contains(&quot;.jpg&quot;) || url.contains(&quot;.jpeg&quot;)) {\r\n                                    // JPG file\r\n                                    share.setType(&quot;image/jpg&quot;);\r\n\r\n                                } else if(url.contains(&quot;.png&quot;)) {\r\n                                    // PNG file\r\n                                    share.setType(&quot;image/png&quot;);\r\n                                } else if(url.contains(&quot;.mpg&quot;) || url.contains(&quot;.mpeg&quot;) || url.contains(&quot;.mpe&quot;) || url.contains(&quot;.mp4&quot;) || url.contains(&quot;.avi&quot;)) {\r\n                                    // Video files\r\n                                    share.setType(&quot;video/*&quot;);\r\n                                }\r\n                                //share.setData(Uri.parse(selectedFile.getPath()));\r\n\r\n                                //share.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                                Intent chooserIntent = Intent.createChooser(share, &quot;Open With&quot;);\r\n                                chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\n                                context.startActivity(chooserIntent);\r\n                            } catch (Exception e) { // For example, android.content.ActivityNotFoundException\r\n                                Log.e(DebugUtils.TAG, e.toString());\r\n                            }\r\n\r\n                        }\r\n```","title":"android open sharing image and try to sent to any app, but i get media not found","body":"<p>API 28</p>\n<p>Clicking share in my custom menu, and after opening the sharing environment and trying to share I get this error message &quot;no media found&quot;.\nplease help</p>\n<p>Sending media to another app failed\n(by the way the normal sharing works well)</p>\n<pre><code> if(item.getTitle().equals(&quot;SHARED&quot;)){\n                            String url = Uri.parse(selectedFile.getAbsolutePath()).toString();\n\n                            try {\n                                Intent share = new Intent(Intent.ACTION_SEND);\n\n                                share.putExtra(Intent.EXTRA_STREAM, url);\n\n                                if(url.contains(&quot;.jpg&quot;) || url.contains(&quot;.jpeg&quot;)) {\n                                    // JPG file\n                                    share.setType(&quot;image/jpg&quot;);\n\n                                } else if(url.contains(&quot;.png&quot;)) {\n                                    // PNG file\n                                    share.setType(&quot;image/png&quot;);\n                                } else if(url.contains(&quot;.mpg&quot;) || url.contains(&quot;.mpeg&quot;) || url.contains(&quot;.mpe&quot;) || url.contains(&quot;.mp4&quot;) || url.contains(&quot;.avi&quot;)) {\n                                    // Video files\n                                    share.setType(&quot;video/*&quot;);\n                                }\n                                //share.setData(Uri.parse(selectedFile.getPath()));\n\n                                //share.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                                Intent chooserIntent = Intent.createChooser(share, &quot;Open With&quot;);\n                                chooserIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\n                                context.startActivity(chooserIntent);\n                            } catch (Exception e) { // For example, android.content.ActivityNotFoundException\n                                Log.e(DebugUtils.TAG, e.toString());\n                            }\n\n                        }\n</code></pre>\n"},{"tags":["java","spring-security","azure-active-directory","jwt","azure-spring-cloud"],"comments":[{"owner":{"account_id":124624,"reputation":6754,"user_id":319826,"accept_rate":72,"display_name":"kometen"},"score":0,"creation_date":1673872020,"post_id":75134191,"comment_id":132587043,"body_markdown":"You can&#39;t validate AD tokens issued by MS Graph unfortunately. I tried for a while and saw this link https://stackoverflow.com/a/65172084/319826. I ended up using Azure API gateway. This can validate an AD-token on your behalf. So I use it as a frontend to my backend-service.","body":"You can&#39;t validate AD tokens issued by MS Graph unfortunately. I tried for a while and saw this link <a href=\"https://stackoverflow.com/a/65172084/319826\">stackoverflow.com/a/65172084/319826</a>. I ended up using Azure API gateway. This can validate an AD-token on your behalf. So I use it as a frontend to my backend-service."}],"answers":[{"tags":[],"owner":{"account_id":5313708,"reputation":21,"user_id":4239209,"display_name":"Jimmy Fang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673932402,"creation_date":1673932402,"answer_id":75142184,"question_id":75134191,"body_markdown":"[Spring Cloud Azure](https://spring.io/projects/spring-cloud-azure) integrate Spring Security with Azure Active Directory.\r\n\r\nYou could use `spring-cloud-azure-starter-active-directory` starter to integrate with Spring Security, please refer this [sample](https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-cloud-azure-starter-active-directory/web-client-access-resource-server/aad-resource-server) to see how to use it.\r\n\r\nFor further reading, please refer the [Azure Active Directory dev guide](https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide), it covers these scenarios for you:\r\n\r\n- Access a web application\r\n- Access resource servers from a web application\r\n- Protect a resource server/API\r\n- Access other resource servers from a resource server\r\n- Web application and resource server in one application","title":"Validate Azure AD access token with spring security","body":"<p><a href=\"https://spring.io/projects/spring-cloud-azure\" rel=\"nofollow noreferrer\">Spring Cloud Azure</a> integrate Spring Security with Azure Active Directory.</p>\n<p>You could use <code>spring-cloud-azure-starter-active-directory</code> starter to integrate with Spring Security, please refer this <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/tree/main/aad/spring-cloud-azure-starter-active-directory/web-client-access-resource-server/aad-resource-server\" rel=\"nofollow noreferrer\">sample</a> to see how to use it.</p>\n<p>For further reading, please refer the <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/spring-boot-starter-for-azure-active-directory-developer-guide\" rel=\"nofollow noreferrer\">Azure Active Directory dev guide</a>, it covers these scenarios for you:</p>\n<ul>\n<li>Access a web application</li>\n<li>Access resource servers from a web application</li>\n<li>Protect a resource server/API</li>\n<li>Access other resource servers from a resource server</li>\n<li>Web application and resource server in one application</li>\n</ul>\n"}],"owner":{"account_id":25668464,"reputation":1,"user_id":19433061,"display_name":"sm0217"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673932402,"creation_date":1673871825,"question_id":75134191,"body_markdown":"What is the easiest way to switch from jsession based authentication to a token based authentication with Azure AD and Spring security? The documentation is not clear on other approaches to authenticate with azure AD other than the default session based one. \r\n\r\nI am trying to see how can I validate the jwt access token using azure AD. The default implementation works with session based authentication (which will not work in a system with multiple instances.) The session-stateless property mentioned in the doc doesn&#39;t seem to have any effect on the authentication. ","title":"Validate Azure AD access token with spring security","body":"<p>What is the easiest way to switch from jsession based authentication to a token based authentication with Azure AD and Spring security? The documentation is not clear on other approaches to authenticate with azure AD other than the default session based one.</p>\n<p>I am trying to see how can I validate the jwt access token using azure AD. The default implementation works with session based authentication (which will not work in a system with multiple instances.) The session-stateless property mentioned in the doc doesn't seem to have any effect on the authentication.</p>\n"},{"tags":["java","multithreading","threadpool"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673931520,"creation_date":1673929584,"answer_id":75141982,"question_id":75141943,"body_markdown":"The processing capacity of running threads is always limited by the number of threads the hardware&#39;s CPU provides - keep that in mind when allocating threads to thread pools.\r\n\r\nUse [`newFixedThreadPool(int nThreads)`][1] for each region.\r\n\r\nIf your processing is mostly compute intensive, pick smaller sizes; perhaps `newFixedThreadPool(3)` for region A and `newFixedThreadPool(1)` for the others.\r\n\r\nChose larger numbers if your processing spends a lot of time waiting for processing external to the thread (eg web or db calls).\r\n\r\nExperiment to see what provides acceptable liveliness.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)","title":"Can Java handle 10 Thread pool at the same time","body":"<p>The processing capacity of running threads is always limited by the number of threads the hardware's CPU provides - keep that in mind when allocating threads to thread pools.</p>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow noreferrer\"><code>newFixedThreadPool(int nThreads)</code></a> for each region.</p>\n<p>If your processing is mostly compute intensive, pick smaller sizes; perhaps <code>newFixedThreadPool(3)</code> for region A and <code>newFixedThreadPool(1)</code> for the others.</p>\n<p>Chose larger numbers if your processing spends a lot of time waiting for processing external to the thread (eg web or db calls).</p>\n<p>Experiment to see what provides acceptable liveliness.</p>\n"}],"owner":{"account_id":17573955,"reputation":150,"user_id":12749135,"display_name":"auntR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75141982,"answer_count":1,"score":0,"last_activity_date":1673931520,"creation_date":1673928950,"question_id":75141943,"body_markdown":"I have a Java Application which handles different region for example 10 regions.\r\nEach region have different number of tasks. \r\n\r\nI encounter a problem is that one particular region (`Region A`) have lots of tasks and the processing time of each task for that region is very long. Therefore, if I use a `Single Thread Pool`, and tasks of all region will be submitted to the `Single Thread Pool`, tasks of `Region A` will block other region &#39;s tasks. Tasks of other region can only wait in the block queue until the tasks of `Region A` are finished.\r\n\r\nI want to achieve if there are 5000 tasks of `Region A` submitted to `Single Thread Pool` , and each task is processing with a long time, other region tasks can be processed in parallel without being blocked by tasks of `Region A`.\r\n\r\nI have a requirement which cannot create too much thread for the `Single Thread Pool`, and also `newCachedThreadPool()` is not recommended to use.\r\n\r\nWhat my approach is to create 1 Thread Pool for each region, which will create 10 Thread Pool in total. But I do not know if there are any problems regarding multiple Thread Pool and if there are any other proper way to achieve it.","title":"Can Java handle 10 Thread pool at the same time","body":"<p>I have a Java Application which handles different region for example 10 regions.\nEach region have different number of tasks.</p>\n<p>I encounter a problem is that one particular region (<code>Region A</code>) have lots of tasks and the processing time of each task for that region is very long. Therefore, if I use a <code>Single Thread Pool</code>, and tasks of all region will be submitted to the <code>Single Thread Pool</code>, tasks of <code>Region A</code> will block other region 's tasks. Tasks of other region can only wait in the block queue until the tasks of <code>Region A</code> are finished.</p>\n<p>I want to achieve if there are 5000 tasks of <code>Region A</code> submitted to <code>Single Thread Pool</code> , and each task is processing with a long time, other region tasks can be processed in parallel without being blocked by tasks of <code>Region A</code>.</p>\n<p>I have a requirement which cannot create too much thread for the <code>Single Thread Pool</code>, and also <code>newCachedThreadPool()</code> is not recommended to use.</p>\n<p>What my approach is to create 1 Thread Pool for each region, which will create 10 Thread Pool in total. But I do not know if there are any problems regarding multiple Thread Pool and if there are any other proper way to achieve it.</p>\n"},{"tags":["java","generics","self-type"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1673854455,"post_id":75131297,"comment_id":132581948,"body_markdown":"What is this SelfTypeTemplates? Can you share the code for this?","body":"What is this SelfTypeTemplates? Can you share the code for this?"},{"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"score":0,"creation_date":1673887493,"post_id":75131297,"comment_id":132592467,"body_markdown":"It&#39;s the first class in the example given. The class is fictional. Basically it&#39;s supposed to be the API of which I want to figure out the signatures.","body":"It&#39;s the first class in the example given. The class is fictional. Basically it&#39;s supposed to be the API of which I want to figure out the signatures."}],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673930294,"creation_date":1673855173,"answer_id":75131403,"question_id":75131297,"body_markdown":"Sometimes the compiler cannot infer the correct type for what ever reason. To work around this issue you can specify it like this:\r\n\r\n    class ConcreteSelfType extends AbstractSelfType&lt;ConcreteSelfType&gt; {\r\n    \r\n    \tpublic ConcreteSelfType() {\r\n    \t\tsuper(ConcreteSelfType.class);\r\n    \t}\r\n    \r\n    \tpublic ConcreteSelfType applySimpleBound() {\r\n    \t\t// How to get rid of the type cast?\r\n    \t\treturn SelfTypeTemplates.&lt;ConcreteSelfType&gt;simpleBound().apply(this);\r\n    \t}\r\n    \r\n    \tpublic ConcreteSelfType applyBoundWithGenericType() {\r\n    \t\t// Compile error because `this` is ConcreteSelfType, but required is SELF\r\n    \t\treturn SelfTypeTemplates.&lt;ConcreteSelfType&gt;boundWithGenericType().apply(this);\r\n    \t}\r\n    }\r\n\r\nBoth options compile this way and you don&#39;t need a cast. ","title":"Generic method to return function returning generic self-type without the need to cast","body":"<p>Sometimes the compiler cannot infer the correct type for what ever reason. To work around this issue you can specify it like this:</p>\n<pre><code>class ConcreteSelfType extends AbstractSelfType&lt;ConcreteSelfType&gt; {\n\n    public ConcreteSelfType() {\n        super(ConcreteSelfType.class);\n    }\n\n    public ConcreteSelfType applySimpleBound() {\n        // How to get rid of the type cast?\n        return SelfTypeTemplates.&lt;ConcreteSelfType&gt;simpleBound().apply(this);\n    }\n\n    public ConcreteSelfType applyBoundWithGenericType() {\n        // Compile error because `this` is ConcreteSelfType, but required is SELF\n        return SelfTypeTemplates.&lt;ConcreteSelfType&gt;boundWithGenericType().apply(this);\n    }\n}\n</code></pre>\n<p>Both options compile this way and you don't need a cast.</p>\n"}],"owner":{"account_id":6525393,"reputation":332,"user_id":5048304,"display_name":"Tob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75131403,"answer_count":1,"score":0,"last_activity_date":1673930294,"creation_date":1673854332,"question_id":75131297,"body_markdown":"Honestly, I&#39;m not even sure whether that title makes sense. Hopefully the code following will explain the issue at hand.\r\n\r\n```java\r\npackage what.ever.you.like;\r\n\r\nimport java.util.function.UnaryOperator;\r\n\r\nclass SelfTypeTemplates {\r\n\r\n\tpublic static &lt;SELF extends AbstractSelfType&gt; UnaryOperator&lt;SELF&gt; simpleBound() {\r\n\t\treturn self -&gt; self;\r\n\t}\r\n\r\n\tpublic static &lt;SELF extends AbstractSelfType&lt;SELF&gt;&gt; UnaryOperator&lt;SELF&gt; boundWithGenericType() {\r\n\t\treturn self -&gt; self;\r\n\t}\r\n}\r\n\r\nclass ConcreteSelfType extends AbstractSelfType&lt;ConcreteSelfType&gt; {\r\n\r\n\tpublic ConcreteSelfType() {\r\n\t\tsuper(ConcreteSelfType.class);\r\n\t}\r\n\r\n\tpublic ConcreteSelfType applySimpleBound() {\r\n\t\t// How to get rid of the type cast?\r\n\t\treturn (ConcreteSelfType) SelfTypeTemplates.simpleBound().apply(this);\r\n\t}\r\n\r\n\tpublic ConcreteSelfType applyBoundWithGenericType() {\r\n\t\t// Compile error because `this` is ConcreteSelfType, but required is SELF\r\n\t\treturn SelfTypeTemplates.boundWithGenericType().apply(this);\r\n\t}\r\n}\r\n\r\nclass AbstractSelfType&lt;SELF extends AbstractSelfType&lt;SELF&gt;&gt; {\r\n\tprotected final SELF myself;\r\n\r\n\tprotected AbstractSelfType(final Class&lt;?&gt; type) {\r\n\t\tthis.myself = (SELF) type.cast(this);\r\n\t}\r\n}\r\n```\r\n\r\nMy issue is with the two methods `applySimpleBound()` and `applyBoundWithGenericType()`. \r\nThe former is compiling fine, but needs explicit casting, which is what I&#39;d like to get rid of.\r\nThe later does not compile, because `.apply(this)` requires a type `SELF` but provided is `ConcreteSelfType`.\r\n\r\nSo my question is, how do I specify the signature of a method in `SelfTypeTemplates` to return an `UnaryOperator&lt;SELF&gt;` so that invoking the returned function (`.apply(this)`), does **not need casting** in the client code (i.e. `ContreteSelfType`)?\r\n\r\nTried to play with different bounds in the generic and return type. Haven&#39;t found a working version without type casting.","title":"Generic method to return function returning generic self-type without the need to cast","body":"<p>Honestly, I'm not even sure whether that title makes sense. Hopefully the code following will explain the issue at hand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package what.ever.you.like;\n\nimport java.util.function.UnaryOperator;\n\nclass SelfTypeTemplates {\n\n    public static &lt;SELF extends AbstractSelfType&gt; UnaryOperator&lt;SELF&gt; simpleBound() {\n        return self -&gt; self;\n    }\n\n    public static &lt;SELF extends AbstractSelfType&lt;SELF&gt;&gt; UnaryOperator&lt;SELF&gt; boundWithGenericType() {\n        return self -&gt; self;\n    }\n}\n\nclass ConcreteSelfType extends AbstractSelfType&lt;ConcreteSelfType&gt; {\n\n    public ConcreteSelfType() {\n        super(ConcreteSelfType.class);\n    }\n\n    public ConcreteSelfType applySimpleBound() {\n        // How to get rid of the type cast?\n        return (ConcreteSelfType) SelfTypeTemplates.simpleBound().apply(this);\n    }\n\n    public ConcreteSelfType applyBoundWithGenericType() {\n        // Compile error because `this` is ConcreteSelfType, but required is SELF\n        return SelfTypeTemplates.boundWithGenericType().apply(this);\n    }\n}\n\nclass AbstractSelfType&lt;SELF extends AbstractSelfType&lt;SELF&gt;&gt; {\n    protected final SELF myself;\n\n    protected AbstractSelfType(final Class&lt;?&gt; type) {\n        this.myself = (SELF) type.cast(this);\n    }\n}\n</code></pre>\n<p>My issue is with the two methods <code>applySimpleBound()</code> and <code>applyBoundWithGenericType()</code>.\nThe former is compiling fine, but needs explicit casting, which is what I'd like to get rid of.\nThe later does not compile, because <code>.apply(this)</code> requires a type <code>SELF</code> but provided is <code>ConcreteSelfType</code>.</p>\n<p>So my question is, how do I specify the signature of a method in <code>SelfTypeTemplates</code> to return an <code>UnaryOperator&lt;SELF&gt;</code> so that invoking the returned function (<code>.apply(this)</code>), does <strong>not need casting</strong> in the client code (i.e. <code>ContreteSelfType</code>)?</p>\n<p>Tried to play with different bounds in the generic and return type. Haven't found a working version without type casting.</p>\n"},{"tags":["java","avro"],"answers":[{"tags":[],"owner":{"account_id":4506704,"reputation":463,"user_id":3663854,"accept_rate":74,"display_name":"user3663854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601617057,"creation_date":1601617057,"answer_id":64166642,"question_id":64151310,"body_markdown":"  Referring back to https://stackoverflow.com/questions/49034266/how-to-define-a-logicaltype-in-avro-java, I managed to solve this by creating my own logical type. It seems like doing this with &quot;timestamp-millis&quot; logicalType wont work. So I created my own logicalType...\r\n\r\n  \r\n    package example;\r\n    \r\n    import org.apache.avro.Conversion;\r\n    import org.apache.avro.LogicalType;\r\n    import org.apache.avro.LogicalTypes;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.Schema.Parser;\r\n    import org.apache.avro.file.DataFileReader;\r\n    import org.apache.avro.file.DataFileWriter;\r\n    import org.apache.avro.generic.*;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.ResolvingDecoder;\r\n    import org.joda.time.DateTime;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class AvroWriteDateUtcToEpochMili {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Boolean isRegisterNewLogicalType = true;\r\n            Boolean isWrite = true;\r\n    \r\n            if(isRegisterNewLogicalType) {\r\n                LogicalTypes.register(UtcDateTimeToTimestampMilisLogicalType.CONVERT_LONG_TYPE_NAME, new LogicalTypes.LogicalTypeFactory() {\r\n                    private final LogicalType convertLongLogicalType = new UtcDateTimeToTimestampMilisLogicalType();\r\n    \r\n                    @Override\r\n                    public LogicalType fromSchema(Schema schema) {\r\n                        return convertLongLogicalType;\r\n                    }\r\n                });\r\n            }\r\n    \r\n            Schema schema1 = new Parser().parse(new File(&quot;./userdate_modified_string.avsc&quot;));\r\n    \r\n            // Serialize user1 and user2 to disk\r\n            File file1 = new File(&quot;users.avro&quot;);\r\n            if(isWrite) {\r\n                GenericRecord user1 = new GenericData.Record(schema1);\r\n                user1.put(&quot;timestamplong&quot;, &quot;2019-07-09T04:31:45.281Z&quot;);\r\n                //user1.put(&quot;timestamplong&quot;, 1L);\r\n                user1.put(&quot;timestampstring&quot;, &quot;2019-07-09T04:31:45.281Z&quot;);\r\n    \r\n                GenericRecord user2 = new GenericData.Record(schema1);\r\n                //user2.put(&quot;timestamplong&quot;, &quot;2018-07-09T04:30:45.781Z&quot;);\r\n                user2.put(&quot;timestamplong&quot;, 2L);\r\n                user2.put(&quot;timestampstring&quot;, (new DateTime(2L)).toString());\r\n                //user2.put(&quot;timestampstring&quot;, new Timestamp(new Date(&quot;2018-01-26&quot;).getTime()));\r\n    \r\n                var currentDateTime = DateTime.now();\r\n    \r\n                GenericRecord user3 = new GenericData.Record(schema1);\r\n                user3.put(&quot;timestamplong&quot;, currentDateTime.toString());\r\n                //user3.put(&quot;timestamplong&quot;, 3L);\r\n                user3.put(&quot;timestampstring&quot;, currentDateTime.toString());\r\n    \r\n                final GenericData genericData2 = new GenericData();\r\n                genericData2.addLogicalTypeConversion(new MyStringTimestampConversion());\r\n    \r\n                DatumWriter&lt;GenericRecord&gt; datumWriter = new GenericDatumWriter&lt;GenericRecord&gt;(schema1, genericData2);\r\n                DataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;GenericRecord&gt;(datumWriter);\r\n                dataFileWriter.create(schema1, file1);\r\n                dataFileWriter.append(user1);\r\n                dataFileWriter.append(user2);\r\n                dataFileWriter.append(user3);\r\n                dataFileWriter.close();\r\n            }\r\n    \r\n            // Deserialize users from disk\r\n    \r\n            Boolean once = true;\r\n            DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema1);\r\n            GenericRecord user = null;\r\n            try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\r\n                while (dataFileReader.hasNext()) {\r\n                    user = dataFileReader.next(user);\r\n    \r\n                    if(once) {\r\n                        System.out.println(user.getSchema());\r\n                        once = false;\r\n                    }\r\n    \r\n                    //System.out.println(LogicalTypes.fromSchema(user.getSchema()));\r\n                    System.out.println(user);\r\n                }\r\n            }\r\n    \r\n            // Deserialize users from disk\r\n            System.out.println(&quot;//AFTER&quot;);\r\n    \r\n            Schema schema2 = new Parser().parse(new File(&quot;./userdate_modified_string.avsc&quot;));\r\n            final GenericData genericData = new GenericData();\r\n            genericData.addLogicalTypeConversion(new MyStringTimestampConversion());\r\n            datumReader = new MyReader&lt;GenericRecord&gt;(schema2, schema2, genericData);\r\n    \r\n            user = null;\r\n            try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\r\n                while (dataFileReader.hasNext()) {\r\n                    user = dataFileReader.next(user);\r\n                    System.out.println(user);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static class MyReader&lt;G extends IndexedRecord&gt; extends GenericDatumReader {\r\n            public MyReader() {\r\n                super();\r\n            }\r\n    \r\n            public MyReader(Schema writer, Schema reader, GenericData data) {\r\n                super(writer, reader, data);\r\n            }\r\n    \r\n            @Override\r\n            protected Object read(Object old, Schema expected, ResolvingDecoder in) throws IOException {\r\n                Object datum = this.readWithoutConversion(old, expected, in);\r\n                LogicalType logicalType = expected.getLogicalType();\r\n                if (logicalType != null) {\r\n                    Conversion&lt;?&gt; conversion = this.getData().getConversionFor(logicalType);\r\n                    if (conversion != null) {\r\n                        return this.convert(datum, expected, logicalType, conversion);\r\n                    }\r\n                }\r\n    \r\n                return datum;\r\n            }\r\n        }\r\n    \r\n        public static class MyStringTimestampConversion extends Conversion&lt;String&gt; {\r\n            public MyStringTimestampConversion() {\r\n                super();\r\n            }\r\n    \r\n            @Override\r\n            public Class&lt;String&gt; getConvertedType() {\r\n                return String.class;\r\n            }\r\n    \r\n            @Override\r\n            public String getLogicalTypeName() {\r\n                // &quot;timestamp-millis&quot;;\r\n                return UtcDateTimeToTimestampMilisLogicalType.CONVERT_LONG_TYPE_NAME;\r\n            }\r\n    \r\n            @Override\r\n            public String fromLong(Long millisFromEpoch, Schema schema, LogicalType type) {\r\n                return (new DateTime(millisFromEpoch)).toString();\r\n                //return &quot;123456L&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public Long toLong(String value, Schema schema, LogicalType type) { //https://stackoverflow.com/questions/22681348/joda-datetime-to-unix-datetime\r\n                //DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS&#39;Z&#39;&quot;);//https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z\r\n                DateTime dateTime = DateTime.parse(value);\r\n                long epochMilli = dateTime.toDate().toInstant().toEpochMilli();\r\n                return epochMilli;\r\n            }\r\n        }\r\n    }\r\n\r\nLogicalType\r\n\r\n    public class UtcDateTimeToTimestampMilisLogicalType extends LogicalType {\r\n        //The key to use as a reference to the type\r\n        public static final String CONVERT_LONG_TYPE_NAME = &quot;utc-to-epoch-millis&quot;;\r\n    \r\n        public UtcDateTimeToTimestampMilisLogicalType() {\r\n            super(CONVERT_LONG_TYPE_NAME);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void validate(Schema schema) {\r\n            super.validate(schema);\r\n            if (schema.getType() != Schema.Type.LONG) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;Logical type &#39;utc-to-epoch-millis&#39; must be backed by bytes&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nSchema\r\n\r\n    {\r\n    \t&quot;namespace&quot;: &quot;example.avro.modified.string&quot;,\r\n    \t&quot;type&quot;: &quot;record&quot;,\r\n    \t&quot;name&quot;: &quot;UserDate&quot;,\r\n    \t&quot;fields&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;timestamplong&quot;,\r\n    \t\t\t&quot;type&quot;: \r\n    \t\t\t\t{\r\n    \t\t\t\t\t&quot;type&quot;: &quot;long&quot;,\r\n    \t\t\t\t\t&quot;logicalType&quot;: &quot;utc-to-epoch-millis&quot;\r\n    \t\t\t\t}\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;: &quot;timestampstring&quot;,\r\n    \t\t\t&quot;type&quot;: &quot;string&quot;\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nResult\r\n\r\n    {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;UserDate&quot;,&quot;namespace&quot;:&quot;example.avro.modified.string&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;timestamplong&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;long&quot;,&quot;logicalType&quot;:&quot;utc-to-epoch-millis&quot;}},{&quot;name&quot;:&quot;timestampstring&quot;,&quot;type&quot;:&quot;string&quot;}]}\r\n    {&quot;timestamplong&quot;: 1562646705281, &quot;timestampstring&quot;: &quot;2019-07-09T04:31:45.281Z&quot;}\r\n    {&quot;timestamplong&quot;: 2, &quot;timestampstring&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;}\r\n    {&quot;timestamplong&quot;: 1601616694713, &quot;timestampstring&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;}\r\n    //AFTER\r\n    {&quot;timestamplong&quot;: &quot;2019-07-09T12:31:45.281+08:00&quot;, &quot;timestampstring&quot;: &quot;2019-07-09T04:31:45.281Z&quot;}\r\n    {&quot;timestamplong&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;, &quot;timestampstring&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;}\r\n    {&quot;timestamplong&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;, &quot;timestampstring&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;}\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n","title":"Avro logicalType String Date conversion to EPOCH timestamp-millis","body":"<p>Referring back to <a href=\"https://stackoverflow.com/questions/49034266/how-to-define-a-logicaltype-in-avro-java\">How to define a LogicalType in Avro. (java)</a>, I managed to solve this by creating my own logical type. It seems like doing this with &quot;timestamp-millis&quot; logicalType wont work. So I created my own logicalType...</p>\n<pre><code>package example;\n\nimport org.apache.avro.Conversion;\nimport org.apache.avro.LogicalType;\nimport org.apache.avro.LogicalTypes;\nimport org.apache.avro.Schema;\nimport org.apache.avro.Schema.Parser;\nimport org.apache.avro.file.DataFileReader;\nimport org.apache.avro.file.DataFileWriter;\nimport org.apache.avro.generic.*;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.ResolvingDecoder;\nimport org.joda.time.DateTime;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class AvroWriteDateUtcToEpochMili {\n    public static void main(String[] args) throws IOException {\n\n        Boolean isRegisterNewLogicalType = true;\n        Boolean isWrite = true;\n\n        if(isRegisterNewLogicalType) {\n            LogicalTypes.register(UtcDateTimeToTimestampMilisLogicalType.CONVERT_LONG_TYPE_NAME, new LogicalTypes.LogicalTypeFactory() {\n                private final LogicalType convertLongLogicalType = new UtcDateTimeToTimestampMilisLogicalType();\n\n                @Override\n                public LogicalType fromSchema(Schema schema) {\n                    return convertLongLogicalType;\n                }\n            });\n        }\n\n        Schema schema1 = new Parser().parse(new File(&quot;./userdate_modified_string.avsc&quot;));\n\n        // Serialize user1 and user2 to disk\n        File file1 = new File(&quot;users.avro&quot;);\n        if(isWrite) {\n            GenericRecord user1 = new GenericData.Record(schema1);\n            user1.put(&quot;timestamplong&quot;, &quot;2019-07-09T04:31:45.281Z&quot;);\n            //user1.put(&quot;timestamplong&quot;, 1L);\n            user1.put(&quot;timestampstring&quot;, &quot;2019-07-09T04:31:45.281Z&quot;);\n\n            GenericRecord user2 = new GenericData.Record(schema1);\n            //user2.put(&quot;timestamplong&quot;, &quot;2018-07-09T04:30:45.781Z&quot;);\n            user2.put(&quot;timestamplong&quot;, 2L);\n            user2.put(&quot;timestampstring&quot;, (new DateTime(2L)).toString());\n            //user2.put(&quot;timestampstring&quot;, new Timestamp(new Date(&quot;2018-01-26&quot;).getTime()));\n\n            var currentDateTime = DateTime.now();\n\n            GenericRecord user3 = new GenericData.Record(schema1);\n            user3.put(&quot;timestamplong&quot;, currentDateTime.toString());\n            //user3.put(&quot;timestamplong&quot;, 3L);\n            user3.put(&quot;timestampstring&quot;, currentDateTime.toString());\n\n            final GenericData genericData2 = new GenericData();\n            genericData2.addLogicalTypeConversion(new MyStringTimestampConversion());\n\n            DatumWriter&lt;GenericRecord&gt; datumWriter = new GenericDatumWriter&lt;GenericRecord&gt;(schema1, genericData2);\n            DataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;GenericRecord&gt;(datumWriter);\n            dataFileWriter.create(schema1, file1);\n            dataFileWriter.append(user1);\n            dataFileWriter.append(user2);\n            dataFileWriter.append(user3);\n            dataFileWriter.close();\n        }\n\n        // Deserialize users from disk\n\n        Boolean once = true;\n        DatumReader&lt;GenericRecord&gt; datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema1);\n        GenericRecord user = null;\n        try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\n            while (dataFileReader.hasNext()) {\n                user = dataFileReader.next(user);\n\n                if(once) {\n                    System.out.println(user.getSchema());\n                    once = false;\n                }\n\n                //System.out.println(LogicalTypes.fromSchema(user.getSchema()));\n                System.out.println(user);\n            }\n        }\n\n        // Deserialize users from disk\n        System.out.println(&quot;//AFTER&quot;);\n\n        Schema schema2 = new Parser().parse(new File(&quot;./userdate_modified_string.avsc&quot;));\n        final GenericData genericData = new GenericData();\n        genericData.addLogicalTypeConversion(new MyStringTimestampConversion());\n        datumReader = new MyReader&lt;GenericRecord&gt;(schema2, schema2, genericData);\n\n        user = null;\n        try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\n            while (dataFileReader.hasNext()) {\n                user = dataFileReader.next(user);\n                System.out.println(user);\n            }\n        }\n    }\n\n    public static class MyReader&lt;G extends IndexedRecord&gt; extends GenericDatumReader {\n        public MyReader() {\n            super();\n        }\n\n        public MyReader(Schema writer, Schema reader, GenericData data) {\n            super(writer, reader, data);\n        }\n\n        @Override\n        protected Object read(Object old, Schema expected, ResolvingDecoder in) throws IOException {\n            Object datum = this.readWithoutConversion(old, expected, in);\n            LogicalType logicalType = expected.getLogicalType();\n            if (logicalType != null) {\n                Conversion&lt;?&gt; conversion = this.getData().getConversionFor(logicalType);\n                if (conversion != null) {\n                    return this.convert(datum, expected, logicalType, conversion);\n                }\n            }\n\n            return datum;\n        }\n    }\n\n    public static class MyStringTimestampConversion extends Conversion&lt;String&gt; {\n        public MyStringTimestampConversion() {\n            super();\n        }\n\n        @Override\n        public Class&lt;String&gt; getConvertedType() {\n            return String.class;\n        }\n\n        @Override\n        public String getLogicalTypeName() {\n            // &quot;timestamp-millis&quot;;\n            return UtcDateTimeToTimestampMilisLogicalType.CONVERT_LONG_TYPE_NAME;\n        }\n\n        @Override\n        public String fromLong(Long millisFromEpoch, Schema schema, LogicalType type) {\n            return (new DateTime(millisFromEpoch)).toString();\n            //return &quot;123456L&quot;;\n        }\n\n        @Override\n        public Long toLong(String value, Schema schema, LogicalType type) { //https://stackoverflow.com/questions/22681348/joda-datetime-to-unix-datetime\n            //DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSSSSS'Z'&quot;);//https://stackoverflow.com/questions/8405087/what-is-this-date-format-2011-08-12t201746-384z\n            DateTime dateTime = DateTime.parse(value);\n            long epochMilli = dateTime.toDate().toInstant().toEpochMilli();\n            return epochMilli;\n        }\n    }\n}\n</code></pre>\n<p>LogicalType</p>\n<pre><code>public class UtcDateTimeToTimestampMilisLogicalType extends LogicalType {\n    //The key to use as a reference to the type\n    public static final String CONVERT_LONG_TYPE_NAME = &quot;utc-to-epoch-millis&quot;;\n\n    public UtcDateTimeToTimestampMilisLogicalType() {\n        super(CONVERT_LONG_TYPE_NAME);\n    }\n\n\n    @Override\n    public void validate(Schema schema) {\n        super.validate(schema);\n        if (schema.getType() != Schema.Type.LONG) {\n            throw new IllegalArgumentException(\n                    &quot;Logical type 'utc-to-epoch-millis' must be backed by bytes&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Schema</p>\n<pre><code>{\n    &quot;namespace&quot;: &quot;example.avro.modified.string&quot;,\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;name&quot;: &quot;UserDate&quot;,\n    &quot;fields&quot;: [\n        {\n            &quot;name&quot;: &quot;timestamplong&quot;,\n            &quot;type&quot;: \n                {\n                    &quot;type&quot;: &quot;long&quot;,\n                    &quot;logicalType&quot;: &quot;utc-to-epoch-millis&quot;\n                }\n        },\n        {\n            &quot;name&quot;: &quot;timestampstring&quot;,\n            &quot;type&quot;: &quot;string&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Result</p>\n<pre><code>{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;UserDate&quot;,&quot;namespace&quot;:&quot;example.avro.modified.string&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;timestamplong&quot;,&quot;type&quot;:{&quot;type&quot;:&quot;long&quot;,&quot;logicalType&quot;:&quot;utc-to-epoch-millis&quot;}},{&quot;name&quot;:&quot;timestampstring&quot;,&quot;type&quot;:&quot;string&quot;}]}\n{&quot;timestamplong&quot;: 1562646705281, &quot;timestampstring&quot;: &quot;2019-07-09T04:31:45.281Z&quot;}\n{&quot;timestamplong&quot;: 2, &quot;timestampstring&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;}\n{&quot;timestamplong&quot;: 1601616694713, &quot;timestampstring&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;}\n//AFTER\n{&quot;timestamplong&quot;: &quot;2019-07-09T12:31:45.281+08:00&quot;, &quot;timestampstring&quot;: &quot;2019-07-09T04:31:45.281Z&quot;}\n{&quot;timestamplong&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;, &quot;timestampstring&quot;: &quot;1970-01-01T07:30:00.002+07:30&quot;}\n{&quot;timestamplong&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;, &quot;timestampstring&quot;: &quot;2020-10-02T13:31:34.713+08:00&quot;}\n\nProcess finished with exit code 0\n</code></pre>\n"}],"owner":{"account_id":4506704,"reputation":463,"user_id":3663854,"accept_rate":74,"display_name":"user3663854"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64166642,"answer_count":1,"score":1,"last_activity_date":1673930291,"creation_date":1601539483,"question_id":64151310,"body_markdown":"I have below schema\r\n\r\n    \t {&quot;name&quot;: &quot;timestampstring&quot;, &quot;type&quot;: [{&quot;type&quot;:&quot;string&quot;,&quot;logicalType&quot;:&quot;timestamp-millis&quot;}, &quot;null&quot;]},\r\n\r\nI intend to supply date to it, and have conversion convert the date to epoch mili.\r\n\r\n        GenericRecord user2 = new GenericData.Record(schema1);\r\n        user2.put(&quot;timestampstring&quot;, &quot;2019-01-26T12:00:40.931&quot;);\r\n\r\n        final GenericData genericData = new GenericData();\r\n        genericData.addLogicalTypeConversion(new MyTimestampConversion());\r\n        datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema2, schema2, genericData);\r\n\r\n        GenericRecord user = null;\r\n        try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\r\n            while (dataFileReader.hasNext()) {\r\n                user = dataFileReader.next(user);\r\n\r\n                System.out.println(user);\r\n            }\r\n        }\r\n\r\n//Conversion code\r\n\r\n    public static class MyTimestampConversion extends Conversion&lt;Long&gt; {\r\n        public MyTimestampConversion() {\r\n        }\r\n\r\n        public Class&lt;Long&gt; getConvertedType() {\r\n            return Long.class;\r\n        }\r\n\r\n        public String getLogicalTypeName() {\r\n            return &quot;timestamp-millis&quot;;\r\n        }\r\n\r\n        public Long fromCharSequence(CharSequence value, Schema schema, LogicalType type) {\r\n            return 123L;\r\n        }\r\n    }\r\n\r\nBut this code doesnt work... I was expecting it to convert to timestamp milis (i hardcoded 123L in above sample).\r\n\r\nAny help?\r\n\r\n","title":"Avro logicalType String Date conversion to EPOCH timestamp-millis","body":"<p>I have below schema</p>\n<pre><code>     {&quot;name&quot;: &quot;timestampstring&quot;, &quot;type&quot;: [{&quot;type&quot;:&quot;string&quot;,&quot;logicalType&quot;:&quot;timestamp-millis&quot;}, &quot;null&quot;]},\n</code></pre>\n<p>I intend to supply date to it, and have conversion convert the date to epoch mili.</p>\n<pre><code>    GenericRecord user2 = new GenericData.Record(schema1);\n    user2.put(&quot;timestampstring&quot;, &quot;2019-01-26T12:00:40.931&quot;);\n\n    final GenericData genericData = new GenericData();\n    genericData.addLogicalTypeConversion(new MyTimestampConversion());\n    datumReader = new GenericDatumReader&lt;GenericRecord&gt;(schema2, schema2, genericData);\n\n    GenericRecord user = null;\n    try (DataFileReader&lt;GenericRecord&gt; dataFileReader = new DataFileReader&lt;GenericRecord&gt;(file1, datumReader)) {\n        while (dataFileReader.hasNext()) {\n            user = dataFileReader.next(user);\n\n            System.out.println(user);\n        }\n    }\n</code></pre>\n<p>//Conversion code</p>\n<pre><code>public static class MyTimestampConversion extends Conversion&lt;Long&gt; {\n    public MyTimestampConversion() {\n    }\n\n    public Class&lt;Long&gt; getConvertedType() {\n        return Long.class;\n    }\n\n    public String getLogicalTypeName() {\n        return &quot;timestamp-millis&quot;;\n    }\n\n    public Long fromCharSequence(CharSequence value, Schema schema, LogicalType type) {\n        return 123L;\n    }\n}\n</code></pre>\n<p>But this code doesnt work... I was expecting it to convert to timestamp milis (i hardcoded 123L in above sample).</p>\n<p>Any help?</p>\n"},{"tags":["java","xml","xml-parsing"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1673949266,"post_id":75141902,"comment_id":132605471,"body_markdown":"Please show specimen input and output. It&#39;s not clear what you mean by a namespace being dropped. It could be dropped, for example, because it&#39;s redundant, but we can&#39;t tell without seeing the detail. Also please edit your Java code to make it more readable.","body":"Please show specimen input and output. It&#39;s not clear what you mean by a namespace being dropped. It could be dropped, for example, because it&#39;s redundant, but we can&#39;t tell without seeing the detail. Also please edit your Java code to make it more readable."}],"owner":{"account_id":12371657,"reputation":5,"user_id":9021701,"display_name":"RVD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673929865,"creation_date":1673928333,"question_id":75141902,"body_markdown":"I am parsing an XML using DocumentBuilderFactory and trying to store the same into another XML using TransformerFactory but in the process namespace of only one of the element getting removed while others were fine. Below is the java code.\r\n\r\n    DocumentBuilderFactory df;\r\n    df=DocumentBuilderFactory.new \r\n    Instance();\r\n    df.setNamespaceAware(true);\r\n    DocumentBuilder db=df.new \r\n    DocumentBuilder();\r\n    Document doc=db.parse(&quot;test.xml&quot;);\r\n    doc.setXmlStandalone(true);\r\n    TranformerFactory \r\n    tf=TransformerFactory.newInstance();\r\n    Transformer t=tf.new Transformer();\r\n    DOMSource s=new DOMSource(doc);\r\n    StreamResult sr=new StreamResult(new \r\n    File(&quot;output.xml&quot;);\r\n    tf.transform(s,sr);","title":"TransformerFactory dropping Namespace on specific tag","body":"<p>I am parsing an XML using DocumentBuilderFactory and trying to store the same into another XML using TransformerFactory but in the process namespace of only one of the element getting removed while others were fine. Below is the java code.</p>\n<pre><code>DocumentBuilderFactory df;\ndf=DocumentBuilderFactory.new \nInstance();\ndf.setNamespaceAware(true);\nDocumentBuilder db=df.new \nDocumentBuilder();\nDocument doc=db.parse(&quot;test.xml&quot;);\ndoc.setXmlStandalone(true);\nTranformerFactory \ntf=TransformerFactory.newInstance();\nTransformer t=tf.new Transformer();\nDOMSource s=new DOMSource(doc);\nStreamResult sr=new StreamResult(new \nFile(&quot;output.xml&quot;);\ntf.transform(s,sr);\n</code></pre>\n"},{"tags":["java","dependencies","minecraft","toml"],"owner":{"account_id":18673741,"reputation":41,"user_id":13611899,"display_name":"Moonlight Shinesparkle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673929460,"creation_date":1673929460,"question_id":75141974,"body_markdown":"I&#39;m trying to use the create mod as a dependency on my Minecraft mod, sadly when trying to run gradlew I get an issue (cannot post the whole file):\r\n\r\n```\r\n[19:38:16] [main/DEBUG] [io.ne.ut.in.lo.InternalLoggerFactory/]: Using SLF4J as the default logging framework\r\n[19:38:16] [main/DEBUG] [io.ne.ut.ResourceLeakDetector/]: -Dio.netty.leakDetection.level: simple\r\n[19:38:16] [main/DEBUG] [io.ne.ut.ResourceLeakDetector/]: -Dio.netty.leakDetection.targetRecords: 4\r\n[19:38:16] [main/DEBUG] [mixin/]: Mixing CustomItemUseEffectsMixin from create.mixins.json into net.minecraft.world.entity.LivingEntity\r\n[19:38:16] [main/DEBUG] [mixin/]: create.mixins.json:CustomItemUseEffectsMixin: Class version 61 required is higher than the class version supported by the current version of Mixin (JAVA_16 supports class version 60)\r\n[19:38:16] [main/FATAL] [mixin/]: Mixin apply failed create.mixins.json:CustomItemUseEffectsMixin -&gt; net.minecraft.world.entity.LivingEntity: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\r\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\r\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:442) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:415) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:343) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:302) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:280) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1288) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:383) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:365) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:250) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.service.modlauncher.MixinTransformationHandler.processClass(MixinTransformationHandler.java:131) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at org.spongepowered.asm.launch.MixinLaunchPluginLegacy.processClass(MixinLaunchPluginLegacy.java:131) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\r\n        at cpw.mods.modlauncher.serviceapi.ILaunchPluginService.processClassWithFlags(ILaunchPluginService.java:156) ~[modlauncher-9.1.3.jar:9.1.3+9.1.3+main.9b69c82a] {}\r\n        at cpw.mods.modlauncher.LaunchPluginHandler.offerClassNodeToPlugins(LaunchPluginHandler.java:88) ~[modlauncher-9.1.3.jar:?] {}\r\n        at cpw.mods.modlauncher.ClassTransformer.transform(ClassTransformer.java:120) ~[modlauncher-9.1.3.jar:?] {}\r\n        at cpw.mods.modlauncher.TransformingClassLoader.maybeTransformClassBytes(TransformingClassLoader.java:50) ~[modlauncher-9.1.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:110) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n        at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?] {}\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:116) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132) ~[securejarhandler-1.0.3.jar:?] {}\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n        at net.minecraft.client.main.Main.main(Main.java:127) ~[forge-1.18.2-40.1.85_mapped_official_1.18.2-recomp.jar%2380!/:?] {re:classloading,re:mixin,pl:runtimedistcleaner:A,pl:mixin:APP:flywheel.mixins.json:ClientMainMixin,pl:mixin:A,pl:runtimedistcleaner:A}\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\r\n        at net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.1.85.jar%230!/:?] {}\r\n        at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2311!/:?] {}\r\n        at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:39)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.Launcher.run(Launcher.java:106)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.Launcher.main(Launcher.java:77)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23)\r\n        at cpw.mods.bootstraplauncher@1.0.0/cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at MC-BOOTSTRAP/fmlloader@1.18.2-40.1.85/net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37)\r\n        ... 7 more\r\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:250)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.service.modlauncher.MixinTransformationHandler.processClass(MixinTransformationHandler.java:131)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.launch.MixinLaunchPluginLegacy.processClass(MixinLaunchPluginLegacy.java:131)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.serviceapi.ILaunchPluginService.processClassWithFlags(ILaunchPluginService.java:156)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchPluginHandler.offerClassNodeToPlugins(LaunchPluginHandler.java:88)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.ClassTransformer.transform(ClassTransformer.java:120)\r\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.TransformingClassLoader.maybeTransformClassBytes(TransformingClassLoader.java:50)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:110)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:116)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216)\r\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at TRANSFORMER/minecraft@1.18.2/net.minecraft.client.main.Main.main(Main.java:127)\r\n        ... 13 more\r\nCaused by: org.spongepowered.asm.mixin.throwables.MixinApplyError: Mixin [create.mixins.json:CustomItemUseEffectsMixin] from phase [DEFAULT] in config [create.mixins.json] FAILED during APPLY\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinError(MixinProcessor.java:636)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinApplyError(MixinProcessor.java:588)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:379)\r\n        ... 35 more\r\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:442)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:415)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:343)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:302)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:280)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1288)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:383)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:365)\r\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\r\n        ... 35 more\r\n\r\n&gt; Task :runClient FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:runClient&#39;.\r\n&gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 1m 15s\r\n10 actionable tasks: 4 executed, 6 up-to-date\r\n```\r\nHere&#39;s my toml file:\r\n```\r\nmodLoader=&quot;javafml&quot;\r\nloaderVersion=&quot;[40,)&quot;\r\nlicense=&quot;All rights reserved&quot;\r\n[[mods]]\r\nmodId=&quot;moonbread&quot;\r\nversion=&quot;${file.jarVersion}&quot;\r\ndisplayName=&quot;Moon&#39;s special bread&quot;\r\nlogoFile=&quot;moonbread.png&quot;\r\ncredits=&quot;Java and forge&quot;\r\nauthors=&quot;Moonlight shinesparkle&quot;\r\ndescription=&#39;&#39;&#39;\r\nA mod that requires create; it is used to create moon&#39;s special bread\r\n&#39;&#39;&#39;\r\n\r\n[[dependencies.moonbread]]\r\n    modId=&quot;forge&quot; #mandatory\r\n    mandatory=true #mandatory\r\n    versionRange=&quot;[40,)&quot;\r\n    ordering=&quot;NONE&quot;\r\n    side=&quot;BOTH&quot;\r\n\r\n[[dependencies.moonbread]]\r\n    modId=&quot;minecraft&quot;\r\n    mandatory=true\r\n# This version range declares a minimum of the current minecraft version up to but not including the next major version\r\n    versionRange=&quot;[1.18.2,1.19)&quot;\r\n    ordering=&quot;NONE&quot;\r\n    side=&quot;BOTH&quot;\r\n\r\n[[dependencies.moonbread]]\r\n    modId=&quot;create&quot;\r\n    mandatory=true\r\n    versionRange=&quot;[0.5g,)&quot;\r\n    ordering=&quot;NONE&quot;\r\n    side=&quot;BOTH&quot;\r\n\r\n[[dependencies.moonbread]]\r\n    modId=&quot;flywheel&quot;\r\n    mandatory=true\r\n    versionRange=&quot;[0.6.8,)&quot;\r\n    ordering=&quot;NONE&quot;\r\n    side=&quot;CLIENT&quot;\r\n```\r\n\r\nWhat I would like to be able to do is to have my mod to be able to use the create mod in order to be able to use it to create custom recipes for the mod for some custom items, I use the forge 1.18.2 MDK for forge 40.1.85, It&#39;s supposed to require the create mod for 1.18.2 version 0.5.0g which requires flywheel version 0.6.8.","title":"Issues while using the Minecraft create mod as a dependency","body":"<p>I'm trying to use the create mod as a dependency on my Minecraft mod, sadly when trying to run gradlew I get an issue (cannot post the whole file):</p>\n<pre><code>[19:38:16] [main/DEBUG] [io.ne.ut.in.lo.InternalLoggerFactory/]: Using SLF4J as the default logging framework\n[19:38:16] [main/DEBUG] [io.ne.ut.ResourceLeakDetector/]: -Dio.netty.leakDetection.level: simple\n[19:38:16] [main/DEBUG] [io.ne.ut.ResourceLeakDetector/]: -Dio.netty.leakDetection.targetRecords: 4\n[19:38:16] [main/DEBUG] [mixin/]: Mixing CustomItemUseEffectsMixin from create.mixins.json into net.minecraft.world.entity.LivingEntity\n[19:38:16] [main/DEBUG] [mixin/]: create.mixins.json:CustomItemUseEffectsMixin: Class version 61 required is higher than the class version supported by the current version of Mixin (JAVA_16 supports class version 60)\n[19:38:16] [main/FATAL] [mixin/]: Mixin apply failed create.mixins.json:CustomItemUseEffectsMixin -&gt; net.minecraft.world.entity.LivingEntity: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:442) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:415) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:343) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:302) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:280) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1288) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:383) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:365) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:250) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.service.modlauncher.MixinTransformationHandler.processClass(MixinTransformationHandler.java:131) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at org.spongepowered.asm.launch.MixinLaunchPluginLegacy.processClass(MixinLaunchPluginLegacy.java:131) ~[mixin-0.8.5.jar:0.8.5+Jenkins-b310.git-155314e6e91465dad727e621a569906a410cd6f4] {}\n        at cpw.mods.modlauncher.serviceapi.ILaunchPluginService.processClassWithFlags(ILaunchPluginService.java:156) ~[modlauncher-9.1.3.jar:9.1.3+9.1.3+main.9b69c82a] {}\n        at cpw.mods.modlauncher.LaunchPluginHandler.offerClassNodeToPlugins(LaunchPluginHandler.java:88) ~[modlauncher-9.1.3.jar:?] {}\n        at cpw.mods.modlauncher.ClassTransformer.transform(ClassTransformer.java:120) ~[modlauncher-9.1.3.jar:?] {}\n        at cpw.mods.modlauncher.TransformingClassLoader.maybeTransformClassBytes(TransformingClassLoader.java:50) ~[modlauncher-9.1.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:110) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132) ~[securejarhandler-1.0.3.jar:?] {}\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n        at java.lang.ClassLoader.defineClass1(Native Method) ~[?:?] {}\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[?:?] {}\n        at cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:116) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216) ~[securejarhandler-1.0.3.jar:?] {}\n        at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132) ~[securejarhandler-1.0.3.jar:?] {}\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n        at net.minecraft.client.main.Main.main(Main.java:127) ~[forge-1.18.2-40.1.85_mapped_official_1.18.2-recomp.jar%2380!/:?] {re:classloading,re:mixin,pl:runtimedistcleaner:A,pl:mixin:APP:flywheel.mixins.json:ClientMainMixin,pl:mixin:A,pl:runtimedistcleaner:A}\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\n        at net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24) ~[fmlloader-1.18.2-40.1.85.jar%230!/:?] {}\n        at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-9.1.3.jar%2311!/:?] {}\n        at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149) [bootstraplauncher-1.0.0.jar:?] {}\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:39)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.Launcher.run(Launcher.java:106)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.Launcher.main(Launcher.java:77)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23)\n        at cpw.mods.bootstraplauncher@1.0.0/cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:149)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at MC-BOOTSTRAP/fmlloader@1.18.2-40.1.85/net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:24)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:37)\n        ... 7 more\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:250)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.service.modlauncher.MixinTransformationHandler.processClass(MixinTransformationHandler.java:131)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.launch.MixinLaunchPluginLegacy.processClass(MixinLaunchPluginLegacy.java:131)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.serviceapi.ILaunchPluginService.processClassWithFlags(ILaunchPluginService.java:156)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.LaunchPluginHandler.offerClassNodeToPlugins(LaunchPluginHandler.java:88)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.ClassTransformer.transform(ClassTransformer.java:120)\n        at MC-BOOTSTRAP/cpw.mods.modlauncher@9.1.3/cpw.mods.modlauncher.TransformingClassLoader.maybeTransformClassBytes(TransformingClassLoader.java:50)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:110)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:116)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.lambda$findClass$16(ModuleClassLoader.java:216)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:226)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:216)\n        at cpw.mods.securejarhandler@1.0.3/cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:132)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at TRANSFORMER/minecraft@1.18.2/net.minecraft.client.main.Main.main(Main.java:127)\n        ... 13 more\nCaused by: org.spongepowered.asm.mixin.throwables.MixinApplyError: Mixin [create.mixins.json:CustomItemUseEffectsMixin] from phase [DEFAULT] in config [create.mixins.json] FAILED during APPLY\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinError(MixinProcessor.java:636)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinApplyError(MixinProcessor.java:588)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:379)\n        ... 35 more\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method m_21211_ in create.mixins.json:CustomItemUseEffectsMixin was not located in the target class net.minecraft.world.entity.LivingEntity. Using refmap create.refmap.json\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:442)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:415)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:343)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:302)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:280)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1288)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:383)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:365)\n        at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n        ... 35 more\n\n&gt; Task :runClient FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':runClient'.\n&gt; Process 'command '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.4/userguide/command_line_interface.html#sec:command_line_warnings\n\nBUILD FAILED in 1m 15s\n10 actionable tasks: 4 executed, 6 up-to-date\n</code></pre>\n<p>Here's my toml file:</p>\n<pre><code>modLoader=&quot;javafml&quot;\nloaderVersion=&quot;[40,)&quot;\nlicense=&quot;All rights reserved&quot;\n[[mods]]\nmodId=&quot;moonbread&quot;\nversion=&quot;${file.jarVersion}&quot;\ndisplayName=&quot;Moon's special bread&quot;\nlogoFile=&quot;moonbread.png&quot;\ncredits=&quot;Java and forge&quot;\nauthors=&quot;Moonlight shinesparkle&quot;\ndescription='''\nA mod that requires create; it is used to create moon's special bread\n'''\n\n[[dependencies.moonbread]]\n    modId=&quot;forge&quot; #mandatory\n    mandatory=true #mandatory\n    versionRange=&quot;[40,)&quot;\n    ordering=&quot;NONE&quot;\n    side=&quot;BOTH&quot;\n\n[[dependencies.moonbread]]\n    modId=&quot;minecraft&quot;\n    mandatory=true\n# This version range declares a minimum of the current minecraft version up to but not including the next major version\n    versionRange=&quot;[1.18.2,1.19)&quot;\n    ordering=&quot;NONE&quot;\n    side=&quot;BOTH&quot;\n\n[[dependencies.moonbread]]\n    modId=&quot;create&quot;\n    mandatory=true\n    versionRange=&quot;[0.5g,)&quot;\n    ordering=&quot;NONE&quot;\n    side=&quot;BOTH&quot;\n\n[[dependencies.moonbread]]\n    modId=&quot;flywheel&quot;\n    mandatory=true\n    versionRange=&quot;[0.6.8,)&quot;\n    ordering=&quot;NONE&quot;\n    side=&quot;CLIENT&quot;\n</code></pre>\n<p>What I would like to be able to do is to have my mod to be able to use the create mod in order to be able to use it to create custom recipes for the mod for some custom items, I use the forge 1.18.2 MDK for forge 40.1.85, It's supposed to require the create mod for 1.18.2 version 0.5.0g which requires flywheel version 0.6.8.</p>\n"},{"tags":["java","inputstream","fileinputstream"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673928007,"post_id":75141844,"comment_id":132600856,"body_markdown":"_Note that this json file is in the same directory as the class._ No, it&#39;s not. Hence the null pointer exception. You can run `System.out.println(CustomSearchHandler.class.getResource(&quot;CustomSearchHandler.class&quot;))` to see where it&#39;s looking.","body":"<i>Note that this json file is in the same directory as the class.</i> No, it&#39;s not. Hence the null pointer exception. You can run <code>System.out.println(CustomSearchHandler.class.getResource(&quot;Cu&zwnj;&#8203;stomSearchHandler.cl&zwnj;&#8203;ass&quot;))</code> to see where it&#39;s looking."},{"owner":{"account_id":14850736,"reputation":51,"user_id":10724772,"display_name":"sidharth sunilkumar"},"score":0,"creation_date":1673928047,"post_id":75141844,"comment_id":132600859,"body_markdown":"I also logged the result of file.exists() method, and it shows the file is not present. But it is in the same directory.","body":"I also logged the result of file.exists() method, and it shows the file is not present. But it is in the same directory."},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1673928541,"post_id":75141844,"comment_id":132600933,"body_markdown":"Yes but there are different ways of loading files: either from the filesystem or from the classpath. It could be in the same folder and the path could look right but if you&#39;re loading from the classpath and the classpath definition doesn&#39;t include that file or that type of file then you are toast.","body":"Yes but there are different ways of loading files: either from the filesystem or from the classpath. It could be in the same folder and the path could look right but if you&#39;re loading from the classpath and the classpath definition doesn&#39;t include that file or that type of file then you are toast."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673929294,"post_id":75141844,"comment_id":132601024,"body_markdown":"*&quot;I also logged the result of file.exists() method, and it shows the file is not present. But it is in the same directory.&quot;* - an &quot;embedded resource&quot; mostly likely won&#39;t exist on the file disk (and based on your own description, should be inside the jar file) - so using `File#exists` is pointless.  You should, first, unzip the jar file (yes, it&#39;s just a zip file) and check that the file you&#39;re trying to load has actually been packed into (at the same location as the class trying to load it)","body":"<i>&quot;I also logged the result of file.exists() method, and it shows the file is not present. But it is in the same directory.&quot;</i> - an &quot;embedded resource&quot; mostly likely won&#39;t exist on the file disk (and based on your own description, should be inside the jar file) - so using <code>File#exists</code> is pointless.  You should, first, unzip the jar file (yes, it&#39;s just a zip file) and check that the file you&#39;re trying to load has actually been packed into (at the same location as the class trying to load it)"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1673930152,"post_id":75141844,"comment_id":132601144,"body_markdown":"@sidharth you need to run the snippet in my comment and tell us what it prints / with that output you can probably figure it out yourself.","body":"@sidharth you need to run the snippet in my comment and tell us what it prints / with that output you can probably figure it out yourself."},{"owner":{"account_id":14850736,"reputation":51,"user_id":10724772,"display_name":"sidharth sunilkumar"},"score":0,"creation_date":1673931779,"post_id":75141844,"comment_id":132601394,"body_markdown":"@MadProgrammer I couldn&#39;t find the json file anywhere when I unzipped it.","body":"@MadProgrammer I couldn&#39;t find the json file anywhere when I unzipped it."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673931858,"post_id":75141844,"comment_id":132601402,"body_markdown":"So, here’s the million dollar question- are expecting the json file to be bundled with your jar or loaded off the disk at runtime?","body":"So, here’s the million dollar question- are expecting the json file to be bundled with your jar or loaded off the disk at runtime?"},{"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"score":0,"creation_date":1673936328,"post_id":75141844,"comment_id":132602066,"body_markdown":"resources should be in resource directory.\n\nAnother way,  you can try, but I&#39;m not sure about it, you can get link to your resource by\nClassPathResource(String path, @Nullable Class&lt;?&gt; clazz)\n\nCreate a new ClassPathResource for Class usage. The path can be relative to the given class, or absolute within the classpath via a leading slash.\nParams:\npath – relative or absolute path within the class path\nclazz – the class to load resources with","body":"resources should be in resource directory.  Another way,  you can try, but I&#39;m not sure about it, you can get link to your resource by ClassPathResource(String path, @Nullable Class&lt;?&gt; clazz)  Create a new ClassPathResource for Class usage. The path can be relative to the given class, or absolute within the classpath via a leading slash. Params: path – relative or absolute path within the class path clazz – the class to load resources with"}],"owner":{"account_id":14850736,"reputation":51,"user_id":10724772,"display_name":"sidharth sunilkumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673928584,"creation_date":1673927567,"question_id":75141844,"body_markdown":"I am trying to run a class inside a jar file. Inside the java program, I have a class called `CustomSearchHandler` which is calling a function to read an array of strings from a JSON file called `Attributes.json`. Note that this JSON file is in the same directory as the class.\r\n\r\n```\r\npublic class CustomSearchHandler extends SearchHandler {\r\n    private static Logger logger = LoggerFactory.getLogger(CustomSearchHandler.class);\r\n\r\n    public static final String CURRENCYCODEHEADER = &quot;currencycode&quot;;\r\n\r\n    @Override\r\n    public void handleRequestBody(SolrQueryRequest solrRequest,\r\n                                  SolrQueryResponse solrResponse) throws Exception {\r\n          ArrayList&lt;String&gt; fixedAttributesList = fetchAttributes(&quot;fixed_attributes&quot;);\r\n\r\n    }\r\n  \r\n    public static ArrayList&lt;String&gt; fetchAttributes(String type){\r\n        ArrayList&lt;String&gt; attributesList = new ArrayList&lt;String&gt;();\r\n        try{\r\n            InputStream inputStream = CustomSearchHandler.class.getResourceAsStream(&quot;Attributes.json&quot;);\r\n            JSONObject json = new JSONObject(new InputStreamReader(inputStream));\r\n            JSONArray jsonArray = json.getJSONArray(&quot;fixed_attributes&quot;);\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                attributesList.add(jsonArray.getString(i));\r\n            }\r\n            logger.info(&quot;e&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return attributesList;\r\n    }\r\n}\r\n```\r\nWhen I create a jar from this and execute this, I get -\r\n```\r\njava.lang.NullPointerException\r\n        at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\r\n        at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\r\n        at CustomSearchHandler.fetchAttributes(CustomSearchHandler.java:125)\r\n        at CustomSearchHandler.handleRequestBody(CustomSearchHandler.java:60)\r\n```\r\nI just need to read the list of strings of array &quot;fixed_attributes&quot; and assign it to an ArrayList. Please help.","title":"NullPointerException when reading a json file inside a jar file","body":"<p>I am trying to run a class inside a jar file. Inside the java program, I have a class called <code>CustomSearchHandler</code> which is calling a function to read an array of strings from a JSON file called <code>Attributes.json</code>. Note that this JSON file is in the same directory as the class.</p>\n<pre><code>public class CustomSearchHandler extends SearchHandler {\n    private static Logger logger = LoggerFactory.getLogger(CustomSearchHandler.class);\n\n    public static final String CURRENCYCODEHEADER = &quot;currencycode&quot;;\n\n    @Override\n    public void handleRequestBody(SolrQueryRequest solrRequest,\n                                  SolrQueryResponse solrResponse) throws Exception {\n          ArrayList&lt;String&gt; fixedAttributesList = fetchAttributes(&quot;fixed_attributes&quot;);\n\n    }\n  \n    public static ArrayList&lt;String&gt; fetchAttributes(String type){\n        ArrayList&lt;String&gt; attributesList = new ArrayList&lt;String&gt;();\n        try{\n            InputStream inputStream = CustomSearchHandler.class.getResourceAsStream(&quot;Attributes.json&quot;);\n            JSONObject json = new JSONObject(new InputStreamReader(inputStream));\n            JSONArray jsonArray = json.getJSONArray(&quot;fixed_attributes&quot;);\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\n                attributesList.add(jsonArray.getString(i));\n            }\n            logger.info(&quot;e&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return attributesList;\n    }\n}\n</code></pre>\n<p>When I create a jar from this and execute this, I get -</p>\n<pre><code>java.lang.NullPointerException\n        at java.base/java.io.Reader.&lt;init&gt;(Reader.java:167)\n        at java.base/java.io.InputStreamReader.&lt;init&gt;(InputStreamReader.java:72)\n        at CustomSearchHandler.fetchAttributes(CustomSearchHandler.java:125)\n        at CustomSearchHandler.handleRequestBody(CustomSearchHandler.java:60)\n</code></pre>\n<p>I just need to read the list of strings of array &quot;fixed_attributes&quot; and assign it to an ArrayList. Please help.</p>\n"},{"tags":["java","docker","heroku","micronaut"],"comments":[{"owner":{"account_id":8806171,"reputation":480,"user_id":6580775,"display_name":"kaiffeetasse"},"score":0,"creation_date":1673338211,"post_id":75066008,"comment_id":132470358,"body_markdown":"can you check the logs with `heroku logs`?","body":"can you check the logs with <code>heroku logs</code>?"},{"owner":{"account_id":8656747,"reputation":343,"user_id":6480751,"display_name":"Kilbo"},"score":0,"creation_date":1673369827,"post_id":75066008,"comment_id":132481351,"body_markdown":"I checked heroku logs and they are empty except for a &quot;process started&quot; and &quot;process crashed&quot; almost immediately after","body":"I checked heroku logs and they are empty except for a &quot;process started&quot; and &quot;process crashed&quot; almost immediately after"}],"answers":[{"tags":[],"owner":{"account_id":8656747,"reputation":343,"user_id":6480751,"display_name":"Kilbo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673928350,"creation_date":1673928350,"answer_id":75141907,"question_id":75066008,"body_markdown":"Well, it isn&#39;t much of an answer. And nothing in the Heroku docs points me to why this works but removing `ENTRYPOINT exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar` from my Dockerfile works. With entrypoint removed I see logs again and can see my micronaut server starting. With `ENTRYPOINT` defined in my Dockerfile I just get what I posted about above &quot;Process starting&quot; followed immediately by process crashed","title":"Heroku process crashing as soon as the process starts","body":"<p>Well, it isn't much of an answer. And nothing in the Heroku docs points me to why this works but removing <code>ENTRYPOINT exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar</code> from my Dockerfile works. With entrypoint removed I see logs again and can see my micronaut server starting. With <code>ENTRYPOINT</code> defined in my Dockerfile I just get what I posted about above &quot;Process starting&quot; followed immediately by process crashed</p>\n"}],"owner":{"account_id":8656747,"reputation":343,"user_id":6480751,"display_name":"Kilbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75141907,"answer_count":1,"score":4,"last_activity_date":1673928350,"creation_date":1673330268,"question_id":75066008,"body_markdown":"I have a simple Micronaut server I am trying to launch on Heroku by building it with a heroku.yml but for some reason when I check the logs the process exits as soon as it starts. The docker image runs just fine locally and nothing else prints out in the logs so I can&#39;t find out why.\r\n\r\nHere is my Dockerfile\r\n```\r\nFROM node as build-frontend\r\nWORKDIR /app\r\nCOPY frontend/myfrontend/package.json .\r\nCOPY frontend/myfrontend/public ./public\r\nCOPY frontend/myfrontend/src ./src\r\nRUN npm install .\r\nRUN npm run build\r\n\r\nFROM gradle:6.8.2-jre11 AS build-env\r\n# Set the working directory to /home\r\nWORKDIR /home\r\nCOPY --chown=gradle:gradle backend ./\r\nCOPY --from=build-frontend /app/build /home/src/main/resources/public\r\n# Compile the application.\r\nRUN ./gradlew assemble\r\n\r\nFROM openjdk:11.0.10-jre-slim-buster\r\n# Set the working directory to /home\r\nWORKDIR /home\r\n# Copy the compiled files over.\r\nCOPY --from=build-env /home/build/libs/myjar-0.1-all.jar /home/myjar.jar\r\n\r\n# Starts the java app\r\n# Using EntryPoing to pass env. variables as describe in this article\r\nENTRYPOINT exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar\r\n```\r\n\r\nHere is my heroku.yml\r\n```\r\nsetup:\r\n  addons:\r\n    - plan: heroku-postgresql\r\n      as: DATABASE\r\nbuild:\r\n  docker:\r\n    web: Dockerfile\r\nrun:\r\n  web: &quot;exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar&quot;\r\n```\r\nand finally my Micronaut application.yml which just sets some configs\r\n\r\n```\r\nmicronaut:\r\n  application:\r\n    name: mypackage\r\n  router:\r\n    static-resources:\r\n      default:\r\n        enabled: true\r\n        paths:\r\n        - classpath:public\r\n        mapping: /**\r\n  server:\r\n    port: ${PORT:8080}\r\n    cors:\r\n      enabled: true\r\n\r\ndatasources:\r\n  default:\r\n    driverClassName: org.postgresql.Driver\r\n    dbUrl: jdbc:postgresql://mydbhost.com:port/dbname?sslmode=require\r\n    dbUsername: dbuser\r\n    dbPassword: dbpasswd\r\n\r\n  scan:\r\n    packages: mypackage\r\n\r\nnetty:\r\n  default:\r\n    allocator:\r\n      max-order: 3\r\n```\r\n\r\nWhen I just do `docker build -t test-image:latest .` and `docker run -p 80:8080 test-image:latest` I can connect just fine on localhost and the docker container runs the micronaut server. If it fails for some reason I see an output in the container logs detailing why. When I upload this to heroku (through a github deployment) All i see in the logs are\r\n```\r\n2023-01-09T22:25:50.145942+00:00 heroku[web.1]: Starting process with command `/bin/sh -c exec\\ java\\ -XX:\\+UseContainerSupport\\ -XX:MaxRAMPercentage\\=80.0\\ -noverify\\ -XX:\\+AlwaysPreTouch\\ -jar\\ myjar.jar`\r\n2023-01-09T22:25:51.381760+00:00 heroku[web.1]: Process exited with status 0\r\n2023-01-09T22:25:51.439962+00:00 heroku[web.1]: State changed from starting to crashed\r\n``` \r\n\r\nI have tried:\r\n To run it locally connected to the heroku addon postgres database, works just fine\r\n Simplifying the build as much as possible\r\n Removing the default on the port (to ensure it picks up $PORT), and running it locally with export PORT=8080 set (works just fine, docker container picks up the env port like we expect in heroku)\r\n\r\nAnd I cannot figure out why it just quits immediately on Heroku. editted: originally thought it had to do with the port value but but I figured out how to give micronaut a port through the command line and it still doesn&#39;t work on Heroku (works locally)\r\n\r\nedit:\r\nI tried changing my application.yml to this with the DB hardcoded and still nothing. Just does not seem to work. App still crashes and there is nothing to indicate why in the logs\r\n```\r\nsetup:\r\n  config:\r\n    PORT: $PORT\r\n    MICRONAUT_SERVER_PORT: $PORT\r\nbuild:\r\n  docker:\r\n    web: Dockerfile\r\nrun:\r\n  web: &quot;exec java -Dmicronaut.server.port=$PORT -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar&quot;\r\n```\r\nI still have no extra output from Heroku. No stacktrace or stderr or stdout at all.","title":"Heroku process crashing as soon as the process starts","body":"<p>I have a simple Micronaut server I am trying to launch on Heroku by building it with a heroku.yml but for some reason when I check the logs the process exits as soon as it starts. The docker image runs just fine locally and nothing else prints out in the logs so I can't find out why.</p>\n<p>Here is my Dockerfile</p>\n<pre><code>FROM node as build-frontend\nWORKDIR /app\nCOPY frontend/myfrontend/package.json .\nCOPY frontend/myfrontend/public ./public\nCOPY frontend/myfrontend/src ./src\nRUN npm install .\nRUN npm run build\n\nFROM gradle:6.8.2-jre11 AS build-env\n# Set the working directory to /home\nWORKDIR /home\nCOPY --chown=gradle:gradle backend ./\nCOPY --from=build-frontend /app/build /home/src/main/resources/public\n# Compile the application.\nRUN ./gradlew assemble\n\nFROM openjdk:11.0.10-jre-slim-buster\n# Set the working directory to /home\nWORKDIR /home\n# Copy the compiled files over.\nCOPY --from=build-env /home/build/libs/myjar-0.1-all.jar /home/myjar.jar\n\n# Starts the java app\n# Using EntryPoing to pass env. variables as describe in this article\nENTRYPOINT exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar\n</code></pre>\n<p>Here is my heroku.yml</p>\n<pre><code>setup:\n  addons:\n    - plan: heroku-postgresql\n      as: DATABASE\nbuild:\n  docker:\n    web: Dockerfile\nrun:\n  web: &quot;exec java -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar&quot;\n</code></pre>\n<p>and finally my Micronaut application.yml which just sets some configs</p>\n<pre><code>micronaut:\n  application:\n    name: mypackage\n  router:\n    static-resources:\n      default:\n        enabled: true\n        paths:\n        - classpath:public\n        mapping: /**\n  server:\n    port: ${PORT:8080}\n    cors:\n      enabled: true\n\ndatasources:\n  default:\n    driverClassName: org.postgresql.Driver\n    dbUrl: jdbc:postgresql://mydbhost.com:port/dbname?sslmode=require\n    dbUsername: dbuser\n    dbPassword: dbpasswd\n\n  scan:\n    packages: mypackage\n\nnetty:\n  default:\n    allocator:\n      max-order: 3\n</code></pre>\n<p>When I just do <code>docker build -t test-image:latest .</code> and <code>docker run -p 80:8080 test-image:latest</code> I can connect just fine on localhost and the docker container runs the micronaut server. If it fails for some reason I see an output in the container logs detailing why. When I upload this to heroku (through a github deployment) All i see in the logs are</p>\n<pre><code>2023-01-09T22:25:50.145942+00:00 heroku[web.1]: Starting process with command `/bin/sh -c exec\\ java\\ -XX:\\+UseContainerSupport\\ -XX:MaxRAMPercentage\\=80.0\\ -noverify\\ -XX:\\+AlwaysPreTouch\\ -jar\\ myjar.jar`\n2023-01-09T22:25:51.381760+00:00 heroku[web.1]: Process exited with status 0\n2023-01-09T22:25:51.439962+00:00 heroku[web.1]: State changed from starting to crashed\n</code></pre>\n<p>I have tried:\nTo run it locally connected to the heroku addon postgres database, works just fine\nSimplifying the build as much as possible\nRemoving the default on the port (to ensure it picks up $PORT), and running it locally with export PORT=8080 set (works just fine, docker container picks up the env port like we expect in heroku)</p>\n<p>And I cannot figure out why it just quits immediately on Heroku. editted: originally thought it had to do with the port value but but I figured out how to give micronaut a port through the command line and it still doesn't work on Heroku (works locally)</p>\n<p>edit:\nI tried changing my application.yml to this with the DB hardcoded and still nothing. Just does not seem to work. App still crashes and there is nothing to indicate why in the logs</p>\n<pre><code>setup:\n  config:\n    PORT: $PORT\n    MICRONAUT_SERVER_PORT: $PORT\nbuild:\n  docker:\n    web: Dockerfile\nrun:\n  web: &quot;exec java -Dmicronaut.server.port=$PORT -XX:+UseContainerSupport -XX:MaxRAMPercentage=80.0 -noverify -XX:+AlwaysPreTouch -jar myjar.jar&quot;\n</code></pre>\n<p>I still have no extra output from Heroku. No stacktrace or stderr or stdout at all.</p>\n"},{"tags":["java","spring","spring-boot","redis"],"owner":{"account_id":8449567,"reputation":229,"user_id":6338849,"display_name":"eastglow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673927559,"creation_date":1673927559,"question_id":75141842,"body_markdown":"I want to defend against repeated requests from the same user to a specific API using Redis in Spring Boot.\r\n\r\nCan it be prevented simply by using `redisTemplate.hasKey()` provided by RedisTemplate?\r\n\r\nWhen a request comes in, if you are checking whether there is a value corresponding to the key in `redisTemplate.hasKey()`, you know that there is a request that is already being processed and you want to raise an exception. Is this the right way?\r\n\r\n```\r\nif (redisTemplate.hasKey(&quot;key&quot;)) {\r\n\tthrow new Exception(&quot;There is already a request in progress.&quot;);\r\n}\r\n```","title":"How do you usually defend against duplicate requests with Redis?","body":"<p>I want to defend against repeated requests from the same user to a specific API using Redis in Spring Boot.</p>\n<p>Can it be prevented simply by using <code>redisTemplate.hasKey()</code> provided by RedisTemplate?</p>\n<p>When a request comes in, if you are checking whether there is a value corresponding to the key in <code>redisTemplate.hasKey()</code>, you know that there is a request that is already being processed and you want to raise an exception. Is this the right way?</p>\n<pre><code>if (redisTemplate.hasKey(&quot;key&quot;)) {\n    throw new Exception(&quot;There is already a request in progress.&quot;);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1673898278,"post_id":75138629,"comment_id":132595580,"body_markdown":"Right now, after use of the camera you are raising an `AlertDialog`. Do you want go to another activity instead of this, or only when the user clicks &quot;OK&quot;?","body":"Right now, after use of the camera you are raising an <code>AlertDialog</code>. Do you want go to another activity instead of this, or only when the user clicks &quot;OK&quot;?"},{"owner":{"account_id":16840591,"reputation":33,"user_id":12176083,"display_name":"Romeo Velloni"},"score":0,"creation_date":1673904111,"post_id":75138629,"comment_id":132597070,"body_markdown":"I Want another activity instead of the dialog","body":"I Want another activity instead of the dialog"}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673927393,"creation_date":1673927393,"answer_id":75141828,"question_id":75138629,"body_markdown":"So you are observing a dialog after scanned something, so the following part is the ```callback``` of your scanning event:  \r\n```java\r\nif (result.getContents()!=null){\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(QRScanActivity.this);\r\n    builder.setTitle(&quot;Result&quot;);\r\n    builder.setMessage(result.getContents());\r\n    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        @Override\r\n        public void onClick(DialogInterface dialogInterface, int i) {\r\n            dialogInterface.dismiss();\r\n        }\r\n    }).show();\r\n}\r\n```\r\n\r\nSo all you need to do, is to replace the above code into code that triggers a new Activity:  \r\n```java\r\nif (result.getContents() != null) {\r\n  Intent intent = new Intent(QRScanActivity.this, NextTargetActivity.class);\r\n  // You can also put the scanned result contents using intent.putExtra()\r\n  startActivity(intent);\r\n}\r\n\r\n```","title":"Android Studio - New activity after scan","body":"<p>So you are observing a dialog after scanned something, so the following part is the <code>callback</code> of your scanning event:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (result.getContents()!=null){\n    AlertDialog.Builder builder = new AlertDialog.Builder(QRScanActivity.this);\n    builder.setTitle(&quot;Result&quot;);\n    builder.setMessage(result.getContents());\n    builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n        @Override\n        public void onClick(DialogInterface dialogInterface, int i) {\n            dialogInterface.dismiss();\n        }\n    }).show();\n}\n</code></pre>\n<p>So all you need to do, is to replace the above code into code that triggers a new Activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (result.getContents() != null) {\n  Intent intent = new Intent(QRScanActivity.this, NextTargetActivity.class);\n  // You can also put the scanned result contents using intent.putExtra()\n  startActivity(intent);\n}\n\n</code></pre>\n"}],"owner":{"account_id":16840591,"reputation":33,"user_id":12176083,"display_name":"Romeo Velloni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673927393,"creation_date":1673895821,"question_id":75138629,"body_markdown":"I&#39;ve this code in Java Android APP that is launched after a camera scan. How Can i go to new activity after a scan?\r\n\r\n```\r\nActivityResultLauncher&lt;ScanOptions&gt; barLauncher = registerForActivityResult(new ScanContract(), result -&gt;{\r\n        if (result.getContents()!=null){\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(QRScanActivity.this);\r\n            builder.setTitle(&quot;Result&quot;);\r\n            builder.setMessage(result.getContents());\r\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                    dialogInterface.dismiss();\r\n                }\r\n            }).show();\r\n        }\r\n    });\r\n```\r\n\r\n\r\n\r\nThanks","title":"Android Studio - New activity after scan","body":"<p>I've this code in Java Android APP that is launched after a camera scan. How Can i go to new activity after a scan?</p>\n<pre><code>ActivityResultLauncher&lt;ScanOptions&gt; barLauncher = registerForActivityResult(new ScanContract(), result -&gt;{\n        if (result.getContents()!=null){\n            AlertDialog.Builder builder = new AlertDialog.Builder(QRScanActivity.this);\n            builder.setTitle(&quot;Result&quot;);\n            builder.setMessage(result.getContents());\n            builder.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                    dialogInterface.dismiss();\n                }\n            }).show();\n        }\n    });\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","gson","retrofit"],"comments":[{"owner":{"account_id":2535419,"reputation":5583,"user_id":2202675,"display_name":"danny117"},"score":0,"creation_date":1673923217,"post_id":75140606,"comment_id":132600295,"body_markdown":"Some api can do that but just don&#39;t use what you don&#39;t want.  I&#39;m not going to change my api for you.","body":"Some api can do that but just don&#39;t use what you don&#39;t want.  I&#39;m not going to change my api for you."}],"answers":[{"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673918021,"creation_date":1673918021,"answer_id":75141145,"question_id":75140606,"body_markdown":"There seems to be nothing wrong for the implementation you provide. Your ```ApiResponse``` class can have less attributes than your response JSON.\r\n\r\nIf possible, please further provide the Exception you encounter.\r\n\r\nI have a little example below for your reference:  \r\n```Main.kt```\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n  val retrofit = Retrofit.Builder().baseUrl(&quot;http://localhost&quot;)\r\n    .addConverterFactory(GsonConverterFactory.create())\r\n    .build()\r\n  val retromock = Retromock.Builder().retrofit(retrofit).build()\r\n\r\n  runBlocking {\r\n    val service = retromock.create(TestCall::class.java)\r\n    val response = service.apiCall()\r\n    println(response.body())\r\n  }\r\n}\r\n```\r\n\r\n```ApiResponse.kt```\r\n```kotlin\r\ndata class ApiResponse(\r\n  val id: String,\r\n  val name: String,\r\n  val remark: String,\r\n) {\r\n  override fun toString(): String {\r\n    return &quot;ID: $id | Name: $name | remark: $remark&quot;\r\n  }\r\n}\r\n```\r\n\r\n```TestCall.kt```\r\n```kotlin\r\ninterface TestCall {\r\n  @Mock\r\n  @MockResponse(body = &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;, \\&quot;name\\&quot;:\\&quot;Smith\\&quot;, \\&quot;age\\&quot;:30, \\&quot;score\\&quot;:20, \\&quot;remark\\&quot;:null}&quot;)\r\n  @GET(&quot;/&quot;)\r\n  suspend fun apiCall() : Response&lt;ApiResponse&gt;\r\n}\r\n```\r\n\r\nAnd the output can be printed without errors:\r\n```\r\nID: 1 | Name: Smith | remark: null\r\n```\r\n\r\nSo in the above example, you can see that the returning JSON contains attributes like ```age```, ```score```, which are not included in ```ApiResponse```. So you may have to check other configuration that causes the error.","title":"How to ignore some fields in API response - Retrofit @GET","body":"<p>There seems to be nothing wrong for the implementation you provide. Your <code>ApiResponse</code> class can have less attributes than your response JSON.</p>\n<p>If possible, please further provide the Exception you encounter.</p>\n<p>I have a little example below for your reference:<br />\n<code>Main.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n  val retrofit = Retrofit.Builder().baseUrl(&quot;http://localhost&quot;)\n    .addConverterFactory(GsonConverterFactory.create())\n    .build()\n  val retromock = Retromock.Builder().retrofit(retrofit).build()\n\n  runBlocking {\n    val service = retromock.create(TestCall::class.java)\n    val response = service.apiCall()\n    println(response.body())\n  }\n}\n</code></pre>\n<p><code>ApiResponse.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class ApiResponse(\n  val id: String,\n  val name: String,\n  val remark: String,\n) {\n  override fun toString(): String {\n    return &quot;ID: $id | Name: $name | remark: $remark&quot;\n  }\n}\n</code></pre>\n<p><code>TestCall.kt</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface TestCall {\n  @Mock\n  @MockResponse(body = &quot;{\\&quot;id\\&quot;:\\&quot;1\\&quot;, \\&quot;name\\&quot;:\\&quot;Smith\\&quot;, \\&quot;age\\&quot;:30, \\&quot;score\\&quot;:20, \\&quot;remark\\&quot;:null}&quot;)\n  @GET(&quot;/&quot;)\n  suspend fun apiCall() : Response&lt;ApiResponse&gt;\n}\n</code></pre>\n<p>And the output can be printed without errors:</p>\n<pre><code>ID: 1 | Name: Smith | remark: null\n</code></pre>\n<p>So in the above example, you can see that the returning JSON contains attributes like <code>age</code>, <code>score</code>, which are not included in <code>ApiResponse</code>. So you may have to check other configuration that causes the error.</p>\n"},{"tags":[],"owner":{"account_id":17573137,"reputation":464,"user_id":12748481,"display_name":"Surajkaran Meghwanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673927372,"creation_date":1673927372,"answer_id":75141827,"question_id":75140606,"body_markdown":"Yeah, Your API response is correct. you can create a response with the needed data only. \r\n\r\n    data class ApiResponse(\r\n        val id: String,\r\n    )\r\n    \r\nyour error may be something else please share your logcat error, it might be understood the error","title":"How to ignore some fields in API response - Retrofit @GET","body":"<p>Yeah, Your API response is correct. you can create a response with the needed data only.</p>\n<pre><code>data class ApiResponse(\n    val id: String,\n)\n</code></pre>\n<p>your error may be something else please share your logcat error, it might be understood the error</p>\n"}],"owner":{"account_id":19792884,"reputation":69,"user_id":14495509,"display_name":"sina .s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673927372,"creation_date":1673910937,"question_id":75140606,"body_markdown":"I have a get API call. and the response is like this: \r\n \r\n\r\n      {\r\n          &quot;id&quot;: &quot;22222&quot;,\r\n          &quot;resourceUri&quot;: &quot;ssss&quot;,\r\n          &quot;xxx&quot;: null,\r\n          &quot;xxx&quot;: [],\r\n          &quot;phone&quot;: &quot;kkk&quot;,\r\n          &quot;email&quot;: &quot;jjjjjj&quot;,\r\n       }\r\n\r\nout of all these fields, I only need the ID. SO, I&#39;ve created a class like this: \r\n\r\n    data class ApiResponse(\r\n        val id: String,\r\n    )\r\n\r\nand api calls is like this: \r\n\r\n    suspend fun apiCall(@Header(&quot;Authorization&quot;) authorization : String) :Response&lt;ApiResponse&gt;\r\n\r\n\r\nIt doesn&#39;t work and it throws an error. What can I do? \r\n      ","title":"How to ignore some fields in API response - Retrofit @GET","body":"<p>I have a get API call. and the response is like this:</p>\n<pre><code>  {\n      &quot;id&quot;: &quot;22222&quot;,\n      &quot;resourceUri&quot;: &quot;ssss&quot;,\n      &quot;xxx&quot;: null,\n      &quot;xxx&quot;: [],\n      &quot;phone&quot;: &quot;kkk&quot;,\n      &quot;email&quot;: &quot;jjjjjj&quot;,\n   }\n</code></pre>\n<p>out of all these fields, I only need the ID. SO, I've created a class like this:</p>\n<pre><code>data class ApiResponse(\n    val id: String,\n)\n</code></pre>\n<p>and api calls is like this:</p>\n<pre><code>suspend fun apiCall(@Header(&quot;Authorization&quot;) authorization : String) :Response&lt;ApiResponse&gt;\n</code></pre>\n<p>It doesn't work and it throws an error. What can I do?</p>\n"},{"tags":["java","spring-boot","spring-mvc","annotations","autowired"],"comments":[{"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"score":0,"creation_date":1673893998,"post_id":75137505,"comment_id":132594406,"body_markdown":"You have no `@Component` annotation on your `RateLimiterDriver`. Also you have qualifier `slidingWindowRateLimiter` on other class, not RateLimiterDriver, but SlidingWindowRateLimiter","body":"You have no <code>@Component</code> annotation on your <code>RateLimiterDriver</code>. Also you have qualifier <code>slidingWindowRateLimiter</code> on other class, not RateLimiterDriver, but SlidingWindowRateLimiter"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1673894117,"post_id":75137505,"comment_id":132594446,"body_markdown":"Please provide a [mcve]. Are these classes all in appropriate packages being component scanned?","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Are these classes all in appropriate packages being component scanned?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673894354,"post_id":75137505,"comment_id":132594515,"body_markdown":"Are you sure `@Qualifier(&quot;slidingWindowRateLimiter&quot;)` should not be used in `RateLimiterDriver` class instead `MyAppController` class like you are doing ?","body":"Are you sure <code>@Qualifier(&quot;slidingWindowRateLimiter&quot;)</code> should not be used in <code>RateLimiterDriver</code> class instead <code>MyAppController</code> class like you are doing ?"},{"owner":{"account_id":433498,"reputation":801,"user_id":818858,"accept_rate":56,"display_name":"deGee"},"score":0,"creation_date":1673894465,"post_id":75137505,"comment_id":132594554,"body_markdown":"Thanks @timofeevle. How can I instantiate `RateLimiterDriver` bean with the right concrete implementation of `UsageRateLimiter` from the Controller? Sorry I&#39;m new to Spring Boot, hence asking. I might be doing this completely wrong.","body":"Thanks @timofeevle. How can I instantiate <code>RateLimiterDriver</code> bean with the right concrete implementation of <code>UsageRateLimiter</code> from the Controller? Sorry I&#39;m new to Spring Boot, hence asking. I might be doing this completely wrong."},{"owner":{"account_id":26031837,"reputation":54,"user_id":19737948,"display_name":"timofeevle"},"score":1,"creation_date":1673894992,"post_id":75137505,"comment_id":132594694,"body_markdown":"In your case it seems like that you wrote qualifier in wrong place. You can move this qualifier to `RateLimiterDriver` constructor, add Component annotation and it will work. But it`s not very good idea to use qualifiers, because IoC idea is lost, you have coupling with particular class. It&#39;s better way to define which class will be used in external config class, f.e. in java config","body":"In your case it seems like that you wrote qualifier in wrong place. You can move this qualifier to <code>RateLimiterDriver</code> constructor, add Component annotation and it will work. But it`s not very good idea to use qualifiers, because IoC idea is lost, you have coupling with particular class. It&#39;s better way to define which class will be used in external config class, f.e. in java config"},{"owner":{"account_id":433498,"reputation":801,"user_id":818858,"accept_rate":56,"display_name":"deGee"},"score":0,"creation_date":1673896217,"post_id":75137505,"comment_id":132595016,"body_markdown":"@timofeevle Can you please post an example on how to pass it during the runtime using config","body":"@timofeevle Can you please post an example on how to pass it during the runtime using config"}],"answers":[{"tags":[],"owner":{"account_id":433498,"reputation":801,"user_id":818858,"accept_rate":56,"display_name":"deGee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673927267,"creation_date":1673898957,"answer_id":75139110,"question_id":75137505,"body_markdown":"Finally I was able to come up with a solution using the fact that **Spring provides the capability to collect all Beans which are concrete implementations of an interface into a Map**\r\n\r\nI modified my **RateLimiterDriver** class as:\r\n\r\n    @Component\r\n    public class RateLimiterDriver {\r\n      @Value(&quot;${com.myapp.org.ratelimiter.type}&quot;)\r\n      private String rateLimiterType;\r\n    \r\n      Map&lt;String, UsageRateLimiter&gt; rateLimiterTypeImplMap;\r\n    \r\n      @Autowired\r\n      RateLimiterDriver(Map&lt;String, UsageRateLimiter&gt; rateLimiterTypeMap) {\r\n        rateLimiterTypeImplMap = rateLimiterTypeMap;\r\n      }\r\n    \r\n      public Decision getDecision(\r\n          String userId, String key, BiFunction&lt;String, String, Long&gt; consumptionObject) {\r\n        return rateLimiterTypeImplMap\r\n                .get(rateLimiterType)\r\n                .tryAndConsume(userId, key, consumptionObject.apply(userId, key))\r\n            ? Decision.ALLOW\r\n            : Decision.DROP;\r\n      }\r\n    }\r\n\r\nIn my **MyAppController**, I am able to simply do\r\n\r\n    @Autowired RateLimiterDriver\r\n\r\nand provide the bean name in the properties file:\r\n\r\n    com.myapp.org.ratelimiter.type=slidingWindowRateLimiter\r\n\r\nVoila! Things working fine now. Thanks @timeofeevle for the suggestion.\r\n\r\nReference articles:\r\n\r\n[Dynamic autowire in Spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-dynamic-autowire","title":"@Autowired : No qualifying bean of type available SpringBoot application","body":"<p>Finally I was able to come up with a solution using the fact that <strong>Spring provides the capability to collect all Beans which are concrete implementations of an interface into a Map</strong></p>\n<p>I modified my <strong>RateLimiterDriver</strong> class as:</p>\n<pre><code>@Component\npublic class RateLimiterDriver {\n  @Value(&quot;${com.myapp.org.ratelimiter.type}&quot;)\n  private String rateLimiterType;\n\n  Map&lt;String, UsageRateLimiter&gt; rateLimiterTypeImplMap;\n\n  @Autowired\n  RateLimiterDriver(Map&lt;String, UsageRateLimiter&gt; rateLimiterTypeMap) {\n    rateLimiterTypeImplMap = rateLimiterTypeMap;\n  }\n\n  public Decision getDecision(\n      String userId, String key, BiFunction&lt;String, String, Long&gt; consumptionObject) {\n    return rateLimiterTypeImplMap\n            .get(rateLimiterType)\n            .tryAndConsume(userId, key, consumptionObject.apply(userId, key))\n        ? Decision.ALLOW\n        : Decision.DROP;\n  }\n}\n</code></pre>\n<p>In my <strong>MyAppController</strong>, I am able to simply do</p>\n<pre><code>@Autowired RateLimiterDriver\n</code></pre>\n<p>and provide the bean name in the properties file:</p>\n<pre><code>com.myapp.org.ratelimiter.type=slidingWindowRateLimiter\n</code></pre>\n<p>Voila! Things working fine now. Thanks @timeofeevle for the suggestion.</p>\n<p>Reference articles:</p>\n<p><a href=\"https://www.baeldung.com/spring-dynamic-autowire\" rel=\"nofollow noreferrer\">Dynamic autowire in Spring</a></p>\n"}],"owner":{"account_id":433498,"reputation":801,"user_id":818858,"accept_rate":56,"display_name":"deGee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673927267,"creation_date":1673889112,"question_id":75137505,"body_markdown":"I have an interface **com.myapp.org.UsageRateLimiter** defined in a library\r\n\r\n    public interface UsageRateLimiter {\r\n      \r\n      boolean tryAndConsume(String userId, String key, Long units);\r\n    }\r\n\r\nI have a concrete class **SlidingWindowRateLimiter** :\r\n\r\n    @Component(&quot;slidingWindowRateLimiter&quot;)\r\n    public class SlidingWindowRateLimiter implements UsageRateLimiter {\r\n      private final RateLimitingRedisProperties rateLimitingRedisProperties;\r\n    \r\n      public SlidingWindowRateLimiter(RateLimitingRedisProperties rateLimitingRedisProperties) {\r\n        this.rateLimitingRedisProperties = rateLimitingRedisProperties;\r\n      }\r\n    \r\n      @Override\r\n      public boolean tryAndConsume(String userId, String key, Long units) {\r\n        \r\n        return true;\r\n    }\r\n\r\nAnother class **com.myapp.org.RateLimitDriver** had a reference to object of *UsageRateLimiter* type :\r\n\r\n    public class RateLimiterDriver {\r\n      UsageRateLimiter rateLimiter;\r\n    \r\n      @Autowired\r\n      RateLimiterDriver(UsageRateLimiter usageRateLimiter) {\r\n        rateLimiter = usageRateLimiter;\r\n      }\r\n    \r\n      public Decision getDecision(\r\n          String userId, String key, BiFunction&lt;String, String, Long&gt; consumptionObject) {\r\n        return rateLimiter.tryAndConsume(\r\n                userId, key, consumptionObject.apply(userId, key))\r\n            ? true\r\n            : false;\r\n      }\r\n    }\r\n\r\nThere are going to be other implementations of **UsageRateLimiter** as well with different **Component** names\r\n\r\nNow in my controller class I need to instantiate **RateLimiterDriver** :\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/myApp/v1&quot;)\r\n    @Slf4j\r\n    public class MyappController implements MyappApi {\r\n    \r\n      @Autowired\r\n      @Qualifier(&quot;slidingWindowRateLimiter&quot;)\r\n      private RateLimiterDriver rateLimiterDriver;\r\n    \r\n      @Override\r\n      public ResponseEntity&lt;MyappResponse&gt; createMyAppInstance(\r\n          @RequestBody MyappPayload myAppPayload) {\r\n        if (rateLimiterDriver.getDecision(userId, &quot;create_my_app&quot;) == Decision.ALLOW) {\r\n          return new ResponseEntity&lt;&gt;(HttpStatus.TOO_MANY_REQUESTS);\r\n        }\r\n      }\r\n    }\r\n\r\nDuring deployment I am getting the below error:\r\n\r\n    No qualifying bean of type &#39;com.myapp.org.RateLimiterDriver&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=&quot;slidingWindowRateLimiter&quot;)}\r\n\r\n**Update** : As I understand, the *Qualifier (&quot;slidingWindowRateLimiter&quot;)* shouldn&#39;t be on the RateLimitDriver class but on the UsageLimiter class. \r\n\r\nHow can I pass on the correct UsageLimiter implementation from MyAppController using spring annotation? Sorry I&#39;m new to spring boot, hence seeking help.","title":"@Autowired : No qualifying bean of type available SpringBoot application","body":"<p>I have an interface <strong>com.myapp.org.UsageRateLimiter</strong> defined in a library</p>\n<pre><code>public interface UsageRateLimiter {\n  \n  boolean tryAndConsume(String userId, String key, Long units);\n}\n</code></pre>\n<p>I have a concrete class <strong>SlidingWindowRateLimiter</strong> :</p>\n<pre><code>@Component(&quot;slidingWindowRateLimiter&quot;)\npublic class SlidingWindowRateLimiter implements UsageRateLimiter {\n  private final RateLimitingRedisProperties rateLimitingRedisProperties;\n\n  public SlidingWindowRateLimiter(RateLimitingRedisProperties rateLimitingRedisProperties) {\n    this.rateLimitingRedisProperties = rateLimitingRedisProperties;\n  }\n\n  @Override\n  public boolean tryAndConsume(String userId, String key, Long units) {\n    \n    return true;\n}\n</code></pre>\n<p>Another class <strong>com.myapp.org.RateLimitDriver</strong> had a reference to object of <em>UsageRateLimiter</em> type :</p>\n<pre><code>public class RateLimiterDriver {\n  UsageRateLimiter rateLimiter;\n\n  @Autowired\n  RateLimiterDriver(UsageRateLimiter usageRateLimiter) {\n    rateLimiter = usageRateLimiter;\n  }\n\n  public Decision getDecision(\n      String userId, String key, BiFunction&lt;String, String, Long&gt; consumptionObject) {\n    return rateLimiter.tryAndConsume(\n            userId, key, consumptionObject.apply(userId, key))\n        ? true\n        : false;\n  }\n}\n</code></pre>\n<p>There are going to be other implementations of <strong>UsageRateLimiter</strong> as well with different <strong>Component</strong> names</p>\n<p>Now in my controller class I need to instantiate <strong>RateLimiterDriver</strong> :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/myApp/v1&quot;)\n@Slf4j\npublic class MyappController implements MyappApi {\n\n  @Autowired\n  @Qualifier(&quot;slidingWindowRateLimiter&quot;)\n  private RateLimiterDriver rateLimiterDriver;\n\n  @Override\n  public ResponseEntity&lt;MyappResponse&gt; createMyAppInstance(\n      @RequestBody MyappPayload myAppPayload) {\n    if (rateLimiterDriver.getDecision(userId, &quot;create_my_app&quot;) == Decision.ALLOW) {\n      return new ResponseEntity&lt;&gt;(HttpStatus.TOO_MANY_REQUESTS);\n    }\n  }\n}\n</code></pre>\n<p>During deployment I am getting the below error:</p>\n<pre><code>No qualifying bean of type 'com.myapp.org.RateLimiterDriver' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true), @org.springframework.beans.factory.annotation.Qualifier(value=&quot;slidingWindowRateLimiter&quot;)}\n</code></pre>\n<p><strong>Update</strong> : As I understand, the <em>Qualifier (&quot;slidingWindowRateLimiter&quot;)</em> shouldn't be on the RateLimitDriver class but on the UsageLimiter class.</p>\n<p>How can I pass on the correct UsageLimiter implementation from MyAppController using spring annotation? Sorry I'm new to spring boot, hence seeking help.</p>\n"},{"tags":["java","git","intellij-idea","pull-request","conflict"],"comments":[{"owner":{"account_id":16808671,"reputation":228,"user_id":12152180,"display_name":"Rafael Moreira"},"score":2,"creation_date":1673912773,"post_id":75140729,"comment_id":132598899,"body_markdown":"Check here: https://www.jetbrains.com/help/idea/resolve-conflicts.html","body":"Check here: <a href=\"https://www.jetbrains.com/help/idea/resolve-conflicts.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/resolve-conflicts.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":18882550,"reputation":146,"user_id":13774637,"display_name":"Ethan Yin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673926983,"creation_date":1673926983,"answer_id":75141794,"question_id":75140729,"body_markdown":"Resolve conflicts dialog appears after clicking Merge.\r\n\r\nSee https://www.jetbrains.com/help/idea/resolving-conflicts.html#distributed-version-control-systems\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/community/posts/4415162387090-Where-s-the-git-resolve-conflict-menu/comments/4415148204178","title":"How to resolve confict on intelliJ?","body":"<p>Resolve conflicts dialog appears after clicking Merge.</p>\n<p>See <a href=\"https://www.jetbrains.com/help/idea/resolving-conflicts.html#distributed-version-control-systems\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/resolving-conflicts.html#distributed-version-control-systems</a></p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/4415162387090-Where-s-the-git-resolve-conflict-menu/comments/4415148204178\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/4415162387090-Where-s-the-git-resolve-conflict-menu/comments/4415148204178</a></p>\n"}],"owner":{"account_id":27034851,"reputation":9,"user_id":20590638,"display_name":"HAD.java"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673926983,"creation_date":1673912349,"question_id":75140729,"body_markdown":"I made a pull request on intelliJ and i got some conflicts. \r\n\r\nI don&#39;t know how to resolve it from intelliJ.\r\n\r\nI looked for the &#39;conflicts&#39; window but without success, it doesn&#39;t want to open. \r\nOn github in the &#39;pull request&#39; section, the &#39;resolve conflict&#39; button is disbale. They show me the differences but they don&#39;t allow me to modify or to make a choice between which version I want to keep. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IOyXs.png","title":"How to resolve confict on intelliJ?","body":"<p>I made a pull request on intelliJ and i got some conflicts.</p>\n<p>I don't know how to resolve it from intelliJ.</p>\n<p>I looked for the 'conflicts' window but without success, it doesn't want to open.\nOn github in the 'pull request' section, the 'resolve conflict' button is disbale. They show me the differences but they don't allow me to modify or to make a choice between which version I want to keep.</p>\n<p><a href=\"https://i.stack.imgur.com/IOyXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IOyXs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":35198,"reputation":75073,"user_id":99594,"accept_rate":83,"display_name":"van"},"score":4,"creation_date":1277220839,"post_id":3094635,"comment_id":3172827,"body_markdown":"What is so &quot;anonymous&quot; about this dictionary?","body":"What is so &quot;anonymous&quot; about this dictionary?"},{"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":1,"creation_date":1277220867,"post_id":3094635,"comment_id":3172833,"body_markdown":"You are looking for a hash table?","body":"You are looking for a hash table?"},{"owner":{"account_id":76141,"reputation":801321,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":1,"creation_date":1277220915,"post_id":3094635,"comment_id":3172842,"body_markdown":"@van: It is just the syntax... using `dict()` instead of `{}` would be non-anonymous. I really don&#39;t know why there is a difference, a dict is a dict for me.","body":"@van: It is just the syntax... using <code>dict()</code> instead of <code>{}</code> would be non-anonymous. I really don&#39;t know why there is a difference, a dict is a dict for me."},{"owner":{"account_id":79153,"reputation":513935,"user_id":224671,"accept_rate":67,"display_name":"kennytm"},"score":3,"creation_date":1277221136,"post_id":3094635,"comment_id":3172876,"body_markdown":"It is a [dictionary display](http://docs.python.org/py3k/reference/expressions.html#grammar-token-dict_display), not an anonymous dictionary.","body":"It is a <a href=\"http://docs.python.org/py3k/reference/expressions.html#grammar-token-dict_display\" rel=\"nofollow noreferrer\">dictionary display</a>, not an anonymous dictionary."},{"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"score":0,"creation_date":1277221252,"post_id":3094635,"comment_id":3172888,"body_markdown":"java.util.Map - http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html","body":"java.util.Map - <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html</a>"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1673926921,"post_id":3094635,"comment_id":132600734,"body_markdown":"Questions about &quot;how to do something like the X feature of language Y, in language Z&quot; are inherently not Y questions, and experts in Y have no special advantage in answering them. Removed the Python tag.","body":"Questions about &quot;how to do something like the X feature of language Y, in language Z&quot; are inherently not Y questions, and experts in Y have no special advantage in answering them. Removed the Python tag."}],"answers":[{"tags":[],"owner":{"account_id":70088,"reputation":12426,"user_id":203600,"accept_rate":100,"display_name":"Jonathon Faust"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1277220898,"creation_date":1277220898,"answer_id":3094668,"question_id":3094635,"body_markdown":"    Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\r\n    myMap.put(&quot;foo&quot;, &quot;23&quot;);\r\n    myMap.put(&quot;bar&quot;, &quot;helloworld&quot;);\r\n\r\nThis is different from yours because yours has heterogeneous data types whereas mine deals in Strings only.  You can actually have mixed collections in Java, too, but I hate doing that.  Kind of defeats the purpose of strong typing.","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;String, String&gt;();\nmyMap.put(\"foo\", \"23\");\nmyMap.put(\"bar\", \"helloworld\");\n</code></pre>\n\n<p>This is different from yours because yours has heterogeneous data types whereas mine deals in Strings only.  You can actually have mixed collections in Java, too, but I hate doing that.  Kind of defeats the purpose of strong typing.</p>\n"},{"tags":[],"owner":{"account_id":75590,"reputation":5333,"user_id":216764,"accept_rate":100,"display_name":"uthark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1277221109,"creation_date":1277221109,"answer_id":3094700,"question_id":3094635,"body_markdown":"Java doesn&#39;t have anonymous dict because 1) it is statically-typed language, 2) it doesn&#39;t have support this feature on the syntax level. You need to specify type of the dictionary during creation. In contrast, [Groovy][1], which is JVM-based language has this feature. \r\nYou can write above code in the following way in Groovy:\r\n\r\n    def myAnonDict = [foo: 23, bar: &#39;helloworld&#39;]\r\n\r\n\r\n  [1]: http://groovy.codehaus.org/","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p>Java doesn't have anonymous dict because 1) it is statically-typed language, 2) it doesn't have support this feature on the syntax level. You need to specify type of the dictionary during creation. In contrast, <a href=\"http://groovy.codehaus.org/\" rel=\"nofollow noreferrer\">Groovy</a>, which is JVM-based language has this feature. \nYou can write above code in the following way in Groovy:</p>\n\n<pre><code>def myAnonDict = [foo: 23, bar: 'helloworld']\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1277222172,"creation_date":1277222172,"answer_id":3094828,"question_id":3094635,"body_markdown":"[Apache commons lang][1] will allow you to do something similar (a string based example; can be customized)\r\n\r\nHere is the code:\r\n\r\n    import java.util.Map;\r\n    import org.apache.commons.lang.ArrayUtils;\r\n    \r\n    public class ArrayToMapExample {\r\n    \r\n        public static void main(String[] args) {\r\n            Map dict = ArrayUtils.toMap(new String[][]{{&quot;United States&quot;, &quot;New York&quot;},\r\n                                {&quot;United Kingdom&quot;, &quot;London&quot;},\r\n                                  {&quot;Netherland&quot;, &quot;Amsterdam&quot;},\r\n                                  {&quot;Japan&quot;, &quot;Tokyo&quot;},\r\n                                  {&quot;France&quot;, &quot;Paris&quot;}});\r\n    \r\n    \r\n            System.out.println(&quot;Capital of France is &quot; + dict.get(&quot;France&quot;));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/download_lang.cgi","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p><a href=\"http://commons.apache.org/lang/download_lang.cgi\" rel=\"noreferrer\">Apache commons lang</a> will allow you to do something similar (a string based example; can be customized)</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import java.util.Map;\nimport org.apache.commons.lang.ArrayUtils;\n\npublic class ArrayToMapExample {\n\n    public static void main(String[] args) {\n        Map dict = ArrayUtils.toMap(new String[][]{{\"United States\", \"New York\"},\n                            {\"United Kingdom\", \"London\"},\n                              {\"Netherland\", \"Amsterdam\"},\n                              {\"Japan\", \"Tokyo\"},\n                              {\"France\", \"Paris\"}});\n\n\n        System.out.println(\"Capital of France is \" + dict.get(\"France\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277223882,"creation_date":1277223882,"answer_id":3095070,"question_id":3094635,"body_markdown":"If the question was broadened from &quot;Java&quot; to &quot;language running on the Java VM&quot;, this Scala code is quite concise:\r\n\r\n    def myAnonDict = Map(&quot;foo&quot; -&gt; 23, &quot;bar&quot; -&gt; &quot;helloworld&quot;)\r\n\r\nOne improvement over the Python syntax is that it is more readable to outsiders.","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p>If the question was broadened from \"Java\" to \"language running on the Java VM\", this Scala code is quite concise:</p>\n\n<pre><code>def myAnonDict = Map(\"foo\" -&gt; 23, \"bar\" -&gt; \"helloworld\")\n</code></pre>\n\n<p>One improvement over the Python syntax is that it is more readable to outsiders.</p>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1277224968,"creation_date":1277224968,"answer_id":3095221,"question_id":3094635,"body_markdown":"Closest shortcut to this form is the following hack:\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;() {{\r\n        add(&quot;foo&quot;, 23);\r\n        add(&quot;bar&quot;, &quot;hello&quot;)\r\n    }};\r\n\r\nHowever, this will create an anonymous class which is not always good.\r\n\r\nUnfortunately, java is not a language of shortcuts.","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p>Closest shortcut to this form is the following hack:</p>\n\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;() {{\n    add(\"foo\", 23);\n    add(\"bar\", \"hello\")\n}};\n</code></pre>\n\n<p>However, this will create an anonymous class which is not always good.</p>\n\n<p>Unfortunately, java is not a language of shortcuts.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673926564,"creation_date":1452113499,"answer_id":34642519,"question_id":3094635,"body_markdown":"[abacus-common][1], a general programming library in Java, which provides a lot of most daily used methods to make programming with Java more fun and more productivity:\r\n\r\n        Map&lt;String, Integer&gt; map = asMap(&quot;abc&quot;, 23, &quot;bar&quot;, 7);\r\n\r\n(Declaration: I&#39;m the developer of abacus-common)\r\n  [1]: https://github.com/landawn/abacus-common","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p>[abacus-common][1], a general programming library in Java, which provides a lot of most daily used methods to make programming with Java more fun and more productivity:</p>\n<pre><code>    Map&lt;String, Integer&gt; map = asMap(&quot;abc&quot;, 23, &quot;bar&quot;, 7);\n</code></pre>\n<p>(Declaration: I'm the developer of abacus-common)\n[1]: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">https://github.com/landawn/abacus-common</a></p>\n"}],"owner":{"account_id":47494,"reputation":5220,"user_id":140731,"accept_rate":79,"display_name":"Iain Sproat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5405,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":3094668,"answer_count":6,"score":3,"last_activity_date":1673926879,"creation_date":1277220718,"question_id":3094635,"body_markdown":"In Python I&#39;m using a dictionary display:\r\n\r\n    myAnonDict = {&#39;foo&#39;: 23, &#39;bar&#39;: &#39;helloworld&#39;}\r\n\r\nIs there an equivalent in Java?\r\n\r\n[edited &#39;anonymous dictionary&#39; to read &#39;dictionary display&#39;]","title":"Is there a Java equivalent of Python&#39;s dictionary display?","body":"<p>In Python I'm using a dictionary display:</p>\n\n<pre><code>myAnonDict = {'foo': 23, 'bar': 'helloworld'}\n</code></pre>\n\n<p>Is there an equivalent in Java?</p>\n\n<p>[edited 'anonymous dictionary' to read 'dictionary display']</p>\n"},{"tags":["java","arrays","concatenation","addition"],"comments":[{"owner":{"account_id":14513,"reputation":3010,"user_id":29924,"accept_rate":96,"display_name":"Ben Page"},"score":4,"creation_date":1458041232,"post_id":80476,"comment_id":59671357,"body_markdown":"Bytes.concat from Guava","body":"Bytes.concat from Guava"},{"owner":{"account_id":8405206,"reputation":1062,"user_id":6308879,"display_name":"Artur Opalinski"},"score":2,"creation_date":1463283419,"post_id":80476,"comment_id":61997935,"body_markdown":"I see a lot of responses here but the question is so worded (&#39;easiest way&#39; ?) that it does not allow to indicate the best answer...","body":"I see a lot of responses here but the question is so worded (&#39;easiest way&#39; ?) that it does not allow to indicate the best answer..."},{"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"score":3,"creation_date":1473032093,"post_id":80476,"comment_id":65976707,"body_markdown":"Dozens of answers here are copying the data into a new array because that is what was asked for - but copying data when not strictly necessary is a bad thing to do especially in Java. Instead, keep track of the indexes and use the two arrays as if they were joined. I have added a solution illustrating the technique.","body":"Dozens of answers here are copying the data into a new array because that is what was asked for - but copying data when not strictly necessary is a bad thing to do especially in Java. Instead, keep track of the indexes and use the two arrays as if they were joined. I have added a solution illustrating the technique."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1502814443,"post_id":80476,"comment_id":78352761,"body_markdown":"The simplest is that you probably shouldn&#39;t be using arrays in the first place, you should be using ArrayLists, and your output should be an ArrayList.  Once you&#39;ve made these your pre-condition, the operation is built-in--first.addAll(second).  The only case where this wouldn&#39;t be pretty much automatic is when your arrays are non-object types (int, long, double, ...), in that case intrinsic arrays can have a big advantage over ArrayLists--but for Strings--meh","body":"The simplest is that you probably shouldn&#39;t be using arrays in the first place, you should be using ArrayLists, and your output should be an ArrayList.  Once you&#39;ve made these your pre-condition, the operation is built-in--first.addAll(second).  The only case where this wouldn&#39;t be pretty much automatic is when your arrays are non-object types (int, long, double, ...), in that case intrinsic arrays can have a big advantage over ArrayLists--but for Strings--meh"},{"owner":{"account_id":8963671,"reputation":1316,"user_id":7126740,"display_name":"JollyJoker"},"score":47,"creation_date":1511873622,"post_id":80476,"comment_id":82020581,"body_markdown":"The fact that a question like this currently has 50 different answers makes me wonder why Java never got a simple `array1 + array2` concatenation.","body":"The fact that a question like this currently has 50 different answers makes me wonder why Java never got a simple <code>array1 + array2</code> concatenation."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":2,"creation_date":1523452567,"post_id":80476,"comment_id":86567307,"body_markdown":"You can do it perfectly well and very efficiently in two lines of standard Java (see my answer), so there is not an awful lot to be gained by having a single method to do it. All of these weird-and-wonderful solutions are a bit of a waste of time.","body":"You can do it perfectly well and very efficiently in two lines of standard Java (see my answer), so there is not an awful lot to be gained by having a single method to do it. All of these weird-and-wonderful solutions are a bit of a waste of time."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1679929985,"post_id":80476,"comment_id":133804951,"body_markdown":"Such questions just remind you how bad is java with array and collection manipulations in general..","body":"Such questions just remind you how bad is java with array and collection manipulations in general.."}],"answers":[{"tags":[],"owner":{"account_id":8338,"reputation":3139,"user_id":14981,"accept_rate":62,"display_name":"jeannicolas"},"down_vote_count":22,"up_vote_count":812,"is_accepted":false,"score":790,"last_activity_date":1544081592,"creation_date":1221632425,"answer_id":80503,"question_id":80476,"body_markdown":"Here&#39;s a simple method that will concatenate two arrays and return the result:\r\n\r\n    public &lt;T&gt; T[] concatenate(T[] a, T[] b) {\r\n\t\tint aLen = a.length;\r\n\t\tint bLen = b.length;\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tT[] c = (T[]) Array.newInstance(a.getClass().getComponentType(), aLen + bLen);\r\n\t\tSystem.arraycopy(a, 0, c, 0, aLen);\r\n\t\tSystem.arraycopy(b, 0, c, aLen, bLen);\r\n\t\t\r\n\t\treturn c;\r\n\t}\r\n\r\nNote that it will not work with primitive data types, only with object types.\r\n\r\nThe following slightly more complicated version works with both object and primitive arrays. It does this by using `T` instead of `T[]` as the argument type.\r\n\r\nIt also makes it possible to concatenate arrays of two different types by picking the most general type as the component type of the result.\r\n\r\n    public static &lt;T&gt; T concatenate(T a, T b) {\r\n        if (!a.getClass().isArray() || !b.getClass().isArray()) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        \r\n        Class&lt;?&gt; resCompType;\r\n        Class&lt;?&gt; aCompType = a.getClass().getComponentType();\r\n        Class&lt;?&gt; bCompType = b.getClass().getComponentType();\r\n\r\n        if (aCompType.isAssignableFrom(bCompType)) {\r\n            resCompType = aCompType;\r\n        } else if (bCompType.isAssignableFrom(aCompType)) {\r\n            resCompType = bCompType;\r\n        } else {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        \r\n        int aLen = Array.getLength(a);\r\n        int bLen = Array.getLength(b);\r\n        \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T result = (T) Array.newInstance(resCompType, aLen + bLen);\r\n        System.arraycopy(a, 0, result, 0, aLen);\r\n        System.arraycopy(b, 0, result, aLen, bLen);        \r\n\r\n        return result;\r\n    }\r\n\r\nHere is an example:\r\n\r\n    Assert.assertArrayEquals(new int[] { 1, 2, 3 }, concatenate(new int[] { 1, 2 }, new int[] { 3 }));\r\n    Assert.assertArrayEquals(new Number[] { 1, 2, 3f }, concatenate(new Integer[] { 1, 2 }, new Number[] { 3f }));\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>Here's a simple method that will concatenate two arrays and return the result:</p>\n\n<pre><code>public &lt;T&gt; T[] concatenate(T[] a, T[] b) {\n    int aLen = a.length;\n    int bLen = b.length;\n\n    @SuppressWarnings(\"unchecked\")\n    T[] c = (T[]) Array.newInstance(a.getClass().getComponentType(), aLen + bLen);\n    System.arraycopy(a, 0, c, 0, aLen);\n    System.arraycopy(b, 0, c, aLen, bLen);\n\n    return c;\n}\n</code></pre>\n\n<p>Note that it will not work with primitive data types, only with object types.</p>\n\n<p>The following slightly more complicated version works with both object and primitive arrays. It does this by using <code>T</code> instead of <code>T[]</code> as the argument type.</p>\n\n<p>It also makes it possible to concatenate arrays of two different types by picking the most general type as the component type of the result.</p>\n\n<pre><code>public static &lt;T&gt; T concatenate(T a, T b) {\n    if (!a.getClass().isArray() || !b.getClass().isArray()) {\n        throw new IllegalArgumentException();\n    }\n\n    Class&lt;?&gt; resCompType;\n    Class&lt;?&gt; aCompType = a.getClass().getComponentType();\n    Class&lt;?&gt; bCompType = b.getClass().getComponentType();\n\n    if (aCompType.isAssignableFrom(bCompType)) {\n        resCompType = aCompType;\n    } else if (bCompType.isAssignableFrom(aCompType)) {\n        resCompType = bCompType;\n    } else {\n        throw new IllegalArgumentException();\n    }\n\n    int aLen = Array.getLength(a);\n    int bLen = Array.getLength(b);\n\n    @SuppressWarnings(\"unchecked\")\n    T result = (T) Array.newInstance(resCompType, aLen + bLen);\n    System.arraycopy(a, 0, result, 0, aLen);\n    System.arraycopy(b, 0, result, aLen, bLen);        \n\n    return result;\n}\n</code></pre>\n\n<p>Here is an example:</p>\n\n<pre><code>Assert.assertArrayEquals(new int[] { 1, 2, 3 }, concatenate(new int[] { 1, 2 }, new int[] { 3 }));\nAssert.assertArrayEquals(new Number[] { 1, 2, 3f }, concatenate(new Integer[] { 1, 2 }, new Number[] { 3f }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2137,"reputation":19044,"user_id":2948,"display_name":"Antti Kissaniemi"},"down_vote_count":44,"up_vote_count":1323,"is_accepted":false,"score":1279,"last_activity_date":1559223131,"creation_date":1221633277,"answer_id":80559,"question_id":80476,"body_markdown":"I found a one-line solution from the good old Apache Commons Lang library.&lt;br&gt; [`ArrayUtils.addAll(T[], T...)`][1]\r\n\r\n\r\nCode:\r\n\r\n    String[] both = ArrayUtils.addAll(first, second);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29","title":"How can I concatenate two arrays in Java?","body":"<p>I found a one-line solution from the good old Apache Commons Lang library.<br> <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/ArrayUtils.html#addAll%28T%5B%5D,%20T...%29\" rel=\"noreferrer\"><code>ArrayUtils.addAll(T[], T...)</code></a></p>\n\n<p>Code:</p>\n\n<pre><code>String[] both = ArrayUtils.addAll(first, second);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1247664317,"creation_date":1221634332,"answer_id":80621,"question_id":80476,"body_markdown":"The [Functional Java][1] library has an array wrapper class that equips arrays with handy methods like concatenation.\r\n\r\n    import static fj.data.Array.array;\r\n\r\n...and then\r\n\r\n    Array&lt;String&gt; both = array(first).append(array(second));\r\n\r\nTo get the unwrapped array back out, call\r\n\r\n    String[] s = both.array();\r\n\r\n  [1]: http://functionaljava.org","title":"How can I concatenate two arrays in Java?","body":"<p>The <a href=\"http://functionaljava.org\" rel=\"noreferrer\">Functional Java</a> library has an array wrapper class that equips arrays with handy methods like concatenation.</p>\n\n<pre><code>import static fj.data.Array.array;\n</code></pre>\n\n<p>...and then</p>\n\n<pre><code>Array&lt;String&gt; both = array(first).append(array(second));\n</code></pre>\n\n<p>To get the unwrapped array back out, call</p>\n\n<pre><code>String[] s = both.array();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Kiwi"},"down_vote_count":9,"up_vote_count":12,"is_accepted":false,"score":3,"last_activity_date":1221638561,"creation_date":1221638561,"answer_id":80977,"question_id":80476,"body_markdown":"Using only Javas own API:\r\n&lt;pre&gt;&lt;code&gt;\r\nString[] join(String[]... arrays) {\r\n  // calculate size of target array\r\n  int size = 0;\r\n  for (String[] array : arrays) {\r\n    size += array.length;\r\n  }\r\n\r\n  // create list of appropriate size\r\n  java.util.List&lt;String&gt; list = new java.util.ArrayList(size);\r\n\r\n  // add arrays\r\n  for (String[] array : arrays) {\r\n    list.addAll(java.util.Arrays.asList(array));\r\n  }\r\n\r\n  // create and return final array\r\n  return list.toArray(new String[size]);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nNow, this code ist not the most efficient, but it relies only on standard java classes and is easy to understand. It works for any number of String[] (even zero arrays).","title":"How can I concatenate two arrays in Java?","body":"<p>Using only Javas own API:</p>\n\n<pre><code>\nString[] join(String[]... arrays) {\n  // calculate size of target array\n  int size = 0;\n  for (String[] array : arrays) {\n    size += array.length;\n  }\n\n  // create list of appropriate size\n  java.util.List list = new java.util.ArrayList(size);\n\n  // add arrays\n  for (String[] array : arrays) {\n    list.addAll(java.util.Arrays.asList(array));\n  }\n\n  // create and return final array\n  return list.toArray(new String[size]);\n}\n</code></pre>\n\n<p>Now, this code ist not the most efficient, but it relies only on standard java classes and is easy to understand. It works for any number of String[] (even zero arrays).</p>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1260393057,"creation_date":1221670067,"answer_id":85216,"question_id":80476,"body_markdown":"Here&#39;s an adaptation of silvertab&#39;s solution, with generics retrofitted:\r\n\r\n    static &lt;T&gt; T[] concat(T[] a, T[] b) {\r\n        final int alen = a.length;\r\n        final int blen = b.length;\r\n        final T[] result = (T[]) java.lang.reflect.Array.\r\n                newInstance(a.getClass().getComponentType(), alen + blen);\r\n        System.arraycopy(a, 0, result, 0, alen);\r\n        System.arraycopy(b, 0, result, alen, blen);\r\n        return result;\r\n    }\r\n\r\nNOTE: See [Joachim&#39;s answer][1] for a Java 6 solution. Not only does it eliminate the warning; it&#39;s also shorter, more efficient and easier to read!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/80476/how-to-concatenate-two-arrays-in-java/784842#784842","title":"How can I concatenate two arrays in Java?","body":"<p>Here's an adaptation of silvertab's solution, with generics retrofitted:</p>\n\n<pre><code>static &lt;T&gt; T[] concat(T[] a, T[] b) {\n    final int alen = a.length;\n    final int blen = b.length;\n    final T[] result = (T[]) java.lang.reflect.Array.\n            newInstance(a.getClass().getComponentType(), alen + blen);\n    System.arraycopy(a, 0, result, 0, alen);\n    System.arraycopy(b, 0, result, alen, blen);\n    return result;\n}\n</code></pre>\n\n<p>NOTE: See <a href=\"https://stackoverflow.com/questions/80476/how-to-concatenate-two-arrays-in-java/784842#784842\">Joachim's answer</a> for a Java 6 solution. Not only does it eliminate the warning; it's also shorter, more efficient and easier to read!</p>\n"},{"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1553114759,"creation_date":1221670356,"answer_id":85266,"question_id":80476,"body_markdown":"I&#39;ve recently fought problems with excessive memory rotation. If a and/or b are known to be commonly empty, here is another adaption of silvertab&#39;s code (generified too):\r\n\r\n    private static &lt;T&gt; T[] concatOrReturnSame(T[] a, T[] b) {\r\n        final int alen = a.length;\r\n        final int blen = b.length;\r\n        if (alen == 0) {\r\n            return b;\r\n        }\r\n        if (blen == 0) {\r\n            return a;\r\n        }\r\n        final T[] result = (T[]) java.lang.reflect.Array.\r\n                newInstance(a.getClass().getComponentType(), alen + blen);\r\n        System.arraycopy(a, 0, result, 0, alen);\r\n        System.arraycopy(b, 0, result, alen, blen);\r\n        return result;\r\n    }\r\n\r\nEdit: A previous version of this post stated that array re-usage like this shall be clearly documented. As Maarten points out in the comments it would in general be better to just remove the if statements, thus voiding the need for having documentation. But then again, those if statements were the whole point of this particular optimization in the first place. I&#39;ll leave this answer here, but be wary!","title":"How can I concatenate two arrays in Java?","body":"<p>I've recently fought problems with excessive memory rotation. If a and/or b are known to be commonly empty, here is another adaption of silvertab's code (generified too):</p>\n\n<pre><code>private static &lt;T&gt; T[] concatOrReturnSame(T[] a, T[] b) {\n    final int alen = a.length;\n    final int blen = b.length;\n    if (alen == 0) {\n        return b;\n    }\n    if (blen == 0) {\n        return a;\n    }\n    final T[] result = (T[]) java.lang.reflect.Array.\n            newInstance(a.getClass().getComponentType(), alen + blen);\n    System.arraycopy(a, 0, result, 0, alen);\n    System.arraycopy(b, 0, result, alen, blen);\n    return result;\n}\n</code></pre>\n\n<p>Edit: A previous version of this post stated that array re-usage like this shall be clearly documented. As Maarten points out in the comments it would in general be better to just remove the if statements, thus voiding the need for having documentation. But then again, those if statements were the whole point of this particular optimization in the first place. I'll leave this answer here, but be wary!</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":3,"up_vote_count":63,"is_accepted":false,"score":60,"last_activity_date":1335026089,"creation_date":1221771546,"answer_id":96892,"question_id":80476,"body_markdown":"Using the Java API:\r\n\r\n    String[] f(String[] first, String[] second) {\r\n        List&lt;String&gt; both = new ArrayList&lt;String&gt;(first.length + second.length);\r\n        Collections.addAll(both, first);\r\n        Collections.addAll(both, second);\r\n        return both.toArray(new String[both.size()]);\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>Using the Java API:</p>\n\n<pre><code>String[] f(String[] first, String[] second) {\n    List&lt;String&gt; both = new ArrayList&lt;String&gt;(first.length + second.length);\n    Collections.addAll(both, first);\n    Collections.addAll(both, second);\n    return both.toArray(new String[both.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3957,"reputation":22144,"user_id":5812,"accept_rate":56,"display_name":"Bob Cross"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1222369071,"creation_date":1222369071,"answer_id":135237,"question_id":80476,"body_markdown":"If you&#39;d like to work with ArrayLists in the solution, you can try this:\r\n\r\n    public final String [] f(final String [] first, final String [] second) {\r\n        // Assuming non-null for brevity.\r\n        final ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;(Arrays.asList(first));\r\n        resultList.addAll(new ArrayList&lt;String&gt;(Arrays.asList(second)));\r\n        return resultList.toArray(new String [resultList.size()]);\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>If you'd like to work with ArrayLists in the solution, you can try this:</p>\n\n<pre><code>public final String [] f(final String [] first, final String [] second) {\n    // Assuming non-null for brevity.\n    final ArrayList&lt;String&gt; resultList = new ArrayList&lt;String&gt;(Arrays.asList(first));\n    resultList.addAll(new ArrayList&lt;String&gt;(Arrays.asList(second)));\n    return resultList.toArray(new String [resultList.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"bhektor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1238624150,"creation_date":1238624150,"answer_id":707558,"question_id":80476,"body_markdown":"I tested below code and worked ok\r\n\r\nAlso I&#39;m using library: org.apache.commons.lang.ArrayUtils\r\n\r\n\tpublic void testConcatArrayString(){\r\n\t\tString[] a = null;\r\n\t\tString[] b = null;\r\n\t\tString[] c = null;\r\n\t\ta = new String[] {&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;};\r\n\t\tb = new String[] {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\r\n\t\t\r\n\t\tc = (String[]) ArrayUtils.addAll(a, b);\r\n\t\tif(c!=null){\r\n\t\t\tfor(int i=0; i&lt;c.length; i++){\r\n\t\t\t\tSystem.out.println(&quot;c[&quot; + (i+1) + &quot;] = &quot; + c[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\nRegards","title":"How can I concatenate two arrays in Java?","body":"<p>I tested below code and worked ok</p>\n\n<p>Also I'm using library: org.apache.commons.lang.ArrayUtils</p>\n\n<pre><code>public void testConcatArrayString(){\n    String[] a = null;\n    String[] b = null;\n    String[] c = null;\n    a = new String[] {\"1\",\"2\",\"3\",\"4\",\"5\"};\n    b = new String[] {\"A\",\"B\",\"C\",\"D\",\"E\"};\n\n    c = (String[]) ArrayUtils.addAll(a, b);\n    if(c!=null){\n        for(int i=0; i&lt;c.length; i++){\n            System.out.println(\"c[\" + (i+1) + \"] = \" + c[i]);\n        }\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":33738,"reputation":95,"user_id":94685,"display_name":"glue"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1431286945,"creation_date":1240557161,"answer_id":784813,"question_id":80476,"body_markdown":"This works, but you need to insert your own error checking.\r\n\r\n    public class StringConcatenate {\r\n\r\n        public static void main(String[] args){\r\n\r\n            // Create two arrays to concatenate and one array to hold both\r\n            String[] arr1 = new String[]{&quot;s&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;};\r\n            String[] arr2 = new String[]{&quot;s&quot;,&quot;t&quot;,&quot;r&quot;,&quot;i&quot;,&quot;n&quot;,&quot;g&quot;};\r\n            String[] arrBoth = new String[arr1.length+arr2.length];\r\n\r\n            // Copy elements from first array into first part of new array\r\n            for(int i = 0; i &lt; arr1.length; i++){\r\n                arrBoth[i] = arr1[i];\r\n            }\r\n\r\n            // Copy elements from second array into last part of new array\r\n            for(int j = arr1.length;j &lt; arrBoth.length;j++){\r\n                arrBoth[j] = arr2[j-arr1.length];\r\n            }\r\n\r\n            // Print result\r\n            for(int k = 0; k &lt; arrBoth.length; k++){\r\n                System.out.print(arrBoth[k]);\r\n            }\r\n\r\n            // Additional line to make your terminal look better at completion!\r\n            System.out.println();\r\n        }\r\n    }\r\n&lt;/pre&gt;&lt;/code&gt;\r\nIt&#39;s probably not the most efficient, but it doesn&#39;t rely on anything other than Java&#39;s own API.","title":"How can I concatenate two arrays in Java?","body":"<p>This works, but you need to insert your own error checking.</p>\n\n<pre><code>public class StringConcatenate {\n\n    public static void main(String[] args){\n\n        // Create two arrays to concatenate and one array to hold both\n        String[] arr1 = new String[]{\"s\",\"t\",\"r\",\"i\",\"n\",\"g\"};\n        String[] arr2 = new String[]{\"s\",\"t\",\"r\",\"i\",\"n\",\"g\"};\n        String[] arrBoth = new String[arr1.length+arr2.length];\n\n        // Copy elements from first array into first part of new array\n        for(int i = 0; i &lt; arr1.length; i++){\n            arrBoth[i] = arr1[i];\n        }\n\n        // Copy elements from second array into last part of new array\n        for(int j = arr1.length;j &lt; arrBoth.length;j++){\n            arrBoth[j] = arr2[j-arr1.length];\n        }\n\n        // Print result\n        for(int k = 0; k &lt; arrBoth.length; k++){\n            System.out.print(arrBoth[k]);\n        }\n\n        // Additional line to make your terminal look better at completion!\n        System.out.println();\n    }\n}\n</code></pre>\n\n<p>\nIt's probably not the most efficient, but it doesn't rely on anything other than Java's own API.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":2,"up_vote_count":501,"is_accepted":false,"score":499,"last_activity_date":1240558081,"creation_date":1240558081,"answer_id":784842,"question_id":80476,"body_markdown":"It&#39;s possible to write a fully generic version that can even be extended to concatenate any number of arrays. This versions require Java 6, as they use [`Arrays.copyOf()`][1]\r\n\r\nBoth versions avoid creating any intermediary `List` objects and use `System.arraycopy()` to ensure that copying large arrays is as fast as possible.\r\n\r\n\r\nFor two arrays it looks like this:\r\n\r\n    public static &lt;T&gt; T[] concat(T[] first, T[] second) {\r\n      T[] result = Arrays.copyOf(first, first.length + second.length);\r\n      System.arraycopy(second, 0, result, first.length, second.length);\r\n      return result;\r\n    }\r\n\r\nAnd for a arbitrary number of arrays (&gt;= 1) it looks like this:\r\n\r\n    public static &lt;T&gt; T[] concatAll(T[] first, T[]... rest) {\r\n      int totalLength = first.length;\r\n      for (T[] array : rest) {\r\n        totalLength += array.length;\r\n      }\r\n      T[] result = Arrays.copyOf(first, totalLength);\r\n      int offset = first.length;\r\n      for (T[] array : rest) {\r\n        System.arraycopy(array, 0, result, offset, array.length);\r\n        offset += array.length;\r\n      }\r\n      return result;\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#copyOf%28T[],%20int%29","title":"How can I concatenate two arrays in Java?","body":"<p>It's possible to write a fully generic version that can even be extended to concatenate any number of arrays. This versions require Java 6, as they use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Arrays.html#copyOf%28T[],%20int%29\" rel=\"noreferrer\"><code>Arrays.copyOf()</code></a></p>\n\n<p>Both versions avoid creating any intermediary <code>List</code> objects and use <code>System.arraycopy()</code> to ensure that copying large arrays is as fast as possible.</p>\n\n<p>For two arrays it looks like this:</p>\n\n<pre><code>public static &lt;T&gt; T[] concat(T[] first, T[] second) {\n  T[] result = Arrays.copyOf(first, first.length + second.length);\n  System.arraycopy(second, 0, result, first.length, second.length);\n  return result;\n}\n</code></pre>\n\n<p>And for a arbitrary number of arrays (>= 1) it looks like this:</p>\n\n<pre><code>public static &lt;T&gt; T[] concatAll(T[] first, T[]... rest) {\n  int totalLength = first.length;\n  for (T[] array : rest) {\n    totalLength += array.length;\n  }\n  T[] result = Arrays.copyOf(first, totalLength);\n  int offset = first.length;\n  for (T[] array : rest) {\n    System.arraycopy(array, 0, result, offset, array.length);\n    offset += array.length;\n  }\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1245334104,"creation_date":1240588366,"answer_id":786450,"question_id":80476,"body_markdown":"An easy, but inefficient, way to do this (generics not included):\r\n\r\n    ArrayList baseArray = new ArrayList(Arrays.asList(array1));\r\n    baseArray.addAll(Arrays.asList(array2));\r\n    String concatenated[] = (String []) baseArray.toArray(new String[baseArray.size()]);","title":"How can I concatenate two arrays in Java?","body":"<p>An easy, but inefficient, way to do this (generics not included):</p>\n\n<pre><code>ArrayList baseArray = new ArrayList(Arrays.asList(array1));\nbaseArray.addAll(Arrays.asList(array2));\nString concatenated[] = (String []) baseArray.toArray(new String[baseArray.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143,"reputation":11430,"user_id":2955,"accept_rate":66,"display_name":"Damo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1431286725,"creation_date":1245326865,"answer_id":1012285,"question_id":80476,"body_markdown":"A simple variation allowing the joining of more than one array:\r\n\r\n    public static String[] join(String[]...arrays) {\r\n\r\n        final List&lt;String&gt; output = new ArrayList&lt;String&gt;();\r\n\r\n        for(String[] array : arrays) {\r\n            output.addAll(Arrays.asList(array));\r\n        }\r\n\r\n        return output.toArray(new String[output.size()]);\r\n    }\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>A simple variation allowing the joining of more than one array:</p>\n\n<pre><code>public static String[] join(String[]...arrays) {\n\n    final List&lt;String&gt; output = new ArrayList&lt;String&gt;();\n\n    for(String[] array : arrays) {\n        output.addAll(Arrays.asList(array));\n    }\n\n    return output.toArray(new String[output.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143,"reputation":11430,"user_id":2955,"accept_rate":66,"display_name":"Damo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1431286687,"creation_date":1245327228,"answer_id":1012309,"question_id":80476,"body_markdown":"A type independent variation (UPDATED - thanks to Volley for instantiating T):\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T[] join(T[]...arrays) {\r\n\r\n        final List&lt;T&gt; output = new ArrayList&lt;T&gt;();\r\n\r\n        for(T[] array : arrays) {\r\n            output.addAll(Arrays.asList(array));\r\n        }\r\n\r\n        return output.toArray((T[])Array.newInstance(\r\n            arrays[0].getClass().getComponentType(), output.size()));\r\n    }\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>A type independent variation (UPDATED - thanks to Volley for instantiating T):</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; T[] join(T[]...arrays) {\n\n    final List&lt;T&gt; output = new ArrayList&lt;T&gt;();\n\n    for(T[] array : arrays) {\n        output.addAll(Arrays.asList(array));\n    }\n\n    return output.toArray((T[])Array.newInstance(\n        arrays[0].getClass().getComponentType(), output.size()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":268219,"reputation":2196,"user_id":556856,"accept_rate":71,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1293607751,"creation_date":1293607751,"answer_id":4552278,"question_id":80476,"body_markdown":"    public String[] concat(String[]... arrays)\r\n    {\r\n        int length = 0;\r\n        for (String[] array : arrays) {\r\n            length += array.length;\r\n        }\r\n        String[] result = new String[length];\r\n        int destPos = 0;\r\n        for (String[] array : arrays) {\r\n            System.arraycopy(array, 0, result, destPos, array.length);\r\n            destPos += array.length;\r\n        }\r\n        return result;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<pre><code>public String[] concat(String[]... arrays)\n{\n    int length = 0;\n    for (String[] array : arrays) {\n        length += array.length;\n    }\n    String[] result = new String[length];\n    int destPos = 0;\n    for (String[] array : arrays) {\n        System.arraycopy(array, 0, result, destPos, array.length);\n        destPos += array.length;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260305,"reputation":6538,"user_id":543770,"accept_rate":78,"display_name":"Doug"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494337438,"creation_date":1293899258,"answer_id":4574691,"question_id":80476,"body_markdown":"Another one based on SilverTab&#39;s suggestion, but made to support x number of arguments and not require Java 6. It is also not generic, but I&#39;m sure it could be made generic.\r\n\r\n    private byte[] concat(byte[]... args)\r\n    {\r\n    \tint fulllength = 0;\r\n    \tfor (byte[] arrItem : args)\r\n    \t{\r\n    \t\tfulllength += arrItem.length;\r\n    \t}\r\n    \tbyte[] retArray = new byte[fulllength];\r\n    \tint start = 0;\r\n    \tfor (byte[] arrItem : args)\r\n    \t{\r\n    \t\tSystem.arraycopy(arrItem, 0, retArray, start, arrItem.length);\r\n    \t\tstart += arrItem.length;\r\n    \t}\r\n    \treturn retArray;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>Another one based on SilverTab's suggestion, but made to support x number of arguments and not require Java 6. It is also not generic, but I'm sure it could be made generic.</p>\n\n<pre><code>private byte[] concat(byte[]... args)\n{\n    int fulllength = 0;\n    for (byte[] arrItem : args)\n    {\n        fulllength += arrItem.length;\n    }\n    byte[] retArray = new byte[fulllength];\n    int start = 0;\n    for (byte[] arrItem : args)\n    {\n        System.arraycopy(arrItem, 0, retArray, start, arrItem.length);\n        start += arrItem.length;\n    }\n    return retArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":77528,"reputation":30998,"user_id":221213,"accept_rate":93,"display_name":"KARASZI Istv&#225;n"},"down_vote_count":3,"up_vote_count":209,"is_accepted":false,"score":206,"last_activity_date":1490608529,"creation_date":1299683979,"answer_id":5247896,"question_id":80476,"body_markdown":"Or with the beloved [Guava][1]:\r\n\r\n    String[] both = ObjectArrays.concat(first, second, String.class);\r\n\r\nAlso, there are versions for primitive arrays:\r\n\r\n* `Booleans.concat(first, second)`\r\n* `Bytes.concat(first, second)`\r\n* `Chars.concat(first, second)`\r\n* `Doubles.concat(first, second)`\r\n* `Shorts.concat(first, second)`\r\n* `Ints.concat(first, second)`\r\n* `Longs.concat(first, second)`\r\n* `Floats.concat(first, second)`\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ObjectArrays.html#concat(T%5B%5D,%20T%5B%5D,%20java.lang.Class)","title":"How can I concatenate two arrays in Java?","body":"<p>Or with the beloved <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/ObjectArrays.html#concat(T%5B%5D,%20T%5B%5D,%20java.lang.Class)\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>String[] both = ObjectArrays.concat(first, second, String.class);\n</code></pre>\n\n<p>Also, there are versions for primitive arrays:</p>\n\n<ul>\n<li><code>Booleans.concat(first, second)</code></li>\n<li><code>Bytes.concat(first, second)</code></li>\n<li><code>Chars.concat(first, second)</code></li>\n<li><code>Doubles.concat(first, second)</code></li>\n<li><code>Shorts.concat(first, second)</code></li>\n<li><code>Ints.concat(first, second)</code></li>\n<li><code>Longs.concat(first, second)</code></li>\n<li><code>Floats.concat(first, second)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":341165,"reputation":490,"user_id":671613,"display_name":"Adham"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1301562721,"creation_date":1301562721,"answer_id":5497557,"question_id":80476,"body_markdown":"    Object[] obj = {&quot;hi&quot;,&quot;there&quot;};\r\n    Object[] obj2 ={&quot;im&quot;,&quot;fine&quot;,&quot;what abt u&quot;};\r\n    Object[] obj3 = new Object[obj.length+obj2.length];\r\n    \r\n    for(int i =0;i&lt;obj3.length;i++)\r\n        obj3[i] = (i&lt;obj.length)?obj[i]:obj2[i-obj.length];","title":"How can I concatenate two arrays in Java?","body":"<pre><code>Object[] obj = {\"hi\",\"there\"};\nObject[] obj2 ={\"im\",\"fine\",\"what abt u\"};\nObject[] obj3 = new Object[obj.length+obj2.length];\n\nfor(int i =0;i&lt;obj3.length;i++)\n    obj3[i] = (i&lt;obj.length)?obj[i]:obj2[i-obj.length];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416070,"reputation":1995,"user_id":791247,"display_name":"candrews"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1307634485,"creation_date":1307634485,"answer_id":6295624,"question_id":80476,"body_markdown":"Here&#39;s my slightly improved version of Joachim Sauer&#39;s concatAll. It can work on Java 5 or 6, using Java 6&#39;s System.arraycopy if it&#39;s available at runtime. This method (IMHO) is perfect for Android, as it work on Android &lt;9 (which doesn&#39;t have System.arraycopy) but will use the faster method if possible.\r\n\r\n      public static &lt;T&gt; T[] concatAll(T[] first, T[]... rest) {\r\n        int totalLength = first.length;\r\n        for (T[] array : rest) {\r\n          totalLength += array.length;\r\n        }\r\n        T[] result;\r\n        try {\r\n          Method arraysCopyOf = Arrays.class.getMethod(&quot;copyOf&quot;, Object[].class, int.class);\r\n          result = (T[]) arraysCopyOf.invoke(null, first, totalLength);\r\n        } catch (Exception e){\r\n          //Java 6 / Android &gt;= 9 way didn&#39;t work, so use the &quot;traditional&quot; approach\r\n          result = (T[]) java.lang.reflect.Array.newInstance(first.getClass().getComponentType(), totalLength);\r\n          System.arraycopy(first, 0, result, 0, first.length);\r\n        }\r\n        int offset = first.length;\r\n        for (T[] array : rest) {\r\n          System.arraycopy(array, 0, result, offset, array.length);\r\n          offset += array.length;\r\n        }\r\n        return result;\r\n      }","title":"How can I concatenate two arrays in Java?","body":"<p>Here's my slightly improved version of Joachim Sauer's concatAll. It can work on Java 5 or 6, using Java 6's System.arraycopy if it's available at runtime. This method (IMHO) is perfect for Android, as it work on Android &lt;9 (which doesn't have System.arraycopy) but will use the faster method if possible.</p>\n\n<pre><code>  public static &lt;T&gt; T[] concatAll(T[] first, T[]... rest) {\n    int totalLength = first.length;\n    for (T[] array : rest) {\n      totalLength += array.length;\n    }\n    T[] result;\n    try {\n      Method arraysCopyOf = Arrays.class.getMethod(\"copyOf\", Object[].class, int.class);\n      result = (T[]) arraysCopyOf.invoke(null, first, totalLength);\n    } catch (Exception e){\n      //Java 6 / Android &gt;= 9 way didn't work, so use the \"traditional\" approach\n      result = (T[]) java.lang.reflect.Array.newInstance(first.getClass().getComponentType(), totalLength);\n      System.arraycopy(first, 0, result, 0, first.length);\n    }\n    int offset = first.length;\n    for (T[] array : rest) {\n      System.arraycopy(array, 0, result, offset, array.length);\n      offset += array.length;\n    }\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":414825,"reputation":567,"user_id":789261,"display_name":"Muhammad Haris Altaf"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1307679271,"creation_date":1307679271,"answer_id":6301908,"question_id":80476,"body_markdown":"The easiest way i could find is as following :\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\nList&lt;Filter&gt; allFiltersList = Arrays.asList(regularFilters);\r\nallFiltersList.addAll(Arrays.asList(preFiltersArray));\r\nFilter[] mergedFilterArray = (Filter[]) allFiltersList.toArray();\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"How can I concatenate two arrays in Java?","body":"<p>The easiest way i could find is as following :</p>\n\n<pre>\n<code>\nList allFiltersList = Arrays.asList(regularFilters);\nallFiltersList.addAll(Arrays.asList(preFiltersArray));\nFilter[] mergedFilterArray = (Filter[]) allFiltersList.toArray();\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":279525,"reputation":2123,"user_id":574736,"accept_rate":97,"display_name":"Oritm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1307822396,"creation_date":1307822396,"answer_id":6318217,"question_id":80476,"body_markdown":"This is a converted function for a String array:\r\n\r\n    public String[] mergeArrays(String[] mainArray, String[] addArray) {\r\n        String[] finalArray = new String[mainArray.length + addArray.length];\r\n        System.arraycopy(mainArray, 0, finalArray, 0, mainArray.length);\r\n        System.arraycopy(addArray, 0, finalArray, mainArray.length, addArray.length);\r\n\r\n        return finalArray;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>This is a converted function for a String array:</p>\n\n<pre><code>public String[] mergeArrays(String[] mainArray, String[] addArray) {\n    String[] finalArray = new String[mainArray.length + addArray.length];\n    System.arraycopy(mainArray, 0, finalArray, 0, mainArray.length);\n    System.arraycopy(addArray, 0, finalArray, mainArray.length, addArray.length);\n\n    return finalArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785056,"reputation":11,"user_id":844342,"display_name":"Jeroen"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1400424903,"creation_date":1310639444,"answer_id":6691787,"question_id":80476,"body_markdown":"    Import java.util.*;\r\n    \r\n    String array1[] = {&quot;bla&quot;,&quot;bla&quot;};\r\n    String array2[] = {&quot;bla&quot;,&quot;bla&quot;};\r\n    \r\n    ArrayList&lt;String&gt; tempArray = new ArrayList&lt;String&gt;(Arrays.asList(array1));\r\n    tempArray.addAll(Arrays.asList(array2));\r\n    String array3[] = films.toArray(new String[1]); // size will be overwritten if needed\r\n\r\nYou could replace String by a Type/Class of your liking\r\n\r\nIm sure this can be made shorter and better, but it works and im to lazy to sort it out further...\r\n","title":"How can I concatenate two arrays in Java?","body":"<pre><code>Import java.util.*;\n\nString array1[] = {\"bla\",\"bla\"};\nString array2[] = {\"bla\",\"bla\"};\n\nArrayList&lt;String&gt; tempArray = new ArrayList&lt;String&gt;(Arrays.asList(array1));\ntempArray.addAll(Arrays.asList(array2));\nString array3[] = films.toArray(new String[1]); // size will be overwritten if needed\n</code></pre>\n\n<p>You could replace String by a Type/Class of your liking</p>\n\n<p>Im sure this can be made shorter and better, but it works and im to lazy to sort it out further...</p>\n"},{"tags":[],"owner":{"account_id":789058,"reputation":11,"user_id":856097,"display_name":"Sushim "},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1429801532,"creation_date":1311256699,"answer_id":6777237,"question_id":80476,"body_markdown":"**You can try this**\r\n\r\n     public static Object[] addTwoArray(Object[] objArr1, Object[] objArr2){\r\n\t\tint arr1Length = objArr1!=null &amp;&amp; objArr1.length&gt;0?objArr1.length:0;\r\n\t\tint arr2Length = objArr2!=null &amp;&amp; objArr2.length&gt;0?objArr2.length:0;\r\n\t\tObject[] resutlentArray = new Object[arr1Length+arr2Length]; \r\n\t\tfor(int i=0,j=0;i&lt;resutlentArray.length;i++){\r\n\t\t\tif(i+1&lt;=arr1Length){\r\n\t\t\t\tresutlentArray[i]=objArr1[i];\r\n\t\t\t}else{\r\n\t\t\t\tresutlentArray[i]=objArr2[j];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn resutlentArray;\r\n\t}\r\n\r\nU can type cast your array !!!","title":"How can I concatenate two arrays in Java?","body":"<p><strong>You can try this</strong></p>\n\n<pre><code> public static Object[] addTwoArray(Object[] objArr1, Object[] objArr2){\n    int arr1Length = objArr1!=null &amp;&amp; objArr1.length&gt;0?objArr1.length:0;\n    int arr2Length = objArr2!=null &amp;&amp; objArr2.length&gt;0?objArr2.length:0;\n    Object[] resutlentArray = new Object[arr1Length+arr2Length]; \n    for(int i=0,j=0;i&lt;resutlentArray.length;i++){\n        if(i+1&lt;=arr1Length){\n            resutlentArray[i]=objArr1[i];\n        }else{\n            resutlentArray[i]=objArr2[j];\n            j++;\n        }\n    }\n\n    return resutlentArray;\n}\n</code></pre>\n\n<p>U can type cast your array !!!</p>\n"},{"tags":[],"owner":{"account_id":965902,"reputation":11,"user_id":989332,"display_name":"francois"},"down_vote_count":4,"up_vote_count":47,"is_accepted":false,"score":43,"last_activity_date":1456473985,"creation_date":1318330441,"answer_id":7724875,"question_id":80476,"body_markdown":"A solution **100% old java** and **without** `System.arraycopy` (not available in GWT client for example):\r\n\r\n    static String[] concat(String[]... arrays) {\r\n        int length = 0;\r\n        for (String[] array : arrays) {\r\n            length += array.length;\r\n        }\r\n        String[] result = new String[length];\r\n        int pos = 0;\r\n        for (String[] array : arrays) {\r\n            for (String element : array) {\r\n                result[pos] = element;\r\n                pos++;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>A solution <strong>100% old java</strong> and <strong>without</strong> <code>System.arraycopy</code> (not available in GWT client for example):</p>\n\n<pre><code>static String[] concat(String[]... arrays) {\n    int length = 0;\n    for (String[] array : arrays) {\n        length += array.length;\n    }\n    String[] result = new String[length];\n    int pos = 0;\n    for (String[] array : arrays) {\n        for (String element : array) {\n            result[pos] = element;\n            pos++;\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191745,"reputation":2234,"user_id":432499,"accept_rate":25,"display_name":"Ephraim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1431286216,"creation_date":1318378535,"answer_id":7733971,"question_id":80476,"body_markdown":"How about simply \t\r\n\r\n    public static class Array {\r\n\r\n\t\tpublic static &lt;T&gt; T[] concat(T[]... arrays) {\r\n\t\t\tArrayList&lt;T&gt; al = new ArrayList&lt;T&gt;();\r\n\t\t\tfor (T[] one : arrays)\r\n\t\t\t\tCollections.addAll(al, one);\r\n\t\t\treturn (T[]) al.toArray(arrays[0].clone());\r\n\t\t}\r\n    }\r\n\r\nAnd just do &lt;code&gt;Array.concat(arr1, arr2)&lt;/code&gt;. As long as &lt;code&gt;arr1&lt;/code&gt; and &lt;code&gt;arr2&lt;/code&gt; are of the same type, this will give you another array of the same type containing both arrays. ","title":"How can I concatenate two arrays in Java?","body":"<p>How about simply    </p>\n\n<pre><code>public static class Array {\n\n    public static &lt;T&gt; T[] concat(T[]... arrays) {\n        ArrayList&lt;T&gt; al = new ArrayList&lt;T&gt;();\n        for (T[] one : arrays)\n            Collections.addAll(al, one);\n        return (T[]) al.toArray(arrays[0].clone());\n    }\n}\n</code></pre>\n\n<p>And just do <code>Array.concat(arr1, arr2)</code>. As long as <code>arr1</code> and <code>arr2</code> are of the same type, this will give you another array of the same type containing both arrays. </p>\n"},{"tags":[],"owner":{"account_id":394963,"reputation":125,"user_id":757684,"display_name":"hpgisler"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1325687754,"creation_date":1325687754,"answer_id":8728568,"question_id":80476,"body_markdown":"Here a possible implementation in working code of the pseudo code solution written by silvertab. \r\n\r\nThanks silvertab!\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class Array {\r\n\r\n       public static &lt;T&gt; T[] concat(T[] a, T[] b, ArrayBuilderI&lt;T&gt; builder) {\r\n          T[] c = builder.build(a.length + b.length);\r\n          System.arraycopy(a, 0, c, 0, a.length);\r\n          System.arraycopy(b, 0, c, a.length, b.length);\r\n          return c;\r\n       }\r\n    }\r\n\r\nFollowing next is the builder interface. \r\n\r\nNote: A builder is necessary because in java it is not possible to do \r\n\r\n`new T[size]` \r\n\r\ndue to generic type erasure:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public interface ArrayBuilderI&lt;T&gt; {\r\n\r\n       public T[] build(int size);\r\n    }\r\n\r\nHere a concrete builder implementing the interface, building a `Integer` array:\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class IntegerArrayBuilder implements ArrayBuilderI&lt;Integer&gt; {\r\n\r\n       @Override\r\n       public Integer[] build(int size) {\r\n          return new Integer[size];\r\n       }\r\n    }\r\n\r\nAnd finally the application / test:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Test\r\n    public class ArrayTest {\r\n   \r\n       public void array_concatenation() {\r\n          Integer a[] = new Integer[]{0,1};\r\n          Integer b[] = new Integer[]{2,3};\r\n          Integer c[] = Array.concat(a, b, new IntegerArrayBuilder());\r\n          assertEquals(4, c.length);\r\n          assertEquals(0, (int)c[0]);\r\n          assertEquals(1, (int)c[1]);\r\n          assertEquals(2, (int)c[2]);\r\n          assertEquals(3, (int)c[3]);\r\n       }\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>Here a possible implementation in working code of the pseudo code solution written by silvertab. </p>\n\n<p>Thanks silvertab!</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Array {\n\n   public static &lt;T&gt; T[] concat(T[] a, T[] b, ArrayBuilderI&lt;T&gt; builder) {\n      T[] c = builder.build(a.length + b.length);\n      System.arraycopy(a, 0, c, 0, a.length);\n      System.arraycopy(b, 0, c, a.length, b.length);\n      return c;\n   }\n}\n</code></pre>\n\n<p>Following next is the builder interface. </p>\n\n<p>Note: A builder is necessary because in java it is not possible to do </p>\n\n<p><code>new T[size]</code> </p>\n\n<p>due to generic type erasure:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface ArrayBuilderI&lt;T&gt; {\n\n   public T[] build(int size);\n}\n</code></pre>\n\n<p>Here a concrete builder implementing the interface, building a <code>Integer</code> array:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class IntegerArrayBuilder implements ArrayBuilderI&lt;Integer&gt; {\n\n   @Override\n   public Integer[] build(int size) {\n      return new Integer[size];\n   }\n}\n</code></pre>\n\n<p>And finally the application / test:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic class ArrayTest {\n\n   public void array_concatenation() {\n      Integer a[] = new Integer[]{0,1};\n      Integer b[] = new Integer[]{2,3};\n      Integer c[] = Array.concat(a, b, new IntegerArrayBuilder());\n      assertEquals(4, c.length);\n      assertEquals(0, (int)c[0]);\n      assertEquals(1, (int)c[1]);\n      assertEquals(2, (int)c[2]);\n      assertEquals(3, (int)c[3]);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429135,"reputation":4502,"user_id":811865,"accept_rate":70,"display_name":"Jerome"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1330590223,"creation_date":1330589911,"answer_id":9512746,"question_id":80476,"body_markdown":"In Haskell you can do something like that `[a, b, c] ++ [d, e]` to get `[a, b, c, d, e]`. These are Haskell lists concatenated but that&#39;d very nice to see a similar operator in Java for arrays. Don&#39;t you think so ? That&#39;s elegant, simple, generic and it&#39;s not that difficult to implement.\r\n\r\nIf you want to, I suggest you to have a look at Alexander Hristov&#39;s work in his [Hacking the OpenJDK compiler](http://www.ahristov.com/tutoriales/java-compiler/duplicating-lexer.html). He explains how to modify javac source to create a new operator. His example consists in defining a &#39;**&#39; operator where `i ** j = Math.pow(i, j)`. One could take that example to implement an operator that concatenates two arrays of same type.&lt;br&gt;\r\n\r\nOnce you do that, you are bound to your customized javac to compile your code but the generated bytecode will be understood by any JVM. &lt;br&gt;&lt;br&gt;Of course, you can implement your own array concatenatation method at your source level, there are many examples on how to do it in the other answers !&lt;br&gt;\r\n&lt;br&gt;\r\nThere are so many useful operators that could be added, this one would be one of them.\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>In Haskell you can do something like that <code>[a, b, c] ++ [d, e]</code> to get <code>[a, b, c, d, e]</code>. These are Haskell lists concatenated but that'd very nice to see a similar operator in Java for arrays. Don't you think so ? That's elegant, simple, generic and it's not that difficult to implement.</p>\n\n<p>If you want to, I suggest you to have a look at Alexander Hristov's work in his <a href=\"http://www.ahristov.com/tutoriales/java-compiler/duplicating-lexer.html\" rel=\"nofollow\">Hacking the OpenJDK compiler</a>. He explains how to modify javac source to create a new operator. His example consists in defining a '**' operator where <code>i ** j = Math.pow(i, j)</code>. One could take that example to implement an operator that concatenates two arrays of same type.<br></p>\n\n<p>Once you do that, you are bound to your customized javac to compile your code but the generated bytecode will be understood by any JVM. <br><br>Of course, you can implement your own array concatenatation method at your source level, there are many examples on how to do it in the other answers !<br>\n<br>\nThere are so many useful operators that could be added, this one would be one of them.</p>\n"},{"tags":[],"owner":{"account_id":1387815,"reputation":11,"user_id":1319411,"display_name":"filosofem"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1333821013,"creation_date":1333821013,"answer_id":10056834,"question_id":80476,"body_markdown":"Look at this elegant solution (if you need other type than char, change it):\r\n\r\n    private static void concatArrays(char[] destination, char[]... sources) {\r\n        int currPos = 0;\r\n        for (char[] source : sources) {\r\n            int length = source.length;\r\n            System.arraycopy(source, 0, destination, currPos, length);\r\n            currPos += length;\r\n        }\r\n    }\r\n\r\n\r\nYou can concatenate a every count of arrays.","title":"How can I concatenate two arrays in Java?","body":"<p>Look at this elegant solution (if you need other type than char, change it):</p>\n\n<pre><code>private static void concatArrays(char[] destination, char[]... sources) {\n    int currPos = 0;\n    for (char[] source : sources) {\n        int length = source.length;\n        System.arraycopy(source, 0, destination, currPos, length);\n        currPos += length;\n    }\n}\n</code></pre>\n\n<p>You can concatenate a every count of arrays.</p>\n"},{"tags":[],"owner":{"account_id":211040,"reputation":5482,"user_id":462990,"accept_rate":38,"display_name":"user462990"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1335783335,"creation_date":1335783335,"answer_id":10382513,"question_id":80476,"body_markdown":"I found I had to deal with the case where the arrays can be null...\r\n\r\n    private double[] concat  (double[]a,double[]b){\r\n    \tif (a == null) return b;\r\n    \tif (b == null) return a;\r\n    \tdouble[] r = new double[a.length+b.length];\r\n    \tSystem.arraycopy(a, 0, r, 0, a.length);\r\n    \tSystem.arraycopy(b, 0, r, a.length, b.length);\r\n    \treturn r;\r\n    \t\r\n    }\r\n    private double[] copyRest (double[]a, int start){\r\n    \tif (a == null) return null;\r\n    \tif (start &gt; a.length)return null;\r\n    \tdouble[]r = new double[a.length-start];\r\n    \tSystem.arraycopy(a,start,r,0,a.length-start); \r\n    \treturn r;\r\n    }\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>I found I had to deal with the case where the arrays can be null...</p>\n\n<pre><code>private double[] concat  (double[]a,double[]b){\n    if (a == null) return b;\n    if (b == null) return a;\n    double[] r = new double[a.length+b.length];\n    System.arraycopy(a, 0, r, 0, a.length);\n    System.arraycopy(b, 0, r, a.length, b.length);\n    return r;\n\n}\nprivate double[] copyRest (double[]a, int start){\n    if (a == null) return null;\n    if (start &gt; a.length)return null;\n    double[]r = new double[a.length-start];\n    System.arraycopy(a,start,r,0,a.length-start); \n    return r;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1441980130,"creation_date":1342181322,"answer_id":11470232,"question_id":80476,"body_markdown":"Please forgive me for adding yet another version to this already long list. I looked at every answer and decided that I really wanted a version with just one parameter in the signature. I also added some argument checking to benefit from early failure with sensible info in case of unexpected input.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; T[] concat(T[]... inputArrays) {\r\n      if(inputArrays.length &lt; 2) {\r\n        throw new IllegalArgumentException(&quot;inputArrays must contain at least 2 arrays&quot;);\r\n      }\r\n    \r\n      for(int i = 0; i &lt; inputArrays.length; i++) {\r\n        if(inputArrays[i] == null) {\r\n          throw new IllegalArgumentException(&quot;inputArrays[&quot; + i + &quot;] is null&quot;);\r\n        }\r\n      }\r\n    \r\n      int totalLength = 0;\r\n    \r\n      for(T[] array : inputArrays) {\r\n        totalLength += array.length;\r\n      }\r\n    \r\n      T[] result = (T[]) Array.newInstance(inputArrays[0].getClass().getComponentType(), totalLength);\r\n    \r\n      int offset = 0;\r\n    \r\n      for(T[] array : inputArrays) {\r\n        System.arraycopy(array, 0, result, offset, array.length);\r\n    \r\n        offset += array.length;\r\n      }\r\n\r\n      return result;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>Please forgive me for adding yet another version to this already long list. I looked at every answer and decided that I really wanted a version with just one parameter in the signature. I also added some argument checking to benefit from early failure with sensible info in case of unexpected input.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; T[] concat(T[]... inputArrays) {\n  if(inputArrays.length &lt; 2) {\n    throw new IllegalArgumentException(\"inputArrays must contain at least 2 arrays\");\n  }\n\n  for(int i = 0; i &lt; inputArrays.length; i++) {\n    if(inputArrays[i] == null) {\n      throw new IllegalArgumentException(\"inputArrays[\" + i + \"] is null\");\n    }\n  }\n\n  int totalLength = 0;\n\n  for(T[] array : inputArrays) {\n    totalLength += array.length;\n  }\n\n  T[] result = (T[]) Array.newInstance(inputArrays[0].getClass().getComponentType(), totalLength);\n\n  int offset = 0;\n\n  for(T[] array : inputArrays) {\n    System.arraycopy(array, 0, result, offset, array.length);\n\n    offset += array.length;\n  }\n\n  return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1132463,"reputation":558,"user_id":1118233,"accept_rate":67,"display_name":"doles"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1351455792,"creation_date":1351455792,"answer_id":13112678,"question_id":80476,"body_markdown":"Wow! lot of complex answers here including some simple ones that depend on external dependencies. how about doing it like this:\r\n\r\n    String [] arg1 = new String{&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\r\n    String [] arg2 = new String{&quot;x&quot;,&quot;y&quot;,&quot;z&quot;};\r\n    \r\n    ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\r\n    temp.addAll(Arrays.asList(arg1));\r\n    temp.addAll(Arrays.asList(arg2));\r\n    String [] concatedArgs = temp.toArray(new String[arg1.length+arg2.length]);","title":"How can I concatenate two arrays in Java?","body":"<p>Wow! lot of complex answers here including some simple ones that depend on external dependencies. how about doing it like this:</p>\n\n<pre><code>String [] arg1 = new String{\"a\",\"b\",\"c\"};\nString [] arg2 = new String{\"x\",\"y\",\"z\"};\n\nArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();\ntemp.addAll(Arrays.asList(arg1));\ntemp.addAll(Arrays.asList(arg2));\nString [] concatedArgs = temp.toArray(new String[arg1.length+arg2.length]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429244,"reputation":10164,"user_id":812034,"accept_rate":64,"display_name":"Earth Engine"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1361934236,"creation_date":1361934236,"answer_id":15103456,"question_id":80476,"body_markdown":"Another way to think about the question. To concatenate two or more arrays, one have to do is to list all elements of each arrays, and then build a new array. This sounds like create a `List&lt;T&gt;` and then calls `toArray` on it. Some other answers uses `ArrayList`, and that&#39;s fine. But how about implement our own? It is not hard:\r\n\r\n\tprivate static &lt;T&gt; T[] addAll(final T[] f, final T...o){\r\n\t\treturn new AbstractList&lt;T&gt;(){\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic T get(int i) {\r\n\t\t\t\treturn i&gt;=f.length ? o[i - f.length] : f[i];\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic int size() {\r\n\t\t\t\treturn f.length + o.length;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}.toArray(f);\r\n\t}\r\n\r\nI believe the above is equivalent to solutions that uses `System.arraycopy`. However I think this one has its own beauty. ","title":"How can I concatenate two arrays in Java?","body":"<p>Another way to think about the question. To concatenate two or more arrays, one have to do is to list all elements of each arrays, and then build a new array. This sounds like create a <code>List&lt;T&gt;</code> and then calls <code>toArray</code> on it. Some other answers uses <code>ArrayList</code>, and that's fine. But how about implement our own? It is not hard:</p>\n\n<pre><code>private static &lt;T&gt; T[] addAll(final T[] f, final T...o){\n    return new AbstractList&lt;T&gt;(){\n\n        @Override\n        public T get(int i) {\n            return i&gt;=f.length ? o[i - f.length] : f[i];\n        }\n\n        @Override\n        public int size() {\n            return f.length + o.length;\n        }\n\n    }.toArray(f);\n}\n</code></pre>\n\n<p>I believe the above is equivalent to solutions that uses <code>System.arraycopy</code>. However I think this one has its own beauty. </p>\n"},{"tags":[],"owner":{"account_id":2928145,"reputation":31,"user_id":2509077,"display_name":"Frimousse"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1371819552,"creation_date":1371819552,"answer_id":17235840,"question_id":80476,"body_markdown":"    String [] both = new ArrayList&lt;String&gt;(){{addAll(Arrays.asList(first)); addAll(Arrays.asList(second));}}.toArray(new String[0]);","title":"How can I concatenate two arrays in Java?","body":"<pre><code>String [] both = new ArrayList&lt;String&gt;(){{addAll(Arrays.asList(first)); addAll(Arrays.asList(second));}}.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1121439,"reputation":3734,"user_id":1109689,"accept_rate":67,"display_name":"h-rai"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1513827434,"creation_date":1377066429,"answer_id":18350255,"question_id":80476,"body_markdown":"    ArrayList&lt;String&gt; both = new ArrayList(Arrays.asList(first));\r\n    both.addAll(Arrays.asList(second));\r\n    \r\n    both.toArray(new String[0]);\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<pre><code>ArrayList&lt;String&gt; both = new ArrayList(Arrays.asList(first));\nboth.addAll(Arrays.asList(second));\n\nboth.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3308427,"reputation":36,"user_id":2782483,"display_name":"SuperCamp"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1383073210,"creation_date":1383073210,"answer_id":19666913,"question_id":80476,"body_markdown":"\r\nShould do the trick. This is assuming String[] first and String[] second\r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(first));\r\n    myList.addAll(new ArrayList&lt;String&gt;(Arrays.asList(second)));\r\n    String[] both = myList.toArray(new String[myList.size()]);","title":"How can I concatenate two arrays in Java?","body":"<p>Should do the trick. This is assuming String[] first and String[] second</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;(Arrays.asList(first));\nmyList.addAll(new ArrayList&lt;String&gt;(Arrays.asList(second)));\nString[] both = myList.toArray(new String[myList.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3786284,"reputation":161,"user_id":3144146,"display_name":"Ricardo Vallejo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1388753116,"creation_date":1388751668,"answer_id":20903551,"question_id":80476,"body_markdown":"This one works only with int but the idea is generic\r\n\r\n    public static int[] junta(int[] v, int[] w) {\r\n    \t\t\r\n    int[] junta = new int[v.length + w.length];\r\n    \t\t\r\n    for (int i = 0; i &lt; v.length; i++) {\t\t\t\r\n        junta[i] = v[i];\r\n    }\r\n    \r\n    for (int j = v.length; j &lt; junta.length; j++) {\r\n        junta[j] = w[j - v.length];\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>This one works only with int but the idea is generic</p>\n\n<pre><code>public static int[] junta(int[] v, int[] w) {\n\nint[] junta = new int[v.length + w.length];\n\nfor (int i = 0; i &lt; v.length; i++) {            \n    junta[i] = v[i];\n}\n\nfor (int j = v.length; j &lt; junta.length; j++) {\n    junta[j] = w[j - v.length];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":3,"up_vote_count":589,"is_accepted":false,"score":586,"last_activity_date":1576574612,"creation_date":1398037932,"answer_id":23188881,"question_id":80476,"body_markdown":"Using [`Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) in Java 8:\r\n\r\n    String[] both = Stream.concat(Arrays.stream(a), Arrays.stream(b))\r\n                          .toArray(String[]::new);\r\n\r\nOr like this, using `flatMap`:\r\n\r\n    String[] both = Stream.of(a, b).flatMap(Stream::of)\r\n                          .toArray(String[]::new);\r\n\r\nTo do this for a generic type you have to use reflection:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nT[] both = Stream.concat(Arrays.stream(a), Arrays.stream(b)).toArray(\r\n\tsize -&gt; (T[]) Array.newInstance(a.getClass().getComponentType(), size));\r\n```","title":"How can I concatenate two arrays in Java?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a> in Java 8:</p>\n\n<pre><code>String[] both = Stream.concat(Arrays.stream(a), Arrays.stream(b))\n                      .toArray(String[]::new);\n</code></pre>\n\n<p>Or like this, using <code>flatMap</code>:</p>\n\n<pre><code>String[] both = Stream.of(a, b).flatMap(Stream::of)\n                      .toArray(String[]::new);\n</code></pre>\n\n<p>To do this for a generic type you have to use reflection:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nT[] both = Stream.concat(Arrays.stream(a), Arrays.stream(b)).toArray(\n    size -&gt; (T[]) Array.newInstance(a.getClass().getComponentType(), size));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406689312,"creation_date":1406674981,"answer_id":25026341,"question_id":80476,"body_markdown":"I think the best solution with generics would be:\r\n\r\n    /* This for non primitive types */\r\n    public static &lt;T&gt; T[] concatenate (T[]... elements) {\r\n\r\n        T[] C = null;\r\n        for (T[] element: elements) {\r\n            if (element==null) continue;\r\n            if (C==null) C = (T[]) Array.newInstance(element.getClass().getComponentType(), element.length);\r\n            else C = resizeArray(C, C.length+element.length);\r\n\r\n            System.arraycopy(element, 0, C, C.length-element.length, element.length);\r\n        }\r\n\r\n        return C;\r\n    }\r\n\r\n    /**\r\n     * as far as i know, primitive types do not accept generics \r\n     * http://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\r\n     * for primitive types we could do something like this:\r\n     * */\r\n    public static int[] concatenate (int[]... elements){\r\n        int[] C = null;\r\n        for (int[] element: elements) {\r\n            if (element==null) continue;\r\n            if (C==null) C = new int[element.length];\r\n            else C = resizeArray(C, C.length+element.length);\r\n\r\n            System.arraycopy(element, 0, C, C.length-element.length, element.length);\r\n        }\r\n        return C;\r\n    }\r\n\r\n    private static &lt;T&gt; T resizeArray (T array, int newSize) {\r\n        int oldSize =\r\n                java.lang.reflect.Array.getLength(array);\r\n        Class elementType =\r\n                array.getClass().getComponentType();\r\n        Object newArray =\r\n                java.lang.reflect.Array.newInstance(\r\n                        elementType, newSize);\r\n        int preserveLength = Math.min(oldSize, newSize);\r\n        if (preserveLength &gt; 0)\r\n            System.arraycopy(array, 0,\r\n                    newArray, 0, preserveLength);\r\n        return (T) newArray;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>I think the best solution with generics would be:</p>\n\n<pre><code>/* This for non primitive types */\npublic static &lt;T&gt; T[] concatenate (T[]... elements) {\n\n    T[] C = null;\n    for (T[] element: elements) {\n        if (element==null) continue;\n        if (C==null) C = (T[]) Array.newInstance(element.getClass().getComponentType(), element.length);\n        else C = resizeArray(C, C.length+element.length);\n\n        System.arraycopy(element, 0, C, C.length-element.length, element.length);\n    }\n\n    return C;\n}\n\n/**\n * as far as i know, primitive types do not accept generics \n * http://stackoverflow.com/questions/2721546/why-dont-java-generics-support-primitive-types\n * for primitive types we could do something like this:\n * */\npublic static int[] concatenate (int[]... elements){\n    int[] C = null;\n    for (int[] element: elements) {\n        if (element==null) continue;\n        if (C==null) C = new int[element.length];\n        else C = resizeArray(C, C.length+element.length);\n\n        System.arraycopy(element, 0, C, C.length-element.length, element.length);\n    }\n    return C;\n}\n\nprivate static &lt;T&gt; T resizeArray (T array, int newSize) {\n    int oldSize =\n            java.lang.reflect.Array.getLength(array);\n    Class elementType =\n            array.getClass().getComponentType();\n    Object newArray =\n            java.lang.reflect.Array.newInstance(\n                    elementType, newSize);\n    int preserveLength = Math.min(oldSize, newSize);\n    if (preserveLength &gt; 0)\n        System.arraycopy(array, 0,\n                newArray, 0, preserveLength);\n    return (T) newArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5187918,"reputation":71,"user_id":4151755,"display_name":"cl&#233;ment francomme"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1423697738,"creation_date":1423697738,"answer_id":28466684,"question_id":80476,"body_markdown":"How about :\r\n\r\n    public String[] combineArray (String[] ... strings) {\r\n        List&lt;String&gt; tmpList = new ArrayList&lt;String&gt;();\r\n        for (int i = 0; i &lt; strings.length; i++)\r\n            tmpList.addAll(Arrays.asList(strings[i]));\r\n        return tmpList.toArray(new String[tmpList.size()]);\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>How about :</p>\n\n<pre><code>public String[] combineArray (String[] ... strings) {\n    List&lt;String&gt; tmpList = new ArrayList&lt;String&gt;();\n    for (int i = 0; i &lt; strings.length; i++)\n        tmpList.addAll(Arrays.asList(strings[i]));\n    return tmpList.toArray(new String[tmpList.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416038,"reputation":255,"user_id":791195,"accept_rate":22,"display_name":"George"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1444314454,"creation_date":1444314454,"answer_id":33018648,"question_id":80476,"body_markdown":"    public int[] mergeArrays(int [] a, int [] b) {\r\n\t\tint [] merged = new int[a.length + b.length];\r\n\t\tint i = 0, k = 0, l = a.length;\r\n\t\tint j = a.length &gt; b.length ? a.length : b.length;\r\n\t\twhile(i &lt; j) {\r\n\t\t\tif(k &lt; a.length) {\r\n\t\t\t\tmerged[k] = a[k];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t\tif((l - a.length) &lt; b.length) {\r\n\t\t\t\tmerged[l] = b[l - a.length];\r\n\t\t\t\tl++;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn merged;\r\n\t}","title":"How can I concatenate two arrays in Java?","body":"<pre><code>public int[] mergeArrays(int [] a, int [] b) {\n    int [] merged = new int[a.length + b.length];\n    int i = 0, k = 0, l = a.length;\n    int j = a.length &gt; b.length ? a.length : b.length;\n    while(i &lt; j) {\n        if(k &lt; a.length) {\n            merged[k] = a[k];\n            k++;\n        }\n        if((l - a.length) &lt; b.length) {\n            merged[l] = b[l - a.length];\n            l++;\n        }\n        i++;\n    }\n    return merged;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6320172,"reputation":670,"user_id":4908555,"accept_rate":83,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1648392123,"creation_date":1447526736,"answer_id":33711992,"question_id":80476,"body_markdown":"You could try converting it into a `ArrayList` and use the `addAll` method then convert back to an array.\r\n\r\n    List list = new ArrayList(Arrays.asList(first));\r\n      list.addAll(Arrays.asList(second));\r\n      String[] both = list.toArray();","title":"How can I concatenate two arrays in Java?","body":"<p>You could try converting it into a <code>ArrayList</code> and use the <code>addAll</code> method then convert back to an array.</p>\n<pre><code>List list = new ArrayList(Arrays.asList(first));\n  list.addAll(Arrays.asList(second));\n  String[] both = list.toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2158083,"reputation":704,"user_id":1912860,"accept_rate":82,"display_name":"Vaseph"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1455108488,"creation_date":1455108488,"answer_id":35315750,"question_id":80476,"body_markdown":"Another way with Java8 using Stream\r\n\r\n    \r\n      public String[] concatString(String[] a, String[] b){ \r\n        Stream&lt;String&gt; streamA = Arrays.stream(a);\r\n        Stream&lt;String&gt; streamB = Arrays.stream(b);\r\n        return Stream.concat(streamA, streamB).toArray(String[]::new); \r\n      }","title":"How can I concatenate two arrays in Java?","body":"<p>Another way with Java8 using Stream</p>\n\n<pre><code>  public String[] concatString(String[] a, String[] b){ \n    Stream&lt;String&gt; streamA = Arrays.stream(a);\n    Stream&lt;String&gt; streamB = Arrays.stream(b);\n    return Stream.concat(streamA, streamB).toArray(String[]::new); \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7417054,"reputation":140,"user_id":5642475,"display_name":"Kamil Tomasz Jarmusik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456524596,"creation_date":1456463925,"answer_id":35644035,"question_id":80476,"body_markdown":"    public static String[] toArray(String[]... object){\r\n        List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        for (String[] i : object) {\r\n            list.addAll(Arrays.asList(i));\r\n        }\r\n        return list.toArray(new String[list.size()]);\r\n    }\r\n","title":"How can I concatenate two arrays in Java?","body":"<pre><code>public static String[] toArray(String[]... object){\n    List&lt;String&gt; list=new ArrayList&lt;&gt;();\n    for (String[] i : object) {\n        list.addAll(Arrays.asList(i));\n    }\n    return list.toArray(new String[list.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8766252,"reputation":113,"user_id":6554496,"display_name":"obwan02"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494337510,"creation_date":1468893315,"answer_id":38448403,"question_id":80476,"body_markdown":"    Object[] mixArray(String[] a, String[] b)\r\n    String[] s1 = a;\r\n    String[] s2 = b;\r\n    Object[] result;\r\n    List&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\n    for (int i = 0; i &lt; s1.length; i++)\r\n    {\r\n    \tinput.add(s1[i]);\r\n    }\r\n    for (int i = 0; i &lt; s2.length; i++)\r\n    {\r\n    \tinput.add(s2[i]);\r\n    }\r\n    result = input.toArray();\r\n    return result;","title":"How can I concatenate two arrays in Java?","body":"<pre><code>Object[] mixArray(String[] a, String[] b)\nString[] s1 = a;\nString[] s2 = b;\nObject[] result;\nList&lt;String&gt; input = new ArrayList&lt;String&gt;();\nfor (int i = 0; i &lt; s1.length; i++)\n{\n    input.add(s1[i]);\n}\nfor (int i = 0; i &lt; s2.length; i++)\n{\n    input.add(s2[i]);\n}\nresult = input.toArray();\nreturn result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1473031938,"creation_date":1473029650,"answer_id":39322165,"question_id":80476,"body_markdown":"Every single answer is copying data and creating a new array. This is not strictly necessary and is definitely NOT what you want to do if your arrays are reasonably large. Java creators already knew that array copies are wasteful and that is why they provided us System.arrayCopy() to do those outside Java when we have to.\r\n\r\nInstead of copying your data around, consider leaving it in place and draw from it where it lies. Copying data locations just because the programmer would like to organize them is not always sensible.\r\n\r\n    // I have arrayA and arrayB; would like to treat them as concatenated\r\n    // but leave my damn bytes where they are!\r\n    Object accessElement ( int index ) {\r\n         if ( index &lt; 0 ) throw new ArrayIndexOutOfBoundsException(...);\r\n         // is reading from the head part?\r\n         if ( index &lt; arrayA.length )\r\n              return arrayA[ index ];\r\n         // is reading from the tail part?\r\n         if ( index &lt; ( arrayA.length + arrayB.length ) )\r\n              return arrayB[ index - arrayA.length ];\r\n         throw new ArrayIndexOutOfBoundsException(...); // index too large\r\n    }\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>Every single answer is copying data and creating a new array. This is not strictly necessary and is definitely NOT what you want to do if your arrays are reasonably large. Java creators already knew that array copies are wasteful and that is why they provided us System.arrayCopy() to do those outside Java when we have to.</p>\n\n<p>Instead of copying your data around, consider leaving it in place and draw from it where it lies. Copying data locations just because the programmer would like to organize them is not always sensible.</p>\n\n<pre><code>// I have arrayA and arrayB; would like to treat them as concatenated\n// but leave my damn bytes where they are!\nObject accessElement ( int index ) {\n     if ( index &lt; 0 ) throw new ArrayIndexOutOfBoundsException(...);\n     // is reading from the head part?\n     if ( index &lt; arrayA.length )\n          return arrayA[ index ];\n     // is reading from the tail part?\n     if ( index &lt; ( arrayA.length + arrayB.length ) )\n          return arrayB[ index - arrayA.length ];\n     throw new ArrayIndexOutOfBoundsException(...); // index too large\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1673926675,"creation_date":1480375224,"answer_id":40855217,"question_id":80476,"body_markdown":"Here is the code by [abacus-common][1].\r\n\r\n    \r\n    String[] a = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n    String[] b = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\r\n    String[] c = N.concat(a, b); // c = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\r\n\r\n    // N.concat(...) is null-safety.\r\n    a = null;\r\n    c = N.concat(a, b); // c = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How can I concatenate two arrays in Java?","body":"<p>Here is the code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>.</p>\n<pre><code>String[] a = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\nString[] b = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;};\nString[] c = N.concat(a, b); // c = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\n\n// N.concat(...) is null-safety.\na = null;\nc = N.concat(a, b); // c = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9786786,"reputation":899,"user_id":7252861,"display_name":"Yashovardhan99"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1481013566,"creation_date":1481013566,"answer_id":40991067,"question_id":80476,"body_markdown":"        void f(String[] first, String[] second) {\r\n        String[] both = new String[first.length+second.length];\r\n        for(int i=0;i&lt;first.length;i++)\r\n            both[i] = first[i];\r\n        for(int i=0;i&lt;second.length;i++)\r\n            both[first.length + i] = second[i];\r\n    }\r\nThis one works without knowledge of any other classes/libraries etc.\r\nIt works for any data type. Just replace `String` with anything like `int`,`double` or `char`.\r\nIt works quite efficiently.","title":"How can I concatenate two arrays in Java?","body":"<pre><code>    void f(String[] first, String[] second) {\n    String[] both = new String[first.length+second.length];\n    for(int i=0;i&lt;first.length;i++)\n        both[i] = first[i];\n    for(int i=0;i&lt;second.length;i++)\n        both[first.length + i] = second[i];\n}\n</code></pre>\n\n<p>This one works without knowledge of any other classes/libraries etc.\nIt works for any data type. Just replace <code>String</code> with anything like <code>int</code>,<code>double</code> or <code>char</code>.\nIt works quite efficiently.</p>\n"},{"tags":[],"owner":{"account_id":9674049,"reputation":726,"user_id":7178104,"display_name":"Raj Rusia"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1486981026,"creation_date":1486981026,"answer_id":42201601,"question_id":80476,"body_markdown":"If you use this way so you no need to import any third party class.\r\n\r\nIf you want concatenate `String`\r\n\r\n**Sample code for concate two String Array**\r\n\r\n    public static String[] combineString(String[] first, String[] second){\r\n            int length = first.length + second.length;\r\n            String[] result = new String[length];\r\n            System.arraycopy(first, 0, result, 0, first.length);\r\n            System.arraycopy(second, 0, result, first.length, second.length);\r\n            return result;\r\n        }\r\n\r\nIf you want concatenate `Int`\r\n\r\n**Sample code for concate two Integer Array**\r\n\r\n    public static int[] combineInt(int[] a, int[] b){\r\n            int length = a.length + b.length;\r\n            int[] result = new int[length];\r\n            System.arraycopy(a, 0, result, 0, a.length);\r\n            System.arraycopy(b, 0, result, a.length, b.length);\r\n            return result;\r\n        }\r\n\r\n**Here is Main method**\r\n\r\n        public static void main(String[] args) {\r\n    \r\n        \t\tString [] first = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;};\r\n        \t    String [] second = {&quot;d&quot;, &quot;e&quot;};\r\n        \t    \r\n                String [] joined = combineString(first, second);\r\n        \t    System.out.println(&quot;concatenated String array : &quot; + Arrays.toString(joined));\r\n    \r\n        \t    int[] array1 = {101,102,103,104};\r\n                int[] array2 = {105,106,107,108};\r\n                int[] concatenateInt = combineInt(array1, array2);\r\n                \r\n                System.out.println(&quot;concatenated Int array : &quot; + Arrays.toString(concatenateInt));\r\n        \t    \r\n        \t}\r\n        }  \r\n\r\nWe can use this way also.\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>If you use this way so you no need to import any third party class.</p>\n\n<p>If you want concatenate <code>String</code></p>\n\n<p><strong>Sample code for concate two String Array</strong></p>\n\n<pre><code>public static String[] combineString(String[] first, String[] second){\n        int length = first.length + second.length;\n        String[] result = new String[length];\n        System.arraycopy(first, 0, result, 0, first.length);\n        System.arraycopy(second, 0, result, first.length, second.length);\n        return result;\n    }\n</code></pre>\n\n<p>If you want concatenate <code>Int</code></p>\n\n<p><strong>Sample code for concate two Integer Array</strong></p>\n\n<pre><code>public static int[] combineInt(int[] a, int[] b){\n        int length = a.length + b.length;\n        int[] result = new int[length];\n        System.arraycopy(a, 0, result, 0, a.length);\n        System.arraycopy(b, 0, result, a.length, b.length);\n        return result;\n    }\n</code></pre>\n\n<p><strong>Here is Main method</strong></p>\n\n<pre><code>    public static void main(String[] args) {\n\n            String [] first = {\"a\", \"b\", \"c\"};\n            String [] second = {\"d\", \"e\"};\n\n            String [] joined = combineString(first, second);\n            System.out.println(\"concatenated String array : \" + Arrays.toString(joined));\n\n            int[] array1 = {101,102,103,104};\n            int[] array2 = {105,106,107,108};\n            int[] concatenateInt = combineInt(array1, array2);\n\n            System.out.println(\"concatenated Int array : \" + Arrays.toString(concatenateInt));\n\n        }\n    }  \n</code></pre>\n\n<p>We can use this way also.</p>\n"},{"tags":[],"owner":{"account_id":1034830,"reputation":7286,"user_id":1042409,"display_name":"c-chavez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507026701,"creation_date":1507026701,"answer_id":46542530,"question_id":80476,"body_markdown":"Yet another answer for algorithm lovers:\r\n\r\n    public static String[] mergeArrays(String[] array1, String[] array2) {\r\n        int totalSize = array1.length + array2.length; // Get total size\r\n        String[] merged = new String[totalSize]; // Create new array\r\n        // Loop over the total size\r\n        for (int i = 0; i &lt; totalSize; i++) {\r\n            if (i &lt; array1.length) // If the current position is less than the length of the first array, take value from first array\r\n                merged[i] = array1[i]; // Position in first array is the current position\r\n\r\n            else // If current position is equal or greater than the first array, take value from second array.\r\n                merged[i] = array2[i - array1.length]; // Position in second array is current position minus length of first array.\r\n        }\r\n\r\n        return merged;\r\n\r\nUsage:\r\n\r\n    String[] array1str = new String[]{&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}; \r\n    String[] array2str = new String[]{&quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;i&quot;};\r\n    String[] listTotalstr = mergeArrays(array1str, array2str);\r\n    System.out.println(Arrays.toString(listTotalstr));\r\n\r\nResult:\r\n\r\n    [a, b, c, d, e, f, g, h, i]\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>Yet another answer for algorithm lovers:</p>\n\n<pre><code>public static String[] mergeArrays(String[] array1, String[] array2) {\n    int totalSize = array1.length + array2.length; // Get total size\n    String[] merged = new String[totalSize]; // Create new array\n    // Loop over the total size\n    for (int i = 0; i &lt; totalSize; i++) {\n        if (i &lt; array1.length) // If the current position is less than the length of the first array, take value from first array\n            merged[i] = array1[i]; // Position in first array is the current position\n\n        else // If current position is equal or greater than the first array, take value from second array.\n            merged[i] = array2[i - array1.length]; // Position in second array is current position minus length of first array.\n    }\n\n    return merged;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>String[] array1str = new String[]{\"a\", \"b\", \"c\", \"d\"}; \nString[] array2str = new String[]{\"e\", \"f\", \"g\", \"h\", \"i\"};\nString[] listTotalstr = mergeArrays(array1str, array2str);\nSystem.out.println(Arrays.toString(listTotalstr));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[a, b, c, d, e, f, g, h, i]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6157632,"reputation":424,"user_id":4800139,"accept_rate":75,"display_name":"Hakim"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1509099722,"creation_date":1509099364,"answer_id":46972713,"question_id":80476,"body_markdown":"You can try this method which concatenates multiple arrays:\r\n\r\n    public static &lt;T&gt; T[] concatMultipleArrays(T[]... arrays)\r\n    {\r\n       int length = 0;\r\n       for (T[] array : arrays)\r\n       {\r\n          length += array.length;\r\n       }\r\n       T[] result = (T[]) Array.newInstance(arrays.getClass().getComponentType(), length) ;\r\n\r\n       length = 0;\r\n       for (int i = 0; i &lt; arrays.length; i++)\r\n       {\r\n          System.arraycopy(arrays[i], 0, result, length, arrays[i].length);\r\n          length += arrays[i].length;\r\n       }\r\n\r\n       return result;\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>You can try this method which concatenates multiple arrays:</p>\n\n<pre><code>public static &lt;T&gt; T[] concatMultipleArrays(T[]... arrays)\n{\n   int length = 0;\n   for (T[] array : arrays)\n   {\n      length += array.length;\n   }\n   T[] result = (T[]) Array.newInstance(arrays.getClass().getComponentType(), length) ;\n\n   length = 0;\n   for (int i = 0; i &lt; arrays.length; i++)\n   {\n      System.arraycopy(arrays[i], 0, result, length, arrays[i].length);\n      length += arrays[i].length;\n   }\n\n   return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":176,"is_accepted":false,"score":176,"last_activity_date":1547723020,"creation_date":1523441869,"answer_id":49772469,"question_id":80476,"body_markdown":"You can append the two arrays in two lines of code.\r\n\r\n\tString[] both = Arrays.copyOf(first, first.length + second.length);\r\n\tSystem.arraycopy(second, 0, both, first.length, second.length);\r\n\r\nThis is a fast and efficient solution and will work for primitive types as well as the two methods involved are overloaded.\r\n\r\nYou should avoid solutions involving ArrayLists, streams, etc as these will need to allocate temporary memory for no useful purpose.\r\n\r\nYou should avoid `for` loops for large arrays as these are not efficient. The built in methods use block-copy functions that are extremely fast.","title":"How can I concatenate two arrays in Java?","body":"<p>You can append the two arrays in two lines of code.</p>\n\n<pre><code>String[] both = Arrays.copyOf(first, first.length + second.length);\nSystem.arraycopy(second, 0, both, first.length, second.length);\n</code></pre>\n\n<p>This is a fast and efficient solution and will work for primitive types as well as the two methods involved are overloaded.</p>\n\n<p>You should avoid solutions involving ArrayLists, streams, etc as these will need to allocate temporary memory for no useful purpose.</p>\n\n<p>You should avoid <code>for</code> loops for large arrays as these are not efficient. The built in methods use block-copy functions that are extremely fast.</p>\n"},{"tags":[],"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1523901546,"creation_date":1523526817,"answer_id":49793485,"question_id":80476,"body_markdown":"In Java 8 \r\n\r\n    public String[] concat(String[] arr1, String[] arr2){\r\n        Stream&lt;String&gt; stream1 = Stream.of(arr1);\r\n        Stream&lt;String&gt; stream2 = Stream.of(arr2);\r\n        Stream&lt;String&gt; stream = Stream.concat(stream1, stream2);\r\n        return Arrays.toString(stream.toArray(String[]::new));\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>In Java 8 </p>\n\n<pre><code>public String[] concat(String[] arr1, String[] arr2){\n    Stream&lt;String&gt; stream1 = Stream.of(arr1);\n    Stream&lt;String&gt; stream2 = Stream.of(arr2);\n    Stream&lt;String&gt; stream = Stream.concat(stream1, stream2);\n    return Arrays.toString(stream.toArray(String[]::new));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6665631,"reputation":1638,"user_id":5143356,"accept_rate":64,"display_name":"BrownRecluse"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1537218158,"creation_date":1537218158,"answer_id":52375659,"question_id":80476,"body_markdown":"Non Java 8 solution:\r\n\r\n    public static int[] combineArrays(int[] a, int[] b) {\r\n            int[] c = new int[a.length + b.length];\r\n    \r\n            for (int i = 0; i &lt; a.length; i++) {\r\n                c[i] = a[i];\r\n            }\r\n    \r\n            for (int j = 0, k = a.length; j &lt; b.length; j++, k++) {\r\n                c[k] = b[j];\r\n            }\r\n    \r\n            return c;\r\n        }","title":"How can I concatenate two arrays in Java?","body":"<p>Non Java 8 solution:</p>\n\n<pre><code>public static int[] combineArrays(int[] a, int[] b) {\n        int[] c = new int[a.length + b.length];\n\n        for (int i = 0; i &lt; a.length; i++) {\n            c[i] = a[i];\n        }\n\n        for (int j = 0, k = a.length; j &lt; b.length; j++, k++) {\n            c[k] = b[j];\n        }\n\n        return c;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1419056,"reputation":5266,"user_id":1344070,"accept_rate":100,"display_name":"keisar"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1540301348,"creation_date":1540301348,"answer_id":52950353,"question_id":80476,"body_markdown":"Using Java 8+ streams you can write the following function:\r\n\r\n    private static String[] concatArrays(final String[]... arrays) {\r\n        return Arrays.stream(arrays)\r\n             .flatMap(Arrays::stream)\r\n             .toArray(String[]::new);\r\n    }\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>Using Java 8+ streams you can write the following function:</p>\n\n<pre><code>private static String[] concatArrays(final String[]... arrays) {\n    return Arrays.stream(arrays)\n         .flatMap(Arrays::stream)\n         .toArray(String[]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14632743,"reputation":73,"user_id":10567980,"display_name":"avigaild"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1540666353,"creation_date":1540666353,"answer_id":53025243,"question_id":80476,"body_markdown":"This should be one-liner.\r\n\r\n    public String [] concatenate (final String array1[], final String array2[])\r\n    {\r\n        return Stream.concat(Stream.of(array1), Stream.of(array2)).toArray(String[]::new);\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>This should be one-liner.</p>\n\n<pre><code>public String [] concatenate (final String array1[], final String array2[])\n{\n    return Stream.concat(Stream.of(array1), Stream.of(array2)).toArray(String[]::new);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3236292,"reputation":896,"user_id":2730420,"display_name":"beaudet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1541545374,"creation_date":1541545374,"answer_id":53181401,"question_id":80476,"body_markdown":"A generic static version that uses the high performing System.arraycopy without requiring a @SuppressWarnings annotation:\r\n\r\n    public static &lt;T&gt; T[] arrayConcat(T[] a, T[] b) {\r\n\t\tT[] both = Arrays.copyOf(a, a.length + b.length);\r\n\t\tSystem.arraycopy(b, 0, both, a.length, b.length);\r\n\t\treturn both;\r\n\t}\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>A generic static version that uses the high performing System.arraycopy without requiring a @SuppressWarnings annotation:</p>\n\n<pre><code>public static &lt;T&gt; T[] arrayConcat(T[] a, T[] b) {\n    T[] both = Arrays.copyOf(a, a.length + b.length);\n    System.arraycopy(b, 0, both, a.length, b.length);\n    return both;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553401363,"creation_date":1553401363,"answer_id":55320708,"question_id":80476,"body_markdown":"This is probably the only generic and type-safe way:\r\n\r\n    public class ArrayConcatenator&lt;T&gt; {\r\n        private final IntFunction&lt;T[]&gt; generator;\r\n\r\n        private ArrayConcatenator(IntFunction&lt;T[]&gt; generator) {\r\n            this.generator = generator;\r\n        }\r\n\r\n        public static &lt;T&gt; ArrayConcatenator&lt;T&gt; concat(IntFunction&lt;T[]&gt; generator) {\r\n            return new ArrayConcatenator&lt;&gt;(generator);\r\n        }\r\n\r\n        public T[] apply(T[] array1, T[] array2) {\r\n            T[] array = generator.apply(array1.length + array2.length);\r\n            System.arraycopy(array1, 0, array, 0, array1.length);\r\n            System.arraycopy(array2, 0, array, array1.length, array2.length);\r\n            return array;\r\n        }\r\n    }\r\n\r\nAnd the usage is quite concise:\r\n\r\n    Integer[] array1 = { 1, 2, 3 };\r\n    Double[] array2 = { 4.0, 5.0, 6.0 };\r\n    Number[] array = concat(Number[]::new).apply(array1, array2);\r\n\r\n(requires static import)\r\n\r\nInvalid array types are rejected:\r\n\r\n    concat(String[]::new).apply(array1, array2); // error\r\n    concat(Integer[]::new).apply(array1, array2); // error","title":"How can I concatenate two arrays in Java?","body":"<p>This is probably the only generic and type-safe way:</p>\n\n<pre><code>public class ArrayConcatenator&lt;T&gt; {\n    private final IntFunction&lt;T[]&gt; generator;\n\n    private ArrayConcatenator(IntFunction&lt;T[]&gt; generator) {\n        this.generator = generator;\n    }\n\n    public static &lt;T&gt; ArrayConcatenator&lt;T&gt; concat(IntFunction&lt;T[]&gt; generator) {\n        return new ArrayConcatenator&lt;&gt;(generator);\n    }\n\n    public T[] apply(T[] array1, T[] array2) {\n        T[] array = generator.apply(array1.length + array2.length);\n        System.arraycopy(array1, 0, array, 0, array1.length);\n        System.arraycopy(array2, 0, array, array1.length, array2.length);\n        return array;\n    }\n}\n</code></pre>\n\n<p>And the usage is quite concise:</p>\n\n<pre><code>Integer[] array1 = { 1, 2, 3 };\nDouble[] array2 = { 4.0, 5.0, 6.0 };\nNumber[] array = concat(Number[]::new).apply(array1, array2);\n</code></pre>\n\n<p>(requires static import)</p>\n\n<p>Invalid array types are rejected:</p>\n\n<pre><code>concat(String[]::new).apply(array1, array2); // error\nconcat(Integer[]::new).apply(array1, array2); // error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572287186,"creation_date":1572250527,"answer_id":58587509,"question_id":80476,"body_markdown":"_concatenates a series of arrays compact, fast and type-safe with lambda_\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; T[] concat( T[]... arrays ) {\r\n      return( Stream.of( arrays ).reduce( ( arr1, arr2 ) -&gt; {\r\n          T[] rslt = Arrays.copyOf( arr1, arr1.length + arr2.length );\r\n          System.arraycopy( arr2, 0, rslt, arr1.length, arr2.length );\r\n          return( rslt );\r\n        } ).orElse( null ) );\r\n    };\r\n\r\nreturns `null` when called without argument&lt;br /&gt;\r\n\r\neg. example with 3 arrays:\r\n\r\n    String[] a = new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; };\r\n    String[] b = new String[] { &quot;e&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot; };\r\n    String[] c = new String[] { &quot;i&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot; };\r\n    \r\n    concat( a, b, c );  // [a, b, c, d, e, f, g, h, i, j, k, l]\r\n\r\n&lt;br /&gt;_&quot;…probably the only generic and type-safe way&quot;_ – adapted:\r\n\r\n    Number[] array1 = { 1, 2, 3 };\r\n    Number[] array2 = { 4.0, 5.0, 6.0 };\r\n    Number[] array = concat( array1, array2 );  // [1, 2, 3, 4.0, 5.0, 6.0]\r\n","title":"How can I concatenate two arrays in Java?","body":"<p><em>concatenates a series of arrays compact, fast and type-safe with lambda</em></p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; T[] concat( T[]... arrays ) {\n  return( Stream.of( arrays ).reduce( ( arr1, arr2 ) -&gt; {\n      T[] rslt = Arrays.copyOf( arr1, arr1.length + arr2.length );\n      System.arraycopy( arr2, 0, rslt, arr1.length, arr2.length );\n      return( rslt );\n    } ).orElse( null ) );\n};\n</code></pre>\n\n<p>returns <code>null</code> when called without argument<br /></p>\n\n<p>eg. example with 3 arrays:</p>\n\n<pre><code>String[] a = new String[] { \"a\", \"b\", \"c\", \"d\" };\nString[] b = new String[] { \"e\", \"f\", \"g\", \"h\" };\nString[] c = new String[] { \"i\", \"j\", \"k\", \"l\" };\n\nconcat( a, b, c );  // [a, b, c, d, e, f, g, h, i, j, k, l]\n</code></pre>\n\n<p><br /><em>\"…probably the only generic and type-safe way\"</em> – adapted:</p>\n\n<pre><code>Number[] array1 = { 1, 2, 3 };\nNumber[] array2 = { 4.0, 5.0, 6.0 };\nNumber[] array = concat( array1, array2 );  // [1, 2, 3, 4.0, 5.0, 6.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580565861,"creation_date":1580565160,"answer_id":60017520,"question_id":80476,"body_markdown":"Just wanted to add, you can use `System.arraycopy` too:\r\n\r\n    import static java.lang.System.out;\r\n    import static java.lang.System.arraycopy;\r\n    import java.lang.reflect.Array;\r\n    class Playground {\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt;T[] combineArrays(T[] a1, T[] a2) {\r\n            T[] result = (T[]) Array.newInstance(a1.getClass().getComponentType(), a1.length+a2.length);\r\n            arraycopy(a1,0,result,0,a1.length);\r\n            arraycopy(a2,0,result,a1.length,a2.length);\r\n            return result;\r\n        }\r\n        public static void main(String[ ] args) {\r\n            String monthsString = &quot;JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC&quot;;\r\n            String[] months = monthsString.split(&quot;(?&lt;=\\\\G.{3})&quot;);\r\n            String daysString = &quot;SUNMONTUEWEDTHUFRISAT&quot;;\r\n    \t\tString[] days = daysString.split(&quot;(?&lt;=\\\\G.{3})&quot;);\r\n            for (String m : months) {\r\n                out.println(m);\r\n            }\r\n            out.println(&quot;===&quot;);\r\n             for (String d : days) {\r\n                out.println(d);\r\n            }\r\n            out.println(&quot;===&quot;);\r\n            String[] results = combineArrays(months, days);\r\n            for (String r : results) {\r\n                out.println(r);\r\n            }\r\n            out.println(&quot;===&quot;);\r\n        }\r\n    }","title":"How can I concatenate two arrays in Java?","body":"<p>Just wanted to add, you can use <code>System.arraycopy</code> too:</p>\n\n<pre><code>import static java.lang.System.out;\nimport static java.lang.System.arraycopy;\nimport java.lang.reflect.Array;\nclass Playground {\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt;T[] combineArrays(T[] a1, T[] a2) {\n        T[] result = (T[]) Array.newInstance(a1.getClass().getComponentType(), a1.length+a2.length);\n        arraycopy(a1,0,result,0,a1.length);\n        arraycopy(a2,0,result,a1.length,a2.length);\n        return result;\n    }\n    public static void main(String[ ] args) {\n        String monthsString = \"JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC\";\n        String[] months = monthsString.split(\"(?&lt;=\\\\G.{3})\");\n        String daysString = \"SUNMONTUEWEDTHUFRISAT\";\n        String[] days = daysString.split(\"(?&lt;=\\\\G.{3})\");\n        for (String m : months) {\n            out.println(m);\n        }\n        out.println(\"===\");\n         for (String d : days) {\n            out.println(d);\n        }\n        out.println(\"===\");\n        String[] results = combineArrays(months, days);\n        for (String r : results) {\n            out.println(r);\n        }\n        out.println(\"===\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9195024,"reputation":823,"user_id":6834039,"display_name":"Areeha"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1581512066,"creation_date":1581512066,"answer_id":60188847,"question_id":80476,"body_markdown":"Here is what worked for me:\r\n    \r\n\r\n    String[] data=null;\r\n    String[] data2=null;\r\n    ArrayList&lt;String&gt; data1 = new ArrayList&lt;String&gt;();\r\n    for(int i=0; i&lt;2;i++) {\r\n       data2 = input.readLine().split(&quot;,&quot;);\r\n       data1.addAll(Arrays.asList(data2));\r\n       data= data1.toArray(new String[data1.size()]);\r\n       }","title":"How can I concatenate two arrays in Java?","body":"<p>Here is what worked for me:</p>\n\n<pre><code>String[] data=null;\nString[] data2=null;\nArrayList&lt;String&gt; data1 = new ArrayList&lt;String&gt;();\nfor(int i=0; i&lt;2;i++) {\n   data2 = input.readLine().split(\",\");\n   data1.addAll(Arrays.asList(data2));\n   data= data1.toArray(new String[data1.size()]);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1831862,"reputation":930,"user_id":1663094,"accept_rate":0,"display_name":"Oleksandr Tsurika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609189109,"creation_date":1609189109,"answer_id":65484015,"question_id":80476,"body_markdown":"I use next method to concatenate any number of arrays of the same type using java 8:\r\n\r\n    public static &lt;G&gt; G[] concatenate(IntFunction&lt;G[]&gt; generator, G[] ... arrays) {\r\n        int len = arrays.length;\r\n        if (len == 0) {\r\n            return generator.apply(0);\r\n        } else if (len == 1) {\r\n            return arrays[0];\r\n        }\r\n        int pos = 0;\r\n        Stream&lt;G&gt; result = Stream.concat(Arrays.stream(arrays[pos]), Arrays.stream(arrays[++pos]));\r\n        while (pos &lt; len - 1) {\r\n            result = Stream.concat(result, Arrays.stream(arrays[++pos]));\r\n        }\r\n        return result.toArray(generator);\r\n    }\r\n\r\nusage:\r\n\r\n     concatenate(String[]::new, new String[]{&quot;one&quot;}, new String[]{&quot;two&quot;}, new String[]{&quot;three&quot;}) \r\n\r\nor\r\n\r\n     concatenate(Integer[]::new, new Integer[]{1}, new Integer[]{2}, new Integer[]{3})\r\n\r\n\r\n","title":"How can I concatenate two arrays in Java?","body":"<p>I use next method to concatenate any number of arrays of the same type using java 8:</p>\n<pre><code>public static &lt;G&gt; G[] concatenate(IntFunction&lt;G[]&gt; generator, G[] ... arrays) {\n    int len = arrays.length;\n    if (len == 0) {\n        return generator.apply(0);\n    } else if (len == 1) {\n        return arrays[0];\n    }\n    int pos = 0;\n    Stream&lt;G&gt; result = Stream.concat(Arrays.stream(arrays[pos]), Arrays.stream(arrays[++pos]));\n    while (pos &lt; len - 1) {\n        result = Stream.concat(result, Arrays.stream(arrays[++pos]));\n    }\n    return result.toArray(generator);\n}\n</code></pre>\n<p>usage:</p>\n<pre><code> concatenate(String[]::new, new String[]{&quot;one&quot;}, new String[]{&quot;two&quot;}, new String[]{&quot;three&quot;}) \n</code></pre>\n<p>or</p>\n<pre><code> concatenate(Integer[]::new, new Integer[]{1}, new Integer[]{2}, new Integer[]{3})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8428136,"reputation":434,"user_id":6324746,"display_name":"rizesky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610661044,"creation_date":1610661044,"answer_id":65727399,"question_id":80476,"body_markdown":"I just discovered this question, sorry very late, and saw a lot of answers that were too far away,\r\nusing certain libraries, using the feature of converting data from an array to a stream and back to an array and so on. But,\r\nwe can just use a simple loop and the problem is done\r\n\r\n```java\r\npublic String[] concat(String[] firstArr,String[] secondArr){\r\n        //if both is empty just return\r\n        if(firstArr.length==0 &amp;&amp; secondArr.length==0)return new String[0];\r\n\r\n        String[] res = new String[firstArr.length+secondArr.length];\r\n        int idxFromFirst=0;\r\n\r\n        //loop over firstArr, idxFromFirst will be used as starting offset for secondArr\r\n        for(int i=0;i&lt;firstArr.length;i++){\r\n            res[i] = firstArr[i];\r\n            idxFromFirst++;\r\n        }\r\n\r\n        //loop over secondArr, with starting offset idxFromFirst (the offset track from first array)\r\n        for(int i=0;i&lt;secondArr.length;i++){\r\n            res[idxFromFirst+i]=secondArr[i];\r\n        }\r\n\r\n        return res;\r\n    }\r\n```\r\nThats it all, right? he didnt say he care about the order or anything.\r\nThis should be the easiest way of it.","title":"How can I concatenate two arrays in Java?","body":"<p>I just discovered this question, sorry very late, and saw a lot of answers that were too far away,\nusing certain libraries, using the feature of converting data from an array to a stream and back to an array and so on. But,\nwe can just use a simple loop and the problem is done</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String[] concat(String[] firstArr,String[] secondArr){\n        //if both is empty just return\n        if(firstArr.length==0 &amp;&amp; secondArr.length==0)return new String[0];\n\n        String[] res = new String[firstArr.length+secondArr.length];\n        int idxFromFirst=0;\n\n        //loop over firstArr, idxFromFirst will be used as starting offset for secondArr\n        for(int i=0;i&lt;firstArr.length;i++){\n            res[i] = firstArr[i];\n            idxFromFirst++;\n        }\n\n        //loop over secondArr, with starting offset idxFromFirst (the offset track from first array)\n        for(int i=0;i&lt;secondArr.length;i++){\n            res[idxFromFirst+i]=secondArr[i];\n        }\n\n        return res;\n    }\n</code></pre>\n<p>Thats it all, right? he didnt say he care about the order or anything.\nThis should be the easiest way of it.</p>\n"},{"tags":[],"owner":{"account_id":8981716,"reputation":884,"user_id":6696702,"accept_rate":60,"display_name":"Lakshitha Kanchana"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1623601372,"creation_date":1623601372,"answer_id":67960387,"question_id":80476,"body_markdown":"I have a simple method. You don&#39;t want to waste your time to research complex java functions or libraries. But the return type should be String.\r\n\r\n```\r\nString[] f(String[] first, String[] second) {\r\n\r\n    // Variable declaration part\r\n    int len1 = first.length;\r\n    int len2 = second.length;\r\n    int lenNew = len1 + len2;\r\n    String[] both = new String[len1+len2];\r\n\r\n    // For loop to fill the array &quot;both&quot;\r\n    for (int i=0 ; i&lt;lenNew ; i++){\r\n        if (i&lt;len1) {\r\n            both[i] = first[i];\r\n        } else {\r\n            both[i] = second[i-len1];\r\n        }\r\n    }\r\n\r\n    return both;\r\n\r\n}\r\n```\r\n\r\nSo simple...","title":"How can I concatenate two arrays in Java?","body":"<p>I have a simple method. You don't want to waste your time to research complex java functions or libraries. But the return type should be String.</p>\n<pre><code>String[] f(String[] first, String[] second) {\n\n    // Variable declaration part\n    int len1 = first.length;\n    int len2 = second.length;\n    int lenNew = len1 + len2;\n    String[] both = new String[len1+len2];\n\n    // For loop to fill the array &quot;both&quot;\n    for (int i=0 ; i&lt;lenNew ; i++){\n        if (i&lt;len1) {\n            both[i] = first[i];\n        } else {\n            both[i] = second[i-len1];\n        }\n    }\n\n    return both;\n\n}\n</code></pre>\n<p>So simple...</p>\n"},{"tags":[],"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631508872,"creation_date":1631508872,"answer_id":69157437,"question_id":80476,"body_markdown":"Using Java Collections\r\n\r\nWell, Java doesn&#39;t provide a helper method to concatenate arrays. However, since Java 5, the Collections utility class has introduced an addAll(Collection&lt;? super T&gt; c, T… elements) method.\r\n\r\nWe can create a List object, then call this method twice to add the two arrays to the list. Finally, we convert the resulting List back to an array:\r\n\r\n```\r\nstatic &lt;T&gt; T[] concatWithCollection(T[] array1, T[] array2) {\r\n    List&lt;T&gt; resultList = new ArrayList&lt;&gt;(array1.length + array2.length);\r\n    Collections.addAll(resultList, array1);\r\n    Collections.addAll(resultList, array2);\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    //the type cast is safe as the array1 has the type T[]\r\n    T[] resultArray = (T[]) Array.newInstance(array1.getClass().getComponentType(), 0);\r\n    return resultList.toArray(resultArray);\r\n}\r\n```\r\n\r\nTest\r\n```\r\n@Test\r\npublic void givenTwoStringArrays_whenConcatWithList_thenGetExpectedResult() {\r\n    String[] result = ArrayConcatUtil.concatWithCollection(strArray1, strArray2);\r\n    assertThat(result).isEqualTo(expectedStringArray);\r\n}\r\n\r\n```","title":"How can I concatenate two arrays in Java?","body":"<p>Using Java Collections</p>\n<p>Well, Java doesn't provide a helper method to concatenate arrays. However, since Java 5, the Collections utility class has introduced an addAll(Collection&lt;? super T&gt; c, T… elements) method.</p>\n<p>We can create a List object, then call this method twice to add the two arrays to the list. Finally, we convert the resulting List back to an array:</p>\n<pre><code>static &lt;T&gt; T[] concatWithCollection(T[] array1, T[] array2) {\n    List&lt;T&gt; resultList = new ArrayList&lt;&gt;(array1.length + array2.length);\n    Collections.addAll(resultList, array1);\n    Collections.addAll(resultList, array2);\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    //the type cast is safe as the array1 has the type T[]\n    T[] resultArray = (T[]) Array.newInstance(array1.getClass().getComponentType(), 0);\n    return resultList.toArray(resultArray);\n}\n</code></pre>\n<p>Test</p>\n<pre><code>@Test\npublic void givenTwoStringArrays_whenConcatWithList_thenGetExpectedResult() {\n    String[] result = ArrayConcatUtil.concatWithCollection(strArray1, strArray2);\n    assertThat(result).isEqualTo(expectedStringArray);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20130643,"reputation":67,"user_id":14763038,"display_name":"mkemper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647083717,"creation_date":1647083717,"answer_id":71449230,"question_id":80476,"body_markdown":"I see many generic answers with signatures such as public static &lt;T&gt; T[] concat(T[] a, T[] b) {} but these only work on Object arrays, not on primitive arrays, as far as I can work out. The code below works both on Object and primitive arrays, making it more generic...\r\n\r\n    public static &lt;T&gt; T concat(T a, T b) {\r\n            //Handles both arrays of Objects and primitives! E.g., int[] out = concat(new int[]{6,7,8}, new int[]{9,10});\r\n            //You get a compile error if argument(s) not same type as output. (int[] in example above)\r\n            //You get a runtime error if output type is not an array, i.e., when you do something like: int out = concat(6,7);\r\n            if (a == null &amp;&amp; b == null) return null;\r\n            if (a == null) return b;\r\n            if (b == null) return a;\r\n            final int aLen = Array.getLength(a);\r\n            final int bLen = Array.getLength(b);\r\n            if (aLen == 0) return b;\r\n            if (bLen == 0) return a;\r\n            //From here on we really need to concatenate!\r\n    \r\n            Class componentType = a.getClass().getComponentType();\r\n            final T result = (T)Array.newInstance(componentType, aLen + bLen);\r\n            System.arraycopy(a, 0, result, 0, aLen);\r\n            System.arraycopy(b, 0, result, aLen, bLen);\r\n            return result;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String[] out1 = concat(new String[]{&quot;aap&quot;, &quot;monkey&quot;}, new String[]{&quot;rat&quot;});\r\n            int[] out2 = concat(new int[]{6,7,8}, new int[]{9,10});\r\n        }","title":"How can I concatenate two arrays in Java?","body":"<p>I see many generic answers with signatures such as public static  T[] concat(T[] a, T[] b) {} but these only work on Object arrays, not on primitive arrays, as far as I can work out. The code below works both on Object and primitive arrays, making it more generic...</p>\n<pre><code>public static &lt;T&gt; T concat(T a, T b) {\n        //Handles both arrays of Objects and primitives! E.g., int[] out = concat(new int[]{6,7,8}, new int[]{9,10});\n        //You get a compile error if argument(s) not same type as output. (int[] in example above)\n        //You get a runtime error if output type is not an array, i.e., when you do something like: int out = concat(6,7);\n        if (a == null &amp;&amp; b == null) return null;\n        if (a == null) return b;\n        if (b == null) return a;\n        final int aLen = Array.getLength(a);\n        final int bLen = Array.getLength(b);\n        if (aLen == 0) return b;\n        if (bLen == 0) return a;\n        //From here on we really need to concatenate!\n\n        Class componentType = a.getClass().getComponentType();\n        final T result = (T)Array.newInstance(componentType, aLen + bLen);\n        System.arraycopy(a, 0, result, 0, aLen);\n        System.arraycopy(b, 0, result, aLen, bLen);\n        return result;\n    }\n\n    public static void main(String[] args) {\n        String[] out1 = concat(new String[]{&quot;aap&quot;, &quot;monkey&quot;}, new String[]{&quot;rat&quot;});\n        int[] out2 = concat(new int[]{6,7,8}, new int[]{9,10});\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3803740,"reputation":2123,"user_id":3156682,"accept_rate":75,"display_name":"J.R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652527732,"creation_date":1652527732,"answer_id":72239759,"question_id":80476,"body_markdown":"     /**\r\n         * With Java Streams\r\n         * @param first First Array\r\n         * @param second Second Array\r\n         * @return Merged Array\r\n         */\r\n        String[] mergeArrayOfStrings(String[] first, String[] second) {\r\n            return Stream.concat(Arrays.stream(first), Arrays.stream(second)).toArray(String[]::new);\r\n        }","title":"How can I concatenate two arrays in Java?","body":"<pre><code> /**\n     * With Java Streams\n     * @param first First Array\n     * @param second Second Array\n     * @return Merged Array\n     */\n    String[] mergeArrayOfStrings(String[] first, String[] second) {\n        return Stream.concat(Arrays.stream(first), Arrays.stream(second)).toArray(String[]::new);\n    }\n</code></pre>\n"}],"owner":{"account_id":2137,"reputation":19044,"user_id":2948,"display_name":"Antti Kissaniemi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355618,"favorite_count":0,"down_vote_count":3,"up_vote_count":1581,"answer_count":66,"score":1578,"last_activity_date":1673926675,"creation_date":1221632063,"question_id":80476,"body_markdown":"I need to concatenate two `String` arrays in Java.\r\n\r\n    void f(String[] first, String[] second) {\r\n        String[] both = ???\r\n    }\r\n\r\nWhich is the easiest way to do this?","title":"How can I concatenate two arrays in Java?","body":"<p>I need to concatenate two <code>String</code> arrays in Java.</p>\n<pre><code>void f(String[] first, String[] second) {\n    String[] both = ???\n}\n</code></pre>\n<p>Which is the easiest way to do this?</p>\n"},{"tags":["java","list","java-8","collectors"],"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1426588214,"post_id":29095967,"comment_id":46424097,"body_markdown":"Certainly not an answer, but in Python, you&#39;d do it like this: `[list(v) for k, v in groupby(lst, key=lambda x: x is not None) if k]`. There is `Collectors.groupingBy`, but to be honest I don&#39;t understand how it works...","body":"Certainly not an answer, but in Python, you&#39;d do it like this: <code>[list(v) for k, v in groupby(lst, key=lambda x: x is not None) if k]</code>. There is <code>Collectors.groupingBy</code>, but to be honest I don&#39;t understand how it works..."},{"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"score":0,"creation_date":1426588772,"post_id":29095967,"comment_id":46424435,"body_markdown":"Python is teasing me more and more every day :) `Collectors.groupingBy` maps the list by a property: for example grouping `[&quot;a&quot;, &quot;b&quot;, &quot;aa&quot;, &quot;aaa&quot;]` by `String::length` would produce `{1:[&quot;a&quot;, &quot;b&quot;], 2:[&quot;aa&quot;], 3:[&quot;aaa&quot;]}`... I don&#39;t know if it could be used in my case","body":"Python is teasing me more and more every day :) <code>Collectors.groupingBy</code> maps the list by a property: for example grouping <code>[&quot;a&quot;, &quot;b&quot;, &quot;aa&quot;, &quot;aaa&quot;]</code> by <code>String::length</code> would produce <code>{1:[&quot;a&quot;, &quot;b&quot;], 2:[&quot;aa&quot;], 3:[&quot;aaa&quot;]}</code>... I don&#39;t know if it could be used in my case"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1426588996,"post_id":29095967,"comment_id":46424577,"body_markdown":"Are you supposed to do it in Java 8? Because every solutions I get are poor adaptations of some Java 7 solutions `stream().forEach` instead of Java 7 `forEach`.","body":"Are you supposed to do it in Java 8? Because every solutions I get are poor adaptations of some Java 7 solutions <code>stream().forEach</code> instead of Java 7 <code>forEach</code>."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1426589135,"post_id":29095967,"comment_id":46424665,"body_markdown":"For example, you can create a `List&lt;List&lt;String&gt;&gt;` and populate it in a `list.stream().forEach()` but it suppose that you get the elements in a sequence and it cannot be called in parallel. In brief, you lose every pros of `Streams` without having the clarity of Java 7.","body":"For example, you can create a <code>List&lt;List&lt;String&gt;&gt;</code> and populate it in a <code>list.stream().forEach()</code> but it suppose that you get the elements in a sequence and it cannot be called in parallel. In brief, you lose every pros of <code>Streams</code> without having the clarity of Java 7."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1426589154,"post_id":29095967,"comment_id":46424676,"body_markdown":"@Oneiros Yes, it seems `Collectors.groupingBy` works quite differently than Python&#39;s `itertools.groupby` and is more like `Collectors.partitioningBy`, just with more than two groups, i.e. it would put all the non-null strings in one bucket.","body":"@Oneiros Yes, it seems <code>Collectors.groupingBy</code> works quite differently than Python&#39;s <code>itertools.groupby</code> and is more like <code>Collectors.partitioningBy</code>, just with more than two groups, i.e. it would put all the non-null strings in one bucket."},{"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"score":0,"creation_date":1426589173,"post_id":29095967,"comment_id":46424692,"body_markdown":"I already solved this problem in a naive Java way, I&#39;m trying to learn more about Java 8 streams","body":"I already solved this problem in a naive Java way, I&#39;m trying to learn more about Java 8 streams"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1426589381,"post_id":29095967,"comment_id":46424829,"body_markdown":"The problems comes form the fact that the sequence is highly important here but Streams are designed to work on independent pieces of data. This is why I think that there is no solution that will not be equivalent to a Java 7&#39;s foreach. My solution converts the problem of &quot;Split List&quot; into a problem of &quot;Split String&quot; for which Java natively implemented a solution.","body":"The problems comes form the fact that the sequence is highly important here but Streams are designed to work on independent pieces of data. This is why I think that there is no solution that will not be equivalent to a Java 7&#39;s foreach. My solution converts the problem of &quot;Split List&quot; into a problem of &quot;Split String&quot; for which Java natively implemented a solution."},{"owner":{"account_id":1980276,"reputation":8081,"user_id":1777072,"accept_rate":60,"display_name":"David Lavender"},"score":15,"creation_date":1426589649,"post_id":29095967,"comment_id":46425009,"body_markdown":"I hope this goes without saying but, for production code, please keep it simple and just use for-loops.  This is a great training exercise question.  But it worries me that some of the solutions posted below could one day end up in production code (they got a high-score on Stackoverflow so they **must** be the right way to do it!). Some poor sap will tear their hair out trying to understand this!","body":"I hope this goes without saying but, for production code, please keep it simple and just use for-loops.  This is a great training exercise question.  But it worries me that some of the solutions posted below could one day end up in production code (they got a high-score on Stackoverflow so they <b>must</b> be the right way to do it!). Some poor sap will tear their hair out trying to understand this!"},{"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"score":1,"creation_date":1426590017,"post_id":29095967,"comment_id":46425234,"body_markdown":"ArnaudDenoyelle I don&#39;t agree with you, Alexis C. showed you that it is possible (I&#39;m testing his solution)\n@Mr Spoon yes, this is just a training exercise","body":"ArnaudDenoyelle I don&#39;t agree with you, Alexis C. showed you that it is possible (I&#39;m testing his solution) @Mr Spoon yes, this is just a training exercise"},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1426590237,"post_id":29095967,"comment_id":46425354,"body_markdown":"@Oneiros I do not say that it is not possible. I am saying that it is equivalent  to a foreach loop, in more complex. I had the same idea but when I realized that, I did not post the solution.","body":"@Oneiros I do not say that it is not possible. I am saying that it is equivalent  to a foreach loop, in more complex. I had the same idea but when I realized that, I did not post the solution."},{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":1,"creation_date":1426598318,"post_id":29095967,"comment_id":46430511,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/28363323/partition-a-stream-by-a-discriminator-function","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/28363323/partition-a-stream-by-a-discriminator-function\" title=\"partition a stream by a discriminator function\">stackoverflow.com/questions/28363323/&hellip;</a>"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1514460678,"post_id":29095967,"comment_id":82981538,"body_markdown":"See also [Java 8 Stream with batch processing](https://stackoverflow.com/questions/30641383/java-8-stream-with-batch-processing)","body":"See also <a href=\"https://stackoverflow.com/questions/30641383/java-8-stream-with-batch-processing\">Java 8 Stream with batch processing</a>"},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1564204242,"post_id":29095967,"comment_id":100962412,"body_markdown":"@DavidLavender are you saying we should never use streams and only use for-loops? What? Programming has many more paradigms than imperative. Even the Java language designers claim streams is the objectively better solution.","body":"@DavidLavender are you saying we should never use streams and only use for-loops? What? Programming has many more paradigms than imperative. Even the Java language designers claim streams is the objectively better solution."}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1479911375,"creation_date":1426588212,"answer_id":29096777,"question_id":29095967,"body_markdown":"The only solution I come up with for the moment is by implementing your own custom collector. \r\n\r\nBefore reading the solution, I want to add a few notes about this. I took this question more as a programming exercise, I&#39;m not sure if it can be done with a parallel stream. \r\n\r\nSo you have to be aware that it&#39;ll **silently break** if the pipeline is run in **parallel**. \r\n\r\nThis is **not** a desirable behavior and should be **avoided**. This is why I throw an exception in the combiner part (instead of `(l1, l2) -&gt; {l1.addAll(l2); return l1;}`), as it&#39;s used in parallel when combining the two lists, so that you have an exception instead of a wrong result.\r\n\r\nAlso this is not very efficient due to list copying (although it uses a native method to copy the underlying array).\r\n\r\nSo here&#39;s the collector implementation:\r\n\r\n    private static Collector&lt;String, List&lt;List&lt;String&gt;&gt;, List&lt;List&lt;String&gt;&gt;&gt; splitBySeparator(Predicate&lt;String&gt; sep) {\r\n        final List&lt;String&gt; current = new ArrayList&lt;&gt;();\r\n        return Collector.of(() -&gt; new ArrayList&lt;List&lt;String&gt;&gt;(),\r\n            (l, elem) -&gt; {\r\n                if (sep.test(elem)) {\r\n                    l.add(new ArrayList&lt;&gt;(current));\r\n                    current.clear();\r\n                }\r\n                else {\r\n                    current.add(elem);\r\n                }\r\n            },\r\n            (l1, l2) -&gt; {\r\n                throw new RuntimeException(&quot;Should not run this in parallel&quot;);\r\n            },\r\n            l -&gt; {\r\n                if (current.size() != 0) {\r\n                    l.add(current);\r\n                    return l;\r\n                }\r\n            );\r\n    }\r\n\r\nand how to use it:\r\n\r\n    List&lt;List&lt;String&gt;&gt; ll = list.stream().collect(splitBySeparator(Objects::isNull));\r\n\r\nOutput:\r\n\r\n    [[a, b], [c], [d, e]]\r\n\r\n&lt;hr/&gt;\r\nAs the [answer of Joop Eggen is out][1], it appears that it can be done in parallel (give him credit for that!). With that it reduces the custom collector implementation to:\r\n\r\n    private static Collector&lt;String, List&lt;List&lt;String&gt;&gt;, List&lt;List&lt;String&gt;&gt;&gt; splitBySeparator(Predicate&lt;String&gt; sep) {\r\n        return Collector.of(() -&gt; new ArrayList&lt;List&lt;String&gt;&gt;(Arrays.asList(new ArrayList&lt;&gt;())),\r\n                            (l, elem) -&gt; {if(sep.test(elem)){l.add(new ArrayList&lt;&gt;());} else l.get(l.size()-1).add(elem);},\r\n                            (l1, l2) -&gt; {l1.get(l1.size() - 1).addAll(l2.remove(0)); l1.addAll(l2); return l1;});\r\n    }\r\n\r\nwhich let the paragraph about parallelism a bit obsolete, however I let it as it can be a good reminder.\r\n&lt;hr/&gt;\r\n\r\nNote that the Stream API is not always a substitute. There are tasks that are easier and more suitable using the streams and there are tasks that are not. In your case, you could also create a utility method for that:\r\n\r\n    private static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitBySeparator(List&lt;T&gt; list, Predicate&lt;? super T&gt; predicate) {\r\n        final List&lt;List&lt;T&gt;&gt; finalList = new ArrayList&lt;&gt;();\r\n        int fromIndex = 0;\r\n        int toIndex = 0;\r\n        for(T elem : list) {\r\n            if(predicate.test(elem)) {\r\n                finalList.add(list.subList(fromIndex, toIndex));\r\n                fromIndex = toIndex + 1;\r\n            }\r\n            toIndex++;\r\n        }\r\n        if(fromIndex != toIndex) {\r\n            finalList.add(list.subList(fromIndex, toIndex));\r\n        }\r\n        return finalList;\r\n    }\r\n\r\nand call it like `List&lt;List&lt;String&gt;&gt; list = splitBySeparator(originalList, Objects::isNull);`. \r\n\r\nIt can be improved for checking edge-cases. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29098447/1587046","title":"Splitting List into sublists along elements","body":"<p>The only solution I come up with for the moment is by implementing your own custom collector. </p>\n\n<p>Before reading the solution, I want to add a few notes about this. I took this question more as a programming exercise, I'm not sure if it can be done with a parallel stream. </p>\n\n<p>So you have to be aware that it'll <strong>silently break</strong> if the pipeline is run in <strong>parallel</strong>. </p>\n\n<p>This is <strong>not</strong> a desirable behavior and should be <strong>avoided</strong>. This is why I throw an exception in the combiner part (instead of <code>(l1, l2) -&gt; {l1.addAll(l2); return l1;}</code>), as it's used in parallel when combining the two lists, so that you have an exception instead of a wrong result.</p>\n\n<p>Also this is not very efficient due to list copying (although it uses a native method to copy the underlying array).</p>\n\n<p>So here's the collector implementation:</p>\n\n<pre><code>private static Collector&lt;String, List&lt;List&lt;String&gt;&gt;, List&lt;List&lt;String&gt;&gt;&gt; splitBySeparator(Predicate&lt;String&gt; sep) {\n    final List&lt;String&gt; current = new ArrayList&lt;&gt;();\n    return Collector.of(() -&gt; new ArrayList&lt;List&lt;String&gt;&gt;(),\n        (l, elem) -&gt; {\n            if (sep.test(elem)) {\n                l.add(new ArrayList&lt;&gt;(current));\n                current.clear();\n            }\n            else {\n                current.add(elem);\n            }\n        },\n        (l1, l2) -&gt; {\n            throw new RuntimeException(\"Should not run this in parallel\");\n        },\n        l -&gt; {\n            if (current.size() != 0) {\n                l.add(current);\n                return l;\n            }\n        );\n}\n</code></pre>\n\n<p>and how to use it:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; ll = list.stream().collect(splitBySeparator(Objects::isNull));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[a, b], [c], [d, e]]\n</code></pre>\n\n<p><hr/>\nAs the <a href=\"https://stackoverflow.com/a/29098447/1587046\">answer of Joop Eggen is out</a>, it appears that it can be done in parallel (give him credit for that!). With that it reduces the custom collector implementation to:</p>\n\n<pre><code>private static Collector&lt;String, List&lt;List&lt;String&gt;&gt;, List&lt;List&lt;String&gt;&gt;&gt; splitBySeparator(Predicate&lt;String&gt; sep) {\n    return Collector.of(() -&gt; new ArrayList&lt;List&lt;String&gt;&gt;(Arrays.asList(new ArrayList&lt;&gt;())),\n                        (l, elem) -&gt; {if(sep.test(elem)){l.add(new ArrayList&lt;&gt;());} else l.get(l.size()-1).add(elem);},\n                        (l1, l2) -&gt; {l1.get(l1.size() - 1).addAll(l2.remove(0)); l1.addAll(l2); return l1;});\n}\n</code></pre>\n\n<p>which let the paragraph about parallelism a bit obsolete, however I let it as it can be a good reminder.</p>\n\n<hr/>\n\n<p>Note that the Stream API is not always a substitute. There are tasks that are easier and more suitable using the streams and there are tasks that are not. In your case, you could also create a utility method for that:</p>\n\n<pre><code>private static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitBySeparator(List&lt;T&gt; list, Predicate&lt;? super T&gt; predicate) {\n    final List&lt;List&lt;T&gt;&gt; finalList = new ArrayList&lt;&gt;();\n    int fromIndex = 0;\n    int toIndex = 0;\n    for(T elem : list) {\n        if(predicate.test(elem)) {\n            finalList.add(list.subList(fromIndex, toIndex));\n            fromIndex = toIndex + 1;\n        }\n        toIndex++;\n    }\n    if(fromIndex != toIndex) {\n        finalList.add(list.subList(fromIndex, toIndex));\n    }\n    return finalList;\n}\n</code></pre>\n\n<p>and call it like <code>List&lt;List&lt;String&gt;&gt; list = splitBySeparator(originalList, Objects::isNull);</code>. </p>\n\n<p>It can be improved for checking edge-cases. </p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426594487,"creation_date":1426590453,"answer_id":29097535,"question_id":29095967,"body_markdown":"Here&#39;s another approach, which uses a grouping function, which makes use of list indices for grouping.\r\n\r\nHere I&#39;m grouping the element by the first index following that element, with value `null`. So, in your example, `&quot;a&quot;` and `&quot;b&quot;` would be mapped to `2`. Also, I&#39;m mapping `null` value to `-1` index, which should be removed later on.\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;);\r\n\r\n    Function&lt;String, Integer&gt; indexGroupingFunc = (str) -&gt; {\r\n                 if (str == null) {\r\n                     return -1;\r\n                 }\r\n                 int index = list.indexOf(str) + 1;\r\n                 while (index &lt; list.size() &amp;&amp; list.get(index) != null) {\r\n                     index++;\r\n                 }\r\n                 return index;\r\n             };\r\n\r\n    Map&lt;Integer, List&lt;String&gt;&gt; grouped = list.stream()\r\n                   .collect(Collectors.groupingBy(indexGroupingFunc));\r\n\r\n    grouped.remove(-1);  // Remove null elements grouped under -1\r\n    System.out.println(grouped.values()); // [[a, b], [c], [d, e]]\r\n\r\nYou can also avoid getting the first index of `null` element every time, by caching the current min index in an `AtomicInteger`. The updated `Function` would be like:\r\n\r\n    AtomicInteger currentMinIndex = new AtomicInteger(-1);\r\n\r\n    Function&lt;String, Integer&gt; indexGroupingFunc = (str) -&gt; {\r\n            if (str == null) {\r\n                return -1;\r\n            }\r\n            int index = names.indexOf(str) + 1;\r\n      \r\n            if (currentMinIndex.get() &gt; index) {\r\n                return currentMinIndex.get();\r\n            } else {\r\n                while (index &lt; names.size() &amp;&amp; names.get(index) != null) {\r\n                  index++;\r\n                }\r\n                currentMinIndex.set(index);\r\n                return index;\r\n            }\r\n        };\r\n\r\n","title":"Splitting List into sublists along elements","body":"<p>Here's another approach, which uses a grouping function, which makes use of list indices for grouping.</p>\n\n<p>Here I'm grouping the element by the first index following that element, with value <code>null</code>. So, in your example, <code>\"a\"</code> and <code>\"b\"</code> would be mapped to <code>2</code>. Also, I'm mapping <code>null</code> value to <code>-1</code> index, which should be removed later on.</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", null, \"c\", null, \"d\", \"e\");\n\nFunction&lt;String, Integer&gt; indexGroupingFunc = (str) -&gt; {\n             if (str == null) {\n                 return -1;\n             }\n             int index = list.indexOf(str) + 1;\n             while (index &lt; list.size() &amp;&amp; list.get(index) != null) {\n                 index++;\n             }\n             return index;\n         };\n\nMap&lt;Integer, List&lt;String&gt;&gt; grouped = list.stream()\n               .collect(Collectors.groupingBy(indexGroupingFunc));\n\ngrouped.remove(-1);  // Remove null elements grouped under -1\nSystem.out.println(grouped.values()); // [[a, b], [c], [d, e]]\n</code></pre>\n\n<p>You can also avoid getting the first index of <code>null</code> element every time, by caching the current min index in an <code>AtomicInteger</code>. The updated <code>Function</code> would be like:</p>\n\n<pre><code>AtomicInteger currentMinIndex = new AtomicInteger(-1);\n\nFunction&lt;String, Integer&gt; indexGroupingFunc = (str) -&gt; {\n        if (str == null) {\n            return -1;\n        }\n        int index = names.indexOf(str) + 1;\n\n        if (currentMinIndex.get() &gt; index) {\n            return currentMinIndex.get();\n        } else {\n            while (index &lt; names.size() &amp;&amp; names.get(index) != null) {\n              index++;\n            }\n            currentMinIndex.set(index);\n            return index;\n        }\n    };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1426590966,"creation_date":1426590966,"answer_id":29097694,"question_id":29095967,"body_markdown":"*Please do not vote. I do not have enough place to explain this in comments*.\r\n\r\nThis is a solution with a `Stream` and a `foreach` but this is strictly equivalent to Alexis&#39;s solution or a `foreach` loop (and less clear, and I could not get rid of the copy constructor) :\r\n\r\n    List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    final List&lt;String&gt; current = new ArrayList&lt;&gt;();\r\n    list.stream().forEach(s -&gt; {\r\n          if (s == null) {\r\n            result.add(new ArrayList&lt;&gt;(current));\r\n            current.clear();\r\n          } else {\r\n            current.add(s);\r\n          }\r\n        }\r\n    );\r\n    result.add(current);\r\n\r\n    System.out.println(result);\r\n\r\nI understand that you want to find a more elegant solution with Java 8 but I truly think that it has not been designed for this case. And as said by Mr spoon, highly prefer the naive way in this case.","title":"Splitting List into sublists along elements","body":"<p><em>Please do not vote. I do not have enough place to explain this in comments</em>.</p>\n\n<p>This is a solution with a <code>Stream</code> and a <code>foreach</code> but this is strictly equivalent to Alexis's solution or a <code>foreach</code> loop (and less clear, and I could not get rid of the copy constructor) :</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\nfinal List&lt;String&gt; current = new ArrayList&lt;&gt;();\nlist.stream().forEach(s -&gt; {\n      if (s == null) {\n        result.add(new ArrayList&lt;&gt;(current));\n        current.clear();\n      } else {\n        current.add(s);\n      }\n    }\n);\nresult.add(current);\n\nSystem.out.println(result);\n</code></pre>\n\n<p>I understand that you want to find a more elegant solution with Java 8 but I truly think that it has not been designed for this case. And as said by Mr spoon, highly prefer the naive way in this case.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1454962192,"creation_date":1426593323,"answer_id":29098447,"question_id":29095967,"body_markdown":"The solution is to use `Stream.collect`. To create a Collector using its builder pattern is already given as solution. The alternative is the other overloaded `collect` being a tiny bit more primitive.\r\n\r\n        List&lt;String&gt; strings = Arrays.asList(&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;);\r\n        List&lt;List&lt;String&gt;&gt; groups = strings.stream()\r\n                .collect(() -&gt; {\r\n                    List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n                    list.add(new ArrayList&lt;&gt;());\r\n                    return list;\r\n                },\r\n                (list, s) -&gt; {\r\n                    if (s == null) {\r\n                        list.add(new ArrayList&lt;&gt;());\r\n                    } else {\r\n                        list.get(list.size() - 1).add(s);\r\n                    }\r\n                },\r\n                (list1, list2) -&gt; {\r\n                    // Simple merging of partial sublists would\r\n                    // introduce a false level-break at the beginning.\r\n                    list1.get(list1.size() - 1).addAll(list2.remove(0));\r\n                    list1.addAll(list2);\r\n                });\r\n\r\nAs one sees, I make a list of string lists, where there always is at least one last (empty) string list.\r\n\r\n- The first function creates a starting list of string lists. **It specifies the result (typed) object.**\r\n- The second function is called to process each element. **It is an action on the partial result and an element.**\r\n- The third is not really used, it comes into play on parallelising the processing, when partial results must be combined.\r\n\r\n-------------------------\r\n***A solution with an accumulator:***\r\n\r\n_As @StuartMarks points out, the combiner does not fullfill the contract for parallelism._\r\n\r\nDue to the comment of @ArnaudDenoyelle a version using `reduce`.\r\n\r\n        List&lt;List&lt;String&gt;&gt; groups = strings.stream()\r\n                .reduce(new ArrayList&lt;List&lt;String&gt;&gt;(),\r\n                        (list, s) -&gt; {\r\n                            if (list.isEmpty()) {\r\n                                list.add(new ArrayList&lt;&gt;());\r\n                            }\r\n                            if (s == null) {\r\n                                list.add(new ArrayList&lt;&gt;());\r\n                            } else {\r\n                                list.get(list.size() - 1).add(s);\r\n                            }\r\n                            return list;\r\n                        },\r\n                        (list1, list2) -&gt; {\r\n                                list1.addAll(list2);\r\n                                return list1;\r\n                        });\r\n\r\n- The first parameter is the accumulated object.\r\n- The second function accumulates.\r\n- The third is the aforementioned combiner.","title":"Splitting List into sublists along elements","body":"<p>The solution is to use <code>Stream.collect</code>. To create a Collector using its builder pattern is already given as solution. The alternative is the other overloaded <code>collect</code> being a tiny bit more primitive.</p>\n\n<pre><code>    List&lt;String&gt; strings = Arrays.asList(\"a\", \"b\", null, \"c\", null, \"d\", \"e\");\n    List&lt;List&lt;String&gt;&gt; groups = strings.stream()\n            .collect(() -&gt; {\n                List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\n                list.add(new ArrayList&lt;&gt;());\n                return list;\n            },\n            (list, s) -&gt; {\n                if (s == null) {\n                    list.add(new ArrayList&lt;&gt;());\n                } else {\n                    list.get(list.size() - 1).add(s);\n                }\n            },\n            (list1, list2) -&gt; {\n                // Simple merging of partial sublists would\n                // introduce a false level-break at the beginning.\n                list1.get(list1.size() - 1).addAll(list2.remove(0));\n                list1.addAll(list2);\n            });\n</code></pre>\n\n<p>As one sees, I make a list of string lists, where there always is at least one last (empty) string list.</p>\n\n<ul>\n<li>The first function creates a starting list of string lists. <strong>It specifies the result (typed) object.</strong></li>\n<li>The second function is called to process each element. <strong>It is an action on the partial result and an element.</strong></li>\n<li>The third is not really used, it comes into play on parallelising the processing, when partial results must be combined.</li>\n</ul>\n\n<hr>\n\n<p><strong><em>A solution with an accumulator:</em></strong></p>\n\n<p><em>As @StuartMarks points out, the combiner does not fullfill the contract for parallelism.</em></p>\n\n<p>Due to the comment of @ArnaudDenoyelle a version using <code>reduce</code>.</p>\n\n<pre><code>    List&lt;List&lt;String&gt;&gt; groups = strings.stream()\n            .reduce(new ArrayList&lt;List&lt;String&gt;&gt;(),\n                    (list, s) -&gt; {\n                        if (list.isEmpty()) {\n                            list.add(new ArrayList&lt;&gt;());\n                        }\n                        if (s == null) {\n                            list.add(new ArrayList&lt;&gt;());\n                        } else {\n                            list.get(list.size() - 1).add(s);\n                        }\n                        return list;\n                    },\n                    (list1, list2) -&gt; {\n                            list1.addAll(list2);\n                            return list1;\n                    });\n</code></pre>\n\n<ul>\n<li>The first parameter is the accumulated object.</li>\n<li>The second function accumulates.</li>\n<li>The third is the aforementioned combiner.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482957475,"creation_date":1426597620,"answer_id":29099896,"question_id":29095967,"body_markdown":"This is a very interesting problem. I came up with a one line solution. It might not very performant but it works.\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;);\r\n    Collection&lt;List&lt;String&gt;&gt; cl = IntStream.range(0, list.size())\r\n        .filter(i -&gt; list.get(i) != null).boxed()\r\n        .collect(Collectors.groupingBy(\r\n            i -&gt; IntStream.range(0, i).filter(j -&gt; list.get(j) == null).count(),\r\n            Collectors.mapping(i -&gt; list.get(i), Collectors.toList()))\r\n        ).values();\r\nIt is a similar idea that @Rohit Jain came up with. I&#39;m grouping the space between the null values.\r\nIf you really want a `List&lt;List&lt;String&gt;&gt;` you may append:\r\n\r\n    List&lt;List&lt;String&gt;&gt; ll = cl.stream().collect(Collectors.toList());\r\n","title":"Splitting List into sublists along elements","body":"<p>This is a very interesting problem. I came up with a one line solution. It might not very performant but it works.</p>\n\n<pre><code>List&lt;String&gt; list = Arrays.asList(\"a\", \"b\", null, \"c\", null, \"d\", \"e\");\nCollection&lt;List&lt;String&gt;&gt; cl = IntStream.range(0, list.size())\n    .filter(i -&gt; list.get(i) != null).boxed()\n    .collect(Collectors.groupingBy(\n        i -&gt; IntStream.range(0, i).filter(j -&gt; list.get(j) == null).count(),\n        Collectors.mapping(i -&gt; list.get(i), Collectors.toList()))\n    ).values();\n</code></pre>\n\n<p>It is a similar idea that @Rohit Jain came up with. I'm grouping the space between the null values.\nIf you really want a <code>List&lt;List&lt;String&gt;&gt;</code> you may append:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; ll = cl.stream().collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1479967486,"creation_date":1426631817,"answer_id":29111023,"question_id":29095967,"body_markdown":"Although there are several answers already, and an accepted answer, there are still a couple points missing from this topic. First, the consensus seems to be that solving this problem using streams is merely an exercise, and that the conventional for-loop approach is preferable. Second, the answers given thus far have overlooked an approach using array or vector-style techniques that I think improves the streams solution considerably.\r\n\r\nFirst, here&#39;s a conventional solution, for purposes of discussion and analysis:\r\n\r\n    static List&lt;List&lt;String&gt;&gt; splitConventional(List&lt;String&gt; input) {\r\n        List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        int prev = 0;\r\n        \r\n        for (int cur = 0; cur &lt; input.size(); cur++) {\r\n            if (input.get(cur) == null) {\r\n                result.add(input.subList(prev, cur));\r\n                prev = cur + 1;\r\n            }\r\n        }\r\n        result.add(input.subList(prev, input.size()));\r\n        \r\n        return result;\r\n    }\r\n\r\nThis is mostly straightforward but there&#39;s a bit of subtlety. One point is that a pending sublist from `prev` to `cur` is always open. When we encounter `null` we close it, add it to the result list, and advance `prev`. After the loop we close the sublist unconditionally.\r\n\r\nAnother observation is that this is a loop over indexes, not over the values themselves, thus we use an arithmetic for-loop instead of the enhanced &quot;for-each&quot; loop. But it suggests that we can stream using the indexes to generate subranges instead of streaming over values and putting the logic into the collector (as was done by [Joop Eggen&#39;s proposed solution][1]).\r\n\r\nOnce we&#39;ve realized that, we can see that each position of `null` in the input is the delimiter for a sublist: it&#39;s the right end of the sublist to the left, and it (plus one) is the left end of the sublist to the right. If we can handle the edge cases, it leads to an approach where we find the indexes at which `null` elements occur, map them to sublists, and collect the sublists.\r\n\r\nThe resulting code is as follows:\r\n\r\n    static List&lt;List&lt;String&gt;&gt; splitStream(List&lt;String&gt; input) {\r\n        int[] indexes = Stream.of(IntStream.of(-1),\r\n                                  IntStream.range(0, input.size())\r\n                                           .filter(i -&gt; input.get(i) == null),\r\n                                  IntStream.of(input.size()))\r\n                              .flatMapToInt(s -&gt; s)\r\n                              .toArray();\r\n\r\n        return IntStream.range(0, indexes.length-1)\r\n                        .mapToObj(i -&gt; input.subList(indexes[i]+1, indexes[i+1]))\r\n                        .collect(toList());\r\n    }\r\n\r\nGetting the indexes at which `null` occurs is pretty easy. The stumbling block is adding `-1` at the left and `size` at the right end. I&#39;ve opted to use `Stream.of` to do the appending and then `flatMapToInt` to flatten them out. (I tried several other approaches but this one seemed like the cleanest.)\r\n\r\nIt&#39;s a bit more convenient to use arrays for the indexes here. First, the notation for accessing an array is nicer than for a List: `indexes[i]` vs. `indexes.get(i)`. Second, using an array avoids boxing.\r\n\r\nAt this point, each index value in the array (except for the last) is one less than the beginning position of a sublist. The index to its immediate right is the end of the sublist. We simply stream over the array and map each pair of indexes into a sublist and collect the output.\r\n\r\n**Discussion**\r\n\r\nThe streams approach is slightly shorter than the for-loop version, but it&#39;s denser. The for-loop version is familiar, because we do this stuff in Java all the time, but if you&#39;re not already aware of what this loop is supposed to be doing, it&#39;s not obvious. You might have to simulate a few loop executions before you figure out what `prev` is doing and why the open sublist has to be closed after the end of the loop. (I initially forgot to have it, but I caught this in testing.)\r\n\r\nThe streams approach is, I think, easier to conceptualize what&#39;s going on: get a list (or an array) that indicates the boundaries between sublists. That&#39;s an easy streams two-liner. The difficulty, as I mentioned above, is finding a way to tack the edge values onto the ends. If there were a better syntax for doing this, e.g.,\r\n\r\n        // Java plus pidgin Scala\r\n        int[] indexes =\r\n            [-1] ++ IntStream.range(0, input.size())\r\n                             .filter(i -&gt; input.get(i) == null) ++ [input.size()];\r\n\r\nit would make things a lot less cluttered. (What we really need is array or list comprehension.) Once you have the indexes, it&#39;s a simple matter to map them into actual sublists and collect them into the result list.\r\n\r\nAnd of course this is safe when run in parallel.\r\n\r\n**UPDATE 2016-02-06**\r\n\r\nHere&#39;s a nicer way to create the array of sublist indexes. It&#39;s based on the same principles, but it adjusts the index range and adds some conditions to the filter to avoid having to concatenate and flatmap the indexes.\r\n\r\n    static List&lt;List&lt;String&gt;&gt; splitStream(List&lt;String&gt; input) {\r\n        int sz = input.size();\r\n        int[] indexes =\r\n            IntStream.rangeClosed(-1, sz)\r\n                     .filter(i -&gt; i == -1 || i == sz || input.get(i) == null)\r\n                     .toArray();\r\n\r\n        return IntStream.range(0, indexes.length-1)\r\n                        .mapToObj(i -&gt; input.subList(indexes[i]+1, indexes[i+1]))\r\n                        .collect(toList());\r\n    }\r\n\r\n**UPDATE 2016-11-23**\r\n\r\nI co-presented a talk with Brian Goetz at Devoxx Antwerp 2016, &quot;Thinking In Parallel&quot; ([video][2]) that featured this problem and my solutions. The problem presented there is a slight variation that splits on &quot;#&quot; instead of null, but it&#39;s otherwise the same. In the talk, I mentioned that I had a bunch of unit tests for this problem. I&#39;ve appended them below, as a standalone program, along with my loop and streams implementations. An interesting exercise for readers is to run solutions proposed in other answers against the test cases I&#39;ve provided here, and to see which ones fail and why. (The other solutions will have to be adapted to split based on a predicate instead of splitting on null.)\r\n\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n    import java.util.stream.*;\r\n\r\n    import static java.util.Arrays.asList;\r\n\r\n    public class ListSplitting {\r\n        static final Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; TESTCASES = new LinkedHashMap&lt;&gt;();\r\n        static {\r\n            TESTCASES.put(asList(),\r\n                      asList(asList()));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;),\r\n                      asList(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;b&quot;, &quot;#&quot;, &quot;c&quot;, &quot;#&quot;, &quot;d&quot;, &quot;e&quot;),\r\n                      asList(asList(&quot;a&quot;, &quot;b&quot;), asList(&quot;c&quot;), asList(&quot;d&quot;, &quot;e&quot;)));\r\n            TESTCASES.put(asList(&quot;#&quot;),\r\n                      asList(asList(), asList()));\r\n            TESTCASES.put(asList(&quot;#&quot;, &quot;a&quot;, &quot;b&quot;),\r\n                      asList(asList(), asList(&quot;a&quot;, &quot;b&quot;)));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;b&quot;, &quot;#&quot;),\r\n                      asList(asList(&quot;a&quot;, &quot;b&quot;), asList()));\r\n            TESTCASES.put(asList(&quot;#&quot;),\r\n                      asList(asList(), asList()));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;#&quot;, &quot;b&quot;),\r\n                      asList(asList(&quot;a&quot;), asList(&quot;b&quot;)));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;#&quot;, &quot;#&quot;, &quot;b&quot;),\r\n                      asList(asList(&quot;a&quot;), asList(), asList(&quot;b&quot;)));\r\n            TESTCASES.put(asList(&quot;a&quot;, &quot;#&quot;, &quot;#&quot;, &quot;#&quot;, &quot;b&quot;),\r\n                      asList(asList(&quot;a&quot;), asList(), asList(), asList(&quot;b&quot;)));\r\n        }\r\n\r\n        static final Predicate&lt;String&gt; TESTPRED = &quot;#&quot;::equals;\r\n\r\n        static void testAll(BiFunction&lt;List&lt;String&gt;, Predicate&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; f) {\r\n            TESTCASES.forEach((input, expected) -&gt; {\r\n                List&lt;List&lt;String&gt;&gt; actual = f.apply(input, TESTPRED);\r\n                System.out.println(input + &quot; =&gt; &quot; + expected);\r\n                if (!expected.equals(actual)) {\r\n                    System.out.println(&quot;  ERROR: actual was &quot; + actual);\r\n                }\r\n            });\r\n        }\r\n\r\n        static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitStream(List&lt;T&gt; input, Predicate&lt;? super T&gt; pred) {\r\n            int[] edges = IntStream.range(-1, input.size()+1)\r\n                                   .filter(i -&gt; i == -1 || i == input.size() ||\r\n                                           pred.test(input.get(i)))\r\n                                   .toArray();\r\n\r\n            return IntStream.range(0, edges.length-1)\r\n                            .mapToObj(k -&gt; input.subList(edges[k]+1, edges[k+1]))\r\n                            .collect(Collectors.toList());\r\n        }\r\n\r\n        static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitLoop(List&lt;T&gt; input, Predicate&lt;? super T&gt; pred) {\r\n            List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\r\n            int start = 0;\r\n\r\n            for (int cur = 0; cur &lt; input.size(); cur++) {\r\n                if (pred.test(input.get(cur))) {\r\n                    result.add(input.subList(start, cur));\r\n                    start = cur + 1;\r\n                }\r\n            }\r\n            result.add(input.subList(start, input.size()));\r\n\r\n            return result;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;===== Loop =====&quot;);\r\n            testAll(ListSplitting::splitLoop);\r\n            System.out.println(&quot;===== Stream =====&quot;);\r\n            testAll(ListSplitting::splitStream);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29098447/1441122\r\n  [2]: https://www.youtube.com/watch?v=2nup6Oizpcw","title":"Splitting List into sublists along elements","body":"<p>Although there are several answers already, and an accepted answer, there are still a couple points missing from this topic. First, the consensus seems to be that solving this problem using streams is merely an exercise, and that the conventional for-loop approach is preferable. Second, the answers given thus far have overlooked an approach using array or vector-style techniques that I think improves the streams solution considerably.</p>\n\n<p>First, here's a conventional solution, for purposes of discussion and analysis:</p>\n\n<pre><code>static List&lt;List&lt;String&gt;&gt; splitConventional(List&lt;String&gt; input) {\n    List&lt;List&lt;String&gt;&gt; result = new ArrayList&lt;&gt;();\n    int prev = 0;\n\n    for (int cur = 0; cur &lt; input.size(); cur++) {\n        if (input.get(cur) == null) {\n            result.add(input.subList(prev, cur));\n            prev = cur + 1;\n        }\n    }\n    result.add(input.subList(prev, input.size()));\n\n    return result;\n}\n</code></pre>\n\n<p>This is mostly straightforward but there's a bit of subtlety. One point is that a pending sublist from <code>prev</code> to <code>cur</code> is always open. When we encounter <code>null</code> we close it, add it to the result list, and advance <code>prev</code>. After the loop we close the sublist unconditionally.</p>\n\n<p>Another observation is that this is a loop over indexes, not over the values themselves, thus we use an arithmetic for-loop instead of the enhanced \"for-each\" loop. But it suggests that we can stream using the indexes to generate subranges instead of streaming over values and putting the logic into the collector (as was done by <a href=\"https://stackoverflow.com/a/29098447/1441122\">Joop Eggen's proposed solution</a>).</p>\n\n<p>Once we've realized that, we can see that each position of <code>null</code> in the input is the delimiter for a sublist: it's the right end of the sublist to the left, and it (plus one) is the left end of the sublist to the right. If we can handle the edge cases, it leads to an approach where we find the indexes at which <code>null</code> elements occur, map them to sublists, and collect the sublists.</p>\n\n<p>The resulting code is as follows:</p>\n\n<pre><code>static List&lt;List&lt;String&gt;&gt; splitStream(List&lt;String&gt; input) {\n    int[] indexes = Stream.of(IntStream.of(-1),\n                              IntStream.range(0, input.size())\n                                       .filter(i -&gt; input.get(i) == null),\n                              IntStream.of(input.size()))\n                          .flatMapToInt(s -&gt; s)\n                          .toArray();\n\n    return IntStream.range(0, indexes.length-1)\n                    .mapToObj(i -&gt; input.subList(indexes[i]+1, indexes[i+1]))\n                    .collect(toList());\n}\n</code></pre>\n\n<p>Getting the indexes at which <code>null</code> occurs is pretty easy. The stumbling block is adding <code>-1</code> at the left and <code>size</code> at the right end. I've opted to use <code>Stream.of</code> to do the appending and then <code>flatMapToInt</code> to flatten them out. (I tried several other approaches but this one seemed like the cleanest.)</p>\n\n<p>It's a bit more convenient to use arrays for the indexes here. First, the notation for accessing an array is nicer than for a List: <code>indexes[i]</code> vs. <code>indexes.get(i)</code>. Second, using an array avoids boxing.</p>\n\n<p>At this point, each index value in the array (except for the last) is one less than the beginning position of a sublist. The index to its immediate right is the end of the sublist. We simply stream over the array and map each pair of indexes into a sublist and collect the output.</p>\n\n<p><strong>Discussion</strong></p>\n\n<p>The streams approach is slightly shorter than the for-loop version, but it's denser. The for-loop version is familiar, because we do this stuff in Java all the time, but if you're not already aware of what this loop is supposed to be doing, it's not obvious. You might have to simulate a few loop executions before you figure out what <code>prev</code> is doing and why the open sublist has to be closed after the end of the loop. (I initially forgot to have it, but I caught this in testing.)</p>\n\n<p>The streams approach is, I think, easier to conceptualize what's going on: get a list (or an array) that indicates the boundaries between sublists. That's an easy streams two-liner. The difficulty, as I mentioned above, is finding a way to tack the edge values onto the ends. If there were a better syntax for doing this, e.g.,</p>\n\n<pre><code>    // Java plus pidgin Scala\n    int[] indexes =\n        [-1] ++ IntStream.range(0, input.size())\n                         .filter(i -&gt; input.get(i) == null) ++ [input.size()];\n</code></pre>\n\n<p>it would make things a lot less cluttered. (What we really need is array or list comprehension.) Once you have the indexes, it's a simple matter to map them into actual sublists and collect them into the result list.</p>\n\n<p>And of course this is safe when run in parallel.</p>\n\n<p><strong>UPDATE 2016-02-06</strong></p>\n\n<p>Here's a nicer way to create the array of sublist indexes. It's based on the same principles, but it adjusts the index range and adds some conditions to the filter to avoid having to concatenate and flatmap the indexes.</p>\n\n<pre><code>static List&lt;List&lt;String&gt;&gt; splitStream(List&lt;String&gt; input) {\n    int sz = input.size();\n    int[] indexes =\n        IntStream.rangeClosed(-1, sz)\n                 .filter(i -&gt; i == -1 || i == sz || input.get(i) == null)\n                 .toArray();\n\n    return IntStream.range(0, indexes.length-1)\n                    .mapToObj(i -&gt; input.subList(indexes[i]+1, indexes[i+1]))\n                    .collect(toList());\n}\n</code></pre>\n\n<p><strong>UPDATE 2016-11-23</strong></p>\n\n<p>I co-presented a talk with Brian Goetz at Devoxx Antwerp 2016, \"Thinking In Parallel\" (<a href=\"https://www.youtube.com/watch?v=2nup6Oizpcw\" rel=\"noreferrer\">video</a>) that featured this problem and my solutions. The problem presented there is a slight variation that splits on \"#\" instead of null, but it's otherwise the same. In the talk, I mentioned that I had a bunch of unit tests for this problem. I've appended them below, as a standalone program, along with my loop and streams implementations. An interesting exercise for readers is to run solutions proposed in other answers against the test cases I've provided here, and to see which ones fail and why. (The other solutions will have to be adapted to split based on a predicate instead of splitting on null.)</p>\n\n<pre><code>import java.util.*;\nimport java.util.function.*;\nimport java.util.stream.*;\n\nimport static java.util.Arrays.asList;\n\npublic class ListSplitting {\n    static final Map&lt;List&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; TESTCASES = new LinkedHashMap&lt;&gt;();\n    static {\n        TESTCASES.put(asList(),\n                  asList(asList()));\n        TESTCASES.put(asList(\"a\", \"b\", \"c\"),\n                  asList(asList(\"a\", \"b\", \"c\")));\n        TESTCASES.put(asList(\"a\", \"b\", \"#\", \"c\", \"#\", \"d\", \"e\"),\n                  asList(asList(\"a\", \"b\"), asList(\"c\"), asList(\"d\", \"e\")));\n        TESTCASES.put(asList(\"#\"),\n                  asList(asList(), asList()));\n        TESTCASES.put(asList(\"#\", \"a\", \"b\"),\n                  asList(asList(), asList(\"a\", \"b\")));\n        TESTCASES.put(asList(\"a\", \"b\", \"#\"),\n                  asList(asList(\"a\", \"b\"), asList()));\n        TESTCASES.put(asList(\"#\"),\n                  asList(asList(), asList()));\n        TESTCASES.put(asList(\"a\", \"#\", \"b\"),\n                  asList(asList(\"a\"), asList(\"b\")));\n        TESTCASES.put(asList(\"a\", \"#\", \"#\", \"b\"),\n                  asList(asList(\"a\"), asList(), asList(\"b\")));\n        TESTCASES.put(asList(\"a\", \"#\", \"#\", \"#\", \"b\"),\n                  asList(asList(\"a\"), asList(), asList(), asList(\"b\")));\n    }\n\n    static final Predicate&lt;String&gt; TESTPRED = \"#\"::equals;\n\n    static void testAll(BiFunction&lt;List&lt;String&gt;, Predicate&lt;String&gt;, List&lt;List&lt;String&gt;&gt;&gt; f) {\n        TESTCASES.forEach((input, expected) -&gt; {\n            List&lt;List&lt;String&gt;&gt; actual = f.apply(input, TESTPRED);\n            System.out.println(input + \" =&gt; \" + expected);\n            if (!expected.equals(actual)) {\n                System.out.println(\"  ERROR: actual was \" + actual);\n            }\n        });\n    }\n\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitStream(List&lt;T&gt; input, Predicate&lt;? super T&gt; pred) {\n        int[] edges = IntStream.range(-1, input.size()+1)\n                               .filter(i -&gt; i == -1 || i == input.size() ||\n                                       pred.test(input.get(i)))\n                               .toArray();\n\n        return IntStream.range(0, edges.length-1)\n                        .mapToObj(k -&gt; input.subList(edges[k]+1, edges[k+1]))\n                        .collect(Collectors.toList());\n    }\n\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; splitLoop(List&lt;T&gt; input, Predicate&lt;? super T&gt; pred) {\n        List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;();\n        int start = 0;\n\n        for (int cur = 0; cur &lt; input.size(); cur++) {\n            if (pred.test(input.get(cur))) {\n                result.add(input.subList(start, cur));\n                start = cur + 1;\n            }\n        }\n        result.add(input.subList(start, input.size()));\n\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"===== Loop =====\");\n        testAll(ListSplitting::splitLoop);\n        System.out.println(\"===== Stream =====\");\n        testAll(ListSplitting::splitStream);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426688635,"creation_date":1426688635,"answer_id":29124651,"question_id":29095967,"body_markdown":"Well, after a bit of work U have come up with a one-line stream-based solution. It ultimately uses `reduce()` to do the grouping, which seemed the natural choice, but it was a bit ugly getting the strings into the `List&lt;List&lt;String&gt;&gt;` required by reduce:\r\n\r\n    List&lt;List&lt;String&gt;&gt; result = list.stream()\r\n      .map(Arrays::asList)\r\n      .map(x -&gt; new LinkedList&lt;String&gt;(x))\r\n      .map(Arrays::asList)\r\n      .map(x -&gt; new LinkedList&lt;List&lt;String&gt;&gt;(x))\r\n      .reduce( (a, b) -&gt; {\r\n        if (b.getFirst().get(0) == null) \r\n          a.add(new LinkedList&lt;String&gt;());\r\n        else\r\n          a.getLast().addAll(b.getFirst());\r\n        return a;}).get();\r\n\r\nIt *is* however 1 line!\r\n\r\nWhen run with input from the question,\r\n\r\n    System.out.println(result);\r\n\r\nProduces:\r\n\r\n    [[a, b], [c], [d, e]]\r\n\r\n\r\n","title":"Splitting List into sublists along elements","body":"<p>Well, after a bit of work U have come up with a one-line stream-based solution. It ultimately uses <code>reduce()</code> to do the grouping, which seemed the natural choice, but it was a bit ugly getting the strings into the <code>List&lt;List&lt;String&gt;&gt;</code> required by reduce:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; result = list.stream()\n  .map(Arrays::asList)\n  .map(x -&gt; new LinkedList&lt;String&gt;(x))\n  .map(Arrays::asList)\n  .map(x -&gt; new LinkedList&lt;List&lt;String&gt;&gt;(x))\n  .reduce( (a, b) -&gt; {\n    if (b.getFirst().get(0) == null) \n      a.add(new LinkedList&lt;String&gt;());\n    else\n      a.getLast().addAll(b.getFirst());\n    return a;}).get();\n</code></pre>\n\n<p>It <em>is</em> however 1 line!</p>\n\n<p>When run with input from the question,</p>\n\n<pre><code>System.out.println(result);\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>[[a, b], [c], [d, e]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436955625,"creation_date":1436955625,"answer_id":31427685,"question_id":29095967,"body_markdown":"In my [StreamEx](https://github.com/amaembo/streamex) library there&#39;s a [`groupRuns`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-) method which can help you to solve this:\r\n\r\n    List&lt;String&gt; input = Arrays.asList(&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;);\r\n    List&lt;List&lt;String&gt;&gt; result = StreamEx.of(input)\r\n            .groupRuns((a, b) -&gt; a != null &amp;&amp; b != null)\r\n            .remove(list -&gt; list.get(0) == null).toList();\r\n\r\nThe `groupRuns` method takes a `BiPredicate` which for the pair of adjacent elements returns true if they should be grouped. After that we remove groups containing nulls and collect the rest to the List.\r\n\r\nThis solution is parallel-friendly: you may use it for parallel stream as well. Also it works nice with any stream source (not only random access lists like in some other solutions) and it&#39;s somewhat better than collector-based solutions as here you can use any terminal operation you want without intermediate memory waste.","title":"Splitting List into sublists along elements","body":"<p>In my <a href=\"https://github.com/amaembo/streamex\" rel=\"nofollow\">StreamEx</a> library there's a <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#groupRuns-java.util.function.BiPredicate-\" rel=\"nofollow\"><code>groupRuns</code></a> method which can help you to solve this:</p>\n\n<pre><code>List&lt;String&gt; input = Arrays.asList(\"a\", \"b\", null, \"c\", null, \"d\", \"e\");\nList&lt;List&lt;String&gt;&gt; result = StreamEx.of(input)\n        .groupRuns((a, b) -&gt; a != null &amp;&amp; b != null)\n        .remove(list -&gt; list.get(0) == null).toList();\n</code></pre>\n\n<p>The <code>groupRuns</code> method takes a <code>BiPredicate</code> which for the pair of adjacent elements returns true if they should be grouped. After that we remove groups containing nulls and collect the rest to the List.</p>\n\n<p>This solution is parallel-friendly: you may use it for parallel stream as well. Also it works nice with any stream source (not only random access lists like in some other solutions) and it's somewhat better than collector-based solutions as here you can use any terminal operation you want without intermediate memory waste.</p>\n"},{"tags":[],"owner":{"account_id":2221557,"reputation":3028,"user_id":1960816,"display_name":"Nick Vanderhoven"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479058462,"creation_date":1479037621,"answer_id":40573456,"question_id":29095967,"body_markdown":"\r\nAlthough the [answer of Marks Stuart][1] is concise, intuitive and parallel safe *(and the best)*, I want to share another interesting solution that doesn&#39;t need the start/end boundaries trick.\r\n\r\nIf we look at the problem domain and think about parallelism, we can easy solve this with a divide-and-conquer strategy. Instead of thinking about the problem as a serial list we have to traverse, we can look at the problem as a composition of the same basic problem: splitting a list at a `null` value. We can intuitively see quite easily that we can recursively break down the problem with the following recursive strategy:\r\n\r\n    split(L) :\r\n      - if (no null value found) -&gt; return just the simple list\r\n      - else -&gt; cut L around &#39;null&#39; naming the resulting sublists L1 and L2\r\n                return split(L1) + split(L2)\r\n\r\nIn this case, we first search any `null` value and the moment find one, we immediately cut the list and invoke a recursive call on the sublists. If we don&#39;t find `null` (the base case), we are finished with this branch and just return the list. Concatenating all the results will return the List&lt;List&gt; we are searching for. \r\n\r\nA picture is worth a thousand words:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe algorithm is simple and complete: we don&#39;t need any special tricks to handle the edge cases of the start/end of the list. We don&#39;t need any special tricks to handle edge cases such as empty lists, or lists with only `null` values. Or lists ending with `null` or starting with `null`.\r\n\r\nA simple naive implementation of this strategy looks as follows:\r\n\r\n    public List&lt;List&lt;String&gt;&gt; split(List&lt;String&gt; input) {\r\n\r\n        OptionalInt index = IntStream.range(0, input.size())\r\n                                     .filter(i -&gt; input.get(i) == null)\r\n                                     .findAny();\r\n\r\n        if (!index.isPresent())\r\n            return asList(input);\r\n\r\n        List&lt;String&gt; firstHalf  = input.subList(0, index.getAsInt());\r\n        List&lt;String&gt; secondHalf = input.subList(index.getAsInt()+1, input.size());\r\n\r\n        return asList(firstHalf, secondHalf).stream()\r\n                     .map(this::split)\r\n                     .flatMap(List::stream)\r\n                     .collect(toList());\r\n\r\n    }\r\n\r\nWe first search for the index of any `null` value in the list. If we don&#39;t find one, we return the list. If we find one, we split the list in 2 sublists, stream over them and recursively call the `split` method again. The resulting lists of the sub-problem are then extracted and combined for the return value.\r\n\r\n**Remark that the 2 streams can easily be made parallel()** and the algorithm will still work because of the functional decomposition of the problem.\r\n\r\nAlthough the code is already pretty concise, it can always be adapted in numerous ways. For the sake of an example, instead of checking the optional value in the base case, we could take advantage of the `orElse` method on the `OptionalInt` to return the end-index of the list, enabling us to re-use the second stream and additionally filter out empty lists:\r\n\r\n    public List&lt;List&lt;String&gt;&gt; split(List&lt;String&gt; input) {\r\n\r\n        int index =  IntStream.range(0, input.size())\r\n                              .filter(i -&gt; input.get(i) == null)\r\n                              .findAny().orElse(input.size());\r\n\r\n        return asList(input.subList(0, index), input.subList(index+1, input.size())).stream()\r\n                     .map(this::split)\r\n                     .flatMap(List::stream)\r\n                     .filter(list -&gt; !list.isEmpty())\r\n                     .collect(toList());\r\n    }\r\n\r\nThe example is only given to indicate the mere simplicity, adaptability and elegance of a recursive approach. Indeed, this version would introduce a small performance penalty and fail if the input was empty *(and as such might need an extra empty check)*. \r\n\r\nIn this case, recursion might probably not be the best solution ([Stuart Marks][3] algorithm to find indexes is only *O(N)* and mapping/splitting lists has a significant cost), but it expresses the solution with a simple, intuitive parallelizable algorithm without any side effects.\r\n\r\nI won&#39;t digg deeper into the complexity and advantages/disadvantages or use cases with stop criteria and/or partial result availability. I just felt the need to share this solution strategy, since the other approaches were merely iterative or using an overly complex solution algorithm that was not parallelizable.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29095967/splitting-list-into-sublists-along-elements/29111023#29111023\r\n  [2]: https://i.stack.imgur.com/gGFZB.png\r\n  [3]: https://stackoverflow.com/users/1441122/stuart-marks","title":"Splitting List into sublists along elements","body":"<p>Although the <a href=\"https://stackoverflow.com/questions/29095967/splitting-list-into-sublists-along-elements/29111023#29111023\">answer of Marks Stuart</a> is concise, intuitive and parallel safe <em>(and the best)</em>, I want to share another interesting solution that doesn't need the start/end boundaries trick.</p>\n\n<p>If we look at the problem domain and think about parallelism, we can easy solve this with a divide-and-conquer strategy. Instead of thinking about the problem as a serial list we have to traverse, we can look at the problem as a composition of the same basic problem: splitting a list at a <code>null</code> value. We can intuitively see quite easily that we can recursively break down the problem with the following recursive strategy:</p>\n\n<pre><code>split(L) :\n  - if (no null value found) -&gt; return just the simple list\n  - else -&gt; cut L around 'null' naming the resulting sublists L1 and L2\n            return split(L1) + split(L2)\n</code></pre>\n\n<p>In this case, we first search any <code>null</code> value and the moment find one, we immediately cut the list and invoke a recursive call on the sublists. If we don't find <code>null</code> (the base case), we are finished with this branch and just return the list. Concatenating all the results will return the List we are searching for. </p>\n\n<p>A picture is worth a thousand words:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gGFZB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gGFZB.png\" alt=\"enter image description here\"></a></p>\n\n<p>The algorithm is simple and complete: we don't need any special tricks to handle the edge cases of the start/end of the list. We don't need any special tricks to handle edge cases such as empty lists, or lists with only <code>null</code> values. Or lists ending with <code>null</code> or starting with <code>null</code>.</p>\n\n<p>A simple naive implementation of this strategy looks as follows:</p>\n\n<pre><code>public List&lt;List&lt;String&gt;&gt; split(List&lt;String&gt; input) {\n\n    OptionalInt index = IntStream.range(0, input.size())\n                                 .filter(i -&gt; input.get(i) == null)\n                                 .findAny();\n\n    if (!index.isPresent())\n        return asList(input);\n\n    List&lt;String&gt; firstHalf  = input.subList(0, index.getAsInt());\n    List&lt;String&gt; secondHalf = input.subList(index.getAsInt()+1, input.size());\n\n    return asList(firstHalf, secondHalf).stream()\n                 .map(this::split)\n                 .flatMap(List::stream)\n                 .collect(toList());\n\n}\n</code></pre>\n\n<p>We first search for the index of any <code>null</code> value in the list. If we don't find one, we return the list. If we find one, we split the list in 2 sublists, stream over them and recursively call the <code>split</code> method again. The resulting lists of the sub-problem are then extracted and combined for the return value.</p>\n\n<p><strong>Remark that the 2 streams can easily be made parallel()</strong> and the algorithm will still work because of the functional decomposition of the problem.</p>\n\n<p>Although the code is already pretty concise, it can always be adapted in numerous ways. For the sake of an example, instead of checking the optional value in the base case, we could take advantage of the <code>orElse</code> method on the <code>OptionalInt</code> to return the end-index of the list, enabling us to re-use the second stream and additionally filter out empty lists:</p>\n\n<pre><code>public List&lt;List&lt;String&gt;&gt; split(List&lt;String&gt; input) {\n\n    int index =  IntStream.range(0, input.size())\n                          .filter(i -&gt; input.get(i) == null)\n                          .findAny().orElse(input.size());\n\n    return asList(input.subList(0, index), input.subList(index+1, input.size())).stream()\n                 .map(this::split)\n                 .flatMap(List::stream)\n                 .filter(list -&gt; !list.isEmpty())\n                 .collect(toList());\n}\n</code></pre>\n\n<p>The example is only given to indicate the mere simplicity, adaptability and elegance of a recursive approach. Indeed, this version would introduce a small performance penalty and fail if the input was empty <em>(and as such might need an extra empty check)</em>. </p>\n\n<p>In this case, recursion might probably not be the best solution (<a href=\"https://stackoverflow.com/users/1441122/stuart-marks\">Stuart Marks</a> algorithm to find indexes is only <em>O(N)</em> and mapping/splitting lists has a significant cost), but it expresses the solution with a simple, intuitive parallelizable algorithm without any side effects.</p>\n\n<p>I won't digg deeper into the complexity and advantages/disadvantages or use cases with stop criteria and/or partial result availability. I just felt the need to share this solution strategy, since the other approaches were merely iterative or using an overly complex solution algorithm that was not parallelizable.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673926618,"creation_date":1480007190,"answer_id":40791717,"question_id":29095967,"body_markdown":"Here is code by [abacus-common][1]\r\n    \r\n    List&lt;String&gt; list = N.asList(null, null, &quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, null, &quot;d&quot;, &quot;e&quot;);\r\n    Stream.of(list).splitIntoList(null, (e, any) -&gt; e == null, null).filter(e -&gt; e.get(0) != null).forEach(N::println);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Splitting List into sublists along elements","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>List&lt;String&gt; list = N.asList(null, null, &quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, null, &quot;d&quot;, &quot;e&quot;);\nStream.of(list).splitIntoList(null, (e, any) -&gt; e == null, null).filter(e -&gt; e.get(0) != null).forEach(N::println);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":3562536,"reputation":184,"user_id":2975057,"display_name":"janek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481223748,"creation_date":1481223748,"answer_id":41046938,"question_id":29095967,"body_markdown":"With String one can do:\r\n\r\n    String s = ....;\r\n    String[] parts = s.split(&quot;sth&quot;);\r\n\r\nIf all sequential collections (as the String is a sequence of chars) had this abstraction this could be doable for them too:\r\n\r\n    List&lt;T&gt; l = ...\r\n    List&lt;List&lt;T&gt;&gt; parts = l.split(condition) (possibly with several overloaded variants)\r\n\r\n\r\nIf we restrict the original problem to List of Strings (and imposing some restrictions on it&#39;s elements contents) we could hack it like this:\r\n\r\n    String als = Arrays.toString(new String[]{&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;});\r\n    String[] sa = als.substring(1, als.length() - 1).split(&quot;null, &quot;);\r\n    List&lt;List&lt;String&gt;&gt; res = Stream.of(sa).map(s -&gt; Arrays.asList(s.split(&quot;, &quot;))).collect(Collectors.toList());\r\n\r\n(please don&#39;t take it seriously though :))\r\n\r\nOtherwise, plain old recursion also works:\r\n\r\n    List&lt;List&lt;String&gt;&gt; part(List&lt;String&gt; input, List&lt;List&lt;String&gt;&gt; acc, List&lt;String&gt; cur, int i) {\r\n        if (i == input.size()) return acc;\r\n        if (input.get(i) != null) {\r\n            cur.add(input.get(i));\r\n        } else if (!cur.isEmpty()) {\r\n            acc.add(cur);\r\n            cur = new ArrayList&lt;&gt;();\r\n        }\r\n        return part(input, acc, cur, i + 1);\r\n    }\r\n\r\n(note in this case null has to be appended to the input list)\r\n\r\n    part(input, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), 0)","title":"Splitting List into sublists along elements","body":"<p>With String one can do:</p>\n\n<pre><code>String s = ....;\nString[] parts = s.split(\"sth\");\n</code></pre>\n\n<p>If all sequential collections (as the String is a sequence of chars) had this abstraction this could be doable for them too:</p>\n\n<pre><code>List&lt;T&gt; l = ...\nList&lt;List&lt;T&gt;&gt; parts = l.split(condition) (possibly with several overloaded variants)\n</code></pre>\n\n<p>If we restrict the original problem to List of Strings (and imposing some restrictions on it's elements contents) we could hack it like this:</p>\n\n<pre><code>String als = Arrays.toString(new String[]{\"a\", \"b\", null, \"c\", null, \"d\", \"e\"});\nString[] sa = als.substring(1, als.length() - 1).split(\"null, \");\nList&lt;List&lt;String&gt;&gt; res = Stream.of(sa).map(s -&gt; Arrays.asList(s.split(\", \"))).collect(Collectors.toList());\n</code></pre>\n\n<p>(please don't take it seriously though :))</p>\n\n<p>Otherwise, plain old recursion also works:</p>\n\n<pre><code>List&lt;List&lt;String&gt;&gt; part(List&lt;String&gt; input, List&lt;List&lt;String&gt;&gt; acc, List&lt;String&gt; cur, int i) {\n    if (i == input.size()) return acc;\n    if (input.get(i) != null) {\n        cur.add(input.get(i));\n    } else if (!cur.isEmpty()) {\n        acc.add(cur);\n        cur = new ArrayList&lt;&gt;();\n    }\n    return part(input, acc, cur, i + 1);\n}\n</code></pre>\n\n<p>(note in this case null has to be appended to the input list)</p>\n\n<pre><code>part(input, new ArrayList&lt;&gt;(), new ArrayList&lt;&gt;(), 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2456320,"reputation":78,"user_id":3504326,"accept_rate":20,"display_name":"Shadi Moadad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484856386,"creation_date":1484834258,"answer_id":41743568,"question_id":29095967,"body_markdown":"Group by different token whenever you find a null (or separator). I used here a different integer (used atomic just as holder)\r\n\r\nThen remap the generated map to transform it into a list of lists.\r\n\r\n\tAtomicInteger i = new AtomicInteger();\r\n\tList&lt;List&lt;String&gt;&gt; x = Stream.of(&quot;A&quot;, &quot;B&quot;, null, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;, null, &quot;H&quot;, &quot;K&quot;)\r\n\t\t  .collect(Collectors.groupingBy(s -&gt; s == null ? i.incrementAndGet() : i.get()))\r\n\t\t  .entrySet().stream().map(e -&gt; e.getValue().stream().filter(v -&gt; v != null).collect(Collectors.toList()))\r\n\t\t  .collect(Collectors.toList());\r\n\t\t   \r\n\tSystem.out.println(x);","title":"Splitting List into sublists along elements","body":"<p>Group by different token whenever you find a null (or separator). I used here a different integer (used atomic just as holder)</p>\n\n<p>Then remap the generated map to transform it into a list of lists.</p>\n\n<pre><code>AtomicInteger i = new AtomicInteger();\nList&lt;List&lt;String&gt;&gt; x = Stream.of(\"A\", \"B\", null, \"C\", \"D\", \"E\", null, \"H\", \"K\")\n      .collect(Collectors.groupingBy(s -&gt; s == null ? i.incrementAndGet() : i.get()))\n      .entrySet().stream().map(e -&gt; e.getValue().stream().filter(v -&gt; v != null).collect(Collectors.toList()))\n      .collect(Collectors.toList());\n\nSystem.out.println(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8253433,"reputation":11,"user_id":6207299,"display_name":"Srikant Vavilapalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499201587,"creation_date":1499201138,"answer_id":44913790,"question_id":29095967,"body_markdown":"I was watching the video on Thinking in Parallel by Stuart. So decided to solve it before seeing his response in the video. Will update the solution with time. for now\r\n        \r\n    Arrays.asList(IntStream.range(0, abc.size()-1).\r\n    filter(index -&gt; abc.get(index).equals(&quot;#&quot;) ).\r\n    map(index -&gt; (index)).toArray()).\r\n    stream().forEach( index -&gt; {for (int i = 0; i &lt; index.length; i++) {\r\n\t\t\t\t\t\tif(sublist.size()==0){\r\n\t\t\t\t\t\t\tsublist.add(new ArrayList&lt;String&gt;(abc.subList(0, index[i])));\r\n\t\t\t\t\t\t}else{\r\n\r\n\t\t\t\t\t\tsublist.add(new ArrayList&lt;String&gt;(abc.subList(index[i]-1, index[i])));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\tsublist.add(new ArrayList&lt;String&gt;(abc.subList(index[index.length-1]+1, abc.size())));\r\n\t});\r\n\t\t\t\t","title":"Splitting List into sublists along elements","body":"<p>I was watching the video on Thinking in Parallel by Stuart. So decided to solve it before seeing his response in the video. Will update the solution with time. for now</p>\n\n<pre><code>Arrays.asList(IntStream.range(0, abc.size()-1).\nfilter(index -&gt; abc.get(index).equals(\"#\") ).\nmap(index -&gt; (index)).toArray()).\nstream().forEach( index -&gt; {for (int i = 0; i &lt; index.length; i++) {\n                    if(sublist.size()==0){\n                        sublist.add(new ArrayList&lt;String&gt;(abc.subList(0, index[i])));\n                    }else{\n\n                    sublist.add(new ArrayList&lt;String&gt;(abc.subList(index[i]-1, index[i])));\n                    }\n                }\n    sublist.add(new ArrayList&lt;String&gt;(abc.subList(index[index.length-1]+1, abc.size())));\n});\n</code></pre>\n"}],"owner":{"account_id":267265,"reputation":4348,"user_id":555336,"accept_rate":82,"display_name":"Oneiros"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38854,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":29096777,"answer_count":13,"score":70,"last_activity_date":1673926618,"creation_date":1426585952,"question_id":29095967,"body_markdown":"I have this list (`List&lt;String&gt;`):\r\n\r\n    [&quot;a&quot;, &quot;b&quot;, null, &quot;c&quot;, null, &quot;d&quot;, &quot;e&quot;]\r\n\r\nAnd I&#39;d like something like this:\r\n\r\n    [[&quot;a&quot;, &quot;b&quot;], [&quot;c&quot;], [&quot;d&quot;, &quot;e&quot;]]\r\n\r\nIn other words I want to split my list in sublists using the `null` value as separator, in order to obtain a list of lists (`List&lt;List&lt;String&gt;&gt;`). I&#39;m looking for a Java 8 solution. I&#39;ve tried with `Collectors.partitioningBy` but I&#39;m not sure it is what I&#39;m looking for. Thanks!","title":"Splitting List into sublists along elements","body":"<p>I have this list (<code>List&lt;String&gt;</code>):</p>\n\n<pre><code>[\"a\", \"b\", null, \"c\", null, \"d\", \"e\"]\n</code></pre>\n\n<p>And I'd like something like this:</p>\n\n<pre><code>[[\"a\", \"b\"], [\"c\"], [\"d\", \"e\"]]\n</code></pre>\n\n<p>In other words I want to split my list in sublists using the <code>null</code> value as separator, in order to obtain a list of lists (<code>List&lt;List&lt;String&gt;&gt;</code>). I'm looking for a Java 8 solution. I've tried with <code>Collectors.partitioningBy</code> but I'm not sure it is what I'm looking for. Thanks!</p>\n"},{"tags":["java","lambda","functional-programming","java-8","java-stream"],"comments":[{"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"score":0,"creation_date":1441019659,"post_id":32309863,"comment_id":52494790,"body_markdown":"What do you mean by _functional solution with lambdas_? Are you talking about streams? Can you give us some pseudo-code to let us know what you are after?","body":"What do you mean by <i>functional solution with lambdas</i>? Are you talking about streams? Can you give us some pseudo-code to let us know what you are after?"},{"owner":{"account_id":4259184,"reputation":71,"user_id":3483969,"display_name":"user3483969"},"score":0,"creation_date":1441020239,"post_id":32309863,"comment_id":52495131,"body_markdown":"I just want code using streams that does the following imperative function:","body":"I just want code using streams that does the following imperative function:"},{"owner":{"account_id":4259184,"reputation":71,"user_id":3483969,"display_name":"user3483969"},"score":0,"creation_date":1441020244,"post_id":32309863,"comment_id":52495137,"body_markdown":"`private List&lt;String&gt; getSubList(int maxAmount, List&lt;String&gt; inputList)\n\t{\n\t\tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;();\n\t\t\n\t\tint itemsFound = 0;\n\t\tfor (String item : inputList)\n\t\t{\n\t\t\tresult.add(item);\n\t\t\tif (item.equals(&quot;B&quot;)) itemsFound++;\n\t\t\tif (itemsFound == maxAmount);\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn result;\n\t}`","body":"<code>private List&lt;String&gt; getSubList(int maxAmount, List&lt;String&gt; inputList) \t{ \t\tArrayList&lt;String&gt; result = new ArrayList&lt;String&gt;(); \t\t \t\tint itemsFound = 0; \t\tfor (String item : inputList) \t\t{ \t\t\tresult.add(item); \t\t\tif (item.equals(&quot;B&quot;)) itemsFound++; \t\t\tif (itemsFound == maxAmount); \t\t\t\tbreak; \t\t} \t\t \t\treturn result; \t}</code>"},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1441020441,"post_id":32309863,"comment_id":52495244,"body_markdown":"Wait for Java 9 and `Stream#takeWhile`. But your logic demands a stateful predicate, which will always be a stumbling block.","body":"Wait for Java 9 and <code>Stream#takeWhile</code>. But your logic demands a stateful predicate, which will always be a stumbling block."}],"answers":[{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1441020316,"creation_date":1441020316,"answer_id":32310110,"question_id":32309863,"body_markdown":"If your input is a `List` with fast random access, you can solve your problem using the stream of indices:\r\n\r\n\tpublic static List&lt;String&gt; f(int n, List&lt;String&gt; input) {\r\n\t\tint fence = IntStream.range(0, input.size())\r\n                             .filter(idx -&gt; input.get(idx).equals(&quot;B&quot;)) // leave only B&#39;s\r\n                             .skip(n-1)\r\n                             .findFirst() // an index of n-th B\r\n                             .getAsInt(); // with throw NoSuchElementException if not enough B&#39;s\r\n\t\treturn input.subList(0, fence+1);\r\n\t}\r\n\r\nUsage example:\r\n\r\n\tSystem.out.println(f(3, Arrays.asList(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;)));\r\n\tSystem.out.println(f(2, Arrays.asList(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;)));\r\n\tSystem.out.println(f(1, Arrays.asList(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;)));\r\n\r\n\r\nHowever despite I love Stream API I would solve this problem imperatively.","title":"Getting sublist from a Java list with nth elements that fulfills a condition with streams","body":"<p>If your input is a <code>List</code> with fast random access, you can solve your problem using the stream of indices:</p>\n\n<pre><code>public static List&lt;String&gt; f(int n, List&lt;String&gt; input) {\n    int fence = IntStream.range(0, input.size())\n                         .filter(idx -&gt; input.get(idx).equals(\"B\")) // leave only B's\n                         .skip(n-1)\n                         .findFirst() // an index of n-th B\n                         .getAsInt(); // with throw NoSuchElementException if not enough B's\n    return input.subList(0, fence+1);\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>System.out.println(f(3, Arrays.asList(\"A\", \"A\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"A\")));\nSystem.out.println(f(2, Arrays.asList(\"A\", \"A\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"A\")));\nSystem.out.println(f(1, Arrays.asList(\"A\", \"A\", \"A\", \"B\", \"A\", \"B\", \"A\", \"B\", \"A\", \"A\")));\n</code></pre>\n\n<p>However despite I love Stream API I would solve this problem imperatively.</p>\n"},{"tags":[],"owner":{"account_id":3043751,"reputation":3340,"user_id":2580058,"accept_rate":100,"display_name":"Karol Kr&#243;l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441058670,"creation_date":1441058670,"answer_id":32320662,"question_id":32309863,"body_markdown":"This code snippet do the job.\r\n\r\n    public static void main(String[] args) {\r\n        final String input = &quot;A A A B A B A B A A&quot;;\r\n        final String[] array = input.split(&quot; &quot;);\r\n        final List&lt;String&gt; list = Arrays.asList(array);\r\n        final List&lt;String&gt; result = getSubList(list, 3);\r\n        System.out.println(&quot;Result=&quot; + result);\r\n    }\r\n\r\n    public static List&lt;String&gt; getSubList(final List&lt;String&gt; list, final int limit) {\r\n        final AtomicInteger counter = new AtomicInteger();\r\n        return list.stream()\r\n                .filter(ch -&gt; {\r\n                    if (ch.equals(&quot;B&quot;) &amp;&amp; counter.incrementAndGet() == limit) return true;\r\n                    return counter.get() &lt; limit;\r\n                })\r\n                .collect(Collectors.toList());\r\n    }","title":"Getting sublist from a Java list with nth elements that fulfills a condition with streams","body":"<p>This code snippet do the job.</p>\n\n<pre><code>public static void main(String[] args) {\n    final String input = \"A A A B A B A B A A\";\n    final String[] array = input.split(\" \");\n    final List&lt;String&gt; list = Arrays.asList(array);\n    final List&lt;String&gt; result = getSubList(list, 3);\n    System.out.println(\"Result=\" + result);\n}\n\npublic static List&lt;String&gt; getSubList(final List&lt;String&gt; list, final int limit) {\n    final AtomicInteger counter = new AtomicInteger();\n    return list.stream()\n            .filter(ch -&gt; {\n                if (ch.equals(\"B\") &amp;&amp; counter.incrementAndGet() == limit) return true;\n                return counter.get() &lt; limit;\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673926608,"creation_date":1479964792,"answer_id":40778548,"question_id":32309863,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    List&lt;String&gt; input = N.asList(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;);\r\n    List&lt;String&gt; list = Stream.of(input).takeWhile(MutableInt.of(3), (e, cnt) -&gt; cnt.getAndAdd(e.equals(&quot;B&quot;) ? -1 : 0) &gt; 0).toList();\r\n    N.println(list);\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/AbacusUtil","title":"Getting sublist from a Java list with nth elements that fulfills a condition with streams","body":"<p>Here is code by <a href=\"https://github.com/landawn/AbacusUtil\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>List&lt;String&gt; input = N.asList(&quot;A&quot;, &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;B&quot;, &quot;A&quot;, &quot;A&quot;);\nList&lt;String&gt; list = Stream.of(input).takeWhile(MutableInt.of(3), (e, cnt) -&gt; cnt.getAndAdd(e.equals(&quot;B&quot;) ? -1 : 0) &gt; 0).toList();\nN.println(list);\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":4259184,"reputation":71,"user_id":3483969,"display_name":"user3483969"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26018,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":32310110,"answer_count":3,"score":3,"last_activity_date":1673926608,"creation_date":1441019366,"question_id":32309863,"body_markdown":"I have a very simple use case \r\n\r\nGiven a list of letters with A and Bs, I want to get the sublist that contains the first N Bs, for example:\r\n\r\n - f(3, [A A A B A B A B A A]) = [A A A B A B A B]         \r\n - f(2, [A A A B A B A B A A]) = [A A A B A B]\r\n - f(1, [A A B A B A]) = [A A B]\r\n - f(0, [A A B A B]) = []\r\n\r\nBy following an imperative approach, this is relatively easy, count until we find N Bs, and then get the sublist until that position.\r\n\r\nHowever, I couldn&#39;t find any functional solution with lambdas, since the operation on every node seems to be independent from the others (which I guess make sense for parallelization).\r\n","title":"Getting sublist from a Java list with nth elements that fulfills a condition with streams","body":"<p>I have a very simple use case </p>\n\n<p>Given a list of letters with A and Bs, I want to get the sublist that contains the first N Bs, for example:</p>\n\n<ul>\n<li>f(3, [A A A B A B A B A A]) = [A A A B A B A B]         </li>\n<li>f(2, [A A A B A B A B A A]) = [A A A B A B]</li>\n<li>f(1, [A A B A B A]) = [A A B]</li>\n<li>f(0, [A A B A B]) = []</li>\n</ul>\n\n<p>By following an imperative approach, this is relatively easy, count until we find N Bs, and then get the sublist until that position.</p>\n\n<p>However, I couldn't find any functional solution with lambdas, since the operation on every node seems to be independent from the others (which I guess make sense for parallelization).</p>\n"},{"tags":["java","orm","cassandra"],"comments":[{"owner":{"account_id":2370649,"reputation":2236,"user_id":2075349,"display_name":"DmitryKanunnikoff"},"score":0,"creation_date":1394388331,"post_id":22285765,"comment_id":33856943,"body_markdown":"Try to use Hector: http://1and1.github.io/hector/build/html/index.html","body":"Try to use Hector: <a href=\"http://1and1.github.io/hector/build/html/index.html\" rel=\"nofollow noreferrer\">1and1.github.io/hector/build/html/index.html</a>"},{"owner":{"account_id":279290,"reputation":177,"user_id":574366,"display_name":"builtofire"},"score":0,"creation_date":1394398462,"post_id":22285765,"comment_id":33860779,"body_markdown":"yes,i have looked, but this is not an orm, it is a database client. \ni am looking just for a easy way to persist complex java objects without diving deep into cassandra table structures and joins","body":"yes,i have looked, but this is not an orm, it is a database client.  i am looking just for a easy way to persist complex java objects without diving deep into cassandra table structures and joins"},{"owner":{"account_id":2399959,"reputation":3504,"user_id":2097858,"display_name":"Daniel S."},"score":5,"creation_date":1394401319,"post_id":22285765,"comment_id":33861758,"body_markdown":"The problem with that approach is that unless you&#39;re aware of Cassandra schema, you will not be able to leverage its architecture to run performant queries.  In fact, CQL does not support many query types, because they can&#39;t be executed fast, making a general purpose ORM a difficult proposition.","body":"The problem with that approach is that unless you&#39;re aware of Cassandra schema, you will not be able to leverage its architecture to run performant queries.  In fact, CQL does not support many query types, because they can&#39;t be executed fast, making a general purpose ORM a difficult proposition."}],"answers":[{"tags":[],"owner":{"account_id":1018708,"reputation":3057,"user_id":1029673,"display_name":"emgsilva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1394437492,"creation_date":1394437492,"answer_id":22294623,"question_id":22285765,"body_markdown":"You should take a look into Kundera (https://github.com/impetus-opensource/Kundera), it is a very good Java option for Cassandra (and other datastores). It it JPA compliant, has an amazing development team (very responsive and fast moving) and excellent documentation.\r\n\r\nHTH","title":"Cassandra java ORM","body":"<p>You should take a look into Kundera (<a href=\"https://github.com/impetus-opensource/Kundera\" rel=\"nofollow\">https://github.com/impetus-opensource/Kundera</a>), it is a very good Java option for Cassandra (and other datastores). It it JPA compliant, has an amazing development team (very responsive and fast moving) and excellent documentation.</p>\n\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":2649072,"reputation":122,"user_id":2291212,"accept_rate":83,"display_name":"Harish Shan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430225707,"creation_date":1430225707,"answer_id":29920140,"question_id":22285765,"body_markdown":"Try Easy Cassandra https://github.com/otaviojava/Easy-Cassandra. It works good for me","title":"Cassandra java ORM","body":"<p>Try Easy Cassandra <a href=\"https://github.com/otaviojava/Easy-Cassandra\" rel=\"nofollow\">https://github.com/otaviojava/Easy-Cassandra</a>. It works good for me</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673926578,"creation_date":1467648791,"answer_id":38188830,"question_id":22285765,"body_markdown":"Try [abacus-common][1]\r\n\r\n\r\nCQL is supported with Entity/Map parameters. Here is a simple CRUD sample:\r\n\r\n        @Test\r\n        public void test_crud() {\r\n            Account account = createAccount();\r\n            // create\r\n            String sql_insert = NE.insert(ID, GUI, FIRST_NAME, LAST_NAME, LAST_UPDATE_TIME, CREATE_TIME).into(Account.class).sql();\r\n            cassandraExecutor.execute(sql_insert, account);\r\n    \r\n            // read\r\n            String sql_selectByGUI = NE.select(ID, GUI, FIRST_NAME, LAST_NAME).from(Account._).where(L.eq(ID, L.QME)).sql();\r\n            Account dbAccount = cassandraExecutor.queryForEntity(Account.class, sql_selectByGUI, account);\r\n    \r\n            // update\r\n            String sql_updateByLastName = NE.update(Account.class).set(FIRST_NAME).where(L.eq(ID, L.QME)).sql();\r\n            dbAccount.setFirstName(&quot;newFirstName&quot;);\r\n            cassandraExecutor.execute(sql_updateByLastName, dbAccount);\r\n    \r\n            // delete\r\n            String sql_deleteByFirstName = NE.deleteFrom(Account.class).where(L.eq(ID, L.QME)).sql();\r\n            cassandraExecutor.execute(sql_deleteByFirstName, dbAccount);\r\n    \r\n            // check\r\n            assertFalse(cassandraExecutor.exists(sql_selectByGUI, dbAccount));\r\n        }\r\n\r\n\r\nDeclaration: I&#39;m the developer of abacus-common\r\n\r\n\r\n  [1]: https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/CassandraExecutor_view.html","title":"Cassandra java ORM","body":"<p>Try <a href=\"https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/CassandraExecutor_view.html\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<p>CQL is supported with Entity/Map parameters. Here is a simple CRUD sample:</p>\n<pre><code>    @Test\n    public void test_crud() {\n        Account account = createAccount();\n        // create\n        String sql_insert = NE.insert(ID, GUI, FIRST_NAME, LAST_NAME, LAST_UPDATE_TIME, CREATE_TIME).into(Account.class).sql();\n        cassandraExecutor.execute(sql_insert, account);\n\n        // read\n        String sql_selectByGUI = NE.select(ID, GUI, FIRST_NAME, LAST_NAME).from(Account._).where(L.eq(ID, L.QME)).sql();\n        Account dbAccount = cassandraExecutor.queryForEntity(Account.class, sql_selectByGUI, account);\n\n        // update\n        String sql_updateByLastName = NE.update(Account.class).set(FIRST_NAME).where(L.eq(ID, L.QME)).sql();\n        dbAccount.setFirstName(&quot;newFirstName&quot;);\n        cassandraExecutor.execute(sql_updateByLastName, dbAccount);\n\n        // delete\n        String sql_deleteByFirstName = NE.deleteFrom(Account.class).where(L.eq(ID, L.QME)).sql();\n        cassandraExecutor.execute(sql_deleteByFirstName, dbAccount);\n\n        // check\n        assertFalse(cassandraExecutor.exists(sql_selectByGUI, dbAccount));\n    }\n</code></pre>\n<p>Declaration: I'm the developer of abacus-common</p>\n"},{"tags":[],"owner":{"account_id":8510108,"reputation":279,"user_id":6380415,"accept_rate":75,"display_name":"Omarkad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606143161,"creation_date":1606143161,"answer_id":64970755,"question_id":22285765,"body_markdown":"You can try [Charybdis][1].\r\n\r\nIt&#39;s easy to use and comprehensive.\r\nIt supports main Cassandra/Datastax features (LWT, batch queries, async execution...), with intuitive modeling and querying.\r\n\r\nExample of an insert query:\r\n- Using DSL API: \r\n\r\n      cqlTemplate.dsl().insertInto(User_Table.user, User_Table.id, User_Table.joiningDate, User_Table.addresses)\r\n                 .values(UUID.randomUUID(), Instant.now(), addresses)\r\n                 .ifNotExists()\r\n                 .execute();\r\n\r\n- Using Crud API:\r\n\r\n      cqlTemplate.crud().create(User_Table.user, new User(...));\r\n\r\n\r\nYou can have a look at this Chat application (demo with spring boot)\r\n[Charybdis Demo][2] that uses the framework.\r\n\r\nbtw I am the developer and maintainer of this project.\r\n\r\n  [1]: https://github.com/omarkad2/charybdis\r\n  [2]: https://github.com/omarkad2/charybdis-demo","title":"Cassandra java ORM","body":"<p>You can try <a href=\"https://github.com/omarkad2/charybdis\" rel=\"nofollow noreferrer\">Charybdis</a>.</p>\n<p>It's easy to use and comprehensive.\nIt supports main Cassandra/Datastax features (LWT, batch queries, async execution...), with intuitive modeling and querying.</p>\n<p>Example of an insert query:</p>\n<ul>\n<li><p>Using DSL API:</p>\n<pre><code>cqlTemplate.dsl().insertInto(User_Table.user, User_Table.id, User_Table.joiningDate, User_Table.addresses)\n           .values(UUID.randomUUID(), Instant.now(), addresses)\n           .ifNotExists()\n           .execute();\n</code></pre>\n</li>\n<li><p>Using Crud API:</p>\n<pre><code>cqlTemplate.crud().create(User_Table.user, new User(...));\n</code></pre>\n</li>\n</ul>\n<p>You can have a look at this Chat application (demo with spring boot)\n<a href=\"https://github.com/omarkad2/charybdis-demo\" rel=\"nofollow noreferrer\">Charybdis Demo</a> that uses the framework.</p>\n<p>btw I am the developer and maintainer of this project.</p>\n"}],"owner":{"account_id":279290,"reputation":177,"user_id":574366,"display_name":"builtofire"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7268,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1606148635,"answer_count":4,"score":6,"last_activity_date":1673926578,"creation_date":1394387594,"question_id":22285765,"body_markdown":"Does anyone know a something similar to spring-data-mongo but for Cassandra ?\r\n\r\nspring cassandra is alpha.\r\neasy cassandra is not so good.\r\nafter working with spring-data-mongo, it is very hard to think in CQL way.\r\n\r\nthanks, and sorry for being lame.\r\n","title":"Cassandra java ORM","body":"<p>Does anyone know a something similar to spring-data-mongo but for Cassandra ?</p>\n\n<p>spring cassandra is alpha.\neasy cassandra is not so good.\nafter working with spring-data-mongo, it is very hard to think in CQL way.</p>\n\n<p>thanks, and sorry for being lame.</p>\n"},{"tags":["java","ubuntu","web-crawler"],"owner":{"account_id":25486131,"reputation":25,"user_id":19281692,"display_name":"lakkadaayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673925329,"creation_date":1673925329,"question_id":75141674,"body_markdown":"I have [ache-crawler][1] installed on my Ubuntu server. But when I run it using the command \r\n\r\n    ache startCrawl -c ./config/sample_config/ -s ./config/sample.seeds -o ../data/ -m ./config/model/\r\n\r\nIt gives following error:\r\n\r\n        [2023-01-17 02:34:34,037]ERROR [main] (Main.java:261) - Crawler execution failed                                                                                        : java.lang.reflect.InaccessibleObjectException: Unable to make field private fi                                                                                        nal java.lang.Object[] java.util.Arrays$ArrayList.a accessible: module java.base                                                                                         does not &quot;opens java.util&quot; to unnamed module @6fa4fbe3\r\n    \r\n    java.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unabl                                                                                        e to make field private final java.lang.Object[] java.util.Arrays$ArrayList.a ac                                                                                        cessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6fa4fbe                                                                                        3\r\n            at de.javakaffee.kryoserializers.ArraysAsListSerializer.&lt;init&gt;(ArraysAsL                                                                                        istSerializer.java:47)\r\n            at achecrawler.util.Kryos.registerDeserializers(Kryos.java:36)\r\n            at achecrawler.util.Kryos.access$000(Kryos.java:24)\r\n            at achecrawler.util.Kryos$1.initialValue(Kryos.java:29)\r\n            at achecrawler.util.Kryos$1.initialValue(Kryos.java:26)\r\n            at java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\r\n            at java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\r\n            at achecrawler.util.Kryos.serializeObject(Kryos.java:58)\r\n            at achecrawler.util.persistence.rocksdb.StringObjectHashtable.put(String                                                                                        ObjectHashtable.java:20)\r\n            at achecrawler.util.persistence.PersistentHashtable.commit(PersistentHas                                                                                        htable.java:122)\r\n            at achecrawler.link.frontier.Frontier.commit(Frontier.java:28)\r\n            at achecrawler.link.frontier.FrontierManager.addSeeds(FrontierManager.ja                                                                                        va:254)\r\n            at achecrawler.link.frontier.FrontierManagerFactory.create(FrontierManag                                                                                        erFactory.java:44)\r\n            at achecrawler.link.LinkStorage.create(LinkStorage.java:169)\r\n            at achecrawler.crawler.async.AsyncCrawler.create(AsyncCrawler.java:114)\r\n            at achecrawler.crawler.CrawlersManager.createCrawler(CrawlersManager.jav                                                                                        a:104)\r\n            at achecrawler.Main$StartCrawl.run(Main.java:247)\r\n            at achecrawler.Main.main(Main.java:59)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field p                                                                                        rivate final java.lang.Object[] java.util.Arrays$ArrayList.a accessible: module                                                                                         java.base does not &quot;opens java.util&quot; to unnamed module @6fa4fbe3\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Ac                                                                                        cessibleObject.java:354)\r\n            at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Ac                                                                                        cessibleObject.java:297)\r\n            at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:18                                                                                        0)\r\n            at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n            at de.javakaffee.kryoserializers.ArraysAsListSerializer.&lt;init&gt;(ArraysAsL                                                                                        istSerializer.java:45)\r\n            ... 17 common frames omitted\r\n\r\njava installed on my server is openJDK 18.\r\n\r\n\r\n  [1]: https://github.com/VIDA-NYU/ache","title":"Unable to run ache crawler on ubuntu","body":"<p>I have <a href=\"https://github.com/VIDA-NYU/ache\" rel=\"nofollow noreferrer\">ache-crawler</a> installed on my Ubuntu server. But when I run it using the command</p>\n<pre><code>ache startCrawl -c ./config/sample_config/ -s ./config/sample.seeds -o ../data/ -m ./config/model/\n</code></pre>\n<p>It gives following error:</p>\n<pre><code>    [2023-01-17 02:34:34,037]ERROR [main] (Main.java:261) - Crawler execution failed                                                                                        : java.lang.reflect.InaccessibleObjectException: Unable to make field private fi                                                                                        nal java.lang.Object[] java.util.Arrays$ArrayList.a accessible: module java.base                                                                                         does not &quot;opens java.util&quot; to unnamed module @6fa4fbe3\n\njava.lang.RuntimeException: java.lang.reflect.InaccessibleObjectException: Unabl                                                                                        e to make field private final java.lang.Object[] java.util.Arrays$ArrayList.a ac                                                                                        cessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6fa4fbe                                                                                        3\n        at de.javakaffee.kryoserializers.ArraysAsListSerializer.&lt;init&gt;(ArraysAsL                                                                                        istSerializer.java:47)\n        at achecrawler.util.Kryos.registerDeserializers(Kryos.java:36)\n        at achecrawler.util.Kryos.access$000(Kryos.java:24)\n        at achecrawler.util.Kryos$1.initialValue(Kryos.java:29)\n        at achecrawler.util.Kryos$1.initialValue(Kryos.java:26)\n        at java.base/java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:195)\n        at java.base/java.lang.ThreadLocal.get(ThreadLocal.java:172)\n        at achecrawler.util.Kryos.serializeObject(Kryos.java:58)\n        at achecrawler.util.persistence.rocksdb.StringObjectHashtable.put(String                                                                                        ObjectHashtable.java:20)\n        at achecrawler.util.persistence.PersistentHashtable.commit(PersistentHas                                                                                        htable.java:122)\n        at achecrawler.link.frontier.Frontier.commit(Frontier.java:28)\n        at achecrawler.link.frontier.FrontierManager.addSeeds(FrontierManager.ja                                                                                        va:254)\n        at achecrawler.link.frontier.FrontierManagerFactory.create(FrontierManag                                                                                        erFactory.java:44)\n        at achecrawler.link.LinkStorage.create(LinkStorage.java:169)\n        at achecrawler.crawler.async.AsyncCrawler.create(AsyncCrawler.java:114)\n        at achecrawler.crawler.CrawlersManager.createCrawler(CrawlersManager.jav                                                                                        a:104)\n        at achecrawler.Main$StartCrawl.run(Main.java:247)\n        at achecrawler.Main.main(Main.java:59)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field p                                                                                        rivate final java.lang.Object[] java.util.Arrays$ArrayList.a accessible: module                                                                                         java.base does not &quot;opens java.util&quot; to unnamed module @6fa4fbe3\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Ac                                                                                        cessibleObject.java:354)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(Ac                                                                                        cessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:18                                                                                        0)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\n        at de.javakaffee.kryoserializers.ArraysAsListSerializer.&lt;init&gt;(ArraysAsL                                                                                        istSerializer.java:45)\n        ... 17 common frames omitted\n</code></pre>\n<p>java installed on my server is openJDK 18.</p>\n"},{"tags":["java","spring","spring-boot","nginx","reverse-proxy"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673924314,"creation_date":1673923305,"answer_id":75141520,"question_id":75141452,"body_markdown":"you need to also add following into nginx config:\r\n\r\n```\r\nproxy_set_header    X-Forwarded-Host   $host;\r\nproxy_set_header    X-Forwarded-Port   $server_port;\r\nproxy_set_header    X-Forwarded-Proto  $scheme;\r\n```\r\n\r\nif `spring-boot` version is recent enough everything should work without setup on `spring-boot` side.","title":"Spring Boot - Why is the app port attached to dns after reverse proxying?","body":"<p>you need to also add following into nginx config:</p>\n<pre><code>proxy_set_header    X-Forwarded-Host   $host;\nproxy_set_header    X-Forwarded-Port   $server_port;\nproxy_set_header    X-Forwarded-Proto  $scheme;\n</code></pre>\n<p>if <code>spring-boot</code> version is recent enough everything should work without setup on <code>spring-boot</code> side.</p>\n"}],"owner":{"account_id":22442586,"reputation":9,"user_id":16646884,"display_name":"john_smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75141520,"answer_count":1,"score":0,"last_activity_date":1673924314,"creation_date":1673922319,"question_id":75141452,"body_markdown":"I created a spring boot app behind an nginx proxy.\\\r\nWhen a specific dns (example.com) is received from nginx port 80, a reverse proxy is configured to go to the spring boot app.(The port of spring boot is 8080.)\r\n\r\nThe strange thing here is that when you connect to example.com, 8080, the port of spring boot, is attached to the back.\r\n```\r\nex) example.com:8080/\r\n```\r\nSo, &quot;:8080&quot; is added in front of &quot;/resources/index.html&quot;, \r\nwhich is a redirect of &quot;/&quot;.\r\n```\r\nexample.com/ -&gt; example.com:8080/resources/index.html\r\n```\r\n\r\nI want to get rid of :8080 here.\r\n\r\nmy spring code\r\n```\r\npackage kcnd.campaign.configuration.web;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/resources/**&quot;)\r\n                .addResourceLocations(&quot;classpath:public/resources/&quot;);\r\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void addViewControllers(ViewControllerRegistry registry) {\r\n        registry.addRedirectViewController(&quot;/&quot;, &quot;/resources/index.html&quot;);\r\n    }\r\n}\r\n```\r\n\r\nmy proxy code\r\n```\r\nserver {\r\n    listen       80;\r\n    server_name  example.com;\r\n\r\n    location / {\r\n         proxy_set_header X-Real-IP $remote_addr;\r\n         proxy_set_header HOST $http_host;\r\n         proxy_set_header X-NginX-Proxy true;\r\n         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n \r\n         proxy_pass [app-ip]:8080;\r\n         proxy_redirect off;\r\n   }\r\n}\r\n\r\n```\r\n\r\n\r\nI would appreciate it if you could tell me why 8080 is attached when accessing example.com and how to solve it.","title":"Spring Boot - Why is the app port attached to dns after reverse proxying?","body":"<p>I created a spring boot app behind an nginx proxy.<br />\nWhen a specific dns (example.com) is received from nginx port 80, a reverse proxy is configured to go to the spring boot app.(The port of spring boot is 8080.)</p>\n<p>The strange thing here is that when you connect to example.com, 8080, the port of spring boot, is attached to the back.</p>\n<pre><code>ex) example.com:8080/\n</code></pre>\n<p>So, &quot;:8080&quot; is added in front of &quot;/resources/index.html&quot;,\nwhich is a redirect of &quot;/&quot;.</p>\n<pre><code>example.com/ -&gt; example.com:8080/resources/index.html\n</code></pre>\n<p>I want to get rid of :8080 here.</p>\n<p>my spring code</p>\n<pre><code>package kcnd.campaign.configuration.web;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/resources/**&quot;)\n                .addResourceLocations(&quot;classpath:public/resources/&quot;);\n        registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n        registry.addResourceHandler(&quot;/webjars/**&quot;)\n                .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n    }\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addRedirectViewController(&quot;/&quot;, &quot;/resources/index.html&quot;);\n    }\n}\n</code></pre>\n<p>my proxy code</p>\n<pre><code>server {\n    listen       80;\n    server_name  example.com;\n\n    location / {\n         proxy_set_header X-Real-IP $remote_addr;\n         proxy_set_header HOST $http_host;\n         proxy_set_header X-NginX-Proxy true;\n         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n \n         proxy_pass [app-ip]:8080;\n         proxy_redirect off;\n   }\n}\n\n</code></pre>\n<p>I would appreciate it if you could tell me why 8080 is attached when accessing example.com and how to solve it.</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673783811,"post_id":75124874,"comment_id":132570857,"body_markdown":"&quot;*I think 2 objects will be available for garbage collection*&quot; - This is not correct.","body":"&quot;<i>I think 2 objects will be available for garbage collection</i>&quot; - This is not correct."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673784007,"post_id":75124874,"comment_id":132570894,"body_markdown":"The only unambiguously correct answer is &quot;it depends&quot;.","body":"The only unambiguously correct answer is &quot;it depends&quot;."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1673784043,"post_id":75124874,"comment_id":132570902,"body_markdown":"@StephenC how so? The rules for eligibility are quite clear.","body":"@StephenC how so? The rules for eligibility are quite clear."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1673784276,"post_id":75124874,"comment_id":132570936,"body_markdown":"The question is whether you are using the theoretical view of eligibility or the practical one.  Q: At line #16 will the runtime *actually* determine that `a2` is no longer reachable?  A: It is implementation dependent.  And it is further confused if you replace the &quot;does stuff&quot; comment with code that  (hypothetically) does stuff with `a2`.","body":"The question is whether you are using the theoretical view of eligibility or the practical one.  Q: At line #16 will the runtime <i>actually</i> determine that <code>a2</code> is no longer reachable?  A: It is implementation dependent.  And it is further confused if you replace the &quot;does stuff&quot; comment with code that  (hypothetically) does stuff with <code>a2</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673788482,"post_id":75124874,"comment_id":132571588,"body_markdown":"Why should we care? The garbage collector can determine that a lot better than we can. Or at least a lot better than i can. I’m confident that it will do it’s job, so what more than that do we need to know?","body":"Why should we care? The garbage collector can determine that a lot better than we can. Or at least a lot better than i can. I’m confident that it will do it’s job, so what more than that do we need to know?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673788652,"post_id":75124874,"comment_id":132571611,"body_markdown":"We shouldn&#39;t care.  Unfortunately, there are people out there who like to include questions like this in quizzes ... giving unfortunate students the false impression that they need to know this kind of thing.","body":"We shouldn&#39;t care.  Unfortunately, there are people out there who like to include questions like this in quizzes ... giving unfortunate students the false impression that they need to know this kind of thing."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673789083,"post_id":75124874,"comment_id":132571700,"body_markdown":"Or even that it is *possible* to know!","body":"Or even that it is <i>possible</i> to know!"}],"answers":[{"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673784457,"creation_date":1673784457,"answer_id":75124954,"question_id":75124874,"body_markdown":"Let&#39;s give the objects allocated unambiguous names so we don&#39;t get confused with the variable and field names.\r\n\r\n* The first allocated Beta - betaOne\r\n* The second allocated Beta - betaTwo\r\n* The first allocated Alpha - alphaOne\r\n* The second allocated Alpha - alphaTwo.\r\n\r\nIn line 12 we assign betaOne to a static variable. This means that unless we clear that static variable, betaOne is not going to be eligible for garbage collection.\r\n\r\nIn line 14 we assign betaTwo to a non-static variable in alphaTwo. However, when we reach line 16, we do not clear alphaTwo, so its assigned variables are still reachable, so betaTwo is also still reachable.\r\n\r\nSo betaOne is reachable, and alphaTwo and betaTwo are reachable. Which leaves us onli with alphaOne not reachable.\r\n\r\nSo the answer is: 1.","title":"How many objects are eligible for garbage collection in the following question when line 16 is reached","body":"<p>Let's give the objects allocated unambiguous names so we don't get confused with the variable and field names.</p>\n<ul>\n<li>The first allocated Beta - betaOne</li>\n<li>The second allocated Beta - betaTwo</li>\n<li>The first allocated Alpha - alphaOne</li>\n<li>The second allocated Alpha - alphaTwo.</li>\n</ul>\n<p>In line 12 we assign betaOne to a static variable. This means that unless we clear that static variable, betaOne is not going to be eligible for garbage collection.</p>\n<p>In line 14 we assign betaTwo to a non-static variable in alphaTwo. However, when we reach line 16, we do not clear alphaTwo, so its assigned variables are still reachable, so betaTwo is also still reachable.</p>\n<p>So betaOne is reachable, and alphaTwo and betaTwo are reachable. Which leaves us onli with alphaOne not reachable.</p>\n<p>So the answer is: 1.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673790407,"creation_date":1673785715,"answer_id":75125060,"question_id":75124874,"body_markdown":"An object is eligible for garbage collection if it is unreachable. [JLS, &#167;12.6.1][jls] defines unreachability:\r\n\r\n&gt; Every object can be characterized by two attributes: it may be reachable, finalizer-reachable, or unreachable, and it may also be unfinalized, finalizable, or finalized.\r\n&gt;\r\n&gt; A reachable object is any object that can be accessed in any potential continuing computation from any live thread.\r\n&gt;\r\n&gt; A finalizer-reachable object can be reached from some finalizable object through some chain of references, but not from any live thread.\r\n&gt;\r\n&gt; An unreachable object cannot be reached by either means.\r\n\r\nLooking at the program at hand, we see that we create four object initially: `a1`, `a2`, `b1` and `b2` (lines 10 and 11);\r\n\r\nWe set `a1.b1 = b1;` (line 12). This is a line to fool the unaware: we set the **static** field `Alpha.a1` through an instance reference.\r\n\r\nThen, we set `a1.b2 = b1;` (line 13). Notice that we now set the **instance** field `b2` of `a1`.\r\n\r\nOn line 14, we set `a2.b2 = b2`. Again, notice that we set the **instance** field `b2` of `a2`.\r\n\r\nFinally, we `null` all references except `a2`.\r\n\r\nFor the following analysis, I am going to [assume (`urbandictionary.com`)][assumeUrban] that the comment on line 16 is a placeholder for a computation that accesses all variables that are alive (if we do not make this assumption, then objects that are referenced by unused variables are unreachable as per [JLS, &#167;12.6.1][jls]).\r\n\r\nNow for the analysis of reachability:\r\n- `a2` ist still reachable, so this object is not eligible for garbage collection.\r\n- Through `a2`, we cann still access `a2.b2`, so the object formerly referenceb by local variable `b2` is not eligible\r\n- Through the class `Alpha`, we can still access the object formerly referenced by `b1` (`Alpha.b1`), so this instance is also not eligible\r\n- The only instance that is no longer reachable is the object formerly referenced by `a1`.\r\n\r\nThus, the final answer is: one object is eligible for garbage collection.\r\n\r\nWe can even observe&lt;sup&gt;1&lt;/sup&gt; this behaviour through [`PhantomReference`s][phantomReferenceApi]:\r\n\r\n    import java.lang.ref.PhantomReference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    class Ideone {\r\n      public static void main(String[] args) throws InterruptedException {\r\n        Beta b1 = new Beta();\r\n        Beta b2 = new Beta();\r\n        Alpha a1 = new Alpha();\r\n        Alpha a2 = new Alpha();\r\n        a1.b1 = b1;\r\n        a1.b2 = b1;\r\n        a2.b2 = b2;\r\n        PhantomReference&lt;Alpha&gt; a1Phantom =\r\n            new PhantomReference&lt;&gt;(a1, new ReferenceQueue&lt;&gt;());\r\n        PhantomReference&lt;Alpha&gt; a2Phantom =\r\n            new PhantomReference&lt;&gt;(a2, new ReferenceQueue&lt;&gt;());\r\n        PhantomReference&lt;Beta&gt; b1Phantom =\r\n            new PhantomReference&lt;&gt;(b1, new ReferenceQueue&lt;&gt;());\r\n        PhantomReference&lt;Beta&gt; b2Phantom =\r\n            new PhantomReference&lt;&gt;(b2, new ReferenceQueue&lt;&gt;());\r\n        a1 = null;\r\n        b1 = null;\r\n        b2 = null;\r\n        System.gc();\r\n        Thread.sleep(TimeUnit.SECONDS.toMillis(1));\r\n        System.out.printf(\r\n            &quot;a1 has %sbeen collected%n&quot;, \r\n            a1Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\r\n        System.out.printf(\r\n            &quot;a2 has %sbeen collected%n&quot;, \r\n            a2Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\r\n        System.out.printf(\r\n            &quot;b1 has %sbeen collected%n&quot;, \r\n            b1Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\r\n        System.out.printf(\r\n            &quot;b2 has %sbeen collected%n&quot;, \r\n            b2Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\r\n      }\r\n    }\r\n\r\n    class Beta {\r\n    }\r\n\r\n    class Alpha {\r\n      static Beta b1;\r\n      Beta b2;\r\n    }\r\n\r\n[&lt;kbd&gt;`Ideone.com` demo&lt;/kbd&gt;][ideone]\r\n\r\nWhich prints: \r\n\r\n    a1 has been collected\r\n    a2 has not been collected\r\n    b1 has not been collected\r\n    b2 has not been collected\r\n\r\nShowing that only `a1` was collected.\r\n\r\n---\r\n\r\nA note on the code above:\r\n\r\nIn Java 16+, we would use `a1.refersTo(null)` instead of `a1.isEnqueued()` since method `isEnqueued()` was deprecated, and method `refersTo(T)` has been added.\r\n\r\n---\r\n\r\n&lt;sub&gt;&lt;sup&gt;1&lt;/sup&gt;: The program relies on the garbage-collector collecting all objects eligible, which is not guaranteed. The garbage collector might not run at all, or it might not collect all eligible objects. This demo is merely meant to illustrate the behaviour, not as definitive proof. For the proof, please read the analysis.&lt;/sub&gt;\r\n\r\n[jls]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.6.1\r\n[assumeUrban]: https://www.urbandictionary.com/define.php?term=Assume\r\n[phantomReferenceApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/PhantomReference.html\r\n[ideone]: https://ideone.com/AFm5tL","title":"How many objects are eligible for garbage collection in the following question when line 16 is reached","body":"<p>An object is eligible for garbage collection if it is unreachable. <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.6.1\" rel=\"nofollow noreferrer\">JLS, §12.6.1</a> defines unreachability:</p>\n<blockquote>\n<p>Every object can be characterized by two attributes: it may be reachable, finalizer-reachable, or unreachable, and it may also be unfinalized, finalizable, or finalized.</p>\n<p>A reachable object is any object that can be accessed in any potential continuing computation from any live thread.</p>\n<p>A finalizer-reachable object can be reached from some finalizable object through some chain of references, but not from any live thread.</p>\n<p>An unreachable object cannot be reached by either means.</p>\n</blockquote>\n<p>Looking at the program at hand, we see that we create four object initially: <code>a1</code>, <code>a2</code>, <code>b1</code> and <code>b2</code> (lines 10 and 11);</p>\n<p>We set <code>a1.b1 = b1;</code> (line 12). This is a line to fool the unaware: we set the <strong>static</strong> field <code>Alpha.a1</code> through an instance reference.</p>\n<p>Then, we set <code>a1.b2 = b1;</code> (line 13). Notice that we now set the <strong>instance</strong> field <code>b2</code> of <code>a1</code>.</p>\n<p>On line 14, we set <code>a2.b2 = b2</code>. Again, notice that we set the <strong>instance</strong> field <code>b2</code> of <code>a2</code>.</p>\n<p>Finally, we <code>null</code> all references except <code>a2</code>.</p>\n<p>For the following analysis, I am going to <a href=\"https://www.urbandictionary.com/define.php?term=Assume\" rel=\"nofollow noreferrer\">assume (<code>urbandictionary.com</code>)</a> that the comment on line 16 is a placeholder for a computation that accesses all variables that are alive (if we do not make this assumption, then objects that are referenced by unused variables are unreachable as per <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-12.html#jls-12.6.1\" rel=\"nofollow noreferrer\">JLS, §12.6.1</a>).</p>\n<p>Now for the analysis of reachability:</p>\n<ul>\n<li><code>a2</code> ist still reachable, so this object is not eligible for garbage collection.</li>\n<li>Through <code>a2</code>, we cann still access <code>a2.b2</code>, so the object formerly referenceb by local variable <code>b2</code> is not eligible</li>\n<li>Through the class <code>Alpha</code>, we can still access the object formerly referenced by <code>b1</code> (<code>Alpha.b1</code>), so this instance is also not eligible</li>\n<li>The only instance that is no longer reachable is the object formerly referenced by <code>a1</code>.</li>\n</ul>\n<p>Thus, the final answer is: one object is eligible for garbage collection.</p>\n<p>We can even observe<sup>1</sup> this behaviour through <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/PhantomReference.html\" rel=\"nofollow noreferrer\"><code>PhantomReference</code>s</a>:</p>\n<pre><code>import java.lang.ref.PhantomReference;\nimport java.lang.ref.ReferenceQueue;\nimport java.util.concurrent.TimeUnit;\n\nclass Ideone {\n  public static void main(String[] args) throws InterruptedException {\n    Beta b1 = new Beta();\n    Beta b2 = new Beta();\n    Alpha a1 = new Alpha();\n    Alpha a2 = new Alpha();\n    a1.b1 = b1;\n    a1.b2 = b1;\n    a2.b2 = b2;\n    PhantomReference&lt;Alpha&gt; a1Phantom =\n        new PhantomReference&lt;&gt;(a1, new ReferenceQueue&lt;&gt;());\n    PhantomReference&lt;Alpha&gt; a2Phantom =\n        new PhantomReference&lt;&gt;(a2, new ReferenceQueue&lt;&gt;());\n    PhantomReference&lt;Beta&gt; b1Phantom =\n        new PhantomReference&lt;&gt;(b1, new ReferenceQueue&lt;&gt;());\n    PhantomReference&lt;Beta&gt; b2Phantom =\n        new PhantomReference&lt;&gt;(b2, new ReferenceQueue&lt;&gt;());\n    a1 = null;\n    b1 = null;\n    b2 = null;\n    System.gc();\n    Thread.sleep(TimeUnit.SECONDS.toMillis(1));\n    System.out.printf(\n        &quot;a1 has %sbeen collected%n&quot;, \n        a1Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\n    System.out.printf(\n        &quot;a2 has %sbeen collected%n&quot;, \n        a2Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\n    System.out.printf(\n        &quot;b1 has %sbeen collected%n&quot;, \n        b1Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\n    System.out.printf(\n        &quot;b2 has %sbeen collected%n&quot;, \n        b2Phantom.isEnqueued() ? &quot;&quot; : &quot;not &quot;);\n  }\n}\n\nclass Beta {\n}\n\nclass Alpha {\n  static Beta b1;\n  Beta b2;\n}\n</code></pre>\n<p><a href=\"https://ideone.com/AFm5tL\" rel=\"nofollow noreferrer\"><kbd><code>Ideone.com</code> demo</kbd></a></p>\n<p>Which prints:</p>\n<pre><code>a1 has been collected\na2 has not been collected\nb1 has not been collected\nb2 has not been collected\n</code></pre>\n<p>Showing that only <code>a1</code> was collected.</p>\n<hr />\n<p>A note on the code above:</p>\n<p>In Java 16+, we would use <code>a1.refersTo(null)</code> instead of <code>a1.isEnqueued()</code> since method <code>isEnqueued()</code> was deprecated, and method <code>refersTo(T)</code> has been added.</p>\n<hr />\n<p><sub><sup>1</sup>: The program relies on the garbage-collector collecting all objects eligible, which is not guaranteed. The garbage collector might not run at all, or it might not collect all eligible objects. This demo is merely meant to illustrate the behaviour, not as definitive proof. For the proof, please read the analysis.</sub></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673924208,"creation_date":1673787091,"answer_id":75125189,"question_id":75124874,"body_markdown":"The answer depends on the Java implementation ... and how you choose to interpret the question.   In particular what precisely does line 16 mean?\r\n\r\n  - If we interpret line #16 as the Java compiler would interpret it, it is just a comment.  It does nothing.\r\n  - The other interpretation is that line #16 is editorial &quot;short hand&quot; for some *real* Java code that may or may not use the value in `a2`, and may or may not use the value in the (static) variable `Alpha.b1`.\r\n\r\nAccording to the JLS for Java 6 ([12.6.1][1]):\r\n\r\n&gt; *&quot;A reachable object is any object that can be accessed **in any potential continuing computation** from any live thread. Optimizing transformations of a program can be designed that reduce the number of objects that are reachable to be less than those which would naively be considered reachable. For example, a compiler or code generator may choose to set a variable or parameter that will no longer be used to null to cause the storage for such an object to be potentially reclaimable sooner.&quot;*\r\n\r\nSo how can we apply that here?\r\n\r\nIf we treat line #16 as nothing more than a comment, then at that point in the `main` method, the value of `a2` can no longer influence any potentially continuing computation.  But the compiler / optimizer / runtime may not be able to deduce that.  In other words, the actual reachability status of `a2` at line #16 is unclear.\r\n\r\nLikewise, unless there is some other code in the application beyond what we have been shown, the value of `Alpha.b1` also won&#39;t influence any potentially continuing computation.  Indeed, since that variable is only ever written to, it *could* be optimized away entirely!  But once again, we don&#39;t know know for sure whether the compiler / optimizer / runtime could or would deduce that `Alpha.b1` is unreachable, though (IMO) it is much less likely that they would.\r\n\r\nAnd there are a couple of additional factors:\r\n\r\n  1.  If the program is being debugged, that will affect the way the optimizer deals with the code and it may affect reachability.  For example, setting a breakpoint in the `main` method is likely to inhibit any behind-the-scenes nulling of `a2` since the programmer may want to examine the variable.\r\n  2.  It may not be obvious, but the reachability determination *also* depends on whether or not the `main` method *has been optimized*.  For current generation JVMs that use HotSpot JIT compiler technology, it most likely won&#39;t be optimized in the first (and only) call.  But with a AOT compiler, it *might* have been optimized.\r\n\r\nThen there is the alternative interpretation of line #16 as a placeholder for some *actual* code.  In that case, all bets are off as far as `Alpha.b1` and `a2` are concerned.  We simply can&#39;t answer the question at all unless we know what &quot;stuff&quot; is being done there.\r\n\r\nIn summary, it is impossible give an unambiguously correct answer on how many objects remain reachable.\r\n\r\n------------------\r\n\r\nNote that when the code reaches line #16 (and it is just a comment), reachability is moot anyway.  I can&#39;t think of anything that would cause the JVM to need to GC at that point ... or at any time up until the JVM process exits.  (There are no shutdown hooks, and &quot;finalization on exit&quot; is no longer supported.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se6/html/execution.html#12.6.1","title":"How many objects are eligible for garbage collection in the following question when line 16 is reached","body":"<p>The answer depends on the Java implementation ... and how you choose to interpret the question.   In particular what precisely does line 16 mean?</p>\n<ul>\n<li>If we interpret line #16 as the Java compiler would interpret it, it is just a comment.  It does nothing.</li>\n<li>The other interpretation is that line #16 is editorial &quot;short hand&quot; for some <em>real</em> Java code that may or may not use the value in <code>a2</code>, and may or may not use the value in the (static) variable <code>Alpha.b1</code>.</li>\n</ul>\n<p>According to the JLS for Java 6 (<a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/execution.html#12.6.1\" rel=\"nofollow noreferrer\">12.6.1</a>):</p>\n<blockquote>\n<p><em>&quot;A reachable object is any object that can be accessed <strong>in any potential continuing computation</strong> from any live thread. Optimizing transformations of a program can be designed that reduce the number of objects that are reachable to be less than those which would naively be considered reachable. For example, a compiler or code generator may choose to set a variable or parameter that will no longer be used to null to cause the storage for such an object to be potentially reclaimable sooner.&quot;</em></p>\n</blockquote>\n<p>So how can we apply that here?</p>\n<p>If we treat line #16 as nothing more than a comment, then at that point in the <code>main</code> method, the value of <code>a2</code> can no longer influence any potentially continuing computation.  But the compiler / optimizer / runtime may not be able to deduce that.  In other words, the actual reachability status of <code>a2</code> at line #16 is unclear.</p>\n<p>Likewise, unless there is some other code in the application beyond what we have been shown, the value of <code>Alpha.b1</code> also won't influence any potentially continuing computation.  Indeed, since that variable is only ever written to, it <em>could</em> be optimized away entirely!  But once again, we don't know know for sure whether the compiler / optimizer / runtime could or would deduce that <code>Alpha.b1</code> is unreachable, though (IMO) it is much less likely that they would.</p>\n<p>And there are a couple of additional factors:</p>\n<ol>\n<li>If the program is being debugged, that will affect the way the optimizer deals with the code and it may affect reachability.  For example, setting a breakpoint in the <code>main</code> method is likely to inhibit any behind-the-scenes nulling of <code>a2</code> since the programmer may want to examine the variable.</li>\n<li>It may not be obvious, but the reachability determination <em>also</em> depends on whether or not the <code>main</code> method <em>has been optimized</em>.  For current generation JVMs that use HotSpot JIT compiler technology, it most likely won't be optimized in the first (and only) call.  But with a AOT compiler, it <em>might</em> have been optimized.</li>\n</ol>\n<p>Then there is the alternative interpretation of line #16 as a placeholder for some <em>actual</em> code.  In that case, all bets are off as far as <code>Alpha.b1</code> and <code>a2</code> are concerned.  We simply can't answer the question at all unless we know what &quot;stuff&quot; is being done there.</p>\n<p>In summary, it is impossible give an unambiguously correct answer on how many objects remain reachable.</p>\n<hr />\n<p>Note that when the code reaches line #16 (and it is just a comment), reachability is moot anyway.  I can't think of anything that would cause the JVM to need to GC at that point ... or at any time up until the JVM process exits.  (There are no shutdown hooks, and &quot;finalization on exit&quot; is no longer supported.)</p>\n"}],"owner":{"account_id":25403128,"reputation":1,"user_id":19212270,"display_name":"Kartik Sinha"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1673924208,"creation_date":1673783661,"question_id":75124874,"body_markdown":"    3.  class Beta{ } \r\n    4.  class Alpha {\r\n    5.    static Beta b1;\r\n    6.    Beta b2;\r\n    7.  }\r\n    8.  public class Tester {\r\n    9.    public static void main(String[] args) {\r\n    10.     Beta b1 = new Beta(); Beta b2 = new Beta();\r\n    11.     Alpha a1 = new Alpha(); Alpha a2 = new Alpha();\r\n    12.     a1.b1 = b1;\r\n    13.     a1.b2 = b1;\r\n    14.     a2.b2 = b2;\r\n    15.     a1 = null; b1 = null; b2 = null;\r\n    16.     // do stuff\r\n    17.   }\r\n    18. }\r\n\r\nI think 2 objects will be available for garbage collection","title":"How many objects are eligible for garbage collection in the following question when line 16 is reached","body":"<pre><code>3.  class Beta{ } \n4.  class Alpha {\n5.    static Beta b1;\n6.    Beta b2;\n7.  }\n8.  public class Tester {\n9.    public static void main(String[] args) {\n10.     Beta b1 = new Beta(); Beta b2 = new Beta();\n11.     Alpha a1 = new Alpha(); Alpha a2 = new Alpha();\n12.     a1.b1 = b1;\n13.     a1.b2 = b1;\n14.     a2.b2 = b2;\n15.     a1 = null; b1 = null; b2 = null;\n16.     // do stuff\n17.   }\n18. }\n</code></pre>\n<p>I think 2 objects will be available for garbage collection</p>\n"},{"tags":["java","spring","amazon-dynamodb","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1673893375,"post_id":75133326,"comment_id":132594240,"body_markdown":"use the official AWS sdk: https://aws.amazon.com/blogs/developer/introducing-enhanced-dynamodb-client-in-the-aws-sdk-for-java-v2/","body":"use the official AWS sdk: <a href=\"https://aws.amazon.com/blogs/developer/introducing-enhanced-dynamodb-client-in-the-aws-sdk-for-java-v2/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/developer/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673923427,"creation_date":1673923427,"answer_id":75141531,"question_id":75133326,"body_markdown":"You can use `DynamoDbAsyncClient` form the [AWS SDK for Java 2.x](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html) that\r\nprovides truly nonblocking asynchronous clients that implement high concurrency across a few threads.\r\n\r\nThe methods for asynchronous client return `CompletableFuture` objects but you can easily wrap them into reactive API using `Mono.fromFuture`\r\n\r\n\r\n```\r\npublic Mono&lt;CreateTableResponse&gt; createTable(CreateTableRequest createTableRequest) {\r\n\treturn Mono.fromFuture(dynamoDbClient.createTable(createTableRequest));\r\n}\r\n```","title":"How to use DynamoDB with Project Reactor?","body":"<p>You can use <code>DynamoDbAsyncClient</code> form the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\" rel=\"nofollow noreferrer\">AWS SDK for Java 2.x</a> that\nprovides truly nonblocking asynchronous clients that implement high concurrency across a few threads.</p>\n<p>The methods for asynchronous client return <code>CompletableFuture</code> objects but you can easily wrap them into reactive API using <code>Mono.fromFuture</code></p>\n<pre><code>public Mono&lt;CreateTableResponse&gt; createTable(CreateTableRequest createTableRequest) {\n    return Mono.fromFuture(dynamoDbClient.createTable(createTableRequest));\n}\n</code></pre>\n"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673923427,"creation_date":1673867049,"question_id":75133326,"body_markdown":"I building a Reactive JVM-based application with ```Project Reactor```. During the application lifecycle, it connects to the ```DynamoDB```. Which, to my knowledge, provides a non-reactive REST connection. Is there are any libraries that can handle it? Or if not, how to use DynamoDB in reactive applications?\r\n\r\nAlready tried some Spring Starters with DynamoDB, but I prefer the Standart&#160;AWS SDK wrapper - [```JCABI```](https://github.com/jcabi/jcabi-dynamo)","title":"How to use DynamoDB with Project Reactor?","body":"<p>I building a Reactive JVM-based application with <code>Project Reactor</code>. During the application lifecycle, it connects to the <code>DynamoDB</code>. Which, to my knowledge, provides a non-reactive REST connection. Is there are any libraries that can handle it? Or if not, how to use DynamoDB in reactive applications?</p>\n<p>Already tried some Spring Starters with DynamoDB, but I prefer the Standart AWS SDK wrapper - <a href=\"https://github.com/jcabi/jcabi-dynamo\" rel=\"nofollow noreferrer\"><code>JCABI</code></a></p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":16196119,"reputation":99,"user_id":11693716,"display_name":"Syed Sulaiman"},"score":0,"creation_date":1618702771,"post_id":67143619,"comment_id":118682829,"body_markdown":"It solved. I just remove the line graalvmhome and restart my laptop. b/c i realize that I haven&#39;t restart it after setting the GRAALVM path. then it&#39;s worked","body":"It solved. I just remove the line graalvmhome and restart my laptop. b/c i realize that I haven&#39;t restart it after setting the GRAALVM path. then it&#39;s worked"}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673922855,"creation_date":1673920585,"answer_id":75141329,"question_id":67143619,"body_markdown":"it&#39;s `&lt;graalvmHome&gt;path to graal&lt;/graalvmHome&gt;` where `path to graal` is the path in your local machine  e.g. /home/user/graal","title":"How to add GRAALVM PATH in maven pom file JavaFX","body":"<p>it's <code>&lt;graalvmHome&gt;path to graal&lt;/graalvmHome&gt;</code> where <code>path to graal</code> is the path in your local machine  e.g. /home/user/graal</p>\n"}],"owner":{"account_id":16196119,"reputation":99,"user_id":11693716,"display_name":"Syed Sulaiman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673922855,"creation_date":1618699031,"question_id":67143619,"body_markdown":"I have used GRAALVM to compile native JavaFX apps. in commands ports. Here I want to do the same thing using maven. \r\n\r\nI have GRAALVM latest version install in C and added the Environment variable as the name GRAALVM_HOME. and in PATH %GRAALVM_HOME%\\bin but when I Run client:build-in IntelliJ. it says GRAAL_PATH didn&#39;t find.\r\n\r\nI tried to do it with the client plugin.\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;client-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${client.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;target&gt;${client.target}&lt;/target&gt;\r\n                    &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\r\n                    &lt;bundlesList&gt;\r\n                        &lt;list&gt;com.example.sample.main&lt;/list&gt;\r\n                    &lt;/bundlesList&gt;\r\n                    &lt;reflectionList&gt;\r\n                        &lt;list&gt;com.example.sample.MainController&lt;/list&gt;\r\n                    &lt;/reflectionList&gt;\r\n                    &lt;graalvmHome&gt;GRAALVM_HOME&lt;/graalvmHome&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt; \r\n\r\ninline graalvmhome I set to add the entire path that&#39;s didn&#39;t work. then I added a GRAALVM_HOME in it. but this didn&#39;t work either.","title":"How to add GRAALVM PATH in maven pom file JavaFX","body":"<p>I have used GRAALVM to compile native JavaFX apps. in commands ports. Here I want to do the same thing using maven.</p>\n<p>I have GRAALVM latest version install in C and added the Environment variable as the name GRAALVM_HOME. and in PATH %GRAALVM_HOME%\\bin but when I Run client:build-in IntelliJ. it says GRAAL_PATH didn't find.</p>\n<p>I tried to do it with the client plugin.</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n            &lt;artifactId&gt;client-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${client.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;target&gt;${client.target}&lt;/target&gt;\n                &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                &lt;bundlesList&gt;\n                    &lt;list&gt;com.example.sample.main&lt;/list&gt;\n                &lt;/bundlesList&gt;\n                &lt;reflectionList&gt;\n                    &lt;list&gt;com.example.sample.MainController&lt;/list&gt;\n                &lt;/reflectionList&gt;\n                &lt;graalvmHome&gt;GRAALVM_HOME&lt;/graalvmHome&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt; \n</code></pre>\n<p>inline graalvmhome I set to add the entire path that's didn't work. then I added a GRAALVM_HOME in it. but this didn't work either.</p>\n"},{"tags":["java","sql-server","jdbc","always-encrypted"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1643838854,"post_id":70963057,"comment_id":125449290,"body_markdown":"Please edit your question to include your error message as text rather than as an image.","body":"Please edit your question to include your error message as text rather than as an image."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1643900369,"post_id":70963057,"comment_id":125466512,"body_markdown":"You seem to be missing a necessary native library, or have the wrong version of that library for the version of your JDBC driver (probably `mssql-jdbc_auth-&lt;version&gt;.&lt;arch&gt;.dll`).","body":"You seem to be missing a necessary native library, or have the wrong version of that library for the version of your JDBC driver (probably <code>mssql-jdbc_auth-&lt;version&gt;.&lt;arch&gt;.dll</code>)."}],"owner":{"account_id":6336253,"reputation":9,"user_id":4919558,"display_name":"forthewin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673921655,"creation_date":1643836997,"question_id":70963057,"body_markdown":"I&#39;m using SQL Server &quot;Always Encrypted&quot; - JDBC (Java EE), keystore is Windows Certificate Store but not working.\r\n\r\n[create master key and encryption key][1]\r\n\r\n\r\n[encrypted column &#39;StreetAdress&#39;][2]\r\n\r\n\r\n[personal certificates][3]\r\n\r\n\r\nchanged my connection (columnEncryptionSetting=Enabled;): \r\n\r\n    &lt;Resource auth=&quot;Container&quot; name=&quot;jdbc/BDTeste&quot; password=&quot;xxx&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:sqlserver://almsql2019tst;database=BDTeste;authenticationScheme=NTLM;domain=xxx;integratedSecurity=true;columnEncryptionSetting=Enabled;&quot; username=&quot;xxx&quot;/&gt;\r\n\r\n \r\nerror console:\r\n\r\n    java.lang.UnsatisfiedLinkError: com.microsoft.sqlserver.jdbc.AuthenticationJNI.DecryptColumnEncryptionKey(Ljava/lang/String;Ljava/lang/String;[B)[B\r\n    \tat com.microsoft.sqlserver.jdbc.AuthenticationJNI.DecryptColumnEncryptionKey(Native Method)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerColumnEncryptionCertificateStoreProvider.decryptColumnEncryptionKeyWindows(SQLServerColumnEncryptionCertificateStoreProvider.java:61)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerColumnEncryptionCertificateStoreProvider.decryptColumnEncryptionKey(SQLServerColumnEncryptionCertificateStoreProvider.java:75)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerSymmetricKeyCache.getKey(SQLServerSymmetricKeyCache.java:130)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.decryptSymmetricKey(SQLServerSecurityUtility.java:161)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.decryptWithKey(SQLServerSecurityUtility.java:206)\r\n    \tat com.microsoft.sqlserver.jdbc.ServerDTVImpl.getValue(dtv.java:3737)\r\n    \tat com.microsoft.sqlserver.jdbc.DTV.getValue(dtv.java:247)\r\n    \tat com.microsoft.sqlserver.jdbc.Column.getValue(Column.java:190)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.getValue(SQLServerResultSet.java:2054)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.getValue(SQLServerResultSet.java:2040)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerResultSet.getString(SQLServerResultSet.java:2511)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingResultSet.getString(DelegatingResultSet.java:887)\r\n    \tat org.apache.tomcat.dbcp.dbcp2.DelegatingResultSet.getString(DelegatingResultSet.java:887)\r\n    \tat org.apache.openjpa.lib.jdbc.DelegatingResultSet.getString(DelegatingResultSet.java:128)\r\n    \tat org.apache.openjpa.jdbc.sql.DBDictionary.getString(DBDictionary.java:1022)\r\n    \tat org.apache.openjpa.jdbc.sql.ResultSetResult.getStringInternal(ResultSetResult.java:556)\r\n    \tat org.apache.openjpa.jdbc.sql.AbstractResult.getString(AbstractResult.java:910)\r\n    \tat org.apache.openjpa.jdbc.meta.strats.StringFieldStrategy.load(StringFieldStrategy.java:170)\r\n    \tat org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:961)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1156)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1104)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:431)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:326)\r\n    \tat org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:123)\r\n    \tat org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:59)\r\n    \tat org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:1114)\r\n    \tat org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:1072)\r\n    \tat org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:994)\r\n    \tat org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1078)\r\n    \tat org.apache.openjpa.jdbc.sql.AbstractResult.load(AbstractResult.java:305)\r\n    \tat org.apache.openjpa.jdbc.sql.SelectImpl$SelectResult.load(SelectImpl.java:2535)\r\n    \tat org.apache.openjpa.jdbc.sql.AbstractResult.load(AbstractResult.java:298)\r\n    \tat org.apache.openjpa.jdbc.kernel.InstanceResultObjectProvider.getResultObject(InstanceResultObjectProvider.java:60)\r\n    \tat org.apache.openjpa.lib.rop.EagerResultList.&lt;init&gt;(EagerResultList.java:38)\r\n    \tat org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1311)\r\n    \tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:1062)\r\n    \tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:912)\r\n    \tat org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:843)\r\n    \tat org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:601)\r\n    \tat org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:297)\r\n    \tat org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:314)\r\n\r\n  [1]: https://i.stack.imgur.com/JSBge.png\r\n  [2]: https://i.stack.imgur.com/trMPx.png\r\n  [3]: https://i.stack.imgur.com/ufD8w.png\r\n \r\n\r\nHow can I use &#39;Always Encrypted&#39; in project Java with keystore windows certificate without error?  ","title":"SQL Server Always Encrypted with the JDBC not working","body":"<p>I'm using SQL Server &quot;Always Encrypted&quot; - JDBC (Java EE), keystore is Windows Certificate Store but not working.</p>\n<p><a href=\"https://i.stack.imgur.com/JSBge.png\" rel=\"nofollow noreferrer\">create master key and encryption key</a></p>\n<p><a href=\"https://i.stack.imgur.com/trMPx.png\" rel=\"nofollow noreferrer\">encrypted column 'StreetAdress'</a></p>\n<p><a href=\"https://i.stack.imgur.com/ufD8w.png\" rel=\"nofollow noreferrer\">personal certificates</a></p>\n<p>changed my connection (columnEncryptionSetting=Enabled;):</p>\n<pre><code>&lt;Resource auth=&quot;Container&quot; name=&quot;jdbc/BDTeste&quot; password=&quot;xxx&quot; type=&quot;javax.sql.DataSource&quot; url=&quot;jdbc:sqlserver://almsql2019tst;database=BDTeste;authenticationScheme=NTLM;domain=xxx;integratedSecurity=true;columnEncryptionSetting=Enabled;&quot; username=&quot;xxx&quot;/&gt;\n</code></pre>\n<p>error console:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: com.microsoft.sqlserver.jdbc.AuthenticationJNI.DecryptColumnEncryptionKey(Ljava/lang/String;Ljava/lang/String;[B)[B\n    at com.microsoft.sqlserver.jdbc.AuthenticationJNI.DecryptColumnEncryptionKey(Native Method)\n    at com.microsoft.sqlserver.jdbc.SQLServerColumnEncryptionCertificateStoreProvider.decryptColumnEncryptionKeyWindows(SQLServerColumnEncryptionCertificateStoreProvider.java:61)\n    at com.microsoft.sqlserver.jdbc.SQLServerColumnEncryptionCertificateStoreProvider.decryptColumnEncryptionKey(SQLServerColumnEncryptionCertificateStoreProvider.java:75)\n    at com.microsoft.sqlserver.jdbc.SQLServerSymmetricKeyCache.getKey(SQLServerSymmetricKeyCache.java:130)\n    at com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.decryptSymmetricKey(SQLServerSecurityUtility.java:161)\n    at com.microsoft.sqlserver.jdbc.SQLServerSecurityUtility.decryptWithKey(SQLServerSecurityUtility.java:206)\n    at com.microsoft.sqlserver.jdbc.ServerDTVImpl.getValue(dtv.java:3737)\n    at com.microsoft.sqlserver.jdbc.DTV.getValue(dtv.java:247)\n    at com.microsoft.sqlserver.jdbc.Column.getValue(Column.java:190)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getValue(SQLServerResultSet.java:2054)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getValue(SQLServerResultSet.java:2040)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getString(SQLServerResultSet.java:2511)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingResultSet.getString(DelegatingResultSet.java:887)\n    at org.apache.tomcat.dbcp.dbcp2.DelegatingResultSet.getString(DelegatingResultSet.java:887)\n    at org.apache.openjpa.lib.jdbc.DelegatingResultSet.getString(DelegatingResultSet.java:128)\n    at org.apache.openjpa.jdbc.sql.DBDictionary.getString(DBDictionary.java:1022)\n    at org.apache.openjpa.jdbc.sql.ResultSetResult.getStringInternal(ResultSetResult.java:556)\n    at org.apache.openjpa.jdbc.sql.AbstractResult.getString(AbstractResult.java:910)\n    at org.apache.openjpa.jdbc.meta.strats.StringFieldStrategy.load(StringFieldStrategy.java:170)\n    at org.apache.openjpa.jdbc.meta.FieldMapping.load(FieldMapping.java:961)\n    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1156)\n    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1104)\n    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initializeState(JDBCStoreManager.java:431)\n    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.initialize(JDBCStoreManager.java:326)\n    at org.apache.openjpa.kernel.DelegatingStoreManager.initialize(DelegatingStoreManager.java:123)\n    at org.apache.openjpa.kernel.ROPStoreManager.initialize(ROPStoreManager.java:59)\n    at org.apache.openjpa.kernel.BrokerImpl.initialize(BrokerImpl.java:1114)\n    at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:1072)\n    at org.apache.openjpa.kernel.BrokerImpl.find(BrokerImpl.java:994)\n    at org.apache.openjpa.jdbc.kernel.JDBCStoreManager.load(JDBCStoreManager.java:1078)\n    at org.apache.openjpa.jdbc.sql.AbstractResult.load(AbstractResult.java:305)\n    at org.apache.openjpa.jdbc.sql.SelectImpl$SelectResult.load(SelectImpl.java:2535)\n    at org.apache.openjpa.jdbc.sql.AbstractResult.load(AbstractResult.java:298)\n    at org.apache.openjpa.jdbc.kernel.InstanceResultObjectProvider.getResultObject(InstanceResultObjectProvider.java:60)\n    at org.apache.openjpa.lib.rop.EagerResultList.&lt;init&gt;(EagerResultList.java:38)\n    at org.apache.openjpa.kernel.QueryImpl.toResult(QueryImpl.java:1311)\n    at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:1062)\n    at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:912)\n    at org.apache.openjpa.kernel.QueryImpl.execute(QueryImpl.java:843)\n    at org.apache.openjpa.kernel.DelegatingQuery.execute(DelegatingQuery.java:601)\n    at org.apache.openjpa.persistence.QueryImpl.execute(QueryImpl.java:297)\n    at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:314)\n</code></pre>\n<p>How can I use 'Always Encrypted' in project Java with keystore windows certificate without error?</p>\n"},{"tags":["java","unit-testing","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"score":0,"creation_date":1532299387,"post_id":51467132,"comment_id":89907949,"body_markdown":"I think I solved this issue a month ago on a personal project, would you mind posting the code of the test and the controller? Just the injected dependencies, no need for the methods.","body":"I think I solved this issue a month ago on a personal project, would you mind posting the code of the test and the controller? Just the injected dependencies, no need for the methods."},{"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"score":0,"creation_date":1532344599,"post_id":51467132,"comment_id":89923260,"body_markdown":"@Pedro Have updated my post to include the class as you requested. Let me know if you need anymore info. Thanks.","body":"@Pedro Have updated my post to include the class as you requested. Let me know if you need anymore info. Thanks."},{"owner":{"account_id":6105471,"reputation":4298,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"score":0,"creation_date":1532344693,"post_id":51467132,"comment_id":89923309,"body_markdown":"I had the same problem and just added `@DataJpaTest` to the Test class.","body":"I had the same problem and just added <code>@DataJpaTest</code> to the Test class."},{"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"score":0,"creation_date":1532345213,"post_id":51467132,"comment_id":89923590,"body_markdown":"@mrkernelpanic It throws a &quot;IllegalStateException: Configuration error: found multiple declarations of BootstrapWith&quot; if I add DataJpaTest. However, even if it works, it&#39;s more of a workaround instead of a solution it seem. Testing Controller layer should not be adding DataJpaTest annotation.","body":"@mrkernelpanic It throws a &quot;IllegalStateException: Configuration error: found multiple declarations of BootstrapWith&quot; if I add DataJpaTest. However, even if it works, it&#39;s more of a workaround instead of a solution it seem. Testing Controller layer should not be adding DataJpaTest annotation."},{"owner":{"account_id":2752172,"reputation":1235,"user_id":2371309,"display_name":"CodeIsLife"},"score":0,"creation_date":1532690519,"post_id":51467132,"comment_id":90080419,"body_markdown":"can you pls post your full stack trace and the autowire report","body":"can you pls post your full stack trace and the autowire report"},{"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"score":0,"creation_date":1532694289,"post_id":51467132,"comment_id":90082520,"body_markdown":"@CodeIsLife I have added the full log, what&#39;s autowire report? Let me know if there&#39;s anything else you need.","body":"@CodeIsLife I have added the full log, what&#39;s autowire report? Let me know if there&#39;s anything else you need."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1532695186,"post_id":51467132,"comment_id":90083058,"body_markdown":"Move the `@Enable*` annotations to a separate `@Configuration` class. See https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config","body":"Move the <code>@Enable*</code> annotations to a separate <code>@Configuration</code> class. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1532784439,"creation_date":1532695717,"answer_id":51558289,"question_id":51467132,"body_markdown":"Move the `@Enable*` annotations to a dedicated `@Configuration` class. This is also explained in the Spring Boot Reference Guide in the special section [User Configuration and Slicing][1] and noted [here][2].\r\n\r\nYour main class should only have the `@SpringBootApplication` annotation. Then create a specific `@Configuration` annotated class with the `@Enable` stuff on it. \r\n\r\n    @SpringBootApplication\r\n    public class SampleApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SampleApplication.class, args);\r\n        }\r\n    }\r\n\r\nAnd a specific configuration for JPA\r\n\r\n    @Configuration\r\n    @EnableJpaAuditing\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\r\n    public class JpaEnversConfiguration {}\r\n\r\nNow you can safely use `@WebMvcTest` without it complaining about JPA. \r\n\r\n[1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-user-configuration\r\n[2]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\r\n","title":"Spring @WebMvcTest with @EnableJpa* annotation","body":"<p>Move the <code>@Enable*</code> annotations to a dedicated <code>@Configuration</code> class. This is also explained in the Spring Boot Reference Guide in the special section <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-testing-user-configuration\" rel=\"noreferrer\">User Configuration and Slicing</a> and noted <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html#boot-features-testing-spring-boot-applications-detecting-config\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Your main class should only have the <code>@SpringBootApplication</code> annotation. Then create a specific <code>@Configuration</code> annotated class with the <code>@Enable</code> stuff on it. </p>\n\n<pre><code>@SpringBootApplication\npublic class SampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>And a specific configuration for JPA</p>\n\n<pre><code>@Configuration\n@EnableJpaAuditing\n@EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\npublic class JpaEnversConfiguration {}\n</code></pre>\n\n<p>Now you can safely use <code>@WebMvcTest</code> without it complaining about JPA. </p>\n"},{"tags":[],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673921490,"creation_date":1673921490,"answer_id":75141397,"question_id":51467132,"body_markdown":"I had the same problem, but I found that the advice given, &quot;Move the @Enable* annotations to a dedicated @Configuration class&quot; is not necessary.\r\n\r\nIn my application, I do not have a configuration class.\r\n\r\nI simply removed the `@EnableJpaRepositories`. from the main application class so that I have\r\n\r\n    @SpringBootApplication\r\n    public class EncourageApplication {\r\n\r\nmy repository:\r\n\r\n    public interface EncouragementRepository extends JpaRepository&lt;Encouragement,Long&gt; {\r\n\r\nand in the tests,\r\n\r\nfor controller:\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(EncouragerController.class)\r\n    class EncouragerControllerTest {\r\n\r\nand for repository:\r\n\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @ExtendWith(SpringExtension.class)\r\n    @DataJpaTest\r\n    class EncouragementRepositoryTest {\r\n\r\nand for integration tests,\r\n\r\n    @SpringBootTest\r\n    class EncourageApplicationTests {\r\n\r\n\r\nI hope this helps someone.\r\n","title":"Spring @WebMvcTest with @EnableJpa* annotation","body":"<p>I had the same problem, but I found that the advice given, &quot;Move the @Enable* annotations to a dedicated @Configuration class&quot; is not necessary.</p>\n<p>In my application, I do not have a configuration class.</p>\n<p>I simply removed the <code>@EnableJpaRepositories</code>. from the main application class so that I have</p>\n<pre><code>@SpringBootApplication\npublic class EncourageApplication {\n</code></pre>\n<p>my repository:</p>\n<pre><code>public interface EncouragementRepository extends JpaRepository&lt;Encouragement,Long&gt; {\n</code></pre>\n<p>and in the tests,</p>\n<p>for controller:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(EncouragerController.class)\nclass EncouragerControllerTest {\n</code></pre>\n<p>and for repository:</p>\n<pre><code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ExtendWith(SpringExtension.class)\n@DataJpaTest\nclass EncouragementRepositoryTest {\n</code></pre>\n<p>and for integration tests,</p>\n<pre><code>@SpringBootTest\nclass EncourageApplicationTests {\n</code></pre>\n<p>I hope this helps someone.</p>\n"}],"owner":{"account_id":1982651,"reputation":659,"user_id":1778855,"accept_rate":40,"display_name":"user1778855"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10918,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"accepted_answer_id":51558289,"answer_count":2,"score":22,"last_activity_date":1673921490,"creation_date":1532277243,"question_id":51467132,"body_markdown":"I have the following Main Class.\r\n\r\n    @EnableJpaAuditing\r\n    @SpringBootApplication\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\r\n    public class SampleApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(SampleApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nAnd the following unit test class.\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(controllers = { AccountController.class }, secure = false)\r\n    public class AccountControllerTest {\r\n\r\n\t    @Autowired\r\n\t    private MockMvc mockMvc;\r\n        // Commented out below\r\n\r\nIf I were to run the unit test, it gives me this error.\r\n\r\n&gt; IllegalArgumentException: At least one JPA metamodel must be present!\r\n\r\nSo I researched, and found that it is due to `@EnableJpa*` annotation being placed in the Main Class while using `@WebMvcTest`, it does not find `@Entity` classes, hence, the error message.\r\n\r\nI came across a [page][1], and describe more or less the same issue I had, and recommended to use `@SpringBootTest` and `@AutoConfigureMockMvc` instead of `@WebMvcTest`. \r\n\r\nIs this the only way to go about it? I want to be able to use `@WebMvcTest` since using `@SpringBootTest` loads the full context, and takes longer time to run the test.\r\n\r\nInclude Test Class as requested.\r\n\r\n    @WebMvcTest(controllers = { AccountController.class }, secure = false)\r\n    public class AccountControllerTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\t\r\n\t@MockBean\r\n\tprivate AccountService accountService;\r\n\t\r\n\t@MockBean\r\n\tprivate RaceService raceService;\r\n\r\nAnd the Controller Class.\r\n\r\n    @Controller\r\n    @RequiredArgsConstructor\r\n    public class AccountController {\r\n\r\n\tprivate final AccountService accountService;\r\n\t\r\n\t@Autowired\r\n\tprivate RaceService raceService;\r\n\r\n  [1]: https://emmanuelneri.com.br/2017/03/18/teste-de-controllers-no-spring-boot/\r\n\r\nUpdated with log.\r\n\r\n        2018-07-27 20:17:54.445  INFO 15844 --- [           main] c.e.account.AccountControllerTest        : Starting AccountControllerTest on User-DESKTOP with PID 15844 (started by User in Z:\\Development\\Spring\\sample)\r\n    2018-07-27 20:17:54.448  INFO 15844 --- [           main] c.e.account.AccountControllerTest        : No active profile set, falling back to default profiles: default\r\n    2018-07-27 20:17:54.715  INFO 15844 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@59d4cd39: startup date [Fri Jul 27 20:17:54 SGT 2018]; root of context hierarchy\r\n    2018-07-27 20:17:55.938  INFO 15844 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n    2018-07-27 20:17:56.154  WARN 15844 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    2018-07-27 20:17:56.159  INFO 15844 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-07-27 20:17:56.165 ERROR 15844 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1133) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:99) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 46 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.util.Assert.notEmpty(Assert.java:450) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:54) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:88) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:43) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:141) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 53 common frames omitted\r\n    \r\n    2018-07-27 20:17:56.166 ERROR 15844 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@130d63be] to prepare test instance [com.sample.account.AccountControllerTest@1a2bcd56]\r\n    \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:99) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaAuditingHandler&#39;: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1133) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 26 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 46 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\r\n    \tat org.springframework.util.Assert.notEmpty(Assert.java:450) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:54) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:88) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:43) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\r\n    \tat org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:141) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\r\n    \t... 53 common frames omitted\r\n\r\nAlso enabled debug mode.\r\n\r\nToo long for this post, so see at https://pastebin.com/FyUzfN2a\r\n\r\nI&#39;m using Spring 2.0.3-RELEASE.\r\n\r\n","title":"Spring @WebMvcTest with @EnableJpa* annotation","body":"<p>I have the following Main Class.</p>\n\n<pre><code>@EnableJpaAuditing\n@SpringBootApplication\n@EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\npublic class SampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>And the following unit test class.</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(controllers = { AccountController.class }, secure = false)\npublic class AccountControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    // Commented out below\n</code></pre>\n\n<p>If I were to run the unit test, it gives me this error.</p>\n\n<blockquote>\n  <p>IllegalArgumentException: At least one JPA metamodel must be present!</p>\n</blockquote>\n\n<p>So I researched, and found that it is due to <code>@EnableJpa*</code> annotation being placed in the Main Class while using <code>@WebMvcTest</code>, it does not find <code>@Entity</code> classes, hence, the error message.</p>\n\n<p>I came across a <a href=\"https://emmanuelneri.com.br/2017/03/18/teste-de-controllers-no-spring-boot/\" rel=\"noreferrer\">page</a>, and describe more or less the same issue I had, and recommended to use <code>@SpringBootTest</code> and <code>@AutoConfigureMockMvc</code> instead of <code>@WebMvcTest</code>. </p>\n\n<p>Is this the only way to go about it? I want to be able to use <code>@WebMvcTest</code> since using <code>@SpringBootTest</code> loads the full context, and takes longer time to run the test.</p>\n\n<p>Include Test Class as requested.</p>\n\n<pre><code>@WebMvcTest(controllers = { AccountController.class }, secure = false)\npublic class AccountControllerTest {\n\n@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate AccountService accountService;\n\n@MockBean\nprivate RaceService raceService;\n</code></pre>\n\n<p>And the Controller Class.</p>\n\n<pre><code>@Controller\n@RequiredArgsConstructor\npublic class AccountController {\n\nprivate final AccountService accountService;\n\n@Autowired\nprivate RaceService raceService;\n</code></pre>\n\n<p>Updated with log.</p>\n\n<pre><code>    2018-07-27 20:17:54.445  INFO 15844 --- [           main] c.e.account.AccountControllerTest        : Starting AccountControllerTest on User-DESKTOP with PID 15844 (started by User in Z:\\Development\\Spring\\sample)\n2018-07-27 20:17:54.448  INFO 15844 --- [           main] c.e.account.AccountControllerTest        : No active profile set, falling back to default profiles: default\n2018-07-27 20:17:54.715  INFO 15844 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@59d4cd39: startup date [Fri Jul 27 20:17:54 SGT 2018]; root of context hierarchy\n2018-07-27 20:17:55.938  INFO 15844 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n2018-07-27 20:17:56.154  WARN 15844 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n2018-07-27 20:17:56.159  INFO 15844 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-07-27 20:17:56.165 ERROR 15844 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1133) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:99) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54) [spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 46 common frames omitted\nCaused by: java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.util.Assert.notEmpty(Assert.java:450) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:54) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:88) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:43) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:141) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 53 common frames omitted\n\n2018-07-27 20:17:56.166 ERROR 15844 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@130d63be] to prepare test instance [com.sample.account.AccountControllerTest@1a2bcd56]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:99) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:79) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:54) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460) [.cp/:na]\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206) [.cp/:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaAuditingHandler': Cannot resolve reference to bean 'jpaMappingContext' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1276) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1133) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:760) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.3.RELEASE.jar:2.0.3.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 26 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1708) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:503) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 46 common frames omitted\nCaused by: java.lang.IllegalArgumentException: At least one JPA metamodel must be present!\n    at org.springframework.util.Assert.notEmpty(Assert.java:450) ~[spring-core-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.data.jpa.mapping.JpaMetamodelMappingContext.&lt;init&gt;(JpaMetamodelMappingContext.java:54) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:88) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.data.jpa.repository.config.JpaMetamodelMappingContextFactoryBean.createInstance(JpaMetamodelMappingContextFactoryBean.java:43) ~[spring-data-jpa-2.0.8.RELEASE.jar:2.0.8.RELEASE]\n    at org.springframework.beans.factory.config.AbstractFactoryBean.afterPropertiesSet(AbstractFactoryBean.java:141) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1767) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1704) ~[spring-beans-5.0.7.RELEASE.jar:5.0.7.RELEASE]\n    ... 53 common frames omitted\n</code></pre>\n\n<p>Also enabled debug mode.</p>\n\n<p>Too long for this post, so see at <a href=\"https://pastebin.com/FyUzfN2a\" rel=\"noreferrer\">https://pastebin.com/FyUzfN2a</a></p>\n\n<p>I'm using Spring 2.0.3-RELEASE.</p>\n"},{"tags":["java","maven","gradle"],"owner":{"account_id":10289264,"reputation":777,"user_id":7591457,"accept_rate":82,"display_name":"AlreadyLost"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673921173,"creation_date":1673921173,"question_id":75141369,"body_markdown":"I am working on a java code base after a long time. I am moving some interfaces from one folder (folder A) to another folder (folder B). I am seeing some strange compile error and warning, the error is not clear but I think something about the warning is related to compile error but still I can&#39;t figure out the issue.\r\nhere is structure of the code:\r\n\r\n    - /source\r\n    -- /source/start/A\r\n    -- /source/start/B\r\n    --/source/C\r\n\r\nI am moving interfaces from module A that has a pom.xml file for itself to module B that also have a pom.xml. I am getting this build error:\r\n\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: \r\nFailed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project B: Compilation failure\r\n    warnings found and -Werror specified\r\n    \r\n      at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n      at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n      at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call (MultiThreadedBuilder.java:210)\r\n      at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call (MultiThreadedBuilder.java:195)\r\n      at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n      at java.util.concurrent.Executors$RunnableAdapter.call (Executors.java:515)\r\n      at java.util.concurrent.FutureTask.run (FutureTask.java:264)\r\n      at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\r\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\r\n      at java.lang.Thread.run (Thread.java:829)\r\n    Caused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\r\n    warnings found and -Werror specified\r\n    \r\n      at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\n      at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\r\n      at com.gradle.maven.cache.extension.d.c.a (SourceFile:26)\r\n      at com.gradle.maven.cache.extension.d.n.a (SourceFile:23)\r\n\r\nThis is the warning:\r\n\r\n    [mvn-builder-B] [WARNING] Cannot find annotation method &#39;pure()&#39; in type &#39;org.jetbrains.annotations.Contract&#39;: class file for org.jetbrains.annotations.Contract not found\r\n         [mvn-builder-B] [WARNING] Cannot find annotation method &#39;value()&#39; in type &#39;org.jetbrains.annotations.Contract&#39;\r\n         [mvn-builder-B] [WARNING] Cannot find annotation method &#39;pure()&#39; in type &#39;org.jetbrains.annotations.Contract&#39;\r\n         [mvn-builder-B] [WARNING] Cannot find annotation method &#39;value()&#39; in type &#39;org.jetbrains.annotations.Contract&#39;\r\n\r\nNow in the entire source code, only module C has dependency on `org.jetbrains.annotations.Contract`. The only connection between module C and Module A is that Module C has module A as dependency (Module C, pom.xml file):\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n       &lt;artifactId&gt;A&lt;/artifactId&gt;\r\n       &lt;version&gt;${project.version}&lt;/version&gt;\r\n       &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am confused as why this error is happening, what is wrong or what I should I look into. Any help or pointers will be greatly appreciated. \r\n\r\n\r\nThank you very much","title":"Compile error possibly to some dependency complication","body":"<p>I am working on a java code base after a long time. I am moving some interfaces from one folder (folder A) to another folder (folder B). I am seeing some strange compile error and warning, the error is not clear but I think something about the warning is related to compile error but still I can't figure out the issue.\nhere is structure of the code:</p>\n<pre><code>- /source\n-- /source/start/A\n-- /source/start/B\n--/source/C\n</code></pre>\n<p>I am moving interfaces from module A that has a pom.xml file for itself to module B that also have a pom.xml. I am getting this build error:</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: \n</code></pre>\n<p>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project B: Compilation failure\nwarnings found and -Werror specified</p>\n<pre><code>  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n  at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n  at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n  at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n  at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call (MultiThreadedBuilder.java:210)\n  at org.apache.maven.lifecycle.internal.builder.multithreaded.MultiThreadedBuilder$1.call (MultiThreadedBuilder.java:195)\n  at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n  at java.util.concurrent.Executors$RunnableAdapter.call (Executors.java:515)\n  at java.util.concurrent.FutureTask.run (FutureTask.java:264)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1128)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:628)\n  at java.lang.Thread.run (Thread.java:829)\nCaused by: org.apache.maven.plugin.compiler.CompilationFailureException: Compilation failure\nwarnings found and -Werror specified\n\n  at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\n  at org.apache.maven.plugin.compiler.CompilerMojo.execute (CompilerMojo.java:187)\n  at com.gradle.maven.cache.extension.d.c.a (SourceFile:26)\n  at com.gradle.maven.cache.extension.d.n.a (SourceFile:23)\n</code></pre>\n<p>This is the warning:</p>\n<pre><code>[mvn-builder-B] [WARNING] Cannot find annotation method 'pure()' in type 'org.jetbrains.annotations.Contract': class file for org.jetbrains.annotations.Contract not found\n     [mvn-builder-B] [WARNING] Cannot find annotation method 'value()' in type 'org.jetbrains.annotations.Contract'\n     [mvn-builder-B] [WARNING] Cannot find annotation method 'pure()' in type 'org.jetbrains.annotations.Contract'\n     [mvn-builder-B] [WARNING] Cannot find annotation method 'value()' in type 'org.jetbrains.annotations.Contract'\n</code></pre>\n<p>Now in the entire source code, only module C has dependency on <code>org.jetbrains.annotations.Contract</code>. The only connection between module C and Module A is that Module C has module A as dependency (Module C, pom.xml file):</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n   &lt;artifactId&gt;A&lt;/artifactId&gt;\n   &lt;version&gt;${project.version}&lt;/version&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am confused as why this error is happening, what is wrong or what I should I look into. Any help or pointers will be greatly appreciated.</p>\n<p>Thank you very much</p>\n"},{"tags":["java","postgresql","pyspark","driver"],"answers":[{"tags":[],"owner":{"account_id":22783300,"reputation":1,"user_id":16938882,"display_name":"vncbear"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673920436,"creation_date":1673920312,"answer_id":75141309,"question_id":74649802,"body_markdown":"I solved the same problem with spark.jars.packages (**org.postgresql:postgresql:42.5.1**):\r\n\r\nwith spark (pyspark):\r\n\r\n    self.spark_jars_packages = &quot;com.amazonaws:aws-java-sdk:1.12.246,org.apache.hadoop:hadoop-aws:3.2.3,io.delta:delta-core_2.12:2.0.0,org.postgresql:postgresql:42.5.1&quot;\r\n\r\n    self.spark = (SparkSession.builder.master(&quot;local[*]&quot;)\r\n    appName(&quot;test-spark&quot;)\r\n    **.config(&quot;spark.jars.packages&quot;, self.spark_jars_packages)**\r\n\r\nwith delta:\r\n\r\n    self.packages = [\r\n                &quot;com.amazonaws:aws-java-sdk:1.12.246,org.apache.hadoop:hadoop-aws:3.3.1,io.delta:delta-core_2.12:2.2.0,org.postgresql:postgresql:42.5.1&quot;]\r\n\r\n        self.spark = configure_spark_with_delta_pip(\r\n            self.builder, extra_packages=self.packages).getOrCreate()\r\n\r\n\r\n\r\n","title":"Py4JJavaError: java.lang.ClassNotFoundException: org.postgresql.Driver while using pyspark in a conda environment","body":"<p>I solved the same problem with spark.jars.packages (<strong>org.postgresql:postgresql:42.5.1</strong>):</p>\n<p>with spark (pyspark):</p>\n<pre><code>self.spark_jars_packages = &quot;com.amazonaws:aws-java-sdk:1.12.246,org.apache.hadoop:hadoop-aws:3.2.3,io.delta:delta-core_2.12:2.0.0,org.postgresql:postgresql:42.5.1&quot;\n\nself.spark = (SparkSession.builder.master(&quot;local[*]&quot;)\nappName(&quot;test-spark&quot;)\n**.config(&quot;spark.jars.packages&quot;, self.spark_jars_packages)**\n</code></pre>\n<p>with delta:</p>\n<pre><code>self.packages = [\n            &quot;com.amazonaws:aws-java-sdk:1.12.246,org.apache.hadoop:hadoop-aws:3.3.1,io.delta:delta-core_2.12:2.2.0,org.postgresql:postgresql:42.5.1&quot;]\n\n    self.spark = configure_spark_with_delta_pip(\n        self.builder, extra_packages=self.packages).getOrCreate()\n</code></pre>\n"}],"owner":{"account_id":11163464,"reputation":1,"user_id":8192828,"display_name":"Virs Dank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673920436,"creation_date":1669942566,"question_id":74649802,"body_markdown":"I&#39;m trying to load a spark dataframe into a postgresql table, I have added the latest postgresql jdbc driver into the spark.jars but I still get the error \r\n\r\n\r\n```\r\nPy4JJavaError: An error occurred while calling o80.save.\r\n: java.lang.ClassNotFoundException: org.postgresql.Driver\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n```\r\n\r\nThis is my code : \r\n\r\n\r\n```\r\nspark = SparkSession \\\r\n        .builder \\\r\n        .appName(&quot;Python Spark Purple Air&quot;) \\\r\n        .master(&quot;local&quot;) \\\r\n        .config(&quot;spark.jars&quot;, &quot;/&lt;location-jar-file&gt;/postgresql-42.5.1.jar&quot;) \\\r\n        .getOrCreate()\r\n```\r\n\r\n\r\n```\r\nlist_df.select(&quot;api_version&quot;,&quot;data_time_stamp&quot;,&quot;sensor&quot;, &quot;time_stamp&quot;).write.mode(&quot;overwrite&quot;).format(&quot;jdbc&quot;)\\\r\n    .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/purpleair_data&quot;) \\\r\n    .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;).option(&quot;dbtable&quot;, &quot;purpleair&quot;) \\\r\n    .option(&quot;user&quot;, &quot;postgres&quot;).option(&quot;password&quot;, &quot;xxx&quot;).save()\r\n```\r\n\r\n\r\n\r\nI did find multiple related stack overflow links but all of them ended up getting solved when the jar file was configured to spark.jars which is what I have done and it still does not seem to work. I have installed pyspark in a conda environment and I&#39;m running this code in a jupyter notebook. Any kind of help or workaround would really help me.","title":"Py4JJavaError: java.lang.ClassNotFoundException: org.postgresql.Driver while using pyspark in a conda environment","body":"<p>I'm trying to load a spark dataframe into a postgresql table, I have added the latest postgresql jdbc driver into the spark.jars but I still get the error</p>\n<pre><code>Py4JJavaError: An error occurred while calling o80.save.\n: java.lang.ClassNotFoundException: org.postgresql.Driver\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n</code></pre>\n<p>This is my code :</p>\n<pre><code>spark = SparkSession \\\n        .builder \\\n        .appName(&quot;Python Spark Purple Air&quot;) \\\n        .master(&quot;local&quot;) \\\n        .config(&quot;spark.jars&quot;, &quot;/&lt;location-jar-file&gt;/postgresql-42.5.1.jar&quot;) \\\n        .getOrCreate()\n</code></pre>\n<pre><code>list_df.select(&quot;api_version&quot;,&quot;data_time_stamp&quot;,&quot;sensor&quot;, &quot;time_stamp&quot;).write.mode(&quot;overwrite&quot;).format(&quot;jdbc&quot;)\\\n    .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5432/purpleair_data&quot;) \\\n    .option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;).option(&quot;dbtable&quot;, &quot;purpleair&quot;) \\\n    .option(&quot;user&quot;, &quot;postgres&quot;).option(&quot;password&quot;, &quot;xxx&quot;).save()\n</code></pre>\n<p>I did find multiple related stack overflow links but all of them ended up getting solved when the jar file was configured to spark.jars which is what I have done and it still does not seem to work. I have installed pyspark in a conda environment and I'm running this code in a jupyter notebook. Any kind of help or workaround would really help me.</p>\n"},{"tags":["java","enums","readability","linkedhashmap","code-maintainability"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673901327,"post_id":75139328,"comment_id":132596327,"body_markdown":"Is there a specific reason you need the directions as a `Map`? Seems like any ordered collection (ie, `List`) would do.","body":"Is there a specific reason you need the directions as a <code>Map</code>? Seems like any ordered collection (ie, <code>List</code>) would do."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673901498,"post_id":75139328,"comment_id":132596364,"body_markdown":"By the way, the &quot;double-brace&quot; syntax for initializing a Map inline isn&#39;t necessarily bad. It does create an anonymous class every time it&#39;s called, but in many cases that&#39;s not going to make a real difference. Initializing values of an enum is one of those, since enum initialization is only performed once. As for &quot;memory leaks,&quot; I&#39;d be curious to hear a concrete case for that claim; I&#39;m skeptical.","body":"By the way, the &quot;double-brace&quot; syntax for initializing a Map inline isn&#39;t necessarily bad. It does create an anonymous class every time it&#39;s called, but in many cases that&#39;s not going to make a real difference. Initializing values of an enum is one of those, since enum initialization is only performed once. As for &quot;memory leaks,&quot; I&#39;d be curious to hear a concrete case for that claim; I&#39;m skeptical."},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1673901992,"post_id":75139328,"comment_id":132596487,"body_markdown":"@E-Riz I understand a list would work for this mock example, but for my actual use I do need a LinkedHashMap, as it maps one type of object to another, and it needs to preserve insertion order","body":"@E-Riz I understand a list would work for this mock example, but for my actual use I do need a LinkedHashMap, as it maps one type of object to another, and it needs to preserve insertion order"},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1673902438,"post_id":75139328,"comment_id":132596603,"body_markdown":"@E-Riz I didn&#39;t know that. I guess if it causes no issues it should work, but I&#39;m still not totally comfortable with it. Here&#39;s a link I found claiming it&#39;s not totally safe, although a lot of it goes over my head: https://stackoverflow.com/a/27521360/21022183","body":"@E-Riz I didn&#39;t know that. I guess if it causes no issues it should work, but I&#39;m still not totally comfortable with it. Here&#39;s a link I found claiming it&#39;s not totally safe, although a lot of it goes over my head: <a href=\"https://stackoverflow.com/a/27521360/21022183\">stackoverflow.com/a/27521360/21022183</a>"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1673902774,"post_id":75139328,"comment_id":132596704,"body_markdown":"IMO, none of those points matter to your case, primarily because enums can&#39;t be instantiated - they&#39;re basically globally static pseudo-objects.","body":"IMO, none of those points matter to your case, primarily because enums can&#39;t be instantiated - they&#39;re basically globally static pseudo-objects."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":2,"creation_date":1673902902,"post_id":75139328,"comment_id":132596737,"body_markdown":"Reading the question and the comments, I&#39;d think twice about using an enum at all. Without knowing your full context, `Recipe` seems like a full-fledged class. You can make it&#39;s constructor private and only expose final static instances publicly; that would probably achieve the same level of &quot;protection.&quot;","body":"Reading the question and the comments, I&#39;d think twice about using an enum at all. Without knowing your full context, <code>Recipe</code> seems like a full-fledged class. You can make it&#39;s constructor private and only expose final static instances publicly; that would probably achieve the same level of &quot;protection.&quot;"},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1673902967,"post_id":75139328,"comment_id":132596752,"body_markdown":"@E-Riz I guess it&#39;s fine then. Thanks for clearing that up. I&#39;ll leave the question unanswered for a bit just in case, but I guess I found what I needed.","body":"@E-Riz I guess it&#39;s fine then. Thanks for clearing that up. I&#39;ll leave the question unanswered for a bit just in case, but I guess I found what I needed."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673904489,"post_id":75139328,"comment_id":132597180,"body_markdown":"I think you&#39;re abusing `LinkedHashMap`.  What you have here is a list of pairs - there&#39;s no reason for it to be a map.  In particular, a recipe may have two steps involving the same ingredient (eg, saute onions, then add onions to the batter) and your map won&#39;t support that.","body":"I think you&#39;re abusing <code>LinkedHashMap</code>.  What you have here is a list of pairs - there&#39;s no reason for it to be a map.  In particular, a recipe may have two steps involving the same ingredient (eg, saute onions, then add onions to the batter) and your map won&#39;t support that."},{"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"score":0,"creation_date":1673919919,"post_id":75139328,"comment_id":132599854,"body_markdown":"@DawoodibnKareem I know it&#39;s a bit later but I understand why I am using LinkedHashMap. This was just a mock example i cooked up to illustrate my problem easily. The code I&#39;m actually trying to write is much more cluttered and I was simply curious about this one specific question outlined in the header","body":"@DawoodibnKareem I know it&#39;s a bit later but I understand why I am using LinkedHashMap. This was just a mock example i cooked up to illustrate my problem easily. The code I&#39;m actually trying to write is much more cluttered and I was simply curious about this one specific question outlined in the header"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673920707,"post_id":75139328,"comment_id":132599951,"body_markdown":"You could write your own method similar to `Map.of` that creates a `LinkedHashMap`, then call it for each element of your Enum.","body":"You could write your own method similar to <code>Map.of</code> that creates a <code>LinkedHashMap</code>, then call it for each element of your Enum."}],"answers":[{"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673901981,"creation_date":1673901981,"answer_id":75139502,"question_id":75139328,"body_markdown":"First off, you don&#39;t really need to declare the map as a concrete implementation. If you just use `Map` then you will have a lot more choices.\r\n```Java\r\nenum Recipe {\r\n\r\n    PANCAKES(true, Map.empty()),\r\n    SANDWICH(true, Map.empty()),\r\n    STEW(false, Map.empty());\r\n\r\n    private final boolean tasty;\r\n    private final Map&lt;String, String&gt; directions;\r\n\r\n    // getter for directions\r\n\r\n    Recipe(boolean tasty, Map&lt;String, String&gt; directions) {\r\n        this.tasty = tasty\r\n        this.directions = directions;\r\n    }\r\n}\r\n```\r\nThen, assuming you don&#39;t have more than 10 directions, you can use this form:\r\n```Java\r\nPANCAKES(true, Map.of(\r\n    &quot;Pancake Mix&quot;,&quot;Pour&quot;,\r\n    &quot;Water&quot;,&quot;Mix with&quot;,\r\n    &quot;Pan&quot;,&quot;Put mixture onto&quot;))\r\n```\r\n`Map.of` creates an immutable map, which is probably what you want for this kind of application, and should not have memory leakage issues.","title":"Making an enum with stored LinkedHashMap values","body":"<p>First off, you don't really need to declare the map as a concrete implementation. If you just use <code>Map</code> then you will have a lot more choices.</p>\n<pre><code>enum Recipe {\n\n    PANCAKES(true, Map.empty()),\n    SANDWICH(true, Map.empty()),\n    STEW(false, Map.empty());\n\n    private final boolean tasty;\n    private final Map&lt;String, String&gt; directions;\n\n    // getter for directions\n\n    Recipe(boolean tasty, Map&lt;String, String&gt; directions) {\n        this.tasty = tasty\n        this.directions = directions;\n    }\n}\n</code></pre>\n<p>Then, assuming you don't have more than 10 directions, you can use this form:</p>\n<pre><code>PANCAKES(true, Map.of(\n    &quot;Pancake Mix&quot;,&quot;Pour&quot;,\n    &quot;Water&quot;,&quot;Mix with&quot;,\n    &quot;Pan&quot;,&quot;Put mixture onto&quot;))\n</code></pre>\n<p><code>Map.of</code> creates an immutable map, which is probably what you want for this kind of application, and should not have memory leakage issues.</p>\n"},{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673904015,"creation_date":1673903693,"answer_id":75139767,"question_id":75139328,"body_markdown":"Without more context, I&#39;d say that `Recipe` is kind of a square peg to try to fit into the round hole of `enum`. In other words, in the absence of some other requirement or context that suggests an enum is best, I&#39;d probably make it a class and expose `public static final` instances that can be used like enum values.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class Recipe {\r\n\r\n\tpublic static final Recipe PANCAKES =\r\n\t\t\tnew Recipe(true,\r\n\t\t\t\t\t\tnew Step(&quot;Pancake Mix&quot;,&quot;Pour&quot;),\r\n\t\t\t\t\t\tnew Step(&quot;Water&quot;,&quot;Mix with&quot;),\r\n\t\t\t\t\t\tnew Step(&quot;Pan&quot;,&quot;Put mixture onto&quot;)\r\n\t\t\t\t\t\t);\r\n\r\n\tpublic static final Recipe SANDWHICH =\r\n\t\t\tnew Recipe(true\r\n\t\t\t\t\t\t// ...steps...\r\n\t\t\t\t\t);\r\n\r\n\t// ...more Recipes ...\r\n\r\n\r\n\t@Getter\r\n\tpublic static class Step {\r\n\t\tprivate final String target;\r\n\t\tprivate final String action;\r\n\r\n\t\tprivate Step(String target, String action ) {\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.action = action;\r\n\t\t}\r\n\r\n\t}\r\n\r\n    private final boolean tasty;\r\n    private final LinkedHashMap&lt;String, Step&gt; directions;\r\n\r\n    private Recipe(boolean tasty, Step... steps) {\r\n        this.tasty = tasty;\r\n        this.directions = new LinkedHashMap&lt;&gt;();\r\n        for (Step aStep : steps) {\r\n\t\t\tdirections.put(aStep.getTarget(), aStep);\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\nYou could also do this as an`enum`, where the values would be declared like this:\r\n\r\n```java\r\n\tPANCAKES(true,\r\n\t\t\tnew Step(&quot;Pancake Mix&quot;,&quot;Pour&quot;),\r\n\t\t\tnew Step(&quot;Water&quot;,&quot;Mix with&quot;),\r\n\t\t\tnew Step(&quot;Pan&quot;,&quot;Put mixture onto&quot;)\r\n\t\t\t),\r\n\r\n\tSANDWHICH(true\r\n\t\t\t\t// ...steps...\r\n\t\t\t\t);\r\n```\r\n\r\nbut like I said, this feels like a proper class as opposed to an enum.","title":"Making an enum with stored LinkedHashMap values","body":"<p>Without more context, I'd say that <code>Recipe</code> is kind of a square peg to try to fit into the round hole of <code>enum</code>. In other words, in the absence of some other requirement or context that suggests an enum is best, I'd probably make it a class and expose <code>public static final</code> instances that can be used like enum values.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Recipe {\n\n    public static final Recipe PANCAKES =\n            new Recipe(true,\n                        new Step(&quot;Pancake Mix&quot;,&quot;Pour&quot;),\n                        new Step(&quot;Water&quot;,&quot;Mix with&quot;),\n                        new Step(&quot;Pan&quot;,&quot;Put mixture onto&quot;)\n                        );\n\n    public static final Recipe SANDWHICH =\n            new Recipe(true\n                        // ...steps...\n                    );\n\n    // ...more Recipes ...\n\n\n    @Getter\n    public static class Step {\n        private final String target;\n        private final String action;\n\n        private Step(String target, String action ) {\n            this.target = target;\n            this.action = action;\n        }\n\n    }\n\n    private final boolean tasty;\n    private final LinkedHashMap&lt;String, Step&gt; directions;\n\n    private Recipe(boolean tasty, Step... steps) {\n        this.tasty = tasty;\n        this.directions = new LinkedHashMap&lt;&gt;();\n        for (Step aStep : steps) {\n            directions.put(aStep.getTarget(), aStep);\n        }\n    }\n}\n</code></pre>\n<p>You could also do this as an<code>enum</code>, where the values would be declared like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    PANCAKES(true,\n            new Step(&quot;Pancake Mix&quot;,&quot;Pour&quot;),\n            new Step(&quot;Water&quot;,&quot;Mix with&quot;),\n            new Step(&quot;Pan&quot;,&quot;Put mixture onto&quot;)\n            ),\n\n    SANDWHICH(true\n                // ...steps...\n                );\n</code></pre>\n<p>but like I said, this feels like a proper class as opposed to an enum.</p>\n"}],"owner":{"account_id":27546284,"reputation":19,"user_id":21022183,"display_name":"labradorEater"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673920197,"creation_date":1673900708,"question_id":75139328,"body_markdown":"I&#39;m somewhat of a beginner to java, although I understand the basics. I believed this was the best implementation for my problem, but obviously I may be wrong. This is a mock example I made, and I&#39;m not interested in looking for different implementations. I simply mention I&#39;m not sure if it&#39;s the best implementation in the case that it&#39;s impossible. Regardless:\r\n\r\n**Here I have an enum, inside of which I want a map (specifically a LinkedHashMap) as one of the enum object&#39;s stored values**\r\n\r\n```\r\nenum Recipe {\r\n\r\n    PANCAKES(true, new LinkedHashMap&lt;&gt;() ),\r\n    SANDWICH(true, new LinkedHashMap&lt;&gt;() ),\r\n    STEW(false, new LinkedHashMap&lt;&gt;() );\r\n\r\n    private final boolean tasty;\r\n    private final LinkedHashMap&lt;String, String&gt; directions;\r\n\r\n    // getter for directions\r\n\r\n    Recipe(boolean tasty, LinkedHashMap&lt;String, String&gt; directions) {\r\n        this.tasty = tasty\r\n        this.directions = directions;\r\n    }\r\n}\r\n```\r\n\r\n# However, I haven&#39;t found a way to Initialize and Populate a Map of any size in a single line\r\n\r\n(as this would be needed for an enum)\r\n\r\n**For example, I thought this looked fine**\r\n\r\n```\r\nPANCAKES(true, new LinkedHashMap&lt;&gt;(){{\r\n                       put(&quot;Pancake Mix&quot;,&quot;Pour&quot;);\r\n                       put(&quot;Water&quot;,&quot;Mix with&quot;);\r\n                       put(&quot;Pan&quot;,&quot;Put mixture onto&quot;);\r\n               }};)\r\n```\r\n\r\nUntil I read that this is dangerous and can cause a memory leak. Plus, it isn&#39;t the best looking code.\r\n\r\n**I also found the method:**\r\n\r\n```\r\nMap.put(entry(), entry()... entry())\r\n```\r\n\r\nWhich can be turned into a LinkedHashMap by passing it through its constructor:\r\n\r\n```\r\nPANCAKES(true, new LinkedHashMap&lt;&gt;(Map.put(entry(), ...)) );\r\n```\r\n\r\nAlthough I haven&#39;t found a way to ensure the insertion order is preserved, since as far as I&#39;m aware Maps don&#39;t preserve insertion order.\r\n\r\nOf course, there&#39;s always the option to store the LinkedHashMaps in a different place outside of the enum and simply put those in manually, but I feel like this would give me a headache managing, as I intend to add to this enum in the future.\r\n\r\n***Is there any other way to accomplish this?***\r\n\r\n*to clarify, I don&#39;t literally need the code to occupy a single line, I just want the LinkedHashMap initialization and population to be written in the same place, rather than storing these things outside of the enum*","title":"Making an enum with stored LinkedHashMap values","body":"<p>I'm somewhat of a beginner to java, although I understand the basics. I believed this was the best implementation for my problem, but obviously I may be wrong. This is a mock example I made, and I'm not interested in looking for different implementations. I simply mention I'm not sure if it's the best implementation in the case that it's impossible. Regardless:</p>\n<p><strong>Here I have an enum, inside of which I want a map (specifically a LinkedHashMap) as one of the enum object's stored values</strong></p>\n<pre><code>enum Recipe {\n\n    PANCAKES(true, new LinkedHashMap&lt;&gt;() ),\n    SANDWICH(true, new LinkedHashMap&lt;&gt;() ),\n    STEW(false, new LinkedHashMap&lt;&gt;() );\n\n    private final boolean tasty;\n    private final LinkedHashMap&lt;String, String&gt; directions;\n\n    // getter for directions\n\n    Recipe(boolean tasty, LinkedHashMap&lt;String, String&gt; directions) {\n        this.tasty = tasty\n        this.directions = directions;\n    }\n}\n</code></pre>\n<h1>However, I haven't found a way to Initialize and Populate a Map of any size in a single line</h1>\n<p>(as this would be needed for an enum)</p>\n<p><strong>For example, I thought this looked fine</strong></p>\n<pre><code>PANCAKES(true, new LinkedHashMap&lt;&gt;(){{\n                       put(&quot;Pancake Mix&quot;,&quot;Pour&quot;);\n                       put(&quot;Water&quot;,&quot;Mix with&quot;);\n                       put(&quot;Pan&quot;,&quot;Put mixture onto&quot;);\n               }};)\n</code></pre>\n<p>Until I read that this is dangerous and can cause a memory leak. Plus, it isn't the best looking code.</p>\n<p><strong>I also found the method:</strong></p>\n<pre><code>Map.put(entry(), entry()... entry())\n</code></pre>\n<p>Which can be turned into a LinkedHashMap by passing it through its constructor:</p>\n<pre><code>PANCAKES(true, new LinkedHashMap&lt;&gt;(Map.put(entry(), ...)) );\n</code></pre>\n<p>Although I haven't found a way to ensure the insertion order is preserved, since as far as I'm aware Maps don't preserve insertion order.</p>\n<p>Of course, there's always the option to store the LinkedHashMaps in a different place outside of the enum and simply put those in manually, but I feel like this would give me a headache managing, as I intend to add to this enum in the future.</p>\n<p><em><strong>Is there any other way to accomplish this?</strong></em></p>\n<p><em>to clarify, I don't literally need the code to occupy a single line, I just want the LinkedHashMap initialization and population to be written in the same place, rather than storing these things outside of the enum</em></p>\n"},{"tags":["java","linux","ubuntu","audio","pulseaudio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1673921614,"post_id":75141295,"comment_id":132600074,"body_markdown":"Which version of Java are you using?","body":"Which version of Java are you using?"},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673930439,"post_id":75141295,"comment_id":132601194,"body_markdown":"I am using Java 11.","body":"I am using Java 11."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1673970790,"post_id":75141295,"comment_id":132612785,"body_markdown":"When you say “It will only succeed,” how do you know the sound output is not succeeding?  Are you getting an exception?","body":"When you say “It will only succeed,” how do you know the sound output is not succeeding?  Are you getting an exception?"},{"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"score":0,"creation_date":1673982105,"post_id":75141295,"comment_id":132616432,"body_markdown":"Yes correct, I am getting an exception. I will update the question with that missing info.","body":"Yes correct, I am getting an exception. I will update the question with that missing info."}],"owner":{"account_id":4037842,"reputation":1821,"user_id":3321579,"accept_rate":62,"display_name":"Scorb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673920170,"creation_date":1673920170,"question_id":75141295,"body_markdown":"I am writing an audio application, and testing on Ubuntu 22.04.\r\n\r\nI am using javax.sound.sampled sampled library.\r\n\r\nI get available mixer info as follows...\r\n\r\n        Mixer.Info[] mixers = AudioSystem.getMixerInfo();\r\n        for (int i = 0; i &lt; mixers.length; i++)\r\n            Log.i(&quot;[&quot;+i+&quot;]&quot;+&quot; &quot;+mixers[i].getDescription());\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        int selection = scanner.nextInt();\r\n        scanner.close();\r\n\r\nThis list all my hardware audio devices available to me. When I then subsequently try to open and use that audio hardware...\r\n\r\n        mLine = AudioSystem.getSourceDataLine(mAudioFormat, mMixerInfo);\r\n        int bufferSizeInBytes = mBufferSizeInFrames * mChannels * mBytesPerSmp;\r\n        mLine.open(mAudioFormat, bufferSizeInBytes);\r\n\r\nIt will only succeed if there is no other application currently playing audio on that device (like my browser, or a game).\r\n\r\nIs there a way I can write raw audio not directly to a hardware device, but to a higher level software mixer like ALSA or Pulse (which I assume all my other applications do)?","title":"Is there a way to write raw audio data to Pulse Audio from Java?","body":"<p>I am writing an audio application, and testing on Ubuntu 22.04.</p>\n<p>I am using javax.sound.sampled sampled library.</p>\n<p>I get available mixer info as follows...</p>\n<pre><code>    Mixer.Info[] mixers = AudioSystem.getMixerInfo();\n    for (int i = 0; i &lt; mixers.length; i++)\n        Log.i(&quot;[&quot;+i+&quot;]&quot;+&quot; &quot;+mixers[i].getDescription());\n\n    Scanner scanner = new Scanner(System.in);\n    int selection = scanner.nextInt();\n    scanner.close();\n</code></pre>\n<p>This list all my hardware audio devices available to me. When I then subsequently try to open and use that audio hardware...</p>\n<pre><code>    mLine = AudioSystem.getSourceDataLine(mAudioFormat, mMixerInfo);\n    int bufferSizeInBytes = mBufferSizeInFrames * mChannels * mBytesPerSmp;\n    mLine.open(mAudioFormat, bufferSizeInBytes);\n</code></pre>\n<p>It will only succeed if there is no other application currently playing audio on that device (like my browser, or a game).</p>\n<p>Is there a way I can write raw audio not directly to a hardware device, but to a higher level software mixer like ALSA or Pulse (which I assume all my other applications do)?</p>\n"},{"tags":["java","lombok","sdkman","spring-tools-4"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673490496,"post_id":75090422,"comment_id":132513063,"body_markdown":"(1) Easy way is: DO NOT PUT `sts-4.17.1.RELEASE` in `/opt` or use INSTALL, just download it , unzip, put it in your user folder like `~/TOOLS/sts-4.17.1.RELEASE` (2) And Why ? Because sdkman is under per user. root does not have sdkman or java. If you run `sudo java`, root does not have java.","body":"(1) Easy way is: DO NOT PUT <code>sts-4.17.1.RELEASE</code> in <code>&#47;opt</code> or use INSTALL, just download it , unzip, put it in your user folder like <code>~&#47;TOOLS&#47;sts-4.17.1.RELEASE</code> (2) And Why ? Because sdkman is under per user. root does not have sdkman or java. If you run <code>sudo java</code>, root does not have java."},{"owner":{"account_id":20515025,"reputation":70,"user_id":15055898,"display_name":"Clauber Martins"},"score":0,"creation_date":1673976399,"post_id":75090422,"comment_id":132614662,"body_markdown":"In fact root doesn&#39;t have sdkman.","body":"In fact root doesn&#39;t have sdkman."}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673919821,"creation_date":1673490602,"answer_id":75090967,"question_id":75090422,"body_markdown":"Because root does not have sdkman install. root can not get java.\r\n\r\nYou can do this:\r\n\r\n    sudo su -\r\n    \r\n    mkdir -p /usr/lib/jvm\r\n\r\n    cd /usr/lib/jvm\r\n    \r\n    ln -s /home/YourUserName/.sdkman/candidates/java/current jdk\r\n    \r\n    nano /root/.bashrc\r\n    \r\n    # ADD This \r\n    export JAVA_HOME=/usr/lib/jvm/jdk\r\n    export PATH=/usr/lib/jvm/jdk/bin:$PATH\r\n    \r\n    # Ctrl + O save \r\n    # Ctrl + X exit nano\r\n    \r\n    exit\r\n\r\nUPDATE:\r\n\r\nAdd JDK Path to sudoers config:\r\n\r\nRun Command : `sudo nano /etc/sudoers`\r\n\r\nfind `Defaults        secure_path=&quot;/usr/local/sb...&quot;`\r\n\r\nappend `:/usr/lib/jvm/jdk/bin` at end of this line\r\n\r\nit will like `Defaults\tsecure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/usr/lib/jvm/jdk/bin&quot;`\r\n\r\nsave and exit nano.\r\n\r\nTest: `sudo java -version`\r\n\r\nThen you can run `sudo java -jar lombok.jar`","title":"I can&#39;t install lombok in Spring Tool Suite 4 ide on Ubuntu","body":"<p>Because root does not have sdkman install. root can not get java.</p>\n<p>You can do this:</p>\n<pre><code>sudo su -\n\nmkdir -p /usr/lib/jvm\n\ncd /usr/lib/jvm\n\nln -s /home/YourUserName/.sdkman/candidates/java/current jdk\n\nnano /root/.bashrc\n\n# ADD This \nexport JAVA_HOME=/usr/lib/jvm/jdk\nexport PATH=/usr/lib/jvm/jdk/bin:$PATH\n\n# Ctrl + O save \n# Ctrl + X exit nano\n\nexit\n</code></pre>\n<p>UPDATE:</p>\n<p>Add JDK Path to sudoers config:</p>\n<p>Run Command : <code>sudo nano /etc/sudoers</code></p>\n<p>find <code>Defaults        secure_path=&quot;/usr/local/sb...&quot;</code></p>\n<p>append <code>:/usr/lib/jvm/jdk/bin</code> at end of this line</p>\n<p>it will like <code>Defaults  secure_path=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/usr/lib/jvm/jdk/bin&quot;</code></p>\n<p>save and exit nano.</p>\n<p>Test: <code>sudo java -version</code></p>\n<p>Then you can run <code>sudo java -jar lombok.jar</code></p>\n"}],"owner":{"account_id":20515025,"reputation":70,"user_id":15055898,"display_name":"Clauber Martins"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75090967,"answer_count":1,"score":0,"last_activity_date":1673919821,"creation_date":1673483884,"question_id":75090422,"body_markdown":"I&#39;m trying to install lombok in the Spring Tool Suite 4 ide which is in the /opt folder on Ubuntu. The command: `java -jar lombok.jar` does not work because the opt folder requires privileges.\r\n[![enter image description here](https://i.stack.imgur.com/80MAw.png)](https://i.stack.imgur.com/80MAw.png)\r\n\r\nI tried using the command suggested by the installation software: `sudo java -jar lombok.jar` I get the result:\r\n\r\n&gt; sudo: java: command not found\r\n\r\nNote: I have the SDKMAN software development kit manager installed to manage java versions.","title":"I can&#39;t install lombok in Spring Tool Suite 4 ide on Ubuntu","body":"<p>I'm trying to install lombok in the Spring Tool Suite 4 ide which is in the /opt folder on Ubuntu. The command: <code>java -jar lombok.jar</code> does not work because the opt folder requires privileges.\n<a href=\"https://i.stack.imgur.com/80MAw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/80MAw.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried using the command suggested by the installation software: <code>sudo java -jar lombok.jar</code> I get the result:</p>\n<blockquote>\n<p>sudo: java: command not found</p>\n</blockquote>\n<p>Note: I have the SDKMAN software development kit manager installed to manage java versions.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":12877851,"reputation":126,"user_id":9313980,"display_name":"ellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673919623,"creation_date":1673919623,"answer_id":75141252,"question_id":75140631,"body_markdown":"Essentially, what you want to do is loop over the keys in your &quot;profiles&quot; JSON object. An easy way to do this is by using the `keySet()` method on the `JSONObject`. I assumed that you were using `org.json:json` because I couldn&#39;t see your imports in your code snippet, but if your `JSONObject` class does not have the `keySet()` method, there is probably a similar method you could use instead.\r\n\r\n# Code\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URL;\r\n\r\nimport org.json.JSONObject;\r\n\r\npublic class MinecraftThing {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tURL pseudo = new URL(&quot;https://sky.shiiyu.moe/api/v2/profile/CoopCarried&quot;);\r\n\t\tBufferedReader in2 = new BufferedReader(new InputStreamReader(pseudo.openStream()));\r\n\t\tStringBuilder response2 = new StringBuilder();\r\n\t\tString inputLine2;\r\n\t\twhile ((inputLine2 = in2.readLine()) != null) {\r\n\t\t\tresponse2.append(inputLine2);\r\n\t\t}\r\n\t\tin2.close();\r\n\t\tJSONObject json = new JSONObject(response2.toString());\r\n\t\tfor (final Object keyObject : json.getJSONObject(&quot;profiles&quot;).keySet()) {\r\n\t\t\tfinal String key = keyObject.toString();\r\n\t\t\tBoolean test = json.getJSONObject(&quot;profiles&quot;).getJSONObject(key).getBoolean(&quot;current&quot;);\r\n\t\t\tSystem.out.println(key + &quot;: &quot; + test);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n# Output:\r\n\r\n```\r\ndfdb...: false\r\n27d0...: false\r\nd675...: false\r\n2862...: false\r\n6bb9...: true\r\n```","title":"How can i get precise data in precise json request with java","body":"<p>Essentially, what you want to do is loop over the keys in your &quot;profiles&quot; JSON object. An easy way to do this is by using the <code>keySet()</code> method on the <code>JSONObject</code>. I assumed that you were using <code>org.json:json</code> because I couldn't see your imports in your code snippet, but if your <code>JSONObject</code> class does not have the <code>keySet()</code> method, there is probably a similar method you could use instead.</p>\n<h1>Code</h1>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\nimport org.json.JSONObject;\n\npublic class MinecraftThing {\n    public static void main(String[] args) throws IOException {\n        URL pseudo = new URL(&quot;https://sky.shiiyu.moe/api/v2/profile/CoopCarried&quot;);\n        BufferedReader in2 = new BufferedReader(new InputStreamReader(pseudo.openStream()));\n        StringBuilder response2 = new StringBuilder();\n        String inputLine2;\n        while ((inputLine2 = in2.readLine()) != null) {\n            response2.append(inputLine2);\n        }\n        in2.close();\n        JSONObject json = new JSONObject(response2.toString());\n        for (final Object keyObject : json.getJSONObject(&quot;profiles&quot;).keySet()) {\n            final String key = keyObject.toString();\n            Boolean test = json.getJSONObject(&quot;profiles&quot;).getJSONObject(key).getBoolean(&quot;current&quot;);\n            System.out.println(key + &quot;: &quot; + test);\n        }\n    }\n}\n</code></pre>\n<h1>Output:</h1>\n<pre><code>dfdb...: false\n27d0...: false\nd675...: false\n2862...: false\n6bb9...: true\n</code></pre>\n"}],"owner":{"account_id":27547438,"reputation":3,"user_id":21023126,"display_name":"CoopCarried"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75141252,"answer_count":1,"score":0,"last_activity_date":1673919623,"creation_date":1673911204,"question_id":75140631,"body_markdown":"i recently started to developp a java discord bot that can use some API of a hypixel skyblock game. I&#39;ve done many request so far, but now i&#39;m stuck on one. I want to get the current profile of a player and for that is use Skycrypt API. \r\n\r\nThe request with Skycrypt API is something like that : https://sky.shiiyu.moe/api/v2/profile/[Name]. \r\n(Where name is your ign on hypixel skyblock)\r\n\r\nAnd the API return something like that :[API response](https://i.stack.imgur.com/1W7Wx.png)\r\nOn each profile (random number like d675....) i get few fields that are important :[Fields](https://i.stack.imgur.com/F5FIG.png)\r\nThe key that i want to get here is &quot;current&quot;.\r\n\r\nAnd when i try to do this in java i&#39;m stuck because i need in fact the d6751... key to do it :\r\n\r\n```java\r\nURL pseudo = new URL(&quot;https://sky.shiiyu.moe/api/v2/profile/CoopCarried&quot;);\r\nBufferedReader in2 = new BufferedReader(new InputStreamReader(pseudo.openStream()));\r\nStringBuilder response2 = new StringBuilder();\r\nString inputLine2;\r\nwhile ((inputLine2 = in2.readLine()) != null) {\r\n     response2.append(inputLine2);\r\n}in2.close();\r\nJSONObject json = new JSONObject(response2.toString());\r\nBoolean test = json.getJSONObject(&quot;profiles&quot;).getJSONObject(&quot;d675...&quot;).getBoolean(&quot;current&quot;);\r\nSystem.out.println(test);\r\n```\r\n\r\nAnd the problem here is that the player can have multiple profiles which means multiple d6751 keys and if i need the keys in question in my code acces the current key, there will be a problem. And keep it mind that i&#39;m doing it for a guild and i got almost 100 peoples to deal with, so if anyone know a solution that&#39;s would be a big help for me.\r\nI&#39;m here if you got some questions that could help you (by the way you can try the API request with my name on minecraft which is : CoopCarried) , thank you in advance.","title":"How can i get precise data in precise json request with java","body":"<p>i recently started to developp a java discord bot that can use some API of a hypixel skyblock game. I've done many request so far, but now i'm stuck on one. I want to get the current profile of a player and for that is use Skycrypt API.</p>\n<p>The request with Skycrypt API is something like that : <a href=\"https://sky.shiiyu.moe/api/v2/profile/%5BName%5D\" rel=\"nofollow noreferrer\">https://sky.shiiyu.moe/api/v2/profile/[Name]</a>.\n(Where name is your ign on hypixel skyblock)</p>\n<p>And the API return something like that :<a href=\"https://i.stack.imgur.com/1W7Wx.png\" rel=\"nofollow noreferrer\">API response</a>\nOn each profile (random number like d675....) i get few fields that are important :<a href=\"https://i.stack.imgur.com/F5FIG.png\" rel=\"nofollow noreferrer\">Fields</a>\nThe key that i want to get here is &quot;current&quot;.</p>\n<p>And when i try to do this in java i'm stuck because i need in fact the d6751... key to do it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL pseudo = new URL(&quot;https://sky.shiiyu.moe/api/v2/profile/CoopCarried&quot;);\nBufferedReader in2 = new BufferedReader(new InputStreamReader(pseudo.openStream()));\nStringBuilder response2 = new StringBuilder();\nString inputLine2;\nwhile ((inputLine2 = in2.readLine()) != null) {\n     response2.append(inputLine2);\n}in2.close();\nJSONObject json = new JSONObject(response2.toString());\nBoolean test = json.getJSONObject(&quot;profiles&quot;).getJSONObject(&quot;d675...&quot;).getBoolean(&quot;current&quot;);\nSystem.out.println(test);\n</code></pre>\n<p>And the problem here is that the player can have multiple profiles which means multiple d6751 keys and if i need the keys in question in my code acces the current key, there will be a problem. And keep it mind that i'm doing it for a guild and i got almost 100 peoples to deal with, so if anyone know a solution that's would be a big help for me.\nI'm here if you got some questions that could help you (by the way you can try the API request with my name on minecraft which is : CoopCarried) , thank you in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"score":2,"creation_date":1673916456,"post_id":75140992,"comment_id":132599407,"body_markdown":"Can you just convert only `data` list? something like `mapper.convertValue(response.getData(),  typeReference)`","body":"Can you just convert only <code>data</code> list? something like <code>mapper.convertValue(response.getData(),  typeReference)</code>"},{"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"score":0,"creation_date":1673916848,"post_id":75140992,"comment_id":132599457,"body_markdown":"@VitaliiVitrenko, I tried that but got this error on the mapper line: \n`java.lang.IllegalArgumentException: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token `JsonToken.START_ARRAY`)\n at [Source: UNKNOWN; byte offset: #UNKNOWN]`","body":"@VitaliiVitrenko, I tried that but got this error on the mapper line:  <code>java.lang.IllegalArgumentException: Cannot deserialize value of type </code>java.util.LinkedHashMap&lt;java.lang.String,java.lang.Object&gt;` from Array value (token <code>JsonToken.START_ARRAY</code>)  at [Source: UNKNOWN; byte offset: #UNKNOWN]`"}],"answers":[{"tags":[],"owner":{"account_id":5873206,"reputation":9996,"user_id":4624905,"accept_rate":95,"display_name":"Vitalii Vitrenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673918093,"creation_date":1673917713,"answer_id":75141128,"question_id":75140992,"body_markdown":"  You can convert only `data` list\r\n  \r\n    List&lt;Map&lt;String, Object&gt;&gt; mapResponse = mapper.convertValue(response.getData(), new TypeReference&lt;&gt;() {\r\n    });\r\n    \r\n    System.out.println(mapResponse);","title":"Can an API response root property be removed from a Java POJO response?","body":"<p>You can convert only <code>data</code> list</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; mapResponse = mapper.convertValue(response.getData(), new TypeReference&lt;&gt;() {\n});\n\nSystem.out.println(mapResponse);\n</code></pre>\n"}],"owner":{"account_id":7615640,"reputation":622,"user_id":5775158,"accept_rate":37,"display_name":"Testilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75141128,"answer_count":1,"score":0,"last_activity_date":1673918093,"creation_date":1673915591,"question_id":75140992,"body_markdown":"I have been wondering what exactly I am doing wrong here. The response I am getting from my POJO class has a root property that I am unable to remove.\r\n\r\nI have this JSON response:\r\n\r\n    {\r\n      &quot;page&quot;: 1,\r\n      &quot;per_page&quot;: 6,\r\n      &quot;total&quot;: 12,\r\n      &quot;total_pages&quot;: 2,\r\n      &quot;data&quot;: [\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;cerulean&quot;,\r\n          &quot;year&quot;: 2000,\r\n          &quot;color&quot;: &quot;#98B2D1&quot;,\r\n          &quot;pantone_value&quot;: &quot;15-4020&quot;\r\n        },\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;name&quot;: &quot;fuchsia rose&quot;,\r\n          &quot;year&quot;: 2001,\r\n          &quot;color&quot;: &quot;#C74375&quot;,\r\n          &quot;pantone_value&quot;: &quot;17-2031&quot;\r\n        }\r\n      ],\r\n      &quot;support&quot;: {\r\n        &quot;url&quot;: &quot;https://reqres.in/#support-heading&quot;,\r\n        &quot;text&quot;: &quot;To keep ReqRes free, contributions towards server costs are appreciated!&quot;\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nI converted JSON to these POJO classes and ignore properties not required for my test.\r\n\r\n\r\nFirst POJO\r\n\r\n      @Getter\r\n      @Setter\r\n      @AllArgsConstructor\r\n      @NoArgsConstructor\r\n      public class Datum{\r\n      public int id;\r\n      public String name;\r\n      public int year;\r\n      public String color;\r\n      public String pantone_value;\r\n      }\r\n\r\nSecond POJO\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Root {\r\n    \r\n    @JsonIgnore\r\n    public int page;\r\n\r\n    @JsonIgnore\r\n    public int per_page;\r\n\r\n    @JsonIgnore\r\n    public int total;\r\n\r\n    @JsonIgnore\r\n    public int total_pages;\r\n    \r\n    public ArrayList&lt;Datum&gt; data;\r\n    @JsonIgnore\r\n    public Support support;\r\n    }\r\n\r\nThird POJO:\r\n  \r\n\r\n        @Getter\r\n        @Setter\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        public class Support {\r\n        public String url;\r\n        public String text;\r\n        }\r\n\r\nI want to get the properties in the Responses&#39; `Data` list and convert it to a map, so I did this:\r\n\r\n    public void verify( List&lt;Map&lt;String, String&gt;&gt; myTest) { //myTest holds the expected response i want to use for my assertion\r\n        Root response = (resp.as(Root.class));\r\n        Map&lt;String, Object&gt; mapResponse = mapper.convertValue(response, new TypeReference&lt;&gt;() {\r\n        });\r\n    \r\n        System.out.println(mapResponse);   \r\n      }\r\n\r\n\r\nOutput:\r\n\r\n    {data=[{id=1, name=cerulean, year=2000, color=#98B2D1, pantone_value=15-4020}, {id=2, name=fuchsia rose, year=2001, color=#C74375, pantone_value=17-2031}, {id=3, name=true red, year=2002, color=#BF1932, pantone_value=19-1664}]}\r\n\r\nThe `{data=` root property (key) at beginning of the output is what I was trying to remove as it&#39;s making my assertion fail.\r\n\r\nThis is the output I would like:\r\n\r\n    [{id=1, name=cerulean, year=2000, color=#98B2D1, pantone_value=15-4020}, {id=2, name=fuchsia rose, year=2001, color=#C74375, pantone_value=17-2031}]\r\n\r\nHow can I convert the response&#39;s data format to get this?\r\n\r\n\r\n\r\n\r\n","title":"Can an API response root property be removed from a Java POJO response?","body":"<p>I have been wondering what exactly I am doing wrong here. The response I am getting from my POJO class has a root property that I am unable to remove.</p>\n<p>I have this JSON response:</p>\n<pre><code>{\n  &quot;page&quot;: 1,\n  &quot;per_page&quot;: 6,\n  &quot;total&quot;: 12,\n  &quot;total_pages&quot;: 2,\n  &quot;data&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;cerulean&quot;,\n      &quot;year&quot;: 2000,\n      &quot;color&quot;: &quot;#98B2D1&quot;,\n      &quot;pantone_value&quot;: &quot;15-4020&quot;\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;fuchsia rose&quot;,\n      &quot;year&quot;: 2001,\n      &quot;color&quot;: &quot;#C74375&quot;,\n      &quot;pantone_value&quot;: &quot;17-2031&quot;\n    }\n  ],\n  &quot;support&quot;: {\n    &quot;url&quot;: &quot;https://reqres.in/#support-heading&quot;,\n    &quot;text&quot;: &quot;To keep ReqRes free, contributions towards server costs are appreciated!&quot;\n  }\n}\n</code></pre>\n<p>I converted JSON to these POJO classes and ignore properties not required for my test.</p>\n<p>First POJO</p>\n<pre><code>  @Getter\n  @Setter\n  @AllArgsConstructor\n  @NoArgsConstructor\n  public class Datum{\n  public int id;\n  public String name;\n  public int year;\n  public String color;\n  public String pantone_value;\n  }\n</code></pre>\n<p>Second POJO</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Root {\n\n@JsonIgnore\npublic int page;\n\n@JsonIgnore\npublic int per_page;\n\n@JsonIgnore\npublic int total;\n\n@JsonIgnore\npublic int total_pages;\n\npublic ArrayList&lt;Datum&gt; data;\n@JsonIgnore\npublic Support support;\n}\n</code></pre>\n<p>Third POJO:</p>\n<pre><code>    @Getter\n    @Setter\n    @AllArgsConstructor\n    @NoArgsConstructor\n    public class Support {\n    public String url;\n    public String text;\n    }\n</code></pre>\n<p>I want to get the properties in the Responses' <code>Data</code> list and convert it to a map, so I did this:</p>\n<pre><code>public void verify( List&lt;Map&lt;String, String&gt;&gt; myTest) { //myTest holds the expected response i want to use for my assertion\n    Root response = (resp.as(Root.class));\n    Map&lt;String, Object&gt; mapResponse = mapper.convertValue(response, new TypeReference&lt;&gt;() {\n    });\n\n    System.out.println(mapResponse);   \n  }\n</code></pre>\n<p>Output:</p>\n<pre><code>{data=[{id=1, name=cerulean, year=2000, color=#98B2D1, pantone_value=15-4020}, {id=2, name=fuchsia rose, year=2001, color=#C74375, pantone_value=17-2031}, {id=3, name=true red, year=2002, color=#BF1932, pantone_value=19-1664}]}\n</code></pre>\n<p>The <code>{data=</code> root property (key) at beginning of the output is what I was trying to remove as it's making my assertion fail.</p>\n<p>This is the output I would like:</p>\n<pre><code>[{id=1, name=cerulean, year=2000, color=#98B2D1, pantone_value=15-4020}, {id=2, name=fuchsia rose, year=2001, color=#C74375, pantone_value=17-2031}]\n</code></pre>\n<p>How can I convert the response's data format to get this?</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":116061,"reputation":2085,"user_id":304504,"accept_rate":53,"display_name":"moshfiqur"},"score":0,"creation_date":1270576022,"post_id":2586975,"comment_id":2594411,"body_markdown":"@skaffman: Nothing yet. I am a PHP Programmer who is recently trying java. So naturally I am very used to curl. So, while working on java as a novice, this question comes up in my mind, still out of curiosity but I am sure in near future I will need it. If anyone knows any better alternative of curl in java, then please also share. It will be very very helpful. Thanks.","body":"@skaffman: Nothing yet. I am a PHP Programmer who is recently trying java. So naturally I am very used to curl. So, while working on java as a novice, this question comes up in my mind, still out of curiosity but I am sure in near future I will need it. If anyone knows any better alternative of curl in java, then please also share. It will be very very helpful. Thanks."},{"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"score":1,"creation_date":1270576517,"post_id":2586975,"comment_id":2594485,"body_markdown":"Very close to http://stackoverflow.com/questions/116650/curl-equivalent-in-java","body":"Very close to <a href=\"http://stackoverflow.com/questions/116650/curl-equivalent-in-java\" title=\"curl equivalent in java\">stackoverflow.com/questions/116650/curl-equivalent-in-java</a>"},{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1270576818,"post_id":2586975,"comment_id":2594523,"body_markdown":"I ask because CURL does a whole bunch of stuff, some of which is built-in to Java, some of which isn&#39;t. More specific requirements would help a lot here.","body":"I ask because CURL does a whole bunch of stuff, some of which is built-in to Java, some of which isn&#39;t. More specific requirements would help a lot here."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":3,"up_vote_count":149,"is_accepted":true,"score":146,"last_activity_date":1589041517,"creation_date":1270575687,"answer_id":2587000,"question_id":2586975,"body_markdown":"You can make use of [`java.net.URL`][1] and/or [`java.net.URLConnection`][2]. \n\n\n    URL url = new URL(&quot;https://stackoverflow.com&quot;);\n\n    try (BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream(), &quot;UTF-8&quot;))) {\n        for (String line; (line = reader.readLine()) != null;) {\n            System.out.println(line);\n        }\n    }\n\n\nAlso see the [Oracle&#39;s simple tutorial][3] on the subject. It&#39;s however a bit verbose. To end up with less verbose code, you may want to consider [Apache HttpClient][4] instead.\n\nBy the way: if your next question is &quot;How to process HTML result?&quot;, then the answer is &quot;[Use a HTML parser][5]. [No, don&#39;t use regex for this][6].&quot;.\n\n### See also:\n\n- https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\n- https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers\n\n\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/net/URL.html\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html\n  [3]: http://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html\n  [4]: http://hc.apache.org/httpcomponents-client-ga/index.html\n  [5]: https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281\n  [6]: https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags","title":"How to use cURL in Java?","body":"<p>You can make use of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/URL.html\" rel=\"noreferrer\"><code>java.net.URL</code></a> and/or <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html\" rel=\"noreferrer\"><code>java.net.URLConnection</code></a>.</p>\n<pre><code>URL url = new URL(&quot;https://stackoverflow.com&quot;);\n\ntry (BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream(), &quot;UTF-8&quot;))) {\n    for (String line; (line = reader.readLine()) != null;) {\n        System.out.println(line);\n    }\n}\n</code></pre>\n<p>Also see the <a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/readingWriting.html\" rel=\"noreferrer\">Oracle's simple tutorial</a> on the subject. It's however a bit verbose. To end up with less verbose code, you may want to consider <a href=\"http://hc.apache.org/httpcomponents-client-ga/index.html\" rel=\"noreferrer\">Apache HttpClient</a> instead.</p>\n<p>By the way: if your next question is &quot;How to process HTML result?&quot;, then the answer is &quot;<a href=\"https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers/3154281#3154281\">Use a HTML parser</a>. <a href=\"https://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\">No, don't use regex for this</a>.&quot;.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2793150/how-to-use-java-net-urlconnection-to-fire-and-handle-http-requests\">How to use java.net.URLConnection to fire and handle HTTP requests?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3152138/what-are-the-pros-and-cons-of-the-leading-java-html-parsers\">What are the pros and cons of the leading Java HTML parsers?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":59334,"reputation":4375,"user_id":177567,"accept_rate":75,"display_name":"Stevko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270575733,"creation_date":1270575733,"answer_id":2587009,"question_id":2586975,"body_markdown":"Using standard java libs, I suggest looking at the HttpUrlConnection class\r\nhttp://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\r\n\r\nIt can handle most of what curl can do with setting up the connection.\r\nWhat you do with the stream is up to you.\r\n","title":"How to use cURL in Java?","body":"<p>Using standard java libs, I suggest looking at the HttpUrlConnection class\n<a href=\"http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html</a></p>\n\n<p>It can handle most of what curl can do with setting up the connection.\nWhat you do with the stream is up to you.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270575755,"creation_date":1270575755,"answer_id":2587011,"question_id":2586975,"body_markdown":"Curl is a non-java program and must be provided outside your Java program.\r\n\r\nYou can easily get much of the functionality using [Jakarta Commons Net][1], unless there is some specific functionality like &quot;resume transfer&quot; you need (which is tedious to code on your own)\r\n\r\n\r\n  [1]: http://commons.apache.org/net/","title":"How to use cURL in Java?","body":"<p>Curl is a non-java program and must be provided outside your Java program.</p>\n\n<p>You can easily get much of the functionality using <a href=\"http://commons.apache.org/net/\" rel=\"nofollow noreferrer\">Jakarta Commons Net</a>, unless there is some specific functionality like \"resume transfer\" you need (which is tedious to code on your own)</p>\n"},{"tags":[],"owner":{"account_id":72367,"reputation":776,"user_id":208977,"accept_rate":60,"display_name":"mjh2007"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270576132,"creation_date":1270576132,"answer_id":2587059,"question_id":2586975,"body_markdown":"The [Runtime][1] object allows you to execute external command line applications from Java and would therefore allow you to use cURL however as the other answers indicate there is probably a better way to do what you are trying to do. If all you want to do is download a file the URL object will work great.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html","title":"How to use cURL in Java?","body":"<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\">Runtime</a> object allows you to execute external command line applications from Java and would therefore allow you to use cURL however as the other answers indicate there is probably a better way to do what you are trying to do. If all you want to do is download a file the URL object will work great.</p>\n"},{"tags":[],"owner":{"account_id":66727,"reputation":5638,"user_id":195625,"accept_rate":72,"display_name":"Seth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1270579797,"creation_date":1270579797,"answer_id":2587429,"question_id":2586975,"body_markdown":"Some people have already mentioned [HttpURLConnection][1], [URL][2] and [URLConnection][3]. If you need all the control and extra features that the curl library provides you (and more), I&#39;d recommend [Apache&#39;s httpclient][4].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/net/URL.html\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/net/URLConnection.html\r\n  [4]: http://hc.apache.org/httpcomponents-client-4.0.1/index.html","title":"How to use cURL in Java?","body":"<p>Some people have already mentioned <a href=\"http://java.sun.com/javase/6/docs/api/java/net/HttpURLConnection.html\" rel=\"noreferrer\">HttpURLConnection</a>, <a href=\"http://java.sun.com/javase/6/docs/api/java/net/URL.html\" rel=\"noreferrer\">URL</a> and <a href=\"http://java.sun.com/javase/6/docs/api/java/net/URLConnection.html\" rel=\"noreferrer\">URLConnection</a>. If you need all the control and extra features that the curl library provides you (and more), I'd recommend <a href=\"http://hc.apache.org/httpcomponents-client-4.0.1/index.html\" rel=\"noreferrer\">Apache's httpclient</a>.</p>\n"},{"tags":[],"owner":{"account_id":5964413,"reputation":163,"user_id":4688529,"display_name":"ariane26"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1592504226,"creation_date":1592504226,"answer_id":62456780,"question_id":2586975,"body_markdown":"Use [Runtime][1] to call Curl. This code works for both Ubuntu and Windows.\r\n\r\n    String[] commands = new String {&quot;curl&quot;, &quot;-X&quot;, &quot;GET&quot;, &quot;http://checkip.amazonaws.com&quot;};\r\n    Process process = Runtime.getRuntime().exec(commands);\r\n    BufferedReader reader = new BufferedReader(new \r\n    InputStreamReader(process.getInputStream()));\r\n    String line;\r\n    String response;\r\n    while ((line = reader.readLine()) != null) {\r\n        response.append(line);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html","title":"How to use cURL in Java?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Runtime.html\" rel=\"nofollow noreferrer\">Runtime</a> to call Curl. This code works for both Ubuntu and Windows.</p>\n\n<pre><code>String[] commands = new String {\"curl\", \"-X\", \"GET\", \"http://checkip.amazonaws.com\"};\nProcess process = Runtime.getRuntime().exec(commands);\nBufferedReader reader = new BufferedReader(new \nInputStreamReader(process.getInputStream()));\nString line;\nString response;\nwhile ((line = reader.readLine()) != null) {\n    response.append(line);\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3064538"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667192309,"creation_date":1667192309,"answer_id":74258904,"question_id":2586975,"body_markdown":"Paste your curl command into [curlconverter.com/java/](https://curlconverter.com/java/) and it&#39;ll convert it into Java code using `java.net.URL` and `java.net.URLConnection`.","title":"How to use cURL in Java?","body":"<p>Paste your curl command into <a href=\"https://curlconverter.com/java/\" rel=\"nofollow noreferrer\">curlconverter.com/java/</a> and it'll convert it into Java code using <code>java.net.URL</code> and <code>java.net.URLConnection</code>.</p>\n"}],"owner":{"account_id":116061,"reputation":2085,"user_id":304504,"accept_rate":53,"display_name":"moshfiqur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277514,"favorite_count":0,"down_vote_count":1,"up_vote_count":111,"accepted_answer_id":2587000,"answer_count":7,"score":110,"last_activity_date":1673917934,"creation_date":1270575437,"question_id":2586975,"body_markdown":"I want to use curl in java. Is curl built-in with Java or I have to install it from any 3rd party source to use with Java? If it needs to be separately installed, how can that be done?","title":"How to use cURL in Java?","body":"<p>I want to use curl in java. Is curl built-in with Java or I have to install it from any 3rd party source to use with Java? If it needs to be separately installed, how can that be done?</p>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673917588,"post_id":75141115,"comment_id":132599548,"body_markdown":"How world you suggest we help you?","body":"How world you suggest we help you?"},{"owner":{"account_id":16010862,"reputation":2281,"user_id":11555065,"display_name":"DHAVAL A."},"score":0,"creation_date":1673949676,"post_id":75141115,"comment_id":132605592,"body_markdown":"Add a proper description of the problem you want us to solve.\n[refer](https://stackoverflow.com/help/how-to-ask)","body":"Add a proper description of the problem you want us to solve. <a href=\"https://stackoverflow.com/help/how-to-ask\">refer</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673985931,"post_id":75141115,"comment_id":132617557,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27547970,"reputation":1,"user_id":21023548,"display_name":"psyxph"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673917519,"creation_date":1673917519,"question_id":75141115,"body_markdown":"I think the app crashes when connecting to the internet.\r\n\r\nI&#39;m trying to get the JSON Code and store it in a String variable. I already got the code that extract the definition from it and put it into the TextView.","title":"Getting data from JSON Array that has no name from an API in Android Studio","body":"<p>I think the app crashes when connecting to the internet.</p>\n<p>I'm trying to get the JSON Code and store it in a String variable. I already got the code that extract the definition from it and put it into the TextView.</p>\n"},{"tags":["java","jira-rest-api"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1673938226,"post_id":75140957,"comment_id":132602421,"body_markdown":"Maybe you should tag your question [javascript](https://stackoverflow.com/tags/javascript/info) and **not** java?","body":"Maybe you should tag your question <a href=\"https://stackoverflow.com/tags/javascript/info\">javascript</a> and <b>not</b> java?"},{"owner":{"account_id":22125841,"reputation":21,"user_id":16378241,"display_name":"Lusia"},"score":0,"creation_date":1673955961,"post_id":75140957,"comment_id":132607434,"body_markdown":"@Abra, I send request from backed. It is written on Java.","body":"@Abra, I send request from backed. It is written on Java."}],"owner":{"account_id":22125841,"reputation":21,"user_id":16378241,"display_name":"Lusia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673915066,"creation_date":1673915066,"question_id":75140957,"body_markdown":"I am trying to create options for my custom checkbox field.\r\nI need to do it dynamically for each issue. (Some of them can have different options). Is there a way to do it? If yes, what I do wrong?\r\n\r\n```\r\n{&quot;update&quot; : {},\r\n&quot;fields&quot;: {&quot;summary&quot;: &quot;Title&quot;,\r\n&quot;customfield_11357&quot;: {\r\n    &quot;type&quot;: &quot;array&quot;,\r\n    &quot;items&quot;: &quot;option&quot;,\r\n    &quot;custom&quot;: &quot;com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes&quot;,\r\n    &quot;customId&quot;: 11357,\r\n    &quot;set&quot; : [\r\n        {&quot;name&quot;:&quot;Name1&quot;},\r\n        {&quot;name&quot;:&quot;Name2&quot;}\r\n    ]\r\n    \r\n},\r\n&quot;issuetype&quot;: {&quot;id&quot;: &quot;10255&quot;},\r\n&quot;parent&quot;: {&quot;key&quot;: &quot;DC-34511&quot;},\r\n&quot;project&quot;: {&quot;id&quot;: &quot;11738&quot;},\r\n&quot;reporter&quot;: {&quot;id&quot;: &quot;5dd3e833b63c210fr4b67g6e&quot;}}}\r\n```","title":"Create options for custom checkbox field using Jira rest api","body":"<p>I am trying to create options for my custom checkbox field.\nI need to do it dynamically for each issue. (Some of them can have different options). Is there a way to do it? If yes, what I do wrong?</p>\n<pre><code>{&quot;update&quot; : {},\n&quot;fields&quot;: {&quot;summary&quot;: &quot;Title&quot;,\n&quot;customfield_11357&quot;: {\n    &quot;type&quot;: &quot;array&quot;,\n    &quot;items&quot;: &quot;option&quot;,\n    &quot;custom&quot;: &quot;com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes&quot;,\n    &quot;customId&quot;: 11357,\n    &quot;set&quot; : [\n        {&quot;name&quot;:&quot;Name1&quot;},\n        {&quot;name&quot;:&quot;Name2&quot;}\n    ]\n    \n},\n&quot;issuetype&quot;: {&quot;id&quot;: &quot;10255&quot;},\n&quot;parent&quot;: {&quot;key&quot;: &quot;DC-34511&quot;},\n&quot;project&quot;: {&quot;id&quot;: &quot;11738&quot;},\n&quot;reporter&quot;: {&quot;id&quot;: &quot;5dd3e833b63c210fr4b67g6e&quot;}}}\n</code></pre>\n"},{"tags":["java","spring","jdbc","h2"],"comments":[{"owner":{"account_id":6112367,"reputation":2295,"user_id":4768389,"display_name":"Mateusz Sroka"},"score":0,"creation_date":1460728895,"post_id":36649179,"comment_id":60891838,"body_markdown":"This means that your H2 in memory database is not initialized. If you are using Hibernate you can use &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt; for tests? If not you could provide sql that will create your schema.","body":"This means that your H2 in memory database is not initialized. If you are using Hibernate you can use &lt;property name=&quot;hbm2ddl.auto&quot; value=&quot;create&quot;/&gt; for tests? If not you could provide sql that will create your schema."},{"owner":{"account_id":146653,"reputation":888,"user_id":357226,"accept_rate":75,"display_name":"Lawrence Tierney"},"score":0,"creation_date":1460729406,"post_id":36649179,"comment_id":60892224,"body_markdown":"Where do you initialise your DB? Where do you load the SQL to create the schema (and table)?","body":"Where do you initialise your DB? Where do you load the SQL to create the schema (and table)?"},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1460729937,"post_id":36649179,"comment_id":60892634,"body_markdown":"I don&#39;t, I guess? I think spring jpa creates them for me. I mean it worked fine for me the first time I was doing it (create interface that extends CrudRepository, and then just ask for it&#39;s implementation with @Autowired). Sorry if that sounds stupid, I am fresh to all this stuff.","body":"I don&#39;t, I guess? I think spring jpa creates them for me. I mean it worked fine for me the first time I was doing it (create interface that extends CrudRepository, and then just ask for it&#39;s implementation with @Autowired). Sorry if that sounds stupid, I am fresh to all this stuff."},{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":0,"creation_date":1460732947,"post_id":36649179,"comment_id":60894782,"body_markdown":"Somewhere in your hibernate config you need to enable ability to create schema if missing.  In my hibernate.cfg.xml under /hibernate-configuration/session-factory I have:\n\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\n\nWhich creates tables as needed.  I also use @Table(name=&quot;...&quot;) on my entities so it knows what table is needed.","body":"Somewhere in your hibernate config you need to enable ability to create schema if missing.  In my hibernate.cfg.xml under /hibernate-configuration/session-factory I have:          &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;         &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;  Which creates tables as needed.  I also use @Table(name=&quot;...&quot;) on my entities so it knows what table is needed."}],"answers":[{"tags":[],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1627545844,"creation_date":1461311994,"answer_id":36788171,"question_id":36649179,"body_markdown":"Table was not found, because there was an error at the start when trying to create it. And the error was due to the fact, that one of the `ClassifierGroupEntity` fields was named &#39;order&#39;, which is one of reserved words in SQL, and thus the generated SQL statement by Spring was syntactically incorrect. ","title":"java h2 in-memory database error: Table not found","body":"<p>Table was not found, because there was an error at the start when trying to create it. And the error was due to the fact, that one of the <code>ClassifierGroupEntity</code> fields was named 'order', which is one of reserved words in SQL, and thus the generated SQL statement by Spring was syntactically incorrect.</p>\n"},{"tags":[],"owner":{"account_id":1462434,"reputation":342,"user_id":1376349,"display_name":"Omoloro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488479393,"creation_date":1488479393,"answer_id":42563167,"question_id":36649179,"body_markdown":"I got this after adding a few columns to my table. The persistence generator created a few more fields in my entity. \r\n\r\nI noticed this in my logs.\r\n\r\n    ERROR 13691 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table comment\r\n    ERROR 13691 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : Scale($&quot;0&quot;) must not be bigger than precision(&quot;-1&quot;)\r\n\r\nIt turns out that the when my IDE&#39;s persistence generator mapped my TEXT field it gave it a length of -1. \r\n\r\n    @Basic\r\n    @Column(name = &quot;address&quot;, nullable = true, length = -1)\r\n    public String getAddress() {\r\n      return address;\r\n    }\r\n\r\nRemoving the length attribute solved the problem for me.\r\n","title":"java h2 in-memory database error: Table not found","body":"<p>I got this after adding a few columns to my table. The persistence generator created a few more fields in my entity. </p>\n\n<p>I noticed this in my logs.</p>\n\n<pre><code>ERROR 13691 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table comment\nERROR 13691 --- [           main] org.hibernate.tool.hbm2ddl.SchemaExport  : Scale($\"0\") must not be bigger than precision(\"-1\")\n</code></pre>\n\n<p>It turns out that the when my IDE's persistence generator mapped my TEXT field it gave it a length of -1. </p>\n\n<pre><code>@Basic\n@Column(name = \"address\", nullable = true, length = -1)\npublic String getAddress() {\n  return address;\n}\n</code></pre>\n\n<p>Removing the length attribute solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":9044063,"reputation":755,"user_id":6737163,"display_name":"Ankit Bhatnagar"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1504503949,"creation_date":1498565773,"answer_id":44780078,"question_id":36649179,"body_markdown":"Have these properties in your **application.properties** file in the src/**test**/resources folder:\r\n\r\n**spring.jpa.generate-ddl=true**\r\n\r\n**spring.jpa.hibernate.ddl-auto=create**\r\n\r\nThis has to be over-ridden because it&#39;s not kept **create** rather kept **none** or **validate** after the first ddl creation.","title":"java h2 in-memory database error: Table not found","body":"<p>Have these properties in your <strong>application.properties</strong> file in the src/<strong>test</strong>/resources folder:</p>\n\n<p><strong>spring.jpa.generate-ddl=true</strong></p>\n\n<p><strong>spring.jpa.hibernate.ddl-auto=create</strong></p>\n\n<p>This has to be over-ridden because it's not kept <strong>create</strong> rather kept <strong>none</strong> or <strong>validate</strong> after the first ddl creation.</p>\n"},{"tags":[],"owner":{"account_id":931451,"reputation":367,"user_id":961275,"accept_rate":80,"display_name":"Shreyash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512464550,"creation_date":1512464550,"answer_id":47649667,"question_id":36649179,"body_markdown":"I encountered the same problem while I was writing unit tests for my own application. After many tries, I was not able to get my application test cases running. I was running on version 1.4.191 and then I upgraded to 1.4.196 and it started working. ","title":"java h2 in-memory database error: Table not found","body":"<p>I encountered the same problem while I was writing unit tests for my own application. After many tries, I was not able to get my application test cases running. I was running on version 1.4.191 and then I upgraded to 1.4.196 and it started working. </p>\n"},{"tags":[],"owner":{"account_id":8976141,"reputation":157,"user_id":6692931,"display_name":"Nick08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551123482,"creation_date":1551123482,"answer_id":54873495,"question_id":36649179,"body_markdown":"In my case I was dumb and forgot to actually put in a **spring.datasource.url**\r\n\r\nFor some reason JPA doesn&#39;t throw an error if it can&#39;t find an actual database url. Weird","title":"java h2 in-memory database error: Table not found","body":"<p>In my case I was dumb and forgot to actually put in a <strong>spring.datasource.url</strong></p>\n\n<p>For some reason JPA doesn't throw an error if it can't find an actual database url. Weird</p>\n"},{"tags":[],"owner":{"account_id":1723085,"reputation":3842,"user_id":1578356,"accept_rate":63,"display_name":"newday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574892986,"creation_date":1574892986,"answer_id":59079181,"question_id":36649179,"body_markdown":"In my case, I use lower case syntax for columns when the query is defined but the columns in the H2 database are defined in the upper case. I was expecting to ignore the case sensitivity but it is not the case with H2 databases.","title":"java h2 in-memory database error: Table not found","body":"<p>In my case, I use lower case syntax for columns when the query is defined but the columns in the H2 database are defined in the upper case. I was expecting to ignore the case sensitivity but it is not the case with H2 databases.</p>\n"},{"tags":[],"owner":{"account_id":3004867,"reputation":715,"user_id":2549581,"accept_rate":0,"display_name":"vs_lala"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1590153158,"creation_date":1590153158,"answer_id":61955901,"question_id":36649179,"body_markdown":"I always use the below configuration for H2 Database, Flyway, Spring Boot JPA before writing integration tests - [https://gist.github.com/vslala/d412156e5840fafa1b9f61aae5b20951][1]\r\n\r\nPut below configuration in your `src/test/resources/application.properties` file.\r\n\r\n\r\n    # Datasource configuration for jdbc h2\r\n    # this is for file based persistent storage\r\n    # spring.datasource.url=jdbc:h2:file:/data/demo\r\n    \r\n    # For in-memory storage\r\n    spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=vslala\r\n    spring.datasource.password=simplepass\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    \r\n    # This has to be over-ridden because\r\n    # it&#39;s not kept create rather kept none or validate after the first ddl creation.\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    \r\n    # This is for FlyWay configuration\r\n    spring.flyway.url=jdbc:h2:mem:testdb\r\n    spring.flyway.schemas=testdb\r\n    spring.flyway.user=vslala\r\n    spring.flyway.password=simplepass\r\n\r\n\r\n  [1]: https://gist.github.com/vslala/d412156e5840fafa1b9f61aae5b20951","title":"java h2 in-memory database error: Table not found","body":"<p>I always use the below configuration for H2 Database, Flyway, Spring Boot JPA before writing integration tests - <a href=\"https://gist.github.com/vslala/d412156e5840fafa1b9f61aae5b20951\" rel=\"noreferrer\">https://gist.github.com/vslala/d412156e5840fafa1b9f61aae5b20951</a></p>\n\n<p>Put below configuration in your <code>src/test/resources/application.properties</code> file.</p>\n\n<pre><code># Datasource configuration for jdbc h2\n# this is for file based persistent storage\n# spring.datasource.url=jdbc:h2:file:/data/demo\n\n# For in-memory storage\nspring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=vslala\nspring.datasource.password=simplepass\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\n# This has to be over-ridden because\n# it's not kept create rather kept none or validate after the first ddl creation.\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n\n# This is for FlyWay configuration\nspring.flyway.url=jdbc:h2:mem:testdb\nspring.flyway.schemas=testdb\nspring.flyway.user=vslala\nspring.flyway.password=simplepass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964373,"reputation":299,"user_id":1765004,"display_name":"vsharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599037884,"creation_date":1597404876,"answer_id":63411983,"question_id":36649179,"body_markdown":"Please try this for this problem - \r\n\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\r\n```\r\n","title":"java h2 in-memory database error: Table not found","body":"<p>Please try this for this problem -</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb;MODE=MySQL;DB_CLOSE_DELAY=-1;IGNORECASE=TRUE;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6531570,"reputation":421,"user_id":8219358,"display_name":"HARSHIT BAJPAI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627540737,"creation_date":1627540737,"answer_id":68571209,"question_id":36649179,"body_markdown":"I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE \r\n\r\nBut nothing worked for me. \r\nWhat worked for me was **renaming data.sql to import.sql** \r\n\r\nI found it here - https://stackoverflow.com/a/53179547/8219358\r\n\r\n**Or** \r\n\r\n\r\nFor Spring Boot 2.4+ use **spring.jpa.defer-datasource-initialization=true** in application.properties (mentioned here - https://stackoverflow.com/a/68086707/8219358)\r\n\r\nI realize other solutions are more logical but none of them worked for me and this did. ","title":"java h2 in-memory database error: Table not found","body":"<p>I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE</p>\n<p>But nothing worked for me.\nWhat worked for me was <strong>renaming data.sql to import.sql</strong></p>\n<p>I found it here - <a href=\"https://stackoverflow.com/a/53179547/8219358\">https://stackoverflow.com/a/53179547/8219358</a></p>\n<p><strong>Or</strong></p>\n<p>For Spring Boot 2.4+ use <strong>spring.jpa.defer-datasource-initialization=true</strong> in application.properties (mentioned here - <a href=\"https://stackoverflow.com/a/68086707/8219358\">https://stackoverflow.com/a/68086707/8219358</a>)</p>\n<p>I realize other solutions are more logical but none of them worked for me and this did.</p>\n"},{"tags":[],"owner":{"account_id":4468336,"reputation":498,"user_id":3775515,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640545699,"creation_date":1640545699,"answer_id":70489141,"question_id":36649179,"body_markdown":" add **spring.jpa.defer-datasource-initialization=true**\r\n\r\ndon&#39;t forget to add these values in application.properties/application.yaml file\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.show-sql=true\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.defer-datasource-initialization=true","title":"java h2 in-memory database error: Table not found","body":"<p>add <strong>spring.jpa.defer-datasource-initialization=true</strong></p>\n<p>don't forget to add these values in application.properties/application.yaml file</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.show-sql=true\nspring.h2.console.enabled=true\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9081223,"reputation":3,"user_id":6761000,"display_name":"ken kang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657028352,"creation_date":1657028352,"answer_id":72870435,"question_id":36649179,"body_markdown":"In my case, I used liquibase to update the data. get the same error, so I used the doule quote &quot; to wrap the table name. it worked.","title":"java h2 in-memory database error: Table not found","body":"<p>In my case, I used liquibase to update the data. get the same error, so I used the doule quote &quot; to wrap the table name. it worked.</p>\n"},{"tags":[],"owner":{"account_id":1036258,"reputation":1207,"user_id":1043477,"accept_rate":71,"display_name":"DilanG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673914986,"creation_date":1673914986,"answer_id":75140953,"question_id":36649179,"body_markdown":"What I found was default springboot is adding underscore to every table name and column name when executing this sqls.\r\n\r\n Ex - actial table name -&gt; testTable, springboot is converting this into -&gt; test_table when executing sql. \r\n\r\nYou can disable this default behaviour by adding following property in your application.yml\r\n\r\n     spring:\r\n      jpa:\r\n        hibernate:\r\n          naming:\r\n            physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"java h2 in-memory database error: Table not found","body":"<p>What I found was default springboot is adding underscore to every table name and column name when executing this sqls.</p>\n<p>Ex - actial table name -&gt; testTable, springboot is converting this into -&gt; test_table when executing sql.</p>\n<p>You can disable this default behaviour by adding following property in your application.yml</p>\n<pre><code> spring:\n  jpa:\n    hibernate:\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"}],"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47711,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":36788171,"answer_count":12,"score":11,"last_activity_date":1673914986,"creation_date":1460728604,"question_id":36649179,"body_markdown":"I tried googling around, but the solution to almost all this kind of questions was to add `;DB_CLOSE_DELAY=-1`, however it does not solve anything for me. \r\n\r\nHere is my test class\r\n\r\n\r\n   \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes = {Main.class})\r\n    public class Testas {\r\n    \t\r\n    \t@Autowired\r\n    \t@Qualifier(&quot;managerImplementation&quot;)\r\n        private ClassifierManager manager;\r\n     \r\n        @Test\r\n        public void testManager(){\r\n        \tClassifierGroupEntity cge = new ClassifierGroupEntity();\r\n            manager.saveClassifierGroup(cge);\r\n        }\r\n    }\r\n\r\nManager class\r\n\r\n    \r\n    @Service(&quot;managerImplementation&quot;)\r\n    public class ClassifierManagerImpl implements ClassifierManager{\r\n    \r\n    \t@Autowired\r\n    \tprivate ClassifierGroupEntityRepository groupEntityRepository;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClassifierEntityRepository entityRepository;\r\n    \t\r\n    \t@Autowired \r\n    \tprivate ClassifierValueEntityRepository valueEntityRepository;\r\n    \t\r\n    \t@Override\r\n    \tpublic ClassifierGroupEntity getClassifierGroup(long id) {\r\n    \t\treturn groupEntityRepository.findOne(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierGroupEntity getClassifierGroup(String code) {\r\n    \t\treturn groupEntityRepository.findByCode(code);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierGroupEntity saveClassifierGroup(ClassifierGroupEntity entity) {\r\n    \t\treturn groupEntityRepository.save(entity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteClassifierGroup(long id) {\r\n    \t\tgroupEntityRepository.delete(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierEntity getClassifier(long id) {\r\n    \t\treturn entityRepository.findOne(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierEntity getClassifier(String code) {\r\n    \t\treturn entityRepository.findByCode(code);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierEntity saveClassifier(ClassifierEntity entity) {\r\n    \t\treturn entityRepository.save(entity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteClassifier(long id) {\r\n    \t\tentityRepository.delete(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierValueEntity getClassifierValue(long id) {\r\n    \t\treturn valueEntityRepository.findOne(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierValue getClassifierValue(String classifiedCode, String valueCode) {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ClassifierValueEntity saveClassifierValue(ClassifierValueEntity entity) {\r\n    \t\treturn valueEntityRepository.save(entity);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void deleteClassifierValue(long id) {\r\n    \t\tvalueEntityRepository.delete(id);\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\nAnd finally properties file\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.user=sa\r\n    spring.datasource.password=\r\n    spring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n\r\nLaunching the test throws me \r\n\r\n    org.h2.jdbc.JdbcSQLException: Table &quot;CLASSIFIER_GROUP_ENTITY&quot; not found; SQL statement:\r\n    insert into classifier_group_entity (id, code, modified_details, modified_time, modified_user_id, order, revision, valid_details, valid_from, valid_till, parent_id) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [42102-191]\r\n\r\nI don&#39;t know if I should provide anything else, please tell me if I do. I appreciate your help in advance.\r\n\r\n","title":"java h2 in-memory database error: Table not found","body":"<p>I tried googling around, but the solution to almost all this kind of questions was to add <code>;DB_CLOSE_DELAY=-1</code>, however it does not solve anything for me. </p>\n\n<p>Here is my test class</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {Main.class})\npublic class Testas {\n\n    @Autowired\n    @Qualifier(\"managerImplementation\")\n    private ClassifierManager manager;\n\n    @Test\n    public void testManager(){\n        ClassifierGroupEntity cge = new ClassifierGroupEntity();\n        manager.saveClassifierGroup(cge);\n    }\n}\n</code></pre>\n\n<p>Manager class</p>\n\n<pre><code>@Service(\"managerImplementation\")\npublic class ClassifierManagerImpl implements ClassifierManager{\n\n    @Autowired\n    private ClassifierGroupEntityRepository groupEntityRepository;\n\n    @Autowired\n    private ClassifierEntityRepository entityRepository;\n\n    @Autowired \n    private ClassifierValueEntityRepository valueEntityRepository;\n\n    @Override\n    public ClassifierGroupEntity getClassifierGroup(long id) {\n        return groupEntityRepository.findOne(id);\n    }\n\n    @Override\n    public ClassifierGroupEntity getClassifierGroup(String code) {\n        return groupEntityRepository.findByCode(code);\n    }\n\n    @Override\n    public ClassifierGroupEntity saveClassifierGroup(ClassifierGroupEntity entity) {\n        return groupEntityRepository.save(entity);\n    }\n\n    @Override\n    public void deleteClassifierGroup(long id) {\n        groupEntityRepository.delete(id);\n    }\n\n    @Override\n    public ClassifierEntity getClassifier(long id) {\n        return entityRepository.findOne(id);\n    }\n\n    @Override\n    public ClassifierEntity getClassifier(String code) {\n        return entityRepository.findByCode(code);\n    }\n\n    @Override\n    public ClassifierEntity saveClassifier(ClassifierEntity entity) {\n        return entityRepository.save(entity);\n    }\n\n    @Override\n    public void deleteClassifier(long id) {\n        entityRepository.delete(id);\n    }\n\n    @Override\n    public ClassifierValueEntity getClassifierValue(long id) {\n        return valueEntityRepository.findOne(id);\n    }\n\n    @Override\n    public ClassifierValue getClassifierValue(String classifiedCode, String valueCode) {\n        return null;\n    }\n\n    @Override\n    public ClassifierValueEntity saveClassifierValue(ClassifierValueEntity entity) {\n        return valueEntityRepository.save(entity);\n    }\n\n    @Override\n    public void deleteClassifierValue(long id) {\n        valueEntityRepository.delete(id);\n    }\n\n\n}\n</code></pre>\n\n<p>And finally properties file</p>\n\n<pre><code>spring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.user=sa\nspring.datasource.password=\nspring.datasource.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n\n<p>Launching the test throws me </p>\n\n<pre><code>org.h2.jdbc.JdbcSQLException: Table \"CLASSIFIER_GROUP_ENTITY\" not found; SQL statement:\ninsert into classifier_group_entity (id, code, modified_details, modified_time, modified_user_id, order, revision, valid_details, valid_from, valid_till, parent_id) values (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [42102-191]\n</code></pre>\n\n<p>I don't know if I should provide anything else, please tell me if I do. I appreciate your help in advance.</p>\n"},{"tags":["java","mysql","jdbc","prepared-statement"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1673911168,"post_id":75140597,"comment_id":132598669,"body_markdown":"This is the most efficient way to insert **one** record. But you may find it more efficient to add **many** records at once with calls to `ps.addBatch()` (but then at some point you must call `ps.executeBatch()`). Still need multiple question marks. Not sure how you would set all five fields with one call without that.","body":"This is the most efficient way to insert <b>one</b> record. But you may find it more efficient to add <b>many</b> records at once with calls to <code>ps.addBatch()</code> (but then at some point you must call <code>ps.executeBatch()</code>). Still need multiple question marks. Not sure how you would set all five fields with one call without that."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1673911265,"post_id":75140597,"comment_id":132598680,"body_markdown":"If you wanted to spend some time, you &quot;could&quot; use a builder pattern, but at the end of the day, you&#39;re still going to end up with the same query `String`","body":"If you wanted to spend some time, you &quot;could&quot; use a builder pattern, but at the end of the day, you&#39;re still going to end up with the same query <code>String</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673911270,"post_id":75140597,"comment_id":132598682,"body_markdown":"What makes you think having &quot;multiple question marks&quot; is inefficient? What do you expect to be able to do instead?","body":"What makes you think having &quot;multiple question marks&quot; is inefficient? What do you expect to be able to do instead?"},{"owner":{"account_id":24904626,"reputation":13,"user_id":18774863,"display_name":"Kyle"},"score":0,"creation_date":1673911820,"post_id":75140597,"comment_id":132598762,"body_markdown":"@ElliottFrisch Understood, I just assumed there was a better way to write this that I wasn&#39;t aware of.  Thank you!","body":"@ElliottFrisch Understood, I just assumed there was a better way to write this that I wasn&#39;t aware of.  Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673913010,"creation_date":1673913010,"answer_id":75140798,"question_id":75140597,"body_markdown":"Efficiency is a rather nebulous word. It _sounds_ like you mean it in the sense of &#39;I find this a rather clumsy way to write, surely there is a way to write an insert statement that takes less effort and is easier to read - that is _more efficient_ from the point of view of writing/reading/maintaining the code. Let&#39;s call that the &#39;code efficiency&#39; factor.\r\n\r\nThe other obvious meaning of &#39;efficient&#39; is how long it takes from the top of this method to the end of it, let&#39;s call that db efficiency.\r\n\r\n## Code efficiency\r\n\r\nSure, there are vastly better ways than this. JDBC is intentional &#39;low level glue&#39; - a ton of libraries are built on top of it, which means extending it or changing it is complicated (java is not, as a rule, in the business of making all existing code and libraries broken by making breaking changes). The JDBC API needs to expose _every_ feature a database could plausibly want to expose, even features that are rarely needed.\r\n\r\nAs a consequence, _you should not use raw JDBC when interacting with the DB directly_. It&#39;s glue - stuff that DB abstraction layers use.\r\n\r\n### JDBI and JOOQ\r\n\r\nInstead, use libraries like JOOQ(https://jooq.org) or [JDBI](https://jdbi.org).\r\n\r\nThese libraries offer various options. Here are some JDBI samples:\r\n\r\n```java\r\n\r\npublic interface UserDao {\r\n  @SqlUpdate(&quot;INSERT INTO \\&quot;user\\&quot; (id, \\&quot;name\\&quot;) VALUES (?, ?)&quot;)\r\n  void insert(int id, String name);\r\n}\r\n\r\n// .... and to use:\r\n\r\njdbi.withExtension(UserDao.class, dao -&gt; {\r\n  dao.insert(0, &quot;Alice&quot;);\r\n});\r\n```\r\n\r\nNote that if you want the safest, easiest to use transaction level (SERIALIZABLE), _all_ your access to the DB needs to be in lambda form, because manually handling the retry is silly, don&#39;t do that. Yet another excellent example why using JDBC directly is a very bad idea.\r\n\r\nWhat&#39;s retry? Long story - see the footnote &lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nFocus on the insert part - that&#39;s easier here. You just.. call a method, passing the data.\r\n\r\nOr, even simpler if you&#39;re doing a one-off insert (as in, only one spot in the code would ever do it, not &#39;I only insert one record&#39;):\r\n\r\n```\r\njdbi.withHandle(handle -&gt; {\r\n  handle.execute(&quot;INSERT INTO \\&quot;user\\&quot; (id, \\&quot;name\\&quot;) VALUES (?, ?)&quot;, 0, &quot;Alice&quot;);\r\n});\r\n```\r\n\r\n### Table mapping\r\n\r\nA third option is to define classes in java and then ask a DB abstraction engine to &#39;convert&#39; these into `CREATE TABLE` statements. Then inserting a new row in the table involves making an instance of that class and saving it. [Hibernate](https://hibernate.org) is the go-to tool for this. Hibernate is best treated as a system that saves and retrieves java objects that has nothing to do with SQL, the fact that it works by saving things to a DB should be treated as an implementation detail. Using hibernate can be very convenient indeed but expect high learning curves if you need to tweak or optimize the queries it ends up running.\r\n\r\n### No, only use JDBC\r\n\r\nThis boils down to &#39;Badly reinvent JOOQ or JDBI yourself&#39;. Make a method that takes the 5 args as argument and runs an insert, and consider turning that method into a [Builder](https://projectlombok.org/features/Builder) if you want a prettier API that is a lot easier to read later on when you forgot the order in which the arguments go.\r\n\r\n## DB efficiency\r\n\r\nDatabases will have plenty of docs on how to do fast inserts. A few highlights:\r\n\r\n* If you&#39;re doing a ton of inserts, consider using `COPY` instead.\r\n* Generally, delete all indices and triggers, insert it all, then add them afterwards. Or, disable indices and triggers, add everything, then re-enable them and check them. How to do that? Depends on your DB. These steps would mean you can&#39;t have a &#39;running system&#39; (if other code is querying while you are doing this, you can&#39;t just turn the triggers off).\r\n* If you have to go with one-by-one inserts, re-use the prepared statement, and batch commits: You don&#39;t want to commit after every insert (so, turn off auto-commit mode!), but you also don&#39;t want to never commit. Maintain a counter and commit every ~1000 inserts or so.\r\n\r\n[1] To truly get perfect transactions, you want any given sequence of DB actions to act as if it was the only thing on the planet that happened, and that it all happened in one go. This is extremely complicated and to do it truly right, the DB pretty much needs to lock _everything_ the moment you begin. Which would mean a serious, multi-core system is going to run slow as molasses, so DBs instead double check once you commit if it _could_ have been done like that - basically, it checks if every query you made during the transaction would still return the same results. If yes, the commit happens. If not, the commit fails - with a &#39;retry error&#39;. Which you handle by... doing the transaction again. However, computers tend to be annoyingly reliable, so you run the risk of the computer equivalent of you almost smacking into someone on the street, so you lean left, but they lean right, and it&#39;s like a slapstick routine. To avoid _that_, you wait increasingly random amounts of times. This is all quite complicated (both handling the retry, as you need some DB-engine specific trickery to detect these, as well as doing the randomized incremental backoff) so you _definitely_ don&#39;t want to write it yourself. By passing a lambda (the thing with the array), JDBI/JOOQ can do it for you.\r\n","title":"What&#39;s a more efficient way to use multiple values in Insert statement w/ PreparedStatement?","body":"<p>Efficiency is a rather nebulous word. It <em>sounds</em> like you mean it in the sense of 'I find this a rather clumsy way to write, surely there is a way to write an insert statement that takes less effort and is easier to read - that is <em>more efficient</em> from the point of view of writing/reading/maintaining the code. Let's call that the 'code efficiency' factor.</p>\n<p>The other obvious meaning of 'efficient' is how long it takes from the top of this method to the end of it, let's call that db efficiency.</p>\n<h2>Code efficiency</h2>\n<p>Sure, there are vastly better ways than this. JDBC is intentional 'low level glue' - a ton of libraries are built on top of it, which means extending it or changing it is complicated (java is not, as a rule, in the business of making all existing code and libraries broken by making breaking changes). The JDBC API needs to expose <em>every</em> feature a database could plausibly want to expose, even features that are rarely needed.</p>\n<p>As a consequence, <em>you should not use raw JDBC when interacting with the DB directly</em>. It's glue - stuff that DB abstraction layers use.</p>\n<h3>JDBI and JOOQ</h3>\n<p>Instead, use libraries like JOOQ(<a href=\"https://jooq.org\" rel=\"nofollow noreferrer\">https://jooq.org</a>) or <a href=\"https://jdbi.org\" rel=\"nofollow noreferrer\">JDBI</a>.</p>\n<p>These libraries offer various options. Here are some JDBI samples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface UserDao {\n  @SqlUpdate(&quot;INSERT INTO \\&quot;user\\&quot; (id, \\&quot;name\\&quot;) VALUES (?, ?)&quot;)\n  void insert(int id, String name);\n}\n\n// .... and to use:\n\njdbi.withExtension(UserDao.class, dao -&gt; {\n  dao.insert(0, &quot;Alice&quot;);\n});\n</code></pre>\n<p>Note that if you want the safest, easiest to use transaction level (SERIALIZABLE), <em>all</em> your access to the DB needs to be in lambda form, because manually handling the retry is silly, don't do that. Yet another excellent example why using JDBC directly is a very bad idea.</p>\n<p>What's retry? Long story - see the footnote <sup>1</sup>.</p>\n<p>Focus on the insert part - that's easier here. You just.. call a method, passing the data.</p>\n<p>Or, even simpler if you're doing a one-off insert (as in, only one spot in the code would ever do it, not 'I only insert one record'):</p>\n<pre><code>jdbi.withHandle(handle -&gt; {\n  handle.execute(&quot;INSERT INTO \\&quot;user\\&quot; (id, \\&quot;name\\&quot;) VALUES (?, ?)&quot;, 0, &quot;Alice&quot;);\n});\n</code></pre>\n<h3>Table mapping</h3>\n<p>A third option is to define classes in java and then ask a DB abstraction engine to 'convert' these into <code>CREATE TABLE</code> statements. Then inserting a new row in the table involves making an instance of that class and saving it. <a href=\"https://hibernate.org\" rel=\"nofollow noreferrer\">Hibernate</a> is the go-to tool for this. Hibernate is best treated as a system that saves and retrieves java objects that has nothing to do with SQL, the fact that it works by saving things to a DB should be treated as an implementation detail. Using hibernate can be very convenient indeed but expect high learning curves if you need to tweak or optimize the queries it ends up running.</p>\n<h3>No, only use JDBC</h3>\n<p>This boils down to 'Badly reinvent JOOQ or JDBI yourself'. Make a method that takes the 5 args as argument and runs an insert, and consider turning that method into a <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Builder</a> if you want a prettier API that is a lot easier to read later on when you forgot the order in which the arguments go.</p>\n<h2>DB efficiency</h2>\n<p>Databases will have plenty of docs on how to do fast inserts. A few highlights:</p>\n<ul>\n<li>If you're doing a ton of inserts, consider using <code>COPY</code> instead.</li>\n<li>Generally, delete all indices and triggers, insert it all, then add them afterwards. Or, disable indices and triggers, add everything, then re-enable them and check them. How to do that? Depends on your DB. These steps would mean you can't have a 'running system' (if other code is querying while you are doing this, you can't just turn the triggers off).</li>\n<li>If you have to go with one-by-one inserts, re-use the prepared statement, and batch commits: You don't want to commit after every insert (so, turn off auto-commit mode!), but you also don't want to never commit. Maintain a counter and commit every ~1000 inserts or so.</li>\n</ul>\n<p>[1] To truly get perfect transactions, you want any given sequence of DB actions to act as if it was the only thing on the planet that happened, and that it all happened in one go. This is extremely complicated and to do it truly right, the DB pretty much needs to lock <em>everything</em> the moment you begin. Which would mean a serious, multi-core system is going to run slow as molasses, so DBs instead double check once you commit if it <em>could</em> have been done like that - basically, it checks if every query you made during the transaction would still return the same results. If yes, the commit happens. If not, the commit fails - with a 'retry error'. Which you handle by... doing the transaction again. However, computers tend to be annoyingly reliable, so you run the risk of the computer equivalent of you almost smacking into someone on the street, so you lean left, but they lean right, and it's like a slapstick routine. To avoid <em>that</em>, you wait increasingly random amounts of times. This is all quite complicated (both handling the retry, as you need some DB-engine specific trickery to detect these, as well as doing the randomized incremental backoff) so you <em>definitely</em> don't want to write it yourself. By passing a lambda (the thing with the array), JDBI/JOOQ can do it for you.</p>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673913060,"creation_date":1673913060,"answer_id":75140802,"question_id":75140597,"body_markdown":"Each parameter placeholder (`?`) takes the place of one scalar value in your SQL. You need one parameter for each scalar value. \r\n\r\nThere&#39;s no such thing as binding an array or a collection to one parameter. Some frameworks may have a convenience method that takes a collection and rewrites your SQL so it has one parameter placeholder for each element in the collection. But as far as SQL is concerned, it never sees that.\r\n\r\nIt&#39;s not inefficient in terms of runtime performance, even though it takes a few lines of code. But that&#39;s what you get paid to do, so go for it. :-)","title":"What&#39;s a more efficient way to use multiple values in Insert statement w/ PreparedStatement?","body":"<p>Each parameter placeholder (<code>?</code>) takes the place of one scalar value in your SQL. You need one parameter for each scalar value.</p>\n<p>There's no such thing as binding an array or a collection to one parameter. Some frameworks may have a convenience method that takes a collection and rewrites your SQL so it has one parameter placeholder for each element in the collection. But as far as SQL is concerned, it never sees that.</p>\n<p>It's not inefficient in terms of runtime performance, even though it takes a few lines of code. But that's what you get paid to do, so go for it. :-)</p>\n"}],"owner":{"account_id":24904626,"reputation":13,"user_id":18774863,"display_name":"Kyle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673913060,"creation_date":1673910889,"question_id":75140597,"body_markdown":"Basically, how can I change the following so I don&#39;t have multiple question marks?:\r\n\r\n```\r\n\r\npublic static int insert(int id, String name, String address, String phone, int age) throws SQLException {\r\n\r\n        String SQL = &quot;INSERT INTO some_table (ID, Name, Address, Phone_Number, Age) VALUES (?, ?, ?, ?, ?)&quot;;\r\n\r\n        PreparedStatement ps = jdbc.connection.prepareStatement(SQL);\r\n        ps.setInt(1, id);\r\n        ps.setString(2, name);\r\n        ps.setString(3, address);\r\n        ps.setString(4, phone);\r\n        ps.setInt(5, age);\r\n\r\n        return ps.executeUpdate();\r\n    }\r\n\r\n```\r\n\r\n","title":"What&#39;s a more efficient way to use multiple values in Insert statement w/ PreparedStatement?","body":"<p>Basically, how can I change the following so I don't have multiple question marks?:</p>\n<pre><code>\npublic static int insert(int id, String name, String address, String phone, int age) throws SQLException {\n\n        String SQL = &quot;INSERT INTO some_table (ID, Name, Address, Phone_Number, Age) VALUES (?, ?, ?, ?, ?)&quot;;\n\n        PreparedStatement ps = jdbc.connection.prepareStatement(SQL);\n        ps.setInt(1, id);\n        ps.setString(2, name);\n        ps.setString(3, address);\n        ps.setString(4, phone);\n        ps.setInt(5, age);\n\n        return ps.executeUpdate();\n    }\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":18722165,"reputation":21,"user_id":13649768,"display_name":"X-ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673912064,"creation_date":1673912064,"question_id":75140699,"body_markdown":"So I&#39;ve been having this issue for a while now and I cant figure it out. After spending some time with this issue, it seems like the app is going into realEditProfileActivity where I can edit my profile info but when I press submit it goes into the showproggressbar screen and it just stays there without starting my next activity that is supposed to start which is BrowseActivity. \r\n\r\nHere is my code: \r\n\r\nAndroid Manifest \r\n        \r\n\r\n```\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.flux99&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.login.LoginActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;@string/title_activity_login&quot; /&gt;\r\n        &lt;activity android:name=&quot;.BrowseActivity&quot;\r\n\r\n            /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.EditProfileActivity&quot;\r\n            android:label=&quot;EditProfileActivity&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RealEditProfileActivity&quot;\r\n            android:label=&quot;RealEditProfileActivity&quot;\r\n            /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:background=&quot;@color/teal_700&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/Theme.flux99&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;`\r\n\r\n```\r\n\r\n\r\n\r\nBrowse Activity: \r\n\r\n```\r\n`package com.example.flux99\r\n\r\nimport android.app.Dialog\r\nimport android.content.Intent\r\nimport android.graphics.Bitmap\r\nimport android.graphics.BitmapFactory\r\nimport android.os.Bundle\r\nimport android.view.Window\r\nimport android.widget.Toast\r\nimport androidx.activity.ComponentActivity\r\nimport androidx.activity.compose.setContent\r\nimport androidx.compose.foundation.layout.padding\r\nimport androidx.annotation.StringRes\r\nimport androidx.compose.foundation.layout.Column\r\nimport androidx.compose.foundation.layout.fillMaxSize\r\nimport androidx.compose.foundation.rememberScrollState\r\nimport androidx.compose.foundation.verticalScroll\r\nimport androidx.compose.material.*\r\nimport androidx.compose.material.icons.Icons\r\nimport androidx.compose.material.icons.filled.ArrowBack\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.getValue\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.graphics.Color\r\nimport androidx.compose.ui.graphics.ImageBitmap\r\nimport androidx.compose.ui.res.stringResource\r\nimport androidx.navigation.NavHostController\r\nimport androidx.navigation.compose.NavHost\r\nimport androidx.navigation.compose.composable\r\nimport androidx.navigation.compose.currentBackStackEntryAsState\r\nimport androidx.navigation.compose.rememberNavController\r\nimport com.example.flux99.ui.Profiles\r\nimport com.example.flux99.ui.theme.Teal200\r\nimport com.example.flux99.ui.theme.flux99Theme\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.database.DataSnapshot\r\nimport com.google.firebase.database.DatabaseError\r\nimport com.google.firebase.database.DatabaseReference\r\nimport com.google.firebase.database.FirebaseDatabase\r\nimport com.google.firebase.database.ValueEventListener\r\nimport com.google.firebase.storage.FirebaseStorage\r\nimport com.google.firebase.storage.StorageReference\r\nimport java.io.File\r\n\r\nclass BrowseActivity : ComponentActivity() {\r\n    private lateinit var auth : FirebaseAuth\r\n\r\n    private lateinit var databaseReference : DatabaseReference\r\n    private lateinit var storageReference : StorageReference\r\n    private lateinit var dialog : Dialog\r\n    private lateinit var bioMessage : String\r\n    private var user : User? = null\r\n    private var bitmap : Bitmap? = null\r\n    private lateinit var localFile : File\r\n    private lateinit var uid : String\r\n\r\n\r\n    enum class BrowseActivity(@StringRes val title: Int) {\r\n\r\n\r\n        Browse(title = R.string.app_name),\r\n        EditProfile(title = R.string.edit_profile),\r\n        RealEditProfile(title=R.string.real_edit_profile)\r\n\r\n\r\n    }\r\n\r\n    //To do : terminal is saying OnBackInvokedCallback is not enabled fore the application to set it to true in the app manifest. check out what that means.\r\n\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        auth = FirebaseAuth.getInstance()\r\n\r\n        setContent {\r\n            flux99Theme {\r\n                Surface(\r\n                    modifier = Modifier.fillMaxSize(),\r\n                    color = Teal200\r\n                ) {\r\n                    Flux99()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Composable\r\n    fun Flux99(\r\n        modifier: Modifier = Modifier,\r\n\r\n        navController: NavHostController = rememberNavController()\r\n        ) {\r\n\r\n            val backStackEntry by navController.currentBackStackEntryAsState()\r\n            // Get the name of the current screen\r\n            val currentScreen = BrowseActivity.valueOf(\r\n                backStackEntry?.destination?.route ?: BrowseActivity.Browse.name\r\n            )\r\n        Scaffold(\r\n            topBar = {\r\n                CupcakeAppBar(\r\n                    currentScreen = currentScreen,\r\n                    canNavigateBack = navController.previousBackStackEntry != null,\r\n                    navigateUp = { navController.navigateUp() }\r\n                )\r\n            }\r\n        ) { innerPadding -&gt;\r\n\r\n            NavHost(\r\n                navController = navController,\r\n                startDestination = BrowseActivity.Browse.name,\r\n                modifier = modifier.padding(innerPadding)\r\n            ) {\r\n                composable(route = BrowseActivity.Browse.name) {\r\n\r\n                    val profiles = Profiles()\r\n                    getUserData()\r\n\r\n                    Column(modifier = modifier.verticalScroll(rememberScrollState())) {\r\n                        profiles.ProfileCardGreetingWithImage(user, bitmap)\r\n                       // ButtonExample()\r\n\r\n                        Button(onClick = {\r\n                            navController.navigate(BrowseActivity.EditProfile.name)\r\n\r\n                            Toast.makeText(applicationContext, &quot;You clicked the Button.&quot;, Toast.LENGTH_LONG).show()\r\n\r\n\r\n                        }, colors = ButtonDefaults.textButtonColors( backgroundColor = Color.Blue\r\n                        )) {\r\n                            Text(&quot;Edit Profile&quot;, color = Color.White)\r\n                        }\r\n\r\n                        Button(onClick = {\r\n\r\n\r\n                                navController.navigate(BrowseActivity.RealEditProfile.name)\r\n\r\n                                Toast.makeText(applicationContext, &quot;You clicked the Button.&quot;, Toast.LENGTH_LONG).show()\r\n\r\n\r\n\r\n                        }, colors = ButtonDefaults.textButtonColors( backgroundColor = Color.Blue\r\n                        )) {\r\n                            Text(&quot;Real Edit&quot;, color = Color.White)\r\n                        }\r\n\r\n                    }\r\n//\r\n\r\n                }\r\n                composable(route = BrowseActivity.EditProfile.name){\r\n                    val intent = Intent(this@BrowseActivity, EditProfileActivity::class.java)\r\n                    startActivity(intent)\r\n//move move browseActivit intent in button above to this composable. I think then it will be together in one screen.\r\n                }\r\n                composable(route = BrowseActivity.RealEditProfile.name){\r\n                    val intent = Intent(this@BrowseActivity, RealEditProfileActivity::class.java)\r\n                    startActivity(intent)\r\n//move move browseActivit intent in button above to this composable. I think then it will be together in one screen.\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun getUserData() {\r\n        showProgressBar()\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n        uid = auth.currentUser?.uid.toString()\r\n        if(uid.isNotEmpty()) {\r\n            databaseReference.child(uid).addValueEventListener(object : ValueEventListener {\r\n                override fun onDataChange(snapshot: DataSnapshot) {\r\n\r\n                    user = snapshot.getValue(User::class.java)\r\n                    getUserProfilePhoto()\r\n\r\n                }\r\n\r\n                override fun onCancelled(error: DatabaseError) {\r\n                    hideProgressBar()\r\n                    Toast.makeText(this@BrowseActivity, &quot;Failed to get User Profile data&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                }\r\n\r\n            })\r\n        }else {\r\n            Toast.makeText(this@BrowseActivity, &quot;UID is empty&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n        }\r\n    }\r\n\r\n    fun getUserProfilePhoto(){\r\n        showProgressBar()\r\n\r\n        storageReference = FirebaseStorage.getInstance().reference.child(&quot;Users/$uid.jpg&quot;)\r\n        localFile = File.createTempFile(&quot;tempImage&quot;, &quot;jpg&quot;)\r\n\r\n        storageReference.getFile(localFile).addOnSuccessListener {\r\n\r\n            bitmap = BitmapFactory.decodeFile(localFile.absolutePath)\r\n\r\n            hideProgressBar()\r\n\r\n        }.addOnFailureListener{\r\n            hideProgressBar()\r\n            Toast.makeText(this@BrowseActivity, &quot;Failed to get User Profile photo&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n        }\r\n    }\r\n\r\n\r\n    @Composable\r\n    fun CupcakeAppBar(\r\n        currentScreen: BrowseActivity,\r\n        canNavigateBack: Boolean,\r\n        navigateUp: () -&gt; Unit,\r\n        modifier: androidx.compose.ui.Modifier = androidx.compose.ui.Modifier\r\n    ) {\r\n        TopAppBar(\r\n            title = { Text(stringResource(currentScreen.title)) },\r\n            modifier = modifier,\r\n            navigationIcon = {\r\n                if (canNavigateBack) {\r\n                    IconButton(onClick = navigateUp) {\r\n                        Icon(\r\n                            imageVector = Icons.Filled.ArrowBack,\r\n                            contentDescription = stringResource(R.string.back_button)\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    private fun showProgressBar() {\r\n\r\n        dialog = Dialog(this@BrowseActivity)\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\r\n        dialog.setContentView(R.layout.dialog_wait)\r\n        dialog.setCanceledOnTouchOutside(false)\r\n        dialog.show()\r\n\r\n    }\r\n\r\n    private fun hideProgressBar(){\r\n\r\n        dialog.dismiss()\r\n    }\r\n\r\n\r\n}`\r\n```\r\n\r\nrealeditProfileActivity:\r\n```\r\n`package com.example.flux99\r\n\r\nimport android.app.Dialog\r\nimport android.content.Intent\r\nimport android.net.Uri\r\nimport androidx.activity.compose.setContent\r\nimport androidx.compose.foundation.layout.*\r\nimport androidx.compose.material3.Text\r\nimport androidx.compose.material.Surface\r\nimport androidx.compose.material.icons.filled.AccountCircle\r\nimport androidx.compose.material.icons.filled.Info\r\nimport androidx.compose.material3.MaterialTheme\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.mutableStateOf\r\nimport androidx.compose.runtime.remember\r\nimport androidx.compose.ui.res.colorResource\r\nimport androidx.compose.ui.text.input.KeyboardCapitalization\r\nimport androidx.compose.ui.text.input.KeyboardType\r\nimport androidx.compose.ui.text.input.TextFieldValue\r\nimport com.example.flux99.ui.theme.flux99Theme\r\nimport com.example.flux99.ui.Profiles\r\n\r\n\r\nimport android.os.Bundle\r\nimport android.view.Window\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.AppCompatActivity\r\n\r\n\r\nimport androidx.compose.foundation.text.KeyboardOptions\r\nimport androidx.compose.material3.*\r\nimport androidx.compose.material.icons.Icons\r\n\r\nimport androidx.compose.runtime.*\r\nimport androidx.compose.ui.Alignment\r\n\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.graphics.Color\r\n\r\nimport androidx.compose.ui.text.TextStyle\r\nimport androidx.compose.ui.text.font.FontFamily\r\nimport androidx.compose.ui.text.input.*\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.compose.ui.unit.*\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.database.DatabaseReference\r\nimport com.google.firebase.database.FirebaseDatabase\r\nimport com.google.firebase.storage.FirebaseStorage\r\nimport com.google.firebase.storage.StorageReference\r\n\r\n\r\nclass RealEditProfileActivity : AppCompatActivity(){\r\n    private lateinit var auth : FirebaseAuth\r\n    private lateinit var databaseReference : DatabaseReference\r\n    private lateinit var storageReference : StorageReference\r\n    private lateinit var imageUri : Uri\r\n    private lateinit var dialog : Dialog\r\n\r\n    private var profile : Profiles? = null\r\n\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            auth = FirebaseAuth.getInstance()\r\n            val uid = auth.currentUser?.uid\r\n            if (uid == null) {\r\n               print(&quot;Null thing&quot;)\r\n            }\r\n            print(uid)\r\n\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n\r\n            setContent {\r\n                flux99Theme() {\r\n                    // A surface container using the\r\n                    // &#39;background&#39; color from the theme\r\n                    Surface(color = MaterialTheme.colorScheme.background) {\r\n                        // at below line we are calling\r\n                        // our function for text field.\r\n                        TxtField()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    @OptIn(ExperimentalMaterial3Api::class)\r\n    @Composable\r\n    fun TxtField() {\r\n        // we are creating a variable for\r\n        // getting a value of our text field.\r\n        Column(\r\n            // we are using column to align our\r\n            // imageview to center of the screen.\r\n            modifier = Modifier\r\n                .fillMaxWidth()\r\n                .fillMaxHeight(),\r\n\r\n            // below line is used for specifying\r\n            // vertical arrangement.\r\n            verticalArrangement = Arrangement.Center,\r\n\r\n            // below line is used for specifying\r\n            // horizontal arrangement.\r\n            horizontalAlignment = Alignment.CenterHorizontally,\r\n        ){\r\n                var firstName by remember {\r\n                    mutableStateOf(&quot;&quot;)\r\n                }\r\n                var lastName by remember {\r\n                    mutableStateOf(&quot;&quot;)\r\n                }\r\n                var bio by remember {\r\n                    mutableStateOf(&quot;&quot;)\r\n                }\r\n                TextField(\r\n                    value = firstName,\r\n                    onValueChange = {  firstName = it },\r\n                    placeholder = { Text(text = &quot;Enter user name&quot;) },\r\n                    modifier = Modifier\r\n                        .padding(all = 16.dp)\r\n                        .fillMaxWidth(),\r\n                    keyboardOptions = KeyboardOptions(\r\n                    capitalization = KeyboardCapitalization.None,\r\n                    autoCorrect = true,\r\n                    keyboardType = KeyboardType.Text,\r\n                    ),\r\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\r\n                    fontFamily = FontFamily.SansSerif),\r\n                maxLines = 2,\r\n\r\n                leadingIcon = {\r\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\r\n                },\r\n                trailingIcon = {\r\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\r\n                },)\r\n            TextField(\r\n                value = lastName,\r\n                onValueChange = {  lastName = it },\r\n                placeholder = { Text(text = &quot;Enter user name&quot;) },\r\n                modifier = Modifier\r\n                    .padding(all = 16.dp)\r\n                    .fillMaxWidth(),\r\n                keyboardOptions = KeyboardOptions(\r\n                    capitalization = KeyboardCapitalization.None,\r\n                    autoCorrect = true,\r\n                    keyboardType = KeyboardType.Text,\r\n                ),\r\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\r\n                    fontFamily = FontFamily.SansSerif),\r\n                maxLines = 2,\r\n\r\n                leadingIcon = {\r\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\r\n                },\r\n                trailingIcon = {\r\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\r\n                },)\r\n\r\n            TextField(\r\n                value = bio,\r\n                onValueChange = {  bio = it },\r\n                placeholder = { Text(text = &quot;Enter user bio&quot;) },\r\n                modifier = Modifier\r\n                    .padding(all = 16.dp)\r\n                    .fillMaxWidth(),\r\n                keyboardOptions = KeyboardOptions(\r\n                    capitalization = KeyboardCapitalization.None,\r\n                    autoCorrect = true,\r\n                    keyboardType = KeyboardType.Text,\r\n                ),\r\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\r\n                    fontFamily = FontFamily.SansSerif),\r\n                maxLines = 2,\r\n\r\n                leadingIcon = {\r\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\r\n                },\r\n                trailingIcon = {\r\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\r\n                },)\r\n\r\n            val uid = auth.currentUser?.uid\r\n\r\n            Button(onClick = {\r\n\r\n                    showProgressBar()\r\n\r\n                    val user = User(firstName, lastName, bio)\r\n                    //profile?.Edit(firstName, lastName, bio)\r\n\r\n                    if(uid != null){\r\n\r\n                        databaseReference.child(uid).setValue(user).addOnCompleteListener(){\r\n\r\n                            if(it.isSuccessful){\r\n\r\n                                uploadProfilePic()\r\n                                val intent = Intent(this@RealEditProfileActivity, BrowseActivity::class.java)\r\n                                startActivity(intent)\r\n                            } else {\r\n                                hideProgressBar()\r\n                                Toast.makeText(this@RealEditProfileActivity, &quot;Failed to Update Profile&quot;, Toast.LENGTH_SHORT).show()\r\n                                val intent = Intent(this@RealEditProfileActivity, BrowseActivity::class.java)\r\n                                startActivity(intent)\r\n                            }\r\n                        }\r\n                    }\r\n\r\n\r\n            }){\r\n                Text(text = &quot;Submit&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun showProgressBar() {\r\n\r\n        dialog = Dialog(this@RealEditProfileActivity)\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\r\n        dialog.setContentView(R.layout.dialog_wait)\r\n        dialog.setCanceledOnTouchOutside(false)\r\n        dialog.show()\r\n\r\n    }\r\n    private fun hideProgressBar(){\r\n\r\n        dialog.dismiss()\r\n    }\r\n\r\n    private fun uploadProfilePic() {\r\n\r\n        imageUri = Uri.parse(&quot;android.resource://$packageName/${R.drawable.image2}&quot;)\r\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;Users/&quot;+ auth.currentUser?.uid+&quot;.jpg&quot;)\r\n        storageReference.putFile(imageUri).addOnSuccessListener {\r\n            hideProgressBar()\r\n            Toast.makeText(this@RealEditProfileActivity, &quot;Profile successfully updated&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n        }.addOnFailureListener{\r\n            hideProgressBar()\r\n            Toast.makeText(this@RealEditProfileActivity, &quot;Failed to Upload Picture&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n        }\r\n    }\r\n\r\n    @Preview(showBackground = true)\r\n    @Composable\r\n    fun DefaultPreview() {\r\n        flux99Theme() {\r\n            TxtField()\r\n        }\r\n    }\r\n}`\r\n\r\n```\r\n\r\n\r\n\r\nI tried to see where the show progress bar method was and I couldnt see why it was not moving past it. Its supposed to hideprogressbar() but it never does.","title":"Android Studio: Can&#39;t get past showProgressbar() screen to new Browse Activity","body":"<p>So I've been having this issue for a while now and I cant figure it out. After spending some time with this issue, it seems like the app is going into realEditProfileActivity where I can edit my profile info but when I press submit it goes into the showproggressbar screen and it just stays there without starting my next activity that is supposed to start which is BrowseActivity.</p>\n<p>Here is my code:</p>\n<p>Android Manifest</p>\n<pre><code>`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.flux99&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.ui.login.LoginActivity&quot;\n            android:exported=&quot;false&quot;\n            android:label=&quot;@string/title_activity_login&quot; /&gt;\n        &lt;activity android:name=&quot;.BrowseActivity&quot;\n\n            /&gt;\n\n        &lt;activity\n            android:name=&quot;.EditProfileActivity&quot;\n            android:label=&quot;EditProfileActivity&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.RealEditProfileActivity&quot;\n            android:label=&quot;RealEditProfileActivity&quot;\n            /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:background=&quot;@color/teal_700&quot;\n            android:exported=&quot;true&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Theme.flux99&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;`\n\n</code></pre>\n<p>Browse Activity:</p>\n<pre><code>`package com.example.flux99\n\nimport android.app.Dialog\nimport android.content.Intent\nimport android.graphics.Bitmap\nimport android.graphics.BitmapFactory\nimport android.os.Bundle\nimport android.view.Window\nimport android.widget.Toast\nimport androidx.activity.ComponentActivity\nimport androidx.activity.compose.setContent\nimport androidx.compose.foundation.layout.padding\nimport androidx.annotation.StringRes\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.fillMaxSize\nimport androidx.compose.foundation.rememberScrollState\nimport androidx.compose.foundation.verticalScroll\nimport androidx.compose.material.*\nimport androidx.compose.material.icons.Icons\nimport androidx.compose.material.icons.filled.ArrowBack\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.getValue\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.graphics.Color\nimport androidx.compose.ui.graphics.ImageBitmap\nimport androidx.compose.ui.res.stringResource\nimport androidx.navigation.NavHostController\nimport androidx.navigation.compose.NavHost\nimport androidx.navigation.compose.composable\nimport androidx.navigation.compose.currentBackStackEntryAsState\nimport androidx.navigation.compose.rememberNavController\nimport com.example.flux99.ui.Profiles\nimport com.example.flux99.ui.theme.Teal200\nimport com.example.flux99.ui.theme.flux99Theme\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.database.DataSnapshot\nimport com.google.firebase.database.DatabaseError\nimport com.google.firebase.database.DatabaseReference\nimport com.google.firebase.database.FirebaseDatabase\nimport com.google.firebase.database.ValueEventListener\nimport com.google.firebase.storage.FirebaseStorage\nimport com.google.firebase.storage.StorageReference\nimport java.io.File\n\nclass BrowseActivity : ComponentActivity() {\n    private lateinit var auth : FirebaseAuth\n\n    private lateinit var databaseReference : DatabaseReference\n    private lateinit var storageReference : StorageReference\n    private lateinit var dialog : Dialog\n    private lateinit var bioMessage : String\n    private var user : User? = null\n    private var bitmap : Bitmap? = null\n    private lateinit var localFile : File\n    private lateinit var uid : String\n\n\n    enum class BrowseActivity(@StringRes val title: Int) {\n\n\n        Browse(title = R.string.app_name),\n        EditProfile(title = R.string.edit_profile),\n        RealEditProfile(title=R.string.real_edit_profile)\n\n\n    }\n\n    //To do : terminal is saying OnBackInvokedCallback is not enabled fore the application to set it to true in the app manifest. check out what that means.\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        auth = FirebaseAuth.getInstance()\n\n        setContent {\n            flux99Theme {\n                Surface(\n                    modifier = Modifier.fillMaxSize(),\n                    color = Teal200\n                ) {\n                    Flux99()\n                }\n            }\n        }\n    }\n\n\n\n    @Composable\n    fun Flux99(\n        modifier: Modifier = Modifier,\n\n        navController: NavHostController = rememberNavController()\n        ) {\n\n            val backStackEntry by navController.currentBackStackEntryAsState()\n            // Get the name of the current screen\n            val currentScreen = BrowseActivity.valueOf(\n                backStackEntry?.destination?.route ?: BrowseActivity.Browse.name\n            )\n        Scaffold(\n            topBar = {\n                CupcakeAppBar(\n                    currentScreen = currentScreen,\n                    canNavigateBack = navController.previousBackStackEntry != null,\n                    navigateUp = { navController.navigateUp() }\n                )\n            }\n        ) { innerPadding -&gt;\n\n            NavHost(\n                navController = navController,\n                startDestination = BrowseActivity.Browse.name,\n                modifier = modifier.padding(innerPadding)\n            ) {\n                composable(route = BrowseActivity.Browse.name) {\n\n                    val profiles = Profiles()\n                    getUserData()\n\n                    Column(modifier = modifier.verticalScroll(rememberScrollState())) {\n                        profiles.ProfileCardGreetingWithImage(user, bitmap)\n                       // ButtonExample()\n\n                        Button(onClick = {\n                            navController.navigate(BrowseActivity.EditProfile.name)\n\n                            Toast.makeText(applicationContext, &quot;You clicked the Button.&quot;, Toast.LENGTH_LONG).show()\n\n\n                        }, colors = ButtonDefaults.textButtonColors( backgroundColor = Color.Blue\n                        )) {\n                            Text(&quot;Edit Profile&quot;, color = Color.White)\n                        }\n\n                        Button(onClick = {\n\n\n                                navController.navigate(BrowseActivity.RealEditProfile.name)\n\n                                Toast.makeText(applicationContext, &quot;You clicked the Button.&quot;, Toast.LENGTH_LONG).show()\n\n\n\n                        }, colors = ButtonDefaults.textButtonColors( backgroundColor = Color.Blue\n                        )) {\n                            Text(&quot;Real Edit&quot;, color = Color.White)\n                        }\n\n                    }\n//\n\n                }\n                composable(route = BrowseActivity.EditProfile.name){\n                    val intent = Intent(this@BrowseActivity, EditProfileActivity::class.java)\n                    startActivity(intent)\n//move move browseActivit intent in button above to this composable. I think then it will be together in one screen.\n                }\n                composable(route = BrowseActivity.RealEditProfile.name){\n                    val intent = Intent(this@BrowseActivity, RealEditProfileActivity::class.java)\n                    startActivity(intent)\n//move move browseActivit intent in button above to this composable. I think then it will be together in one screen.\n                }\n\n\n            }\n        }\n    }\n\n    private fun getUserData() {\n        showProgressBar()\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n        uid = auth.currentUser?.uid.toString()\n        if(uid.isNotEmpty()) {\n            databaseReference.child(uid).addValueEventListener(object : ValueEventListener {\n                override fun onDataChange(snapshot: DataSnapshot) {\n\n                    user = snapshot.getValue(User::class.java)\n                    getUserProfilePhoto()\n\n                }\n\n                override fun onCancelled(error: DatabaseError) {\n                    hideProgressBar()\n                    Toast.makeText(this@BrowseActivity, &quot;Failed to get User Profile data&quot;, Toast.LENGTH_SHORT).show()\n\n                }\n\n            })\n        }else {\n            Toast.makeText(this@BrowseActivity, &quot;UID is empty&quot;, Toast.LENGTH_SHORT).show()\n\n        }\n    }\n\n    fun getUserProfilePhoto(){\n        showProgressBar()\n\n        storageReference = FirebaseStorage.getInstance().reference.child(&quot;Users/$uid.jpg&quot;)\n        localFile = File.createTempFile(&quot;tempImage&quot;, &quot;jpg&quot;)\n\n        storageReference.getFile(localFile).addOnSuccessListener {\n\n            bitmap = BitmapFactory.decodeFile(localFile.absolutePath)\n\n            hideProgressBar()\n\n        }.addOnFailureListener{\n            hideProgressBar()\n            Toast.makeText(this@BrowseActivity, &quot;Failed to get User Profile photo&quot;, Toast.LENGTH_SHORT).show()\n\n        }\n    }\n\n\n    @Composable\n    fun CupcakeAppBar(\n        currentScreen: BrowseActivity,\n        canNavigateBack: Boolean,\n        navigateUp: () -&gt; Unit,\n        modifier: androidx.compose.ui.Modifier = androidx.compose.ui.Modifier\n    ) {\n        TopAppBar(\n            title = { Text(stringResource(currentScreen.title)) },\n            modifier = modifier,\n            navigationIcon = {\n                if (canNavigateBack) {\n                    IconButton(onClick = navigateUp) {\n                        Icon(\n                            imageVector = Icons.Filled.ArrowBack,\n                            contentDescription = stringResource(R.string.back_button)\n                        )\n                    }\n                }\n            }\n        )\n\n    }\n\n    private fun showProgressBar() {\n\n        dialog = Dialog(this@BrowseActivity)\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog.setContentView(R.layout.dialog_wait)\n        dialog.setCanceledOnTouchOutside(false)\n        dialog.show()\n\n    }\n\n    private fun hideProgressBar(){\n\n        dialog.dismiss()\n    }\n\n\n}`\n</code></pre>\n<p>realeditProfileActivity:</p>\n<pre><code>`package com.example.flux99\n\nimport android.app.Dialog\nimport android.content.Intent\nimport android.net.Uri\nimport androidx.activity.compose.setContent\nimport androidx.compose.foundation.layout.*\nimport androidx.compose.material3.Text\nimport androidx.compose.material.Surface\nimport androidx.compose.material.icons.filled.AccountCircle\nimport androidx.compose.material.icons.filled.Info\nimport androidx.compose.material3.MaterialTheme\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.res.colorResource\nimport androidx.compose.ui.text.input.KeyboardCapitalization\nimport androidx.compose.ui.text.input.KeyboardType\nimport androidx.compose.ui.text.input.TextFieldValue\nimport com.example.flux99.ui.theme.flux99Theme\nimport com.example.flux99.ui.Profiles\n\n\nimport android.os.Bundle\nimport android.view.Window\nimport android.widget.Toast\nimport androidx.appcompat.app.AppCompatActivity\n\n\nimport androidx.compose.foundation.text.KeyboardOptions\nimport androidx.compose.material3.*\nimport androidx.compose.material.icons.Icons\n\nimport androidx.compose.runtime.*\nimport androidx.compose.ui.Alignment\n\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.graphics.Color\n\nimport androidx.compose.ui.text.TextStyle\nimport androidx.compose.ui.text.font.FontFamily\nimport androidx.compose.ui.text.input.*\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.*\nimport com.google.firebase.auth.FirebaseAuth\nimport com.google.firebase.database.DatabaseReference\nimport com.google.firebase.database.FirebaseDatabase\nimport com.google.firebase.storage.FirebaseStorage\nimport com.google.firebase.storage.StorageReference\n\n\nclass RealEditProfileActivity : AppCompatActivity(){\n    private lateinit var auth : FirebaseAuth\n    private lateinit var databaseReference : DatabaseReference\n    private lateinit var storageReference : StorageReference\n    private lateinit var imageUri : Uri\n    private lateinit var dialog : Dialog\n\n    private var profile : Profiles? = null\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            auth = FirebaseAuth.getInstance()\n            val uid = auth.currentUser?.uid\n            if (uid == null) {\n               print(&quot;Null thing&quot;)\n            }\n            print(uid)\n\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n\n            setContent {\n                flux99Theme() {\n                    // A surface container using the\n                    // 'background' color from the theme\n                    Surface(color = MaterialTheme.colorScheme.background) {\n                        // at below line we are calling\n                        // our function for text field.\n                        TxtField()\n                    }\n                }\n            }\n        }\n\n\n\n\n\n\n\n\n    @OptIn(ExperimentalMaterial3Api::class)\n    @Composable\n    fun TxtField() {\n        // we are creating a variable for\n        // getting a value of our text field.\n        Column(\n            // we are using column to align our\n            // imageview to center of the screen.\n            modifier = Modifier\n                .fillMaxWidth()\n                .fillMaxHeight(),\n\n            // below line is used for specifying\n            // vertical arrangement.\n            verticalArrangement = Arrangement.Center,\n\n            // below line is used for specifying\n            // horizontal arrangement.\n            horizontalAlignment = Alignment.CenterHorizontally,\n        ){\n                var firstName by remember {\n                    mutableStateOf(&quot;&quot;)\n                }\n                var lastName by remember {\n                    mutableStateOf(&quot;&quot;)\n                }\n                var bio by remember {\n                    mutableStateOf(&quot;&quot;)\n                }\n                TextField(\n                    value = firstName,\n                    onValueChange = {  firstName = it },\n                    placeholder = { Text(text = &quot;Enter user name&quot;) },\n                    modifier = Modifier\n                        .padding(all = 16.dp)\n                        .fillMaxWidth(),\n                    keyboardOptions = KeyboardOptions(\n                    capitalization = KeyboardCapitalization.None,\n                    autoCorrect = true,\n                    keyboardType = KeyboardType.Text,\n                    ),\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\n                    fontFamily = FontFamily.SansSerif),\n                maxLines = 2,\n\n                leadingIcon = {\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\n                },\n                trailingIcon = {\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\n                },)\n            TextField(\n                value = lastName,\n                onValueChange = {  lastName = it },\n                placeholder = { Text(text = &quot;Enter user name&quot;) },\n                modifier = Modifier\n                    .padding(all = 16.dp)\n                    .fillMaxWidth(),\n                keyboardOptions = KeyboardOptions(\n                    capitalization = KeyboardCapitalization.None,\n                    autoCorrect = true,\n                    keyboardType = KeyboardType.Text,\n                ),\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\n                    fontFamily = FontFamily.SansSerif),\n                maxLines = 2,\n\n                leadingIcon = {\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\n                },\n                trailingIcon = {\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\n                },)\n\n            TextField(\n                value = bio,\n                onValueChange = {  bio = it },\n                placeholder = { Text(text = &quot;Enter user bio&quot;) },\n                modifier = Modifier\n                    .padding(all = 16.dp)\n                    .fillMaxWidth(),\n                keyboardOptions = KeyboardOptions(\n                    capitalization = KeyboardCapitalization.None,\n                    autoCorrect = true,\n                    keyboardType = KeyboardType.Text,\n                ),\n                textStyle = TextStyle(color = Color.Black, fontSize = 15.sp,\n                    fontFamily = FontFamily.SansSerif),\n                maxLines = 2,\n\n                leadingIcon = {\n                    Icon(Icons.Filled.AccountCircle, null, tint = colorResource(id = R.color.purple_200))\n                },\n                trailingIcon = {\n                    Icon(Icons.Filled.Info, null, tint = colorResource(id = R.color.purple_200))\n                },)\n\n            val uid = auth.currentUser?.uid\n\n            Button(onClick = {\n\n                    showProgressBar()\n\n                    val user = User(firstName, lastName, bio)\n                    //profile?.Edit(firstName, lastName, bio)\n\n                    if(uid != null){\n\n                        databaseReference.child(uid).setValue(user).addOnCompleteListener(){\n\n                            if(it.isSuccessful){\n\n                                uploadProfilePic()\n                                val intent = Intent(this@RealEditProfileActivity, BrowseActivity::class.java)\n                                startActivity(intent)\n                            } else {\n                                hideProgressBar()\n                                Toast.makeText(this@RealEditProfileActivity, &quot;Failed to Update Profile&quot;, Toast.LENGTH_SHORT).show()\n                                val intent = Intent(this@RealEditProfileActivity, BrowseActivity::class.java)\n                                startActivity(intent)\n                            }\n                        }\n                    }\n\n\n            }){\n                Text(text = &quot;Submit&quot;)\n            }\n        }\n    }\n\n    private fun showProgressBar() {\n\n        dialog = Dialog(this@RealEditProfileActivity)\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE)\n        dialog.setContentView(R.layout.dialog_wait)\n        dialog.setCanceledOnTouchOutside(false)\n        dialog.show()\n\n    }\n    private fun hideProgressBar(){\n\n        dialog.dismiss()\n    }\n\n    private fun uploadProfilePic() {\n\n        imageUri = Uri.parse(&quot;android.resource://$packageName/${R.drawable.image2}&quot;)\n        storageReference = FirebaseStorage.getInstance().getReference(&quot;Users/&quot;+ auth.currentUser?.uid+&quot;.jpg&quot;)\n        storageReference.putFile(imageUri).addOnSuccessListener {\n            hideProgressBar()\n            Toast.makeText(this@RealEditProfileActivity, &quot;Profile successfully updated&quot;, Toast.LENGTH_SHORT).show()\n\n        }.addOnFailureListener{\n            hideProgressBar()\n            Toast.makeText(this@RealEditProfileActivity, &quot;Failed to Upload Picture&quot;, Toast.LENGTH_SHORT).show()\n\n        }\n    }\n\n    @Preview(showBackground = true)\n    @Composable\n    fun DefaultPreview() {\n        flux99Theme() {\n            TxtField()\n        }\n    }\n}`\n\n</code></pre>\n<p>I tried to see where the show progress bar method was and I couldnt see why it was not moving past it. Its supposed to hideprogressbar() but it never does.</p>\n"},{"tags":["java","spring","spring-boot","testing","mockito"],"comments":[{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":1,"creation_date":1658958532,"post_id":73142092,"comment_id":129184626,"body_markdown":"Try add @RunWith(SpringRunner.class)","body":"Try add @RunWith(SpringRunner.class)"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1659171814,"post_id":73142092,"comment_id":129233658,"body_markdown":"Are you using Spring Boot 2.7? If so, this looks like a duplicate of https://stackoverflow.com/questions/73085049/cant-autowired-mockmvc-using-webmvctest.","body":"Are you using Spring Boot 2.7? If so, this looks like a duplicate of <a href=\"https://stackoverflow.com/questions/73085049/cant-autowired-mockmvc-using-webmvctest\" title=\"cant autowired mockmvc using webmvctest\">stackoverflow.com/questions/73085049/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":26622112,"reputation":1,"user_id":20240743,"display_name":"Vlad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1665750023,"creation_date":1665750023,"answer_id":74069130,"question_id":73142092,"body_markdown":"I had the same problem. Try in Intelij Idea File-&gt; Settings-&gt;Editor-&gt;CodeStyle-&gt;Inspections, then choose Spring Core -&gt; Code and change &quot;Incorrect injection point autowiring in Spring bean components&quot; severity from Error to Warning. \r\n","title":"Could not autowire. No beans of &#39;MockMvc&#39; type found - Imported correctly, configured correctly and works fine in other project?","body":"<p>I had the same problem. Try in Intelij Idea File-&gt; Settings-&gt;Editor-&gt;CodeStyle-&gt;Inspections, then choose Spring Core -&gt; Code and change &quot;Incorrect injection point autowiring in Spring bean components&quot; severity from Error to Warning.</p>\n"}],"owner":{"account_id":21382966,"reputation":219,"user_id":15748566,"display_name":"devo9191"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3391,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673910739,"creation_date":1658942021,"question_id":73142092,"body_markdown":"In my Controller test class I am trying to test use Mockito and MockMVC to test the controller layer independently. \r\nI have reused code from my previous project but for some reason it is not working in this new project despite containing identical configuration, imports etc.\r\n\r\n     \r\n       import org.junit.jupiter.api.Test;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\n        import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n        import org.springframework.boot.test.mock.mockito.MockBean;\r\n        import org.springframework.http.MediaType;\r\n        import org.springframework.test.web.servlet.MockMvc;\r\n    \r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest(controllers = UserController.class)\r\n    public class UserControllerTests {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private UserService userService;\r\n    \r\n        @MockBean\r\n        private UserRepository userRepository;\r\n    \r\n        @Test\r\n        public void FindPlayersSuccessfully() throws Exception {\r\n    \r\n            String json = &quot;{\\&quot;userID\\&quot;:\\&quot;1\\&quot;}&quot;;\r\n    \r\n            mockMvc.perform(post(&quot;/api/v1/users/find-users&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .content(json).characterEncoding(&quot;utf-8&quot;))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;$.response&quot;).value(&quot;Success&quot;));\r\n        }\r\n\r\nThe &#39;MockMvc mockMvc&#39; autowire is highlighted in red by IDEA and when I hover over the error it says &#39;Could not autowire. No beans of &#39;MockMvc&#39; type found&#39;\r\n\r\nAlso, something possibly strange I noticed is that when I added imports one by one, the MockMvc import did work and the highlight disappeared, but when I added the:\r\n\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n\r\nimport, the problem occured.\r\n\r\nThanks for any help!","title":"Could not autowire. No beans of &#39;MockMvc&#39; type found - Imported correctly, configured correctly and works fine in other project?","body":"<p>In my Controller test class I am trying to test use Mockito and MockMVC to test the controller layer independently.\nI have reused code from my previous project but for some reason it is not working in this new project despite containing identical configuration, imports etc.</p>\n<pre><code>   import org.junit.jupiter.api.Test;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\n    import org.springframework.boot.test.mock.mockito.MockBean;\n    import org.springframework.http.MediaType;\n    import org.springframework.test.web.servlet.MockMvc;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@AutoConfigureMockMvc\n@WebMvcTest(controllers = UserController.class)\npublic class UserControllerTests {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    private UserService userService;\n\n    @MockBean\n    private UserRepository userRepository;\n\n    @Test\n    public void FindPlayersSuccessfully() throws Exception {\n\n        String json = &quot;{\\&quot;userID\\&quot;:\\&quot;1\\&quot;}&quot;;\n\n        mockMvc.perform(post(&quot;/api/v1/users/find-users&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(json).characterEncoding(&quot;utf-8&quot;))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.response&quot;).value(&quot;Success&quot;));\n    }\n</code></pre>\n<p>The 'MockMvc mockMvc' autowire is highlighted in red by IDEA and when I hover over the error it says 'Could not autowire. No beans of 'MockMvc' type found'</p>\n<p>Also, something possibly strange I noticed is that when I added imports one by one, the MockMvc import did work and the highlight disappeared, but when I added the:</p>\n<pre><code>import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\n</code></pre>\n<p>import, the problem occured.</p>\n<p>Thanks for any help!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1673905985,"post_id":75138331,"comment_id":132597566,"body_markdown":"There is a log missing from your question - how have you setup the databases? Why is it complaining about a foreign key :PUBLIC.POST FOREIGN KEY(ID, VERSION) REFERENCES PUBLIC.POST_HISTORY(ID, VERSION) (CAST(1902 AS BIGINT), 0) ? Did you maybe set it up so that there is a foreign key from POST to your postHistory table based on the version/id values? How are you setting the Post id value, and how are you cleaning up Posts created in your init and tests, and any PostHistory that might be created from those tests? And for your Post_history entry - you might have cut and paste it wrong","body":"There is a log missing from your question - how have you setup the databases? Why is it complaining about a foreign key :PUBLIC.POST FOREIGN KEY(ID, VERSION) REFERENCES PUBLIC.POST_HISTORY(ID, VERSION) (CAST(1902 AS BIGINT), 0) ? Did you maybe set it up so that there is a foreign key from POST to your postHistory table based on the version/id values? How are you setting the Post id value, and how are you cleaning up Posts created in your init and tests, and any PostHistory that might be created from those tests? And for your Post_history entry - you might have cut and paste it wrong"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1673906406,"post_id":75138331,"comment_id":132597666,"body_markdown":"I suspect you are using JPA to create your tables, and since you&#39;ve created a mapping from Post-&gt;PostHistory, it creates a fk constraint there too. it won&#39;t do that for a 1:M as it knows the other side is the foreign key. Note that this mapping is difficult to work with JPA, as the version value will get updated on each modification, but the entity reference to PostHistory will not - meaning you can never effectively cache this entity as the reference will be stale after every modification. I don&#39;t quite understand how you are putting in the &#39;latest&#39; version value either; it&#39;ll always be null","body":"I suspect you are using JPA to create your tables, and since you&#39;ve created a mapping from Post-&gt;PostHistory, it creates a fk constraint there too. it won&#39;t do that for a 1:M as it knows the other side is the foreign key. Note that this mapping is difficult to work with JPA, as the version value will get updated on each modification, but the entity reference to PostHistory will not - meaning you can never effectively cache this entity as the reference will be stale after every modification. I don&#39;t quite understand how you are putting in the &#39;latest&#39; version value either; it&#39;ll always be null"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":2,"creation_date":1673906648,"post_id":75138331,"comment_id":132597716,"body_markdown":"Looks like your test db enforces foreign key constraints while your prod db does not.","body":"Looks like your test db enforces foreign key constraints while your prod db does not."},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1673908292,"post_id":75138331,"comment_id":132598106,"body_markdown":"id you maybe set it up so that there is a foreign key from POST to your postHistory table based on the version/id values?  \n\nPOST_HISTORY doesn&#39;t have any foreign key, However POST have a foreign key to POST_HISTORY on the id and version. \nThe only constraint on POST is it primary key.","body":"id you maybe set it up so that there is a foreign key from POST to your postHistory table based on the version/id values?    POST_HISTORY doesn&#39;t have any foreign key, However POST have a foreign key to POST_HISTORY on the id and version.  The only constraint on POST is it primary key."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1673972937,"post_id":75138331,"comment_id":132613588,"body_markdown":"You ARE using JPA to generate your DDL (in test), and it is setting that fk because you have set a relationship from Post-&gt;PostHistory on those columns -which are wrong as mentioned. You will need to look at the generated DDL to explain it, but your mappings are not accurate. Technically, PostHistory should reference Post, and Post would have multiple PostHistories based on the ID value. Latest history though will NEVER work, as the current post won&#39;t have a history row associated to it - it gets incremented after every change, and there cannot be a row for that version hence the exception.","body":"You ARE using JPA to generate your DDL (in test), and it is setting that fk because you have set a relationship from Post-&gt;PostHistory on those columns -which are wrong as mentioned. You will need to look at the generated DDL to explain it, but your mappings are not accurate. Technically, PostHistory should reference Post, and Post would have multiple PostHistories based on the ID value. Latest history though will NEVER work, as the current post won&#39;t have a history row associated to it - it gets incremented after every change, and there cannot be a row for that version hence the exception."},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1674581645,"post_id":75138331,"comment_id":132742959,"body_markdown":"The problem was H2 generating the FK constraint that don&#39;t exist in the original db. there 3 way of fixing this, one is using onetomany instead of onetoone 2-reversing the mapping so postHistory does it and 3- using a hack that remove the constraint from h2 when running the test.","body":"The problem was H2 generating the FK constraint that don&#39;t exist in the original db. there 3 way of fixing this, one is using onetomany instead of onetoone 2-reversing the mapping so postHistory does it and 3- using a hack that remove the constraint from h2 when running the test."}],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673910118,"creation_date":1673893995,"question_id":75138331,"body_markdown":"We have a really weird problem, we have a junit integration test which test the repository class that fail after adding a new field that come from another table. \r\nHowever when testing the code live everything is fine.\r\nWe are trying to figure out why. \r\n\r\nWe have a Post entity that now have a new latestPostVersion field\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;POST&quot;)\r\n@Setter\r\npublic class Post\r\n    extends Serializable\r\n{\r\n    private long id;\r\n    private int version;\r\n    private String title;\r\n    private String body;\r\n    //.. more field\r\n    \r\n    private PostHistory lastestPostVersion;\r\n    \r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    public long getId()\r\n    {\r\n        return id;\r\n    }\r\n    \r\n    @Version\r\n    @Column(name = &quot;VERSION&quot;, nullable = false)\r\n    public int getVersion()\r\n    {\r\n        return version;\r\n    }\r\n\r\n    @OneToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false, updatable = false)\r\n    @JoinColumn(name = &quot;VERSION&quot;, referencedColumnName = &quot;VERSION&quot;, insertable = false, updatable = false)\r\n    public PostHistory getLatestPostVersion()\r\n    {\r\n        return latestPostVersion;\r\n    }\r\n\r\n    //... \r\n}\r\n```\r\n\r\nThis latestPostVersion is a object containing some info we need about the last Post\r\n```\r\n@Entity\r\n@Table(name = &quot;POST_HISTORY&quot;)\r\n@Setter\r\npublic class Post\r\n    extends Serializable\r\n{\r\n\r\n\r\n    private long id;\r\n    private int version;\r\n    private String createBy;\r\n    private Instant createDate;\r\n    private String title;\r\n\r\n\r\n    \r\n    @Column(name = &quot;ID&quot;, nullable = false)\r\n    public long getId()\r\n    {\r\n        return id;\r\n    }\r\n    \r\n    @Column(name = &quot;VERSION&quot;, nullable = false)\r\n    public int getVersion()\r\n    {\r\n        return version;\r\n    }\r\n\r\n     //... more mapping\r\n\r\n}\r\n```\r\n\r\nThis work fine in our service class, which handle the creation of the Post and then the history.\r\n\r\n```\r\nprivate ClientPost savePost(ClientPost post, String updatedBy){\r\n\r\n        Post dbPost = convertToDbModel(post);\r\n\r\n        Post persistedPost =\r\n            postRepository.saveAndFlush(post);\r\n\r\n        PostHistory persistedPostHistory =\r\n            postHistoryRepository.saveAndFlush(\r\n                new PostHistory(persistedPost, updatedBy));\r\n                \r\n        return convertToApiModel(persistedPost, persistedPostHistory);\r\n}\r\n```\r\n\r\nHowever when testing the repository in a Junit test it fail but only on the find all, findById is fine, eventhough the post is built the same way. \r\n\r\n```\r\n@Execution(ExecutionMode.CONCURRENT)\r\n@DataJpaTest(showSql = false)\r\nclass PostRepositoryTest\r\n{\r\n    @Autowired\r\n    private TestEntityManager entityManager;\r\n\r\n    @Autowired\r\n    private PostRepository repository;\r\n\r\n    @BeforeEach\r\n    void init()\r\n    {\r\n        Post post = new Post();\r\n        post.setTitle(&quot;Title&quot;);\r\n        // ... fill post\r\n        post.setPostHistory(null);\r\n        \r\n        entityManager.persist(post);\r\n    }\r\n    \r\n    @Test\r\n    void findAll_existingPosts_returnsAllPost()\r\n    {\r\n        List&lt;Post&gt; posts = repository.findAll();\r\n        assertEquals(1, posts.size());\r\n    }\r\n}\r\n\r\n```\r\nThe test give this error \r\n\r\n```\r\nReferential integrity constraint violation: &quot;FK7ITU2SCAYHBAV3TA9DU94CDA3: PUBLIC.POST FOREIGN KEY(ID, VERSION) REFERENCES PUBLIC.POST_HISTORY(ID, VERSION) (CAST(1902 AS BIGINT), 0)&quot;; SQL statement:\r\ninsert into post (version, ...,  id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23506-214]\r\n```\r\n\r\nI&#39;ve found a way to make both the code and the test work if we change getLastestPostVersion() to be a OneToMany and to return a Set&lt;PostHistory&gt;.\r\n\r\nHowever, I would like understand why it was working with the code but not the test and if possible keep the code the way it is and make the test pass elegantly. \r\n\r\nEDIT: \r\nHere a quick run down of the table (the field that matter)\r\n\r\nPOST Table \r\n```\r\nID bigInt not null PrimaryKey\r\nTITLE varchar not null\r\nBODY varchar default null\r\nPOST_HISTORY_ID bigInt key: MULTIPLE default null\r\nPOST_HISTORY_VERSION bigInt default null\r\n\r\nPOST_FK_POST_HISTORY owner POST refTable POST_HISTORY refObject PRIMARY\r\n```\r\n\r\nPOST_HISTORY table\r\n```\r\nID bigInt not null PrimaryKey\r\nVERSION bigInt not null PrimaryKey\r\nTITLE varchar not null\r\nUSER varchar not null\r\nTIMESTAMP datetime not null\r\n```\r\n","title":"Why does a Junit integration test for repository fail with Referential integrity constraint violation when the code work fine in the app live","body":"<p>We have a really weird problem, we have a junit integration test which test the repository class that fail after adding a new field that come from another table.\nHowever when testing the code live everything is fine.\nWe are trying to figure out why.</p>\n<p>We have a Post entity that now have a new latestPostVersion field</p>\n<pre><code>@Entity\n@Table(name = &quot;POST&quot;)\n@Setter\npublic class Post\n    extends Serializable\n{\n    private long id;\n    private int version;\n    private String title;\n    private String body;\n    //.. more field\n    \n    private PostHistory lastestPostVersion;\n    \n    @Column(name = &quot;ID&quot;, nullable = false)\n    public long getId()\n    {\n        return id;\n    }\n    \n    @Version\n    @Column(name = &quot;VERSION&quot;, nullable = false)\n    public int getVersion()\n    {\n        return version;\n    }\n\n    @OneToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ID&quot;, insertable = false, updatable = false)\n    @JoinColumn(name = &quot;VERSION&quot;, referencedColumnName = &quot;VERSION&quot;, insertable = false, updatable = false)\n    public PostHistory getLatestPostVersion()\n    {\n        return latestPostVersion;\n    }\n\n    //... \n}\n</code></pre>\n<p>This latestPostVersion is a object containing some info we need about the last Post</p>\n<pre><code>@Entity\n@Table(name = &quot;POST_HISTORY&quot;)\n@Setter\npublic class Post\n    extends Serializable\n{\n\n\n    private long id;\n    private int version;\n    private String createBy;\n    private Instant createDate;\n    private String title;\n\n\n    \n    @Column(name = &quot;ID&quot;, nullable = false)\n    public long getId()\n    {\n        return id;\n    }\n    \n    @Column(name = &quot;VERSION&quot;, nullable = false)\n    public int getVersion()\n    {\n        return version;\n    }\n\n     //... more mapping\n\n}\n</code></pre>\n<p>This work fine in our service class, which handle the creation of the Post and then the history.</p>\n<pre><code>private ClientPost savePost(ClientPost post, String updatedBy){\n\n        Post dbPost = convertToDbModel(post);\n\n        Post persistedPost =\n            postRepository.saveAndFlush(post);\n\n        PostHistory persistedPostHistory =\n            postHistoryRepository.saveAndFlush(\n                new PostHistory(persistedPost, updatedBy));\n                \n        return convertToApiModel(persistedPost, persistedPostHistory);\n}\n</code></pre>\n<p>However when testing the repository in a Junit test it fail but only on the find all, findById is fine, eventhough the post is built the same way.</p>\n<pre><code>@Execution(ExecutionMode.CONCURRENT)\n@DataJpaTest(showSql = false)\nclass PostRepositoryTest\n{\n    @Autowired\n    private TestEntityManager entityManager;\n\n    @Autowired\n    private PostRepository repository;\n\n    @BeforeEach\n    void init()\n    {\n        Post post = new Post();\n        post.setTitle(&quot;Title&quot;);\n        // ... fill post\n        post.setPostHistory(null);\n        \n        entityManager.persist(post);\n    }\n    \n    @Test\n    void findAll_existingPosts_returnsAllPost()\n    {\n        List&lt;Post&gt; posts = repository.findAll();\n        assertEquals(1, posts.size());\n    }\n}\n\n</code></pre>\n<p>The test give this error</p>\n<pre><code>Referential integrity constraint violation: &quot;FK7ITU2SCAYHBAV3TA9DU94CDA3: PUBLIC.POST FOREIGN KEY(ID, VERSION) REFERENCES PUBLIC.POST_HISTORY(ID, VERSION) (CAST(1902 AS BIGINT), 0)&quot;; SQL statement:\ninsert into post (version, ...,  id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [23506-214]\n</code></pre>\n<p>I've found a way to make both the code and the test work if we change getLastestPostVersion() to be a OneToMany and to return a Set.</p>\n<p>However, I would like understand why it was working with the code but not the test and if possible keep the code the way it is and make the test pass elegantly.</p>\n<p>EDIT:\nHere a quick run down of the table (the field that matter)</p>\n<p>POST Table</p>\n<pre><code>ID bigInt not null PrimaryKey\nTITLE varchar not null\nBODY varchar default null\nPOST_HISTORY_ID bigInt key: MULTIPLE default null\nPOST_HISTORY_VERSION bigInt default null\n\nPOST_FK_POST_HISTORY owner POST refTable POST_HISTORY refObject PRIMARY\n</code></pre>\n<p>POST_HISTORY table</p>\n<pre><code>ID bigInt not null PrimaryKey\nVERSION bigInt not null PrimaryKey\nTITLE varchar not null\nUSER varchar not null\nTIMESTAMP datetime not null\n</code></pre>\n"},{"tags":["java","io","append","javafx-8","filechooser"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1406754175,"post_id":25045636,"comment_id":38959057,"body_markdown":"It does seem like one could regard &quot;choose a file to append to&quot; as an open function, even though the application will be writing to the file.","body":"It does seem like one could regard &quot;choose a file to append to&quot; as an open function, even though the application will be writing to the file."},{"owner":{"account_id":1330477,"reputation":137,"user_id":1274507,"display_name":"MantaMan"},"score":0,"creation_date":1406756546,"post_id":25045636,"comment_id":38960093,"body_markdown":"Yes! I fixed it as suggested in appendToFile() by replacing file = choose.showSaveDialog( null ); with file = choose.showOpenDialog( null ); Works great. Thanks!","body":"Yes! I fixed it as suggested in appendToFile() by replacing file = choose.showSaveDialog( null ); with file = choose.showOpenDialog( null ); Works great. Thanks!"},{"owner":{"account_id":1330477,"reputation":137,"user_id":1274507,"display_name":"MantaMan"},"score":0,"creation_date":1406757872,"post_id":25045636,"comment_id":38960576,"body_markdown":"I corrected the code in the original post, in case anyone is learning JavaFx FileChooser and wants to try the features I used.","body":"I corrected the code in the original post, in case anyone is learning JavaFx FileChooser and wants to try the features I used."},{"owner":{"account_id":1372373,"reputation":3200,"user_id":1307108,"accept_rate":40,"display_name":"Groostav"},"score":0,"creation_date":1430471773,"post_id":25045636,"comment_id":48087877,"body_markdown":"Yeah, unfortunately peeking at the operation of `QuantemToolkit.showFileChooser()`, it eventually delegates to a _native_ method `Application._showFileChooser()`. Reading up to the native call I dont see any of that code doing any kind of loop that could be responsible for the &#39;are you sure you want to overwrite?&#39; So to actually make this happen is going to require a feature request.","body":"Yeah, unfortunately peeking at the operation of <code>QuantemToolkit.showFileChooser()</code>, it eventually delegates to a <i>native</i> method <code>Application._showFileChooser()</code>. Reading up to the native call I dont see any of that code doing any kind of loop that could be responsible for the &#39;are you sure you want to overwrite?&#39; So to actually make this happen is going to require a feature request."}],"answers":[{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673909796,"creation_date":1673909482,"answer_id":75140438,"question_id":25045636,"body_markdown":"The **Save As** dialog cannot do this because prompting to overwrite is hard-coded as `TRUE` in the [GTK source file][1]:\r\n\r\n``` c\r\ngtk_file_chooser_set_do_overwrite_confirmation(GTK_FILE_CHOOSER (chooser), TRUE);\r\n```\r\n\r\n[JDK-8299969][2] was logged against this issue, and will need to be resolved before the overwrite prompt can be ignored.\r\n\r\nUsing the **Open** dialog is a workaround, although it has drawbacks.\r\n\r\nFor [KeenWrite](https://github.com/DaveJarvis/keenwrite), I opted to have a hot-key that bypasses the **Save As** dialog altogether by repeating the previous export action. This can be accomplished by creating a `javafx.concurrent.Service` that is able to re-run a `javafx.concurrent.Task`, such as:\r\n\r\n``` java\r\nfinal var service = new Service&lt;Path&gt;() {\r\n  @Override\r\n  protected Task&lt;Path&gt; createTask() {\r\n    final var task = new Task&lt;Path&gt;() {\r\n      @Override\r\n      protected Path call() throws Exception {\r\n        // Do the work that Save As would do.\r\n      }\r\n    };\r\n\r\n    // Handle the success functionality.\r\n    task.setOnSucceeded( this::successs );\r\n\r\n    // Handle the failure functionality.\r\n    task.setOnFailed( this::failure );\r\n\r\n    return task;\r\n  }\r\n};\r\n```\r\n\r\nIn this way, if **Save As** is a feature users may do quite often, it can be replaced with a &quot;silent&quot; version that doesn&#39;t prompt with any dialogs. Except for the first time, which creates the initial action that will be re-run for subsequent &quot;silent&quot; executions.\r\n\r\n  [1]: https://github.com/openjdk/jfx/blob/bca1bfc5e3b04293c13417fd923d99864cdd9147/modules/javafx.graphics/src/main/native-glass/gtk/GlassCommonDialogs.cpp#L125\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8299969","title":"How do I turn off overwrite warning for JavaFX FileChooser when appending to a file?","body":"<p>The <strong>Save As</strong> dialog cannot do this because prompting to overwrite is hard-coded as <code>TRUE</code> in the <a href=\"https://github.com/openjdk/jfx/blob/bca1bfc5e3b04293c13417fd923d99864cdd9147/modules/javafx.graphics/src/main/native-glass/gtk/GlassCommonDialogs.cpp#L125\" rel=\"nofollow noreferrer\">GTK source file</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>gtk_file_chooser_set_do_overwrite_confirmation(GTK_FILE_CHOOSER (chooser), TRUE);\n</code></pre>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8299969\" rel=\"nofollow noreferrer\">JDK-8299969</a> was logged against this issue, and will need to be resolved before the overwrite prompt can be ignored.</p>\n<p>Using the <strong>Open</strong> dialog is a workaround, although it has drawbacks.</p>\n<p>For <a href=\"https://github.com/DaveJarvis/keenwrite\" rel=\"nofollow noreferrer\">KeenWrite</a>, I opted to have a hot-key that bypasses the <strong>Save As</strong> dialog altogether by repeating the previous export action. This can be accomplished by creating a <code>javafx.concurrent.Service</code> that is able to re-run a <code>javafx.concurrent.Task</code>, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var service = new Service&lt;Path&gt;() {\n  @Override\n  protected Task&lt;Path&gt; createTask() {\n    final var task = new Task&lt;Path&gt;() {\n      @Override\n      protected Path call() throws Exception {\n        // Do the work that Save As would do.\n      }\n    };\n\n    // Handle the success functionality.\n    task.setOnSucceeded( this::successs );\n\n    // Handle the failure functionality.\n    task.setOnFailed( this::failure );\n\n    return task;\n  }\n};\n</code></pre>\n<p>In this way, if <strong>Save As</strong> is a feature users may do quite often, it can be replaced with a &quot;silent&quot; version that doesn't prompt with any dialogs. Except for the first time, which creates the initial action that will be re-run for subsequent &quot;silent&quot; executions.</p>\n"}],"owner":{"account_id":1330477,"reputation":137,"user_id":1274507,"display_name":"MantaMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1733,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673909796,"creation_date":1406749577,"question_id":25045636,"body_markdown":"I need to create a data-entry JavaFx class which outputs to a file in append mode. In the simplified runnable example below (imports deleted), I can create a file, put in initial data, and then append to it with no problem. However, if I close the program and run it again later, the FileChooser will help find the file, but warns:\r\n&quot;Confirm Save As __\r\nTryFile.txt already exists. __\r\nDo you want to replace it?&quot;. \r\n\r\nIf I choose to confirm, the new data is appended as intended and the file is not replaced. \r\nHow do I turn off that warning? I am using Java 8_20 on Windows 7.\r\n\r\nNote: I have corrected the code as per suggestions below. See AppendToFile().\r\n\r\n    public class TryAppend extends Application\r\n    {\r\n      static File file;\r\n\t\r\n      static void initiatefile( String setupInfo )\r\n\t  {\r\n\t\tFileChooser choose = new FileChooser();\r\n\t\tchoose.getExtensionFilters().add(\r\n\t\t        new FileChooser.ExtensionFilter( &quot;Text doc(*.txt)&quot;, &quot;*.txt&quot; ) );\r\n\t\tchoose.setInitialFileName( &quot;*.txt&quot; );\r\n\t\tchoose.setInitialDirectory( new File(System.getProperty(&quot;user.home&quot;) ) );\r\n\t\tfile = choose.showSaveDialog( null );\r\n\t\tif ( file != null )\r\n\t\t{\r\n\t\t\tif ( file.getName().endsWith( &quot;.txt&quot; ) )\r\n\t\t\t{\r\n\t\t       try( PrintWriter out = new PrintWriter( new BufferedWriter( new FileWriter( file )))) \r\n\t\t       {\r\n\t\t           out.println( setupInfo );\r\n\t\t       }catch (IOException e) {\r\n\t\t           System.err.println(e);\r\n\t\t       }\r\n\t\t    }\r\n\t\t}\r\n\t  }\r\n\t\r\n\t  static void appendToFile( String appendString )\r\n\t  {\r\n\t\tif (file == null)\r\n\t\t{\r\n\t\t\tFileChooser choose = new FileChooser();\r\n\t\t\tchoose.getExtensionFilters().add(\r\n\t\t\t        new FileChooser.ExtensionFilter( &quot;Text doc(*.txt)&quot;, &quot;*.txt&quot; ) );\r\n\t\t\tchoose.setInitialDirectory( new File(System.getProperty(&quot;user.home&quot;) ) );\r\n\t\t\tfile = choose.showOpenDialog( null ); //Now corrected. Previously \r\n                                                  //was: choose.showSaveDialog( null );                    \r\n\t\t}\r\n\r\n\t\tif ( file != null )\r\n\t\t{\t\r\n\t\r\n\t\t\ttry( PrintWriter out = new PrintWriter( new BufferedWriter( new FileWriter( file, true )))) \r\n\t\t\t{\r\n\t\t\t\tout.println( appendString );\r\n\t\t\t}catch (IOException e) {\r\n\t\t\t\tSystem.err.println(e);\r\n\t\t\t}\r\n\t\t}\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public void start(Stage primaryStage) \r\n\t  { \r\n\t\t primaryStage.setTitle( &quot;Try Append to File&quot; ); \r\n\t\t Group root = new Group(); \r\n\t\t Scene scene = new Scene( root, 300, 200 ); \r\n\t\t Button initBtn = new Button(); \r\n\t\t initBtn.setLayoutX( 100 ); \r\n\t\t initBtn.setLayoutY( 40 ); \r\n\t\t initBtn.setText( &quot;Initiate File&quot; ); \r\n\t\t initBtn.setOnAction( new EventHandler&lt;ActionEvent&gt;() \r\n\t\t { \r\n\t\t\tpublic void handle(ActionEvent event) \r\n\t\t\t{ \r\n\t\t\t\tinitiatefile( &quot;Initial data&quot; ); \r\n\t\t\t} \r\n\t\t } ); \r\n\t\t Button appendBtn = new Button(); \r\n\t\t appendBtn.setLayoutX( 90 ); \r\n\t\t appendBtn.setLayoutY( 100 ); \r\n\t\t appendBtn.setText( &quot;Append to File&quot; ); \r\n\t\t appendBtn.setOnAction( new EventHandler&lt;ActionEvent&gt;() \r\n\t\t { \r\n\t\t\tpublic void handle(ActionEvent event) \r\n\t\t\t{ \r\n\t\t\t\tappendToFile( &quot;Appended data&quot; );\r\n\t\t\t} \r\n\t\t } ); \r\n\t\t root.getChildren().add( initBtn ); \r\n\t\t root.getChildren().add( appendBtn ); \r\n\t\t primaryStage.setScene( scene ); \r\n\t\t primaryStage.show(); \r\n\t  }\r\n\t  public static void main(String[] args) \r\n\t  {\r\n\t\tlaunch(args);\r\n\t  }\r\n    }\r\n\r\n ","title":"How do I turn off overwrite warning for JavaFX FileChooser when appending to a file?","body":"<p>I need to create a data-entry JavaFx class which outputs to a file in append mode. In the simplified runnable example below (imports deleted), I can create a file, put in initial data, and then append to it with no problem. However, if I close the program and run it again later, the FileChooser will help find the file, but warns:\n\"Confirm Save As __\nTryFile.txt already exists. __\nDo you want to replace it?\". </p>\n\n<p>If I choose to confirm, the new data is appended as intended and the file is not replaced. \nHow do I turn off that warning? I am using Java 8_20 on Windows 7.</p>\n\n<p>Note: I have corrected the code as per suggestions below. See AppendToFile().</p>\n\n<pre><code>public class TryAppend extends Application\n{\n  static File file;\n\n  static void initiatefile( String setupInfo )\n  {\n    FileChooser choose = new FileChooser();\n    choose.getExtensionFilters().add(\n            new FileChooser.ExtensionFilter( \"Text doc(*.txt)\", \"*.txt\" ) );\n    choose.setInitialFileName( \"*.txt\" );\n    choose.setInitialDirectory( new File(System.getProperty(\"user.home\") ) );\n    file = choose.showSaveDialog( null );\n    if ( file != null )\n    {\n        if ( file.getName().endsWith( \".txt\" ) )\n        {\n           try( PrintWriter out = new PrintWriter( new BufferedWriter( new FileWriter( file )))) \n           {\n               out.println( setupInfo );\n           }catch (IOException e) {\n               System.err.println(e);\n           }\n        }\n    }\n  }\n\n  static void appendToFile( String appendString )\n  {\n    if (file == null)\n    {\n        FileChooser choose = new FileChooser();\n        choose.getExtensionFilters().add(\n                new FileChooser.ExtensionFilter( \"Text doc(*.txt)\", \"*.txt\" ) );\n        choose.setInitialDirectory( new File(System.getProperty(\"user.home\") ) );\n        file = choose.showOpenDialog( null ); //Now corrected. Previously \n                                              //was: choose.showSaveDialog( null );                    \n    }\n\n    if ( file != null )\n    {   \n\n        try( PrintWriter out = new PrintWriter( new BufferedWriter( new FileWriter( file, true )))) \n        {\n            out.println( appendString );\n        }catch (IOException e) {\n            System.err.println(e);\n        }\n    }\n  }\n\n  @Override\n  public void start(Stage primaryStage) \n  { \n     primaryStage.setTitle( \"Try Append to File\" ); \n     Group root = new Group(); \n     Scene scene = new Scene( root, 300, 200 ); \n     Button initBtn = new Button(); \n     initBtn.setLayoutX( 100 ); \n     initBtn.setLayoutY( 40 ); \n     initBtn.setText( \"Initiate File\" ); \n     initBtn.setOnAction( new EventHandler&lt;ActionEvent&gt;() \n     { \n        public void handle(ActionEvent event) \n        { \n            initiatefile( \"Initial data\" ); \n        } \n     } ); \n     Button appendBtn = new Button(); \n     appendBtn.setLayoutX( 90 ); \n     appendBtn.setLayoutY( 100 ); \n     appendBtn.setText( \"Append to File\" ); \n     appendBtn.setOnAction( new EventHandler&lt;ActionEvent&gt;() \n     { \n        public void handle(ActionEvent event) \n        { \n            appendToFile( \"Appended data\" );\n        } \n     } ); \n     root.getChildren().add( initBtn ); \n     root.getChildren().add( appendBtn ); \n     primaryStage.setScene( scene ); \n     primaryStage.show(); \n  }\n  public static void main(String[] args) \n  {\n    launch(args);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","querydsl"],"answers":[{"tags":[],"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1673909289,"creation_date":1673909289,"answer_id":75140412,"question_id":75120196,"body_markdown":"I finally got! \r\n\r\nIt is necessary to use these dependencies:\r\n\r\n```\r\n\timplementation(&quot;com.querydsl:querydsl-core:${queryDslVersion}&quot;)\r\n\timplementation(&quot;com.querydsl:querydsl-jpa:${queryDslVersion}:jakarta&quot;)\r\n    ...\r\n\tannotationProcessor(\r\n\t\t\t&quot;com.querydsl:querydsl-apt:${queryDslVersion}:jakarta&quot;,\r\n\t\t\t&quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;,\r\n\t\t\t...\r\n\t)\r\n```\r\nThen run `./gradlew clean build` and q-classes will appear in folder `build/generated/annotationProcessor`","title":"Can&#39;t generate Q classes with Spring Boot 3, Jakarta Persistence, QueryDql and Gradle","body":"<p>I finally got!</p>\n<p>It is necessary to use these dependencies:</p>\n<pre><code>    implementation(&quot;com.querydsl:querydsl-core:${queryDslVersion}&quot;)\n    implementation(&quot;com.querydsl:querydsl-jpa:${queryDslVersion}:jakarta&quot;)\n    ...\n    annotationProcessor(\n            &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jakarta&quot;,\n            &quot;jakarta.persistence:jakarta.persistence-api:3.1.0&quot;,\n            ...\n    )\n</code></pre>\n<p>Then run <code>./gradlew clean build</code> and q-classes will appear in folder <code>build/generated/annotationProcessor</code></p>\n"}],"owner":{"account_id":4870174,"reputation":575,"user_id":3926980,"accept_rate":50,"display_name":"sammubr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673909289,"creation_date":1673719652,"question_id":75120196,"body_markdown":"I&#39;m trying to generate q-classes using Spring Boot 3, with Jakarta Persistence, QueryDsl, Gradle and Intellij. But I can&#39;t generate q-classes after running \r\n`./gradlew clean build`. After build, I&#39;m receiving this error: `Unable to load class &#39;jakarta.persistence.Entity&#39;. This is an unexpected error. Please file a bug containing the idea.log file.`\r\nI searched the internet, but I didn&#39;t find an answer to resolve my problem, because Spring Boot version 3 is recent.\r\n\r\nCan someone help me?\r\n\r\nThere&#39;s my build.gradle\r\n\r\n```\r\n\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;br.com.sammubr&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\njava {\r\n\tsourceCompatibility = JavaVersion.VERSION_17\r\n\ttargetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;2022.0.0&quot;)\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n\t}\r\n}\r\n\r\ndef queryDslVersion = &#39;5.0.0&#39;\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\truntimeOnly &#39;mysql:mysql-connector-java&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\timplementation &#39;io.micrometer:micrometer-registry-prometheus&#39;\r\n\timplementation(&quot;io.jsonwebtoken:jjwt-api:0.11.5&quot;)\r\n\truntimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.11.5&quot;)\r\n\truntimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.11.5&quot;)\r\n\ttestImplementation &#39;org.testcontainers:testcontainers:1.17.5&#39;\r\n\ttestImplementation &#39;org.testcontainers:mysql:1.17.5&#39;\r\n\timplementation &#39;com.lowagie:itext:2.1.7&#39;\r\n\timplementation &#39;com.github.wmixvideo:nfe:4.0.1&#39;\r\n\timplementation &#39;net.sf.jasperreports:jasperreports:6.20.0&#39;\r\n\timplementation &#39;com.google.zxing:core:3.5.1&#39;\r\n\timplementation &#39;net.sourceforge.barbecue:barbecue:1.5-beta1&#39;\r\n\timplementation(&quot;com.querydsl:querydsl-core:${queryDslVersion}&quot;)\r\n\timplementation(&quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;)\r\n\timplementation(&#39;org.springframework.cloud:spring-cloud-starter-stream-rabbit&#39;)\r\n    implementation(&quot;com.github.ben-manes.caffeine:caffeine&quot;)\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor(\r\n\t\t\t&quot;com.querydsl:querydsl-apt:${queryDslVersion}:jakarta&quot;,\r\n\t\t\t&quot;org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final&quot;,\r\n\t\t\t&quot;org.projectlombok:lombok&quot;\r\n\t)\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nSample of my entities classes:\r\n\r\n```\r\npackage br.com.sammubr.admin.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonFormat;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.experimental.SuperBuilder;\r\n\r\nimport jakarta.persistence.*;\r\nimport jakarta.validation.constraints.NotNull;\r\nimport jakarta.validation.constraints.Size;\r\nimport java.time.LocalDate;\r\nimport java.time.LocalDateTime;\r\n\r\n@Entity\r\n@Table(name = &quot;activity&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Activity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Size(max = 100)\r\n    @Column(name = &quot;description&quot;, length = 100, nullable = false)\r\n    private String description;\r\n\r\n}\r\n\r\n```","title":"Can&#39;t generate Q classes with Spring Boot 3, Jakarta Persistence, QueryDql and Gradle","body":"<p>I'm trying to generate q-classes using Spring Boot 3, with Jakarta Persistence, QueryDsl, Gradle and Intellij. But I can't generate q-classes after running\n<code>./gradlew clean build</code>. After build, I'm receiving this error: <code>Unable to load class 'jakarta.persistence.Entity'. This is an unexpected error. Please file a bug containing the idea.log file.</code>\nI searched the internet, but I didn't find an answer to resolve my problem, because Spring Boot version 3 is recent.</p>\n<p>Can someone help me?</p>\n<p>There's my build.gradle</p>\n<pre><code>\nplugins {\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'java'\n}\n\ngroup = 'br.com.sammubr'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2022.0.0&quot;)\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ndef queryDslVersion = '5.0.0'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    runtimeOnly 'mysql:mysql-connector-java'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation 'io.micrometer:micrometer-registry-prometheus'\n    implementation(&quot;io.jsonwebtoken:jjwt-api:0.11.5&quot;)\n    runtimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.11.5&quot;)\n    runtimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.11.5&quot;)\n    testImplementation 'org.testcontainers:testcontainers:1.17.5'\n    testImplementation 'org.testcontainers:mysql:1.17.5'\n    implementation 'com.lowagie:itext:2.1.7'\n    implementation 'com.github.wmixvideo:nfe:4.0.1'\n    implementation 'net.sf.jasperreports:jasperreports:6.20.0'\n    implementation 'com.google.zxing:core:3.5.1'\n    implementation 'net.sourceforge.barbecue:barbecue:1.5-beta1'\n    implementation(&quot;com.querydsl:querydsl-core:${queryDslVersion}&quot;)\n    implementation(&quot;com.querydsl:querydsl-jpa:${queryDslVersion}&quot;)\n    implementation('org.springframework.cloud:spring-cloud-starter-stream-rabbit')\n    implementation(&quot;com.github.ben-manes.caffeine:caffeine&quot;)\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor(\n            &quot;com.querydsl:querydsl-apt:${queryDslVersion}:jakarta&quot;,\n            &quot;org.hibernate.javax.persistence:hibernate-jpa-2.1-api:1.0.2.Final&quot;,\n            &quot;org.projectlombok:lombok&quot;\n    )\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Sample of my entities classes:</p>\n<pre><code>package br.com.sammubr.admin.entity;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.SuperBuilder;\n\nimport jakarta.persistence.*;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Size;\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\n\n@Entity\n@Table(name = &quot;activity&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Activity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @NotNull\n    @Size(max = 100)\n    @Column(name = &quot;description&quot;, length = 100, nullable = false)\n    private String description;\n\n}\n\n</code></pre>\n"},{"tags":["java","for-loop","foreach","getter"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":6,"creation_date":1673909166,"post_id":75140376,"comment_id":132598295,"body_markdown":"In general, it **is** not proper to directly access the fields `name` and `number` without a getter. The `for-each` loop is immaterial.","body":"In general, it <b>is</b> not proper to directly access the fields <code>name</code> and <code>number</code> without a getter. The <code>for-each</code> loop is immaterial."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1673909182,"post_id":75140376,"comment_id":132598301,"body_markdown":"It looks as though your `Program` class has `public` fields. It&#39;s better to make them `private` and use a getter.","body":"It looks as though your <code>Program</code> class has <code>public</code> fields. It&#39;s better to make them <code>private</code> and use a getter."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673909260,"post_id":75140376,"comment_id":132598318,"body_markdown":"Possibly related: [Why use getters and setters/accessors?](https://stackoverflow.com/q/1568091)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/1568091\">Why use getters and setters/accessors?</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1673909273,"post_id":75140376,"comment_id":132598322,"body_markdown":"Seconding both of the above.  getters are preferred, strongly, over accessing fields directly.  Don&#39;t worry about optimization until you find a need to actually optimize.","body":"Seconding both of the above.  getters are preferred, strongly, over accessing fields directly.  Don&#39;t worry about optimization until you find a need to actually optimize."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1673910058,"post_id":75140376,"comment_id":132598458,"body_markdown":"I&#39;m going to be slightly controversial here.  If the for each loop in question is somewhere inside the `Program` class, then there&#39;s no harm in using the fields directly.  If it&#39;s in any other class, you should use getters.","body":"I&#39;m going to be slightly controversial here.  If the for each loop in question is somewhere inside the <code>Program</code> class, then there&#39;s no harm in using the fields directly.  If it&#39;s in any other class, you should use getters."}],"owner":{"account_id":26537946,"reputation":1,"user_id":20169154,"display_name":"Nidos"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673909025,"creation_date":1673909025,"question_id":75140376,"body_markdown":"Is it improper to or not to use a getter in a for-each loop. (I&#39;m new to this) &lt;br/&gt;\r\nExample for reference &lt;br/&gt;\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n        ArrayList&lt;Program&gt; programs = new ArrayList&lt;&gt;();\r\n\r\n        Program program1 = new Program(1, &quot;National Geographic&quot;);\r\n        Program program2 = new Program(12, &quot;TV2&quot;);\r\n        Program program3 = new Program(24, &quot;Disney Channel&quot;);\r\n        Program program4 = new Program(33, &quot;MTV&quot;);\r\n\r\n        programs.add(program1);\r\n        programs.add(program2);\r\n        programs.add(program3);\r\n        programs.add(program4);\r\n\r\n        for(Program p : programs) {\r\n            System.out.println(p.name + &quot; &quot; + p.number);\r\n        }\r\n    }\r\n```","title":"Is it improper to use a getter in a for each loop? Java","body":"<p>Is it improper to or not to use a getter in a for-each loop. (I'm new to this) <br/>\nExample for reference <br/></p>\n<pre><code>public static void main(String[] args) {\n        ArrayList&lt;Program&gt; programs = new ArrayList&lt;&gt;();\n\n        Program program1 = new Program(1, &quot;National Geographic&quot;);\n        Program program2 = new Program(12, &quot;TV2&quot;);\n        Program program3 = new Program(24, &quot;Disney Channel&quot;);\n        Program program4 = new Program(33, &quot;MTV&quot;);\n\n        programs.add(program1);\n        programs.add(program2);\n        programs.add(program3);\n        programs.add(program4);\n\n        for(Program p : programs) {\n            System.out.println(p.name + &quot; &quot; + p.number);\n        }\n    }\n</code></pre>\n"},{"tags":["java","http","servlets","openapi","swagger-codegen"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1622405548,"post_id":67764252,"comment_id":119778382,"body_markdown":"What is the error message in the Console tab of the browser dev tools?","body":"What is the error message in the Console tab of the browser dev tools?"},{"owner":{"account_id":21765771,"reputation":11,"user_id":16072364,"display_name":"papuci"},"score":0,"creation_date":1622405972,"post_id":67764252,"comment_id":119778483,"body_markdown":"I&#39;m using it in IntelliJ IDE with the code generator so I don&#39;t have a console or browser dev tools. I don&#39;t know how to open it this way :( Sorry","body":"I&#39;m using it in IntelliJ IDE with the code generator so I don&#39;t have a console or browser dev tools. I don&#39;t know how to open it this way :( Sorry"}],"answers":[{"tags":[],"owner":{"account_id":1968394,"reputation":2438,"user_id":1768033,"accept_rate":67,"display_name":"Martin Cup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673908298,"creation_date":1673903209,"answer_id":75139694,"question_id":67764252,"body_markdown":"Maybe you forgot to put security in your path in [] because it&#39;s an array. \r\n\r\n    security: [{\r\n          ApiKeyAuth: []\r\n    }],\r\n\r\nFor me this was the fix: https://stackoverflow.com/questions/68560619/swagger-bearerauth-token-block-request-from-ui","title":"Swagger UI won&#39;t execute requests with Authorization header","body":"<p>Maybe you forgot to put security in your path in [] because it's an array.</p>\n<pre><code>security: [{\n      ApiKeyAuth: []\n}],\n</code></pre>\n<p>For me this was the fix: <a href=\"https://stackoverflow.com/questions/68560619/swagger-bearerauth-token-block-request-from-ui\">Swagger bearerAuth token block request from UI</a></p>\n"}],"owner":{"account_id":21765771,"reputation":11,"user_id":16072364,"display_name":"papuci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673908298,"creation_date":1622397348,"question_id":67764252,"body_markdown":"I have set this:\r\n\r\n```yaml\r\n    securitySchemes:\r\n          cookieAuth:\r\n            type: apiKey\r\n            in: header\r\n            name: Authorization\r\n```\r\n\r\nand I go ahead and add a value to authorization there in the UI (which by the way I don&#39;t know if the text is supposed to be underlined with red there)\r\n\r\nBut then I hit execute and Swagger won&#39;t even send the request (I am on servlets), it just shouts immediately &quot;Failed to fetch.&quot; etc.\r\n\r\nI have set security as follows at the root of the YAML file:\r\n\r\n```yaml\r\nsecurity:\r\n  - cookieAuth: [ ]\r\n```\r\n\r\nAnd the curl request that gets generated is this:\r\n\r\n```\r\ncurl -X &#39;GET&#39; \\\r\n  &#39;http://localhost:8080/beautifulapi/users&#39; \\\r\n  -H &#39;accept: application/json&#39; \\\r\n  -H &#39;Authorization: adsdsdasas&#39;\r\n```\r\n\r\nAnd without setting authorization header it works as expected. And from curl as well with authorization. But I need authorization header here in Swagger.\r\nSo why is it mad at me?\r\n\r\nedit:\r\nIt doesn&#39;t work no matter which header I am setting (instead of authorization).","title":"Swagger UI won&#39;t execute requests with Authorization header","body":"<p>I have set this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    securitySchemes:\n          cookieAuth:\n            type: apiKey\n            in: header\n            name: Authorization\n</code></pre>\n<p>and I go ahead and add a value to authorization there in the UI (which by the way I don't know if the text is supposed to be underlined with red there)</p>\n<p>But then I hit execute and Swagger won't even send the request (I am on servlets), it just shouts immediately &quot;Failed to fetch.&quot; etc.</p>\n<p>I have set security as follows at the root of the YAML file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>security:\n  - cookieAuth: [ ]\n</code></pre>\n<p>And the curl request that gets generated is this:</p>\n<pre><code>curl -X 'GET' \\\n  'http://localhost:8080/beautifulapi/users' \\\n  -H 'accept: application/json' \\\n  -H 'Authorization: adsdsdasas'\n</code></pre>\n<p>And without setting authorization header it works as expected. And from curl as well with authorization. But I need authorization header here in Swagger.\nSo why is it mad at me?</p>\n<p>edit:\nIt doesn't work no matter which header I am setting (instead of authorization).</p>\n"},{"tags":["java","serialization","intellij-idea"],"comments":[{"owner":{"account_id":218057,"reputation":67728,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":3,"creation_date":1350382539,"post_id":12912287,"comment_id":17492634,"body_markdown":"Are you sure you need to generate a value, rather than defining your own? If you are creating a new class, I would recommend you define e.g. `1L` as your ID and increment when your serialized form changes. (See http://stackoverflow.com/questions/888335/why-generate-long-serialversionuid-instead-of-a-simple-1l).","body":"Are you sure you need to generate a value, rather than defining your own? If you are creating a new class, I would recommend you define e.g. <code>1L</code> as your ID and increment when your serialized form changes. (See <a href=\"http://stackoverflow.com/questions/888335/why-generate-long-serialversionuid-instead-of-a-simple-1l\" title=\"why generate long serialversionuid instead of a simple 1l\">stackoverflow.com/questions/888335/&hellip;</a>)."},{"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"score":1,"creation_date":1482822395,"post_id":12912287,"comment_id":69883383,"body_markdown":"http://stackoverflow.com/questions/24573643/how-to-generate-serial-version-uid-in-intellij has a very good solution.","body":"<a href=\"http://stackoverflow.com/questions/24573643/how-to-generate-serial-version-uid-in-intellij\" title=\"how to generate serial version uid in intellij\">stackoverflow.com/questions/24573643/&hellip;</a> has a very good solution."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":1,"up_vote_count":620,"is_accepted":true,"score":619,"last_activity_date":1538765307,"creation_date":1350382626,"answer_id":12912420,"question_id":12912287,"body_markdown":"I am not sure if you have an old version of IntelliJ IDEA, but if I go to menu *File* → *Settings...* → *Inspections* → *Serialization issues* → Serializable class without &#39;serialVersionUID&#39;` enabled, the class you provide give me warnings.\r\n\r\n![Enter image description here][1]\r\n\r\nIf I try the first class I see:\r\n\r\n![Enter image description here][2]\r\n\r\nBTW: It didn&#39;t show me a warning until I added `{ }` to the end of each class to fix the compile error.\r\n\r\n  [1]: http://i.stack.imgur.com/lpmCC.png\r\n  [2]: http://i.stack.imgur.com/zb5lI.png\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>I am not sure if you have an old version of IntelliJ IDEA, but if I go to menu <em>File</em> → <em>Settings...</em> → <em>Inspections</em> → <em>Serialization issues</em> → Serializable class without 'serialVersionUID'` enabled, the class you provide give me warnings.</p>\n\n<p><img src=\"https://i.stack.imgur.com/lpmCC.png\" alt=\"Enter image description here\"></p>\n\n<p>If I try the first class I see:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zb5lI.png\" alt=\"Enter image description here\"></p>\n\n<p>BTW: It didn't show me a warning until I added <code>{ }</code> to the end of each class to fix the compile error.</p>\n"},{"tags":[],"owner":{"account_id":551682,"reputation":15303,"user_id":869867,"display_name":"Sileria"},"down_vote_count":4,"up_vote_count":185,"is_accepted":false,"score":181,"last_activity_date":1538765409,"creation_date":1377019768,"answer_id":18341415,"question_id":12912287,"body_markdown":"Install the **[GenerateSerialVersionUID][1]** plugin by Olivier Descout.\r\n\r\nGo to: menu *File* → *Settings* → *Plugins* → *Browse repositories* → `GenerateSerialVersionUID`\r\n\r\nInstall the plugin and restart.\r\n\r\nNow you can generate the id from menu *Code* → *Generate* → serialVersionUID` or the shortcut.\r\n\r\n  [1]: https://plugins.jetbrains.com/idea/plugin/185-generateserialversionuid\r\n\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>Install the <strong><a href=\"https://plugins.jetbrains.com/idea/plugin/185-generateserialversionuid\" rel=\"noreferrer\">GenerateSerialVersionUID</a></strong> plugin by Olivier Descout.</p>\n\n<p>Go to: menu <em>File</em> → <em>Settings</em> → <em>Plugins</em> → <em>Browse repositories</em> → <code>GenerateSerialVersionUID</code></p>\n\n<p>Install the plugin and restart.</p>\n\n<p>Now you can generate the id from menu <em>Code</em> → <em>Generate</em> → serialVersionUID` or the shortcut.</p>\n"},{"tags":[],"owner":{"account_id":2152202,"reputation":473,"user_id":1908265,"display_name":"fallens4e"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1505425706,"creation_date":1411041582,"answer_id":25912054,"question_id":12912287,"body_markdown":"In addition you can add live template that will do the work.\r\n\r\nTo do it press &lt;kbd&gt;Ctrl+Alt+S&lt;/kbd&gt; -&gt; `&quot;Live Templates&quot;` section -&gt; `other` (or w/e you wish)\r\n\r\nAnd then create a new one with a definition like this:\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    $END$\r\n\r\nThen select `definition` scope and save it as `&#39;serial&#39;`\r\n\r\nNow you can type `serial`&lt;kbd&gt;TAB&lt;/kbd&gt; in class body.","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>In addition you can add live template that will do the work.</p>\n\n<p>To do it press <kbd>Ctrl+Alt+S</kbd> -> <code>\"Live Templates\"</code> section -> <code>other</code> (or w/e you wish)</p>\n\n<p>And then create a new one with a definition like this:</p>\n\n<pre><code>private static final long serialVersionUID = 1L;\n$END$\n</code></pre>\n\n<p>Then select <code>definition</code> scope and save it as <code>'serial'</code></p>\n\n<p>Now you can type <code>serial</code><kbd>TAB</kbd> in class body.</p>\n"},{"tags":[],"owner":{"account_id":1081962,"reputation":787,"user_id":1078690,"display_name":"pharsfalvi"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1426672866,"creation_date":1426672866,"answer_id":29119001,"question_id":12912287,"body_markdown":"In order to generate the value use \r\n\r\n    private static final long serialVersionUID = $randomLong$L;\r\n    $END$\r\n\r\nand provide the randomLong template variable with the following value:\r\ngroovyScript(&quot;new Random().nextLong().abs()&quot;)\r\n\r\nhttps://pharsfalvi.wordpress.com/2015/03/18/adding-serialversionuid-in-idea/\r\n\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>In order to generate the value use </p>\n\n<pre><code>private static final long serialVersionUID = $randomLong$L;\n$END$\n</code></pre>\n\n<p>and provide the randomLong template variable with the following value:\ngroovyScript(\"new Random().nextLong().abs()\")</p>\n\n<p><a href=\"https://pharsfalvi.wordpress.com/2015/03/18/adding-serialversionuid-in-idea/\">https://pharsfalvi.wordpress.com/2015/03/18/adding-serialversionuid-in-idea/</a></p>\n"},{"tags":[],"owner":{"account_id":3675511,"reputation":290,"user_id":3061706,"display_name":"schnell18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538765524,"creation_date":1435407579,"answer_id":31088684,"question_id":12912287,"body_markdown":"If you want to add the absent serialVersionUID for a bunch of files, IntelliJ IDEA may not work very well. I come up some simple script to fulfill this goal with ease:\r\n\r\n    base_dir=$(pwd)\r\n    src_dir=$base_dir/src/main/java\r\n    ic_api_cp=$base_dir/target/classes\r\n\r\n    while read f\r\n    do\r\n        clazz=${f//\\//.}\r\n        clazz=${clazz/%.java/}\r\n        seruidstr=$(serialver -classpath $ic_api_cp $clazz | cut -d &#39;:&#39; -f 2 | sed -e &#39;s/^\\s\\+//&#39;)\r\n        perl -ni.bak -e &quot;print $_; printf qq{%s\\n}, q{    private $seruidstr} if /public class/&quot; $src_dir/$f\r\n    done\r\n\r\nYou save this script, say as `add_serialVersionUID.sh` in your `~/bin` folder. Then you run it in the root directory of your Maven or Gradle project like:\r\n\r\n    add_serialVersionUID.sh &lt; myJavaToAmend.lst\r\n\r\nThis .lst includes the list of Java files to add the serialVersionUID in the following format:\r\n\r\n    com/abc/ic/api/model/domain/item/BizOrderTransDO.java\r\n    com/abc/ic/api/model/domain/item/CardPassFeature.java\r\n    com/abc/ic/api/model/domain/item/CategoryFeature.java\r\n    com/abc/ic/api/model/domain/item/GoodsFeature.java\r\n    com/abc/ic/api/model/domain/item/ItemFeature.java\r\n    com/abc/ic/api/model/domain/item/ItemPicUrls.java\r\n    com/abc/ic/api/model/domain/item/ItemSkuDO.java\r\n    com/abc/ic/api/model/domain/serve/ServeCategoryFeature.java\r\n    com/abc/ic/api/model/domain/serve/ServeFeature.java\r\n    com/abc/ic/api/model/param/depot/DepotItemDTO.java\r\n    com/abc/ic/api/model/param/depot/DepotItemQueryDTO.java\r\n    com/abc/ic/api/model/param/depot/InDepotDTO.java\r\n    com/abc/ic/api/model/param/depot/OutDepotDTO.java\r\n\r\nThis script uses the JDK serialVer tool. It is ideal for a situation when you want to amend a huge number of classes which had no serialVersionUID set in the first place while maintain the compatibility with the old classes.\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>If you want to add the absent serialVersionUID for a bunch of files, IntelliJ IDEA may not work very well. I come up some simple script to fulfill this goal with ease:</p>\n\n<pre><code>base_dir=$(pwd)\nsrc_dir=$base_dir/src/main/java\nic_api_cp=$base_dir/target/classes\n\nwhile read f\ndo\n    clazz=${f//\\//.}\n    clazz=${clazz/%.java/}\n    seruidstr=$(serialver -classpath $ic_api_cp $clazz | cut -d ':' -f 2 | sed -e 's/^\\s\\+//')\n    perl -ni.bak -e \"print $_; printf qq{%s\\n}, q{    private $seruidstr} if /public class/\" $src_dir/$f\ndone\n</code></pre>\n\n<p>You save this script, say as <code>add_serialVersionUID.sh</code> in your <code>~/bin</code> folder. Then you run it in the root directory of your Maven or Gradle project like:</p>\n\n<pre><code>add_serialVersionUID.sh &lt; myJavaToAmend.lst\n</code></pre>\n\n<p>This .lst includes the list of Java files to add the serialVersionUID in the following format:</p>\n\n<pre><code>com/abc/ic/api/model/domain/item/BizOrderTransDO.java\ncom/abc/ic/api/model/domain/item/CardPassFeature.java\ncom/abc/ic/api/model/domain/item/CategoryFeature.java\ncom/abc/ic/api/model/domain/item/GoodsFeature.java\ncom/abc/ic/api/model/domain/item/ItemFeature.java\ncom/abc/ic/api/model/domain/item/ItemPicUrls.java\ncom/abc/ic/api/model/domain/item/ItemSkuDO.java\ncom/abc/ic/api/model/domain/serve/ServeCategoryFeature.java\ncom/abc/ic/api/model/domain/serve/ServeFeature.java\ncom/abc/ic/api/model/param/depot/DepotItemDTO.java\ncom/abc/ic/api/model/param/depot/DepotItemQueryDTO.java\ncom/abc/ic/api/model/param/depot/InDepotDTO.java\ncom/abc/ic/api/model/param/depot/OutDepotDTO.java\n</code></pre>\n\n<p>This script uses the JDK serialVer tool. It is ideal for a situation when you want to amend a huge number of classes which had no serialVersionUID set in the first place while maintain the compatibility with the old classes.</p>\n"},{"tags":[],"owner":{"account_id":3459236,"reputation":1330,"user_id":2896880,"accept_rate":67,"display_name":"Johnny Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467000625,"creation_date":1467000625,"answer_id":38045809,"question_id":12912287,"body_markdown":"I am using Android Studio 2.1 and I have better consistency of getting the lightbulb by clicking on the class Name and hover over it for a second.","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>I am using Android Studio 2.1 and I have better consistency of getting the lightbulb by clicking on the class Name and hover over it for a second.</p>\n"},{"tags":[],"owner":{"account_id":408478,"reputation":358,"user_id":779173,"display_name":"Greg Allen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538765600,"creation_date":1486558867,"answer_id":42113885,"question_id":12912287,"body_markdown":"Add a live template called &quot;ser&quot; to the other group, set it to &quot;Applicable in Java: declaration&quot;, and untick &quot;Shorten FQ names&quot;. Give it a template text of just:\r\n\r\n    $serial$\r\n\r\nNow edit variables and set serial to:\r\n\r\n    groovyScript(&quot;(System.env.JDK_HOME+&#39;/bin/serialver -classpath &#39;+com.intellij.openapi.fileEditor.FileDocumentManager.instance.getFile(_editor.document).path.replaceAll(&#39;/java/.*&#39;,&#39;&#39;).replaceAll(&#39;/src/&#39;,&#39;/build/classes/&#39;)+&#39; &#39;+_1).execute().text.replaceAll(&#39;.*: *&#39;,&#39;&#39;)&quot;,qualifiedClassName())\r\n\r\nIt assumes the standard Gradle project layout. Change /build/ to /target/ for Maven.\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>Add a live template called \"ser\" to the other group, set it to \"Applicable in Java: declaration\", and untick \"Shorten FQ names\". Give it a template text of just:</p>\n\n<pre><code>$serial$\n</code></pre>\n\n<p>Now edit variables and set serial to:</p>\n\n<pre><code>groovyScript(\"(System.env.JDK_HOME+'/bin/serialver -classpath '+com.intellij.openapi.fileEditor.FileDocumentManager.instance.getFile(_editor.document).path.replaceAll('/java/.*','').replaceAll('/src/','/build/classes/')+' '+_1).execute().text.replaceAll('.*: *','')\",qualifiedClassName())\n</code></pre>\n\n<p>It assumes the standard Gradle project layout. Change /build/ to /target/ for Maven.</p>\n"},{"tags":[],"owner":{"account_id":3635078,"reputation":2174,"user_id":3030376,"accept_rate":100,"display_name":"Nikhil Katre"},"down_vote_count":1,"up_vote_count":82,"is_accepted":false,"score":81,"last_activity_date":1559770288,"creation_date":1489555751,"answer_id":42801730,"question_id":12912287,"body_markdown":"Without any plugins: You just need to enable highlight in IntelliJ:\r\n\r\n`IntelliJ Preferences -&gt; Editor -&gt; Inspections -&gt; Java -&gt; Serialization issues -&gt; Serializable class without &#39;serialVersionUID&#39;` - set flag and click `&#39;OK&#39;`.\r\n\r\nNow, if your class implements `Serializable`, you will see highlight, and `alt+Enter` on class name will propose to generate `private static final long serialVersionUID`.\r\n\r\nPS: Taken from [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24573643/how-to-generate-serial-version-uid-in-intellij/36007392#36007392","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>Without any plugins: You just need to enable highlight in IntelliJ:</p>\n\n<p><code>IntelliJ Preferences -&gt; Editor -&gt; Inspections -&gt; Java -&gt; Serialization issues -&gt; Serializable class without 'serialVersionUID'</code> - set flag and click <code>'OK'</code>.</p>\n\n<p>Now, if your class implements <code>Serializable</code>, you will see highlight, and <code>alt+Enter</code> on class name will propose to generate <code>private static final long serialVersionUID</code>.</p>\n\n<p>PS: Taken from <a href=\"https://stackoverflow.com/questions/24573643/how-to-generate-serial-version-uid-in-intellij/36007392#36007392\">here</a></p>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1500180819,"creation_date":1500180819,"answer_id":45125133,"question_id":12912287,"body_markdown":"After spending some time on Serialization, I find that, we should not generate `serialVersionUID` with some random value, we should give it a meaningful value. \r\n\r\n[Here is a details comment on this.][1] I am coping the comment here. \r\n\r\n&gt; Actually, you should not be &quot;generating&quot; serial version UIDs. It is a dumb &quot;feature&quot; that stems from the general misunderstanding of how that ID is used by Java. You should be giving these IDs meaningful, readable values, e.g. starting with 1L, and incrementing them each time you think the new version of the class should render all previous versions (that might be previously serialized) obsolete.  All utilities that generate such IDs basically do what the JVM does when the ID is not defined: they generate the value based on the content of the class file, hence coming up with unreadable meaningless long integers. If you want each and every version of your class to be distinct (in the eyes of the JVM) then you should not even specify the serialVersionUID value isnce the JVM will produce one on the fly, and the value of each version of your class will be unique. The purpose of defining that value explicitly is to tell the serialization mechanism to treat different versions of the class that have the same SVUID as if they are the same, e.g. not to reject the older serialized versions. So, if you define the ID and never change it (and I assume that&#39;s what you do since you rely on the auto-generation, and you probably never re-generate your IDs) you are ensuring that all - even absolutely different - versions of your class will be considered the same by the serialization mechanism. Is that what you want? If not, and if you indeed want to have control over how your objects are recognized, you should be using simple values that you yourself can understand and easily update when you decide that the class has changed significantly. Having a 23-digit value does not help at all.\r\n\r\nHope this helps. Good luck.\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/206957655/comments/206678425","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>After spending some time on Serialization, I find that, we should not generate <code>serialVersionUID</code> with some random value, we should give it a meaningful value. </p>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/206957655/comments/206678425\" rel=\"noreferrer\">Here is a details comment on this.</a> I am coping the comment here. </p>\n\n<blockquote>\n  <p>Actually, you should not be \"generating\" serial version UIDs. It is a dumb \"feature\" that stems from the general misunderstanding of how that ID is used by Java. You should be giving these IDs meaningful, readable values, e.g. starting with 1L, and incrementing them each time you think the new version of the class should render all previous versions (that might be previously serialized) obsolete.  All utilities that generate such IDs basically do what the JVM does when the ID is not defined: they generate the value based on the content of the class file, hence coming up with unreadable meaningless long integers. If you want each and every version of your class to be distinct (in the eyes of the JVM) then you should not even specify the serialVersionUID value isnce the JVM will produce one on the fly, and the value of each version of your class will be unique. The purpose of defining that value explicitly is to tell the serialization mechanism to treat different versions of the class that have the same SVUID as if they are the same, e.g. not to reject the older serialized versions. So, if you define the ID and never change it (and I assume that's what you do since you rely on the auto-generation, and you probably never re-generate your IDs) you are ensuring that all - even absolutely different - versions of your class will be considered the same by the serialization mechanism. Is that what you want? If not, and if you indeed want to have control over how your objects are recognized, you should be using simple values that you yourself can understand and easily update when you decide that the class has changed significantly. Having a 23-digit value does not help at all.</p>\n</blockquote>\n\n<p>Hope this helps. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":8356209,"reputation":1522,"user_id":6780089,"display_name":"0x00A5"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539832376,"creation_date":1539827127,"answer_id":52865776,"question_id":12912287,"body_markdown":"With version `v2018.2.1`\r\n\r\nGo to \r\n&gt;Preference &gt; Editor &gt; Inspections &gt; Java &gt; Serialization issues &gt; toggle &quot;Serializable class without &#39;serialVersionUID&#39;&quot;.\r\n\r\nA warning should appear next to the class declaration.","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>With version <code>v2018.2.1</code></p>\n\n<p>Go to </p>\n\n<blockquote>\n  <p>Preference > Editor > Inspections > Java > Serialization issues > toggle \"Serializable class without 'serialVersionUID'\".</p>\n</blockquote>\n\n<p>A warning should appear next to the class declaration.</p>\n"},{"tags":[],"owner":{"account_id":3578561,"reputation":2945,"user_id":2987273,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575896619,"creation_date":1560498948,"answer_id":56593832,"question_id":12912287,"body_markdown":"Another way to generate the serialVersionUID is to use `&gt;Analyze &gt;Run Inspection by Name` from the context menu ( or the keyboard short cut, which is &lt;kbd&gt;ctrl&lt;/kbd&gt;+&lt;kbd&gt;alt&lt;/kbd&gt;+&lt;kbd&gt;shift&lt;/kbd&gt;+&lt;kbd&gt;i&lt;/kbd&gt; by default) and then type &quot;Serializable class without &#39;serialVersionUID&#39;&quot; (or simply type &quot;serialVersionUID&quot; and the type ahead function will find it for you.\r\n\r\n[![Idea &gt;Analyze &gt;Run Inspection by Name][1]][1]\r\nYou will then get a context menu where you can choose where to run the inspections on (e.g. all from a specific module, whole project, one file, ...)\r\n\r\nWith this approach you don&#39;t even have to set the general inspection rules to anything.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mRT0u.png","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>Another way to generate the serialVersionUID is to use <code>&gt;Analyze &gt;Run Inspection by Name</code> from the context menu ( or the keyboard short cut, which is <kbd>ctrl</kbd>+<kbd>alt</kbd>+<kbd>shift</kbd>+<kbd>i</kbd> by default) and then type \"Serializable class without 'serialVersionUID'\" (or simply type \"serialVersionUID\" and the type ahead function will find it for you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mRT0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRT0u.png\" alt=\"Idea &gt;Analyze &gt;Run Inspection by Name\"></a>\nYou will then get a context menu where you can choose where to run the inspections on (e.g. all from a specific module, whole project, one file, ...)</p>\n\n<p>With this approach you don't even have to set the general inspection rules to anything.</p>\n"},{"tags":[],"owner":{"account_id":7783437,"reputation":10208,"user_id":5889131,"accept_rate":100,"display_name":"jeremysprofile"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1588787167,"creation_date":1588787167,"answer_id":61641757,"question_id":12912287,"body_markdown":"Easiest modern method: `Alt`+`Enter` on\r\n\r\n    private static final long serialVersionUID = ;\r\n\r\nIntelliJ will underline the space after the `=`. put your cursor on it and hit `alt`+`Enter` (`Option`+`Enter` on Mac). You&#39;ll get a popover that says &quot;Randomly Change serialVersionUID Initializer&quot;. Just hit enter, and it&#39;ll populate that space with a random long. ","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>Easiest modern method: <code>Alt</code>+<code>Enter</code> on</p>\n\n<pre><code>private static final long serialVersionUID = ;\n</code></pre>\n\n<p>IntelliJ will underline the space after the <code>=</code>. put your cursor on it and hit <code>alt</code>+<code>Enter</code> (<code>Option</code>+<code>Enter</code> on Mac). You'll get a popover that says \"Randomly Change serialVersionUID Initializer\". Just hit enter, and it'll populate that space with a random long. </p>\n"},{"tags":[],"owner":{"account_id":428762,"reputation":1481,"user_id":811293,"accept_rate":30,"display_name":"joseluisbz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673908276,"creation_date":1673908276,"answer_id":75140306,"question_id":12912287,"body_markdown":"on macOS, you could find where `serialVersionUID` is applicable.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9f1OY.png","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>on macOS, you could find where <code>serialVersionUID</code> is applicable.\n<a href=\"https://i.stack.imgur.com/9f1OY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9f1OY.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user1679671"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270704,"favorite_count":0,"down_vote_count":1,"up_vote_count":322,"accepted_answer_id":12912420,"answer_count":13,"score":321,"last_activity_date":1673908276,"creation_date":1350382238,"question_id":12912287,"body_markdown":"How do generate this value in IntelliJ IDEA?\r\n\r\nI go to *Settings* -&gt; *Errors* -&gt; *Serialization issues* -&gt; Serializable class without ‘serialVersionUID’, but it still doesn&#39;t show me the warning. My class PKladrBuilding parent implements *interface Serializable*.\r\n\r\nPart of the code:\r\n\r\n    public class PKladrBuilding extends PRQObject\r\n\r\n    public abstract class PRQObject extends PObject\r\n\r\n    public abstract class PObject implements Serializable\r\n\r\n","title":"IntelliJ IDEA generating serialVersionUID","body":"<p>How do generate this value in IntelliJ IDEA?</p>\n\n<p>I go to <em>Settings</em> -> <em>Errors</em> -> <em>Serialization issues</em> -> Serializable class without ‘serialVersionUID’, but it still doesn't show me the warning. My class PKladrBuilding parent implements <em>interface Serializable</em>.</p>\n\n<p>Part of the code:</p>\n\n<pre><code>public class PKladrBuilding extends PRQObject\n\npublic abstract class PRQObject extends PObject\n\npublic abstract class PObject implements Serializable\n</code></pre>\n"},{"tags":["java","servlets","io"],"answers":[{"tags":[],"owner":{"account_id":117541,"reputation":7467,"user_id":307767,"accept_rate":92,"display_name":"oliholz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1309159763,"creation_date":1309159763,"answer_id":6489804,"question_id":6489657,"body_markdown":"You can write your own [FilterOutputStream][1]:\r\n\r\n_This class is the superclass of all classes that filter output streams. These streams sit on top of an already existing output stream (the underlying output stream) which it uses as its basic sink of data, but possibly transforming the data along the way or providing additional functionality._\r\n\r\n        BufferedOutputStream buffer = new BufferedOutputStream(super.getOutputStream());\r\n        \r\n        FilterOutputStream filter = new FilterOutputStream(buffer) {\r\n            @Override\r\n            public void write( int b ) throws IOException {\r\n                // modify b\r\n                out.write( b );\r\n            }\r\n        };\r\n        \r\n        return new DelegatingServletOutputStream(filter);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/FilterOutputStream.html","title":"Buffer &amp; Modify OutputStream","body":"<p>You can write your own <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/FilterOutputStream.html\" rel=\"nofollow\">FilterOutputStream</a>:</p>\n\n<p><em>This class is the superclass of all classes that filter output streams. These streams sit on top of an already existing output stream (the underlying output stream) which it uses as its basic sink of data, but possibly transforming the data along the way or providing additional functionality.</em></p>\n\n<pre><code>    BufferedOutputStream buffer = new BufferedOutputStream(super.getOutputStream());\n\n    FilterOutputStream filter = new FilterOutputStream(buffer) {\n        @Override\n        public void write( int b ) throws IOException {\n            // modify b\n            out.write( b );\n        }\n    };\n\n    return new DelegatingServletOutputStream(filter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673908259,"creation_date":1309162872,"answer_id":6490248,"question_id":6489657,"body_markdown":"@oliholz&#39;s answer gives is one approach in which you modify the data &quot;as it goes through&quot; a filter stream to its destination.\r\n\r\nAnother approach is to send the output to a `ByteArrayOutputStream`, extract the contents to a byte array, modify the bytes, and finally write them to your &quot;real&quot; output stream.\r\n\r\nOr you could extend `ByteArrayOutputStream` and override its `close()` method to do things when the stream is closed ... if that is what you mean.  Or you could override `getBytes` to modify the bytes before returning them.  Or override the `write` method to modify the bytes as they are being written.  There are many ways you could approach it, depending on precisely what your requirements are.","title":"Buffer &amp; Modify OutputStream","body":"<p>@oliholz's answer gives is one approach in which you modify the data &quot;as it goes through&quot; a filter stream to its destination.</p>\n<p>Another approach is to send the output to a <code>ByteArrayOutputStream</code>, extract the contents to a byte array, modify the bytes, and finally write them to your &quot;real&quot; output stream.</p>\n<p>Or you could extend <code>ByteArrayOutputStream</code> and override its <code>close()</code> method to do things when the stream is closed ... if that is what you mean.  Or you could override <code>getBytes</code> to modify the bytes before returning them.  Or override the <code>write</code> method to modify the bytes as they are being written.  There are many ways you could approach it, depending on precisely what your requirements are.</p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6489804,"answer_count":2,"score":2,"last_activity_date":1673908259,"creation_date":1309158587,"question_id":6489657,"body_markdown":"is there a way to buffer a OutputStream, modify it before it is returned? Here is my code snippet: \r\n\r\n\tpublic ServletOutputStream getOutputStream() throws IOException {\r\n\t\tBufferedOutputStream buffer = new BufferedOutputStream(super.getOutputStream());\r\n\t\t// Modify the buffer contents, before it is returned\r\n\t\treturn new DelegatingServletOutputStream(buffer);\r\n\t}\r\n\r\nThanks.","title":"Buffer &amp; Modify OutputStream","body":"<p>is there a way to buffer a OutputStream, modify it before it is returned? Here is my code snippet: </p>\n\n<pre><code>public ServletOutputStream getOutputStream() throws IOException {\n    BufferedOutputStream buffer = new BufferedOutputStream(super.getOutputStream());\n    // Modify the buffer contents, before it is returned\n    return new DelegatingServletOutputStream(buffer);\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","selenium","selenium-webdriver","timeoutexception","pageloadtimeout"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1673875545,"post_id":75134824,"comment_id":132588198,"body_markdown":"`driver.manage().timeouts().` says how long will the driver wait. Not what to do after the wait time. Btw what&#39;s the point of closing browser (or driver) after insufficient wait time?","body":"<code>driver.manage().timeouts().</code> says how long will the driver wait. Not what to do after the wait time. Btw what&#39;s the point of closing browser (or driver) after insufficient wait time?"},{"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"score":0,"creation_date":1673875970,"post_id":75134824,"comment_id":132588371,"body_markdown":"@pburgr I want chrome to close after **20** seconds, is it possible?","body":"@pburgr I want chrome to close after <b>20</b> seconds, is it possible?"}],"answers":[{"tags":[],"owner":{"account_id":27543330,"reputation":1,"user_id":21019714,"display_name":"Rajat Jangu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673875726,"creation_date":1673875726,"answer_id":75134903,"question_id":75134824,"body_markdown":"Press Ctrl + Alt + Delete. Click Task manager​. Under &#39;Processes&#39;, look for &#39;Google Chrome&#39; or &#39;chrome.exe&#39;. Click it, then click End process.","title":"How to close the chrome browser right after 20 seconds handling the exception errors?","body":"<p>Press Ctrl + Alt + Delete. Click Task manager​. Under 'Processes', look for 'Google Chrome' or 'chrome.exe'. Click it, then click End process.</p>\n"},{"tags":[],"owner":{"account_id":11585593,"reputation":45,"user_id":8487877,"display_name":"Batel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673877854,"creation_date":1673876503,"answer_id":75135055,"question_id":75134824,"body_markdown":"The `driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20))` method sets the maximum amount of time the driver should wait for a page load to complete before timing out. This means that if a page takes longer than 20 seconds to load, the driver will throw a `TimeoutException` and stop waiting for the page to load. However, this method does not close the browser automatically after 20 seconds, it only sets the page load timeout.\r\n\r\nThe `driver.quit()` method is used to close the browser and end the WebDriver session. But the `driver.quit()` method is not affected by the page load timeout and it will close the browser immediately after it is called, regardless of how long the page has been loading.\r\n\r\nSo, if you want to close the browser after 20 seconds, you need to use the `Thread.sleep(20000)` method, which will pause the execution of the program for 20 seconds, before calling the `driver.quit()` method.\r\n\r\nYou could use a combination of both methods, by setting the page load timeout and then waiting for 20 seconds before closing the browser.\r\n\r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    Thread.sleep(20000);\r\n    driver.quit();\r\n\r\nAlternatively, you could use a Timer and TimerTask to close the browser after a specific time like this:\r\n\r\n    import java.util.Timer;\r\n    import java.util.TimerTask;\r\n    ...\r\n     driver.get(&quot;https://www.google.com&quot;);\r\n    \r\n            Timer timer = new Timer();\r\n            timer.schedule(new TimerTask() {\r\n               @Override\r\n               public void run() {\r\n                   driver.quit();\r\n                   timer.cancel();\r\n               }\r\n            }, 20000);","title":"How to close the chrome browser right after 20 seconds handling the exception errors?","body":"<p>The <code>driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20))</code> method sets the maximum amount of time the driver should wait for a page load to complete before timing out. This means that if a page takes longer than 20 seconds to load, the driver will throw a <code>TimeoutException</code> and stop waiting for the page to load. However, this method does not close the browser automatically after 20 seconds, it only sets the page load timeout.</p>\n<p>The <code>driver.quit()</code> method is used to close the browser and end the WebDriver session. But the <code>driver.quit()</code> method is not affected by the page load timeout and it will close the browser immediately after it is called, regardless of how long the page has been loading.</p>\n<p>So, if you want to close the browser after 20 seconds, you need to use the <code>Thread.sleep(20000)</code> method, which will pause the execution of the program for 20 seconds, before calling the <code>driver.quit()</code> method.</p>\n<p>You could use a combination of both methods, by setting the page load timeout and then waiting for 20 seconds before closing the browser.</p>\n<pre><code>driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\ndriver.get(&quot;https://www.google.com&quot;);\nThread.sleep(20000);\ndriver.quit();\n</code></pre>\n<p>Alternatively, you could use a Timer and TimerTask to close the browser after a specific time like this:</p>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n...\n driver.get(&quot;https://www.google.com&quot;);\n\n        Timer timer = new Timer();\n        timer.schedule(new TimerTask() {\n           @Override\n           public void run() {\n               driver.quit();\n               timer.cancel();\n           }\n        }, 20000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673881624,"creation_date":1673881624,"answer_id":75136125,"question_id":75134824,"body_markdown":"You can try this:\r\n\r\n    import org.openqa.selenium.TimeoutException;\r\n    \r\n    driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\r\n    try {\r\n    \tdriver.get(&quot;https://www.amazon.com&quot;);\r\n    } catch (TimeoutException e) {\r\n    //\te.printStackTrace();\r\n    \tSystem.out.println(&quot;Quitting...&quot;);\r\n    \tdriver.quit();\r\n    }\r\n\r\n","title":"How to close the chrome browser right after 20 seconds handling the exception errors?","body":"<p>You can try this:</p>\n<pre><code>import org.openqa.selenium.TimeoutException;\n\ndriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\ntry {\n    driver.get(&quot;https://www.amazon.com&quot;);\n} catch (TimeoutException e) {\n//  e.printStackTrace();\n    System.out.println(&quot;Quitting...&quot;);\n    driver.quit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673883422,"creation_date":1673882485,"answer_id":75136282,"question_id":75134824,"body_markdown":"As per the documentation [_pageLoadTimeout_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html#pageLoadTimeout(java.time.Duration))\r\n\r\n&gt;Sets the amount of time to wait for a page load to complete before throwing an error. If the timeout is negative, not null, or greater than 2e16 - 1, an error code with invalid argument will be returned.\r\n\r\nSo [_pageLoadTimeout_](https://stackoverflow.com/questions/45591282/pageloadtimeout-in-selenium-not-working/45648881#45648881) is effective when the page is loading is _In Progress_. If the page loading takes more time _TimeoutException_ is raised.\r\n\r\nExample snippet:\r\n\r\n\tpublic class pageLoadTimeoutJava {\r\n\t\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\r\n\t\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\tdriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(2));\r\n\t\t\ttry {\r\n\t\t\t\tdriver.get(&quot;https://www.booking.com/hotel/in/the-taj-mahal-palace-tower.html?label=gen173nr-1FCAEoggJCAlhYSDNiBW5vcmVmaGyIAQGYATG4AQbIAQzYAQHoAQH4AQKSAgF5qAID;sid=338ad58d8e83c71e6aa78c67a2996616;dest_id=-2092174;dest_type=city;dist=0;group_adults=2;hip_dst=1;hpos=1;room1=A%2CA;sb_price_type=total;srfid=ccd41231d2f37b82d695970f081412152a59586aX1;srpvid=c71751e539ea01ce;type=total;ucfs=1&amp;#hotelTmpl&quot;);\r\n\t\t\t} catch (TimeoutException e) {\r\n\t\t\t\tSystem.out.println(&quot;pageLoadTimeout occured&quot;);\r\n\t\t\t\tdriver.quit();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to close the chrome browser right after 20 seconds handling the exception errors?","body":"<p>As per the documentation <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebDriver.Timeouts.html#pageLoadTimeout(java.time.Duration)\" rel=\"nofollow noreferrer\"><em>pageLoadTimeout</em></a></p>\n<blockquote>\n<p>Sets the amount of time to wait for a page load to complete before throwing an error. If the timeout is negative, not null, or greater than 2e16 - 1, an error code with invalid argument will be returned.</p>\n</blockquote>\n<p>So <a href=\"https://stackoverflow.com/questions/45591282/pageloadtimeout-in-selenium-not-working/45648881#45648881\"><em>pageLoadTimeout</em></a> is effective when the page is loading is <em>In Progress</em>. If the page loading takes more time <em>TimeoutException</em> is raised.</p>\n<p>Example snippet:</p>\n<pre><code>public class pageLoadTimeoutJava {\n    public static void main(String args[])\n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\BrowserDrivers\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(2));\n        try {\n            driver.get(&quot;https://www.booking.com/hotel/in/the-taj-mahal-palace-tower.html?label=gen173nr-1FCAEoggJCAlhYSDNiBW5vcmVmaGyIAQGYATG4AQbIAQzYAQHoAQH4AQKSAgF5qAID;sid=338ad58d8e83c71e6aa78c67a2996616;dest_id=-2092174;dest_type=city;dist=0;group_adults=2;hip_dst=1;hpos=1;room1=A%2CA;sb_price_type=total;srfid=ccd41231d2f37b82d695970f081412152a59586aX1;srpvid=c71751e539ea01ce;type=total;ucfs=1&amp;#hotelTmpl&quot;);\n        } catch (TimeoutException e) {\n            System.out.println(&quot;pageLoadTimeout occured&quot;);\n            driver.quit();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27479156,"reputation":13,"user_id":20966566,"display_name":"Karen M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75136125,"answer_count":4,"score":0,"last_activity_date":1673908203,"creation_date":1673875310,"question_id":75134824,"body_markdown":"I am using this code with ChromeDriver and Chrome browser:\r\n```\r\ndriver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\r\nThread.sleep(20000);\r\ndriver.quit();\r\n```\r\n\r\nThen  webpage keeps loading more than 20 seconds and closing with `java.util.concurrent.TimeoutException` \r\n\r\n\r\n\r\n\r\n\r\nBut its not working. ","title":"How to close the chrome browser right after 20 seconds handling the exception errors?","body":"<p>I am using this code with ChromeDriver and Chrome browser:</p>\n<pre><code>driver.manage().timeouts().pageLoadTimeout(Duration.ofSeconds(20));\nThread.sleep(20000);\ndriver.quit();\n</code></pre>\n<p>Then  webpage keeps loading more than 20 seconds and closing with <code>java.util.concurrent.TimeoutException</code></p>\n<p>But its not working.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"score":1,"creation_date":1673601587,"post_id":75104968,"comment_id":132540441,"body_markdown":"Can I ask what is the point to redirect HTTP to HTTPS except for admin?","body":"Can I ask what is the point to redirect HTTP to HTTPS except for admin?"}],"answers":[{"tags":[],"owner":{"account_id":14589181,"reputation":285,"user_id":10536936,"display_name":"Ali Zedan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673602024,"creation_date":1673601256,"answer_id":75107062,"question_id":75104968,"body_markdown":"You must add a new security collection for administration and set the user constraint to NONE. \r\n\r\nTry something like : \r\n\r\n       SecurityConstraint securityConstraint = new SecurityConstraint();\r\n       securityConstraint.setUserConstraint(&quot;NONE&quot;);\r\n       SecurityCollection collection = new SecurityCollection();\r\n       /*for example I will choose /admin as pattern here, you can choose whatever \r\n       you want*/\r\n       collection.addPattern(&quot;/admin/*&quot;); \r\n       securityConstraint.addCollection(collection);\r\n       context.addConstraint(securityConstraint);\r\n\r\n","title":"how to spring boot redirect http to https except admin in this code","body":"<p>You must add a new security collection for administration and set the user constraint to NONE.</p>\n<p>Try something like :</p>\n<pre><code>   SecurityConstraint securityConstraint = new SecurityConstraint();\n   securityConstraint.setUserConstraint(&quot;NONE&quot;);\n   SecurityCollection collection = new SecurityCollection();\n   /*for example I will choose /admin as pattern here, you can choose whatever \n   you want*/\n   collection.addPattern(&quot;/admin/*&quot;); \n   securityConstraint.addCollection(collection);\n   context.addConstraint(securityConstraint);\n</code></pre>\n"}],"owner":{"account_id":27515609,"reputation":1,"user_id":20996626,"display_name":"최범진"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673908112,"creation_date":1673585492,"question_id":75104968,"body_markdown":"```\r\n@Configuration\r\n@EnableConfigurationProperties\r\npublic class SSLConfig {\r\n\r\n    @Value(&quot;${server.port.http}&quot;)\r\n    private int httpPort;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private int httpsPort;\r\n\r\n    @Bean\r\n    public ServletWebServerFactory serverFactory(){\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n            @Override\r\n            protected void postProcessContext(Context context) {\r\n                SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                SecurityCollection collection = new SecurityCollection();\r\n                collection.addPattern(&quot;/*&quot;);\r\n                securityConstraint.addCollection(collection);\r\n                context.addConstraint(securityConstraint);\r\n            }\r\n        };\r\n\r\n\r\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\r\n\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createSslConnector(){\r\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n        connector.setPort(httpPort);\r\n        connector.setScheme(&quot;http&quot;);\r\n        connector.setSecure(false);\r\n        connector.setRedirectPort(httpsPort);\r\n        return connector;\r\n    }\r\n```\r\n\r\nI&#39;m using this solution. Currently, all User Manager pages are redirected to https, but you want to keep the Administrator page as http. Is there a way? Administrators are included in the same project.","title":"how to spring boot redirect http to https except admin in this code","body":"<pre><code>@Configuration\n@EnableConfigurationProperties\npublic class SSLConfig {\n\n    @Value(&quot;${server.port.http}&quot;)\n    private int httpPort;\n\n    @Value(&quot;${server.port}&quot;)\n    private int httpsPort;\n\n    @Bean\n    public ServletWebServerFactory serverFactory(){\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n\n\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\n\n        return tomcat;\n    }\n\n    private Connector createSslConnector(){\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(httpPort);\n        connector.setScheme(&quot;http&quot;);\n        connector.setSecure(false);\n        connector.setRedirectPort(httpsPort);\n        return connector;\n    }\n</code></pre>\n<p>I'm using this solution. Currently, all User Manager pages are redirected to https, but you want to keep the Administrator page as http. Is there a way? Administrators are included in the same project.</p>\n"},{"tags":["java","web-applications","classloader"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1292543746,"post_id":4466526,"comment_id":4881325,"body_markdown":"Note that I&#39;m not trying to solve .jar hell.  If I was, I&#39;d be using OSGi.  The goal here is to understand a bit better how things work under the hood.","body":"Note that I&#39;m not trying to solve .jar hell.  If I was, I&#39;d be using OSGi.  The goal here is to understand a bit better how things work under the hood."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1292545193,"post_id":4466526,"comment_id":4881507,"body_markdown":"related: http://stackoverflow.com/questions/1669305/how-does-jvm-deal-with-duplicate-jars-of-different-versions","body":"related: <a href=\"http://stackoverflow.com/questions/1669305/how-does-jvm-deal-with-duplicate-jars-of-different-versions\" title=\"how does jvm deal with duplicate jars of different versions\">stackoverflow.com/questions/1669305/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1292545076,"creation_date":1292545076,"answer_id":4466656,"question_id":4466526,"body_markdown":"You seem to be conflating two different senses of &quot;before&quot;.\r\n\r\nClasses are loaded in the order they are used. This is temporal, and is the more correct use of &quot;before&quot;. If Foo is used before Bar then it&#39;ll be loaded before Bar.\r\n\r\nYou&#39;re also talking about whether classes/com/acme/Bunny.class will be loaded &quot;before&quot; acme.jar&#39;s com/acme/Bunny.class. The second one won&#39;t be loaded at all. The classloader will look for the first instance of com/acme/Bunny.class on the classpath, find the one in classes, and stop looking.","title":"Order of class loading from a .war file","body":"<p>You seem to be conflating two different senses of \"before\".</p>\n\n<p>Classes are loaded in the order they are used. This is temporal, and is the more correct use of \"before\". If Foo is used before Bar then it'll be loaded before Bar.</p>\n\n<p>You're also talking about whether classes/com/acme/Bunny.class will be loaded \"before\" acme.jar's com/acme/Bunny.class. The second one won't be loaded at all. The classloader will look for the first instance of com/acme/Bunny.class on the classpath, find the one in classes, and stop looking.</p>\n"},{"tags":[],"owner":{"account_id":234817,"reputation":3508,"user_id":501217,"display_name":"Kim Burgaard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292545095,"creation_date":1292545095,"answer_id":4466661,"question_id":4466526,"body_markdown":"The answer depends entirely on the concrete class loader hierarchy in use. While the JVM will provide a system class loader, Java EE application servers will typically use custom [ClassLoader][1] implementations to isolate classes loaded in separate modules and applications, and to enforce security concerns.\r\n\r\nThe ClassLoader API does not impose any rules on how concrete implementations resolve class requests. However, the &lt;em&gt;intent&lt;/em&gt; of the WEB-INF/lib directory is to allow [bundling of app-specific libraries][2]. I suspect most people would expect the jar files in the lib directory to be searched AFTER the root contents of the jar file.\r\n\r\nI&#39;m not aware that the Java EE specifications establish any such guarantee though, and the interface and documentation for the abstract ClassLoader class certainly doesn&#39;t.\r\n\r\nSo, hypothetically, you could have a web container that would end up returning Bunny.class from the jar file &lt;em&gt;instead&lt;/em&gt; of the one from the root hierarchy of the war file.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html\r\n  [2]: http://java.sun.com/j2ee/verified/packaging.html#mechs","title":"Order of class loading from a .war file","body":"<p>The answer depends entirely on the concrete class loader hierarchy in use. While the JVM will provide a system class loader, Java EE application servers will typically use custom <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow\">ClassLoader</a> implementations to isolate classes loaded in separate modules and applications, and to enforce security concerns.</p>\n\n<p>The ClassLoader API does not impose any rules on how concrete implementations resolve class requests. However, the <em>intent</em> of the WEB-INF/lib directory is to allow <a href=\"http://java.sun.com/j2ee/verified/packaging.html#mechs\" rel=\"nofollow\">bundling of app-specific libraries</a>. I suspect most people would expect the jar files in the lib directory to be searched AFTER the root contents of the jar file.</p>\n\n<p>I'm not aware that the Java EE specifications establish any such guarantee though, and the interface and documentation for the abstract ClassLoader class certainly doesn't.</p>\n\n<p>So, hypothetically, you could have a web container that would end up returning Bunny.class from the jar file <em>instead</em> of the one from the root hierarchy of the war file.</p>\n"},{"tags":[],"owner":{"account_id":116952,"reputation":21661,"user_id":306488,"accept_rate":78,"display_name":"lisak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292546142,"creation_date":1292545362,"answer_id":4466684,"question_id":4466526,"body_markdown":"It depends on the container that deploys the war file. From my experiences, WEB-INF/classes location is always before lib/ on the classpath of a classloader for application context.\r\n\r\nClasses are loaded right after the deployer expands the war into the container. Usually when a context loader listener servlet is loaded and the rest of the application with it. It can be done in many ways such as by a reference to default servlet or loading spring context etc.\r\n\r\nSo that WEB-INF/classes/com/acme/Bunny.class should be loaded first afaik.  ","title":"Order of class loading from a .war file","body":"<p>It depends on the container that deploys the war file. From my experiences, WEB-INF/classes location is always before lib/ on the classpath of a classloader for application context.</p>\n\n<p>Classes are loaded right after the deployer expands the war into the container. Usually when a context loader listener servlet is loaded and the rest of the application with it. It can be done in many ways such as by a reference to default servlet or loading spring context etc.</p>\n\n<p>So that WEB-INF/classes/com/acme/Bunny.class should be loaded first afaik.  </p>\n"},{"tags":[],"owner":{"account_id":219257,"reputation":11430,"user_id":476048,"accept_rate":72,"display_name":"Berin Loritsch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292546835,"creation_date":1292546835,"answer_id":4466785,"question_id":4466526,"body_markdown":"Both the `WEB-INF/lib/*.jar` files and the `WEB-INF/classes` directory are in the same ClassLoader.  It would be as if you started an application with all the jars listed in the ClassPath.  As a class name needs to be resolved, the ClassLoader will find the first class that matches from its resources.  The exact order it searches in is nondeterministic--it depends on the platform.\r\n\r\nJava Packages were designed to address the problem of name clashes such as what you described.  It is never a good idea to deliberately name a class the same as what is bundled in its own jar file.  The better solution would be to extend the class and use the new version in your code.  If you need to alter functionality of that class, then you might look into the black magic of Java Aspect Oriented Programming.","title":"Order of class loading from a .war file","body":"<p>Both the <code>WEB-INF/lib/*.jar</code> files and the <code>WEB-INF/classes</code> directory are in the same ClassLoader.  It would be as if you started an application with all the jars listed in the ClassPath.  As a class name needs to be resolved, the ClassLoader will find the first class that matches from its resources.  The exact order it searches in is nondeterministic--it depends on the platform.</p>\n\n<p>Java Packages were designed to address the problem of name clashes such as what you described.  It is never a good idea to deliberately name a class the same as what is bundled in its own jar file.  The better solution would be to extend the class and use the new version in your code.  If you need to alter functionality of that class, then you might look into the black magic of Java Aspect Oriented Programming.</p>\n"},{"tags":[],"owner":{"account_id":3466289,"reputation":848,"user_id":2901721,"display_name":"Sajeev"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1494311174,"creation_date":1459318834,"answer_id":36301146,"question_id":4466526,"body_markdown":"The selected answer is wrong. Servlet spec version 2.4 and 3.0 clearly states that WEB-INF/classes are loaded first and then WEB-INF/lib \r\n\r\nServlet 2.4: http://download.oracle.com/otn-pub/jcp/servlet-2.4-fr-spec-oth-JSpec/servlet-2_4-fr-spec.pdf - section SRV.9.5, last paragraph\r\n\r\nServlet 3.0: http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-oth-JSpec/servlet-3_0-final-spec.pdf - section 10.5, last paragraph\r\n\r\n*The Web application class loader must load classes from the WEB-INF/classes\r\ndirectory first, and then from library JARs in the WEB-INF/lib directory.*","title":"Order of class loading from a .war file","body":"<p>The selected answer is wrong. Servlet spec version 2.4 and 3.0 clearly states that WEB-INF/classes are loaded first and then WEB-INF/lib </p>\n\n<p>Servlet 2.4: <a href=\"http://download.oracle.com/otn-pub/jcp/servlet-2.4-fr-spec-oth-JSpec/servlet-2_4-fr-spec.pdf\" rel=\"noreferrer\">http://download.oracle.com/otn-pub/jcp/servlet-2.4-fr-spec-oth-JSpec/servlet-2_4-fr-spec.pdf</a> - section SRV.9.5, last paragraph</p>\n\n<p>Servlet 3.0: <a href=\"http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-oth-JSpec/servlet-3_0-final-spec.pdf\" rel=\"noreferrer\">http://download.oracle.com/otn-pub/jcp/servlet-3.0-fr-oth-JSpec/servlet-3_0-final-spec.pdf</a> - section 10.5, last paragraph</p>\n\n<p><em>The Web application class loader must load classes from the WEB-INF/classes\ndirectory first, and then from library JARs in the WEB-INF/lib directory.</em></p>\n"}],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19385,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1673907673,"creation_date":1292543707,"question_id":4466526,"body_markdown":"I&#39;ve got a question regarding the guarantees, if any, in the following scenario (note that the question is not *&quot;How to do this in a different way?&quot;*, the question is really about class loading order in the following case (to better understand how class loading works).\r\n\r\nHere&#39;s the hypothetical scenario... There&#39;s a *.war* file that has the following (partial) directory structure:\r\n\r\n\r\n     WEB-INF/classes/com/acme/Bunny.class\r\n     .\r\n     .\r\n     .\r\n     WEB-INF/lib/acme.jar\r\n\r\nBoth *Bunny.class* files have import referencing other classes from *acme.jar*\r\n\r\n*Bunny.class* in *WEB-INF/classes/...* is the only class that has the same name/path that a class from *acme.jar*.\r\n \r\nThe *.jar* file *acme.jar* also contains *com.acme.Bunny* (and there are a no special class loader tricks used).\r\n\r\nI understand that the Java spec guarantees that a class won&#39;t be loaded until it is actually used (or &quot;manually class-loaded&quot; on purpose) by the program, which is why if you stuff thousands of .jar, say, in a .war, the classloader(s) don&#39;t start classloading tens of thousands of classes.\r\n\r\n*(edit)*\r\n\r\n&gt; But what about the order in which the\r\n&gt; two classes in the examples above are\r\n&gt; loaded?\r\n\r\nshould have been phrased:\r\n\r\n&gt; But how is it decided which one of the\r\n&gt; two classes above is loaded?\r\n\r\nor something like that :)\r\n\r\nThere&#39;s one guarantee made: *com.acme.Bunny* shall be used before any other class from *com.acme...*.\r\n\r\nBasically, on Wikipedia, the following is written:\r\n\r\n&gt; The most complex JAR hell problems\r\n&gt; arise in circumstances that take\r\n&gt; advantage of the full complexity of\r\n&gt; the classloading system. A Java\r\n&gt; program is not required to use only a\r\n&gt; single &quot;flat&quot; classloader, but instead\r\n&gt; may be composed of several (or, in\r\n&gt; fact, an indefinite number of) nested,\r\n&gt; cooperating classloaders. Classes\r\n&gt; loaded by different classloaders may\r\n&gt; interact in complex ways not fully\r\n&gt; comprehended by a developer, leading\r\n&gt; to inexplicable errors or bugs.\r\n\r\nSo I&#39;m wondering: can I be sure that */classes/com/acme/Bunny.class* will be classloaded before the one from *.jar* inside the *WEB-INF/lib/* dir or not?\r\n\r\n\r\n","title":"Order of class loading from a .war file","body":"<p>I've got a question regarding the guarantees, if any, in the following scenario (note that the question is not <em>\"How to do this in a different way?\"</em>, the question is really about class loading order in the following case (to better understand how class loading works).</p>\n\n<p>Here's the hypothetical scenario... There's a <em>.war</em> file that has the following (partial) directory structure:</p>\n\n<pre><code> WEB-INF/classes/com/acme/Bunny.class\n .\n .\n .\n WEB-INF/lib/acme.jar\n</code></pre>\n\n<p>Both <em>Bunny.class</em> files have import referencing other classes from <em>acme.jar</em></p>\n\n<p><em>Bunny.class</em> in <em>WEB-INF/classes/...</em> is the only class that has the same name/path that a class from <em>acme.jar</em>.</p>\n\n<p>The <em>.jar</em> file <em>acme.jar</em> also contains <em>com.acme.Bunny</em> (and there are a no special class loader tricks used).</p>\n\n<p>I understand that the Java spec guarantees that a class won't be loaded until it is actually used (or \"manually class-loaded\" on purpose) by the program, which is why if you stuff thousands of .jar, say, in a .war, the classloader(s) don't start classloading tens of thousands of classes.</p>\n\n<p><em>(edit)</em></p>\n\n<blockquote>\n  <p>But what about the order in which the\n  two classes in the examples above are\n  loaded?</p>\n</blockquote>\n\n<p>should have been phrased:</p>\n\n<blockquote>\n  <p>But how is it decided which one of the\n  two classes above is loaded?</p>\n</blockquote>\n\n<p>or something like that :)</p>\n\n<p>There's one guarantee made: <em>com.acme.Bunny</em> shall be used before any other class from <em>com.acme...</em>.</p>\n\n<p>Basically, on Wikipedia, the following is written:</p>\n\n<blockquote>\n  <p>The most complex JAR hell problems\n  arise in circumstances that take\n  advantage of the full complexity of\n  the classloading system. A Java\n  program is not required to use only a\n  single \"flat\" classloader, but instead\n  may be composed of several (or, in\n  fact, an indefinite number of) nested,\n  cooperating classloaders. Classes\n  loaded by different classloaders may\n  interact in complex ways not fully\n  comprehended by a developer, leading\n  to inexplicable errors or bugs.</p>\n</blockquote>\n\n<p>So I'm wondering: can I be sure that <em>/classes/com/acme/Bunny.class</em> will be classloaded before the one from <em>.jar</em> inside the <em>WEB-INF/lib/</em> dir or not?</p>\n"},{"tags":["java","networking","web-applications","smb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673905309,"post_id":75139946,"comment_id":132597394,"body_markdown":"Have you tried the same UNC path that you do with your Explorer command?","body":"Have you tried the same UNC path that you do with your Explorer command?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673907521,"creation_date":1673905534,"answer_id":75139996,"question_id":75139946,"body_markdown":"The double slashes are required only after the protocol. Look at the difference here:\r\n\r\n    smb://hostname//folder1//folder2//file1.txt\r\n    smb://hostname/folder1/folder2/file1.txt\r\n\r\nAlso be aware that jcifs is a SMB implementation purely in Java. While the [original jcifs library][1] is no longer maintained (and since  Windows 10 connections based on that old protocol are no longer accepted) be sure to use a more up to date version of the library, such as [jcifs-ng][2].\r\n\r\n\r\n  [1]: https://www.jcifs.org/\r\n  [2]: https://github.com/AgNO3/jcifs-ng","title":"Can see the network share directly, but not from JAVA &gt;&gt; jcifs.smb.SmbException: The network name cannot be found","body":"<p>The double slashes are required only after the protocol. Look at the difference here:</p>\n<pre><code>smb://hostname//folder1//folder2//file1.txt\nsmb://hostname/folder1/folder2/file1.txt\n</code></pre>\n<p>Also be aware that jcifs is a SMB implementation purely in Java. While the <a href=\"https://www.jcifs.org/\" rel=\"nofollow noreferrer\">original jcifs library</a> is no longer maintained (and since  Windows 10 connections based on that old protocol are no longer accepted) be sure to use a more up to date version of the library, such as <a href=\"https://github.com/AgNO3/jcifs-ng\" rel=\"nofollow noreferrer\">jcifs-ng</a>.</p>\n"}],"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673907521,"creation_date":1673905063,"question_id":75139946,"body_markdown":"I can expand the code if needed, but generally this is what is happening\r\n\r\n(from Windows machine)\r\n\r\n    explorer \\\\hostname\\folder1\\folder2\r\n\r\n=&gt; works, I can see the contents\r\n\r\nfrom Java\r\n\r\n    import jcifs.smb.*;\r\n    \r\n    &lt;..snip..&gt;\r\n\r\n    String dest = &quot;smb://hostname//folder1//folder2//file1.txt&quot;;\r\n\r\n    NtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain,username,password);\r\n    SmbFile file = new SmbFile(dest, authentication); \r\n\r\n\r\n**jcifs.smb.SmbException: The network name cannot be found**\r\n\r\nDoes this mean something is not supported? Tried single and double slashes.","title":"Can see the network share directly, but not from JAVA &gt;&gt; jcifs.smb.SmbException: The network name cannot be found","body":"<p>I can expand the code if needed, but generally this is what is happening</p>\n<p>(from Windows machine)</p>\n<pre><code>explorer \\\\hostname\\folder1\\folder2\n</code></pre>\n<p>=&gt; works, I can see the contents</p>\n<p>from Java</p>\n<pre><code>import jcifs.smb.*;\n\n&lt;..snip..&gt;\n\nString dest = &quot;smb://hostname//folder1//folder2//file1.txt&quot;;\n\nNtlmPasswordAuthentication authentication = new NtlmPasswordAuthentication(domain,username,password);\nSmbFile file = new SmbFile(dest, authentication); \n</code></pre>\n<p><strong>jcifs.smb.SmbException: The network name cannot be found</strong></p>\n<p>Does this mean something is not supported? Tried single and double slashes.</p>\n"},{"tags":["java","android","jsoup"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673906999,"creation_date":1673906999,"answer_id":75140166,"question_id":75139748,"body_markdown":"You can use the selector `E ~ F` to get an F element preceded by sibling E for example `h1 ~ p`. Find more about the selector syntax here: [Selector.html][1]\r\n\r\n    String html = &quot;&lt;h3 class=\\&quot;a-header--3\\&quot; id=\\&quot;hm_2\\&quot;&gt;Some text&lt;/h3&gt;\\n&quot;\r\n                  + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;&lt;img src=\\&quot;data:image/gif;base64,R0lGODlhAQ\\&quot;&lt;/img&gt;&lt;/p&gt;\\n&quot;\r\n                  + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\\n&quot;\r\n                  + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\\n&quot;\r\n                  + &quot; &lt;div class=\\&quot;imagelink\\&quot;... &lt;/div&gt;&quot;\r\n                  + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This shall not be included&lt;/p&gt;\\n&quot;;\r\n\r\n    Document doc = Jsoup.parseBodyFragment(html);\r\n    Elements paragraphs = doc.select(&quot;h3[id=hm_2] ~ p&quot;);\r\n    \r\n    System.out.println(paragraphs.size());\r\n    paragraphs.forEach(System.out::println);\r\n\r\n\r\n  [1]: https://jsoup.org/apidocs/org/jsoup/select/Selector.html","title":"JSoup, count elements after a specific tag (h3)","body":"<p>You can use the selector <code>E ~ F</code> to get an F element preceded by sibling E for example <code>h1 ~ p</code>. Find more about the selector syntax here: <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\" rel=\"nofollow noreferrer\">Selector.html</a></p>\n<pre><code>String html = &quot;&lt;h3 class=\\&quot;a-header--3\\&quot; id=\\&quot;hm_2\\&quot;&gt;Some text&lt;/h3&gt;\\n&quot;\n              + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;&lt;img src=\\&quot;data:image/gif;base64,R0lGODlhAQ\\&quot;&lt;/img&gt;&lt;/p&gt;\\n&quot;\n              + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\\n&quot;\n              + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\\n&quot;\n              + &quot; &lt;div class=\\&quot;imagelink\\&quot;... &lt;/div&gt;&quot;\n              + &quot; &lt;p class=\\&quot;a-paragraph\\&quot;&gt;This shall not be included&lt;/p&gt;\\n&quot;;\n\nDocument doc = Jsoup.parseBodyFragment(html);\nElements paragraphs = doc.select(&quot;h3[id=hm_2] ~ p&quot;);\n\nSystem.out.println(paragraphs.size());\nparagraphs.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":7516569,"reputation":1711,"user_id":5709810,"accept_rate":58,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75140166,"answer_count":1,"score":1,"last_activity_date":1673906999,"creation_date":1673903556,"question_id":75139748,"body_markdown":"I need to know the size of all the p elements after the h3[id=hm_2] tag.\r\nIs there a way to accomplish that? \r\n\r\nAs this is not working, result should be 3.\r\nMany thx in advance.\r\n\r\nHere is my piece of code:\r\n\r\n      for (Element tag : doc.select(&quot;div.archive-style-wrapper&quot;)) {\r\n        Elements headCat1 = tag.getElementsByTag(&quot;h3&quot;);\r\n          for (Element headline : headCat1) {\r\n             Elements importantLinks = headline.getElementsByTag(&quot;p&quot;);\r\n             Log.w(&quot;result&quot;, String.valueOf(importantLinks.size()));\r\n         }\r\n      }\r\n\r\nHTML code piece involved:\r\n\r\n     &lt;h3 class=&quot;a-header--3&quot; id=&quot;hm_2&quot;&gt;Some text&lt;/h3&gt;\r\n     &lt;p class=&quot;a-paragraph&quot;&gt;&lt;img src=&quot;data:image/gif;base64,R0lGODlhAQ&quot;&lt;/img&gt;&lt;/p&gt;\r\n     &lt;p class=&quot;a-paragraph&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\r\n     &lt;p class=&quot;a-paragraph&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\r\n     &lt;div class=&quot;imagelink&quot;... &lt;/div&gt;","title":"JSoup, count elements after a specific tag (h3)","body":"<p>I need to know the size of all the p elements after the h3[id=hm_2] tag.\nIs there a way to accomplish that?</p>\n<p>As this is not working, result should be 3.\nMany thx in advance.</p>\n<p>Here is my piece of code:</p>\n<pre><code>  for (Element tag : doc.select(&quot;div.archive-style-wrapper&quot;)) {\n    Elements headCat1 = tag.getElementsByTag(&quot;h3&quot;);\n      for (Element headline : headCat1) {\n         Elements importantLinks = headline.getElementsByTag(&quot;p&quot;);\n         Log.w(&quot;result&quot;, String.valueOf(importantLinks.size()));\n     }\n  }\n</code></pre>\n<p>HTML code piece involved:</p>\n<pre><code> &lt;h3 class=&quot;a-header--3&quot; id=&quot;hm_2&quot;&gt;Some text&lt;/h3&gt;\n &lt;p class=&quot;a-paragraph&quot;&gt;&lt;img src=&quot;data:image/gif;base64,R0lGODlhAQ&quot;&lt;/img&gt;&lt;/p&gt;\n &lt;p class=&quot;a-paragraph&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\n &lt;p class=&quot;a-paragraph&quot;&gt;This new event quest, brought to us by&lt;/p&gt;\n &lt;div class=&quot;imagelink&quot;... &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673904047,"creation_date":1673904047,"answer_id":75139810,"question_id":75139434,"body_markdown":"You should use method **authorObj.toString()** instead of method authorObj.asText()\r\n\r\nWorking example:\r\n\r\n     public class Example {\r\n    \r\n        public static void main(String[] args) throws JsonProcessingException {\r\n            String input = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;process\\&quot;: \\&quot;create\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;processDescription\\&quot;: \\&quot;some description\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;book\\&quot;: {\\n&quot; +\r\n                &quot;    \\&quot;id\\&quot;: \\&quot;some unique id\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;bookName\\&quot;: \\&quot;some name\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;bookISBN\\&quot;: \\&quot;some number\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;bookDesc\\&quot;: \\&quot;some description\\&quot;,    \\n&quot; +\r\n                &quot;    \\&quot;author\\&quot;: {\\n&quot; +\r\n                &quot;      \\&quot;id\\&quot;: \\&quot;a different ID\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;firstName\\&quot;: \\&quot;some name\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;lastName\\&quot;: \\&quot;some description\\&quot;\\n&quot; +\r\n                &quot;    },\\n&quot; +\r\n                &quot;    \\&quot;timestampUpdated\\&quot;: null,\\n&quot; +\r\n                &quot;    \\&quot;timestampCreated\\&quot;: 1672753599223,\\n&quot; +\r\n                &quot;    \\&quot;createdByUser\\&quot;: \\&quot;Jane Doe\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;updatedByUser\\&quot;: null\\n&quot; +\r\n                &quot;  },\\n&quot; +\r\n                &quot;  \\&quot;someField\\&quot;: \\&quot;some data\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;anotherField\\&quot;: \\&quot;more data\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n    \r\n    \r\n            JsonNode jsonObject = new ObjectMapper().readTree(input);\r\n            JsonNode bookObj = jsonObject.get(&quot;book&quot;);\r\n            JsonNode authorObj = bookObj.get(&quot;author&quot;);\r\n    \r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            AuthorClass authorClass = objectMapper.readValue(authorObj.toString(), AuthorClass.class);\r\n            System.out.println(authorClass.getFirstName());\r\n        }\r\n    }\r\n\r\n    class AuthorClass {\r\n        private String firstName;\r\n        private String lastName;\r\n        private String id;\r\n    \r\n        public AuthorClass() {\r\n        }\r\n    \r\n        public AuthorClass(String firstName, String lastName, String id) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    }","title":"Spring Boot parse nested json into separate objects","body":"<p>You should use method <strong>authorObj.toString()</strong> instead of method authorObj.asText()</p>\n<p>Working example:</p>\n<pre><code> public class Example {\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String input = &quot;{\\n&quot; +\n            &quot;  \\&quot;process\\&quot;: \\&quot;create\\&quot;,\\n&quot; +\n            &quot;  \\&quot;processDescription\\&quot;: \\&quot;some description\\&quot;,\\n&quot; +\n            &quot;  \\&quot;book\\&quot;: {\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: \\&quot;some unique id\\&quot;,\\n&quot; +\n            &quot;    \\&quot;bookName\\&quot;: \\&quot;some name\\&quot;,\\n&quot; +\n            &quot;    \\&quot;bookISBN\\&quot;: \\&quot;some number\\&quot;,\\n&quot; +\n            &quot;    \\&quot;bookDesc\\&quot;: \\&quot;some description\\&quot;,    \\n&quot; +\n            &quot;    \\&quot;author\\&quot;: {\\n&quot; +\n            &quot;      \\&quot;id\\&quot;: \\&quot;a different ID\\&quot;,\\n&quot; +\n            &quot;      \\&quot;firstName\\&quot;: \\&quot;some name\\&quot;,\\n&quot; +\n            &quot;      \\&quot;lastName\\&quot;: \\&quot;some description\\&quot;\\n&quot; +\n            &quot;    },\\n&quot; +\n            &quot;    \\&quot;timestampUpdated\\&quot;: null,\\n&quot; +\n            &quot;    \\&quot;timestampCreated\\&quot;: 1672753599223,\\n&quot; +\n            &quot;    \\&quot;createdByUser\\&quot;: \\&quot;Jane Doe\\&quot;,\\n&quot; +\n            &quot;    \\&quot;updatedByUser\\&quot;: null\\n&quot; +\n            &quot;  },\\n&quot; +\n            &quot;  \\&quot;someField\\&quot;: \\&quot;some data\\&quot;,\\n&quot; +\n            &quot;  \\&quot;anotherField\\&quot;: \\&quot;more data\\&quot;\\n&quot; +\n            &quot;}&quot;;\n\n\n        JsonNode jsonObject = new ObjectMapper().readTree(input);\n        JsonNode bookObj = jsonObject.get(&quot;book&quot;);\n        JsonNode authorObj = bookObj.get(&quot;author&quot;);\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        AuthorClass authorClass = objectMapper.readValue(authorObj.toString(), AuthorClass.class);\n        System.out.println(authorClass.getFirstName());\n    }\n}\n\nclass AuthorClass {\n    private String firstName;\n    private String lastName;\n    private String id;\n\n    public AuthorClass() {\n    }\n\n    public AuthorClass(String firstName, String lastName, String id) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.id = id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673905353,"creation_date":1673904683,"answer_id":75139887,"question_id":75139434,"body_markdown":"To deserialize just a nested part of a json file you can convert your json file to a `JsonNode` object and use the [`JsonNode#at`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/JsonNode.html#at-com.fasterxml.jackson.core.JsonPointer-) method:\r\n\r\n~~~\r\n//jsonnode is equal to\r\n//{&quot;id&quot;:&quot;a different ID&quot;,&quot;firstName&quot;:&quot;some name&quot;,&quot;lastName&quot;:&quot;some description&quot;}\r\nJsonNode authornode = mapper.readTree(json).at(&quot;/book/author&quot;);      \r\n~~~\r\n\r\nThen you can convert the `JsonNode` object to a `AuthorClass` object with the [`treeToValue`](https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-) method:\r\n\r\n~~~\r\n@Data\r\npublic class AuthorClass {\r\n    private String id;\r\n    private String firstName;\r\n    private String lastName;\r\n}\r\n\r\nJsonNode authornode = mapper.readTree(json).at(&quot;/book/author&quot;);\r\nAuthorClass author = mapper.treeToValue(authornode, AuthorClass.class);\r\n//it prints\r\n//AuthorClass(id=a different ID, firstName=some name, lastName=some description)\r\nSystem.out.print(author);\r\n~~~","title":"Spring Boot parse nested json into separate objects","body":"<p>To deserialize just a nested part of a json file you can convert your json file to a <code>JsonNode</code> object and use the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/JsonNode.html#at-com.fasterxml.jackson.core.JsonPointer-\" rel=\"nofollow noreferrer\"><code>JsonNode#at</code></a> method:</p>\n<pre><code>//jsonnode is equal to\n//{&quot;id&quot;:&quot;a different ID&quot;,&quot;firstName&quot;:&quot;some name&quot;,&quot;lastName&quot;:&quot;some description&quot;}\nJsonNode authornode = mapper.readTree(json).at(&quot;/book/author&quot;);      \n</code></pre>\n<p>Then you can convert the <code>JsonNode</code> object to a <code>AuthorClass</code> object with the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.14/com/fasterxml/jackson/databind/ObjectMapper.html#treeToValue-com.fasterxml.jackson.core.TreeNode-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>treeToValue</code></a> method:</p>\n<pre><code>@Data\npublic class AuthorClass {\n    private String id;\n    private String firstName;\n    private String lastName;\n}\n\nJsonNode authornode = mapper.readTree(json).at(&quot;/book/author&quot;);\nAuthorClass author = mapper.treeToValue(authornode, AuthorClass.class);\n//it prints\n//AuthorClass(id=a different ID, firstName=some name, lastName=some description)\nSystem.out.print(author);\n</code></pre>\n"}],"owner":{"account_id":86444,"reputation":3523,"user_id":240385,"accept_rate":75,"display_name":"jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75139810,"answer_count":2,"score":0,"last_activity_date":1673905353,"creation_date":1673901516,"question_id":75139434,"body_markdown":"I have a json object that has nested objects, like this:\r\n\r\n    {\r\n      &quot;process&quot;: &quot;create&quot;,\r\n      &quot;processDescription&quot;: &quot;some description&quot;,\r\n      &quot;book&quot;: {\r\n        &quot;id&quot;: &quot;some unique id&quot;,\r\n        &quot;bookName&quot;: &quot;some name&quot;,\r\n        &quot;bookISBN&quot;: &quot;some number&quot;,\r\n        &quot;bookDesc&quot;: &quot;some description&quot;,    \r\n        &quot;author&quot;: {\r\n          &quot;id&quot;: &quot;a different ID&quot;,\r\n          &quot;firstName&quot;: &quot;some name&quot;,\r\n          &quot;lastName&quot;: &quot;some description&quot;\r\n        },\r\n        &quot;timestampUpdated&quot;: null,\r\n        &quot;timestampCreated&quot;: 1672753599223,\r\n        &quot;createdByUser&quot;: &quot;Jane Doe&quot;,\r\n        &quot;updatedByUser&quot;: null\r\n      },\r\n      &quot;someField&quot;: &quot;some data&quot;,\r\n      &quot;anotherField&quot;: &quot;more data&quot;\r\n    }\r\n\r\nIn this example, I am only concerned with the &quot;book&quot; object and the &quot;author&quot; object.  So, I have Java Classes for both of them.  I&#39;ve tried to read in the json string like this:\r\n\r\n    JsonNode jsonObject = new ObjectMapper().readTree(jsonString);\r\n    JsonNode bookObj = jsonObject.get(&quot;book&quot;);\r\n    JsonNode authorObj = bookObj.get(&quot;author&quot;);\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    AuthorClass = objectMapper.readValue(authorObj.asText(), AuthorClass .class);\r\n\r\n\r\nbut this causes an error:  \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: No\r\n&gt; content to map due to end-of-input  at [Source: (String)&quot;&quot;; line: 1,\r\n&gt; column: 0]\r\n\r\n","title":"Spring Boot parse nested json into separate objects","body":"<p>I have a json object that has nested objects, like this:</p>\n<pre><code>{\n  &quot;process&quot;: &quot;create&quot;,\n  &quot;processDescription&quot;: &quot;some description&quot;,\n  &quot;book&quot;: {\n    &quot;id&quot;: &quot;some unique id&quot;,\n    &quot;bookName&quot;: &quot;some name&quot;,\n    &quot;bookISBN&quot;: &quot;some number&quot;,\n    &quot;bookDesc&quot;: &quot;some description&quot;,    \n    &quot;author&quot;: {\n      &quot;id&quot;: &quot;a different ID&quot;,\n      &quot;firstName&quot;: &quot;some name&quot;,\n      &quot;lastName&quot;: &quot;some description&quot;\n    },\n    &quot;timestampUpdated&quot;: null,\n    &quot;timestampCreated&quot;: 1672753599223,\n    &quot;createdByUser&quot;: &quot;Jane Doe&quot;,\n    &quot;updatedByUser&quot;: null\n  },\n  &quot;someField&quot;: &quot;some data&quot;,\n  &quot;anotherField&quot;: &quot;more data&quot;\n}\n</code></pre>\n<p>In this example, I am only concerned with the &quot;book&quot; object and the &quot;author&quot; object.  So, I have Java Classes for both of them.  I've tried to read in the json string like this:</p>\n<pre><code>JsonNode jsonObject = new ObjectMapper().readTree(jsonString);\nJsonNode bookObj = jsonObject.get(&quot;book&quot;);\nJsonNode authorObj = bookObj.get(&quot;author&quot;);\n\nObjectMapper objectMapper = new ObjectMapper();\nAuthorClass = objectMapper.readValue(authorObj.asText(), AuthorClass .class);\n</code></pre>\n<p>but this causes an error:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: No\ncontent to map due to end-of-input  at [Source: (String)&quot;&quot;; line: 1,\ncolumn: 0]</p>\n</blockquote>\n"},{"tags":["java","sqlite","crash","syntax-error"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1673904175,"post_id":75139720,"comment_id":132597093,"body_markdown":"You did not post the code that throws the error.","body":"You did not post the code that throws the error."},{"owner":{"account_id":27546762,"reputation":1,"user_id":21022572,"display_name":"The NXP"},"score":0,"creation_date":1673904898,"post_id":75139720,"comment_id":132597282,"body_markdown":"Yes. My bad. Attached it now with more explanation of crash.","body":"Yes. My bad. Attached it now with more explanation of crash."}],"answers":[{"tags":[],"owner":{"account_id":26125117,"reputation":1,"user_id":19816670,"display_name":"Bgod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673905311,"creation_date":1673905285,"answer_id":75139970,"question_id":75139720,"body_markdown":"The specific error is that the syntax near &quot;myTableOfClothes&quot; is incorrect. It seems like you are trying to create a table with that name but it doesn&#39;t exist in the code you shared, it seems like the table name may be misspelled, or it&#39;s not the correct table name that you are trying to create.\r\n\r\nPlease check the name of the table you are trying to create, and also check if you are using the correct SQL statement for creating the table.\r\nIn the code you&#39;ve shared, the table is called &quot;clothesMyTable&quot; in the MyDataBaseContract class and the statement to create it is called CLOTHE_TABLE_STRUCTURE.\r\n\r\nAlso, ensure that the table is not already created and you are trying to create it again, if so you should drop it first before creating it again with the DROP_CLOTHE_TABLE statement.\r\n\r\nIt&#39;s also important to note that, if you are using hardcoded string literals in your SQL statements, make sure that you are using the correct table and column names.\r\n\r\npublic static final String CLOTHE_TABLE_NAME = &quot;clothesMyTable&quot;;\r\n\r\npublic static final String CLOTHE_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n                CLOTHE_TABLE_NAME + &quot; (&quot; + CLOTHE_ID + &quot; INTEGER PRIMARY KEY,&quot; + CLOTHE_COLOUR + &quot; TEXT,&quot; +\r\n                CLOTHE_WARMTH + &quot; TEXT,&quot; + CLOTHE_TYPE + &quot; TEXT,&quot; + CLOTHE_NAME + &quot; TEXT,&quot; +  CLOTHE_IMAGE_INDEX + &quot; TEXT,&quot; +\r\n                CLOTHE_OWNER_ID + &quot; TEXT)&quot;;\r\n\r\n\r\nAlso, you need to update the table name everywhere it&#39;s used in the code to match the correct table name.\r\n\r\nAdditionally, make sure you are using the correct SQL\r\n","title":"SQLite syntax error code 1, tried to fix but fixes doesn&#39;t helped","body":"<p>The specific error is that the syntax near &quot;myTableOfClothes&quot; is incorrect. It seems like you are trying to create a table with that name but it doesn't exist in the code you shared, it seems like the table name may be misspelled, or it's not the correct table name that you are trying to create.</p>\n<p>Please check the name of the table you are trying to create, and also check if you are using the correct SQL statement for creating the table.\nIn the code you've shared, the table is called &quot;clothesMyTable&quot; in the MyDataBaseContract class and the statement to create it is called CLOTHE_TABLE_STRUCTURE.</p>\n<p>Also, ensure that the table is not already created and you are trying to create it again, if so you should drop it first before creating it again with the DROP_CLOTHE_TABLE statement.</p>\n<p>It's also important to note that, if you are using hardcoded string literals in your SQL statements, make sure that you are using the correct table and column names.</p>\n<p>public static final String CLOTHE_TABLE_NAME = &quot;clothesMyTable&quot;;</p>\n<p>public static final String CLOTHE_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\nCLOTHE_TABLE_NAME + &quot; (&quot; + CLOTHE_ID + &quot; INTEGER PRIMARY KEY,&quot; + CLOTHE_COLOUR + &quot; TEXT,&quot; +\nCLOTHE_WARMTH + &quot; TEXT,&quot; + CLOTHE_TYPE + &quot; TEXT,&quot; + CLOTHE_NAME + &quot; TEXT,&quot; +  CLOTHE_IMAGE_INDEX + &quot; TEXT,&quot; +\nCLOTHE_OWNER_ID + &quot; TEXT)&quot;;</p>\n<p>Also, you need to update the table name everywhere it's used in the code to match the correct table name.</p>\n<p>Additionally, make sure you are using the correct SQL</p>\n"}],"owner":{"account_id":27546762,"reputation":1,"user_id":21022572,"display_name":"The NXP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673905311,"creation_date":1673903345,"question_id":75139720,"body_markdown":"Build is successful, but app crashes with error attached below when I try to open my database via `myDataBaseManager.openDataBase()`\r\n&lt;!-- language-all: lang-java--&gt;\r\nThere is an crash log:\r\n````\r\nFATAL EXCEPTION: \r\nmain Process: com.example.smartwardrobe, PID: 9535                                                                                                 \r\njava.lang.RuntimeException: Unable to resume activity \r\n{com.example.smartwardrobe/com.example.smartwardrobe.LoginActivity}: \r\nandroid.database.sqlite.SQLiteException: near &quot;myTableOfClothes&quot;: syntax \r\nerror (code 1 SQLITE_ERROR): , while compiling: myTableOfClothes\r\n````\r\nAnd there is a class with construction of database:\r\n\r\n````\r\n   \r\n    public final class MyDataBaseContract {\r\n        public static final String USER_TABLE_NAME = &quot;usersMyTable&quot;;\r\n        public static final String USER_ID = &quot;userID&quot;;\r\n        public static final String USER_LOGIN = &quot;login&quot;;\r\n        public static final String USER_PASSWORD = &quot;password&quot;;\r\n\r\n        public static final String CLOTHE_TABLE_NAME = &quot;clothesMyTable&quot;;\r\n        public static final String CLOTHE_COLOUR = &quot;clothe_Colour&quot;;\r\n        public static final String CLOTHE_WARMTH = &quot;clotheWarmth&quot;;\r\n        public static final String CLOTHE_TYPE = &quot;clotheType&quot;;\r\n        public static final String CLOTHE_NAME = &quot;clotheName&quot;;\r\n        public static final String CLOTHE_IMAGE_INDEX = &quot;clotheImageIndex&quot;;\r\n        public static final String CLOTHE_OWNER_ID = &quot;ownerId&quot;;\r\n        public static final String CLOTHE_ID = &quot;clotheID&quot;;\r\n\r\n        public static final String DATABASE_NAME = &quot;wardrobeDatabase.db&quot;;\r\n        public static final int DB_VERSION = 1;\r\n\r\n        public static final String USER_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n                USER_TABLE_NAME + &quot; (&quot; + USER_ID + &quot; INTEGER PRIMARY KEY,&quot; + USER_LOGIN + &quot; TEXT,&quot; +\r\n                USER_PASSWORD + &quot; TEXT)&quot;;\r\n        public static final String CLOTHE_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\r\n                CLOTHE_TABLE_NAME + &quot; (&quot; + CLOTHE_ID + &quot; INTEGER PRIMARY KEY,&quot; + CLOTHE_COLOUR + &quot; TEXT,&quot; +\r\n                CLOTHE_WARMTH + &quot; TEXT,&quot; + CLOTHE_TYPE + &quot; TEXT,&quot; + CLOTHE_NAME + &quot; TEXT,&quot; +  CLOTHE_IMAGE_INDEX + &quot; TEXT,&quot; +\r\n                CLOTHE_OWNER_ID + &quot; TEXT)&quot;;\r\n\r\n        public static final String DROP_CLOTHE_TABLE = &quot;DROP TABLE IF EXIST &quot; + CLOTHE_TABLE_NAME;\r\n        public static final String DROP_USER_TABLE = &quot;DROP TABLE IF EXIST &quot; + USER_TABLE_NAME;\r\n    }\r\n````\r\n\r\nThere is a MyDataBaseManager class:\r\n````\r\n@SuppressLint(&quot;Range&quot;)\r\npublic class MyDataBaseManager {\r\n    private Context context;\r\n    private MyDataBaseHelper myDataBaseHelper;\r\n    private SQLiteDatabase database;\r\n\r\n    public MyDataBaseManager(Context context) {\r\n        this.context = context;\r\n        myDataBaseHelper = new MyDataBaseHelper(context);\r\n    }\r\n\r\n    public void openDataBase(){\r\n        database = myDataBaseHelper.getWritableDatabase();\r\n    }\r\n\r\n    public void closeDataBase(){\r\n        myDataBaseHelper.close();\r\n    }\r\n\r\n    public void insertUserToUserDataBase(String login, String password){\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(MyDataBaseContract.USER_LOGIN, login);\r\n        cv.put(MyDataBaseContract.USER_PASSWORD, password);\r\n        database.insert(MyDataBaseContract.USER_TABLE_NAME, null, cv);\r\n    }\r\n\r\n    public void insertClotheToClotheDatabase(String type, String warmth, String colour,\r\n                                             String name, int ownerId){\r\n        ContentValues cv = new ContentValues();\r\n        cv.put(MyDataBaseContract.CLOTHE_TYPE, type);\r\n        cv.put(MyDataBaseContract.CLOTHE_WARMTH, warmth);\r\n        cv.put(MyDataBaseContract.CLOTHE_COLOUR, colour);\r\n        cv.put(MyDataBaseContract.CLOTHE_NAME, name);\r\n        cv.put(MyDataBaseContract.CLOTHE_OWNER_ID, ownerId);\r\n        database.insert(MyDataBaseContract.CLOTHE_TABLE_NAME, null, cv);\r\n    }\r\n\r\n\r\n    public ArrayList&lt;Clothe&gt; getAllClothesByOwnerId(int ownerId){\r\n        Cursor cursor = database.query(MyDataBaseContract.CLOTHE_TABLE_NAME,\r\n                null, null, null,\r\n                null, null, null);\r\n        ArrayList&lt;Clothe&gt; clothes = new ArrayList&lt;&gt;();\r\n\r\n        while (cursor.moveToNext()){\r\n            if(ownerId == cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_OWNER_ID))){\r\n                Clothe clothe = new Clothe(\r\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_ID)),//Clothe ID\r\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_WARMTH)), //Clothe warmth\r\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_TYPE)), // Clothe type\r\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_COLOUR)), //Clothe colour\r\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_NAME)), //Clothe name\r\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_OWNER_ID))); //Owner ID\r\n                clothes.add(clothe);\r\n            }\r\n\r\n        }\r\n        cursor.close();\r\n        return clothes;\r\n    }\r\n\r\n    public boolean doesLoginExist(String login){\r\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\r\n                null, null, null,\r\n                null, null, null);\r\n        while (cursor.moveToNext()){\r\n            if(login.equals(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN))))\r\n            {\r\n                cursor.close();\r\n                return true;\r\n            };\r\n        }\r\n        cursor.close();\r\n        return false;\r\n    }\r\n\r\n    public User getUserByLogin(String login){\r\n        if (!doesLoginExist(login)) return null;\r\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\r\n                null, null, null,\r\n                null, null, null);\r\n        while (cursor.moveToNext()){\r\n            if(login.equals(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN)))){\r\n                User user = new User(login, cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_PASSWORD)),\r\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID)));\r\n                cursor.close();\r\n                return user;\r\n\r\n            }\r\n        }\r\n        cursor.close();\r\n        return null;\r\n    }\r\n\r\n    public User getUserByID(int userID){\r\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\r\n                null, null, null,\r\n                null, null, null);\r\n        while (cursor.moveToNext()){\r\n            if (userID == cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID))){\r\n                User user = new User(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN)),\r\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_PASSWORD)),\r\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID)));\r\n                cursor.close();\r\n                return user;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n}\r\n````\r\n\r\nAlso, there is a class with usage of `myDataBaseManager.openDataBase()`:\r\n````\r\npublic class LoginActivity extends AppCompatActivity {\r\n    private MyDataBaseManager myDataBaseManager;\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        //Buttons\r\n        Button btn_login = findViewById(R.id.btn_LoginPage_SignIn);\r\n        Button btn_register = findViewById(R.id.btn_LoginPage_OpenRegisterDialog);\r\n        //Edit Texts\r\n        EditText et_login = findViewById(R.id.et_LoginPage_Login);\r\n        EditText et_password = findViewById(R.id.et_LoginPage_Password);\r\n        //Other\r\n        myDataBaseManager = new MyDataBaseManager(this);\r\n        Activity activity = this;\r\n\r\n        btn_register.setOnClickListener(v -&gt; startRegistration(activity, myDataBaseManager));\r\n\r\n        btn_login.setOnClickListener(v -&gt; {\r\n            String login = et_login.getText().toString();\r\n            if (myDataBaseManager.doesLoginExist(login)){\r\n                User tempUser = myDataBaseManager.getUserByLogin(login);\r\n                String password = et_password.getText().toString();\r\n                if(tempUser.getPassword().equals(password)){\r\n                    Intent intent = new Intent(activity, MainActivity.class);\r\n                    intent.putExtra(&quot;UserID&quot;, tempUser.getUserID());\r\n                    startActivity(intent);\r\n                    myDataBaseManager.closeDataBase();\r\n                    finishActivity(0);\r\n                }\r\n                else\r\n                    Toast.makeText(activity, &quot;Password is incorrect. Check it and try again&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else Toast.makeText(activity, &quot;User with this login does not exist. Sign up!(^_^)&quot;, Toast.LENGTH_SHORT).show();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n       super.onResume();\r\n       myDataBaseManager.openDataBase();\r\n    }\r\n````\r\n\r\n\r\nI checked my code few times in searching the error in syntaxis of database or error in other classes, but hadn&#39;t find anything. \r\n\r\nAdditional information:\r\nVirtual device: Pixel 6 pro API 33","title":"SQLite syntax error code 1, tried to fix but fixes doesn&#39;t helped","body":"<p>Build is successful, but app crashes with error attached below when I try to open my database via <code>myDataBaseManager.openDataBase()</code></p>\n\n<p>There is an crash log:</p>\n<pre><code>FATAL EXCEPTION: \nmain Process: com.example.smartwardrobe, PID: 9535                                                                                                 \njava.lang.RuntimeException: Unable to resume activity \n{com.example.smartwardrobe/com.example.smartwardrobe.LoginActivity}: \nandroid.database.sqlite.SQLiteException: near &quot;myTableOfClothes&quot;: syntax \nerror (code 1 SQLITE_ERROR): , while compiling: myTableOfClothes\n</code></pre>\n<p>And there is a class with construction of database:</p>\n<pre><code>   \n    public final class MyDataBaseContract {\n        public static final String USER_TABLE_NAME = &quot;usersMyTable&quot;;\n        public static final String USER_ID = &quot;userID&quot;;\n        public static final String USER_LOGIN = &quot;login&quot;;\n        public static final String USER_PASSWORD = &quot;password&quot;;\n\n        public static final String CLOTHE_TABLE_NAME = &quot;clothesMyTable&quot;;\n        public static final String CLOTHE_COLOUR = &quot;clothe_Colour&quot;;\n        public static final String CLOTHE_WARMTH = &quot;clotheWarmth&quot;;\n        public static final String CLOTHE_TYPE = &quot;clotheType&quot;;\n        public static final String CLOTHE_NAME = &quot;clotheName&quot;;\n        public static final String CLOTHE_IMAGE_INDEX = &quot;clotheImageIndex&quot;;\n        public static final String CLOTHE_OWNER_ID = &quot;ownerId&quot;;\n        public static final String CLOTHE_ID = &quot;clotheID&quot;;\n\n        public static final String DATABASE_NAME = &quot;wardrobeDatabase.db&quot;;\n        public static final int DB_VERSION = 1;\n\n        public static final String USER_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\n                USER_TABLE_NAME + &quot; (&quot; + USER_ID + &quot; INTEGER PRIMARY KEY,&quot; + USER_LOGIN + &quot; TEXT,&quot; +\n                USER_PASSWORD + &quot; TEXT)&quot;;\n        public static final String CLOTHE_TABLE_STRUCTURE = &quot;CREATE TABLE IF NOT EXISTS &quot; +\n                CLOTHE_TABLE_NAME + &quot; (&quot; + CLOTHE_ID + &quot; INTEGER PRIMARY KEY,&quot; + CLOTHE_COLOUR + &quot; TEXT,&quot; +\n                CLOTHE_WARMTH + &quot; TEXT,&quot; + CLOTHE_TYPE + &quot; TEXT,&quot; + CLOTHE_NAME + &quot; TEXT,&quot; +  CLOTHE_IMAGE_INDEX + &quot; TEXT,&quot; +\n                CLOTHE_OWNER_ID + &quot; TEXT)&quot;;\n\n        public static final String DROP_CLOTHE_TABLE = &quot;DROP TABLE IF EXIST &quot; + CLOTHE_TABLE_NAME;\n        public static final String DROP_USER_TABLE = &quot;DROP TABLE IF EXIST &quot; + USER_TABLE_NAME;\n    }\n</code></pre>\n<p>There is a MyDataBaseManager class:</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\npublic class MyDataBaseManager {\n    private Context context;\n    private MyDataBaseHelper myDataBaseHelper;\n    private SQLiteDatabase database;\n\n    public MyDataBaseManager(Context context) {\n        this.context = context;\n        myDataBaseHelper = new MyDataBaseHelper(context);\n    }\n\n    public void openDataBase(){\n        database = myDataBaseHelper.getWritableDatabase();\n    }\n\n    public void closeDataBase(){\n        myDataBaseHelper.close();\n    }\n\n    public void insertUserToUserDataBase(String login, String password){\n        ContentValues cv = new ContentValues();\n        cv.put(MyDataBaseContract.USER_LOGIN, login);\n        cv.put(MyDataBaseContract.USER_PASSWORD, password);\n        database.insert(MyDataBaseContract.USER_TABLE_NAME, null, cv);\n    }\n\n    public void insertClotheToClotheDatabase(String type, String warmth, String colour,\n                                             String name, int ownerId){\n        ContentValues cv = new ContentValues();\n        cv.put(MyDataBaseContract.CLOTHE_TYPE, type);\n        cv.put(MyDataBaseContract.CLOTHE_WARMTH, warmth);\n        cv.put(MyDataBaseContract.CLOTHE_COLOUR, colour);\n        cv.put(MyDataBaseContract.CLOTHE_NAME, name);\n        cv.put(MyDataBaseContract.CLOTHE_OWNER_ID, ownerId);\n        database.insert(MyDataBaseContract.CLOTHE_TABLE_NAME, null, cv);\n    }\n\n\n    public ArrayList&lt;Clothe&gt; getAllClothesByOwnerId(int ownerId){\n        Cursor cursor = database.query(MyDataBaseContract.CLOTHE_TABLE_NAME,\n                null, null, null,\n                null, null, null);\n        ArrayList&lt;Clothe&gt; clothes = new ArrayList&lt;&gt;();\n\n        while (cursor.moveToNext()){\n            if(ownerId == cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_OWNER_ID))){\n                Clothe clothe = new Clothe(\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_ID)),//Clothe ID\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_WARMTH)), //Clothe warmth\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_TYPE)), // Clothe type\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_COLOUR)), //Clothe colour\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_NAME)), //Clothe name\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.CLOTHE_OWNER_ID))); //Owner ID\n                clothes.add(clothe);\n            }\n\n        }\n        cursor.close();\n        return clothes;\n    }\n\n    public boolean doesLoginExist(String login){\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\n                null, null, null,\n                null, null, null);\n        while (cursor.moveToNext()){\n            if(login.equals(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN))))\n            {\n                cursor.close();\n                return true;\n            };\n        }\n        cursor.close();\n        return false;\n    }\n\n    public User getUserByLogin(String login){\n        if (!doesLoginExist(login)) return null;\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\n                null, null, null,\n                null, null, null);\n        while (cursor.moveToNext()){\n            if(login.equals(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN)))){\n                User user = new User(login, cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_PASSWORD)),\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID)));\n                cursor.close();\n                return user;\n\n            }\n        }\n        cursor.close();\n        return null;\n    }\n\n    public User getUserByID(int userID){\n        Cursor cursor = database.query(MyDataBaseContract.USER_TABLE_NAME,\n                null, null, null,\n                null, null, null);\n        while (cursor.moveToNext()){\n            if (userID == cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID))){\n                User user = new User(cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_LOGIN)),\n                        cursor.getString(cursor.getColumnIndex(MyDataBaseContract.USER_PASSWORD)),\n                        cursor.getInt(cursor.getColumnIndex(MyDataBaseContract.USER_ID)));\n                cursor.close();\n                return user;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Also, there is a class with usage of <code>myDataBaseManager.openDataBase()</code>:</p>\n<pre><code>public class LoginActivity extends AppCompatActivity {\n    private MyDataBaseManager myDataBaseManager;\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n\n        //Buttons\n        Button btn_login = findViewById(R.id.btn_LoginPage_SignIn);\n        Button btn_register = findViewById(R.id.btn_LoginPage_OpenRegisterDialog);\n        //Edit Texts\n        EditText et_login = findViewById(R.id.et_LoginPage_Login);\n        EditText et_password = findViewById(R.id.et_LoginPage_Password);\n        //Other\n        myDataBaseManager = new MyDataBaseManager(this);\n        Activity activity = this;\n\n        btn_register.setOnClickListener(v -&gt; startRegistration(activity, myDataBaseManager));\n\n        btn_login.setOnClickListener(v -&gt; {\n            String login = et_login.getText().toString();\n            if (myDataBaseManager.doesLoginExist(login)){\n                User tempUser = myDataBaseManager.getUserByLogin(login);\n                String password = et_password.getText().toString();\n                if(tempUser.getPassword().equals(password)){\n                    Intent intent = new Intent(activity, MainActivity.class);\n                    intent.putExtra(&quot;UserID&quot;, tempUser.getUserID());\n                    startActivity(intent);\n                    myDataBaseManager.closeDataBase();\n                    finishActivity(0);\n                }\n                else\n                    Toast.makeText(activity, &quot;Password is incorrect. Check it and try again&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else Toast.makeText(activity, &quot;User with this login does not exist. Sign up!(^_^)&quot;, Toast.LENGTH_SHORT).show();\n        });\n    }\n\n    @Override\n    protected void onResume() {\n       super.onResume();\n       myDataBaseManager.openDataBase();\n    }\n</code></pre>\n<p>I checked my code few times in searching the error in syntaxis of database or error in other classes, but hadn't find anything.</p>\n<p>Additional information:\nVirtual device: Pixel 6 pro API 33</p>\n"},{"tags":["java","spring-boot","spring-mvc","tomcat"],"owner":{"account_id":5352573,"reputation":673,"user_id":4266296,"display_name":"fap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673903994,"creation_date":1673903994,"question_id":75139803,"body_markdown":"Spring Boot supports persistent sessions through the configuration property\r\n\r\n    server.servlet.session.persistent=true\r\n\r\nThis makes sure that Tomcat persists the current sessions to disk and loads them again on a server restart.\r\n\r\nI want to have the sessions loaded from disk available in the `SessionRegistry`.\r\nThis behavior is not provided by Spring Boot and proposals to support it have been rejected several times. I don&#39;t want to use Spring Session. I&#39;m running a single instance of my application and don&#39;t need to share sessions between instances. I&#39;ve read several posts that claim to have implemented this behavior for Tomcat session persistence through a filter, but I haven&#39;t found a full example online.\r\n\r\nA [comment by Paul Khodchenkov][1] says:\r\n\r\n&gt; StandardManager,PersistentManager,DeltaManager fire http session\r\n&gt; created/destroyed/passivate/activate events in differents ways.\r\n&gt; \r\n&gt; 1.    StandardManager : will fire session activate event for every serialized session on startup (HttpSessionActivationListener object\r\n&gt; should be stored inside a session), but does not fire http session\r\n&gt; created event\r\n&gt; 2.    DeltaManager : fire http session created event for every session on startup\r\n&gt; 3.    PersistentManager : does NOT load session on startup. Sessions are restored lazily(and http session created event is fired) only when the\r\n&gt; required session is accessed by http.\r\n\r\n\r\nSpring Boot seems to [configure the StandardManager][2]. So the way to get notified about restored sessions seems to be a `HttpSessionActivationListener`.\r\nIn a [comment on StackOverflow][3] Alexey Usharovski\r\n says that Spring Boot doesn&#39;t support `HttpSessionActivationListener`s  and indeed if I add a listener like this it doesn&#39;t get called:\r\n\r\n    @Component\r\n    public class RestoredSessionListener implements HttpSessionActivationListener {\r\n    \r\n    \tprivate final SessionRegistry sessionRegistry;\r\n    \r\n    \tpublic RestoredSessionListener(SessionRegistry sessionRegistry) {\r\n    \t\tthis.sessionRegistry = sessionRegistry;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void sessionDidActivate(HttpSessionEvent se) {\r\n    \t\tsessionRegistry.registerNewSession(se.getSession().getId(), null);\r\n    \t}\r\n    }\r\n\r\nIn the above post by Paul Khodchenkov says that a `HttpSessionActivationListener` object should be stored inside a `Session`. `StandardSession` indeed has a [addSessionListener method][4], but the `StandardSession` gets created [inside of the StandardManager][5] and I&#39;m not sure how I would add a listener to those sessions.\r\n\r\nDo I need to provide a custom session `Manager`? How would I do that?\r\nCan I get session activation events from `StandardManager` any other way?\r\nAm I on the wrong path and there is a different solution?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/2062#issuecomment-180598899\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/725337f9765494c474f33fac3214afada4aeac04/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.java#L411-L418\r\n  [3]: https://stackoverflow.com/questions/56859224/how-to-implement-http-session-activation-listener-in-spring-session#comment104415435_56859224\r\n  [4]: https://github.com/apache/tomcat/blob/b18ba2f3c1e00638a1dded1cde03072f9609cca1/java/org/apache/catalina/session/StandardSession.java#L701-L709\r\n  [5]: https://github.com/apache/tomcat/blob/b18ba2f3c1e00638a1dded1cde03072f9609cca1/java/org/apache/catalina/session/StandardManager.java#L152","title":"How to add sessions loaded from Tomcat persistent storage to Spring Boot SessionRegistry on restart?","body":"<p>Spring Boot supports persistent sessions through the configuration property</p>\n<pre><code>server.servlet.session.persistent=true\n</code></pre>\n<p>This makes sure that Tomcat persists the current sessions to disk and loads them again on a server restart.</p>\n<p>I want to have the sessions loaded from disk available in the <code>SessionRegistry</code>.\nThis behavior is not provided by Spring Boot and proposals to support it have been rejected several times. I don't want to use Spring Session. I'm running a single instance of my application and don't need to share sessions between instances. I've read several posts that claim to have implemented this behavior for Tomcat session persistence through a filter, but I haven't found a full example online.</p>\n<p>A <a href=\"https://github.com/spring-projects/spring-security/issues/2062#issuecomment-180598899\" rel=\"nofollow noreferrer\">comment by Paul Khodchenkov</a> says:</p>\n<blockquote>\n<p>StandardManager,PersistentManager,DeltaManager fire http session\ncreated/destroyed/passivate/activate events in differents ways.</p>\n<ol>\n<li>StandardManager : will fire session activate event for every serialized session on startup (HttpSessionActivationListener object\nshould be stored inside a session), but does not fire http session\ncreated event</li>\n<li>DeltaManager : fire http session created event for every session on startup</li>\n<li>PersistentManager : does NOT load session on startup. Sessions are restored lazily(and http session created event is fired) only when the\nrequired session is accessed by http.</li>\n</ol>\n</blockquote>\n<p>Spring Boot seems to <a href=\"https://github.com/spring-projects/spring-boot/blob/725337f9765494c474f33fac3214afada4aeac04/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/web/embedded/tomcat/TomcatServletWebServerFactory.java#L411-L418\" rel=\"nofollow noreferrer\">configure the StandardManager</a>. So the way to get notified about restored sessions seems to be a <code>HttpSessionActivationListener</code>.\nIn a <a href=\"https://stackoverflow.com/questions/56859224/how-to-implement-http-session-activation-listener-in-spring-session#comment104415435_56859224\">comment on StackOverflow</a> Alexey Usharovski\nsays that Spring Boot doesn't support <code>HttpSessionActivationListener</code>s  and indeed if I add a listener like this it doesn't get called:</p>\n<pre><code>@Component\npublic class RestoredSessionListener implements HttpSessionActivationListener {\n\n    private final SessionRegistry sessionRegistry;\n\n    public RestoredSessionListener(SessionRegistry sessionRegistry) {\n        this.sessionRegistry = sessionRegistry;\n    }\n\n    @Override\n    public void sessionDidActivate(HttpSessionEvent se) {\n        sessionRegistry.registerNewSession(se.getSession().getId(), null);\n    }\n}\n</code></pre>\n<p>In the above post by Paul Khodchenkov says that a <code>HttpSessionActivationListener</code> object should be stored inside a <code>Session</code>. <code>StandardSession</code> indeed has a <a href=\"https://github.com/apache/tomcat/blob/b18ba2f3c1e00638a1dded1cde03072f9609cca1/java/org/apache/catalina/session/StandardSession.java#L701-L709\" rel=\"nofollow noreferrer\">addSessionListener method</a>, but the <code>StandardSession</code> gets created <a href=\"https://github.com/apache/tomcat/blob/b18ba2f3c1e00638a1dded1cde03072f9609cca1/java/org/apache/catalina/session/StandardManager.java#L152\" rel=\"nofollow noreferrer\">inside of the StandardManager</a> and I'm not sure how I would add a listener to those sessions.</p>\n<p>Do I need to provide a custom session <code>Manager</code>? How would I do that?\nCan I get session activation events from <code>StandardManager</code> any other way?\nAm I on the wrong path and there is a different solution?</p>\n"},{"tags":["java","arrays","sorting","char"],"owner":{"account_id":26518522,"reputation":37,"user_id":20152638,"display_name":"John Drew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673906808,"answer_count":0,"score":0,"last_activity_date":1673903751,"creation_date":1673903751,"question_id":75139773,"body_markdown":"Lets say I had a char array and I wanted to sort it alphabetically, I could use...\r\n```\r\nArrays.sort(list);\r\n``` \r\nHowever if I want to sort a char array in reverse alphabetical order.. How would I accomplish this? (I do not want to create another array, I want the array to be modified so that I can call a function and modify the array without having to return a new array if that makes sense).\r\n\r\nThanks.\r\n\r\nI have tried using Collections but they do not work on char arrays...","title":"How to sort Char array in reverse order? (java)","body":"<p>Lets say I had a char array and I wanted to sort it alphabetically, I could use...</p>\n<pre><code>Arrays.sort(list);\n</code></pre>\n<p>However if I want to sort a char array in reverse alphabetical order.. How would I accomplish this? (I do not want to create another array, I want the array to be modified so that I can call a function and modify the array without having to return a new array if that makes sense).</p>\n<p>Thanks.</p>\n<p>I have tried using Collections but they do not work on char arrays...</p>\n"},{"tags":["java","spring","database","jhipster","jdl"],"comments":[{"owner":{"account_id":27418076,"reputation":19,"user_id":20916962,"display_name":"Utkarsh Srivastava"},"score":0,"creation_date":1673895861,"post_id":75138296,"comment_id":132594927,"body_markdown":"entity Platform {\n\tplatformName String required maxlength(100),\n    onPermiseFlag String maxlength(1) pattern(/^[NY]+\\d$/),\n    cloudFlag String maxlength(1) pattern(/^[NY]+\\d$/)\n}","body":"entity Platform { \tplatformName String required maxlength(100),     onPermiseFlag String maxlength(1) pattern(/^[NY]+\\d$/),     cloudFlag String maxlength(1) pattern(/^[NY]+\\d$/) }"}],"answers":[{"tags":[],"owner":{"account_id":12154457,"reputation":766,"user_id":8873770,"accept_rate":80,"display_name":"Jonxag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673896006,"creation_date":1673894134,"answer_id":75138360,"question_id":75138296,"body_markdown":"you can achieve it using regexp, add the following:\r\n\r\n    onPermiseFlag(pattern(&quot;^[NY]$&quot;)),\r\n    cloudFlag(pattern(&quot;^[NY]$&quot;))\r\n\r\nEDIT 1:\r\n\r\n    entity Platform {\r\n        platformName String required maxlength(100),\r\n        onPermiseFlag String maxlength(1) {\r\n            validate {\r\n                if (onPermiseFlag != &quot;N&quot; &amp;&amp; onPermiseFlag != &quot;Y&quot;) {\r\n                    throw new IllegalArgumentException(&quot;WHATEVER YOU WANT&quot;)\r\n                }\r\n            }\r\n        },\r\n        cloudFlag String maxlength(1) {\r\n            validate {\r\n                if (cloudFlag != &quot;N&quot; &amp;&amp; cloudFlag != &quot;Y&quot;) {\r\n                    throw new IllegalArgumentException(&quot;WHATEVER YOU WANT&quot;)\r\n                }\r\n            }\r\n        } \r\n    }","title":"How to create columns in JDL, that only accepts two values, Y or N? Y meaning Yes and N meaning No","body":"<p>you can achieve it using regexp, add the following:</p>\n<pre><code>onPermiseFlag(pattern(&quot;^[NY]$&quot;)),\ncloudFlag(pattern(&quot;^[NY]$&quot;))\n</code></pre>\n<p>EDIT 1:</p>\n<pre><code>entity Platform {\n    platformName String required maxlength(100),\n    onPermiseFlag String maxlength(1) {\n        validate {\n            if (onPermiseFlag != &quot;N&quot; &amp;&amp; onPermiseFlag != &quot;Y&quot;) {\n                throw new IllegalArgumentException(&quot;WHATEVER YOU WANT&quot;)\n            }\n        }\n    },\n    cloudFlag String maxlength(1) {\n        validate {\n            if (cloudFlag != &quot;N&quot; &amp;&amp; cloudFlag != &quot;Y&quot;) {\n                throw new IllegalArgumentException(&quot;WHATEVER YOU WANT&quot;)\n            }\n        }\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673903582,"creation_date":1673903582,"answer_id":75139753,"question_id":75138296,"body_markdown":"Why not using a boolean in entity and a String in DTO? This is usually a good practice to decouple presentation from storage design.\r\n\r\nAnyway, if you want to use String, you could use enums.\r\n\r\nhttps://www.jhipster.tech/jdl/enums\r\n\r\n```\r\nenum OnPremise { Y, N}\r\n\r\nenum Cloud { Y, N}\r\n\r\nentity Platform {\r\n    platformName String required maxlength(100),\r\n    onPermiseFlag OnPremise,\r\n    cloudFlag Cloud\r\n}\r\n```\r\n\r\nAlternatively, you could use a single enum, this way you could make it evolve if in future you need to add another kind of deployment.\r\n\r\n```\r\nenum Deployment{ ON_PREMISE, CLOUD}\r\n\r\nentity Platform {\r\n    platformName String required maxlength(100),\r\n    deployment Deployment\r\n}\r\n```\r\n","title":"How to create columns in JDL, that only accepts two values, Y or N? Y meaning Yes and N meaning No","body":"<p>Why not using a boolean in entity and a String in DTO? This is usually a good practice to decouple presentation from storage design.</p>\n<p>Anyway, if you want to use String, you could use enums.</p>\n<p><a href=\"https://www.jhipster.tech/jdl/enums\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/jdl/enums</a></p>\n<pre><code>enum OnPremise { Y, N}\n\nenum Cloud { Y, N}\n\nentity Platform {\n    platformName String required maxlength(100),\n    onPermiseFlag OnPremise,\n    cloudFlag Cloud\n}\n</code></pre>\n<p>Alternatively, you could use a single enum, this way you could make it evolve if in future you need to add another kind of deployment.</p>\n<pre><code>enum Deployment{ ON_PREMISE, CLOUD}\n\nentity Platform {\n    platformName String required maxlength(100),\n    deployment Deployment\n}\n</code></pre>\n"}],"owner":{"account_id":27418076,"reputation":19,"user_id":20916962,"display_name":"Utkarsh Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673903582,"creation_date":1673893819,"question_id":75138296,"body_markdown":"    entity Platform {\r\n        platformName String required maxlength(100),\r\n        onPermiseFlag String maxlength(1),\r\n        cloudFlag String maxlength(1) \r\n    }\r\n\r\nThe column `&#39;onPermiseFlag&#39;` and `&#39;cloudFlag&#39;` can have only two value either `&#39;Y&#39;` or `&#39;N&#39;`?\r\nHow to add validation for this?\r\n\r\nHow to add validations in JDL so that these two columns take only two values either &#39;Y&#39; or &#39;N&#39;","title":"How to create columns in JDL, that only accepts two values, Y or N? Y meaning Yes and N meaning No","body":"<pre><code>entity Platform {\n    platformName String required maxlength(100),\n    onPermiseFlag String maxlength(1),\n    cloudFlag String maxlength(1) \n}\n</code></pre>\n<p>The column <code>'onPermiseFlag'</code> and <code>'cloudFlag'</code> can have only two value either <code>'Y'</code> or <code>'N'</code>?\nHow to add validation for this?</p>\n<p>How to add validations in JDL so that these two columns take only two values either 'Y' or 'N'</p>\n"},{"tags":["java","apache-kafka","apache-camel","spring-aop"],"owner":{"account_id":8950192,"reputation":206,"user_id":6676444,"accept_rate":80,"display_name":"triples13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673903225,"creation_date":1673882242,"question_id":75136240,"body_markdown":"i am using camel 2.25 , due to some reason i am unable to upgrade to higher version, i need to add avro serialization support, the avro serialization properties can be set in camel 3.x version in additional properties, but in 2.25 support is not provided ,as a workaround i am using enhancer class which can intercept createProducerProperties of org.apache.camel.component.kafka.KafkaConfiguration.class and add the kafka avro serializer properties at runtime ,and these properties can be different for each producer so need to send it differently at startup, but the callback class is never being called \r\n\r\n```\r\nEnhancer enhancer = new Enhancer();\r\n        enhancer.setSuperclass(org.apache.camel.component.kafka.KafkaConfiguration.class);\r\n        enhancer.setCallback((MethodInterceptor) (obj, method, v1, proxy) -&gt; {\r\n            if (method.getDeclaringClass() != Object.class &amp;&amp; method.getName().equals(&quot;createProducerProperties&quot;)) {\r\n\r\n                Properties s= (Properties) proxy.invokeSuper(obj, v1);\r\n                s.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\r\n                s.put(KafkaAvroSerializerConfig.KEY_SUBJECT_NAME_STRATEGY,keySubjectNamingStrategy);\r\n                s.put(KafkaAvroSerializerConfig.VALUE_SUBJECT_NAME_STRATEGY,valueSubjectNamingStrategy);\r\n                s.put(AbstractKafkaSchemaSerDeConfig.BEARER_AUTH_CREDENTIALS_SOURCE, &quot;TOKEN&quot;);\r\n                s.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,keySerializerClass);\r\n                s.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,valueSerializerClass);\r\n                return s;\r\n            } else{\r\n                return proxy.invokeSuper(obj, v1);\r\n            }\r\n        }); \r\n```\r\n\r\ni looked over https://stackoverflow.com/questions/55190052/how-to-use-camel-avro-consumer-producer, but properties are static but i need to set the properties dynamically for different client like recordnamingstrategy , serailizer etc for different producer client which are created during service startup","title":"Dynamically add kafka avro serializer properties at runtime in camel application","body":"<p>i am using camel 2.25 , due to some reason i am unable to upgrade to higher version, i need to add avro serialization support, the avro serialization properties can be set in camel 3.x version in additional properties, but in 2.25 support is not provided ,as a workaround i am using enhancer class which can intercept createProducerProperties of org.apache.camel.component.kafka.KafkaConfiguration.class and add the kafka avro serializer properties at runtime ,and these properties can be different for each producer so need to send it differently at startup, but the callback class is never being called</p>\n<pre><code>Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(org.apache.camel.component.kafka.KafkaConfiguration.class);\n        enhancer.setCallback((MethodInterceptor) (obj, method, v1, proxy) -&gt; {\n            if (method.getDeclaringClass() != Object.class &amp;&amp; method.getName().equals(&quot;createProducerProperties&quot;)) {\n\n                Properties s= (Properties) proxy.invokeSuper(obj, v1);\n                s.put(KafkaAvroSerializerConfig.AUTO_REGISTER_SCHEMAS, false);\n                s.put(KafkaAvroSerializerConfig.KEY_SUBJECT_NAME_STRATEGY,keySubjectNamingStrategy);\n                s.put(KafkaAvroSerializerConfig.VALUE_SUBJECT_NAME_STRATEGY,valueSubjectNamingStrategy);\n                s.put(AbstractKafkaSchemaSerDeConfig.BEARER_AUTH_CREDENTIALS_SOURCE, &quot;TOKEN&quot;);\n                s.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,keySerializerClass);\n                s.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,valueSerializerClass);\n                return s;\n            } else{\n                return proxy.invokeSuper(obj, v1);\n            }\n        }); \n</code></pre>\n<p>i looked over <a href=\"https://stackoverflow.com/questions/55190052/how-to-use-camel-avro-consumer-producer\">How to use camel-avro-consumer &amp; producer?</a>, but properties are static but i need to set the properties dynamically for different client like recordnamingstrategy , serailizer etc for different producer client which are created during service startup</p>\n"},{"tags":["java","android","xml","setcontentview"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664651272,"post_id":73921026,"comment_id":130522416,"body_markdown":"&quot;Is there any way I can do both programmatically, i.e., set the ImageView&#39;s visibility to INVISIBLE and make it visible again using Java code?&quot; -- in your preceding sentence, you indicated that you did not want to do this. You might want to edit your question and explain in detail what it is that you are trying to do.","body":"&quot;Is there any way I can do both programmatically, i.e., set the ImageView&#39;s visibility to INVISIBLE and make it visible again using Java code?&quot; -- in your preceding sentence, you indicated that you did not want to do this. You might want to edit your question and explain in detail what it is that you are trying to do."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1664651367,"post_id":73921026,"comment_id":130522438,"body_markdown":"I&#39;d also get used to editing XML- you sometimes need to change things at runtime,a nd that&#39;s fine.  But you&#39;ll find all your code reviews getting rejected if you&#39;re setting everything in code when you don&#39;t have to, nobody programs that way because its FAR less readable.","body":"I&#39;d also get used to editing XML- you sometimes need to change things at runtime,a nd that&#39;s fine.  But you&#39;ll find all your code reviews getting rejected if you&#39;re setting everything in code when you don&#39;t have to, nobody programs that way because its FAR less readable."},{"owner":{"display_name":"user16948370"},"score":0,"creation_date":1664652586,"post_id":73921026,"comment_id":130522637,"body_markdown":"@GabeSechan, what if that&#39;s the only way? I&#39;ve come across this thought many times, and I&#39;m stuck. And yes, I do agree that it&#39;s less readable and unnecessary, etc.","body":"@GabeSechan, what if that&#39;s the only way? I&#39;ve come across this thought many times, and I&#39;m stuck. And yes, I do agree that it&#39;s less readable and unnecessary, etc."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1664658369,"post_id":73921026,"comment_id":130523559,"body_markdown":"@EEE If it needs to be done at runtime, sure.  Do it in Java (that is the only way).  If its an initial condition it should be done in xml though.  I&#39;m not sure what you&#39;re really asking here though-  are you just having trouble using findViewById and calling a function on the view?","body":"@EEE If it needs to be done at runtime, sure.  Do it in Java (that is the only way).  If its an initial condition it should be done in xml though.  I&#39;m not sure what you&#39;re really asking here though-  are you just having trouble using findViewById and calling a function on the view?"},{"owner":{"display_name":"user16948370"},"score":1,"creation_date":1664679274,"post_id":73921026,"comment_id":130525980,"body_markdown":"@GabeSechan, no, not really. I can set the visibility in the XML, but what about something like loading a website in a `WebView`, clicking a button, entering something, etc., and then showing the `WebView`? And I don&#39;t really like using `LayoutInflater` as I&#39;ve tried using it before; I couldn&#39;t figure out how to use it. And when I&#39;d tried inflating a `WebView`, I couldn&#39;t do much with it easily. Is there any other way to do it in Java? I&#39;m asking how you can process elements/views in the Java code before showing them (before `setContentView`).","body":"@GabeSechan, no, not really. I can set the visibility in the XML, but what about something like loading a website in a <code>WebView</code>, clicking a button, entering something, etc., and then showing the <code>WebView</code>? And I don&#39;t really like using <code>LayoutInflater</code> as I&#39;ve tried using it before; I couldn&#39;t figure out how to use it. And when I&#39;d tried inflating a <code>WebView</code>, I couldn&#39;t do much with it easily. Is there any other way to do it in Java? I&#39;m asking how you can process elements/views in the Java code before showing them (before <code>setContentView</code>)."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1664691781,"post_id":73921026,"comment_id":130527116,"body_markdown":"This question does not make any sense at all. At the end of the day, you still need views either stock views and custom ones. `setContentView()` requires either a resource id or a view. `ImageView` is a view, `Button` is a view. Heck, you can just pass `setContentView(new View(this));` if you want to.","body":"This question does not make any sense at all. At the end of the day, you still need views either stock views and custom ones. <code>setContentView()</code> requires either a resource id or a view. <code>ImageView</code> is a view, <code>Button</code> is a view. Heck, you can just pass <code>setContentView(new View(this));</code> if you want to."},{"owner":{"display_name":"user16948370"},"score":1,"creation_date":1664694687,"post_id":73921026,"comment_id":130527485,"body_markdown":"@Darkman, why? And no, that&#39;s not what I&#39;m trying to do. I guess it&#39;d make sense if you reread it.","body":"@Darkman, why? And no, that&#39;s not what I&#39;m trying to do. I guess it&#39;d make sense if you reread it."}],"answers":[{"tags":[],"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664672015,"creation_date":1664671549,"answer_id":73922686,"question_id":73921026,"body_markdown":"No, It&#39;s not possible. Instead, you can use the myLayout.xml file for default values. then, after setContentView() you can change that as you want using:\r\n\r\n    imageView.setVisibility(View.VISIBLE);\r\n\r\n \r\nIt is not possible because setContentView() binds the class with their layout and run it to give the default values, then you can override the default values using the code above.\r\n\r\n___________\r\n\r\nOne way to play around that is using LayoutInflater like the code below:\r\n\r\n    View view = LayoutInflater.from(getApplicationContext()).inflate(R.layout.myLayout, null,false);\r\n\r\n\r\nBut you will end up with the same result (with a lot more of code), and yet you need to bind the class with their layout and set their content view.","title":"Set ImageView&#39;s visibility (programmatically) before setContentView - Android","body":"<p>No, It's not possible. Instead, you can use the myLayout.xml file for default values. then, after setContentView() you can change that as you want using:</p>\n<pre><code>imageView.setVisibility(View.VISIBLE);\n</code></pre>\n<p>It is not possible because setContentView() binds the class with their layout and run it to give the default values, then you can override the default values using the code above.</p>\n<hr />\n<p>One way to play around that is using LayoutInflater like the code below:</p>\n<pre><code>View view = LayoutInflater.from(getApplicationContext()).inflate(R.layout.myLayout, null,false);\n</code></pre>\n<p>But you will end up with the same result (with a lot more of code), and yet you need to bind the class with their layout and set their content view.</p>\n"}],"owner":{"display_name":"user16948370"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673902781,"creation_date":1664651033,"question_id":73921026,"body_markdown":"I don&#39;t like editing elements&#39; XML attributes, so I prefer doing it programmatically. Is there any alternative to setting an `ImageView`&#39;s visibility to `INVISIBLE` and changing it back to `VISIBLE` in the Java code? Is there any way I can do both programmatically, i.e., set the `ImageView`&#39;s visibility to `INVISIBLE` and make it visible again using Java code? I guess it won&#39;t work the usual way as such code can be used only after `setContentView()`. For example, I might want to process the image and then display it rather than display it and then process it, etc. So, if I want to do something like that, which can be achieved only programmatically, and only after `setContentView()`, how should I go about it?","title":"Set ImageView&#39;s visibility (programmatically) before setContentView - Android","body":"<p>I don't like editing elements' XML attributes, so I prefer doing it programmatically. Is there any alternative to setting an <code>ImageView</code>'s visibility to <code>INVISIBLE</code> and changing it back to <code>VISIBLE</code> in the Java code? Is there any way I can do both programmatically, i.e., set the <code>ImageView</code>'s visibility to <code>INVISIBLE</code> and make it visible again using Java code? I guess it won't work the usual way as such code can be used only after <code>setContentView()</code>. For example, I might want to process the image and then display it rather than display it and then process it, etc. So, if I want to do something like that, which can be achieved only programmatically, and only after <code>setContentView()</code>, how should I go about it?</p>\n"},{"tags":["java","selenium","selenium-chromedriver","java-16","selenium-edgedriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1637001570,"post_id":69975806,"comment_id":123703192,"body_markdown":"You should show code that locates &quot;contextButton&quot;, &quot;dropDownMenu&quot;,&quot;dataItems&quot;, and &quot;dataItemsText&quot;.  (The first part of your question will concern &quot;contextButton&quot;... the 2nd part seems to be related to waiting for visibility only (that may not be enough), and probably only on the container for the spans... )","body":"You should show code that locates &quot;contextButton&quot;, &quot;dropDownMenu&quot;,&quot;dataItems&quot;, and &quot;dataItemsText&quot;.  (The first part of your question will concern &quot;contextButton&quot;... the 2nd part seems to be related to waiting for visibility only (that may not be enough), and probably only on the container for the spans... )"},{"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"score":1,"creation_date":1637002798,"post_id":69975806,"comment_id":123703632,"body_markdown":"I have updated my question with the code you requested.","body":"I have updated my question with the code you requested."},{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1637002944,"post_id":69975806,"comment_id":123703691,"body_markdown":"Error stack trace of `MoveTargetOutOfBoundsException`?","body":"Error stack trace of <code>MoveTargetOutOfBoundsException</code>?"},{"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"score":0,"creation_date":1637003847,"post_id":69975806,"comment_id":123703985,"body_markdown":"I have also added the stacktrace now.","body":"I have also added the stacktrace now."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1637004230,"post_id":69975806,"comment_id":123704140,"body_markdown":"for the 2nd part you may want to include the HTML of one of the &lt;span&gt; tags you&#39;re trying to getText() from.  The fact that you don&#39;t get a Stale Element exception suggests that there is another node in there.  Or, to troubleshoot, check: System.out.println(item.getAttribute(&#39;innerHTML&#39;));","body":"for the 2nd part you may want to include the HTML of one of the &lt;span&gt; tags you&#39;re trying to getText() from.  The fact that you don&#39;t get a Stale Element exception suggests that there is another node in there.  Or, to troubleshoot, check: System.out.println(item.getAttribute(&#39;innerHTML&#39;));"},{"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"score":0,"creation_date":1637004679,"post_id":69975806,"comment_id":123704314,"body_markdown":"Added an image of the HTML per your request; there doesn&#39;t seem to be another node..","body":"Added an image of the HTML per your request; there doesn&#39;t seem to be another node.."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637008209,"creation_date":1637003468,"answer_id":69979639,"question_id":69975806,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.interactions.MoveTargetOutOfBoundsException: \r\n\t\r\n...implies that [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) was unable to focus on the desired element as the element was out of bounds of the viewport.\r\n\r\nYour main issue is the _WebElement_ identified as _**button**_ is out of [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp) so _Selenium_ can&#39;t move the **focus** on the desired element through `moveToElement()` method.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nA simple solution would be to use the `scrollIntoView()` method to bring the desired element within the _viewport_ and then invoke `moveToElement()` method as follows:\r\n\r\n\tWebElement myElement = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOf(button));\r\n\t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, myElement);\r\n\ta.moveToElement(webElement).build().perform();\r\n\r\nUpdate\r\n------\r\nA conservative suggestion would be replace _`java.version: &#39;16.0.2&#39;`_ with stable latest [_**JDK 8u311**_](https://www.oracle.com/technetwork/java/javase/downloads/index.html) as earlier we have faced the following issues of Selenium with higher Java versions:\r\n\r\n- [An illegal reflective access operation has occurred while executing automated tests using Selenium and Java 9](https://stackoverflow.com/questions/58100247/an-illegal-reflective-access-operation-has-occurred-while-executing-automated-te/58132830#58132830)\r\n- [Unable to import org.openqa.selenium.WebDriver using Selenium and Java 11](https://stackoverflow.com/questions/54876955/unable-to-import-org-openqa-selenium-webdriver-using-selenium-and-java-11/54880228#54880228)\r\n- [Does Selenium v3.141 support Java 13?](https://stackoverflow.com/questions/58531018/does-selenium-v3-141-support-java-13/58538235#58538235)\r\n- [&quot;java.lang.module.InvalidModuleDescriptorException: Provider class org.apache.bsf.BSFManager not in module&quot; error with ChromeDriver Selenium](https://stackoverflow.com/questions/59171497/java-lang-module-invalidmoduledescriptorexception-provider-class-org-apache-bs/59173119#59173119)\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a relevant detailed discussion in:\r\n\r\n- [Firefox - org.openqa.selenium.interactions.MoveTargetOutOfBoundsException](https://stackoverflow.com/questions/52116195/firefox-org-openqa-selenium-interactions-movetargetoutofboundsexception/52117023#52117023)\r\n- [org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: (x, y) is out of bounds while MouseHover with GeckoDriver Firefox Selenium](https://stackoverflow.com/questions/55413422/org-openqa-selenium-interactions-movetargetoutofboundsexception-x-y-is-out-o/55416099#55416099)","title":"org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds using Selenium Chrome and java.version: &#39;16.0.2&#39;","body":"<p>This error message...</p>\n<pre><code>org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: \n</code></pre>\n<p>...implies that <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> was unable to focus on the desired element as the element was out of bounds of the viewport.</p>\n<p>Your main issue is the <em>WebElement</em> identified as <em><strong>button</strong></em> is out of <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">Viewport</a> so <em>Selenium</em> can't move the <strong>focus</strong> on the desired element through <code>moveToElement()</code> method.</p>\n<hr />\n<h2>Solution</h2>\n<p>A simple solution would be to use the <code>scrollIntoView()</code> method to bring the desired element within the <em>viewport</em> and then invoke <code>moveToElement()</code> method as follows:</p>\n<pre><code>WebElement myElement = new WebDriverWait(driver, 20).until(ExpectedConditions.visibilityOf(button));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView();&quot;, myElement);\na.moveToElement(webElement).build().perform();\n</code></pre>\n<h2>Update</h2>\n<p>A conservative suggestion would be replace <em><code>java.version: '16.0.2'</code></em> with stable latest <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\"><em><strong>JDK 8u311</strong></em></a> as earlier we have faced the following issues of Selenium with higher Java versions:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/58100247/an-illegal-reflective-access-operation-has-occurred-while-executing-automated-te/58132830#58132830\">An illegal reflective access operation has occurred while executing automated tests using Selenium and Java 9</a></li>\n<li><a href=\"https://stackoverflow.com/questions/54876955/unable-to-import-org-openqa-selenium-webdriver-using-selenium-and-java-11/54880228#54880228\">Unable to import org.openqa.selenium.WebDriver using Selenium and Java 11</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58531018/does-selenium-v3-141-support-java-13/58538235#58538235\">Does Selenium v3.141 support Java 13?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59171497/java-lang-module-invalidmoduledescriptorexception-provider-class-org-apache-bs/59173119#59173119\">&quot;java.lang.module.InvalidModuleDescriptorException: Provider class org.apache.bsf.BSFManager not in module&quot; error with ChromeDriver Selenium</a></li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52116195/firefox-org-openqa-selenium-interactions-movetargetoutofboundsexception/52117023#52117023\">Firefox - org.openqa.selenium.interactions.MoveTargetOutOfBoundsException</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55413422/org-openqa-selenium-interactions-movetargetoutofboundsexception-x-y-is-out-o/55416099#55416099\">org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: (x, y) is out of bounds while MouseHover with GeckoDriver Firefox Selenium</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":112811,"reputation":865,"user_id":297420,"display_name":"gerardnico"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673902137,"creation_date":1673902137,"answer_id":75139532,"question_id":69975806,"body_markdown":"With the following implementation, you will get to see the element in the browser and resolves this error. \r\n\r\nIt uses the [scrollByAmount](https://www.selenium.dev/documentation/webdriver/actions_api/wheel/#scroll-by-given-amount) method.\r\n\r\n```java\r\npublic static WebElement scrollToElement(WebElement elementToScroll, WebDriver webDriver) {\r\n\r\n    Rectangle rect = elementToScroll.getRect();\r\n    int deltaY = rect.y + rect.height;\r\n    new Actions(webDriver)\r\n      .scrollByAmount(0, deltaY)\r\n      .perform();\r\n    return elementToScroll;\r\n\r\n}\r\n```\r\n\r\nPs: The `MoveTargetOutOfBoundsException: move target out of bounds`\r\ncan be seen when using the `moveToElement` or `scrollToElement` method.\r\nMy best guess is that this function scrolls to the element but only to the top position of the bounding rectangle, making the element not visible.","title":"org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds using Selenium Chrome and java.version: &#39;16.0.2&#39;","body":"<p>With the following implementation, you will get to see the element in the browser and resolves this error.</p>\n<p>It uses the <a href=\"https://www.selenium.dev/documentation/webdriver/actions_api/wheel/#scroll-by-given-amount\" rel=\"nofollow noreferrer\">scrollByAmount</a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static WebElement scrollToElement(WebElement elementToScroll, WebDriver webDriver) {\n\n    Rectangle rect = elementToScroll.getRect();\n    int deltaY = rect.y + rect.height;\n    new Actions(webDriver)\n      .scrollByAmount(0, deltaY)\n      .perform();\n    return elementToScroll;\n\n}\n</code></pre>\n<p>Ps: The <code>MoveTargetOutOfBoundsException: move target out of bounds</code>\ncan be seen when using the <code>moveToElement</code> or <code>scrollToElement</code> method.\nMy best guess is that this function scrolls to the element but only to the top position of the bounding rectangle, making the element not visible.</p>\n"}],"owner":{"account_id":19130226,"reputation":71,"user_id":13972313,"display_name":"Mattemingda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23330,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673902137,"creation_date":1636985704,"question_id":69975806,"body_markdown":"I am trying to click a link that is on a dropdown menu. This dropdown menu appears when I hover over a button. Right now, my test crashes with a `MoveTargetOutOfBoundsException`, which happens when I try to hover the button. When I open the page in my browser, I have no trouble finding or hovering over the button, as it doesn&#39;t seem to be outside of the viewport by any means.\r\nThe code I use to hover the button is:\r\n\r\n    private void hoverButtonWaitDropDown(WebElement button) {\r\n            a.moveToElement(button).build().perform();\r\n            try {\r\n                w.until(ExpectedConditions.visibilityOf(dropDownMenu));\r\n            } catch (TimeoutException ex) {\r\n                ExtentTestManager.log(logger, Level.WARN, &quot;Dropdown menu failed to display&quot;);\r\n            }\r\n        }\r\n\r\nThen, the test waits for the dropdown menu to appear and loops through the available options to find the desired one, and finally clicks it:\r\n\r\n    public void clickContextSetting(String setting) {\r\n            hoverButtonWaitDropDown(contextButton);\r\n            if (dataItems.size() == 0) {\r\n                ExtentTestManager.log(logger, Level.WARN, &quot;There are no context settings on the dropdown menu&quot;);\r\n                return;\r\n            }\r\n            for (WebElement con : dataItems) {\r\n                if (con.findElement(By.tagName(&quot;span&quot;)).getText().trim().equalsIgnoreCase(setting)) {\r\n                    con.click();\r\n                    return;\r\n                }\r\n            }\r\n            Assert.fail(&quot;Test aborted because context setting: &quot; + setting + &quot; is not present on the topbar dropdown menu&quot;);\r\n        }\r\n\r\n\r\nNow, when I comment out `a.moveToElement(button).build().perform();` , run the test and move the mouse to the button myself in order to display the dropdown menu, the test is terminated instead by the `Assert.fail()` call. This means that the test does find a list of links, since `dataItems.size() == 0` evaluates to false, but it is unable to find the desired link on the dropdown menu. I have added a print method to print the text of all the links on the dropdown menu that appears:\r\n\r\n    private void printDataItems() {\r\n            for (WebElement item: dataItemsText) {\r\n                System.out.println(item.getText());\r\n            }\r\n        }\r\n\r\nbut that just prints 5 empty `Strings`.\r\nWhen I look for the elements that contain the link texts on the dropdown menu in devTools with the selector `div[class=&#39;dataitems&#39;] a span`, it lists all the links and highlights the link texts like it should, but it doesn&#39;t work when I try it with Selenium.\r\n\r\nThe text nodes look like this:\r\n\r\n[span][1]\r\n\r\nI have manually checked all my locators, and they are all correct, so I don&#39;t know what I&#39;m doing wrong here.\r\nI should note that I run into this issue with chromedriver (96) and edgedriver (95), but not with geckodriver (94). When I run this test with geckodriver, the test script correctly hovers the button, prints out all the available links on the dropdown menu and clicks the link. Any ideas?\r\n\r\nEdit:\r\nAs requested, here are the locators for the WebElements that I refer to in my question:\r\n\r\n    @FindBy(css = &quot;div[gadget-name=&#39;Topbar context btn&#39;]&quot;)\r\n    private WebElement contextButton;\r\n\r\n    @FindBy(css = &quot;div[class^=&#39;dropdata&#39;]&quot;)\r\n    private WebElement dropDownMenu;\r\n    \r\n    @FindBy(css = &quot;div[class=&#39;dataitems&#39;] a&quot;)\r\n    private List&lt;WebElement&gt; dataItems;\r\n\r\n    @FindBy(css = &quot;div[class=&#39;dataitems&#39;] a span&quot;)\r\n    private List&lt;WebElement&gt; dataItemsText;\r\n\r\nAnd the stacktrace of the MoveTargetOutOfBoundsException (I&#39;m assuming it is this):\r\n\r\n    org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds\r\n      (Session info: chrome=95.0.4638.69)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;DESKTOP-I6V1OLJ&#39;, ip: &#39;192.168.2.8&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.2&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 95.0.4638.69, chrome: {chromedriverVersion: 95.0.4638.17 (a9d0719444d4b..., userDataDir: C:\\Users\\mb_vl\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:59476}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 6003d76fccdd4ddbed789b440fa9e6f7\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:618)\r\n    at org.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:639)\r\n    at ObjectRepository.items.topbar_improved.hoverButtonWaitDropDown(topbar_improved.java:65)\r\n    at ObjectRepository.items.topbar_improved.clickContextSetting(topbar_improved.java:500)\r\n    at test_classes.general_scenarios.topbar_general.checkModal(topbar_general.java:50)\r\n    at test_classes.pages_local.local_test.topBar_clickLastLogins_modalIsDisplayed(local_test.java:102)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\r\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\r\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\r\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\r\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\r\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:764)\r\n    at org.testng.TestRunner.run(TestRunner.java:585)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:286)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\r\n    at org.testng.TestNG.runSuites(TestNG.java:1069)\r\n    at org.testng.TestNG.run(TestNG.java:1037)\r\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\r\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\r\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\r\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\r\n\r\n\r\n# Edit: solved #\r\n\r\nI contacted our frontend dev, and they asked to try it on the production environment. It worked there, and after some searching I noticed that the containing element that I was trying to interact with had `zoom: 90%`. I ran my test, paused it and set the element `zoom` to 100% in devTools, and continued execution; everything worked again.\r\nI did some digging, and apparently this is a known thing: [link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BlhYk.png\r\n  [2]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=628","title":"org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds using Selenium Chrome and java.version: &#39;16.0.2&#39;","body":"<p>I am trying to click a link that is on a dropdown menu. This dropdown menu appears when I hover over a button. Right now, my test crashes with a <code>MoveTargetOutOfBoundsException</code>, which happens when I try to hover the button. When I open the page in my browser, I have no trouble finding or hovering over the button, as it doesn't seem to be outside of the viewport by any means.\nThe code I use to hover the button is:</p>\n<pre><code>private void hoverButtonWaitDropDown(WebElement button) {\n        a.moveToElement(button).build().perform();\n        try {\n            w.until(ExpectedConditions.visibilityOf(dropDownMenu));\n        } catch (TimeoutException ex) {\n            ExtentTestManager.log(logger, Level.WARN, &quot;Dropdown menu failed to display&quot;);\n        }\n    }\n</code></pre>\n<p>Then, the test waits for the dropdown menu to appear and loops through the available options to find the desired one, and finally clicks it:</p>\n<pre><code>public void clickContextSetting(String setting) {\n        hoverButtonWaitDropDown(contextButton);\n        if (dataItems.size() == 0) {\n            ExtentTestManager.log(logger, Level.WARN, &quot;There are no context settings on the dropdown menu&quot;);\n            return;\n        }\n        for (WebElement con : dataItems) {\n            if (con.findElement(By.tagName(&quot;span&quot;)).getText().trim().equalsIgnoreCase(setting)) {\n                con.click();\n                return;\n            }\n        }\n        Assert.fail(&quot;Test aborted because context setting: &quot; + setting + &quot; is not present on the topbar dropdown menu&quot;);\n    }\n</code></pre>\n<p>Now, when I comment out <code>a.moveToElement(button).build().perform();</code> , run the test and move the mouse to the button myself in order to display the dropdown menu, the test is terminated instead by the <code>Assert.fail()</code> call. This means that the test does find a list of links, since <code>dataItems.size() == 0</code> evaluates to false, but it is unable to find the desired link on the dropdown menu. I have added a print method to print the text of all the links on the dropdown menu that appears:</p>\n<pre><code>private void printDataItems() {\n        for (WebElement item: dataItemsText) {\n            System.out.println(item.getText());\n        }\n    }\n</code></pre>\n<p>but that just prints 5 empty <code>Strings</code>.\nWhen I look for the elements that contain the link texts on the dropdown menu in devTools with the selector <code>div[class='dataitems'] a span</code>, it lists all the links and highlights the link texts like it should, but it doesn't work when I try it with Selenium.</p>\n<p>The text nodes look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/BlhYk.png\" rel=\"nofollow noreferrer\">span</a></p>\n<p>I have manually checked all my locators, and they are all correct, so I don't know what I'm doing wrong here.\nI should note that I run into this issue with chromedriver (96) and edgedriver (95), but not with geckodriver (94). When I run this test with geckodriver, the test script correctly hovers the button, prints out all the available links on the dropdown menu and clicks the link. Any ideas?</p>\n<p>Edit:\nAs requested, here are the locators for the WebElements that I refer to in my question:</p>\n<pre><code>@FindBy(css = &quot;div[gadget-name='Topbar context btn']&quot;)\nprivate WebElement contextButton;\n\n@FindBy(css = &quot;div[class^='dropdata']&quot;)\nprivate WebElement dropDownMenu;\n\n@FindBy(css = &quot;div[class='dataitems'] a&quot;)\nprivate List&lt;WebElement&gt; dataItems;\n\n@FindBy(css = &quot;div[class='dataitems'] a span&quot;)\nprivate List&lt;WebElement&gt; dataItemsText;\n</code></pre>\n<p>And the stacktrace of the MoveTargetOutOfBoundsException (I'm assuming it is this):</p>\n<pre><code>org.openqa.selenium.interactions.MoveTargetOutOfBoundsException: move target out of bounds\n  (Session info: chrome=95.0.4638.69)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-I6V1OLJ', ip: '192.168.2.8', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 95.0.4638.69, chrome: {chromedriverVersion: 95.0.4638.17 (a9d0719444d4b..., userDataDir: C:\\Users\\mb_vl\\AppData\\Loca...}, goog:chromeOptions: {debuggerAddress: localhost:59476}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 6003d76fccdd4ddbed789b440fa9e6f7\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.perform(RemoteWebDriver.java:618)\nat org.openqa.selenium.interactions.Actions$BuiltAction.perform(Actions.java:639)\nat ObjectRepository.items.topbar_improved.hoverButtonWaitDropDown(topbar_improved.java:65)\nat ObjectRepository.items.topbar_improved.clickContextSetting(topbar_improved.java:500)\nat test_classes.general_scenarios.topbar_general.checkModal(topbar_general.java:50)\nat test_classes.pages_local.local_test.topBar_clickLastLogins_modalIsDisplayed(local_test.java:102)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:132)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:599)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:174)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:822)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:147)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:764)\nat org.testng.TestRunner.run(TestRunner.java:585)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:384)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:378)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:337)\nat org.testng.SuiteRunner.run(SuiteRunner.java:286)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1218)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1140)\nat org.testng.TestNG.runSuites(TestNG.java:1069)\nat org.testng.TestNG.run(TestNG.java:1037)\nat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:284)\nat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75)\nat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:119)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:428)\nat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\nat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:562)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:548)\n</code></pre>\n<h1>Edit: solved</h1>\n<p>I contacted our frontend dev, and they asked to try it on the production environment. It worked there, and after some searching I noticed that the containing element that I was trying to interact with had <code>zoom: 90%</code>. I ran my test, paused it and set the element <code>zoom</code> to 100% in devTools, and continued execution; everything worked again.\nI did some digging, and apparently this is a known thing: <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=628\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":["java","debugging","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673901865,"creation_date":1673901865,"answer_id":75139481,"question_id":75071781,"body_markdown":"After many many tests and failures... This is the code that works... \r\n\r\n    public WebClient loginONS() {\r\n\t\t\r\n\t\tWebClient webClient = createWebClient();\r\n        try {\r\n    \t\t\tSystem.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n    \t\t\tconfigureWebClient(webClient);\r\n    \t\t\tpage = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\r\n    \t\t\t\r\n    \t\t\tthreadWait(2);\r\n\r\n    \t\t\tHtmlSubmitInput button = (HtmlSubmitInput) page.getElementByName(&quot;submit.IdentificarUsuario&quot;);\r\n                \r\n    \t\t\tthreadWait(1);\r\n    \t\t\t\r\n    \t\t\tHtmlTextInput textField1 = (HtmlTextInput) page.getElementById(&quot;username&quot;);\r\n                \r\n    \t\t\tthreadWait(1);\r\n    \t\t\t\r\n    \t\t\ttextField1.setValueAttribute(&quot;my@login.com&quot;);\r\n    \t\t\t\r\n    \t\t\tthreadWait(2);\r\n    \t\t\t\r\n    \t\t\tbutton.click();\r\n\r\n    \t\t\tthreadWait(3);\r\n    \t\t\t\r\n                page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\r\n\r\n                threadWait(3);\r\n                \r\n                HtmlPasswordInput textField2 = (HtmlPasswordInput) page.getElementById(&quot;password&quot;);\r\n                \r\n                threadWait(1);\r\n                \r\n                HtmlSubmitInput button2 = (HtmlSubmitInput) page.getElementByName(&quot;submit.Signin&quot;);\r\n                \r\n                threadWait(1);\r\n                \r\n    \t\t\ttextField2.setValueAttribute(&quot;MyPwd123!&quot;);\r\n\r\n    \t\t\tthreadWait(2); \r\n    \t\t\t\r\n\t\t\t\tbutton2.click();\r\n\r\n    \t\t\tthreadWait(5);\r\n    \t\t\t\r\n    \t\t\tsynchronized (page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;)) {\r\n        \t\t\tpage.wait(5000);\r\n    \t\t\t}\r\n    \t\t\t\r\n            \tif (page.asXml().toUpperCase().contains(&quot;AGUARDE&quot;)) {\r\n            \t\tpage = webClient.getPage(&quot;http://pop.ons.org.br/pop&quot;);\r\n            \t}\r\n\r\n            \tif (page.asXml().toUpperCase().contains(&quot;TODOS OS AVISOS&quot;)) {\r\n            \t\tlogger.info(&quot;Success on Log in&quot;);\r\n                    return webClient;\t\r\n            \t}\r\n            \telse return null;\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Exception {}&quot;, e.getMessage());\r\n            return null;\r\n        }\r\n\t}\r\n\r\nThe `configureWebClient()` method:\r\n\r\n    public void configureWebClient(WebClient webClient) {\r\n\t\twebClient.getOptions().setCssEnabled(true);\r\n\t\twebClient.setJavaScriptTimeout(0);\r\n\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\twebClient.getOptions().setTimeout(0);\r\n\t\twebClient.getOptions().setJavaScriptEnabled(true);\r\n\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\r\n\t\tCookieManager cookies = new CookieManager();\t\t\t\r\n\t\tcookies.setCookiesEnabled(true);\r\n\t\twebClient.setCookieManager(cookies);\r\n\t\t\r\n\t\twebClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n\t\t\r\n\t\twebClient.waitForBackgroundJavaScript(10000);\r\n\t\twebClient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n\t\t\r\n\t\twebClient.getCache().setMaxSize(0);\r\n\t\t\r\n\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t\tjava.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(java.util.logging.Level.OFF);\r\n\t}","title":"HTMLUNIT Java only redirects to final page when debugging - on run it doesn&#39;t","body":"<p>After many many tests and failures... This is the code that works...</p>\n<pre><code>public WebClient loginONS() {\n    \n    WebClient webClient = createWebClient();\n    try {\n            System.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\n            configureWebClient(webClient);\n            page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\n            \n            threadWait(2);\n\n            HtmlSubmitInput button = (HtmlSubmitInput) page.getElementByName(&quot;submit.IdentificarUsuario&quot;);\n            \n            threadWait(1);\n            \n            HtmlTextInput textField1 = (HtmlTextInput) page.getElementById(&quot;username&quot;);\n            \n            threadWait(1);\n            \n            textField1.setValueAttribute(&quot;my@login.com&quot;);\n            \n            threadWait(2);\n            \n            button.click();\n\n            threadWait(3);\n            \n            page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\n\n            threadWait(3);\n            \n            HtmlPasswordInput textField2 = (HtmlPasswordInput) page.getElementById(&quot;password&quot;);\n            \n            threadWait(1);\n            \n            HtmlSubmitInput button2 = (HtmlSubmitInput) page.getElementByName(&quot;submit.Signin&quot;);\n            \n            threadWait(1);\n            \n            textField2.setValueAttribute(&quot;MyPwd123!&quot;);\n\n            threadWait(2); \n            \n            button2.click();\n\n            threadWait(5);\n            \n            synchronized (page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;)) {\n                page.wait(5000);\n            }\n            \n            if (page.asXml().toUpperCase().contains(&quot;AGUARDE&quot;)) {\n                page = webClient.getPage(&quot;http://pop.ons.org.br/pop&quot;);\n            }\n\n            if (page.asXml().toUpperCase().contains(&quot;TODOS OS AVISOS&quot;)) {\n                logger.info(&quot;Success on Log in&quot;);\n                return webClient;   \n            }\n            else return null;\n    } catch (Exception e) {\n        logger.error(&quot;Exception {}&quot;, e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The <code>configureWebClient()</code> method:</p>\n<pre><code>public void configureWebClient(WebClient webClient) {\n    webClient.getOptions().setCssEnabled(true);\n    webClient.setJavaScriptTimeout(0);\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n    webClient.getOptions().setUseInsecureSSL(true);\n    webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n    webClient.getOptions().setTimeout(0);\n    webClient.getOptions().setJavaScriptEnabled(true);\n    webClient.getOptions().setRedirectEnabled(true);\n    \n    CookieManager cookies = new CookieManager();            \n    cookies.setCookiesEnabled(true);\n    webClient.setCookieManager(cookies);\n    \n    webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n    \n    webClient.waitForBackgroundJavaScript(10000);\n    webClient.waitForBackgroundJavaScriptStartingBefore(10000);\n    \n    webClient.getCache().setMaxSize(0);\n    \n    java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(java.util.logging.Level.OFF);\n    java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(java.util.logging.Level.OFF);\n    java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(java.util.logging.Level.OFF);\n}\n</code></pre>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75139481,"answer_count":1,"score":0,"last_activity_date":1673901865,"creation_date":1673362546,"question_id":75071781,"body_markdown":"I have a problem when trying to reach a final page (after log in) when using `HTMLUNIT` (version 2.67.0)\r\n\r\nWhen I debug my code (line by line), I can put my e-mail and password and go the final page after the log in. But, when I run the code normally, I get stuck on the `Wait... Redirecting to the Final Page`. I have tried MANY MANY stuff (creating new threads to execute the critical parts, synchronize, etc), but nothing seems to work so... \r\n\r\nHELP PLEASE! =)\r\n\r\nHere is the code...\r\n\r\n    WebClient webClient = createWebClient();\r\n        try {\r\n    \t\t\tSystem.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n    \t\t\t\r\n    \t\t\tHtmlPage page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\r\n    \t\t\t\r\n    \t\t\tthreadWait(2);\r\n\r\n    \t\t\tHtmlSubmitInput button = (HtmlSubmitInput) page.getElementByName(&quot;submit.IdentificarUsuario&quot;);\r\n                \r\n    \t\t\tthreadWait(1);\r\n    \t\t\t\r\n    \t\t\tHtmlTextInput textField1 = (HtmlTextInput) page.getElementById(&quot;username&quot;);\r\n                \r\n    \t\t\tthreadWait(1);\r\n    \t\t\t\r\n    \t\t\ttextField1.setValueAttribute(&quot;email@login.com&quot;);\r\n    \t\t\t\r\n    \t\t\tthreadWait(2);\r\n    \t\t\t\r\n    \t\t\tbutton.click();\r\n\r\n    \t\t\tthreadWait(3);\r\n    \t\t\t//Retrieve the page again, with the e-mail/user value, so I can enter the pwd\r\n                page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\r\n\r\n                threadWait(3);\r\n                \r\n                HtmlPasswordInput textField2 = (HtmlPasswordInput) page.getElementById(&quot;password&quot;);\r\n                \r\n                threadWait(1);\r\n                \r\n                HtmlSubmitInput button2 = (HtmlSubmitInput) page.getElementByName(&quot;submit.Signin&quot;);\r\n                \r\n                threadWait(1);\r\n                \r\n    \t\t\ttextField2.setValueAttribute(&quot;myPwd123&quot;);\r\n\r\n    \t\t\tthreadWait(2);\r\n    \t\t\t//The critical parts: when I click the &quot;log in&quot; btn\r\n    \t\t\tsynchronized(button2) {\r\n    \t\t\t\tbutton2.click();\r\n    \t\t\t}\r\n\r\n    \t\t\tthreadWait(5);\r\n    \t\t\t//The other critical part, when I retrieve the page again. \r\n                //When debbuging, this part gets me to the final page... when running normally, \r\n                // it gets stucked on the &quot;Redirecting...&quot; page\r\n    \t\t\tsynchronized (page) {\r\n\t\t\t\t\tpage = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthreadWait(10);\r\n\t\t\t\t\r\n            \tSystem.out.println(page.asXml());\r\n\r\nThe `createWebClient()` method:\r\n\r\n    public WebClient createWebClient() {\r\n\t\t\r\n\t\tWebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n        try {\r\n        \t//par&#226;metros do webclient\r\n\t\t\twebClient.setJavaScriptTimeout(10000);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\t\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\t\twebClient.getOptions().setTimeout(0);\r\n\t\t\twebClient.getOptions().setRedirectEnabled(true);\r\n\t\t\t\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\r\n\t\t\tjava.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\t\t\treturn webClient;\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Error when creating WebClient: {}&quot;, e.getMessage());\r\n            return null;\r\n        }\r\n\t}\r\n\r\nThe `threadWait()` method: (it implements a minimum plus a random interval of time between every action to simulate a real user trying to log in)\r\n\r\n    public void threadWait(int segundos) {\r\n\t\ttry {\r\n\t\t\tRandom r = new Random();\r\n\t\t\tint min = 1000;\r\n\t\t\tint max = 5001;\r\n\t\t\tint random = r.nextInt(max - min) + min;\r\n\t\t\t\r\n\t\t\tsegundos = (segundos * 1000) + random;\r\n\t\t\t\r\n\t\t\tThread.sleep(segundos);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error in Thread.sleep() ... &quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nReading all over `StackOverflow`, the idea is to `Thread.sleep(mills)` to simulate the debug, which I did as you can see. But, it just does not work.\r\n\r\nPlease, how the hell I can get this thing to work? ","title":"HTMLUNIT Java only redirects to final page when debugging - on run it doesn&#39;t","body":"<p>I have a problem when trying to reach a final page (after log in) when using <code>HTMLUNIT</code> (version 2.67.0)</p>\n<p>When I debug my code (line by line), I can put my e-mail and password and go the final page after the log in. But, when I run the code normally, I get stuck on the <code>Wait... Redirecting to the Final Page</code>. I have tried MANY MANY stuff (creating new threads to execute the critical parts, synchronize, etc), but nothing seems to work so...</p>\n<p>HELP PLEASE! =)</p>\n<p>Here is the code...</p>\n<pre><code>WebClient webClient = createWebClient();\n    try {\n            System.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\n            \n            HtmlPage page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\n            \n            threadWait(2);\n\n            HtmlSubmitInput button = (HtmlSubmitInput) page.getElementByName(&quot;submit.IdentificarUsuario&quot;);\n            \n            threadWait(1);\n            \n            HtmlTextInput textField1 = (HtmlTextInput) page.getElementById(&quot;username&quot;);\n            \n            threadWait(1);\n            \n            textField1.setValueAttribute(&quot;email@login.com&quot;);\n            \n            threadWait(2);\n            \n            button.click();\n\n            threadWait(3);\n            //Retrieve the page again, with the e-mail/user value, so I can enter the pwd\n            page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\n\n            threadWait(3);\n            \n            HtmlPasswordInput textField2 = (HtmlPasswordInput) page.getElementById(&quot;password&quot;);\n            \n            threadWait(1);\n            \n            HtmlSubmitInput button2 = (HtmlSubmitInput) page.getElementByName(&quot;submit.Signin&quot;);\n            \n            threadWait(1);\n            \n            textField2.setValueAttribute(&quot;myPwd123&quot;);\n\n            threadWait(2);\n            //The critical parts: when I click the &quot;log in&quot; btn\n            synchronized(button2) {\n                button2.click();\n            }\n\n            threadWait(5);\n            //The other critical part, when I retrieve the page again. \n            //When debbuging, this part gets me to the final page... when running normally, \n            // it gets stucked on the &quot;Redirecting...&quot; page\n            synchronized (page) {\n                page = webClient.getPage(&quot;https://pops.ons.org.br/ons.pop.federation&quot;);\n            }\n            \n            threadWait(10);\n            \n            System.out.println(page.asXml());\n</code></pre>\n<p>The <code>createWebClient()</code> method:</p>\n<pre><code>public WebClient createWebClient() {\n    \n    WebClient webClient = new WebClient(BrowserVersion.CHROME);\n    try {\n        //parâmetros do webclient\n        webClient.setJavaScriptTimeout(10000);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setUseInsecureSSL(true);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setTimeout(0);\n        webClient.getOptions().setRedirectEnabled(true);\n        \n        java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware.htmlunit&quot;).setLevel(Level.OFF);\n        java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n        return webClient;\n    } catch (Exception e) {\n        logger.error(&quot;Error when creating WebClient: {}&quot;, e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The <code>threadWait()</code> method: (it implements a minimum plus a random interval of time between every action to simulate a real user trying to log in)</p>\n<pre><code>public void threadWait(int segundos) {\n    try {\n        Random r = new Random();\n        int min = 1000;\n        int max = 5001;\n        int random = r.nextInt(max - min) + min;\n        \n        segundos = (segundos * 1000) + random;\n        \n        Thread.sleep(segundos);\n    } catch (Exception e) {\n        System.out.println(&quot;Error in Thread.sleep() ... &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>Reading all over <code>StackOverflow</code>, the idea is to <code>Thread.sleep(mills)</code> to simulate the debug, which I did as you can see. But, it just does not work.</p>\n<p>Please, how the hell I can get this thing to work?</p>\n"},{"tags":["java","android","file","path","xlsx"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553708887,"post_id":55383471,"comment_id":97489017,"body_markdown":"Why do you have this extra space on this line `chooseFile.setType( &quot;*/ *&quot;);`","body":"Why do you have this extra space on this line <code>chooseFile.setType( &quot;*&#47; *&quot;);</code>"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1553709031,"post_id":55383471,"comment_id":97489083,"body_markdown":"@Skizo-ozᴉʞS deleted the extra space, but I still get the same filenotfound exception","body":"@Skizo-ozᴉʞS deleted the extra space, but I still get the same filenotfound exception"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553709080,"post_id":55383471,"comment_id":97489114,"body_markdown":"What&#39;s this class `WorkbookFactory.create(new File(path));` doing?","body":"What&#39;s this class <code>WorkbookFactory.create(new File(path));</code> doing?"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1553709106,"post_id":55383471,"comment_id":97489126,"body_markdown":"i&#39;m following this guide: https://www.callicoder.com/java-read-excel-file-apache-poi/  .  &quot;Creating a Workbook from an Excel file (.xls or .xlsx)&quot;","body":"i&#39;m following this guide: <a href=\"https://www.callicoder.com/java-read-excel-file-apache-poi/\" rel=\"nofollow noreferrer\">callicoder.com/java-read-excel-file-apache-poi</a>  .  &quot;Creating a Workbook from an Excel file (.xls or .xlsx)&quot;"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553709184,"post_id":55383471,"comment_id":97489161,"body_markdown":"What is `uri.getPath()` returning?","body":"What is <code>uri.getPath()</code> returning?"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1553709227,"post_id":55383471,"comment_id":97489180,"body_markdown":"The part in the blockquote. &quot;content://com.mi.android.globalFileexplorer.myprovider/root_files/storage/1EF&gt;7-0EF8/Documents/export.xlsx&quot;","body":"The part in the blockquote. &quot;content://com.mi.android.globalFileexplorer.myprovider/root&zwnj;&#8203;_files/storage/1EF&gt;7&zwnj;&#8203;-0EF8/Documents/expo&zwnj;&#8203;rt.xlsx&quot;"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1553709291,"post_id":55383471,"comment_id":97489213,"body_markdown":"Can you try getRelativePath or getAbsolutePath instead please?","body":"Can you try getRelativePath or getAbsolutePath instead please?"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1553709593,"post_id":55383471,"comment_id":97489390,"body_markdown":"I can&#39;t call them to a Uri, tried to create a File from it (path = (new File(URI.create(path))).getAbsolutePath();) but the app dies here","body":"I can&#39;t call them to a Uri, tried to create a File from it (path = (new File(URI.create(path))).getAbsolutePath();) but the app dies here"},{"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"score":0,"creation_date":1553709619,"post_id":55383471,"comment_id":97489398,"body_markdown":"I tried it like this: https://stackoverflow.com/questions/7726119/android-how-can-get-full-path-of-a-file-stored-in-a-folder-in-sdcard  \nBut my path starts with content:// not file://","body":"I tried it like this: <a href=\"https://stackoverflow.com/questions/7726119/android-how-can-get-full-path-of-a-file-stored-in-a-folder-in-sdcard\" title=\"android how can get full path of a file stored in a folder in sdcard\">stackoverflow.com/questions/7726119/&hellip;</a>   But my path starts with content:// not file://"},{"owner":{"account_id":3233272,"reputation":273,"user_id":2728020,"accept_rate":8,"display_name":"Android dev"},"score":0,"creation_date":1595309386,"post_id":55383471,"comment_id":111421634,"body_markdown":"@M&#225;t&#233;Antal Which library you are using for reading xlsx?","body":"@M&#225;t&#233;Antal Which library you are using for reading xlsx?"}],"answers":[{"tags":[],"owner":{"account_id":5975576,"reputation":965,"user_id":4696538,"display_name":"fancyyou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553740909,"creation_date":1553740909,"answer_id":55389400,"question_id":55383471,"body_markdown":"Must cast content uri to file path\r\n\r\n    public class FileUtil {\r\n         public static String getFileAbsolutePath(Context context, Uri uri) {\r\n            if (context == null || uri == null)\r\n                return null;\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n                if (isExternalStorageDocument(uri)) {\r\n                    String docId = DocumentsContract.getDocumentId(uri);\r\n                    String[] split = docId.split(&quot;:&quot;);\r\n                    String type = split[0];\r\n                    if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                        return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                    }\r\n                } else if (isDownloadsDocument(uri)) {\r\n                    String id = DocumentsContract.getDocumentId(uri);\r\n                    Uri contentUri = ContentUris.withAppendedId(Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n                    return getDataColumn(context, contentUri, null, null);\r\n                } else if (isMediaDocument(uri)) {\r\n                    String docId = DocumentsContract.getDocumentId(uri);\r\n                    String[] split = docId.split(&quot;:&quot;);\r\n                    String type = split[0];\r\n                    Uri contentUri = null;\r\n                    if (&quot;image&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                    } else if (&quot;video&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                    } else if (&quot;audio&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                    }\r\n                    String selection = MediaStore.Images.Media._ID + &quot;=?&quot;;\r\n                    String[] selectionArgs = new String[]{split[1]};\r\n                    return getDataColumn(context, contentUri, selection, selectionArgs);\r\n                }\r\n            } else if (ContentResolver.SCHEME_CONTENT.equalsIgnoreCase(uri.getScheme())) {\r\n                // MediaStore (and general)\r\n                // Return the remote address\r\n                if (isGooglePhotosUri(uri))\r\n                    return uri.getLastPathSegment();\r\n                return getDataColumn(context, uri, null, null);\r\n            } else if (ContentResolver.SCHEME_FILE.equalsIgnoreCase(uri.getScheme())) {\r\n                // File\r\n                return uri.getPath();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static String getDataColumn(Context context, Uri uri, String selection, String[] selectionArgs) {\r\n            Cursor cursor = null;\r\n            String column = MediaStore.MediaColumns.DATA;\r\n            String[] projection = {column};\r\n            try {\r\n                cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, null);\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    int index = cursor.getColumnIndexOrThrow(column);\r\n                    return cursor.getString(index);\r\n                }\r\n            } finally {\r\n                if (cursor != null) {\r\n                    cursor.close();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is ExternalStorageProvider.\r\n         */\r\n        public static boolean isExternalStorageDocument(Uri uri) {\r\n            return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is DownloadsProvider.\r\n         */\r\n        public static boolean isDownloadsDocument(Uri uri) {\r\n            return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is MediaProvider.\r\n         */\r\n        public static boolean isMediaDocument(Uri uri) {\r\n            return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is Google Photos.\r\n         */\r\n        public static boolean isGooglePhotosUri(Uri uri) {\r\n            return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n        }\r\n    }\r\n\r\nuse \r\n\r\n    Uri uri = data.getData();\r\n    Log.d(TAG, &quot;uri path: &quot;+uri.getPath());\r\n    String path = FileUtil.getFileAbsolutePath(this, uri);\r\n    Log.d(TAG, &quot;file path: &quot;+path);\r\n    read(path);\r\n\r\n","title":"Android reading data from xlsx","body":"<p>Must cast content uri to file path</p>\n\n<pre><code>public class FileUtil {\n     public static String getFileAbsolutePath(Context context, Uri uri) {\n        if (context == null || uri == null)\n            return null;\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n            if (isExternalStorageDocument(uri)) {\n                String docId = DocumentsContract.getDocumentId(uri);\n                String[] split = docId.split(\":\");\n                String type = split[0];\n                if (\"primary\".equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + \"/\" + split[1];\n                }\n            } else if (isDownloadsDocument(uri)) {\n                String id = DocumentsContract.getDocumentId(uri);\n                Uri contentUri = ContentUris.withAppendedId(Uri.parse(\"content://downloads/public_downloads\"), Long.valueOf(id));\n                return getDataColumn(context, contentUri, null, null);\n            } else if (isMediaDocument(uri)) {\n                String docId = DocumentsContract.getDocumentId(uri);\n                String[] split = docId.split(\":\");\n                String type = split[0];\n                Uri contentUri = null;\n                if (\"image\".equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"video\".equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (\"audio\".equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n                String selection = MediaStore.Images.Media._ID + \"=?\";\n                String[] selectionArgs = new String[]{split[1]};\n                return getDataColumn(context, contentUri, selection, selectionArgs);\n            }\n        } else if (ContentResolver.SCHEME_CONTENT.equalsIgnoreCase(uri.getScheme())) {\n            // MediaStore (and general)\n            // Return the remote address\n            if (isGooglePhotosUri(uri))\n                return uri.getLastPathSegment();\n            return getDataColumn(context, uri, null, null);\n        } else if (ContentResolver.SCHEME_FILE.equalsIgnoreCase(uri.getScheme())) {\n            // File\n            return uri.getPath();\n        }\n        return null;\n    }\n\n    public static String getDataColumn(Context context, Uri uri, String selection, String[] selectionArgs) {\n        Cursor cursor = null;\n        String column = MediaStore.MediaColumns.DATA;\n        String[] projection = {column};\n        try {\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs, null);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                int index = cursor.getColumnIndexOrThrow(column);\n                return cursor.getString(index);\n            }\n        } finally {\n            if (cursor != null) {\n                cursor.close();\n            }\n        }\n        return null;\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is ExternalStorageProvider.\n     */\n    public static boolean isExternalStorageDocument(Uri uri) {\n        return \"com.android.externalstorage.documents\".equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is DownloadsProvider.\n     */\n    public static boolean isDownloadsDocument(Uri uri) {\n        return \"com.android.providers.downloads.documents\".equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is MediaProvider.\n     */\n    public static boolean isMediaDocument(Uri uri) {\n        return \"com.android.providers.media.documents\".equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is Google Photos.\n     */\n    public static boolean isGooglePhotosUri(Uri uri) {\n        return \"com.google.android.apps.photos.content\".equals(uri.getAuthority());\n    }\n}\n</code></pre>\n\n<p>use </p>\n\n<pre><code>Uri uri = data.getData();\nLog.d(TAG, \"uri path: \"+uri.getPath());\nString path = FileUtil.getFileAbsolutePath(this, uri);\nLog.d(TAG, \"file path: \"+path);\nread(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3810053,"reputation":163,"user_id":3161258,"display_name":"Mrityunjai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673900904,"creation_date":1673900904,"answer_id":75139354,"question_id":55383471,"body_markdown":"\r\nTo read xlsx file\r\n\r\nAdd following dependencies, in build gradle\r\n\r\n    implementation &#39;org.apache.poi:poi:5.2.0&#39;\r\n\r\n    implementation &#39;org.apache.poi:poi-ooxml:5.2.0&#39;\r\nuse following code\r\n\r\n    import org.apache.poi.openxml4j.opc.OPCPackage\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook\r\n    \r\n    // change this if not using file from resources directory\r\n    val file= this.javaClass.classLoader.getResourceAsStream(&quot;data.xlsx&quot;)\r\n\r\n    val pkg: OPCPackage = OPCPackage.open(file)\r\n    val wb = XSSFWorkbook(pkg)\r\n\r\n    val rowNumber = 0\r\n\r\n    val columnNumber = 1\r\n    val sheet0 = wb.getSheetAt(0)\r\n    println(sheet0.getRow(rowNumber).getCell(columnNumber))","title":"Android reading data from xlsx","body":"<p>To read xlsx file</p>\n<p>Add following dependencies, in build gradle</p>\n<pre><code>implementation 'org.apache.poi:poi:5.2.0'\n\nimplementation 'org.apache.poi:poi-ooxml:5.2.0'\n</code></pre>\n<p>use following code</p>\n<pre><code>import org.apache.poi.openxml4j.opc.OPCPackage\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook\n\n// change this if not using file from resources directory\nval file= this.javaClass.classLoader.getResourceAsStream(&quot;data.xlsx&quot;)\n\nval pkg: OPCPackage = OPCPackage.open(file)\nval wb = XSSFWorkbook(pkg)\n\nval rowNumber = 0\n\nval columnNumber = 1\nval sheet0 = wb.getSheetAt(0)\nprintln(sheet0.getRow(rowNumber).getCell(columnNumber))\n</code></pre>\n"}],"owner":{"account_id":11491406,"reputation":157,"user_id":11126005,"display_name":"M&#225;t&#233; Antal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1919,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673900904,"creation_date":1553708457,"question_id":55383471,"body_markdown":"I&#39;m trying to read data from an xlsx, in Android. I have this code, to choose a file, and the read function to get some data from the chosen xlsx.   \r\nI get a path of the xlsy like this:  \r\n&gt;content://com.mi.android.globalFileexplorer.myprovider/root_files/storage/1EF&gt;7-0EF8/Documents/export.xlsx\r\n\r\nBut the read function gives me a filenotfound exception.  \r\nSo my question is, how should I get the proper path of the file?\r\n\r\n\r\n```  \r\npublic void onBrowse() {\r\n        Intent chooseFile;\r\n        Intent intent;\r\n        chooseFile = new Intent(Intent.ACTION_GET_CONTENT);\r\n        chooseFile.addCategory(Intent.CATEGORY_OPENABLE);\r\n        chooseFile.setType( &quot;*/*&quot;);\r\n        intent = Intent.createChooser(chooseFile, &quot;Choose a file&quot;);\r\n        startActivityForResult(intent, ACTIVITY_CHOOSE_FILE);\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        if (resultCode != RESULT_OK) return;\r\n        if(requestCode == ACTIVITY_CHOOSE_FILE)\r\n        {\r\n            Uri uri = data.getData();\r\n            Log.d(TAG, &quot;uri path: &quot;+uri.getPath());\r\n            read(uri.getPath());\r\n        }\r\n    }\r\n\r\nprivate void read(String path) {\r\n        try {\r\n            workbook = WorkbookFactory.create(new File(path));\r\n        } catch (Exception e) {\r\n            Log.d(TAG, &quot;read: &quot; + e.getMessage());\r\n        }\r\n\r\n        Log.d(TAG, &quot;Workbook has &quot; + workbook.getNumberOfSheets() + &quot; sheets&quot;);\r\n    }\r\n```","title":"Android reading data from xlsx","body":"<p>I'm trying to read data from an xlsx, in Android. I have this code, to choose a file, and the read function to get some data from the chosen xlsx.<br>\nI get a path of the xlsy like this:  </p>\n\n<blockquote>\n  <p>content://com.mi.android.globalFileexplorer.myprovider/root_files/storage/1EF>7-0EF8/Documents/export.xlsx</p>\n</blockquote>\n\n<p>But the read function gives me a filenotfound exception.<br>\nSo my question is, how should I get the proper path of the file?</p>\n\n<pre><code>public void onBrowse() {\n        Intent chooseFile;\n        Intent intent;\n        chooseFile = new Intent(Intent.ACTION_GET_CONTENT);\n        chooseFile.addCategory(Intent.CATEGORY_OPENABLE);\n        chooseFile.setType( \"*/*\");\n        intent = Intent.createChooser(chooseFile, \"Choose a file\");\n        startActivityForResult(intent, ACTIVITY_CHOOSE_FILE);\n    }\n\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        if (resultCode != RESULT_OK) return;\n        if(requestCode == ACTIVITY_CHOOSE_FILE)\n        {\n            Uri uri = data.getData();\n            Log.d(TAG, \"uri path: \"+uri.getPath());\n            read(uri.getPath());\n        }\n    }\n\nprivate void read(String path) {\n        try {\n            workbook = WorkbookFactory.create(new File(path));\n        } catch (Exception e) {\n            Log.d(TAG, \"read: \" + e.getMessage());\n        }\n\n        Log.d(TAG, \"Workbook has \" + workbook.getNumberOfSheets() + \" sheets\");\n    }\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673900765,"creation_date":1673900408,"answer_id":75139291,"question_id":75139265,"body_markdown":"[`HashSet`][1] does not support concurrent access. Use [`ConcurrentHashMap.newKeySet()`][2] instead.\r\n\r\nFrom `HashSet`&#39;s docs:\r\n&gt;**Note that this implementation is not synchronized.** If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally.\r\n\r\nAs you are adding elements from within a terminal operation of a *parallel* stream, you are breaking `HashSet`&#39;s contract, thus experiencing the inconsistent results you have described.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#newKeySet()","title":"Java HashSet seems to contain duplicate values","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> does not support concurrent access. Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ConcurrentHashMap.html#newKeySet()\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap.newKeySet()</code></a> instead.</p>\n<p>From <code>HashSet</code>'s docs:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads access a hash set concurrently, and at least one of the threads modifies the set, it must be synchronized externally.</p>\n</blockquote>\n<p>As you are adding elements from within a terminal operation of a <em>parallel</em> stream, you are breaking <code>HashSet</code>'s contract, thus experiencing the inconsistent results you have described.</p>\n"}],"owner":{"account_id":191671,"reputation":1736,"user_id":432378,"accept_rate":92,"display_name":"Eugene Marin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75139291,"answer_count":1,"score":1,"last_activity_date":1673900765,"creation_date":1673900173,"question_id":75139265,"body_markdown":"I have a unit test that fails about 1 out of 30 times, I don&#39;t understand why. Here is a simplified version of it:\r\n\r\n    @Test\r\n    void size() {\r\n        int totalIndexes = 10;\r\n        Set&lt;Integer&gt; usedIndexes = new HashSet&lt;&gt;();\r\n        AtomicInteger index = new AtomicInteger();\r\n        Stream.generate(() -&gt; index.getAndIncrement() % totalIndexes).parallel().limit(1000).forEach(i -&gt; {\r\n            try {\r\n                Thread.sleep(1);\r\n            } catch (InterruptedException ignore) {}\r\n            usedIndexes.add(i);\r\n        });\r\n        if (usedIndexes.size() &gt; totalIndexes) {\r\n            // Should be impossible?\r\n            System.out.println(usedIndexes.stream().map(i -&gt; String.format(&quot;%s %d&quot;, i, i.hashCode()))\r\n                    .collect(Collectors.joining(&quot; | &quot;)));\r\n            System.out.println(&quot;Total: &quot; + usedIndexes.size());\r\n        }\r\n        assertTrue(usedIndexes.size() &lt;= totalIndexes);\r\n    }\r\n\r\nThe sleep is there just to make sure several threads are used, as it seems to be connected to the problem (not sure). Without it, the problem occurred after about 30K runs.\r\n\r\nAs you can see I added prints for the bad case and got some example outputs such as:\r\n\r\n    0 0 | 1 1 | 2 2 | 3 3 | 4 4 | 5 5 | 6 6 | 7 7 | 8 8 | 9 9\r\n    Total: 26\r\n\r\n    8 8 | 0 0 | 9 9 | 1 1 | 2 2 | 3 3 | 4 4 | 5 5 | 6 6 | 7 7 | 4 4 | 5 5 | 6 6 | 7 7\r\n    Total: 16\r\n\r\nBreakpoint screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFurthermore, not trusting my years writing Java I decided to ask ChatGPT about it:\r\n\r\nMe:\r\n\r\n&gt; Consider this test: Can usedIndexes ever be bigger than 10 objects? How? [code above]\r\n\r\nChat:\r\n\r\n&gt; The value of usedIndexes should always be less than or equal to\r\n&gt; totalIndexes because the stream is generating integers between 0 and\r\n&gt; totalIndexes - 1 (inclusive) by using the modulo operator % and the\r\n&gt; getAndIncrement() method on the AtomicInteger object index. The stream\r\n&gt; is then limited to 1000 elements, so it will not generate more than\r\n&gt; 1000 integers. Since the usedIndexes set only stores unique integers,\r\n&gt; its size should never be greater than totalIndexes.\r\n&gt; \r\n&gt; It is possible that usedIndexes can be equal to totalIndexes if every\r\n&gt; number generated is unique and it is also possible that usedIndexes\r\n&gt; can be smaller than totalIndexes if some of the generated numbers are\r\n&gt; same. This is because, the HashSet only stores unique elements and the\r\n&gt; size of the set will be the number of unique elements.\r\n\r\nI must be missing something simple here. Using latest IntelliJ, Java 17.\r\n\r\n  [1]: https://i.stack.imgur.com/0fTa4.png","title":"Java HashSet seems to contain duplicate values","body":"<p>I have a unit test that fails about 1 out of 30 times, I don't understand why. Here is a simplified version of it:</p>\n<pre><code>@Test\nvoid size() {\n    int totalIndexes = 10;\n    Set&lt;Integer&gt; usedIndexes = new HashSet&lt;&gt;();\n    AtomicInteger index = new AtomicInteger();\n    Stream.generate(() -&gt; index.getAndIncrement() % totalIndexes).parallel().limit(1000).forEach(i -&gt; {\n        try {\n            Thread.sleep(1);\n        } catch (InterruptedException ignore) {}\n        usedIndexes.add(i);\n    });\n    if (usedIndexes.size() &gt; totalIndexes) {\n        // Should be impossible?\n        System.out.println(usedIndexes.stream().map(i -&gt; String.format(&quot;%s %d&quot;, i, i.hashCode()))\n                .collect(Collectors.joining(&quot; | &quot;)));\n        System.out.println(&quot;Total: &quot; + usedIndexes.size());\n    }\n    assertTrue(usedIndexes.size() &lt;= totalIndexes);\n}\n</code></pre>\n<p>The sleep is there just to make sure several threads are used, as it seems to be connected to the problem (not sure). Without it, the problem occurred after about 30K runs.</p>\n<p>As you can see I added prints for the bad case and got some example outputs such as:</p>\n<pre><code>0 0 | 1 1 | 2 2 | 3 3 | 4 4 | 5 5 | 6 6 | 7 7 | 8 8 | 9 9\nTotal: 26\n\n8 8 | 0 0 | 9 9 | 1 1 | 2 2 | 3 3 | 4 4 | 5 5 | 6 6 | 7 7 | 4 4 | 5 5 | 6 6 | 7 7\nTotal: 16\n</code></pre>\n<p>Breakpoint screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/0fTa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0fTa4.png\" alt=\"enter image description here\" /></a></p>\n<p>Furthermore, not trusting my years writing Java I decided to ask ChatGPT about it:</p>\n<p>Me:</p>\n<blockquote>\n<p>Consider this test: Can usedIndexes ever be bigger than 10 objects? How? [code above]</p>\n</blockquote>\n<p>Chat:</p>\n<blockquote>\n<p>The value of usedIndexes should always be less than or equal to\ntotalIndexes because the stream is generating integers between 0 and\ntotalIndexes - 1 (inclusive) by using the modulo operator % and the\ngetAndIncrement() method on the AtomicInteger object index. The stream\nis then limited to 1000 elements, so it will not generate more than\n1000 integers. Since the usedIndexes set only stores unique integers,\nits size should never be greater than totalIndexes.</p>\n<p>It is possible that usedIndexes can be equal to totalIndexes if every\nnumber generated is unique and it is also possible that usedIndexes\ncan be smaller than totalIndexes if some of the generated numbers are\nsame. This is because, the HashSet only stores unique elements and the\nsize of the set will be the number of unique elements.</p>\n</blockquote>\n<p>I must be missing something simple here. Using latest IntelliJ, Java 17.</p>\n"},{"tags":["java","swing","jpanel"],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673900711,"creation_date":1673900711,"answer_id":75139329,"question_id":75139111,"body_markdown":"I made a few changes to your code and created the following GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nIn your code, you created a `JPanel` with a `FlowLayout` and placed it inside a `JPanel` with a `GridBagLayout`.  The `FlowLayout` `JPanel` is considered one Swing component, so it won&#39;t adjust to the container size.\r\n\r\nI added a `main` method and a `JFrame` to your code to show the difference.\r\n\r\nHere&#39;s the complete runnable code that I think you want.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class GridBagLayoutTest2 implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new GridBagLayoutTest2());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createPanels(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createPanels() {\r\n    \t\tJPanel content = new JPanel(new GridBagLayout());\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.insets = new Insets(5, 5, 5, 5);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tgbc.weightx = 0.0;\r\n    \t\tcontent.add(new JLabel(&quot;Test&quot;), gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tgbc.weightx = 1.0;\r\n    \t\tcontent.add(new JButton(&quot;+&quot;), gbc);\r\n    \r\n    \t\treturn content;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wiSZ1.png\r\n","title":"How to set sub panels have the same width as their container with GridBagLayout?","body":"<p>I made a few changes to your code and created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/wiSZ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wiSZ1.png\" alt=\"Example\" /></a></p>\n<p>In your code, you created a <code>JPanel</code> with a <code>FlowLayout</code> and placed it inside a <code>JPanel</code> with a <code>GridBagLayout</code>.  The <code>FlowLayout</code> <code>JPanel</code> is considered one Swing component, so it won't adjust to the container size.</p>\n<p>I added a <code>main</code> method and a <code>JFrame</code> to your code to show the difference.</p>\n<p>Here's the complete runnable code that I think you want.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class GridBagLayoutTest2 implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new GridBagLayoutTest2());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createPanels(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createPanels() {\n        JPanel content = new JPanel(new GridBagLayout());\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.gridwidth = 1;\n        gbc.insets = new Insets(5, 5, 5, 5);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 0.0;\n        content.add(new JLabel(&quot;Test&quot;), gbc);\n\n        gbc.gridx++;\n        gbc.weightx = 1.0;\n        content.add(new JButton(&quot;+&quot;), gbc);\n\n        return content;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":17668602,"reputation":97,"user_id":12825370,"display_name":"Javi Albors"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673900711,"creation_date":1673898990,"question_id":75139111,"body_markdown":"So I have a main JPanel that I would want to use as a container for more panels. I would like the child panels to have the same width as its parent and I tried using GridBagLayout to achieve it:\r\n\r\n    private JPanel createPanels() {\r\n        JPanel content = new JPanel(new GridBagLayout());\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.LINE_START;\r\n        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n        gbc.gridwidth = 1;\r\n\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        JPanel p1 = new JPanel();\r\n        p1.add(new JLabel(&quot;Test&quot;));\r\n        p1.add(new JButton(&quot;+&quot;));\r\n\r\n        content.add(p1, gbc);\r\n\r\n        return content;\r\n    }\r\n\r\nWith this piece of code, I get the following result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0mYg8.png\r\n\r\nAs you can see, the panel that just got created doesn&#39;t fit the width of its container (green panel). I thought `gbc.anchor = GridBagConstraints.LINE_START;` and `gbc.fill = GridBagConstraints.HORIZONTAL;` lines would be in charge of doing that, but apparently they did not.\r\n\r\nHow can I achieve this? ","title":"How to set sub panels have the same width as their container with GridBagLayout?","body":"<p>So I have a main JPanel that I would want to use as a container for more panels. I would like the child panels to have the same width as its parent and I tried using GridBagLayout to achieve it:</p>\n<pre><code>private JPanel createPanels() {\n    JPanel content = new JPanel(new GridBagLayout());\n\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.anchor = GridBagConstraints.LINE_START;\n    gbc.fill = GridBagConstraints.HORIZONTAL;\n    gbc.gridwidth = 1;\n\n    gbc.gridx = 0;\n    gbc.gridy = 0;\n    JPanel p1 = new JPanel();\n    p1.add(new JLabel(&quot;Test&quot;));\n    p1.add(new JButton(&quot;+&quot;));\n\n    content.add(p1, gbc);\n\n    return content;\n}\n</code></pre>\n<p>With this piece of code, I get the following result:</p>\n<p><a href=\"https://i.stack.imgur.com/0mYg8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0mYg8.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the panel that just got created doesn't fit the width of its container (green panel). I thought <code>gbc.anchor = GridBagConstraints.LINE_START;</code> and <code>gbc.fill = GridBagConstraints.HORIZONTAL;</code> lines would be in charge of doing that, but apparently they did not.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","inheritance","constructor"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673900857,"post_id":75139296,"comment_id":132596217,"body_markdown":"If `Parent` is from a third party library, then leave it alone untouched.   Is there a reason you can’t (or don’t want to) have the code `... make copy ...` in your `Child` constructor?","body":"If <code>Parent</code> is from a third party library, then leave it alone untouched.   Is there a reason you can’t (or don’t want to) have the code <code>... make copy ...</code> in your <code>Child</code> constructor?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1673900882,"post_id":75139296,"comment_id":132596223,"body_markdown":"Without seeing more details, I can&#39;t say for sure. But my first guess is: `Parent` is a sloppy class and should be rewritten from the ground up. If your class requires a bunch of random methods to be called to get it into a valid state, then that&#39;s a massive red flag that needs to be dealt with. If you need to do some setup to initialize a `Parent`, then that partially complete object should be a `ParentBuilder` which then translates (when completed) into a `Parent`.","body":"Without seeing more details, I can&#39;t say for sure. But my first guess is: <code>Parent</code> is a sloppy class and should be rewritten from the ground up. If your class requires a bunch of random methods to be called to get it into a valid state, then that&#39;s a massive red flag that needs to be dealt with. If you need to do some setup to initialize a <code>Parent</code>, then that partially complete object should be a <code>ParentBuilder</code> which then translates (when completed) into a <code>Parent</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673906033,"post_id":75139296,"comment_id":132597580,"body_markdown":"Do you need to have an instance of `Parent`, with your additions, to pass to methods which expect a `Parent`? Or do you just want to use the behaviour which has been implemented in `Parent` in your own code? Perhaps you can just compose a `Parent` instance as a field in a class of your own, instead of extending it.","body":"Do you need to have an instance of <code>Parent</code>, with your additions, to pass to methods which expect a <code>Parent</code>? Or do you just want to use the behaviour which has been implemented in <code>Parent</code> in your own code? Perhaps you can just compose a <code>Parent</code> instance as a field in a class of your own, instead of extending it."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1673909806,"post_id":75139296,"comment_id":132598412,"body_markdown":"@racraman As far as I can see, that code could also be in the child class. But I find it cleaner to have that bit in the parent class (and not all fields ar accessible outside the parent, I think). It also somehow feels clumsy to do it in the child class.","body":"@racraman As far as I can see, that code could also be in the child class. But I find it cleaner to have that bit in the parent class (and not all fields ar accessible outside the parent, I think). It also somehow feels clumsy to do it in the child class."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1673909957,"post_id":75139296,"comment_id":132598441,"body_markdown":"@SilvioMayolo I am not a very good programmer, so it&#39;s a bit difficult for me to say, but it seems that you could be right about the sloppiness. It could also be because it&#39;s part of something quite complex. It&#39;s research code...","body":"@SilvioMayolo I am not a very good programmer, so it&#39;s a bit difficult for me to say, but it seems that you could be right about the sloppiness. It could also be because it&#39;s part of something quite complex. It&#39;s research code..."},{"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"score":0,"creation_date":1673910095,"post_id":75139296,"comment_id":132598468,"body_markdown":"@tgdavies I thought of that too -- but I really want the child to have all the data of a parent instance, to have all its functionality, and then also some methods of its own. So it should really be an extension.","body":"@tgdavies I thought of that too -- but I really want the child to have all the data of a parent instance, to have all its functionality, and then also some methods of its own. So it should really be an extension."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673910380,"post_id":75139296,"comment_id":132598515,"body_markdown":"It depends on whether you are happy to modify the third-party library. The cost of delegating accessors and other methods to the composed instance of `Parent` is a one-off. Applying your modifications to `Parent` has to be done each time you upgrade that library. If it is not necessary that `Child` `IS-A` `Parent`, composition may well be the better solution.","body":"It depends on whether you are happy to modify the third-party library. The cost of delegating accessors and other methods to the composed instance of <code>Parent</code> is a one-off. Applying your modifications to <code>Parent</code> has to be done each time you upgrade that library. If it is not necessary that <code>Child</code> <code>IS-A</code> <code>Parent</code>, composition may well be the better solution."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673910450,"post_id":75139296,"comment_id":132598527,"body_markdown":"(If there is an interface that `Parent` implements, of course `Child` can implement that too)","body":"(If there is an interface that <code>Parent</code> implements, of course <code>Child</code> can implement that too)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1673915575,"post_id":75139296,"comment_id":132599275,"body_markdown":"@rdv Oof, &quot;research code&quot; is never a good sign. There are researchers who are also good programmers, but in my experience the overlap is small, as most researchers&#39; priority is *not* the code quality but the study itself.","body":"@rdv Oof, &quot;research code&quot; is never a good sign. There are researchers who are also good programmers, but in my experience the overlap is small, as most researchers&#39; priority is <i>not</i> the code quality but the study itself."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1673946001,"post_id":75139296,"comment_id":132604359,"body_markdown":"So the third party library - can you modify it at source ?  Eg, is it open-source, and/or in your organisation ?  If  so, add your code that way - if you have a need to do that, the chances are other people who are using it would do as well.  I really would advise against changing that source locally;  use the jar, don’t touch the source behind it.","body":"So the third party library - can you modify it at source ?  Eg, is it open-source, and/or in your organisation ?  If  so, add your code that way - if you have a need to do that, the chances are other people who are using it would do as well.  I really would advise against changing that source locally;  use the jar, don’t touch the source behind it."}],"owner":{"account_id":6154212,"reputation":696,"user_id":7064415,"accept_rate":83,"display_name":"rdv"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673900473,"creation_date":1673900473,"question_id":75139296,"body_markdown":"I am using a class `Parent` from a third-party library. I want to add some functionality to it, but I don&#39;t want to mess with the original code too much (I want to keep my additions separate -- at least for now).\r\n\r\nI thought to tackle this by making a child class, and then adding all extra functionality to that. However, a &#39;full&#39; instance of `Parent` (i.e., one containing data) is not created through a constructor, but through a number of other methods in other classes. `Parent` only has a constructor that makes an empty `Parent` instance: \r\n\r\n    public Parent() {\r\n        ...\r\n    }\r\n\r\n... which won&#39;t be useful in the child class constructor. My thought now was to add a copy constructor to `Parent`:\r\n\r\n    public Parent(Parent p) {\r\n        ... make copy ...\r\n    }\r\n\r\n... and then call *that* constructor in the `Child` constructor:\r\n\r\n    public Child(Parent p) {\r\n        super(p);\r\n    }\r\n\r\nWould this be a sensible way to go about this, or are there other preferred methods?\r\n","title":"Create a child instance that has all the data of an instance of its parent class","body":"<p>I am using a class <code>Parent</code> from a third-party library. I want to add some functionality to it, but I don't want to mess with the original code too much (I want to keep my additions separate -- at least for now).</p>\n<p>I thought to tackle this by making a child class, and then adding all extra functionality to that. However, a 'full' instance of <code>Parent</code> (i.e., one containing data) is not created through a constructor, but through a number of other methods in other classes. <code>Parent</code> only has a constructor that makes an empty <code>Parent</code> instance:</p>\n<pre><code>public Parent() {\n    ...\n}\n</code></pre>\n<p>... which won't be useful in the child class constructor. My thought now was to add a copy constructor to <code>Parent</code>:</p>\n<pre><code>public Parent(Parent p) {\n    ... make copy ...\n}\n</code></pre>\n<p>... and then call <em>that</em> constructor in the <code>Child</code> constructor:</p>\n<pre><code>public Child(Parent p) {\n    super(p);\n}\n</code></pre>\n<p>Would this be a sensible way to go about this, or are there other preferred methods?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673900464,"creation_date":1673900464,"answer_id":75139295,"question_id":75137724,"body_markdown":"You can try this code:\r\n\r\n```java\r\nGroupOperation group = Aggregation.group(&quot;field1&quot;).count().as(&quot;count&quot;);\r\nMatchOperation match = Aggregation.match(Criteria.where(&quot;_id&quot;).ne(null).andOperator(Criteria.where(&quot;count&quot;).gt(1)));\r\nProjectionOperation project = Aggregation.project().andExpression(&quot;_id&quot;).as(&quot;name&quot;).andExclude(&quot;_id&quot;);\r\n\r\nAggregation aggregation = Aggregation.newAggregation(group, match, project);\r\n\r\nmongoTemplate.aggregate(aggregation, &quot;collection&quot;, YourClass.class);\r\n```\r\n\r\nDocs:\r\n\r\n- [GroupOperation](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/GroupOperation.html)\r\n- [MatchOperation](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/MatchOperation.html)\r\n- [ProjectionOperation](https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/ProjectionOperation.html)\r\n\r\nAnd a [Baeldung example](https://www.baeldung.com/spring-data-mongodb-projections-aggregations).","title":"How to write mongo query in springboot criteria","body":"<p>You can try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GroupOperation group = Aggregation.group(&quot;field1&quot;).count().as(&quot;count&quot;);\nMatchOperation match = Aggregation.match(Criteria.where(&quot;_id&quot;).ne(null).andOperator(Criteria.where(&quot;count&quot;).gt(1)));\nProjectionOperation project = Aggregation.project().andExpression(&quot;_id&quot;).as(&quot;name&quot;).andExclude(&quot;_id&quot;);\n\nAggregation aggregation = Aggregation.newAggregation(group, match, project);\n\nmongoTemplate.aggregate(aggregation, &quot;collection&quot;, YourClass.class);\n</code></pre>\n<p>Docs:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/GroupOperation.html\" rel=\"nofollow noreferrer\">GroupOperation</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/MatchOperation.html\" rel=\"nofollow noreferrer\">MatchOperation</a></li>\n<li><a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/ProjectionOperation.html\" rel=\"nofollow noreferrer\">ProjectionOperation</a></li>\n</ul>\n<p>And a <a href=\"https://www.baeldung.com/spring-data-mongodb-projections-aggregations\" rel=\"nofollow noreferrer\">Baeldung example</a>.</p>\n"}],"owner":{"account_id":27497942,"reputation":47,"user_id":20982166,"display_name":"Janeth Jackson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75139295,"answer_count":1,"score":2,"last_activity_date":1673900464,"creation_date":1673890375,"question_id":75137724,"body_markdown":"A little assistance on how to write this query in spring boot criteria. \r\n\r\n```\r\ndb.collection.aggregate([\r\n    {&quot;$group&quot; : { &quot;_id&quot;: &quot;$field1&quot;, &quot;count&quot;: { &quot;$sum&quot;: 1 } } },\r\n    {&quot;$match&quot;: {&quot;_id&quot; :{ &quot;$ne&quot; : null } , &quot;count&quot; : {&quot;$gt&quot;: 1} } }, \r\n    {&quot;$project&quot;: {&quot;name&quot; : &quot;$_id&quot;, &quot;_id&quot; : 0} }\r\n])\r\n```\r\n","title":"How to write mongo query in springboot criteria","body":"<p>A little assistance on how to write this query in spring boot criteria.</p>\n<pre><code>db.collection.aggregate([\n    {&quot;$group&quot; : { &quot;_id&quot;: &quot;$field1&quot;, &quot;count&quot;: { &quot;$sum&quot;: 1 } } },\n    {&quot;$match&quot;: {&quot;_id&quot; :{ &quot;$ne&quot; : null } , &quot;count&quot; : {&quot;$gt&quot;: 1} } }, \n    {&quot;$project&quot;: {&quot;name&quot; : &quot;$_id&quot;, &quot;_id&quot; : 0} }\n])\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":112931,"reputation":77772,"user_id":297696,"accept_rate":100,"display_name":"wkl"},"score":2,"creation_date":1319128664,"post_id":7839192,"comment_id":9557938,"body_markdown":"Who&#39;s &#39;we&#39;? You might want to read this thread, and the code in question might be following bad practices or makes some assumptions - ask the person who put it in there why he did it: http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc","body":"Who&#39;s &#39;we&#39;? You might want to read this thread, and the code in question might be following bad practices or makes some assumptions - ask the person who put it in there why he did it: <a href=\"http://stackoverflow.com/questions/2414105/why-is-it-a-bad-practice-to-call-system-gc\" title=\"why is it a bad practice to call system gc\">stackoverflow.com/questions/2414105/&hellip;</a>"},{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":1,"creation_date":1319128941,"post_id":7839192,"comment_id":9558014,"body_markdown":"No, *we* don&#39;t. The GC runs only when JVM runs out of memory and needs to get rid of, well, garbage. It does not run on regular intervals.","body":"No, <i>we</i> don&#39;t. The GC runs only when JVM runs out of memory and needs to get rid of, well, garbage. It does not run on regular intervals."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673900060,"creation_date":1319128877,"answer_id":7839250,"question_id":7839192,"body_markdown":"For testing purposes it can be useful to know when a GC has been performed. However this is rare and calling `System.gc()` when it isn&#39;t needed is such a common mistake that you can turn it off with `-XX:+DisableExplicitGC.`","title":"Why we are calling System.gc() method to garbage collection of unused object","body":"<p>For testing purposes it can be useful to know when a GC has been performed. However this is rare and calling <code>System.gc()</code> when it isn't needed is such a common mistake that you can turn it off with <code>-XX:+DisableExplicitGC.</code></p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319128894,"creation_date":1319128894,"answer_id":7839254,"question_id":7839192,"body_markdown":"We&#39;re not, because we&#39;re generally not smarter than the GC. Technically, calling it doesn&#39;t guarantee it&#39;ll run, although in many implementations it does.\r\n\r\nAlso, it&#39;s not necessarily done at regular imtervals, but based on an as-needed basis. Different implementations will start GC based on different criteria.","title":"Why we are calling System.gc() method to garbage collection of unused object","body":"<p>We're not, because we're generally not smarter than the GC. Technically, calling it doesn't guarantee it'll run, although in many implementations it does.</p>\n\n<p>Also, it's not necessarily done at regular imtervals, but based on an as-needed basis. Different implementations will start GC based on different criteria.</p>\n"},{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319128923,"creation_date":1319128923,"answer_id":7839259,"question_id":7839192,"body_markdown":"System.gc() just gives the garbage collector a hint that this might be a good time for garbage collection, e.g. because a lot of objects aren&#39;t used anymore and processing has finished.\r\n\r\nIt doesn&#39;t force the garbage collector to do anything - it just gives a hint.\r\n\r\nOnly use this once you need to optimze your application (after profiling).\r\n\r\nI don&#39;t think I have ever seen it in production code so far.","title":"Why we are calling System.gc() method to garbage collection of unused object","body":"<p>System.gc() just gives the garbage collector a hint that this might be a good time for garbage collection, e.g. because a lot of objects aren't used anymore and processing has finished.</p>\n\n<p>It doesn't force the garbage collector to do anything - it just gives a hint.</p>\n\n<p>Only use this once you need to optimze your application (after profiling).</p>\n\n<p>I don't think I have ever seen it in production code so far.</p>\n"},{"tags":[],"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319129592,"creation_date":1319129592,"answer_id":7839389,"question_id":7839192,"body_markdown":"While it shouldn&#39;t be necessary, I had code that thrashed much, much less when I did an explicit System.gc after a very large Map was emptied, just to be refilled again, in a loop. I think without a hint the collector tried minor gcs until it was clear that wouldn&#39;t do. Yes, I put it in production. I also put in a comment, just so my colleagues would test rather than blindly remove.","title":"Why we are calling System.gc() method to garbage collection of unused object","body":"<p>While it shouldn't be necessary, I had code that thrashed much, much less when I did an explicit System.gc after a very large Map was emptied, just to be refilled again, in a loop. I think without a hint the collector tried minor gcs until it was clear that wouldn't do. Yes, I put it in production. I also put in a comment, just so my colleagues would test rather than blindly remove.</p>\n"}],"owner":{"account_id":984194,"reputation":573,"user_id":1003130,"display_name":"Anu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":4,"score":-1,"last_activity_date":1673900060,"creation_date":1319128527,"question_id":7839192,"body_markdown":"Why we are calling System.gc() method to garbage collection of unused object, if garbage collection is automatically done in Java by daemon thread in background process with regular interval?","title":"Why we are calling System.gc() method to garbage collection of unused object","body":"<p>Why we are calling System.gc() method to garbage collection of unused object, if garbage collection is automatically done in Java by daemon thread in background process with regular interval?</p>\n"},{"tags":["java","unit-testing","junit","mockito","junit4"],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673900008,"creation_date":1673895051,"answer_id":75138510,"question_id":75138402,"body_markdown":"You don&#39;t usually want to mock an implementation class, especially when there is an interface for it. The point of mocking is that you don&#39;t need (or want) the real implementation to be used.\r\n\r\nSo in your case, your `@Mock` should be\r\n\r\n```java\r\n@Mock\r\nprivate UserService userService;\r\n\r\n```\r\n\r\nFurthermore, you have this line in `UserInfoImpl`:\r\n```java\r\nuserService = new UserServiceImpl();\r\n```\r\n\r\nObviously this replaces whatever instance of `UserService` you inject (including the mock). I&#39;m guessing that&#39;s a mistake (maybe left around from an earlier attempt) since I can&#39;t think of any reason you&#39;d really want to instantiate something that you&#39;re injecting.","title":"Mockito Junit 4 , Mock java method not getting called","body":"<p>You don't usually want to mock an implementation class, especially when there is an interface for it. The point of mocking is that you don't need (or want) the real implementation to be used.</p>\n<p>So in your case, your <code>@Mock</code> should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mock\nprivate UserService userService;\n\n</code></pre>\n<p>Furthermore, you have this line in <code>UserInfoImpl</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>userService = new UserServiceImpl();\n</code></pre>\n<p>Obviously this replaces whatever instance of <code>UserService</code> you inject (including the mock). I'm guessing that's a mistake (maybe left around from an earlier attempt) since I can't think of any reason you'd really want to instantiate something that you're injecting.</p>\n"}],"owner":{"account_id":17933035,"reputation":255,"user_id":13029949,"display_name":"Saimuga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75138510,"answer_count":1,"score":0,"last_activity_date":1673900008,"creation_date":1673894418,"question_id":75138402,"body_markdown":"I am trying to understand Mockito and Junit 4. I hava an interface named UserService which has a method named getUserInfo. I have written an implementation class UserServiceImpl to this interface. \r\nI am using this getUserInfo method inside another class named UserInfoImpl. Now I am trying to Junit UserInfoImpl by Mocking UserServiceImpl. But instead of going to to the mock method, the call is going to the actual method. I have verified it by adding sysout to the actual method. I am not sure why it is not getting mocked. Can someone please throw some light. \r\n\r\n**Junit Class**\r\n\r\n\r\n    public class Junit4WithMockito {\r\n    \r\n    \r\n    \tprivate UserInfoImpl userInfo;\r\n    \t\r\n    \t@Mock\r\n    \tprivate UserService userService;\r\n    \t\r\n    \t@Before\r\n    \tpublic void setUp() {\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Inside Setup&quot;);\r\n    \t\tMockitoAnnotations.initMocks(this);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void testUserInfoImpl() throws InterruptedException {\r\n    \t\tString cid=&quot;yu444&quot;;\r\n    \t\tuserInfo = new UserInfoImpl();\r\n    \t    userInfo.setUserService(userService); \t\r\n    \t\twhen(userService.getUserInfo(cid)).thenReturn(new User(&quot;John Doe&quot;,33));\r\n    \t\tAssert.assertEquals(&quot;Peter&quot;,userInfo.getUserInfo(cid).getUsername());\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n**UserInfoImpl Class**\r\n\r\n    public class UserInfoImpl implements UserInfo {\r\n    \r\n    \tprivate UserService userService;\r\n    \r\n    \tpublic UserService getUserService() {\r\n    \t\treturn userService;\r\n    \t}\r\n    \r\n    \tpublic void setUserService(UserService userService) {\r\n    \t\tthis.userService = userService;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic User getUserInfo(String username) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tuserService = new UserServiceImpl();\r\n    \t\t\treturn userService.getUserInfo(username);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n****** UserServiceImpl Class which I am trying to mock *********\r\n\r\n    public class UserServiceImpl implements UserService {\r\n    \r\n    \t@Override\r\n    \tpublic User getUserInfo(String username) throws InterruptedException {\r\n    \r\n    \t\tSystem.out.println(&quot;Inside the actual Service&quot;);\r\n    \t\tThread.sleep(5000);\r\n    \t\treturn new User(&quot;John Doe&quot;,33);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n**Error Message Below** \r\n\r\n[![Junit Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qk7Zl.png","title":"Mockito Junit 4 , Mock java method not getting called","body":"<p>I am trying to understand Mockito and Junit 4. I hava an interface named UserService which has a method named getUserInfo. I have written an implementation class UserServiceImpl to this interface.\nI am using this getUserInfo method inside another class named UserInfoImpl. Now I am trying to Junit UserInfoImpl by Mocking UserServiceImpl. But instead of going to to the mock method, the call is going to the actual method. I have verified it by adding sysout to the actual method. I am not sure why it is not getting mocked. Can someone please throw some light.</p>\n<p><strong>Junit Class</strong></p>\n<pre><code>public class Junit4WithMockito {\n\n\n    private UserInfoImpl userInfo;\n    \n    @Mock\n    private UserService userService;\n    \n    @Before\n    public void setUp() {\n        \n        System.out.println(&quot;Inside Setup&quot;);\n        MockitoAnnotations.initMocks(this);\n        \n        \n    }\n    \n    @Test\n    public void testUserInfoImpl() throws InterruptedException {\n        String cid=&quot;yu444&quot;;\n        userInfo = new UserInfoImpl();\n        userInfo.setUserService(userService);   \n        when(userService.getUserInfo(cid)).thenReturn(new User(&quot;John Doe&quot;,33));\n        Assert.assertEquals(&quot;Peter&quot;,userInfo.getUserInfo(cid).getUsername());\n        \n    }\n    \n    \n}\n</code></pre>\n<p><strong>UserInfoImpl Class</strong></p>\n<pre><code>public class UserInfoImpl implements UserInfo {\n\n    private UserService userService;\n\n    public UserService getUserService() {\n        return userService;\n    }\n\n    public void setUserService(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Override\n    public User getUserInfo(String username) {\n\n        try {\n            userService = new UserServiceImpl();\n            return userService.getUserInfo(username);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p>****** UserServiceImpl Class which I am trying to mock *********</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n    @Override\n    public User getUserInfo(String username) throws InterruptedException {\n\n        System.out.println(&quot;Inside the actual Service&quot;);\n        Thread.sleep(5000);\n        return new User(&quot;John Doe&quot;,33);\n    }\n\n}\n</code></pre>\n<p><strong>Error Message Below</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qk7Zl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qk7Zl.png\" alt=\"Junit Error\" /></a></p>\n"},{"tags":["java","jsp","struts2"],"owner":{"account_id":1579215,"reputation":1336,"user_id":1464938,"accept_rate":58,"display_name":"brewphone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674390563,"answer_count":0,"score":-1,"last_activity_date":1673899997,"creation_date":1673899997,"question_id":75139250,"body_markdown":"I have following JSP:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n    &lt;div class=&quot;col-md-offset-3 col-md-9&quot;&gt;\r\n    &lt;s:checkbox name=&quot;model.bypass&quot; id=&quot;bypass&quot; label=&quot;%{ getText(&#39;xxxxxx.bypass&#39;) }&quot; disabled=&quot;%{ #readOnly }&quot;/&gt; \r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nthe generated HTML is like this:\r\n\r\n    &lt;div class=&quot;checkbox&quot;&gt;    \r\n    &lt;label&gt;\r\n    &lt;input type=&quot;checkbox&quot; name=&quot;model.bypass&quot; value=&quot;true&quot; id=&quot;bypass&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; id=&quot;__checkbox_bypass&quot; name=&quot;__checkbox_model.bypass&quot; value=&quot;true&quot;&gt; Bypass  \r\n    &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\nGot this error when submitting the form:\r\n\r\n    Unexpected Exception caught setting &#39;__checkbox_model.bypass&#39; on &#39;class my.java.action.MyClass : Error setting expression &#39;__checkbox_model.bypass&#39; with value [&#39;true&#39;, ]\r\n\r\nin my.java.action.MyClass, I do have a member variable named &quot;model&quot;, and the &quot;model&quot; does have a member variable named bypass which is a boolean. \r\nBut I cannot find anything like &quot;__checkbox_model&quot; at anywhere. The exception doesn&#39;t stop the app, but in the app the exceptions are caught and displayed to user. How can I solve the exception?\r\nI have googled the similar issues, all are because of missing the setter of action&#39;s member variables. But in my case, the missing setter is related to a variable I don&#39;t have: __checkbox_model\r\n\r\n","title":"Struts 2 JSP Unexpected Exception caught setting __checkbox","body":"<p>I have following JSP:</p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n&lt;div class=&quot;col-md-offset-3 col-md-9&quot;&gt;\n&lt;s:checkbox name=&quot;model.bypass&quot; id=&quot;bypass&quot; label=&quot;%{ getText('xxxxxx.bypass') }&quot; disabled=&quot;%{ #readOnly }&quot;/&gt; \n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>the generated HTML is like this:</p>\n<pre><code>&lt;div class=&quot;checkbox&quot;&gt;    \n&lt;label&gt;\n&lt;input type=&quot;checkbox&quot; name=&quot;model.bypass&quot; value=&quot;true&quot; id=&quot;bypass&quot;&gt;\n&lt;input type=&quot;hidden&quot; id=&quot;__checkbox_bypass&quot; name=&quot;__checkbox_model.bypass&quot; value=&quot;true&quot;&gt; Bypass  \n&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Got this error when submitting the form:</p>\n<pre><code>Unexpected Exception caught setting '__checkbox_model.bypass' on 'class my.java.action.MyClass : Error setting expression '__checkbox_model.bypass' with value ['true', ]\n</code></pre>\n<p>in my.java.action.MyClass, I do have a member variable named &quot;model&quot;, and the &quot;model&quot; does have a member variable named bypass which is a boolean.\nBut I cannot find anything like &quot;__checkbox_model&quot; at anywhere. The exception doesn't stop the app, but in the app the exceptions are caught and displayed to user. How can I solve the exception?\nI have googled the similar issues, all are because of missing the setter of action's member variables. But in my case, the missing setter is related to a variable I don't have: __checkbox_model</p>\n"},{"tags":["java","spring","hibernate","jpa","jackson"],"comments":[{"owner":{"account_id":12229449,"reputation":125,"user_id":8925971,"display_name":"Cheikh HAIBALA"},"score":2,"creation_date":1673900282,"post_id":75139183,"comment_id":132596080,"body_markdown":"hello,  have you tried to use this annotation    @JsonIgnore on B in the class A or create a new Dto class for A  ? you can also dsiable this error with this : spring.jackson.serialization.FAIL_ON_EMPTY_BEANS = false","body":"hello,  have you tried to use this annotation    @JsonIgnore on B in the class A or create a new Dto class for A  ? you can also dsiable this error with this : spring.jackson.serialization.FAIL_ON_EMPTY_BEANS = false"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673903004,"post_id":75139183,"comment_id":132596764,"body_markdown":"JPA mappings handle serialization to/from the database, while Jackson handles it to/from JSON - they are completely independent. Your error common, and occurs because Jackson is serializing everything in your object graph as you&#39;ve not told it any different - and it does so after the transaction has been closed. While the error is a strange one, it likely has to do with spring settings. As others have mentioned, use JsonIgnore or other options to signal Jackson what should and should not be serialized in your model -remember you&#39;ll have to handle these relationships yourself though.","body":"JPA mappings handle serialization to/from the database, while Jackson handles it to/from JSON - they are completely independent. Your error common, and occurs because Jackson is serializing everything in your object graph as you&#39;ve not told it any different - and it does so after the transaction has been closed. While the error is a strange one, it likely has to do with spring settings. As others have mentioned, use JsonIgnore or other options to signal Jackson what should and should not be serialized in your model -remember you&#39;ll have to handle these relationships yourself though."},{"owner":{"account_id":4510905,"reputation":83,"user_id":3667047,"display_name":"segfault"},"score":0,"creation_date":1673915272,"post_id":75139183,"comment_id":132599232,"body_markdown":"@CheikhHAIBALA I tried using JsonIgnore and I got the intended result. But I still don&#39;t know why Jackson produces an error without this annotation. Why is Jackson trying to serialize something that should not be loading in the first place? Is there any point in using FetchType.LAZY as long as I&#39;m using Jackson as a JSON parser?","body":"@CheikhHAIBALA I tried using JsonIgnore and I got the intended result. But I still don&#39;t know why Jackson produces an error without this annotation. Why is Jackson trying to serialize something that should not be loading in the first place? Is there any point in using FetchType.LAZY as long as I&#39;m using Jackson as a JSON parser?"}],"owner":{"account_id":4510905,"reputation":83,"user_id":3667047,"display_name":"segfault"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673899851,"creation_date":1673899552,"question_id":75139183,"body_markdown":"I am building a REST-like API using Spring. I have encountered a problem in which using FetchType.LAZY along a @ManyToOne relationship causes an error when retrieving an entity using a JPA Repository.\r\n\r\nHere’s a simplified, compilable version of my code:\r\n\r\n**A.java:**\r\n\r\n    @Entity\r\n    public class A {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private B b;\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public B getB() {\r\n            return b;\r\n        }\r\n    }\r\n\r\n**B.java:**\r\n\r\n    @Entity\r\n    public class B {\r\n\r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n\r\n        private String someData;\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public String getSomeData() {\r\n            return someData;\r\n        }\r\n    }\r\n\r\n**ARepository.java:**\r\n\r\n    @Repository\r\n    public interface ARepository extends JpaRepository&lt;A, Long&gt; {}\r\n\r\n**AController.java:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;a&quot;)\r\n    public class AController {\r\n\r\n        private final ARepository repository;\r\n\r\n        AController(ARepository repository) {\r\n            this.repository = repository;\r\n        }\r\n\r\n        @GetMapping(&quot;{id}&quot;)\r\n        A one(@PathVariable Long id) {\r\n            return repository.findById(id).orElse(null);\r\n        }\r\n    }\r\n\r\n\r\n**data-h2.sql:**\r\n\r\n        INSERT INTO B (id, some_data) VALUES (1, &#39;Very large data I do not want to load unless explicitly requested&#39;);\r\n        INSERT INTO A (id, b_id) VALUES (1, 1);\r\n\r\nI call the endpoint with `curl -v http://localhost:8080/a/1` (Windows CMD)\r\n\r\nResponse expected: `{&quot;id&quot;: 1}`\r\n\r\nResponse received instead: `500 Internal Server Error`\r\n\r\nServer console error:\r\n\r\n    ERROR 8484 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [/] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\r\nIf I remove `fetch = FetchType.LAZY` the call returns successfully, but the JSON includes all data from `B`, which is what I am trying to avoid.\r\n\r\n","title":"Hibernate&#39;s FetchType.LAZY not working with Spring Data JPA","body":"<p>I am building a REST-like API using Spring. I have encountered a problem in which using FetchType.LAZY along a @ManyToOne relationship causes an error when retrieving an entity using a JPA Repository.</p>\n<p>Here’s a simplified, compilable version of my code:</p>\n<p><strong>A.java:</strong></p>\n<pre><code>@Entity\npublic class A {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private B b;\n\n    public Long getId() {\n        return id;\n    }\n\n    public B getB() {\n        return b;\n    }\n}\n</code></pre>\n<p><strong>B.java:</strong></p>\n<pre><code>@Entity\npublic class B {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String someData;\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getSomeData() {\n        return someData;\n    }\n}\n</code></pre>\n<p><strong>ARepository.java:</strong></p>\n<pre><code>@Repository\npublic interface ARepository extends JpaRepository&lt;A, Long&gt; {}\n</code></pre>\n<p><strong>AController.java:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;a&quot;)\npublic class AController {\n\n    private final ARepository repository;\n\n    AController(ARepository repository) {\n        this.repository = repository;\n    }\n\n    @GetMapping(&quot;{id}&quot;)\n    A one(@PathVariable Long id) {\n        return repository.findById(id).orElse(null);\n    }\n}\n</code></pre>\n<p><strong>data-h2.sql:</strong></p>\n<pre><code>    INSERT INTO B (id, some_data) VALUES (1, 'Very large data I do not want to load unless explicitly requested');\n    INSERT INTO A (id, b_id) VALUES (1, 1);\n</code></pre>\n<p>I call the endpoint with <code>curl -v http://localhost:8080/a/1</code> (Windows CMD)</p>\n<p>Response expected: <code>{&quot;id&quot;: 1}</code></p>\n<p>Response received instead: <code>500 Internal Server Error</code></p>\n<p>Server console error:</p>\n<pre><code>ERROR 8484 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet] : Servlet.service() for servlet [dispatcherServlet] in context with path [/] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\n</code></pre>\n<p>If I remove <code>fetch = FetchType.LAZY</code> the call returns successfully, but the JSON includes all data from <code>B</code>, which is what I am trying to avoid.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1673898753,"post_id":75139053,"comment_id":132595700,"body_markdown":"What do you mean by &#39;I can&#39;t import Post class&#39;? What error message do you get? Are the classes in the same package? What import statement did you try?","body":"What do you mean by &#39;I can&#39;t import Post class&#39;? What error message do you get? Are the classes in the same package? What import statement did you try?"},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1673899261,"post_id":75139053,"comment_id":132595820,"body_markdown":"@TomStroemer the classes are in different packages both classes are public and just intellij highlight it on red and says &quot;One to Many&quot; value type should not be post","body":"@TomStroemer the classes are in different packages both classes are public and just intellij highlight it on red and says &quot;One to Many&quot; value type should not be post"},{"owner":{"account_id":25829058,"reputation":132,"user_id":19566600,"display_name":"Sidharth Bajpai"},"score":0,"creation_date":1673899552,"post_id":75139053,"comment_id":132595885,"body_markdown":"if the classes are in different packages, you should check if import &lt;package-of-post&gt;.Post; is added at the top of User class. if not, add it. Make sure the correct Post class is imported.","body":"if the classes are in different packages, you should check if import &lt;package-of-post&gt;.Post; is added at the top of User class. if not, add it. Make sure the correct Post class is imported."},{"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"score":0,"creation_date":1673899723,"post_id":75139053,"comment_id":132595925,"body_markdown":"@SidharthBajpai It is added but it&#39;s blank, even tho I write it again, it&#39;s blank","body":"@SidharthBajpai It is added but it&#39;s blank, even tho I write it again, it&#39;s blank"}],"answers":[{"tags":[],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673899826,"creation_date":1673899826,"answer_id":75139223,"question_id":75139053,"body_markdown":"Just to let other knows if someone gonna have the same problem. Changing name of the entity helped and then changing it back. ","title":"Spring can&#39;t detect an entity to import","body":"<p>Just to let other knows if someone gonna have the same problem. Changing name of the entity helped and then changing it back.</p>\n"}],"owner":{"account_id":25378677,"reputation":81,"user_id":19191401,"display_name":"huga721"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673899826,"creation_date":1673898496,"question_id":75139053,"body_markdown":"I created new entity and while trying to make relation beetwen some other entity, I got an error because it can&#39;t find this class.\r\n```\r\n@Entity(name = &quot;users&quot;)\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(unique = true)\r\n    private String username;\r\n    private String password;\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;user_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\r\n    )\r\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n    @OneToMany(mappedBy = &quot;author&quot;)\r\n    List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nI&#39;m talking about that OneToMany List&lt;Post&gt; posts, I can&#39;t import Post class\r\n```\r\n@Data\r\n@Entity\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Post {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int Long;\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;users_id&quot;)\r\n    private User author;\r\n}\r\n```\r\nI have no idea why it&#39;s happening and how to solve it.","title":"Spring can&#39;t detect an entity to import","body":"<p>I created new entity and while trying to make relation beetwen some other entity, I got an error because it can't find this class.</p>\n<pre><code>@Entity(name = &quot;users&quot;)\n@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(unique = true)\n    private String username;\n    private String password;\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;user_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;)\n    )\n    private Collection&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n    @OneToMany(mappedBy = &quot;author&quot;)\n    List&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I'm talking about that OneToMany List posts, I can't import Post class</p>\n<pre><code>@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Post {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int Long;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;users_id&quot;)\n    private User author;\n}\n</code></pre>\n<p>I have no idea why it's happening and how to solve it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":255509,"reputation":1665,"user_id":535610,"display_name":"Usman Saleem"},"score":1,"creation_date":1358744190,"post_id":14432768,"comment_id":20093299,"body_markdown":"In the end, a PDF has to be generated. What do you mean by &quot;convert&quot;?","body":"In the end, a PDF has to be generated. What do you mean by &quot;convert&quot;?"},{"owner":{"account_id":1361370,"reputation":2296,"user_id":1298679,"accept_rate":33,"display_name":"partha"},"score":0,"creation_date":1358745336,"post_id":14432768,"comment_id":20093582,"body_markdown":"I meant to say that I do not want to &quot;generate&quot; a PDF from the business logic that is internal to the existing system. I want to &quot;convert&quot; the RTF into PDF, with some code that I could append to whatever I have up and running. If your question is around the fact that ultimately PDF will have to be &quot;created&quot;, yes I agree, that is the correct understanding. Hope - the pedantic bit aside - I have been able to communicate the requirement.","body":"I meant to say that I do not want to &quot;generate&quot; a PDF from the business logic that is internal to the existing system. I want to &quot;convert&quot; the RTF into PDF, with some code that I could append to whatever I have up and running. If your question is around the fact that ultimately PDF will have to be &quot;created&quot;, yes I agree, that is the correct understanding. Hope - the pedantic bit aside - I have been able to communicate the requirement."},{"owner":{"account_id":255509,"reputation":1665,"user_id":535610,"display_name":"Usman Saleem"},"score":0,"creation_date":1358750224,"post_id":14432768,"comment_id":20094246,"body_markdown":"I don&#39;t know whether itext still support RTF to PDF, but essentially velocity will give you a writer for RTF document, and you will need a code similar to following to generate (aka convert) PDF: http://cfsearching.blogspot.com.au/2009/04/itext-preview-of-things-to-come-someday.html","body":"I don&#39;t know whether itext still support RTF to PDF, but essentially velocity will give you a writer for RTF document, and you will need a code similar to following to generate (aka convert) PDF: <a href=\"http://cfsearching.blogspot.com.au/2009/04/itext-preview-of-things-to-come-someday.html\" rel=\"nofollow noreferrer\">cfsearching.blogspot.com.au/2009/04/&hellip;</a>"},{"owner":{"account_id":65271,"reputation":5615,"user_id":192221,"accept_rate":59,"display_name":"kristianp"},"score":0,"creation_date":1427246234,"post_id":14432768,"comment_id":46697256,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/3591239/rtf-to-pdf-in-java","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3591239/rtf-to-pdf-in-java\">stackoverflow.com/questions/3591239/rtf-to-pdf-in-java</a>"},{"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"score":0,"creation_date":1527484486,"post_id":14432768,"comment_id":88129504,"body_markdown":"Open Office and Libre Office (better) will definitely CONVERT RTF to PDF.  They are NOT PDF generators as you have described.  Whether the conversion is suitable/good enough requires testing against your documents.  You can test the conversion-only process with Libre Office and the command line (eg soffice --convert-to pdf  myDocument.rtf)","body":"Open Office and Libre Office (better) will definitely CONVERT RTF to PDF.  They are NOT PDF generators as you have described.  Whether the conversion is suitable/good enough requires testing against your documents.  You can test the conversion-only process with Libre Office and the command line (eg soffice --convert-to pdf  myDocument.rtf)"}],"answers":[{"tags":[],"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358744185,"creation_date":1358744185,"answer_id":14432809,"question_id":14432768,"body_markdown":"[JODConverter][1] helps you to convert RTF files to PDF using Java. Latest version can be found [here][2].\r\n\r\nAs per their website,\r\n\r\n&gt; JODConverter, the Java OpenDocument Converter, converts documents between different office formats.\r\nIt leverages OpenOffice.org, which provides arguably the best import/export filters for OpenDocument and Microsoft Office formats available today.\r\n\r\n\r\n  [1]: http://www.artofsolving.com/opensource/jodconverter\r\n  [2]: http://code.google.com/p/jodconverter/","title":"Java library to convert RTF files to PDF.","body":"<p><a href=\"http://www.artofsolving.com/opensource/jodconverter\" rel=\"nofollow\">JODConverter</a> helps you to convert RTF files to PDF using Java. Latest version can be found <a href=\"http://code.google.com/p/jodconverter/\" rel=\"nofollow\">here</a>.</p>\n\n<p>As per their website,</p>\n\n<blockquote>\n  <p>JODConverter, the Java OpenDocument Converter, converts documents between different office formats.\n  It leverages OpenOffice.org, which provides arguably the best import/export filters for OpenDocument and Microsoft Office formats available today.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8321196,"reputation":101,"user_id":6252841,"display_name":"Neon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1527435891,"creation_date":1527435891,"answer_id":50553832,"question_id":14432768,"body_markdown":"I have been googling the same question for a long time here is my solution:\r\nUsing documents4j and microsoft office 2010 (newer version not tried) (not needed to run in background).\r\nThis solution CONVERTS .rtf to .pdf\r\n\r\nPOM file:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;       \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-util-conversion&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-transformer&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-util-all&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-local&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0-beta2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0-beta2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-util-standalone&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;documents4j-transformer-msoffice-word&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nInclude ALL of them! In .rtf file you need some of them for fonts and stuff like that.\r\nExample of use in java:\r\n\r\n    import com.documents4j.api.DocumentType;\r\n    import com.documents4j.api.IConverter;\r\n    import com.documents4j.job.LocalConverter;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    /**\r\n     *\r\n     * @author Neon/Jan Madle\r\n     */\r\n    public class NewMain {\r\n    \r\n    /**\r\n     * @param args the command line arguments\r\n     * @throws java.io.FileNotFoundException\r\n     */\r\n    public static void main(String[] args) throws FileNotFoundException,             IOException, InterruptedException, ExecutionException {\r\n\r\n        ByteArrayOutputStream bo = new ByteArrayOutputStream();\r\n\r\n        InputStream in = new BufferedInputStream(new FileInputStream(System.getProperty(&quot;user.dir&quot;) + File.separator +&quot;out.rtf&quot;));\r\n        IConverter converter = LocalConverter.builder()\r\n                .baseFolder(new File(System.getProperty(&quot;user.dir&quot;) + File.separator +&quot;test&quot;))\r\n                .workerPool(20, 25, 2, TimeUnit.SECONDS)\r\n                .processTimeout(5, TimeUnit.SECONDS)\r\n                .build();\r\n\r\n        Future&lt;Boolean&gt; conversion = converter\r\n                .convert(in).as(DocumentType.RTF)\r\n                .to(bo).as(DocumentType.PDF)\r\n                .prioritizeWith(1000) // optional\r\n                .schedule();\r\n        conversion.get();\r\n        try (OutputStream outputStream = new FileOutputStream(&quot;out.pdf&quot;)) {\r\n            bo.writeTo(outputStream);\r\n        }\r\n        in.close();\r\n        bo.close();\r\n    }\r\n    }\r\n\r\nHope someone finds this usefull!\r\n\r\n    ","title":"Java library to convert RTF files to PDF.","body":"<p>I have been googling the same question for a long time here is my solution:\nUsing documents4j and microsoft office 2010 (newer version not tried) (not needed to run in background).\nThis solution CONVERTS .rtf to .pdf</p>\n\n<p>POM file:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-api&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;       \n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-util-conversion&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-transformer&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-util-all&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-local&lt;/artifactId&gt;\n        &lt;version&gt;0.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0-beta2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.8.0-beta2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-util-standalone&lt;/artifactId&gt;\n        &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.documents4j&lt;/groupId&gt;\n        &lt;artifactId&gt;documents4j-transformer-msoffice-word&lt;/artifactId&gt;\n        &lt;version&gt;1.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Include ALL of them! In .rtf file you need some of them for fonts and stuff like that.\nExample of use in java:</p>\n\n<pre><code>import com.documents4j.api.DocumentType;\nimport com.documents4j.api.IConverter;\nimport com.documents4j.job.LocalConverter;\nimport java.io.BufferedInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\n\n/**\n *\n * @author Neon/Jan Madle\n */\npublic class NewMain {\n\n/**\n * @param args the command line arguments\n * @throws java.io.FileNotFoundException\n */\npublic static void main(String[] args) throws FileNotFoundException,             IOException, InterruptedException, ExecutionException {\n\n    ByteArrayOutputStream bo = new ByteArrayOutputStream();\n\n    InputStream in = new BufferedInputStream(new FileInputStream(System.getProperty(\"user.dir\") + File.separator +\"out.rtf\"));\n    IConverter converter = LocalConverter.builder()\n            .baseFolder(new File(System.getProperty(\"user.dir\") + File.separator +\"test\"))\n            .workerPool(20, 25, 2, TimeUnit.SECONDS)\n            .processTimeout(5, TimeUnit.SECONDS)\n            .build();\n\n    Future&lt;Boolean&gt; conversion = converter\n            .convert(in).as(DocumentType.RTF)\n            .to(bo).as(DocumentType.PDF)\n            .prioritizeWith(1000) // optional\n            .schedule();\n    conversion.get();\n    try (OutputStream outputStream = new FileOutputStream(\"out.pdf\")) {\n        bo.writeTo(outputStream);\n    }\n    in.close();\n    bo.close();\n}\n}\n</code></pre>\n\n<p>Hope someone finds this usefull!</p>\n"}],"owner":{"account_id":1361370,"reputation":2296,"user_id":1298679,"accept_rate":33,"display_name":"partha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18699,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1673899302,"creation_date":1358743976,"question_id":14432768,"body_markdown":"I have a java desktop service. It currently uses velocity templates to create formatted RTF files. There are quite a few of those templates and changing them (or moving from velocity) is not an option. \r\n\r\nI am looking for a quick and easy way to change RTF files to PDF, using java code. I am already checked the following avenues. \r\n1. iText \r\n2. OpenOffice\r\n3. JodConverter \r\n\r\nHowever, all of them are PDF creators. I need something that will convert RTF to PDF. Please help. Thanks. ","title":"Java library to convert RTF files to PDF.","body":"<p>I have a java desktop service. It currently uses velocity templates to create formatted RTF files. There are quite a few of those templates and changing them (or moving from velocity) is not an option. </p>\n\n<p>I am looking for a quick and easy way to change RTF files to PDF, using java code. I am already checked the following avenues. \n1. iText \n2. OpenOffice\n3. JodConverter </p>\n\n<p>However, all of them are PDF creators. I need something that will convert RTF to PDF. Please help. Thanks. </p>\n"},{"tags":["java","encoding","compiler-errors","notepad","byte-order-mark"],"comments":[{"owner":{"account_id":4464371,"reputation":66,"user_id":3632398,"display_name":"Suman Dey"},"score":0,"creation_date":1564418904,"post_id":57258074,"comment_id":101015789,"body_markdown":"I copied the same code. When I ran through visual studio code, same o/p as mentioned. But unable to compile through cmd getting following error:           a.java:1: error: illegal character: &#39;\\u00bb&#39;\n∩╗┐class Test{\n ^\na.java:1: error: illegal character: &#39;\\u00bf&#39;\n∩╗┐class Test{\n  ^\na.java:3: error: unclosed character literal\n       char c = &#39;╥&#162;&#39;;\n                ^\na.java:3: error: illegal character: &#39;\\u203a&#39;\n       char c = &#39;╥&#162;&#39;;\n                  ^\na.java:3: error: unclosed character literal\n       char c = &#39;╥&#162;&#39;;\n                   ^\n5 errors","body":"I copied the same code. When I ran through visual studio code, same o/p as mentioned. But unable to compile through cmd getting following error:           a.java:1: error: illegal character: &#39;\\u00bb&#39; ∩╗┐class Test{  ^ a.java:1: error: illegal character: &#39;\\u00bf&#39; ∩╗┐class Test{   ^ a.java:3: error: unclosed character literal        char c = &#39;╥&#162;&#39;;                 ^ a.java:3: error: illegal character: &#39;\\u203a&#39;        char c = &#39;╥&#162;&#39;;                   ^ a.java:3: error: unclosed character literal        char c = &#39;╥&#162;&#39;;                    ^ 5 errors"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1564419319,"post_id":57258074,"comment_id":101015979,"body_markdown":"You can not do it using Windows Notepad.","body":"You can not do it using Windows Notepad."},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1564419423,"post_id":57258074,"comment_id":101016028,"body_markdown":"@SumanDey As I understood the reason is a character called BOM that Windows appends at the beginning of a file to signal that this file is using a non-ASCII encoding. But how to fix this?","body":"@SumanDey As I understood the reason is a character called BOM that Windows appends at the beginning of a file to signal that this file is using a non-ASCII encoding. But how to fix this?"},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1564419612,"post_id":57258074,"comment_id":101016113,"body_markdown":"How are you telling javac which character encoding your source file uses?","body":"How are you telling javac which character encoding your source file uses?"},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1564424616,"post_id":57258074,"comment_id":101018158,"body_markdown":"@TomBlodget I am not telling javac anything. If you mean whether or not am writing &quot;javac -encoding UTF8 Test.java&quot;, yes I tried but it didn&#39;t work.","body":"@TomBlodget I am not telling javac anything. If you mean whether or not am writing &quot;javac -encoding UTF8 Test.java&quot;, yes I tried but it didn&#39;t work."},{"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1564425459,"post_id":57258074,"comment_id":101018513,"body_markdown":"Every human and program must be told which character encoding a text file uses; though some are willing to guess, if that&#39;s what you want.","body":"Every human and program must be told which character encoding a text file uses; though some are willing to guess, if that&#39;s what you want."},{"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"score":0,"creation_date":1564425836,"post_id":57258074,"comment_id":101018674,"body_markdown":"@TomBlodget No, actually I was just wondering why it is not working. Obviously, I will not use notepad while writing a real code. Also, I could not even type this character manually in cmd, so probably windows cmd does not support it at all.","body":"@TomBlodget No, actually I was just wondering why it is not working. Obviously, I will not use notepad while writing a real code. Also, I could not even type this character manually in cmd, so probably windows cmd does not support it at all."}],"answers":[{"tags":[],"owner":{"account_id":10782392,"reputation":54,"user_id":7932517,"display_name":"Anatoly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564442971,"creation_date":1564420202,"answer_id":57258496,"question_id":57258074,"body_markdown":"Probably you need like this:\r\n\r\n    char c = &#39;\\u039A&#39;; \r\n\r\nI don&#39;t know the code of your &#39;k&#39;, but you may find it on https://www.ssec.wisc.edu/~tomw/java/unicode.html\r\n\r\nAlso hopes that Windows has this character for output in the console\r\n\r\np.s. The console of windows has a certain code page. Try to change it in console, for example:\r\n\r\n    REM change CHCP to UTF-8\r\n    CHCP 65001\r\n    CLS\r\n\r\nand remember about different fonts in windows console, some of them can&#39;t draw specific symbols.","title":"Cannot compile Java file with non-ASCII character","body":"<p>Probably you need like this:</p>\n\n<pre><code>char c = '\\u039A'; \n</code></pre>\n\n<p>I don't know the code of your 'k', but you may find it on <a href=\"https://www.ssec.wisc.edu/~tomw/java/unicode.html\" rel=\"nofollow noreferrer\">https://www.ssec.wisc.edu/~tomw/java/unicode.html</a></p>\n\n<p>Also hopes that Windows has this character for output in the console</p>\n\n<p>p.s. The console of windows has a certain code page. Try to change it in console, for example:</p>\n\n<pre><code>REM change CHCP to UTF-8\nCHCP 65001\nCLS\n</code></pre>\n\n<p>and remember about different fonts in windows console, some of them can't draw specific symbols.</p>\n"},{"tags":[],"owner":{"account_id":2567288,"reputation":20405,"user_id":2226988,"display_name":"Tom Blodget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673899045,"creation_date":1564420824,"answer_id":57258635,"question_id":57258074,"body_markdown":"Yes, the problem is that javac is non-compliant in not accepting the BOM with UTF-8. \r\n\r\nUse Notepad to save as Unicode (actually UTF-16LE).\r\n\r\nCompile with\r\n\r\n    javac -encoding UTF-16 Test.java\r\n\r\n","title":"Cannot compile Java file with non-ASCII character","body":"<p>Yes, the problem is that javac is non-compliant in not accepting the BOM with UTF-8.</p>\n<p>Use Notepad to save as Unicode (actually UTF-16LE).</p>\n<p>Compile with</p>\n<pre><code>javac -encoding UTF-16 Test.java\n</code></pre>\n"}],"owner":{"account_id":11954482,"reputation":811,"user_id":8747255,"display_name":"Mukhamedali  Zhadigerov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673899045,"creation_date":1564418408,"question_id":57258074,"body_markdown":"**Important:**\r\n\r\n*I must use plain windows notepad only (neither IDE nor Notepad++ or any other text editors allowed).*\r\n\r\nSo I have a simple class: \r\n\r\n    class Test{\r\n        public static void main(String[] args){\r\n           char c = &#39;қ&#39;;\r\n           System.out.println(c);\r\n        }\r\n     }\r\n\r\nBy default notepad saves text files using ANSII encoding, but as you can see I have a non-ANSII character in my code. I can compile and run this code via command prompt, but output is `?` instead of `қ`, which seems obvious. When I change the file&#39;s encoding to UTF-8, compiler throws an error. I have read this article https://stackoverflow.com/questions/1992933/illegal-character-when-trying-to-compile-java-code but there is no solution for my particular problem, because as I wrote above, I am not allowed to use any text editors but Windows notepad.\r\n\r\nThank you! ","title":"Cannot compile Java file with non-ASCII character","body":"<p><strong>Important:</strong></p>\n\n<p><em>I must use plain windows notepad only (neither IDE nor Notepad++ or any other text editors allowed).</em></p>\n\n<p>So I have a simple class: </p>\n\n<pre><code>class Test{\n    public static void main(String[] args){\n       char c = 'қ';\n       System.out.println(c);\n    }\n }\n</code></pre>\n\n<p>By default notepad saves text files using ANSII encoding, but as you can see I have a non-ANSII character in my code. I can compile and run this code via command prompt, but output is <code>?</code> instead of <code>қ</code>, which seems obvious. When I change the file's encoding to UTF-8, compiler throws an error. I have read this article <a href=\"https://stackoverflow.com/questions/1992933/illegal-character-when-trying-to-compile-java-code\">Illegal Character when trying to compile java code</a> but there is no solution for my particular problem, because as I wrote above, I am not allowed to use any text editors but Windows notepad.</p>\n\n<p>Thank you! </p>\n"},{"tags":["java","hana","hana-xs"],"answers":[{"tags":[],"owner":{"account_id":1224197,"reputation":83,"user_id":1190137,"display_name":"zhaow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377650931,"creation_date":1377650931,"answer_id":18477692,"question_id":18432602,"body_markdown":"there&#39;s no way to invoke external .jar package from XS&#39;s server-side JavaScript. You can use an external library using function &quot;$.import&quot;, but this is only valid for JavaScript library. ","title":"How to use external jar library in a SAP HANA XS project","body":"<p>there's no way to invoke external .jar package from XS's server-side JavaScript. You can use an external library using function \"$.import\", but this is only valid for JavaScript library. </p>\n"},{"tags":[],"owner":{"account_id":322233,"reputation":21,"user_id":641542,"display_name":"sestevez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380051559,"creation_date":1380051559,"answer_id":18990556,"question_id":18432602,"body_markdown":"XS Server does not and will not support Java. Only Javascript...","title":"How to use external jar library in a SAP HANA XS project","body":"<p>XS Server does not and will not support Java. Only Javascript...</p>\n"},{"tags":[],"owner":{"account_id":3733696,"reputation":328,"user_id":3105229,"accept_rate":80,"display_name":"AHaberl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390477057,"creation_date":1390477057,"answer_id":21307061,"question_id":18432602,"body_markdown":"If you want to outsource some of your xsjs functions to an external library, xsengine provides a special format for this, called &quot;**.xsjslib**&quot;.\r\nYou can import a library using the following code:\r\n\r\n    $.import(&quot;&lt;package_your_library_was_deployed&gt;&quot;,&quot;yourLib&quot;);\r\n\r\naccess functions inside your lib by this path:\r\n\r\n    $.path.to.your.library.filename.yourFunction();","title":"How to use external jar library in a SAP HANA XS project","body":"<p>If you want to outsource some of your xsjs functions to an external library, xsengine provides a special format for this, called \"<strong>.xsjslib</strong>\".\nYou can import a library using the following code:</p>\n\n<pre><code>$.import(\"&lt;package_your_library_was_deployed&gt;\",\"yourLib\");\n</code></pre>\n\n<p>access functions inside your lib by this path:</p>\n\n<pre><code>$.path.to.your.library.filename.yourFunction();\n</code></pre>\n"}],"owner":{"account_id":3217867,"reputation":21,"user_id":2716036,"display_name":"hana_fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2022,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1673898819,"creation_date":1377457541,"question_id":18432602,"body_markdown":"I am trying to make an XS project in HANA which will use some of the classes and methods that can be found in a .jar file. These classes and methods will do some calculations and present it to the user in the UI.\r\n\r\nThe question is: How do I access methods and classes of that .jar file?\r\n\r\nI have registered it as an external library, but I have no idea how to call it from my XS javascript source files.\r\n\r\n\r\n","title":"How to use external jar library in a SAP HANA XS project","body":"<p>I am trying to make an XS project in HANA which will use some of the classes and methods that can be found in a .jar file. These classes and methods will do some calculations and present it to the user in the UI.</p>\n\n<p>The question is: How do I access methods and classes of that .jar file?</p>\n\n<p>I have registered it as an external library, but I have no idea how to call it from my XS javascript source files.</p>\n"},{"tags":["java","okhttp"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1673899022,"post_id":75139077,"comment_id":132595770,"body_markdown":"What do you mean by &quot;send an array or object to a header&quot;? Which header is it? And what do you want to set the value of the header to? Do you really need to put the array in a header? Or do you mean that you want to send the array as the body?","body":"What do you mean by &quot;send an array or object to a header&quot;? Which header is it? And what do you want to set the value of the header to? Do you really need to put the array in a header? Or do you mean that you want to send the array as the body?"},{"owner":{"account_id":27545744,"reputation":1,"user_id":21021709,"display_name":"code_one"},"score":0,"creation_date":1673899349,"post_id":75139077,"comment_id":132595842,"body_markdown":"I need to post data to the site","body":"I need to post data to the site"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1673902400,"post_id":75139077,"comment_id":132596596,"body_markdown":"Check this out. https://square.github.io/okhttp/. Lot&#39;s ofinfo about okHttp here as well, https://guides.codepath.com/android/Using-OkHttp. \nIf you already have an idea about these basics andyou are still struggling, please share some more code.","body":"Check this out. <a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">square.github.io/okhttp</a>. Lot&#39;s ofinfo about okHttp here as well, <a href=\"https://guides.codepath.com/android/Using-OkHttp\" rel=\"nofollow noreferrer\">guides.codepath.com/android/Using-OkHttp</a>.  If you already have an idea about these basics andyou are still struggling, please share some more code."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1673904314,"post_id":75139077,"comment_id":132597131,"body_markdown":"To post data, you probably don&#39;t want it to be in a header. You probably need to serialize the array as JSON and add it to the body of the request. You will need to read the documentation of the API you are using to learn exactly what the JSON should look like.","body":"To post data, you probably don&#39;t want it to be in a header. You probably need to serialize the array as JSON and add it to the body of the request. You will need to read the documentation of the API you are using to learn exactly what the JSON should look like."}],"owner":{"account_id":27545744,"reputation":1,"user_id":21021709,"display_name":"code_one"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673898797,"creation_date":1673898667,"question_id":75139077,"body_markdown":"I am a new programmer and I have a question that is easy for you and difficult for me, how to send an array or object to a header in java, for example\r\n\r\n```\r\n\r\n\r\nheader = new HashMap&lt;&gt;();\r\n\r\n\r\nheader.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n\r\njavob = new Gson().fromJson(&quot;{\\&quot;arr\\&quot;: [1, 2]}&quot;, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\r\n\r\n\r\nnet.setHeaders(header);\r\n\r\n\r\nnet.setParams(javob, RequestNetworkController.REQUEST_PARAM);\r\n\r\n\r\nnet.startRequestNetwork(RequestNetworkController.POST, &quot;https://test.uz/api/v1/demo_test/random&quot;, &quot;&quot;, _net_request_listener);```\r\n\r\n\r\n**{&quot;arr&quot;: [1, 2]}** ","title":"How to post arrays in java","body":"<p>I am a new programmer and I have a question that is easy for you and difficult for me, how to send an array or object to a header in java, for example</p>\n<pre><code>\n\nheader = new HashMap&lt;&gt;();\n\n\nheader.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n\njavob = new Gson().fromJson(&quot;{\\&quot;arr\\&quot;: [1, 2]}&quot;, new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;(){}.getType());\n\n\nnet.setHeaders(header);\n\n\nnet.setParams(javob, RequestNetworkController.REQUEST_PARAM);\n\n\nnet.startRequestNetwork(RequestNetworkController.POST, &quot;https://test.uz/api/v1/demo_test/random&quot;, &quot;&quot;, _net_request_listener);```\n\n\n**{&quot;arr&quot;: [1, 2]}** \n</code></pre>\n"},{"tags":["java","cloud","jstl","hana"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1374091091,"post_id":17709076,"comment_id":25808531,"body_markdown":"What JSTL version do you have in your `lib` folder?","body":"What JSTL version do you have in your <code>lib</code> folder?"},{"owner":{"account_id":1653521,"reputation":33,"user_id":1523627,"accept_rate":20,"display_name":"user1523627"},"score":0,"creation_date":1374091125,"post_id":17709076,"comment_id":25808556,"body_markdown":"jstl 1.2.jar was added to the lib folder. Sorry I forgot to add that in my q","body":"jstl 1.2.jar was added to the lib folder. Sorry I forgot to add that in my q"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1374091584,"post_id":17709076,"comment_id":25808865,"body_markdown":"1) Which Servlet container or Application Server are you running this and 2) List all your jar files found in `WEB-INF/lib` folder.","body":"1) Which Servlet container or Application Server are you running this and 2) List all your jar files found in <code>WEB-INF&#47;lib</code> folder."},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1374091806,"post_id":17709076,"comment_id":25809006,"body_markdown":"@user1523627, we need the **exact** name of the jar files listed. This can help us identify if you&#39;re just running a JSTL API jar or JSTL-IMPL jar or both.","body":"@user1523627, we need the <b>exact</b> name of the jar files listed. This can help us identify if you&#39;re just running a JSTL API jar or JSTL-IMPL jar or both."},{"owner":{"account_id":1653521,"reputation":33,"user_id":1523627,"accept_rate":20,"display_name":"user1523627"},"score":0,"creation_date":1374091939,"post_id":17709076,"comment_id":25809096,"body_markdown":"@Buhake Sindi I&#39;m sorry. kinda of a noob. The exact name of the jar file i downloaded and used is &quot;jstl-1.2.jar&quot;","body":"@Buhake Sindi I&#39;m sorry. kinda of a noob. The exact name of the jar file i downloaded and used is &quot;jstl-1.2.jar&quot;"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1374091999,"post_id":17709076,"comment_id":25809131,"body_markdown":"@user1523627. Apart from that are you having any other JAR files?","body":"@user1523627. Apart from that are you having any other JAR files?"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1374092286,"post_id":17709076,"comment_id":25809303,"body_markdown":"Also, is your project Mavenized?","body":"Also, is your project Mavenized?"},{"owner":{"account_id":1653521,"reputation":33,"user_id":1523627,"accept_rate":20,"display_name":"user1523627"},"score":0,"creation_date":1374092395,"post_id":17709076,"comment_id":25809365,"body_markdown":"I have no idea what a Mavenized project is","body":"I have no idea what a Mavenized project is"},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1374092550,"post_id":17709076,"comment_id":25809458,"body_markdown":"@user1523627 The only possibility I can see here is you are including the older JSTL API somehow in your build path. If you have set your targeted runtime, check the `lib` of that runtime, whether it holds some conflicting JAR, like - `standard.jar`?","body":"@user1523627 The only possibility I can see here is you are including the older JSTL API somehow in your build path. If you have set your targeted runtime, check the <code>lib</code> of that runtime, whether it holds some conflicting JAR, like - <code>standard.jar</code>?"},{"owner":{"account_id":1653521,"reputation":33,"user_id":1523627,"accept_rate":20,"display_name":"user1523627"},"score":0,"creation_date":1374092991,"post_id":17709076,"comment_id":25809726,"body_markdown":"@Rohit Jain All I have is a md5 jar and even without it I still get the same error","body":"@Rohit Jain All I have is a md5 jar and even without it I still get the same error"}],"owner":{"account_id":1653521,"reputation":33,"user_id":1523627,"accept_rate":20,"display_name":"user1523627"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1673965877,"answer_count":0,"score":1,"last_activity_date":1673898574,"creation_date":1374091015,"question_id":17709076,"body_markdown":"I&#39;m using JSTL 1.2 to populate a table from a servlet. I have included the right things in the web.xml and have imported the .jar file in the WEB-INF/lib. Also this is the only .jar file added to the folder and I&#39;m running this on SAP HANA cloud server\r\n\r\nweb.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n             id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n\r\nthe include in the .jsp page:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n","title":"HTTP Status 500 - The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved","body":"<p>I'm using JSTL 1.2 to populate a table from a servlet. I have included the right things in the web.xml and have imported the .jar file in the WEB-INF/lib. Also this is the only .jar file added to the folder and I'm running this on SAP HANA cloud server</p>\n\n<p>web.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n         id=\"WebApp_ID\" version=\"2.5\"&gt;\n</code></pre>\n\n<p>the include in the .jsp page:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n"},{"tags":["java","xml","junit","wildfly","junit5"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673897933,"creation_date":1673897933,"question_id":75138970,"body_markdown":"I&#39;m testing a method who inside has a dynamic datasource setup, the problem is when I&#39;m trying to test it give me a nullpointer exception on the method `context.lookup(name);` but it works when I normally run.\r\n\r\nThe method I&#39;m trying to test is:\r\n\r\n \r\n\r\n       public List&lt;String&gt; searchQuery(String key) {\r\n    \t\tList&lt;String&gt; resultList = null;\r\n    \t\ttry {\r\n    \t\t\tthis.createConnection(CheckDataServlet.getKey(Integer.parseInt(key)).getConnection().getName());\r\n    \t\t\tstmt = conn.prepareStatement(CheckDataServlet.getKey(Integer.parseInt(key)).getSelect().trim());\r\n    \t\t\trs = stmt.executeQuery();\r\n    \t\t\tresultList = this.getValues(rs);\r\n    \t\t} catch ( SQLException e) {\r\n    \t\t\tArchicon.getLogger().error(&quot;AwpSapNewRepository error: &quot;+e);\r\n    \t\t}finally {\r\n    closing connection...\r\n    \t\t\t}\r\n    \t\tif (resultList == null) {\r\n    \t\t\tresultList = new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \r\n    \t\treturn resultList;\r\n    \t}\r\n\r\n    public void createConnection(String key){\r\n\t\ttry {\r\n\t\t\tds = (DataSource) Archicon.getResource(&quot;jdbc/&quot;+key);\r\n\t\t\tconn = ds.getConnection();\r\n\t\t} catch (SQLException | NamingException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    public static synchronized Object getResource(String name) throws NamingException {\r\n\t\treturn context == null || name == null ? null : context.lookup(name);\r\n\t}\r\n\r\n\r\nThe resource are in xml file inside WebINF (the project is built with WildFly):\r\n\r\n      &lt;resource-ref&gt;\r\n    &lt;res-ref-name&gt;jdbc/source&lt;/res-ref-name&gt;\r\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;mapped-name&gt;java:/source&lt;/mapped-name&gt;\r\n  &lt;/resource-ref&gt;\r\n\r\nThere is any way to get the result and set up all the enviroment for the test, I even had to use: ` Archicon.setConfigPath(&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);` because in the test I coudn&#39;t get the file","title":"Test Datasource jndi with java","body":"<p>I'm testing a method who inside has a dynamic datasource setup, the problem is when I'm trying to test it give me a nullpointer exception on the method <code>context.lookup(name);</code> but it works when I normally run.</p>\n<p>The method I'm trying to test is:</p>\n<pre><code>   public List&lt;String&gt; searchQuery(String key) {\n        List&lt;String&gt; resultList = null;\n        try {\n            this.createConnection(CheckDataServlet.getKey(Integer.parseInt(key)).getConnection().getName());\n            stmt = conn.prepareStatement(CheckDataServlet.getKey(Integer.parseInt(key)).getSelect().trim());\n            rs = stmt.executeQuery();\n            resultList = this.getValues(rs);\n        } catch ( SQLException e) {\n            Archicon.getLogger().error(&quot;AwpSapNewRepository error: &quot;+e);\n        }finally {\nclosing connection...\n            }\n        if (resultList == null) {\n            resultList = new ArrayList&lt;&gt;();\n        }\n\n        return resultList;\n    }\n\npublic void createConnection(String key){\n    try {\n        ds = (DataSource) Archicon.getResource(&quot;jdbc/&quot;+key);\n        conn = ds.getConnection();\n    } catch (SQLException | NamingException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static synchronized Object getResource(String name) throws NamingException {\n    return context == null || name == null ? null : context.lookup(name);\n}\n</code></pre>\n<p>The resource are in xml file inside WebINF (the project is built with WildFly):</p>\n<pre><code>  &lt;resource-ref&gt;\n&lt;res-ref-name&gt;jdbc/source&lt;/res-ref-name&gt;\n&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n&lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;mapped-name&gt;java:/source&lt;/mapped-name&gt;\n</code></pre>\n  \n<p>There is any way to get the result and set up all the enviroment for the test, I even had to use: <code> Archicon.setConfigPath(&quot;C:\\\\Program Files\\\\wildfly-18.0.0.Final\\\\standalone\\\\configuration\\\\archicon&quot;);</code> because in the test I coudn't get the file</p>\n"},{"tags":["java","linux","git","github","pipeline"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673897837,"creation_date":1673897837,"answer_id":75138951,"question_id":75138867,"body_markdown":"First of all, Github does not always know when you commit stuff. But Github can only run Actions when it knows about an event, and that is a change in their hosted repository. That means either you commit via the web interface directly on Github, or you commit in your local git client and push the changes to Github.\r\n\r\nVery likely you should add your code after the `Checkout repository` step and before python creates the package in the `Package ontology` step.\r\n\r\nUse `run` steps to execute your sed and java commands.\r\nhttps://docs.github.com/en/actions/learn-github-actions/essential-features-of-github-actions#adding-scripts-to-your-workflow","title":"GitHub Actions - PIPELINE","body":"<p>First of all, Github does not always know when you commit stuff. But Github can only run Actions when it knows about an event, and that is a change in their hosted repository. That means either you commit via the web interface directly on Github, or you commit in your local git client and push the changes to Github.</p>\n<p>Very likely you should add your code after the <code>Checkout repository</code> step and before python creates the package in the <code>Package ontology</code> step.</p>\n<p>Use <code>run</code> steps to execute your sed and java commands.\n<a href=\"https://docs.github.com/en/actions/learn-github-actions/essential-features-of-github-actions#adding-scripts-to-your-workflow\" rel=\"nofollow noreferrer\">https://docs.github.com/en/actions/learn-github-actions/essential-features-of-github-actions#adding-scripts-to-your-workflow</a></p>\n"}],"owner":{"account_id":27156087,"reputation":1,"user_id":20694901,"display_name":"Klaudyna Niedzin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673897837,"creation_date":1673897314,"question_id":75138867,"body_markdown":"I have to make a part of a pipeline. On my friends git is already the core of it. \r\n\r\nAfter every commit, there should be added new things to the file. Then this should return file to git. I can see the latest file as one the files in a zip ( as a tag ).\r\n\r\nWhat I want to do? I want to add some code between commit and releasing new file. During that I would like to comment few lines with sed commend in command line ( or any other method), then put it as argument to the robot.jar app (java) and the result return in exactly the same way as before.\r\n\r\nI did it locally, but it&#39;s hard to put it in github. To be clear:\r\n**After every new commit, I would like to take file opencs.ttl, make some modification, and then return it as it is now.**\r\n\r\nMy code to comment the file locally in command line:\r\n\r\n``` \r\nsed -i &#39;15 s/^/                     foaf:name &quot;XYZ&quot;.] #/&#39; &lt;file&gt;\r\nsed -i &#39;16 s/^/#/&#39; &lt;file&gt;\r\nsed -i &#39;21 s/^/#/&#39; &lt;file&gt;\r\n```\r\n\r\nCode to run the robot:\r\n\r\n```\r\njava -jar robot.jar reason --reasoner HermiT --axiom-generators &quot;PropertyAssertion&quot; --input openCS/output_opencs.ttl --output output_opencs2.ttl;\r\n```\r\n\r\nMy friends pipeline (https://github.com/OpenCS-ontology/OpenCS):\r\n\r\n```\r\n\r\nname: &quot;pre-release&quot;\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\n\r\njobs:\r\n  pre-release:\r\n    name: &quot;Pre-release&quot;\r\n    runs-on: &quot;ubuntu-latest&quot;\r\n    container: ghcr.io/opencs-ontology/ci-worker:main\r\n\r\n    steps:\r\n      - name: Checkout repository\r\n        uses: actions/checkout@v2\r\n        with:\r\n          path: opencs\r\n\r\n      - name: &quot;Package ontology&quot;\r\n        run: python /app/package.py opencs package dev\r\n\r\n      - uses: &quot;marvinpinto/action-automatic-releases@v1.2.1&quot;\r\n        with:\r\n          repo_token: &quot;${{ secrets.GITHUB_TOKEN }}&quot;\r\n          automatic_release_tag: &quot;dev&quot;\r\n          prerelease: true\r\n          title: &quot;Development build&quot;\r\n          files: package/*\r\n\r\n\r\n##########################################################\r\n      PROBABLY HERE SHOULD BE MY CODE (?)\r\n##########################################################\r\n\r\n\r\n      - name: &quot;Prepare ontology files for commit&quot;\r\n        run: |\r\n          mkdir output_files\r\n          gzip -cd package/opencs.ttl.gz &gt; output_files/opencs.ttl\r\n          gzip -cd package/opencs.rdf.gz &gt; output_files/opencs.rdf\r\n          gzip -cd package/opencs.nt.gz &gt; output_files/opencs.nt\r\n      - name: &quot;Push the files to the Github Pages repository&quot;\r\n        uses: &quot;cpina/github-action-push-to-another-repository@main&quot;\r\n        env:\r\n          SSH_DEPLOY_KEY: ${{ secrets.SSH_DEPLOY_KEY }}\r\n        with:\r\n          source-directory: &#39;output_files&#39;\r\n          destination-github-username: &#39;opencs-ontology&#39;\r\n          destination-repository-name: &#39;opencs-ontology.github.io&#39;\r\n          user-name: ci-worker\r\n          target-directory: /releases/latest\r\n          target-branch: main\r\n```\r\n\r\n\r\n\r\nI did it locally and I can convert it using my code, then I can input it to the robot.jar and &#39;reason&#39; it. Now I have no idea how to do the same things with git actions. ","title":"GitHub Actions - PIPELINE","body":"<p>I have to make a part of a pipeline. On my friends git is already the core of it.</p>\n<p>After every commit, there should be added new things to the file. Then this should return file to git. I can see the latest file as one the files in a zip ( as a tag ).</p>\n<p>What I want to do? I want to add some code between commit and releasing new file. During that I would like to comment few lines with sed commend in command line ( or any other method), then put it as argument to the robot.jar app (java) and the result return in exactly the same way as before.</p>\n<p>I did it locally, but it's hard to put it in github. To be clear:\n<strong>After every new commit, I would like to take file opencs.ttl, make some modification, and then return it as it is now.</strong></p>\n<p>My code to comment the file locally in command line:</p>\n<pre><code>sed -i '15 s/^/                     foaf:name &quot;XYZ&quot;.] #/' &lt;file&gt;\nsed -i '16 s/^/#/' &lt;file&gt;\nsed -i '21 s/^/#/' &lt;file&gt;\n</code></pre>\n<p>Code to run the robot:</p>\n<pre><code>java -jar robot.jar reason --reasoner HermiT --axiom-generators &quot;PropertyAssertion&quot; --input openCS/output_opencs.ttl --output output_opencs2.ttl;\n</code></pre>\n<p>My friends pipeline (<a href=\"https://github.com/OpenCS-ontology/OpenCS\" rel=\"nofollow noreferrer\">https://github.com/OpenCS-ontology/OpenCS</a>):</p>\n<pre><code>\nname: &quot;pre-release&quot;\n\non:\n  push:\n    branches:\n      - main\n\njobs:\n  pre-release:\n    name: &quot;Pre-release&quot;\n    runs-on: &quot;ubuntu-latest&quot;\n    container: ghcr.io/opencs-ontology/ci-worker:main\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n        with:\n          path: opencs\n\n      - name: &quot;Package ontology&quot;\n        run: python /app/package.py opencs package dev\n\n      - uses: &quot;marvinpinto/action-automatic-releases@v1.2.1&quot;\n        with:\n          repo_token: &quot;${{ secrets.GITHUB_TOKEN }}&quot;\n          automatic_release_tag: &quot;dev&quot;\n          prerelease: true\n          title: &quot;Development build&quot;\n          files: package/*\n\n\n##########################################################\n      PROBABLY HERE SHOULD BE MY CODE (?)\n##########################################################\n\n\n      - name: &quot;Prepare ontology files for commit&quot;\n        run: |\n          mkdir output_files\n          gzip -cd package/opencs.ttl.gz &gt; output_files/opencs.ttl\n          gzip -cd package/opencs.rdf.gz &gt; output_files/opencs.rdf\n          gzip -cd package/opencs.nt.gz &gt; output_files/opencs.nt\n      - name: &quot;Push the files to the Github Pages repository&quot;\n        uses: &quot;cpina/github-action-push-to-another-repository@main&quot;\n        env:\n          SSH_DEPLOY_KEY: ${{ secrets.SSH_DEPLOY_KEY }}\n        with:\n          source-directory: 'output_files'\n          destination-github-username: 'opencs-ontology'\n          destination-repository-name: 'opencs-ontology.github.io'\n          user-name: ci-worker\n          target-directory: /releases/latest\n          target-branch: main\n</code></pre>\n<p>I did it locally and I can convert it using my code, then I can input it to the robot.jar and 'reason' it. Now I have no idea how to do the same things with git actions.</p>\n"},{"tags":["java","maven","switch-statement","java-12","preview-feature"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1597723048,"creation_date":1536388273,"answer_id":52232682,"question_id":52232681,"body_markdown":"## Step 1\r\n\r\nOne can make use of the following maven configurations to compile the code using the `--enable-preview` along with `--release 12`+ (e.g. `13`, `14`, `15`) argument. \r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;12&lt;/release&gt; &lt;!-- &lt;release&gt;13/14/15&lt;/release&gt; --&gt;\r\n                    &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- This is just to make sure the class is set as main class to execute from the jar--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;transformer\r\n                                        implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                    &lt;mainClass&gt;edu.forty.bits.expression.SwitchExpressions&lt;/mainClass&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n***Note***:- I had to also ensure on my MacOS that my `~/.mavenrc` file was configured to mark java 13 as the default java configured for maven.\r\n\r\n## Step 2\r\n\r\nExecute the maven command to build the jar from the module classes \r\n\r\n    mvn clean verify \r\n\r\n## Step 3\r\nUse the command line to execute the main class of the jar created in the previous step as :\r\n\r\n    java --enable-preview -jar target/forty-bits-of-java-1.0.0-SNAPSHOT.jar\r\n \r\n*the last argument is the path to the jar built by maven.*\r\n\r\n\r\nThis produces the output as expected as:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(screenshot is from a previous execution.)\r\n\r\n*[Source on GitHub](https://github.com/namannigam/forty-bits-of-java/blob/master/pom.xml)*\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit**: A learning from an unwanted debugging session, use the arguments in the format as follows:\r\n\r\n    &lt;compilerArgs&gt;\r\n        &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;\r\n\r\nReason being, if you specify two different arguments it doesn&#39;t fail during the configuration validation and the one found later overrules the effective config:\r\n\r\n    &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n    &lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KUySL.png","title":"Compile and execute a JDK preview feature with Maven","body":"<h2>Step 1</h2>\n<p>One can make use of the following maven configurations to compile the code using the <code>--enable-preview</code> along with <code>--release 12</code>+ (e.g. <code>13</code>, <code>14</code>, <code>15</code>) argument.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;release&gt;12&lt;/release&gt; &lt;!-- &lt;release&gt;13/14/15&lt;/release&gt; --&gt;\n                &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- This is just to make sure the class is set as main class to execute from the jar--&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;transformers&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\n                            &lt;transformer\n                                    implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                &lt;mainClass&gt;edu.forty.bits.expression.SwitchExpressions&lt;/mainClass&gt;\n                            &lt;/transformer&gt;\n                        &lt;/transformers&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p><em><strong>Note</strong></em>:- I had to also ensure on my MacOS that my <code>~/.mavenrc</code> file was configured to mark java 13 as the default java configured for maven.</p>\n<h2>Step 2</h2>\n<p>Execute the maven command to build the jar from the module classes</p>\n<pre><code>mvn clean verify \n</code></pre>\n<h2>Step 3</h2>\n<p>Use the command line to execute the main class of the jar created in the previous step as :</p>\n<pre><code>java --enable-preview -jar target/forty-bits-of-java-1.0.0-SNAPSHOT.jar\n</code></pre>\n<p><em>the last argument is the path to the jar built by maven.</em></p>\n<p>This produces the output as expected as:</p>\n<p><a href=\"https://i.stack.imgur.com/KUySL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KUySL.png\" alt=\"enter image description here\" /></a></p>\n<p>(screenshot is from a previous execution.)</p>\n<p><em><a href=\"https://github.com/namannigam/forty-bits-of-java/blob/master/pom.xml\" rel=\"noreferrer\">Source on GitHub</a></em></p>\n<hr />\n<p><strong>Edit</strong>: A learning from an unwanted debugging session, use the arguments in the format as follows:</p>\n<pre><code>&lt;compilerArgs&gt;\n    &lt;arg&gt;--enable-preview&lt;/arg&gt;\n&lt;/compilerArgs&gt;\n</code></pre>\n<p>Reason being, if you specify two different arguments it doesn't fail during the configuration validation and the one found later overrules the effective config:</p>\n<pre><code>&lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n&lt;compilerArgs&gt;-Xlint:all&lt;/compilerArgs&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16922244,"reputation":345,"user_id":12238775,"display_name":"ricky"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1573310495,"creation_date":1573310410,"answer_id":58780313,"question_id":52232681,"body_markdown":"To enable preview feature you must define --enable-preview in pom.xml under compilerArgs\r\n\r\nin below I mention how to enable preview feature with java 13.\r\n\r\n  \r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;release&gt;13&lt;/release&gt;\r\n            &lt;compilerArgs&gt;\r\n              --enable-preview\r\n            &lt;/compilerArgs&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n     &lt;/build&gt;\r\n\r\n","title":"Compile and execute a JDK preview feature with Maven","body":"<p>To enable preview feature you must define --enable-preview in pom.xml under compilerArgs</p>\n\n<p>in below I mention how to enable preview feature with java 13.</p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;release&gt;13&lt;/release&gt;\n        &lt;compilerArgs&gt;\n          --enable-preview\n        &lt;/compilerArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M3&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1673897437,"creation_date":1653169998,"answer_id":72333472,"question_id":52232681,"body_markdown":"Since version 3.10.1 of the Maven Compiler Plugin, there is a [dedicated parameter](https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#enablePreview) for enabling preview features:\r\n\r\n&gt;`&lt;enablePreview&gt;`\r\n&gt;\r\n&gt;Set to true to Enable preview language features of the java compiler\r\n&gt;\r\n&gt;* **Type:** `boolean`\r\n&gt;* **Since:** `3.10.1`\r\n&gt;* **Required:** `No`\r\n&gt;* **User Property:** `maven.compiler.enablePreview`\r\n&gt;* **Default:** `false`\r\n\r\nExample:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;release&gt;${java.version}&lt;/release&gt;\r\n\t\t&lt;enablePreview&gt;true&lt;/enablePreview&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNote that for Surefire (and Failsafe), there is no such parameter and you have to use `&lt;argLine&gt;`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"Compile and execute a JDK preview feature with Maven","body":"<p>Since version 3.10.1 of the Maven Compiler Plugin, there is a <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#enablePreview\" rel=\"noreferrer\">dedicated parameter</a> for enabling preview features:</p>\n<blockquote>\n<p><code>&lt;enablePreview&gt;</code></p>\n<p>Set to true to Enable preview language features of the java compiler</p>\n<ul>\n<li><strong>Type:</strong> <code>boolean</code></li>\n<li><strong>Since:</strong> <code>3.10.1</code></li>\n<li><strong>Required:</strong> <code>No</code></li>\n<li><strong>User Property:</strong> <code>maven.compiler.enablePreview</code></li>\n<li><strong>Default:</strong> <code>false</code></li>\n</ul>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.10.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;${java.version}&lt;/release&gt;\n        &lt;enablePreview&gt;true&lt;/enablePreview&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Note that for Surefire (and Failsafe), there is no such parameter and you have to use <code>&lt;argLine&gt;</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;--enable-preview&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35735,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":52232682,"answer_count":3,"score":45,"last_activity_date":1673897437,"creation_date":1536388273,"question_id":52232681,"body_markdown":"With [JDK/12 EarlyAccess Build 10](http://jdk.java.net/12/), the JEP-325 Switch Expressions has been integrated as a preview feature in the JDK. A sample code for the expressions (as in the JEP as well):\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    Day day = Day.valueOf(scanner.next());\r\n    switch (day) {\r\n        case MONDAY, TUESDAY -&gt; System.out.println(&quot;Back to work.&quot;) ;\r\n        case WEDNESDAY -&gt; System.out.println(&quot;Wait for the end of week...&quot;) ;\r\n        case THURSDAY,FRIDAY -&gt; System.out.println(&quot;Plan for the weekend?&quot;);\r\n        case SATURDAY, SUNDAY -&gt; System.out.println(&quot;Enjoy the holiday!&quot;);\r\n    }\r\n\r\nwhere `Day` being an enum as \r\n\r\n    public enum Day {\r\n        MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\r\n    }\r\n\r\nThe [Preview Language and VM Features JEP-12](http://openjdk.java.net/jeps/12) already elaborate how a feature can be enabled during compile and runtime using `javac` and `java`.\r\n \r\nHow can one try out this feature using Maven?","title":"Compile and execute a JDK preview feature with Maven","body":"<p>With <a href=\"http://jdk.java.net/12/\" rel=\"noreferrer\">JDK/12 EarlyAccess Build 10</a>, the JEP-325 Switch Expressions has been integrated as a preview feature in the JDK. A sample code for the expressions (as in the JEP as well):</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nDay day = Day.valueOf(scanner.next());\nswitch (day) {\n    case MONDAY, TUESDAY -&gt; System.out.println(\"Back to work.\") ;\n    case WEDNESDAY -&gt; System.out.println(\"Wait for the end of week...\") ;\n    case THURSDAY,FRIDAY -&gt; System.out.println(\"Plan for the weekend?\");\n    case SATURDAY, SUNDAY -&gt; System.out.println(\"Enjoy the holiday!\");\n}\n</code></pre>\n\n<p>where <code>Day</code> being an enum as </p>\n\n<pre><code>public enum Day {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\n}\n</code></pre>\n\n<p>The <a href=\"http://openjdk.java.net/jeps/12\" rel=\"noreferrer\">Preview Language and VM Features JEP-12</a> already elaborate how a feature can be enabled during compile and runtime using <code>javac</code> and <code>java</code>.</p>\n\n<p>How can one try out this feature using Maven?</p>\n"},{"tags":["java","arrays","bubble-sort"],"answers":[{"tags":[],"owner":{"account_id":8930898,"reputation":51,"user_id":6663555,"display_name":"Jackeyzhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571710828,"creation_date":1571710828,"answer_id":58496291,"question_id":58478989,"body_markdown":"I think this problem don&#39;t need to sort the array. You only need count the number of person who overtake a person. Note that:\r\n\r\n - a person can bribe at most 2 different persons\r\n - a person can bribe who is in the front of him\r\nSo, you should judge that anyone bribe more than 2 persons first. Then count the number of overtake person.\r\n\r\nMy Java code like this:\r\n``` \r\n        int ans = 0;\r\n        for (int i = q.length - 1; i &gt;= 0; i--) {\r\n            if (q[i] - (i + 1) &gt; 2) {\r\n                System.out.println(&quot;Too chaotic&quot;);\r\n                return;\r\n            }\r\n            for (int j = Math.max(0, q[i] - 2); j &lt; i; j++) {\r\n                if (q[j] &gt; q[i]) {\r\n                    ans++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(ans);\r\n```","title":"Is there a more efficient form of sorting this array than bubblesort given the problem criteria?","body":"<p>I think this problem don't need to sort the array. You only need count the number of person who overtake a person. Note that:</p>\n\n<ul>\n<li>a person can bribe at most 2 different persons</li>\n<li>a person can bribe who is in the front of him\nSo, you should judge that anyone bribe more than 2 persons first. Then count the number of overtake person.</li>\n</ul>\n\n<p>My Java code like this:</p>\n\n<pre><code>        int ans = 0;\n        for (int i = q.length - 1; i &gt;= 0; i--) {\n            if (q[i] - (i + 1) &gt; 2) {\n                System.out.println(\"Too chaotic\");\n                return;\n            }\n            for (int j = Math.max(0, q[i] - 2); j &lt; i; j++) {\n                if (q[j] &gt; q[i]) {\n                    ans++;\n                }\n            }\n        }\n        System.out.println(ans);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19813226,"reputation":31,"user_id":14511535,"display_name":"Sumo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673897192,"creation_date":1673897192,"answer_id":75138846,"question_id":58478989,"body_markdown":"This is my java 7 code for this problem.\r\n\r\n    public static void minimumBribes(List&lt;Integer&gt; q) {\r\n    int count = 0;\r\n    for(int i = q.size()-1; i &gt;= 0; i--){\r\n        if(q.get(i) != (i+1)){\r\n            if((i+1) == q.get(i-1) &amp;&amp; (i - 1) &gt;= 0){\r\n                Collections.swap(q, i-1, i);\r\n                count++;              \r\n            }else if((i+1) == q.get(i-2) &amp;&amp; (i-2) &gt;= 0){\r\n                Collections.swap(q, i-2, i-1);\r\n                Collections.swap(q, i-1, i);\r\n                count+=2;          \r\n            }else{\r\n                System.out.println(&quot;Too chaotic&quot;);\r\n                return;\r\n            }\r\n        } \r\n    }\r\n    System.out.println(count);\r\n    }","title":"Is there a more efficient form of sorting this array than bubblesort given the problem criteria?","body":"<p>This is my java 7 code for this problem.</p>\n<pre><code>public static void minimumBribes(List&lt;Integer&gt; q) {\nint count = 0;\nfor(int i = q.size()-1; i &gt;= 0; i--){\n    if(q.get(i) != (i+1)){\n        if((i+1) == q.get(i-1) &amp;&amp; (i - 1) &gt;= 0){\n            Collections.swap(q, i-1, i);\n            count++;              \n        }else if((i+1) == q.get(i-2) &amp;&amp; (i-2) &gt;= 0){\n            Collections.swap(q, i-2, i-1);\n            Collections.swap(q, i-1, i);\n            count+=2;          \n        }else{\n            System.out.println(&quot;Too chaotic&quot;);\n            return;\n        }\n    } \n}\nSystem.out.println(count);\n}\n</code></pre>\n"}],"owner":{"account_id":16645797,"reputation":17,"user_id":12030143,"display_name":"Joshua Baroni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58496291,"answer_count":2,"score":0,"last_activity_date":1673897192,"creation_date":1571623851,"question_id":58478989,"body_markdown":"I was practicing some more problems on HackerRank and I ran into this one called &quot;New Year Chaos&quot;. Basically the premise is to sort the array and count the switches made. The catch is no number is allowed to make more than 2 switches. BubbleSort passes the first few tests, but times out on the rest. Is there a more efficient array sorting algo that still takes into account the number of switches? I tried mergeSort and quickSort but it&#39;s hard to track the switches when dividing the array like that.\r\n\r\nProblem prompt:\r\nIt&#39;s New Year&#39;s Day and everyone&#39;s in line for the Wonderland rollercoaster ride! There are a number of people queued up, and each person wears a sticker indicating their initial position in the queue. Initial positions increment by  from  at the front of the line to  at the back.\r\n\r\nAny person in the queue can bribe the person directly in front of them to swap positions. If two people swap positions, they still wear the same sticker denoting their original places in line. One person can bribe at most two others. For example, if n = 8 and Person 5 bribes Person 4, the queue will look like this: {1, 2, 3, 5, 4, 6, 7, 8}.\r\n\r\nFascinated by this chaotic queue, you decide you must know the minimum number of bribes that took place to get the queue into its current state!\r\n```java\r\npublic class LineBribing {\r\n\t\r\n    static int[] replace(int[] q, int i, int n) {\r\n        int temp = q[i];\r\n        q[i] = q[n];\r\n        q[n] = temp;\r\n        return q;\r\n    }\r\n\r\n    static void minimumBribes(int[] q) {\r\n        int count = 0;\r\n        for (int i = 0; i &lt; q.length - 1; i++) {\r\n            if (q[i] &gt; i + 3 || q[i] &lt; i - 1) {\r\n                System.out.println(&quot;Too chaotic&quot;);\r\n                return;\r\n            }\r\n            if (q[i] &gt; q[i + 1]) {\r\n                count++;\r\n                replace(q, i, i + 1);\r\n                i = 0;\r\n            }\r\n        }\r\n        System.out.println(count);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n    \tint[] test = {1, 2, 5, 3, 4, 7, 8, 6};\r\n    \tint[] test2 = {1, 2, 5, 3, 7, 8, 6, 4};\r\n    \tminimumBribes(test);\r\n    \tminimumBribes(test2);\r\n\r\n    }\r\n}\r\n```\r\nGiven the input in the main method, the output should be 4 for test 1 (switches: 5, 3 at index = 3 | 5, 4 at  index = 4 | 8, 6 at index = q.length - 1 | 7, 6 at index = q.length - 2) and &quot;Too Chaotic&quot; for test 2 (Because 5 is &gt; 2 switches away from its initial position)","title":"Is there a more efficient form of sorting this array than bubblesort given the problem criteria?","body":"<p>I was practicing some more problems on HackerRank and I ran into this one called \"New Year Chaos\". Basically the premise is to sort the array and count the switches made. The catch is no number is allowed to make more than 2 switches. BubbleSort passes the first few tests, but times out on the rest. Is there a more efficient array sorting algo that still takes into account the number of switches? I tried mergeSort and quickSort but it's hard to track the switches when dividing the array like that.</p>\n\n<p>Problem prompt:\nIt's New Year's Day and everyone's in line for the Wonderland rollercoaster ride! There are a number of people queued up, and each person wears a sticker indicating their initial position in the queue. Initial positions increment by  from  at the front of the line to  at the back.</p>\n\n<p>Any person in the queue can bribe the person directly in front of them to swap positions. If two people swap positions, they still wear the same sticker denoting their original places in line. One person can bribe at most two others. For example, if n = 8 and Person 5 bribes Person 4, the queue will look like this: {1, 2, 3, 5, 4, 6, 7, 8}.</p>\n\n<p>Fascinated by this chaotic queue, you decide you must know the minimum number of bribes that took place to get the queue into its current state!</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LineBribing {\n\n    static int[] replace(int[] q, int i, int n) {\n        int temp = q[i];\n        q[i] = q[n];\n        q[n] = temp;\n        return q;\n    }\n\n    static void minimumBribes(int[] q) {\n        int count = 0;\n        for (int i = 0; i &lt; q.length - 1; i++) {\n            if (q[i] &gt; i + 3 || q[i] &lt; i - 1) {\n                System.out.println(\"Too chaotic\");\n                return;\n            }\n            if (q[i] &gt; q[i + 1]) {\n                count++;\n                replace(q, i, i + 1);\n                i = 0;\n            }\n        }\n        System.out.println(count);\n    }\n\n    public static void main(String[] args) {\n        int[] test = {1, 2, 5, 3, 4, 7, 8, 6};\n        int[] test2 = {1, 2, 5, 3, 7, 8, 6, 4};\n        minimumBribes(test);\n        minimumBribes(test2);\n\n    }\n}\n</code></pre>\n\n<p>Given the input in the main method, the output should be 4 for test 1 (switches: 5, 3 at index = 3 | 5, 4 at  index = 4 | 8, 6 at index = q.length - 1 | 7, 6 at index = q.length - 2) and \"Too Chaotic\" for test 2 (Because 5 is > 2 switches away from its initial position)</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1674000724,"post_id":75138695,"comment_id":132620864,"body_markdown":"Modules you add should be comma separated, not as different arguments. For example: `--add-modules javafx.controls,javafx.media`.  Maybe your `module-path` or its content is also wrong, (I don&#39;t know, it looks a little strange though).  There may be errors in your jar packaging too,  I don&#39;t know because I don&#39;t know how you &quot;made a .jar for this&quot;.","body":"Modules you add should be comma separated, not as different arguments. For example: <code>--add-modules javafx.controls,javafx.media</code>.  Maybe your <code>module-path</code> or its content is also wrong, (I don&#39;t know, it looks a little strange though).  There may be errors in your jar packaging too,  I don&#39;t know because I don&#39;t know how you &quot;made a .jar for this&quot;."}],"owner":{"account_id":21103373,"reputation":1,"user_id":15512855,"display_name":"Kyucraft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673897023,"creation_date":1673896252,"question_id":75138695,"body_markdown":"i make an JavaFX application and i made a .jar for this. \r\n\r\nWhen i make this command : `java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock.jar`\r\n\r\nI have this error :\r\n\r\n    Graphics Device initialization failed for :  d3d, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n            at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\n    Caused by: java.lang.RuntimeException: No toolkit found\r\n            at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n            ... 5 more\r\n    PS C:\\Users\\killian\\Desktop\\KoalaRock\\element&gt; java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock\r\n    Error: Unable to access jarfile KoalaRock\r\n    PS C:\\Users\\killian\\Desktop\\KoalaRock\\element&gt; java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock.jar\r\n    Graphics Device initialization failed for :  d3d, sw\r\n    Error initializing QuantumRenderer: no suitable pipeline found\r\n    java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\r\n            at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\n    Caused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\r\n            at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\n    Caused by: java.lang.RuntimeException: No toolkit found\r\n            at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\r\n            at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\r\n            at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n            ... 5 more\r\n\r\nAnd after many research, i don&#39;t found whyu i have this error\r\n","title":"Error when run a .jar in terminal Error initializing QuantumRenderer: no suitable pipeline found","body":"<p>i make an JavaFX application and i made a .jar for this.</p>\n<p>When i make this command : <code>java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock.jar</code></p>\n<p>I have this error :</p>\n<pre><code>Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n        at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        ... 5 more\nPS C:\\Users\\killian\\Desktop\\KoalaRock\\element&gt; java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock\nError: Unable to access jarfile KoalaRock\nPS C:\\Users\\killian\\Desktop\\KoalaRock\\element&gt; java --module-path C:\\Users\\killian\\Desktop\\KoalaRock\\element\\libWindows --add-modules=javafx.controls --add-modules=javafx.media -jar KoalaRock.jar\nGraphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n        at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:268)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics@19/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:280)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:291)\n        at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:410)\n        at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        ... 5 more\n</code></pre>\n<p>And after many research, i don't found whyu i have this error</p>\n"},{"tags":["java","ruby-on-rails","ruby","enums"],"answers":[{"tags":[],"owner":{"account_id":27545910,"reputation":3,"user_id":21021862,"display_name":"aljadepalaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673896411,"creation_date":1673896375,"answer_id":75138713,"question_id":75136348,"body_markdown":"Calling the constant from the file, you need to pass in the argument and convert it into a symbol.\r\n`:flavor` is not the same as `flavor.to_sym` in your case because if declared as a symbol, it won&#39;t have the data passed in the params of `self.get`.\r\n\r\nHere&#39;s an implementation:\r\n```\r\nmodule Drink\r\n    class Flavor\r\n        FLAVORS = {\r\n            sweet: {\r\n                ingredient: &#39;sugar&#39;,\r\n                price: 10,\r\n            },\r\n            sour: {\r\n                ingredient: &#39;vinegar&#39;,\r\n                price: 20,\r\n            }\r\n        }.freeze\r\n\r\n        def self.get(flavor)\r\n            FLAVORS[flavor.to_sym]\r\n        end\r\n    end\r\nend\r\n```\r\n\r\nThen you can call `Drink::Flavor.get(:sweet)` which will yield the JSON for the &#39;sweet&#39; object. Another good thing about this implementation is you can pass in a symbol or a string `Drink::Flavor.get(&#39;sweet&#39;)` and it will still work.","title":"Ruby on Rails implementation similar to Java enums","body":"<p>Calling the constant from the file, you need to pass in the argument and convert it into a symbol.\n<code>:flavor</code> is not the same as <code>flavor.to_sym</code> in your case because if declared as a symbol, it won't have the data passed in the params of <code>self.get</code>.</p>\n<p>Here's an implementation:</p>\n<pre><code>module Drink\n    class Flavor\n        FLAVORS = {\n            sweet: {\n                ingredient: 'sugar',\n                price: 10,\n            },\n            sour: {\n                ingredient: 'vinegar',\n                price: 20,\n            }\n        }.freeze\n\n        def self.get(flavor)\n            FLAVORS[flavor.to_sym]\n        end\n    end\nend\n</code></pre>\n<p>Then you can call <code>Drink::Flavor.get(:sweet)</code> which will yield the JSON for the 'sweet' object. Another good thing about this implementation is you can pass in a symbol or a string <code>Drink::Flavor.get('sweet')</code> and it will still work.</p>\n"}],"owner":{"account_id":6838147,"reputation":665,"user_id":5259357,"accept_rate":56,"display_name":"gzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673896411,"creation_date":1673882830,"question_id":75136348,"body_markdown":"## Details (Flavor Enum)\r\n\r\n```java\r\npublic enum Flavor {\r\n\r\n    SWEET(&quot;sugar&quot;, 10),\r\n    SOUR(&quot;vinegar&quot;, 20),\r\n\r\n\r\n    private final String ingredient;\r\n    private final int price;\r\n\r\n    private Flavor(String ingredient, int price) {\r\n        this.ingredient = ingredient;\r\n        this.price = price;\r\n    }\r\n\r\n\r\n    public String getIngredient() {\r\n        return ingredient;\r\n    }\r\n\r\n    public int getPrice(){\r\n        return price;\r\n    }\r\n}\r\n```\r\n\r\nCurrent implementation in ruby code.\r\n\r\n```ruby\r\nmodule Drink\r\n  class Flavor\r\n    FLAVORS = {\r\n      sweet: {\r\n        ingredient: &#39;sugar&#39;,\r\n        price: 10,\r\n      },\r\n      sour: {\r\n        ingredient: &#39;vinegar&#39;,\r\n        price: 20,\r\n      }\r\n    }.freeze\r\n\r\n    def self.get(flavor)\r\n      APPS[:flavor]\r\n    end\r\n  end\r\nend\r\n```\r\n\r\n## Comparison between Java code VS Ruby\r\n\r\nThe above ruby code works just fine when we only need `ingredient` and `price` attributes but is lacking if I need to fetch the `sweet` or `sour` value. Example of comparison below.\r\n\r\n**Using Java enum**\r\n\r\nIn Java, I can directly use the enum when I need to query for db entries flavored `sweet` or `sour` like below\r\n\r\n\r\n```java\r\n//in another service\r\n//this will be passed around into different service and/or repositories\r\n//with just this assignment, I have access to the actual enum, the ingredient, and price\r\nEnum flavor = Flavor.SWEET \r\n\r\n\r\n//flavor is passed into the repository class\r\n//I can just use the flavor directly to fetch drinks \r\ndrinkRepository.findByFlavor(flavor);\r\n```\r\n\r\n**In ruby on rails**\r\n\r\nUsing the same use-case as the above, this is not possible in ruby.\r\n\r\nThe below code will not work since `Drink::Flavor.get(:sweet)` will return an object with properties namely `ingredient` and `price`, which is not the value I needed to query from db. \r\n\r\n```ruby\r\n# in a different class \r\n# this will be passed around into different class\r\n# this assignment will only provide me ingredient and the price\r\n# WITHOUT the actual `sweet` value\r\nflavor = Drink::Flavor.get(:sweet) \r\n\r\n# in a different service class, I&#39;m aiming to implement the below. \r\n# this is not working since flavor value is not `sweet` or `sour`\r\nDrinkRepository.find_by(flavor: flavor) \r\n```\r\n\r\n## Question:\r\n\r\nHow can I make the above ruby code work, without adding new field/attribute `flavor` for each object in the hash of FLAVORS in my ruby class?","title":"Ruby on Rails implementation similar to Java enums","body":"<h2>Details (Flavor Enum)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Flavor {\n\n    SWEET(&quot;sugar&quot;, 10),\n    SOUR(&quot;vinegar&quot;, 20),\n\n\n    private final String ingredient;\n    private final int price;\n\n    private Flavor(String ingredient, int price) {\n        this.ingredient = ingredient;\n        this.price = price;\n    }\n\n\n    public String getIngredient() {\n        return ingredient;\n    }\n\n    public int getPrice(){\n        return price;\n    }\n}\n</code></pre>\n<p>Current implementation in ruby code.</p>\n<pre class=\"lang-rb prettyprint-override\"><code>module Drink\n  class Flavor\n    FLAVORS = {\n      sweet: {\n        ingredient: 'sugar',\n        price: 10,\n      },\n      sour: {\n        ingredient: 'vinegar',\n        price: 20,\n      }\n    }.freeze\n\n    def self.get(flavor)\n      APPS[:flavor]\n    end\n  end\nend\n</code></pre>\n<h2>Comparison between Java code VS Ruby</h2>\n<p>The above ruby code works just fine when we only need <code>ingredient</code> and <code>price</code> attributes but is lacking if I need to fetch the <code>sweet</code> or <code>sour</code> value. Example of comparison below.</p>\n<p><strong>Using Java enum</strong></p>\n<p>In Java, I can directly use the enum when I need to query for db entries flavored <code>sweet</code> or <code>sour</code> like below</p>\n<pre class=\"lang-java prettyprint-override\"><code>//in another service\n//this will be passed around into different service and/or repositories\n//with just this assignment, I have access to the actual enum, the ingredient, and price\nEnum flavor = Flavor.SWEET \n\n\n//flavor is passed into the repository class\n//I can just use the flavor directly to fetch drinks \ndrinkRepository.findByFlavor(flavor);\n</code></pre>\n<p><strong>In ruby on rails</strong></p>\n<p>Using the same use-case as the above, this is not possible in ruby.</p>\n<p>The below code will not work since <code>Drink::Flavor.get(:sweet)</code> will return an object with properties namely <code>ingredient</code> and <code>price</code>, which is not the value I needed to query from db.</p>\n<pre class=\"lang-rb prettyprint-override\"><code># in a different class \n# this will be passed around into different class\n# this assignment will only provide me ingredient and the price\n# WITHOUT the actual `sweet` value\nflavor = Drink::Flavor.get(:sweet) \n\n# in a different service class, I'm aiming to implement the below. \n# this is not working since flavor value is not `sweet` or `sour`\nDrinkRepository.find_by(flavor: flavor) \n</code></pre>\n<h2>Question:</h2>\n<p>How can I make the above ruby code work, without adding new field/attribute <code>flavor</code> for each object in the hash of FLAVORS in my ruby class?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673892736,"post_id":75138079,"comment_id":132594057,"body_markdown":"You can&#39;t read an unbuffered stream twice. Just write bytes read to a `ByteArrayOutputStream` then you can do `String s = new String(baos.toByteArray(), StandardCharsets.UTF_8);`","body":"You can&#39;t read an unbuffered stream twice. Just write bytes read to a <code>ByteArrayOutputStream</code> then you can do <code>String s = new String(baos.toByteArray(), StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1673892968,"post_id":75138079,"comment_id":132594126,"body_markdown":"Hint, it’s a _stream_, you can’t read it twice","body":"Hint, it’s a <i>stream</i>, you can’t read it twice"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673893682,"post_id":75138079,"comment_id":132594317,"body_markdown":"If you are worried about the length of the string in terms of memory then you can simply bail if it&#39;s too large, having counted it","body":"If you are worried about the length of the string in terms of memory then you can simply bail if it&#39;s too large, having counted it"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673892992,"creation_date":1673892992,"answer_id":75138157,"question_id":75138079,"body_markdown":"`InputStream` is a read-once stream. Once you&#39;ve read it, you can&#39;t go back to start again. This is because `InputStream` is general-purpose: it could be the stream of bytes read from a keyboard, for example, or read from a real-time data feed.\r\n\r\nIf your input stream is in fact a `FileInputStream`, then you could use \r\n\r\n    inputStream.getChannel.position(0);\r\n\r\nto reset it to the start of the file.\r\n\r\nIf it&#39;s a `ByteArrayInputStream`, then you already have a byte array so you might as well just use that instead.\r\n\r\nIf you want to write a general-purpose function that doesn&#39;t know what kind of `InputStream` it is given, then you can wrap it in a `BufferedInputStream` and use its `mark()` method. This will use extra memory to buffer the whole of the stream.","title":"How to calculate checksum with InputStream and then use it again","body":"<p><code>InputStream</code> is a read-once stream. Once you've read it, you can't go back to start again. This is because <code>InputStream</code> is general-purpose: it could be the stream of bytes read from a keyboard, for example, or read from a real-time data feed.</p>\n<p>If your input stream is in fact a <code>FileInputStream</code>, then you could use</p>\n<pre><code>inputStream.getChannel.position(0);\n</code></pre>\n<p>to reset it to the start of the file.</p>\n<p>If it's a <code>ByteArrayInputStream</code>, then you already have a byte array so you might as well just use that instead.</p>\n<p>If you want to write a general-purpose function that doesn't know what kind of <code>InputStream</code> it is given, then you can wrap it in a <code>BufferedInputStream</code> and use its <code>mark()</code> method. This will use extra memory to buffer the whole of the stream.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673893156,"creation_date":1673893156,"answer_id":75138182,"question_id":75138079,"body_markdown":"Yes, an InputStream is consumed. You have a few options:\r\n\r\n1. `mark`\r\n\r\n`mark()` / `reset()` are __optional__ methods of inputstreams; mark sets a mark (this does, by itself, nothing), and reset &#39;rewinds back&#39; to the mark, replaying everything that was provided since the last time you called `mark()`.\r\n\r\nHowever, your average inputstream either does not support it, or, if it does, supports it by storing in memory all the bytes that are received since setting the mark. Meaning, if you do this to an inputstream that contains a few GB worth of data, you&#39;re going to get an `OutOfMemoryError`.\r\n\r\nIf there isn&#39;t a lot of data, just use mark and reset. Wrap in a BufferedInputStream which is specced to support mark/reset:\r\n\r\n```\r\nprivate void example(InputStream in) {\r\n  BufferedInputStream buffered = new BufferedInputStream(in);\r\n  in.mark();\r\n  long crc = calculateChecksum(buffered);\r\n  in.reset();\r\n  String text = IOUtils.toString(buffered, UTF_8);\r\n}\r\n```\r\n\r\n2. Duplicate\r\n\r\nYour second option is to duplicate the inputstream, sending each retrieved byte _both_ to IOUtils as well as to the CRC algorithm. \r\n\r\nThis is complicated and not recommended.\r\n\r\n3. Checksum the string instead.\r\n\r\nYou already have a string of data. Just checksum that:\r\n\r\n```\r\nprivate void example(InputStream in) {\r\n  String text = IOUtils.toString(in, UTF_8);\r\n  CRC32 crc = new CRC32();\r\n  crc.update(text.getBytes(UTF_8));\r\n  long checksum = crc.getValue();\r\n}\r\n```\r\n\r\nOr, ditching IOUtils:\r\n\r\n```\r\nprivate void example(InputStream in) {\r\n  byte[] data = in.readAllBytes();\r\n  CRC32 crc = new CRC32();\r\n  crc.update(data);\r\n  long checksum = crc.getValue();\r\n  String text = new String(data, UTF_8);\r\n}\r\n```\r\n","title":"How to calculate checksum with InputStream and then use it again","body":"<p>Yes, an InputStream is consumed. You have a few options:</p>\n<ol>\n<li><code>mark</code></li>\n</ol>\n<p><code>mark()</code> / <code>reset()</code> are <strong>optional</strong> methods of inputstreams; mark sets a mark (this does, by itself, nothing), and reset 'rewinds back' to the mark, replaying everything that was provided since the last time you called <code>mark()</code>.</p>\n<p>However, your average inputstream either does not support it, or, if it does, supports it by storing in memory all the bytes that are received since setting the mark. Meaning, if you do this to an inputstream that contains a few GB worth of data, you're going to get an <code>OutOfMemoryError</code>.</p>\n<p>If there isn't a lot of data, just use mark and reset. Wrap in a BufferedInputStream which is specced to support mark/reset:</p>\n<pre><code>private void example(InputStream in) {\n  BufferedInputStream buffered = new BufferedInputStream(in);\n  in.mark();\n  long crc = calculateChecksum(buffered);\n  in.reset();\n  String text = IOUtils.toString(buffered, UTF_8);\n}\n</code></pre>\n<ol start=\"2\">\n<li>Duplicate</li>\n</ol>\n<p>Your second option is to duplicate the inputstream, sending each retrieved byte <em>both</em> to IOUtils as well as to the CRC algorithm.</p>\n<p>This is complicated and not recommended.</p>\n<ol start=\"3\">\n<li>Checksum the string instead.</li>\n</ol>\n<p>You already have a string of data. Just checksum that:</p>\n<pre><code>private void example(InputStream in) {\n  String text = IOUtils.toString(in, UTF_8);\n  CRC32 crc = new CRC32();\n  crc.update(text.getBytes(UTF_8));\n  long checksum = crc.getValue();\n}\n</code></pre>\n<p>Or, ditching IOUtils:</p>\n<pre><code>private void example(InputStream in) {\n  byte[] data = in.readAllBytes();\n  CRC32 crc = new CRC32();\n  crc.update(data);\n  long checksum = crc.getValue();\n  String text = new String(data, UTF_8);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673896315,"creation_date":1673896315,"answer_id":75138703,"question_id":75138079,"body_markdown":"As others said, a stream can be consumed only once. But you can consume it and calculate the CRC value at the same time by wrapping your `InputStream` with a `java.util.zip.CheckedInputStream`.\r\n\r\nHere is a complete example, assuming the text file &quot;test.txt&quot; is in the current directory and contains only this one line: `These are german umlauts: &#228;&#246;&#252;&#196;&#214;&#220;&#223;`\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.zip.CRC32;\r\n    import java.util.zip.CheckedInputStream;\r\n\r\n    public class App {\r\n      private static final String INPUT_FILE = &quot;test.txt&quot;;\r\n\r\n      public static void main( String[] args ) {\r\n        final CRC32 crc32 = new CRC32();\r\n        try(InputStream in = new CheckedInputStream(new BufferedInputStream(\r\n                               new FileInputStream(INPUT_FILE)), crc32))  \r\n        {\r\n          final String text = IOUtils.toString(in, StandardCharsets.UTF_8);\r\n          System.out.println(text);\r\n          System.out.println(String.format(&quot;CRC32: %x&quot;, crc32.getValue()));\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    These are german umlauts: &#228;&#246;&#252;&#196;&#214;&#220;&#223;\r\n    CRC32: 84bcd851","title":"How to calculate checksum with InputStream and then use it again","body":"<p>As others said, a stream can be consumed only once. But you can consume it and calculate the CRC value at the same time by wrapping your <code>InputStream</code> with a <code>java.util.zip.CheckedInputStream</code>.</p>\n<p>Here is a complete example, assuming the text file &quot;test.txt&quot; is in the current directory and contains only this one line: <code>These are german umlauts: äöüÄÖÜß</code></p>\n<pre><code>import org.apache.commons.io.IOUtils;\nimport java.io.BufferedInputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.zip.CRC32;\nimport java.util.zip.CheckedInputStream;\n\npublic class App {\n  private static final String INPUT_FILE = &quot;test.txt&quot;;\n\n  public static void main( String[] args ) {\n    final CRC32 crc32 = new CRC32();\n    try(InputStream in = new CheckedInputStream(new BufferedInputStream(\n                           new FileInputStream(INPUT_FILE)), crc32))  \n    {\n      final String text = IOUtils.toString(in, StandardCharsets.UTF_8);\n      System.out.println(text);\n      System.out.println(String.format(&quot;CRC32: %x&quot;, crc32.getValue()));\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>These are german umlauts: äöüÄÖÜß\nCRC32: 84bcd851\n</code></pre>\n"}],"owner":{"account_id":5527385,"reputation":1611,"user_id":4388482,"accept_rate":69,"display_name":"nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75138703,"answer_count":3,"score":0,"last_activity_date":1673896315,"creation_date":1673892469,"question_id":75138079,"body_markdown":"I want to calculate the `CRC3` `checksum` of a given `InputStream` and then use to get the string out of it. Here&#39;s what I&#39;ve tried so far\r\n\r\n    private long calculateChecksum(InputStream stream) throws IOException {\r\n        CRC32 crc = new CRC32();\r\n        byte[] buffer = new byte[8192];\r\n        int length;\r\n        while ((length = stream.read(buffer)) &gt; 0) {\r\n            crc.update(buffer, 0, length);\r\n        }\r\n        return crc.getValue();\r\n    }\r\n\r\nand then\r\n\r\n    String text = IOUtils.toString(inputStream, UTF_8);\r\n\r\nI also tried to reverse the order. First use it as string and then calculate the checksum. But it didn&#39;t work.\r\n\r\n\r\nWhat seems to be my issue is that the index goes to the end while calculating the checksum and then doesn&#39;t reset. Any idea how to use InputStream after calculating the checksum?","title":"How to calculate checksum with InputStream and then use it again","body":"<p>I want to calculate the <code>CRC3</code> <code>checksum</code> of a given <code>InputStream</code> and then use to get the string out of it. Here's what I've tried so far</p>\n<pre><code>private long calculateChecksum(InputStream stream) throws IOException {\n    CRC32 crc = new CRC32();\n    byte[] buffer = new byte[8192];\n    int length;\n    while ((length = stream.read(buffer)) &gt; 0) {\n        crc.update(buffer, 0, length);\n    }\n    return crc.getValue();\n}\n</code></pre>\n<p>and then</p>\n<pre><code>String text = IOUtils.toString(inputStream, UTF_8);\n</code></pre>\n<p>I also tried to reverse the order. First use it as string and then calculate the checksum. But it didn't work.</p>\n<p>What seems to be my issue is that the index goes to the end while calculating the checksum and then doesn't reset. Any idea how to use InputStream after calculating the checksum?</p>\n"},{"tags":["java","spring-boot","spring-data-rest","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1515836453,"creation_date":1475686363,"answer_id":39879698,"question_id":39841315,"body_markdown":"See the following. Is your Projection definition in the same package (or subpackage) as the corresponding entity.\r\n\r\nhttp://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.projections   \r\n\r\n&gt; **How does Spring Data REST finds projection definitions?**\r\n&gt; \r\n&gt; Any `@Projection` interface found in the same package as your entity\r\n&gt; definitions (or one of it’s sub-packages) is registered.\r\n&gt; \r\n&gt; You can manually register via\r\n&gt; `RepositoryRestConfiguration.getProjectionConfiguration().addProjection(…)`.\r\n&gt; \r\n&gt; In either situation, the interface with your projection MUST have the\r\n&gt; `@Projection` annotation.","title":"@Projection not working","body":"<p>See the following. Is your Projection definition in the same package (or subpackage) as the corresponding entity.</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.projections\" rel=\"noreferrer\">http://docs.spring.io/spring-data/rest/docs/current/reference/html/#projections-excerpts.projections</a>   </p>\n\n<blockquote>\n  <p><strong>How does Spring Data REST finds projection definitions?</strong></p>\n  \n  <p>Any <code>@Projection</code> interface found in the same package as your entity\n  definitions (or one of it’s sub-packages) is registered.</p>\n  \n  <p>You can manually register via\n  <code>RepositoryRestConfiguration.getProjectionConfiguration().addProjection(…)</code>.</p>\n  \n  <p>In either situation, the interface with your projection MUST have the\n  <code>@Projection</code> annotation.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673895998,"creation_date":1673895998,"answer_id":75138659,"question_id":39841315,"body_markdown":"your class &quot;entities&quot;, and your &quot;interface&quot; of Projection corresponding to your entitie must be in some package.\r\nfor your case : entitie class UserS, and interface(Projection) USerS , must be in some package","title":"@Projection not working","body":"<p>your class &quot;entities&quot;, and your &quot;interface&quot; of Projection corresponding to your entitie must be in some package.\nfor your case : entitie class UserS, and interface(Projection) USerS , must be in some package</p>\n"}],"owner":{"account_id":8982326,"reputation":1004,"user_id":6697093,"accept_rate":100,"display_name":"Julio Villane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39879698,"answer_count":2,"score":3,"last_activity_date":1673895998,"creation_date":1475533295,"question_id":39841315,"body_markdown":"I&#39;ve implemented a little sample project to illustrate the problem I have. It&#39;s located here:\r\n\r\n    https://github.com/jvillane/spring-boot-hateoas-rest\r\n\r\nWhat i&#39;m trying to do is creating several **@Projection**&#39;s of the same Entity: \r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    \r\n    @Projection(name = &quot;S&quot;, types = User.class)\r\n    public interface UserS {\r\n        String getName();\r\n    }\r\n    \r\n    @Projection(name = &quot;M&quot;, types = User.class)\r\n    public interface UserM {\r\n        String getName();\r\n        String getDni();\r\n    }\r\n    \r\n    @Projection(name = &quot;L&quot;, types = User.class)\r\n    public interface UserL {\r\n        String getName();\r\n        String getDni();\r\n        Country getCountry();\r\n    }\r\n\r\nAnd using them to obtain more or less **Entity** information by calling (with and without quotes):\r\n\r\n    http://localhost:8080/api/users/1?projection=S\r\n    http://localhost:8080/api/users/1?projection=M\r\n    http://localhost:8080/api/users/1?projection=L\r\n\r\nBut it doesn&#39;t make a difference in the response, it&#39;s like it&#39;s using the default way to show the Entity info.\r\n\r\nI don&#39;t know what i&#39;m doing wrong. Any help is welcome.","title":"@Projection not working","body":"<p>I've implemented a little sample project to illustrate the problem I have. It's located here:</p>\n\n<pre><code>https://github.com/jvillane/spring-boot-hateoas-rest\n</code></pre>\n\n<p>What i'm trying to do is creating several <strong>@Projection</strong>'s of the same Entity: </p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@Projection(name = \"S\", types = User.class)\npublic interface UserS {\n    String getName();\n}\n\n@Projection(name = \"M\", types = User.class)\npublic interface UserM {\n    String getName();\n    String getDni();\n}\n\n@Projection(name = \"L\", types = User.class)\npublic interface UserL {\n    String getName();\n    String getDni();\n    Country getCountry();\n}\n</code></pre>\n\n<p>And using them to obtain more or less <strong>Entity</strong> information by calling (with and without quotes):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>http://localhost:8080/api/users/1?projection=S\nhttp://localhost:8080/api/users/1?projection=M\nhttp://localhost:8080/api/users/1?projection=L\n</code></pre>\n\n<p>But it doesn't make a difference in the response, it's like it's using the default way to show the Entity info.</p>\n\n<p>I don't know what i'm doing wrong. Any help is welcome.</p>\n"},{"tags":["java","pdf"],"answers":[{"tags":[],"owner":{"account_id":5084147,"reputation":2668,"user_id":4079400,"display_name":"Pritam Maske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524059864,"creation_date":1524059488,"answer_id":49901491,"question_id":49901345,"body_markdown":"Use **nameOfClass.class** instead of **getClass()**.\r\n\r\nFor Example Refer following code snippet : \r\n\r\n**Like as your :** \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n        Document document = new Document(PageSize.A4, 20, 20, 20, 20);\r\n        PdfWriter.getInstance(document, new FileOutputStream(&quot;C:\\\\ss.jpeg&quot;));\r\n        document.open();\r\n        Image image = Image.getInstance(getClass().getResource(&quot;C:\\\\file.pdf&quot;));\r\n        document.add(image);\r\n        document.close();\r\n       \r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n**Change it to :** \r\n   \r\n\r\n    public class Test {\r\n    \r\n    public static void main(String[] args) {\r\n            Document document = new Document(PageSize.A4, 20, 20, 20, 20);\r\n            PdfWriter.getInstance(document, new FileOutputStream(&quot;C:\\\\ss.jpeg&quot;));\r\n            document.open();\r\n            Image image = Image.getInstance(Test.class.getResource(&quot;C:\\\\file.pdf&quot;));\r\n            document.add(image);\r\n            document.close();\r\n        }\r\n    }","title":"Is it possible to convert JPEG file to PDF file in Java?","body":"<p>Use <strong>nameOfClass.class</strong> instead of <strong>getClass()</strong>.</p>\n\n<p>For Example Refer following code snippet : </p>\n\n<p><strong>Like as your :</strong> </p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n    Document document = new Document(PageSize.A4, 20, 20, 20, 20);\n    PdfWriter.getInstance(document, new FileOutputStream(\"C:\\\\ss.jpeg\"));\n    document.open();\n    Image image = Image.getInstance(getClass().getResource(\"C:\\\\file.pdf\"));\n    document.add(image);\n    document.close();\n\n    }\n}\n</code></pre>\n\n<p><strong>Change it to :</strong> </p>\n\n<pre><code>public class Test {\n\npublic static void main(String[] args) {\n        Document document = new Document(PageSize.A4, 20, 20, 20, 20);\n        PdfWriter.getInstance(document, new FileOutputStream(\"C:\\\\ss.jpeg\"));\n        document.open();\n        Image image = Image.getInstance(Test.class.getResource(\"C:\\\\file.pdf\"));\n        document.add(image);\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13392698,"reputation":59,"user_id":9664633,"display_name":"saratkumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524067387,"creation_date":1524067387,"answer_id":49904212,"question_id":49901345,"body_markdown":"This worked for me. \r\n    \r\n    public class CreatePDF {\r\n\t\t\tpublic static void main (String args[]) {\r\n\t\t\t\tDocument document = new Document();\r\n\t\t\t\tdocument.addAuthor(&quot;authorname&quot;);\r\n\t\t\t\tdocument.addTitle(&quot;This is my pdf doc&quot;);\r\n\t\t\t\tPdfWriter.getInstance(document, new FileOutputStream(&quot;C:\\\\file.pdf&quot;));\r\n\t\t\t\tdocument.open();\r\n\t\t\t\tImage image = Image.getInstance(&quot;C:\\\\img.png&quot;);\r\n\t\t\t\tdocument.add(image);\r\n\t\t\t\tdocument.close();\r\n\t\t\t}\r\n\t\t}","title":"Is it possible to convert JPEG file to PDF file in Java?","body":"<p>This worked for me. </p>\n\n<pre><code>public class CreatePDF {\n        public static void main (String args[]) {\n            Document document = new Document();\n            document.addAuthor(\"authorname\");\n            document.addTitle(\"This is my pdf doc\");\n            PdfWriter.getInstance(document, new FileOutputStream(\"C:\\\\file.pdf\"));\n            document.open();\n            Image image = Image.getInstance(\"C:\\\\img.png\");\n            document.add(image);\n            document.close();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14847159,"reputation":168,"user_id":10722200,"display_name":"Shivaraja HN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547107049,"creation_date":1547107049,"answer_id":54124128,"question_id":49901345,"body_markdown":"    public class ImageToPdf {\r\n    \tpublic static void main(String... args) {\r\n    \t\tDocument document = new Document();\r\n    \t\tString input = &quot;resources/GMARBLES.png&quot;; // .gif and .jpg are ok too!\r\n    \t\tString output = &quot;resources/GMARBLES.pdf&quot;;\r\n    \t\ttry {\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(output);\r\n    \t\t\tPdfWriter writer = PdfWriter.getInstance(document, fos);\r\n    \t\t\twriter.open();\r\n    \t\t\tdocument.open();\r\n    \t\t\tdocument.add(Image.getInstance(input));\r\n    \t\t\tdocument.close();\r\n    \t\t\twriter.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Is it possible to convert JPEG file to PDF file in Java?","body":"<pre><code>public class ImageToPdf {\n    public static void main(String... args) {\n        Document document = new Document();\n        String input = \"resources/GMARBLES.png\"; // .gif and .jpg are ok too!\n        String output = \"resources/GMARBLES.pdf\";\n        try {\n            FileOutputStream fos = new FileOutputStream(output);\n            PdfWriter writer = PdfWriter.getInstance(document, fos);\n            writer.open();\n            document.open();\n            document.add(Image.getInstance(input));\n            document.close();\n            writer.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13392698,"reputation":59,"user_id":9664633,"display_name":"saratkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9708,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":3,"score":2,"last_activity_date":1673895084,"creation_date":1524059073,"question_id":49901345,"body_markdown":"Is it possible to convert a JPEG file to a PDF file in Java?\r\n\r\nTried the below:\r\n\r\n    // pdf converter\r\n\tDocument document = new Document(PageSize.A4, 20, 20, 20, 20);\r\n\tPdfWriter.getInstance(document, new FileOutputStream(&quot;C:\\\\ss.jpeg&quot;));\r\n\tdocument.open();\r\n\tImage image = Image.getInstance(getClass().getResource(&quot;C:\\\\file.pdf&quot;));\r\n\tdocument.add(image);\r\n\tdocument.close();\r\n\r\n\r\n&gt; Error: Cannot make a static reference to the non-static method\r\n&gt; `getClass()` from the type Object","title":"Is it possible to convert JPEG file to PDF file in Java?","body":"<p>Is it possible to convert a JPEG file to a PDF file in Java?</p>\n<p>Tried the below:</p>\n<pre><code>// pdf converter\nDocument document = new Document(PageSize.A4, 20, 20, 20, 20);\nPdfWriter.getInstance(document, new FileOutputStream(&quot;C:\\\\ss.jpeg&quot;));\ndocument.open();\nImage image = Image.getInstance(getClass().getResource(&quot;C:\\\\file.pdf&quot;));\ndocument.add(image);\ndocument.close();\n</code></pre>\n<blockquote>\n<p>Error: Cannot make a static reference to the non-static method\n<code>getClass()</code> from the type Object</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":200877,"reputation":3077,"user_id":446976,"accept_rate":74,"display_name":"Dheeraj Joshi"},"score":1,"creation_date":1335160568,"post_id":10275461,"comment_id":13216234,"body_markdown":"Did u see this ? http://stackoverflow.com/questions/3396525/remove-empty-character-from-string","body":"Did u see this ? <a href=\"http://stackoverflow.com/questions/3396525/remove-empty-character-from-string\" title=\"remove empty character from string\">stackoverflow.com/questions/3396525/&hellip;</a>"},{"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"score":0,"creation_date":1335164750,"post_id":10275461,"comment_id":13217377,"body_markdown":"You should create new StringBuilder in your function and copy all not white spaced characters. Method  deleteCharAt remove one character and move rest of char array. Method should not modify input parameters!!!","body":"You should create new StringBuilder in your function and copy all not white spaced characters. Method  deleteCharAt remove one character and move rest of char array. Method should not modify input parameters!!!"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411557476,"creation_date":1335160621,"answer_id":10275501,"question_id":10275461,"body_markdown":"EDIT: Leaving this answer in for posterity, [but Keith Randall&#39;s O(n) solution][1] is much nicer.\r\n\r\nYou may find it&#39;s more efficient to work from the far end - as that way by the time you remove *early* characters, you won&#39;t be copying whitespace from later.\r\n\r\nAlso, if your data tends to have multiple whitespace characters together, you may wish to spot that and call `delete` rather than `deleteCharAt`. So something like:\r\n\r\n    private static StringBuilder removeBlankSpace(StringBuilder sb) {\r\n        int currentEnd = -1;\r\n        for(int i = sb.length() - 1; i &gt;= 0; i--) {\r\n            if (Character.isWhitespace(sb.charAt(i))) {\r\n                if (currentEnd == -1) {\r\n                    currentEnd = i + 1;\r\n                }\r\n            } else {\r\n                // Moved from whitespace to non-whitespace\r\n                if (currentEnd != -1) {\r\n                    sb.delete(i + 1, currentEnd);\r\n                    currentEnd = -1;\r\n                }\r\n            }\r\n        }\r\n        // All leading whitespace\r\n        if (currentEnd != -1) {\r\n            sb.delete(0, currentEnd);\r\n        }\r\n        return sb;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10275663/194894","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>EDIT: Leaving this answer in for posterity, <a href=\"https://stackoverflow.com/a/10275663/194894\">but Keith Randall's O(n) solution</a> is much nicer.</p>\n\n<p>You may find it's more efficient to work from the far end - as that way by the time you remove <em>early</em> characters, you won't be copying whitespace from later.</p>\n\n<p>Also, if your data tends to have multiple whitespace characters together, you may wish to spot that and call <code>delete</code> rather than <code>deleteCharAt</code>. So something like:</p>\n\n<pre><code>private static StringBuilder removeBlankSpace(StringBuilder sb) {\n    int currentEnd = -1;\n    for(int i = sb.length() - 1; i &gt;= 0; i--) {\n        if (Character.isWhitespace(sb.charAt(i))) {\n            if (currentEnd == -1) {\n                currentEnd = i + 1;\n            }\n        } else {\n            // Moved from whitespace to non-whitespace\n            if (currentEnd != -1) {\n                sb.delete(i + 1, currentEnd);\n                currentEnd = -1;\n            }\n        }\n    }\n    // All leading whitespace\n    if (currentEnd != -1) {\n        sb.delete(0, currentEnd);\n    }\n    return sb;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1335162242,"creation_date":1335160686,"answer_id":10275513,"question_id":10275461,"body_markdown":"How about the following (assuming that you have your `StringBuilder sb` initialized):\r\n\r\n    sb = new StringBuilder(sb.toString().replaceAll(&quot;\\\\s&quot;, &quot;&quot;));\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html#replace%28int,%20int,%20java.lang.String%29","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>How about the following (assuming that you have your <code>StringBuilder sb</code> initialized):</p>\n\n<pre><code>sb = new StringBuilder(sb.toString().replaceAll(\"\\\\s\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60264,"reputation":23015,"user_id":180090,"accept_rate":75,"display_name":"Keith Randall"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1335161588,"creation_date":1335161588,"answer_id":10275663,"question_id":10275461,"body_markdown":"You shouldn&#39;t call `delete` more than once - simply move each character down to its final location and then delete the range at the end.\r\n\r\n\r\n    static void removeBlankSpace(StringBuilder sb) {\r\n      int j = 0;\r\n      for(int i = 0; i &lt; sb.length; i++) {\r\n        if (!Character.isWhitespace(sb.charAt(i))) {\r\n           sb.setCharAt(j++, sb.charAt(i));\r\n        }\r\n      }\r\n      sb.delete(j, sb.length);\r\n    }","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>You shouldn't call <code>delete</code> more than once - simply move each character down to its final location and then delete the range at the end.</p>\n\n<pre><code>static void removeBlankSpace(StringBuilder sb) {\n  int j = 0;\n  for(int i = 0; i &lt; sb.length; i++) {\n    if (!Character.isWhitespace(sb.charAt(i))) {\n       sb.setCharAt(j++, sb.charAt(i));\n    }\n  }\n  sb.delete(j, sb.length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7382341,"reputation":11,"user_id":5618581,"display_name":"sivaram Nulakani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448822381,"creation_date":1448821893,"answer_id":33986396,"question_id":10275461,"body_markdown":" Code to Remove Leading &amp; Trailing spaces of a String           \r\n\r\n     int i = 0;\r\n     int j = 0;\r\n    \r\n     for (; i &lt; whiteSpcaTest.length();) {\r\n       i = 0;\r\n       if (Character.isWhitespace(whiteSpcaTest.charAt(i))) {\r\n         whiteSpcaTest.deleteCharAt(i);\r\n    \r\n       } else {\r\n         break;\r\n       }\r\n     }\r\n     for (; j &gt;= 0;) {\r\n       j = whiteSpcaTest.length() - 1;\r\n       if (Character.isWhitespace(whiteSpcaTest.charAt(j))) {\r\n         whiteSpcaTest.deleteCharAt(j);\r\n    \r\n       } else {\r\n         break;\r\n       }\r\n    \r\n     }","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>Code to Remove Leading &amp; Trailing spaces of a String           </p>\n\n<pre><code> int i = 0;\n int j = 0;\n\n for (; i &lt; whiteSpcaTest.length();) {\n   i = 0;\n   if (Character.isWhitespace(whiteSpcaTest.charAt(i))) {\n     whiteSpcaTest.deleteCharAt(i);\n\n   } else {\n     break;\n   }\n }\n for (; j &gt;= 0;) {\n   j = whiteSpcaTest.length() - 1;\n   if (Character.isWhitespace(whiteSpcaTest.charAt(j))) {\n     whiteSpcaTest.deleteCharAt(j);\n\n   } else {\n     break;\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2923414,"reputation":1388,"user_id":2505235,"accept_rate":75,"display_name":"Sohrab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513683691,"creation_date":1513683691,"answer_id":47886223,"question_id":10275461,"body_markdown":"The java string trim() method eliminates leading and trailing spaces. The unicode value of space character is &#39;\\u0020&#39;. The trim() method in java string checks this unicode value before and after the string, if it exists then removes the spaces and returns the omitted string. For example: \r\n\r\n    public class StringTrimExample{  \r\n    public static void main(String args[]){  \r\n    String s1=&quot;  hello string   &quot;;  \r\n    System.out.println(s1+&quot;javatpoint&quot;);//without trim()  \r\n    System.out.println(s1.trim()+&quot;javatpoint&quot;);//with trim()  \r\n    }}  \r\nand the results:\r\n\r\n      hello string   javatpoint\r\n    hello stringjavatpoint  \r\n\r\n \r\n","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>The java string trim() method eliminates leading and trailing spaces. The unicode value of space character is '\\u0020'. The trim() method in java string checks this unicode value before and after the string, if it exists then removes the spaces and returns the omitted string. For example: </p>\n\n<pre><code>public class StringTrimExample{  \npublic static void main(String args[]){  \nString s1=\"  hello string   \";  \nSystem.out.println(s1+\"javatpoint\");//without trim()  \nSystem.out.println(s1.trim()+\"javatpoint\");//with trim()  \n}}  \n</code></pre>\n\n<p>and the results:</p>\n\n<pre><code>  hello string   javatpoint\nhello stringjavatpoint  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9701036,"reputation":46,"user_id":11820594,"display_name":"Jan Tibar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673894825,"creation_date":1673894825,"answer_id":75138471,"question_id":10275461,"body_markdown":"I think this way is quite concise:\r\n\r\n    void removeAll(StringBuilder sb, char c) {\r\n      var length = sb.length();\r\n      int i = 0;\r\n      while (i &lt; length) {\r\n        if (sb.charAt(i) == c) {\r\n          sb.deleteCharAt(i);\r\n          length--;\r\n        } else {\r\n          i++;\r\n        }\r\n      }\r\n    }\r\n","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>I think this way is quite concise:</p>\n<pre><code>void removeAll(StringBuilder sb, char c) {\n  var length = sb.length();\n  int i = 0;\n  while (i &lt; length) {\n    if (sb.charAt(i) == c) {\n      sb.deleteCharAt(i);\n      length--;\n    } else {\n      i++;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1279095,"reputation":1265,"user_id":1233647,"accept_rate":97,"display_name":"remy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17847,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10275663,"answer_count":6,"score":3,"last_activity_date":1673894825,"creation_date":1335160356,"question_id":10275461,"body_markdown":"I implement it by the following code, but I don&#39;t know whether there&#39;s a more efficient way to remove all blank spaces from a StringBuilder\r\n\r\n    private static StringBuilder removeBlankSpace(StringBuilder sb){\r\n\t\tfor(int i=0;i&lt;sb.length();++i){\r\n\t\t\tif(Character.isWhitespace(sb.charAt(i))){\r\n\t\t\t\tsb.deleteCharAt(i);\r\n                                i--;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb;\r\n\t}","title":"java: what&#39;s the most efficient way to remove all blank space from a StringBuilder","body":"<p>I implement it by the following code, but I don't know whether there's a more efficient way to remove all blank spaces from a StringBuilder</p>\n\n<pre><code>private static StringBuilder removeBlankSpace(StringBuilder sb){\n    for(int i=0;i&lt;sb.length();++i){\n        if(Character.isWhitespace(sb.charAt(i))){\n            sb.deleteCharAt(i);\n                            i--;\n        }\n    }\n    return sb;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9269,"page":723,"page_size":100}
