{"items":[{"tags":["java","android","arrays","inputstream"],"answers":[{"tags":[],"owner":{"account_id":11991112,"reputation":186,"user_id":9625007,"display_name":"Alex Rivas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679684051,"creation_date":1679684051,"answer_id":75837274,"question_id":75837081,"body_markdown":"Try this code:\r\n\r\n```\r\nfun getPdfImageFromUri(uri: Uri?, applicationContext: Context): String? {\r\n    var outputString: String? = null\r\n\r\n    uri?.let {\r\n        val inputStream = applicationContext.contentResolver.openInputStream(it)\r\n        val bytes = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            inputStream?.readAllBytes()\r\n        } else {\r\n            inputStream?.readBytes()\r\n        }\r\n        outputString = encodeToString(bytes)\r\n    }\r\n\r\n    return outputString\r\n}\r\n```\r\n\r\nThe problem was caused by the use of the `readAllBytes()` method, which was introduced in **Java 9**. This method is not available on *Android 9 and 10 devices*, causing the java.lang.NoSuchMethodError to be thrown when the code is run on those devices.\r\nHere are some links that support this information:\r\n\r\n- [When to use the readAllBytes() method of InputStream in Java 9][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/when-to-use-the-readallbytes-method-of-inputstream-in-java-9","title":"Android app crashes No virtual method readAllBytes()","body":"<p>Try this code:</p>\n<pre><code>fun getPdfImageFromUri(uri: Uri?, applicationContext: Context): String? {\n    var outputString: String? = null\n\n    uri?.let {\n        val inputStream = applicationContext.contentResolver.openInputStream(it)\n        val bytes = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            inputStream?.readAllBytes()\n        } else {\n            inputStream?.readBytes()\n        }\n        outputString = encodeToString(bytes)\n    }\n\n    return outputString\n}\n</code></pre>\n<p>The problem was caused by the use of the <code>readAllBytes()</code> method, which was introduced in <strong>Java 9</strong>. This method is not available on <em>Android 9 and 10 devices</em>, causing the java.lang.NoSuchMethodError to be thrown when the code is run on those devices.\nHere are some links that support this information:</p>\n<ul>\n<li><a href=\"https://www.tutorialspoint.com/when-to-use-the-readallbytes-method-of-inputstream-in-java-9\" rel=\"nofollow noreferrer\">When to use the readAllBytes() method of InputStream in Java 9</a></li>\n</ul>\n"}],"owner":{"account_id":8201510,"reputation":127,"user_id":6172726,"display_name":"Coldnight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75837274,"answer_count":1,"score":0,"last_activity_date":1679684051,"creation_date":1679682622,"question_id":75837081,"body_markdown":"We have reported some crashes from Android 9 and 10 devices when they try to read pdf file with this method:\r\n\r\n    fun getPdfImageFromUri(uri: Uri?, applicationContext: Context): String? {\r\n        var outputString: String? = null\r\n\r\n        uri?.let {\r\n            ByteArrayOutputStream().apply {\r\n                outputString = encodeToString(applicationContext.contentResolver.openInputStream(it)?.readAllBytes())\r\n            }\r\n        }\r\n\r\n        return outputString\r\n    }\r\n\r\nand crash report:\r\njava.lang.NoSuchMethodError: No virtual method readAllBytes()[B in class Ljava/io/InputStream; or its super classes (declaration of &#39;java.io.InputStream&#39; appears in /apex/com.android.art/javalib/core-oj.jar)\r\n\r\nwhat could cause this problem ? Seems like it works fine on Android 11-13","title":"Android app crashes No virtual method readAllBytes()","body":"<p>We have reported some crashes from Android 9 and 10 devices when they try to read pdf file with this method:</p>\n<pre><code>fun getPdfImageFromUri(uri: Uri?, applicationContext: Context): String? {\n    var outputString: String? = null\n\n    uri?.let {\n        ByteArrayOutputStream().apply {\n            outputString = encodeToString(applicationContext.contentResolver.openInputStream(it)?.readAllBytes())\n        }\n    }\n\n    return outputString\n}\n</code></pre>\n<p>and crash report:\njava.lang.NoSuchMethodError: No virtual method readAllBytes()[B in class Ljava/io/InputStream; or its super classes (declaration of 'java.io.InputStream' appears in /apex/com.android.art/javalib/core-oj.jar)</p>\n<p>what could cause this problem ? Seems like it works fine on Android 11-13</p>\n"},{"tags":["java","swing","jcombobox"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679682164,"post_id":75836786,"comment_id":133770901,"body_markdown":"You probably should not use a JComboBox for this.  Consider using a JButton and your own JPopupMenu instead.","body":"You probably should not use a JComboBox for this.  Consider using a JButton and your own JPopupMenu instead."},{"owner":{"account_id":21834333,"reputation":3,"user_id":16128849,"display_name":"KHund"},"score":0,"creation_date":1679682415,"post_id":75836786,"comment_id":133770953,"body_markdown":"A JPopupMenu or JList would probably do what I&#39;m trying to do a lot easier, but for unrelated reasons it&#39;s strongly preferable that it look/feel like a JComboBox. I was hoping I could make a workable extension of JComboBox, but if it&#39;s actually impossible I&#39;ll give up and swap to a JPopupMenu. (I&#39;ve fixed every problem *except* that I can&#39;t get this top cell to refresh)","body":"A JPopupMenu or JList would probably do what I&#39;m trying to do a lot easier, but for unrelated reasons it&#39;s strongly preferable that it look/feel like a JComboBox. I was hoping I could make a workable extension of JComboBox, but if it&#39;s actually impossible I&#39;ll give up and swap to a JPopupMenu. (I&#39;ve fixed every problem <i>except</i> that I can&#39;t get this top cell to refresh)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679684785,"post_id":75836786,"comment_id":133771421,"body_markdown":"A combo-box has a specific function—selecting one of many values—but I’m pretty sure you’re using it for a different function, namely menu-like functionality.  I don’t think a combo-box is the best choice here.  (JavaFX actually has a [MenuButton](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/MenuButton.html) class for this.)","body":"A combo-box has a specific function—selecting one of many values—but I’m pretty sure you’re using it for a different function, namely menu-like functionality.  I don’t think a combo-box is the best choice here.  (JavaFX actually has a <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/MenuButton.html\" rel=\"nofollow noreferrer\">MenuButton</a> class for this.)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679700534,"post_id":75836786,"comment_id":133773894,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"answers":[{"tags":[],"owner":{"account_id":21834333,"reputation":3,"user_id":16128849,"display_name":"KHund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679683586,"creation_date":1679683534,"answer_id":75837200,"question_id":75836786,"body_markdown":"I think I figured it out!\r\n\r\nThe event I needed to explicitly call was `fireContentsChanged(this, -1, -1)` within the DefaultComboBoxModel, so I extended *that* class into a custom model so my extension of JComboBox could tell the model to run that method. This successfully forces the ListCellRenderer to update the display text I&#39;m trying to change.\r\n\r\nThe [DefaultComboBoxModel][1] usually is the one that calls for updates to the display text of the JComboBox from the model&#39;s `setSelectedItem(Object anObject)` method.\r\n\r\n  [1]: https://github.com/openjdk/shenandoah/blob/master/src/java.desktop/share/classes/javax/swing/DefaultComboBoxModel.java","title":"JComboBox change displayed text every time any change is made","body":"<p>I think I figured it out!</p>\n<p>The event I needed to explicitly call was <code>fireContentsChanged(this, -1, -1)</code> within the DefaultComboBoxModel, so I extended <em>that</em> class into a custom model so my extension of JComboBox could tell the model to run that method. This successfully forces the ListCellRenderer to update the display text I'm trying to change.</p>\n<p>The <a href=\"https://github.com/openjdk/shenandoah/blob/master/src/java.desktop/share/classes/javax/swing/DefaultComboBoxModel.java\" rel=\"nofollow noreferrer\">DefaultComboBoxModel</a> usually is the one that calls for updates to the display text of the JComboBox from the model's <code>setSelectedItem(Object anObject)</code> method.</p>\n"}],"owner":{"account_id":21834333,"reputation":3,"user_id":16128849,"display_name":"KHund"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75837200,"answer_count":1,"score":-1,"last_activity_date":1679683708,"creation_date":1679680177,"question_id":75836786,"body_markdown":"I am trying to edit the displayed text (in the JComboBox itself, not the dropdown popup of options) every single time that any option is clicked/changed.\r\n\r\nI have a custom renderer that looks kind of like the one below:\r\n\r\n```\r\nJComboBox&lt;Object&gt; jc = new JComboBox&lt;Object&gt;();\r\njc.setRenderer(new ListCellRenderer&lt;Object&gt;() {\r\n    @Override\r\n    public Component getListCellRendererComponent(JList&lt;? extends Item&gt; list,\r\n                                                  Object value, int index, \r\n                                                  boolean isSelected,\r\n                                                  boolean cellHasFocus) {\r\n        if(index == -1)\r\n            return new JLabel(&quot;this is the top cell&quot;);\r\n\r\n        return new JLabel(&quot;this is a cell in the dropdown popup area&quot;);\r\n    }\r\n});\r\n```\r\n\r\nThis successfully changes the text whenever the renderer is called. The trouble is that this renderer is not called every time an entry is clicked.\r\n\r\nI have tried to make a custom event call in my class that extends JComboBox, but when trying to call a change, I&#39;m not sure how to specify that I only want to change the top text (and leave the rest of the dropdown cells alone). I have been messing with the method:\r\n\r\n```\r\nfireItemStateChanged(new ItemEvent(this,ItemEvent.ITEM_STATE_CHANGED,\r\n                                               somethingGoesHere,\r\n                                               ItemEvent.DESELECTED));\r\n```\r\n\r\nbut I can&#39;t figure out what item Object to put in place of `somethingGoesHere` to specify to call for a re-render to the top text. None of the entries in `dataModule.getElementAt(int index)` seem to create a call to change the correct text.\r\n\r\n(My extending class of JComboBox has made large-ish changes including making the dropdown popup not automatically hide when an option is clicked, which is probably why the top text doesn&#39;t change as often as expected and I am trying to call the renderer on my own.)\r\n\r\nEDIT:\r\n\r\nAfter a bit of testing, the problem is that I want the JComboBox display bit to refresh even if the dropdown item that was previously selected is clicked again.\r\n\r\nI tried overriding `setSelectedItem(Object anObject)` to call `selectedItemChanged()` even when `selectedItemReminder == dataModule.getSelectedItem()`, but this doesn&#39;t then force an update of the JComboBox display text. :(","title":"JComboBox change displayed text every time any change is made","body":"<p>I am trying to edit the displayed text (in the JComboBox itself, not the dropdown popup of options) every single time that any option is clicked/changed.</p>\n<p>I have a custom renderer that looks kind of like the one below:</p>\n<pre><code>JComboBox&lt;Object&gt; jc = new JComboBox&lt;Object&gt;();\njc.setRenderer(new ListCellRenderer&lt;Object&gt;() {\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends Item&gt; list,\n                                                  Object value, int index, \n                                                  boolean isSelected,\n                                                  boolean cellHasFocus) {\n        if(index == -1)\n            return new JLabel(&quot;this is the top cell&quot;);\n\n        return new JLabel(&quot;this is a cell in the dropdown popup area&quot;);\n    }\n});\n</code></pre>\n<p>This successfully changes the text whenever the renderer is called. The trouble is that this renderer is not called every time an entry is clicked.</p>\n<p>I have tried to make a custom event call in my class that extends JComboBox, but when trying to call a change, I'm not sure how to specify that I only want to change the top text (and leave the rest of the dropdown cells alone). I have been messing with the method:</p>\n<pre><code>fireItemStateChanged(new ItemEvent(this,ItemEvent.ITEM_STATE_CHANGED,\n                                               somethingGoesHere,\n                                               ItemEvent.DESELECTED));\n</code></pre>\n<p>but I can't figure out what item Object to put in place of <code>somethingGoesHere</code> to specify to call for a re-render to the top text. None of the entries in <code>dataModule.getElementAt(int index)</code> seem to create a call to change the correct text.</p>\n<p>(My extending class of JComboBox has made large-ish changes including making the dropdown popup not automatically hide when an option is clicked, which is probably why the top text doesn't change as often as expected and I am trying to call the renderer on my own.)</p>\n<p>EDIT:</p>\n<p>After a bit of testing, the problem is that I want the JComboBox display bit to refresh even if the dropdown item that was previously selected is clicked again.</p>\n<p>I tried overriding <code>setSelectedItem(Object anObject)</code> to call <code>selectedItemChanged()</code> even when <code>selectedItemReminder == dataModule.getSelectedItem()</code>, but this doesn't then force an update of the JComboBox display text. :(</p>\n"},{"tags":["java","maven","junit","teamcity"],"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1679682950,"post_id":75820259,"comment_id":133771058,"body_markdown":"What build tool are using, Maven, Gradle, …? I might help to see (parts of) your build configuration, i.e. `pom.xml` with Surefire config in case of Maven. I assume TeamCity uses the created report to display the test results. Gradle, for instance, has the following issue: https://github.com/gradle/gradle/issues/5975","body":"What build tool are using, Maven, Gradle, …? I might help to see (parts of) your build configuration, i.e. <code>pom.xml</code> with Surefire config in case of Maven. I assume TeamCity uses the created report to display the test results. Gradle, for instance, has the following issue: <a href=\"https://github.com/gradle/gradle/issues/5975\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/5975</a>"}],"owner":{"account_id":16208914,"reputation":85,"user_id":11703452,"display_name":"Maxime Alza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679682138,"creation_date":1679557035,"question_id":75820259,"body_markdown":"I&#39;ve got a Maven Project with a  PrivateApiTest class which test some privates API&#39;s from my application. \r\n\r\nIn this class, I&#39;ve got a method setup() with the annotation @BeforeAll which get all the Api&#39;s response from my collection of Api&#39;s stored on a JSON file.\r\n\r\nHere is the function :\r\n\r\n\t@BeforeAll\r\n\tpublic void setup() {\r\n\r\n\t\t//Creating the report\r\n\t\treport = new ExtentReports(&quot;src/main/ressources/test_results/apiTest.html&quot;,true);\r\n\r\n\t\t//Create object mapper and list\r\n\t\tobjectMapper = new ObjectMapper();\r\n\t\tlistType = objectMapper.getTypeFactory().constructCollectionType(List.class, Api.class);\r\n\r\n\t\ttry {\r\n\r\n\t\t\tapiList = objectMapper.readValue(new File(ressourcesPath + jsonFile), listType);\r\n\t\t\tapiResponseMap = new HashMap&lt;&gt;();\r\n\r\n            //function to get the cookie\r\n\t\t\tcookie = UtilApi.login(domain, &quot;test&quot;, &quot;test&quot;);\r\n\r\n\t\t\tif( cookie == null ) {\r\n\t\t\t\tfail(&quot;Failed to log&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t//We get all the api&#39;s response and put them into a map to reuse them for the tests\r\n\t\t\tfor (Api api : apiList) {\r\n\r\n\t\t\t\tendpoint = UtilApi.generateEndpoint(api.getVersion(), api.getName(), api.getParametres());\r\n\t\t\t\tresponse = UtilApi.getResponse(testResult, url, endpoint, cookie);\r\n\t\t\t\tapiResponseMap.put(api, response);\r\n\t\t\t}\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\tUtilTest.testFail(testResult, failString + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nAfter that, I create a Stream of Dynamic Test to test all those api response in a unique function called ResponseCode_Test\r\n\r\nHere&#39;s the code of my function : \r\n\r\n\r\n\t@TestFactory\r\n\tpublic Stream&lt;DynamicTest&gt; ResponseCode_Test(){\r\n\t\t\r\n\t\tIterator&lt;Map.Entry&lt;Api,Response&gt;&gt; inputStream = apiResponseMap.entrySet().iterator();\r\n\t\tFunction&lt;? super Map.Entry&lt;Api, Response&gt;, String&gt; displayNameGenerator = input -&gt; input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion();\r\n\t\tThrowingConsumer&lt;Map.Entry&lt;Api,Response&gt;&gt; testExecutor = input -&gt; {\r\n\t\t\tApi api = input.getKey();\r\n\t\t\tResponse response = input.getValue();\r\n\t\t\t\r\n\t\t\ttestResult = report.startTest( input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; response code&quot;);\r\n\t\t\t\r\n\t\t\ttry {\r\n\r\n\t\t\t\tassertEquals(response.getStatusCode(), 200);\r\n\t\t\t\ttestResult.log(LogStatus.PASS, input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; response code OK&quot;);\r\n\t\t\t\t\r\n\t\t\t} catch (AssertionError e) {\r\n\t\t\t\tfailString += &quot;The api&quot; + api.getName() + &quot; returned code &quot; + response.getStatusCode();\r\n\t\t\t\tUtilTest.testFail(testResult, failString);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\treturn DynamicTest.stream(inputStream, displayNameGenerator, testExecutor);\r\n\t\t\r\n\t}\r\n\r\nAnd also another Stream of Dynamic test to test that the string &quot;success&quot; is present on my APi&#39;s\r\n\r\n\t@TestFactory\r\n\tpublic Stream&lt;DynamicTest&gt; Success_Test() {\r\n\t\t\r\n\t\tIterator&lt;Map.Entry&lt;Api,Response&gt;&gt; inputStream = apiResponseMap.entrySet().iterator();\r\n\t\tFunction&lt;? super Map.Entry&lt;Api, Response&gt;, String&gt; displayNameGenerator = input -&gt; input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion();\r\n\t\tThrowingConsumer&lt;Map.Entry&lt;Api,Response&gt;&gt; testExecutor = input -&gt; {\r\n\t\t\t\r\n\t\t\tfailString = &quot;The test failed &quot;;\r\n\t\t\t\r\n\t\t\tApi api = input.getKey();\r\n\t\t\tResponse response = input.getValue();\r\n\t\t\t\r\n\t\t\tJsonPath jsonPath = UtilApi.getJsonPath(response);\r\n\t\t\t\r\n\t\t\ttestResult = report.startTest( input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; success&quot;);\r\n\r\n\t\t\ttry {\r\n\t\t\t\tassertEquals(jsonPath.getString(&quot;success&quot;), &quot;true&quot;);\r\n\t\t\t\ttestResult.log(LogStatus.PASS, input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; success OK&quot;);\r\n\t\t\t\t\r\n\t\t\t} catch (AssertionError e) {\r\n\t\t\t\t\r\n\t\t\t\tfailString += &quot;The API&quot; + api.getName() + &quot; in version &quot; + api.getVersion() + &quot; returned success = false &quot;;\r\n\t\t\t\tUtilTest.testFail(testResult, failString);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\treturn DynamicTest.stream(inputStream, displayNameGenerator, testExecutor);\r\n\t}\r\n\r\nMy project is stored on TeamCity for Automatic building and CI/CD.\r\n\r\nI would like how it&#39;s possible, on TeamCity, instead to have always the same method name, have a Dynamic name for each test. (see screenshot below)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aB61q.png","title":"Stream&lt;DynamicTest&gt; always have the same method name in TeamCity","body":"<p>I've got a Maven Project with a  PrivateApiTest class which test some privates API's from my application.</p>\n<p>In this class, I've got a method setup() with the annotation @BeforeAll which get all the Api's response from my collection of Api's stored on a JSON file.</p>\n<p>Here is the function :</p>\n<pre><code>@BeforeAll\npublic void setup() {\n\n    //Creating the report\n    report = new ExtentReports(&quot;src/main/ressources/test_results/apiTest.html&quot;,true);\n\n    //Create object mapper and list\n    objectMapper = new ObjectMapper();\n    listType = objectMapper.getTypeFactory().constructCollectionType(List.class, Api.class);\n\n    try {\n\n        apiList = objectMapper.readValue(new File(ressourcesPath + jsonFile), listType);\n        apiResponseMap = new HashMap&lt;&gt;();\n\n        //function to get the cookie\n        cookie = UtilApi.login(domain, &quot;test&quot;, &quot;test&quot;);\n\n        if( cookie == null ) {\n            fail(&quot;Failed to log&quot;);\n        }\n\n        //We get all the api's response and put them into a map to reuse them for the tests\n        for (Api api : apiList) {\n\n            endpoint = UtilApi.generateEndpoint(api.getVersion(), api.getName(), api.getParametres());\n            response = UtilApi.getResponse(testResult, url, endpoint, cookie);\n            apiResponseMap.put(api, response);\n        }\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        UtilTest.testFail(testResult, failString + e.getMessage());\n    }\n}\n</code></pre>\n<p>After that, I create a Stream of Dynamic Test to test all those api response in a unique function called ResponseCode_Test</p>\n<p>Here's the code of my function :</p>\n<pre><code>@TestFactory\npublic Stream&lt;DynamicTest&gt; ResponseCode_Test(){\n    \n    Iterator&lt;Map.Entry&lt;Api,Response&gt;&gt; inputStream = apiResponseMap.entrySet().iterator();\n    Function&lt;? super Map.Entry&lt;Api, Response&gt;, String&gt; displayNameGenerator = input -&gt; input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion();\n    ThrowingConsumer&lt;Map.Entry&lt;Api,Response&gt;&gt; testExecutor = input -&gt; {\n        Api api = input.getKey();\n        Response response = input.getValue();\n        \n        testResult = report.startTest( input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; response code&quot;);\n        \n        try {\n\n            assertEquals(response.getStatusCode(), 200);\n            testResult.log(LogStatus.PASS, input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; response code OK&quot;);\n            \n        } catch (AssertionError e) {\n            failString += &quot;The api&quot; + api.getName() + &quot; returned code &quot; + response.getStatusCode();\n            UtilTest.testFail(testResult, failString);\n        }\n    };\n    \n    return DynamicTest.stream(inputStream, displayNameGenerator, testExecutor);\n    \n}\n</code></pre>\n<p>And also another Stream of Dynamic test to test that the string &quot;success&quot; is present on my APi's</p>\n<pre><code>@TestFactory\npublic Stream&lt;DynamicTest&gt; Success_Test() {\n    \n    Iterator&lt;Map.Entry&lt;Api,Response&gt;&gt; inputStream = apiResponseMap.entrySet().iterator();\n    Function&lt;? super Map.Entry&lt;Api, Response&gt;, String&gt; displayNameGenerator = input -&gt; input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion();\n    ThrowingConsumer&lt;Map.Entry&lt;Api,Response&gt;&gt; testExecutor = input -&gt; {\n        \n        failString = &quot;The test failed &quot;;\n        \n        Api api = input.getKey();\n        Response response = input.getValue();\n        \n        JsonPath jsonPath = UtilApi.getJsonPath(response);\n        \n        testResult = report.startTest( input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; success&quot;);\n\n        try {\n            assertEquals(jsonPath.getString(&quot;success&quot;), &quot;true&quot;);\n            testResult.log(LogStatus.PASS, input.getKey().getName() + &quot; v&quot; + input.getKey().getVersion() + &quot; success OK&quot;);\n            \n        } catch (AssertionError e) {\n            \n            failString += &quot;The API&quot; + api.getName() + &quot; in version &quot; + api.getVersion() + &quot; returned success = false &quot;;\n            UtilTest.testFail(testResult, failString);\n        }\n        \n    };\n    \n    return DynamicTest.stream(inputStream, displayNameGenerator, testExecutor);\n}\n</code></pre>\n<p>My project is stored on TeamCity for Automatic building and CI/CD.</p>\n<p>I would like how it's possible, on TeamCity, instead to have always the same method name, have a Dynamic name for each test. (see screenshot below)</p>\n<p><a href=\"https://i.stack.imgur.com/aB61q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aB61q.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1679682141,"post_id":75837004,"comment_id":133770897,"body_markdown":"Use maven. Eclipse has maven integration. Good luck! https://www.vogella.com/tutorials/EclipseMaven/article.html","body":"Use maven. Eclipse has maven integration. Good luck! <a href=\"https://www.vogella.com/tutorials/EclipseMaven/article.html\" rel=\"nofollow noreferrer\">vogella.com/tutorials/EclipseMaven/article.html</a>"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1679685137,"post_id":75837004,"comment_id":133771488,"body_markdown":"Or use Gradle ;-) https://www.tutorialspoint.com/gradle/gradle_dependency_management.htm","body":"Or use Gradle ;-) <a href=\"https://www.tutorialspoint.com/gradle/gradle_dependency_management.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/gradle/gradle_dependency_management.htm</a>"},{"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"score":0,"creation_date":1679727315,"post_id":75837004,"comment_id":133776041,"body_markdown":"@ElliottFrisch so I should make my Java project a Maven Project?","body":"@ElliottFrisch so I should make my Java project a Maven Project?"},{"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"score":1,"creation_date":1679727523,"post_id":75837004,"comment_id":133776055,"body_markdown":"@LMC I am definitely more familiar with gradle since I use it in Android Studio.","body":"@LMC I am definitely more familiar with gradle since I use it in Android Studio."}],"owner":{"account_id":15387165,"reputation":23,"user_id":14521298,"display_name":"Jade Kush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679681924,"creation_date":1679681924,"question_id":75837004,"body_markdown":"I used to manually add the jars I needed in a java project on eclipse.\r\n\r\nI am trying to set up my java project in Eclipse for the use of `Tess4J`. Instead of adding the jars, I could use maven dependency right? If so, how? I have tried to take a look but I am confused honestly. If you have a guide I would much appreciate it.","title":"I used to manually add the jars I needed in a java project on eclipse. What should I do instead?","body":"<p>I used to manually add the jars I needed in a java project on eclipse.</p>\n<p>I am trying to set up my java project in Eclipse for the use of <code>Tess4J</code>. Instead of adding the jars, I could use maven dependency right? If so, how? I have tried to take a look but I am confused honestly. If you have a guide I would much appreciate it.</p>\n"},{"tags":["java","spring","stack-trace"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679681977,"post_id":75836984,"comment_id":133770849,"body_markdown":"Eclipse also has a call hierarchy view...","body":"Eclipse also has a call hierarchy view..."},{"owner":{"account_id":28116801,"reputation":1,"user_id":21483774,"display_name":"sneakyturtle"},"score":0,"creation_date":1679682633,"post_id":75836984,"comment_id":133770996,"body_markdown":"Yes, but I think that&#39;s bottom up, I&#39;m looking for something top down. Like the methods the method is using, not where the method is being used.","body":"Yes, but I think that&#39;s bottom up, I&#39;m looking for something top down. Like the methods the method is using, not where the method is being used."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679684072,"post_id":75836984,"comment_id":133771285,"body_markdown":"It can also be switched to callee hierarchy, see https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fviews%2Fref-call-hierarchy.htm","body":"It can also be switched to callee hierarchy, see <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fviews%2Fref-call-hierarchy.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a>"},{"owner":{"account_id":28116801,"reputation":1,"user_id":21483774,"display_name":"sneakyturtle"},"score":0,"creation_date":1679684381,"post_id":75836984,"comment_id":133771350,"body_markdown":"Ahh perfect didn&#39;t know that. Is there a way to do it on a class level instead of a method by method basis?","body":"Ahh perfect didn&#39;t know that. Is there a way to do it on a class level instead of a method by method basis?"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679817331,"post_id":75836984,"comment_id":133785918,"body_markdown":"Not that I know of. I&#39;m sure there are plugins for this, but asking for tool recommendations is off-topic on this site.","body":"Not that I know of. I&#39;m sure there are plugins for this, but asking for tool recommendations is off-topic on this site."}],"owner":{"account_id":28116801,"reputation":1,"user_id":21483774,"display_name":"sneakyturtle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679681760,"creation_date":1679681760,"question_id":75836984,"body_markdown":"[Outline view](https://i.stack.imgur.com/KntOo.png)\r\nI&#39;d like to get the methods that these methods call and so on.\r\n\r\nFor example getApplications() -&gt; service.findAll() -&gt;repository.findAll() etc until it ends (including split paths).\r\n\r\nKind of like a stack trace but without actually running the code.\r\n\r\nIt doesn&#39;t have to be via eclipse, if some plugin/library can run through the code and generate it that would work too.\r\n\r\n\r\n\r\nEclipse outline view is the closest I&#39;ve found till now","title":"Is there a way to generate a deeper outline view than eclipse does?","body":"<p><a href=\"https://i.stack.imgur.com/KntOo.png\" rel=\"nofollow noreferrer\">Outline view</a>\nI'd like to get the methods that these methods call and so on.</p>\n<p>For example getApplications() -&gt; service.findAll() -&gt;repository.findAll() etc until it ends (including split paths).</p>\n<p>Kind of like a stack trace but without actually running the code.</p>\n<p>It doesn't have to be via eclipse, if some plugin/library can run through the code and generate it that would work too.</p>\n<p>Eclipse outline view is the closest I've found till now</p>\n"},{"tags":["java","android","mobile","android-glide"],"answers":[{"tags":[],"owner":{"account_id":27359327,"reputation":11,"user_id":20867200,"display_name":"gregorz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679681575,"creation_date":1679681575,"answer_id":75836959,"question_id":75836872,"body_markdown":"Solved!\r\n```\r\n\r\nLinearLayout linlay = findViewById(R.id.linlay);\r\nButton addImagesButton = findViewById(R.id.addImagesButton);\r\n\r\nActivityResultLauncher&lt;Intent&gt; mChoosePhoto = registerForActivityResult(\r\n                new ActivityResultContracts.GetMultipleContents(),\r\n                new ActivityResultCallback&lt;List&lt;Uri&gt;&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(List&lt;Uri&gt; result) {\r\n                        res = result;\r\n                        for (int i = 0; i &lt; result.size(); i++) {\r\n                            ImageView imageView = new ImageView(SomeActivity.this);\r\n                            imageView.setPadding(0,0,0,0);\r\n                            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                                    ViewGroup.LayoutParams.WRAP_CONTENT,\r\n                                    ViewGroup.LayoutParams.WRAP_CONTENT);\r\n                            imageView.setLayoutParams(params);\r\n                            imageView.setAdjustViewBounds(true);\r\n                            Glide.with(ReportForLocationActivity.this)\r\n                                    .load(result.get(i))\r\n                                    .into(imageView);\r\n\r\n                            linlay.addView(imageView);\r\n                        }\r\n                    }\r\n                });\r\n\r\naddImagesButton.setOnClickListener(v -&gt; {\r\n    mChoosePhoto.launch(&quot;image/*&quot;);\r\n});\r\n```","title":"Gap between Glide ImageView elements Android Studio","body":"<p>Solved!</p>\n<pre><code>\nLinearLayout linlay = findViewById(R.id.linlay);\nButton addImagesButton = findViewById(R.id.addImagesButton);\n\nActivityResultLauncher&lt;Intent&gt; mChoosePhoto = registerForActivityResult(\n                new ActivityResultContracts.GetMultipleContents(),\n                new ActivityResultCallback&lt;List&lt;Uri&gt;&gt;() {\n                    @Override\n                    public void onActivityResult(List&lt;Uri&gt; result) {\n                        res = result;\n                        for (int i = 0; i &lt; result.size(); i++) {\n                            ImageView imageView = new ImageView(SomeActivity.this);\n                            imageView.setPadding(0,0,0,0);\n                            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                                    ViewGroup.LayoutParams.WRAP_CONTENT,\n                                    ViewGroup.LayoutParams.WRAP_CONTENT);\n                            imageView.setLayoutParams(params);\n                            imageView.setAdjustViewBounds(true);\n                            Glide.with(ReportForLocationActivity.this)\n                                    .load(result.get(i))\n                                    .into(imageView);\n\n                            linlay.addView(imageView);\n                        }\n                    }\n                });\n\naddImagesButton.setOnClickListener(v -&gt; {\n    mChoosePhoto.launch(&quot;image/*&quot;);\n});\n</code></pre>\n"}],"owner":{"account_id":27359327,"reputation":11,"user_id":20867200,"display_name":"gregorz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679681575,"creation_date":1679680798,"question_id":75836872,"body_markdown":"In my Android app I&#39;d like to add function for loading images from memory - code below:\r\n```\r\nLinearLayout linlay = findViewById(R.id.linlay);\r\nButton addImagesButton = findViewById(R.id.addImagesButton);\r\n\r\nActivityResultLauncher&lt;Intent&gt; mChoosePhoto = registerForActivityResult(\r\n                new ActivityResultContracts.GetMultipleContents(),\r\n                new ActivityResultCallback&lt;List&lt;Uri&gt;&gt;() {\r\n                    @Override\r\n                    public void onActivityResult(List&lt;Uri&gt; result) {\r\n                        res = result;\r\n                        for (int i = 0; i &lt; result.size(); i++) {\r\n                            ImageView imageView = new ImageView(SomeActivity.this);\r\n                            imageView.setPadding(0,0,0,0);\r\n                            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\r\n                                    LinearLayout.LayoutParams.WRAP_CONTENT,\r\n                                    LinearLayout.LayoutParams.WRAP_CONTENT);\r\n                            imageView.setLayoutParams(params);\r\n                            Glide.with(ReportForLocationActivity.this)\r\n                                    .load(result.get(i))\r\n                                    .into(imageView);\r\n\r\n                            linlay.addView(imageView);\r\n                        }\r\n                    }\r\n                });\r\n\r\naddImagesButton.setOnClickListener(v -&gt; {\r\n    mChoosePhoto.launch(&quot;image/*&quot;);\r\n});\r\n```\r\n\r\nEverything works correctly, but between ImageView elements added to Glide there is a big gap - how can I make it smaller?[Screen from emulator](https://i.stack.imgur.com/Okinl.png)\r\n\r\n\r\nI&#39;ve tried to change margin and padding settings but it did not work.","title":"Gap between Glide ImageView elements Android Studio","body":"<p>In my Android app I'd like to add function for loading images from memory - code below:</p>\n<pre><code>LinearLayout linlay = findViewById(R.id.linlay);\nButton addImagesButton = findViewById(R.id.addImagesButton);\n\nActivityResultLauncher&lt;Intent&gt; mChoosePhoto = registerForActivityResult(\n                new ActivityResultContracts.GetMultipleContents(),\n                new ActivityResultCallback&lt;List&lt;Uri&gt;&gt;() {\n                    @Override\n                    public void onActivityResult(List&lt;Uri&gt; result) {\n                        res = result;\n                        for (int i = 0; i &lt; result.size(); i++) {\n                            ImageView imageView = new ImageView(SomeActivity.this);\n                            imageView.setPadding(0,0,0,0);\n                            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(\n                                    LinearLayout.LayoutParams.WRAP_CONTENT,\n                                    LinearLayout.LayoutParams.WRAP_CONTENT);\n                            imageView.setLayoutParams(params);\n                            Glide.with(ReportForLocationActivity.this)\n                                    .load(result.get(i))\n                                    .into(imageView);\n\n                            linlay.addView(imageView);\n                        }\n                    }\n                });\n\naddImagesButton.setOnClickListener(v -&gt; {\n    mChoosePhoto.launch(&quot;image/*&quot;);\n});\n</code></pre>\n<p>Everything works correctly, but between ImageView elements added to Glide there is a big gap - how can I make it smaller?<a href=\"https://i.stack.imgur.com/Okinl.png\" rel=\"nofollow noreferrer\">Screen from emulator</a></p>\n<p>I've tried to change margin and padding settings but it did not work.</p>\n"},{"tags":["java","sql","generics","resultset"],"comments":[{"owner":{"account_id":6435329,"reputation":637,"user_id":4987081,"display_name":"Vaibhav G"},"score":0,"creation_date":1456037214,"post_id":35532699,"comment_id":58755343,"body_markdown":"The database contains String , integer,double etc...?","body":"The database contains String , integer,double etc...?"}],"answers":[{"tags":[],"owner":{"account_id":6435329,"reputation":637,"user_id":4987081,"display_name":"Vaibhav G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456037781,"creation_date":1456037781,"answer_id":35533238,"question_id":35532699,"body_markdown":"    int i=0;\r\n    while (rs.next()) \r\n    {\r\n         int type=rs.getMetaData().getColumnTypeName(i);\r\n         if(type ==Types.INTEGER)\r\n           value = (T) rs.getInt();\r\n         else if(type ==Types.DOUBLE)\r\n           value = (T) rs.getDouble();\r\n         else if(type ==Types.FLOAT)\r\n           value = (T) rs.getFloat();\r\n         else if(type ==Types.VARCHAR)\r\n           value = (T) rs.getString();\r\n         else if(type ==Types.LONG)\r\n           value = (T) rs.getLong();\r\n    }\r\n\r\nFor further reference on [Types in sql][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html","title":"Return generic types from a SQL query method","body":"<pre><code>int i=0;\nwhile (rs.next()) \n{\n     int type=rs.getMetaData().getColumnTypeName(i);\n     if(type ==Types.INTEGER)\n       value = (T) rs.getInt();\n     else if(type ==Types.DOUBLE)\n       value = (T) rs.getDouble();\n     else if(type ==Types.FLOAT)\n       value = (T) rs.getFloat();\n     else if(type ==Types.VARCHAR)\n       value = (T) rs.getString();\n     else if(type ==Types.LONG)\n       value = (T) rs.getLong();\n}\n</code></pre>\n\n<p>For further reference on <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/Types.html\" rel=\"nofollow\">Types in sql</a></p>\n"}],"owner":{"account_id":1233203,"reputation":4084,"user_id":1197359,"accept_rate":99,"display_name":"Stanley Mungai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35533238,"answer_count":1,"score":0,"last_activity_date":1679680600,"creation_date":1456032837,"question_id":35532699,"body_markdown":"I am trying to return generic types from a SQL query method but I am stuck on assigning the value from database to the generic type:\r\n\r\n \r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; T selectQuery(Connection conn, String sql, T[] parameters) {\r\n            T value = null;\r\n            try {\r\n                PreparedStatement ps = conn.prepareStatement(sql);\r\n                List&lt;T&gt; list = Arrays.asList(parameters);\r\n                for (T param : list) {\r\n                    if (param instanceof String) {\r\n                        ps.setString(list.indexOf(param), (String) param);\r\n                    } else if (param instanceof Integer) {\r\n                        ps.setInt(list.indexOf(param), (Integer) param);\r\n                    } else if (param instanceof Double) {\r\n                        ps.setDouble(list.indexOf(param), (Double) param);\r\n                    }\r\n                }\r\n                ResultSet rs = ps.executeQuery();\r\n                while (rs.next()) {\r\n                     //AM STUCK RIGHT HERE************\r\n                }\r\n                Conn.closeConn(conn);\r\n            } catch (Exception asd) {\r\n                System.out.println(asd.getMessage());\r\n            }\r\n            return value;\r\n        }\r\n\r\nWhat can I try next?\r\n","title":"Return generic types from a SQL query method","body":"<p>I am trying to return generic types from a SQL query method but I am stuck on assigning the value from database to the generic type:</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; T selectQuery(Connection conn, String sql, T[] parameters) {\n        T value = null;\n        try {\n            PreparedStatement ps = conn.prepareStatement(sql);\n            List&lt;T&gt; list = Arrays.asList(parameters);\n            for (T param : list) {\n                if (param instanceof String) {\n                    ps.setString(list.indexOf(param), (String) param);\n                } else if (param instanceof Integer) {\n                    ps.setInt(list.indexOf(param), (Integer) param);\n                } else if (param instanceof Double) {\n                    ps.setDouble(list.indexOf(param), (Double) param);\n                }\n            }\n            ResultSet rs = ps.executeQuery();\n            while (rs.next()) {\n                 //AM STUCK RIGHT HERE************\n            }\n            Conn.closeConn(conn);\n        } catch (Exception asd) {\n            System.out.println(asd.getMessage());\n        }\n        return value;\n    }\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","jpa","race-condition","jdbctemplate"],"comments":[{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1679322703,"post_id":75791227,"comment_id":133696267,"body_markdown":"@NathanHughes no that&#39;s the thing. Its all one big transaction. If I complete the parent insert and then have a failure on the child updates, it would not rollback properly","body":"@NathanHughes no that&#39;s the thing. Its all one big transaction. If I complete the parent insert and then have a failure on the child updates, it would not rollback properly"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1679325768,"post_id":75791227,"comment_id":133697336,"body_markdown":"If the `updateChild` is run by another thread, it&#39;s probably bound to a different transaction that can&#39;t see the effects of the original transaction - the one that creates the new parent object. Unless you have taken very explicit measures to share transaction context between the 2 threads. Maybe try to update the children in a DB batch, not a Java for loop and drop the `@Async`?","body":"If the <code>updateChild</code> is run by another thread, it&#39;s probably bound to a different transaction that can&#39;t see the effects of the original transaction - the one that creates the new parent object. Unless you have taken very explicit measures to share transaction context between the 2 threads. Maybe try to update the children in a DB batch, not a Java for loop and drop the <code>@Async</code>?"}],"answers":[{"tags":[],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679680239,"creation_date":1679680239,"answer_id":75836794,"question_id":75791227,"body_markdown":"I finally figured out that my problem was that there were several dozen asynchronously-running threads that, at the postGres level, were contending for access to the parent table as part of the updating of the new parent key value (the foreign key value-change they had to perform locally).\r\n\r\nSo, I needed to set up a mutex (in this instance, I used a single java Semaphore) that the individual threads have to share in order to properly take turns attempting their update. This resolved my problem.\r\n\r\nAlso, at the end, the last thread is required to delete the original parent table before the semaphore is released for the last time.\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.scheduling.annotation.Async;\r\n    import org.springframework.scheduling.annotation.EnableAsync;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    import javax.transaction.Transactional;\r\n    import java.util.concurrent.Semaphore;\r\n\r\n    @Repository\r\n    @EnableAsync\r\n    public class SecondRepositoryClass {\r\n        static Semaphore semaphore = new Semaphore(1);\r\n        static int threadCount = 0;\r\n\r\n        @Autowired\r\n        protected JdbcTemplate jdbcTemplate;\r\n\r\n        @Transactional\r\n        @Async\r\n        public void updateChild(Child child, ParentObj pObjNew){\r\n\r\n            try {\r\n                semaphore.acquire();\r\n\r\n                try {            \r\n                jdbcTemplate.update( &lt;query here updates the child record on child table with new foreign key dependency value&gt;);\r\n                } finally {\r\n                    decrementThreadCount();\r\n\r\n                    if (threadCount == 0) { // last thread deletes original lookup table record\r\n                    jdbcTemplate.update(&quot;query to delete original parent table&quot;);\r\n                    semaphore.release();\r\n                }\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private synchronized void decrementThreadCount() {\r\n            threadCount--;\r\n        }\r\n\r\n    }","title":"Exception thrown tied to race condition issue in java program using @Transaction and @Async annotations for transaction management","body":"<p>I finally figured out that my problem was that there were several dozen asynchronously-running threads that, at the postGres level, were contending for access to the parent table as part of the updating of the new parent key value (the foreign key value-change they had to perform locally).</p>\n<p>So, I needed to set up a mutex (in this instance, I used a single java Semaphore) that the individual threads have to share in order to properly take turns attempting their update. This resolved my problem.</p>\n<p>Also, at the end, the last thread is required to delete the original parent table before the semaphore is released for the last time.</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.stereotype.Repository;\n\nimport javax.transaction.Transactional;\nimport java.util.concurrent.Semaphore;\n\n@Repository\n@EnableAsync\npublic class SecondRepositoryClass {\n    static Semaphore semaphore = new Semaphore(1);\n    static int threadCount = 0;\n\n    @Autowired\n    protected JdbcTemplate jdbcTemplate;\n\n    @Transactional\n    @Async\n    public void updateChild(Child child, ParentObj pObjNew){\n\n        try {\n            semaphore.acquire();\n\n            try {            \n            jdbcTemplate.update( &lt;query here updates the child record on child table with new foreign key dependency value&gt;);\n            } finally {\n                decrementThreadCount();\n\n                if (threadCount == 0) { // last thread deletes original lookup table record\n                jdbcTemplate.update(&quot;query to delete original parent table&quot;);\n                semaphore.release();\n            }\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private synchronized void decrementThreadCount() {\n        threadCount--;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75836794,"answer_count":1,"score":0,"last_activity_date":1679680239,"creation_date":1679320980,"question_id":75791227,"body_markdown":"I am using springboot with JdbcTemplate for persistence. I have a series of separate database steps that must be orchestrated properly as an atomic transaction. However, there is one highly time-consuming step that I calling asynchrously because, well because its really time-consuming. \r\n\r\nThe problem I am having is a race-condition I am not managing properly, and that its causing the transaction to fail. \r\n\r\nBelow is the code. Its highly simplified in order to focus on the known issue, which is I always get the following exception thrown at the updateChild() method (again I had to simplify some exception detail):\r\n    \r\n    SimpleAsyncUncaughtExceptionHandler&quot;,&quot;method&quot;:&quot;handleUncaughtException&quot;,&quot;file&quot;:&quot;SimpleAsyncUncaughtExceptionHandler.java&quot;,&quot;line&quot;:39,&quot;stack&quot;:&quot;org.springframework.dao.DataIntegrityViolationException: StatementCallback; SQL [UPDATE childTable SET child_fk = &#39;Foo&#39; WHERE child_fk = &#39;Bar&#39; ]; ERROR: insert or update on table \\&quot;childTable\\&quot; violates foreign key constraint \\&quot;child_fk_fkey\\&quot;\\n  Detail: Key (child_fk)=Bar  is not present in table \\&quot;parentTable\\&quot;.\r\n\r\nIts essentially saying the child record can&#39;t be updated because the new parent record has not been inserted yet. This is the race condition I don&#39;t know how to address (i.e, how to make sure the new parent record is inserted before attempting to update the child records.\r\n\r\nIts important to point out that this transactional code works fine if I just comment out the two async-related annotations, its just really slow. I would be grateful for any advice about what I can do to fix this situation. Thanks.\r\n\r\n    @Repository\r\n    public class MainRepositoryClass {\r\n\r\n    @Autowired\r\n\tprotected JdbcTemplate jdbcTemplate;\r\n\r\n        // this method is called from a controller class. It starts and ends overall transaction\r\n        @Transactional\r\n        public void updateParentWithCascadetoChildren(String parentTableName, ParentObj pObjOld,  ParentObj pObjNew){\r\n\r\n            jdbcTemplate.update( &lt;query here creates new parent record with new primary key&gt;);\r\n            determineChildTables(parentTableName, ParentObj pObjOld,  ParentObj pObjNew);\r\n            jdbcTemplate.update( &lt;query here deletes the original parent record&gt;);\r\n\t    }\r\n\r\n        // this method determines the child record dependencies and calls another repo method\r\n        // (in another repo class) that asynchronously updates the child record\r\n        @Transactional\r\n        public void determineChildTables(String parentTableName, ParentObj pObjOld,  ParentObj pObjNew){\r\n            childMapping = jdbcTemplate.query(&lt;query calls a view that returns affected child tables&gt;);\r\n\r\n            for(Child child : childMapping) {\r\n                public void updateChild(child, pObjbNew);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Repository\r\n    @EnableAsync\r\n    public class SecondRepositoryClass {\r\n\r\n    @Autowired\r\n\tprotected JdbcTemplate jdbcTemplate;\r\n\r\n        @Transactional\r\n        @Async\r\n        public void updateChild(Child child, ParentObj pObjNew){\r\n            // here is the step where the exception is thrown\r\n            jdbcTemplate.update( &lt;query here updates the child record on child table with new foreign key dependency value&gt;);\r\n        }\r\n    }","title":"Exception thrown tied to race condition issue in java program using @Transaction and @Async annotations for transaction management","body":"<p>I am using springboot with JdbcTemplate for persistence. I have a series of separate database steps that must be orchestrated properly as an atomic transaction. However, there is one highly time-consuming step that I calling asynchrously because, well because its really time-consuming.</p>\n<p>The problem I am having is a race-condition I am not managing properly, and that its causing the transaction to fail.</p>\n<p>Below is the code. Its highly simplified in order to focus on the known issue, which is I always get the following exception thrown at the updateChild() method (again I had to simplify some exception detail):</p>\n<pre><code>SimpleAsyncUncaughtExceptionHandler&quot;,&quot;method&quot;:&quot;handleUncaughtException&quot;,&quot;file&quot;:&quot;SimpleAsyncUncaughtExceptionHandler.java&quot;,&quot;line&quot;:39,&quot;stack&quot;:&quot;org.springframework.dao.DataIntegrityViolationException: StatementCallback; SQL [UPDATE childTable SET child_fk = 'Foo' WHERE child_fk = 'Bar' ]; ERROR: insert or update on table \\&quot;childTable\\&quot; violates foreign key constraint \\&quot;child_fk_fkey\\&quot;\\n  Detail: Key (child_fk)=Bar  is not present in table \\&quot;parentTable\\&quot;.\n</code></pre>\n<p>Its essentially saying the child record can't be updated because the new parent record has not been inserted yet. This is the race condition I don't know how to address (i.e, how to make sure the new parent record is inserted before attempting to update the child records.</p>\n<p>Its important to point out that this transactional code works fine if I just comment out the two async-related annotations, its just really slow. I would be grateful for any advice about what I can do to fix this situation. Thanks.</p>\n<pre><code>@Repository\npublic class MainRepositoryClass {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n    // this method is called from a controller class. It starts and ends overall transaction\n    @Transactional\n    public void updateParentWithCascadetoChildren(String parentTableName, ParentObj pObjOld,  ParentObj pObjNew){\n\n        jdbcTemplate.update( &lt;query here creates new parent record with new primary key&gt;);\n        determineChildTables(parentTableName, ParentObj pObjOld,  ParentObj pObjNew);\n        jdbcTemplate.update( &lt;query here deletes the original parent record&gt;);\n    }\n\n    // this method determines the child record dependencies and calls another repo method\n    // (in another repo class) that asynchronously updates the child record\n    @Transactional\n    public void determineChildTables(String parentTableName, ParentObj pObjOld,  ParentObj pObjNew){\n        childMapping = jdbcTemplate.query(&lt;query calls a view that returns affected child tables&gt;);\n\n        for(Child child : childMapping) {\n            public void updateChild(child, pObjbNew);\n        }\n    }\n}\n\n\n@Repository\n@EnableAsync\npublic class SecondRepositoryClass {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n    @Transactional\n    @Async\n    public void updateChild(Child child, ParentObj pObjNew){\n        // here is the step where the exception is thrown\n        jdbcTemplate.update( &lt;query here updates the child record on child table with new foreign key dependency value&gt;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","design-patterns"],"owner":{"account_id":22552442,"reputation":16,"user_id":16741363,"display_name":"Humane Bicycle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679680193,"creation_date":1679347759,"question_id":75795491,"body_markdown":"I am implementing an undo/redo feature in Android. I am following the [commank pattern](https://en.wikipedia.org/wiki/Command_pattern#:~:text=In%20object%2Doriented%20programming%2C%20the,values%20for%20the%20method%20parameters.). I want the undo/redo to work even after I restart the application. So I am saving the stack of command instances in a string using serialization. But there are other objects that I don&#39;t want to save so I can&#39;t use them in the constructor. \r\n\r\nSo, for example, the rename Command:\r\n```\r\nclass RenameCommand implements Command{\r\n\r\n  String previousName, newName;\r\n  SceneListFragment sceneListFragment;\r\n\r\n  public RenameCommand(String previousName, String newName,SceneListFragmment sceneListFragment){\r\n    this.previousName = previousName;\r\n    this.newName = newName;\r\n    this.sceneListFragment = sceneListFragment;\r\n  }\r\n  \r\n  public void renameItem(String previousName, String newName, SceneListFragment sceneListFragment){\r\n    //defination\r\n  }\r\n\r\n  @Override\r\n  public void redo(){\r\n    renameItem(previousName,newName,sceneListFragment);\r\n  }\r\n  @Override\r\n  public void undo(){\r\n    renameItem(newName, previousName,sceneListFragment);\r\n  }\r\n  @Override\r\n  public void execute(){\r\n    renameItem(previousName, newName,sceneListFragment);\r\n  }\r\n}\r\n\r\n```\r\nand in the invoker class\r\n```\r\nclass SceneListFragment extends Fragment{\r\n  ...\r\n  public void renamePressed(){\r\n    Command command = new RenameCommand(scene.name, newName,this);\r\n    commandManager.execute(command);\r\n  }\r\n  @Override\r\n  public void onPause(){\r\n    Stack&lt;Command&gt; undoStack = new XStream().toXML(undoStackString);\r\n  }\r\n  @Override\r\n  public void onResume(){\r\n    Stack&lt;Command&gt; stack = (Stack&lt;Command&gt;)xstream.fromXML(undoStackString);\r\n    \r\n    commandManager.setUndoStack(stack);\r\n  }\r\n}\r\n```\r\nand then add the command to undo stack in command manager\r\n```\r\nclass CommandManager{\r\n  ...\r\n  public void execute(Command command){\r\n    command.execute();\r\n    undoStack.add(command);\r\n  }\r\n  public void undo(){\r\n    undoStack.peak().undo();\r\n    undoStack.pop();\r\n  }\r\n}\r\n```\r\nI am passing the fragment to the constructor of the command(SceneListFragment in RenameCommand constructor). Note that when I save the undoStack using serialization, so, fragment will also get saved in onPause of SceneListFragment. I don&#39;t want this. \r\n\r\nOther than this, there are several commands which needs different arguments such as \r\n\r\n``` \r\npublic void moveItem(SceneAdapter adapter,int sourcePos, int targetPos){}\r\n```\r\n\r\nI am supposed to ask for the view to update when undo() is called and not store it but I don&#39;t understand a way to do it. I only want to store important information such as previousName, newName in case of RenameCommand and int sourcePosition, int targetPosition in case of moveItem command etc.  I don&#39;t know how to achieve this. Can someone please help?\r\n\r\n","title":"How to implement undo/redo feature which is consistent across application cycles in android?","body":"<p>I am implementing an undo/redo feature in Android. I am following the <a href=\"https://en.wikipedia.org/wiki/Command_pattern#:%7E:text=In%20object%2Doriented%20programming%2C%20the,values%20for%20the%20method%20parameters.\" rel=\"nofollow noreferrer\">commank pattern</a>. I want the undo/redo to work even after I restart the application. So I am saving the stack of command instances in a string using serialization. But there are other objects that I don't want to save so I can't use them in the constructor.</p>\n<p>So, for example, the rename Command:</p>\n<pre><code>class RenameCommand implements Command{\n\n  String previousName, newName;\n  SceneListFragment sceneListFragment;\n\n  public RenameCommand(String previousName, String newName,SceneListFragmment sceneListFragment){\n    this.previousName = previousName;\n    this.newName = newName;\n    this.sceneListFragment = sceneListFragment;\n  }\n  \n  public void renameItem(String previousName, String newName, SceneListFragment sceneListFragment){\n    //defination\n  }\n\n  @Override\n  public void redo(){\n    renameItem(previousName,newName,sceneListFragment);\n  }\n  @Override\n  public void undo(){\n    renameItem(newName, previousName,sceneListFragment);\n  }\n  @Override\n  public void execute(){\n    renameItem(previousName, newName,sceneListFragment);\n  }\n}\n\n</code></pre>\n<p>and in the invoker class</p>\n<pre><code>class SceneListFragment extends Fragment{\n  ...\n  public void renamePressed(){\n    Command command = new RenameCommand(scene.name, newName,this);\n    commandManager.execute(command);\n  }\n  @Override\n  public void onPause(){\n    Stack&lt;Command&gt; undoStack = new XStream().toXML(undoStackString);\n  }\n  @Override\n  public void onResume(){\n    Stack&lt;Command&gt; stack = (Stack&lt;Command&gt;)xstream.fromXML(undoStackString);\n    \n    commandManager.setUndoStack(stack);\n  }\n}\n</code></pre>\n<p>and then add the command to undo stack in command manager</p>\n<pre><code>class CommandManager{\n  ...\n  public void execute(Command command){\n    command.execute();\n    undoStack.add(command);\n  }\n  public void undo(){\n    undoStack.peak().undo();\n    undoStack.pop();\n  }\n}\n</code></pre>\n<p>I am passing the fragment to the constructor of the command(SceneListFragment in RenameCommand constructor). Note that when I save the undoStack using serialization, so, fragment will also get saved in onPause of SceneListFragment. I don't want this.</p>\n<p>Other than this, there are several commands which needs different arguments such as</p>\n<pre><code>public void moveItem(SceneAdapter adapter,int sourcePos, int targetPos){}\n</code></pre>\n<p>I am supposed to ask for the view to update when undo() is called and not store it but I don't understand a way to do it. I only want to store important information such as previousName, newName in case of RenameCommand and int sourcePosition, int targetPosition in case of moveItem command etc.  I don't know how to achieve this. Can someone please help?</p>\n"},{"tags":["java","spring-boot","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679680122,"creation_date":1679680122,"answer_id":75836778,"question_id":75836636,"body_markdown":"After adding `createDatabaseIfNotExist=true` to the datasource url, the issue disaapeared.\r\n\r\n\r\nHere is the enviromental variable of this part shown below\r\n\r\n    spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true","title":"Docker-compose throws java.sql.SQLSyntaxErrorException: Unknown database in Spring Boot","body":"<p>After adding <code>createDatabaseIfNotExist=true</code> to the datasource url, the issue disaapeared.</p>\n<p>Here is the enviromental variable of this part shown below</p>\n<pre><code>spring.datasource.url=jdbc:mysql://database:3306/bankAccount?createDatabaseIfNotExist=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679680183,"creation_date":1679680183,"answer_id":75836788,"question_id":75836636,"body_markdown":"You have to create the database: `MYSQL_DATABASE: bankAccount`\r\n\r\n    database:\r\n      container_name: mysql-database\r\n      image: &#39;mysql:latest&#39;\r\n      ports:\r\n        - &quot;3306:3306&quot;\r\n      restart: always\r\n      environment:\r\n        MYSQL_PASSWORD: root\r\n        MYSQL_ROOT_PASSWORD: root\r\n        MYSQL_DATABASE: bankAccount\r\n      volumes:\r\n        - db-data:/var/lib/mysql\r\n      networks:\r\n        - bankQuery\r\n      healthcheck:\r\n        test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n        timeout: 20s\r\n        retries: 10\r\n","title":"Docker-compose throws java.sql.SQLSyntaxErrorException: Unknown database in Spring Boot","body":"<p>You have to create the database: <code>MYSQL_DATABASE: bankAccount</code></p>\n<pre><code>database:\n  container_name: mysql-database\n  image: 'mysql:latest'\n  ports:\n    - &quot;3306:3306&quot;\n  restart: always\n  environment:\n    MYSQL_PASSWORD: root\n    MYSQL_ROOT_PASSWORD: root\n    MYSQL_DATABASE: bankAccount\n  volumes:\n    - db-data:/var/lib/mysql\n  networks:\n    - bankQuery\n  healthcheck:\n    test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n    timeout: 20s\n    retries: 10\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75836778,"answer_count":2,"score":0,"last_activity_date":1679680183,"creation_date":1679678830,"question_id":75836636,"body_markdown":"I have a problem about running query module regarding CQRS in Spring Boot.\r\n\r\nI cannot connect database with the app.\r\n\r\nHere is docker-compose.yml of account.query shown below\r\n\r\n    version: &#39;3.9&#39;\r\n    \r\n    services:\r\n      app:\r\n        image: &#39;account-query:latest&#39;\r\n        build:\r\n          context: .\r\n        ports:\r\n          - &quot;5001:5001&quot;\r\n        depends_on:\r\n          - database\r\n        environment:\r\n          - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n          - server.port=5001\r\n          - spring.datasource.username=root\r\n          - spring.datasource.password=root\r\n          - spring.jpa.hibernate.ddl-auto=create\r\n        networks:\r\n          - bankQuery\r\n    \r\n      database:\r\n        container_name: mysql-database\r\n        image: &#39;mysql:latest&#39;\r\n        ports:\r\n          - &quot;3306:3306&quot;\r\n        restart: always\r\n        environment:\r\n          MYSQL_PASSWORD: root\r\n          MYSQL_ROOT_PASSWORD: root\r\n        volumes:\r\n          - db-data:/var/lib/mysql\r\n        networks:\r\n          - bankQuery\r\n        healthcheck:\r\n          test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\r\n          timeout: 20s\r\n          retries: 10\r\n    \r\n    \r\n    networks:\r\n      bankQuery:\r\n    \r\n    volumes:\r\n      db-data:\r\n\r\nWhen I run this file through docker-compose --build, I get this issue.\r\n\r\n    java.sql.SQLSyntaxErrorException: Unknown database &#39;bankAccount&#39;\r\n\r\nHow can I fix it?\r\n\r\nHere is the link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/cqrs-example","title":"Docker-compose throws java.sql.SQLSyntaxErrorException: Unknown database in Spring Boot","body":"<p>I have a problem about running query module regarding CQRS in Spring Boot.</p>\n<p>I cannot connect database with the app.</p>\n<p>Here is docker-compose.yml of account.query shown below</p>\n<pre><code>version: '3.9'\n\nservices:\n  app:\n    image: 'account-query:latest'\n    build:\n      context: .\n    ports:\n      - &quot;5001:5001&quot;\n    depends_on:\n      - database\n    environment:\n      - spring.datasource.url=jdbc:mysql://database:3306/bankAccount?useSSL=false&amp;allowPublicKeyRetrieval=true\n      - server.port=5001\n      - spring.datasource.username=root\n      - spring.datasource.password=root\n      - spring.jpa.hibernate.ddl-auto=create\n    networks:\n      - bankQuery\n\n  database:\n    container_name: mysql-database\n    image: 'mysql:latest'\n    ports:\n      - &quot;3306:3306&quot;\n    restart: always\n    environment:\n      MYSQL_PASSWORD: root\n      MYSQL_ROOT_PASSWORD: root\n    volumes:\n      - db-data:/var/lib/mysql\n    networks:\n      - bankQuery\n    healthcheck:\n      test: [ &quot;CMD&quot;, &quot;mysqladmin&quot; ,&quot;ping&quot;, &quot;-h&quot;, &quot;localhost&quot; ]\n      timeout: 20s\n      retries: 10\n\n\nnetworks:\n  bankQuery:\n\nvolumes:\n  db-data:\n</code></pre>\n<p>When I run this file through docker-compose --build, I get this issue.</p>\n<pre><code>java.sql.SQLSyntaxErrorException: Unknown database 'bankAccount'\n</code></pre>\n<p>How can I fix it?</p>\n<p>Here is the link : <a href=\"https://github.com/Rapter1990/cqrs-example\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","background-process","sketchware"],"owner":{"account_id":28048932,"reputation":1,"user_id":21425165,"display_name":"pradeep kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679680084,"creation_date":1679680084,"question_id":75836774,"body_markdown":"I am new in programming, \r\nI have created an app in sketchware which can open another app using package name , the app opens when data from google sheets changes, I wanted to run this app in background\r\nAnd perform the task of opening another app when data changes which should even run when the app is destroyed from recent apps, \r\nI am giving the block I used in the picture \r\nPlease guide me what blocks I need to add to achieve background running [I am giving the block I used in the picture](https://i.stack.imgur.com/f9gTZ.jpg)](https://i.stack.imgur.com/4K4fy.jpg)\r\n\r\nI tried {moveTaskToBack(True);}, {moveTaskToBack(_booleann);},{ //Used to run your app in background like you click the home button \r\nmoveTaskToBack(true);}\r\nLast one was able to run in background like it was able to check data but was not able to open another app","title":"Run app in background and also perform task such as to open another app","body":"<p>I am new in programming,\nI have created an app in sketchware which can open another app using package name , the app opens when data from google sheets changes, I wanted to run this app in background\nAnd perform the task of opening another app when data changes which should even run when the app is destroyed from recent apps,\nI am giving the block I used in the picture\nPlease guide me what blocks I need to add to achieve background running <a href=\"https://i.stack.imgur.com/f9gTZ.jpg\" rel=\"nofollow noreferrer\">I am giving the block I used in the picture</a>](<a href=\"https://i.stack.imgur.com/4K4fy.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4K4fy.jpg</a>)</p>\n<p>I tried {moveTaskToBack(True);}, {moveTaskToBack(_booleann);},{ //Used to run your app in background like you click the home button\nmoveTaskToBack(true);}\nLast one was able to run in background like it was able to check data but was not able to open another app</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":21994035,"reputation":51,"user_id":16266889,"display_name":"Svitlana Vorobets"},"score":0,"creation_date":1679679314,"post_id":75836421,"comment_id":133770300,"body_markdown":"For example, I have an array: [4, 7, 2, 9, 5, 1, 6, 8, 3] and k = 3. If I divide this array into three group I get [4, 7, 2], [9, 5, 1] and [6, 8, 3]. In each subarray the third element is [7, 9, 8]. These values dont` match the true answer - 3.","body":"For example, I have an array: [4, 7, 2, 9, 5, 1, 6, 8, 3] and k = 3. If I divide this array into three group I get [4, 7, 2], [9, 5, 1] and [6, 8, 3]. In each subarray the third element is [7, 9, 8]. These values dont` match the true answer - 3."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679679697,"creation_date":1679679140,"answer_id":75836673,"question_id":75836421,"body_markdown":"You&#39;re using parallel Quickselects to find the *k*&lt;sup&gt;th&lt;/sup&gt;-least element in each subarray.  As you observe, it is not necessarily the case that any of these is the *k*&lt;sup&gt;th&lt;/sup&gt;-least overall.  But those Quickselects are doing more for you than finding the exact *k*&lt;sup&gt;th&lt;/sup&gt;-least element of each subarray.  They are rearranging the arrays so that **all** the *k* least elements of each subarray are on one end.  Somewhere among those *nk* elements is the overall *k*&lt;sup&gt;th&lt;/sup&gt; least.\r\n\r\nThere are several ways you could proceed.  For example,\r\n\r\n 1. You could sort the *k* least elements of each subarray (in parallel), and then use an approach akin to an *n*-way merge to find the overall least (less or no parallelization for this part).  OR\r\n\r\n 2. You could use a heap / priority queue in a couple of different ways to find the target number, such as\r\n\r\n    - add all the *nk* least elements to a min-heap, then make *k* selections, OR\r\n    - form *k* elements into a max-heap, then check each of the other (*n*-1)*k* elements: if an element E it is less than the max, then remove the max and insert E into the heap.  After all elements have been considered, the maximum remaining in the heap is the target element.\r\n    - form each of the sub-arrays&#39; groups of least elements into a min-heap, and make *k* selections overall, each time the least from any of the heaps.\r\n\r\n    These heap-based parts probably need to be all-serial.","title":"how to find kth smallest element in unsorted array using multithreading","body":"<p>You're using parallel Quickselects to find the <em>k</em><sup>th</sup>-least element in each subarray.  As you observe, it is not necessarily the case that any of these is the <em>k</em><sup>th</sup>-least overall.  But those Quickselects are doing more for you than finding the exact <em>k</em><sup>th</sup>-least element of each subarray.  They are rearranging the arrays so that <strong>all</strong> the <em>k</em> least elements of each subarray are on one end.  Somewhere among those <em>nk</em> elements is the overall <em>k</em><sup>th</sup> least.</p>\n<p>There are several ways you could proceed.  For example,</p>\n<ol>\n<li><p>You could sort the <em>k</em> least elements of each subarray (in parallel), and then use an approach akin to an <em>n</em>-way merge to find the overall least (less or no parallelization for this part).  OR</p>\n</li>\n<li><p>You could use a heap / priority queue in a couple of different ways to find the target number, such as</p>\n<ul>\n<li>add all the <em>nk</em> least elements to a min-heap, then make <em>k</em> selections, OR</li>\n<li>form <em>k</em> elements into a max-heap, then check each of the other (<em>n</em>-1)<em>k</em> elements: if an element E it is less than the max, then remove the max and insert E into the heap.  After all elements have been considered, the maximum remaining in the heap is the target element.</li>\n<li>form each of the sub-arrays' groups of least elements into a min-heap, and make <em>k</em> selections overall, each time the least from any of the heaps.</li>\n</ul>\n<p>These heap-based parts probably need to be all-serial.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679679929,"creation_date":1679679929,"answer_id":75836760,"question_id":75836421,"body_markdown":"You want to find the k&#39;th smallest element using k threads each having a partition of the array.\r\n\r\nFind the minimum of each partition. The greatest of the minimum values is the initial value for the result. Now this thread is no longer needed. The other threads proceed with searching for the second-smallest item in their partitions and compare it with our current candidate. Whichever has it&#39;s second-smallest item greater than the current candidate can stop its work. If there were some threads whose second-smallest item was smaller than the current candidate can continue the search.\r\n\r\nThis modus operandi is to be repeated until there are no more thread to continue the search and the candidate that remains standing is the response to the question.","title":"how to find kth smallest element in unsorted array using multithreading","body":"<p>You want to find the k'th smallest element using k threads each having a partition of the array.</p>\n<p>Find the minimum of each partition. The greatest of the minimum values is the initial value for the result. Now this thread is no longer needed. The other threads proceed with searching for the second-smallest item in their partitions and compare it with our current candidate. Whichever has it's second-smallest item greater than the current candidate can stop its work. If there were some threads whose second-smallest item was smaller than the current candidate can continue the search.</p>\n<p>This modus operandi is to be repeated until there are no more thread to continue the search and the candidate that remains standing is the response to the question.</p>\n"}],"owner":{"account_id":21994035,"reputation":51,"user_id":16266889,"display_name":"Svitlana Vorobets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679679929,"creation_date":1679677285,"question_id":75836421,"body_markdown":"I need to learn how correctly find the kth value in an unsorted array using multithreading. I divided the array into subarrays and found the kth value in each. But sometimes, these values don&#39;t match the true answer. So, I need to sort each subarray and, after it sorts these subarrays generally, or here is another algorithm for finding the kth value in an unsorted array using multithreading?\r\nMy code:\r\n``` package com.main;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Stream;\r\n\r\npublic class SearchingItemThread implements Runnable{\r\n    private int[] arr;\r\n    private int left;\r\n    private int right;\r\n    private int k;\r\n    private int median;\r\n\r\n    public SearchingItemThread(int[] arr, int left, int right, int k){\r\n        this.arr = arr;\r\n        this.left = left;\r\n        this.right = right;\r\n        this.k = k;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n       median = select(0, arr.length - 1, k);\r\n    }\r\n\r\n    private int select(int left, int right, int k) {\r\n        if (left == right) {\r\n            return arr[left];\r\n        }\r\n        int pivotIndex = partition(left, right);\r\n        if (k == pivotIndex) {\r\n            return arr[k];\r\n        } else if (k &lt; pivotIndex) {\r\n            return select(left, pivotIndex - 1, k);\r\n        } else {\r\n            return select(pivotIndex + 1, right, k);\r\n        }\r\n    }\r\n\r\n    private int partition(int left, int right) {\r\n        int pivotIndex = getPivot(left, right);\r\n        int pivotValue = arr[pivotIndex];\r\n        swap(pivotIndex, right);\r\n        int storeIndex = left;\r\n        for (int i = left; i &lt; right; i++) {\r\n            if (arr[i] &lt; pivotValue) {\r\n                swap(i, storeIndex);\r\n                storeIndex++;\r\n            }\r\n        }\r\n        swap(storeIndex, right);\r\n        return storeIndex;\r\n    }\r\n\r\n    private int getPivot(int left, int right) {\r\n        return new Random().nextInt(right - left + 1) + left;\r\n    }\r\n\r\n    private void swap(int i, int j) {\r\n        int temp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = temp;\r\n    }\r\n\r\n    public int getMedian() {\r\n        return median;\r\n    }\r\n}\r\n\r\n\r\n public int findResultByMultithreading(int numberOfThreads, List&lt;Integer&gt; list, int target){\r\n\r\n        int[][] subArrays = new int[numberOfThreads][];\r\n        int subarraySize = list.size() / numberOfThreads;\r\n        for (int i = 0; i &lt; numberOfThreads; i++) {\r\n            int startIndex = i * subarraySize;\r\n            int endIndex = (i == numberOfThreads - 1) ? list.size() : (i + 1) * subarraySize;\r\n            subArrays[i] = Arrays.copyOfRange(list.stream().mapToInt(Integer::intValue).toArray(), startIndex, endIndex);\r\n        }\r\n\r\n        Thread[] searcher = new Thread[numberOfThreads];\r\n        SearchingItemThread[] runnables = new SearchingItemThread[numberOfThreads];\r\n        List&lt;Integer&gt; medians = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt;= numberOfThreads - 1; i++) {\r\n            runnables[i] = new SearchingItemThread(subArrays[i], 0, subArrays[i].length - 1, target);\r\n            searcher[i] = new Thread(runnables[i]);\r\n\r\n            searcher[i].start();\r\n        }\r\n        for (int i = 0; i &lt; numberOfThreads; i++) {\r\n            try {\r\n                searcher[i].join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n\r\n        for (int i = 0; i &lt; numberOfThreads; i++) {\r\n            medians.add(runnables[i].getMedian());\r\n        }\r\n        \r\n        System.out.println(medians);\r\n}\r\n```\r\n\r\nFor example, I have an array: [4, 7, 2, 9, 5, 1, 6, 8, 3] and k = 3. If I divide this array into three group I get [4, 7, 2], [9, 5, 1] and [6, 8, 3]. In each subarray the third element is [7, 9, 8]. These values dont` match the true answer - 3","title":"how to find kth smallest element in unsorted array using multithreading","body":"<p>I need to learn how correctly find the kth value in an unsorted array using multithreading. I divided the array into subarrays and found the kth value in each. But sometimes, these values don't match the true answer. So, I need to sort each subarray and, after it sorts these subarrays generally, or here is another algorithm for finding the kth value in an unsorted array using multithreading?\nMy code:</p>\n<pre><code>\nimport java.util.*;\nimport java.util.stream.Stream;\n\npublic class SearchingItemThread implements Runnable{\n    private int[] arr;\n    private int left;\n    private int right;\n    private int k;\n    private int median;\n\n    public SearchingItemThread(int[] arr, int left, int right, int k){\n        this.arr = arr;\n        this.left = left;\n        this.right = right;\n        this.k = k;\n    }\n\n    @Override\n    public void run() {\n       median = select(0, arr.length - 1, k);\n    }\n\n    private int select(int left, int right, int k) {\n        if (left == right) {\n            return arr[left];\n        }\n        int pivotIndex = partition(left, right);\n        if (k == pivotIndex) {\n            return arr[k];\n        } else if (k &lt; pivotIndex) {\n            return select(left, pivotIndex - 1, k);\n        } else {\n            return select(pivotIndex + 1, right, k);\n        }\n    }\n\n    private int partition(int left, int right) {\n        int pivotIndex = getPivot(left, right);\n        int pivotValue = arr[pivotIndex];\n        swap(pivotIndex, right);\n        int storeIndex = left;\n        for (int i = left; i &lt; right; i++) {\n            if (arr[i] &lt; pivotValue) {\n                swap(i, storeIndex);\n                storeIndex++;\n            }\n        }\n        swap(storeIndex, right);\n        return storeIndex;\n    }\n\n    private int getPivot(int left, int right) {\n        return new Random().nextInt(right - left + 1) + left;\n    }\n\n    private void swap(int i, int j) {\n        int temp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = temp;\n    }\n\n    public int getMedian() {\n        return median;\n    }\n}\n\n\n public int findResultByMultithreading(int numberOfThreads, List&lt;Integer&gt; list, int target){\n\n        int[][] subArrays = new int[numberOfThreads][];\n        int subarraySize = list.size() / numberOfThreads;\n        for (int i = 0; i &lt; numberOfThreads; i++) {\n            int startIndex = i * subarraySize;\n            int endIndex = (i == numberOfThreads - 1) ? list.size() : (i + 1) * subarraySize;\n            subArrays[i] = Arrays.copyOfRange(list.stream().mapToInt(Integer::intValue).toArray(), startIndex, endIndex);\n        }\n\n        Thread[] searcher = new Thread[numberOfThreads];\n        SearchingItemThread[] runnables = new SearchingItemThread[numberOfThreads];\n        List&lt;Integer&gt; medians = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt;= numberOfThreads - 1; i++) {\n            runnables[i] = new SearchingItemThread(subArrays[i], 0, subArrays[i].length - 1, target);\n            searcher[i] = new Thread(runnables[i]);\n\n            searcher[i].start();\n        }\n        for (int i = 0; i &lt; numberOfThreads; i++) {\n            try {\n                searcher[i].join();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n        for (int i = 0; i &lt; numberOfThreads; i++) {\n            medians.add(runnables[i].getMedian());\n        }\n        \n        System.out.println(medians);\n}\n</code></pre>\n<p>For example, I have an array: [4, 7, 2, 9, 5, 1, 6, 8, 3] and k = 3. If I divide this array into three group I get [4, 7, 2], [9, 5, 1] and [6, 8, 3]. In each subarray the third element is [7, 9, 8]. These values dont` match the true answer - 3</p>\n"},{"tags":["java","pattern-matching","record","java-19"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663762071,"post_id":73787918,"comment_id":130314690,"body_markdown":"Since your problem with `var` is not a java compiler issue, I’m not sure whether including it here, is helpful. An IntelliJ bug is an entirely different question (if we consider it a question at all, rather than something to report to the IntelliJ developers).","body":"Since your problem with <code>var</code> is not a java compiler issue, I’m not sure whether including it here, is helpful. An IntelliJ bug is an entirely different question (if we consider it a question at all, rather than something to report to the IntelliJ developers)."},{"owner":{"account_id":1782056,"reputation":366,"user_id":1624516,"display_name":"MscG"},"score":0,"creation_date":1663765853,"post_id":73787918,"comment_id":130316191,"body_markdown":"I reported it there since that switch is compilable with javac but not really usable, at least for now, since IntelliJ fails to parse it. It was just a note.","body":"I reported it there since that switch is compilable with javac but not really usable, at least for now, since IntelliJ fails to parse it. It was just a note."}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1663691522,"creation_date":1663691522,"answer_id":73789916,"question_id":73787918,"body_markdown":"&gt; Am I doing something wrong?\r\n\r\nYes and no.  You&#39;re making assumptions about how enums and sealed types interact (and also about constant `case` labels) that make sense if you are coming from Haskell, but for which Java has not yet caught up with.  Specifically, exhaustiveness checking for enums is restricted to switches over that enum type, and so when an enum type is used as a permitted subtype of a sealed type, exhaustiveness for the values of the enum is not yet treated as exhausting the permitted subtype.  This is because constant case labels are not yet treated as patterns, but in their old meaning.  Mixing constant case labels and sealed types in exhaustiveness is something that will come in the future (recall this is still a preview feature.)\r\n\r\nIn the mean time, the following works fine:\r\n\r\n```\r\nsealed interface Opt&lt;T&gt; { ... }\r\n\r\nrecord Some&lt;T&gt;(T t) implements Opt&lt;T&gt; { }\r\nrecord None&lt;T&gt;() implements Opt&lt;T&gt; { }\r\n```\r\n\r\nI get why you reached for enums, and in the fullness of time that move will work, but it does not yet.","title":"Java 19 compiler issues when trying record patterns in switch expressions","body":"<blockquote>\n<p>Am I doing something wrong?</p>\n</blockquote>\n<p>Yes and no.  You're making assumptions about how enums and sealed types interact (and also about constant <code>case</code> labels) that make sense if you are coming from Haskell, but for which Java has not yet caught up with.  Specifically, exhaustiveness checking for enums is restricted to switches over that enum type, and so when an enum type is used as a permitted subtype of a sealed type, exhaustiveness for the values of the enum is not yet treated as exhausting the permitted subtype.  This is because constant case labels are not yet treated as patterns, but in their old meaning.  Mixing constant case labels and sealed types in exhaustiveness is something that will come in the future (recall this is still a preview feature.)</p>\n<p>In the mean time, the following works fine:</p>\n<pre><code>sealed interface Opt&lt;T&gt; { ... }\n\nrecord Some&lt;T&gt;(T t) implements Opt&lt;T&gt; { }\nrecord None&lt;T&gt;() implements Opt&lt;T&gt; { }\n</code></pre>\n<p>I get why you reached for enums, and in the fullness of time that move will work, but it does not yet.</p>\n"},{"tags":[],"owner":{"account_id":1782056,"reputation":366,"user_id":1624516,"display_name":"MscG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663745261,"creation_date":1663745261,"answer_id":73796887,"question_id":73787918,"body_markdown":"As I wrote in the comment above, I tried to change the code with what Brian suggested but the first switch still fails the completeness check. The code that I tried is the following\r\n\r\n    package tests.patterns;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class TestRecordPatter\r\n    {\r\n        public static void main(final String[] args)\r\n        {\r\n            final Opt&lt;String&gt; opt1 = computeAnswer(23);\r\n            final String answer1 = switch (opt1) {\r\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n                case Opt.None&lt;String&gt; __ -&gt; &quot;no answer&quot;;\r\n                // default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A\r\n            };\r\n            System.out.println(answer1);\r\n        }\r\n    \r\n        private static Opt&lt;String&gt; computeAnswer(final int question)\r\n        {\r\n            if (question % 2 == 0) {\r\n                return Opt.some(String.valueOf(question / 2));\r\n            } else {\r\n                return Opt.none();\r\n            }\r\n        }\r\n    \r\n        private sealed interface Opt&lt;T&gt; permits Opt.Some, Opt.None\r\n        {\r\n    \r\n            static &lt;T&gt; Opt&lt;T&gt; of(final T value)\r\n            {\r\n                return value == null ? none() : some(value);\r\n            }\r\n    \r\n            static &lt;T&gt; Opt&lt;T&gt; some(final T value)\r\n            {\r\n                return new Opt.Some&lt;&gt;(value);\r\n            }\r\n    \r\n            static &lt;T&gt; Opt&lt;T&gt; none()\r\n            {\r\n                return new Opt.None&lt;&gt;();\r\n            }\r\n    \r\n            record Some&lt;T&gt;(T value) implements Opt&lt;T&gt;\r\n            {\r\n    \r\n                public Some\r\n                {\r\n                    Objects.requireNonNull(value, &quot;Value must not be null&quot;);\r\n                }\r\n            }\r\n    \r\n            record None&lt;T&gt;() implements Opt&lt;T&gt; {}\r\n        }\r\n    }\r\n\r\nThe only way to make it compile is to decomment line marked with A.\r\n\r\nThe compiler output is the following:\r\n\r\n    $ javac --enable-preview --release 19 tests/patterns/TestRecordPatter.java\r\n    tests/patterns/TestRecordPatter.java:10: error: the switch expression does not cover all possible input values\r\n                    final String answer1 = switch (opt1) {\r\n                                           ^\r\n    Note: tests/patterns/TestRecordPatter.java uses preview features of Java SE 19.\r\n    Note: Recompile with -Xlint:preview for details.","title":"Java 19 compiler issues when trying record patterns in switch expressions","body":"<p>As I wrote in the comment above, I tried to change the code with what Brian suggested but the first switch still fails the completeness check. The code that I tried is the following</p>\n<pre><code>package tests.patterns;\n\nimport java.util.Objects;\n\npublic class TestRecordPatter\n{\n    public static void main(final String[] args)\n    {\n        final Opt&lt;String&gt; opt1 = computeAnswer(23);\n        final String answer1 = switch (opt1) {\n            case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n            case Opt.None&lt;String&gt; __ -&gt; &quot;no answer&quot;;\n            // default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A\n        };\n        System.out.println(answer1);\n    }\n\n    private static Opt&lt;String&gt; computeAnswer(final int question)\n    {\n        if (question % 2 == 0) {\n            return Opt.some(String.valueOf(question / 2));\n        } else {\n            return Opt.none();\n        }\n    }\n\n    private sealed interface Opt&lt;T&gt; permits Opt.Some, Opt.None\n    {\n\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value)\n        {\n            return value == null ? none() : some(value);\n        }\n\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value)\n        {\n            return new Opt.Some&lt;&gt;(value);\n        }\n\n        static &lt;T&gt; Opt&lt;T&gt; none()\n        {\n            return new Opt.None&lt;&gt;();\n        }\n\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt;\n        {\n\n            public Some\n            {\n                Objects.requireNonNull(value, &quot;Value must not be null&quot;);\n            }\n        }\n\n        record None&lt;T&gt;() implements Opt&lt;T&gt; {}\n    }\n}\n</code></pre>\n<p>The only way to make it compile is to decomment line marked with A.</p>\n<p>The compiler output is the following:</p>\n<pre><code>$ javac --enable-preview --release 19 tests/patterns/TestRecordPatter.java\ntests/patterns/TestRecordPatter.java:10: error: the switch expression does not cover all possible input values\n                final String answer1 = switch (opt1) {\n                                       ^\nNote: tests/patterns/TestRecordPatter.java uses preview features of Java SE 19.\nNote: Recompile with -Xlint:preview for details.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663771206,"creation_date":1663770380,"answer_id":73802472,"question_id":73787918,"body_markdown":"The `enum` type is a red herring. The behavior is exactly the same, whether we use an `enum` type for the second case or a `record` with a deconstruction pattern. The reason is that the problematic case is the first one.\r\n\r\nConsider\r\n\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class TestRecordPattern2 {\r\n    public static void main(final String[] args) {\r\n        for(int i = 0; i &lt; 4; i++) {\r\n            final Opt&lt;String&gt; opt = computeAnswer(i);\r\n            final String answer = switch(opt) {\r\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n                case Opt.None&lt;String&gt;() -&gt; &quot;no answer&quot;;\r\n            };\r\n            System.out.println(answer);\r\n        }\r\n    }\r\n    private static Opt&lt;String&gt; computeAnswer(final int question) {\r\n        return question % 2 == 0? Opt.some(String.valueOf(question / 2)): Opt.none();\r\n    }\r\n    private sealed interface Opt&lt;T&gt; {\r\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value) {\r\n            return value == null ? none() : some(value);\r\n        }\r\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value) {\r\n            return new Opt.Some&lt;&gt;(value);\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;) static &lt;T&gt; Opt&lt;T&gt; none() {\r\n            return (Opt&lt;T&gt;)Opt.None.NONE;\r\n        }\r\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {\r\n            public Some { Objects.requireNonNull(value, &quot;Value must not be null&quot;); }\r\n        }\r\n        record None&lt;T&gt;() implements Opt&lt;T&gt; {\r\n            static final None&lt;?&gt; NONE = new None&lt;&gt;();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis reproduces the problem and so does\r\n\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class TestRecordPattern3 {\r\n    public static void main(final String[] args) {\r\n        for(int i = 0; i &lt; 4; i++) {\r\n            final Opt&lt;String&gt; opt = computeAnswer(i);\r\n            final String answer = switch(opt) {\r\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n                case Opt.None __ -&gt; &quot;no answer&quot;;\r\n            };\r\n            System.out.println(answer);\r\n        }\r\n    }\r\n    private static Opt&lt;String&gt; computeAnswer(final int question) {\r\n        return question % 2 == 0? Opt.some(String.valueOf(question / 2)): Opt.none();\r\n    }\r\n    private sealed interface Opt&lt;T&gt; {\r\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value) {\r\n            return value == null ? none() : some(value);\r\n        }\r\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value) {\r\n            return new Opt.Some&lt;&gt;(value);\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;) static &lt;T&gt; Opt&lt;T&gt; none() {\r\n            return (Opt&lt;T&gt;)Opt.None.NONE;\r\n        }\r\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {\r\n            public Some { Objects.requireNonNull(value, &quot;Value must not be null&quot;); }\r\n        }\r\n        @SuppressWarnings({ &quot;rawtypes&quot; }) enum None implements Opt { NONE }\r\n    }\r\n}\r\n```\r\n\r\nHowever, if we change the line\r\n\r\n```java\r\n  case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n```\r\n\r\nto\r\n\r\n```java\r\n  case Opt.Some&lt;String&gt;(Object ans) -&gt; ans.toString();\r\n```\r\n\r\n*both* variants work without problems. It seems, the exhaustiveness test has problems with the type of the `record` component here.\r\n\r\nWe could also use\r\n\r\n```java\r\nfinal String answer = switch(opt) {\r\n    case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n    case Opt.Some&lt;String&gt;(Object ans) -&gt; throw new IllegalStateException(&quot;heap pollution&quot;);\r\n    case Opt.None&lt;String&gt;() -&gt; &quot;no answer&quot;;\r\n};\r\n```\r\n\r\nresp.\r\n\r\n```java\r\nfinal String answer = switch(opt) {\r\n    case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n    case Opt.Some&lt;String&gt;(Object ans) -&gt; throw new IllegalStateException(&quot;heap pollution&quot;);\r\n    case Opt.None __ -&gt; &quot;no answer&quot;;\r\n};\r\n```\r\nfor the `enum` variant.\r\n\r\nThough this should not be necessary for a sound generic type system.\r\n\r\nThis also contradicts the [“Record patterns and exhaustive switch” section of JEP 405] which shows examples illustrating that this exhaustiveness check should work.\r\n\r\n\r\nOut of curiosity, I added the JEP’s example to your case. When I use\r\n\r\n```java\r\n    public static void main(final String[] args) {\r\n        final Opt.Some&lt;I&gt; opt = (Opt.Some&lt;I&gt;)Opt.&lt;I&gt;some(new A());\r\n        final String answer = switch(opt) {\r\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\r\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\r\n        };\r\n        System.out.println(answer);\r\n    }\r\n\r\n    private sealed interface I {}\r\n    static final class A implements I {}\r\n    static final class B implements I {}\r\n```\r\n\r\nThe exhaustiveness test did indeed work. However, when I expand it to\r\n\r\n```java\r\n    public static void main(final String[] args) {\r\n        final Opt&lt;I&gt; opt = Opt.some(new A());\r\n        final String answer = switch(opt) {\r\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\r\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\r\n            case Opt.None&lt;I&gt;() -&gt; &quot;None&quot;;\r\n        };\r\n        System.out.println(answer);\r\n    }\r\n```\r\nit again fails to recognize the exhaustiveness and requires to add an actually impossible `Object` case like\r\n\r\n```java\r\n    public static void main(final String[] args) {\r\n        final Opt&lt;I&gt; opt = Opt.some(new A());\r\n        final String answer = switch(opt) {\r\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\r\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\r\n            case Opt.Some&lt;I&gt;(Object ans) -&gt; throw new AssertionError();\r\n            case Opt.None&lt;I&gt;() -&gt; &quot;None&quot;;\r\n        };\r\n        System.out.println(answer);\r\n    }\r\n```\r\n(and not even `case Opt.Some&lt;I&gt;(I ans) -&gt; …` does work, just like with your `String` example)\r\n\r\n---\r\n\r\nFinally, the most simplified example is\r\n\r\n```java\r\npublic class TestRecordPattern5 {\r\n    public static void main(final String[] args) {\r\n        final Opt&lt;String&gt; opt = new Some&lt;&gt;(&quot;hello&quot;);\r\n        final String answer = switch(opt) {\r\n            case Some&lt;String&gt;(String ans) -&gt; ans;\r\n        };\r\n        System.out.println(answer);\r\n    }\r\n    private sealed interface Opt&lt;T&gt; {}\r\n    record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {}\r\n}\r\n```\r\n\r\n[“Record patterns and exhaustive switch” section of JEP 405]: https://openjdk.org/jeps/405#Record-patterns-and-exhaustive-switch\r\n","title":"Java 19 compiler issues when trying record patterns in switch expressions","body":"<p>The <code>enum</code> type is a red herring. The behavior is exactly the same, whether we use an <code>enum</code> type for the second case or a <code>record</code> with a deconstruction pattern. The reason is that the problematic case is the first one.</p>\n<p>Consider</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class TestRecordPattern2 {\n    public static void main(final String[] args) {\n        for(int i = 0; i &lt; 4; i++) {\n            final Opt&lt;String&gt; opt = computeAnswer(i);\n            final String answer = switch(opt) {\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n                case Opt.None&lt;String&gt;() -&gt; &quot;no answer&quot;;\n            };\n            System.out.println(answer);\n        }\n    }\n    private static Opt&lt;String&gt; computeAnswer(final int question) {\n        return question % 2 == 0? Opt.some(String.valueOf(question / 2)): Opt.none();\n    }\n    private sealed interface Opt&lt;T&gt; {\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value) {\n            return value == null ? none() : some(value);\n        }\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value) {\n            return new Opt.Some&lt;&gt;(value);\n        }\n        @SuppressWarnings(&quot;unchecked&quot;) static &lt;T&gt; Opt&lt;T&gt; none() {\n            return (Opt&lt;T&gt;)Opt.None.NONE;\n        }\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {\n            public Some { Objects.requireNonNull(value, &quot;Value must not be null&quot;); }\n        }\n        record None&lt;T&gt;() implements Opt&lt;T&gt; {\n            static final None&lt;?&gt; NONE = new None&lt;&gt;();\n        }\n    }\n}\n</code></pre>\n<p>This reproduces the problem and so does</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class TestRecordPattern3 {\n    public static void main(final String[] args) {\n        for(int i = 0; i &lt; 4; i++) {\n            final Opt&lt;String&gt; opt = computeAnswer(i);\n            final String answer = switch(opt) {\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n                case Opt.None __ -&gt; &quot;no answer&quot;;\n            };\n            System.out.println(answer);\n        }\n    }\n    private static Opt&lt;String&gt; computeAnswer(final int question) {\n        return question % 2 == 0? Opt.some(String.valueOf(question / 2)): Opt.none();\n    }\n    private sealed interface Opt&lt;T&gt; {\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value) {\n            return value == null ? none() : some(value);\n        }\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value) {\n            return new Opt.Some&lt;&gt;(value);\n        }\n        @SuppressWarnings(&quot;unchecked&quot;) static &lt;T&gt; Opt&lt;T&gt; none() {\n            return (Opt&lt;T&gt;)Opt.None.NONE;\n        }\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {\n            public Some { Objects.requireNonNull(value, &quot;Value must not be null&quot;); }\n        }\n        @SuppressWarnings({ &quot;rawtypes&quot; }) enum None implements Opt { NONE }\n    }\n}\n</code></pre>\n<p>However, if we change the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>  case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>  case Opt.Some&lt;String&gt;(Object ans) -&gt; ans.toString();\n</code></pre>\n<p><em>both</em> variants work without problems. It seems, the exhaustiveness test has problems with the type of the <code>record</code> component here.</p>\n<p>We could also use</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String answer = switch(opt) {\n    case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n    case Opt.Some&lt;String&gt;(Object ans) -&gt; throw new IllegalStateException(&quot;heap pollution&quot;);\n    case Opt.None&lt;String&gt;() -&gt; &quot;no answer&quot;;\n};\n</code></pre>\n<p>resp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String answer = switch(opt) {\n    case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n    case Opt.Some&lt;String&gt;(Object ans) -&gt; throw new IllegalStateException(&quot;heap pollution&quot;);\n    case Opt.None __ -&gt; &quot;no answer&quot;;\n};\n</code></pre>\n<p>for the <code>enum</code> variant.</p>\n<p>Though this should not be necessary for a sound generic type system.</p>\n<p>This also contradicts the <a href=\"https://openjdk.org/jeps/405#Record-patterns-and-exhaustive-switch\" rel=\"nofollow noreferrer\">“Record patterns and exhaustive switch” section of JEP 405</a> which shows examples illustrating that this exhaustiveness check should work.</p>\n<p>Out of curiosity, I added the JEP’s example to your case. When I use</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(final String[] args) {\n        final Opt.Some&lt;I&gt; opt = (Opt.Some&lt;I&gt;)Opt.&lt;I&gt;some(new A());\n        final String answer = switch(opt) {\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\n        };\n        System.out.println(answer);\n    }\n\n    private sealed interface I {}\n    static final class A implements I {}\n    static final class B implements I {}\n</code></pre>\n<p>The exhaustiveness test did indeed work. However, when I expand it to</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(final String[] args) {\n        final Opt&lt;I&gt; opt = Opt.some(new A());\n        final String answer = switch(opt) {\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\n            case Opt.None&lt;I&gt;() -&gt; &quot;None&quot;;\n        };\n        System.out.println(answer);\n    }\n</code></pre>\n<p>it again fails to recognize the exhaustiveness and requires to add an actually impossible <code>Object</code> case like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(final String[] args) {\n        final Opt&lt;I&gt; opt = Opt.some(new A());\n        final String answer = switch(opt) {\n            case Opt.Some&lt;I&gt;(A ans) -&gt; &quot;A&quot;;\n            case Opt.Some&lt;I&gt;(B ans) -&gt; &quot;B&quot;;\n            case Opt.Some&lt;I&gt;(Object ans) -&gt; throw new AssertionError();\n            case Opt.None&lt;I&gt;() -&gt; &quot;None&quot;;\n        };\n        System.out.println(answer);\n    }\n</code></pre>\n<p>(and not even <code>case Opt.Some&lt;I&gt;(I ans) -&gt; …</code> does work, just like with your <code>String</code> example)</p>\n<hr />\n<p>Finally, the most simplified example is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestRecordPattern5 {\n    public static void main(final String[] args) {\n        final Opt&lt;String&gt; opt = new Some&lt;&gt;(&quot;hello&quot;);\n        final String answer = switch(opt) {\n            case Some&lt;String&gt;(String ans) -&gt; ans;\n        };\n        System.out.println(answer);\n    }\n    private sealed interface Opt&lt;T&gt; {}\n    record Some&lt;T&gt;(T value) implements Opt&lt;T&gt; {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1782056,"reputation":366,"user_id":1624516,"display_name":"MscG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679679805,"creation_date":1679679805,"answer_id":75836745,"question_id":73787918,"body_markdown":"I just tried the code with the compiler of JDK 20 and the issue have been fixed","title":"Java 19 compiler issues when trying record patterns in switch expressions","body":"<p>I just tried the code with the compiler of JDK 20 and the issue have been fixed</p>\n"}],"owner":{"account_id":1782056,"reputation":366,"user_id":1624516,"display_name":"MscG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75836745,"answer_count":4,"score":5,"last_activity_date":1679679805,"creation_date":1663682245,"question_id":73787918,"body_markdown":"I downloaded the release candidate of JDK19 from here https://jdk.java.net/19/ to play a little bit with the new record patterns that were implemented there, but I&#39;m encountering some issues. In my tests, I wrote a version of Optional based on sealed interface plus records, in the following way:\r\n\r\n    package tests.patterns;\r\n    \r\n    import java.util.Objects;\r\n    \r\n    public class TestRecordPatter\r\n    {\r\n        public static void main(final String[] args)\r\n        {\r\n            final Opt&lt;String&gt; opt1 = computeAnswer(23);\r\n            final String answer1 = switch (opt1) {\r\n                case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\r\n                case Opt.None __ -&gt; &quot;no answer&quot;;\r\n                default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A\r\n            };\r\n            System.out.println(answer1);\r\n    \r\n            final Opt&lt;String&gt; opt2 = computeAnswer(35);\r\n            final Object answer2 = switch (opt2) { // B\r\n                case Opt.Some&lt;String&gt;(var ans) -&gt; ans; // C\r\n                case Opt.None __ -&gt; &quot;no answer&quot;;\r\n                default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A-2\r\n            };\r\n            System.out.println(answer2);\r\n    \r\n            final Opt&lt;String&gt; opt3 = computeAnswer(84);\r\n            final String answer3 = switch (opt3) { // D\r\n                case Opt.Some&lt;String&gt; s -&gt; s.value();\r\n                case Opt.None __ -&gt; &quot;no answer&quot;;\r\n            };\r\n            System.out.println(answer3);\r\n        }\r\n    \r\n        private static Opt&lt;String&gt; computeAnswer(final int question)\r\n        {\r\n            if (question % 2 == 0) {\r\n                return Opt.some(String.valueOf(question / 2));\r\n            } else {\r\n                return Opt.none();\r\n            }\r\n        }\r\n    \r\n        private sealed interface Opt&lt;T&gt; permits Opt.Some, Opt.None\r\n        {\r\n    \r\n            static &lt;T&gt; Opt&lt;T&gt; of(final T value)\r\n            {\r\n                return value == null ? none() : some(value);\r\n            }\r\n    \r\n            static &lt;T&gt; Opt&lt;T&gt; some(final T value)\r\n            {\r\n                return new Opt.Some&lt;&gt;(value);\r\n            }\r\n    \r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            static &lt;T&gt; Opt&lt;T&gt; none()\r\n            {\r\n                return Opt.None.NONE;\r\n            }\r\n    \r\n            record Some&lt;T&gt;(T value) implements Opt&lt;T&gt;\r\n            {\r\n    \r\n                public Some\r\n                {\r\n                    Objects.requireNonNull(value, &quot;Value must not be null&quot;);\r\n                }\r\n            }\r\n    \r\n            @SuppressWarnings({ &quot;rawtypes&quot; })\r\n            enum None implements Opt\r\n            {\r\n                NONE;\r\n            }\r\n        }\r\n    }\r\n\r\nThe first switch expression is using record deconstruction to get the value out of the Some variant using an explicit type for the `ans` variable but in this case the java compiler requires the default branch (line marked with A) otherwise it fails with the following error:\r\n\r\n&gt; TestRecordPatter.java:[10,40] the switch expression does not cover all possible input values\r\n\r\nIn the second switch, the issue is that using `var` instead of explicit type for `ans` binds the returned type of the switch to `Object` and not to `String`. (line marked with B). Moreover, but this is not a java compiler issue, IntelliJ complains on line marked as C, highlighting the `var ans` part and saying something like &quot;Type T is required but null is provided&quot;.\r\n\r\nFinally, the third switch works fine, but that&#39;s the &quot;old&quot; (java 17 is old, right?) way of doing it.\r\n\r\nCan someone help me? Am I doing something wrong?\r\n\r\nEDIT: I just downloaded the Oracle JDK-19 GA version and it has the same issue.\r\n\r\nEDIT 2: the second switch, the one with `var` has the same behaviour as the first one, so it needs a default case, as pointed by Holger","title":"Java 19 compiler issues when trying record patterns in switch expressions","body":"<p>I downloaded the release candidate of JDK19 from here <a href=\"https://jdk.java.net/19/\" rel=\"nofollow noreferrer\">https://jdk.java.net/19/</a> to play a little bit with the new record patterns that were implemented there, but I'm encountering some issues. In my tests, I wrote a version of Optional based on sealed interface plus records, in the following way:</p>\n<pre><code>package tests.patterns;\n\nimport java.util.Objects;\n\npublic class TestRecordPatter\n{\n    public static void main(final String[] args)\n    {\n        final Opt&lt;String&gt; opt1 = computeAnswer(23);\n        final String answer1 = switch (opt1) {\n            case Opt.Some&lt;String&gt;(String ans) -&gt; ans;\n            case Opt.None __ -&gt; &quot;no answer&quot;;\n            default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A\n        };\n        System.out.println(answer1);\n\n        final Opt&lt;String&gt; opt2 = computeAnswer(35);\n        final Object answer2 = switch (opt2) { // B\n            case Opt.Some&lt;String&gt;(var ans) -&gt; ans; // C\n            case Opt.None __ -&gt; &quot;no answer&quot;;\n            default -&gt; throw new IllegalStateException(&quot;This should not happen&quot;); // A-2\n        };\n        System.out.println(answer2);\n\n        final Opt&lt;String&gt; opt3 = computeAnswer(84);\n        final String answer3 = switch (opt3) { // D\n            case Opt.Some&lt;String&gt; s -&gt; s.value();\n            case Opt.None __ -&gt; &quot;no answer&quot;;\n        };\n        System.out.println(answer3);\n    }\n\n    private static Opt&lt;String&gt; computeAnswer(final int question)\n    {\n        if (question % 2 == 0) {\n            return Opt.some(String.valueOf(question / 2));\n        } else {\n            return Opt.none();\n        }\n    }\n\n    private sealed interface Opt&lt;T&gt; permits Opt.Some, Opt.None\n    {\n\n        static &lt;T&gt; Opt&lt;T&gt; of(final T value)\n        {\n            return value == null ? none() : some(value);\n        }\n\n        static &lt;T&gt; Opt&lt;T&gt; some(final T value)\n        {\n            return new Opt.Some&lt;&gt;(value);\n        }\n\n        @SuppressWarnings(&quot;unchecked&quot;)\n        static &lt;T&gt; Opt&lt;T&gt; none()\n        {\n            return Opt.None.NONE;\n        }\n\n        record Some&lt;T&gt;(T value) implements Opt&lt;T&gt;\n        {\n\n            public Some\n            {\n                Objects.requireNonNull(value, &quot;Value must not be null&quot;);\n            }\n        }\n\n        @SuppressWarnings({ &quot;rawtypes&quot; })\n        enum None implements Opt\n        {\n            NONE;\n        }\n    }\n}\n</code></pre>\n<p>The first switch expression is using record deconstruction to get the value out of the Some variant using an explicit type for the <code>ans</code> variable but in this case the java compiler requires the default branch (line marked with A) otherwise it fails with the following error:</p>\n<blockquote>\n<p>TestRecordPatter.java:[10,40] the switch expression does not cover all possible input values</p>\n</blockquote>\n<p>In the second switch, the issue is that using <code>var</code> instead of explicit type for <code>ans</code> binds the returned type of the switch to <code>Object</code> and not to <code>String</code>. (line marked with B). Moreover, but this is not a java compiler issue, IntelliJ complains on line marked as C, highlighting the <code>var ans</code> part and saying something like &quot;Type T is required but null is provided&quot;.</p>\n<p>Finally, the third switch works fine, but that's the &quot;old&quot; (java 17 is old, right?) way of doing it.</p>\n<p>Can someone help me? Am I doing something wrong?</p>\n<p>EDIT: I just downloaded the Oracle JDK-19 GA version and it has the same issue.</p>\n<p>EDIT 2: the second switch, the one with <code>var</code> has the same behaviour as the first one, so it needs a default case, as pointed by Holger</p>\n"},{"tags":["java","postgresql","amazon-web-services","spring-boot","amazon-rds"],"answers":[{"tags":[],"owner":{"account_id":10485191,"reputation":3,"user_id":20104989,"display_name":"Mihal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679679612,"creation_date":1679672314,"answer_id":75835624,"question_id":75835232,"body_markdown":"Try to add data to the environment variables for the test...","title":"spring boot unable to connect to my postgresql aws rds database","body":"<p>Try to add data to the environment variables for the test...</p>\n"}],"owner":{"account_id":25372465,"reputation":39,"user_id":19186050,"display_name":"Franck TCHIENGUEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679679612,"creation_date":1679670038,"question_id":75835232,"body_markdown":"i had configured my spring boot 3.0.5 application to access to my database aws rds but i have a connection error. my database has private access and i use a ssh connection whith ec2 instance to access in my databese whith pgadmin.\r\n\r\nmy application properties config\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://endpoindofmydatabase:5432/db_name\r\nspring.datasource.username=user_name\r\nspring.datasource.password=user_password\r\n#information jpa\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\r\n\r\nserver.port=9090\r\n```\r\n\r\n\r\nthe error that i have\r\n\r\n```\r\norg.postgresql.util.PSQLException: La tentative de connexion a &#233;chou&#233;.\r\n\t...\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n...\r\n```\r\n\r\n\r\ni verified the credential but i didn&#39;t saw any problem","title":"spring boot unable to connect to my postgresql aws rds database","body":"<p>i had configured my spring boot 3.0.5 application to access to my database aws rds but i have a connection error. my database has private access and i use a ssh connection whith ec2 instance to access in my databese whith pgadmin.</p>\n<p>my application properties config</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://endpoindofmydatabase:5432/db_name\nspring.datasource.username=user_name\nspring.datasource.password=user_password\n#information jpa\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQL81Dialect\n\nserver.port=9090\n</code></pre>\n<p>the error that i have</p>\n<pre><code>org.postgresql.util.PSQLException: La tentative de connexion a échoué.\n    ...\nCaused by: java.net.SocketTimeoutException: Connect timed out\n...\n</code></pre>\n<p>i verified the credential but i didn't saw any problem</p>\n"},{"tags":["java","byte-buddy","open-telemetry","javaagents"],"answers":[{"tags":[],"owner":{"account_id":15288522,"reputation":13,"user_id":11030780,"display_name":"Stephen Cole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676897287,"creation_date":1676897287,"answer_id":75509473,"question_id":75508576,"body_markdown":"You&#39;re calling instrumenter().start but you have not initialized the MethodSingletons and it is not an abstract class. You must first call \r\n`MethodSingletons ms = new MethodSingletons()` then `ms.instrumenter().start`\r\n\r\n","title":"NoClassDefFoundError when trying to use opentelemetry Instrumenter in javaagent extension","body":"<p>You're calling instrumenter().start but you have not initialized the MethodSingletons and it is not an abstract class. You must first call\n<code>MethodSingletons ms = new MethodSingletons()</code> then <code>ms.instrumenter().start</code></p>\n"},{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677004780,"creation_date":1677004780,"answer_id":75524623,"question_id":75508576,"body_markdown":"Byte Buddy inlines the advice code. If the instrumented class is on a different class loader then the agent, the class will not be visible. As far as I know, Opentelementry lets you inject classes. Look in their documentation.","title":"NoClassDefFoundError when trying to use opentelemetry Instrumenter in javaagent extension","body":"<p>Byte Buddy inlines the advice code. If the instrumented class is on a different class loader then the agent, the class will not be visible. As far as I know, Opentelementry lets you inject classes. Look in their documentation.</p>\n"},{"tags":[],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679679576,"creation_date":1679679576,"answer_id":75836723,"question_id":75508576,"body_markdown":"It is required to inject helper classes as @Rafael Winterhalter mentioned. I found out how to do it. It is required to redefine `getAdditionalHelperClassNames()` method in InstrumentationModule class, as described [here][1]. So I added the next method to MethodsInstrumentationModule class and all works fine:\r\n\r\n    @Override\r\n        public List&lt;String&gt; getAdditionalHelperClassNames() {\r\n            return List.of(MethodSingletons.class.getName());\r\n        }\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#inject-additional-instrumentation-helper-classes-manually-with-the-getadditionalhelperclassnames-method","title":"NoClassDefFoundError when trying to use opentelemetry Instrumenter in javaagent extension","body":"<p>It is required to inject helper classes as @Rafael Winterhalter mentioned. I found out how to do it. It is required to redefine <code>getAdditionalHelperClassNames()</code> method in InstrumentationModule class, as described <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md#inject-additional-instrumentation-helper-classes-manually-with-the-getadditionalhelperclassnames-method\" rel=\"nofollow noreferrer\">here</a>. So I added the next method to MethodsInstrumentationModule class and all works fine:</p>\n<pre><code>@Override\n    public List&lt;String&gt; getAdditionalHelperClassNames() {\n        return List.of(MethodSingletons.class.getName());\n    }\n</code></pre>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75836723,"answer_count":3,"score":0,"last_activity_date":1679679576,"creation_date":1676891879,"question_id":75508576,"body_markdown":"I want to implement extension to manage methods tracing. I&#39;ve implemented TypeInstrumentation class to around and utilite class for instrumenter() as described [opentelemetry instrumentation module][1]:\r\n\r\n    import io.opentelemetry.context.Context;\r\n    import io.opentelemetry.context.Scope;\r\n    import io.opentelemetry.instrumentation.api.annotation.support.async.AsyncOperationEndSupport;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.util.ClassAndMethod;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\r\n    import net.bytebuddy.asm.Advice;\r\n    import net.bytebuddy.description.type.TypeDescription;\r\n    import net.bytebuddy.implementation.bytecode.assign.Assigner;\r\n    import net.bytebuddy.matcher.ElementMatcher;\r\n    \r\n    import java.lang.reflect.Method;\r\n    import java.util.Set;\r\n    \r\n    import static io.opentelemetry.javaagent.bootstrap.Java8BytecodeBridge.currentContext;\r\n    import static io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers.hasClassesNamed;\r\n    import static io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers.hasSuperType;\r\n    import static net.bytebuddy.matcher.ElementMatchers.named;\r\n    import static net.bytebuddy.matcher.ElementMatchers.namedOneOf;\r\n    import static org.telemetry.extensions.MethodSingletons.instrumenter;\r\n    \r\n    public class MethodInstrumentation implements TypeInstrumentation {\r\n        private final String className;\r\n        private final Set&lt;String&gt; methodNames;\r\n    \r\n        public MethodInstrumentation(String className, Set&lt;String&gt; methodNames) {\r\n            this.className = className;\r\n            this.methodNames = methodNames;\r\n        }\r\n    \r\n        @Override\r\n        public ElementMatcher&lt;ClassLoader&gt; classLoaderOptimization() {\r\n            return hasClassesNamed(className);\r\n        }\r\n    \r\n        @Override\r\n        public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\r\n            return hasSuperType(named(className));\r\n        }\r\n    \r\n        @Override\r\n        public void transform(TypeTransformer transformer) {\r\n            transformer.applyAdviceToMethod(\r\n                    namedOneOf(methodNames.toArray(new String[0])),\r\n                    OpenLMethodInstrumentation.class.getName() + &quot;$MethodAdvice&quot;);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public static class MethodAdvice {\r\n    \r\n            @Advice.OnMethodEnter(suppress = Throwable.class)\r\n            public static void onEnter(\r\n                    @Advice.Origin(&quot;#t&quot;) Class&lt;?&gt; declaringClass,\r\n                    @Advice.Origin(&quot;#m&quot;) String methodName,\r\n                    @Advice.Local(&quot;otelMethod&quot;) ClassAndMethod classAndMethod,\r\n                    @Advice.Local(&quot;otelContext&quot;) Context context,\r\n                    @Advice.Local(&quot;otelScope&quot;) Scope scope) {\r\n                Context parentContext = currentContext();\r\n                classAndMethod = ClassAndMethod.create(declaringClass, methodName);\r\n                try {\r\n                    context = instrumenter().start(parentContext, classAndMethod);\r\n                } catch (Throwable e) {\r\n                    System.out.println(&quot;SOme error happened!&quot;);\r\n                    System.out.println(e.getClass());\r\n                    System.out.println(e.getMessage());\r\n                    throw e;\r\n                }\r\n                scope = context.makeCurrent();\r\n            }\r\n    \r\n            @Advice.OnMethodExit(onThrowable = Throwable.class, suppress = Throwable.class)\r\n            public static void stopSpan(\r\n                    @Advice.Origin Method method,\r\n                    @Advice.Local(&quot;otelMethod&quot;) ClassAndMethod classAndMethod,\r\n                    @Advice.Local(&quot;otelContext&quot;) Context context,\r\n                    @Advice.Local(&quot;otelScope&quot;) Scope scope,\r\n                    @Advice.Return(typing = Assigner.Typing.DYNAMIC, readOnly = false) Object returnValue,\r\n                    @Advice.Thrown Throwable throwable) {\r\n    \r\n                scope.close();\r\n                returnValue =\r\n                        AsyncOperationEndSupport.create(instrumenter(), Void.class, method.getReturnType())\r\n                                .asyncEnd(context, classAndMethod, returnValue, throwable);\r\n            }\r\n        }\r\n    }\r\n\r\nMethodInstrumenter utility class with instrumenter:\r\n\r\n    import io.opentelemetry.api.GlobalOpenTelemetry;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.Instrumenter;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.SpanKindExtractor;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.code.CodeAttributesExtractor;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.code.CodeAttributesGetter;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.code.CodeSpanNameExtractor;\r\n    import io.opentelemetry.instrumentation.api.instrumenter.util.ClassAndMethod;\r\n    \r\n    \r\n    public final class MethodSingletons {\r\n        public MethodSingletons() {\r\n    \r\n        }\r\n    \r\n        private static final String INSTRUMENTATION_NAME = &quot;io.opentelemetry.methods&quot;;\r\n    \r\n        private static final Instrumenter&lt;ClassAndMethod, Void&gt; INSTRUMENTER;\r\n    \r\n        static {\r\n            CodeAttributesGetter&lt;ClassAndMethod&gt; codeAttributesGetter =\r\n                    ClassAndMethod.codeAttributesGetter();\r\n    \r\n            INSTRUMENTER =\r\n                    Instrumenter.&lt;ClassAndMethod, Void&gt;builder(\r\n                                    GlobalOpenTelemetry.get(),\r\n                                    INSTRUMENTATION_NAME,\r\n                                    CodeSpanNameExtractor.create(codeAttributesGetter))\r\n                            .addAttributesExtractor(CodeAttributesExtractor.create(codeAttributesGetter))\r\n                            .buildInstrumenter(SpanKindExtractor.alwaysInternal());\r\n        }\r\n    \r\n        public static Instrumenter&lt;ClassAndMethod, Void&gt; instrumenter() {\r\n            return INSTRUMENTER;\r\n        }\r\n    \r\n    }\r\n\r\nAfter I build this code I&#39;m adding it as extension to javaagent configuration:\r\n\r\n    -javaagent:/Users/..../target/opentelemetry-javaagent.jar\r\n    -Dotel.javaagent.extensions=/Users/..../target/org.tracing.opentelemetry-1.0.0-SNAPSHOT.jar\r\n\r\nAnd get NoClassDefFoundError in `instrumenter().start` line:\r\n\r\n    class java.lang.NoClassDefFoundError\r\n    Could not initialize class org....telemetry.extensions.MethodSingletons\r\n\r\n\r\nWhat is wrong? How I can configure instrumentation in opentelemetry extension?\r\n\r\nUPD: I found that seems NoClassDefFoundError is related to CodeAttributesExtractor class in MethodInstrumentation class\r\n\r\nUPD2: initial InstrumentationModule class:\r\n\r\n    import com.google.auto.service.AutoService;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule;\r\n    import io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\r\n    \r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    @AutoService(InstrumentationModule.class)\r\n    public class MethodsInstrumentationModule extends InstrumentationModule {\r\n    \r\n        public MethodsInstrumentationModule() {\r\n            super(&quot;some-methods&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;TypeInstrumentation&gt; typeInstrumentations() {\r\n            return List.of(\r\n                    new TypeInstrumentation(&quot;org.some.package.Some1&quot;,\r\n                            Set.of(&quot;someMethod&quot;))\r\n            );\r\n        }\r\n    \r\n    }\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md\r\n","title":"NoClassDefFoundError when trying to use opentelemetry Instrumenter in javaagent extension","body":"<p>I want to implement extension to manage methods tracing. I've implemented TypeInstrumentation class to around and utilite class for instrumenter() as described <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/contributing/writing-instrumentation-module.md\" rel=\"nofollow noreferrer\">opentelemetry instrumentation module</a>:</p>\n<pre><code>import io.opentelemetry.context.Context;\nimport io.opentelemetry.context.Scope;\nimport io.opentelemetry.instrumentation.api.annotation.support.async.AsyncOperationEndSupport;\nimport io.opentelemetry.instrumentation.api.instrumenter.util.ClassAndMethod;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeTransformer;\nimport net.bytebuddy.asm.Advice;\nimport net.bytebuddy.description.type.TypeDescription;\nimport net.bytebuddy.implementation.bytecode.assign.Assigner;\nimport net.bytebuddy.matcher.ElementMatcher;\n\nimport java.lang.reflect.Method;\nimport java.util.Set;\n\nimport static io.opentelemetry.javaagent.bootstrap.Java8BytecodeBridge.currentContext;\nimport static io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers.hasClassesNamed;\nimport static io.opentelemetry.javaagent.extension.matcher.AgentElementMatchers.hasSuperType;\nimport static net.bytebuddy.matcher.ElementMatchers.named;\nimport static net.bytebuddy.matcher.ElementMatchers.namedOneOf;\nimport static org.telemetry.extensions.MethodSingletons.instrumenter;\n\npublic class MethodInstrumentation implements TypeInstrumentation {\n    private final String className;\n    private final Set&lt;String&gt; methodNames;\n\n    public MethodInstrumentation(String className, Set&lt;String&gt; methodNames) {\n        this.className = className;\n        this.methodNames = methodNames;\n    }\n\n    @Override\n    public ElementMatcher&lt;ClassLoader&gt; classLoaderOptimization() {\n        return hasClassesNamed(className);\n    }\n\n    @Override\n    public ElementMatcher&lt;TypeDescription&gt; typeMatcher() {\n        return hasSuperType(named(className));\n    }\n\n    @Override\n    public void transform(TypeTransformer transformer) {\n        transformer.applyAdviceToMethod(\n                namedOneOf(methodNames.toArray(new String[0])),\n                OpenLMethodInstrumentation.class.getName() + &quot;$MethodAdvice&quot;);\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    public static class MethodAdvice {\n\n        @Advice.OnMethodEnter(suppress = Throwable.class)\n        public static void onEnter(\n                @Advice.Origin(&quot;#t&quot;) Class&lt;?&gt; declaringClass,\n                @Advice.Origin(&quot;#m&quot;) String methodName,\n                @Advice.Local(&quot;otelMethod&quot;) ClassAndMethod classAndMethod,\n                @Advice.Local(&quot;otelContext&quot;) Context context,\n                @Advice.Local(&quot;otelScope&quot;) Scope scope) {\n            Context parentContext = currentContext();\n            classAndMethod = ClassAndMethod.create(declaringClass, methodName);\n            try {\n                context = instrumenter().start(parentContext, classAndMethod);\n            } catch (Throwable e) {\n                System.out.println(&quot;SOme error happened!&quot;);\n                System.out.println(e.getClass());\n                System.out.println(e.getMessage());\n                throw e;\n            }\n            scope = context.makeCurrent();\n        }\n\n        @Advice.OnMethodExit(onThrowable = Throwable.class, suppress = Throwable.class)\n        public static void stopSpan(\n                @Advice.Origin Method method,\n                @Advice.Local(&quot;otelMethod&quot;) ClassAndMethod classAndMethod,\n                @Advice.Local(&quot;otelContext&quot;) Context context,\n                @Advice.Local(&quot;otelScope&quot;) Scope scope,\n                @Advice.Return(typing = Assigner.Typing.DYNAMIC, readOnly = false) Object returnValue,\n                @Advice.Thrown Throwable throwable) {\n\n            scope.close();\n            returnValue =\n                    AsyncOperationEndSupport.create(instrumenter(), Void.class, method.getReturnType())\n                            .asyncEnd(context, classAndMethod, returnValue, throwable);\n        }\n    }\n}\n</code></pre>\n<p>MethodInstrumenter utility class with instrumenter:</p>\n<pre><code>import io.opentelemetry.api.GlobalOpenTelemetry;\nimport io.opentelemetry.instrumentation.api.instrumenter.Instrumenter;\nimport io.opentelemetry.instrumentation.api.instrumenter.SpanKindExtractor;\nimport io.opentelemetry.instrumentation.api.instrumenter.code.CodeAttributesExtractor;\nimport io.opentelemetry.instrumentation.api.instrumenter.code.CodeAttributesGetter;\nimport io.opentelemetry.instrumentation.api.instrumenter.code.CodeSpanNameExtractor;\nimport io.opentelemetry.instrumentation.api.instrumenter.util.ClassAndMethod;\n\n\npublic final class MethodSingletons {\n    public MethodSingletons() {\n\n    }\n\n    private static final String INSTRUMENTATION_NAME = &quot;io.opentelemetry.methods&quot;;\n\n    private static final Instrumenter&lt;ClassAndMethod, Void&gt; INSTRUMENTER;\n\n    static {\n        CodeAttributesGetter&lt;ClassAndMethod&gt; codeAttributesGetter =\n                ClassAndMethod.codeAttributesGetter();\n\n        INSTRUMENTER =\n                Instrumenter.&lt;ClassAndMethod, Void&gt;builder(\n                                GlobalOpenTelemetry.get(),\n                                INSTRUMENTATION_NAME,\n                                CodeSpanNameExtractor.create(codeAttributesGetter))\n                        .addAttributesExtractor(CodeAttributesExtractor.create(codeAttributesGetter))\n                        .buildInstrumenter(SpanKindExtractor.alwaysInternal());\n    }\n\n    public static Instrumenter&lt;ClassAndMethod, Void&gt; instrumenter() {\n        return INSTRUMENTER;\n    }\n\n}\n</code></pre>\n<p>After I build this code I'm adding it as extension to javaagent configuration:</p>\n<pre><code>-javaagent:/Users/..../target/opentelemetry-javaagent.jar\n-Dotel.javaagent.extensions=/Users/..../target/org.tracing.opentelemetry-1.0.0-SNAPSHOT.jar\n</code></pre>\n<p>And get NoClassDefFoundError in <code>instrumenter().start</code> line:</p>\n<pre><code>class java.lang.NoClassDefFoundError\nCould not initialize class org....telemetry.extensions.MethodSingletons\n</code></pre>\n<p>What is wrong? How I can configure instrumentation in opentelemetry extension?</p>\n<p>UPD: I found that seems NoClassDefFoundError is related to CodeAttributesExtractor class in MethodInstrumentation class</p>\n<p>UPD2: initial InstrumentationModule class:</p>\n<pre><code>import com.google.auto.service.AutoService;\nimport io.opentelemetry.javaagent.extension.instrumentation.InstrumentationModule;\nimport io.opentelemetry.javaagent.extension.instrumentation.TypeInstrumentation;\n\nimport java.util.List;\nimport java.util.Set;\n\n@AutoService(InstrumentationModule.class)\npublic class MethodsInstrumentationModule extends InstrumentationModule {\n\n    public MethodsInstrumentationModule() {\n        super(&quot;some-methods&quot;);\n    }\n\n    @Override\n    public List&lt;TypeInstrumentation&gt; typeInstrumentations() {\n        return List.of(\n                new TypeInstrumentation(&quot;org.some.package.Some1&quot;,\n                        Set.of(&quot;someMethod&quot;))\n        );\n    }\n\n}\n</code></pre>\n"},{"tags":["java","web","model-view-controller","dependencies","thymeleaf"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1679674003,"post_id":75826844,"comment_id":133768965,"body_markdown":"Can we please get a [mcve]?","body":"Can we please get a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":24832103,"reputation":1,"user_id":18711186,"display_name":"Cảnh Hưng Nguyễn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679679418,"creation_date":1679596559,"question_id":75826844,"body_markdown":"I created a maven project and now I have to use Thymeleaf so that I have add thymeleaf to my pom.xml. So I created a folder named &quot;templates&quot; (src/main/resources/templates/) and it contains my file index.html but when I run the java application it gave me &quot;Error resolving template &quot;index.html&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers[enter image description here](https://i.stack.imgur.com/JmSpw.png)&quot;\r\n\r\n    This is my controller\r\n    @Controller\r\n    public class HomeController {\r\n\t@GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n        return &quot;index&quot;;  \r\n    }\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n       return &quot;/HTML/login.html&quot;;  \r\n    }\r\n\t@GetMapping(&quot;/booking&quot;)\r\n    public String booking() {\r\n        return &quot;/HTML/booking.html&quot;;  \r\n       }\r\n    }  \r\n    enter code here\r\n\r\nPlease help me for this problem, I really stress today =((","title":"Error resolving template &quot;index.html&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers","body":"<p>I created a maven project and now I have to use Thymeleaf so that I have add thymeleaf to my pom.xml. So I created a folder named &quot;templates&quot; (src/main/resources/templates/) and it contains my file index.html but when I run the java application it gave me &quot;Error resolving template &quot;index.html&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers<a href=\"https://i.stack.imgur.com/JmSpw.png\" rel=\"nofollow noreferrer\">enter image description here</a>&quot;</p>\n<pre><code>This is my controller\n@Controller\npublic class HomeController {\n@GetMapping(&quot;/&quot;)\npublic String home() {\n    return &quot;index&quot;;  \n}\n@GetMapping(&quot;/login&quot;)\npublic String login() {\n   return &quot;/HTML/login.html&quot;;  \n}\n@GetMapping(&quot;/booking&quot;)\npublic String booking() {\n    return &quot;/HTML/booking.html&quot;;  \n   }\n}  \nenter code here\n</code></pre>\n<p>Please help me for this problem, I really stress today =((</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10165379,"reputation":71,"user_id":7507523,"display_name":"Juan Carlos Iturriagagoitia"},"score":0,"creation_date":1550795347,"post_id":787700,"comment_id":96412512,"body_markdown":"float v=s/t performs division then transforms result into a float.\n\nfloat v=(float)s/t casts to float then performs division.","body":"float v=s/t performs division then transforms result into a float.  float v=(float)s/t casts to float then performs division."}],"answers":[{"tags":[],"owner":{"account_id":4495,"reputation":335853,"user_id":6782,"accept_rate":78,"display_name":"Alnitak"},"down_vote_count":1,"up_vote_count":372,"is_accepted":true,"score":371,"last_activity_date":1679679108,"creation_date":1240609991,"answer_id":787705,"question_id":787700,"body_markdown":"Just cast one of the two operands to a float first.\r\n\r\n    v = (float)s / t;\r\n\r\nThe cast has higher [precedence][3] than the division, so happens before the division.\r\n\r\nThe other operand will be effectively automatically cast to a float by the compiler because the rules say that if either operand is of floating point type then the operation will be a floating point operation, even if the other operand is integral.  [Java Language Specification, &#167;4.2.4][1] and [&#167;15.17][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17 \r\n  [3]: https://introcs.cs.princeton.edu/java/11precedence/\r\n","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>Just cast one of the two operands to a float first.</p>\n<pre><code>v = (float)s / t;\n</code></pre>\n<p>The cast has higher <a href=\"https://introcs.cs.princeton.edu/java/11precedence/\" rel=\"noreferrer\">precedence</a> than the division, so happens before the division.</p>\n<p>The other operand will be effectively automatically cast to a float by the compiler because the rules say that if either operand is of floating point type then the operation will be a floating point operation, even if the other operand is integral.  <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.2.4\" rel=\"noreferrer\">Java Language Specification, §4.2.4</a> and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17\" rel=\"noreferrer\">§15.17</a></p>\n"},{"tags":[],"owner":{"account_id":28680,"reputation":17773,"user_id":76832,"accept_rate":85,"display_name":"Jhonny D. Cano -Leftware-"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240610003,"creation_date":1240610003,"answer_id":787706,"question_id":787700,"body_markdown":"You can cast the numerator or the denominator to float... \r\n\r\nint operations usually return int, so you have to change one of the operanding numbers.","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>You can cast the numerator or the denominator to float... </p>\n\n<p>int operations usually return int, so you have to change one of the operanding numbers.</p>\n"},{"tags":[],"owner":{"account_id":33999,"reputation":1098,"user_id":95641,"display_name":"anisoptera"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1240610012,"creation_date":1240610012,"answer_id":787707,"question_id":787700,"body_markdown":"Try:\r\n\r\n    v = (float)s / (float)t;\r\n\r\nCasting the ints to floats will allow floating-point division to take place.\r\n\r\nYou really only need to cast one, though.","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>Try:</p>\n\n<pre><code>v = (float)s / (float)t;\n</code></pre>\n\n<p>Casting the ints to floats will allow floating-point division to take place.</p>\n\n<p>You really only need to cast one, though.</p>\n"},{"tags":[],"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240610033,"creation_date":1240610033,"answer_id":787708,"question_id":787700,"body_markdown":"Cast one of the integers to a float to force the operation to be done with floating point math. Otherwise integer math is always preferred. So:\r\n\r\n    v = (float)s / t;\r\n","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>Cast one of the integers to a float to force the operation to be done with floating point math. Otherwise integer math is always preferred. So:</p>\n\n<pre><code>v = (float)s / t;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1240610068,"creation_date":1240610068,"answer_id":787709,"question_id":787700,"body_markdown":"You can cast even just one of them, but for consistency you may want to explicitly cast both so something like v = (float)s / (float)t should work. ","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>You can cast even just one of them, but for consistency you may want to explicitly cast both so something like v = (float)s / (float)t should work. </p>\n"},{"tags":[],"owner":{"account_id":1431071,"reputation":51,"user_id":1353486,"display_name":"space programmer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1335269294,"creation_date":1335266773,"answer_id":10296933,"question_id":787700,"body_markdown":"To lessen the impact on code readabilty, I&#39;d suggest:\r\n\r\n    v = 1d* s/t;\r\n","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>To lessen the impact on code readabilty, I'd suggest:</p>\n\n<pre><code>v = 1d* s/t;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3390327,"reputation":2668,"user_id":2845282,"accept_rate":68,"display_name":"Nikhil Kumar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1428985162,"creation_date":1428985162,"answer_id":29619120,"question_id":787700,"body_markdown":"Cast one of the integers/both of the integer to  float to force the operation to be done with floating point Math. Otherwise integer Math is always preferred.\r\nSo:\r\n\r\n    1. v = (float)s / t;\r\n    2. v = (float)s / (float)t;","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>Cast one of the integers/both of the integer to  float to force the operation to be done with floating point Math. Otherwise integer Math is always preferred.\nSo:</p>\n\n<pre><code>1. v = (float)s / t;\n2. v = (float)s / (float)t;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550793542,"creation_date":1455548942,"answer_id":35412736,"question_id":787700,"body_markdown":"**JLS Standard**\r\n\r\n[JLS 7 15.17.2. Division Operator /](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.2) says:\r\n\r\n&gt; Integer division rounds toward 0. That is, the quotient produced for operands n and d that are integers after binary numeric promotion (&#167;5.6.2) is an integer value q whose magnitude is as large as possible while satisfying |d &#183; q| ≤ |n|. Moreover, q is positive when |n| ≥ |d| and n and d have the same sign, but q is negative when |n| ≥ |d| and n and d have opposite signs.\r\n\r\nThis is why `1/2` does not give a float.\r\n\r\nConverting just either one to float as in `(float)1/2` suffices because [15.17. Multiplicative Operators](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17) says:\r\n\r\n&gt; Binary numeric promotion is performed on the operands\r\n\r\nand [5.6.2. Binary Numeric Promotion](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.6.2) says:\r\n\r\n&gt; - If either operand is of type double, the other is converted to double.\r\n&gt; - Otherwise, if either operand is of type float, the other is converted to float\r\n","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p><strong>JLS Standard</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.2\" rel=\"nofollow noreferrer\">JLS 7 15.17.2. Division Operator /</a> says:</p>\n\n<blockquote>\n  <p>Integer division rounds toward 0. That is, the quotient produced for operands n and d that are integers after binary numeric promotion (§5.6.2) is an integer value q whose magnitude is as large as possible while satisfying |d · q| ≤ |n|. Moreover, q is positive when |n| ≥ |d| and n and d have the same sign, but q is negative when |n| ≥ |d| and n and d have opposite signs.</p>\n</blockquote>\n\n<p>This is why <code>1/2</code> does not give a float.</p>\n\n<p>Converting just either one to float as in <code>(float)1/2</code> suffices because <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17\" rel=\"nofollow noreferrer\">15.17. Multiplicative Operators</a> says:</p>\n\n<blockquote>\n  <p>Binary numeric promotion is performed on the operands</p>\n</blockquote>\n\n<p>and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.6.2\" rel=\"nofollow noreferrer\">5.6.2. Binary Numeric Promotion</a> says:</p>\n\n<blockquote>\n  <ul>\n  <li>If either operand is of type double, the other is converted to double.</li>\n  <li>Otherwise, if either operand is of type float, the other is converted to float</li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8714790,"reputation":70,"user_id":6519796,"display_name":"Sarath Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467054120,"creation_date":1467050824,"answer_id":38060442,"question_id":787700,"body_markdown":"Try this:\r\n\r\n    class CalcV \r\n    {\r\n\t\t  float v;\r\n\t\t  float calcV(int s, int t)\r\n\t\t  {\r\n\t\t\t  float value1=s;\r\n\t\t\t  float value2=t;\r\n\t\t      v = value1 / value2;\r\n\t\t      return v;\r\n\t\t  } //end calcV\r\n\t}","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>Try this:</p>\n\n<pre><code>class CalcV \n{\n      float v;\n      float calcV(int s, int t)\n      {\n          float value1=s;\n          float value2=t;\n          v = value1 / value2;\n          return v;\n      } //end calcV\n}\n</code></pre>\n"}],"owner":{"account_id":10070,"reputation":13524,"user_id":18853,"accept_rate":66,"display_name":"phill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231151,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"accepted_answer_id":787705,"answer_count":9,"score":186,"last_activity_date":1679679108,"creation_date":1240609806,"question_id":787700,"body_markdown":"In another Bruce Eckels exercise in calculating velocity, `v = s / t` where s and t are integers.  How do I make it so the division cranks out a float?\r\n\r\n    class CalcV {\r\n      float v;\r\n      float calcV(int s, int t) {\r\n        v = s / t;\r\n        return v;\r\n      } //end calcV\r\n    }\r\n\r\n    public class PassObject {\r\n\r\n      public static void main (String[] args ) {\r\n        int distance;\r\n        distance = 4;\r\n\r\n        int t;\r\n        t = 3;\r\n\r\n        float outV;\r\n\r\n        CalcV v = new CalcV();\r\n        outV = v.calcV(distance, t);\r\n\r\n        System.out.println(&quot;velocity : &quot; + outV);\r\n      } //end main\r\n    }//end class\r\n","title":"How to make the division of 2 ints produce a float instead of another int?","body":"<p>In another Bruce Eckels exercise in calculating velocity, <code>v = s / t</code> where s and t are integers.  How do I make it so the division cranks out a float?</p>\n\n<pre><code>class CalcV {\n  float v;\n  float calcV(int s, int t) {\n    v = s / t;\n    return v;\n  } //end calcV\n}\n\npublic class PassObject {\n\n  public static void main (String[] args ) {\n    int distance;\n    distance = 4;\n\n    int t;\n    t = 3;\n\n    float outV;\n\n    CalcV v = new CalcV();\n    outV = v.calcV(distance, t);\n\n    System.out.println(\"velocity : \" + outV);\n  } //end main\n}//end class\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21719155,"reputation":50,"user_id":16029695,"display_name":"kevin halili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679672675,"creation_date":1679672675,"answer_id":75835686,"question_id":75835538,"body_markdown":"It looks like you are using an embedded Tomcat server with your spring application.\r\nTo avoid this and to run it as a standalone application it would be needed to implement the CommandLineRunner interface so you can run your job as a standalone application.\r\nAn implementation of such would be : \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        @Bean\r\n        public CommandLineRunner commandLineRunner(ApplicationContext applicationContext) {\r\n            return args -&gt; {\r\n                // Job code\r\n                System.exit(0);\r\n            };\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Can&#39;t terminate a Spring Boot job application with SpringApplication.exit() due to Tomcat error &quot;Socket accept failed&quot;","body":"<p>It looks like you are using an embedded Tomcat server with your spring application.\nTo avoid this and to run it as a standalone application it would be needed to implement the CommandLineRunner interface so you can run your job as a standalone application.\nAn implementation of such would be :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext applicationContext) {\n        return args -&gt; {\n            // Job code\n            System.exit(0);\n        };\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679678991,"creation_date":1679677686,"answer_id":75836476,"question_id":75835538,"body_markdown":"I found the solution: just remove from Pom.xml the **spring-boot-starter-web** dependency, per [this thread][1].\r\n\r\n\t\t&lt;!--  Removed \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\r\nThis automatically removes the embedded Tomcat. In fact, I don&#39;t even need to do `SpringApplication.exit()` anymore, I got rid of that extra code. Now the job immediately terminates on completion.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63572052/1005607","title":"Can&#39;t terminate a Spring Boot job application with SpringApplication.exit() due to Tomcat error &quot;Socket accept failed&quot;","body":"<p>I found the solution: just remove from Pom.xml the <strong>spring-boot-starter-web</strong> dependency, per <a href=\"https://stackoverflow.com/a/63572052/1005607\">this thread</a>.</p>\n<pre><code>    &lt;!--  Removed \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    --&gt;\n</code></pre>\n<p>This automatically removes the embedded Tomcat. In fact, I don't even need to do <code>SpringApplication.exit()</code> anymore, I got rid of that extra code. Now the job immediately terminates on completion.</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75836476,"answer_count":2,"score":0,"last_activity_date":1679678991,"creation_date":1679671833,"question_id":75835538,"body_markdown":"I have a job application (to be run as an outside cron in EKS, not a cron within this Spring Boot app itself) which needs to terminate. I run it in Eclipse as Application.java -&gt; Run, and when it&#39;s done, it does not terminate (similar to a Web app).\r\n\r\nBut when I do this manually at the end of my `run()`:\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication implements CommandLineRunner {\r\n    \r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n    \r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\r\n    \r\n                // ... Run job, and at the end terminate manually\r\n\r\n    \t\t\tSpringApplication.exit(appContext, new ExitCodeGenerator() {\r\n    \r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic int getExitCode() {\r\n    \t\t\t\t\treturn 0;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t});\r\n\r\nI get this error:\r\n\r\n**org.apache.tomcat.util.net.Acceptor.log(175) - Socket accept failed**\r\n\r\n    023-03-24 11:27:29.364 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log(173) - Pausing ProtocolHandler [&quot;http-nio-8081&quot;]\r\n    2023-03-24 11:27:29.364 [main] WARN  o.apache.tomcat.util.net.NioEndpoint.log(173) - Failed to unlock acceptor for [http-nio-8081] because the local address was not available\r\n    2023-03-24 11:27:29.364 [main] INFO  o.a.catalina.core.StandardService.log(173) - Stopping service [Tomcat]\r\n    2023-03-24 11:27:29.364 [http-nio-8081-Acceptor] ERROR org.apache.tomcat.util.net.Acceptor.log(175) - Socket accept failed\r\n    java.nio.channels.AsynchronousCloseException: null\r\n    \tat java.base/java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)\r\n    \tat java.base/sun.nio.ch.ServerSocketChannelImpl.end(ServerSocketChannelImpl.java:376)\r\n    \tat java.base/sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:399)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:520)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\r\n    \tat org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:128)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nIs there a way to remove the Tomcat layer from this Spring Boot job app and have it terminate manually?","title":"Can&#39;t terminate a Spring Boot job application with SpringApplication.exit() due to Tomcat error &quot;Socket accept failed&quot;","body":"<p>I have a job application (to be run as an outside cron in EKS, not a cron within this Spring Boot app itself) which needs to terminate. I run it in Eclipse as Application.java -&gt; Run, and when it's done, it does not terminate (similar to a Web app).</p>\n<p>But when I do this manually at the end of my <code>run()</code>:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication implements CommandLineRunner {\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    @Override\n    public void run(String... args) throws Exception {\n\n            // ... Run job, and at the end terminate manually\n\n            SpringApplication.exit(appContext, new ExitCodeGenerator() {\n\n                @Override\n                public int getExitCode() {\n                    return 0;\n                }\n                \n            });\n</code></pre>\n<p>I get this error:</p>\n<p><strong>org.apache.tomcat.util.net.Acceptor.log(175) - Socket accept failed</strong></p>\n<pre><code>023-03-24 11:27:29.364 [main] INFO  o.a.coyote.http11.Http11NioProtocol.log(173) - Pausing ProtocolHandler [&quot;http-nio-8081&quot;]\n2023-03-24 11:27:29.364 [main] WARN  o.apache.tomcat.util.net.NioEndpoint.log(173) - Failed to unlock acceptor for [http-nio-8081] because the local address was not available\n2023-03-24 11:27:29.364 [main] INFO  o.a.catalina.core.StandardService.log(173) - Stopping service [Tomcat]\n2023-03-24 11:27:29.364 [http-nio-8081-Acceptor] ERROR org.apache.tomcat.util.net.Acceptor.log(175) - Socket accept failed\njava.nio.channels.AsynchronousCloseException: null\n    at java.base/java.nio.channels.spi.AbstractInterruptibleChannel.end(AbstractInterruptibleChannel.java:202)\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.end(ServerSocketChannelImpl.java:376)\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:399)\n    at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:520)\n    at org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\n    at org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:128)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Is there a way to remove the Tomcat layer from this Spring Boot job app and have it terminate manually?</p>\n"},{"tags":["java","mongodb","diff","versioning","spring-data"],"comments":[{"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"score":0,"creation_date":1345925302,"post_id":12104969,"comment_id":16214400,"body_markdown":"Not full versioning, but we&#39;ve implemented a tiny auditing system - logging who changed which old values to new ones. We&#39;re using Morphia&#39;s ``prePersist()`` method (which will only work for full entity saves, not specific updates). Can provide some code samples, but it&#39;s nothing sophisticated...","body":"Not full versioning, but we&#39;ve implemented a tiny auditing system - logging who changed which old values to new ones. We&#39;re using Morphia&#39;s <code>prePersist()</code> method (which will only work for full entity saves, not specific updates). Can provide some code samples, but it&#39;s nothing sophisticated..."},{"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"score":0,"creation_date":1346085687,"post_id":12104969,"comment_id":16249530,"body_markdown":"Thanks for your comment! I would be very interested in some more details demonstrating your solution. Only tracking full entity saves is definitively ok: This is our main use case, too. A very interesting point is the way you compare the old to the new entity, identifying changed properties. I took a look into graph comparison frameworks here, but did not find a quick and easy solution.","body":"Thanks for your comment! I would be very interested in some more details demonstrating your solution. Only tracking full entity saves is definitively ok: This is our main use case, too. A very interesting point is the way you compare the old to the new entity, identifying changed properties. I took a look into graph comparison frameworks here, but did not find a quick and easy solution."}],"answers":[{"tags":[],"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1346363135,"creation_date":1346363135,"answer_id":12206007,"question_id":12104969,"body_markdown":"We&#39;re using a base entity (where we set the Id, creation + last change dates,...). Building upon this we&#39;re using a generic persistence method, which looks something like this:\r\n\r\n\t@Override\r\n\tpublic &lt;E extends BaseEntity&gt; ObjectId persist(E entity) {\r\n\t\tdelta(entity);\r\n\t\tmongoDataStore.save(entity);\r\n\t\treturn entity.getId();\r\n\t}\r\n\r\nThe delta method looks like this (I&#39;ll try to make this as generic as possible):\r\n\r\n\tprotected &lt;E extends BaseEntity&gt; void delta(E newEntity) {\r\n\r\n\t\t// If the entity is null or has no ID, it hasn&#39;t been persisted before,\r\n\t\t// so there&#39;s no delta to calculate\r\n\t\tif ((newEntity == null) || (newEntity.getId() == null)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get the original entity\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tE oldEntity = (E) mongoDataStore.get(newEntity.getClass(), newEntity.getId()); \r\n\r\n\t\t// Ensure that the old entity isn&#39;t null\r\n\t\tif (oldEntity == null) {\r\n\t\t\tLOG.error(&quot;Tried to compare and persist null objects - this is not allowed&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Get the current user and ensure it is not null\r\n\t\tString email = ...;\r\n\r\n\t\t// Calculate the difference\r\n\t\t// We need to fetch the fields from the parent entity as well as they\r\n\t\t// are not automatically fetched\r\n\t\tField[] fields = ArrayUtils.addAll(newEntity.getClass().getDeclaredFields(),\r\n\t\t\t\tBaseEntity.class.getDeclaredFields());\r\n\t\tObject oldField = null;\r\n\t\tObject newField = null;\r\n\t\tStringBuilder delta = new StringBuilder();\r\n\t\tfor (Field field : fields) {\r\n\t\t\tfield.setAccessible(true); // We need to access private fields\r\n\t\t\ttry {\r\n\t\t\t\toldField = field.get(oldEntity);\r\n\t\t\t\tnewField = field.get(newEntity);\r\n\t\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t\tLOG.error(&quot;Bad argument given&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\tLOG.error(&quot;Could not access the argument&quot;);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tif ((oldField != newField)\r\n\t\t\t\t\t&amp;&amp; (((oldField != null) &amp;&amp; !oldField.equals(newField)) || ((newField != null) &amp;&amp; !newField\r\n\t\t\t\t\t\t\t.equals(oldField)))) {\r\n\t\t\t\tdelta.append(field.getName()).append(&quot;: [&quot;).append(oldField).append(&quot;] -&gt; [&quot;)\r\n\t\t\t\t\t\t.append(newField).append(&quot;]  &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Persist the difference\r\n\t\tif (delta.length() == 0) {\r\n\t\t\tLOG.warn(&quot;The delta is empty - this should not happen&quot;);\r\n\t\t} else {\r\n\t\t\tDeltaEntity deltaEntity = new DeltaEntity(oldEntity.getClass().toString(),\r\n\t\t\t\t\toldEntity.getId(), oldEntity.getUuid(), email, delta.toString());\r\n\t\t\tmongoDataStore.save(deltaEntity);\r\n\t\t}\r\n\t\treturn;\r\n\t}\r\n\r\nOur delta entity looks like that (without the getters + setters, toString, hashCode, and equals):\r\n\r\n\t@Entity(value = &quot;delta&quot;, noClassnameStored = true)\r\n\tpublic final class DeltaEntity extends BaseEntity {\r\n\t\tprivate static final long serialVersionUID = -2770175650780701908L;\r\n\r\n\t\tprivate String entityClass; // Do not call this className as Morphia will\r\n\t\t\t\t\t\t\t\t// try to work some magic on this automatically\r\n\t\tprivate ObjectId entityId;\r\n\t\tprivate String entityUuid;\r\n\t\tprivate String userEmail;\r\n\t\tprivate String delta;\r\n\r\n\t\tpublic DeltaEntity() {\r\n\t\t\tsuper();\r\n\t\t}\r\n\r\n\t\tpublic DeltaEntity(final String entityClass, final ObjectId entityId, final String entityUuid,\r\n\t\t\t\tfinal String userEmail, final String delta) {\r\n\t\t\tthis();\r\n\t\t\tthis.entityClass = entityClass;\r\n\t\t\tthis.entityId = entityId;\r\n\t\t\tthis.entityUuid = entityUuid;\r\n\t\t\tthis.userEmail = userEmail;\r\n\t\t\tthis.delta = delta;\r\n\t\t}\r\n\r\nHope this helps you getting started :-)","title":"Java MongoDB Object Versioning","body":"<p>We're using a base entity (where we set the Id, creation + last change dates,...). Building upon this we're using a generic persistence method, which looks something like this:</p>\n\n<pre><code>@Override\npublic &lt;E extends BaseEntity&gt; ObjectId persist(E entity) {\n    delta(entity);\n    mongoDataStore.save(entity);\n    return entity.getId();\n}\n</code></pre>\n\n<p>The delta method looks like this (I'll try to make this as generic as possible):</p>\n\n<pre><code>protected &lt;E extends BaseEntity&gt; void delta(E newEntity) {\n\n    // If the entity is null or has no ID, it hasn't been persisted before,\n    // so there's no delta to calculate\n    if ((newEntity == null) || (newEntity.getId() == null)) {\n        return;\n    }\n\n    // Get the original entity\n    @SuppressWarnings(\"unchecked\")\n    E oldEntity = (E) mongoDataStore.get(newEntity.getClass(), newEntity.getId()); \n\n    // Ensure that the old entity isn't null\n    if (oldEntity == null) {\n        LOG.error(\"Tried to compare and persist null objects - this is not allowed\");\n        return;\n    }\n\n    // Get the current user and ensure it is not null\n    String email = ...;\n\n    // Calculate the difference\n    // We need to fetch the fields from the parent entity as well as they\n    // are not automatically fetched\n    Field[] fields = ArrayUtils.addAll(newEntity.getClass().getDeclaredFields(),\n            BaseEntity.class.getDeclaredFields());\n    Object oldField = null;\n    Object newField = null;\n    StringBuilder delta = new StringBuilder();\n    for (Field field : fields) {\n        field.setAccessible(true); // We need to access private fields\n        try {\n            oldField = field.get(oldEntity);\n            newField = field.get(newEntity);\n        } catch (IllegalArgumentException e) {\n            LOG.error(\"Bad argument given\");\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            LOG.error(\"Could not access the argument\");\n            e.printStackTrace();\n        }\n        if ((oldField != newField)\n                &amp;&amp; (((oldField != null) &amp;&amp; !oldField.equals(newField)) || ((newField != null) &amp;&amp; !newField\n                        .equals(oldField)))) {\n            delta.append(field.getName()).append(\": [\").append(oldField).append(\"] -&gt; [\")\n                    .append(newField).append(\"]  \");\n        }\n    }\n\n    // Persist the difference\n    if (delta.length() == 0) {\n        LOG.warn(\"The delta is empty - this should not happen\");\n    } else {\n        DeltaEntity deltaEntity = new DeltaEntity(oldEntity.getClass().toString(),\n                oldEntity.getId(), oldEntity.getUuid(), email, delta.toString());\n        mongoDataStore.save(deltaEntity);\n    }\n    return;\n}\n</code></pre>\n\n<p>Our delta entity looks like that (without the getters + setters, toString, hashCode, and equals):</p>\n\n<pre><code>@Entity(value = \"delta\", noClassnameStored = true)\npublic final class DeltaEntity extends BaseEntity {\n    private static final long serialVersionUID = -2770175650780701908L;\n\n    private String entityClass; // Do not call this className as Morphia will\n                            // try to work some magic on this automatically\n    private ObjectId entityId;\n    private String entityUuid;\n    private String userEmail;\n    private String delta;\n\n    public DeltaEntity() {\n        super();\n    }\n\n    public DeltaEntity(final String entityClass, final ObjectId entityId, final String entityUuid,\n            final String userEmail, final String delta) {\n        this();\n        this.entityClass = entityClass;\n        this.entityId = entityId;\n        this.entityUuid = entityUuid;\n        this.userEmail = userEmail;\n        this.delta = delta;\n    }\n</code></pre>\n\n<p>Hope this helps you getting started :-)</p>\n"},{"tags":[],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1369404127,"creation_date":1346423559,"answer_id":12217487,"question_id":12104969,"body_markdown":"This is how I ended up implementing versioning for MongoDB entities. Thanks to the StackOverflow community for helping!\r\n\r\n * A change log is kept for each entity in a separate history collection.\r\n * To avoid saving a lot of data, the history collection does not store complete instances, but only the first version and differences between versions. (You could even omit the first version and reconstruct the versions &quot;backwards&quot; from the current version in the main collection of the entity.)\r\n * [Java Object Diff][1] is used to generate object diffs.\r\n * In order to be able to work with collections correctly, one needs to implement the `equals` method of the entities so that it tests for the database primary key and not the sub properties. (Otherwise, JavaObjectDiff will not recognize property changes in collection elements.)\r\n\r\nHere are the entities I use for versioning (getters/setters etc. removed):\r\n\r\n    // This entity is stored once (1:1) per entity that is to be versioned\r\n    // in an own collection\r\n    public class MongoDiffHistoryEntry {\r\n        /* history id */\r\n        private String id;\r\n\r\n        /* reference to original entity */\r\n        private String objectId;\r\n\r\n        /* copy of original entity (first version) */\r\n        private Object originalObject;\r\n\r\n        /* differences collection */\r\n        private List&lt;MongoDiffHistoryChange&gt; differences;\r\n\r\n        /* delete flag */\r\n        private boolean deleted;\r\n    }\r\n\r\n    // changeset for a single version\r\n    public class MongoDiffHistoryChange {\r\n        private Date historyDate;\r\n        private List&lt;MongoDiffHistoryChangeItem&gt; items;\r\n    }\r\n\r\n    // a single property change\r\n    public class MongoDiffHistoryChangeItem {\r\n        /* path to changed property (PropertyPath) */\r\n        private String path;\r\n\r\n        /* change state (NEW, CHANGED, REMOVED etc.) */\r\n        private Node.State state;\r\n\r\n        /* original value (empty for NEW) */\r\n        private Object base;\r\n\r\n        /* new value (empty for REMOVED) */\r\n        private Object modified;\r\n    }\r\n\r\nHere is the saveChangeHistory operation:\r\n\r\n\tprivate void saveChangeHistory(Object working, Object base) {\r\n\t\tassert working != null &amp;&amp; base != null;\r\n\t\tassert working.getClass().equals(base.getClass());\r\n\t\t\r\n\t\tString baseId = ObjectUtil.getPrimaryKeyValue(base).toString();\r\n\t\tString workingId = ObjectUtil.getPrimaryKeyValue(working).toString();\r\n\t\tassert baseId != null &amp;&amp; workingId != null &amp;&amp; baseId.equals(workingId);\r\n\t\t\r\n\t\tMongoDiffHistoryEntry entry = getObjectHistory(base.getClass(), baseId);\r\n\t\tif (entry == null) {\r\n\t\t\t//throw new RuntimeException(&quot;history not found: &quot; + base.getClass().getName() + &quot;#&quot; + baseId);\r\n\t\t\tlogger.warn(&quot;history lost - create new base history record: {}#{}&quot;, base.getClass().getName(), baseId);\r\n\t\t\tsaveNewHistory(base);\r\n\t\t\tsaveHistory(working, base);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfinal MongoDiffHistoryChange change = new MongoDiffHistoryChange();\r\n\t\tchange.setHistoryDate(new Date());\r\n\t\tchange.setItems(new ArrayList&lt;MongoDiffHistoryChangeItem&gt;());\r\n\t\t\r\n\t\tObjectDiffer differ = ObjectDifferFactory.getInstance();\r\n\t\tNode root = differ.compare(working, base);\r\n\t\troot.visit(new MongoDiffHistoryChangeVisitor(change, working, base));\r\n\t\t\r\n\t\tif (entry.getDifferences() == null)\r\n\t\t\tentry.setDifferences(new ArrayList&lt;MongoDiffHistoryChange&gt;());\r\n\t\tentry.getDifferences().add(change);\r\n\r\n\t\tmongoTemplate.save(entry, getHistoryCollectionName(working.getClass()));\r\n\t}\r\n\r\nThis is how it looks like in MongoDB:\r\n\r\n    {\r\n      &quot;_id&quot; : ObjectId(&quot;5040a9e73c75ad7e3590e538&quot;),\r\n      &quot;_class&quot; : &quot;MongoDiffHistoryEntry&quot;,\r\n      &quot;objectId&quot; : &quot;5034c7a83c75c52dddcbd554&quot;,\r\n      &quot;originalObject&quot; : {\r\n          BLABLABLA, including sections collection etc.\r\n      },\r\n      &quot;differences&quot; : [{\r\n          &quot;historyDate&quot; : ISODate(&quot;2012-08-31T12:11:19.667Z&quot;),\r\n          &quot;items&quot; : [{\r\n              &quot;path&quot; : &quot;/sections[LetterSection@116a3de]&quot;,\r\n              &quot;state&quot; : &quot;ADDED&quot;,\r\n              &quot;modified&quot; : {\r\n                &quot;_class&quot; : &quot;LetterSection&quot;,\r\n                &quot;_id&quot; : ObjectId(&quot;5034c7a83c75c52dddcbd556&quot;),\r\n                &quot;letterId&quot; : &quot;5034c7a83c75c52dddcbd554&quot;,\r\n                &quot;sectionIndex&quot; : 2,\r\n                &quot;stringContent&quot; : &quot;BLABLA&quot;,\r\n                &quot;contentMimetype&quot; : &quot;text/plain&quot;,\r\n                &quot;sectionConfiguration&quot; : &quot;BLUBB&quot;\r\n              }\r\n            }, {\r\n              &quot;path&quot; : &quot;/sections[LetterSection@19546ee]&quot;,\r\n              &quot;state&quot; : &quot;REMOVED&quot;,\r\n              &quot;base&quot; : {\r\n                &quot;_class&quot; : &quot;LetterSection&quot;,\r\n                &quot;_id&quot; : ObjectId(&quot;5034c7a83c75c52dddcbd556&quot;),\r\n                &quot;letterId&quot; : &quot;5034c7a83c75c52dddcbd554&quot;,\r\n                &quot;sectionIndex&quot; : 2,\r\n                &quot;stringContent&quot; : &quot;BLABLABLA&quot;,\r\n                &quot;contentMimetype&quot; : &quot;text/plain&quot;,\r\n                &quot;sectionConfiguration&quot; : &quot;BLUBB&quot;\r\n              }\r\n            }]\r\n        }, {\r\n          &quot;historyDate&quot; : ISODate(&quot;2012-08-31T13:15:32.574Z&quot;),\r\n          &quot;items&quot; : [{\r\n              &quot;path&quot; : &quot;/sections[LetterSection@44a38a]/stringContent&quot;,\r\n              &quot;state&quot; : &quot;CHANGED&quot;,\r\n              &quot;base&quot; : &quot;blub5&quot;,\r\n              &quot;modified&quot; : &quot;blub6&quot;\r\n            }]\r\n        },\r\n        }],\r\n      &quot;deleted&quot; : false\r\n    }\r\n\r\nEDIT: Here is the Visitor code:\r\n\r\n    public class MongoDiffHistoryChangeVisitor implements Visitor {\r\n\r\n\tprivate MongoDiffHistoryChange change;\r\n\tprivate Object working;\r\n\tprivate Object base;\r\n\t\r\n\tpublic MongoDiffHistoryChangeVisitor(MongoDiffHistoryChange change, Object working, Object base) {\r\n\t\tthis.change = change;\r\n\t\tthis.working = working;\r\n\t\tthis.base = base;\r\n\t}\r\n\t\r\n\tpublic void accept(Node node, Visit visit) {\r\n\t\tif (node.isRootNode() &amp;&amp; !node.hasChanges() ||\r\n\t\t\tnode.hasChanges() &amp;&amp; node.getChildren().isEmpty()) {\r\n\t\t\tMongoDiffHistoryChangeItem diffItem = new MongoDiffHistoryChangeItem();\r\n\t\t\tdiffItem.setPath(node.getPropertyPath().toString());\r\n\t\t\tdiffItem.setState(node.getState());\r\n\r\n\t\t\tif (node.getState() != State.UNTOUCHED) {\r\n\t\t\t\tdiffItem.setBase(node.canonicalGet(base));\r\n\t\t\t\tdiffItem.setModified(node.canonicalGet(working));\r\n\t\t\t}\r\n\r\n\t\t\tif (change.getItems() == null)\r\n\t\t\t\tchange.setItems(new ArrayList&lt;MongoDiffHistoryChangeItem&gt;());\r\n\t\t\tchange.getItems().add(diffItem);\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/SQiShER/java-object-diff","title":"Java MongoDB Object Versioning","body":"<p>This is how I ended up implementing versioning for MongoDB entities. Thanks to the StackOverflow community for helping!</p>\n\n<ul>\n<li>A change log is kept for each entity in a separate history collection.</li>\n<li>To avoid saving a lot of data, the history collection does not store complete instances, but only the first version and differences between versions. (You could even omit the first version and reconstruct the versions \"backwards\" from the current version in the main collection of the entity.)</li>\n<li><a href=\"https://github.com/SQiShER/java-object-diff\">Java Object Diff</a> is used to generate object diffs.</li>\n<li>In order to be able to work with collections correctly, one needs to implement the <code>equals</code> method of the entities so that it tests for the database primary key and not the sub properties. (Otherwise, JavaObjectDiff will not recognize property changes in collection elements.)</li>\n</ul>\n\n<p>Here are the entities I use for versioning (getters/setters etc. removed):</p>\n\n<pre><code>// This entity is stored once (1:1) per entity that is to be versioned\n// in an own collection\npublic class MongoDiffHistoryEntry {\n    /* history id */\n    private String id;\n\n    /* reference to original entity */\n    private String objectId;\n\n    /* copy of original entity (first version) */\n    private Object originalObject;\n\n    /* differences collection */\n    private List&lt;MongoDiffHistoryChange&gt; differences;\n\n    /* delete flag */\n    private boolean deleted;\n}\n\n// changeset for a single version\npublic class MongoDiffHistoryChange {\n    private Date historyDate;\n    private List&lt;MongoDiffHistoryChangeItem&gt; items;\n}\n\n// a single property change\npublic class MongoDiffHistoryChangeItem {\n    /* path to changed property (PropertyPath) */\n    private String path;\n\n    /* change state (NEW, CHANGED, REMOVED etc.) */\n    private Node.State state;\n\n    /* original value (empty for NEW) */\n    private Object base;\n\n    /* new value (empty for REMOVED) */\n    private Object modified;\n}\n</code></pre>\n\n<p>Here is the saveChangeHistory operation:</p>\n\n<pre><code>private void saveChangeHistory(Object working, Object base) {\n    assert working != null &amp;&amp; base != null;\n    assert working.getClass().equals(base.getClass());\n\n    String baseId = ObjectUtil.getPrimaryKeyValue(base).toString();\n    String workingId = ObjectUtil.getPrimaryKeyValue(working).toString();\n    assert baseId != null &amp;&amp; workingId != null &amp;&amp; baseId.equals(workingId);\n\n    MongoDiffHistoryEntry entry = getObjectHistory(base.getClass(), baseId);\n    if (entry == null) {\n        //throw new RuntimeException(\"history not found: \" + base.getClass().getName() + \"#\" + baseId);\n        logger.warn(\"history lost - create new base history record: {}#{}\", base.getClass().getName(), baseId);\n        saveNewHistory(base);\n        saveHistory(working, base);\n        return;\n    }\n\n    final MongoDiffHistoryChange change = new MongoDiffHistoryChange();\n    change.setHistoryDate(new Date());\n    change.setItems(new ArrayList&lt;MongoDiffHistoryChangeItem&gt;());\n\n    ObjectDiffer differ = ObjectDifferFactory.getInstance();\n    Node root = differ.compare(working, base);\n    root.visit(new MongoDiffHistoryChangeVisitor(change, working, base));\n\n    if (entry.getDifferences() == null)\n        entry.setDifferences(new ArrayList&lt;MongoDiffHistoryChange&gt;());\n    entry.getDifferences().add(change);\n\n    mongoTemplate.save(entry, getHistoryCollectionName(working.getClass()));\n}\n</code></pre>\n\n<p>This is how it looks like in MongoDB:</p>\n\n<pre><code>{\n  \"_id\" : ObjectId(\"5040a9e73c75ad7e3590e538\"),\n  \"_class\" : \"MongoDiffHistoryEntry\",\n  \"objectId\" : \"5034c7a83c75c52dddcbd554\",\n  \"originalObject\" : {\n      BLABLABLA, including sections collection etc.\n  },\n  \"differences\" : [{\n      \"historyDate\" : ISODate(\"2012-08-31T12:11:19.667Z\"),\n      \"items\" : [{\n          \"path\" : \"/sections[LetterSection@116a3de]\",\n          \"state\" : \"ADDED\",\n          \"modified\" : {\n            \"_class\" : \"LetterSection\",\n            \"_id\" : ObjectId(\"5034c7a83c75c52dddcbd556\"),\n            \"letterId\" : \"5034c7a83c75c52dddcbd554\",\n            \"sectionIndex\" : 2,\n            \"stringContent\" : \"BLABLA\",\n            \"contentMimetype\" : \"text/plain\",\n            \"sectionConfiguration\" : \"BLUBB\"\n          }\n        }, {\n          \"path\" : \"/sections[LetterSection@19546ee]\",\n          \"state\" : \"REMOVED\",\n          \"base\" : {\n            \"_class\" : \"LetterSection\",\n            \"_id\" : ObjectId(\"5034c7a83c75c52dddcbd556\"),\n            \"letterId\" : \"5034c7a83c75c52dddcbd554\",\n            \"sectionIndex\" : 2,\n            \"stringContent\" : \"BLABLABLA\",\n            \"contentMimetype\" : \"text/plain\",\n            \"sectionConfiguration\" : \"BLUBB\"\n          }\n        }]\n    }, {\n      \"historyDate\" : ISODate(\"2012-08-31T13:15:32.574Z\"),\n      \"items\" : [{\n          \"path\" : \"/sections[LetterSection@44a38a]/stringContent\",\n          \"state\" : \"CHANGED\",\n          \"base\" : \"blub5\",\n          \"modified\" : \"blub6\"\n        }]\n    },\n    }],\n  \"deleted\" : false\n}\n</code></pre>\n\n<p>EDIT: Here is the Visitor code:</p>\n\n<pre><code>public class MongoDiffHistoryChangeVisitor implements Visitor {\n\nprivate MongoDiffHistoryChange change;\nprivate Object working;\nprivate Object base;\n\npublic MongoDiffHistoryChangeVisitor(MongoDiffHistoryChange change, Object working, Object base) {\n    this.change = change;\n    this.working = working;\n    this.base = base;\n}\n\npublic void accept(Node node, Visit visit) {\n    if (node.isRootNode() &amp;&amp; !node.hasChanges() ||\n        node.hasChanges() &amp;&amp; node.getChildren().isEmpty()) {\n        MongoDiffHistoryChangeItem diffItem = new MongoDiffHistoryChangeItem();\n        diffItem.setPath(node.getPropertyPath().toString());\n        diffItem.setState(node.getState());\n\n        if (node.getState() != State.UNTOUCHED) {\n            diffItem.setBase(node.canonicalGet(base));\n            diffItem.setModified(node.canonicalGet(working));\n        }\n\n        if (change.getItems() == null)\n            change.setItems(new ArrayList&lt;MongoDiffHistoryChangeItem&gt;());\n        change.getItems().add(diffItem);\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5338007,"reputation":3416,"user_id":4256260,"display_name":"Bartek Walacik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1422815288,"creation_date":1422815288,"answer_id":28266221,"question_id":12104969,"body_markdown":"looks like Javers is the right tool for this job, see http://javers.org/documentation/features/#javers-repository\r\n\r\nJavers is conceptually a VCS for domain object versioning, backed by JSON and MongoDB","title":"Java MongoDB Object Versioning","body":"<p>looks like Javers is the right tool for this job, see <a href=\"http://javers.org/documentation/features/#javers-repository\" rel=\"nofollow\">http://javers.org/documentation/features/#javers-repository</a></p>\n\n<p>Javers is conceptually a VCS for domain object versioning, backed by JSON and MongoDB</p>\n"}],"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15628,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":12206007,"answer_count":3,"score":16,"last_activity_date":1679678984,"creation_date":1345793446,"question_id":12104969,"body_markdown":"I need to do versioning on (simple) Java object graphs stored in a document-oriented database (MongoDB). For relational databases and Hibernate, I discovered [Envers][1] and am very amazed about the possibilities. Is there something similar that can be used with Spring Data Documents?\r\n\r\nI found [this post][2] outlining the thoughts I had (and more...) about storing the object versions, and my current implementation works similar in that it stores copies of the objects in a separate history collection with a timestamp, but I would like to improve this to save storage space. Therefore, I think I need to implement both a &quot;diff&quot; operation on object trees and a &quot;merge&quot; operation for reconstructing old objects. Are there any libraries out there helping with this?\r\n\r\n\r\n  [1]: http://download.jboss.org/envers/presentations/envers_devoxx.pdf\r\n  [2]: https://stackoverflow.com/questions/4185105/ways-to-implement-data-versioning-in-mongodb\r\n\r\n**Edit**:\r\nAny experiences with MongoDB and versioning highly appreciated! I see most probably there won&#39;t be a Spring Data solution.","title":"Java MongoDB Object Versioning","body":"<p>I need to do versioning on (simple) Java object graphs stored in a document-oriented database (MongoDB). For relational databases and Hibernate, I discovered <a href=\"http://download.jboss.org/envers/presentations/envers_devoxx.pdf\" rel=\"noreferrer\">Envers</a> and am very amazed about the possibilities. Is there something similar that can be used with Spring Data Documents?</p>\n\n<p>I found <a href=\"https://stackoverflow.com/questions/4185105/ways-to-implement-data-versioning-in-mongodb\">this post</a> outlining the thoughts I had (and more...) about storing the object versions, and my current implementation works similar in that it stores copies of the objects in a separate history collection with a timestamp, but I would like to improve this to save storage space. Therefore, I think I need to implement both a \"diff\" operation on object trees and a \"merge\" operation for reconstructing old objects. Are there any libraries out there helping with this?</p>\n\n<p><strong>Edit</strong>:\nAny experiences with MongoDB and versioning highly appreciated! I see most probably there won't be a Spring Data solution.</p>\n"},{"tags":["java","testing","gwt","ant","jacoco"],"owner":{"account_id":19305970,"reputation":3,"user_id":14112775,"display_name":"Reshu Kumari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679677890,"creation_date":1679677759,"question_id":75836489,"body_markdown":"I want to generate a code coverage report for a GWT application using Jacoco.\r\nmy build.xml file code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n&lt;project name=&quot;MyApp&quot; default=&quot;build&quot; basedir=&quot;.&quot; xmlns:jacoco=&quot;antlib:org.jacoco.ant&quot;&gt;\r\n  &lt;!-- Arguments to gwtc and devmode targets --&gt;\r\n  &lt;property name=&quot;gwt.args&quot; value=&quot;&quot; /&gt;\r\n\r\n  &lt;!-- Configure path to GWT SDK --&gt;\r\n  &lt;property name=&quot;gwt.sdk&quot; location=&quot;/home/ubuntu/Downloads/gwt-2.10.0&quot; /&gt;\r\n\r\n  &lt;path id=&quot;project.class.path&quot;&gt;\r\n    &lt;pathelement location=&quot;war/WEB-INF/classes&quot;/&gt;\r\n    &lt;pathelement location=&quot;${gwt.sdk}/gwt-user.jar&quot;/&gt;\r\n    &lt;pathelement location=&quot;${gwt.sdk}/gwt-dev.jar&quot;/&gt;\r\n    &lt;pathelement location=&quot;${gwt.sdk}/validation-api-1.0.0.GA.jar&quot;/&gt;\r\n    &lt;pathelement location=&quot;${gwt.sdk}/validation-api-1.0.0.GA-sources.jar&quot;/&gt;\r\n    &lt;fileset dir=&quot;war/WEB-INF/lib&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n    &lt;!-- Add any additional non-server libs (such as JUnit) here --&gt;\r\n  &lt;/path&gt;\r\n\r\n  &lt;target name=&quot;libs&quot; description=&quot;Copy libs to WEB-INF/lib&quot;&gt;\r\n    &lt;mkdir dir=&quot;war/WEB-INF/lib&quot; /&gt;\r\n    &lt;copy todir=&quot;war/WEB-INF/lib&quot; file=&quot;${gwt.sdk}/gwt-servlet.jar&quot; /&gt;\r\n    &lt;copy todir=&quot;war/WEB-INF/lib&quot; file=&quot;${gwt.sdk}/gwt-servlet-deps.jar&quot; /&gt;\r\n    &lt;!-- Add any additional server libs that need to be copied --&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\r\n    &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\r\n    &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\r\n        destdir=&quot;war/WEB-INF/classes&quot;\r\n        source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\r\n        debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\r\n      &lt;classpath refid=&quot;project.class.path&quot;/&gt;\r\n    &lt;/javac&gt;\r\n    &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\r\n      &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\r\n    &lt;/copy&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;gwtc&quot; depends=&quot;javac&quot; description=&quot;GWT compile to JavaScript (production mode)&quot;&gt;\r\n    &lt;java failonerror=&quot;true&quot; fork=&quot;true&quot; classname=&quot;com.google.gwt.dev.Compiler&quot; maxmemory=&quot;512m&quot;&gt;\r\n      &lt;classpath&gt;\r\n        &lt;pathelement location=&quot;src&quot;/&gt;\r\n        &lt;path refid=&quot;project.class.path&quot;/&gt;\r\n      &lt;/classpath&gt;\r\n      &lt;arg line=&quot;-war&quot;/&gt;\r\n      &lt;arg value=&quot;war&quot;/&gt;\r\n      &lt;!-- Additional arguments like -style PRETTY or -logLevel DEBUG --&gt;\r\n      &lt;arg line=&quot;${gwt.args}&quot;/&gt;\r\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\r\n    &lt;/java&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;devmode&quot; depends=&quot;javac&quot; description=&quot;Run development mode (pass -Dgwt.args=-nosuperDevMode to fallback to classic DevMode)&quot;&gt;\r\n    &lt;java failonerror=&quot;true&quot; fork=&quot;true&quot; classname=&quot;com.google.gwt.dev.DevMode&quot; maxmemory=&quot;1g&quot;&gt;\r\n      &lt;classpath&gt;\r\n        &lt;pathelement location=&quot;src&quot;/&gt;\r\n        &lt;path refid=&quot;project.class.path&quot;/&gt;\r\n        &lt;pathelement location=&quot;${gwt.sdk}/gwt-codeserver.jar&quot;/&gt;\r\n      &lt;/classpath&gt;\r\n      &lt;arg value=&quot;-startupUrl&quot;/&gt;\r\n      &lt;arg value=&quot;MyApp.html&quot;/&gt;\r\n      &lt;arg line=&quot;-war&quot;/&gt;\r\n      &lt;arg value=&quot;war&quot;/&gt;\r\n      &lt;!-- Additional arguments like -style PRETTY, -logLevel DEBUG or -nosuperDevMode --&gt;\r\n      &lt;arg line=&quot;${gwt.args}&quot;/&gt;\r\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\r\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\r\n    &lt;/java&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;javac.tests&quot; depends=&quot;javac&quot; description=&quot;Compiles test code&quot;&gt;\r\n    &lt;javac srcdir=&quot;test&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\r\n      source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\r\n      destdir=&quot;war/WEB-INF/classes&quot;\r\n      debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\r\n      &lt;classpath location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot;/&gt;\r\n      &lt;classpath refid=&quot;project.class.path&quot;/&gt;\r\n    &lt;/javac&gt;\r\n  &lt;/target&gt;\r\n  \r\n  &lt;target name=&quot;test.dev&quot; depends=&quot;javac.tests&quot; description=&quot;Run development mode tests&quot;&gt;\r\n    &lt;mkdir dir=&quot;reports/htmlunit.dev&quot; /&gt;\r\n    &lt;junit fork=&quot;yes&quot; printsummary=&quot;yes&quot; haltonfailure=&quot;yes&quot; maxmemory=&quot;256m&quot;&gt;\r\n      &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war www-test&quot; /&gt;\r\n      &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot; /&gt;\r\n      &lt;classpath&gt;\r\n        &lt;pathelement location=&quot;src&quot; /&gt;\r\n        &lt;pathelement location=&quot;test&quot; /&gt;\r\n        &lt;path refid=&quot;project.class.path&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA.jar&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA-sources.jar&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot; /&gt;\r\n      &lt;/classpath&gt;\r\n      &lt;batchtest todir=&quot;reports/htmlunit.dev&quot; &gt;\r\n        &lt;fileset dir=&quot;test&quot; &gt;\r\n          &lt;include name=&quot;**/*Suite.java&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/batchtest&gt;\r\n      &lt;formatter type=&quot;plain&quot; /&gt;\r\n      &lt;formatter type=&quot;xml&quot; /&gt;\r\n    &lt;/junit&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;test.prod&quot; depends=&quot;javac.tests&quot; description=&quot;Run production mode tests&quot;&gt;\r\n    &lt;mkdir dir=&quot;reports/htmlunit.prod&quot; /&gt;\r\n    &lt;junit fork=&quot;yes&quot; printsummary=&quot;yes&quot; haltonfailure=&quot;yes&quot; maxmemory=&quot;256m&quot;&gt;\r\n      &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-logLevel WARN -war www-test&quot; /&gt;\r\n      &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot; /&gt;\r\n      &lt;classpath&gt;\r\n        &lt;pathelement location=&quot;src&quot; /&gt;\r\n        &lt;pathelement location=&quot;test&quot; /&gt;\r\n        &lt;path refid=&quot;project.class.path&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA.jar&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA-sources.jar&quot; /&gt;\r\n        &lt;pathelement location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot; /&gt;\r\n      &lt;/classpath&gt;\r\n      &lt;batchtest todir=&quot;reports/htmlunit.prod&quot; &gt;\r\n        &lt;fileset dir=&quot;test&quot; &gt;\r\n          &lt;include name=&quot;**/*Suite.java&quot; /&gt;\r\n        &lt;/fileset&gt;\r\n      &lt;/batchtest&gt;\r\n      &lt;formatter type=&quot;plain&quot; /&gt;\r\n      &lt;formatter type=&quot;xml&quot; /&gt;\r\n    &lt;/junit&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;test&quot; description=&quot;Run development and production mode tests&quot;&gt;\r\n    &lt;antcall target=&quot;test.dev&quot; /&gt;\r\n    &lt;antcall target=&quot;test.prod&quot; /&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;build&quot; depends=&quot;gwtc&quot; description=&quot;Build this project&quot; /&gt;\r\n\r\n  &lt;target name=&quot;war&quot; depends=&quot;build&quot; description=&quot;Create a war file&quot;&gt;\r\n    &lt;zip destfile=&quot;MyApp.war&quot; basedir=&quot;war&quot;/&gt;\r\n  &lt;/target&gt;\r\n\r\n  &lt;target name=&quot;clean&quot; description=&quot;Cleans this project&quot;&gt;\r\n    &lt;delete dir=&quot;war/WEB-INF/classes&quot; failonerror=&quot;false&quot; /&gt;\r\n    &lt;delete dir=&quot;war/myapp&quot; failonerror=&quot;false&quot; /&gt;\r\n  &lt;/target&gt;\r\n  &lt;taskdef uri=&quot;antlib:org.jacoco.ant&quot; resource=&quot;org/jacoco/ant/antlib.xml&quot;&gt;\r\n\t&lt;classpath path=&quot;/home/ubuntu/Downloads/lib/jacocoant.jar&quot; /&gt;\r\n  &lt;/taskdef&gt;\r\n\t\r\n  &lt;!-- Run all tests --&gt;\r\n  &lt;jacoco:coverage destfile=&quot;test/jacoco.exec&quot;&gt;\r\n\t&lt;junit printsummary=&quot;true&quot; haltonfailure=&quot;false&quot; fork=&quot;true&quot; forkmode=&quot;once&quot;&gt;\r\n\t  &lt;jvmarg value=&quot;${xms}&quot; /&gt;\r\n\t  &lt;jvmarg value=&quot;${xmx}&quot; /&gt;\r\n\t  classpath refid=&quot;classpath.test&quot; /&gt;\r\n\t  &lt;formatter type=&quot;xml&quot; /&gt;\r\n\t  &lt;batchtest todir=&quot;test&quot;&gt;\r\n\t  \t&lt;fileset dir=&quot;${build.dir}&quot;&gt;\r\n\t  \t\t&lt;exclude name=&quot;**/*$*.class&quot; /&gt;\r\n\t    \t&lt;include name=&quot;**/*Test.class&quot; /&gt;\r\n\t  \t&lt;/fileset&gt;\r\n\t  &lt;/batchtest&gt;\r\n\t&lt;/junit&gt;\r\n  &lt;/jacoco:coverage&gt;\r\n \r\n  &lt;jacoco:report&gt;\r\n\r\n\t&lt;executiondata&gt;\r\n\t  &lt;file file=&quot;jacoco.exec&quot;/&gt;\r\n\t&lt;/executiondata&gt;\r\n\r\n\t&lt;structure name=&quot;Example Project&quot;&gt;\r\n\t  &lt;classfiles&gt;\r\n\t    &lt;fileset dir=&quot;classes&quot;/&gt;\r\n\t  &lt;/classfiles&gt;\r\n\t  &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\r\n\t    &lt;fileset dir=&quot;src&quot;/&gt;\r\n\t  &lt;/sourcefiles&gt;\r\n\t&lt;/structure&gt;\r\n\r\n\t&lt;html destdir=&quot;reportDirName&quot;/&gt;\r\n\r\n  &lt;/jacoco:report&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThis is giving me following error on `ant devmode` to start the application\r\n\r\n    Buildfile: /home/ubuntu/Downloads/gwt-2.10.0/myapp/build.xml\r\n    [jacoco:coverage] Enhancing junit with coverage\r\n    \r\n    BUILD FAILED\r\n    /home/ubuntu/Downloads/gwt-2.10.0/myapp/build.xml:147: The &lt;junit&gt; type doesn&#39;t support nested text data (&quot;classpat...test&quot; /&gt;&quot;).\r\n    \r\n    Total time: 0 seconds\r\n\r\nplease suggest how can I generate code coverage report for a gwt application using jacoco. I have written it according to the official documentation https://www.jacoco.org/jacoco/trunk/doc/ant.html .  Thanks!\r\n\r\nI tried the official documentation","title":"Code coverage using Jacoco for GWT application","body":"<p>I want to generate a code coverage report for a GWT application using Jacoco.\nmy build.xml file code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;project name=&quot;MyApp&quot; default=&quot;build&quot; basedir=&quot;.&quot; xmlns:jacoco=&quot;antlib:org.jacoco.ant&quot;&gt;\n  &lt;!-- Arguments to gwtc and devmode targets --&gt;\n  &lt;property name=&quot;gwt.args&quot; value=&quot;&quot; /&gt;\n\n  &lt;!-- Configure path to GWT SDK --&gt;\n  &lt;property name=&quot;gwt.sdk&quot; location=&quot;/home/ubuntu/Downloads/gwt-2.10.0&quot; /&gt;\n\n  &lt;path id=&quot;project.class.path&quot;&gt;\n    &lt;pathelement location=&quot;war/WEB-INF/classes&quot;/&gt;\n    &lt;pathelement location=&quot;${gwt.sdk}/gwt-user.jar&quot;/&gt;\n    &lt;pathelement location=&quot;${gwt.sdk}/gwt-dev.jar&quot;/&gt;\n    &lt;pathelement location=&quot;${gwt.sdk}/validation-api-1.0.0.GA.jar&quot;/&gt;\n    &lt;pathelement location=&quot;${gwt.sdk}/validation-api-1.0.0.GA-sources.jar&quot;/&gt;\n    &lt;fileset dir=&quot;war/WEB-INF/lib&quot; includes=&quot;**/*.jar&quot;/&gt;\n    &lt;!-- Add any additional non-server libs (such as JUnit) here --&gt;\n  &lt;/path&gt;\n\n  &lt;target name=&quot;libs&quot; description=&quot;Copy libs to WEB-INF/lib&quot;&gt;\n    &lt;mkdir dir=&quot;war/WEB-INF/lib&quot; /&gt;\n    &lt;copy todir=&quot;war/WEB-INF/lib&quot; file=&quot;${gwt.sdk}/gwt-servlet.jar&quot; /&gt;\n    &lt;copy todir=&quot;war/WEB-INF/lib&quot; file=&quot;${gwt.sdk}/gwt-servlet-deps.jar&quot; /&gt;\n    &lt;!-- Add any additional server libs that need to be copied --&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;javac&quot; depends=&quot;libs&quot; description=&quot;Compile java source to bytecode&quot;&gt;\n    &lt;mkdir dir=&quot;war/WEB-INF/classes&quot;/&gt;\n    &lt;javac srcdir=&quot;src&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\n        destdir=&quot;war/WEB-INF/classes&quot;\n        source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\n        debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\n      &lt;classpath refid=&quot;project.class.path&quot;/&gt;\n    &lt;/javac&gt;\n    &lt;copy todir=&quot;war/WEB-INF/classes&quot;&gt;\n      &lt;fileset dir=&quot;src&quot; excludes=&quot;**/*.java&quot;/&gt;\n    &lt;/copy&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;gwtc&quot; depends=&quot;javac&quot; description=&quot;GWT compile to JavaScript (production mode)&quot;&gt;\n    &lt;java failonerror=&quot;true&quot; fork=&quot;true&quot; classname=&quot;com.google.gwt.dev.Compiler&quot; maxmemory=&quot;512m&quot;&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=&quot;src&quot;/&gt;\n        &lt;path refid=&quot;project.class.path&quot;/&gt;\n      &lt;/classpath&gt;\n      &lt;arg line=&quot;-war&quot;/&gt;\n      &lt;arg value=&quot;war&quot;/&gt;\n      &lt;!-- Additional arguments like -style PRETTY or -logLevel DEBUG --&gt;\n      &lt;arg line=&quot;${gwt.args}&quot;/&gt;\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\n    &lt;/java&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;devmode&quot; depends=&quot;javac&quot; description=&quot;Run development mode (pass -Dgwt.args=-nosuperDevMode to fallback to classic DevMode)&quot;&gt;\n    &lt;java failonerror=&quot;true&quot; fork=&quot;true&quot; classname=&quot;com.google.gwt.dev.DevMode&quot; maxmemory=&quot;1g&quot;&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=&quot;src&quot;/&gt;\n        &lt;path refid=&quot;project.class.path&quot;/&gt;\n        &lt;pathelement location=&quot;${gwt.sdk}/gwt-codeserver.jar&quot;/&gt;\n      &lt;/classpath&gt;\n      &lt;arg value=&quot;-startupUrl&quot;/&gt;\n      &lt;arg value=&quot;MyApp.html&quot;/&gt;\n      &lt;arg line=&quot;-war&quot;/&gt;\n      &lt;arg value=&quot;war&quot;/&gt;\n      &lt;!-- Additional arguments like -style PRETTY, -logLevel DEBUG or -nosuperDevMode --&gt;\n      &lt;arg line=&quot;${gwt.args}&quot;/&gt;\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\n      &lt;arg value=&quot;com.example.myapp.MyApp&quot;/&gt;\n    &lt;/java&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;javac.tests&quot; depends=&quot;javac&quot; description=&quot;Compiles test code&quot;&gt;\n    &lt;javac srcdir=&quot;test&quot; includes=&quot;**&quot; encoding=&quot;utf-8&quot;\n      source=&quot;1.7&quot; target=&quot;1.7&quot; nowarn=&quot;true&quot;\n      destdir=&quot;war/WEB-INF/classes&quot;\n      debug=&quot;true&quot; debuglevel=&quot;lines,vars,source&quot;&gt;\n      &lt;classpath location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot;/&gt;\n      &lt;classpath refid=&quot;project.class.path&quot;/&gt;\n    &lt;/javac&gt;\n  &lt;/target&gt;\n  \n  &lt;target name=&quot;test.dev&quot; depends=&quot;javac.tests&quot; description=&quot;Run development mode tests&quot;&gt;\n    &lt;mkdir dir=&quot;reports/htmlunit.dev&quot; /&gt;\n    &lt;junit fork=&quot;yes&quot; printsummary=&quot;yes&quot; haltonfailure=&quot;yes&quot; maxmemory=&quot;256m&quot;&gt;\n      &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-devMode -logLevel WARN -war www-test&quot; /&gt;\n      &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot; /&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=&quot;src&quot; /&gt;\n        &lt;pathelement location=&quot;test&quot; /&gt;\n        &lt;path refid=&quot;project.class.path&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA.jar&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA-sources.jar&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot; /&gt;\n      &lt;/classpath&gt;\n      &lt;batchtest todir=&quot;reports/htmlunit.dev&quot; &gt;\n        &lt;fileset dir=&quot;test&quot; &gt;\n          &lt;include name=&quot;**/*Suite.java&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n      &lt;formatter type=&quot;plain&quot; /&gt;\n      &lt;formatter type=&quot;xml&quot; /&gt;\n    &lt;/junit&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;test.prod&quot; depends=&quot;javac.tests&quot; description=&quot;Run production mode tests&quot;&gt;\n    &lt;mkdir dir=&quot;reports/htmlunit.prod&quot; /&gt;\n    &lt;junit fork=&quot;yes&quot; printsummary=&quot;yes&quot; haltonfailure=&quot;yes&quot; maxmemory=&quot;256m&quot;&gt;\n      &lt;sysproperty key=&quot;gwt.args&quot; value=&quot;-logLevel WARN -war www-test&quot; /&gt;\n      &lt;sysproperty key=&quot;java.awt.headless&quot; value=&quot;true&quot; /&gt;\n      &lt;classpath&gt;\n        &lt;pathelement location=&quot;src&quot; /&gt;\n        &lt;pathelement location=&quot;test&quot; /&gt;\n        &lt;path refid=&quot;project.class.path&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA.jar&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/Downloads/gwt-2.10.0/validation-api-1.0.0.GA-sources.jar&quot; /&gt;\n        &lt;pathelement location=&quot;/home/ubuntu/JUnit/junit4.10/junit-4.10.jar&quot; /&gt;\n      &lt;/classpath&gt;\n      &lt;batchtest todir=&quot;reports/htmlunit.prod&quot; &gt;\n        &lt;fileset dir=&quot;test&quot; &gt;\n          &lt;include name=&quot;**/*Suite.java&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n      &lt;formatter type=&quot;plain&quot; /&gt;\n      &lt;formatter type=&quot;xml&quot; /&gt;\n    &lt;/junit&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;test&quot; description=&quot;Run development and production mode tests&quot;&gt;\n    &lt;antcall target=&quot;test.dev&quot; /&gt;\n    &lt;antcall target=&quot;test.prod&quot; /&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;build&quot; depends=&quot;gwtc&quot; description=&quot;Build this project&quot; /&gt;\n\n  &lt;target name=&quot;war&quot; depends=&quot;build&quot; description=&quot;Create a war file&quot;&gt;\n    &lt;zip destfile=&quot;MyApp.war&quot; basedir=&quot;war&quot;/&gt;\n  &lt;/target&gt;\n\n  &lt;target name=&quot;clean&quot; description=&quot;Cleans this project&quot;&gt;\n    &lt;delete dir=&quot;war/WEB-INF/classes&quot; failonerror=&quot;false&quot; /&gt;\n    &lt;delete dir=&quot;war/myapp&quot; failonerror=&quot;false&quot; /&gt;\n  &lt;/target&gt;\n  &lt;taskdef uri=&quot;antlib:org.jacoco.ant&quot; resource=&quot;org/jacoco/ant/antlib.xml&quot;&gt;\n    &lt;classpath path=&quot;/home/ubuntu/Downloads/lib/jacocoant.jar&quot; /&gt;\n  &lt;/taskdef&gt;\n    \n  &lt;!-- Run all tests --&gt;\n  &lt;jacoco:coverage destfile=&quot;test/jacoco.exec&quot;&gt;\n    &lt;junit printsummary=&quot;true&quot; haltonfailure=&quot;false&quot; fork=&quot;true&quot; forkmode=&quot;once&quot;&gt;\n      &lt;jvmarg value=&quot;${xms}&quot; /&gt;\n      &lt;jvmarg value=&quot;${xmx}&quot; /&gt;\n      classpath refid=&quot;classpath.test&quot; /&gt;\n      &lt;formatter type=&quot;xml&quot; /&gt;\n      &lt;batchtest todir=&quot;test&quot;&gt;\n        &lt;fileset dir=&quot;${build.dir}&quot;&gt;\n            &lt;exclude name=&quot;**/*$*.class&quot; /&gt;\n            &lt;include name=&quot;**/*Test.class&quot; /&gt;\n        &lt;/fileset&gt;\n      &lt;/batchtest&gt;\n    &lt;/junit&gt;\n  &lt;/jacoco:coverage&gt;\n \n  &lt;jacoco:report&gt;\n\n    &lt;executiondata&gt;\n      &lt;file file=&quot;jacoco.exec&quot;/&gt;\n    &lt;/executiondata&gt;\n\n    &lt;structure name=&quot;Example Project&quot;&gt;\n      &lt;classfiles&gt;\n        &lt;fileset dir=&quot;classes&quot;/&gt;\n      &lt;/classfiles&gt;\n      &lt;sourcefiles encoding=&quot;UTF-8&quot;&gt;\n        &lt;fileset dir=&quot;src&quot;/&gt;\n      &lt;/sourcefiles&gt;\n    &lt;/structure&gt;\n\n    &lt;html destdir=&quot;reportDirName&quot;/&gt;\n\n  &lt;/jacoco:report&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This is giving me following error on <code>ant devmode</code> to start the application</p>\n<pre><code>Buildfile: /home/ubuntu/Downloads/gwt-2.10.0/myapp/build.xml\n[jacoco:coverage] Enhancing junit with coverage\n\nBUILD FAILED\n/home/ubuntu/Downloads/gwt-2.10.0/myapp/build.xml:147: The &lt;junit&gt; type doesn't support nested text data (&quot;classpat...test&quot; /&gt;&quot;).\n\nTotal time: 0 seconds\n</code></pre>\n<p>please suggest how can I generate code coverage report for a gwt application using jacoco. I have written it according to the official documentation <a href=\"https://www.jacoco.org/jacoco/trunk/doc/ant.html\" rel=\"nofollow noreferrer\">https://www.jacoco.org/jacoco/trunk/doc/ant.html</a> .  Thanks!</p>\n<p>I tried the official documentation</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679678602,"post_id":75836322,"comment_id":133770142,"body_markdown":"You may consider using composition over inheritance in this case, saving the headache overall","body":"You may consider using composition over inheritance in this case, saving the headache overall"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679677598,"creation_date":1679677598,"answer_id":75836463,"question_id":75836322,"body_markdown":"JPA supports the concept of a &quot;Discriminator&quot;, a column that tells how to map the data for inheritance.\r\n\r\nThere is a good look at it here: [https://www.baeldung.com/hibernate-inheritance][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-inheritance","title":"Best way to map inheritance?","body":"<p>JPA supports the concept of a &quot;Discriminator&quot;, a column that tells how to map the data for inheritance.</p>\n<p>There is a good look at it here: <a href=\"https://www.baeldung.com/hibernate-inheritance\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-inheritance</a></p>\n"},{"tags":[],"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679677839,"creation_date":1679677839,"answer_id":75836501,"question_id":75836322,"body_markdown":"You can always take a &quot;brute&quot; approach, have just one, generic class, keep all possible properties inside, and allow those which do not apply to be null. Thats less work setting up, might be more work sorting through the data. Performance wise...well we live in age where we stream video etc., some unnecessary null properties wont be probably a big hit.\r\n","title":"Best way to map inheritance?","body":"<p>You can always take a &quot;brute&quot; approach, have just one, generic class, keep all possible properties inside, and allow those which do not apply to be null. Thats less work setting up, might be more work sorting through the data. Performance wise...well we live in age where we stream video etc., some unnecessary null properties wont be probably a big hit.</p>\n"}],"owner":{"account_id":26394438,"reputation":1,"user_id":20045806,"display_name":"Jens De Dycker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1679677839,"creation_date":1679676591,"question_id":75836322,"body_markdown":"Junior developer trying to spice us his portfolio..:\r\n\r\nI am making a rest api as a personal project for insurancebrokers where they can store information about their clients and the contracts etc.\r\nAn insurance contract obviously has something that it insures (for example car / property/...).\r\nSo those classes are some kind of riskobject.\r\n\r\nWhat is the best way to implement this using Spring &amp; Hibernate without making a serviceclass for each of those subtypes (and another endpoint aswell)?\r\n\r\nI ran into a similar problem with the client part (which can be either a person or a company) and used composition for that one because there were only 2 possibilities however for the riskobjects there are way more possible subclasses and thus this might not be ideal or is it the best possible way?\r\n\r\nCode of insurance class:\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class Insurance {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String contractNumber;\r\n    @ManyToOne\r\n    private InsuranceCompany insuranceCompany;\r\n    @ManyToOne\r\n    private Client policyHolder;\r\n    @ManyToOne\r\n    private Riskobject object;\r\n    @CreationTimestamp\r\n    private LocalDate createdOn;\r\n    @UpdateTimestamp\r\n    private LocalDate updatedOn;\r\n    private LocalDate startDate;\r\n    private LocalDate endingDate;\r\n    private Periodicity periodicity;\r\n    private double cost;\r\n    @Enumerated(EnumType.STRING)\r\n    private Type type;\r\n    private Duration duration;\r\n    private boolean active = true;\r\n```\r\nthe type would specify wether its a car/property/liability/... insurance and based on that I&#39;d need to give the possibility to make a certain kind of subclass because I&#39;d want to avoid giving the possibility to make a car object in a property insurance for example.\r\n\r\nAnyone can help me out?","title":"Best way to map inheritance?","body":"<p>Junior developer trying to spice us his portfolio..:</p>\n<p>I am making a rest api as a personal project for insurancebrokers where they can store information about their clients and the contracts etc.\nAn insurance contract obviously has something that it insures (for example car / property/...).\nSo those classes are some kind of riskobject.</p>\n<p>What is the best way to implement this using Spring &amp; Hibernate without making a serviceclass for each of those subtypes (and another endpoint aswell)?</p>\n<p>I ran into a similar problem with the client part (which can be either a person or a company) and used composition for that one because there were only 2 possibilities however for the riskobjects there are way more possible subclasses and thus this might not be ideal or is it the best possible way?</p>\n<p>Code of insurance class:</p>\n<pre><code>@Entity\n@Data\npublic class Insurance {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String contractNumber;\n    @ManyToOne\n    private InsuranceCompany insuranceCompany;\n    @ManyToOne\n    private Client policyHolder;\n    @ManyToOne\n    private Riskobject object;\n    @CreationTimestamp\n    private LocalDate createdOn;\n    @UpdateTimestamp\n    private LocalDate updatedOn;\n    private LocalDate startDate;\n    private LocalDate endingDate;\n    private Periodicity periodicity;\n    private double cost;\n    @Enumerated(EnumType.STRING)\n    private Type type;\n    private Duration duration;\n    private boolean active = true;\n</code></pre>\n<p>the type would specify wether its a car/property/liability/... insurance and based on that I'd need to give the possibility to make a certain kind of subclass because I'd want to avoid giving the possibility to make a car object in a property insurance for example.</p>\n<p>Anyone can help me out?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679675917,"creation_date":1679675917,"answer_id":75836224,"question_id":75836223,"body_markdown":"I&#39;ve found a way using following code:\r\n\r\n    convertToFlatMap(&quot;&quot;, obj, new HashMap&lt;&gt;())\r\n\r\nImplementation:\r\n\r\n    private static Map&lt;String, Object&gt; convertToFlatMap(String prefix, Object obj, Map&lt;String, Object&gt; map) {\r\n            if (obj == null) {\r\n                return map;\r\n            }\r\n            if (obj instanceof Map) {\r\n                Map&lt;?, ?&gt; objMap = (Map&lt;?, ?&gt;) obj;\r\n                objMap.forEach((key, value) -&gt; {\r\n                    String fullKey = prefix.isEmpty() ? key.toString() : prefix + &quot;.&quot; + key.toString();\r\n                    convertToFlatMap(fullKey, value, map);\r\n                });\r\n            } else if (obj.getClass().isArray()) {\r\n                Object[] array = (Object[]) obj;\r\n                for (int i = 0; i &lt; array.length; i++) {\r\n                    String fullKey = prefix + &quot;[&quot; + i + &quot;]&quot;;\r\n                    convertToFlatMap(fullKey, array[i], map);\r\n                }\r\n            } else if (obj instanceof Iterable) {\r\n                Iterable&lt;?&gt; iterable = (Iterable&lt;?&gt;) obj;\r\n                int i = 0;\r\n                for (Object item : iterable) {\r\n                    String fullKey = prefix + &quot;[&quot; + i + &quot;]&quot;;\r\n                    convertToFlatMap(fullKey, item, map);\r\n                    i++;\r\n                }\r\n            } else if (obj.getClass().isPrimitive() || obj instanceof String) {\r\n                map.put(prefix, obj);\r\n            } else {\r\n                // recursively flatten nested object properties\r\n                Map&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\r\n                for (java.lang.reflect.Field field : obj.getClass().getDeclaredFields()) {\r\n                    field.setAccessible(true);\r\n                    String fullKey = prefix.isEmpty() ? field.getName() : prefix + &quot;.&quot; + field.getName();\r\n                    try {\r\n                        Object fieldValue = field.get(obj);\r\n                        convertToFlatMap(fullKey, fieldValue, nestedMap);\r\n                    } catch (IllegalAccessException e) {\r\n                        throw new RuntimeException(&quot;Error accessing field &quot; + field.getName() + &quot; of object &quot; + obj.getClass().getName());\r\n                    }\r\n                }\r\n                map.putAll(nestedMap);\r\n            }\r\n            return map;\r\n        }","title":"How to flatten a java object?","body":"<p>I've found a way using following code:</p>\n<pre><code>convertToFlatMap(&quot;&quot;, obj, new HashMap&lt;&gt;())\n</code></pre>\n<p>Implementation:</p>\n<pre><code>private static Map&lt;String, Object&gt; convertToFlatMap(String prefix, Object obj, Map&lt;String, Object&gt; map) {\n        if (obj == null) {\n            return map;\n        }\n        if (obj instanceof Map) {\n            Map&lt;?, ?&gt; objMap = (Map&lt;?, ?&gt;) obj;\n            objMap.forEach((key, value) -&gt; {\n                String fullKey = prefix.isEmpty() ? key.toString() : prefix + &quot;.&quot; + key.toString();\n                convertToFlatMap(fullKey, value, map);\n            });\n        } else if (obj.getClass().isArray()) {\n            Object[] array = (Object[]) obj;\n            for (int i = 0; i &lt; array.length; i++) {\n                String fullKey = prefix + &quot;[&quot; + i + &quot;]&quot;;\n                convertToFlatMap(fullKey, array[i], map);\n            }\n        } else if (obj instanceof Iterable) {\n            Iterable&lt;?&gt; iterable = (Iterable&lt;?&gt;) obj;\n            int i = 0;\n            for (Object item : iterable) {\n                String fullKey = prefix + &quot;[&quot; + i + &quot;]&quot;;\n                convertToFlatMap(fullKey, item, map);\n                i++;\n            }\n        } else if (obj.getClass().isPrimitive() || obj instanceof String) {\n            map.put(prefix, obj);\n        } else {\n            // recursively flatten nested object properties\n            Map&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\n            for (java.lang.reflect.Field field : obj.getClass().getDeclaredFields()) {\n                field.setAccessible(true);\n                String fullKey = prefix.isEmpty() ? field.getName() : prefix + &quot;.&quot; + field.getName();\n                try {\n                    Object fieldValue = field.get(obj);\n                    convertToFlatMap(fullKey, fieldValue, nestedMap);\n                } catch (IllegalAccessException e) {\n                    throw new RuntimeException(&quot;Error accessing field &quot; + field.getName() + &quot; of object &quot; + obj.getClass().getName());\n                }\n            }\n            map.putAll(nestedMap);\n        }\n        return map;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679677423,"creation_date":1679677423,"answer_id":75836441,"question_id":75836223,"body_markdown":"Library _Josson_ has function `flatten()` to do the transformation.\r\n\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;parentClass\\&quot;: {&quot; +\r\n        &quot;    \\&quot;parentField1\\&quot;: \\&quot;parentFieldValue1\\&quot;,&quot; +\r\n        &quot;    \\&quot;parentField2\\&quot;: \\&quot;parentFieldValue2\\&quot;,&quot; +\r\n        &quot;    \\&quot;childClass\\&quot;: {&quot; +\r\n        &quot;        \\&quot;childField1\\&quot;: \\&quot;childFieldValue1\\&quot;,&quot; +\r\n        &quot;        \\&quot;childField2\\&quot;: \\&quot;childFieldValue2\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    \\&quot;childClassList\\&quot;: [&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;stringField\\&quot;: \\&quot;stringField1\\&quot;,&quot; +\r\n        &quot;        \\&quot;integerField\\&quot;: \\&quot;integerField1\\&quot;&quot; +\r\n        &quot;      },&quot; +\r\n        &quot;      {&quot; +\r\n        &quot;        \\&quot;stringField\\&quot;: \\&quot;stringField2\\&quot;,&quot; +\r\n        &quot;        \\&quot;integerField\\&quot;: \\&quot;integerField2\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;flatten(&#39;.&#39;, &#39;[%d]&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n    \r\n__Output__\r\n\r\n    {\r\n      &quot;parentClass.parentField1&quot; : &quot;parentFieldValue1&quot;,\r\n      &quot;parentClass.parentField2&quot; : &quot;parentFieldValue2&quot;,\r\n      &quot;parentClass.childClass.childField1&quot; : &quot;childFieldValue1&quot;,\r\n      &quot;parentClass.childClass.childField2&quot; : &quot;childFieldValue2&quot;,\r\n      &quot;parentClass.childClassList[0].stringField&quot; : &quot;stringField1&quot;,\r\n      &quot;parentClass.childClassList[0].integerField&quot; : &quot;integerField1&quot;,\r\n      &quot;parentClass.childClassList[1].stringField&quot; : &quot;stringField2&quot;,\r\n      &quot;parentClass.childClassList[1].integerField&quot; : &quot;integerField2&quot;\r\n    }\r\n","title":"How to flatten a java object?","body":"<p>Library <em>Josson</em> has function <code>flatten()</code> to do the transformation.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;parentClass\\&quot;: {&quot; +\n    &quot;    \\&quot;parentField1\\&quot;: \\&quot;parentFieldValue1\\&quot;,&quot; +\n    &quot;    \\&quot;parentField2\\&quot;: \\&quot;parentFieldValue2\\&quot;,&quot; +\n    &quot;    \\&quot;childClass\\&quot;: {&quot; +\n    &quot;        \\&quot;childField1\\&quot;: \\&quot;childFieldValue1\\&quot;,&quot; +\n    &quot;        \\&quot;childField2\\&quot;: \\&quot;childFieldValue2\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    \\&quot;childClassList\\&quot;: [&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;stringField\\&quot;: \\&quot;stringField1\\&quot;,&quot; +\n    &quot;        \\&quot;integerField\\&quot;: \\&quot;integerField1\\&quot;&quot; +\n    &quot;      },&quot; +\n    &quot;      {&quot; +\n    &quot;        \\&quot;stringField\\&quot;: \\&quot;stringField2\\&quot;,&quot; +\n    &quot;        \\&quot;integerField\\&quot;: \\&quot;integerField2\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;flatten('.', '[%d]')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;parentClass.parentField1&quot; : &quot;parentFieldValue1&quot;,\n  &quot;parentClass.parentField2&quot; : &quot;parentFieldValue2&quot;,\n  &quot;parentClass.childClass.childField1&quot; : &quot;childFieldValue1&quot;,\n  &quot;parentClass.childClass.childField2&quot; : &quot;childFieldValue2&quot;,\n  &quot;parentClass.childClassList[0].stringField&quot; : &quot;stringField1&quot;,\n  &quot;parentClass.childClassList[0].integerField&quot; : &quot;integerField1&quot;,\n  &quot;parentClass.childClassList[1].stringField&quot; : &quot;stringField2&quot;,\n  &quot;parentClass.childClassList[1].integerField&quot; : &quot;integerField2&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1679677423,"creation_date":1679675917,"question_id":75836223,"body_markdown":"I&#39;ve a Java object structure corresponding to following JSON:\r\n\r\n    {\r\n      &quot;parentClass&quot;: {\r\n        &quot;parentField1&quot;: &quot;parentFieldValue1&quot;,\r\n        &quot;parentField2&quot;: &quot;parentFieldValue2&quot;,\r\n        &quot;childClass&quot;: {\r\n            &quot;childField1&quot;: &quot;childFieldValue1&quot;,\r\n            &quot;childField2&quot;: &quot;childFieldValue2&quot;\r\n        },\r\n        &quot;childClassList&quot;: [\r\n          {\r\n            &quot;stringField&quot;: &quot;stringField1&quot;,\r\n            &quot;integerField&quot;: &quot;integerField1&quot;\r\n          },\r\n          {\r\n            &quot;stringField&quot;: &quot;stringField2&quot;,\r\n            &quot;integerField&quot;: &quot;integerField2&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nI want to flatten it to following structure:\r\n\r\n    {\r\n        &quot;parentClass.parentField1&quot;: &quot;parentFieldValue1&quot;,\r\n        &quot;parentClass.parentField2&quot;: &quot;parentFieldValue2&quot;,\r\n        &quot;parentClass.childClass.childField1&quot;: &quot;childFieldValue1&quot;,\r\n        &quot;parentClass.childClass.childField2&quot;: &quot;childFieldValue2&quot;,\r\n        &quot;parentClass.childClassList[0].stringField&quot;: &quot;stringField1&quot;,\r\n        &quot;parentClass.childClassList[0].integerField&quot;: &quot;integerField1&quot;,\r\n        &quot;parentClass.childClassList[1].stringField&quot;: &quot;stringField2&quot;,\r\n        &quot;parentClass.childClassList[1].integerField&quot;: &quot;integerField2&quot;\r\n    }\r\n\r\nIs there a way to do it?","title":"How to flatten a java object?","body":"<p>I've a Java object structure corresponding to following JSON:</p>\n<pre><code>{\n  &quot;parentClass&quot;: {\n    &quot;parentField1&quot;: &quot;parentFieldValue1&quot;,\n    &quot;parentField2&quot;: &quot;parentFieldValue2&quot;,\n    &quot;childClass&quot;: {\n        &quot;childField1&quot;: &quot;childFieldValue1&quot;,\n        &quot;childField2&quot;: &quot;childFieldValue2&quot;\n    },\n    &quot;childClassList&quot;: [\n      {\n        &quot;stringField&quot;: &quot;stringField1&quot;,\n        &quot;integerField&quot;: &quot;integerField1&quot;\n      },\n      {\n        &quot;stringField&quot;: &quot;stringField2&quot;,\n        &quot;integerField&quot;: &quot;integerField2&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I want to flatten it to following structure:</p>\n<pre><code>{\n    &quot;parentClass.parentField1&quot;: &quot;parentFieldValue1&quot;,\n    &quot;parentClass.parentField2&quot;: &quot;parentFieldValue2&quot;,\n    &quot;parentClass.childClass.childField1&quot;: &quot;childFieldValue1&quot;,\n    &quot;parentClass.childClass.childField2&quot;: &quot;childFieldValue2&quot;,\n    &quot;parentClass.childClassList[0].stringField&quot;: &quot;stringField1&quot;,\n    &quot;parentClass.childClassList[0].integerField&quot;: &quot;integerField1&quot;,\n    &quot;parentClass.childClassList[1].stringField&quot;: &quot;stringField2&quot;,\n    &quot;parentClass.childClassList[1].integerField&quot;: &quot;integerField2&quot;\n}\n</code></pre>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","selenium-webdriver","oauth-2.0","jsoup"],"owner":{"account_id":28109441,"reputation":1,"user_id":21477460,"display_name":"stlew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679676649,"creation_date":1679619794,"question_id":75829229,"body_markdown":"I am trying to complete auth flow using JSoup.\r\n\r\nWhen I submit auth URL in browser, it redirects to the login page: `.../login`\r\n\r\nOn that page there are username and password input boxes with names: `useraname` and `password`. And once I submit credentials, it makes a POST call to `/consent` endpoint and redirects to test url provided in auth URL. That new redirected URL will have query parameters will be `authcode` which I am looking for.\r\n\r\nSo I tried to do something like this:\r\n\r\n    Connection.Response authResponse = Jsoup.connect(authUrl)\r\n        .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0&quot;)  \r\n        .followRedirects(true)\r\n        .ignoreHttpErrors(true)\r\n        .ignoreContentType(true)\r\n        .method(Connection.Method.GET)\r\n        .execute();\r\n\r\nI got 200 back with redirectURL=`/login`\r\n\r\nThen I tried to parse that page and locate credentials tags:\r\n\r\n    Document loginPage=Jsoup.connect(authResponse.url())\r\n        .cookies(authResponse.cookies())\r\n        .get();\r\n\r\nBut for some reason it returns 503 back. Can anybody provide some hints on what could be wrong?","title":"Not able to find credential tags to complete OAuth2 flow with JSoup","body":"<p>I am trying to complete auth flow using JSoup.</p>\n<p>When I submit auth URL in browser, it redirects to the login page: <code>.../login</code></p>\n<p>On that page there are username and password input boxes with names: <code>useraname</code> and <code>password</code>. And once I submit credentials, it makes a POST call to <code>/consent</code> endpoint and redirects to test url provided in auth URL. That new redirected URL will have query parameters will be <code>authcode</code> which I am looking for.</p>\n<p>So I tried to do something like this:</p>\n<pre><code>Connection.Response authResponse = Jsoup.connect(authUrl)\n    .userAgent(&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0&quot;)  \n    .followRedirects(true)\n    .ignoreHttpErrors(true)\n    .ignoreContentType(true)\n    .method(Connection.Method.GET)\n    .execute();\n</code></pre>\n<p>I got 200 back with redirectURL=<code>/login</code></p>\n<p>Then I tried to parse that page and locate credentials tags:</p>\n<pre><code>Document loginPage=Jsoup.connect(authResponse.url())\n    .cookies(authResponse.cookies())\n    .get();\n</code></pre>\n<p>But for some reason it returns 503 back. Can anybody provide some hints on what could be wrong?</p>\n"},{"tags":["java","xml","intellij-idea","xsd","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3909931,"reputation":406,"user_id":3235583,"display_name":"Rick O&#39;Sullivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679676515,"creation_date":1679674202,"answer_id":75835947,"question_id":74590721,"body_markdown":"### Solution\r\n\r\nReading an XML file via **JAXB** and generated objects based on an XSD.\r\n\r\nUse **JAXB** to generate Java classes from XML Schema file(s) using its **XJC** compiler. This solution uses a Maven project to invoke **XJC** using the [hisrc-higherjaxb-maven-plugin][9].\r\n\r\n[Here][1] is a Maven project named **Invoices** using the standard file layout. This project includes:\r\n\r\n+ An XML Schema file [Invoices.xsd][4] for the `Invoice` model\r\n+ An XML Sample file [Invoices01-1.xml][5] for unmarshalling\r\n+ A JAXB *binding* file [Invoices.xjb][6] for configuration\r\n+ A JUnit test class [InvoicesTest.java][7] to verify (un)marshalling\r\n+ Sample XML [file(s)][8] with `InvoiceList` data.\r\n+ The Maven POM file with `hisrc-higherjaxb-maven-plugin`\r\n\r\n~~~\r\nInvoices\r\n    src\r\n        main\r\n            java\r\n            resources\r\n                Invoices.xsd\r\n                Invoices.xjb\r\n                simplelogger.properties\r\n        test\r\n            java\r\n                namespace/my/invoices/InvoicesTest.java\r\n            resources\r\n                jvmsystem.arguments\r\n                jvmsystem.properties\r\n            samples\r\n                Invoices01-1.xml\r\n    pom.xml\r\n~~~\r\n\r\n#### Execution\r\n\r\nThis is a stand-alone Maven project. You can run the test using:\r\n\r\n~~~\r\nmvn clean test\r\nmvn compile exec:java\r\n~~~\r\n\r\n\r\nThe **JAXB** classes are generated by this plugin using this project&#39;s [pom.xml][3]\r\n\r\n~~~\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;args&gt;\r\n                    &lt;arg&gt;-no-header&lt;/arg&gt;\r\n                    &lt;arg&gt;-XhashCode&lt;/arg&gt;\r\n                    &lt;arg&gt;-Xequals&lt;/arg&gt;\r\n                    &lt;arg&gt;-XtoString&lt;/arg&gt;\r\n                &lt;/args&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;hisrc-basicjaxb-plugins&lt;/artifactId&gt;\r\n                        &lt;version&gt;${hisrc-basicjaxb.version}&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n~~~\r\n\r\nand are generated to:\r\n\r\n~~~\r\ntarget/generated-sources/xjc/\r\n\r\nnamespace\r\n└── my\r\n    └── invoices\r\n        ├── AddressType.java\r\n        ├── BankDetailsType.java\r\n        ├── BillingInfo.java\r\n        ├── BillingType.java\r\n        ├── Company.java\r\n        ├── ContactType.java\r\n        ├── CurrencyCodesType.java\r\n        ├── CurrencyType.java\r\n        ├── CustomerInfo.java\r\n        ├── Customer.java\r\n        ├── Invoice.java\r\n        ├── InvoiceList.java\r\n        ├── Items.java\r\n        ├── ItemType.java\r\n        ├── ObjectFactory.java\r\n        ├── Other.java\r\n        ├── package-info.java\r\n        └── TaxesType.java\r\n~~~\r\n\r\n##### Approach\r\n\r\nThe [hisrc-higherjaxb-maven-plugin][9] is configured to generate **JAXB** classes using the provided [Invoices.xsd][4] schema. The schema provides the namespace `&quot;my.namespace/Invoices&quot;` which **JAXB** uses to create the Java `package` name using its own naming convention.\r\n\r\nAs an option, a more advanced implementation of Java&#39;s built-in `Object` methods are generated using these **XJC** [hisrc-basicjaxb-plugins][10]. In particular, the sample project uses the `toString` plugin to display *human-readable* representations of the unmarshaled `Invoice` objects.\r\n\r\n**hisrc-basicjaxb-plugins**\r\n~~~\r\n&lt;args&gt;\r\n    &lt;arg&gt;-no-header&lt;/arg&gt;\r\n    &lt;arg&gt;-XhashCode&lt;/arg&gt;\r\n    &lt;arg&gt;-Xequals&lt;/arg&gt;\r\n    &lt;arg&gt;-XtoString&lt;/arg&gt;\r\n&lt;/args&gt;\r\n~~~\r\n\r\n&gt; *Note:* When the **XJC** [hisrc-basicjaxb-plugins][10] are used, the [hisrc-basicjaxb-runtime][10] dependency is required on the run-time class path.\r\n\r\n##### Testing\r\n\r\nThe JUnit test class, [InvoicesTest.java][7], scans for the sample files and invokes the method `checkSample(File sample)` to provide each file to the tester. For this project, a `JAXBContext` is created and each file in the [samples][8] path is *unmarshaled* to a `InvoiceList` object. When successful, each object is *marshaled* for logging and your [review][2].\r\n\r\n##### Demonstration\r\n\r\nA Java standard engine application with a constructor as provided by the OP and a `main(...)` method is at [`namespace.my.invoices.Aufgabe4`][11].\r\n\r\n~~~\r\npublic Aufgabe4(String path) throws JAXBException\r\n{\r\n    File f = new File(path);\r\n    JAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\r\n    Unmarshaller unmarshaller = context.createUnmarshaller();\r\n    InvoiceList invoiceList = (InvoiceList) JAXBIntrospector.getValue( unmarshaller.unmarshal(f));\r\n    setInvoices(invoiceList);\r\n}\r\n~~~\r\n\r\nThis application is executed using:\r\n\r\n~~~\r\nmvn compile exec:java &quot;src/test/samples/Invoices01-1.xml&quot;\r\n~~~\r\n\r\n&lt;!-- References --&gt;\r\n\r\n[1]: https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-invoices-2.1.0-mvn-src.zip\r\n[2]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/OUTPUT.txt\r\n[3]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/project-pom.xml\r\n[4]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/resources/Invoices.xsd\r\n[5]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/test/samples/Invoices01-1.xml\r\n[6]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/resources/Invoices.xjb\r\n[7]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/test/java/namespace/my/invoices/InvoicesTest.java\r\n[8]: https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/invoices/src/test/samples\r\n[9]: https://github.com/patrodyne/hisrc-higherjaxb#readme\r\n[10]: https://github.com/patrodyne/hisrc-basicjaxb#readme\r\n[11]: https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/java/namespace/my/invoices/Aufgabe4.java\r\n","title":"Exception at Unmarshalling an XML with JAXB","body":"<h3>Solution</h3>\n<p>Reading an XML file via <strong>JAXB</strong> and generated objects based on an XSD.</p>\n<p>Use <strong>JAXB</strong> to generate Java classes from XML Schema file(s) using its <strong>XJC</strong> compiler. This solution uses a Maven project to invoke <strong>XJC</strong> using the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a>.</p>\n<p><a href=\"https://github.com/patrodyne/hisrc-higherjaxb/releases/download/2.1.0/hisrc-higherjaxb-sample-invoices-2.1.0-mvn-src.zip\" rel=\"nofollow noreferrer\">Here</a> is a Maven project named <strong>Invoices</strong> using the standard file layout. This project includes:</p>\n<ul>\n<li>An XML Schema file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/resources/Invoices.xsd\" rel=\"nofollow noreferrer\">Invoices.xsd</a> for the <code>Invoice</code> model</li>\n<li>An XML Sample file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/test/samples/Invoices01-1.xml\" rel=\"nofollow noreferrer\">Invoices01-1.xml</a> for unmarshalling</li>\n<li>A JAXB <em>binding</em> file <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/resources/Invoices.xjb\" rel=\"nofollow noreferrer\">Invoices.xjb</a> for configuration</li>\n<li>A JUnit test class <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/test/java/namespace/my/invoices/InvoicesTest.java\" rel=\"nofollow noreferrer\">InvoicesTest.java</a> to verify (un)marshalling</li>\n<li>Sample XML <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/invoices/src/test/samples\" rel=\"nofollow noreferrer\">file(s)</a> with <code>InvoiceList</code> data.</li>\n<li>The Maven POM file with <code>hisrc-higherjaxb-maven-plugin</code></li>\n</ul>\n<pre><code>Invoices\n    src\n        main\n            java\n            resources\n                Invoices.xsd\n                Invoices.xjb\n                simplelogger.properties\n        test\n            java\n                namespace/my/invoices/InvoicesTest.java\n            resources\n                jvmsystem.arguments\n                jvmsystem.properties\n            samples\n                Invoices01-1.xml\n    pom.xml\n</code></pre>\n<h4>Execution</h4>\n<p>This is a stand-alone Maven project. You can run the test using:</p>\n<pre><code>mvn clean test\nmvn compile exec:java\n</code></pre>\n<p>The <strong>JAXB</strong> classes are generated by this plugin using this project's <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/project-pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n    &lt;artifactId&gt;hisrc-higherjaxb-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${hisrc-higherjaxb-maven-plugin.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-no-header&lt;/arg&gt;\n                    &lt;arg&gt;-XhashCode&lt;/arg&gt;\n                    &lt;arg&gt;-Xequals&lt;/arg&gt;\n                    &lt;arg&gt;-XtoString&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.patrodyne.jvnet&lt;/groupId&gt;\n                        &lt;artifactId&gt;hisrc-basicjaxb-plugins&lt;/artifactId&gt;\n                        &lt;version&gt;${hisrc-basicjaxb.version}&lt;/version&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and are generated to:</p>\n<pre><code>target/generated-sources/xjc/\n\nnamespace\n└── my\n    └── invoices\n        ├── AddressType.java\n        ├── BankDetailsType.java\n        ├── BillingInfo.java\n        ├── BillingType.java\n        ├── Company.java\n        ├── ContactType.java\n        ├── CurrencyCodesType.java\n        ├── CurrencyType.java\n        ├── CustomerInfo.java\n        ├── Customer.java\n        ├── Invoice.java\n        ├── InvoiceList.java\n        ├── Items.java\n        ├── ItemType.java\n        ├── ObjectFactory.java\n        ├── Other.java\n        ├── package-info.java\n        └── TaxesType.java\n</code></pre>\n<h5>Approach</h5>\n<p>The <a href=\"https://github.com/patrodyne/hisrc-higherjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-higherjaxb-maven-plugin</a> is configured to generate <strong>JAXB</strong> classes using the provided <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/resources/Invoices.xsd\" rel=\"nofollow noreferrer\">Invoices.xsd</a> schema. The schema provides the namespace <code>&quot;my.namespace/Invoices&quot;</code> which <strong>JAXB</strong> uses to create the Java <code>package</code> name using its own naming convention.</p>\n<p>As an option, a more advanced implementation of Java's built-in <code>Object</code> methods are generated using these <strong>XJC</strong> <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-basicjaxb-plugins</a>. In particular, the sample project uses the <code>toString</code> plugin to display <em>human-readable</em> representations of the unmarshaled <code>Invoice</code> objects.</p>\n<p><strong>hisrc-basicjaxb-plugins</strong></p>\n<pre><code>&lt;args&gt;\n    &lt;arg&gt;-no-header&lt;/arg&gt;\n    &lt;arg&gt;-XhashCode&lt;/arg&gt;\n    &lt;arg&gt;-Xequals&lt;/arg&gt;\n    &lt;arg&gt;-XtoString&lt;/arg&gt;\n&lt;/args&gt;\n</code></pre>\n<blockquote>\n<p><em>Note:</em> When the <strong>XJC</strong> <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-basicjaxb-plugins</a> are used, the <a href=\"https://github.com/patrodyne/hisrc-basicjaxb#readme\" rel=\"nofollow noreferrer\">hisrc-basicjaxb-runtime</a> dependency is required on the run-time class path.</p>\n</blockquote>\n<h5>Testing</h5>\n<p>The JUnit test class, <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/test/java/namespace/my/invoices/InvoicesTest.java\" rel=\"nofollow noreferrer\">InvoicesTest.java</a>, scans for the sample files and invokes the method <code>checkSample(File sample)</code> to provide each file to the tester. For this project, a <code>JAXBContext</code> is created and each file in the <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/tree/master/assembly/samples/invoices/src/test/samples\" rel=\"nofollow noreferrer\">samples</a> path is <em>unmarshaled</em> to a <code>InvoiceList</code> object. When successful, each object is <em>marshaled</em> for logging and your <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/OUTPUT.txt\" rel=\"nofollow noreferrer\">review</a>.</p>\n<h5>Demonstration</h5>\n<p>A Java standard engine application with a constructor as provided by the OP and a <code>main(...)</code> method is at <a href=\"https://github.com/patrodyne/hisrc-higherjaxb/blob/master/assembly/samples/invoices/src/main/java/namespace/my/invoices/Aufgabe4.java\" rel=\"nofollow noreferrer\"><code>namespace.my.invoices.Aufgabe4</code></a>.</p>\n<pre><code>public Aufgabe4(String path) throws JAXBException\n{\n    File f = new File(path);\n    JAXBContext context = JAXBContext.newInstance(ObjectFactory.class);\n    Unmarshaller unmarshaller = context.createUnmarshaller();\n    InvoiceList invoiceList = (InvoiceList) JAXBIntrospector.getValue( unmarshaller.unmarshal(f));\n    setInvoices(invoiceList);\n}\n</code></pre>\n<p>This application is executed using:</p>\n<pre><code>mvn compile exec:java &quot;src/test/samples/Invoices01-1.xml&quot;\n</code></pre>\n\n"}],"owner":{"account_id":26991681,"reputation":1,"user_id":20554482,"display_name":"Flori"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679676515,"creation_date":1669558375,"question_id":74590721,"body_markdown":"I have a problem with reading a XML file via JAXB and generated objects based on a xsd. I have no idea what I&#39;m doing wrong.\r\n\r\nI have already seen questions with the same error but unfortunately no solution suggestion has helped me.\r\n\r\nAbout my System:\r\nMacbook M1\r\nIntellij idea Ultimate\r\nOpenjdk 19\r\n\r\nThanks already for your help.\r\n\r\nHere is all you need\r\n\r\nCode\r\n```\r\npublic Aufgabe4(String path) throws JAXBException {\r\n        File f = new File(path);\r\n        JAXBContext context = JAXBContext.newInstance(&quot;generated&quot;);\r\n        Unmarshaller unmarshaller = context.createUnmarshaller();\r\n        InvoiceList invoiceList = (InvoiceList) JAXBIntrospector.getValue(\r\n                unmarshaller.unmarshal(f));\r\n}\r\n```\r\n\r\nException\r\n\r\n```\r\nException in thread &quot;main&quot; jakarta.xml.bind.UnmarshalException: \r\nunexpected element (URI:&quot;my.namespace/Invoices&quot;, lokal:&quot;invoice-list&quot;). Expected elements are (none)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:693)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:225)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:92)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1098)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:527)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:509)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3079)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\r\n\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\r\n\tat org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:146)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:188)\r\n\tat jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:172)\r\n\tat Aufgabe4.&lt;init&gt;(Aufgabe4.java:23)\r\n\tat Aufgabe4.main(Aufgabe4.java:15)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nXSD: https://pastebin.com/vPkqH75k\r\nXML: https://pastebin.com/hiR3cjsy\r\n\r\n\r\nIt would be nice, to get this fixed.","title":"Exception at Unmarshalling an XML with JAXB","body":"<p>I have a problem with reading a XML file via JAXB and generated objects based on a xsd. I have no idea what I'm doing wrong.</p>\n<p>I have already seen questions with the same error but unfortunately no solution suggestion has helped me.</p>\n<p>About my System:\nMacbook M1\nIntellij idea Ultimate\nOpenjdk 19</p>\n<p>Thanks already for your help.</p>\n<p>Here is all you need</p>\n<p>Code</p>\n<pre><code>public Aufgabe4(String path) throws JAXBException {\n        File f = new File(path);\n        JAXBContext context = JAXBContext.newInstance(&quot;generated&quot;);\n        Unmarshaller unmarshaller = context.createUnmarshaller();\n        InvoiceList invoiceList = (InvoiceList) JAXBIntrospector.getValue(\n                unmarshaller.unmarshal(f));\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>Exception in thread &quot;main&quot; jakarta.xml.bind.UnmarshalException: \nunexpected element (URI:&quot;my.namespace/Invoices&quot;, lokal:&quot;invoice-list&quot;). Expected elements are (none)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:693)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:230)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportError(Loader.java:225)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:92)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1098)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:527)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:509)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:137)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3079)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:836)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:218)\n    at org.glassfish.jaxb.runtime.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:189)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:146)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:188)\n    at jakarta.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:172)\n    at Aufgabe4.&lt;init&gt;(Aufgabe4.java:23)\n    at Aufgabe4.main(Aufgabe4.java:15)\n\nProcess finished with exit code 1\n</code></pre>\n<p>XSD: <a href=\"https://pastebin.com/vPkqH75k\" rel=\"nofollow noreferrer\">https://pastebin.com/vPkqH75k</a>\nXML: <a href=\"https://pastebin.com/hiR3cjsy\" rel=\"nofollow noreferrer\">https://pastebin.com/hiR3cjsy</a></p>\n<p>It would be nice, to get this fixed.</p>\n"},{"tags":["java","javafx","scroll","tabs","horizontal-scrolling"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679673634,"post_id":75835771,"comment_id":133768867,"body_markdown":"You could decorate the `EventDispatcher` of the `TabPane` to modify (or at least copy-and-modify) any `ScrollEvent` and negate its `deltaY`. All other exceptions you would just forward to the real `EventDispatcher` without modification.","body":"You could decorate the <code>EventDispatcher</code> of the <code>TabPane</code> to modify (or at least copy-and-modify) any <code>ScrollEvent</code> and negate its <code>deltaY</code>. All other exceptions you would just forward to the real <code>EventDispatcher</code> without modification."}],"answers":[{"tags":[],"owner":{"account_id":19711554,"reputation":11,"user_id":14431964,"display_name":"Oğuzhan Topaloğlu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679676457,"creation_date":1679676339,"answer_id":75836288,"question_id":75835771,"body_markdown":"I fixed it by doing this: (I followed Slaw&#39;s suggestion)\r\n\r\n\r\n```\r\npublic static void reverseTabPaneScrollingDirection(TabPane tabPane) {\r\n    EventDispatcher originalDispatcher = tabPane.getEventDispatcher();\r\n    tabPane.setEventDispatcher(new EventDispatcher() {\r\n        @Override\r\n        public Event dispatchEvent(Event event, EventDispatchChain tail) {\r\n            if (event instanceof ScrollEvent) {\r\n                ScrollEvent e = (ScrollEvent) event;\r\n                ScrollEvent reversedEvent = new ScrollEvent(\r\n                        e.getEventType(), e.getX(), e.getY(), e.getScreenX(),\r\n                        e.getScreenY(), e.isShiftDown(), e.isControlDown(), e.isAltDown(),\r\n                        e.isMetaDown(), e.isDirect(), e.isInertia(), e.getDeltaX(),\r\n                        -e.getDeltaY(), // reverse it\r\n                        e.getTotalDeltaX(),\r\n                        -e.getTotalDeltaY(), // reverse it\r\n                        e.getMultiplierX(), e.getMultiplierY(), e.getTextDeltaXUnits(),\r\n                        e.getTextDeltaX(), e.getTextDeltaYUnits(), e.getTextDeltaY(),\r\n                        e.getTouchCount(), e.getPickResult()\r\n                );\r\n\r\n                return originalDispatcher.dispatchEvent(reversedEvent, tail);\r\n            }\r\n\r\n            return originalDispatcher.dispatchEvent(event, tail);\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI would like to see your opinions about my solution. :)\r\nIt was also my first time using EventDispatchers directly so I would like to know if I did something wrong. It seems to be functioning well but doesn&#39;t hurt to ask :)","title":"Javafx Tabpane - Reversing the scrolling direction","body":"<p>I fixed it by doing this: (I followed Slaw's suggestion)</p>\n<pre><code>public static void reverseTabPaneScrollingDirection(TabPane tabPane) {\n    EventDispatcher originalDispatcher = tabPane.getEventDispatcher();\n    tabPane.setEventDispatcher(new EventDispatcher() {\n        @Override\n        public Event dispatchEvent(Event event, EventDispatchChain tail) {\n            if (event instanceof ScrollEvent) {\n                ScrollEvent e = (ScrollEvent) event;\n                ScrollEvent reversedEvent = new ScrollEvent(\n                        e.getEventType(), e.getX(), e.getY(), e.getScreenX(),\n                        e.getScreenY(), e.isShiftDown(), e.isControlDown(), e.isAltDown(),\n                        e.isMetaDown(), e.isDirect(), e.isInertia(), e.getDeltaX(),\n                        -e.getDeltaY(), // reverse it\n                        e.getTotalDeltaX(),\n                        -e.getTotalDeltaY(), // reverse it\n                        e.getMultiplierX(), e.getMultiplierY(), e.getTextDeltaXUnits(),\n                        e.getTextDeltaX(), e.getTextDeltaYUnits(), e.getTextDeltaY(),\n                        e.getTouchCount(), e.getPickResult()\n                );\n\n                return originalDispatcher.dispatchEvent(reversedEvent, tail);\n            }\n\n            return originalDispatcher.dispatchEvent(event, tail);\n        }\n    });\n}\n</code></pre>\n<p>I would like to see your opinions about my solution. :)\nIt was also my first time using EventDispatchers directly so I would like to know if I did something wrong. It seems to be functioning well but doesn't hurt to ask :)</p>\n"}],"owner":{"account_id":19711554,"reputation":11,"user_id":14431964,"display_name":"Oğuzhan Topaloğlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75836288,"answer_count":1,"score":0,"last_activity_date":1679676457,"creation_date":1679673232,"question_id":75835771,"body_markdown":"it&#39;s my first time asking a question so I will try to do my best.\r\n\r\nIn my javafx application, I have a tabpane and I want to reverse the scrolling direction of this tabpane. Currently, when I scroll up it goes to the left and when I scroll down it goes to the right. I want this to be reversed.\r\n\r\nI tried messing with the TabPaneSkin class but I couldn&#39;t do it.\r\n\r\nIt seems like this piece of code from TabPaneSkin.java is setting up this behaviour:\r\n```\r\n// support for mouse scroll of header area (for when the tabs exceed\r\n// the available space).\r\n// Scrolling the mouse wheel downwards results in the tabs scrolling left (i.e. exposing the right-most tabs)\r\n// Scrolling the mouse wheel upwards results in the tabs scrolling right (i.e. exposing th left-most tabs)\r\naddEventHandler(ScrollEvent.SCROLL, (ScrollEvent e) -&gt; {\r\n    Side side = getSkinnable().getSide();\r\n    side = side == null ? Side.TOP : side;\r\n    switch (side) {\r\n            default:\r\n            case TOP:\r\n            case BOTTOM:\r\n                 setScrollOffset(scrollOffset + e.getDeltaY());\r\n                 break;\r\n            case LEFT:\r\n            case RIGHT:\r\n                setScrollOffset(scrollOffset - e.getDeltaY());\r\n                break;\r\n    }\r\n});\r\n```\r\n\r\n\r\nIt&#39;s kinda obvious that we need to change the + and minus signs there but how exactly? It looks like there&#39;s no way to reach to method (it&#39;s inside a TabPaneHeader instance and that instance is private with to getter method).\r\n\r\nAny ideas about doing this?\r\nThanks.","title":"Javafx Tabpane - Reversing the scrolling direction","body":"<p>it's my first time asking a question so I will try to do my best.</p>\n<p>In my javafx application, I have a tabpane and I want to reverse the scrolling direction of this tabpane. Currently, when I scroll up it goes to the left and when I scroll down it goes to the right. I want this to be reversed.</p>\n<p>I tried messing with the TabPaneSkin class but I couldn't do it.</p>\n<p>It seems like this piece of code from TabPaneSkin.java is setting up this behaviour:</p>\n<pre><code>// support for mouse scroll of header area (for when the tabs exceed\n// the available space).\n// Scrolling the mouse wheel downwards results in the tabs scrolling left (i.e. exposing the right-most tabs)\n// Scrolling the mouse wheel upwards results in the tabs scrolling right (i.e. exposing th left-most tabs)\naddEventHandler(ScrollEvent.SCROLL, (ScrollEvent e) -&gt; {\n    Side side = getSkinnable().getSide();\n    side = side == null ? Side.TOP : side;\n    switch (side) {\n            default:\n            case TOP:\n            case BOTTOM:\n                 setScrollOffset(scrollOffset + e.getDeltaY());\n                 break;\n            case LEFT:\n            case RIGHT:\n                setScrollOffset(scrollOffset - e.getDeltaY());\n                break;\n    }\n});\n</code></pre>\n<p>It's kinda obvious that we need to change the + and minus signs there but how exactly? It looks like there's no way to reach to method (it's inside a TabPaneHeader instance and that instance is private with to getter method).</p>\n<p>Any ideas about doing this?\nThanks.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":2,"creation_date":1679676565,"post_id":75836130,"comment_id":133769643,"body_markdown":"Does the return have to be an array? or is a list acceptable","body":"Does the return have to be an array? or is a list acceptable"}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679676017,"creation_date":1679676017,"answer_id":75836238,"question_id":75836130,"body_markdown":"    public static int[] overGivenMinutes(int minThres, int arrayValues[]){\r\n        int tmp[] = new int[arrayValues.length];\r\n        int j = 0;\r\n        for (int i = 0; i &lt; arrayValues.length; i++){\r\n            int minutes = arrayValues[i] / 60;\r\n            if (minutes &gt; minThres){\r\n                tmp[j++] = arrayValues[i];\r\n            }\r\n        }\r\n        int greaterThanThres[] = new int[j];\r\n        System.arrayCopy(tmp,0,greaterThanThres,0,j);\r\n        return greaterThanThres;\r\n    }","title":"Transferring elements from one array to another array","body":"<pre><code>public static int[] overGivenMinutes(int minThres, int arrayValues[]){\n    int tmp[] = new int[arrayValues.length];\n    int j = 0;\n    for (int i = 0; i &lt; arrayValues.length; i++){\n        int minutes = arrayValues[i] / 60;\n        if (minutes &gt; minThres){\n            tmp[j++] = arrayValues[i];\n        }\n    }\n    int greaterThanThres[] = new int[j];\n    System.arrayCopy(tmp,0,greaterThanThres,0,j);\n    return greaterThanThres;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12712205,"reputation":1604,"user_id":9235482,"display_name":"Lakshitha Wisumperuma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679676100,"creation_date":1679676100,"answer_id":75836254,"question_id":75836130,"body_markdown":"You are defining the array length at the start. So you are left with empty values. What you can do is use an implementation of `java.util.List` such as `ArrayList`.\r\n\r\n    ArrayList&lt;Integer&gt; greaterThanThres = new ArrayList&lt;Integer&gt;();\r\n\r\nWhen you want to add an element, just push it to the list.\r\n\r\n    greaterThanThres.add(arrayValues[i]);\r\n\r\nThis is one alternative. Or you can simply loop through your array again in the end and clean it up according to your condition.","title":"Transferring elements from one array to another array","body":"<p>You are defining the array length at the start. So you are left with empty values. What you can do is use an implementation of <code>java.util.List</code> such as <code>ArrayList</code>.</p>\n<pre><code>ArrayList&lt;Integer&gt; greaterThanThres = new ArrayList&lt;Integer&gt;();\n</code></pre>\n<p>When you want to add an element, just push it to the list.</p>\n<pre><code>greaterThanThres.add(arrayValues[i]);\n</code></pre>\n<p>This is one alternative. Or you can simply loop through your array again in the end and clean it up according to your condition.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299838,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679676285,"creation_date":1679676285,"answer_id":75836280,"question_id":75836130,"body_markdown":"[Bill Mair&#39;s answer](https://stackoverflow.com/a/75836238/2422776) has the right idea - you need to return a smaller array without &quot;dangling&quot; elements. However, it may be easier to achieve this by streaming and filtering the array and then collecting it to an array than by creating a new array and then returning a partial copy of it:\r\n\r\n    public static int[] overGivenMinutes(int minThres, int[] arrayValues){\r\n        return Arrays.stream(arrayValues).filter(i -&gt; i / 60 &gt; minThres).toArray();\r\n    }\r\n","title":"Transferring elements from one array to another array","body":"<p><a href=\"https://stackoverflow.com/a/75836238/2422776\">Bill Mair's answer</a> has the right idea - you need to return a smaller array without &quot;dangling&quot; elements. However, it may be easier to achieve this by streaming and filtering the array and then collecting it to an array than by creating a new array and then returning a partial copy of it:</p>\n<pre><code>public static int[] overGivenMinutes(int minThres, int[] arrayValues){\n    return Arrays.stream(arrayValues).filter(i -&gt; i / 60 &gt; minThres).toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":28116113,"reputation":33,"user_id":21483200,"display_name":"GrasshopperAtBest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75836238,"answer_count":3,"score":1,"last_activity_date":1679676435,"creation_date":1679675354,"question_id":75836130,"body_markdown":"I&#39;m trying to create an array of values that are greater than a certain threshold entered by the user, so I&#39;m transferring one array of total seconds and keeping the values that are greater than the threshold. I can transfer the values I need appropriately, but I can&#39;t seem to print the results without it also printing the ending elements that contain no values.\r\n\r\nBelow is the code I&#39;ve written:\r\n\r\n    public static int[] overGivenMinutes(int minThres, int arrayValues[]) {\r\n        int[] greaterThanThres = new int[arrayValues.length];\r\n        int j = 0;\r\n        for (int i = 0; i &lt; arrayValues.length; i++) {\r\n            int minutes = arrayValues[i] / 60;\r\n            if (minutes &gt; minThres) {\r\n                greaterThanThres[j++] = arrayValues[i];\r\n            }\r\n        }\r\n        return greaterThanThres;\r\n    }\r\n\r\nWhen the user enters the 30 min mark, it prints:\r\n\r\n    Time[00] = 56:38\r\n    Time[01] = 34:27\r\n    Time[02] = 51:04\r\n    Time[03] = 40:07\r\n    Time[04] = 43:34\r\n    Time[05] = 00:00\r\n    Time[06] = 00:00\r\n    Time[07] = 00:00\r\n    Time[08] = 00:00\r\n    Time[09] = 00:00\r\n\r\nI&#39;m trying to figure out what I need to do to remove the elements 5-9 since they are empty, and I cannot figure out how to. Any help is very much appreciated.","title":"Transferring elements from one array to another array","body":"<p>I'm trying to create an array of values that are greater than a certain threshold entered by the user, so I'm transferring one array of total seconds and keeping the values that are greater than the threshold. I can transfer the values I need appropriately, but I can't seem to print the results without it also printing the ending elements that contain no values.</p>\n<p>Below is the code I've written:</p>\n<pre><code>public static int[] overGivenMinutes(int minThres, int arrayValues[]) {\n    int[] greaterThanThres = new int[arrayValues.length];\n    int j = 0;\n    for (int i = 0; i &lt; arrayValues.length; i++) {\n        int minutes = arrayValues[i] / 60;\n        if (minutes &gt; minThres) {\n            greaterThanThres[j++] = arrayValues[i];\n        }\n    }\n    return greaterThanThres;\n}\n</code></pre>\n<p>When the user enters the 30 min mark, it prints:</p>\n<pre><code>Time[00] = 56:38\nTime[01] = 34:27\nTime[02] = 51:04\nTime[03] = 40:07\nTime[04] = 43:34\nTime[05] = 00:00\nTime[06] = 00:00\nTime[07] = 00:00\nTime[08] = 00:00\nTime[09] = 00:00\n</code></pre>\n<p>I'm trying to figure out what I need to do to remove the elements 5-9 since they are empty, and I cannot figure out how to. Any help is very much appreciated.</p>\n"},{"tags":["java","ms-access","urlconnection"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1679679509,"post_id":75836164,"comment_id":133770347,"body_markdown":"Use the [UCanAccess JDBC Driver](https://sourceforge.net/projects/ucanaccess/).","body":"Use the <a href=\"https://sourceforge.net/projects/ucanaccess/\" rel=\"nofollow noreferrer\">UCanAccess JDBC Driver</a>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679676165,"creation_date":1679676165,"answer_id":75836265,"question_id":75836164,"body_markdown":"That error means that the URL you give to the JDBC driver is incorrect.  I don&#39;t know where you got that URL you&#39;re supplying.\r\n\r\nYour more serious problem might be the driver itself.  \r\n\r\nOlder JDKs used to have a built-in [JDBC-ODBC bridge driver][1] that could connect to MS Access, but it&#39;s been removed from the JDK since version 8.\r\n\r\n[Here][2] is a URL that shows you how to do it with an open source ucanaccess JDBC driver.\r\n\r\n\r\n  [1]: https://support.migration-center.com/hc/en-us/articles/360012716534-How-to-enable-JDBC-ODBC-bridge-for-Java-8-\r\n  [2]: https://www.codejava.net/java-se/jdbc/java-jdbc-example-connect-to-microsoft-access-database","title":"No Suitable Driver Found using JDBC","body":"<p>That error means that the URL you give to the JDBC driver is incorrect.  I don't know where you got that URL you're supplying.</p>\n<p>Your more serious problem might be the driver itself.</p>\n<p>Older JDKs used to have a built-in <a href=\"https://support.migration-center.com/hc/en-us/articles/360012716534-How-to-enable-JDBC-ODBC-bridge-for-Java-8-\" rel=\"nofollow noreferrer\">JDBC-ODBC bridge driver</a> that could connect to MS Access, but it's been removed from the JDK since version 8.</p>\n<p><a href=\"https://www.codejava.net/java-se/jdbc/java-jdbc-example-connect-to-microsoft-access-database\" rel=\"nofollow noreferrer\">Here</a> is a URL that shows you how to do it with an open source ucanaccess JDBC driver.</p>\n"}],"owner":{"account_id":25156743,"reputation":9,"user_id":19001485,"display_name":"Sid Meka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679676165,"creation_date":1679675518,"question_id":75836164,"body_markdown":"So, I&#39;m having the following issue: there is no suitable driver found for `jdbc://C:/Users/Billy Bob Jones/Documents/My20Y1P2023.accdb` . I am using spaces in my name. So, the error I am getting is: \r\n\r\n\r\n```\r\njava.sql.SQLException: No suitable driver found for jdbc://C:/Users/Billy Bob Jones/Documents/My20Y1P2023.accdb\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\r\n\tat Ex20_1_2023.main(Ex20_1_2023.java:16)\r\n```\r\n\r\nNote that Billy Bob Jones is not the real name I am using on my computer. Those are merely placeholder names that I am using in order to post this. \r\n\r\nDoes anyone know how to fix this issue? I am thinking the issue stems from me having spaces in my name.\r\n\r\nThank You!\r\n\r\n\r\nI already tried using a `%20` , a backslash followed by a space, and two backslashes followed by a space, but nothing really worked alongside that.","title":"No Suitable Driver Found using JDBC","body":"<p>So, I'm having the following issue: there is no suitable driver found for <code>jdbc://C:/Users/Billy Bob Jones/Documents/My20Y1P2023.accdb</code> . I am using spaces in my name. So, the error I am getting is:</p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc://C:/Users/Billy Bob Jones/Documents/My20Y1P2023.accdb\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)\n    at Ex20_1_2023.main(Ex20_1_2023.java:16)\n</code></pre>\n<p>Note that Billy Bob Jones is not the real name I am using on my computer. Those are merely placeholder names that I am using in order to post this.</p>\n<p>Does anyone know how to fix this issue? I am thinking the issue stems from me having spaces in my name.</p>\n<p>Thank You!</p>\n<p>I already tried using a <code>%20</code> , a backslash followed by a space, and two backslashes followed by a space, but nothing really worked alongside that.</p>\n"},{"tags":["java","sockets","scale"],"owner":{"account_id":17183635,"reputation":1,"user_id":12438675,"display_name":"Thiago Barros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679675508,"creation_date":1679675508,"question_id":75836162,"body_markdown":"Anybody knows how I can get the data from a serial port COM1 using java? \r\n\r\nThe data is from a Toledo Scale, and I need to get the weigh value on real time.\r\n\r\nMy project is inside on Netweaver and I only get to make working when I use the java code this way below.\r\n\r\n\r\n```\r\n&lt;%@ page import=&quot;java.io.*&quot; %&gt;\r\n&lt;%@ page import=&quot;java.net.*&quot; %&gt;\r\n&lt;HTML&gt;\r\n    &lt;HEAD&gt;\r\n        &lt;TITLE&gt;Print Label&lt;/TITLE&gt;\r\n    &lt;/HEAD&gt;\r\n    &lt;BODY&gt;\r\n        &lt;H1&gt;Print Label Log&lt;/H1&gt;\r\n&lt;% \r\ntry\r\n{\r\n    Socket clientSocket=new Socket(request.getParameter(&quot;ipAddress&quot;), Integer.parseInt(request.getParameter(&quot;portNumber&quot;)));\r\n\tDataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\r\n\r\n\toutToServer.writeBytes(request.getParameter(&quot;zplCode&quot;));\r\n\tclientSocket.close();\r\n\tout.println(&quot;&lt;P&gt;[PRINT_SUCCESS]&lt;/P&gt;&quot;);\r\n}\r\ncatch (Exception ex)\r\n{\r\n\tout.println(&quot;&lt;P&gt;Erro: &quot; + ex.toString() + &quot;&lt;/P&gt;&quot;);\r\n}\r\n%&gt;\r\n    &lt;/BODY&gt;\r\n&lt;/HTML&gt;\r\n\r\n```\r\n\r\n\r\nThe example below is to send a ZPL code to a printer by IP and Port, I believe should be something similar to this, but I don&#39;t know Java programming.\r\n\r\nAnybody knows how I could do that, please?\r\n\r\nThanks in advance!\r\n\r\nI already tried to change the java code above, but I can&#39;t to make work it.","title":"Java programming to read a serial port COM1 to get the Scale data from Toledo system","body":"<p>Anybody knows how I can get the data from a serial port COM1 using java?</p>\n<p>The data is from a Toledo Scale, and I need to get the weigh value on real time.</p>\n<p>My project is inside on Netweaver and I only get to make working when I use the java code this way below.</p>\n<pre><code>&lt;%@ page import=&quot;java.io.*&quot; %&gt;\n&lt;%@ page import=&quot;java.net.*&quot; %&gt;\n&lt;HTML&gt;\n    &lt;HEAD&gt;\n        &lt;TITLE&gt;Print Label&lt;/TITLE&gt;\n    &lt;/HEAD&gt;\n    &lt;BODY&gt;\n        &lt;H1&gt;Print Label Log&lt;/H1&gt;\n&lt;% \ntry\n{\n    Socket clientSocket=new Socket(request.getParameter(&quot;ipAddress&quot;), Integer.parseInt(request.getParameter(&quot;portNumber&quot;)));\n    DataOutputStream outToServer = new DataOutputStream(clientSocket.getOutputStream());\n\n    outToServer.writeBytes(request.getParameter(&quot;zplCode&quot;));\n    clientSocket.close();\n    out.println(&quot;&lt;P&gt;[PRINT_SUCCESS]&lt;/P&gt;&quot;);\n}\ncatch (Exception ex)\n{\n    out.println(&quot;&lt;P&gt;Erro: &quot; + ex.toString() + &quot;&lt;/P&gt;&quot;);\n}\n%&gt;\n    &lt;/BODY&gt;\n&lt;/HTML&gt;\n\n</code></pre>\n<p>The example below is to send a ZPL code to a printer by IP and Port, I believe should be something similar to this, but I don't know Java programming.</p>\n<p>Anybody knows how I could do that, please?</p>\n<p>Thanks in advance!</p>\n<p>I already tried to change the java code above, but I can't to make work it.</p>\n"},{"tags":["java","docusignapi"],"answers":[{"tags":[],"owner":{"account_id":3941825,"reputation":12902,"user_id":3255871,"display_name":"Inbar Gazit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679674868,"creation_date":1679674868,"answer_id":75836043,"question_id":75834766,"body_markdown":"For JWT the quickstart shows a console app\r\nFor Auth Code Grant - the quickstart shows a web app\r\nThere&#39;s no problem using JWT with web app, for that I would pick the big/full quickstart (right-most) which is a web app including both auth types and all code examples.\r\n\r\nIf you don&#39;t want to do this, you&#39;ll have to still have a web app and use the code you downloaded.\r\n\r\nThe relevant code inside [JWTConsoleApp.java][1] to do what you want is:\r\n\r\n\r\n    // Send envelope\r\n    apiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n    EnvelopesApi envelopesApi = new EnvelopesApi(apiClient);\r\n    EnvelopeSummary results = envelopesApi.createEnvelope(accountId, envelope);\r\n    System.out.println(&quot;Successfully sent envelope with envelopeId &quot; + results.getEnvelopeId());\r\n\r\n\r\n  [1]: https://github.com/docusign/code-examples-java/blob/master/JWT%20Console%20App/src/main/java/com/docusign/JWTConsoleApp.java","title":"How to give inputs in JWT Console App from tomcat?","body":"<p>For JWT the quickstart shows a console app\nFor Auth Code Grant - the quickstart shows a web app\nThere's no problem using JWT with web app, for that I would pick the big/full quickstart (right-most) which is a web app including both auth types and all code examples.</p>\n<p>If you don't want to do this, you'll have to still have a web app and use the code you downloaded.</p>\n<p>The relevant code inside <a href=\"https://github.com/docusign/code-examples-java/blob/master/JWT%20Console%20App/src/main/java/com/docusign/JWTConsoleApp.java\" rel=\"nofollow noreferrer\">JWTConsoleApp.java</a> to do what you want is:</p>\n<pre><code>// Send envelope\napiClient.addDefaultHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\nEnvelopesApi envelopesApi = new EnvelopesApi(apiClient);\nEnvelopeSummary results = envelopesApi.createEnvelope(accountId, envelope);\nSystem.out.println(&quot;Successfully sent envelope with envelopeId &quot; + results.getEnvelopeId());\n</code></pre>\n"}],"owner":{"account_id":27862690,"reputation":11,"user_id":21274859,"display_name":"LMi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679674868,"creation_date":1679667436,"question_id":75834766,"body_markdown":"i downloaded JWT Console App from code-example-java.\r\n\r\nIt works well when i give the inputs from the console, but I want to be able to give these inputs of (signerName, signerEmail, ccName, ccEmail) from localhost(tomcat).\r\n\r\nHow can I do this?\r\n\r\nPs: I need to be able to send for signing a document from my java web app, thats why I tried with JWT api.\r\n\r\n\r\n\r\n","title":"How to give inputs in JWT Console App from tomcat?","body":"<p>i downloaded JWT Console App from code-example-java.</p>\n<p>It works well when i give the inputs from the console, but I want to be able to give these inputs of (signerName, signerEmail, ccName, ccEmail) from localhost(tomcat).</p>\n<p>How can I do this?</p>\n<p>Ps: I need to be able to send for signing a document from my java web app, thats why I tried with JWT api.</p>\n"},{"tags":["java","mysql","date","timestamp","datetime-format"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679564200,"post_id":75820141,"comment_id":133745229,"body_markdown":"Retrieve into an `OffsetDateTime`. See for example [this good answer by Arvind Kumar Avinash](https://stackoverflow.com/a/67505173/5772882) (the question is about the opposite problem, but the answer does cover both. Since a MySQL `timestamp` is always in UTC, `OffsetDateTime` should be the right class to use in Java, but you may have to experiment a little.","body":"Retrieve into an <code>OffsetDateTime</code>. See for example <a href=\"https://stackoverflow.com/a/67505173/5772882\">this good answer by Arvind Kumar Avinash</a> (the question is about the opposite problem, but the answer does cover both. Since a MySQL <code>timestamp</code> is always in UTC, <code>OffsetDateTime</code> should be the right class to use in Java, but you may have to experiment a little."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679574465,"post_id":75820141,"comment_id":133747850,"body_markdown":"*when I get the value to date type variable using java and I get value as 2023-02-14 10:02.* That shouldn&#39;t be happening. `java.sql.Date` shouldn&#39;t even give you *any* time. `rs.getTimestamp(0).toLocalDateTime()` is the sort of thing you need","body":"<i>when I get the value to date type variable using java and I get value as 2023-02-14 10:02.</i> That shouldn&#39;t be happening. <code>java.sql.Date</code> shouldn&#39;t even give you <i>any</i> time. <code>rs.getTimestamp(0).toLocalDateTime()</code> is the sort of thing you need"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679593677,"post_id":75820141,"comment_id":133753598,"body_markdown":"@g00se That’s an improvement. It’s still better to avoid the `Timestamp` class completely: `rs.getObject(0, LocalDateTime.class)` (assuming JDBC 4.2 or later).","body":"@g00se That’s an improvement. It’s still better to avoid the <code>Timestamp</code> class completely: <code>rs.getObject(0, LocalDateTime.class)</code> (assuming JDBC 4.2 or later)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679594415,"post_id":75820141,"comment_id":133753769,"body_markdown":"@OleV.V. Oh yes, I forgot, thanks.","body":"@OleV.V. Oh yes, I forgot, thanks."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1679641248,"post_id":75820141,"comment_id":133760786,"body_markdown":"@OleV.V. Your second comment using `LocalDateTime` contradicts your first comment using `OffsetDateTime`. (the first comment being the correct usage)","body":"@OleV.V. Your second comment using <code>LocalDateTime</code> contradicts your first comment using <code>OffsetDateTime</code>. (the first comment being the correct usage)"}],"answers":[{"tags":[],"owner":{"account_id":2361089,"reputation":34497,"user_id":2067753,"display_name":"Adrian Maxwell"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1679642363,"creation_date":1679556963,"answer_id":75820248,"question_id":75820141,"body_markdown":"You most probably need to include the timestamp class which allows the JDBC API to identify a java.util.Date object as an SQL TIMESTAMP value. Here we set a timestamp value to include fractional seconds and display this:\r\n\r\n    // old classes and approach in use here, read on for more \r\n    import java.sql.Timestamp;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class TimestampExample {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String timestampStr = &quot;2023-02-14 10:02:26.123&quot;;\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\r\n                Timestamp loginTime = new Timestamp(dateFormat.parse(timestampStr).getTime());\r\n                System.out.println(&quot;loginTime: &quot; + loginTime);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAdded: Here is an alternative using Java.time (see comments under answer)\r\n\r\n    // don&#39;t use this approach if the source data has embedded time zone information \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class TimestampExample {\r\n        public static void main(String[] args) {\r\n            try {\r\n                String timestampStr = &quot;2023-02-14 10:02:26.123&quot;;\r\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n                LocalDateTime loginTime = LocalDateTime.parse(timestampStr, formatter);\r\n                System.out.println(&quot;loginTime: &quot; + loginTime);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nThere was never an intent to focus on handling date/time information as text, the snippets above were simply designed to easily visualize sub-second precision. Based on the rolling wave of advice from the comments I&#39;ll presume that something along the following lines will more correctly handle a MySQL &quot;timestamp&quot;.\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    import java.time.OffsetDateTime;\r\n    \r\n    public class TimestampExample {\r\n        public static void main(String[] args) {\r\n            try {\r\n                // Assume the connection has been established\r\n\r\n                Statement stmt = conn.createStatement();\r\n                ResultSet rs = stmt.executeQuery(&quot;SELECT login_time FROM users WHERE id = 1&quot;);\r\n    \r\n                if (rs.next()) {\r\n                    OffsetDateTime loginTime = rs.getObject(&quot;login_time&quot;, OffsetDateTime.class);\r\n                    System.out.println(&quot;loginTime: &quot; + loginTime);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n*this variant is untested*","title":"Get the Timestamp value from database as same as it is using java","body":"<p>You most probably need to include the timestamp class which allows the JDBC API to identify a java.util.Date object as an SQL TIMESTAMP value. Here we set a timestamp value to include fractional seconds and display this:</p>\n<pre><code>// old classes and approach in use here, read on for more \nimport java.sql.Timestamp;\nimport java.text.SimpleDateFormat;\n\npublic class TimestampExample {\n    public static void main(String[] args) {\n        try {\n            String timestampStr = &quot;2023-02-14 10:02:26.123&quot;;\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss.SSS&quot;);\n            Timestamp loginTime = new Timestamp(dateFormat.parse(timestampStr).getTime());\n            System.out.println(&quot;loginTime: &quot; + loginTime);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Added: Here is an alternative using Java.time (see comments under answer)</p>\n<pre><code>// don't use this approach if the source data has embedded time zone information \nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class TimestampExample {\n    public static void main(String[] args) {\n        try {\n            String timestampStr = &quot;2023-02-14 10:02:26.123&quot;;\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\n            LocalDateTime loginTime = LocalDateTime.parse(timestampStr, formatter);\n            System.out.println(&quot;loginTime: &quot; + loginTime);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>There was never an intent to focus on handling date/time information as text, the snippets above were simply designed to easily visualize sub-second precision. Based on the rolling wave of advice from the comments I'll presume that something along the following lines will more correctly handle a MySQL &quot;timestamp&quot;.</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport java.time.OffsetDateTime;\n\npublic class TimestampExample {\n    public static void main(String[] args) {\n        try {\n            // Assume the connection has been established\n\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;SELECT login_time FROM users WHERE id = 1&quot;);\n\n            if (rs.next()) {\n                OffsetDateTime loginTime = rs.getObject(&quot;login_time&quot;, OffsetDateTime.class);\n                System.out.println(&quot;loginTime: &quot; + loginTime);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><em>this variant is untested</em></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679674554,"creation_date":1679638955,"answer_id":75830568,"question_id":75820141,"body_markdown":"# tl;dr\r\n\r\nCorrect modern solution:\r\n\r\n    myResultSet.getObject( … , OffsetDateTime.class )  // Returns an `java.time.OffsetDateTime` object.\r\n\r\nYou said:\r\n\r\n&gt;column named loginTime and its type is timestamp. Its value is 2023-02-14 10:02:26.\r\n\r\n**No, you are incorrect.** The `TIMESTAMP` type represents a date with time-of-day as seen in UTC. Your reported value lacks the indication of an offset from UTC of zero, which is vital info.\r\n\r\n# Details\r\n\r\nThe [accepted Answer][1] is ill-advised in three ways:\r\n\r\n - The first part uses terribly flawed legacy date-time classes that were years ago supplanted by the modern *java.time* classes defined in [JSR 310][2]. \r\n - The second part employs the [`LocalDateTime`][3] class. `LocalDateTime` is the wrong class to use here. The `TIMESTAMP` data type in MySQL is a date with time as seen in UTC. The `LocalDateTime` lacks any concept of [offset][4], so that solution tragically discards valuable information. Note earlier [Comment by Ole V.V.][5]\r\n - Both parts focus on parsing text retrieved from the database. Instead, date-time column values should be retrieved into date-time types in Java. No need to resort to text. \r\n\r\nFirst step is to read [the documentation](https://dev.mysql.com/doc/refman/8.0/en/datetime.html) for the `TIMESTAMP` data type in MySQL 8.0. To quote:\r\n\r\n&gt;The TIMESTAMP data type is used for values that contain both date and time parts. TIMESTAMP has a range of &#39;1970-01-01 00:00:01&#39; UTC to &#39;2038-01-19 03:14:07&#39; UTC.\r\n\r\nThose mentions of [“UTC”][6] are vital. That term is an abbreviation meaning “with an offset from the temporal meridian of UTC of zero hours-minutes-seconds”. \r\n\r\nIn [the SQL Standard][7], this type is equivalent to `TIMESTAMP WITH TIME ZONE` (where the Standard authors incorrectly used the term “time zone” where they meant “offset”). \r\n\r\n## `java.time.OffsetDateTime`\r\n\r\nSo the appropriate Java type mapped to such a column in the [JDBC][8] 4.2+ specification is [`OffsetDateTime`][9]. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nTo write such a value to the database, pass your `OffsetDateTime` object to `PreparedStatement#setObject`. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75820248/642706\r\n  [2]: https://jcp.org/en/jsr/detail?id=310\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [5]: https://stackoverflow.com/questions/75820141/get-the-timestamp-value-from-database-as-same-as-it-is-using-java/75830568#comment133745229_75820141\r\n  [6]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [7]: https://en.wikipedia.org/wiki/SQL#Standardization_history\r\n  [8]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html","title":"Get the Timestamp value from database as same as it is using java","body":"<h1>tl;dr</h1>\n<p>Correct modern solution:</p>\n<pre><code>myResultSet.getObject( … , OffsetDateTime.class )  // Returns an `java.time.OffsetDateTime` object.\n</code></pre>\n<p>You said:</p>\n<blockquote>\n<p>column named loginTime and its type is timestamp. Its value is 2023-02-14 10:02:26.</p>\n</blockquote>\n<p><strong>No, you are incorrect.</strong> The <code>TIMESTAMP</code> type represents a date with time-of-day as seen in UTC. Your reported value lacks the indication of an offset from UTC of zero, which is vital info.</p>\n<h1>Details</h1>\n<p>The <a href=\"https://stackoverflow.com/a/75820248/642706\">accepted Answer</a> is ill-advised in three ways:</p>\n<ul>\n<li>The first part uses terribly flawed legacy date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</li>\n<li>The second part employs the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> class. <code>LocalDateTime</code> is the wrong class to use here. The <code>TIMESTAMP</code> data type in MySQL is a date with time as seen in UTC. The <code>LocalDateTime</code> lacks any concept of <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset</a>, so that solution tragically discards valuable information. Note earlier <a href=\"https://stackoverflow.com/questions/75820141/get-the-timestamp-value-from-database-as-same-as-it-is-using-java/75830568#comment133745229_75820141\">Comment by Ole V.V.</a></li>\n<li>Both parts focus on parsing text retrieved from the database. Instead, date-time column values should be retrieved into date-time types in Java. No need to resort to text.</li>\n</ul>\n<p>First step is to read <a href=\"https://dev.mysql.com/doc/refman/8.0/en/datetime.html\" rel=\"nofollow noreferrer\">the documentation</a> for the <code>TIMESTAMP</code> data type in MySQL 8.0. To quote:</p>\n<blockquote>\n<p>The TIMESTAMP data type is used for values that contain both date and time parts. TIMESTAMP has a range of '1970-01-01 00:00:01' UTC to '2038-01-19 03:14:07' UTC.</p>\n</blockquote>\n<p>Those mentions of <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">“UTC”</a> are vital. That term is an abbreviation meaning “with an offset from the temporal meridian of UTC of zero hours-minutes-seconds”.</p>\n<p>In <a href=\"https://en.wikipedia.org/wiki/SQL#Standardization_history\" rel=\"nofollow noreferrer\">the SQL Standard</a>, this type is equivalent to <code>TIMESTAMP WITH TIME ZONE</code> (where the Standard authors incorrectly used the term “time zone” where they meant “offset”).</p>\n<h2><code>java.time.OffsetDateTime</code></h2>\n<p>So the appropriate Java type mapped to such a column in the <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a> 4.2+ specification is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>To write such a value to the database, pass your <code>OffsetDateTime</code> object to <code>PreparedStatement#setObject</code>.</p>\n"}],"owner":{"account_id":6703017,"reputation":595,"user_id":5168935,"display_name":"WCM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":592,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75820248,"answer_count":2,"score":0,"last_activity_date":1679674554,"creation_date":1679555961,"question_id":75820141,"body_markdown":"In a MySQL database table, there is column named ***loginTime*** and its type is ***timestamp***. Its value is ***2023-02-14 10:02:26***. \r\n\r\nwhen I get the value to date type variable using java and I get value as ***2023-02-14 10:02***. How can I get the date with seconds also. As same as the database. I tried but still unable to find solution. ","title":"Get the Timestamp value from database as same as it is using java","body":"<p>In a MySQL database table, there is column named <em><strong>loginTime</strong></em> and its type is <em><strong>timestamp</strong></em>. Its value is <em><strong>2023-02-14 10:02:26</strong></em>.</p>\n<p>when I get the value to date type variable using java and I get value as <em><strong>2023-02-14 10:02</strong></em>. How can I get the date with seconds also. As same as the database. I tried but still unable to find solution.</p>\n"},{"tags":["java","windows","jna","advapi32"],"comments":[{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1679673559,"post_id":75809170,"comment_id":133768849,"body_markdown":"Where did 33554432 come from?","body":"Where did 33554432 come from?"},{"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"score":0,"creation_date":1679772983,"post_id":75809170,"comment_id":133782021,"body_markdown":"I tried to extract the value of this constant from c++ code, but this doesn’t seem to work for me.","body":"I tried to extract the value of this constant from c++ code, but this doesn’t seem to work for me."},{"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1679795420,"post_id":75809170,"comment_id":133784382,"body_markdown":"It doesn&#39;t work because it&#39;s not relevant to the particular command you are using. The WinAPI is well documented on what you need to use.","body":"It doesn&#39;t work because it&#39;s not relevant to the particular command you are using. The WinAPI is well documented on what you need to use."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679674425,"creation_date":1679674425,"answer_id":75835979,"question_id":75809170,"body_markdown":"You are\r\n&gt; Invoking some random windows command.\r\n\r\nAnd you need\r\n&gt; A required privilege is not held by the client\r\n\r\nThe Windows API generally tells you what privileges each command needs.\r\n\r\nI assume you found the value 33554432 in someone&#39;s code somewhere.  It&#39;s generally more readable if you use the appropriate constant corresponding to its meaning.  A decimal to hex converter tells me that&#39;s 0x2000000 which is [WSManFlagSkipRevocationCheck][1].  Define that constant and use it in your code ... if indeed that&#39;s the one you need.  But what you really need is shown by the docs for the command you are running:\r\n\r\nThe &quot;Random Command&quot; you chose is [`CreateProcessAsUser`][2] which tells you exactly how to handle this error:\r\n&gt; Typically, the process that calls the **CreateProcessAsUser** function must have the **SE_INCREASE_QUOTA_NAME** privilege and may require the **SE_ASSIGNPRIMARYTOKEN_NAME** privilege if the token is not assignable.\r\n\r\nSo your calling process doesn&#39;t have the right privileges. You need to enable those.  See [this answer](https://stackoverflow.com/questions/64195567/why-does-kernel32-openprocess-function-return-null/64196851#64196851) for how to enable a privelege on the current process using Java/JNA code (change the `SE_DEBUG_NAME` to the privilege you are requesting).\r\n\r\nFurther, the `CreateProcessAsUser` docs continue:\r\n&gt; If this function fails with **ERROR_PRIVILEGE_NOT_HELD** (1314), use the **CreateProcessWithLogonW** function instead. [CreateProcessWithLogonW][3] requires no special privileges, but the specified user account must be allowed to log on interactively. Generally, it is best to use **CreateProcessWithLogonW** to create a process with alternate credentials.\r\n\r\nRequiring no special privilege seems a better option for you to use than a &quot;Random windows command&quot; that needs other steps.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/winrm/authentication-constants\r\n  [2]: https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasuserw\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-createprocesswithlogonw","title":"Invoke process in windows by another user using primary token using JNA","body":"<p>You are</p>\n<blockquote>\n<p>Invoking some random windows command.</p>\n</blockquote>\n<p>And you need</p>\n<blockquote>\n<p>A required privilege is not held by the client</p>\n</blockquote>\n<p>The Windows API generally tells you what privileges each command needs.</p>\n<p>I assume you found the value 33554432 in someone's code somewhere.  It's generally more readable if you use the appropriate constant corresponding to its meaning.  A decimal to hex converter tells me that's 0x2000000 which is <a href=\"https://learn.microsoft.com/en-us/windows/win32/winrm/authentication-constants\" rel=\"nofollow noreferrer\">WSManFlagSkipRevocationCheck</a>.  Define that constant and use it in your code ... if indeed that's the one you need.  But what you really need is shown by the docs for the command you are running:</p>\n<p>The &quot;Random Command&quot; you chose is <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasuserw\" rel=\"nofollow noreferrer\"><code>CreateProcessAsUser</code></a> which tells you exactly how to handle this error:</p>\n<blockquote>\n<p>Typically, the process that calls the <strong>CreateProcessAsUser</strong> function must have the <strong>SE_INCREASE_QUOTA_NAME</strong> privilege and may require the <strong>SE_ASSIGNPRIMARYTOKEN_NAME</strong> privilege if the token is not assignable.</p>\n</blockquote>\n<p>So your calling process doesn't have the right privileges. You need to enable those.  See <a href=\"https://stackoverflow.com/questions/64195567/why-does-kernel32-openprocess-function-return-null/64196851#64196851\">this answer</a> for how to enable a privelege on the current process using Java/JNA code (change the <code>SE_DEBUG_NAME</code> to the privilege you are requesting).</p>\n<p>Further, the <code>CreateProcessAsUser</code> docs continue:</p>\n<blockquote>\n<p>If this function fails with <strong>ERROR_PRIVILEGE_NOT_HELD</strong> (1314), use the <strong>CreateProcessWithLogonW</strong> function instead. <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-createprocesswithlogonw\" rel=\"nofollow noreferrer\">CreateProcessWithLogonW</a> requires no special privileges, but the specified user account must be allowed to log on interactively. Generally, it is best to use <strong>CreateProcessWithLogonW</strong> to create a process with alternate credentials.</p>\n</blockquote>\n<p>Requiring no special privilege seems a better option for you to use than a &quot;Random windows command&quot; that needs other steps.</p>\n"}],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679674425,"creation_date":1679468090,"question_id":75809170,"body_markdown":"I need to invoke windows process by another user with primary token, using jna (java).\r\nI am able to peform:\r\n\r\n 1. Login with username, domain &amp; password\r\n 2. Duplicate token, to generate primary token with dwDesiredAccess set to 33554432 . I&#39;m not sure on the value, this may be the culprit here. Please guide what&#39;s the correct value for this. I need to give MAXIMUM_ALLOWED permission, not sure what&#39;s equivalent for that in terms of java Integer\r\n 3. Invoking some random windows command. \r\n\r\nOn step 3, i&#39;m getting issue that `A required privilege is not held by the client`. I have tried different ways, OpenThreadToken and AdjustTokenPrivilege, but that didn&#39;t work for me. \r\n\r\nCan someone please guide me on how to invoke a process using jna with below code. \r\n\r\n\r\nNote: I need to invoke multiple commands thus, need to use primary token way. \r\n\r\n\r\n```\r\n\r\npublic static void main(String[] args) throws Exception {\r\n     HANDLE loginToken = null;\r\n     HANDLE primaryToken = null; \r\n    try {\r\n         loginToken = performLogin(&quot;username&quot;, &quot;domain&quot;, &quot;password&quot;); \r\n        setThreadToken(loginToken); \r\n        primaryToken = createPrimaryToken(loginToken, 33554432);\r\n         invokeCommand(primaryToken);\r\n     } catch (ProcessCreationException e) { \r\n        e.printStackTrace();\r\n     } finally {\r\n         if (loginToken != null)\r\n             Kernel32.INSTANCE.CloseHandle(loginToken);\r\n         if (primaryToken != null) \r\n            Kernel32.INSTANCE.CloseHandle(primaryToken); \r\n    }\r\n }\r\n\r\n\r\nprivate static HANDLE performLogin(String username, String domain, String password) throws ProcessCreationException { \r\n   HANDLEByReference pointer = new HANDLEByReference(); \r\n   invokeWindowsMethod(&quot;login&quot;, () -&gt; Advapi32.INSTANCE.LogonUser(username, domain,  password, WinBase.LOGON32_LOGON_NETWORK, WinBase.LOGON32_PROVIDER_DEFAULT, pointer)); \r\n    return pointer.getValue(); \r\n}\r\n\r\n\r\nprivate static HANDLE createPrimaryToken(HANDLE loginToken, int desiredAccess) throws ProcessCreationException {\r\n     System.out.println(&quot;dwDesiredAccess:&quot; + desiredAccess);\r\n     HANDLEByReference pointer = new HANDLEByReference();\r\n     invokeWindowsMethod(&quot;duplicated&quot;, () -&gt; Advapi32.INSTANCE.DuplicateTokenEx(\r\n             loginToken, \r\n            desiredAccess,\r\n             null,\r\n             SECURITY_IMPERSONATION_LEVEL.SecurityDelegation,\r\n             TOKEN_TYPE.TokenPrimary,\r\n             pointer\r\n     ));\r\n     return pointer.getValue(); \r\n}\r\n\r\nprivate static void invokeCommand(HANDLE primaryToken) throws ProcessCreationException {\r\n     STARTUPINFO si = new STARTUPINFO();\r\n     PROCESS_INFORMATION pi = new PROCESS_INFORMATION(); \r\n    pi.clear();  \r\n    invokeWindowsMethod(&quot;invokeCommand&quot;, () -&gt; Advapi32.INSTANCE.CreateProcessAsUser(\r\n             primaryToken,\r\n            null,\r\n             &quot;whoami&quot;,\r\n             null, \r\n            null, \r\n            true, \r\n            1024,\r\n             null,\r\n             null, \r\n            si,\r\n             pi));\r\n }\r\n\r\n\r\nprivate static void invokeWindowsMethod(String method, Supplier&lt;Boolean&gt; processor) throws ProcessCreationException { \r\n    Boolean res = processor.get(); \r\n    System.out.println(method + &quot; : &quot; + res); \r\n    if (!res) { \r\n        throw lastErrorProcessCreationException(method, Kernel32.INSTANCE.GetLastError());\r\n     } \r\n}\r\n\r\n\r\nprivate static ProcessCreationException lastErrorProcessCreationException(String context, int errorCode) { \r\n    return new ProcessCreationException(String.format(&quot;[%s] %s&quot;, context,  Kernel32Util.formatMessageFromLastErrorCode(errorCode)));\r\n }\r\n\r\n```\r\n","title":"Invoke process in windows by another user using primary token using JNA","body":"<p>I need to invoke windows process by another user with primary token, using jna (java).\nI am able to peform:</p>\n<ol>\n<li>Login with username, domain &amp; password</li>\n<li>Duplicate token, to generate primary token with dwDesiredAccess set to 33554432 . I'm not sure on the value, this may be the culprit here. Please guide what's the correct value for this. I need to give MAXIMUM_ALLOWED permission, not sure what's equivalent for that in terms of java Integer</li>\n<li>Invoking some random windows command.</li>\n</ol>\n<p>On step 3, i'm getting issue that <code>A required privilege is not held by the client</code>. I have tried different ways, OpenThreadToken and AdjustTokenPrivilege, but that didn't work for me.</p>\n<p>Can someone please guide me on how to invoke a process using jna with below code.</p>\n<p>Note: I need to invoke multiple commands thus, need to use primary token way.</p>\n<pre><code>\npublic static void main(String[] args) throws Exception {\n     HANDLE loginToken = null;\n     HANDLE primaryToken = null; \n    try {\n         loginToken = performLogin(&quot;username&quot;, &quot;domain&quot;, &quot;password&quot;); \n        setThreadToken(loginToken); \n        primaryToken = createPrimaryToken(loginToken, 33554432);\n         invokeCommand(primaryToken);\n     } catch (ProcessCreationException e) { \n        e.printStackTrace();\n     } finally {\n         if (loginToken != null)\n             Kernel32.INSTANCE.CloseHandle(loginToken);\n         if (primaryToken != null) \n            Kernel32.INSTANCE.CloseHandle(primaryToken); \n    }\n }\n\n\nprivate static HANDLE performLogin(String username, String domain, String password) throws ProcessCreationException { \n   HANDLEByReference pointer = new HANDLEByReference(); \n   invokeWindowsMethod(&quot;login&quot;, () -&gt; Advapi32.INSTANCE.LogonUser(username, domain,  password, WinBase.LOGON32_LOGON_NETWORK, WinBase.LOGON32_PROVIDER_DEFAULT, pointer)); \n    return pointer.getValue(); \n}\n\n\nprivate static HANDLE createPrimaryToken(HANDLE loginToken, int desiredAccess) throws ProcessCreationException {\n     System.out.println(&quot;dwDesiredAccess:&quot; + desiredAccess);\n     HANDLEByReference pointer = new HANDLEByReference();\n     invokeWindowsMethod(&quot;duplicated&quot;, () -&gt; Advapi32.INSTANCE.DuplicateTokenEx(\n             loginToken, \n            desiredAccess,\n             null,\n             SECURITY_IMPERSONATION_LEVEL.SecurityDelegation,\n             TOKEN_TYPE.TokenPrimary,\n             pointer\n     ));\n     return pointer.getValue(); \n}\n\nprivate static void invokeCommand(HANDLE primaryToken) throws ProcessCreationException {\n     STARTUPINFO si = new STARTUPINFO();\n     PROCESS_INFORMATION pi = new PROCESS_INFORMATION(); \n    pi.clear();  \n    invokeWindowsMethod(&quot;invokeCommand&quot;, () -&gt; Advapi32.INSTANCE.CreateProcessAsUser(\n             primaryToken,\n            null,\n             &quot;whoami&quot;,\n             null, \n            null, \n            true, \n            1024,\n             null,\n             null, \n            si,\n             pi));\n }\n\n\nprivate static void invokeWindowsMethod(String method, Supplier&lt;Boolean&gt; processor) throws ProcessCreationException { \n    Boolean res = processor.get(); \n    System.out.println(method + &quot; : &quot; + res); \n    if (!res) { \n        throw lastErrorProcessCreationException(method, Kernel32.INSTANCE.GetLastError());\n     } \n}\n\n\nprivate static ProcessCreationException lastErrorProcessCreationException(String context, int errorCode) { \n    return new ProcessCreationException(String.format(&quot;[%s] %s&quot;, context,  Kernel32Util.formatMessageFromLastErrorCode(errorCode)));\n }\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka","fail-fast"],"comments":[{"owner":{"account_id":4381764,"reputation":323,"user_id":3573222,"accept_rate":86,"display_name":"alxbxbx"},"score":1,"creation_date":1613051339,"post_id":66155297,"comment_id":116960338,"body_markdown":"You want poll to fail after 1 second in case of no response? If that is the case it will never happen with this call `consumer.poll(Duration.ofMinutes(5));` since you are setting here timeout of 5 minutes. You could simply run it with `consumer.poll(1000);` and see if that works. `poll` method requires a timeout to be set while calling, so there is no additional config needed for timeout.","body":"You want poll to fail after 1 second in case of no response? If that is the case it will never happen with this call <code>consumer.poll(Duration.ofMinutes(5));</code> since you are setting here timeout of 5 minutes. You could simply run it with <code>consumer.poll(1000);</code> and see if that works. <code>poll</code> method requires a timeout to be set while calling, so there is no additional config needed for timeout."},{"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"score":0,"creation_date":1613052431,"post_id":66155297,"comment_id":116960841,"body_markdown":"I studied approaches to how to do it, you are right. The best way is to go beyond the Duration.\nI will now write an answer to this question, thank you for your participation!","body":"I studied approaches to how to do it, you are right. The best way is to go beyond the Duration. I will now write an answer to this question, thank you for your participation!"}],"answers":[{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1613052664,"creation_date":1613052664,"answer_id":66156352,"question_id":66155297,"body_markdown":"As one of the approaches - we can use from the comment above. Or I&#39;ve just created validation based on the following code and it works\r\n\r\n```\r\n    public void validate() {\r\n        try {\r\n            consumer.listTopics(Duration.ofSeconds(10));\r\n        } catch (TimeoutException e) {\r\n            logger.error(&quot;Topics doesn&#39;t exist OR unavailable broker&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n    ","title":"Fail Fast When Kafka Consumer Can&#39;t Connect","body":"<p>As one of the approaches - we can use from the comment above. Or I've just created validation based on the following code and it works</p>\n<pre><code>    public void validate() {\n        try {\n            consumer.listTopics(Duration.ofSeconds(10));\n        } catch (TimeoutException e) {\n            logger.error(&quot;Topics doesn't exist OR unavailable broker&quot;);\n            System.exit(1);\n        }\n    }\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679674022,"creation_date":1679674022,"answer_id":75835917,"question_id":66155297,"body_markdown":"My solution to the problem:\r\n\r\n```java\r\n    @Bean\r\n    @Profile(&quot;local&quot;)\r\n    public Boolean localKafkaAvailabilityValidator() {\r\n        KafkaAdmin kafkaAdmin = new KafkaAdmin(kafkaProperties.buildAdminProperties());\r\n        kafkaAdmin.setFatalIfBrokerNotAvailable(true);\r\n\r\n        var future = CompletableFuture.runAsync(kafkaAdmin::clusterId);\r\n        try {\r\n            future.get(2, TimeUnit.SECONDS);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Kafka is not available. Please start it before starting the application.&quot;, e);\r\n        }\r\n\r\n        return true;\r\n    }\r\n```","title":"Fail Fast When Kafka Consumer Can&#39;t Connect","body":"<p>My solution to the problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Profile(&quot;local&quot;)\n    public Boolean localKafkaAvailabilityValidator() {\n        KafkaAdmin kafkaAdmin = new KafkaAdmin(kafkaProperties.buildAdminProperties());\n        kafkaAdmin.setFatalIfBrokerNotAvailable(true);\n\n        var future = CompletableFuture.runAsync(kafkaAdmin::clusterId);\n        try {\n            future.get(2, TimeUnit.SECONDS);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Kafka is not available. Please start it before starting the application.&quot;, e);\n        }\n\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66156352,"answer_count":2,"score":0,"last_activity_date":1679674022,"creation_date":1613048460,"question_id":66155297,"body_markdown":"For my own purposes, I need the Spring Boot application to stop if the Kafka Consumer can&#39;t connect to the broker.\r\nI mean, when Kafka Consumer trying to pool messages, we can see the following logs:\r\n\r\n```\r\n[Consumer clientId=consumer-ddddd-1, groupId=ddddd] Bootstrap broker localhost:9094 (id: -1 rack: null) disconnected\r\n[Consumer clientId=consumer-ddddd-1, groupId=ddddd] Connection to node -1 (localhost/127.0.0.1:9094) could not be established. Broker may not be available.\r\n```\r\n\r\nIt`s standard behaviour when topic or broker is not available. As a result - application will not going to stop. But I need.\r\n\r\nI&#39;m trying to add the following properties, but it&#39;s not work:\r\n```\r\nspring.kafka.consumer.fetch-max-wait=1000\r\nspring.kafka.admin.fail-fast=true\r\nspring.kafka.session.timeout.ms=1000\r\n```\r\n\r\nIn generally I want to get behaviour like: **IF CONSUMER CAN&#39;T CONNECT - SHUTDOWN APPLICATION**\r\n\r\n- Spring Boot version: 2.3.8.RELEASE\r\n- Kafka: spring-kafka-starter\r\n\r\nExample of Kafka Polling: \r\n```\r\nconsumer.poll(Duration.ofMinutes(5));\r\n```","title":"Fail Fast When Kafka Consumer Can&#39;t Connect","body":"<p>For my own purposes, I need the Spring Boot application to stop if the Kafka Consumer can't connect to the broker.\nI mean, when Kafka Consumer trying to pool messages, we can see the following logs:</p>\n<pre><code>[Consumer clientId=consumer-ddddd-1, groupId=ddddd] Bootstrap broker localhost:9094 (id: -1 rack: null) disconnected\n[Consumer clientId=consumer-ddddd-1, groupId=ddddd] Connection to node -1 (localhost/127.0.0.1:9094) could not be established. Broker may not be available.\n</code></pre>\n<p>It`s standard behaviour when topic or broker is not available. As a result - application will not going to stop. But I need.</p>\n<p>I'm trying to add the following properties, but it's not work:</p>\n<pre><code>spring.kafka.consumer.fetch-max-wait=1000\nspring.kafka.admin.fail-fast=true\nspring.kafka.session.timeout.ms=1000\n</code></pre>\n<p>In generally I want to get behaviour like: <strong>IF CONSUMER CAN'T CONNECT - SHUTDOWN APPLICATION</strong></p>\n<ul>\n<li>Spring Boot version: 2.3.8.RELEASE</li>\n<li>Kafka: spring-kafka-starter</li>\n</ul>\n<p>Example of Kafka Polling:</p>\n<pre><code>consumer.poll(Duration.ofMinutes(5));\n</code></pre>\n"},{"tags":["java","azure","azure-keyvault"],"comments":[{"owner":{"account_id":26453603,"reputation":864,"user_id":20096460,"display_name":"Sourav"},"score":0,"creation_date":1675421265,"post_id":75272231,"comment_id":132929996,"body_markdown":"The &#39;getKey&#39; can be used for public key information whereas&#160; &#160;&#39;getKeyWithVersion&#39; can be used for public key. Ensure you have the right permissions.","body":"The &#39;getKey&#39; can be used for public key information whereas   &#39;getKeyWithVersion&#39; can be used for public key. Ensure you have the right permissions."}],"owner":{"account_id":4705231,"reputation":780,"user_id":3807609,"accept_rate":20,"display_name":"Dan M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679673890,"creation_date":1674958705,"question_id":75272231,"body_markdown":"Context: I am trying to download and save Azure Vault keys on a container - with the purpose of using them later to encrypt or decrypt content.\r\nI am using Java with `azure-identity 1.7.1` and `com.azure.security.keyvault.keys` libraries. \r\nThe problem is that I cannot figure out how to download the private portion of the key. When trying to use the key to decrypt content I get the following error\r\n\r\n`\r\njava.lang.IllegalArgumentException: Private portion of the key not available to perform decrypt operation\r\n`\r\n\r\nFollowing is the code used to save the key to disk. How can one modify the code to get both the public and the private portion of the key?!\r\n```\r\nDefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\r\nKeyClient keyClient = new KeyClientBuilder()\r\n                .vaultUrl(&quot;https://&lt;MY VAULT&gt;.vault.azure.net/&quot;)\r\n                .credential(defaultCredential)\r\n                .buildClient();\r\n\r\nJsonWebKey jsonWebKey = keyClient.getKey(&quot;&lt;MY KEY&gt;&quot;).getKey();\r\n\r\nObjectMapper mapper = new ObjectMapper();\r\nString json = mapper.writeValueAsString(jsonWebKey);\r\n\r\ntry (PrintWriter writer = new PrintWriter(&quot;my-key.json&quot;)) {\r\n            writer.print(json);\r\n   } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n}\r\n\r\n```\r\n\r\n- Is the private portion of the key available?  \r\n- Should the key be created in a certain way to make that available in the first place? \r\n\r\n&gt; Note: for Certificates one can download the associated secret, base64 decode it and save it as PFX, and that will includes the highly sought-after private key! Also, the Azure portal interface includes an equivalent &quot;download PFX&quot; button. Nothing for keys in the vault??!","title":"Can one download the private portion of an Azure Vault key in Java?","body":"<p>Context: I am trying to download and save Azure Vault keys on a container - with the purpose of using them later to encrypt or decrypt content.\nI am using Java with <code>azure-identity 1.7.1</code> and <code>com.azure.security.keyvault.keys</code> libraries.\nThe problem is that I cannot figure out how to download the private portion of the key. When trying to use the key to decrypt content I get the following error</p>\n<p><code>java.lang.IllegalArgumentException: Private portion of the key not available to perform decrypt operation</code></p>\n<p>Following is the code used to save the key to disk. How can one modify the code to get both the public and the private portion of the key?!</p>\n<pre><code>DefaultAzureCredential defaultCredential = new DefaultAzureCredentialBuilder().build();\nKeyClient keyClient = new KeyClientBuilder()\n                .vaultUrl(&quot;https://&lt;MY VAULT&gt;.vault.azure.net/&quot;)\n                .credential(defaultCredential)\n                .buildClient();\n\nJsonWebKey jsonWebKey = keyClient.getKey(&quot;&lt;MY KEY&gt;&quot;).getKey();\n\nObjectMapper mapper = new ObjectMapper();\nString json = mapper.writeValueAsString(jsonWebKey);\n\ntry (PrintWriter writer = new PrintWriter(&quot;my-key.json&quot;)) {\n            writer.print(json);\n   } catch (FileNotFoundException e) {\n            e.printStackTrace();\n}\n\n</code></pre>\n<ul>\n<li>Is the private portion of the key available?</li>\n<li>Should the key be created in a certain way to make that available in the first place?</li>\n</ul>\n<blockquote>\n<p>Note: for Certificates one can download the associated secret, base64 decode it and save it as PFX, and that will includes the highly sought-after private key! Also, the Azure portal interface includes an equivalent &quot;download PFX&quot; button. Nothing for keys in the vault??!</p>\n</blockquote>\n"},{"tags":["java","spring-boot","camunda","zeebe"],"comments":[{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1679986302,"post_id":75831900,"comment_id":133814604,"body_markdown":"What version of Camunda are you using? What do you get from that query? Please edit your question to clarify it in general","body":"What version of Camunda are you using? What do you get from that query? Please edit your question to clarify it in general"},{"owner":{"account_id":16387499,"reputation":1,"user_id":15216202,"display_name":"imxo"},"score":0,"creation_date":1679998583,"post_id":75831900,"comment_id":133817668,"body_markdown":"The problem is that in my organization, it is impossible to raise the service locally, from the infrastructure, and I cannot connect to the team because of the gatekeepers and the keclock. I cannot make a request and see what is returned locally, all services are developed using autotests and there I can write anything as a mock response. This makes development very difficult, the only way to see the response is to install the command locally and connect to it, but this is very labor intensive.","body":"The problem is that in my organization, it is impossible to raise the service locally, from the infrastructure, and I cannot connect to the team because of the gatekeepers and the keclock. I cannot make a request and see what is returned locally, all services are developed using autotests and there I can write anything as a mock response. This makes development very difficult, the only way to see the response is to install the command locally and connect to it, but this is very labor intensive."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1680003067,"post_id":75831900,"comment_id":133818809,"body_markdown":"Maybe it will be better to ask in the Camunda Platform Forum","body":"Maybe it will be better to ask in the Camunda Platform Forum"},{"owner":{"account_id":16387499,"reputation":1,"user_id":15216202,"display_name":"imxo"},"score":0,"creation_date":1680092079,"post_id":75831900,"comment_id":133837733,"body_markdown":"Thanks, I&#39;ll try posting there.","body":"Thanks, I&#39;ll try posting there."}],"owner":{"account_id":16387499,"reputation":1,"user_id":15216202,"display_name":"imxo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679673847,"creation_date":1679649824,"question_id":75831900,"body_markdown":"I have a process in camunda, it has a Zeebe API, as I understand it, the backend communicates with camunda through it. I need, that by userId and Instance Id, I would give the name on which task this user is currently on. &quot;- at this stage the user is now. I looked at how Ui is formed - there is a giant xml that is very inconvenient to parse, and this is not obtained through the Zeebe API, I think there is a more normal way.\r\n\r\n[enter image description here][1]\r\n\r\nI tried to make a query like\r\n\r\n```\r\n        return zeebeClient\r\n                .newCreateInstanceCommand()\r\n                .bpmnProcessId(startSimpleParameters.processName)\r\n                .version(version)\r\n                .variables(variables)\r\n                .requestTimeout(timeout)\r\n                .send()\r\n                .await()\r\n```\r\n\r\nand expect to be able to get the current task the user is on and its name from the schema.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p6bha.jpg","title":"camunda - how to get task name using Zeebe API","body":"<p>I have a process in camunda, it has a Zeebe API, as I understand it, the backend communicates with camunda through it. I need, that by userId and Instance Id, I would give the name on which task this user is currently on. &quot;- at this stage the user is now. I looked at how Ui is formed - there is a giant xml that is very inconvenient to parse, and this is not obtained through the Zeebe API, I think there is a more normal way.</p>\n<p><a href=\"https://i.stack.imgur.com/p6bha.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to make a query like</p>\n<pre><code>        return zeebeClient\n                .newCreateInstanceCommand()\n                .bpmnProcessId(startSimpleParameters.processName)\n                .version(version)\n                .variables(variables)\n                .requestTimeout(timeout)\n                .send()\n                .await()\n</code></pre>\n<p>and expect to be able to get the current task the user is on and its name from the schema.</p>\n"},{"tags":["java","spring","spring-boot","togglz"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674464815,"post_id":75207305,"comment_id":132711584,"body_markdown":"Looking at the stacktrace you have togglz configured for CDI not for Spring which is totally different then Spring is. So ditch that dependency. In addition as you are also using SPring Boot why aren&#39;t you simply using the [Spring Boot Starter from Togglz](https://www.togglz.org/documentation/spring-boot-starter.html) which includes the proper dependencies. However the Togglz version you are using isn&#39;t compatible with Spring Boot 3 (as it is using JavaEE and not JakartaEE) so either don&#39;t use togglz in this version or downgrade Spring Boot to 2.7.x.","body":"Looking at the stacktrace you have togglz configured for CDI not for Spring which is totally different then Spring is. So ditch that dependency. In addition as you are also using SPring Boot why aren&#39;t you simply using the <a href=\"https://www.togglz.org/documentation/spring-boot-starter.html\" rel=\"nofollow noreferrer\">Spring Boot Starter from Togglz</a> which includes the proper dependencies. However the Togglz version you are using isn&#39;t compatible with Spring Boot 3 (as it is using JavaEE and not JakartaEE) so either don&#39;t use togglz in this version or downgrade Spring Boot to 2.7.x."}],"answers":[{"tags":[],"owner":{"account_id":28115555,"reputation":11,"user_id":21482712,"display_name":"user21482712"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679673422,"creation_date":1679673422,"answer_id":75835807,"question_id":75207305,"body_markdown":"The current milestone 4.0.0-M3 is compatible with Spring Boot 3 and I will release a final togglz 4.0.0 soon. Right now everything is working as expected so IMO you could also use the milestone release already.","title":"Resolve ServiceConfigurationError when adding Togglz to Spring Boot application","body":"<p>The current milestone 4.0.0-M3 is compatible with Spring Boot 3 and I will release a final togglz 4.0.0 soon. Right now everything is working as expected so IMO you could also use the milestone release already.</p>\n"}],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679673422,"creation_date":1674464318,"question_id":75207305,"body_markdown":"I&#39;m trying to implement `Togglz` in my `Spring Boot` application.\r\n\r\nI followed the [Quick Start][1] steps but when I run my application I get this exception:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.util.ServiceConfigurationError: org.togglz.core.spi.BeanFinder: org.togglz.cdi.spi.CDIBeanFinder Unable to get public no-arg constructor\r\n\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\r\n\tat java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:679)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1240)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\r\n\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\r\n\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\r\n\tat org.togglz.core.context.BeanFinderFeatureManagerProvider.getFeatureManager(BeanFinderFeatureManagerProvider.java:36)\r\n\tat org.togglz.core.context.FeatureContext.findFeatureManagerInClassLoader(FeatureContext.java:107)\r\n\tat org.togglz.core.context.FeatureContext.getFeatureManagerOrNull(FeatureContext.java:73)\r\n\tat org.togglz.core.context.FeatureContext.getFeatureManager(FeatureContext.java:46)\r\n\tat com.paulcarron.testproject.MyFeatures.isActive(MyFeatures.java:18)\r\n\tat com.paulcarron.testproject.TogglzTest.getTogglzStatus(TogglzTest.java:31)\r\n\tat com.paulcarron.testproject.TestprojectApplication.main(TestprojectApplication.java:15)\r\nCaused by: java.lang.NoClassDefFoundError: javax/enterprise/context/spi/Contextual\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3610)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2303)\r\n\tat java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:666)\r\n\tat java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:663)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n\tat java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:674)\r\n\t... 11 more\r\nCaused by: java.lang.ClassNotFoundException: javax.enterprise.context.spi.Contextual\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 19 more\r\n\r\nThis is my code in TogglzTest:\r\n\r\n```Java\r\nif(MyFeatures.FEATURE_ONE.isActive() ) {\r\n    System.out.println(&quot;togglzOff is &quot; + togOnTrue);\r\n    System.out.println(&quot;togglzOff is &quot; + togOnFalse);\r\n}\r\n```\r\n\r\nHere is my isActive method in MyFeatures:\r\n\r\n```Java\r\npublic boolean isActive() {\r\n    return FeatureContext.getFeatureManager().isActive(this);\r\n}\r\n```\r\n\r\nI did some Googling and all I can find was various dependencies that I should add but doing so doesn&#39;t resolve my issue. Here&#39;s my pom:\r\n\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testproject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;testproject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Togglz for Servlet environments (mandatory) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-servlet&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- CDI integration (optional) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-cdi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring integration (optional) --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/jakarta.enterprise/jakarta.enterprise.cdi-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-spring-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHow do I resolve this?\r\n\r\n  [1]: https://www.togglz.org/quickstart.html","title":"Resolve ServiceConfigurationError when adding Togglz to Spring Boot application","body":"<p>I'm trying to implement <code>Togglz</code> in my <code>Spring Boot</code> application.</p>\n<p>I followed the <a href=\"https://www.togglz.org/quickstart.html\" rel=\"nofollow noreferrer\">Quick Start</a> steps but when I run my application I get this exception:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.util.ServiceConfigurationError: org.togglz.core.spi.BeanFinder: org.togglz.cdi.spi.CDIBeanFinder Unable to get public no-arg constructor\nat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\nat java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:679)\nat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1240)\nat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\nat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\nat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\nat org.togglz.core.context.BeanFinderFeatureManagerProvider.getFeatureManager(BeanFinderFeatureManagerProvider.java:36)\nat org.togglz.core.context.FeatureContext.findFeatureManagerInClassLoader(FeatureContext.java:107)\nat org.togglz.core.context.FeatureContext.getFeatureManagerOrNull(FeatureContext.java:73)\nat org.togglz.core.context.FeatureContext.getFeatureManager(FeatureContext.java:46)\nat com.paulcarron.testproject.MyFeatures.isActive(MyFeatures.java:18)\nat com.paulcarron.testproject.TogglzTest.getTogglzStatus(TogglzTest.java:31)\nat com.paulcarron.testproject.TestprojectApplication.main(TestprojectApplication.java:15)\nCaused by: java.lang.NoClassDefFoundError: javax/enterprise/context/spi/Contextual\nat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\nat java.base/java.lang.Class.getConstructor0(Class.java:3610)\nat java.base/java.lang.Class.getConstructor(Class.java:2303)\nat java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:666)\nat java.base/java.util.ServiceLoader$1.run(ServiceLoader.java:663)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\nat java.base/java.util.ServiceLoader.getConstructor(ServiceLoader.java:674)\n... 11 more\nCaused by: java.lang.ClassNotFoundException: javax.enterprise.context.spi.Contextual\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n... 19 more</p>\n</blockquote>\n<p>This is my code in TogglzTest:</p>\n<pre><code>if(MyFeatures.FEATURE_ONE.isActive() ) {\n    System.out.println(&quot;togglzOff is &quot; + togOnTrue);\n    System.out.println(&quot;togglzOff is &quot; + togOnFalse);\n}\n</code></pre>\n<p>Here is my isActive method in MyFeatures:</p>\n<pre><code>public boolean isActive() {\n    return FeatureContext.getFeatureManager().isActive(this);\n}\n</code></pre>\n<p>I did some Googling and all I can find was various dependencies that I should add but doing so doesn't resolve my issue. Here's my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;artifactId&gt;testproject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;testproject&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Togglz for Servlet environments (mandatory) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- CDI integration (optional) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-cdi&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring integration (optional) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-spring-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;&lt;!-- https://mvnrepository.com/artifact/jakarta.enterprise/jakarta.enterprise.cdi-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>How do I resolve this?</p>\n"},{"tags":["java","drools"],"answers":[{"tags":[],"owner":{"account_id":480643,"reputation":2233,"user_id":893991,"display_name":"tarilabs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679673343,"creation_date":1679673343,"answer_id":75835786,"question_id":75833985,"body_markdown":"&gt; ...decision table and loading an excel(.xls) file...\r\n\r\nLikely, your _excel(.xls) file_ does NOT have a file name ending with `.drl.xls`, `.drl.xlsx`, or `.drl.csv`.\r\n\r\nThat is why is not picked up.\r\n\r\n[![documentation highlight][1]][1]\r\n\r\nRef https://docs.drools.org/8.36.0.Final/drools-docs/docs-website/drools/language-reference/index.html#decision-tables-defining-proc:~:text=Starting%20with%20Drools%20v8%2C%20file%20extension%20must%20end%20in%20either%20.drl.xls%2C%20.drl.xlsx%2C%20or%20.drl.csv%20as%20mentioned%20in%20the%20Release%20Notes.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m8la6.png","title":"Java Drools Engine 8.29 is not loading excel file","body":"<blockquote>\n<p>...decision table and loading an excel(.xls) file...</p>\n</blockquote>\n<p>Likely, your <em>excel(.xls) file</em> does NOT have a file name ending with <code>.drl.xls</code>, <code>.drl.xlsx</code>, or <code>.drl.csv</code>.</p>\n<p>That is why is not picked up.</p>\n<p><a href=\"https://i.stack.imgur.com/m8la6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m8la6.png\" alt=\"documentation highlight\" /></a></p>\n<p>Ref <a href=\"https://docs.drools.org/8.36.0.Final/drools-docs/docs-website/drools/language-reference/index.html#decision-tables-defining-proc:%7E:text=Starting%20with%20Drools%20v8%2C%20file%20extension%20must%20end%20in%20either%20.drl.xls%2C%20.drl.xlsx%2C%20or%20.drl.csv%20as%20mentioned%20in%20the%20Release%20Notes\" rel=\"nofollow noreferrer\">https://docs.drools.org/8.36.0.Final/drools-docs/docs-website/drools/language-reference/index.html#decision-tables-defining-proc:~:text=Starting%20with%20Drools%20v8%2C%20file%20extension%20must%20end%20in%20either%20.drl.xls%2C%20.drl.xlsx%2C%20or%20.drl.csv%20as%20mentioned%20in%20the%20Release%20Notes</a>.</p>\n"}],"owner":{"account_id":8825434,"reputation":19,"user_id":6593840,"display_name":"Ashwini ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75835786,"answer_count":1,"score":0,"last_activity_date":1679673343,"creation_date":1679662862,"question_id":75833985,"body_markdown":"Im using Drool decision table and loading an excel(.xls) file. Right not it is not loading the excel sheet and also there are no errors to logs that says it did not load it.\r\n\r\n\r\n\r\nCan anyone help me with this issue please.","title":"Java Drools Engine 8.29 is not loading excel file","body":"<p>Im using Drool decision table and loading an excel(.xls) file. Right not it is not loading the excel sheet and also there are no errors to logs that says it did not load it.</p>\n<p>Can anyone help me with this issue please.</p>\n"},{"tags":["java","javafx","dependency-injection","fxml","resourcebundle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679673410,"post_id":75835732,"comment_id":133768809,"body_markdown":"Your second approach seems just fine and is probably the best vanilla approach. The only other at least somewhat acceptable approach I could think of is to use a more comprehensive dependency injection framework (e.g., CDI, Guice, etc.), but even then having the framework perform constructor injection (rather than field injection) might still be the best approach.","body":"Your second approach seems just fine and is probably the best vanilla approach. The only other at least somewhat acceptable approach I could think of is to use a more comprehensive dependency injection framework (e.g., CDI, Guice, etc.), but even then having the framework perform constructor injection (rather than field injection) might still be the best approach."}],"owner":{"account_id":15875847,"reputation":4479,"user_id":11455105,"display_name":"Amal K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679673026,"creation_date":1679673026,"question_id":75835732,"body_markdown":"I use the standard practice of injecting my `ResourceBundle` into my JavaFX controllers using `FXMLLoader`:\r\n```\r\nclass EditorController {\r\n\r\n@FXML\r\nprivate ResourceBundle resources;\r\n ...\r\n}\r\n\r\n```\r\nAnd I specify my resource in the `FXMLLoader` constructor:\r\n```\r\nResourceBundle resources = Resources.MESSAGES;\r\nURL location = getClass().getResource(&quot;editor.fxml&quot;);\r\n\r\nvar loader = new FXMLLoader(location, resources);\r\n\r\nclass Resources {\r\n    public static final MESSAGES = ResourceBundle.getBundle(&quot;messages&quot;);\r\n}\r\n```\r\n\r\nI then use my injected `resource` instance in my controllers and supply it to any services that require it.\r\n\r\nHowever, this is not directly possible when I have a custom JavaFX control inheriting from an existing control. For instance, consider the following `ReplaceDialog`:\r\n```\r\npublic class ReplaceDialog extends Dialog&lt;ReplaceDialog.ReplaceModel&gt; {\r\n\r\n    public static final ButtonType REPLACE_BUTTON = new ButtonType(&quot;Replace&quot;, ButtonBar.ButtonData.NEXT_FORWARD);\r\n\r\n    public static final ButtonType REPLACE_ALL_BUTTON = new ButtonType(&quot;Replace All&quot;, ButtonBar.ButtonData.NEXT_FORWARD);\r\n\r\n    private final TextField findField = new TextField();\r\n\r\n    private final TextField replaceField = new TextField();\r\n\r\n    private final Label findLabel = new Label();\r\n\r\n    private final Label replaceLabel = new Label();\r\n\r\n    public ReplaceDialog(ReplaceModel model) {\r\n        DialogPane dialogPane = getDialogPane();\r\n        dialogPane.setContent(createForm());\r\n        dialogPane.getButtonTypes().addAll(\r\n                REPLACE_BUTTON,\r\n                REPLACE_ALL_BUTTON,\r\n                ButtonType.CANCEL);\r\n\r\n        setResultConverter(buttonType -&gt; new ReplaceModel(findField.getText(),\r\n                replaceField.getText(),\r\n                buttonType));\r\n\r\n        if (model != null) {\r\n            findField.setText(model.find());\r\n            replaceField.setText(model.replace());\r\n        }\r\n\r\n    }\r\n\r\n    public ReplaceModel getModel() {\r\n        return new ReplaceModel(findField.getText(), replaceField.getText(), null);\r\n    }\r\n\r\n    private GridPane createForm() {\r\n        GridPane gridPane = new GridPane();\r\n        // ... \r\n        return gridPane;\r\n    }\r\n\r\n    public record ReplaceModel(String find, String replace, ButtonType buttonType) {\r\n    }\r\n}\r\n``` \r\n\r\nTo create an instance of `ReplaceDialog` from my controller, I can do the following since I have access to my injected `resources` instance by FXML:\r\n```\r\nReplaceDialog dialog = new ReplaceDialog(model);\r\ndialog.setTitle(resources.getString(&quot;dialog.replace.title&quot;));\r\ndialog.setHeaderText(resources.getString(&quot;dialog.replace.header_text&quot;));\r\ndialog.setGraphic(graphic);\r\n```\r\n\r\nHowever, note that there are two internal labels in my `ReplaceDialog` class:\r\n`findLabel`, `replaceLabel`.\r\nI want to retrieve the text of these labels using a `ResourceBundle`. Therefore, I need to do something like this in the constructor:\r\n```\r\npublic ReplaceDialog(ReplaceModel model) {\r\n    ...\r\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.find&quot;));\r\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.replace&quot;));\r\n}\r\n```\r\nBut I do not have direct access to the injected `ResourceBundle` inside `ReplaceDialog` control.\r\n\r\nThe possible solutions that came to mind are:\r\n\r\n**1. To directly access the `ResourceBundle` without injection**\r\n```\r\n findLabel.setText(Resources.MESSAGES.getString(&quot;dialog.replace.label.find&quot;));\r\n findLabel.setText(Resources.MESSAGES.getString(&quot;dialog.replace.label.replace&quot;));\r\n```\r\n(Note the `Resources` class definition in the second snippet above.) Moreover, I could define the properties required by custom controls in a separate `ResourceBundle` with a different properties file. I could do this, but then the point of dependency injection may be defeated.\r\n\r\n**2. To pass the `ResourceBundle` to the constructor**\r\n\r\n```\r\npublic ReplaceDialog(ReplaceModel model, ResourceBundle resources) {\r\n    ...\r\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.find&quot;));\r\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.replace&quot;));\r\n}\r\n```\r\nThis is another possible solution where I would have to pass down the `ResourceBundle` from the controller to every custom control.\r\n\r\nIs there a correct or a better, more accepted way to use `ResourceBundle` instances in custom controls?","title":"Accessing ResourceBundle in custom inherited JavaFX Controls","body":"<p>I use the standard practice of injecting my <code>ResourceBundle</code> into my JavaFX controllers using <code>FXMLLoader</code>:</p>\n<pre><code>class EditorController {\n\n@FXML\nprivate ResourceBundle resources;\n ...\n}\n\n</code></pre>\n<p>And I specify my resource in the <code>FXMLLoader</code> constructor:</p>\n<pre><code>ResourceBundle resources = Resources.MESSAGES;\nURL location = getClass().getResource(&quot;editor.fxml&quot;);\n\nvar loader = new FXMLLoader(location, resources);\n\nclass Resources {\n    public static final MESSAGES = ResourceBundle.getBundle(&quot;messages&quot;);\n}\n</code></pre>\n<p>I then use my injected <code>resource</code> instance in my controllers and supply it to any services that require it.</p>\n<p>However, this is not directly possible when I have a custom JavaFX control inheriting from an existing control. For instance, consider the following <code>ReplaceDialog</code>:</p>\n<pre><code>public class ReplaceDialog extends Dialog&lt;ReplaceDialog.ReplaceModel&gt; {\n\n    public static final ButtonType REPLACE_BUTTON = new ButtonType(&quot;Replace&quot;, ButtonBar.ButtonData.NEXT_FORWARD);\n\n    public static final ButtonType REPLACE_ALL_BUTTON = new ButtonType(&quot;Replace All&quot;, ButtonBar.ButtonData.NEXT_FORWARD);\n\n    private final TextField findField = new TextField();\n\n    private final TextField replaceField = new TextField();\n\n    private final Label findLabel = new Label();\n\n    private final Label replaceLabel = new Label();\n\n    public ReplaceDialog(ReplaceModel model) {\n        DialogPane dialogPane = getDialogPane();\n        dialogPane.setContent(createForm());\n        dialogPane.getButtonTypes().addAll(\n                REPLACE_BUTTON,\n                REPLACE_ALL_BUTTON,\n                ButtonType.CANCEL);\n\n        setResultConverter(buttonType -&gt; new ReplaceModel(findField.getText(),\n                replaceField.getText(),\n                buttonType));\n\n        if (model != null) {\n            findField.setText(model.find());\n            replaceField.setText(model.replace());\n        }\n\n    }\n\n    public ReplaceModel getModel() {\n        return new ReplaceModel(findField.getText(), replaceField.getText(), null);\n    }\n\n    private GridPane createForm() {\n        GridPane gridPane = new GridPane();\n        // ... \n        return gridPane;\n    }\n\n    public record ReplaceModel(String find, String replace, ButtonType buttonType) {\n    }\n}\n</code></pre>\n<p>To create an instance of <code>ReplaceDialog</code> from my controller, I can do the following since I have access to my injected <code>resources</code> instance by FXML:</p>\n<pre><code>ReplaceDialog dialog = new ReplaceDialog(model);\ndialog.setTitle(resources.getString(&quot;dialog.replace.title&quot;));\ndialog.setHeaderText(resources.getString(&quot;dialog.replace.header_text&quot;));\ndialog.setGraphic(graphic);\n</code></pre>\n<p>However, note that there are two internal labels in my <code>ReplaceDialog</code> class:\n<code>findLabel</code>, <code>replaceLabel</code>.\nI want to retrieve the text of these labels using a <code>ResourceBundle</code>. Therefore, I need to do something like this in the constructor:</p>\n<pre><code>public ReplaceDialog(ReplaceModel model) {\n    ...\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.find&quot;));\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.replace&quot;));\n}\n</code></pre>\n<p>But I do not have direct access to the injected <code>ResourceBundle</code> inside <code>ReplaceDialog</code> control.</p>\n<p>The possible solutions that came to mind are:</p>\n<p><strong>1. To directly access the <code>ResourceBundle</code> without injection</strong></p>\n<pre><code> findLabel.setText(Resources.MESSAGES.getString(&quot;dialog.replace.label.find&quot;));\n findLabel.setText(Resources.MESSAGES.getString(&quot;dialog.replace.label.replace&quot;));\n</code></pre>\n<p>(Note the <code>Resources</code> class definition in the second snippet above.) Moreover, I could define the properties required by custom controls in a separate <code>ResourceBundle</code> with a different properties file. I could do this, but then the point of dependency injection may be defeated.</p>\n<p><strong>2. To pass the <code>ResourceBundle</code> to the constructor</strong></p>\n<pre><code>public ReplaceDialog(ReplaceModel model, ResourceBundle resources) {\n    ...\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.find&quot;));\n    findLabel.setText(resources.getString(&quot;dialog.replace.label.replace&quot;));\n}\n</code></pre>\n<p>This is another possible solution where I would have to pass down the <code>ResourceBundle</code> from the controller to every custom control.</p>\n<p>Is there a correct or a better, more accepted way to use <code>ResourceBundle</code> instances in custom controls?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679507625,"post_id":75814877,"comment_id":133736125,"body_markdown":"Try looking at [How to set selected item of Spinner by value, not by position?](https://intellipaat.com/community/24431/how-to-set-selected-item-of-spinner-by-value-not-by-position)","body":"Try looking at <a href=\"https://intellipaat.com/community/24431/how-to-set-selected-item-of-spinner-by-value-not-by-position\" rel=\"nofollow noreferrer\">How to set selected item of Spinner by value, not by position?</a>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679555109,"post_id":75814877,"comment_id":133743218,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors? Please respond using @AlexMamo"},{"owner":{"account_id":10785499,"reputation":23,"user_id":8261285,"display_name":"nandofer"},"score":0,"creation_date":1679585892,"post_id":75814877,"comment_id":133751408,"body_markdown":"In the get User() method, in the part of the condition, I would like my spinner to load by selecting the correct data from the String variable role.\n\nWhen I update my user, the textView loads the data normally but my spinner always loads &quot;Administrator&quot; for more than String role = &quot;Colaborador&quot; @AlexMamo","body":"In the get User() method, in the part of the condition, I would like my spinner to load by selecting the correct data from the String variable role.  When I update my user, the textView loads the data normally but my spinner always loads &quot;Administrator&quot; for more than String role = &quot;Colaborador&quot; @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679638146,"post_id":75814877,"comment_id":133760359,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679832748,"post_id":75814877,"comment_id":133787863,"body_markdown":"I&#39;m not sure I understand. What exactly from that document do you need to add to the spinner?","body":"I&#39;m not sure I understand. What exactly from that document do you need to add to the spinner?"},{"owner":{"account_id":10785499,"reputation":23,"user_id":8261285,"display_name":"nandofer"},"score":0,"creation_date":1680071263,"post_id":75814877,"comment_id":133832581,"body_markdown":"Hello! I want to recover the &quot;role&quot; field of a document and select it in the spinner, so I can edit my user.  What would be the best way to implement it? Is it okay to create a resource in android studio or can I store the roles in a collection in Firestore? @AlexMamo","body":"Hello! I want to recover the &quot;role&quot; field of a document and select it in the spinner, so I can edit my user.  What would be the best way to implement it? Is it okay to create a resource in android studio or can I store the roles in a collection in Firestore? @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680071700,"post_id":75814877,"comment_id":133832664,"body_markdown":"If that data is static, and doesn&#39;t change you can store it in a resource file. Otherwise add it tot he database.","body":"If that data is static, and doesn&#39;t change you can store it in a resource file. Otherwise add it tot he database."},{"owner":{"account_id":10785499,"reputation":23,"user_id":8261285,"display_name":"nandofer"},"score":0,"creation_date":1680102255,"post_id":75814877,"comment_id":133841059,"body_markdown":"They are static data, so how do I match the role field of the document and select it in the spinner? I have tried with spinner.setSelection(int position) but it doesn&#39;t work\n@AlexMamo","body":"They are static data, so how do I match the role field of the document and select it in the spinner? I have tried with spinner.setSelection(int position) but it doesn&#39;t work @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680153541,"post_id":75814877,"comment_id":133850261,"body_markdown":"&quot;doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?","body":"&quot;doesn&#39;t work&quot; doesn&#39;t provide enough information so we can help. What exactly doesn&#39;t work? Do you have any errors?"},{"owner":{"account_id":10785499,"reputation":23,"user_id":8261285,"display_name":"nandofer"},"score":0,"creation_date":1680205812,"post_id":75814877,"comment_id":133863369,"body_markdown":"What the getUsuario() method does is obtain a document and display those fields in the EditText in order to update a user. All editTexts load normally but in the if() I would like the spinner to load the role field that the user has in order to change it.\n\nWhat happens is that the spinner always loads Administrator, if my user has a role = &quot;Collaborator&quot; my spinner still loads Administrator... that&#39;s why I want to know how to get the role field and load it in the spinner, I can&#39;t even with setSelection (int pos) @AlexMamo","body":"What the getUsuario() method does is obtain a document and display those fields in the EditText in order to update a user. All editTexts load normally but in the if() I would like the spinner to load the role field that the user has in order to change it.  What happens is that the spinner always loads Administrator, if my user has a role = &quot;Collaborator&quot; my spinner still loads Administrator... that&#39;s why I want to know how to get the role field and load it in the spinner, I can&#39;t even with setSelection (int pos) @AlexMamo"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680234439,"post_id":75814877,"comment_id":133867292,"body_markdown":"The `rol` field inside your document is a string and doesn&#39;t hold multiple values so you can display it in a spinner.","body":"The <code>rol</code> field inside your document is a string and doesn&#39;t hold multiple values so you can display it in a spinner."}],"owner":{"account_id":10785499,"reputation":23,"user_id":8261285,"display_name":"nandofer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679672964,"creation_date":1679502611,"question_id":75814877,"body_markdown":"Can you guide me how I can obtain data from a document in Firestore and load it in a spinner, I have a user model that I want to update and I want it to load the value of its charge in the spinner :/\r\n\r\nIn the Values ​​package I have a roles resource\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;string-array name=&quot;combo_roles&quot;&gt;\r\n        &lt;item&gt;Administrador&lt;/item&gt;\r\n        &lt;item&gt;Colaborador&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nIn the DatosUsuarioFragment fragment I get and fill the spinner in the onCreateView method like this:\r\n\r\n```\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View root = inflater.inflate(R.layout.fragment_datos_usuario, container, false);\r\n\r\n        mFirestore = FirebaseFirestore.getInstance();\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        \r\n        spinnerRoles = root.findViewById(R.id.spinnerRoles);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getContext(), R.array.combo_roles, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\r\n        spinnerRoles.setAdapter(adapter);\r\n\r\n        btnGuardarUsuario = root.findViewById(R.id.btnGuardarUsuario);\r\n\r\n        if (id_usuario == null || id_usuario==&quot;&quot;){\r\n            \r\n                    String rol = spinnerRoles.getSelectedItem().toString();\r\n\r\n                    if (spinnerRoles.getSelectedItem().toString().isEmpty()){\r\n                        Toast.makeText(getContext(),&quot;Seleccionar rol del usuario&quot;, Toast.LENGTH_LONG).show(); \r\n                    }else{\r\n                        GuardarUsuario(nombreCompleto, email, contrase&#241;a, rol);\r\n                    }\r\n                }\r\n            });\r\n        }else{\r\n            GetUsuario();\r\n            btnGuardarUsuario.setText(&quot;Update user&quot;);\r\n            btnGuardarUsuario.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    \r\n                    String rol = spinnerRoles.getSelectedItem().toString();\r\n\r\n                    if (spinnerRoles.getSelectedItem().toString().isEmpty()){\r\n                        Toast.makeText(getContext(),&quot;Seleccionar rol del usuario&quot;, Toast.LENGTH_LONG).show();\r\n                    }else{\r\n                        EditarUsuario(nombreCompleto, email, contrase&#241;a, rol);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return root;\r\n    }\r\n\r\n```\r\n\r\nthe getUser() method gets the data from me and binds it to each textView, spinner, etc. element.\r\n\r\n```\r\nprivate void getUsuario(){\r\n        mFirestore.collection(&quot;usuarios&quot;).document(id_usuario).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                String nombreCompleto = documentSnapshot.getString(&quot;nombreCompleto&quot;);\r\n                String email = documentSnapshot.getString(&quot;email&quot;);\r\n                String contrase&#241;a = documentSnapshot.getString(&quot;contrase&#241;a&quot;);\r\n                String rol = documentSnapshot.getString(&quot;rol&quot;);\r\n\r\n                etNombresApellidos.setText(nombreCompleto);\r\n                etEmail.setText(email);\r\n                etContrase&#241;a.setText(contrase&#241;a);\r\n                etConfirmarContrase&#241;a.setText(&quot;&quot;);\r\n\r\n                if (rol == &quot;Administrador&quot;){\r\n\r\n                }else if (rol ==&quot;Colaborador&quot;)\r\n                {\r\n\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getContext(), &quot;Error al obtener los datos&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nAll the textviews load me normally, but the spinner, how do I make the condition that if it has a Collaborator role, for example, in the spinner, that value is selected? \r\n\r\nI have tried with spinner.setSelection(int position) but it doesn&#39;t work\r\n\r\n[![Collection Usuarios Firestore][1]][1]\r\n\r\n\r\n[![Auth Usuarios][2]][2]\r\n\r\n[![roles][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AAAIz.png\r\n  [2]: https://i.stack.imgur.com/h1cIC.png\r\n  [3]: https://i.stack.imgur.com/K72rV.png\r\n\r\n\r\nOr the best would be to create a roles collection in Firestore?","title":"Get data from Firestore and load in spinner","body":"<p>Can you guide me how I can obtain data from a document in Firestore and load it in a spinner, I have a user model that I want to update and I want it to load the value of its charge in the spinner :/</p>\n<p>In the Values ​​package I have a roles resource</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;string-array name=&quot;combo_roles&quot;&gt;\n        &lt;item&gt;Administrador&lt;/item&gt;\n        &lt;item&gt;Colaborador&lt;/item&gt;\n    &lt;/string-array&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>In the DatosUsuarioFragment fragment I get and fill the spinner in the onCreateView method like this:</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View root = inflater.inflate(R.layout.fragment_datos_usuario, container, false);\n\n        mFirestore = FirebaseFirestore.getInstance();\n        mAuth = FirebaseAuth.getInstance();\n\n        \n        spinnerRoles = root.findViewById(R.id.spinnerRoles);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(getContext(), R.array.combo_roles, androidx.appcompat.R.layout.support_simple_spinner_dropdown_item);\n        spinnerRoles.setAdapter(adapter);\n\n        btnGuardarUsuario = root.findViewById(R.id.btnGuardarUsuario);\n\n        if (id_usuario == null || id_usuario==&quot;&quot;){\n            \n                    String rol = spinnerRoles.getSelectedItem().toString();\n\n                    if (spinnerRoles.getSelectedItem().toString().isEmpty()){\n                        Toast.makeText(getContext(),&quot;Seleccionar rol del usuario&quot;, Toast.LENGTH_LONG).show(); \n                    }else{\n                        GuardarUsuario(nombreCompleto, email, contraseña, rol);\n                    }\n                }\n            });\n        }else{\n            GetUsuario();\n            btnGuardarUsuario.setText(&quot;Update user&quot;);\n            btnGuardarUsuario.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    \n                    String rol = spinnerRoles.getSelectedItem().toString();\n\n                    if (spinnerRoles.getSelectedItem().toString().isEmpty()){\n                        Toast.makeText(getContext(),&quot;Seleccionar rol del usuario&quot;, Toast.LENGTH_LONG).show();\n                    }else{\n                        EditarUsuario(nombreCompleto, email, contraseña, rol);\n                    }\n                }\n            });\n        }\n\n        return root;\n    }\n\n</code></pre>\n<p>the getUser() method gets the data from me and binds it to each textView, spinner, etc. element.</p>\n<pre><code>private void getUsuario(){\n        mFirestore.collection(&quot;usuarios&quot;).document(id_usuario).get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onSuccess(DocumentSnapshot documentSnapshot) {\n                String nombreCompleto = documentSnapshot.getString(&quot;nombreCompleto&quot;);\n                String email = documentSnapshot.getString(&quot;email&quot;);\n                String contraseña = documentSnapshot.getString(&quot;contraseña&quot;);\n                String rol = documentSnapshot.getString(&quot;rol&quot;);\n\n                etNombresApellidos.setText(nombreCompleto);\n                etEmail.setText(email);\n                etContraseña.setText(contraseña);\n                etConfirmarContraseña.setText(&quot;&quot;);\n\n                if (rol == &quot;Administrador&quot;){\n\n                }else if (rol ==&quot;Colaborador&quot;)\n                {\n\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getContext(), &quot;Error al obtener los datos&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p>All the textviews load me normally, but the spinner, how do I make the condition that if it has a Collaborator role, for example, in the spinner, that value is selected?</p>\n<p>I have tried with spinner.setSelection(int position) but it doesn't work</p>\n<p><a href=\"https://i.stack.imgur.com/AAAIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAAIz.png\" alt=\"Collection Usuarios Firestore\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/h1cIC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h1cIC.png\" alt=\"Auth Usuarios\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/K72rV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K72rV.png\" alt=\"roles\" /></a></p>\n<p>Or the best would be to create a roles collection in Firestore?</p>\n"},{"tags":["java","apache-flink","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678972235,"creation_date":1678972235,"answer_id":75756733,"question_id":75756467,"body_markdown":"There is an example of how to receive values from the map sorted by keys:\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        HashMap&lt;Integer, Character&gt; map = new HashMap&lt;&gt;();\r\n        \r\n        map.put(1, &#39;A&#39;);\r\n        map.put(2, &#39;B&#39;);\r\n        map.put(3, &#39;C&#39;);\r\n        map.put(4, &#39;A&#39;);\r\n        map.put(5, &#39;C&#39;);\r\n        map.put(6, &#39;B&#39;);\r\n        map.put(7, &#39;D&#39;);\r\n        map.put(8, &#39;D&#39;);\r\n        map.put(9, &#39;A&#39;);\r\n        map.put(10, &#39;D&#39;);\r\n\r\n        System.out.println(&quot;Sorted by keySet stream:&quot;);\r\n        map.keySet().stream()\r\n                .sorted()\r\n                .forEach(key -&gt; System.out.println(map.get(key)));\r\n        \r\n        System.out.println(&quot;\\nSorted by entrySet stream:&quot;);\r\n        map.entrySet().stream()\r\n                .sorted(Comparator.comparingInt(Map.Entry::getKey)) // &lt; after this line your map will be sorted by key\r\n                                                                    // &lt; and you can follow your logic with this sorted data\r\n                .forEach(System.out::println);\r\n\r\n        List&lt;Character&gt; sortedByKeys = map.keySet().stream()\r\n                .sorted()\r\n                .map(map::get)\r\n                .collect(Collectors.toList());\r\n        \r\n        System.out.println(&quot;\\nsorted list:&quot;);\r\n        sortedByKeys.forEach(System.out::println);\r\n    }\r\n```","title":"out of order events in a generated event streams from a text file","body":"<p>There is an example of how to receive values from the map sorted by keys:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        HashMap&lt;Integer, Character&gt; map = new HashMap&lt;&gt;();\n        \n        map.put(1, 'A');\n        map.put(2, 'B');\n        map.put(3, 'C');\n        map.put(4, 'A');\n        map.put(5, 'C');\n        map.put(6, 'B');\n        map.put(7, 'D');\n        map.put(8, 'D');\n        map.put(9, 'A');\n        map.put(10, 'D');\n\n        System.out.println(&quot;Sorted by keySet stream:&quot;);\n        map.keySet().stream()\n                .sorted()\n                .forEach(key -&gt; System.out.println(map.get(key)));\n        \n        System.out.println(&quot;\\nSorted by entrySet stream:&quot;);\n        map.entrySet().stream()\n                .sorted(Comparator.comparingInt(Map.Entry::getKey)) // &lt; after this line your map will be sorted by key\n                                                                    // &lt; and you can follow your logic with this sorted data\n                .forEach(System.out::println);\n\n        List&lt;Character&gt; sortedByKeys = map.keySet().stream()\n                .sorted()\n                .map(map::get)\n                .collect(Collectors.toList());\n        \n        System.out.println(&quot;\\nsorted list:&quot;);\n        sortedByKeys.forEach(System.out::println);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678992022,"creation_date":1678992022,"answer_id":75760421,"question_id":75756467,"body_markdown":"You are sorting within each window, but in such a way that each window only has events for the same timestamp, so the sorting has no effect. The problem is caused by `keyBy(&quot;timestamp&quot;)`.\r\n\r\nIf you want to do a global sort across all of the data, then don&#39;t use keyBy, and use \r\n\r\n```\r\n.windowAll(TumblingEventTimeWindows.of(Time.seconds(5)))\r\n```\r\n\r\nIf you want to sort independently for each type, then key by the type (rather than the timestamp), and continue using window (rather than windowAll).","title":"out of order events in a generated event streams from a text file","body":"<p>You are sorting within each window, but in such a way that each window only has events for the same timestamp, so the sorting has no effect. The problem is caused by <code>keyBy(&quot;timestamp&quot;)</code>.</p>\n<p>If you want to do a global sort across all of the data, then don't use keyBy, and use</p>\n<pre><code>.windowAll(TumblingEventTimeWindows.of(Time.seconds(5)))\n</code></pre>\n<p>If you want to sort independently for each type, then key by the type (rather than the timestamp), and continue using window (rather than windowAll).</p>\n"}],"owner":{"account_id":24405277,"reputation":5,"user_id":18333545,"display_name":"Majid Lotfian Delouee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679672836,"creation_date":1678970735,"question_id":75756467,"body_markdown":"In my Flinkcep application, I have a text file containing simple data (timestamp, type) as follow:\r\n\r\n```\r\n1,A\r\n2,B\r\n3,C\r\n4,A\r\n5,C\r\n6,B\r\n7,D\r\n8,D\r\n9,A\r\n10,D\r\n```\r\nI can read this file and create an event stream from it, each event has a long field called &quot;timestamp&quot; and a string field called &quot;type&quot;. But the problem is the generated event stream from this file is out of order.\r\nI checked both &quot;print()&quot; method and also write the event stream in a text file. the output is something like this :\r\n```\r\n9:A\r\n1:A\r\n10:D\r\n5:C\r\n3:C\r\n2:B\r\n7:D\r\n6:B\r\n4:A\r\n8:D\r\n```\r\n\r\n**my code is here:**\r\n\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n\r\n\r\n\r\n        // Set up the Flink execution environment\r\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n\r\n// Define the input data format\r\n        TextInputFormat inputFormat = new TextInputFormat(new Path(&quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/input_folder/input.txt&quot;));\r\n\r\n// read the input data from a file\r\n        DataStream&lt;DataEvent&gt; eventStream = env.readFile(inputFormat, &quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/input_folder/input.txt&quot;)\r\n                .map(new MapFunction&lt;String, DataEvent&gt;() {\r\n                    @Override\r\n                    public DataEvent map(String value) throws Exception {\r\n                        // Parse the line into an event object\r\n                        String[] fields = value.split(&quot;,&quot;);\r\n                        long timestamp = Integer.parseInt(fields[0]);\r\n                        String type = fields[1];\r\n                        DataEvent event = new DataEvent(timestamp,type);\r\n                        //event.setTimestamp(timestamp);\r\n                        return event;\r\n                    }\r\n                })\r\n                // Assign timestamps and watermarks\r\n                .assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;DataEvent&gt;() {\r\n                    private long currentMaxTimestamp;\r\n                    private final long maxOutOfOrderness = 10000; // 10 seconds\r\n\r\n                    @Nullable\r\n                    @Override\r\n                    public Watermark getCurrentWatermark() {\r\n                        return new Watermark(currentMaxTimestamp - maxOutOfOrderness);\r\n                    }\r\n\r\n                    @Override\r\n                    public long extractTimestamp(DataEvent element, long previousElementTimestamp) {\r\n                        long timestamp = element.getTimestamp();\r\n                        currentMaxTimestamp = Math.max(currentMaxTimestamp, timestamp);\r\n                        return timestamp;\r\n                    }\r\n                });\r\n\r\n// partition the events by their timestamp field and group them into 5-second windows\r\n        DataStream&lt;DataEvent&gt; windowedEvents = eventStream\r\n                .keyBy(&quot;timestamp&quot;)\r\n                .window(TumblingEventTimeWindows.of(Time.seconds(5)))\r\n                .process(new ProcessWindowFunction&lt;DataEvent, DataEvent, Tuple, TimeWindow&gt;() {\r\n                    @Override\r\n                    public void process(Tuple key, Context context, Iterable&lt;DataEvent&gt; elements, Collector&lt;DataEvent&gt; out) throws Exception {\r\n                        // Sort the events within the window based on their timestamp field\r\n                        List&lt;DataEvent&gt; events = new ArrayList&lt;&gt;();\r\n                        for (DataEvent event : elements) {\r\n                            events.add(event);\r\n                        }\r\n                        Collections.sort(events, new Comparator&lt;DataEvent&gt;() {\r\n                            @Override\r\n                            public int compare(DataEvent event1, DataEvent event2) {\r\n                                return Long.compare(event1.getTimestamp(), event2.getTimestamp());\r\n                            }\r\n                        });\r\n                        for (DataEvent event : events) {\r\n                            out.collect(event);\r\n                        }\r\n                    }\r\n                });\r\n\r\n// print the windowed event stream\r\n        windowedEvents.print();\r\n\r\n// write the windowed events to a text file\r\n        String outputPath = &quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/output_folder/output.txt&quot;;\r\n        windowedEvents.map(new MapFunction&lt;DataEvent, String&gt;() {\r\n                    @Override\r\n                    public String map(DataEvent value) throws Exception {\r\n                        return value.getTimestamp()+&quot;:&quot;+value.getType();\r\n                    }\r\n                })\r\n                .writeAsText(outputPath, FileSystem.WriteMode.OVERWRITE)\r\n                .setParallelism(1);  // ensure that events are written in order\r\n\r\n\r\n        env.execute(&quot;EventStreamCEP&quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nMy question is how can I correct the out of order events? I this a problem with reading from a file?\r\n\r\nI tried Assign timestamps and watermarks but it did not work.","title":"out of order events in a generated event streams from a text file","body":"<p>In my Flinkcep application, I have a text file containing simple data (timestamp, type) as follow:</p>\n<pre><code>1,A\n2,B\n3,C\n4,A\n5,C\n6,B\n7,D\n8,D\n9,A\n10,D\n</code></pre>\n<p>I can read this file and create an event stream from it, each event has a long field called &quot;timestamp&quot; and a string field called &quot;type&quot;. But the problem is the generated event stream from this file is out of order.\nI checked both &quot;print()&quot; method and also write the event stream in a text file. the output is something like this :</p>\n<pre><code>9:A\n1:A\n10:D\n5:C\n3:C\n2:B\n7:D\n6:B\n4:A\n8:D\n</code></pre>\n<p><strong>my code is here:</strong></p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n\n\n        // Set up the Flink execution environment\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n\n// Define the input data format\n        TextInputFormat inputFormat = new TextInputFormat(new Path(&quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/input_folder/input.txt&quot;));\n\n// read the input data from a file\n        DataStream&lt;DataEvent&gt; eventStream = env.readFile(inputFormat, &quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/input_folder/input.txt&quot;)\n                .map(new MapFunction&lt;String, DataEvent&gt;() {\n                    @Override\n                    public DataEvent map(String value) throws Exception {\n                        // Parse the line into an event object\n                        String[] fields = value.split(&quot;,&quot;);\n                        long timestamp = Integer.parseInt(fields[0]);\n                        String type = fields[1];\n                        DataEvent event = new DataEvent(timestamp,type);\n                        //event.setTimestamp(timestamp);\n                        return event;\n                    }\n                })\n                // Assign timestamps and watermarks\n                .assignTimestampsAndWatermarks(new AssignerWithPeriodicWatermarks&lt;DataEvent&gt;() {\n                    private long currentMaxTimestamp;\n                    private final long maxOutOfOrderness = 10000; // 10 seconds\n\n                    @Nullable\n                    @Override\n                    public Watermark getCurrentWatermark() {\n                        return new Watermark(currentMaxTimestamp - maxOutOfOrderness);\n                    }\n\n                    @Override\n                    public long extractTimestamp(DataEvent element, long previousElementTimestamp) {\n                        long timestamp = element.getTimestamp();\n                        currentMaxTimestamp = Math.max(currentMaxTimestamp, timestamp);\n                        return timestamp;\n                    }\n                });\n\n// partition the events by their timestamp field and group them into 5-second windows\n        DataStream&lt;DataEvent&gt; windowedEvents = eventStream\n                .keyBy(&quot;timestamp&quot;)\n                .window(TumblingEventTimeWindows.of(Time.seconds(5)))\n                .process(new ProcessWindowFunction&lt;DataEvent, DataEvent, Tuple, TimeWindow&gt;() {\n                    @Override\n                    public void process(Tuple key, Context context, Iterable&lt;DataEvent&gt; elements, Collector&lt;DataEvent&gt; out) throws Exception {\n                        // Sort the events within the window based on their timestamp field\n                        List&lt;DataEvent&gt; events = new ArrayList&lt;&gt;();\n                        for (DataEvent event : elements) {\n                            events.add(event);\n                        }\n                        Collections.sort(events, new Comparator&lt;DataEvent&gt;() {\n                            @Override\n                            public int compare(DataEvent event1, DataEvent event2) {\n                                return Long.compare(event1.getTimestamp(), event2.getTimestamp());\n                            }\n                        });\n                        for (DataEvent event : events) {\n                            out.collect(event);\n                        }\n                    }\n                });\n\n// print the windowed event stream\n        windowedEvents.print();\n\n// write the windowed events to a text file\n        String outputPath = &quot;/home/majidlotfian/flink/flink-quickstart/PLprivacy/output_folder/output.txt&quot;;\n        windowedEvents.map(new MapFunction&lt;DataEvent, String&gt;() {\n                    @Override\n                    public String map(DataEvent value) throws Exception {\n                        return value.getTimestamp()+&quot;:&quot;+value.getType();\n                    }\n                })\n                .writeAsText(outputPath, FileSystem.WriteMode.OVERWRITE)\n                .setParallelism(1);  // ensure that events are written in order\n\n\n        env.execute(&quot;EventStreamCEP&quot;);\n  }\n}\n\n</code></pre>\n<p>My question is how can I correct the out of order events? I this a problem with reading from a file?</p>\n<p>I tried Assign timestamps and watermarks but it did not work.</p>\n"},{"tags":["java","spring","gateway"],"answers":[{"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1570048232,"creation_date":1519846264,"answer_id":49037218,"question_id":48632054,"body_markdown":"A `rewritePath` filter has to be used:\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n    \t    return builder.routes()\r\n    \t        .route(&quot;users&quot;, t -&gt; t.path(&quot;/users&quot;)\r\n                    .uri(&quot;http://localhost:8080/users&quot;))\r\n    \t\t    .route(&quot;userById&quot;, t -&gt; t.path(&quot;/users/**&quot;)\r\n    \t\t\t    .filters(rw -&gt; rw.rewritePath(&quot;/users/(?&lt;segment&gt;.*)&quot;, &quot;/users/${segment}&quot;))\r\n    \t\t\t    .uri(&quot;http://localhost:8080/users/&quot;))\r\n    \t    .build();\r\n    \t}\r\n\r\nThe YAML version is specified in the [documentation][1]:\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n          - id: rewritepath_route\r\n            uri: http://example.org\r\n            predicates:\r\n            - Path=/foo/**\r\n            filters:\r\n            - RewritePath=/foo/(?&lt;segment&gt;.*), /$\\{segment}\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#rewritepath-gatewayfilter-factory","title":"Spring Cloud Gateway 2.0 forward path variable","body":"<p>A <code>rewritePath</code> filter has to be used:</p>\n\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder builder) {\n        return builder.routes()\n            .route(\"users\", t -&gt; t.path(\"/users\")\n                .uri(\"http://localhost:8080/users\"))\n            .route(\"userById\", t -&gt; t.path(\"/users/**\")\n                .filters(rw -&gt; rw.rewritePath(\"/users/(?&lt;segment&gt;.*)\", \"/users/${segment}\"))\n                .uri(\"http://localhost:8080/users/\"))\n        .build();\n    }\n</code></pre>\n\n<p>The YAML version is specified in the <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#rewritepath-gatewayfilter-factory\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: rewritepath_route\n        uri: http://example.org\n        predicates:\n        - Path=/foo/**\n        filters:\n        - RewritePath=/foo/(?&lt;segment&gt;.*), /$\\{segment}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5205027,"reputation":6298,"user_id":4163254,"accept_rate":86,"display_name":"avi.elkharrat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529067716,"creation_date":1529067716,"answer_id":50876203,"question_id":48632054,"body_markdown":"After some research, please find below what worked for me. Both methods produce the same result.\r\n\r\nHere is my set-up: \r\n \r\n * the gateway is running on `http://localhost:8090`\r\n * a base path called `/context` serves as the entry point of the gateway\r\n * a service called `my-resources` running on `http://localhost:8091/my-resources`. When `/my-resources` is invoked without parameters, it returns all resources. When it is invoked with a parameters it returns the resource with the corresponding `RID` (if any)\r\n\r\nThe gateway is configured so that all path variables (possibly none) transmitted to `http://localhost:8090/context/my-resources/` is forwarded to uri `http://localhost:8091/my-resources/`.\r\n\r\n### Method 1: using `application.yml`\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n          - id: route_id\r\n            predicates:\r\n            - Path=/context/my-resources/**\r\n            filters:\r\n            - RewritePath=/context/my-resources/(?&lt;RID&gt;.*), /my-resources/$\\{RID}\r\n            uri: http://localhost:8091\r\n\r\n### Method 2: using Java like configuration\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder routeBuilder) {\r\n        return routeBuilder.routes()\r\n                .route(&quot;route_id&quot;,\r\n                        route -&gt; route\r\n                                .path(&quot;/context/my-resources/**&quot;)\r\n                                .filters(f -&gt; f.rewritePath(&quot;/context/my-resources/(?&lt;RID&gt;.*)&quot;, &quot;/my-resources/${RID}&quot;))\r\n                                .uri(&quot;http://localhost:8091&quot;)\r\n                )\r\n                .build();\r\n    }\r\n\r\n","title":"Spring Cloud Gateway 2.0 forward path variable","body":"<p>After some research, please find below what worked for me. Both methods produce the same result.</p>\n\n<p>Here is my set-up: </p>\n\n<ul>\n<li>the gateway is running on <code>http://localhost:8090</code></li>\n<li>a base path called <code>/context</code> serves as the entry point of the gateway</li>\n<li>a service called <code>my-resources</code> running on <code>http://localhost:8091/my-resources</code>. When <code>/my-resources</code> is invoked without parameters, it returns all resources. When it is invoked with a parameters it returns the resource with the corresponding <code>RID</code> (if any)</li>\n</ul>\n\n<p>The gateway is configured so that all path variables (possibly none) transmitted to <code>http://localhost:8090/context/my-resources/</code> is forwarded to uri <code>http://localhost:8091/my-resources/</code>.</p>\n\n<h3>Method 1: using <code>application.yml</code></h3>\n\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: route_id\n        predicates:\n        - Path=/context/my-resources/**\n        filters:\n        - RewritePath=/context/my-resources/(?&lt;RID&gt;.*), /my-resources/$\\{RID}\n        uri: http://localhost:8091\n</code></pre>\n\n<h3>Method 2: using Java like configuration</h3>\n\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder routeBuilder) {\n    return routeBuilder.routes()\n            .route(\"route_id\",\n                    route -&gt; route\n                            .path(\"/context/my-resources/**\")\n                            .filters(f -&gt; f.rewritePath(\"/context/my-resources/(?&lt;RID&gt;.*)\", \"/my-resources/${RID}\"))\n                            .uri(\"http://localhost:8091\")\n            )\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16122063,"reputation":1,"user_id":11637805,"display_name":"Willikins Gon&#231;alves"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679672491,"creation_date":1679672491,"answer_id":75835654,"question_id":48632054,"body_markdown":"Here&#39;s an example of how I was able to make it work using routes for multiple services. In this case, I used the &quot;aplication.properties&quot; file instead of a &quot;yml&quot; file. \r\n\r\n\r\n    spring.cloud.gateway.routes[0].id=service-sample\r\n    spring.cloud.gateway.routes[0].uri=lb://service-samp\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/api/sample/**\r\n    spring.cloud.gateway.routes[0].filters[0]=RewritePath=/api/sample/(?&lt;segment&gt;.*), /api/sample/${segment}\r\n\r\n    spring.cloud.gateway.routes[1].id=service-test-new\r\n    spring.cloud.gateway.routes[1].uri=lb://service-test\r\n    spring.cloud.gateway.routes[1].predicates[0]=Path=/api/test/**\r\n    spring.cloud.gateway.routes[1].filters[0]=RewritePath=/api/test/(?&lt;segment&gt;.*), /api/test/${segment}","title":"Spring Cloud Gateway 2.0 forward path variable","body":"<p>Here's an example of how I was able to make it work using routes for multiple services. In this case, I used the &quot;aplication.properties&quot; file instead of a &quot;yml&quot; file.</p>\n<pre><code>spring.cloud.gateway.routes[0].id=service-sample\nspring.cloud.gateway.routes[0].uri=lb://service-samp\nspring.cloud.gateway.routes[0].predicates[0]=Path=/api/sample/**\nspring.cloud.gateway.routes[0].filters[0]=RewritePath=/api/sample/(?&lt;segment&gt;.*), /api/sample/${segment}\n\nspring.cloud.gateway.routes[1].id=service-test-new\nspring.cloud.gateway.routes[1].uri=lb://service-test\nspring.cloud.gateway.routes[1].predicates[0]=Path=/api/test/**\nspring.cloud.gateway.routes[1].filters[0]=RewritePath=/api/test/(?&lt;segment&gt;.*), /api/test/${segment}\n</code></pre>\n"}],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17132,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":49037218,"answer_count":3,"score":7,"last_activity_date":1679672491,"creation_date":1517867339,"question_id":48632054,"body_markdown":"How to forward a path variable in Spring Cloud Gateway 2.0?\r\n\r\nIf we have an microservice that has 2 endpoints: `/users` and `/users/{id}` and is running on port 8080, how to forward the request to the endpoint with the id path variable?\r\n\r\nThe following gateway configuration successfully forwards to the `/users` end point, but the second route forwards the request to the same `/users` endpoint of the real service.\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder) {\r\n    \treturn builder.routes()\r\n    \t\t.route(&quot;users&quot;, t -&gt; t.path(&quot;/users&quot;).uri(&quot;http://localhost:8080/users&quot;))\r\n    \t\t.route(&quot;userById&quot;, t -&gt; t.path(&quot;/users/**&quot;).uri(&quot;http://localhost:8080/users/&quot;))\r\n    \t\t.build();\r\n    }\r\n\r\nI&#39;m using `spring-cloud-starter-gateway` from spring cloud `Finchley.BUILD-SNAPSHOT`","title":"Spring Cloud Gateway 2.0 forward path variable","body":"<p>How to forward a path variable in Spring Cloud Gateway 2.0?</p>\n\n<p>If we have an microservice that has 2 endpoints: <code>/users</code> and <code>/users/{id}</code> and is running on port 8080, how to forward the request to the endpoint with the id path variable?</p>\n\n<p>The following gateway configuration successfully forwards to the <code>/users</code> end point, but the second route forwards the request to the same <code>/users</code> endpoint of the real service.</p>\n\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(\"users\", t -&gt; t.path(\"/users\").uri(\"http://localhost:8080/users\"))\n        .route(\"userById\", t -&gt; t.path(\"/users/**\").uri(\"http://localhost:8080/users/\"))\n        .build();\n}\n</code></pre>\n\n<p>I'm using <code>spring-cloud-starter-gateway</code> from spring cloud <code>Finchley.BUILD-SNAPSHOT</code></p>\n"},{"tags":["java","android","android-studio","android-studio-3.0"],"answers":[{"tags":[],"owner":{"account_id":14259398,"reputation":3726,"user_id":10300673,"display_name":"Nikos Hidalgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576835321,"creation_date":1576835321,"answer_id":59423104,"question_id":59422974,"body_markdown":"When your dependencies are outdated or Android Studio detects that some of the libraries you&#39;re using have a new version released, it prompts you to open the Project Structure dialog (also found under *File -&gt; Project Structure*) from where you can automatically update them to use the latest versions. \r\n\r\nYou don&#39;t have to do it if you don&#39;t want to, or if you know that some of those libraries introduce breaking changes for which you still don&#39;t cater, hence the &quot;Hide Notification&quot; option.","title":"Android Studio : message &quot;Configure project in Project Structure dialog&quot;","body":"<p>When your dependencies are outdated or Android Studio detects that some of the libraries you're using have a new version released, it prompts you to open the Project Structure dialog (also found under <em>File -> Project Structure</em>) from where you can automatically update them to use the latest versions. </p>\n\n<p>You don't have to do it if you don't want to, or if you know that some of those libraries introduce breaking changes for which you still don't cater, hence the \"Hide Notification\" option.</p>\n"}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2862,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679672069,"creation_date":1576834851,"question_id":59422974,"body_markdown":"I suddenly have the following message in my Android Studio window: &quot;Configure project in Project Structure dialog&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jf4SI.png\r\n\r\n\r\nWhat does that mean? What should I do to get rid of this message properly, without just clicking on &#39;Hide notification&#39; ? \r\n\r\nNote: my project compiles correctly. No visible problem due to this message.\r\n\r\nThanks for your help.","title":"Android Studio : message &quot;Configure project in Project Structure dialog&quot;","body":"<p>I suddenly have the following message in my Android Studio window: \"Configure project in Project Structure dialog\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/jf4SI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jf4SI.png\" alt=\"enter image description here\"></a></p>\n\n<p>What does that mean? What should I do to get rid of this message properly, without just clicking on 'Hide notification' ? </p>\n\n<p>Note: my project compiles correctly. No visible problem due to this message.</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","google-bigquery","ssl-certificate","tableau-api","service-accounts"],"owner":{"account_id":28115628,"reputation":1,"user_id":21482778,"display_name":"t21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679672039,"creation_date":1679672039,"question_id":75835571,"body_markdown":"I am able to connect to BigQuery using OAuth but I am unable to connect using service account. I keep getting the following error in my logs: \r\n\r\n*&quot;Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;*\r\n\r\nSo I have a feeling it has to do with adding the right certificate, but because of my company restrictions I cannot use keystore command and I am trying to override whatever certificate tableau is using to connect to BQ with another certificate, **but I don&#39;t know where to put the ssl certificate so that Tableau can read that.** \r\n\r\nI have tried multiple things: I have tried downloading certificates from https://www.googleapis.com, since this website in the logs, and tried installing the certificates in various locations but its not working. \r\n\r\n","title":"Tableau 2021.3.9 connection to Big Query using Service Account error","body":"<p>I am able to connect to BigQuery using OAuth but I am unable to connect using service account. I keep getting the following error in my logs:</p>\n<p><em>&quot;Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;</em></p>\n<p>So I have a feeling it has to do with adding the right certificate, but because of my company restrictions I cannot use keystore command and I am trying to override whatever certificate tableau is using to connect to BQ with another certificate, <strong>but I don't know where to put the ssl certificate so that Tableau can read that.</strong></p>\n<p>I have tried multiple things: I have tried downloading certificates from <a href=\"https://www.googleapis.com\" rel=\"nofollow noreferrer\">https://www.googleapis.com</a>, since this website in the logs, and tried installing the certificates in various locations but its not working.</p>\n"},{"tags":["java","spring","authentication","thymeleaf","vault"],"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679671862,"creation_date":1679671862,"question_id":75835541,"body_markdown":"I am building an application with Java Spring as the backend along with Thymeleaf templates to read secrets from Vault. \r\n\r\nHowever, I am not sure how to log in to Vault from the rest controller I have created on the back end. I think it may have something to do with sending a POST call with the username and the password in the request body and the token as a request parameter but I am not sure how to implement the same in Java.\r\n\r\nDoes anyone know how to do this or can point me to a guide I can refer to?\r\n\r\nThank you","title":"Login to Hashicorp Vault with Java Spring Boot","body":"<p>I am building an application with Java Spring as the backend along with Thymeleaf templates to read secrets from Vault.</p>\n<p>However, I am not sure how to log in to Vault from the rest controller I have created on the back end. I think it may have something to do with sending a POST call with the username and the password in the request body and the token as a request parameter but I am not sure how to implement the same in Java.</p>\n<p>Does anyone know how to do this or can point me to a guide I can refer to?</p>\n<p>Thank you</p>\n"},{"tags":["java"],"owner":{"account_id":28115290,"reputation":1,"user_id":21482477,"display_name":"Sidney castro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679671241,"creation_date":1679671241,"question_id":75835440,"body_markdown":"I&#39;m making an app that takes the text, photo and voice message from WhatsApp in the notification bar and saves it internally, but I&#39;m not getting the voice message\r\n\r\n public void onNotificationPosted(StatusBarNotification sbn) {\r\n       super.onNotificationPosted(sbn);\r\n\r\n        Notification notification = sbn.getNotification();\r\n        Bundle extras = sbn.getNotification().extras;\r\n        int iconId = extras.getInt(Notification.EXTRA_SMALL_ICON);\r\n    //    bmp = (Bitmap) sbn.getNotification().extras.get(Notification.getLargeIcon);\r\n       // Bitmap bm1 = (Bitmap) sbn.getNotification().extras.get(notification.EXTRA_PICTURE);\r\n       // bmp = sbn.getNotification().largeIcon;\r\n     //   Icon ico = sbn.getNotification().getLargeIcon();\r\n        if (null == notification) return;\r\n        // 当 API &gt; 18 时，使用 extras 获取通知的详细信息\r\n       // Icon icon = sbn.getNotification().getLargeIcon();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\r\n            notificationPkg = TextUtils.isEmpty(sbn.getPackageName()) ? &quot;&quot; : sbn.getPackageName();\r\n            notificationTitle = extras.getString(Notification.EXTRA_TITLE, &quot;&quot;);\r\n            notificationText = extras.getString(Notification.EXTRA_TEXT, &quot;&quot;);\r\n           // imgkey             = extras.getByteArray(Notification.;\r\n        } else {\r\n            List&lt;String&gt; textList = getText(notification);\r\n            if (textList != null &amp;&amp; textList.size() &gt; 0) {\r\n                for (String text : textList) {\r\n                    if (!TextUtils.isEmpty(text)) {\r\n                        notificationText = text;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Log.v(&quot;notify:&quot;, notificationPkg + &quot; &amp; &quot; + notificationTitle + &quot; &amp; &quot; + notificationText);\r\n        if (!TextUtils.isEmpty(notificationPkg)) {\r\n\r\n            if (!TextUtils.isEmpty(notificationText)) {\r\n\r\n                Intent intent = new Intent(MainActivity.ACTION_BOARDCAST);\r\n                intent.putExtra(&quot;notifyType&quot;, 1);\r\n                intent.putExtra(&quot;title&quot;, notificationTitle);\r\n                intent.putExtra(&quot;content&quot;, notificationText);\r\n                intent.putExtra(&quot;pacote&quot;, notificationPkg);\r\n                intent.putExtra(&quot;notifica&quot;, notifica);\r\n                intent.putExtra(&quot;tem&quot;, &quot;N&quot;);\r\n                intent.putExtra(&quot;teste&quot;, &quot;testado&quot;);\r\n\r\n               // Bitmap id = getNotification().EXTRA_PICTURE;\r\n               // intent.putExtra(&quot;id&quot;, id);\r\n\r\n                if(notificationText.contains(&quot;Foto&quot;) ) {\r\n               //     ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n               //     bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n               //     byte[] byteArray = stream.toByteArray();\r\n               //     intent.putExtra(&quot;icon&quot;,newIcon);\r\n                    intent.putExtra(&quot;tem&quot;,&quot;S&quot;);\r\n                }\r\n                if(notificationText.contains(&quot;voz&quot;) ) {\r\n\r\n                }\r\n                sendBroadcast(intent);\r\n            }\r\n        }\r\n    }","title":"how can i save a whatsapp voice message wue is in the notification bar with android studio","body":"<p>I'm making an app that takes the text, photo and voice message from WhatsApp in the notification bar and saves it internally, but I'm not getting the voice message</p>\n<p>public void onNotificationPosted(StatusBarNotification sbn) {\nsuper.onNotificationPosted(sbn);</p>\n<pre><code>    Notification notification = sbn.getNotification();\n    Bundle extras = sbn.getNotification().extras;\n    int iconId = extras.getInt(Notification.EXTRA_SMALL_ICON);\n//    bmp = (Bitmap) sbn.getNotification().extras.get(Notification.getLargeIcon);\n   // Bitmap bm1 = (Bitmap) sbn.getNotification().extras.get(notification.EXTRA_PICTURE);\n   // bmp = sbn.getNotification().largeIcon;\n //   Icon ico = sbn.getNotification().getLargeIcon();\n    if (null == notification) return;\n    // 当 API &gt; 18 时，使用 extras 获取通知的详细信息\n   // Icon icon = sbn.getNotification().getLargeIcon();\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {\n        notificationPkg = TextUtils.isEmpty(sbn.getPackageName()) ? &quot;&quot; : sbn.getPackageName();\n        notificationTitle = extras.getString(Notification.EXTRA_TITLE, &quot;&quot;);\n        notificationText = extras.getString(Notification.EXTRA_TEXT, &quot;&quot;);\n       // imgkey             = extras.getByteArray(Notification.;\n    } else {\n        List&lt;String&gt; textList = getText(notification);\n        if (textList != null &amp;&amp; textList.size() &gt; 0) {\n            for (String text : textList) {\n                if (!TextUtils.isEmpty(text)) {\n                    notificationText = text;\n                    break;\n                }\n            }\n        }\n    }\n    Log.v(&quot;notify:&quot;, notificationPkg + &quot; &amp; &quot; + notificationTitle + &quot; &amp; &quot; + notificationText);\n    if (!TextUtils.isEmpty(notificationPkg)) {\n\n        if (!TextUtils.isEmpty(notificationText)) {\n\n            Intent intent = new Intent(MainActivity.ACTION_BOARDCAST);\n            intent.putExtra(&quot;notifyType&quot;, 1);\n            intent.putExtra(&quot;title&quot;, notificationTitle);\n            intent.putExtra(&quot;content&quot;, notificationText);\n            intent.putExtra(&quot;pacote&quot;, notificationPkg);\n            intent.putExtra(&quot;notifica&quot;, notifica);\n            intent.putExtra(&quot;tem&quot;, &quot;N&quot;);\n            intent.putExtra(&quot;teste&quot;, &quot;testado&quot;);\n\n           // Bitmap id = getNotification().EXTRA_PICTURE;\n           // intent.putExtra(&quot;id&quot;, id);\n\n            if(notificationText.contains(&quot;Foto&quot;) ) {\n           //     ByteArrayOutputStream stream = new ByteArrayOutputStream();\n           //     bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\n           //     byte[] byteArray = stream.toByteArray();\n           //     intent.putExtra(&quot;icon&quot;,newIcon);\n                intent.putExtra(&quot;tem&quot;,&quot;S&quot;);\n            }\n            if(notificationText.contains(&quot;voz&quot;) ) {\n\n            }\n            sendBroadcast(intent);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["javascript","python","java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679676373,"post_id":75835326,"comment_id":133769592,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28112076,"reputation":11,"user_id":21479700,"display_name":"codeit482 t"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679670852,"creation_date":1679670563,"question_id":75835326,"body_markdown":"For document versioning for Mongo db with Java , is there any collection or feature similar to ‘historical Collection’ module which is available for Python like given in  [historical-collection][1]  ? Or similar to Mongoose versioned [mongoose-versioned][2]\r\n\r\nLooking for any modules or built in feature for version control of a document to be used for Java- Mongodb\r\n\r\nI have referred to the MongoDB Document Versioning Pattern blog, want to know if there is this feature built in with mongodb-java?\r\n\r\n\r\n  [1]: https://pypi.org/project/historical-collection/\r\n  [2]: https://github.com/pier4all/mongoose-versioned","title":"Is there any module or built in feature for Mongo db version Document control using java","body":"<p>For document versioning for Mongo db with Java , is there any collection or feature similar to ‘historical Collection’ module which is available for Python like given in  <a href=\"https://pypi.org/project/historical-collection/\" rel=\"nofollow noreferrer\">historical-collection</a>  ? Or similar to Mongoose versioned <a href=\"https://github.com/pier4all/mongoose-versioned\" rel=\"nofollow noreferrer\">mongoose-versioned</a></p>\n<p>Looking for any modules or built in feature for version control of a document to be used for Java- Mongodb</p>\n<p>I have referred to the MongoDB Document Versioning Pattern blog, want to know if there is this feature built in with mongodb-java?</p>\n"},{"tags":["java","jpa","spring-data-jpa","orm"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679512762,"post_id":75807416,"comment_id":133737282,"body_markdown":"This looks very complicated. The answer below shows that you can just use JPA&#39;s cascade remove to have the delete cascade over relationships in an object graph which may be what you want - but there should be no need to iterate over collections, call remove on them, and then saveAll on those same lists and pieces - which begs the question.. what are you really doing in those removeXXX calls? Are you just nulling out references? If you don&#39;t want those pieces deleted, then yes, you have to tell JPA how to handle any references to the entity you wish to remove, which means nulling them out","body":"This looks very complicated. The answer below shows that you can just use JPA&#39;s cascade remove to have the delete cascade over relationships in an object graph which may be what you want - but there should be no need to iterate over collections, call remove on them, and then saveAll on those same lists and pieces - which begs the question.. what are you really doing in those removeXXX calls? Are you just nulling out references? If you don&#39;t want those pieces deleted, then yes, you have to tell JPA how to handle any references to the entity you wish to remove, which means nulling them out"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679517692,"post_id":75807416,"comment_id":133738416,"body_markdown":"If you do this in the repository, within a single transaction, the code would be cleaner with no need to call other repositories. The findById would return a managed assessmentCenter and all changes to all interviewers, interviews and candidates would then also be managed in that transaction and get picked up when it commits. You&#39;d just need to call em.remove instead of the save and deleteById calls.","body":"If you do this in the repository, within a single transaction, the code would be cleaner with no need to call other repositories. The findById would return a managed assessmentCenter and all changes to all interviewers, interviews and candidates would then also be managed in that transaction and get picked up when it commits. You&#39;d just need to call em.remove instead of the save and deleteById calls."},{"owner":{"account_id":18635029,"reputation":117,"user_id":13582145,"display_name":"Rui"},"score":0,"creation_date":1679620965,"post_id":75807416,"comment_id":133758515,"body_markdown":"Hi Chris, you are right, I am just trying to null them. For example, if my &quot;AssessmentCenter&quot; hold a object of &quot;Candidate&quot;, and candidate hold an object of &quot;AssessmentCenter&quot;, than I have to manually remove the &quot;Candidate&quot; from &quot;AsssessmentCenter&quot; then &quot;AssessmentCenter&quot; from &quot;Candidate&quot;, in this case, would you recommend using the &quot;remove&quot; cascadeType? Thanks","body":"Hi Chris, you are right, I am just trying to null them. For example, if my &quot;AssessmentCenter&quot; hold a object of &quot;Candidate&quot;, and candidate hold an object of &quot;AssessmentCenter&quot;, than I have to manually remove the &quot;Candidate&quot; from &quot;AsssessmentCenter&quot; then &quot;AssessmentCenter&quot; from &quot;Candidate&quot;, in this case, would you recommend using the &quot;remove&quot; cascadeType? Thanks"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679668465,"post_id":75807416,"comment_id":133767396,"body_markdown":"The remove cascade option will cascade JPA delete/remove calls over the mapping&#39;s references, so you only use it when you want referenced entities to be deleted too - counter to what this code is doing. Cascade remove and orphan removal are for situations where you are trimming a branch and don&#39;t want to have to manually delete each leaf on that branch yourself. If you want to trim the branch but keep the leaves, you have to pluck each off and decide where/how to keep them. You are forced to null out foreign keys referencing AssessmentCenter when you want to remove it and keep the rest.","body":"The remove cascade option will cascade JPA delete/remove calls over the mapping&#39;s references, so you only use it when you want referenced entities to be deleted too - counter to what this code is doing. Cascade remove and orphan removal are for situations where you are trimming a branch and don&#39;t want to have to manually delete each leaf on that branch yourself. If you want to trim the branch but keep the leaves, you have to pluck each off and decide where/how to keep them. You are forced to null out foreign keys referencing AssessmentCenter when you want to remove it and keep the rest."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1679669447,"post_id":75807416,"comment_id":133767695,"body_markdown":"The AssessmentCenter should be aware of what is and how it fits into the object graph, and this type of logic is what normally goes into repository or service level constructs. So the AssessmentCenterService delete operation would be aware of all that needs to be done to remove AssessmentCenter - this might be just a JPA remove call, but more than likely includes lifecycle maintenance such as clean up  of references, cache invalidation and any other notifications/auditing that must happen around this. You don&#39;t have to null references from AssessmentCenter; just references to AssessmentCenter","body":"The AssessmentCenter should be aware of what is and how it fits into the object graph, and this type of logic is what normally goes into repository or service level constructs. So the AssessmentCenterService delete operation would be aware of all that needs to be done to remove AssessmentCenter - this might be just a JPA remove call, but more than likely includes lifecycle maintenance such as clean up  of references, cache invalidation and any other notifications/auditing that must happen around this. You don&#39;t have to null references from AssessmentCenter; just references to AssessmentCenter"}],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679454248,"creation_date":1679453427,"answer_id":75808067,"question_id":75807416,"body_markdown":"try using `CascadeType.REMOVE` in your `ManyToMany` and `OneToMany` relationships, it deletes child entities whenever the deletion of its parent happens.\r\n\r\ne.g.\r\n```\r\n@ManyToMany(mappedBy = &quot;accessmentCenters&quot;, cascade = CascadeType.REMOVE)\r\n@JsonIgnore\r\nprivate List&lt;Interviewer&gt; interviewers;\r\n```\r\n\r\nFor `OneToMany` relationships, you can also try setting `orphanRemoval = true`:\r\n```\r\n@OneToMany(mappedBy = &quot;accessmentCenter&quot;, orphanRemoval = true)\r\n@JsonIgnore\r\nprivate List&lt;Interview&gt; interviews;\r\n```\r\n\r\nAfterwards, in your `deleteAcById` method, you will just need to call `accessmentCenterRepository.deleteById`, and it will take care of the children entities for you.\r\n\r\nHope it helps.","title":"what is the best way to delete a bidirectional relationship in jpa?","body":"<p>try using <code>CascadeType.REMOVE</code> in your <code>ManyToMany</code> and <code>OneToMany</code> relationships, it deletes child entities whenever the deletion of its parent happens.</p>\n<p>e.g.</p>\n<pre><code>@ManyToMany(mappedBy = &quot;accessmentCenters&quot;, cascade = CascadeType.REMOVE)\n@JsonIgnore\nprivate List&lt;Interviewer&gt; interviewers;\n</code></pre>\n<p>For <code>OneToMany</code> relationships, you can also try setting <code>orphanRemoval = true</code>:</p>\n<pre><code>@OneToMany(mappedBy = &quot;accessmentCenter&quot;, orphanRemoval = true)\n@JsonIgnore\nprivate List&lt;Interview&gt; interviews;\n</code></pre>\n<p>Afterwards, in your <code>deleteAcById</code> method, you will just need to call <code>accessmentCenterRepository.deleteById</code>, and it will take care of the children entities for you.</p>\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679670519,"creation_date":1679670519,"answer_id":75835314,"question_id":75807416,"body_markdown":"You must null out reference to AssessmentCenter - it is the draw back and strength of referential integrity that these references keep you from removing the referenced data. While you may think of having to handle each reference yourself as tedious, it really does protect your application from errors - you must think of what you want to happen to each and every reference you have in your graph when one of the nodes disappears and ensure it is appropriately handled. Even when the database has mechanisms in the tables to null out foreign keys, this can (and will) leave the object model inconsistent with what is in the database. This is the best practice, as even before JPA there was a strong push that database objects be cached, which requires maintain the data in those objects and keeping them in synch with the database. Not doing so leads to all sorts of trouble and confusion, mostly seen in these forums around bidirectional relationships. And lets face it, constructs buried in DB logic future devs may not notice leads to data unknowingly being orphaned in legacy apps, and makes those legacy apps much more difficult to maintain.\r\n\r\nI normally see applications push to put such lifecycle logic either in repository or Service level classes. In this case, it would make sense to have a AssessmentCenterService class with specialized methods to handle what is required when you need to remove AssessmentCenter instances for various use cases your application may have - this then becomes the central spot for lifecycle operations around the AssessmentCenter data. AssessmentCenter references to other entities, and an entity&#39;s reference to AssessmentCenter may not always need to be cleaned up, but a service object would be the spot to know and make that decision. It should be the spot to know that when removing an AssesmentCenter, all interviews it took should be cleaned up (deleted as well) but candidates themselves need to be kept. It should null out Candidate references to this AssesmentCenter, or replace them with a holding AssesmentCenter reference, or some how give an indication in that data that the original center they applied no longer exists. Lifecycle management on the data might extend past the database as well - any caches or other VMs holding this data may need to be notified of the relevant changes to this data, so they can invalidate or refresh their view of it, and any external artifacts like file storage cleaned up.","title":"what is the best way to delete a bidirectional relationship in jpa?","body":"<p>You must null out reference to AssessmentCenter - it is the draw back and strength of referential integrity that these references keep you from removing the referenced data. While you may think of having to handle each reference yourself as tedious, it really does protect your application from errors - you must think of what you want to happen to each and every reference you have in your graph when one of the nodes disappears and ensure it is appropriately handled. Even when the database has mechanisms in the tables to null out foreign keys, this can (and will) leave the object model inconsistent with what is in the database. This is the best practice, as even before JPA there was a strong push that database objects be cached, which requires maintain the data in those objects and keeping them in synch with the database. Not doing so leads to all sorts of trouble and confusion, mostly seen in these forums around bidirectional relationships. And lets face it, constructs buried in DB logic future devs may not notice leads to data unknowingly being orphaned in legacy apps, and makes those legacy apps much more difficult to maintain.</p>\n<p>I normally see applications push to put such lifecycle logic either in repository or Service level classes. In this case, it would make sense to have a AssessmentCenterService class with specialized methods to handle what is required when you need to remove AssessmentCenter instances for various use cases your application may have - this then becomes the central spot for lifecycle operations around the AssessmentCenter data. AssessmentCenter references to other entities, and an entity's reference to AssessmentCenter may not always need to be cleaned up, but a service object would be the spot to know and make that decision. It should be the spot to know that when removing an AssesmentCenter, all interviews it took should be cleaned up (deleted as well) but candidates themselves need to be kept. It should null out Candidate references to this AssesmentCenter, or replace them with a holding AssesmentCenter reference, or some how give an indication in that data that the original center they applied no longer exists. Lifecycle management on the data might extend past the database as well - any caches or other VMs holding this data may need to be notified of the relevant changes to this data, so they can invalidate or refresh their view of it, and any external artifacts like file storage cleaned up.</p>\n"}],"owner":{"account_id":18635029,"reputation":117,"user_id":13582145,"display_name":"Rui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75835314,"answer_count":2,"score":0,"last_activity_date":1679670519,"creation_date":1679443924,"question_id":75807416,"body_markdown":"I have a class called ```AssessmentCenter```, it has many to many relationships with my customers class ```Interviewer```, customer class ```Candidate``` and customer class ```Recruiter```. It also has a one to many relationship with customer class ```Interview```. All of them has a bidirectional relationship (so each class hold reference object(s) of each other). To give you a idea of how it looks like, check the segment of the code in the ```AssessmentCener``` class below:\r\n[![enter image description here][1]][1]  \r\n  \r\nNow, the problem is, when I try to delete an ```AssessmentCenter```, I need to manually remove those references that hold by each object, otherwise, it will cause error. For example, if I want to remove an instance of ```AssessmentCenter``` from database, then I need to do following:  \r\n1. delete all objects in ```List&lt;Interviewer&gt;``` -&gt; then for each deleted ```Interviewer``` object, I need to delete the ```AssessmentCenter``` object that ```Interviewer``` object holds.\r\n2. Repeat the same thing for other 3 (for ```Candidate``` which has one to many relationship, the idea is same except on the interview end, it will only need to delete ```AssessmentCenter``` object once).  \r\n  \r\nThe following code show the process:  \r\n[![enter image description here][2]][2]\r\n\r\nAs you can see, this process is very tedious and error-prone, as I need to make sure I delete all the relationships whenever I want to remove an ```AssessmentCenter```.  \r\nTherefore, my question is, is there a better way to do this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QlJtY.png\r\n  [2]: https://i.stack.imgur.com/Ws2e3.png","title":"what is the best way to delete a bidirectional relationship in jpa?","body":"<p>I have a class called <code>AssessmentCenter</code>, it has many to many relationships with my customers class <code>Interviewer</code>, customer class <code>Candidate</code> and customer class <code>Recruiter</code>. It also has a one to many relationship with customer class <code>Interview</code>. All of them has a bidirectional relationship (so each class hold reference object(s) of each other). To give you a idea of how it looks like, check the segment of the code in the <code>AssessmentCener</code> class below:\n<a href=\"https://i.stack.imgur.com/QlJtY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlJtY.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, the problem is, when I try to delete an <code>AssessmentCenter</code>, I need to manually remove those references that hold by each object, otherwise, it will cause error. For example, if I want to remove an instance of <code>AssessmentCenter</code> from database, then I need to do following:</p>\n<ol>\n<li>delete all objects in <code>List&lt;Interviewer&gt;</code> -&gt; then for each deleted <code>Interviewer</code> object, I need to delete the <code>AssessmentCenter</code> object that <code>Interviewer</code> object holds.</li>\n<li>Repeat the same thing for other 3 (for <code>Candidate</code> which has one to many relationship, the idea is same except on the interview end, it will only need to delete <code>AssessmentCenter</code> object once).</li>\n</ol>\n<p>The following code show the process:<br />\n<a href=\"https://i.stack.imgur.com/Ws2e3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ws2e3.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, this process is very tedious and error-prone, as I need to make sure I delete all the relationships whenever I want to remove an <code>AssessmentCenter</code>.<br />\nTherefore, my question is, is there a better way to do this?</p>\n"},{"tags":["java","android","json","api"],"answers":[{"tags":[],"owner":{"account_id":15941597,"reputation":171,"user_id":12899294,"display_name":"Rui Alves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679666650,"creation_date":1679666326,"answer_id":75834589,"question_id":75834451,"body_markdown":"MusicListScrenn class - Line 73:\r\n\r\n    JSONArray jsonArray = new JSONArray(response);\r\n\r\nyou need to access the body and not just &quot;response&quot; to do so use &quot;.body()&quot;\r\nthen you have another problem that YogaTracks isn&#39;t an Array, so you first need to deconstruct using first JSONObject...\r\n\r\nLater you will find more problems because your response has two fields (headers, results) and your counting that you are already inside &quot;results&quot;, so you need to also handle that for example creating a class &quot;YogaTrackResponse&quot; with those two fields &quot;Header&quot; and &quot;Results&quot; (List&lt;YogaTracks&gt;) and change in the API interface the Call to Call&lt;YogaTrackResponse&gt;","title":"How to fetch data from an API in Java based Android app","body":"<p>MusicListScrenn class - Line 73:</p>\n<pre><code>JSONArray jsonArray = new JSONArray(response);\n</code></pre>\n<p>you need to access the body and not just &quot;response&quot; to do so use &quot;.body()&quot;\nthen you have another problem that YogaTracks isn't an Array, so you first need to deconstruct using first JSONObject...</p>\n<p>Later you will find more problems because your response has two fields (headers, results) and your counting that you are already inside &quot;results&quot;, so you need to also handle that for example creating a class &quot;YogaTrackResponse&quot; with those two fields &quot;Header&quot; and &quot;Results&quot; (List) and change in the API interface the Call to Call</p>\n"}],"owner":{"account_id":23494843,"reputation":25,"user_id":17545414,"display_name":"Cyclone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679669904,"creation_date":1679665607,"question_id":75834451,"body_markdown":"I am trying to fetch data from Jamendo API by using the track endpoint link to get only yoga music and then display it to an another activity. \r\n\r\n- I&#39;ve made a MusicListScreen which has adapter that displays the data fetched from the api. \r\n\r\n- YogaTracks class has the attributes of the json response I should get.\r\n\r\n- the json response:\r\n\r\n\r\n```\r\n{\r\n  &quot;headers&quot;:{\r\n    &quot;status&quot;:&quot;success&quot;,\r\n    &quot;code&quot;:0,\r\n    &quot;error_message&quot;:&quot;&quot;,\r\n    &quot;warnings&quot;:&quot;&quot;,\r\n    &quot;results_count&quot;:2\r\n  },\r\n  &quot;results&quot;:[\r\n    {\r\n      &quot;id&quot;:&quot;1532771&quot;,\r\n      &quot;name&quot;:&quot;Let Me Hear You I&quot;,\r\n      &quot;duration&quot;:54,\r\n      &quot;artist_id&quot;:&quot;461414&quot;,\r\n      &quot;artist_name&quot;:&quot;Paul Werner&quot;,\r\n      &quot;artist_idstr&quot;:&quot;PaulWernerMusic&quot;,\r\n      &quot;album_name&quot;:&quot;Let Me Hear You I&quot;,\r\n      &quot;album_id&quot;:&quot;404140&quot;,\r\n      &quot;license_ccurl&quot;:&quot;http:\\/\\/creativecommons.org\\/licenses\\/by-nc-nd\\/3.0\\/&quot;,\r\n      &quot;position&quot;:1,\r\n      &quot;releasedate&quot;:&quot;2018-03-15&quot;,\r\n      &quot;album_image&quot;:&quot;https:\\/\\/usercontent.jamendo.com?type=album&amp;id=404140&amp;width=300&amp;trackid=1532771&quot;,\r\n      &quot;audio&quot;:&quot;https:\\/\\/prod-1.storage.jamendo.com\\/?trackid=1532771&amp;format=mp31&amp;from=app-devsite&quot;,\r\n      &quot;audiodownload&quot;:&quot;https:\\/\\/prod-1.storage.jamendo.com\\/download\\/track\\/1532771\\/mp32\\/&quot;,\r\n      &quot;prourl&quot;:&quot;https:\\/\\/licensing.jamendo.com\\/track\\/1532771&quot;,\r\n      &quot;shorturl&quot;:&quot;https:\\/\\/jamen.do\\/t\\/1532771&quot;,\r\n      &quot;shareurl&quot;:&quot;https:\\/\\/www.jamendo.com\\/track\\/1532771&quot;,\r\n      &quot;waveform&quot;:&quot;{\r\n        \\&quot;peaks\\&quot;:[\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          10,\r\n          12,\r\n          7,\r\n          7,\r\n          1,\r\n          5,\r\n          1,\r\n          7,\r\n          2,\r\n          10,\r\n          13,\r\n          9,\r\n          8,\r\n          1,\r\n          3,\r\n          1,\r\n          4,\r\n          6,\r\n          3,\r\n          14,\r\n          9,\r\n          7,\r\n          7,\r\n          6,\r\n          4,\r\n          5,\r\n          16,\r\n          11,\r\n          16,\r\n          4,\r\n          4,\r\n          2,\r\n          2,\r\n          8,\r\n          7,\r\n          10,\r\n          11,\r\n          17,\r\n          18,\r\n          11,\r\n          6,\r\n          5,\r\n          2,\r\n          0,\r\n          11,\r\n          9,\r\n          14,\r\n          8,\r\n          2,\r\n          3,\r\n          1,\r\n          14,\r\n          12,\r\n          9,\r\n          1,\r\n          1,\r\n          2,\r\n          0,\r\n          3,\r\n          0,\r\n          11,\r\n          10,\r\n          10,\r\n          12,\r\n          14,\r\n          24,\r\n          49,\r\n          24,\r\n          11,\r\n          8,\r\n          8,\r\n          17,\r\n          17,\r\n          9,\r\n          20,\r\n          21,\r\n          17,\r\n          16,\r\n          11,\r\n          9,\r\n          9,\r\n          15,\r\n          12,\r\n          18,\r\n          7,\r\n          2,\r\n          4,\r\n          1,\r\n          22,\r\n          19,\r\n          14,\r\n          5,\r\n          5,\r\n          2,\r\n          0,\r\n          6,\r\n          0,\r\n          14,\r\n          10,\r\n          10,\r\n          13,\r\n          15,\r\n          16,\r\n          9,\r\n          13,\r\n          12,\r\n          5,\r\n          9,\r\n          10,\r\n          10,\r\n          6,\r\n          23,\r\n          18,\r\n          13,\r\n          12,\r\n          15,\r\n          3,\r\n          1,\r\n          20,\r\n          12,\r\n          22,\r\n          6,\r\n          7,\r\n          2,\r\n          3,\r\n          14,\r\n          11,\r\n          9,\r\n          1,\r\n          13,\r\n          10,\r\n          7,\r\n          6,\r\n          23,\r\n          47,\r\n          33,\r\n          29,\r\n          23,\r\n          20,\r\n          14,\r\n          7,\r\n          5,\r\n          7,\r\n          10,\r\n          5,\r\n          2,\r\n          0,\r\n          19,\r\n          74,\r\n          70,\r\n          41,\r\n          17,\r\n          27,\r\n          30,\r\n          30,\r\n          24,\r\n          22,\r\n          75,\r\n          69,\r\n          54,\r\n          20,\r\n          18,\r\n          26,\r\n          29,\r\n          26,\r\n          28,\r\n          49,\r\n          70,\r\n          61,\r\n          34,\r\n          16,\r\n          27,\r\n          32,\r\n          33,\r\n          25,\r\n          50,\r\n          70,\r\n          70,\r\n          32,\r\n          15,\r\n          28,\r\n          27,\r\n          29,\r\n          25,\r\n          45,\r\n          88,\r\n          64,\r\n          33,\r\n          15,\r\n          29,\r\n          30,\r\n          30,\r\n          24,\r\n          30,\r\n          69,\r\n          74,\r\n          49,\r\n          23,\r\n          31,\r\n          38,\r\n          39,\r\n          34,\r\n          29,\r\n          80,\r\n          81,\r\n          55,\r\n          22,\r\n          22,\r\n          28,\r\n          28,\r\n          30,\r\n          27,\r\n          62,\r\n          73,\r\n          60,\r\n          28,\r\n          16,\r\n          28,\r\n          28,\r\n          30,\r\n          22,\r\n          56,\r\n          72,\r\n          65,\r\n          37,\r\n          14,\r\n          33,\r\n          30,\r\n          27,\r\n          21,\r\n          37,\r\n          71,\r\n          65,\r\n          39,\r\n          13,\r\n          28,\r\n          31,\r\n          28,\r\n          25,\r\n          24,\r\n          67,\r\n          79,\r\n          54,\r\n          23,\r\n          18,\r\n          26,\r\n          27,\r\n          24,\r\n          19,\r\n          60,\r\n          69,\r\n          55,\r\n          24,\r\n          19,\r\n          27,\r\n          29,\r\n          29,\r\n          21,\r\n          65,\r\n          75,\r\n          59,\r\n          24,\r\n          20,\r\n          33,\r\n          28,\r\n          26,\r\n          23,\r\n          40,\r\n          74,\r\n          64,\r\n          32,\r\n          14,\r\n          62,\r\n          29,\r\n          27,\r\n          19,\r\n          27,\r\n          83,\r\n          78,\r\n          43,\r\n          13,\r\n          29,\r\n          30,\r\n          27,\r\n          24,\r\n          27,\r\n          74,\r\n          69,\r\n          56,\r\n          14,\r\n          17,\r\n          29,\r\n          29,\r\n          25,\r\n          25,\r\n          64,\r\n          26,\r\n          19,\r\n          17,\r\n          12,\r\n          12,\r\n          10,\r\n          8,\r\n          7,\r\n          55,\r\n          74,\r\n          62,\r\n          25,\r\n          17,\r\n          30,\r\n          30,\r\n          26,\r\n          21,\r\n          34,\r\n          69,\r\n          73,\r\n          47,\r\n          18,\r\n          21,\r\n          29,\r\n          26,\r\n          26,\r\n          31,\r\n          71,\r\n          77,\r\n          50,\r\n          16,\r\n          25,\r\n          27,\r\n          28,\r\n          28,\r\n          23,\r\n          88,\r\n          74,\r\n          48,\r\n          10,\r\n          21,\r\n          27,\r\n          32,\r\n          23,\r\n          19,\r\n          64,\r\n          87,\r\n          66,\r\n          38,\r\n          19,\r\n          24,\r\n          31,\r\n          26,\r\n          21,\r\n          59,\r\n          84,\r\n          73,\r\n          32,\r\n          17,\r\n          26,\r\n          27,\r\n          28,\r\n          26,\r\n          50,\r\n          84,\r\n          68,\r\n          41,\r\n          15,\r\n          24,\r\n          29,\r\n          28,\r\n          21,\r\n          26,\r\n          76,\r\n          71,\r\n          56,\r\n          14,\r\n          22,\r\n          29,\r\n          26,\r\n          23,\r\n          18,\r\n          76,\r\n          74,\r\n          59,\r\n          20,\r\n          14,\r\n          27,\r\n          26,\r\n          23,\r\n          20,\r\n          45,\r\n          77,\r\n          60,\r\n          32,\r\n          16,\r\n          26,\r\n          29,\r\n          26,\r\n          25,\r\n          48,\r\n          73,\r\n          67,\r\n          31,\r\n          19,\r\n          29,\r\n          30,\r\n          27,\r\n          25,\r\n          35,\r\n          100,\r\n          66,\r\n          39,\r\n          11,\r\n          23,\r\n          25,\r\n          26,\r\n          22,\r\n          20,\r\n          79,\r\n          79,\r\n          47,\r\n          17,\r\n          23,\r\n          34,\r\n          34,\r\n          27,\r\n          23,\r\n          72,\r\n          82,\r\n          58,\r\n          22,\r\n          19,\r\n          27,\r\n          28,\r\n          27,\r\n          30,\r\n          59,\r\n          55,\r\n          60,\r\n          32,\r\n          23,\r\n          27,\r\n          28,\r\n          24,\r\n          20,\r\n          52,\r\n          68,\r\n          72,\r\n          52,\r\n          22,\r\n          16,\r\n          23,\r\n          23,\r\n          21,\r\n          32,\r\n          73,\r\n          30,\r\n          30,\r\n          42,\r\n          35,\r\n          28,\r\n          20,\r\n          20,\r\n          22,\r\n          70,\r\n          58,\r\n          17,\r\n          28,\r\n          37,\r\n          35,\r\n          27,\r\n          24,\r\n          22,\r\n          66,\r\n          62,\r\n          21,\r\n          31,\r\n          38,\r\n          35,\r\n          29,\r\n          26,\r\n          24,\r\n          63,\r\n          68,\r\n          24,\r\n          29,\r\n          36,\r\n          40,\r\n          32,\r\n          24,\r\n          20,\r\n          45,\r\n          88,\r\n          51,\r\n          24,\r\n          22,\r\n          30,\r\n          34,\r\n          29,\r\n          20,\r\n          27,\r\n          98,\r\n          68,\r\n          49,\r\n          15,\r\n          21,\r\n          27,\r\n          27,\r\n          27,\r\n          29,\r\n          80,\r\n          78,\r\n          55,\r\n          24,\r\n          19,\r\n          28,\r\n          29,\r\n          23,\r\n          19,\r\n          72,\r\n          73,\r\n          76,\r\n          31,\r\n          35,\r\n          88,\r\n          79,\r\n          66,\r\n          35,\r\n          47,\r\n          66,\r\n          59,\r\n          25,\r\n          42,\r\n          75,\r\n          77,\r\n          69,\r\n          52,\r\n          36,\r\n          62,\r\n          68,\r\n          52,\r\n          25,\r\n          50,\r\n          68,\r\n          61,\r\n          44,\r\n          32,\r\n          66,\r\n          68,\r\n          64,\r\n          46,\r\n          42,\r\n          84,\r\n          71,\r\n          64,\r\n          36,\r\n          63,\r\n          63,\r\n          62,\r\n          34,\r\n          39,\r\n          75,\r\n          58,\r\n          67,\r\n          69,\r\n          62,\r\n          35,\r\n          34,\r\n          82,\r\n          54,\r\n          42,\r\n          25,\r\n          52,\r\n          77,\r\n          54,\r\n          34,\r\n          32,\r\n          76,\r\n          58,\r\n          58,\r\n          33,\r\n          32,\r\n          32,\r\n          44,\r\n          39,\r\n          21,\r\n          31,\r\n          12,\r\n          33,\r\n          22,\r\n          34,\r\n          24,\r\n          27,\r\n          61,\r\n          57,\r\n          50,\r\n          19,\r\n          24,\r\n          31,\r\n          27,\r\n          25,\r\n          21,\r\n          63,\r\n          69,\r\n          59,\r\n          23,\r\n          15,\r\n          33,\r\n          27,\r\n          26,\r\n          21,\r\n          45,\r\n          66,\r\n          62,\r\n          31,\r\n          20,\r\n          40,\r\n          34,\r\n          33,\r\n          35,\r\n          46,\r\n          62,\r\n          69,\r\n          42,\r\n          18,\r\n          33,\r\n          27,\r\n          26,\r\n          26,\r\n          32,\r\n          75,\r\n          59,\r\n          45,\r\n          22,\r\n          30,\r\n          30,\r\n          28,\r\n          25,\r\n          23,\r\n          66,\r\n          72,\r\n          53,\r\n          27,\r\n          22,\r\n          32,\r\n          29,\r\n          27,\r\n          20,\r\n          62,\r\n          79,\r\n          54,\r\n          20,\r\n          22,\r\n          39,\r\n          33,\r\n          30,\r\n          29,\r\n          56,\r\n          68,\r\n          61,\r\n          36,\r\n          16,\r\n          34,\r\n          31,\r\n          29,\r\n          25,\r\n          46,\r\n          53,\r\n          62,\r\n          42,\r\n          19,\r\n          33,\r\n          28,\r\n          30,\r\n          25,\r\n          32,\r\n          70,\r\n          66,\r\n          48,\r\n          16,\r\n          27,\r\n          30,\r\n          29,\r\n          22,\r\n          19,\r\n          57,\r\n          65,\r\n          57,\r\n          38,\r\n          30,\r\n          37,\r\n          29,\r\n          30,\r\n          27,\r\n          55,\r\n          72,\r\n          62,\r\n          29,\r\n          22,\r\n          34,\r\n          27,\r\n          27,\r\n          24,\r\n          51,\r\n          78,\r\n          61,\r\n          32,\r\n          17,\r\n          33,\r\n          29,\r\n          28,\r\n          23,\r\n          34,\r\n          65,\r\n          68,\r\n          45,\r\n          14,\r\n          59,\r\n          35,\r\n          30,\r\n          29,\r\n          27,\r\n          72,\r\n          72,\r\n          45,\r\n          17,\r\n          34,\r\n          33,\r\n          29,\r\n          28,\r\n          30,\r\n          62,\r\n          62,\r\n          56,\r\n          30,\r\n          22,\r\n          36,\r\n          32,\r\n          26,\r\n          27,\r\n          58,\r\n          50,\r\n          53,\r\n          28,\r\n          15,\r\n          35,\r\n          30,\r\n          26,\r\n          21,\r\n          50,\r\n          68,\r\n          63,\r\n          38,\r\n          18,\r\n          30,\r\n          27,\r\n          27,\r\n          23,\r\n          27,\r\n          64,\r\n          70,\r\n          52,\r\n          19,\r\n          27,\r\n          33,\r\n          31,\r\n          32,\r\n          32,\r\n          63,\r\n          73,\r\n          55,\r\n          18,\r\n          24,\r\n          29,\r\n          28,\r\n          31,\r\n          26,\r\n          63,\r\n          71,\r\n          60,\r\n          22,\r\n          19,\r\n          32,\r\n          29,\r\n          28,\r\n          21,\r\n          52,\r\n          70,\r\n          63,\r\n          34,\r\n          17,\r\n          36,\r\n          31,\r\n          30,\r\n          22,\r\n          48,\r\n          75,\r\n          68,\r\n          35,\r\n          22,\r\n          33,\r\n          29,\r\n          26,\r\n          26,\r\n          40,\r\n          67,\r\n          63,\r\n          51,\r\n          20,\r\n          29,\r\n          34,\r\n          30,\r\n          29,\r\n          26,\r\n          61,\r\n          59,\r\n          51,\r\n          19,\r\n          30,\r\n          38,\r\n          32,\r\n          25,\r\n          20,\r\n          61,\r\n          67,\r\n          61,\r\n          28,\r\n          18,\r\n          35,\r\n          29,\r\n          26,\r\n          23,\r\n          41,\r\n          73,\r\n          64,\r\n          38,\r\n          19,\r\n          33,\r\n          30,\r\n          31,\r\n          34,\r\n          44,\r\n          64,\r\n          65,\r\n          40,\r\n          28,\r\n          34,\r\n          29,\r\n          32,\r\n          28,\r\n          25,\r\n          70,\r\n          66,\r\n          42,\r\n          22,\r\n          31,\r\n          31,\r\n          29,\r\n          26,\r\n          22,\r\n          61,\r\n          71,\r\n          51,\r\n          29,\r\n          39,\r\n          47,\r\n          32,\r\n          32,\r\n          31,\r\n          58,\r\n          73,\r\n          66,\r\n          29,\r\n          16,\r\n          39,\r\n          28,\r\n          28,\r\n          25,\r\n          55,\r\n          68,\r\n          56,\r\n          31,\r\n          16,\r\n          29,\r\n          20,\r\n          18,\r\n          18,\r\n          17,\r\n          8,\r\n          3,\r\n          2,\r\n          6,\r\n          3,\r\n          1,\r\n          1,\r\n          1,\r\n          0,\r\n          1,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          10,\r\n          15,\r\n          8,\r\n          13,\r\n          9,\r\n          3,\r\n          2,\r\n          1,\r\n          1,\r\n          4,\r\n          18,\r\n          13,\r\n          14,\r\n          11,\r\n          5,\r\n          2,\r\n          2,\r\n          1,\r\n          43,\r\n          38,\r\n          26,\r\n          23,\r\n          22,\r\n          21,\r\n          20,\r\n          19,\r\n          13,\r\n          12,\r\n          13,\r\n          12,\r\n          10,\r\n          7,\r\n          4,\r\n          1,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0,\r\n          0\r\n        ]\r\n      }      &quot;,\r\n```\r\n\r\n\r\nMusicListScrenn class\r\n\r\n```\r\npackage com.minhhoang.yolo_yoga;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.gson.JsonArray;\r\nimport com.minhhoang.yolo_yoga.adapters.AdapterHome;\r\nimport com.minhhoang.yolo_yoga.adapters.AdapterMusicList;\r\nimport com.minhhoang.yolo_yoga.databasehelper.DataManager;\r\nimport com.minhhoang.yolo_yoga.models.ModelBlogCategory;\r\nimport com.minhhoang.yolo_yoga.models.ModelMainCategory;\r\nimport com.minhhoang.yolo_yoga.models.ModelMusicCategory;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport JamendoAPI.JamendoApiService;\r\nimport JamendoAPI.YogaTracks;\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\nimport retrofit2.Retrofit;\r\nimport retrofit2.converter.gson.GsonConverterFactory;\r\n\r\npublic class MusicListScreen extends AppCompatActivity {\r\n\r\n    RecyclerView recMainCategory;\r\n    DataManager dataManager;\r\n    ArrayList&lt;YogaTracks&gt; mainCategoryList;\r\n    AdapterMusicList adapterMainCategory;\r\n    TextView tvtitle;\r\n\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_music_list_screen);\r\n        getSupportActionBar().hide();\r\n\r\n        mainCategoryList = new ArrayList&lt;YogaTracks&gt;();\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;https://api.jamendo.com&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build();\r\n\r\n        JamendoApiService api = retrofit.create(JamendoApiService.class);\r\n\r\n        Call&lt;YogaTracks&gt; call = api.getYogaTracks(&quot;db9569db&quot;, &quot;jsonpretty&quot;, &quot;meditation&quot;);\r\n\r\n        call.enqueue(new Callback&lt;YogaTracks&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;YogaTracks&gt; call, Response&lt;YogaTracks&gt; response) {\r\n                if(response.isSuccessful()){\r\n\r\n                    try {\r\n                        JSONArray jsonArray = new JSONArray(response);\r\n\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                            YogaTracks obj = new YogaTracks();\r\n                            obj.setAlbum_id(jsonObject.getString(&quot;album_id&quot;));\r\n                            obj.setName(jsonObject.getString(&quot;name&quot;));\r\n                            mainCategoryList.add(obj);\r\n\r\n                            Log.e(&quot;Verify&quot;, obj.getAlbum_id() );\r\n\r\n                        }\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n\r\n                    Log.e(&quot;MyApp&quot;, &quot;API call successful&quot; );\r\n                }\r\n\r\n            }\r\n\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;YogaTracks&gt; call, Throwable t) {\r\n\r\n                Log.e(&quot;MyApp&quot;, &quot;API call failed&quot; + t.getMessage());\r\n            }\r\n        });\r\n\r\n\r\n\r\n        init();\r\n        Intent intent=getIntent();\r\n        String tit= intent.getStringExtra(&quot;title&quot;);\r\n        tvtitle.setText(tit);\r\n\r\n        LinearLayoutManager llm = new LinearLayoutManager(this);\r\n        adapterMainCategory = new AdapterMusicList(mainCategoryList,MusicListScreen.this);\r\n        recMainCategory.setLayoutManager(llm);\r\n        recMainCategory.setAdapter(adapterMainCategory);\r\n\r\n    }\r\n    private void init() {\r\n        recMainCategory = findViewById(R.id.recMainCategory);\r\n        tvtitle = findViewById(R.id.textView1);\r\n    }\r\n\r\n    public void backClick(View view) {\r\n        finish();\r\n    }\r\n}\r\n```\r\n\r\nAPI Interface\r\n```\r\npackage JamendoAPI;\r\n\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.http.GET;\r\nimport retrofit2.http.Query;\r\n\r\npublic interface JamendoApiService\r\n{\r\n    @GET(&quot;https://api.jamendo.com/v3.0/tracks/?client_id=db9569db&amp;format=jsonpretty&amp;tags=yoga&quot;)\r\n    Call&lt;YogaTracks&gt;getYogaTracks(@Query(&quot;db9569db&quot;) String clientId,\r\n                                               @Query(&quot;jsonpretty&quot;) String format,\r\n                                               @Query(&quot;yoga&quot;) String tags);\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nYogaTracks class\r\n\r\n```\r\npackage JamendoAPI;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.List;\r\n\r\npublic class YogaTracks implements Serializable {\r\n\r\n   private List&lt;YogaTracks&gt; musics;\r\n\r\n    private String id;\r\n\r\n    private String name;\r\n\r\n    public List&lt;YogaTracks&gt; getMusics() {\r\n        return musics;\r\n    }\r\n\r\n    public void setMusics(List&lt;YogaTracks&gt; musics) {\r\n        this.musics = musics;\r\n    }\r\n\r\n    private int duration;\r\n\r\n    private String artist_id;\r\n\r\n    private String artist_name;\r\n\r\n    private String artist_idstr;\r\n\r\n    private String album_name;\r\n\r\n    private String album_id;\r\n    private String license_ccurl;\r\n    private int position;\r\n\r\n    private String releasedate;\r\n\r\n    private String album_image;\r\n\r\n    private String audio;\r\n\r\n    private String audiodownload;\r\n\r\n    private String prourl;\r\n\r\n    private String shorturl;\r\n\r\n    private String shareurl;\r\n\r\n    private String waveform;\r\n\r\n    private String image;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getDuration() {\r\n        return duration;\r\n    }\r\n\r\n    public void setDuration(int duration) {\r\n        this.duration = duration;\r\n    }\r\n\r\n    public String getArtist_id() {\r\n        return artist_id;\r\n    }\r\n\r\n    public void setArtist_id(String artist_id) {\r\n        this.artist_id = artist_id;\r\n    }\r\n\r\n    public String getArtist_name() {\r\n        return artist_name;\r\n    }\r\n\r\n    public void setArtist_name(String artist_name) {\r\n        this.artist_name = artist_name;\r\n    }\r\n\r\n    public String getArtist_idstr() {\r\n        return artist_idstr;\r\n    }\r\n\r\n    public void setArtist_idstr(String artist_idstr) {\r\n        this.artist_idstr = artist_idstr;\r\n    }\r\n\r\n    public String getAlbum_name() {\r\n        return album_name;\r\n    }\r\n\r\n    public void setAlbum_name(String album_name) {\r\n        this.album_name = album_name;\r\n    }\r\n\r\n    public String getAlbum_id() {\r\n        return album_id;\r\n    }\r\n\r\n    public void setAlbum_id(String album_id) {\r\n        this.album_id = album_id;\r\n    }\r\n\r\n    public String getLicense_ccurl() {\r\n        return license_ccurl;\r\n    }\r\n\r\n    public void setLicense_ccurl(String license_ccurl) {\r\n        this.license_ccurl = license_ccurl;\r\n    }\r\n\r\n    public int getPosition() {\r\n        return position;\r\n    }\r\n\r\n    public void setPosition(int position) {\r\n        this.position = position;\r\n    }\r\n\r\n    public String getReleasedate() {\r\n        return releasedate;\r\n    }\r\n\r\n    public void setReleasedate(String releasedate) {\r\n        this.releasedate = releasedate;\r\n    }\r\n\r\n    public String getAlbum_image() {\r\n        return album_image;\r\n    }\r\n\r\n    public void setAlbum_image(String album_image) {\r\n        this.album_image = album_image;\r\n    }\r\n\r\n    public String getAudio() {\r\n        return audio;\r\n    }\r\n\r\n    public void setAudio(String audio) {\r\n        this.audio = audio;\r\n    }\r\n\r\n    public String getAudiodownload() {\r\n        return audiodownload;\r\n    }\r\n\r\n    public void setAudiodownload(String audiodownload) {\r\n        this.audiodownload = audiodownload;\r\n    }\r\n\r\n    public String getProurl() {\r\n        return prourl;\r\n    }\r\n\r\n    public void setProurl(String prourl) {\r\n        this.prourl = prourl;\r\n    }\r\n\r\n    public String getShorturl() {\r\n        return shorturl;\r\n    }\r\n\r\n    public void setShorturl(String shorturl) {\r\n        this.shorturl = shorturl;\r\n    }\r\n\r\n    public String getShareurl() {\r\n        return shareurl;\r\n    }\r\n\r\n    public void setShareurl(String shareurl) {\r\n        this.shareurl = shareurl;\r\n    }\r\n\r\n    public String getWaveform() {\r\n        return waveform;\r\n    }\r\n\r\n    public void setWaveform(String waveform) {\r\n        this.waveform = waveform;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n}\r\n```\r\n\r\nI got this error.\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.minhhoang.yolo_yoga, PID: 24210\r\n    java.lang.RuntimeException: org.json.JSONException: Not a primitive array: class retrofit2.Response\r\n        at com.minhhoang.yolo_yoga.MusicListScreen$1.onResponse(MusicListScreen.java:86)\r\n        at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$1.run(DefaultCallAdapterFactory.java:83)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: org.json.JSONException: Not a primitive array: class retrofit2.Response\r\n        at org.json.JSONArray.&lt;init&gt;(JSONArray.java:118)\r\n        at com.minhhoang.yolo_yoga.MusicListScreen$1.onResponse(MusicListScreen.java:73)\r\n        at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$1.run(DefaultCallAdapterFactory.java:83)&#160;\r\n        at android.os.Handler.handleCallback(Handler.java:938)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)&#160;\r\n        at android.os.Looper.loop(Looper.java:223)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)&#160;\r\n```\r\n\r\n\r\n\r\n","title":"How to fetch data from an API in Java based Android app","body":"<p>I am trying to fetch data from Jamendo API by using the track endpoint link to get only yoga music and then display it to an another activity.</p>\n<ul>\n<li><p>I've made a MusicListScreen which has adapter that displays the data fetched from the api.</p>\n</li>\n<li><p>YogaTracks class has the attributes of the json response I should get.</p>\n</li>\n<li><p>the json response:</p>\n</li>\n</ul>\n<pre><code>{\n  &quot;headers&quot;:{\n    &quot;status&quot;:&quot;success&quot;,\n    &quot;code&quot;:0,\n    &quot;error_message&quot;:&quot;&quot;,\n    &quot;warnings&quot;:&quot;&quot;,\n    &quot;results_count&quot;:2\n  },\n  &quot;results&quot;:[\n    {\n      &quot;id&quot;:&quot;1532771&quot;,\n      &quot;name&quot;:&quot;Let Me Hear You I&quot;,\n      &quot;duration&quot;:54,\n      &quot;artist_id&quot;:&quot;461414&quot;,\n      &quot;artist_name&quot;:&quot;Paul Werner&quot;,\n      &quot;artist_idstr&quot;:&quot;PaulWernerMusic&quot;,\n      &quot;album_name&quot;:&quot;Let Me Hear You I&quot;,\n      &quot;album_id&quot;:&quot;404140&quot;,\n      &quot;license_ccurl&quot;:&quot;http:\\/\\/creativecommons.org\\/licenses\\/by-nc-nd\\/3.0\\/&quot;,\n      &quot;position&quot;:1,\n      &quot;releasedate&quot;:&quot;2018-03-15&quot;,\n      &quot;album_image&quot;:&quot;https:\\/\\/usercontent.jamendo.com?type=album&amp;id=404140&amp;width=300&amp;trackid=1532771&quot;,\n      &quot;audio&quot;:&quot;https:\\/\\/prod-1.storage.jamendo.com\\/?trackid=1532771&amp;format=mp31&amp;from=app-devsite&quot;,\n      &quot;audiodownload&quot;:&quot;https:\\/\\/prod-1.storage.jamendo.com\\/download\\/track\\/1532771\\/mp32\\/&quot;,\n      &quot;prourl&quot;:&quot;https:\\/\\/licensing.jamendo.com\\/track\\/1532771&quot;,\n      &quot;shorturl&quot;:&quot;https:\\/\\/jamen.do\\/t\\/1532771&quot;,\n      &quot;shareurl&quot;:&quot;https:\\/\\/www.jamendo.com\\/track\\/1532771&quot;,\n      &quot;waveform&quot;:&quot;{\n        \\&quot;peaks\\&quot;:[\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          10,\n          12,\n          7,\n          7,\n          1,\n          5,\n          1,\n          7,\n          2,\n          10,\n          13,\n          9,\n          8,\n          1,\n          3,\n          1,\n          4,\n          6,\n          3,\n          14,\n          9,\n          7,\n          7,\n          6,\n          4,\n          5,\n          16,\n          11,\n          16,\n          4,\n          4,\n          2,\n          2,\n          8,\n          7,\n          10,\n          11,\n          17,\n          18,\n          11,\n          6,\n          5,\n          2,\n          0,\n          11,\n          9,\n          14,\n          8,\n          2,\n          3,\n          1,\n          14,\n          12,\n          9,\n          1,\n          1,\n          2,\n          0,\n          3,\n          0,\n          11,\n          10,\n          10,\n          12,\n          14,\n          24,\n          49,\n          24,\n          11,\n          8,\n          8,\n          17,\n          17,\n          9,\n          20,\n          21,\n          17,\n          16,\n          11,\n          9,\n          9,\n          15,\n          12,\n          18,\n          7,\n          2,\n          4,\n          1,\n          22,\n          19,\n          14,\n          5,\n          5,\n          2,\n          0,\n          6,\n          0,\n          14,\n          10,\n          10,\n          13,\n          15,\n          16,\n          9,\n          13,\n          12,\n          5,\n          9,\n          10,\n          10,\n          6,\n          23,\n          18,\n          13,\n          12,\n          15,\n          3,\n          1,\n          20,\n          12,\n          22,\n          6,\n          7,\n          2,\n          3,\n          14,\n          11,\n          9,\n          1,\n          13,\n          10,\n          7,\n          6,\n          23,\n          47,\n          33,\n          29,\n          23,\n          20,\n          14,\n          7,\n          5,\n          7,\n          10,\n          5,\n          2,\n          0,\n          19,\n          74,\n          70,\n          41,\n          17,\n          27,\n          30,\n          30,\n          24,\n          22,\n          75,\n          69,\n          54,\n          20,\n          18,\n          26,\n          29,\n          26,\n          28,\n          49,\n          70,\n          61,\n          34,\n          16,\n          27,\n          32,\n          33,\n          25,\n          50,\n          70,\n          70,\n          32,\n          15,\n          28,\n          27,\n          29,\n          25,\n          45,\n          88,\n          64,\n          33,\n          15,\n          29,\n          30,\n          30,\n          24,\n          30,\n          69,\n          74,\n          49,\n          23,\n          31,\n          38,\n          39,\n          34,\n          29,\n          80,\n          81,\n          55,\n          22,\n          22,\n          28,\n          28,\n          30,\n          27,\n          62,\n          73,\n          60,\n          28,\n          16,\n          28,\n          28,\n          30,\n          22,\n          56,\n          72,\n          65,\n          37,\n          14,\n          33,\n          30,\n          27,\n          21,\n          37,\n          71,\n          65,\n          39,\n          13,\n          28,\n          31,\n          28,\n          25,\n          24,\n          67,\n          79,\n          54,\n          23,\n          18,\n          26,\n          27,\n          24,\n          19,\n          60,\n          69,\n          55,\n          24,\n          19,\n          27,\n          29,\n          29,\n          21,\n          65,\n          75,\n          59,\n          24,\n          20,\n          33,\n          28,\n          26,\n          23,\n          40,\n          74,\n          64,\n          32,\n          14,\n          62,\n          29,\n          27,\n          19,\n          27,\n          83,\n          78,\n          43,\n          13,\n          29,\n          30,\n          27,\n          24,\n          27,\n          74,\n          69,\n          56,\n          14,\n          17,\n          29,\n          29,\n          25,\n          25,\n          64,\n          26,\n          19,\n          17,\n          12,\n          12,\n          10,\n          8,\n          7,\n          55,\n          74,\n          62,\n          25,\n          17,\n          30,\n          30,\n          26,\n          21,\n          34,\n          69,\n          73,\n          47,\n          18,\n          21,\n          29,\n          26,\n          26,\n          31,\n          71,\n          77,\n          50,\n          16,\n          25,\n          27,\n          28,\n          28,\n          23,\n          88,\n          74,\n          48,\n          10,\n          21,\n          27,\n          32,\n          23,\n          19,\n          64,\n          87,\n          66,\n          38,\n          19,\n          24,\n          31,\n          26,\n          21,\n          59,\n          84,\n          73,\n          32,\n          17,\n          26,\n          27,\n          28,\n          26,\n          50,\n          84,\n          68,\n          41,\n          15,\n          24,\n          29,\n          28,\n          21,\n          26,\n          76,\n          71,\n          56,\n          14,\n          22,\n          29,\n          26,\n          23,\n          18,\n          76,\n          74,\n          59,\n          20,\n          14,\n          27,\n          26,\n          23,\n          20,\n          45,\n          77,\n          60,\n          32,\n          16,\n          26,\n          29,\n          26,\n          25,\n          48,\n          73,\n          67,\n          31,\n          19,\n          29,\n          30,\n          27,\n          25,\n          35,\n          100,\n          66,\n          39,\n          11,\n          23,\n          25,\n          26,\n          22,\n          20,\n          79,\n          79,\n          47,\n          17,\n          23,\n          34,\n          34,\n          27,\n          23,\n          72,\n          82,\n          58,\n          22,\n          19,\n          27,\n          28,\n          27,\n          30,\n          59,\n          55,\n          60,\n          32,\n          23,\n          27,\n          28,\n          24,\n          20,\n          52,\n          68,\n          72,\n          52,\n          22,\n          16,\n          23,\n          23,\n          21,\n          32,\n          73,\n          30,\n          30,\n          42,\n          35,\n          28,\n          20,\n          20,\n          22,\n          70,\n          58,\n          17,\n          28,\n          37,\n          35,\n          27,\n          24,\n          22,\n          66,\n          62,\n          21,\n          31,\n          38,\n          35,\n          29,\n          26,\n          24,\n          63,\n          68,\n          24,\n          29,\n          36,\n          40,\n          32,\n          24,\n          20,\n          45,\n          88,\n          51,\n          24,\n          22,\n          30,\n          34,\n          29,\n          20,\n          27,\n          98,\n          68,\n          49,\n          15,\n          21,\n          27,\n          27,\n          27,\n          29,\n          80,\n          78,\n          55,\n          24,\n          19,\n          28,\n          29,\n          23,\n          19,\n          72,\n          73,\n          76,\n          31,\n          35,\n          88,\n          79,\n          66,\n          35,\n          47,\n          66,\n          59,\n          25,\n          42,\n          75,\n          77,\n          69,\n          52,\n          36,\n          62,\n          68,\n          52,\n          25,\n          50,\n          68,\n          61,\n          44,\n          32,\n          66,\n          68,\n          64,\n          46,\n          42,\n          84,\n          71,\n          64,\n          36,\n          63,\n          63,\n          62,\n          34,\n          39,\n          75,\n          58,\n          67,\n          69,\n          62,\n          35,\n          34,\n          82,\n          54,\n          42,\n          25,\n          52,\n          77,\n          54,\n          34,\n          32,\n          76,\n          58,\n          58,\n          33,\n          32,\n          32,\n          44,\n          39,\n          21,\n          31,\n          12,\n          33,\n          22,\n          34,\n          24,\n          27,\n          61,\n          57,\n          50,\n          19,\n          24,\n          31,\n          27,\n          25,\n          21,\n          63,\n          69,\n          59,\n          23,\n          15,\n          33,\n          27,\n          26,\n          21,\n          45,\n          66,\n          62,\n          31,\n          20,\n          40,\n          34,\n          33,\n          35,\n          46,\n          62,\n          69,\n          42,\n          18,\n          33,\n          27,\n          26,\n          26,\n          32,\n          75,\n          59,\n          45,\n          22,\n          30,\n          30,\n          28,\n          25,\n          23,\n          66,\n          72,\n          53,\n          27,\n          22,\n          32,\n          29,\n          27,\n          20,\n          62,\n          79,\n          54,\n          20,\n          22,\n          39,\n          33,\n          30,\n          29,\n          56,\n          68,\n          61,\n          36,\n          16,\n          34,\n          31,\n          29,\n          25,\n          46,\n          53,\n          62,\n          42,\n          19,\n          33,\n          28,\n          30,\n          25,\n          32,\n          70,\n          66,\n          48,\n          16,\n          27,\n          30,\n          29,\n          22,\n          19,\n          57,\n          65,\n          57,\n          38,\n          30,\n          37,\n          29,\n          30,\n          27,\n          55,\n          72,\n          62,\n          29,\n          22,\n          34,\n          27,\n          27,\n          24,\n          51,\n          78,\n          61,\n          32,\n          17,\n          33,\n          29,\n          28,\n          23,\n          34,\n          65,\n          68,\n          45,\n          14,\n          59,\n          35,\n          30,\n          29,\n          27,\n          72,\n          72,\n          45,\n          17,\n          34,\n          33,\n          29,\n          28,\n          30,\n          62,\n          62,\n          56,\n          30,\n          22,\n          36,\n          32,\n          26,\n          27,\n          58,\n          50,\n          53,\n          28,\n          15,\n          35,\n          30,\n          26,\n          21,\n          50,\n          68,\n          63,\n          38,\n          18,\n          30,\n          27,\n          27,\n          23,\n          27,\n          64,\n          70,\n          52,\n          19,\n          27,\n          33,\n          31,\n          32,\n          32,\n          63,\n          73,\n          55,\n          18,\n          24,\n          29,\n          28,\n          31,\n          26,\n          63,\n          71,\n          60,\n          22,\n          19,\n          32,\n          29,\n          28,\n          21,\n          52,\n          70,\n          63,\n          34,\n          17,\n          36,\n          31,\n          30,\n          22,\n          48,\n          75,\n          68,\n          35,\n          22,\n          33,\n          29,\n          26,\n          26,\n          40,\n          67,\n          63,\n          51,\n          20,\n          29,\n          34,\n          30,\n          29,\n          26,\n          61,\n          59,\n          51,\n          19,\n          30,\n          38,\n          32,\n          25,\n          20,\n          61,\n          67,\n          61,\n          28,\n          18,\n          35,\n          29,\n          26,\n          23,\n          41,\n          73,\n          64,\n          38,\n          19,\n          33,\n          30,\n          31,\n          34,\n          44,\n          64,\n          65,\n          40,\n          28,\n          34,\n          29,\n          32,\n          28,\n          25,\n          70,\n          66,\n          42,\n          22,\n          31,\n          31,\n          29,\n          26,\n          22,\n          61,\n          71,\n          51,\n          29,\n          39,\n          47,\n          32,\n          32,\n          31,\n          58,\n          73,\n          66,\n          29,\n          16,\n          39,\n          28,\n          28,\n          25,\n          55,\n          68,\n          56,\n          31,\n          16,\n          29,\n          20,\n          18,\n          18,\n          17,\n          8,\n          3,\n          2,\n          6,\n          3,\n          1,\n          1,\n          1,\n          0,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          10,\n          15,\n          8,\n          13,\n          9,\n          3,\n          2,\n          1,\n          1,\n          4,\n          18,\n          13,\n          14,\n          11,\n          5,\n          2,\n          2,\n          1,\n          43,\n          38,\n          26,\n          23,\n          22,\n          21,\n          20,\n          19,\n          13,\n          12,\n          13,\n          12,\n          10,\n          7,\n          4,\n          1,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0,\n          0\n        ]\n      }      &quot;,\n</code></pre>\n<p>MusicListScrenn class</p>\n<pre><code>package com.minhhoang.yolo_yoga;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.TextView;\n\nimport com.android.volley.RequestQueue;\nimport com.android.volley.toolbox.Volley;\nimport com.google.gson.JsonArray;\nimport com.minhhoang.yolo_yoga.adapters.AdapterHome;\nimport com.minhhoang.yolo_yoga.adapters.AdapterMusicList;\nimport com.minhhoang.yolo_yoga.databasehelper.DataManager;\nimport com.minhhoang.yolo_yoga.models.ModelBlogCategory;\nimport com.minhhoang.yolo_yoga.models.ModelMainCategory;\nimport com.minhhoang.yolo_yoga.models.ModelMusicCategory;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport JamendoAPI.JamendoApiService;\nimport JamendoAPI.YogaTracks;\nimport retrofit2.Call;\nimport retrofit2.Callback;\nimport retrofit2.Response;\nimport retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class MusicListScreen extends AppCompatActivity {\n\n    RecyclerView recMainCategory;\n    DataManager dataManager;\n    ArrayList&lt;YogaTracks&gt; mainCategoryList;\n    AdapterMusicList adapterMainCategory;\n    TextView tvtitle;\n\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_music_list_screen);\n        getSupportActionBar().hide();\n\n        mainCategoryList = new ArrayList&lt;YogaTracks&gt;();\n\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;https://api.jamendo.com&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        JamendoApiService api = retrofit.create(JamendoApiService.class);\n\n        Call&lt;YogaTracks&gt; call = api.getYogaTracks(&quot;db9569db&quot;, &quot;jsonpretty&quot;, &quot;meditation&quot;);\n\n        call.enqueue(new Callback&lt;YogaTracks&gt;() {\n            @Override\n            public void onResponse(Call&lt;YogaTracks&gt; call, Response&lt;YogaTracks&gt; response) {\n                if(response.isSuccessful()){\n\n                    try {\n                        JSONArray jsonArray = new JSONArray(response);\n\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\n                            YogaTracks obj = new YogaTracks();\n                            obj.setAlbum_id(jsonObject.getString(&quot;album_id&quot;));\n                            obj.setName(jsonObject.getString(&quot;name&quot;));\n                            mainCategoryList.add(obj);\n\n                            Log.e(&quot;Verify&quot;, obj.getAlbum_id() );\n\n                        }\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n\n\n                    Log.e(&quot;MyApp&quot;, &quot;API call successful&quot; );\n                }\n\n            }\n\n\n            @Override\n            public void onFailure(Call&lt;YogaTracks&gt; call, Throwable t) {\n\n                Log.e(&quot;MyApp&quot;, &quot;API call failed&quot; + t.getMessage());\n            }\n        });\n\n\n\n        init();\n        Intent intent=getIntent();\n        String tit= intent.getStringExtra(&quot;title&quot;);\n        tvtitle.setText(tit);\n\n        LinearLayoutManager llm = new LinearLayoutManager(this);\n        adapterMainCategory = new AdapterMusicList(mainCategoryList,MusicListScreen.this);\n        recMainCategory.setLayoutManager(llm);\n        recMainCategory.setAdapter(adapterMainCategory);\n\n    }\n    private void init() {\n        recMainCategory = findViewById(R.id.recMainCategory);\n        tvtitle = findViewById(R.id.textView1);\n    }\n\n    public void backClick(View view) {\n        finish();\n    }\n}\n</code></pre>\n<p>API Interface</p>\n<pre><code>package JamendoAPI;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\nimport retrofit2.http.Query;\n\npublic interface JamendoApiService\n{\n    @GET(&quot;https://api.jamendo.com/v3.0/tracks/?client_id=db9569db&amp;format=jsonpretty&amp;tags=yoga&quot;)\n    Call&lt;YogaTracks&gt;getYogaTracks(@Query(&quot;db9569db&quot;) String clientId,\n                                               @Query(&quot;jsonpretty&quot;) String format,\n                                               @Query(&quot;yoga&quot;) String tags);\n\n}\n\n</code></pre>\n<p>YogaTracks class</p>\n<pre><code>package JamendoAPI;\n\nimport java.io.Serializable;\nimport java.util.List;\n\npublic class YogaTracks implements Serializable {\n\n   private List&lt;YogaTracks&gt; musics;\n\n    private String id;\n\n    private String name;\n\n    public List&lt;YogaTracks&gt; getMusics() {\n        return musics;\n    }\n\n    public void setMusics(List&lt;YogaTracks&gt; musics) {\n        this.musics = musics;\n    }\n\n    private int duration;\n\n    private String artist_id;\n\n    private String artist_name;\n\n    private String artist_idstr;\n\n    private String album_name;\n\n    private String album_id;\n    private String license_ccurl;\n    private int position;\n\n    private String releasedate;\n\n    private String album_image;\n\n    private String audio;\n\n    private String audiodownload;\n\n    private String prourl;\n\n    private String shorturl;\n\n    private String shareurl;\n\n    private String waveform;\n\n    private String image;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getDuration() {\n        return duration;\n    }\n\n    public void setDuration(int duration) {\n        this.duration = duration;\n    }\n\n    public String getArtist_id() {\n        return artist_id;\n    }\n\n    public void setArtist_id(String artist_id) {\n        this.artist_id = artist_id;\n    }\n\n    public String getArtist_name() {\n        return artist_name;\n    }\n\n    public void setArtist_name(String artist_name) {\n        this.artist_name = artist_name;\n    }\n\n    public String getArtist_idstr() {\n        return artist_idstr;\n    }\n\n    public void setArtist_idstr(String artist_idstr) {\n        this.artist_idstr = artist_idstr;\n    }\n\n    public String getAlbum_name() {\n        return album_name;\n    }\n\n    public void setAlbum_name(String album_name) {\n        this.album_name = album_name;\n    }\n\n    public String getAlbum_id() {\n        return album_id;\n    }\n\n    public void setAlbum_id(String album_id) {\n        this.album_id = album_id;\n    }\n\n    public String getLicense_ccurl() {\n        return license_ccurl;\n    }\n\n    public void setLicense_ccurl(String license_ccurl) {\n        this.license_ccurl = license_ccurl;\n    }\n\n    public int getPosition() {\n        return position;\n    }\n\n    public void setPosition(int position) {\n        this.position = position;\n    }\n\n    public String getReleasedate() {\n        return releasedate;\n    }\n\n    public void setReleasedate(String releasedate) {\n        this.releasedate = releasedate;\n    }\n\n    public String getAlbum_image() {\n        return album_image;\n    }\n\n    public void setAlbum_image(String album_image) {\n        this.album_image = album_image;\n    }\n\n    public String getAudio() {\n        return audio;\n    }\n\n    public void setAudio(String audio) {\n        this.audio = audio;\n    }\n\n    public String getAudiodownload() {\n        return audiodownload;\n    }\n\n    public void setAudiodownload(String audiodownload) {\n        this.audiodownload = audiodownload;\n    }\n\n    public String getProurl() {\n        return prourl;\n    }\n\n    public void setProurl(String prourl) {\n        this.prourl = prourl;\n    }\n\n    public String getShorturl() {\n        return shorturl;\n    }\n\n    public void setShorturl(String shorturl) {\n        this.shorturl = shorturl;\n    }\n\n    public String getShareurl() {\n        return shareurl;\n    }\n\n    public void setShareurl(String shareurl) {\n        this.shareurl = shareurl;\n    }\n\n    public String getWaveform() {\n        return waveform;\n    }\n\n    public void setWaveform(String waveform) {\n        this.waveform = waveform;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n}\n</code></pre>\n<p>I got this error.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.minhhoang.yolo_yoga, PID: 24210\n    java.lang.RuntimeException: org.json.JSONException: Not a primitive array: class retrofit2.Response\n        at com.minhhoang.yolo_yoga.MusicListScreen$1.onResponse(MusicListScreen.java:86)\n        at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$1.run(DefaultCallAdapterFactory.java:83)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: org.json.JSONException: Not a primitive array: class retrofit2.Response\n        at org.json.JSONArray.&lt;init&gt;(JSONArray.java:118)\n        at com.minhhoang.yolo_yoga.MusicListScreen$1.onResponse(MusicListScreen.java:73)\n        at retrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1$1.run(DefaultCallAdapterFactory.java:83) \n        at android.os.Handler.handleCallback(Handler.java:938) \n        at android.os.Handler.dispatchMessage(Handler.java:99) \n        at android.os.Looper.loop(Looper.java:223) \n        at android.app.ActivityThread.main(ActivityThread.java:7656) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947) \n</code></pre>\n"},{"tags":["java","azure-app-configuration"],"comments":[{"owner":{"account_id":1219806,"reputation":449,"user_id":1186656,"accept_rate":60,"display_name":"mrm9084"},"score":0,"creation_date":1679673994,"post_id":75835202,"comment_id":133768959,"body_markdown":"Can you provide the error you get? Also `connection-string` != `endpoint`. Your endpoint it part of the connection string, but a different value. Also, you may just want to use an environment credential as that is what you are manually building, or just the default credential should work. https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/identity/azure-identity#credential-classes","body":"Can you provide the error you get? Also <code>connection-string</code> != <code>endpoint</code>. Your endpoint it part of the connection string, but a different value. Also, you may just want to use an environment credential as that is what you are manually building, or just the default credential should work. <a href=\"https://github.com/Azure/azure-sdk-for-java/tree/main/sdk/identity/azure-identity#credential-classes\" rel=\"nofollow noreferrer\">github.com/Azure/azure-sdk-for-java/tree/main/sdk/identity/&hellip;</a>"},{"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"score":1,"creation_date":1679677078,"post_id":75835202,"comment_id":133769770,"body_markdown":"Yeah, the environment variable name is misleading but I am using the endpoint only. But, I have figured out the issue and it is working for me now. I needed to grant my Service Principal permission to the key vault also.","body":"Yeah, the environment variable name is misleading but I am using the endpoint only. But, I have figured out the issue and it is working for me now. I needed to grant my Service Principal permission to the key vault also."}],"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679669788,"creation_date":1679669788,"question_id":75835202,"body_markdown":"I have a virtual machine through which I need to run a Java application. The config details for the application are stored in the Azure App Configuration.\r\n\r\nI created a Service Principal with **App Configuration Data Reader** role. I am using the following code to connect to the App Configuration : \r\n```\r\nTokenCredential ServicePrincipal = new ClientSecretCredentialBuilder().authorityHost(&quot;https://login.microsoftonline.com&quot;)\r\n\t\t\t\t.tenantId(System.getenv(&quot;AZURE_TENANT_ID&quot;))\r\n\t\t\t\t.clientId(System.getenv(&quot;AZURE_CLIENT_ID&quot;))\r\n\t\t\t\t.clientSecret(System.getenv(&quot;AZURE_CLIENT_SECRET&quot;))\r\n\t\t\t\t.build();\r\n\t\t\t\r\nappConfigEndpoint = System.getenv(&quot;APP_CONFIGURATION_CONNECTION_STRING&quot;);\r\n\r\n//Using Service Principal to connect to the APP Configuration Store\r\nconfigurationClient = new ConfigurationClientBuilder().credential(ServicePrincipal).endpoint(appConfigEndpoint).buildClient();\r\n\r\nString config1 = configurationClient.getConfigurationSetting(&quot;config1&quot;, environment).getValue();\r\n\t\t\t\r\n```\r\n\r\nBut the process seems to be stuck. It creates the **configuration client** but it is not able to retrieve the config value.\r\nSince I am running it from inside the VM, do I need to do something different?\r\nThe VM is a linux server and I am trying to call the class file using\r\n`java com.package.ConfigTest`","title":"How to connect to Azure App Configuration from inside a Virtual Machine?","body":"<p>I have a virtual machine through which I need to run a Java application. The config details for the application are stored in the Azure App Configuration.</p>\n<p>I created a Service Principal with <strong>App Configuration Data Reader</strong> role. I am using the following code to connect to the App Configuration :</p>\n<pre><code>TokenCredential ServicePrincipal = new ClientSecretCredentialBuilder().authorityHost(&quot;https://login.microsoftonline.com&quot;)\n                .tenantId(System.getenv(&quot;AZURE_TENANT_ID&quot;))\n                .clientId(System.getenv(&quot;AZURE_CLIENT_ID&quot;))\n                .clientSecret(System.getenv(&quot;AZURE_CLIENT_SECRET&quot;))\n                .build();\n            \nappConfigEndpoint = System.getenv(&quot;APP_CONFIGURATION_CONNECTION_STRING&quot;);\n\n//Using Service Principal to connect to the APP Configuration Store\nconfigurationClient = new ConfigurationClientBuilder().credential(ServicePrincipal).endpoint(appConfigEndpoint).buildClient();\n\nString config1 = configurationClient.getConfigurationSetting(&quot;config1&quot;, environment).getValue();\n            \n</code></pre>\n<p>But the process seems to be stuck. It creates the <strong>configuration client</strong> but it is not able to retrieve the config value.\nSince I am running it from inside the VM, do I need to do something different?\nThe VM is a linux server and I am trying to call the class file using\n<code>java com.package.ConfigTest</code></p>\n"},{"tags":["java","spring-boot","quartz"],"answers":[{"tags":[],"owner":{"account_id":4338431,"reputation":1014,"user_id":3542351,"display_name":"terpinmd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679669741,"creation_date":1679669741,"answer_id":75835193,"question_id":75835077,"body_markdown":"So then you are running in a cluster correct?  You need to setup the jdbc jobstore:\r\n\r\nhttps://www.quartz-scheduler.org/documentation/quartz-2.1.7/configuration/ConfigJobStoreTX.html\r\n\r\nThis will store job state in tables which is what you want.  Each instance will read from this connection and only fire as appropriate for your configuration.  \r\n\r\nIts not a small thing you are asking, but its also very well supported.","title":"SpringBoot Quartz - How to run scheduler only on one machine","body":"<p>So then you are running in a cluster correct?  You need to setup the jdbc jobstore:</p>\n<p><a href=\"https://www.quartz-scheduler.org/documentation/quartz-2.1.7/configuration/ConfigJobStoreTX.html\" rel=\"nofollow noreferrer\">https://www.quartz-scheduler.org/documentation/quartz-2.1.7/configuration/ConfigJobStoreTX.html</a></p>\n<p>This will store job state in tables which is what you want.  Each instance will read from this connection and only fire as appropriate for your configuration.</p>\n<p>Its not a small thing you are asking, but its also very well supported.</p>\n"}],"owner":{"account_id":18619699,"reputation":136,"user_id":13570210,"display_name":"Kenez92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679669741,"creation_date":1679669148,"question_id":75835077,"body_markdown":"I have two machines on which I run the application. I just want only one machine to run the scheduler. I&#39;m implementing it with Quartz, but how can I determine to only run it on one machine? This schedule changes the information in the database and sends e-mails. I just don&#39;t want to do it twice. @DissallowConcurrentExecution will help me ?\r\n\r\nThank you.","title":"SpringBoot Quartz - How to run scheduler only on one machine","body":"<p>I have two machines on which I run the application. I just want only one machine to run the scheduler. I'm implementing it with Quartz, but how can I determine to only run it on one machine? This schedule changes the information in the database and sends e-mails. I just don't want to do it twice. @DissallowConcurrentExecution will help me ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","openapi","code-generation","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":1556832,"reputation":378922,"user_id":1447675,"display_name":"Nina Scholz"},"score":0,"creation_date":1637858472,"post_id":70114612,"comment_id":123943231,"body_markdown":"which value do you take for comparison?","body":"which value do you take for comparison?"},{"owner":{"account_id":22591578,"reputation":155,"user_id":16774597,"display_name":"prabhakar srivastava"},"score":0,"creation_date":1637858498,"post_id":70114612,"comment_id":123943238,"body_markdown":"PRICE_CODE1, modelCode","body":"PRICE_CODE1, modelCode"},{"owner":{"account_id":1556832,"reputation":378922,"user_id":1447675,"display_name":"Nina Scholz"},"score":0,"creation_date":1637858534,"post_id":70114612,"comment_id":123943259,"body_markdown":"which `PRICE_CODE1`?","body":"which <code>PRICE_CODE1</code>?"},{"owner":{"account_id":22591578,"reputation":155,"user_id":16774597,"display_name":"prabhakar srivastava"},"score":0,"creation_date":1637858615,"post_id":70114612,"comment_id":123943298,"body_markdown":"in the above JSON PRICE_CODE1 is the key inside the price array.\ncomparing the object one","body":"in the above JSON PRICE_CODE1 is the key inside the price array. comparing the object one"},{"owner":{"account_id":1556832,"reputation":378922,"user_id":1447675,"display_name":"Nina Scholz"},"score":0,"creation_date":1637858676,"post_id":70114612,"comment_id":123943319,"body_markdown":"yes, i know. but which one do you take for comparing object one and two?","body":"yes, i know. but which one do you take for comparing object one and two?"},{"owner":{"account_id":75116,"reputation":11792,"user_id":215552,"display_name":"Heretic Monkey"},"score":0,"creation_date":1637858871,"post_id":70114612,"comment_id":123943397,"body_markdown":"JSON is a text format. You cannot use `sort` to sort JSON, because it&#39;s text.  There is no need to invoke the JSON moniker for any set of data.","body":"JSON is a text format. You cannot use <code>sort</code> to sort JSON, because it&#39;s text.  There is no need to invoke the JSON moniker for any set of data."},{"owner":{"account_id":22591578,"reputation":155,"user_id":16774597,"display_name":"prabhakar srivastava"},"score":0,"creation_date":1637858964,"post_id":70114612,"comment_id":123943429,"body_markdown":"but my data is not a JSON object it is array,","body":"but my data is not a JSON object it is array,"},{"owner":{"account_id":22591578,"reputation":155,"user_id":16774597,"display_name":"prabhakar srivastava"},"score":0,"creation_date":1637858993,"post_id":70114612,"comment_id":123943440,"body_markdown":"modelId1 and modelId2","body":"modelId1 and modelId2"},{"owner":{"account_id":75116,"reputation":11792,"user_id":215552,"display_name":"Heretic Monkey"},"score":0,"creation_date":1637859910,"post_id":70114612,"comment_id":123943766,"body_markdown":"Your data is an array of objects, each of which has a property which is also an array of objects. None of that has anything to do with JSON.","body":"Your data is an array of objects, each of which has a property which is also an array of objects. None of that has anything to do with JSON."},{"owner":{"account_id":75116,"reputation":11792,"user_id":215552,"display_name":"Heretic Monkey"},"score":0,"creation_date":1637860137,"post_id":70114612,"comment_id":123943830,"body_markdown":"I would recommend changing the structure of your data. It makes no sense to have an array of objects, each with a different key. I would flatten that array to an object, like `price: { PRICE_CODE1: &lt;value&gt;, PRICE_CODE2: &lt;value&gt;, PRICE_CODE3: &lt;value&gt; }`, then sorting would be much easier.","body":"I would recommend changing the structure of your data. It makes no sense to have an array of objects, each with a different key. I would flatten that array to an object, like <code>price: { PRICE_CODE1: &lt;value&gt;, PRICE_CODE2: &lt;value&gt;, PRICE_CODE3: &lt;value&gt; }</code>, then sorting would be much easier."}],"answers":[{"tags":[],"owner":{"account_id":4259853,"reputation":3904,"user_id":3484498,"accept_rate":70,"display_name":"Apolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637859586,"creation_date":1637859586,"answer_id":70114876,"question_id":70114612,"body_markdown":"Warning: This would work for the price array structure you have but not for modelCode as sort key.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const data = [\r\n       {\r\n          &quot;modelId&quot;:2,\r\n          &quot;modelCode&quot;:&quot;model2&quot;,\r\n          &quot;price&quot;:[\r\n             {\r\n                &quot;PRICE_CODE1&quot;:100.01\r\n             },\r\n             {\r\n                &quot;PRICE_CODE2&quot;:200.68\r\n             },\r\n             {\r\n                &quot;PRICE_CODE3&quot;:300.0\r\n             }\r\n          ]\r\n       },\r\n       {\r\n          &quot;modelId&quot;:1,\r\n          &quot;modelCode&quot;:&quot;model1&quot;,\r\n          &quot;price&quot;:[\r\n             {\r\n                &quot;PRICE_CODE1&quot;:225.01\r\n             },\r\n             {\r\n                &quot;PRICE_CODE2&quot;:247.68\r\n             },\r\n             {\r\n                &quot;PRICE_CODE3&quot;:298.0\r\n             }\r\n          ]\r\n       }\r\n    ]\r\n\r\n    function sortData(sortKeys = []) {\r\n      data.sort((a,b) =&gt; {\r\n        for (let sortKey of sortKeys) {\r\n          const priceObjA = a.price.find(x =&gt; sortKey in x);\r\n          const priceObjB = b.price.find(x =&gt; sortKey in x);\r\n          const priceA = priceObjA &amp;&amp; priceObjA[sortKey] || 0;\r\n          const priceB = priceObjB &amp;&amp; priceObjB[sortKey] || 0;\r\n          const result = priceA - priceB;\r\n          if (result !== 0) {\r\n            return result;\r\n          }\r\n        }\r\n        // fallback for equality\r\n        return 0;\r\n      })\r\n    }\r\n\r\n\r\n    sortData([&#39;PRICE_CODE1&#39;]);\r\n    console.log(JSON.stringify(data,null,2));\r\n\r\n    sortData([&#39;PRICE_CODE2&#39;]);\r\n    console.log(JSON.stringify(data,null,2));\r\n\r\n    sortData([&#39;PRICE_CODE3&#39;]);\r\n    console.log(JSON.stringify(data,null,2));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"OpenAPI generator maven plugin - How to define Custom Path","body":"<p>Warning: This would work for the price array structure you have but not for modelCode as sort key.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\n   {\n      \"modelId\":2,\n      \"modelCode\":\"model2\",\n      \"price\":[\n         {\n            \"PRICE_CODE1\":100.01\n         },\n         {\n            \"PRICE_CODE2\":200.68\n         },\n         {\n            \"PRICE_CODE3\":300.0\n         }\n      ]\n   },\n   {\n      \"modelId\":1,\n      \"modelCode\":\"model1\",\n      \"price\":[\n         {\n            \"PRICE_CODE1\":225.01\n         },\n         {\n            \"PRICE_CODE2\":247.68\n         },\n         {\n            \"PRICE_CODE3\":298.0\n         }\n      ]\n   }\n]\n\nfunction sortData(sortKeys = []) {\n  data.sort((a,b) =&gt; {\n    for (let sortKey of sortKeys) {\n      const priceObjA = a.price.find(x =&gt; sortKey in x);\n      const priceObjB = b.price.find(x =&gt; sortKey in x);\n      const priceA = priceObjA &amp;&amp; priceObjA[sortKey] || 0;\n      const priceB = priceObjB &amp;&amp; priceObjB[sortKey] || 0;\n      const result = priceA - priceB;\n      if (result !== 0) {\n        return result;\n      }\n    }\n    // fallback for equality\n    return 0;\n  })\n}\n\n\nsortData(['PRICE_CODE1']);\nconsole.log(JSON.stringify(data,null,2));\n\nsortData(['PRICE_CODE2']);\nconsole.log(JSON.stringify(data,null,2));\n\nsortData(['PRICE_CODE3']);\nconsole.log(JSON.stringify(data,null,2));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1912742,"reputation":15070,"user_id":1726083,"display_name":"erik258"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637860890,"creation_date":1637860890,"answer_id":70115134,"question_id":70114612,"body_markdown":"&gt; arr.sort(sortByMultipleKey([&#39;PRICE_CODE1&#39;,&#39;modelCode&#39;]))\r\n\r\nYour `sortByMultipleKey` takes a list of keys, each of which describe *one* key.  That can&#39;t describe the `PRICE_CODE1` field of an object under `prices`.  \r\n\r\nYou&#39;re essentially trying to come up with a syntax to describe arbitrary location in hierarchical data. \r\n\r\nInstead of doing that,  Use Javascript itself to define how to find the next comparison field!  pass functions that can resolve the fields and iterate over those. \r\n\r\nBelow, I will define 2 functions.  The first will extract the first `PRICE_CODE1` from the elements of `prices`.  \r\n\r\n```\r\n  function(d) {\r\n    for (i = 0; i &lt; d.price.length; d++) {\r\n      if (&quot;PRICE_CODE1&quot; in d.price[i]) {\r\n        return d.price[i].PRICE_CODE1\r\n      }\r\n    }\r\n    return undefined\r\n  }\r\n```\r\n\r\nThe one for modelCode is simpler:\r\n```\r\n  function(d) {\r\n    return d.modelCode\r\n  }\r\n```\r\n\r\nI also add a 3rd model with the same `PRICE_CODE1` so that `modelCode` would also be relevant.  \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function sortByMultiple(field_funcs) {\r\n      return function(a, b) {\r\n        for (i = 0; i &lt; field_funcs.length; i++) {\r\n          fa = field_funcs[i](a)\r\n          fb = field_funcs[i](b)\r\n          console.log(&quot;Comparing &quot; + fa + &quot; and &quot; + fb)\r\n          if (fa &lt; fb) return -1;\r\n          if (fa &gt; fb) return 1;\r\n          if (i + 1 == field_funcs.length) return 0\r\n        }\r\n      }\r\n    }\r\n    var data = [{\r\n        &quot;modelId&quot;: 2,\r\n        &quot;modelCode&quot;: &quot;model2&quot;,\r\n        &quot;price&quot;: [{\r\n            &quot;PRICE_CODE1&quot;: 100.01\r\n          },\r\n          {\r\n            &quot;PRICE_CODE2&quot;: 200.68\r\n          },\r\n          {\r\n            &quot;PRICE_CODE3&quot;: 300.0\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;modelId&quot;: 1,\r\n        &quot;modelCode&quot;: &quot;model1&quot;,\r\n        &quot;price&quot;: [{\r\n            &quot;PRICE_CODE1&quot;: 225.01\r\n          },\r\n          {\r\n            &quot;PRICE_CODE2&quot;: 247.68\r\n          },\r\n          {\r\n            &quot;PRICE_CODE3&quot;: 298.0\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        &quot;modelId&quot;: 3,\r\n        &quot;modelCode&quot;: &quot;model3&quot;,\r\n        &quot;price&quot;: [{\r\n            &quot;PRICE_CODE1&quot;: 225.01\r\n          },\r\n          {\r\n            &quot;PRICE_CODE2&quot;: 247.68\r\n          },\r\n          {\r\n            &quot;PRICE_CODE3&quot;: 298.0\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n\r\n    data.sort(sortByMultiple([\r\n      function(d) {\r\n        for (i = 0; i &lt; d.price.length; d++) {\r\n          if (&quot;PRICE_CODE1&quot; in d.price[i]) {\r\n            return d.price[i].PRICE_CODE1\r\n          }\r\n        }\r\n        return undefined\r\n      },\r\n      function(d) {\r\n        return d.modelCode\r\n      }\r\n    ]))\r\n    console.log(data)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"OpenAPI generator maven plugin - How to define Custom Path","body":"<blockquote>\n<p>arr.sort(sortByMultipleKey(['PRICE_CODE1','modelCode']))</p>\n</blockquote>\n<p>Your <code>sortByMultipleKey</code> takes a list of keys, each of which describe <em>one</em> key.  That can't describe the <code>PRICE_CODE1</code> field of an object under <code>prices</code>.</p>\n<p>You're essentially trying to come up with a syntax to describe arbitrary location in hierarchical data.</p>\n<p>Instead of doing that,  Use Javascript itself to define how to find the next comparison field!  pass functions that can resolve the fields and iterate over those.</p>\n<p>Below, I will define 2 functions.  The first will extract the first <code>PRICE_CODE1</code> from the elements of <code>prices</code>.</p>\n<pre><code>  function(d) {\n    for (i = 0; i &lt; d.price.length; d++) {\n      if (&quot;PRICE_CODE1&quot; in d.price[i]) {\n        return d.price[i].PRICE_CODE1\n      }\n    }\n    return undefined\n  }\n</code></pre>\n<p>The one for modelCode is simpler:</p>\n<pre><code>  function(d) {\n    return d.modelCode\n  }\n</code></pre>\n<p>I also add a 3rd model with the same <code>PRICE_CODE1</code> so that <code>modelCode</code> would also be relevant.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sortByMultiple(field_funcs) {\n  return function(a, b) {\n    for (i = 0; i &lt; field_funcs.length; i++) {\n      fa = field_funcs[i](a)\n      fb = field_funcs[i](b)\n      console.log(\"Comparing \" + fa + \" and \" + fb)\n      if (fa &lt; fb) return -1;\n      if (fa &gt; fb) return 1;\n      if (i + 1 == field_funcs.length) return 0\n    }\n  }\n}\nvar data = [{\n    \"modelId\": 2,\n    \"modelCode\": \"model2\",\n    \"price\": [{\n        \"PRICE_CODE1\": 100.01\n      },\n      {\n        \"PRICE_CODE2\": 200.68\n      },\n      {\n        \"PRICE_CODE3\": 300.0\n      }\n    ]\n  },\n  {\n    \"modelId\": 1,\n    \"modelCode\": \"model1\",\n    \"price\": [{\n        \"PRICE_CODE1\": 225.01\n      },\n      {\n        \"PRICE_CODE2\": 247.68\n      },\n      {\n        \"PRICE_CODE3\": 298.0\n      }\n    ]\n  },\n  {\n    \"modelId\": 3,\n    \"modelCode\": \"model3\",\n    \"price\": [{\n        \"PRICE_CODE1\": 225.01\n      },\n      {\n        \"PRICE_CODE2\": 247.68\n      },\n      {\n        \"PRICE_CODE3\": 298.0\n      }\n    ]\n  }\n]\n\ndata.sort(sortByMultiple([\n  function(d) {\n    for (i = 0; i &lt; d.price.length; d++) {\n      if (\"PRICE_CODE1\" in d.price[i]) {\n        return d.price[i].PRICE_CODE1\n      }\n    }\n    return undefined\n  },\n  function(d) {\n    return d.modelCode\n  }\n]))\nconsole.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":4966115,"reputation":684,"user_id":3995379,"display_name":"davood Sandoghsaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637863106,"creation_date":1637861316,"answer_id":70115216,"question_id":70114612,"body_markdown":"You can use lodash library:\r\n\r\n    _.orderBy( data, [c =&gt; c.price[0].PRICE_CODE1, &quot;modelCode&quot;], [&quot;asc&quot;, &quot;asc&quot;]);","title":"OpenAPI generator maven plugin - How to define Custom Path","body":"<p>You can use lodash library:</p>\n<pre><code>_.orderBy( data, [c =&gt; c.price[0].PRICE_CODE1, &quot;modelCode&quot;], [&quot;asc&quot;, &quot;asc&quot;]);\n</code></pre>\n"}],"owner":{"account_id":22591578,"reputation":155,"user_id":16774597,"display_name":"prabhakar srivastava"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1679669673,"creation_date":1637858382,"question_id":70114612,"body_markdown":"I am using OpenAPI generator maven plugin with 6.4.0 version. I am facing two issue. \r\n1. in swagger file server url defined and when i generate the code then @RequestMapping have base path with server url but i don&#39;t want to this path and also can not change swagger file.\r\n2. I don&#39;t want to use test folder created from generated code. below are the properties I have using.\r\n\r\n         &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;6.4.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;execution-services&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;inputSpec&gt;src/main/resources/openapi/services_swagger.yaml&lt;/inputSpec&gt;\r\n                                &lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n                                &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n                                &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n                                &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n                                &lt;generateApis&gt;true&lt;/generateApis&gt;\r\n                                &lt;generateModels&gt;true&lt;/generateModels&gt;\r\n                                &lt;library&gt;spring-boot&lt;/library&gt;\r\n                                &lt;configOptions&gt;\r\n                                    &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\r\n                                    &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\r\n                                    &lt;modelPackage&gt;com.example.model&lt;/modelPackage&gt;\r\n                                    &lt;generateTestCode&gt;false&lt;/generateTestCode&gt;\r\n                                    &lt;useTags&gt;true&lt;/useTags&gt;\r\n                                &lt;/configOptions&gt;\r\n                                &lt;additionalProperties&gt;\r\n                                    &lt;java11&gt;true&lt;/java11&gt;\r\n                                &lt;/additionalProperties&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n","title":"OpenAPI generator maven plugin - How to define Custom Path","body":"<p>I am using OpenAPI generator maven plugin with 6.4.0 version. I am facing two issue.</p>\n<ol>\n<li><p>in swagger file server url defined and when i generate the code then @RequestMapping have base path with server url but i don't want to this path and also can not change swagger file.</p>\n</li>\n<li><p>I don't want to use test folder created from generated code. below are the properties I have using.</p>\n<pre><code>  &lt;plugin&gt;\n             &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n             &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;6.4.0&lt;/version&gt;\n             &lt;executions&gt;\n                 &lt;execution&gt;\n                     &lt;id&gt;execution-services&lt;/id&gt;\n                     &lt;goals&gt;\n                         &lt;goal&gt;generate&lt;/goal&gt;\n                     &lt;/goals&gt;\n                     &lt;configuration&gt;\n                         &lt;inputSpec&gt;src/main/resources/openapi/services_swagger.yaml&lt;/inputSpec&gt;\n                         &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                         &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                         &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                         &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                         &lt;generateApis&gt;true&lt;/generateApis&gt;\n                         &lt;generateModels&gt;true&lt;/generateModels&gt;\n                         &lt;library&gt;spring-boot&lt;/library&gt;\n                         &lt;configOptions&gt;\n                             &lt;sourceFolder&gt;src/main/java&lt;/sourceFolder&gt;\n                             &lt;apiPackage&gt;com.example.api&lt;/apiPackage&gt;\n                             &lt;modelPackage&gt;com.example.model&lt;/modelPackage&gt;\n                             &lt;generateTestCode&gt;false&lt;/generateTestCode&gt;\n                             &lt;useTags&gt;true&lt;/useTags&gt;\n                         &lt;/configOptions&gt;\n                         &lt;additionalProperties&gt;\n                             &lt;java11&gt;true&lt;/java11&gt;\n                         &lt;/additionalProperties&gt;\n                     &lt;/configuration&gt;\n                 &lt;/execution&gt;\n             &lt;/executions&gt;\n         &lt;/plugin&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":["java","spring-boot","connection-pool"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1640198752,"post_id":70453713,"comment_id":124541293,"body_markdown":"please do not describe your code... post it","body":"please do not describe your code... post it"}],"answers":[{"tags":[],"owner":{"account_id":1337949,"reputation":269,"user_id":1280213,"display_name":"user1280213"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1640231611,"creation_date":1640231611,"answer_id":70457482,"question_id":70453713,"body_markdown":"Essentially the problem is caused by the Spring [OpenSessionInViewFilter][1] that &quot;*binds a Hibernate Session to the thread for the entire processing of the request*&quot; This essentially acquires a connection from the pool when the first JPA query is executed and then holds on to it till the request is processed. \r\n\r\nThis page - https://www.baeldung.com/spring-open-session-in-view provides a clear and concise explanation about this feature. It has its pros and cons and the current opinion seems to be divided on its use.  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/support/OpenSessionInViewFilter.html","title":"Springboot JPA Repository not releasing Hikari DB Connection","body":"<p>Essentially the problem is caused by the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/support/OpenSessionInViewFilter.html\" rel=\"nofollow noreferrer\">OpenSessionInViewFilter</a> that &quot;<em>binds a Hibernate Session to the thread for the entire processing of the request</em>&quot; This essentially acquires a connection from the pool when the first JPA query is executed and then holds on to it till the request is processed.</p>\n<p>This page - <a href=\"https://www.baeldung.com/spring-open-session-in-view\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-open-session-in-view</a> provides a clear and concise explanation about this feature. It has its pros and cons and the current opinion seems to be divided on its use.</p>\n"},{"tags":[],"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679669589,"creation_date":1679669589,"answer_id":75835159,"question_id":70453713,"body_markdown":"I was facing the same issue. I did not have any `@Transactional` (or so I thought), and OpenSessionInViewFilter was turned off. All of the API was working fine except one endpoint which had not even anything to do with JDBC since it was doing LDAP calls.\r\n\r\nWhen looking at Hikari trace, I could see that each time I called this endpoint, 8 connections were established and never released back to the pool.\r\n\r\nBut then, I found out that this endpoint was using `ContextSourceTransactionManager`, which is an emulation of transactions for LDAP... I removed it and the problem went away!","title":"Springboot JPA Repository not releasing Hikari DB Connection","body":"<p>I was facing the same issue. I did not have any <code>@Transactional</code> (or so I thought), and OpenSessionInViewFilter was turned off. All of the API was working fine except one endpoint which had not even anything to do with JDBC since it was doing LDAP calls.</p>\n<p>When looking at Hikari trace, I could see that each time I called this endpoint, 8 connections were established and never released back to the pool.</p>\n<p>But then, I found out that this endpoint was using <code>ContextSourceTransactionManager</code>, which is an emulation of transactions for LDAP... I removed it and the problem went away!</p>\n"}],"owner":{"account_id":1337949,"reputation":269,"user_id":1280213,"display_name":"user1280213"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4789,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1679669589,"creation_date":1640198353,"question_id":70453713,"body_markdown":"I have a rest API in Springboot using Hikari for connection pooling. Hikari is used with default configurations (10 connections in the pool, 30 sec timeout waiting for a connection). The API itself is very simple\r\n\r\n 1. It first makes a JPA repository query to fetch some data from a PostgresDB. This part takes about 15-20milliseconds.\r\n 2. It then sends this data to a remote REST API that is slow and can take upwards of 120seconds. \r\n 3. Once the remote API responds, my API returns the result back to the client. A simplified version is shown below. \r\n```java\r\n    public ResponseEntity analyseData(int companyId) {\r\n        Company company = companyRepository.findById(companyId);//takes 20ms\r\n        Analysis analysis = callRemoteRestAPI(company.data) //takes 120seconds\r\n       return ResponseEntity.status(200).body(analysis);\r\n\r\n    }\r\n```\r\nThe code does not have any @Transactional annotations. I find that the JDBC connection is held for the entire duration of my API (i.e ~ 120s). And hence if we get more than 10 requests they timeout waiting on the hikari connection pool (30s).  But strictly speaking my API does not need the connection after the JPA query is done (Step 1 above). \r\n\r\nIs there a way to get spring to release this connection immediately after the query instead of holding it till the entire API finishes processing ? Can Spring be configured to get a connection for every JPA request ? That way if I have multiple JPA queries interspersed with very slow operations the server throughput is not affected and it can handle more than 10 concurrent API requests. . \r\n","title":"Springboot JPA Repository not releasing Hikari DB Connection","body":"<p>I have a rest API in Springboot using Hikari for connection pooling. Hikari is used with default configurations (10 connections in the pool, 30 sec timeout waiting for a connection). The API itself is very simple</p>\n<ol>\n<li>It first makes a JPA repository query to fetch some data from a PostgresDB. This part takes about 15-20milliseconds.</li>\n<li>It then sends this data to a remote REST API that is slow and can take upwards of 120seconds.</li>\n<li>Once the remote API responds, my API returns the result back to the client. A simplified version is shown below.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public ResponseEntity analyseData(int companyId) {\n        Company company = companyRepository.findById(companyId);//takes 20ms\n        Analysis analysis = callRemoteRestAPI(company.data) //takes 120seconds\n       return ResponseEntity.status(200).body(analysis);\n\n    }\n</code></pre>\n<p>The code does not have any @Transactional annotations. I find that the JDBC connection is held for the entire duration of my API (i.e ~ 120s). And hence if we get more than 10 requests they timeout waiting on the hikari connection pool (30s).  But strictly speaking my API does not need the connection after the JPA query is done (Step 1 above).</p>\n<p>Is there a way to get spring to release this connection immediately after the query instead of holding it till the entire API finishes processing ? Can Spring be configured to get a connection for every JPA request ? That way if I have multiple JPA queries interspersed with very slow operations the server throughput is not affected and it can handle more than 10 concurrent API requests. .</p>\n"},{"tags":["java","ssl","server","keytool","ionos"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1679523857,"post_id":75817245,"comment_id":133739623,"body_markdown":"There is definitely a privatekey in that PKCS12, the display says so. But either the _certificates_ are not present, or are unreadable -- which might occur if you give a wrong/inconsistent password, but that should cause other error messages as well. Do you have openssl, including on another machine you can use, or can you get it? If so, do `openssl pkcs12 -info -nokeys` on each file to see the encryption options and cert(s), but not the (sensitive) privatekey values, and compare the working to nonworking case.","body":"There is definitely a privatekey in that PKCS12, the display says so. But either the <i>certificates</i> are not present, or are unreadable -- which might occur if you give a wrong/inconsistent password, but that should cause other error messages as well. Do you have openssl, including on another machine you can use, or can you get it? If so, do <code>openssl pkcs12 -info -nokeys</code> on each file to see the encryption options and cert(s), but not the (sensitive) privatekey values, and compare the working to nonworking case."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1679584247,"post_id":75817245,"comment_id":133750903,"body_markdown":"I don&#39;t know who voted to close this question as not being about software development, but that&#39;s certainly wrong; keytool is part of the JDK and the resulting keystores are required as input for many programming tasks. I&#39;m agreeing with Dave above of course. What is required for Java keystores is that there is a certificate chain that is directly associated with the private key (possibly excluding root cert), starting with the leaf certificate. Separate certificates are commonly considered trust points instead.","body":"I don&#39;t know who voted to close this question as not being about software development, but that&#39;s certainly wrong; keytool is part of the JDK and the resulting keystores are required as input for many programming tasks. I&#39;m agreeing with Dave above of course. What is required for Java keystores is that there is a certificate chain that is directly associated with the private key (possibly excluding root cert), starting with the leaf certificate. Separate certificates are commonly considered trust points instead."},{"owner":{"account_id":2316543,"reputation":3271,"user_id":2502360,"accept_rate":60,"display_name":"Curtis"},"score":0,"creation_date":1679601002,"post_id":75817245,"comment_id":133755273,"body_markdown":"@dave_thompson_085 thank you for your suggestion, I was able to compare them and they seem almost identical except that the non working one has `Bag Attributes: &lt;Empty Attributes&gt;` where as the working one had a `friendlyname` and `localKeyID` inside the `Bag Attributes`. Since I had OpenSSL I downloaded the cert, intermediate cert and private key from my host and used OpenSSL to create a new PFX and it worked. It had the same bag attributes as the working one and keytool was able to successfully import them. So I assume the Empty Attributes thing was the issue?","body":"@dave_thompson_085 thank you for your suggestion, I was able to compare them and they seem almost identical except that the non working one has <code>Bag Attributes: &lt;Empty Attributes&gt;</code> where as the working one had a <code>friendlyname</code> and <code>localKeyID</code> inside the <code>Bag Attributes</code>. Since I had OpenSSL I downloaded the cert, intermediate cert and private key from my host and used OpenSSL to create a new PFX and it worked. It had the same bag attributes as the working one and keytool was able to successfully import them. So I assume the Empty Attributes thing was the issue?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1679629650,"post_id":75817245,"comment_id":133759427,"body_markdown":"Curtis: yes, or more exactly the lack of `localKeyID`, which is used to link the privatekey to the matching cert (since the PKCS12 format allows more than one of each, even though you aren&#39;t doing so here). The Sun/Oracle/OpenJDK provider doesn&#39;t _need_ `friendlyName`, but is easier to use with.","body":"Curtis: yes, or more exactly the lack of <code>localKeyID</code>, which is used to link the privatekey to the matching cert (since the PKCS12 format allows more than one of each, even though you aren&#39;t doing so here). The Sun/Oracle/OpenJDK provider doesn&#39;t <i>need</i> <code>friendlyName</code>, but is easier to use with."}],"owner":{"account_id":2316543,"reputation":3271,"user_id":2502360,"accept_rate":60,"display_name":"Curtis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":814,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679669560,"creation_date":1679518873,"question_id":75817245,"body_markdown":"I am trying to update a keystore with a renewed SSL certificate that I downloaded from my Ionos webhost.\r\n\r\nI downloaded the PFX file after inputing my private key and password into their PFX creation tool and checked an option to &quot;include intermediate certificates&quot; (this is what I have always done in the past).\r\n\r\nWhen I ran keytool to update the keystore this is the command I used:\r\n\r\n```cmd\r\nkeytool -importkeystore -srckeystore example.com_private_key.pfx -srcstoretype pkcs12 -destkeystore mykeystore.jks -deststoretype JKS\r\n```\r\n\r\nIt asks me to enter some passwords and then asks me if I wanted to override the alias. After entering &quot;yes&quot; it gave me the &quot;Invalid null input&quot; error.\r\n\r\nI also tried creating a new keystore instead of updating the old one and after entering the passwords I received the same error.\r\n\r\nI still have my old PFX file from last year and keytool doesn&#39;t give the error when creating a keystore with that.\r\n\r\nI also tried reissuing the private key and redownloading the PFX with and without the intermediate certificate option but got the same error.\r\n\r\nI don&#39;t know where to even start to find out how to overcome this issue. My only assumption is that there is something wrong with the new PFX file but don&#39;t know how I can verify it or troubleshoot.\r\n\r\nAny suggestions?\r\n\r\nEDIT:\r\n\r\nI decided to run keytool -list on the PFX file and this was the output\r\n\r\n```cmd\r\n&gt;keytool -list -v -keystore example.com_private_key.pfx\r\nEnter keystore password:\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: *.example.com\r\nCreation date: 22-Mar-2023\r\nEntry type: PrivateKeyEntry\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n```\r\n\r\nUsually this gives a big list of things but this seems empty.","title":"&quot;keytool error: java.lang.NullPointerException: invalid null input&quot; when creating keystore","body":"<p>I am trying to update a keystore with a renewed SSL certificate that I downloaded from my Ionos webhost.</p>\n<p>I downloaded the PFX file after inputing my private key and password into their PFX creation tool and checked an option to &quot;include intermediate certificates&quot; (this is what I have always done in the past).</p>\n<p>When I ran keytool to update the keystore this is the command I used:</p>\n<pre><code>keytool -importkeystore -srckeystore example.com_private_key.pfx -srcstoretype pkcs12 -destkeystore mykeystore.jks -deststoretype JKS\n</code></pre>\n<p>It asks me to enter some passwords and then asks me if I wanted to override the alias. After entering &quot;yes&quot; it gave me the &quot;Invalid null input&quot; error.</p>\n<p>I also tried creating a new keystore instead of updating the old one and after entering the passwords I received the same error.</p>\n<p>I still have my old PFX file from last year and keytool doesn't give the error when creating a keystore with that.</p>\n<p>I also tried reissuing the private key and redownloading the PFX with and without the intermediate certificate option but got the same error.</p>\n<p>I don't know where to even start to find out how to overcome this issue. My only assumption is that there is something wrong with the new PFX file but don't know how I can verify it or troubleshoot.</p>\n<p>Any suggestions?</p>\n<p>EDIT:</p>\n<p>I decided to run keytool -list on the PFX file and this was the output</p>\n<pre><code>&gt;keytool -list -v -keystore example.com_private_key.pfx\nEnter keystore password:\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: *.example.com\nCreation date: 22-Mar-2023\nEntry type: PrivateKeyEntry\n\n\n*******************************************\n*******************************************\n</code></pre>\n<p>Usually this gives a big list of things but this seems empty.</p>\n"},{"tags":["java","swing","interface","components","jframe"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1679669862,"post_id":75834892,"comment_id":133767831,"body_markdown":"1) What is the layout manager of the content pane? By default it is a `BorderLayout` and only a single component can be added to the `BorderLayout.CENTER`, which is the default if you don&#39;t specify a constraint when adding the component. 2) components are visible by default so no need for the setVisible(...) statement. 3) the revalidate() and repaint() should be invoked outside the loop AFTER all components have been added.","body":"1) What is the layout manager of the content pane? By default it is a <code>BorderLayout</code> and only a single component can be added to the <code>BorderLayout.CENTER</code>, which is the default if you don&#39;t specify a constraint when adding the component. 2) components are visible by default so no need for the setVisible(...) statement. 3) the revalidate() and repaint() should be invoked outside the loop AFTER all components have been added."},{"owner":{"account_id":23386074,"reputation":75,"user_id":17451411,"display_name":"Yahia"},"score":0,"creation_date":1679671115,"post_id":75834892,"comment_id":133768147,"body_markdown":"@camickr I&#39;m using a GroupLayout","body":"@camickr I&#39;m using a GroupLayout"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1679671349,"post_id":75834892,"comment_id":133768215,"body_markdown":"And GroupLayout is one of the most complex layout managers. You need to specify multiple constraints to get the components to display properly. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html). I suggest you use one of the other layout manager to achieve your desired layout. You can also nest panels with different layout managers.","body":"And GroupLayout is one of the most complex layout managers. You need to specify multiple constraints to get the components to display properly. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a>. I suggest you use one of the other layout manager to achieve your desired layout. You can also nest panels with different layout managers."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679673090,"post_id":75834892,"comment_id":133768713,"body_markdown":"[mcve] please .. no need for database access to demonstrate a problem with layout :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. no need for database access to demonstrate a problem with layout :)"}],"answers":[{"tags":[],"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679669551,"creation_date":1679669551,"answer_id":75835151,"question_id":75834892,"body_markdown":"You have to make the UI changes on the event dispatch thread. Assuming the database access is done on a dedicated thread, wrap the UI changes in `SwingUtilities.invokeLater()`, for example:\r\n\r\n    SwingUtilities.invokeLater(() -&gt; {\r\n        JRadioButton radio = new JRadioButton(&quot;Hello world&quot;);\r\n        radio.setVisible(true);\r\n        getContentPane().add(radio);\r\n        getContentPane().revalidate();\r\n        getContentPane().repaint();\r\n    });\r\n\r\nUsing a [SwingWorker][1] might be a good idea too.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html","title":"Dynamically adding components to JFrame","body":"<p>You have to make the UI changes on the event dispatch thread. Assuming the database access is done on a dedicated thread, wrap the UI changes in <code>SwingUtilities.invokeLater()</code>, for example:</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; {\n    JRadioButton radio = new JRadioButton(&quot;Hello world&quot;);\n    radio.setVisible(true);\n    getContentPane().add(radio);\n    getContentPane().revalidate();\n    getContentPane().repaint();\n});\n</code></pre>\n<p>Using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a> might be a good idea too.</p>\n"}],"owner":{"account_id":23386074,"reputation":75,"user_id":17451411,"display_name":"Yahia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679669551,"creation_date":1679668112,"question_id":75834892,"body_markdown":"I&#39;m looking for a way to dynamically add a `Component` inside a `JFrame` after it has been set visible.\r\nSpecifically, I&#39;m making a request to a database and based on the length of the result, I want to show a  `JRadioButton` on the screen.\r\nI&#39;m using this code:\r\n\r\n    try {\r\n            Class.forName(Mavenproject1.SQL_DRIVER);\r\n            Connection c = (Connection) DriverManager.getConnection(Mavenproject1.DB, Mavenproject1.ROOT, Mavenproject1.PASSWORD);\r\n            PreparedStatement ps = c.prepareStatement(&quot;Select * from calendriers where user = ?&quot;);\r\n            ps.setString(1, Login.USER);\r\n            ResultSet rs = ps.executeQuery();\r\n            if (rs.next()) {\r\n                int cal_id = rs.getInt(1);\r\n                ps = c.prepareStatement(&quot;Select * from creneaux where calendrier = ?&quot;);\r\n                ps.setInt(1, cal_id);\r\n                rs = ps.executeQuery();\r\n                while (rs.next()) {\r\n                    JRadioButton radio = new JRadioButton(&quot;Hello world&quot;);\r\n                    radio.setVisible(true);\r\n                    Date debut = Date.getDateFromString(rs.getString(2), true);\r\n                    Date fin = Date.getDateFromString(rs.getString(3), true);\r\n                    Creneau cr = new Creneau(debut, fin);\r\n                    creneaux.add(cr);\r\n                    System.out.println(cr.toString());\r\n                    getContentPane().add(radio);\r\n                    getContentPane().revalidate();\r\n                    getContentPane().repaint();\r\n                }\r\n                Component[] components = getContentPane().getComponents();\r\n                for (Component component : components) {\r\n                    System.out.println(component.getClass().getName());\r\n                }\r\n            }\r\n        } catch (Exception ex) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error&quot;, &quot;error&quot;, 1);\r\n        }\r\n\r\nAs an output, I&#39;m having the corresponding `JRadioButton`s are components of the content pane but I&#39;m unable to see it on the screen ,I checked the location using `getLocation()` it said `0,0` , I changed it to `100,100` but still nothing..","title":"Dynamically adding components to JFrame","body":"<p>I'm looking for a way to dynamically add a <code>Component</code> inside a <code>JFrame</code> after it has been set visible.\nSpecifically, I'm making a request to a database and based on the length of the result, I want to show a  <code>JRadioButton</code> on the screen.\nI'm using this code:</p>\n<pre><code>try {\n        Class.forName(Mavenproject1.SQL_DRIVER);\n        Connection c = (Connection) DriverManager.getConnection(Mavenproject1.DB, Mavenproject1.ROOT, Mavenproject1.PASSWORD);\n        PreparedStatement ps = c.prepareStatement(&quot;Select * from calendriers where user = ?&quot;);\n        ps.setString(1, Login.USER);\n        ResultSet rs = ps.executeQuery();\n        if (rs.next()) {\n            int cal_id = rs.getInt(1);\n            ps = c.prepareStatement(&quot;Select * from creneaux where calendrier = ?&quot;);\n            ps.setInt(1, cal_id);\n            rs = ps.executeQuery();\n            while (rs.next()) {\n                JRadioButton radio = new JRadioButton(&quot;Hello world&quot;);\n                radio.setVisible(true);\n                Date debut = Date.getDateFromString(rs.getString(2), true);\n                Date fin = Date.getDateFromString(rs.getString(3), true);\n                Creneau cr = new Creneau(debut, fin);\n                creneaux.add(cr);\n                System.out.println(cr.toString());\n                getContentPane().add(radio);\n                getContentPane().revalidate();\n                getContentPane().repaint();\n            }\n            Component[] components = getContentPane().getComponents();\n            for (Component component : components) {\n                System.out.println(component.getClass().getName());\n            }\n        }\n    } catch (Exception ex) {\n        JOptionPane.showMessageDialog(null, &quot;Error&quot;, &quot;error&quot;, 1);\n    }\n</code></pre>\n<p>As an output, I'm having the corresponding <code>JRadioButton</code>s are components of the content pane but I'm unable to see it on the screen ,I checked the location using <code>getLocation()</code> it said <code>0,0</code> , I changed it to <code>100,100</code> but still nothing..</p>\n"},{"tags":["java","libgdx","sprite","box2d","multiplayer"],"owner":{"account_id":28114941,"reputation":1,"user_id":21482192,"display_name":"maritron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679669499,"creation_date":1679669499,"question_id":75835144,"body_markdown":"This is how we set the Box2D body:\r\n\r\n```\r\npublic void definePlayer() {\r\n        BodyDef bdef = new BodyDef();\r\n        bdef.position.set(32 / PPM, 32 / PPM);\r\n        bdef.type = BodyDef.BodyType.DynamicBody;\r\n        b2body = world.createBody(bdef);\r\n\r\n        FixtureDef fdef = new FixtureDef();\r\n        CircleShape shape = new CircleShape();\r\n        shape.setRadius(5 / PPM);\r\n        fdef.shape = shape;\r\n        b2body.createFixture(fdef);\r\n    }\r\n```\r\n\r\nThis is how we handle user input:\r\n\r\n```\r\nprivate void handleInput(float dt) {\r\n        for (Player player : playerList) {\r\n            if (Gdx.input.isKeyPressed(Input.Keys.RIGHT) &amp;&amp; player.b2body.getPosition().x + player.getWidth() &lt; getMapWidth())\r\n                player.b2body.applyLinearImpulse(new Vector2(1f, 0), player.b2body.getWorldCenter(), true);\r\n            if (Gdx.input.isKeyPressed(Input.Keys.LEFT) &amp;&amp; player.b2body.getPosition().x - player.getWidth() &gt; 0)\r\n                player.b2body.applyLinearImpulse(new Vector2(-1f, 0), player.b2body.getWorldCenter(), true);\r\n            if (Gdx.input.isKeyPressed(Input.Keys.DOWN) &amp;&amp; player.b2body.getPosition().y - player.getHeight() &gt; 0)\r\n                player.b2body.applyLinearImpulse(new Vector2(0, -1f), player.b2body.getWorldCenter(), true);\r\n            if (Gdx.input.isKeyPressed(Input.Keys.UP) &amp;&amp; player.b2body.getPosition().y + player.getHeight() &lt; getMapHeight())\r\n                player.b2body.applyLinearImpulse(new Vector2(0, 1f), player.b2body.getWorldCenter(), true);\r\n        }\r\n    }\r\n```\r\n\r\nHow we update the player&#39;s coordinates:\r\n\r\n```\r\npublic void update() {\r\n        x = (b2body.getPosition().x * PPM);\r\n        y = (b2body.getPosition().y * PPM);\r\n    }\r\n```\r\n\r\nAnd how they are rendered (this is in the GameScreen class and we use Kryonet for the server stuff):\r\n```\r\n@Override\r\n    public void render(float delta) {\r\n        update(delta);\r\n        Gdx.gl.glClearColor(1, 1, 1, 1);\r\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\r\n        renderer.render();\r\n\r\n        b2dr.render(world, cam.combined);\r\n\r\n        game.batch.setProjectionMatrix(cam.combined);\r\n\r\n        for (Player player : playerList) {\r\n            batch.begin();\r\n            Location location = new Location(player.getX(), player.getY());\r\n            client.client.sendUDP(location);\r\n            if (!(client.playerLocations == null)) {\r\n                for (Location location1 : client.playerLocations) {\r\n                    batch.draw(player.getTexture(), location1.getX(), location1.getY());\r\n                }\r\n            }\r\n            cam.update();\r\n            batch.end();\r\n        }\r\n   }\r\n```\r\n\r\nThe Box2D circle moves like it&#39;s supposed to on the map and the view changes along with it. The player sprite, however, spawns in a different location than the circle, moves slower than it when the camera is static, faster when the camera is moving. It also only moves on the screen, not the map. When another player enters the game, they will be rendered in their location on the game screen as in their game, even though they&#39;re in a different place on the map entirely.\r\n\r\nThe main problem seems to be that the player&#39;s coordinates are being rendered on the game window and not the map? I&#39;ve seen it suggested that you could move the map around the player, instead of moving the player sprite but wouldn&#39;t the problem with the other players across the server still persist?","title":"LibGDX: Player objects are drawn on screen, not map, and do not move in sync with Box2D body. Any advice on how to fix?","body":"<p>This is how we set the Box2D body:</p>\n<pre><code>public void definePlayer() {\n        BodyDef bdef = new BodyDef();\n        bdef.position.set(32 / PPM, 32 / PPM);\n        bdef.type = BodyDef.BodyType.DynamicBody;\n        b2body = world.createBody(bdef);\n\n        FixtureDef fdef = new FixtureDef();\n        CircleShape shape = new CircleShape();\n        shape.setRadius(5 / PPM);\n        fdef.shape = shape;\n        b2body.createFixture(fdef);\n    }\n</code></pre>\n<p>This is how we handle user input:</p>\n<pre><code>private void handleInput(float dt) {\n        for (Player player : playerList) {\n            if (Gdx.input.isKeyPressed(Input.Keys.RIGHT) &amp;&amp; player.b2body.getPosition().x + player.getWidth() &lt; getMapWidth())\n                player.b2body.applyLinearImpulse(new Vector2(1f, 0), player.b2body.getWorldCenter(), true);\n            if (Gdx.input.isKeyPressed(Input.Keys.LEFT) &amp;&amp; player.b2body.getPosition().x - player.getWidth() &gt; 0)\n                player.b2body.applyLinearImpulse(new Vector2(-1f, 0), player.b2body.getWorldCenter(), true);\n            if (Gdx.input.isKeyPressed(Input.Keys.DOWN) &amp;&amp; player.b2body.getPosition().y - player.getHeight() &gt; 0)\n                player.b2body.applyLinearImpulse(new Vector2(0, -1f), player.b2body.getWorldCenter(), true);\n            if (Gdx.input.isKeyPressed(Input.Keys.UP) &amp;&amp; player.b2body.getPosition().y + player.getHeight() &lt; getMapHeight())\n                player.b2body.applyLinearImpulse(new Vector2(0, 1f), player.b2body.getWorldCenter(), true);\n        }\n    }\n</code></pre>\n<p>How we update the player's coordinates:</p>\n<pre><code>public void update() {\n        x = (b2body.getPosition().x * PPM);\n        y = (b2body.getPosition().y * PPM);\n    }\n</code></pre>\n<p>And how they are rendered (this is in the GameScreen class and we use Kryonet for the server stuff):</p>\n<pre><code>@Override\n    public void render(float delta) {\n        update(delta);\n        Gdx.gl.glClearColor(1, 1, 1, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n        renderer.render();\n\n        b2dr.render(world, cam.combined);\n\n        game.batch.setProjectionMatrix(cam.combined);\n\n        for (Player player : playerList) {\n            batch.begin();\n            Location location = new Location(player.getX(), player.getY());\n            client.client.sendUDP(location);\n            if (!(client.playerLocations == null)) {\n                for (Location location1 : client.playerLocations) {\n                    batch.draw(player.getTexture(), location1.getX(), location1.getY());\n                }\n            }\n            cam.update();\n            batch.end();\n        }\n   }\n</code></pre>\n<p>The Box2D circle moves like it's supposed to on the map and the view changes along with it. The player sprite, however, spawns in a different location than the circle, moves slower than it when the camera is static, faster when the camera is moving. It also only moves on the screen, not the map. When another player enters the game, they will be rendered in their location on the game screen as in their game, even though they're in a different place on the map entirely.</p>\n<p>The main problem seems to be that the player's coordinates are being rendered on the game window and not the map? I've seen it suggested that you could move the map around the player, instead of moving the player sprite but wouldn't the problem with the other players across the server still persist?</p>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":22811207,"reputation":1,"user_id":16962469,"display_name":"Aditya Parihar"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1679667892,"creation_date":1679667892,"answer_id":75834853,"question_id":75834790,"body_markdown":"[Use this in your POM file You should have it][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/85st3.png","title":"Define spring variable content in a maven command","body":"<p><a href=\"https://i.stack.imgur.com/85st3.png\" rel=\"nofollow noreferrer\">Use this in your POM file You should have it</a></p>\n"}],"owner":{"account_id":7799174,"reputation":79,"user_id":5899229,"accept_rate":56,"display_name":"Benjamin Bettan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679669153,"creation_date":1679667591,"question_id":75834790,"body_markdown":"I need to do something like \r\n\r\nmvn clean test --Dspring.config.location=../application.yml\r\n\r\nI tried this in pom.xml to do only &quot;mvn clean test&quot;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\t\t       &lt;plugin&gt;\r\n\t\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t        &lt;configuration&gt;\r\n\t\t            &lt;environmentVariables&gt;\r\n\t\t                &lt;spring.config.location&gt;../application.yml&lt;/spring.config.location&gt;\r\n\t\t            &lt;/environmentVariables&gt;\r\n\t\t        &lt;/configuration&gt;\r\n\t\t      &lt;/plugin&gt;\r\n\r\n\r\n\r\nAny idea ?\r\n","title":"Define spring variable content in a maven command","body":"<p>I need to do something like</p>\n<p>mvn clean test --Dspring.config.location=../application.yml</p>\n<p>I tried this in pom.xml to do only &quot;mvn clean test&quot;</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n           &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;environmentVariables&gt;\n                    &lt;spring.config.location&gt;../application.yml&lt;/spring.config.location&gt;\n                &lt;/environmentVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>Any idea ?</p>\n"},{"tags":["java","intellij-idea","spring-boot","run-configuration"],"comments":[{"owner":{"account_id":5217235,"reputation":5750,"user_id":4171786,"display_name":"Harmelodic"},"score":0,"creation_date":1458207989,"post_id":36055601,"comment_id":59760586,"body_markdown":"Have you tried making a script (bash/bat etc.) that runs them all then just running the script?","body":"Have you tried making a script (bash/bat etc.) that runs them all then just running the script?"},{"owner":{"account_id":5217235,"reputation":5750,"user_id":4171786,"display_name":"Harmelodic"},"score":0,"creation_date":1458208129,"post_id":36055601,"comment_id":59760678,"body_markdown":"Or installed [this plugin?](https://plugins.jetbrains.com/plugin/7248?pr=idea)\nNot sure how trustworthy/good it is, but it exists for this purpose...","body":"Or installed <a href=\"https://plugins.jetbrains.com/plugin/7248?pr=idea\" rel=\"nofollow noreferrer\">this plugin?</a> Not sure how trustworthy/good it is, but it exists for this purpose..."},{"owner":{"account_id":1628459,"reputation":1393,"user_id":1503468,"accept_rate":38,"display_name":"ikryvorotenko"},"score":0,"creation_date":1458224770,"post_id":36055601,"comment_id":59773226,"body_markdown":"@Harmelodic yes, the script is a good option but i felt like there should be a solution from the box in IDEA. And it does exist :)","body":"@Harmelodic yes, the script is a good option but i felt like there should be a solution from the box in IDEA. And it does exist :)"},{"owner":{"account_id":5217235,"reputation":5750,"user_id":4171786,"display_name":"Harmelodic"},"score":0,"creation_date":1458225023,"post_id":36055601,"comment_id":59773452,"body_markdown":"Compound is better for development and out of IDEA, but if you want to stagger start up, as well as possibly automate deployment in the future (through a CI server, etc.), scripting might be a better choice. Or a combination of the two; to maximize the efficiency and advantages of both systems!","body":"Compound is better for development and out of IDEA, but if you want to stagger start up, as well as possibly automate deployment in the future (through a CI server, etc.), scripting might be a better choice. Or a combination of the two; to maximize the efficiency and advantages of both systems!"}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1458215766,"creation_date":1458215766,"answer_id":36059866,"question_id":36055601,"body_markdown":"You could create a `Compound` run type and add all your applications in it. That way you can just run that config and all your apps will start.","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>You could create a <code>Compound</code> run type and add all your applications in it. That way you can just run that config and all your apps will start.</p>\n"},{"tags":[],"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461163133,"creation_date":1458312378,"answer_id":36087342,"question_id":36055601,"body_markdown":"Update April 2016:\r\n\r\nMultirun Plugin says:\r\n**Prefer to use built-in support starting from IntelliJIdea 15 https://www.jetbrains.com/idea/help/run-debug-configuration-compound.html**\r\n\r\nSt&#233;phane&#39;s answer works great but if you need additional features you can install the `MultiRun Plugin` that will allow you to do the same as the `Compound` run type but with more bells and whistles.\r\n\r\nhttps://plugins.jetbrains.com/plugin/7248\r\n\r\nFor instance:\r\nYou can set a delay between each configuration run or run one configuration after another using the Before Launch feature.\r\n\r\n[![Multirun Plugin][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/UuEXZ.png\r\n\r\nSee here for more info about how to setup: https://github.com/rkhmelyuk/multirun/wiki/How-to-run-configurations-with-Multirun","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>Update April 2016:</p>\n\n<p>Multirun Plugin says:\n<strong>Prefer to use built-in support starting from IntelliJIdea 15 <a href=\"https://www.jetbrains.com/idea/help/run-debug-configuration-compound.html\" rel=\"noreferrer\">https://www.jetbrains.com/idea/help/run-debug-configuration-compound.html</a></strong></p>\n\n<p>Stéphane's answer works great but if you need additional features you can install the <code>MultiRun Plugin</code> that will allow you to do the same as the <code>Compound</code> run type but with more bells and whistles.</p>\n\n<p><a href=\"https://plugins.jetbrains.com/plugin/7248\" rel=\"noreferrer\">https://plugins.jetbrains.com/plugin/7248</a></p>\n\n<p>For instance:\nYou can set a delay between each configuration run or run one configuration after another using the Before Launch feature.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UuEXZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UuEXZ.png\" alt=\"Multirun Plugin\"></a></p>\n\n<p>See here for more info about how to setup: <a href=\"https://github.com/rkhmelyuk/multirun/wiki/How-to-run-configurations-with-Multirun\" rel=\"noreferrer\">https://github.com/rkhmelyuk/multirun/wiki/How-to-run-configurations-with-Multirun</a></p>\n"},{"tags":[],"owner":{"account_id":470031,"reputation":55,"user_id":4508999,"display_name":"Fausto Almeida"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1523685011,"creation_date":1523685011,"answer_id":49828383,"question_id":36055601,"body_markdown":"Update April 2018:\r\n\r\nOn the &quot;Run configurations&quot; combo box, click &quot;Edit Configurations&quot;. Then uncheck &quot;Single instance only&quot; option. Then click &quot;Apply&quot;. \r\n\r\nThen you can click the button &quot;Run&quot; any times you want, launching a new instance each time.\r\n\r\nIntelliJIDEA Ultimate 2018.1","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>Update April 2018:</p>\n\n<p>On the \"Run configurations\" combo box, click \"Edit Configurations\". Then uncheck \"Single instance only\" option. Then click \"Apply\". </p>\n\n<p>Then you can click the button \"Run\" any times you want, launching a new instance each time.</p>\n\n<p>IntelliJIDEA Ultimate 2018.1</p>\n"},{"tags":[],"owner":{"account_id":8502121,"reputation":21,"user_id":6374757,"display_name":"Rameez Shikalgar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534427431,"creation_date":1534427431,"answer_id":51878708,"question_id":36055601,"body_markdown":"Yes you can achieve this by launching a standalone java app which will spawn multiple threads per microservice and start them. You can find a sample code [here]: &lt;https://github.com/rameez4ever/springboot-demo.git&gt;\r\n","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>Yes you can achieve this by launching a standalone java app which will spawn multiple threads per microservice and start them. You can find a sample code [here]: <a href=\"https://github.com/rameez4ever/springboot-demo.git\" rel=\"nofollow noreferrer\">https://github.com/rameez4ever/springboot-demo.git</a></p>\n"},{"tags":[],"owner":{"account_id":4060161,"reputation":1370,"user_id":3336921,"display_name":"rahulnikhare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580820008,"creation_date":1580820008,"answer_id":60057666,"question_id":36055601,"body_markdown":"   Yes.\r\n    \r\nGoto &quot;**Run configurations**&quot; combo box, click &quot;**Edit Configurations**&quot;. \r\n    Then unchecked &quot;**Single instance only**&quot; option. Then click &quot;Apply&quot;\r\n    \r\n   **For Eureka Server:**\r\n\r\n   1.Run the application  without serve.port.\r\n  \r\n 2.Add server.port =9999 in application.properties. Run the application.\r\n \r\n   Now browse Eureka dashboard, you will have 2 instances running.","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>Yes.</p>\n\n<p>Goto \"<strong>Run configurations</strong>\" combo box, click \"<strong>Edit Configurations</strong>\". \n    Then unchecked \"<strong>Single instance only</strong>\" option. Then click \"Apply\"</p>\n\n<p><strong>For Eureka Server:</strong></p>\n\n<p>1.Run the application  without serve.port.</p>\n\n<p>2.Add server.port =9999 in application.properties. Run the application.</p>\n\n<p>Now browse Eureka dashboard, you will have 2 instances running.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583236075,"creation_date":1583236075,"answer_id":60506589,"question_id":36055601,"body_markdown":"Another note to reduce ambiguity:\r\nWhat was called [Run Dashboard][1] in a lot of sources in the past is now called **Services**.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002311020-IntelliJ-Ultimate-edition-2018-3-and-Run-Dashboard\r\n  [2]: https://i.stack.imgur.com/oAqkh.png","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>Another note to reduce ambiguity:\nWhat was called <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360002311020-IntelliJ-Ultimate-edition-2018-3-and-Run-Dashboard\" rel=\"nofollow noreferrer\">Run Dashboard</a> in a lot of sources in the past is now called <strong>Services</strong>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oAqkh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oAqkh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5337205,"reputation":2160,"user_id":4255756,"accept_rate":69,"display_name":"usertest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585323818,"creation_date":1585323818,"answer_id":60889367,"question_id":36055601,"body_markdown":"it&#39;s called **allow parallel run** as of **2018.3** instead of **Single instance only**","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>it's called <strong>allow parallel run</strong> as of <strong>2018.3</strong> instead of <strong>Single instance only</strong></p>\n"},{"tags":[],"owner":{"account_id":17406408,"reputation":11,"user_id":12614420,"display_name":"Ushamah Wamala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613138957,"creation_date":1613138559,"answer_id":66173217,"question_id":36055601,"body_markdown":" 1. Package the application using mvn package.\r\n 2. Go to the folder where the packaged application jar is stored\r\n 3. Run java -jar [NAME_OF_THE_APPLICATION_JAR]\r\n    --server.port=[DESIRED_PORT_NUMBER]\r\n\r\nOR\r\n\r\n 1. Go to the application root directory \r\n 2. Run: mvn spring-boot:run\r\n    -Drun.arguments=&quot;--server.port=[DESIRED_PORT_NUMBER]\r\n\r\nThat way you can start multiple instances of the same microservice at the same time using different port numbers.","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<ol>\n<li>Package the application using mvn package.</li>\n<li>Go to the folder where the packaged application jar is stored</li>\n<li>Run java -jar [NAME_OF_THE_APPLICATION_JAR]\n--server.port=[DESIRED_PORT_NUMBER]</li>\n</ol>\n<p>OR</p>\n<ol>\n<li>Go to the application root directory</li>\n<li>Run: mvn spring-boot:run\n-Drun.arguments=&quot;--server.port=[DESIRED_PORT_NUMBER]</li>\n</ol>\n<p>That way you can start multiple instances of the same microservice at the same time using different port numbers.</p>\n"},{"tags":[],"owner":{"account_id":12444230,"reputation":549,"user_id":9061008,"display_name":"Dmitry Rakovets"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636949248,"creation_date":1636949248,"answer_id":69969393,"question_id":36055601,"body_markdown":"**Env**:\r\n\r\n* **IntelliJ IDEA 2021.1.3** (Ultimate Edition)\r\n\r\n**Steps**:\r\n\r\n* Go to _Run configurations_ combo box.\r\n* Click _Edit Configurations..._.\r\n* Check _Allow parallel run_ option.\r\n* Click _OK_.","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p><strong>Env</strong>:</p>\n<ul>\n<li><strong>IntelliJ IDEA 2021.1.3</strong> (Ultimate Edition)</li>\n</ul>\n<p><strong>Steps</strong>:</p>\n<ul>\n<li>Go to <em>Run configurations</em> combo box.</li>\n<li>Click <em>Edit Configurations...</em>.</li>\n<li>Check <em>Allow parallel run</em> option.</li>\n<li>Click <em>OK</em>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10630809,"reputation":19,"user_id":7829027,"display_name":"sameer kr bhardwaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679668530,"creation_date":1679668530,"answer_id":75834968,"question_id":36055601,"body_markdown":"You can go to edit configuration, allow multiple instance and add VM option where you can specify your port\r\n \r\nfor eg: -Dserver.port=8001","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>You can go to edit configuration, allow multiple instance and add VM option where you can specify your port</p>\n<p>for eg: -Dserver.port=8001</p>\n"}],"owner":{"account_id":1628459,"reputation":1393,"user_id":1503468,"accept_rate":38,"display_name":"ikryvorotenko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32749,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":36059866,"answer_count":10,"score":31,"last_activity_date":1679668530,"creation_date":1458204781,"question_id":36055601,"body_markdown":"I have multiple spring boot applications in a single IntelliJ project. And i want to have a single button to run all of them in some order. \r\n\r\nI know there is an option to `Run Another configuration` before launching the original one, so in that way the configurations can be chained.\r\n\r\nBut when i use it, it runs that Another Configuration and doesn&#39;t run the original one.\r\n\r\nSo I&#39;m wondering if anyone met this issue and how it was resolved?\r\n\r\n ","title":"Is there a way to run multiple Spring Boot applications with a single Running Configuration in IntelliJ IDEA?","body":"<p>I have multiple spring boot applications in a single IntelliJ project. And i want to have a single button to run all of them in some order. </p>\n\n<p>I know there is an option to <code>Run Another configuration</code> before launching the original one, so in that way the configurations can be chained.</p>\n\n<p>But when i use it, it runs that Another Configuration and doesn't run the original one.</p>\n\n<p>So I'm wondering if anyone met this issue and how it was resolved?</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1573999965,"creation_date":1570663736,"answer_id":58313504,"question_id":58313368,"body_markdown":"This is not yet supported out of the box by Mapstruct. There is an open ticket on their Github asking for this functionality: https://github.com/mapstruct/mapstruct/issues/674\r\n\r\nOne way to solve this has been added in the comments of the same ticket: https://github.com/mapstruct/mapstruct/issues/674#issuecomment-378212135\r\n\r\n    @Mapping(source = &quot;child&quot;, target = &quot;kid&quot;, qualifiedByName = &quot;unwrap&quot;)\r\n    Target map(Source source);\r\n\r\n    @Named(&quot;unwrap&quot;)\r\n    default &lt;T&gt; T unwrap(Optional&lt;T&gt; optional) {\r\n        return optional.orElse(null);\r\n    }\r\n\r\nAs pointed by @dschulten, if you want to use this workaround while also setting the option `nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS`, you will need to define a method with the signature `boolean hasXXX()` for the field `XXX` of type `Optional` inside the class which is the mapping source ([explanation in the docs](https://mapstruct.org/documentation/stable/reference/html/#source-presence-check)).","title":"Use Java 8 optional with Mapstruct","body":"<p>This is not yet supported out of the box by Mapstruct. There is an open ticket on their Github asking for this functionality: <a href=\"https://github.com/mapstruct/mapstruct/issues/674\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/674</a></p>\n\n<p>One way to solve this has been added in the comments of the same ticket: <a href=\"https://github.com/mapstruct/mapstruct/issues/674#issuecomment-378212135\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct/issues/674#issuecomment-378212135</a></p>\n\n<pre><code>@Mapping(source = \"child\", target = \"kid\", qualifiedByName = \"unwrap\")\nTarget map(Source source);\n\n@Named(\"unwrap\")\ndefault &lt;T&gt; T unwrap(Optional&lt;T&gt; optional) {\n    return optional.orElse(null);\n}\n</code></pre>\n\n<p>As pointed by @dschulten, if you want to use this workaround while also setting the option <code>nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS</code>, you will need to define a method with the signature <code>boolean hasXXX()</code> for the field <code>XXX</code> of type <code>Optional</code> inside the class which is the mapping source (<a href=\"https://mapstruct.org/documentation/stable/reference/html/#source-presence-check\" rel=\"noreferrer\">explanation in the docs</a>).</p>\n"},{"tags":[],"owner":{"account_id":17897208,"reputation":49,"user_id":13002300,"display_name":"tuulingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679668270,"creation_date":1679473253,"answer_id":75809827,"question_id":58313368,"body_markdown":"New solution: `return repository.findById(id).map(entity -&gt; mapper.toDTO(entity));`\r\n\r\nOlder solution: People seem to have problem after upgrading from mapstruct 1.3.1 to higher verion. so the new workaround would be:\r\n\r\n```\r\n@Mapping(source = &quot;child&quot;, target = &quot;kid&quot;)\r\nTarget map(Source source);\r\n\r\n    @Reference\r\n    public static &lt;T&gt; T unwrapReference(Optional&lt;T&gt; optional) {\r\n        return (optional != null &amp;&amp; optional.isPresent()) ? optional.get() : null;\r\n    }\r\n```\r\n\r\nexpecting you have imported the mapper, you can use it something like this: \r\n\r\n`Optional.ofNullable(kidMapper.toKidDTO(KidMapper.unwrapReference(kidRepository.findById(chatId))));`\r\n\r\nanswered by janinko in this issue: https://github.com/mapstruct/mapstruct/issues/2295\r\n","title":"Use Java 8 optional with Mapstruct","body":"<p>New solution: <code>return repository.findById(id).map(entity -&gt; mapper.toDTO(entity));</code></p>\n<p>Older solution: People seem to have problem after upgrading from mapstruct 1.3.1 to higher verion. so the new workaround would be:</p>\n<pre><code>@Mapping(source = &quot;child&quot;, target = &quot;kid&quot;)\nTarget map(Source source);\n\n    @Reference\n    public static &lt;T&gt; T unwrapReference(Optional&lt;T&gt; optional) {\n        return (optional != null &amp;&amp; optional.isPresent()) ? optional.get() : null;\n    }\n</code></pre>\n<p>expecting you have imported the mapper, you can use it something like this:</p>\n<p><code>Optional.ofNullable(kidMapper.toKidDTO(KidMapper.unwrapReference(kidRepository.findById(chatId))));</code></p>\n<p>answered by janinko in this issue: <a href=\"https://github.com/mapstruct/mapstruct/issues/2295\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/2295</a></p>\n"}],"owner":{"account_id":2448055,"reputation":390,"user_id":2134923,"display_name":"Ahmed Aziz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14674,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":58313504,"answer_count":2,"score":7,"last_activity_date":1679668270,"creation_date":1570662234,"question_id":58313368,"body_markdown":"I have these two classes:\r\n\r\n    public class CustomerEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String address;\r\n        private int age;\r\n        private LocalDateTime createdAt;\r\n        private LocalDateTime updatedAt;\r\n    }\r\n\r\nand \r\n\r\n    public class CustomerDto {\r\n        private Long customerId;\r\n        private String firstName;\r\n        private String lastName;\r\n        private Optional&lt;String&gt; address;\r\n        private int age;\r\n    }\r\n\r\nThe problem is that Mapstruct doesn&#39;t recognize the Optional variable &quot;address&quot;.\r\n\r\nAnyone has an idea how to solve it and let Mapstruct map Optional fields?\r\n\r\n","title":"Use Java 8 optional with Mapstruct","body":"<p>I have these two classes:</p>\n\n<pre><code>public class CustomerEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String address;\n    private int age;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public class CustomerDto {\n    private Long customerId;\n    private String firstName;\n    private String lastName;\n    private Optional&lt;String&gt; address;\n    private int age;\n}\n</code></pre>\n\n<p>The problem is that Mapstruct doesn't recognize the Optional variable \"address\".</p>\n\n<p>Anyone has an idea how to solve it and let Mapstruct map Optional fields?</p>\n"},{"tags":["java","arrays","class","object","oop"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1679665559,"post_id":75834332,"comment_id":133766488,"body_markdown":"Does this answer your question? [How do I declare and initialize an array in Java?](https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java\">How do I declare and initialize an array in Java?</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1679666566,"post_id":75834332,"comment_id":133766794,"body_markdown":"You seem to be under impression that objects in Java are only class instances. That is not true. There are **two** kinds of objects in Java: (1) class instances, and (2) arrays - which are separate from class instances, so they can follow different syntax. The `new ClassName(arguments)` syntax is for creating instance of `ClassName`. For arrays we can use for instance `new TypeName[size]`, but there are also other ways like `String strArray = {&quot;abc&quot;, &quot;def&quot;};`.","body":"You seem to be under impression that objects in Java are only class instances. That is not true. There are <b>two</b> kinds of objects in Java: (1) class instances, and (2) arrays - which are separate from class instances, so they can follow different syntax. The <code>new ClassName(arguments)</code> syntax is for creating instance of <code>ClassName</code>. For arrays we can use for instance <code>new TypeName[size]</code>, but there are also other ways like <code>String strArray = {&quot;abc&quot;, &quot;def&quot;};</code>."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679666571,"post_id":75834332,"comment_id":133766796,"body_markdown":"Because that&#39;s how the language is designed. Please read [this](https://meta.stackoverflow.com/a/323382/5133585), and [edit] your question to clarify what kind of answer you are looking for here.","body":"Because that&#39;s how the language is designed. Please read <a href=\"https://meta.stackoverflow.com/a/323382/5133585\">this</a>, and <a href=\"https://stackoverflow.com/posts/75834332/edit\">edit</a> your question to clarify what kind of answer you are looking for here."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1679666757,"post_id":75834332,"comment_id":133766858,"body_markdown":"Arrays are historically pointers, not objects. In a purely functional language, you can have arrays and no objects. Arrays transcend OOP.","body":"Arrays are historically pointers, not objects. In a purely functional language, you can have arrays and no objects. Arrays transcend OOP."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679675197,"post_id":75834332,"comment_id":133769287,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679665424,"creation_date":1679665424,"answer_id":75834420,"question_id":75834332,"body_markdown":"You can. While it is allowed to omit `new String[]` in array declaration, the full syntax is\r\n\r\n    String[] arr = new String[] { &quot;Hello&quot;, &quot;World&quot; };\r\n\r\nwhich is a longer way to write\r\n\r\n    String[] arr = { &quot;Hello&quot;, &quot;World&quot; }; // This is only valid at declaration time.\r\n\r\nboth are just a shorter way to write\r\n\r\n    String[] arr = new String[2];\r\n    arr[0] = &quot;Hello&quot;;\r\n    arr[1] = &quot;World&quot;;\r\n","title":"Arrays and objects","body":"<p>You can. While it is allowed to omit <code>new String[]</code> in array declaration, the full syntax is</p>\n<pre><code>String[] arr = new String[] { &quot;Hello&quot;, &quot;World&quot; };\n</code></pre>\n<p>which is a longer way to write</p>\n<pre><code>String[] arr = { &quot;Hello&quot;, &quot;World&quot; }; // This is only valid at declaration time.\n</code></pre>\n<p>both are just a shorter way to write</p>\n<pre><code>String[] arr = new String[2];\narr[0] = &quot;Hello&quot;;\narr[1] = &quot;World&quot;;\n</code></pre>\n"}],"owner":{"account_id":28114672,"reputation":19,"user_id":21481954,"display_name":"Shrey Saxena"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679668141,"creation_date":1679664955,"question_id":75834332,"body_markdown":"If arrays are objects in Java then why they are not initialized using syntax `X x = new X();`?\r\n\r\nLike if there is a class named `Person`, and I have to create an object of that class then I  will use syntax: `Person p1 = new Person();`. So why we don&#39;t declare arrays in the same way?\r\n\r\nPlease explain, arrays should be initialize using that syntax.","title":"Arrays and objects","body":"<p>If arrays are objects in Java then why they are not initialized using syntax <code>X x = new X();</code>?</p>\n<p>Like if there is a class named <code>Person</code>, and I have to create an object of that class then I  will use syntax: <code>Person p1 = new Person();</code>. So why we don't declare arrays in the same way?</p>\n<p>Please explain, arrays should be initialize using that syntax.</p>\n"},{"tags":["java","string","split","substring","lastindexof"],"comments":[{"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"score":3,"creation_date":1300899223,"post_id":5408796,"comment_id":6119348,"body_markdown":"Would you mind to define what &quot;the last part of the string&quot; is?","body":"Would you mind to define what &quot;the last part of the string&quot; is?"},{"owner":{"account_id":47744,"reputation":5200,"user_id":141522,"accept_rate":94,"display_name":"David Weiser"},"score":2,"creation_date":1300899230,"post_id":5408796,"comment_id":6119353,"body_markdown":"Give a concrete example of a given input and a given output.","body":"Give a concrete example of a given input and a given output."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1485156196,"creation_date":1300899204,"answer_id":5408822,"question_id":5408796,"body_markdown":"If you want part3 to be removed and provided that all the words are separated by space\r\n\r\n    String str =&quot;part1 part2 part3&quot;;\r\n\r\n    String result = str.substring(0,str.lastIndexOf(&quot; &quot;));\r\n\r\n","title":"Remove the last part of a String in Java","body":"<p>If you want part3 to be removed and provided that all the words are separated by space</p>\n\n<pre><code>String str =\"part1 part2 part3\";\n\nString result = str.substring(0,str.lastIndexOf(\" \"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212263,"reputation":136294,"user_id":464988,"accept_rate":94,"display_name":"MByD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300899390,"creation_date":1300899390,"answer_id":5408859,"question_id":5408796,"body_markdown":"*If you want to do it using split*, then you can do:\r\n\r\n    String s[] = Y.split(&quot; &quot;);\r\n    String n = &quot;&quot;;\r\n    for (int i = 0; i &lt; s.length - 1; i++)\r\n            n+= s[i];\r\n    return n;","title":"Remove the last part of a String in Java","body":"<p><em>If you want to do it using split</em>, then you can do:</p>\n\n<pre><code>String s[] = Y.split(\" \");\nString n = \"\";\nfor (int i = 0; i &lt; s.length - 1; i++)\n        n+= s[i];\nreturn n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1300899420,"creation_date":1300899420,"answer_id":5408863,"question_id":5408796,"body_markdown":"Your whole code can be optimized to:\r\n\r\n    boolean foundmatch = y.startsWith(x);\r\n    y = foundmatch? x : &quot;&quot;;\r\n","title":"Remove the last part of a String in Java","body":"<p>Your whole code can be optimized to:</p>\n\n<pre><code>boolean foundmatch = y.startsWith(x);\ny = foundmatch? x : \"\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13653,"reputation":13400,"user_id":27565,"accept_rate":100,"display_name":"abahgat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1300899458,"creation_date":1300899458,"answer_id":5408868,"question_id":5408796,"body_markdown":"By the way, If the method you need to build is called `useSplitToRemoveLastPart(String t)`, then I&#39;d suggest you to *use split to remove last part*.\r\n\r\nTake a look [here][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Remove the last part of a String in Java","body":"<p>By the way, If the method you need to build is called <code>useSplitToRemoveLastPart(String t)</code>, then I'd suggest you to <em>use split to remove last part</em>.</p>\n\n<p>Take a look <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1300902305,"creation_date":1300902305,"answer_id":5409426,"question_id":5408796,"body_markdown":"If you really want to use split:\r\n\r\n\tprivate static String useSplitToRemoveLastPart(String str) {\r\n\t\tString[] arr = str.split(&quot; &quot;);\r\n\t\tString result = &quot;&quot;;\r\n\t\tif (arr.length &gt; 0) {\r\n\t\t\tresult = str.substring(0, str.lastIndexOf(&quot; &quot; + arr[arr.length-1]));\r\n\t\t}\r\n\t\treturn result;\r\n\r\n\t}","title":"Remove the last part of a String in Java","body":"<p>If you really want to use split:</p>\n\n<pre><code>private static String useSplitToRemoveLastPart(String str) {\n    String[] arr = str.split(\" \");\n    String result = \"\";\n    if (arr.length &gt; 0) {\n        result = str.substring(0, str.lastIndexOf(\" \" + arr[arr.length-1]));\n    }\n    return result;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943896,"reputation":2232,"user_id":3257288,"accept_rate":83,"display_name":"Alpha2k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432043577,"creation_date":1432042851,"answer_id":30327398,"question_id":5408796,"body_markdown":"    public String removeLastSubstring(String target, String toRemove){\r\n        int idx = target.lastIndexOf(toRemove);\r\n        target = target.substring(0, idx) + target.substring(idx + toRemove.length());\r\n        return target;\r\n    }\r\n\r\nYou only need to pass it your target and the LAST substring you want to remove, example:\r\n\r\n    String s = &quot;123 #abc# 456&quot;;\r\n    s = removeLastSubstring(s, &quot;#abc#&quot;);","title":"Remove the last part of a String in Java","body":"<pre><code>public String removeLastSubstring(String target, String toRemove){\n    int idx = target.lastIndexOf(toRemove);\n    target = target.substring(0, idx) + target.substring(idx + toRemove.length());\n    return target;\n}\n</code></pre>\n\n<p>You only need to pass it your target and the LAST substring you want to remove, example:</p>\n\n<pre><code>String s = \"123 #abc# 456\";\ns = removeLastSubstring(s, \"#abc#\");\n</code></pre>\n"}],"owner":{"account_id":178608,"reputation":18897,"user_id":410693,"accept_rate":84,"display_name":"Praneel PIDIKITI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24368,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":6,"score":4,"last_activity_date":1679668129,"creation_date":1300899016,"question_id":5408796,"body_markdown":"My Code:  \r\n\r\n    String Y = &quot;part1 part2 part3&quot;, X = &quot;part1&quot;;\r\n \r\n    boolean foundMatch = false;\r\n    while(!foundMatch) {\r\n        foundMatch = Y.equals(X);\r\n        if(foundMatch) {\r\n            break;\r\n        }\r\n        else {\r\n            Y = useSplitToRemoveLastPart(Y);\r\n            if(Y.equals(&quot;&quot;)) {\r\n                break;\r\n            }\r\n        }\r\n\r\nImplementation of `useSplitToRemoveLastPart()`\r\n\r\n    private static String useSplitToRemoveLastPart(String y) {\r\n        // What goes here?\r\n        // It should chop the last part of the String...\r\n    }\r\n\r\n\r\nCan anyone help ...\r\n\r\n\r\n","title":"Remove the last part of a String in Java","body":"<p>My Code:</p>\n<pre><code>String Y = &quot;part1 part2 part3&quot;, X = &quot;part1&quot;;\n\nboolean foundMatch = false;\nwhile(!foundMatch) {\n    foundMatch = Y.equals(X);\n    if(foundMatch) {\n        break;\n    }\n    else {\n        Y = useSplitToRemoveLastPart(Y);\n        if(Y.equals(&quot;&quot;)) {\n            break;\n        }\n    }\n</code></pre>\n<p>Implementation of <code>useSplitToRemoveLastPart()</code></p>\n<pre><code>private static String useSplitToRemoveLastPart(String y) {\n    // What goes here?\n    // It should chop the last part of the String...\n}\n</code></pre>\n<p>Can anyone help ...</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":11777390,"reputation":29,"user_id":8618299,"display_name":"sina heidari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679666062,"creation_date":1679666062,"answer_id":75834537,"question_id":75833918,"body_markdown":"After testing everything I understood what is the issue.\r\nI declare the fields of the entity in camel case!!!\r\nfirstName, lastName\r\nI just changed them to:\r\nfirstname, lastname  =&gt; in lowercase, and then everything worked fine.","title":"Getting an object with null value in ReactiveCrudRepository","body":"<p>After testing everything I understood what is the issue.\nI declare the fields of the entity in camel case!!!\nfirstName, lastName\nI just changed them to:\nfirstname, lastname  =&gt; in lowercase, and then everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679667868,"creation_date":1679667868,"answer_id":75834845,"question_id":75833918,"body_markdown":"you can try to return a `Mono&lt;Author&gt;` instead of `Flux&lt;Author&gt;` in your service method and see if the returned Author object is properly serialized. ","title":"Getting an object with null value in ReactiveCrudRepository","body":"<p>you can try to return a <code>Mono&lt;Author&gt;</code> instead of <code>Flux&lt;Author&gt;</code> in your service method and see if the returned Author object is properly serialized.</p>\n"}],"owner":{"account_id":11777390,"reputation":29,"user_id":8618299,"display_name":"sina heidari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834537,"answer_count":2,"score":0,"last_activity_date":1679667868,"creation_date":1679662450,"question_id":75833918,"body_markdown":"I used ReactiveCrudRepository but got an object with a null value for all the properties.\r\n\r\nAuthor entity:\r\n```\r\n@Table(&quot;Author&quot;)\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Author {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long authorId;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String nationalCode;\r\n}\r\n```\r\n\r\nAuthorRepository :\r\n```\r\npublic interface AuthorRepository extends ReactiveCrudRepository&lt;Author, Long&gt; {\r\n\r\n}\r\n```\r\nAuthor Service:\r\n```\r\n@Service\r\n@Transactional\r\npublic class AuthorServiceImp {\r\n\r\n    @Autowired\r\n    private AuthorRepository authorRepository;\r\n\r\n\r\n    public Flux&lt;Author&gt; GetAllAuthor() {\r\n        var xxxxx = authorRepository.findAll();\r\n        xxxxx.subscribe(s-&gt;System.out.println(s));\r\n        return xxxxx;\r\n    }\r\n\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bflrt.png\r\n\r\nIf I used postman to call the endpoint I got what I have in console. null object","title":"Getting an object with null value in ReactiveCrudRepository","body":"<p>I used ReactiveCrudRepository but got an object with a null value for all the properties.</p>\n<p>Author entity:</p>\n<pre><code>@Table(&quot;Author&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Author {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long authorId;\n    private String firstName;\n    private String lastName;\n    private String nationalCode;\n}\n</code></pre>\n<p>AuthorRepository :</p>\n<pre><code>public interface AuthorRepository extends ReactiveCrudRepository&lt;Author, Long&gt; {\n\n}\n</code></pre>\n<p>Author Service:</p>\n<pre><code>@Service\n@Transactional\npublic class AuthorServiceImp {\n\n    @Autowired\n    private AuthorRepository authorRepository;\n\n\n    public Flux&lt;Author&gt; GetAllAuthor() {\n        var xxxxx = authorRepository.findAll();\n        xxxxx.subscribe(s-&gt;System.out.println(s));\n        return xxxxx;\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bflrt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bflrt.png\" alt=\"enter image description here\" /></a></p>\n<p>If I used postman to call the endpoint I got what I have in console. null object</p>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1679665825,"post_id":75834408,"comment_id":133766570,"body_markdown":"Start with something like [this](https://stackoverflow.com/questions/5020704/how-to-design-restful-search-filtering).  Whatever approach is taken, be consistent!","body":"Start with something like <a href=\"https://stackoverflow.com/questions/5020704/how-to-design-restful-search-filtering\">this</a>.  Whatever approach is taken, be consistent!"}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665650,"creation_date":1679665650,"answer_id":75834457,"question_id":75834408,"body_markdown":"Yes, using a different path for each endpoint is a good way to avoid conflicts. You can use @GetMapping annotation with a unique path for each endpoint, for example @GetMapping(&quot;/email/{email}&quot;) for findByEmail method and @GetMapping(&quot;/id/{id}&quot;) for findById method.\r\n\r\nTherefore, when a request comes in as URL /{email} or /{id}, the Spring framework can distinguish between these two endpoints based on different path values.","title":"How to name REST resource for similar endpoints (findById / findByEmail)?","body":"<p>Yes, using a different path for each endpoint is a good way to avoid conflicts. You can use @GetMapping annotation with a unique path for each endpoint, for example @GetMapping(&quot;/email/{email}&quot;) for findByEmail method and @GetMapping(&quot;/id/{id}&quot;) for findById method.</p>\n<p>Therefore, when a request comes in as URL /{email} or /{id}, the Spring framework can distinguish between these two endpoints based on different path values.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679667554,"creation_date":1679665365,"question_id":75834408,"body_markdown":"I have 2 endpoints as shown below, but I cannot use the endpoint urls like this:\r\n\r\n\r\n```\r\n@GetMapping(&quot;/{email}&quot;)\r\npublic ResponseEntity&lt;Void&gt; findByEmail(@PathVariable String email) {\r\n}\r\n```\r\n\r\n\r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;Void&gt; findById(@PathVariable long id) {\r\n}\r\n```\r\n\r\n\r\n\r\nShould I use something like `@GetMapping(&quot;mail/{email}&quot;)` ?","title":"How to name REST resource for similar endpoints (findById / findByEmail)?","body":"<p>I have 2 endpoints as shown below, but I cannot use the endpoint urls like this:</p>\n<pre><code>@GetMapping(&quot;/{email}&quot;)\npublic ResponseEntity&lt;Void&gt; findByEmail(@PathVariable String email) {\n}\n</code></pre>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Void&gt; findById(@PathVariable long id) {\n}\n</code></pre>\n<p>Should I use something like <code>@GetMapping(&quot;mail/{email}&quot;)</code> ?</p>\n"},{"tags":["java","azure","jackson","azure-functions","azure-durable-functions"],"answers":[{"tags":[],"owner":{"account_id":6739357,"reputation":105,"user_id":5193035,"display_name":"smang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679667350,"creation_date":1679308372,"answer_id":75789200,"question_id":75673793,"body_markdown":"I was able to overcome this issue by removing `@JsonProperty` from the java beans and specifying snakeCase conversion globally using object mapper as below:\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\r\n```\r\n\r\nAs I was using @JsonProperty to convert a few fields to snakeCase, and it is common for all my beans, this option unblocked me. \r\n\r\nHowever, if a field has to be renamed by using `@JsonProperty`, we get the exception mentioned in the question.\r\n","title":"Azure durable function - unable to return a bean with @JsonProperty from activity function","body":"<p>I was able to overcome this issue by removing <code>@JsonProperty</code> from the java beans and specifying snakeCase conversion globally using object mapper as below:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setPropertyNamingStrategy(PropertyNamingStrategy.SNAKE_CASE);\n</code></pre>\n<p>As I was using @JsonProperty to convert a few fields to snakeCase, and it is common for all my beans, this option unblocked me.</p>\n<p>However, if a field has to be renamed by using <code>@JsonProperty</code>, we get the exception mentioned in the question.</p>\n"}],"owner":{"account_id":6739357,"reputation":105,"user_id":5193035,"display_name":"smang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75789200,"answer_count":1,"score":0,"last_activity_date":1679667350,"creation_date":1678282724,"question_id":75673793,"body_markdown":"Azure function is in java and I am using JDK17.\r\n\r\nI am trying to return a java bean from my activity function to the orchestrator and I get the exception \r\n\r\n    **WARNING: The orchestrator failed with an unhandled exception: java.lang.RuntimeException: Unexpected failure in the task execution**\r\n\r\nI do not see any more details in the stack trace.\r\n\r\nThe java bean that I am trying to return is:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class AuthMessage {\r\n        @JsonProperty(&quot;access_token&quot;)\r\n        String accessToken;\r\n        String id;\r\n        String tokenType;\r\n    }\r\n\r\n\r\nIf I remove the annotation @JsonProperty(&quot;access_token&quot;), everything works fine. However I need this annotation to parse my json/regenerate my output json.\r\n\r\nAnybody knows how to overcome this issue please?\r\n","title":"Azure durable function - unable to return a bean with @JsonProperty from activity function","body":"<p>Azure function is in java and I am using JDK17.</p>\n<p>I am trying to return a java bean from my activity function to the orchestrator and I get the exception</p>\n<pre><code>**WARNING: The orchestrator failed with an unhandled exception: java.lang.RuntimeException: Unexpected failure in the task execution**\n</code></pre>\n<p>I do not see any more details in the stack trace.</p>\n<p>The java bean that I am trying to return is:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.Serializable;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class AuthMessage {\n    @JsonProperty(&quot;access_token&quot;)\n    String accessToken;\n    String id;\n    String tokenType;\n}\n</code></pre>\n<p>If I remove the annotation @JsonProperty(&quot;access_token&quot;), everything works fine. However I need this annotation to parse my json/regenerate my output json.</p>\n<p>Anybody knows how to overcome this issue please?</p>\n"},{"tags":["java","spring","spring-boot","kotlin"],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679666931,"creation_date":1679666931,"question_id":75834683,"body_markdown":"I&#39;m trying to debug a spring bean on my integration tests but no matter what I tried, I couldn&#39;t succeeded. My bean is responsible to consume a kafka message and call a service with that message. I am suspecting of readiness of application context before the tests but couldn&#39;t be sure. \r\n\r\n    @Component\r\n    class OrderServiceEventsConsumer(\r\n        private val executor: JsonExecutor&lt;OrderServiceEventWrapper&gt;,\r\n        private val orderServiceEventService: OrderServiceEventService,\r\n    ){\r\n    \r\n        @Bean\r\n        fun readOrderServiceEvents() =\r\n            Consumer&lt;String&gt; { orderServiceEventWrapper -&gt;\r\n                executor.executeIfValid(orderServiceEventWrapper, OrderServiceEventWrapper::class, true, orderServiceEventService::handle)\r\n            }\r\n    }\r\n\r\n\r\nHere is the service\r\n\r\n    @Component\r\n    class OrderServiceEventService(\r\n        private val orderUpdateService: OrderUpdateService,\r\n        private val orderConverter: OrderServiceEventsOrderConverter,\r\n    ) {\r\n    \r\n        fun handle(orderServiceEventWrapper: OrderServiceEventWrapper) {\r\n            println(&quot;TESTTEST&quot;)\r\n            ....\r\n            ....\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is the integration test\r\n\r\n\r\n    @SpringBootTest\r\n    internal class OrderTrackerApplicationTestsIT : AbstractHelperBasedIntegrationTest(Configuration.getHelpers()) {\r\n    \r\n        init {\r\n            System.setProperty(&quot;spring.main.allow-bean-definition-overriding&quot;, &quot;true&quot;)\r\n        }\r\n    \r\n        val DEFAULT_TIMEOUT = Duration.ofSeconds(10)\r\n        private val kafkaProducer = Configuration.kafkaHelper.producer\r\n        private val kafkaConsumer = Configuration.kafkaHelper.consumer\r\n        private val objectMapper = jacksonObjectMapper().registerModule(JavaTimeModule())\r\n    \r\n        @MockkBean\r\n        private lateinit var clock: Clock\r\n    \r\n        @BeforeAll\r\n        fun beforeAll() {\r\n            TimeUnit.SECONDS.sleep(3) // I can see TESTTEST if I put sleep, otherwise can&#39;t \r\n        }\r\n\r\n        @BeforeEach\r\n        fun setup() {\r\n            every { clock.zone } returns ZoneId.of(&quot;Europe/Amsterdam&quot;)\r\n            every { clock.withZone(any()) } returns clock\r\n            every { clock.instant() } returns TIME_ONE\r\n        }\r\n    \r\n        @Test\r\n        fun `when order is recorded and receiving a poison pill and then a Delivery event then output a orderUpdate fat message with delivery job`() {\r\n            //given\r\n            kafkaProducer.sendSyncJSON(Configuration.INPUT_TOPIC_ORDER_SERVICE, createOrderServiceEventWrapper())\r\n            kafkaConsumer.verifyReceivedJSONBinaryContentModeCloudEvent(\r\n                Configuration.OUTPUT_TOPIC_ORDER_UPDATE,\r\n                DEFAULT_TIMEOUT,\r\n                createOrderUpdateWithTriggeringEventSameAsLastEvent(\r\n                    deliveryJobs = emptyList(),\r\n                    transmissions = emptyList()\r\n                )\r\n            )\r\n        }\r\n    }","title":"Spring Boot Can&#39;t Debug Bean Without Thread Sleep","body":"<p>I'm trying to debug a spring bean on my integration tests but no matter what I tried, I couldn't succeeded. My bean is responsible to consume a kafka message and call a service with that message. I am suspecting of readiness of application context before the tests but couldn't be sure.</p>\n<pre><code>@Component\nclass OrderServiceEventsConsumer(\n    private val executor: JsonExecutor&lt;OrderServiceEventWrapper&gt;,\n    private val orderServiceEventService: OrderServiceEventService,\n){\n\n    @Bean\n    fun readOrderServiceEvents() =\n        Consumer&lt;String&gt; { orderServiceEventWrapper -&gt;\n            executor.executeIfValid(orderServiceEventWrapper, OrderServiceEventWrapper::class, true, orderServiceEventService::handle)\n        }\n}\n</code></pre>\n<p>Here is the service</p>\n<pre><code>@Component\nclass OrderServiceEventService(\n    private val orderUpdateService: OrderUpdateService,\n    private val orderConverter: OrderServiceEventsOrderConverter,\n) {\n\n    fun handle(orderServiceEventWrapper: OrderServiceEventWrapper) {\n        println(&quot;TESTTEST&quot;)\n        ....\n        ....\n        }\n    }\n}\n</code></pre>\n<p>Here is the integration test</p>\n<pre><code>@SpringBootTest\ninternal class OrderTrackerApplicationTestsIT : AbstractHelperBasedIntegrationTest(Configuration.getHelpers()) {\n\n    init {\n        System.setProperty(&quot;spring.main.allow-bean-definition-overriding&quot;, &quot;true&quot;)\n    }\n\n    val DEFAULT_TIMEOUT = Duration.ofSeconds(10)\n    private val kafkaProducer = Configuration.kafkaHelper.producer\n    private val kafkaConsumer = Configuration.kafkaHelper.consumer\n    private val objectMapper = jacksonObjectMapper().registerModule(JavaTimeModule())\n\n    @MockkBean\n    private lateinit var clock: Clock\n\n    @BeforeAll\n    fun beforeAll() {\n        TimeUnit.SECONDS.sleep(3) // I can see TESTTEST if I put sleep, otherwise can't \n    }\n\n    @BeforeEach\n    fun setup() {\n        every { clock.zone } returns ZoneId.of(&quot;Europe/Amsterdam&quot;)\n        every { clock.withZone(any()) } returns clock\n        every { clock.instant() } returns TIME_ONE\n    }\n\n    @Test\n    fun `when order is recorded and receiving a poison pill and then a Delivery event then output a orderUpdate fat message with delivery job`() {\n        //given\n        kafkaProducer.sendSyncJSON(Configuration.INPUT_TOPIC_ORDER_SERVICE, createOrderServiceEventWrapper())\n        kafkaConsumer.verifyReceivedJSONBinaryContentModeCloudEvent(\n            Configuration.OUTPUT_TOPIC_ORDER_UPDATE,\n            DEFAULT_TIMEOUT,\n            createOrderUpdateWithTriggeringEventSameAsLastEvent(\n                deliveryJobs = emptyList(),\n                transmissions = emptyList()\n            )\n        )\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","webdriver","allure"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667726387,"post_id":67391845,"comment_id":131231431,"body_markdown":"I have removed the unanswered &quot;followup&quot; question, since this Q&amp;A has turned into the canonical dup target for this kind of question.  If for some reason you still need an answer to the followup, ask it as a separate question.","body":"I have removed the unanswered &quot;followup&quot; question, since this Q&amp;A has turned into the canonical dup target for this kind of question.  If for some reason you still need an answer to the followup, ask it as a separate question."}],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1620218449,"creation_date":1620161124,"answer_id":67391949,"question_id":67391845,"body_markdown":"You likely have some missing downstream libraries.\r\n\r\nRun this to find out which ones, then install them.\r\n\r\n```\r\n$ ldd /usr/lib/jvm/java-11-openjdk-amd64/lib/libawt_xawt.so\r\n```\r\n\r\n&gt; ```\r\n&gt; java.lang.UnsupportedOperationException: The BROWSE action is not supported on the current platform!\r\n&gt;        at java.desktop/java.awt.Desktop.checkActionSupport(Desktop.java:380)\r\n&gt;        at java.desktop/java.awt.Desktop.browse(Desktop.java:524)\r\n&gt;        at io.qameta.allure.Commands.openBrowser(Commands.java:222)\r\n\r\nThat means WSL doesn&#39;t support `java.awt.Desktop.browse()`.\r\n\r\nThis has been brought up before in Stackoverflow.\r\n\r\nSee https://stackoverflow.com/a/27881223/775715","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p>You likely have some missing downstream libraries.</p>\n<p>Run this to find out which ones, then install them.</p>\n<pre><code>$ ldd /usr/lib/jvm/java-11-openjdk-amd64/lib/libawt_xawt.so\n</code></pre>\n<blockquote>\n<pre><code>java.lang.UnsupportedOperationException: The BROWSE action is not supported on the current platform!\n       at java.desktop/java.awt.Desktop.checkActionSupport(Desktop.java:380)\n       at java.desktop/java.awt.Desktop.browse(Desktop.java:524)\n       at io.qameta.allure.Commands.openBrowser(Commands.java:222)\n</code></pre>\n</blockquote>\n<p>That means WSL doesn't support <code>java.awt.Desktop.browse()</code>.</p>\n<p>This has been brought up before in Stackoverflow.</p>\n<p>See <a href=\"https://stackoverflow.com/a/27881223/775715\">https://stackoverflow.com/a/27881223/775715</a></p>\n"},{"tags":[],"owner":{"account_id":2455144,"reputation":7303,"user_id":6337545,"display_name":"Vincent Gerris"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1627409102,"creation_date":1622327415,"answer_id":67756207,"question_id":67391845,"body_markdown":"on ubuntu 20.04:\r\n\r\n    sudo apt install openjdk-11-jdk\r\n\r\nAs Joakim suggested [in this comment here][1], the headless version was installed. I got the same error with ldd, the library missing.\r\n\r\nIt&#39;s not a good idea to change your question in general, it&#39;s better to search first and ask a new one if needed, with all specifics.\r\n\r\nThis may help you understand the possible cause of the second issue:\r\n\r\nhttps://stackoverflow.com/questions/18004150/desktop-api-is-not-supported-on-the-current-platform\r\n\r\nI highly recommend to use a plain Ubuntu Linux installation if you want to use Linux, WSL is not the same and has specific issues that you will not encounter in Linux. If a dedicated install is not an option, try to look for generic issues. Expect differences in behavior with shells, docker and graphical related things, because those things are specifically implemented in certain ways for WSL.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67391845/exception-java-lang-unsatisfiedlinkerror-when-trying-to-open-allure-reports-in-w#comment119119464_67391949","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p>on ubuntu 20.04:</p>\n<pre><code>sudo apt install openjdk-11-jdk\n</code></pre>\n<p>As Joakim suggested <a href=\"https://stackoverflow.com/questions/67391845/exception-java-lang-unsatisfiedlinkerror-when-trying-to-open-allure-reports-in-w#comment119119464_67391949\">in this comment here</a>, the headless version was installed. I got the same error with ldd, the library missing.</p>\n<p>It's not a good idea to change your question in general, it's better to search first and ask a new one if needed, with all specifics.</p>\n<p>This may help you understand the possible cause of the second issue:</p>\n<p><a href=\"https://stackoverflow.com/questions/18004150/desktop-api-is-not-supported-on-the-current-platform\">Desktop API is not supported on the current platform</a></p>\n<p>I highly recommend to use a plain Ubuntu Linux installation if you want to use Linux, WSL is not the same and has specific issues that you will not encounter in Linux. If a dedicated install is not an option, try to look for generic issues. Expect differences in behavior with shells, docker and graphical related things, because those things are specifically implemented in certain ways for WSL.</p>\n"},{"tags":[],"owner":{"account_id":26566831,"reputation":11,"user_id":20193712,"display_name":"Dexter Greener"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665260163,"creation_date":1665260163,"answer_id":74000258,"question_id":67391845,"body_markdown":"/usr/lib/jvm/java-17-openjdk-17.0.4.1.1-1.fc36.x86_64/lib/libawt_xawt.so\r\nThis error requires an updat of the jdk.\r\n1. Download the current update from Oracle support jdk-17_linux-x64_bin.rpm\r\n2. sudo rpm -ivh jdk-17_linux-x64_bin.rpm\r\nthis will install libawt_headless.so and it is working\r\nOperating System deployed to is Fedora36\r\n","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p>/usr/lib/jvm/java-17-openjdk-17.0.4.1.1-1.fc36.x86_64/lib/libawt_xawt.so\nThis error requires an updat of the jdk.</p>\n<ol>\n<li>Download the current update from Oracle support jdk-17_linux-x64_bin.rpm</li>\n<li>sudo rpm -ivh jdk-17_linux-x64_bin.rpm\nthis will install libawt_headless.so and it is working\nOperating System deployed to is Fedora36</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19517126,"reputation":424,"user_id":14279755,"display_name":"hassan bazai"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1669200292,"creation_date":1669200292,"answer_id":74545535,"question_id":67391845,"body_markdown":"**[For me it worked]**\r\n\r\nWhen you get this kinda error it means in installation of your jdk some of files are missed. To solve this problem act like bellow:\r\n\r\n    sudo apt install openjdk-[version]-jdk --fix-missing\r\n    \r\neg.\r\n    \r\n    sudo apt install openjdk-16-jdk --fix-missing\r\n\r\nit means  you already installed the jdk but there are some missing files with it. So you can fix it as easy as a pice of cake just by using &#39;--fix-missing&#39;","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p><strong>[For me it worked]</strong></p>\n<p>When you get this kinda error it means in installation of your jdk some of files are missed. To solve this problem act like bellow:</p>\n<pre><code>sudo apt install openjdk-[version]-jdk --fix-missing\n</code></pre>\n<p>eg.</p>\n<pre><code>sudo apt install openjdk-16-jdk --fix-missing\n</code></pre>\n<p>it means  you already installed the jdk but there are some missing files with it. So you can fix it as easy as a pice of cake just by using '--fix-missing'</p>\n"},{"tags":[],"owner":{"account_id":14973803,"reputation":1,"user_id":10809806,"display_name":"Inverser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676450048,"creation_date":1676450048,"answer_id":75457174,"question_id":67391845,"body_markdown":"```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-11-openjdk/lib/libawt_xawt.so\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2633)\r\n        at java.base/java.lang.Runtime.load0(Runtime.java:768)\r\n        at java.base/java.lang.System.load(System.java:1837)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2445)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2501)\r\n        at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2700)\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2651)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1395)\r\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1393)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1392)\r\n        at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1425)\r\n        at java.desktop/java.awt.Insets.&lt;clinit&gt;(Insets.java:89)\r\n        at java.desktop/javax.swing.plaf.synth.SynthLookAndFeel.&lt;clinit&gt;(SynthLookAndFeel.java:75)\r\n        at snowflake.App.main(App.java:67)\r\n```\r\nIf you get this error on Manjaro Linux when running any Java program (in my case SnowFlake), then you need to install openjdk11-src, jre11-openjdk, jdk11-openjdk","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-11-openjdk/lib/libawt_xawt.so\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2633)\n        at java.base/java.lang.Runtime.load0(Runtime.java:768)\n        at java.base/java.lang.System.load(System.java:1837)\n        at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n        at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2445)\n        at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2501)\n        at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2700)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2651)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1395)\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1393)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1392)\n        at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1425)\n        at java.desktop/java.awt.Insets.&lt;clinit&gt;(Insets.java:89)\n        at java.desktop/javax.swing.plaf.synth.SynthLookAndFeel.&lt;clinit&gt;(SynthLookAndFeel.java:75)\n        at snowflake.App.main(App.java:67)\n</code></pre>\n<p>If you get this error on Manjaro Linux when running any Java program (in my case SnowFlake), then you need to install openjdk11-src, jre11-openjdk, jdk11-openjdk</p>\n"},{"tags":[],"owner":{"account_id":28074258,"reputation":21,"user_id":21446382,"display_name":"mr  me"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679666858,"creation_date":1679391674,"answer_id":75799502,"question_id":67391845,"body_markdown":"the solution is simple i had the problem and i solved it by:\r\n```\r\nsudo apt install default-jre\r\nsudo apt upgrade openjdk-11-jdk \r\n```","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p>the solution is simple i had the problem and i solved it by:</p>\n<pre><code>sudo apt install default-jre\nsudo apt upgrade openjdk-11-jdk \n</code></pre>\n"}],"owner":{"account_id":14770026,"reputation":433,"user_id":10666774,"display_name":"Thorondor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98454,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":67756207,"answer_count":6,"score":43,"last_activity_date":1679666858,"creation_date":1620160537,"question_id":67391845,"body_markdown":"I have a small webdriver.io project just for experimenting with it for the first time. I now wanted to add allure reports but when I try to run `allure open` I get the following exception and I have no idea where I have to look to resolve this:\r\n```lang-none\r\nStarting web server...\r\n2021-05-04 22:06:43.669:INFO::main: Logging initialized @349ms to org.eclipse.jetty.util.log.StdErrLog\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can&#39;t load library: /usr/lib/jvm/java-11-openjdk-amd64/lib/libawt_xawt.so\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2630)\r\n        at java.base/java.lang.Runtime.load0(Runtime.java:768)\r\n        at java.base/java.lang.System.load(System.java:1837)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\r\n        at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\r\n        at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\r\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2648)\r\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\r\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\r\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1399)\r\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1397)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1396)\r\n        at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1429)\r\n        at java.desktop/java.awt.Desktop.isDesktopSupported(Desktop.java:328)\r\n        at io.qameta.allure.Commands.openBrowser(Commands.java:220)\r\n        at io.qameta.allure.Commands.open(Commands.java:152)\r\n        at io.qameta.allure.CommandLine.run(CommandLine.java:165)\r\n        at java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n        at io.qameta.allure.CommandLine.main(CommandLine.java:88)\r\n```\r\n\r\nThe reports are getting generated just fine. Only when I try to open them I get this error.\r\n\r\nI have allure-reporter and allure-commandline installed via npm. I have my project inside a Debian WSL and run chromedriver with VcXsrv X Server in case this might help.\r\n\r\nDoes anybody have an idea how this error might get resolved or have a hint for what to look for? I hope I gave you enough information. If not, just say what you need. Thanks in advance for your help!","title":"Exception java.lang.UnsatisfiedLinkError when trying to open allure-reports in webdriver.io project","body":"<p>I have a small webdriver.io project just for experimenting with it for the first time. I now wanted to add allure reports but when I try to run <code>allure open</code> I get the following exception and I have no idea where I have to look to resolve this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting web server...\n2021-05-04 22:06:43.669:INFO::main: Logging initialized @349ms to org.eclipse.jetty.util.log.StdErrLog\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Can't load library: /usr/lib/jvm/java-11-openjdk-amd64/lib/libawt_xawt.so\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2630)\n        at java.base/java.lang.Runtime.load0(Runtime.java:768)\n        at java.base/java.lang.System.load(System.java:1837)\n        at java.base/java.lang.ClassLoader$NativeLibrary.load0(Native Method)\n        at java.base/java.lang.ClassLoader$NativeLibrary.load(ClassLoader.java:2442)\n        at java.base/java.lang.ClassLoader$NativeLibrary.loadLibrary(ClassLoader.java:2498)\n        at java.base/java.lang.ClassLoader.loadLibrary0(ClassLoader.java:2694)\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2648)\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:830)\n        at java.base/java.lang.System.loadLibrary(System.java:1873)\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1399)\n        at java.desktop/java.awt.Toolkit$3.run(Toolkit.java:1397)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.desktop/java.awt.Toolkit.loadLibraries(Toolkit.java:1396)\n        at java.desktop/java.awt.Toolkit.&lt;clinit&gt;(Toolkit.java:1429)\n        at java.desktop/java.awt.Desktop.isDesktopSupported(Desktop.java:328)\n        at io.qameta.allure.Commands.openBrowser(Commands.java:220)\n        at io.qameta.allure.Commands.open(Commands.java:152)\n        at io.qameta.allure.CommandLine.run(CommandLine.java:165)\n        at java.base/java.util.Optional.orElseGet(Optional.java:369)\n        at io.qameta.allure.CommandLine.main(CommandLine.java:88)\n</code></pre>\n<p>The reports are getting generated just fine. Only when I try to open them I get this error.</p>\n<p>I have allure-reporter and allure-commandline installed via npm. I have my project inside a Debian WSL and run chromedriver with VcXsrv X Server in case this might help.</p>\n<p>Does anybody have an idea how this error might get resolved or have a hint for what to look for? I hope I gave you enough information. If not, just say what you need. Thanks in advance for your help!</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1679667738,"post_id":75833808,"comment_id":133767154,"body_markdown":"Please add more details and paste the full stack trace of the error: https://stackoverflow.com/help/how-to-ask","body":"Please add more details and paste the full stack trace of the error: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2501655,"reputation":734,"user_id":2176576,"accept_rate":40,"display_name":"user2176576"},"score":0,"creation_date":1679668344,"post_id":75833808,"comment_id":133767351,"body_markdown":"@Autowired\n    @Qualifier(BatchConstants.MY_BATCH_READER)\n    MyBatchReader myBatchReader; This line when debugged gives the exception Method threw &#39;org.springframework.beans.factory.BeanCreationException&#39; exception. Cannot evaluate com.batch.reader.MyBatchReader$$EnhancerBySpringCGLIB$$cc9f20ab.toString()","body":"@Autowired     @Qualifier(BatchConstants.MY_BATCH_READER)     MyBatchReader myBatchReader; This line when debugged gives the exception Method threw &#39;org.springframework.beans.factory.BeanCreationException&#39; exception. Cannot evaluate com.batch.reader.MyBatchReader$$EnhancerBySpringCGLIB$$cc9f2&zwnj;&#8203;0ab.toString()"},{"owner":{"account_id":2501655,"reputation":734,"user_id":2176576,"accept_rate":40,"display_name":"user2176576"},"score":0,"creation_date":1679668464,"post_id":75833808,"comment_id":133767394,"body_markdown":"This is all that comes in the error, I checked my beans and they look fine is there  something wrong with the BatchReader implementation that has to internally do toString?","body":"This is all that comes in the error, I checked my beans and they look fine is there  something wrong with the BatchReader implementation that has to internally do toString?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1680079867,"post_id":75833808,"comment_id":133834672,"body_markdown":"Why is the reader annotated with `@StepScope`? That does not add any value to the implementation you shared. This might be the cause of your issue.","body":"Why is the reader annotated with <code>@StepScope</code>? That does not add any value to the implementation you shared. This might be the cause of your issue."}],"owner":{"account_id":2501655,"reputation":734,"user_id":2176576,"accept_rate":40,"display_name":"user2176576"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679666829,"creation_date":1679661815,"question_id":75833808,"body_markdown":"Hi I am trying to write an Batch job which currently has only the processor, but I still need to write an empty reader and writer for later use.\r\n\r\n    @Component(BatchConstants.MY_BATCH_READER)\r\n    @StepScope\r\n    public class MyBatchReader implements ItemReader&lt;String&gt; {\r\n        @Override\r\n        public String read() throws Exception {\r\n            return null;\r\n        }\r\n    }\r\n\r\nand then referring this reader while building this job in another class\r\n\r\n\r\n      @Autowired\r\n        @Qualifier(BatchConstants.MY_BATCH_READER)\r\n        MyBatchReader myBatchReader;\r\n    \t\r\n    \t    Step step1 = stepBuilderFactory.get(BatchConstants.myBatchJob)\r\n                    .&lt;String, String&gt;chunk(1).reader(myBatchReader).processor(myProcessor)\r\n                    .writer(myWriter).build();\r\n            return jobBuilderFactory.get(BatchConstants.myBatchJob).start(step1)\r\n                    .build();\r\n\r\n\r\n\r\nHowever when I tried this I got the below error -\r\n\r\n.ItemReader is an interface. The implementing class will not be queried for annotation based listener configurations. If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used. \r\n\r\nand an **Exception MEthod threw BeanCreationException Cannot evaluate ..MyBatchReader$$EnhancerBySpringCGLIB$$87d9938.toString()**\r\nI am new to springboot as well as spring batch, hence I am feeling there is some step I am certainly missing.\r\n\r\nAlso is it correct to use the same variable name for get method in Step and Job, I feel that is incorrect too.\r\n\r\nAny help would be much appreciated, Thanks!","title":"Spring batch with Empty reader gives exception","body":"<p>Hi I am trying to write an Batch job which currently has only the processor, but I still need to write an empty reader and writer for later use.</p>\n<pre><code>@Component(BatchConstants.MY_BATCH_READER)\n@StepScope\npublic class MyBatchReader implements ItemReader&lt;String&gt; {\n    @Override\n    public String read() throws Exception {\n        return null;\n    }\n}\n</code></pre>\n<p>and then referring this reader while building this job in another class</p>\n<pre><code>  @Autowired\n    @Qualifier(BatchConstants.MY_BATCH_READER)\n    MyBatchReader myBatchReader;\n    \n        Step step1 = stepBuilderFactory.get(BatchConstants.myBatchJob)\n                .&lt;String, String&gt;chunk(1).reader(myBatchReader).processor(myProcessor)\n                .writer(myWriter).build();\n        return jobBuilderFactory.get(BatchConstants.myBatchJob).start(step1)\n                .build();\n</code></pre>\n<p>However when I tried this I got the below error -</p>\n<p>.ItemReader is an interface. The implementing class will not be queried for annotation based listener configurations. If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used.</p>\n<p>and an <strong>Exception MEthod threw BeanCreationException Cannot evaluate ..MyBatchReader$$EnhancerBySpringCGLIB$$87d9938.toString()</strong>\nI am new to springboot as well as spring batch, hence I am feeling there is some step I am certainly missing.</p>\n<p>Also is it correct to use the same variable name for get method in Step and Job, I feel that is incorrect too.</p>\n<p>Any help would be much appreciated, Thanks!</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":4744570,"reputation":41644,"user_id":3836229,"display_name":"TimoStaudinger"},"score":0,"creation_date":1463142926,"post_id":37210167,"comment_id":61951474,"body_markdown":"Could you please share the JSON you are trying to parse?","body":"Could you please share the JSON you are trying to parse?"},{"owner":{"account_id":5524355,"reputation":1580,"user_id":4386321,"accept_rate":76,"display_name":"maxpovver"},"score":1,"creation_date":1463142935,"post_id":37210167,"comment_id":61951482,"body_markdown":"you have json like: `{&quot;test&quot;: fff}` which is not allowed - only booleans and numbers can have no commas","body":"you have json like: <code>{&quot;test&quot;: fff}</code> which is not allowed - only booleans and numbers can have no commas"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1463143084,"post_id":37210167,"comment_id":61951588,"body_markdown":"`String urlParameters = &quot;{\\&quot;itemID\\&quot;:\\&quot;F123\\&quot;}&quot;;` as @maxpovver said","body":"<code>String urlParameters = &quot;{\\&quot;itemID\\&quot;:\\&quot;F123\\&quot;}&quot;;</code> as @maxpovver said"},{"owner":{"account_id":6223206,"reputation":61,"user_id":4842286,"accept_rate":29,"display_name":"Jeet"},"score":0,"creation_date":1463143286,"post_id":37210167,"comment_id":61951722,"body_markdown":"my json object need to add in url : &quot;{\\&quot;itemID\\&quot;:F123}&quot;","body":"my json object need to add in url : &quot;{\\&quot;itemID\\&quot;:F123}&quot;"},{"owner":{"account_id":6223206,"reputation":61,"user_id":4842286,"accept_rate":29,"display_name":"Jeet"},"score":0,"creation_date":1463143626,"post_id":37210167,"comment_id":61951959,"body_markdown":"I have modified my data in JSON format. Now its working","body":"I have modified my data in JSON format. Now its working"}],"answers":[{"tags":[],"owner":{"account_id":6223206,"reputation":61,"user_id":4842286,"accept_rate":29,"display_name":"Jeet"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1463146127,"creation_date":1463143549,"answer_id":37210439,"question_id":37210167,"body_markdown":"This is because of sending wrong JSON format on URL using client.\r\nJust check your JSON data which you are trying to send over URL. If you get this kind of exception &quot;Unexpected character (&#39;F&#39; (code 70)): expected a valid value&quot;.\r\nThen You just make sure that data is in correct JSON format !","title":"Unexpected character (&#39;F&#39; (code 70)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;) What does it mean?","body":"<p>This is because of sending wrong JSON format on URL using client.\nJust check your JSON data which you are trying to send over URL. If you get this kind of exception \"Unexpected character ('F' (code 70)): expected a valid value\".\nThen You just make sure that data is in correct JSON format !</p>\n"}],"owner":{"account_id":6223206,"reputation":61,"user_id":4842286,"accept_rate":29,"display_name":"Jeet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679666665,"creation_date":1463142749,"question_id":37210167,"body_markdown":"I am trying to access a url using rest client\r\n\r\nMy Client Code:\r\n\r\n     public class ProductByListTestClient {\r\n\t\r\n    //\tprivate final String USER_AGENT = &quot;Mozilla/5.0&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tProductByListTestClient http = new ProductByListTestClient();\r\n\t\ttry {\r\n\t\t\thttp.sendPost();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\t// HTTP POST request\r\n\tprivate void sendPost() throws Exception {\r\n\r\n\t\tString url = &quot;http://localhost:7111/product.lookup.tobuylist/rest/product/productbuylist&quot;;\r\n\t\tURL obj = new URL(url);\r\n\t\tHttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\t\tcon.setRequestMethod(&quot;POST&quot;);\r\n\t\tcon.setDoOutput(true);\r\n       // con.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n\t\tcon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\t\tcon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\t\tString urlParameters = &quot;{\\&quot;itemID\\&quot;:F123}&quot;;\r\n\t\t\r\n\t\t// Send post request\r\n\t\tcon.setDoOutput(true);\r\n\t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n\t\twr.writeBytes(urlParameters);\r\n\t\twr.flush();\r\n\t\twr.close();\r\n\r\n\t\tint responseCode = con.getResponseCode();\r\n\t\tSystem.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n\t\tSystem.out.println(&quot;Post parameters : &quot; + urlParameters);\r\n\t\tSystem.out.println(&quot;Response Code : &quot; + responseCode);\r\n\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\tcon.getInputStream()));\r\n\t\tString inputLine;\r\n\t\tStringBuffer response = new StringBuffer();\r\n\r\n\t\twhile ((inputLine = in.readLine()) != null) {\r\n\t\t\tresponse.append(inputLine);\r\n\t\t}\r\n\t\tin.close();\r\n\r\n\t\t// print result\r\n\t\tSystem.out.println(response.toString());\r\n\r\n\t}\r\n\t\r\n}\r\n\r\nRoot cause of `ServletException`:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.codehaus.jackson.JsonParseException: Unexpected character (&#39;F&#39; (code 70)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\r\n     at [Source: weblogic.servlet.internal.ServletInputStreamImpl@186948; line: 1, column: 12]\r\n    \tat org.codehaus.jackson.JsonParser._constructError(JsonParser.java:1432)\r\n    \tat org.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:385)\r\n    \tat org.codehaus.jackson.impl.JsonParserMinimalBase._reportUnexpectedChar(JsonParserMinimalBase.java:306)\r\n    \tat org.codehaus.jackson.impl.Utf8StreamParser._handleUnexpectedValue(Utf8StreamParser.java:2084)\r\n    \tat org.codehaus.jackson.impl.Utf8StreamParser.nextToken(Utf8StreamParser.java:549)\r\n    \tTruncated. see log file for complete stacktrace","title":"Unexpected character (&#39;F&#39; (code 70)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;) What does it mean?","body":"<p>I am trying to access a url using rest client</p>\n\n<p>My Client Code:</p>\n\n<pre><code> public class ProductByListTestClient {\n\n//  private final String USER_AGENT = \"Mozilla/5.0\";\n\npublic static void main(String[] args) {\n\n    ProductByListTestClient http = new ProductByListTestClient();\n    try {\n        http.sendPost();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\n// HTTP POST request\nprivate void sendPost() throws Exception {\n\n    String url = \"http://localhost:7111/product.lookup.tobuylist/rest/product/productbuylist\";\n    URL obj = new URL(url);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n    con.setRequestMethod(\"POST\");\n    con.setDoOutput(true);\n   // con.setRequestProperty(\"User-Agent\", USER_AGENT);\n    con.setRequestProperty(\"Accept\", \"application/json\");\n    con.setRequestProperty(\"Content-Type\", \"application/json\");\n    String urlParameters = \"{\\\"itemID\\\":F123}\";\n\n    // Send post request\n    con.setDoOutput(true);\n    DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n    wr.writeBytes(urlParameters);\n    wr.flush();\n    wr.close();\n\n    int responseCode = con.getResponseCode();\n    System.out.println(\"\\nSending 'POST' request to URL : \" + url);\n    System.out.println(\"Post parameters : \" + urlParameters);\n    System.out.println(\"Response Code : \" + responseCode);\n\n    BufferedReader in = new BufferedReader(new InputStreamReader(\n            con.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n    }\n    in.close();\n\n    // print result\n    System.out.println(response.toString());\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Root cause of <code>ServletException</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>org.codehaus.jackson.JsonParseException: Unexpected character ('F' (code 70)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\n at [Source: weblogic.servlet.internal.ServletInputStreamImpl@186948; line: 1, column: 12]\n    at org.codehaus.jackson.JsonParser._constructError(JsonParser.java:1432)\n    at org.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:385)\n    at org.codehaus.jackson.impl.JsonParserMinimalBase._reportUnexpectedChar(JsonParserMinimalBase.java:306)\n    at org.codehaus.jackson.impl.Utf8StreamParser._handleUnexpectedValue(Utf8StreamParser.java:2084)\n    at org.codehaus.jackson.impl.Utf8StreamParser.nextToken(Utf8StreamParser.java:549)\n    Truncated. see log file for complete stacktrace\n</code></pre>\n"},{"tags":["java","soap","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":28072348,"reputation":1,"user_id":21444725,"display_name":"Mohd Salim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679666539,"creation_date":1679377163,"answer_id":75797649,"question_id":61763119,"body_markdown":"Inside the `handleMessage` method you can add the following\r\n\r\n```\r\nByteArrayOutputStream stream = new ByteArrayOutputStream();\r\nmessage.writeTo(stream);\r\nString messageBody = new String(stream.toByteArray());\r\n```","title":"How do I get the body in a SOAP response when I have a ClientTransportException","body":"<p>Inside the <code>handleMessage</code> method you can add the following</p>\n<pre><code>ByteArrayOutputStream stream = new ByteArrayOutputStream();\nmessage.writeTo(stream);\nString messageBody = new String(stream.toByteArray());\n</code></pre>\n"}],"owner":{"account_id":11919532,"reputation":173,"user_id":8722564,"accept_rate":100,"display_name":"Joost Luijben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679666539,"creation_date":1589322704,"question_id":61763119,"body_markdown":"In SoapUI/Postman I am sending this request\r\n[![Image describing the request][1]][1]\r\nNotice how I am getting a 401 Unauthorized, but I am getting a response body. The 401 is expected.&lt;br&gt;\r\nNow I am trying to send this message with jax-ws. I intercept the messageresponse with a handler.\r\nMy handler looks like this:\r\n\r\n    public class SHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n        @Override\r\n        public Set&lt;QName&gt; getHeaders() {\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; GetHeaders&quot;);\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean handleMessage(SOAPMessageContext soapMessageContext) {\r\n            boolean isRequest = (Boolean) soapMessageContext.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\r\n            if (!isRequest) {\r\n                try {\r\n                    System.out.println(soapMessageContext.getMessage().getSOAPBody().getValue(););\r\n                } catch (SOAPException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Message&quot;);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean handleFault(SOAPMessageContext soapMessageContext) {\r\n            try {\r\n                System.out.println(soapMessageContext.getMessage().getSOAPBody().getValue());\r\n            } catch (SOAPException e) {\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; HandleFault&quot;);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void close(MessageContext messageContext) {\r\n            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Close&quot;);\r\n        }\r\n    }\r\nI would expect to get a return value from the request, but I get null. I only see this response in my console:\r\n`com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 401: Unauthorized` \r\nHow do I get the body that is shown in the Postman request?\r\n\r\n&lt;br&gt;&lt;br&gt; Some more context information:&lt;br&gt;\r\nThe jax-ws service that makes requests to the blurred out endpoint \r\n\r\n    @WebServiceClient(\r\n            name = &quot;LIReceiveMessageService&quot;,\r\n            targetNamespace = &quot;http://uic.cc.org/UICMessage&quot;,\r\n            wsdlLocation = &quot;src/main/java/nl/rls/ci/soapinterface/UICCCMessageProcessingInboundWS.wsdl&quot;\r\n    )\r\n    public class LIReceiveMessageService\r\n            extends Service {\r\n        ....\r\n    }\r\nThe messageResolver I added using [this][2] oracle guide. \r\n\r\n    LIReceiveMessageService service = new LIReceiveMessageService();\r\n    service.setHandlerResolver(new MyHandlerResolver());\r\n\r\n  [1]: https://i.stack.imgur.com/179OS.png\r\n  [2]: https://docs.oracle.com/middleware/1213/wls/WSGET/jax-ws-soaphandlers.htm#i268373","title":"How do I get the body in a SOAP response when I have a ClientTransportException","body":"<p>In SoapUI/Postman I am sending this request\n<a href=\"https://i.stack.imgur.com/179OS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/179OS.png\" alt=\"Image describing the request\"></a>\nNotice how I am getting a 401 Unauthorized, but I am getting a response body. The 401 is expected.<br>\nNow I am trying to send this message with jax-ws. I intercept the messageresponse with a handler.\nMy handler looks like this:</p>\n\n<pre><code>public class SHandler implements SOAPHandler&lt;SOAPMessageContext&gt; {\n    @Override\n    public Set&lt;QName&gt; getHeaders() {\n        System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; GetHeaders\");\n        return null;\n    }\n\n    @Override\n    public boolean handleMessage(SOAPMessageContext soapMessageContext) {\n        boolean isRequest = (Boolean) soapMessageContext.get(MessageContext.MESSAGE_OUTBOUND_PROPERTY);\n        if (!isRequest) {\n            try {\n                System.out.println(soapMessageContext.getMessage().getSOAPBody().getValue(););\n            } catch (SOAPException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Message\");\n        return true;\n    }\n\n    @Override\n    public boolean handleFault(SOAPMessageContext soapMessageContext) {\n        try {\n            System.out.println(soapMessageContext.getMessage().getSOAPBody().getValue());\n        } catch (SOAPException e) {\n            e.printStackTrace();\n        }\n        System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; HandleFault\");\n        return true;\n    }\n\n    @Override\n    public void close(MessageContext messageContext) {\n        System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Close\");\n    }\n}\n</code></pre>\n\n<p>I would expect to get a return value from the request, but I get null. I only see this response in my console:\n<code>com.sun.xml.ws.client.ClientTransportException: The server sent HTTP status code 401: Unauthorized</code> \nHow do I get the body that is shown in the Postman request?</p>\n\n<p><br><br> Some more context information:<br>\nThe jax-ws service that makes requests to the blurred out endpoint </p>\n\n<pre><code>@WebServiceClient(\n        name = \"LIReceiveMessageService\",\n        targetNamespace = \"http://uic.cc.org/UICMessage\",\n        wsdlLocation = \"src/main/java/nl/rls/ci/soapinterface/UICCCMessageProcessingInboundWS.wsdl\"\n)\npublic class LIReceiveMessageService\n        extends Service {\n    ....\n}\n</code></pre>\n\n<p>The messageResolver I added using <a href=\"https://docs.oracle.com/middleware/1213/wls/WSGET/jax-ws-soaphandlers.htm#i268373\" rel=\"nofollow noreferrer\">this</a> oracle guide. </p>\n\n<pre><code>LIReceiveMessageService service = new LIReceiveMessageService();\nservice.setHandlerResolver(new MyHandlerResolver());\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"owner":{"account_id":1389220,"reputation":869,"user_id":1320479,"accept_rate":28,"display_name":"NiBE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679666529,"creation_date":1679653073,"question_id":75832398,"body_markdown":"I have this simple entity:\r\n\r\n    @Entity @IdClass(StockPriceKey.class)\r\n    @DynamicUpdate\r\n    public class StockPrice {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;,  columnDefinition = &quot;VARCHAR(36)&quot;, updatable = false, nullable = false)\r\n        private UUID id;\r\n\r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;stock_id&quot;,referencedColumnName = &quot;id&quot;,nullable = false)\r\n        private Stock stock;\r\n\r\n        @Id\r\n        @NotNull\r\n        private LocalDate date;\r\n\r\n        private Float price;\r\n    \r\n    }\r\n\r\nAnd its own composite key class:\r\n\r\n    public class StockPriceKey implements Serializable {\r\n        private LocalDate date;\r\n        private Stock stock;\r\n    \r\n        public StockPriceKey() {\r\n        }\r\n    \r\n       //equals hashcode\r\n    }\r\n\r\nand another entity:\r\n\r\n    @Entity\r\n    @DynamicUpdate\r\n    public class Stock {\r\n\r\n        @Id\r\n        @Type(type = &quot;uuid-char&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;, columnDefinition = &quot;VARCHAR(36)&quot;, updatable = false, nullable = false)\r\n        private UUID id;\r\n\r\n        private String name;\r\n    \r\n    }\r\n\r\n\r\nI&#39;m trying to save a record in this way:\r\n\r\n                StockPrice stockPrice = new StockPrice();\r\n                StockPrice.setDate(item.getDate());\r\n                StockPrice.setPrice(item.getPrice());\r\n              \r\n                Stock stock=stockRepository.getById(&quot;someID&quot;);\r\n                stockPrice.setStock(stock);\r\n                stockPriceRepository.saveAndFlush(stockPrice);\r\n\r\nbut I keep getting this error message and I cannot figure out why:\r\n\r\n&gt; Cannot convert value of type &#39;java.util.UUID&#39; to required type\r\n&gt; &#39;com.blah.entity.Stock&#39; for property &#39;stock&#39;: no matching editors or\r\n&gt; conversion strategy found\r\n\r\n","title":"Save record with a composite key","body":"<p>I have this simple entity:</p>\n<pre><code>@Entity @IdClass(StockPriceKey.class)\n@DynamicUpdate\npublic class StockPrice {\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;,  columnDefinition = &quot;VARCHAR(36)&quot;, updatable = false, nullable = false)\n    private UUID id;\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;stock_id&quot;,referencedColumnName = &quot;id&quot;,nullable = false)\n    private Stock stock;\n\n    @Id\n    @NotNull\n    private LocalDate date;\n\n    private Float price;\n\n}\n</code></pre>\n<p>And its own composite key class:</p>\n<pre><code>public class StockPriceKey implements Serializable {\n    private LocalDate date;\n    private Stock stock;\n\n    public StockPriceKey() {\n    }\n\n   //equals hashcode\n}\n</code></pre>\n<p>and another entity:</p>\n<pre><code>@Entity\n@DynamicUpdate\npublic class Stock {\n\n    @Id\n    @Type(type = &quot;uuid-char&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;VARCHAR(36)&quot;, updatable = false, nullable = false)\n    private UUID id;\n\n    private String name;\n\n}\n</code></pre>\n<p>I'm trying to save a record in this way:</p>\n<pre><code>            StockPrice stockPrice = new StockPrice();\n            StockPrice.setDate(item.getDate());\n            StockPrice.setPrice(item.getPrice());\n          \n            Stock stock=stockRepository.getById(&quot;someID&quot;);\n            stockPrice.setStock(stock);\n            stockPriceRepository.saveAndFlush(stockPrice);\n</code></pre>\n<p>but I keep getting this error message and I cannot figure out why:</p>\n<blockquote>\n<p>Cannot convert value of type 'java.util.UUID' to required type\n'com.blah.entity.Stock' for property 'stock': no matching editors or\nconversion strategy found</p>\n</blockquote>\n"},{"tags":["java","oauth-2.0","fitbit","malformedurlexception"],"answers":[{"tags":[],"owner":{"account_id":28112755,"reputation":1,"user_id":21480292,"display_name":"Danielle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679666015,"creation_date":1679666015,"answer_id":75834531,"question_id":75832149,"body_markdown":"Figure it out. This line was incorrect.\r\n\r\n&lt;i&gt;final OAuthRequest request = new OAuthRequest(Verb.GET, code);\r\n\r\nShould have been:\r\n&lt;i&gt;final OAuthRequest request = new OAuthRequest(Verb.GET, PROTECTED_URL);","title":"MalformedURLException on Response in Android Studio Java","body":"<p>Figure it out. This line was incorrect.</p>\n<p>final OAuthRequest request = new OAuthRequest(Verb.GET, code);</p>\n<p>Should have been:\nfinal OAuthRequest request = new OAuthRequest(Verb.GET, PROTECTED_URL);</p>\n"}],"owner":{"account_id":28112755,"reputation":1,"user_id":21480292,"display_name":"Danielle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679666015,"creation_date":1679651522,"question_id":75832149,"body_markdown":"I am getting a MalformedURLException in logcat when I run my application. I am new to app development and used/modified code on the OAuth from GitHub. The Runnable is within a button press as well. Any ideas how to get this to function properly? Thanks!\r\n\r\n\r\n```\r\n                    try {\r\n                        response = service.execute(request);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (ExecutionException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n```\r\nRest of code\r\n\r\n\r\n```\r\nprivate final OAuth20Service service = new ServiceBuilder(clientId)\r\n            .apiSecret(clientSecret)\r\n            .defaultScope(&quot;sleep&quot;).responseType(&quot;code&quot;).callback(callbackURL).build(FitbitApi20.instance());\r\n```\r\n\r\n```\r\nexecService.execute(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    final OAuth2AccessToken oauth2AccessToken;\r\n\r\n                    byte[] data = new byte[0];\r\n                    try {\r\n                        data = code.getBytes(&quot;UTF-8&quot;);\r\n                    } catch (UnsupportedEncodingException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                    String base64code = Base64.encodeToString(data, Base64.DEFAULT);\r\n\r\n\r\n                    try {\r\n                        oauth2AccessToken = service.getAccessToken(code);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (ExecutionException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                    final FitBitOAuth2AccessToken accessToken = (FitBitOAuth2AccessToken) oauth2AccessToken;\r\n\r\n                    final OAuthRequest request = new OAuthRequest(Verb.GET, code);\r\n                    request.addParameter(&quot;client_id&quot;, clientId);\r\n                    request.addParameter(&quot;client_secret&quot;, clientSecret);\r\n                    request.addParameter(&quot;redirect_uri&quot;, callbackURL);\r\n                    request.addParameter(&quot;scope&quot;, &quot;sleep&quot;);\r\n                    request.addParameter(&quot;request type&quot;, &quot;code&quot;);\r\n                    request.addParameter(&quot;Authorization&quot;, &quot;Basic&quot; + base64code);\r\n                    request.addHeader(&quot;x-li-format&quot;, &quot;json&quot;);\r\n\r\n                    service.signRequest(accessToken, request);\r\n\r\n                    final TextView fboutputTV = (TextView) findViewById(R.id.fbOutput);\r\n\r\n                    Response response;\r\n                    String concatRequest = &quot;&quot;;\r\n\r\n                    try {\r\n                        response = service.execute(request);\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (ExecutionException e) {\r\n                        throw new RuntimeException(e);\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                    try {\r\n                        concatRequest = (String) (response.getCode() + &quot; &quot; + response.getBody());\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n```\r\n\r\n\r\n\r\nI tried to find other resources on implementation but I am not seeing anything new enough to be helpful or it is not based in Android Studio. ","title":"MalformedURLException on Response in Android Studio Java","body":"<p>I am getting a MalformedURLException in logcat when I run my application. I am new to app development and used/modified code on the OAuth from GitHub. The Runnable is within a button press as well. Any ideas how to get this to function properly? Thanks!</p>\n<pre><code>                    try {\n                        response = service.execute(request);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    } catch (ExecutionException e) {\n                        throw new RuntimeException(e);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n</code></pre>\n<p>Rest of code</p>\n<pre><code>private final OAuth20Service service = new ServiceBuilder(clientId)\n            .apiSecret(clientSecret)\n            .defaultScope(&quot;sleep&quot;).responseType(&quot;code&quot;).callback(callbackURL).build(FitbitApi20.instance());\n</code></pre>\n<pre><code>execService.execute(new Runnable() {\n                @Override\n                public void run() {\n                    final OAuth2AccessToken oauth2AccessToken;\n\n                    byte[] data = new byte[0];\n                    try {\n                        data = code.getBytes(&quot;UTF-8&quot;);\n                    } catch (UnsupportedEncodingException e) {\n                        throw new RuntimeException(e);\n                    }\n                    String base64code = Base64.encodeToString(data, Base64.DEFAULT);\n\n\n                    try {\n                        oauth2AccessToken = service.getAccessToken(code);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    } catch (ExecutionException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                    final FitBitOAuth2AccessToken accessToken = (FitBitOAuth2AccessToken) oauth2AccessToken;\n\n                    final OAuthRequest request = new OAuthRequest(Verb.GET, code);\n                    request.addParameter(&quot;client_id&quot;, clientId);\n                    request.addParameter(&quot;client_secret&quot;, clientSecret);\n                    request.addParameter(&quot;redirect_uri&quot;, callbackURL);\n                    request.addParameter(&quot;scope&quot;, &quot;sleep&quot;);\n                    request.addParameter(&quot;request type&quot;, &quot;code&quot;);\n                    request.addParameter(&quot;Authorization&quot;, &quot;Basic&quot; + base64code);\n                    request.addHeader(&quot;x-li-format&quot;, &quot;json&quot;);\n\n                    service.signRequest(accessToken, request);\n\n                    final TextView fboutputTV = (TextView) findViewById(R.id.fbOutput);\n\n                    Response response;\n                    String concatRequest = &quot;&quot;;\n\n                    try {\n                        response = service.execute(request);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    } catch (ExecutionException e) {\n                        throw new RuntimeException(e);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                    try {\n                        concatRequest = (String) (response.getCode() + &quot; &quot; + response.getBody());\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n</code></pre>\n<p>I tried to find other resources on implementation but I am not seeing anything new enough to be helpful or it is not based in Android Studio.</p>\n"},{"tags":["java","spring-boot","caching"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1679667207,"post_id":75834523,"comment_id":133766996,"body_markdown":"You are using your own instance of `EventRepository`. Use the bean from the application context!","body":"You are using your own instance of <code>EventRepository</code>. Use the bean from the application context!"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1679667878,"post_id":75834523,"comment_id":133767211,"body_markdown":"@Seelenvirtuose thank you! Can you write it as answer. It worked. In `EventController` I have changed it to `public final EventRepository eventRepository;`. And also I have created a constructor `public EventController(final EventRepository eventRepository) {this.eventRepository = eventRepository;}`","body":"@Seelenvirtuose thank you! Can you write it as answer. It worked. In <code>EventController</code> I have changed it to <code>public final EventRepository eventRepository;</code>. And also I have created a constructor <code>public EventController(final EventRepository eventRepository) {this.eventRepository = eventRepository;}</code>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1679668165,"post_id":75834523,"comment_id":133767301,"body_markdown":"I am convinced that there are several questions (and answers) on SO dealing with exactly that topic. So might be better to mark this one as a duplicate instead of answering it.","body":"I am convinced that there are several questions (and answers) on SO dealing with exactly that topic. So might be better to mark this one as a duplicate instead of answering it."}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679665991,"creation_date":1679665991,"question_id":75834523,"body_markdown":"I have tried many variations without any luck. It looks like `Cacheable` does not cache anything. The GET request always lasts 5 seconds.\r\n\r\nThis is my `EventRepository`:\r\n\r\n    import org.springframework.cache.annotation.Cacheable;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class EventRepository implements Events {\r\n    \r\n        @Override\r\n        @Cacheable(&quot;events&quot;)\r\n        public String getEvent(Integer eventId) {\r\n            try {\r\n                Thread.sleep(5_000);\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            int someNumber = eventId * eventId + eventId;\r\n            return Integer.toString(someNumber);\r\n        }\r\n    }\r\n\r\n\r\nThis is my `Events`:\r\n\r\n    public interface Events {\r\n        String getEvent(Integer eventId);\r\n    }\r\n\r\n\r\n\r\n\r\nThis is my `TestTestApplication`:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cache.annotation.EnableCaching;\r\n    \r\n    @SpringBootApplication\r\n    @EnableCaching\r\n    public class TestTestApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TestTestApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nAnd this is my `EventController`:\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class EventController {\r\n        \r\n        public EventRepository eventRepository = new EventRepository();\r\n        \r\n        @GetMapping(value = &quot;events/{eventId}&quot;)\r\n        public String getEvent(@PathVariable Integer eventId) throws InterruptedException {\r\n            return this.eventRepository.getEvent(eventId);\r\n        }\r\n    }\r\n\r\n\r\nWhat I am missing?","title":"Cacheable does not cacahe anything when used with REST on Spring Boot","body":"<p>I have tried many variations without any luck. It looks like <code>Cacheable</code> does not cache anything. The GET request always lasts 5 seconds.</p>\n<p>This is my <code>EventRepository</code>:</p>\n<pre><code>import org.springframework.cache.annotation.Cacheable;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class EventRepository implements Events {\n\n    @Override\n    @Cacheable(&quot;events&quot;)\n    public String getEvent(Integer eventId) {\n        try {\n            Thread.sleep(5_000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        int someNumber = eventId * eventId + eventId;\n        return Integer.toString(someNumber);\n    }\n}\n</code></pre>\n<p>This is my <code>Events</code>:</p>\n<pre><code>public interface Events {\n    String getEvent(Integer eventId);\n}\n</code></pre>\n<p>This is my <code>TestTestApplication</code>:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cache.annotation.EnableCaching;\n\n@SpringBootApplication\n@EnableCaching\npublic class TestTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestTestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>And this is my <code>EventController</code>:</p>\n<pre><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class EventController {\n    \n    public EventRepository eventRepository = new EventRepository();\n    \n    @GetMapping(value = &quot;events/{eventId}&quot;)\n    public String getEvent(@PathVariable Integer eventId) throws InterruptedException {\n        return this.eventRepository.getEvent(eventId);\n    }\n}\n</code></pre>\n<p>What I am missing?</p>\n"},{"tags":["java","swing","jxmapviewer"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679663573,"post_id":75834044,"comment_id":133765963,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."}],"owner":{"account_id":2187123,"reputation":1,"user_id":21456052,"display_name":"karas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679665970,"creation_date":1679663217,"question_id":75834044,"body_markdown":"I would like to store map created in JXMapKit in BufferedImage, but without creating GUI.\r\n\r\nI tried following code, but, althought I get image with correct size, tiles are with clock symbol. That means that tiles form OSM server aren&#39;t ready. So I guess I should wait for them before I copy image to BufferedImage. However this approach hasn&#39;t succeeded. \r\n\r\n```\r\nJXMapKit jXMapKit = new org.jxmapviewer.JXMapKit();                    \r\nOSMTileFactoryInfo info = new OSMTileFactoryInfo();\r\nDefaultTileFactory tileFactory = new DefaultTileFactory(info);\r\njXMapKit.setTileFactory(tileFactory);        \r\ntileFactory.setThreadPoolSize(8);\r\n\r\njXMapKit.setSize(new Dimension(1024, 800));\r\njXMapKit.setZoom(7);\r\njXMapKit.setAddressLocation(newGeoPosition(cm.getCoordinateY(),cm.getCoordinateX()));                 \r\n                                        \r\nlayoutComponent(jXMapKit);\r\n                    \r\nint pt;\r\ndo {\r\n   pt = tileFactory.getPendingTiles();\r\n   System.out.println(pt);\r\n} while (pt&gt;0);\r\n                    \r\nBufferedImage bi = new BufferedImage(jXMapKit.getWidth(), jXMapKit.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n         \r\njXMapKit.paint(bi.getGraphics());\r\nFile outputfile = new File(&quot;c:/img.jpg&quot;);\r\ntry {\r\n   ImageIO.write(bi, &quot;jpg&quot;, outputfile);\r\n} catch (IOException ex) {\r\n   //\r\n}\r\n\r\n// from the example of user489041\r\n    public static void layoutComponent(Component c) {\r\n        synchronized (c.getTreeLock()) {\r\n            c.doLayout();\r\n            if (c instanceof Container)\r\n                for (Component child : ((Container) c).getComponents())\r\n                    layoutComponent(child);\r\n        }\r\n    }\r\n```","title":"Is it possible to store JXMapKit map (without GUI) in BufferedImage?","body":"<p>I would like to store map created in JXMapKit in BufferedImage, but without creating GUI.</p>\n<p>I tried following code, but, althought I get image with correct size, tiles are with clock symbol. That means that tiles form OSM server aren't ready. So I guess I should wait for them before I copy image to BufferedImage. However this approach hasn't succeeded.</p>\n<pre><code>JXMapKit jXMapKit = new org.jxmapviewer.JXMapKit();                    \nOSMTileFactoryInfo info = new OSMTileFactoryInfo();\nDefaultTileFactory tileFactory = new DefaultTileFactory(info);\njXMapKit.setTileFactory(tileFactory);        \ntileFactory.setThreadPoolSize(8);\n\njXMapKit.setSize(new Dimension(1024, 800));\njXMapKit.setZoom(7);\njXMapKit.setAddressLocation(newGeoPosition(cm.getCoordinateY(),cm.getCoordinateX()));                 \n                                        \nlayoutComponent(jXMapKit);\n                    \nint pt;\ndo {\n   pt = tileFactory.getPendingTiles();\n   System.out.println(pt);\n} while (pt&gt;0);\n                    \nBufferedImage bi = new BufferedImage(jXMapKit.getWidth(), jXMapKit.getHeight(), BufferedImage.TYPE_INT_RGB);\n         \njXMapKit.paint(bi.getGraphics());\nFile outputfile = new File(&quot;c:/img.jpg&quot;);\ntry {\n   ImageIO.write(bi, &quot;jpg&quot;, outputfile);\n} catch (IOException ex) {\n   //\n}\n\n// from the example of user489041\n    public static void layoutComponent(Component c) {\n        synchronized (c.getTreeLock()) {\n            c.doLayout();\n            if (c instanceof Container)\n                for (Component child : ((Container) c).getComponents())\n                    layoutComponent(child);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","sorting"],"owner":{"account_id":27490497,"reputation":93,"user_id":20975951,"display_name":"Jaiylon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679665907,"creation_date":1679665907,"question_id":75834506,"body_markdown":"I have a basic Spring Boot program to test Pageable filtering and sorting, a user can search for a specific entry using a keyword in this case, or click the table header to sort by specific column in descending/ascending order. However, I want also to add the option to sort the columns by clicking radio buttons. I&#39;m not sure how to implement it.\r\n\r\nThis is the thymeleaf template: \r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Employee Management System&lt;/title&gt;\r\n\r\n&lt;link rel=&quot;stylesheet&quot;\r\n\thref=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\r\n\tintegrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\r\n\tcrossorigin=&quot;anonymous&quot;&gt;\r\n\t&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js&quot; integrity=&quot;sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&quot;container my-2&quot;&gt;\r\n\t&lt;h1&gt;Employees List&lt;/h1&gt;\r\n\t\t&lt;form th:action=&quot;@{/}&quot;&gt;\r\n\t\t\tFilter: &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot; th:value=&quot;${keyword}&quot; required /&gt;\r\n\t\t\t&amp;nbsp;\r\n\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\r\n\t\t\t&amp;nbsp;\r\n\t\t\t&lt;input type=&quot;button&quot; value=&quot;Clear&quot; id=&quot;btnClear&quot; onclick=&quot;clearSearch()&quot; /&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;a th:href = &quot;@{/showNewEmployeeForm}&quot; class=&quot;btn btn-primary btn-sm mb-3&quot;&gt; Add Employee &lt;/a&gt;&lt;br&gt;\r\n\r\n\t\t&lt;table border=&quot;1&quot; class = &quot;table table-striped table-responsive-md&quot;&gt;\r\n\t\t\t&lt;thead&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=firstName&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\tEmployee First Name&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=lastName&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\t\tEmployee Last Name&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt;\r\n\t\t\t\t\t&lt;a th:href=&quot;@{&#39;/page/&#39; + ${currentPage} + &#39;?sortField=email&amp;sortDir=&#39; + ${reverseSortDir}}&quot;&gt;\r\n\t\t\t\t\t\t\tEmployee Email&lt;/a&gt;\r\n\t\t\t\t\t&lt;/th&gt;\r\n\t\t\t\t\t&lt;th&gt; Actions &lt;/th&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/thead&gt;\r\n\t\t\t&lt;tbody&gt;\r\n\t\t\t\t&lt;tr th:each=&quot;employee : ${listEmployees}&quot;&gt;\r\n\t\t\t\t\t&lt;td th:text=&quot;${employee.firstName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;td th:text=&quot;${employee.lastName}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;td th:text=&quot;${employee.email}&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t\t&lt;td&gt; &lt;a th:href=&quot;@{/showFormForUpdate/{id}(id=${employee.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\r\n\t\t\t\t\t    &lt;a th:href=&quot;@{/deleteEmployee/{id}(id=${employee.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\r\n\t\t\t\t\t&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/tbody&gt;\r\n\t\t&lt;/table&gt;\r\n\r\n\t\t&lt;div th:if = &quot;${totalPages &gt; 1}&quot;&gt;\r\n\t\t\t&lt;div class = &quot;row col-sm-10&quot;&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-2&quot;&gt;\r\n\t\t\t\t\tTotal Rows: [[${totalItems}]]\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-1&quot;&gt;\r\n\t\t\t\t\t&lt;span th:each=&quot;i: ${#numbers.sequence(1, totalPages)}&quot; style=&quot;display: flex;&quot;&gt;\r\n\t\t\t\t\t\t&lt;a th:if=&quot;${currentPage != i}&quot; th:href=&quot;@{&#39;/page/&#39; + ${i}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;[[${i}]]&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;span th:unless=&quot;${currentPage != i}&quot;&gt;[[${i}]]&lt;/span&gt;  &amp;nbsp; &amp;nbsp;\r\n\t\t\t\t\t&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class = &quot;col-sm-1&quot;&gt;\r\n\t\t\t\t\t&lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{&#39;/page/&#39; + ${currentPage + 1}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;Next&lt;/a&gt;\r\n\t\t\t\t\t&lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Next&lt;/span&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\r\n\t\t\t\t &lt;div class=&quot;col-sm-1&quot;&gt;\r\n    \t\t\t\t&lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{&#39;/page/&#39; + ${totalPages}+ &#39;?sortField=&#39; + ${sortField} + &#39;&amp;sortDir=&#39; + ${sortDir}}&quot;&gt;Last&lt;/a&gt;\r\n\t\t\t\t\t&lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Last&lt;/span&gt;\r\n   \t\t\t\t &lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/div&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\tfunction clearSearch() {\r\n\t\twindow.location = &quot;[[@{/}]]&quot;;\r\n\t}\r\n&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nThe following is a method called findPaginated() which accepts four parameters: pageNo, pageSize, sortField, and sortDirection.\r\n\r\nThe method returns a Page of Employee objects.\r\n\r\nThe method first creates a Sort object based on the sortField and sortDirection parameters. If the sortDirection is &quot;asc&quot;, the Sort object will be sorted in ascending order, otherwise, it will be sorted in descending order.\r\n\r\nNext, the method creates a Pageable object based on the pageNo, pageSize, and sort parameters using the static factory method PageRequest.of().\r\n\r\nFinally, the method uses the employeeRepository object to call the findAll() method with the pageable parameter and returns the result.\r\n```\r\npublic Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\r\n\t\tSort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n\t\t\tSort.by(sortField).descending();\r\n\t\t\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n\t\treturn this.employeeRepository.findAll(pageable);\r\n\t}\r\n```\r\nThis is a method called searchEmployees() that accepts five parameters: pageNo, pageSize, sortField, sortDir, and keyword.\r\n\r\nThe method returns a Page of Employee objects.\r\n\r\nThe method first creates a Sort object based on the sortField parameter, and then sorts it in ascending or descending order based on the sortDir parameter.\r\n\r\nNext, the method creates a Pageable object based on the pageNo, pageSize, and sort parameters using the static factory method PageRequest.of().\r\n\r\nThen, the method checks if the keyword parameter is not null and not empty. If it is not null and not empty, the method calls the findByFirstNameContainingOrLastNameContaining() method on the employeeRepository object with the keyword parameter and the pageable parameter. This method will return a Page of Employee objects whose first name or last name contains the keyword.\r\n\r\n```\r\npublic Page&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword) {\r\n\t\tSort sort = Sort.by(sortField);\r\n\t\tsort = sortDir.equals(&quot;asc&quot;) ? sort.ascending() : sort.descending();\r\n\r\n\t\tPageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\r\n\r\n\t\tPage&lt;Employee&gt; page;\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tpage = employeeRepository.findByFirstNameContainingOrLastNameContaining(keyword, keyword, pageable);\r\n\t\t} else {\r\n\t\t\tpage = employeeRepository.findAll(pageable);\r\n\t\t}\r\n\r\n\t\treturn page;\r\n\t}\r\n```\r\nThe two previous methods are implemented from the Service class:\r\n```\r\nPage&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\r\n\r\nPage&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword);\r\n```\r\n\r\nThis is a controller method that handles GET requests to the &quot;/page/{pageNo}&quot; endpoint, where &quot;{pageNo}&quot; is a path variable that represents the page number to be displayed. It accepts the path variable &quot;pageNo&quot;, query parameters &quot;sortField&quot;, &quot;sortDir&quot;, and &quot;keyword&quot;, and a Model object.\r\n\r\nThe method first sets the pageSize to 10, which is the number of items to be displayed on each page. Then, depending on whether keyword is null or empty, it calls the appropriate method from the employeeService to retrieve a Page of Employee objects that match the specified criteria.\r\n\r\nThe Model is then updated with various attributes that are used in the view. These attributes include the current page number, the total number of pages, the total number of items, the sort field and direction, the search keyword, the reverse sort direction, and the list of Employee objects to be displayed on the current page.\r\n```\r\n@GetMapping(&quot;/page/{pageNo}&quot;)\r\n\tpublic String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\r\n\t\t\t\t\t\t\t\t@RequestParam(&quot;sortField&quot;) String sortField,\r\n\t\t\t\t\t\t\t\t@RequestParam(&quot;sortDir&quot;) String sortDir,\r\n\t\t\t\t\t\t\t\t@RequestParam(value = &quot;keyword&quot;, required = false) String keyword,\r\n\t\t\t\t\t\t\t\tboolean sort, Model model) {\r\n\t\tint pageSize = 10;\r\n\r\n\t\tPage&lt;Employee&gt; page;\r\n\t\tif (keyword != null &amp;&amp; !keyword.isEmpty()) {\r\n\t\t\tpage = employeeService.searchEmployees(pageNo, pageSize, sortField, sortDir, keyword);\r\n\t\t} else {\r\n\t\t\tpage = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\r\n\t\t}\r\n\t\tList&lt;Employee&gt; listEmployees = page.getContent();\r\n\r\n\t\tmodel.addAttribute(&quot;currentPage&quot;, pageNo);\r\n\t\tmodel.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\r\n\t\tmodel.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\r\n\r\n\t\tmodel.addAttribute(&quot;sortField&quot;, sortField);\r\n\t\tmodel.addAttribute(&quot;sortDir&quot;, sortDir);\r\n\t\tmodel.addAttribute(&quot;keyword&quot;, keyword);\r\n\t\tmodel.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n\r\n\t\tmodel.addAttribute(&quot;listEmployees&quot;, listEmployees);\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n```\r\nThis is a controller method that handles GET requests to the &quot;/&quot; (root) endpoint. It accepts a Model object and a query parameter keyword with an optional value.\r\n\r\nThe method then calls the findPaginated() method with the arguments 1 for the page number, &quot;firstName&quot; for the sort field, &quot;asc&quot; for the sort direction, keyword for the search keyword (if it&#39;s not null or empty), and model to add attributes to the model object.\r\n\r\nFinally, the method returns the name of the view that should be used to display the results, which is &quot;index&quot; in this case.\r\n```\r\n@GetMapping(&quot;/&quot;)\r\n\tpublic String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\r\n\t\treturn findPaginated(1, &quot;firstName&quot;, &quot;asc&quot;, keyword, model);\r\n\t}\r\n```\r\n\r\nIf any additional code or context is need please let me know, however a lot of this project was pulled from: https://github.com/RameshMF/springboot-thymeleaf-crud-pagination-sorting-webapp","title":"Using Spring Pageable, how to sort column order by using a checkbox?","body":"<p>I have a basic Spring Boot program to test Pageable filtering and sorting, a user can search for a specific entry using a keyword in this case, or click the table header to sort by specific column in descending/ascending order. However, I want also to add the option to sort the columns by clicking radio buttons. I'm not sure how to implement it.</p>\n<p>This is the thymeleaf template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Employee Management System&lt;/title&gt;\n\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&quot;\n    crossorigin=&quot;anonymous&quot;&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js&quot; integrity=&quot;sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==&quot; crossorigin=&quot;anonymous&quot; referrerpolicy=&quot;no-referrer&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=&quot;container my-2&quot;&gt;\n    &lt;h1&gt;Employees List&lt;/h1&gt;\n        &lt;form th:action=&quot;@{/}&quot;&gt;\n            Filter: &lt;input type=&quot;text&quot; name=&quot;keyword&quot; id=&quot;keyword&quot; size=&quot;50&quot; th:value=&quot;${keyword}&quot; required /&gt;\n            &amp;nbsp;\n            &lt;input type=&quot;submit&quot; value=&quot;Search&quot; /&gt;\n            &amp;nbsp;\n            &lt;input type=&quot;button&quot; value=&quot;Clear&quot; id=&quot;btnClear&quot; onclick=&quot;clearSearch()&quot; /&gt;\n        &lt;/form&gt;\n    &lt;a th:href = &quot;@{/showNewEmployeeForm}&quot; class=&quot;btn btn-primary btn-sm mb-3&quot;&gt; Add Employee &lt;/a&gt;&lt;br&gt;\n\n        &lt;table border=&quot;1&quot; class = &quot;table table-striped table-responsive-md&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;\n                        &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=firstName&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                        Employee First Name&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                    &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=lastName&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                            Employee Last Name&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt;\n                    &lt;a th:href=&quot;@{'/page/' + ${currentPage} + '?sortField=email&amp;sortDir=' + ${reverseSortDir}}&quot;&gt;\n                            Employee Email&lt;/a&gt;\n                    &lt;/th&gt;\n                    &lt;th&gt; Actions &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;employee : ${listEmployees}&quot;&gt;\n                    &lt;td th:text=&quot;${employee.firstName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${employee.lastName}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${employee.email}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt; &lt;a th:href=&quot;@{/showFormForUpdate/{id}(id=${employee.id})}&quot; class=&quot;btn btn-primary&quot;&gt;Update&lt;/a&gt;\n                        &lt;a th:href=&quot;@{/deleteEmployee/{id}(id=${employee.id})}&quot; class=&quot;btn btn-danger&quot;&gt;Delete&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;div th:if = &quot;${totalPages &gt; 1}&quot;&gt;\n            &lt;div class = &quot;row col-sm-10&quot;&gt;\n                &lt;div class = &quot;col-sm-2&quot;&gt;\n                    Total Rows: [[${totalItems}]]\n                &lt;/div&gt;\n                &lt;div class = &quot;col-sm-1&quot;&gt;\n                    &lt;span th:each=&quot;i: ${#numbers.sequence(1, totalPages)}&quot; style=&quot;display: flex;&quot;&gt;\n                        &lt;a th:if=&quot;${currentPage != i}&quot; th:href=&quot;@{'/page/' + ${i}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;[[${i}]]&lt;/a&gt;\n                        &lt;span th:unless=&quot;${currentPage != i}&quot;&gt;[[${i}]]&lt;/span&gt;  &amp;nbsp; &amp;nbsp;\n                    &lt;/span&gt;\n                &lt;/div&gt;\n                &lt;div class = &quot;col-sm-1&quot;&gt;\n                    &lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{'/page/' + ${currentPage + 1}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;Next&lt;/a&gt;\n                    &lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Next&lt;/span&gt;\n                &lt;/div&gt;\n\n                 &lt;div class=&quot;col-sm-1&quot;&gt;\n                    &lt;a th:if=&quot;${currentPage &lt; totalPages}&quot; th:href=&quot;@{'/page/' + ${totalPages}+ '?sortField=' + ${sortField} + '&amp;sortDir=' + ${sortDir}}&quot;&gt;Last&lt;/a&gt;\n                    &lt;span th:unless=&quot;${currentPage &lt; totalPages}&quot;&gt;Last&lt;/span&gt;\n                 &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    function clearSearch() {\n        window.location = &quot;[[@{/}]]&quot;;\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The following is a method called findPaginated() which accepts four parameters: pageNo, pageSize, sortField, and sortDirection.</p>\n<p>The method returns a Page of Employee objects.</p>\n<p>The method first creates a Sort object based on the sortField and sortDirection parameters. If the sortDirection is &quot;asc&quot;, the Sort object will be sorted in ascending order, otherwise, it will be sorted in descending order.</p>\n<p>Next, the method creates a Pageable object based on the pageNo, pageSize, and sort parameters using the static factory method PageRequest.of().</p>\n<p>Finally, the method uses the employeeRepository object to call the findAll() method with the pageable parameter and returns the result.</p>\n<pre><code>public Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection) {\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n            Sort.by(sortField).descending();\n        \n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n        return this.employeeRepository.findAll(pageable);\n    }\n</code></pre>\n<p>This is a method called searchEmployees() that accepts five parameters: pageNo, pageSize, sortField, sortDir, and keyword.</p>\n<p>The method returns a Page of Employee objects.</p>\n<p>The method first creates a Sort object based on the sortField parameter, and then sorts it in ascending or descending order based on the sortDir parameter.</p>\n<p>Next, the method creates a Pageable object based on the pageNo, pageSize, and sort parameters using the static factory method PageRequest.of().</p>\n<p>Then, the method checks if the keyword parameter is not null and not empty. If it is not null and not empty, the method calls the findByFirstNameContainingOrLastNameContaining() method on the employeeRepository object with the keyword parameter and the pageable parameter. This method will return a Page of Employee objects whose first name or last name contains the keyword.</p>\n<pre><code>public Page&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword) {\n        Sort sort = Sort.by(sortField);\n        sort = sortDir.equals(&quot;asc&quot;) ? sort.ascending() : sort.descending();\n\n        Pageable pageable = PageRequest.of(pageNo - 1, pageSize, sort);\n\n        Page&lt;Employee&gt; page;\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            page = employeeRepository.findByFirstNameContainingOrLastNameContaining(keyword, keyword, pageable);\n        } else {\n            page = employeeRepository.findAll(pageable);\n        }\n\n        return page;\n    }\n</code></pre>\n<p>The two previous methods are implemented from the Service class:</p>\n<pre><code>Page&lt;Employee&gt; findPaginated(int pageNo, int pageSize, String sortField, String sortDirection);\n\nPage&lt;Employee&gt; searchEmployees(int pageNo, int pageSize, String sortField, String sortDir, String keyword);\n</code></pre>\n<p>This is a controller method that handles GET requests to the &quot;/page/{pageNo}&quot; endpoint, where &quot;{pageNo}&quot; is a path variable that represents the page number to be displayed. It accepts the path variable &quot;pageNo&quot;, query parameters &quot;sortField&quot;, &quot;sortDir&quot;, and &quot;keyword&quot;, and a Model object.</p>\n<p>The method first sets the pageSize to 10, which is the number of items to be displayed on each page. Then, depending on whether keyword is null or empty, it calls the appropriate method from the employeeService to retrieve a Page of Employee objects that match the specified criteria.</p>\n<p>The Model is then updated with various attributes that are used in the view. These attributes include the current page number, the total number of pages, the total number of items, the sort field and direction, the search keyword, the reverse sort direction, and the list of Employee objects to be displayed on the current page.</p>\n<pre><code>@GetMapping(&quot;/page/{pageNo}&quot;)\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\n                                @RequestParam(&quot;sortField&quot;) String sortField,\n                                @RequestParam(&quot;sortDir&quot;) String sortDir,\n                                @RequestParam(value = &quot;keyword&quot;, required = false) String keyword,\n                                boolean sort, Model model) {\n        int pageSize = 10;\n\n        Page&lt;Employee&gt; page;\n        if (keyword != null &amp;&amp; !keyword.isEmpty()) {\n            page = employeeService.searchEmployees(pageNo, pageSize, sortField, sortDir, keyword);\n        } else {\n            page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\n        }\n        List&lt;Employee&gt; listEmployees = page.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\n\n        model.addAttribute(&quot;sortField&quot;, sortField);\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\n        model.addAttribute(&quot;keyword&quot;, keyword);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>This is a controller method that handles GET requests to the &quot;/&quot; (root) endpoint. It accepts a Model object and a query parameter keyword with an optional value.</p>\n<p>The method then calls the findPaginated() method with the arguments 1 for the page number, &quot;firstName&quot; for the sort field, &quot;asc&quot; for the sort direction, keyword for the search keyword (if it's not null or empty), and model to add attributes to the model object.</p>\n<p>Finally, the method returns the name of the view that should be used to display the results, which is &quot;index&quot; in this case.</p>\n<pre><code>@GetMapping(&quot;/&quot;)\n    public String viewHomePage(Model model, @Param(&quot;keyword&quot;) String keyword) {\n        return findPaginated(1, &quot;firstName&quot;, &quot;asc&quot;, keyword, model);\n    }\n</code></pre>\n<p>If any additional code or context is need please let me know, however a lot of this project was pulled from: <a href=\"https://github.com/RameshMF/springboot-thymeleaf-crud-pagination-sorting-webapp\" rel=\"nofollow noreferrer\">https://github.com/RameshMF/springboot-thymeleaf-crud-pagination-sorting-webapp</a></p>\n"},{"tags":["java","database","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679665765,"creation_date":1679665765,"answer_id":75834483,"question_id":75834040,"body_markdown":"Just call [`Fields::fields`][1] on that `valuesRow()`:\r\n\r\n```java\r\nselect(newRecord.valuesRow().fields())\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#fields()","title":"Insert a record with where clause using jooq","body":"<p>Just call <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Fields.html#fields()\" rel=\"nofollow noreferrer\"><code>Fields::fields</code></a> on that <code>valuesRow()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>select(newRecord.valuesRow().fields())\n</code></pre>\n"}],"owner":{"account_id":1313251,"reputation":609,"user_id":1260778,"accept_rate":48,"display_name":"boskop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834483,"answer_count":1,"score":0,"last_activity_date":1679665765,"creation_date":1679663188,"question_id":75834040,"body_markdown":"I&#39;m streaming master data and want to be able to process only data that are intended to.\r\nTherefore I&#39;m fetching data from another table while inserting the data.\r\nUsing Jooq it currently looks like: \r\n\r\n    public boolean writeRecord(TypeA typeA) {\r\n        Result&lt;Record&gt; result = context\r\n          .insertInto(MASTERDATA_TYPE_A)\r\n          .columns(MASTERDATA_TYPE_A.VERSION,\r\n              MASTERDATA_TYPE_A.VERSION,\r\n              MASTERDATA_TYPE_A.CODE, \r\n              // much more here\r\n          )\r\n          .select(DSL.select(\r\n                      val(typeA.getVersion()),\r\n                      val(typeA.getCode()),\r\n                      // much more here\r\n                  )\r\n                  .whereExists(\r\n                      context.select()\r\n                          .from(MASTERDATA_VERSION)\r\n                          .where(MASTERDATA_VERSION.VERSION.eq(typeA.getVersion()).and(MASTERDATA_VERSION.STATE.eq(MASTER_DATA_STATE_PROCESSING)))\r\n                  )\r\n          )\r\n          .returningResult()\r\n          .fetch()\r\n          .size() &gt; 0;\r\n    }\r\n\r\nIt works fine and only insert data of version that are currently supposed to be inserted and skips older data if I reprocess all the data. However, I would like to write it in a more general way using a ```Record```, because there are lots of other master data types. Something like: \r\n\r\n    public boolean writeRecord(TypeA typeA) {\r\n      var newRecord = context.newRecord(MASTERDATA_TYPE_A, typeA);\r\n      return context\r\n          .insertInto(MASTERDATA_TYPE_A)\r\n          .columns(newRecord.fields())\r\n          .select(DSL.select(\r\n                    newRecord.valuesRow()\r\n                  )\r\n                  .whereExists(\r\n                      context.select()\r\n                          .from(MASTERDATA_VERSION)\r\n                          .where(MASTERDATA_VERSION.VERSION.eq(typeA.getVersion()).and(MASTERDATA_VERSION.STATE.eq(MASTER_DATA_STATE_PROCESSING)))\r\n                  )\r\n          )\r\n          .returningResult()\r\n          .fetch()\r\n          .size() &gt; 0;\r\n    }\r\n\r\nHere ```valuesRow()``` returns just one Value and it does not match with the column list. Using the ```Record``` directly doesn&#39;t give any possibility to add a where clause.","title":"Insert a record with where clause using jooq","body":"<p>I'm streaming master data and want to be able to process only data that are intended to.\nTherefore I'm fetching data from another table while inserting the data.\nUsing Jooq it currently looks like:</p>\n<pre><code>public boolean writeRecord(TypeA typeA) {\n    Result&lt;Record&gt; result = context\n      .insertInto(MASTERDATA_TYPE_A)\n      .columns(MASTERDATA_TYPE_A.VERSION,\n          MASTERDATA_TYPE_A.VERSION,\n          MASTERDATA_TYPE_A.CODE, \n          // much more here\n      )\n      .select(DSL.select(\n                  val(typeA.getVersion()),\n                  val(typeA.getCode()),\n                  // much more here\n              )\n              .whereExists(\n                  context.select()\n                      .from(MASTERDATA_VERSION)\n                      .where(MASTERDATA_VERSION.VERSION.eq(typeA.getVersion()).and(MASTERDATA_VERSION.STATE.eq(MASTER_DATA_STATE_PROCESSING)))\n              )\n      )\n      .returningResult()\n      .fetch()\n      .size() &gt; 0;\n}\n</code></pre>\n<p>It works fine and only insert data of version that are currently supposed to be inserted and skips older data if I reprocess all the data. However, I would like to write it in a more general way using a <code>Record</code>, because there are lots of other master data types. Something like:</p>\n<pre><code>public boolean writeRecord(TypeA typeA) {\n  var newRecord = context.newRecord(MASTERDATA_TYPE_A, typeA);\n  return context\n      .insertInto(MASTERDATA_TYPE_A)\n      .columns(newRecord.fields())\n      .select(DSL.select(\n                newRecord.valuesRow()\n              )\n              .whereExists(\n                  context.select()\n                      .from(MASTERDATA_VERSION)\n                      .where(MASTERDATA_VERSION.VERSION.eq(typeA.getVersion()).and(MASTERDATA_VERSION.STATE.eq(MASTER_DATA_STATE_PROCESSING)))\n              )\n      )\n      .returningResult()\n      .fetch()\n      .size() &gt; 0;\n}\n</code></pre>\n<p>Here <code>valuesRow()</code> returns just one Value and it does not match with the column list. Using the <code>Record</code> directly doesn't give any possibility to add a where clause.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","java-8"],"comments":[{"owner":{"account_id":1269092,"reputation":2862,"user_id":1225786,"accept_rate":86,"display_name":"Christophe De Troyer"},"score":4,"creation_date":1627036604,"post_id":68497833,"comment_id":121056020,"body_markdown":"You are describing a thread pool. It&#39;s a set of threads that are shared. https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html More specifically, you want a fixed threadpool with 3 threads.","body":"You are describing a thread pool. It&#39;s a set of threads that are shared. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/pools.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a> More specifically, you want a fixed threadpool with 3 threads."}],"answers":[{"tags":[],"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627037989,"creation_date":1627037989,"answer_id":68498120,"question_id":68497833,"body_markdown":"Try using semaphore;\r\n```\r\npublic class Main {\r\n\r\n    private static final Semaphore SEMAPHORE = new Semaphore(2);\r\n\r\n    public static void main(String[] args) {\r\n        runThread(new Thread(() -&gt; runInThread(1)));\r\n        runThread(new Thread(() -&gt; runInThread(2)));\r\n        runThread(new Thread(() -&gt; runInThread(3)));\r\n\r\n    }\r\n\r\n    public static void runThread(Thread thread) {\r\n        try {\r\n            SEMAPHORE.acquire();\r\n            thread.start();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void runInThread(int i) {\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is running&quot;);\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is waiting&quot;);\r\n        try {\r\n            Thread.sleep(i * 2000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;Thread &quot; + i + &quot; is finish&quot;);\r\n        SEMAPHORE.release();\r\n    }\r\n}\r\n\r\n```","title":"Running fixed number of thread in parallel in java","body":"<p>Try using semaphore;</p>\n<pre><code>public class Main {\n\n    private static final Semaphore SEMAPHORE = new Semaphore(2);\n\n    public static void main(String[] args) {\n        runThread(new Thread(() -&gt; runInThread(1)));\n        runThread(new Thread(() -&gt; runInThread(2)));\n        runThread(new Thread(() -&gt; runInThread(3)));\n\n    }\n\n    public static void runThread(Thread thread) {\n        try {\n            SEMAPHORE.acquire();\n            thread.start();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void runInThread(int i) {\n        System.out.println(&quot;Thread &quot; + i + &quot; is running&quot;);\n        System.out.println(&quot;Thread &quot; + i + &quot; is waiting&quot;);\n        try {\n            Thread.sleep(i * 2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Thread &quot; + i + &quot; is finish&quot;);\n        SEMAPHORE.release();\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20520987,"reputation":11,"user_id":15060579,"display_name":"lonewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665452,"creation_date":1679295331,"answer_id":75787321,"question_id":68497833,"body_markdown":"Use `org.apache.tomcat.util.threads.ThreadPoolExecutor` (provided by default in spring)\r\n\r\nYou can do something like this\r\n\r\n```java\r\nList&lt;Task&gt; tasks = // create instances of classes which implement java.concurrent.Callable interface, in the call() method, add the business logic\r\nThreadPoolExecutor executor = new ThreadPoolExecutor(....)  // in the constructor add the parameters as per your requirement\r\nexecutor.invokeAll(tasks);\r\n```\r\n\r\nThis should execute your tasks with the maximum thread pool count as per your requirement.\r\n\r\nIf you&#39;re using spring consider defining a Configuration file that does the bean initialization for you, then Autowire the class where needed.\r\n\r\nFor more information on ThreadPools checkout this: https://www.baeldung.com/thread-pool-java-and-guava\r\n \r\n\r\n","title":"Running fixed number of thread in parallel in java","body":"<p>Use <code>org.apache.tomcat.util.threads.ThreadPoolExecutor</code> (provided by default in spring)</p>\n<p>You can do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Task&gt; tasks = // create instances of classes which implement java.concurrent.Callable interface, in the call() method, add the business logic\nThreadPoolExecutor executor = new ThreadPoolExecutor(....)  // in the constructor add the parameters as per your requirement\nexecutor.invokeAll(tasks);\n</code></pre>\n<p>This should execute your tasks with the maximum thread pool count as per your requirement.</p>\n<p>If you're using spring consider defining a Configuration file that does the bean initialization for you, then Autowire the class where needed.</p>\n<p>For more information on ThreadPools checkout this: <a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thread-pool-java-and-guava</a></p>\n"}],"owner":{"account_id":13711427,"reputation":41,"user_id":9893677,"display_name":"Shruti sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679665452,"creation_date":1627036464,"question_id":68497833,"body_markdown":"I have `3 threads` in my application, but I am allowed to run only 2 threads in parallel.\r\nonce 1 either of the tread will stop, 3rd thread will start.\r\n\r\nI know `Thread`, `runnable` `start()`, `run()` etc in `Java`, But I dont know how to implement above situation. your little guidance will be very helpful","title":"Running fixed number of thread in parallel in java","body":"<p>I have <code>3 threads</code> in my application, but I am allowed to run only 2 threads in parallel.\nonce 1 either of the tread will stop, 3rd thread will start.</p>\n<p>I know <code>Thread</code>, <code>runnable</code> <code>start()</code>, <code>run()</code> etc in <code>Java</code>, But I dont know how to implement above situation. your little guidance will be very helpful</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679663329,"post_id":75834030,"comment_id":133765905,"body_markdown":"While you&#39;re reading input, you&#39;ll want to track two things: the name of the longest-named city, and the total number of cities. If you read a new city in, you don&#39;t have to keep track of it forever, but instead just compare it to your current results. A `for` loop isn&#39;t needed, but note that a `for` and a `while` loop are semantically the same thing, just written slightly different (`for` has 3 expressions).","body":"While you&#39;re reading input, you&#39;ll want to track two things: the name of the longest-named city, and the total number of cities. If you read a new city in, you don&#39;t have to keep track of it forever, but instead just compare it to your current results. A <code>for</code> loop isn&#39;t needed, but note that a <code>for</code> and a <code>while</code> loop are semantically the same thing, just written slightly different (<code>for</code> has 3 expressions)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1679663343,"post_id":75834030,"comment_id":133765909,"body_markdown":"You are not storing the input in a `List&lt;String&gt;`, you just overwrite the input in each loop because you are using a single variable.","body":"You are not storing the input in a <code>List&lt;String&gt;</code>, you just overwrite the input in each loop because you are using a single variable."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1679663344,"post_id":75834030,"comment_id":133765911,"body_markdown":"`String citylist;` is a single `String`. Why did you call it a list?","body":"<code>String citylist;</code> is a single <code>String</code>. Why did you call it a list?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679663401,"post_id":75834030,"comment_id":133765928,"body_markdown":"@f1sh while the variable name is admittedly misleading, the problem&#39;s requirements don&#39;t necessitate a `List`. (Edit: Was a little overzealous on the tag there @Elliott)","body":"@f1sh while the variable name is admittedly misleading, the problem&#39;s requirements don&#39;t necessitate a <code>List</code>. (Edit: Was a little overzealous on the tag there @Elliott)"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679663620,"post_id":75834030,"comment_id":133765968,"body_markdown":"@Rogue I&#39;m aware of that. Still would not call the longest city name a citylist.","body":"@Rogue I&#39;m aware of that. Still would not call the longest city name a citylist."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665178,"creation_date":1679665178,"answer_id":75834374,"question_id":75834030,"body_markdown":"You need to keep a `count` that you increase monotonically everytime the user enters a valid city (one that isn&#39;t the word *stop*). You also need to keep track of the longest city name. I would use an infinite loop. Read a city name, check if it is *stop* (if so, end the loop) otherwise check if the new city name is longer than the longest city name if so it is the new longest city name. Increment the counter and repeat. Like,\r\n\r\n\tint count = 0;\r\n\tString longestCityName = &quot;&quot;;\r\n\tScanner input = new Scanner(System.in);\r\n\r\n\twhile (true) {\r\n\t\tSystem.out.print(&quot;Name of city: &quot;);\r\n\t\tString cityName = input.nextLine().trim();\r\n\t\tif (cityName.equalsIgnoreCase(&quot;stop&quot;)) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif (cityName.length() &gt; longestCityName.length()) {\r\n\t\t\tlongestCityName = cityName;\r\n\t\t}\r\n\t\tcount++;\r\n\t}\r\n\tif (count &gt; 0) {\r\n\t\tSystem.out.printf(&quot;%d cities were entered and the name of the city &quot; \r\n\t\t\t\t+ &quot;with the most letters is: %s&quot;, count,\r\n\t\t\t\tlongestCityName);\r\n\t} else {\r\n\t\tSystem.out.println(&quot;You didn&#39;t enter any cities&quot;);\r\n\t}\r\n\r\nWhich I tested with your sample input (and *stop*) like\r\n\r\n    Name of city: Halifax\r\n    Name of city: Moncton\r\n    Name of city: Charlottetown\r\n    Name of city: stop\r\n    3 cities were entered and the name of the city with the most letters is: Charlottetown","title":"need help in simple java project","body":"<p>You need to keep a <code>count</code> that you increase monotonically everytime the user enters a valid city (one that isn't the word <em>stop</em>). You also need to keep track of the longest city name. I would use an infinite loop. Read a city name, check if it is <em>stop</em> (if so, end the loop) otherwise check if the new city name is longer than the longest city name if so it is the new longest city name. Increment the counter and repeat. Like,</p>\n<pre><code>int count = 0;\nString longestCityName = &quot;&quot;;\nScanner input = new Scanner(System.in);\n\nwhile (true) {\n    System.out.print(&quot;Name of city: &quot;);\n    String cityName = input.nextLine().trim();\n    if (cityName.equalsIgnoreCase(&quot;stop&quot;)) {\n        break;\n    }\n    if (cityName.length() &gt; longestCityName.length()) {\n        longestCityName = cityName;\n    }\n    count++;\n}\nif (count &gt; 0) {\n    System.out.printf(&quot;%d cities were entered and the name of the city &quot; \n            + &quot;with the most letters is: %s&quot;, count,\n            longestCityName);\n} else {\n    System.out.println(&quot;You didn't enter any cities&quot;);\n}\n</code></pre>\n<p>Which I tested with your sample input (and <em>stop</em>) like</p>\n<pre><code>Name of city: Halifax\nName of city: Moncton\nName of city: Charlottetown\nName of city: stop\n3 cities were entered and the name of the city with the most letters is: Charlottetown\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679665190,"creation_date":1679665190,"answer_id":75834376,"question_id":75834030,"body_markdown":"You only have to add some variables and compare the Input.\r\n\r\nIf you dont need all Citys in the end you can leave the variable Citylist but it would be better by naming it like currentCity etc.\r\n\r\nAfter reading the new city you should compare the String like\r\n\r\n```\r\n\r\nprivate int longestNumber;\r\nprivate String longestWord;\r\n\r\n//inside do-while loop\r\nif(cityList.length &gt; longestNumber) longestWord = cityList;\r\n\r\n```\r\n\r\nAlso take a second int variable for counting city`s, than you can do variable++ everytime a city is added inside the loop :D","title":"need help in simple java project","body":"<p>You only have to add some variables and compare the Input.</p>\n<p>If you dont need all Citys in the end you can leave the variable Citylist but it would be better by naming it like currentCity etc.</p>\n<p>After reading the new city you should compare the String like</p>\n<pre><code>\nprivate int longestNumber;\nprivate String longestWord;\n\n//inside do-while loop\nif(cityList.length &gt; longestNumber) longestWord = cityList;\n\n</code></pre>\n<p>Also take a second int variable for counting city`s, than you can do variable++ everytime a city is added inside the loop :D</p>\n"}],"owner":{"account_id":28114441,"reputation":19,"user_id":21481750,"display_name":"Tristan Day"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1679665190,"creation_date":1679663107,"question_id":75834030,"body_markdown":"I am just beginning java and am having difficulites solving this, it is from my textbook, I would prefer if someone was able to solve it with just strings,loops, and if statments if possible. I am not familiar with &quot;for&quot; statments yet. I have tried it but am just puzzled on where to go after my code.\r\n\r\nhere is the question:\r\n\r\nCreate a Cities app that will allow you to enter the name of cities until you enter ‘stop’. Once ‘stop’ is entered, the app will display the number of cities entered and will display the name of the city with the most characters. \r\n\r\nFor example, if you enter Halifax, Moncton, and Charlottetown, it should tell the user that 3 cities were entered and the name of the city with the most letters is: Charlottetown\r\n\r\n\r\nI tried a loop, but am just puzzled. \r\n\r\nhere is my code:\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage cities;\r\n\r\nimport java.util.Scanner;\r\n\r\n/**\r\n *\r\n * @author dtm600744\r\n */\r\npublic class Cities {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n\r\n        String citylist;\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        do {\r\n            System.out.print(&quot;Name of city: &quot;);\r\n            citylist = input.next();\r\n\r\n        } while (!citylist.equals(&quot;stop&quot;));\r\n\r\n        System.out.print(citylist);\r\n    }\r\n}\r\n```","title":"need help in simple java project","body":"<p>I am just beginning java and am having difficulites solving this, it is from my textbook, I would prefer if someone was able to solve it with just strings,loops, and if statments if possible. I am not familiar with &quot;for&quot; statments yet. I have tried it but am just puzzled on where to go after my code.</p>\n<p>here is the question:</p>\n<p>Create a Cities app that will allow you to enter the name of cities until you enter ‘stop’. Once ‘stop’ is entered, the app will display the number of cities entered and will display the name of the city with the most characters.</p>\n<p>For example, if you enter Halifax, Moncton, and Charlottetown, it should tell the user that 3 cities were entered and the name of the city with the most letters is: Charlottetown</p>\n<p>I tried a loop, but am just puzzled.</p>\n<p>here is my code:</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage cities;\n\nimport java.util.Scanner;\n\n/**\n *\n * @author dtm600744\n */\npublic class Cities {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n        String citylist;\n        Scanner input = new Scanner(System.in);\n\n        do {\n            System.out.print(&quot;Name of city: &quot;);\n            citylist = input.next();\n\n        } while (!citylist.equals(&quot;stop&quot;));\n\n        System.out.print(citylist);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","layout"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1679651564,"post_id":75832127,"comment_id":133762949,"body_markdown":"`p.setBounds(10,10,500,100);` is pointless, make use of appropriate layout managers. I&#39;m also wondering if this could better achieved through the use of a `JTable` or `JList`. `p.setLayout(new GridLayout());` in the loop is resetting the layout information, basically throwing out everything that came before it","body":"<code>p.setBounds(10,10,500,100);</code> is pointless, make use of appropriate layout managers. I&#39;m also wondering if this could better achieved through the use of a <code>JTable</code> or <code>JList</code>. <code>p.setLayout(new GridLayout());</code> in the loop is resetting the layout information, basically throwing out everything that came before it"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1679651579,"post_id":75832127,"comment_id":133762956,"body_markdown":"Show an image of how you want the layout to look like.","body":"Show an image of how you want the layout to look like."},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679653398,"post_id":75832127,"comment_id":133763364,"body_markdown":"I added the image","body":"I added the image"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679665108,"creation_date":1679652705,"answer_id":75832335,"question_id":75832127,"body_markdown":"There&#39;s to much repetition in your code, this is screaming for a factory method.\r\n\r\n`setBounds` is clear sign of issues, you shouldn&#39;t be using it and instead, should be making use of appropriate layout managers.\r\n\r\nSo I took you `startFirstRecord` method and re-wrote to use a `GridBagLayout` instead so it could so something more like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n        public void startFirstRecord() {\r\n            // License Plate number + image\r\n            JPanel panel1 = new JPanel(new GridBagLayout());\r\n            JLabel label1 = new JLabel(&quot;Name&quot;);\r\n            JLabel name = new JLabel(&quot;Name: blah&quot;);\r\n            JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            panel1.add(label1, gbc);\r\n            gbc.gridx++;\r\n            panel1.add(details1, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n            panel1.add(name, gbc);\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n\r\n            add(panel1);\r\n\r\n        }\r\n\r\nAfter looking over your `restRecords`, I ripped out the panel creation and created a factory method instead...\r\n\r\n        protected JPanel makePanel(int index) {\r\n            JPanel panel1 = new JPanel(new GridBagLayout());\r\n            JLabel label1 = new JLabel(&quot;licname &quot; + index);\r\n            JLabel name = new JLabel(&quot;Name: &quot; + index);\r\n            JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 0;\r\n\r\n            panel1.add(label1, gbc);\r\n            gbc.gridx++;\r\n            panel1.add(details1, gbc);\r\n\r\n            gbc.gridx = 0;\r\n            gbc.gridy++;\r\n            gbc.gridwidth = gbc.REMAINDER;\r\n            panel1.add(name, gbc);\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n\r\n            return panel1;\r\n        }\r\n\r\nwhich, oddly enough, is the pretty much the same code as your `startFirstRecord`.\r\n\r\nNext I modified your `resetRecords` method to make use of a `GridBagLayout` as well...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    public void restRecords() {\r\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            label.add(makePanel(i));\r\n        }\r\n        JPanel p = new JPanel(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.fill = gbc.HORIZONTAL;\r\n        gbc.weightx = 1;\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        for (JPanel j : label) {\r\n            p.add(j, gbc);\r\n        }\r\n\r\n        add(p);\r\n    }\r\n\r\nNow, if you would prefer to have the panels aligned to the top, you could simply add \r\n\r\n    gbc.weighty = 1;\r\n    p.add(new JPanel(), gbc);\r\n\r\nafter the second loop, which will add a &quot;filler&quot; component to the end which will want to take up the remaining vertical space (but add no height to the overall preferred size)\r\n\r\nBut wait, what if you have more rows then you have vertical space?  Then wrap the `p` (great name by the way) `JPanel` in a `JScrollPane`\r\n\r\nSee: \r\n\r\n* [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html)\r\n* [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nI think you would also benefit from having a look at:\r\n\r\n* [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) \r\n* [How to Use Lists](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html)\r\n* [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html)\r\n\r\nThe last two, however, will require you to think differently about how your users would interact with your data, but they are better suited towards the task you seem to be trying to implement.\r\n\r\n  [1]: https://i.stack.imgur.com/ULuAG.png\r\n  [2]: https://i.stack.imgur.com/T1uWC.png\r\n\r\n# Runnable example\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.util.ArrayList;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new BorderLayout());\r\n                //startFirstRecord();\r\n                restRecords();\r\n            }\r\n\r\n            protected JPanel makePanel(int index) {\r\n                JPanel panel1 = new JPanel(new GridBagLayout());\r\n                JLabel label1 = new JLabel(&quot;licname &quot; + index);\r\n                JLabel name = new JLabel(&quot;Name: &quot; + index);\r\n                JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n\r\n                panel1.add(label1, gbc);\r\n                gbc.gridx++;\r\n                panel1.add(details1, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                panel1.add(name, gbc);\r\n    //            f.add(panel1);\r\n    //            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n    //            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                label1.setHorizontalTextPosition(JLabel.CENTER);\r\n                label1.setVerticalTextPosition(JLabel.CENTER);\r\n    //            panel1.setBounds(10, 10, 500, 100);\r\n\r\n                return panel1;\r\n            }\r\n\r\n            public void startFirstRecord() {\r\n                // License Plate number + image\r\n                JPanel panel1 = new JPanel(new GridBagLayout());\r\n                JLabel label1 = new JLabel(&quot;Name&quot;);\r\n                JLabel name = new JLabel(&quot;Name: blah&quot;);\r\n                JButton details1 = new JButton(&quot;Details&quot;);\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n\r\n                panel1.add(label1, gbc);\r\n                gbc.gridx++;\r\n                panel1.add(details1, gbc);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                panel1.add(name, gbc);\r\n    //            f.add(panel1);\r\n    //            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n    //            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                label1.setHorizontalTextPosition(JLabel.CENTER);\r\n                label1.setVerticalTextPosition(JLabel.CENTER);\r\n    //            panel1.setBounds(10, 10, 500, 100);\r\n\r\n                add(panel1);\r\n\r\n            }\r\n\r\n            public void restRecords() {\r\n                ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n                for (int i = 0; i &lt; 1000; i++) {\r\n                    label.add(makePanel(i));\r\n                }\r\n                JPanel p = new JPanel(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.fill = gbc.HORIZONTAL;\r\n                gbc.weightx = 1;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                for (JPanel j : label) {\r\n                    p.add(j, gbc);\r\n                }\r\n\r\n                gbc.weighty = 1;\r\n                p.add(new JPanel(), gbc);\r\n\r\n                add(new JScrollPane(p));\r\n            }\r\n        }\r\n    }\r\n","title":"layout of elemets in JFrame - java swing","body":"<p>There's to much repetition in your code, this is screaming for a factory method.</p>\n<p><code>setBounds</code> is clear sign of issues, you shouldn't be using it and instead, should be making use of appropriate layout managers.</p>\n<p>So I took you <code>startFirstRecord</code> method and re-wrote to use a <code>GridBagLayout</code> instead so it could so something more like...</p>\n<p><a href=\"https://i.stack.imgur.com/ULuAG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULuAG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    public void startFirstRecord() {\n        // License Plate number + image\n        JPanel panel1 = new JPanel(new GridBagLayout());\n        JLabel label1 = new JLabel(&quot;Name&quot;);\n        JLabel name = new JLabel(&quot;Name: blah&quot;);\n        JButton details1 = new JButton(&quot;Details&quot;);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n\n        panel1.add(label1, gbc);\n        gbc.gridx++;\n        panel1.add(details1, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = gbc.REMAINDER;\n        panel1.add(name, gbc);\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n\n        add(panel1);\n\n    }\n</code></pre>\n<p>After looking over your <code>restRecords</code>, I ripped out the panel creation and created a factory method instead...</p>\n<pre><code>    protected JPanel makePanel(int index) {\n        JPanel panel1 = new JPanel(new GridBagLayout());\n        JLabel label1 = new JLabel(&quot;licname &quot; + index);\n        JLabel name = new JLabel(&quot;Name: &quot; + index);\n        JButton details1 = new JButton(&quot;Details&quot;);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n\n        panel1.add(label1, gbc);\n        gbc.gridx++;\n        panel1.add(details1, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        gbc.gridwidth = gbc.REMAINDER;\n        panel1.add(name, gbc);\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n\n        return panel1;\n    }\n</code></pre>\n<p>which, oddly enough, is the pretty much the same code as your <code>startFirstRecord</code>.</p>\n<p>Next I modified your <code>resetRecords</code> method to make use of a <code>GridBagLayout</code> as well...</p>\n<p><a href=\"https://i.stack.imgur.com/T1uWC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T1uWC.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public void restRecords() {\n    ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; 10; i++) {\n        label.add(makePanel(i));\n    }\n    JPanel p = new JPanel(new GridBagLayout());\n    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.fill = gbc.HORIZONTAL;\n    gbc.weightx = 1;\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\n    for (JPanel j : label) {\n        p.add(j, gbc);\n    }\n\n    add(p);\n}\n</code></pre>\n<p>Now, if you would prefer to have the panels aligned to the top, you could simply add</p>\n<pre><code>gbc.weighty = 1;\np.add(new JPanel(), gbc);\n</code></pre>\n<p>after the second loop, which will add a &quot;filler&quot; component to the end which will want to take up the remaining vertical space (but add no height to the overall preferred size)</p>\n<p>But wait, what if you have more rows then you have vertical space?  Then wrap the <code>p</code> (great name by the way) <code>JPanel</code> in a <code>JScrollPane</code></p>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></li>\n</ul>\n<p>I think you would also benefit from having a look at:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\">How to Use Lists</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a></li>\n</ul>\n<p>The last two, however, will require you to think differently about how your users would interact with your data, but they are better suited towards the task you seem to be trying to implement.</p>\n<h1>Runnable example</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.util.ArrayList;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new BorderLayout());\n            //startFirstRecord();\n            restRecords();\n        }\n\n        protected JPanel makePanel(int index) {\n            JPanel panel1 = new JPanel(new GridBagLayout());\n            JLabel label1 = new JLabel(&quot;licname &quot; + index);\n            JLabel name = new JLabel(&quot;Name: &quot; + index);\n            JButton details1 = new JButton(&quot;Details&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            panel1.add(label1, gbc);\n            gbc.gridx++;\n            panel1.add(details1, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = gbc.REMAINDER;\n            panel1.add(name, gbc);\n//            f.add(panel1);\n//            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n//            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label1.setHorizontalTextPosition(JLabel.CENTER);\n            label1.setVerticalTextPosition(JLabel.CENTER);\n//            panel1.setBounds(10, 10, 500, 100);\n\n            return panel1;\n        }\n\n        public void startFirstRecord() {\n            // License Plate number + image\n            JPanel panel1 = new JPanel(new GridBagLayout());\n            JLabel label1 = new JLabel(&quot;Name&quot;);\n            JLabel name = new JLabel(&quot;Name: blah&quot;);\n            JButton details1 = new JButton(&quot;Details&quot;);\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n\n            panel1.add(label1, gbc);\n            gbc.gridx++;\n            panel1.add(details1, gbc);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.gridwidth = gbc.REMAINDER;\n            panel1.add(name, gbc);\n//            f.add(panel1);\n//            label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n//            label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label1.setHorizontalTextPosition(JLabel.CENTER);\n            label1.setVerticalTextPosition(JLabel.CENTER);\n//            panel1.setBounds(10, 10, 500, 100);\n\n            add(panel1);\n\n        }\n\n        public void restRecords() {\n            ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; 1000; i++) {\n                label.add(makePanel(i));\n            }\n            JPanel p = new JPanel(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.fill = gbc.HORIZONTAL;\n            gbc.weightx = 1;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            for (JPanel j : label) {\n                p.add(j, gbc);\n            }\n\n            gbc.weighty = 1;\n            p.add(new JPanel(), gbc);\n\n            add(new JScrollPane(p));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679665108,"creation_date":1679651356,"question_id":75832127,"body_markdown":"I have a problem with dispositions of elements in frame. \r\n[enter image description here][1]\r\nFirst function is responsible for layout only first Panel with two JLabels and Button. I would like to have one JLabel and Button side by side and one JLabel below. In second step I created the method which will be add new JPanels in loop when I add new records to my Map (using TextField, ect) \r\nbut when I use it like below I don&#39;t see all my elemets. Problem begins when I add new JPanel in second method.\r\n\r\n\r\n```\r\npublic void startFirstRecord() {\r\n        // License Plate number + image\r\n        JPanel panel1 = new JPanel();\r\n        panel1.setLayout(new GridLayout(2, 2));\r\n        JLabel label1 = new JLabel(licname);\r\n        JLabel name = new JLabel(&quot;Name: &quot; + fullname);\r\n        JButton details1 = new JButton(&quot;Details&quot;);\r\n        panel1.add(label1);\r\n        panel1.add(details1);\r\n        panel1.add(name);\r\n        f.add(panel1);\r\n        label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n        label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n        label1.setHorizontalTextPosition(JLabel.CENTER);\r\n        label1.setVerticalTextPosition(JLabel.CENTER);\r\n        panel1.setBounds(10, 10, 500, 100);\r\n\r\n\r\n    }\r\n\r\n    public void restRecords(){\r\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; vehiclelist.size(); i++) {\r\n            JPanel panel2 = new JPanel();\r\n            panel2.setLayout(new GridLayout(2,2));\r\n            JButton details2 = new JButton(&quot;Details&quot;);\r\n            JLabel name2 = new JLabel(&quot;Name: &quot; + fullname);\r\n            label2 = new JLabel(licname);\r\n            label2.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\r\n            label2.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n            label2.setHorizontalTextPosition(JLabel.CENTER);\r\n            label2.setVerticalTextPosition(JLabel.CENTER);\r\n            panel2.add(label2);\r\n            panel2.add(details2);\r\n            panel2.add(name2);\r\n            panel2.setBounds(10,(i*50)+60,500,100);\r\n            label.add(panel2);\r\n        }\r\n        JPanel p = new JPanel();\r\n        for(JPanel j:label) {\r\n            p.add(j);\r\n           p.setBounds(10,10,500,100);\r\n           p.setLayout(new GridLayout());\r\n        }\r\n        f.add(p);\r\n        f.repaint();\r\n    }\r\n```\r\n\r\nI would like something like that \r\n\r\n[image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GiQEy.jpg","title":"layout of elemets in JFrame - java swing","body":"<p>I have a problem with dispositions of elements in frame.\n<a href=\"https://i.stack.imgur.com/GiQEy.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nFirst function is responsible for layout only first Panel with two JLabels and Button. I would like to have one JLabel and Button side by side and one JLabel below. In second step I created the method which will be add new JPanels in loop when I add new records to my Map (using TextField, ect)\nbut when I use it like below I don't see all my elemets. Problem begins when I add new JPanel in second method.</p>\n<pre><code>public void startFirstRecord() {\n        // License Plate number + image\n        JPanel panel1 = new JPanel();\n        panel1.setLayout(new GridLayout(2, 2));\n        JLabel label1 = new JLabel(licname);\n        JLabel name = new JLabel(&quot;Name: &quot; + fullname);\n        JButton details1 = new JButton(&quot;Details&quot;);\n        panel1.add(label1);\n        panel1.add(details1);\n        panel1.add(name);\n        f.add(panel1);\n        label1.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n        label1.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n        panel1.setBounds(10, 10, 500, 100);\n\n\n    }\n\n    public void restRecords(){\n        ArrayList&lt;JPanel&gt; label = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; vehiclelist.size(); i++) {\n            JPanel panel2 = new JPanel();\n            panel2.setLayout(new GridLayout(2,2));\n            JButton details2 = new JButton(&quot;Details&quot;);\n            JLabel name2 = new JLabel(&quot;Name: &quot; + fullname);\n            label2 = new JLabel(licname);\n            label2.setIcon(new ImageIcon(&quot;C:/Users//tab.jpg&quot;));\n            label2.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n            label2.setHorizontalTextPosition(JLabel.CENTER);\n            label2.setVerticalTextPosition(JLabel.CENTER);\n            panel2.add(label2);\n            panel2.add(details2);\n            panel2.add(name2);\n            panel2.setBounds(10,(i*50)+60,500,100);\n            label.add(panel2);\n        }\n        JPanel p = new JPanel();\n        for(JPanel j:label) {\n            p.add(j);\n           p.setBounds(10,10,500,100);\n           p.setLayout(new GridLayout());\n        }\n        f.add(p);\n        f.repaint();\n    }\n</code></pre>\n<p>I would like something like that</p>\n<p><a href=\"https://i.stack.imgur.com/GiQEy.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","javacc"],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678191584,"creation_date":1678191584,"answer_id":75661897,"question_id":75658361,"body_markdown":"Let&#39;s say you have the following `parser.jj` file:\r\n\r\n    options {\r\n        STATIC = false;\r\n        IGNORE_CASE = false;\r\n    }\r\n    \r\n    PARSER_BEGIN(Parser)\r\n    package test14;\r\n    public class Parser {\r\n    }\r\n    PARSER_END(Parser)\r\n    \r\n    TOKEN:\r\n    {\r\n      &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\r\n    }\r\n    \r\n    void llamarNumeroPar (): \r\n    {}\r\n    {\r\n      &lt; EVEN &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\r\n    }\r\n\r\nYou can now write a main class:\r\n\r\n    package test14;\r\n    \r\n    import java.io.StringReader;\r\n    \r\n    public class Test14 {\r\n        public static void main(String[] args) {\r\n            Parser parser = new Parser(new StringReader(&quot;1234567&quot;));\r\n            Token token = parser.getNextToken();\r\n            if (token.kind == Parser.EVEN) {\r\n                System.out.println(&quot;Even&quot;);\r\n            } else {\r\n                System.out.println(&quot;Something else&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd... surprise: the output is &quot;Even&quot;. This is because it has read &quot;123456&quot; which is indeed an even number.\r\n\r\nNow add a second token `ODD`:\r\n\r\n\r\n    TOKEN:\r\n    {\r\n      &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\r\n    |  &lt;ODD: ([&quot;0&quot;-&quot;9&quot;])* (&quot;1&quot;|&quot;3&quot;|&quot;5&quot;|&quot;7&quot;|&quot;9&quot;) &gt;\r\n    }\r\n\r\nAnd modify the main class as follows:\r\n\r\n        if (token.kind == Parser.EVEN) {\r\n            System.out.println(&quot;Even: &quot; + token.image);\r\n        } else if (token.kind == Parser.ODD) {\r\n            System.out.println(&quot;Odd: &quot; + token.image);\r\n        } else {\r\n            System.out.println(&quot;Something else: &quot; + token.image);\r\n        }\r\n\r\nThis time, the output is as expected:\r\n\r\n    Odd: 1234567\r\n\r\nConsider defining a token `NUMBER` and dealing with its parity in the Java code.\r\n\r\n\r\n","title":"How to test a token in JavaCC","body":"<p>Let's say you have the following <code>parser.jj</code> file:</p>\n<pre><code>options {\n    STATIC = false;\n    IGNORE_CASE = false;\n}\n\nPARSER_BEGIN(Parser)\npackage test14;\npublic class Parser {\n}\nPARSER_END(Parser)\n\nTOKEN:\n{\n  &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\n}\n\nvoid llamarNumeroPar (): \n{}\n{\n  &lt; EVEN &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\n}\n</code></pre>\n<p>You can now write a main class:</p>\n<pre><code>package test14;\n\nimport java.io.StringReader;\n\npublic class Test14 {\n    public static void main(String[] args) {\n        Parser parser = new Parser(new StringReader(&quot;1234567&quot;));\n        Token token = parser.getNextToken();\n        if (token.kind == Parser.EVEN) {\n            System.out.println(&quot;Even&quot;);\n        } else {\n            System.out.println(&quot;Something else&quot;);\n        }\n    }\n}\n</code></pre>\n<p>And... surprise: the output is &quot;Even&quot;. This is because it has read &quot;123456&quot; which is indeed an even number.</p>\n<p>Now add a second token <code>ODD</code>:</p>\n<pre><code>TOKEN:\n{\n  &lt;EVEN: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt;\n|  &lt;ODD: ([&quot;0&quot;-&quot;9&quot;])* (&quot;1&quot;|&quot;3&quot;|&quot;5&quot;|&quot;7&quot;|&quot;9&quot;) &gt;\n}\n</code></pre>\n<p>And modify the main class as follows:</p>\n<pre><code>    if (token.kind == Parser.EVEN) {\n        System.out.println(&quot;Even: &quot; + token.image);\n    } else if (token.kind == Parser.ODD) {\n        System.out.println(&quot;Odd: &quot; + token.image);\n    } else {\n        System.out.println(&quot;Something else: &quot; + token.image);\n    }\n</code></pre>\n<p>This time, the output is as expected:</p>\n<pre><code>Odd: 1234567\n</code></pre>\n<p>Consider defining a token <code>NUMBER</code> and dealing with its parity in the Java code.</p>\n"},{"tags":[],"owner":{"account_id":338681,"reputation":15564,"user_id":667690,"accept_rate":78,"display_name":"Theodore Norvell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679664676,"creation_date":1678207737,"answer_id":75664916,"question_id":75658361,"body_markdown":"Maurice&#39;s answer is excellent.  I&#39;m going to come at it from a slightly different angle by answering a slightly broader question.\r\n\r\nI don&#39;t think it makes a lot of sense to test one token definition at a time. This is because the tricky part of writing token managers is usually not the individual regular expressions, but rather the interactions between them, especially when there are multiple states.  So the broader question is how to test a token manager as a whole.\r\n\r\nI think something like the following could be quite useful.\r\n\r\n    import your.favourite.test.framework ;\r\n\r\n    class TokenTests implements XYZConstants {\r\n\r\n        private final int TME = -99 ; // -99 because this should not be already in use as a token kind.\r\n    \r\n        private void doOneTokenTest( String input, int[] expectation ) {\r\n            XYZ parser = new XYZ(new StringReader(input));\r\n            for( int k = 0 ; k &lt; expectation.length; ++k ) {\r\n                int state = parser.token_source.curLexState ;\r\n                try {\r\n                    Token token = parser.getNextToken();\r\n                    checkThat( expectation[k] != TME,\r\n                           &quot;Expected a TokenMgrErr, but got a&quot; +\r\n                           tokenImage[ token.kind ] + &quot; at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ;\r\n                    checkThat( token.kind == expectation[k],\r\n                           &quot;Expected a &quot; +\r\n                           tokenImage[ expectation[k] ] +\r\n                           &quot; but got a &quot; +\r\n                           tokenImage[ token.kind ] + &quot; at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ;\r\n                } catch( TokenMgrErr e ) {\r\n                    checkThat( expectation[k] == TME,\r\n                           &quot;Expected a &quot; +\r\n                           tokenImage[ expectation[k] ] +\r\n                           &quot; but got a TokenMgrErr at token &quot; +\r\n                           k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\r\n                           &quot; state is &quot; + state ) ; } } }\r\n\r\n\r\nSo now you can create and run a bunch of tests\r\n\r\n        @Test\r\n        public void testTokenMatching() {\r\n            record Pair( String input, int[] expectation ) ;\r\n            Pair[] tests = {\r\n                new Pair( &quot;1234&quot;, int[]{ EVEN, EOF } ),\r\n                new Pair( &quot;1233&quot;, int[]{ ODD, EOF } ),\r\n                new Pair( &quot;&quot;. int[] { EOF },\r\n                new Pair( &quot;123.3&quot;, int[]{ ODD, TME } } ;\r\n            for( Pair t : tests ) {\r\n                doOneTokenTest( t.input(), t.expectation() ) ; } }\r\n","title":"How to test a token in JavaCC","body":"<p>Maurice's answer is excellent.  I'm going to come at it from a slightly different angle by answering a slightly broader question.</p>\n<p>I don't think it makes a lot of sense to test one token definition at a time. This is because the tricky part of writing token managers is usually not the individual regular expressions, but rather the interactions between them, especially when there are multiple states.  So the broader question is how to test a token manager as a whole.</p>\n<p>I think something like the following could be quite useful.</p>\n<pre><code>import your.favourite.test.framework ;\n\nclass TokenTests implements XYZConstants {\n\n    private final int TME = -99 ; // -99 because this should not be already in use as a token kind.\n\n    private void doOneTokenTest( String input, int[] expectation ) {\n        XYZ parser = new XYZ(new StringReader(input));\n        for( int k = 0 ; k &lt; expectation.length; ++k ) {\n            int state = parser.token_source.curLexState ;\n            try {\n                Token token = parser.getNextToken();\n                checkThat( expectation[k] != TME,\n                       &quot;Expected a TokenMgrErr, but got a&quot; +\n                       tokenImage[ token.kind ] + &quot; at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ;\n                checkThat( token.kind == expectation[k],\n                       &quot;Expected a &quot; +\n                       tokenImage[ expectation[k] ] +\n                       &quot; but got a &quot; +\n                       tokenImage[ token.kind ] + &quot; at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ;\n            } catch( TokenMgrErr e ) {\n                checkThat( expectation[k] == TME,\n                       &quot;Expected a &quot; +\n                       tokenImage[ expectation[k] ] +\n                       &quot; but got a TokenMgrErr at token &quot; +\n                       k + &quot; of input &lt;&lt;&quot; + input + &quot;&gt;&gt;&quot; +\n                       &quot; state is &quot; + state ) ; } } }\n</code></pre>\n<p>So now you can create and run a bunch of tests</p>\n<pre><code>    @Test\n    public void testTokenMatching() {\n        record Pair( String input, int[] expectation ) ;\n        Pair[] tests = {\n            new Pair( &quot;1234&quot;, int[]{ EVEN, EOF } ),\n            new Pair( &quot;1233&quot;, int[]{ ODD, EOF } ),\n            new Pair( &quot;&quot;. int[] { EOF },\n            new Pair( &quot;123.3&quot;, int[]{ ODD, TME } } ;\n        for( Pair t : tests ) {\n            doOneTokenTest( t.input(), t.expectation() ) ; } }\n</code></pre>\n"}],"owner":{"account_id":12734034,"reputation":34,"user_id":9249569,"display_name":"Avalon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679664676,"creation_date":1678167309,"question_id":75658361,"body_markdown":"I want to create a token that accepts only even numbers, and I need to test it in javacc, I&#39;m just starting to use it and I can&#39;t think of any way to test this token, can anyone help me, thanks!\r\n\r\n    TOKEN: //I want this token to only accept even numbers\r\n    {\r\n      &lt;TOKENPARANUMEROSPARES: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt; {System.out.println(&quot;Soy un numero par&quot;);}\r\n    }\r\n    \r\n    void llamarNumeroPar (): \r\n    {}\r\n    {\r\n    //I want my program to be able to launch a message from my main with the message shown below\r\n      &lt; TOKENPARANUMEROSPARES &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\r\n    }\r\n\r\nTo print something, what do you recommend? Do I do it from the main or what could I correct in this part of my code?","title":"How to test a token in JavaCC","body":"<p>I want to create a token that accepts only even numbers, and I need to test it in javacc, I'm just starting to use it and I can't think of any way to test this token, can anyone help me, thanks!</p>\n<pre><code>TOKEN: //I want this token to only accept even numbers\n{\n  &lt;TOKENPARANUMEROSPARES: ([&quot;0&quot;-&quot;9&quot;])* (&quot;0&quot;|&quot;2&quot;|&quot;4&quot;|&quot;6&quot;|&quot;8&quot;) &gt; {System.out.println(&quot;Soy un numero par&quot;);}\n}\n\nvoid llamarNumeroPar (): \n{}\n{\n//I want my program to be able to launch a message from my main with the message shown below\n  &lt; TOKENPARANUMEROSPARES &gt; {System.out.println (&quot;soy un numeroPar&quot;);}\n}\n</code></pre>\n<p>To print something, what do you recommend? Do I do it from the main or what could I correct in this part of my code?</p>\n"},{"tags":["java","multithreading","threadpool","wait","producer-consumer"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679644924,"post_id":75831180,"comment_id":133761421,"body_markdown":"Take a thread dump at the point at which they are stuck. Where are they waiting?","body":"Take a thread dump at the point at which they are stuck. Where are they waiting?"},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679645833,"post_id":75831180,"comment_id":133761608,"body_markdown":"added the threaddump. As i clearly used the LinkedList and why its showing unknown source?. Since both threads has locks on the LL object which is synchronized, but why notify not waking the thread? even used the notifyAll and still same result","body":"added the threaddump. As i clearly used the LinkedList and why its showing unknown source?. Since both threads has locks on the LL object which is synchronized, but why notify not waking the thread? even used the notifyAll and still same result"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679646346,"post_id":75831180,"comment_id":133761734,"body_markdown":"How can `notify` ever be called? Both threads are waiting.","body":"How can <code>notify</code> ever be called? Both threads are waiting."},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679648685,"post_id":75831180,"comment_id":133762276,"body_markdown":"so what I need to do? I followed the wait and notify order correct? what i m missing","body":"so what I need to do? I followed the wait and notify order correct? what i m missing"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679651539,"post_id":75831180,"comment_id":133762942,"body_markdown":"You need to understand that there are 2 patterns to this producer-consumer  problem, 1. Producer produce 1 item and it wait for consumer to consume the item then Consumer consume the item and wait to producer to produce the item. 2. Producer keeps on producing items till buffer size and consumer keeps on consuming items until buffer is empty.","body":"You need to understand that there are 2 patterns to this producer-consumer  problem, 1. Producer produce 1 item and it wait for consumer to consume the item then Consumer consume the item and wait to producer to produce the item. 2. Producer keeps on producing items till buffer size and consumer keeps on consuming items until buffer is empty."},{"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"score":0,"creation_date":1679651680,"post_id":75831180,"comment_id":133762978,"body_markdown":"Thats what I implemented right? nothing wrong in the logic. But what wrong about the implementation?","body":"Thats what I implemented right? nothing wrong in the logic. But what wrong about the implementation?"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1679654569,"post_id":75831180,"comment_id":133763668,"body_markdown":"I would follow this approach, if store is full wait and do not produce anything else produce, for consumer: if store is empty wait and do not consume anything else consume. I think this works and you call notify on store instead of current thread.","body":"I would follow this approach, if store is full wait and do not produce anything else produce, for consumer: if store is empty wait and do not consume anything else consume. I think this works and you call notify on store instead of current thread."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679662552,"post_id":75831180,"comment_id":133765701,"body_markdown":"Look at the flow of control in your program. Neither thread can notify without calling wait first.","body":"Look at the flow of control in your program. Neither thread can notify without calling wait first."}],"answers":[{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679664143,"creation_date":1679664143,"answer_id":75834180,"question_id":75831180,"body_markdown":"I have modified OP code and tried to keep everything same.   \r\nSolution 1: Single producer and single consumer thread   \r\n- Producer: if Shop.LL is full, then wait on Shop.LL and do not produce anything else produce items and add to Shop.LL.  \r\n- Consumer: if Shop.LL is empty, then wait and do not consume anything else consume and remove item from Shop.LL.\r\n\r\n```java\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\npublic class ClientClass {\r\n    // moved items from the producer class, just to use its size in consumer class, but change does not have any impact on the issue\r\n    private static final String[] fruits = {&quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot;};\r\n\r\n    // respective trackers to check the conditions\r\n    protected static volatile AtomicInteger fruitProducerTracker = new AtomicInteger();\r\n    protected static volatile AtomicInteger fruitConsumerTracker = new AtomicInteger();\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final Thread produce = new Thread(() -&gt; {\r\n            synchronized (Shop.LL) {\r\n                // wait before producing \r\n                if (Shop.LL.size() != 0) {\r\n                    try {\r\n                        Shop.LL.wait();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                try {\r\n                    Producer.produce();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Shop.LL.notifyAll();\r\n            }\r\n        });\r\n\r\n        final Thread consume = new Thread(() -&gt; {\r\n            synchronized (Shop.LL) {\r\n                System.out.println(&quot;Entering consumer&quot;);\r\n                if (Shop.LL.size() == 0) {\r\n                    try {\r\n                        Shop.LL.wait();\r\n                    } catch (InterruptedException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n                Consumer.buy();\r\n                Shop.LL.notifyAll();\r\n            }\r\n        });\r\n\r\n        consume.start();\r\n        produce.start();\r\n\r\n        consume.join();\r\n        produce.join();\r\n    }\r\n\r\n    static class Producer {\r\n        protected static synchronized void produce() throws InterruptedException {\r\n            if (Shop.LL.size() == 0) {\r\n                // To publish all the items, adding all items from the same thread\r\n                for (int j = 0; j &lt; fruits.length; j++) {\r\n                    final String fruit = fruits[fruitProducerTracker.getAndIncrement()];\r\n                    Shop.LL.add(fruit);\r\n                    System.out.println(Thread.currentThread().getName() + &quot; : Producer selling the .....&quot; + fruit);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Consumer {\r\n        protected static synchronized void buy() {\r\n            // To consume all items need to use while, if we use if condition similar to OP, then it will consume only 1 item.\r\n            while (fruitConsumerTracker.get() &lt; fruits.length) {\r\n                final String item = Shop.LL.remove(0);\r\n                fruitConsumerTracker.incrementAndGet();\r\n                System.out.println(Thread.currentThread().getName() + &quot; : Consumer buying the .....&quot; + item);\r\n            }\r\n        }\r\n    }\r\n\r\n    static class Shop {\r\n        static final List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\r\n    }\r\n}\r\n/*\r\nEntering consumer\r\nThread-0 : Producer selling the .....apple\r\nThread-0 : Producer selling the .....orange\r\nThread-0 : Producer selling the .....pineapple\r\nThread-0 : Producer selling the .....banana\r\nThread-0 : Producer selling the .....cherry\r\nThread-0 : Producer selling the .....kiwi\r\nThread-1 : Consumer buying the .....apple\r\nThread-1 : Consumer buying the .....orange\r\nThread-1 : Consumer buying the .....pineapple\r\nThread-1 : Consumer buying the .....banana\r\nThread-1 : Consumer buying the .....cherry\r\nThread-1 : Consumer buying the .....kiwi\r\n*/\r\n\r\n```","title":"Producer Consumer problem in java thread is waiting very long","body":"<p>I have modified OP code and tried to keep everything same.<br />\nSolution 1: Single producer and single consumer thread</p>\n<ul>\n<li>Producer: if Shop.LL is full, then wait on Shop.LL and do not produce anything else produce items and add to Shop.LL.</li>\n<li>Consumer: if Shop.LL is empty, then wait and do not consume anything else consume and remove item from Shop.LL.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class ClientClass {\n    // moved items from the producer class, just to use its size in consumer class, but change does not have any impact on the issue\n    private static final String[] fruits = {&quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot;};\n\n    // respective trackers to check the conditions\n    protected static volatile AtomicInteger fruitProducerTracker = new AtomicInteger();\n    protected static volatile AtomicInteger fruitConsumerTracker = new AtomicInteger();\n\n    public static void main(String[] args) throws InterruptedException {\n        final Thread produce = new Thread(() -&gt; {\n            synchronized (Shop.LL) {\n                // wait before producing \n                if (Shop.LL.size() != 0) {\n                    try {\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                try {\n                    Producer.produce();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                Shop.LL.notifyAll();\n            }\n        });\n\n        final Thread consume = new Thread(() -&gt; {\n            synchronized (Shop.LL) {\n                System.out.println(&quot;Entering consumer&quot;);\n                if (Shop.LL.size() == 0) {\n                    try {\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n                Consumer.buy();\n                Shop.LL.notifyAll();\n            }\n        });\n\n        consume.start();\n        produce.start();\n\n        consume.join();\n        produce.join();\n    }\n\n    static class Producer {\n        protected static synchronized void produce() throws InterruptedException {\n            if (Shop.LL.size() == 0) {\n                // To publish all the items, adding all items from the same thread\n                for (int j = 0; j &lt; fruits.length; j++) {\n                    final String fruit = fruits[fruitProducerTracker.getAndIncrement()];\n                    Shop.LL.add(fruit);\n                    System.out.println(Thread.currentThread().getName() + &quot; : Producer selling the .....&quot; + fruit);\n                }\n            }\n        }\n    }\n\n    static class Consumer {\n        protected static synchronized void buy() {\n            // To consume all items need to use while, if we use if condition similar to OP, then it will consume only 1 item.\n            while (fruitConsumerTracker.get() &lt; fruits.length) {\n                final String item = Shop.LL.remove(0);\n                fruitConsumerTracker.incrementAndGet();\n                System.out.println(Thread.currentThread().getName() + &quot; : Consumer buying the .....&quot; + item);\n            }\n        }\n    }\n\n    static class Shop {\n        static final List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\n    }\n}\n/*\nEntering consumer\nThread-0 : Producer selling the .....apple\nThread-0 : Producer selling the .....orange\nThread-0 : Producer selling the .....pineapple\nThread-0 : Producer selling the .....banana\nThread-0 : Producer selling the .....cherry\nThread-0 : Producer selling the .....kiwi\nThread-1 : Consumer buying the .....apple\nThread-1 : Consumer buying the .....orange\nThread-1 : Consumer buying the .....pineapple\nThread-1 : Consumer buying the .....banana\nThread-1 : Consumer buying the .....cherry\nThread-1 : Consumer buying the .....kiwi\n*/\n\n</code></pre>\n"}],"owner":{"account_id":1956045,"reputation":772,"user_id":1759028,"accept_rate":100,"display_name":"Murali"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75834180,"answer_count":1,"score":0,"last_activity_date":1679664143,"creation_date":1679644753,"question_id":75831180,"body_markdown":"I have written my own implementation of producer consumer problem. But my thread is waiting very long and even with notify. I don&#39;t get what is happening.\r\n\r\n**MainClass.java**\r\n\r\n    public class MainClass {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tfinal Thread produce = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\t\tsynchronized (Shop.LL) {\r\n    \t\t\t\t\t\tif (null != Shop.LL &amp;&amp; Shop.LL.size() == 0) {\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tProducer.produce();\r\n    \t\t\t\t\t\t\t\tShop.LL.wait();\r\n    \t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tnotify();\r\n    \t\t\t\t\t}}}});\r\n    \r\n    \t\tfinal Thread consume = new Thread(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tsynchronized (Shop.LL) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Entering consumer&quot;);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tConsumer.buy();\r\n    \t\t\t\t\t\tShop.LL.wait();\r\n    \t\t\t\t\t} catch (InterruptedException e) {e.printStackTrace();}\r\n                    notify();\r\n    \r\n    \t\t\t\t}}});\r\n    \r\n    \t\tproduce.start();\r\n    \t\tconsume.start();\r\n    \t\tproduce.join();\r\n    \t\tconsume.join();\r\n    \t}}\r\n\r\n***Producer.java***\r\n\r\n    public class Producer {\r\n    \tprivate static String[] fruits = { &quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot; };\r\n    \tprotected static synchronized void produce() {\r\n    \t\tif (Shop.LL.size() == 0) {\r\n    \t\t\tSystem.out.println(&quot;Producer selling the .....&quot;);\r\n    \t\t\tdo {\r\n    \t\t\t\tSystem.out.println(fruits[Shop.i]);\r\n    \t\t\t\tShop.LL.add(fruits[Shop.i]);\r\n    \t\t\t\tShop.i++;\r\n    \t\t\t} while (Shop.LL.size() &lt;= 1);\r\n    \t\t}}}\r\n\r\n   \r\n**Consumer.java**\r\n\r\n     public class Consumer {\r\n        \tprotected static synchronized void buy() {\r\n        \t\tint i = 0;\r\n        \t\tif (Shop.LL.size() &gt; 0) {\r\n        \t\t\tSystem.out.println(&quot;Cosumer buying the .....&quot;);\r\n        \t\t\twhile (i &lt; 2) {\r\n        \t\t\t\tSystem.out.println(Shop.LL.get(i));\r\n        \t\t\t\ti++;\r\n        \t\t\t}}\r\n        \t\tShop.LL.clear();\r\n        \t}}\r\n\r\n**Shop.java**\r\n\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n    public class Shop {\r\n    \tprotected static List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\r\n    \tprotected static int i = 0;\r\n    }\r\n\r\n\r\n**OUTPUT:** \r\n\r\n    Entering producer \r\n    Producer selling the ..... apple orange \r\n    Entering consumer \r\n    Cosumer buying the ..... apple orange\r\n\r\n\r\nHere after this both threads are waiting indefinitely and don&#39;t know why. But what is the cause?\r\n\r\n**Thread Dump**\r\n\r\n    8976:\r\n    2023-03-24 13:43:31\r\n    Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.191-b12 mixed mode):\r\n    \r\n    &quot;Thread-1&quot; #11 prio=5 os_prio=0 tid=0x000000001869b000 nid=0x2ca8 in Object.wait() [0x0000000018fae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat com.consumer.producer.MainClass$2.run(MainClass.java:58)\r\n    \t- locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    &quot;Thread-0&quot; #10 prio=5 os_prio=0 tid=0x0000000018694000 nid=0x1328 in Object.wait() [0x0000000018eaf000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat com.consumer.producer.MainClass$1.run(MainClass.java:25)\r\n    \t- locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    &quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00000000185b8000 nid=0x7f0 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C1 CompilerThread2&quot; #8 daemon prio=9 os_prio=2 tid=0x00000000185b2800 nid=0x11f8 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread1&quot; #7 daemon prio=9 os_prio=2 tid=0x0000000016eac000 nid=0x21c8 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=2 tid=0x0000000016e4d800 nid=0x30d0 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 tid=0x0000000016e4b800 nid=0x2de0 waiting on condition [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 tid=0x0000000016e4a000 nid=0xe38 runnable [0x0000000000000000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \r\n    &quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 tid=0x000000000230b800 nid=0x2688 in Object.wait() [0x00000000181ae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\r\n    \tat java.lang.ref.ReferenceQueue.remove(Unknown Source)\r\n    \tat java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)\r\n    \r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 tid=0x0000000016e19000 nid=0x2b4c in Object.wait() [0x00000000180ae000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.Object.wait(Unknown Source)\r\n    \tat java.lang.ref.Reference.tryHandlePending(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\r\n    \tat java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)\r\n    \r\n    &quot;main&quot; #1 prio=5 os_prio=0 tid=0x00000000020be800 nid=0x1908 in Object.wait() [0x000000000220f000]\r\n       java.lang.Thread.State: WAITING (on object monitor)\r\n    \tat java.lang.Object.wait(Native Method)\r\n    \t- waiting on &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\r\n    \tat java.lang.Thread.join(Unknown Source)\r\n    \t- locked &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\r\n    \tat java.lang.Thread.join(Unknown Source)\r\n    \tat com.consumer.producer.MainClass.main(MainClass.java:79)\r\n    \r\n    &quot;VM Thread&quot; os_prio=2 tid=0x0000000016e17800 nid=0x3af8 runnable \r\n    \r\n    &quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x0000000002228000 nid=0x2e60 runnable \r\n    \r\n    &quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x0000000002229800 nid=0x16c4 runnable \r\n    \r\n    &quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x000000000222b000 nid=0xe9c runnable \r\n    \r\n    &quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x000000000222d800 nid=0x22e4 runnable \r\n    \r\n    &quot;VM Periodic Task Thread&quot; os_prio=2 tid=0x00000000185ba000 nid=0x21f0 waiting on condition \r\n    \r\n    JNI global references: 4\r\n\r\n","title":"Producer Consumer problem in java thread is waiting very long","body":"<p>I have written my own implementation of producer consumer problem. But my thread is waiting very long and even with notify. I don't get what is happening.</p>\n<p><strong>MainClass.java</strong></p>\n<pre><code>public class MainClass {\n    public static void main(String[] args) throws InterruptedException {\n        final Thread produce = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                    synchronized (Shop.LL) {\n                        if (null != Shop.LL &amp;&amp; Shop.LL.size() == 0) {\n                            try {\n                                Producer.produce();\n                                Shop.LL.wait();\n                            } catch (InterruptedException e) {\n                                e.printStackTrace();\n                            }\n                            notify();\n                    }}}});\n\n        final Thread consume = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                synchronized (Shop.LL) {\n                    System.out.println(&quot;Entering consumer&quot;);\n                    try {\n                        Consumer.buy();\n                        Shop.LL.wait();\n                    } catch (InterruptedException e) {e.printStackTrace();}\n                notify();\n\n                }}});\n\n        produce.start();\n        consume.start();\n        produce.join();\n        consume.join();\n    }}\n</code></pre>\n<p><em><strong>Producer.java</strong></em></p>\n<pre><code>public class Producer {\n    private static String[] fruits = { &quot;apple&quot;, &quot;orange&quot;, &quot;pineapple&quot;, &quot;banana&quot;, &quot;cherry&quot;, &quot;kiwi&quot; };\n    protected static synchronized void produce() {\n        if (Shop.LL.size() == 0) {\n            System.out.println(&quot;Producer selling the .....&quot;);\n            do {\n                System.out.println(fruits[Shop.i]);\n                Shop.LL.add(fruits[Shop.i]);\n                Shop.i++;\n            } while (Shop.LL.size() &lt;= 1);\n        }}}\n</code></pre>\n<p><strong>Consumer.java</strong></p>\n<pre><code> public class Consumer {\n        protected static synchronized void buy() {\n            int i = 0;\n            if (Shop.LL.size() &gt; 0) {\n                System.out.println(&quot;Cosumer buying the .....&quot;);\n                while (i &lt; 2) {\n                    System.out.println(Shop.LL.get(i));\n                    i++;\n                }}\n            Shop.LL.clear();\n        }}\n</code></pre>\n<p><strong>Shop.java</strong></p>\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\npublic class Shop {\n    protected static List&lt;String&gt; LL = new LinkedList&lt;String&gt;();\n    protected static int i = 0;\n}\n</code></pre>\n<p><strong>OUTPUT:</strong></p>\n<pre><code>Entering producer \nProducer selling the ..... apple orange \nEntering consumer \nCosumer buying the ..... apple orange\n</code></pre>\n<p>Here after this both threads are waiting indefinitely and don't know why. But what is the cause?</p>\n<p><strong>Thread Dump</strong></p>\n<pre><code>8976:\n2023-03-24 13:43:31\nFull thread dump Java HotSpot(TM) 64-Bit Server VM (25.191-b12 mixed mode):\n\n&quot;Thread-1&quot; #11 prio=5 os_prio=0 tid=0x000000001869b000 nid=0x2ca8 in Object.wait() [0x0000000018fae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Object.wait(Unknown Source)\n    at com.consumer.producer.MainClass$2.run(MainClass.java:58)\n    - locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Thread.run(Unknown Source)\n\n&quot;Thread-0&quot; #10 prio=5 os_prio=0 tid=0x0000000018694000 nid=0x1328 in Object.wait() [0x0000000018eaf000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Object.wait(Unknown Source)\n    at com.consumer.producer.MainClass$1.run(MainClass.java:25)\n    - locked &lt;0x00000000d5f4ee28&gt; (a java.util.LinkedList)\n    at java.lang.Thread.run(Unknown Source)\n\n&quot;Service Thread&quot; #9 daemon prio=9 os_prio=0 tid=0x00000000185b8000 nid=0x7f0 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C1 CompilerThread2&quot; #8 daemon prio=9 os_prio=2 tid=0x00000000185b2800 nid=0x11f8 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread1&quot; #7 daemon prio=9 os_prio=2 tid=0x0000000016eac000 nid=0x21c8 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;C2 CompilerThread0&quot; #6 daemon prio=9 os_prio=2 tid=0x0000000016e4d800 nid=0x30d0 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Attach Listener&quot; #5 daemon prio=5 os_prio=2 tid=0x0000000016e4b800 nid=0x2de0 waiting on condition [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Signal Dispatcher&quot; #4 daemon prio=9 os_prio=2 tid=0x0000000016e4a000 nid=0xe38 runnable [0x0000000000000000]\n   java.lang.Thread.State: RUNNABLE\n\n&quot;Finalizer&quot; #3 daemon prio=8 os_prio=1 tid=0x000000000230b800 nid=0x2688 in Object.wait() [0x00000000181ae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n    - locked &lt;0x00000000d5e08ed0&gt; (a java.lang.ref.ReferenceQueue$Lock)\n    at java.lang.ref.ReferenceQueue.remove(Unknown Source)\n    at java.lang.ref.Finalizer$FinalizerThread.run(Unknown Source)\n\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=2 tid=0x0000000016e19000 nid=0x2b4c in Object.wait() [0x00000000180ae000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.Object.wait(Unknown Source)\n    at java.lang.ref.Reference.tryHandlePending(Unknown Source)\n    - locked &lt;0x00000000d5e06bf8&gt; (a java.lang.ref.Reference$Lock)\n    at java.lang.ref.Reference$ReferenceHandler.run(Unknown Source)\n\n&quot;main&quot; #1 prio=5 os_prio=0 tid=0x00000000020be800 nid=0x1908 in Object.wait() [0x000000000220f000]\n   java.lang.Thread.State: WAITING (on object monitor)\n    at java.lang.Object.wait(Native Method)\n    - waiting on &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\n    at java.lang.Thread.join(Unknown Source)\n    - locked &lt;0x00000000d5e869f0&gt; (a java.lang.Thread)\n    at java.lang.Thread.join(Unknown Source)\n    at com.consumer.producer.MainClass.main(MainClass.java:79)\n\n&quot;VM Thread&quot; os_prio=2 tid=0x0000000016e17800 nid=0x3af8 runnable \n\n&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x0000000002228000 nid=0x2e60 runnable \n\n&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x0000000002229800 nid=0x16c4 runnable \n\n&quot;GC task thread#2 (ParallelGC)&quot; os_prio=0 tid=0x000000000222b000 nid=0xe9c runnable \n\n&quot;GC task thread#3 (ParallelGC)&quot; os_prio=0 tid=0x000000000222d800 nid=0x22e4 runnable \n\n&quot;VM Periodic Task Thread&quot; os_prio=2 tid=0x00000000185ba000 nid=0x21f0 waiting on condition \n\nJNI global references: 4\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","spring-webclient"],"owner":{"account_id":1302279,"reputation":87,"user_id":1251950,"display_name":"Karthik Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679663985,"creation_date":1679662694,"question_id":75833957,"body_markdown":"I am making a POST call which returns a **jobId** and then make a GET call using the jobId. If I get back the response as job **COMPLETED** then I need to parse the response and return it. But if the job is still **IN_PROGRESS/PENDING** then I need to retry the GET call after 1 sec. \r\n\r\n    The GET API response is (id=1234, eta=1000, status=IN_PROGRESS, response=null)\r\n\r\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?\r\n\r\n    externalClient\r\n                .post()\r\n                .uri(url)\r\n                .headers(httpHeaders -&gt; httpHeaders.addAll(buildHeaders()))\r\n                .body(BodyInserters.fromValue(postRequest))\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\r\n                })\r\n                .log()\r\n                .timeout(Duration.ofSeconds(timeout))\r\n                .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\r\n                .flatMap(response -&gt; externalClient.get().uri(getLabelUri + response.getId())\r\n                        .headers(httpHeaders -&gt; httpHeaders.addAll(buildGetHeaders()))\r\n                        .retrieve()\r\n                        .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\r\n                        })\r\n                        .log()\r\n                        .timeout(Duration.ofSeconds(timeout))\r\n                        .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\r\n                        .flatMap(getResponse -&gt; {\r\n                            log.info(&quot;Get response received {}&quot;, getResponse);\r\n                            if (!getResponse.getStatus().startsWith(&quot;COMPLETE&quot;)) {\r\n                                return Mono.error(new RetryableException(ApiError.JOB_IN_PROGRESS,\r\n                                        &quot;Job is not yet completed. Job retrying again.&quot;));\r\n                            } else {\r\n                                log.info(&quot;Job status complete, returning response&quot;);\r\n                                return Mono.just(getResponse);\r\n                            }\r\n                        })\r\n                        .retryWhen(handleRetry(maxAttempts, backoff)));\r\n\r\n    \r\n    public static RetryBackoffSpec handleRetry(Integer maxAttempts, Integer backoff) {\r\n        log.info(&quot;Inside handle retry method&quot;);\r\n        return Retry.backoff(maxAttempts, Duration.ofSeconds(backoff))\r\n                .filter(RetryableException.class::isInstance)\r\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n                    RetryableException exception = (RetryableException) retrySignal.failure();\r\n                    return getApiException(exception.getError(), retrySignal.failure());\r\n                });\r\n    }\r\n\r\n\r\nI can see this log getting printed `Get response received (id=1234, eta=1000, status=IN_PROGRESS, response=null)`\r\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?","title":"Retry not working in Spring Webflux with webclient","body":"<p>I am making a POST call which returns a <strong>jobId</strong> and then make a GET call using the jobId. If I get back the response as job <strong>COMPLETED</strong> then I need to parse the response and return it. But if the job is still <strong>IN_PROGRESS/PENDING</strong> then I need to retry the GET call after 1 sec.</p>\n<pre><code>The GET API response is (id=1234, eta=1000, status=IN_PROGRESS, response=null)\n</code></pre>\n<p>but still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?</p>\n<pre><code>externalClient\n            .post()\n            .uri(url)\n            .headers(httpHeaders -&gt; httpHeaders.addAll(buildHeaders()))\n            .body(BodyInserters.fromValue(postRequest))\n            .retrieve()\n            .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\n            })\n            .log()\n            .timeout(Duration.ofSeconds(timeout))\n            .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\n            .flatMap(response -&gt; externalClient.get().uri(getLabelUri + response.getId())\n                    .headers(httpHeaders -&gt; httpHeaders.addAll(buildGetHeaders()))\n                    .retrieve()\n                    .bodyToMono(new ParameterizedTypeReference&lt;Response&gt;() {\n                    })\n                    .log()\n                    .timeout(Duration.ofSeconds(timeout))\n                    .onErrorMap(ReadTimeoutException.class, ex -&gt; handleTimeout(ex))\n                    .flatMap(getResponse -&gt; {\n                        log.info(&quot;Get response received {}&quot;, getResponse);\n                        if (!getResponse.getStatus().startsWith(&quot;COMPLETE&quot;)) {\n                            return Mono.error(new RetryableException(ApiError.JOB_IN_PROGRESS,\n                                    &quot;Job is not yet completed. Job retrying again.&quot;));\n                        } else {\n                            log.info(&quot;Job status complete, returning response&quot;);\n                            return Mono.just(getResponse);\n                        }\n                    })\n                    .retryWhen(handleRetry(maxAttempts, backoff)));\n\n\npublic static RetryBackoffSpec handleRetry(Integer maxAttempts, Integer backoff) {\n    log.info(&quot;Inside handle retry method&quot;);\n    return Retry.backoff(maxAttempts, Duration.ofSeconds(backoff))\n            .filter(RetryableException.class::isInstance)\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n                RetryableException exception = (RetryableException) retrySignal.failure();\n                return getApiException(exception.getError(), retrySignal.failure());\n            });\n}\n</code></pre>\n<p>I can see this log getting printed <code>Get response received (id=1234, eta=1000, status=IN_PROGRESS, response=null)</code>\nbut still the GET call does not trigger a retry. How can I fix this to retry while job is in progress?</p>\n"},{"tags":["java","stack","instruction-set","jvm-bytecode","machine-instruction"],"comments":[{"owner":{"account_id":216101,"reputation":24294,"user_id":471129,"display_name":"Erik Eidt"},"score":0,"creation_date":1679501551,"post_id":75814691,"comment_id":133734463,"body_markdown":"6, 5, 4, 3, 2, 1 DUP2_X1 will result in 6, 5, 4, ***2, 1,*** 3, 2, 1.","body":"6, 5, 4, 3, 2, 1 DUP2_X1 will result in 6, 5, 4, <b><i>2, 1,</i></b> 3, 2, 1."},{"owner":{"account_id":28087799,"reputation":21,"user_id":21457881,"display_name":"Alex"},"score":0,"creation_date":1679504709,"post_id":75814691,"comment_id":133735352,"body_markdown":"thanks! that&#39;s really helpful. So DUP_X2 would be 6 5 4 1 3 2 1. Pop just removes the element at the very top of the stack and POP 2 the 2 elements at the top. I should be able to figure out this now.","body":"thanks! that&#39;s really helpful. So DUP_X2 would be 6 5 4 1 3 2 1. Pop just removes the element at the very top of the stack and POP 2 the 2 elements at the top. I should be able to figure out this now."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679510752,"post_id":75814691,"comment_id":133736838,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679558239,"creation_date":1679558239,"answer_id":75820424,"question_id":75814691,"body_markdown":"So, basically you want to duplicate the last three elements of the operand stack while keeping all other elements intact and not use local variables nor heap space.\r\n\r\nOne sequence to achieve this would be\r\n\r\n|Instruction|Resulting Stack\r\n|-----------|---------------\r\n| (initial) | ...321\r\n|DUP2_X1    | ...21321\r\n|POP2       | ...213\r\n|DUP_X2     | ...3213\r\n|DUP_X2     | ...33213\r\n|POP        | ...3321\r\n|DUP2_X1    | ...321321\r\n\r\nA straight-forward program to test it using the [ASM library] looks like\r\n\r\n```java\r\npackage asm;\r\n\r\nimport static org.objectweb.asm.Opcodes.*;\r\nimport java.lang.invoke.*;\r\nimport org.objectweb.asm.*;\r\n\r\npublic class DuplicateThreeOperands {\r\n  public static void main(String[] args) throws ReflectiveOperationException {\r\n    final String s = &quot;Ljava/lang/String;&quot;;\r\n    ClassWriter cw = new ClassWriter(0);\r\n    cw.visit(55, ACC_INTERFACE | ACC_ABSTRACT,\r\n             &quot;asm/Test&quot;, null, &quot;java/lang/Object&quot;, args);\r\n    MethodVisitor mv = cw.visitMethod(ACC_STATIC | ACC_PUBLIC,\r\n             &quot;test&quot;, &quot;()&quot; + s, null, null);\r\n    mv.visitCode();\r\n    mv.visitLdcInsn(&quot;6&quot;);\r\n    mv.visitLdcInsn(&quot;5&quot;);\r\n    mv.visitLdcInsn(&quot;4&quot;);\r\n    mv.visitLdcInsn(&quot;3&quot;);\r\n    mv.visitLdcInsn(&quot;2&quot;);\r\n    mv.visitLdcInsn(&quot;1&quot;);\r\n\r\n    stackManipulation(mv);\r\n\r\n    mv.visitInvokeDynamicInsn(&quot;concat&quot;, &quot;(&quot; + s.repeat(9) + &quot;)&quot; + s, new Handle(\r\n        H_INVOKESTATIC, &quot;java/lang/invoke/StringConcatFactory&quot;, &quot;makeConcat&quot;,\r\n        MethodType.methodType(CallSite.class, MethodHandles.Lookup.class,\r\n           String.class, MethodType.class).toMethodDescriptorString(), false));\r\n    mv.visitInsn(ARETURN);\r\n    mv.visitMaxs(9, 0);\r\n\r\n    String result = (String)MethodHandles.lookup().defineClass(cw.toByteArray())\r\n        .getMethod(&quot;test&quot;).invoke(null);\r\n    System.out.println(result);\r\n  }\r\n\r\n  private static void stackManipulation(MethodVisitor mv) {\r\n                           // ...321\r\n    mv.visitInsn(DUP2_X1); // ...21321\r\n    mv.visitInsn(POP2);    // ...213\r\n    mv.visitInsn(DUP_X2);  // ...3213\r\n    mv.visitInsn(DUP_X2);  // ...33213\r\n    mv.visitInsn(POP);     // ...3321\r\n    mv.visitInsn(DUP2_X1); // ...321321\r\n  }\r\n}\r\n```\r\n\r\nand prints\r\n\r\n```none\r\n654321321\r\n```\r\n\r\nYou may look at the [`dup` instruction] and following sections in JVM specification for further reference.\r\n\r\n[ASM library]: https://asm.ow2.io/\r\n[`dup` instruction]: https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.dup","title":"Transform a stack using Java Virtual Machine Instruction Set","body":"<p>So, basically you want to duplicate the last three elements of the operand stack while keeping all other elements intact and not use local variables nor heap space.</p>\n<p>One sequence to achieve this would be</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Instruction</th>\n<th>Resulting Stack</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>(initial)</td>\n<td>...321</td>\n</tr>\n<tr>\n<td>DUP2_X1</td>\n<td>...21321</td>\n</tr>\n<tr>\n<td>POP2</td>\n<td>...213</td>\n</tr>\n<tr>\n<td>DUP_X2</td>\n<td>...3213</td>\n</tr>\n<tr>\n<td>DUP_X2</td>\n<td>...33213</td>\n</tr>\n<tr>\n<td>POP</td>\n<td>...3321</td>\n</tr>\n<tr>\n<td>DUP2_X1</td>\n<td>...321321</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>A straight-forward program to test it using the <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM library</a> looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>package asm;\n\nimport static org.objectweb.asm.Opcodes.*;\nimport java.lang.invoke.*;\nimport org.objectweb.asm.*;\n\npublic class DuplicateThreeOperands {\n  public static void main(String[] args) throws ReflectiveOperationException {\n    final String s = &quot;Ljava/lang/String;&quot;;\n    ClassWriter cw = new ClassWriter(0);\n    cw.visit(55, ACC_INTERFACE | ACC_ABSTRACT,\n             &quot;asm/Test&quot;, null, &quot;java/lang/Object&quot;, args);\n    MethodVisitor mv = cw.visitMethod(ACC_STATIC | ACC_PUBLIC,\n             &quot;test&quot;, &quot;()&quot; + s, null, null);\n    mv.visitCode();\n    mv.visitLdcInsn(&quot;6&quot;);\n    mv.visitLdcInsn(&quot;5&quot;);\n    mv.visitLdcInsn(&quot;4&quot;);\n    mv.visitLdcInsn(&quot;3&quot;);\n    mv.visitLdcInsn(&quot;2&quot;);\n    mv.visitLdcInsn(&quot;1&quot;);\n\n    stackManipulation(mv);\n\n    mv.visitInvokeDynamicInsn(&quot;concat&quot;, &quot;(&quot; + s.repeat(9) + &quot;)&quot; + s, new Handle(\n        H_INVOKESTATIC, &quot;java/lang/invoke/StringConcatFactory&quot;, &quot;makeConcat&quot;,\n        MethodType.methodType(CallSite.class, MethodHandles.Lookup.class,\n           String.class, MethodType.class).toMethodDescriptorString(), false));\n    mv.visitInsn(ARETURN);\n    mv.visitMaxs(9, 0);\n\n    String result = (String)MethodHandles.lookup().defineClass(cw.toByteArray())\n        .getMethod(&quot;test&quot;).invoke(null);\n    System.out.println(result);\n  }\n\n  private static void stackManipulation(MethodVisitor mv) {\n                           // ...321\n    mv.visitInsn(DUP2_X1); // ...21321\n    mv.visitInsn(POP2);    // ...213\n    mv.visitInsn(DUP_X2);  // ...3213\n    mv.visitInsn(DUP_X2);  // ...33213\n    mv.visitInsn(POP);     // ...3321\n    mv.visitInsn(DUP2_X1); // ...321321\n  }\n}\n</code></pre>\n<p>and prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>654321321\n</code></pre>\n<p>You may look at the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-6.html#jvms-6.5.dup\" rel=\"nofollow noreferrer\"><code>dup</code> instruction</a> and following sections in JVM specification for further reference.</p>\n"}],"owner":{"account_id":28087799,"reputation":21,"user_id":21457881,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75820424,"answer_count":1,"score":1,"last_activity_date":1679663619,"creation_date":1679501286,"question_id":75814691,"body_markdown":"I need to transform 654321 into 654321321, using only DUP2_X1, POP, DUP_X2, POP2. I have a really difficult time with the DUP. Can anyone help?\r\n\r\nI tried to go like this: 654321 DUP2_X1 654654321, then POP goes to 65465432, then DUP_X2 we&#39;d have 6543265432... but I don&#39;t think I am doing them correctly.","title":"Transform a stack using Java Virtual Machine Instruction Set","body":"<p>I need to transform 654321 into 654321321, using only DUP2_X1, POP, DUP_X2, POP2. I have a really difficult time with the DUP. Can anyone help?</p>\n<p>I tried to go like this: 654321 DUP2_X1 654654321, then POP goes to 65465432, then DUP_X2 we'd have 6543265432... but I don't think I am doing them correctly.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":7,"creation_date":1679663696,"post_id":75834101,"comment_id":133765984,"body_markdown":"Show us the definition of `Account`. My guess is that you made the fields in there `static`.","body":"Show us the definition of <code>Account</code>. My guess is that you made the fields in there <code>static</code>."},{"owner":{"account_id":28042437,"reputation":1,"user_id":21419768,"display_name":"BismuthPixels"},"score":0,"creation_date":1679665376,"post_id":75834101,"comment_id":133766439,"body_markdown":"@JoachimSauer Yeah that was the issue; I had it in as a quick fix to an earlier problem that I fixed and then I forgot to change it back. Ty!","body":"@JoachimSauer Yeah that was the issue; I had it in as a quick fix to an earlier problem that I fixed and then I forgot to change it back. Ty!"}],"owner":{"account_id":28042437,"reputation":1,"user_id":21419768,"display_name":"BismuthPixels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679663858,"answer_count":0,"score":0,"last_activity_date":1679663592,"creation_date":1679663592,"question_id":75834101,"body_markdown":"I&#39;m trying to put two separate objects in my Hashmap but when I do it just puts the same object in multiple times.\r\n\r\nSo I have a Hashmap \r\n`HashMap&lt;Integer, Account&gt; account_map = new HashMap&lt;&gt;();`\r\nand a method to make accounts that is\r\n\r\n```\r\npublic static Account makeAccount(int id, String handle) {\r\n        Account output_account\r\n                = new Account(id, handle,&quot; &quot;, 0) ;\r\n        return output_account;\r\n```\r\nI then go to put two accounts in my Hashmap by doing\r\n```\r\n        Account output1 = makeAccount(1, &quot;Hat&quot;);\r\n        Account output2 = makeAccount(2, &quot;Coat&quot;);\r\n        //output1 = makeAccount(1, &quot;Hat&quot;);\r\n        account_map.put(1, output1);\r\n        //output2 = makeAccount(2, &quot;Coat&quot;);\r\n        account_map.put(2, output2);\r\n        System.out.println(account_map);\r\n```\r\nbut that just returns the following\r\n\r\n```\r\n{1=Account ID: 2.\r\n Account Handle: Coat.\r\n Account Description:  .\r\n Account Popularity: 0.\r\nThis is the Most Popular Account: false, 2=Account ID: 2.\r\n Account Handle: Coat.\r\n Account Description:  .\r\n Account Popularity: 0.\r\nThis is the Most Popular Account: false}\r\n```\r\nWith output2 in both 1 and 2 rather than output1 in 1 and output2. Anyone able to help?","title":"HashMap puts in the same Object twice","body":"<p>I'm trying to put two separate objects in my Hashmap but when I do it just puts the same object in multiple times.</p>\n<p>So I have a Hashmap\n<code>HashMap&lt;Integer, Account&gt; account_map = new HashMap&lt;&gt;();</code>\nand a method to make accounts that is</p>\n<pre><code>public static Account makeAccount(int id, String handle) {\n        Account output_account\n                = new Account(id, handle,&quot; &quot;, 0) ;\n        return output_account;\n</code></pre>\n<p>I then go to put two accounts in my Hashmap by doing</p>\n<pre><code>        Account output1 = makeAccount(1, &quot;Hat&quot;);\n        Account output2 = makeAccount(2, &quot;Coat&quot;);\n        //output1 = makeAccount(1, &quot;Hat&quot;);\n        account_map.put(1, output1);\n        //output2 = makeAccount(2, &quot;Coat&quot;);\n        account_map.put(2, output2);\n        System.out.println(account_map);\n</code></pre>\n<p>but that just returns the following</p>\n<pre><code>{1=Account ID: 2.\n Account Handle: Coat.\n Account Description:  .\n Account Popularity: 0.\nThis is the Most Popular Account: false, 2=Account ID: 2.\n Account Handle: Coat.\n Account Description:  .\n Account Popularity: 0.\nThis is the Most Popular Account: false}\n</code></pre>\n<p>With output2 in both 1 and 2 rather than output1 in 1 and output2. Anyone able to help?</p>\n"},{"tags":["java","spring","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":19225043,"reputation":231,"user_id":14048096,"display_name":"Valeriy Emelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679662079,"creation_date":1679662079,"answer_id":75833845,"question_id":65143220,"body_markdown":"My solution is based on adding a class with markers and using the @JsonView annotation. More details [here][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75833731/14048096","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>My solution is based on adding a class with markers and using the @JsonView annotation. More details <a href=\"https://stackoverflow.com/a/75833731/14048096\">here</a></p>\n"},{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679663358,"creation_date":1679663358,"answer_id":75834064,"question_id":65143220,"body_markdown":"Normally this is done via a combination of schema and path parameters.  You would then mark your id property as `readOnly`, and allow the user to specify which object to update via the path parameter.  Take a look at this example.  Feel free to copy it and paste it into the [swagger editor][1] to play around with it as well.\r\n```yaml\r\nopenapi: 3.0.4\r\ninfo:\r\n  title: User With ReadOnly ID\r\n  description: demoing readOnly propertyuser id in pat for put operation as r\r\n  version: 1.0.17\r\nservers:\r\n  - url: /api/v1\r\npaths:\r\n  /user:\r\n    post:\r\n      tags:\r\n        - user\r\n      summary: Create user\r\n      description: This can only be done by the logged in user.\r\n      operationId: createUser\r\n      requestBody:\r\n        description: Created user object\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/xml:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/x-www-form-urlencoded:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n      responses:\r\n        default:\r\n          description: successful operation\r\n          content:\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n            application/xml:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n  /user/{user-id}:\r\n    get:\r\n      tags:\r\n        - user\r\n      summary: Get user by user id\r\n      description: &#39;&#39;\r\n      operationId: getUserById\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: &#39;The name that needs to be fetched. Use user1 for testing. &#39;\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: successful operation\r\n          content:\r\n            application/xml:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n            application/json:\r\n              schema:\r\n                $ref: &#39;#/components/schemas/User&#39;\r\n        &#39;400&#39;:\r\n          description: Invalid user id supplied\r\n        &#39;404&#39;:\r\n          description: User not found\r\n    put:\r\n      tags:\r\n        - user\r\n      summary: Update user\r\n      description: This can only be done by the logged in user.\r\n      operationId: updateUser\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: id that needs to be deleted\r\n          required: true\r\n          schema:\r\n            type: string\r\n      requestBody:\r\n        description: Update an existent user\r\n        content:\r\n          application/json:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/xml:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n          application/x-www-form-urlencoded:\r\n            schema:\r\n              $ref: &#39;#/components/schemas/User&#39;\r\n      responses:\r\n        default:\r\n          description: successful operation\r\n    delete:\r\n      tags:\r\n        - user\r\n      summary: Delete user\r\n      description: This can only be done by the logged in user.\r\n      operationId: deleteUser\r\n      parameters:\r\n        - name: user-id\r\n          in: path\r\n          description: The id that needs to be deleted\r\n          required: true\r\n          schema:\r\n            type: string\r\n      responses:\r\n        &#39;400&#39;:\r\n          description: Invalid user id supplied\r\n        &#39;404&#39;:\r\n          description: User not found\r\ncomponents:\r\n  schemas:\r\n    User:\r\n      type: object\r\n      properties:\r\n        id:\r\n          type: string\r\n          format: uuid\r\n          example: 10\r\n          readOnly: true\r\n        username:\r\n          type: string\r\n          example: theUser\r\n        firstName:\r\n          type: string\r\n          example: John\r\n        lastName:\r\n          type: string\r\n          example: James\r\n        email:\r\n          type: string\r\n          example: john@email.com\r\n        password:\r\n          type: string\r\n          example: &#39;12345&#39;\r\n        phone:\r\n          type: string\r\n          example: &#39;12345&#39;\r\n        userStatus:\r\n          type: integer\r\n          description: User Status\r\n          format: int32\r\n          example: 1\r\n      xml:\r\n        name: user\r\n```\r\n\r\nHere, by marking the id as readOnly, it is not displayed in the UI for a request object, such as this post request:\r\n\r\n[![POST Request schema][2]][2]\r\n\r\nHowever, in the get request, we can clearly see the id exists in the schema:\r\n\r\n[![GET request][3]][3]\r\n\r\n\r\n  [1]: https://editor.swagger.io/\r\n  [2]: https://i.stack.imgur.com/eSNQg.png\r\n  [3]: https://i.stack.imgur.com/D368b.png","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>Normally this is done via a combination of schema and path parameters.  You would then mark your id property as <code>readOnly</code>, and allow the user to specify which object to update via the path parameter.  Take a look at this example.  Feel free to copy it and paste it into the <a href=\"https://editor.swagger.io/\" rel=\"nofollow noreferrer\">swagger editor</a> to play around with it as well.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.4\ninfo:\n  title: User With ReadOnly ID\n  description: demoing readOnly propertyuser id in pat for put operation as r\n  version: 1.0.17\nservers:\n  - url: /api/v1\npaths:\n  /user:\n    post:\n      tags:\n        - user\n      summary: Create user\n      description: This can only be done by the logged in user.\n      operationId: createUser\n      requestBody:\n        description: Created user object\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/User'\n      responses:\n        default:\n          description: successful operation\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/User'\n  /user/{user-id}:\n    get:\n      tags:\n        - user\n      summary: Get user by user id\n      description: ''\n      operationId: getUserById\n      parameters:\n        - name: user-id\n          in: path\n          description: 'The name that needs to be fetched. Use user1 for testing. '\n          required: true\n          schema:\n            type: string\n      responses:\n        '200':\n          description: successful operation\n          content:\n            application/xml:\n              schema:\n                $ref: '#/components/schemas/User'\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '400':\n          description: Invalid user id supplied\n        '404':\n          description: User not found\n    put:\n      tags:\n        - user\n      summary: Update user\n      description: This can only be done by the logged in user.\n      operationId: updateUser\n      parameters:\n        - name: user-id\n          in: path\n          description: id that needs to be deleted\n          required: true\n          schema:\n            type: string\n      requestBody:\n        description: Update an existent user\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/xml:\n            schema:\n              $ref: '#/components/schemas/User'\n          application/x-www-form-urlencoded:\n            schema:\n              $ref: '#/components/schemas/User'\n      responses:\n        default:\n          description: successful operation\n    delete:\n      tags:\n        - user\n      summary: Delete user\n      description: This can only be done by the logged in user.\n      operationId: deleteUser\n      parameters:\n        - name: user-id\n          in: path\n          description: The id that needs to be deleted\n          required: true\n          schema:\n            type: string\n      responses:\n        '400':\n          description: Invalid user id supplied\n        '404':\n          description: User not found\ncomponents:\n  schemas:\n    User:\n      type: object\n      properties:\n        id:\n          type: string\n          format: uuid\n          example: 10\n          readOnly: true\n        username:\n          type: string\n          example: theUser\n        firstName:\n          type: string\n          example: John\n        lastName:\n          type: string\n          example: James\n        email:\n          type: string\n          example: john@email.com\n        password:\n          type: string\n          example: '12345'\n        phone:\n          type: string\n          example: '12345'\n        userStatus:\n          type: integer\n          description: User Status\n          format: int32\n          example: 1\n      xml:\n        name: user\n</code></pre>\n<p>Here, by marking the id as readOnly, it is not displayed in the UI for a request object, such as this post request:</p>\n<p><a href=\"https://i.stack.imgur.com/eSNQg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSNQg.png\" alt=\"POST Request schema\" /></a></p>\n<p>However, in the get request, we can clearly see the id exists in the schema:</p>\n<p><a href=\"https://i.stack.imgur.com/D368b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D368b.png\" alt=\"GET request\" /></a></p>\n"}],"owner":{"account_id":10358338,"reputation":713,"user_id":7639540,"display_name":"Buzzet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1679663358,"creation_date":1607083395,"question_id":65143220,"body_markdown":"I want to implement 2 Endpoints in my REST API:\r\n\r\n    @PostMapping(&quot;/example&quot;)\r\n    public ObjectResponse postObject(@RequestBody Example example){... //Add new Example to DB}\r\n    \r\n    @PutMapping(&quot;/example&quot;)\r\n    public ObjectResponse postObject(@RequestBody Example example){...//Update existing Example}\r\n\r\nMy Example could look like this:\r\n\r\n    public class Example{\r\n       @Id\r\n       @Hidden\r\n       private String id;\r\n       private String somethingCool;\r\n    }\r\n\r\nI want to hide the ID, so that the User who uses Post doesnt send me an request with an ID. I want to let it generate by my mongoDB.\r\n\r\nOn the other useCase, during a Put an ID must be send in order to identify the Object that should be updated. But the ID Field on my Swagger 3.0 is here hidden as well.\r\n\r\nHow can I hide it on my Post but show it on my Put?\r\n\r\nThanks alot!\r\n","title":"Swagger (OpenAPI 3.0) Hide field only on Post, not on Put","body":"<p>I want to implement 2 Endpoints in my REST API:</p>\n<pre><code>@PostMapping(&quot;/example&quot;)\npublic ObjectResponse postObject(@RequestBody Example example){... //Add new Example to DB}\n\n@PutMapping(&quot;/example&quot;)\npublic ObjectResponse postObject(@RequestBody Example example){...//Update existing Example}\n</code></pre>\n<p>My Example could look like this:</p>\n<pre><code>public class Example{\n   @Id\n   @Hidden\n   private String id;\n   private String somethingCool;\n}\n</code></pre>\n<p>I want to hide the ID, so that the User who uses Post doesnt send me an request with an ID. I want to let it generate by my mongoDB.</p>\n<p>On the other useCase, during a Put an ID must be send in order to identify the Object that should be updated. But the ID Field on my Swagger 3.0 is here hidden as well.</p>\n<p>How can I hide it on my Post but show it on my Put?</p>\n<p>Thanks alot!</p>\n"},{"tags":["java","mysql","spring-boot","gradle","lombok"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1679663704,"post_id":75834050,"comment_id":133765987,"body_markdown":"I don&#39;t think the stuff you pasted is relevant to the error you get. There should be a stack trace or similar someplace; essentially that error means: I tried to connect to the database and I couldn&#39;t connect; therefore, I can&#39;t get the metadata (which is &#39;which tables exist in the db already&#39;, for example). The problem is presumably in how you auth to your database, or if the database isn&#39;t running, etc. Which requires knowing your DB, how auth is set up, and so on.","body":"I don&#39;t think the stuff you pasted is relevant to the error you get. There should be a stack trace or similar someplace; essentially that error means: I tried to connect to the database and I couldn&#39;t connect; therefore, I can&#39;t get the metadata (which is &#39;which tables exist in the db already&#39;, for example). The problem is presumably in how you auth to your database, or if the database isn&#39;t running, etc. Which requires knowing your DB, how auth is set up, and so on."},{"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"score":0,"creation_date":1679669166,"post_id":75834050,"comment_id":133767599,"body_markdown":"Would it be this that you are talking about?:  Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JPAExerciseRepository&#39; defined in org.example.persistence.JPAExerciseRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class org.example.persistence.entity.ExerciseEntity","body":"Would it be this that you are talking about?:  Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;JPAExerciseRepository&#39; defined in org.example.persistence.JPAExerciseRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class org.example.persistence.entity.ExerciseEntity"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1679672942,"post_id":75834050,"comment_id":133768686,"body_markdown":"That&#39;s certainly an interesting error. It sounds like that is a second, unrelated problem. You should edit the question and include it.","body":"That&#39;s certainly an interesting error. It sounds like that is a second, unrelated problem. You should edit the question and include it."}],"owner":{"account_id":23530222,"reputation":23,"user_id":17575988,"display_name":"Stoyan Grozdev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679663247,"creation_date":1679663247,"question_id":75834050,"body_markdown":"I am making a java application using spring boot with gradle and lombok. Right now I am having difficulties setting up the connection to the database. \r\nthis is in my resources.db.migration: \r\n\r\nCREATE TABLE users\r\n\r\n```\r\n(\r\n    id        int                                NOT NULL AUTO_INCREMENT,\r\n    role      enum(&#39;CUSTOMER&#39;,&#39;TRAINER&#39;,&#39;ADMINISTRATION&#39;) NOT NULL,\r\n    email     varchar(45)                        NOT NULL,\r\n    password  varchar(200)                       NOT NULL,\r\n    firstName varchar(45)                        NOT NULL,\r\n    lastName  varchar(45)                        NOT NULL,\r\n    PRIMARY KEY (id),\r\n    UNIQUE(email)\r\n);\r\n```\r\n\r\nand this is my resources: \r\n```\r\napplication.properties\r\nspring.datasource.url=jdbc:mysql://localhost:3306/hiddenName\r\nspring.datasource.username=hiddenUsername\r\nspring.datasource.password=hiddenPassword\r\n```\r\n\r\nand this is my build.gradle file: \r\n\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.3&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;HiddenName&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n    testImplementation &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n   testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.20.2&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;org.assertj:assertj-core:3.20.2&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\r\n    implementation &#39;mysql:mysql-connector-java:8.0.30&#39;\r\n    implementation &#39;ch.qos.logback:logback-classic:1.2.11&#39;\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.10&#39;\r\n   compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testRuntimeOnly &#39;com.h2database:h2&#39;\r\n\r\n\r\n\r\nyour text\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\nEvery time I run the program I get the error &quot;Could not obtain connection to query metadata&quot;. What am I doing wrong and what is the fix? \r\n\r\nI expect that the connection will be possible and that the program will compile.","title":"Could not obtain connection to query metadata","body":"<p>I am making a java application using spring boot with gradle and lombok. Right now I am having difficulties setting up the connection to the database.\nthis is in my resources.db.migration:</p>\n<p>CREATE TABLE users</p>\n<pre><code>(\n    id        int                                NOT NULL AUTO_INCREMENT,\n    role      enum('CUSTOMER','TRAINER','ADMINISTRATION') NOT NULL,\n    email     varchar(45)                        NOT NULL,\n    password  varchar(200)                       NOT NULL,\n    firstName varchar(45)                        NOT NULL,\n    lastName  varchar(45)                        NOT NULL,\n    PRIMARY KEY (id),\n    UNIQUE(email)\n);\n</code></pre>\n<p>and this is my resources:</p>\n<pre><code>application.properties\nspring.datasource.url=jdbc:mysql://localhost:3306/hiddenName\nspring.datasource.username=hiddenUsername\nspring.datasource.password=hiddenPassword\n</code></pre>\n<p>and this is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.3'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    id 'java'\n}\n\ngroup = 'HiddenName'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'ch.qos.logback:logback-classic:1.2.11'\n    testImplementation 'org.projectlombok:lombok:1.18.22'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n   testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.assertj:assertj-core:3.20.2'\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'org.assertj:assertj-core:3.20.2'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n   implementation 'org.springframework.boot:spring-boot-starter-validation'\n\n    implementation 'mysql:mysql-connector-java:8.0.30'\n    implementation 'ch.qos.logback:logback-classic:1.2.11'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.10'\n   compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testRuntimeOnly 'com.h2database:h2'\n\n\n\nyour text\n}\n\ntest {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>Every time I run the program I get the error &quot;Could not obtain connection to query metadata&quot;. What am I doing wrong and what is the fix?</p>\n<p>I expect that the connection will be possible and that the program will compile.</p>\n"},{"tags":["javascript","java","html","angularjs"],"answers":[{"tags":[],"owner":{"account_id":20797923,"reputation":1,"user_id":15274592,"display_name":"Augusto Savi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679663003,"creation_date":1679663003,"answer_id":75834010,"question_id":75722470,"body_markdown":"Couldn&#39;t you check with the field this with the status of dirty? something like: ng-touched or ng-dirty","title":"Angular: how to return HTML validation if email input is null","body":"<p>Couldn't you check with the field this with the status of dirty? something like: ng-touched or ng-dirty</p>\n"}],"owner":{"account_id":28005835,"reputation":1,"user_id":21389265,"display_name":"shazzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679663003,"creation_date":1678713838,"question_id":75722470,"body_markdown":"I want to be able to create a HTML validation when the input for an email is null. So far it can only return an error if there isn&#39;t a correct email input, but not when the input is empty. \r\n\r\n     get controls() {\r\n        return this.userForm.controls;\r\n      }\r\n\r\n      onSubmit() {\r\n        if (this.userForm.invalid) {\r\n          return;\r\n        }\r\n        if (this.userForm == &#39;&#39;) {\r\n          return;\r\n        }\r\n        const newEmail: UpdateEmailRequest = {\r\n          emailAddress: this.userForm.value.email,\r\n          confirmEmailAddress: this.userForm.value.confirmEmail,\r\n        };\r\n\r\n        this.memberService.updateEmail(newEmail, this.userProfile.id).subscribe(\r\n          (res: any) =&gt; {\r\n            this.notificationService.success(\r\n              ACCOUNT_MESSAGES.NOTIFICATION.SUCCESS_PROFILE_UPDATED\r\n            );\r\n          },\r\n          () =&gt; {\r\n            this.notificationService.error(MESSAGES.NOTIFICATION.FAILURE);\r\n          }\r\n        );\r\n      }","title":"Angular: how to return HTML validation if email input is null","body":"<p>I want to be able to create a HTML validation when the input for an email is null. So far it can only return an error if there isn't a correct email input, but not when the input is empty.</p>\n<pre><code> get controls() {\n    return this.userForm.controls;\n  }\n\n  onSubmit() {\n    if (this.userForm.invalid) {\n      return;\n    }\n    if (this.userForm == '') {\n      return;\n    }\n    const newEmail: UpdateEmailRequest = {\n      emailAddress: this.userForm.value.email,\n      confirmEmailAddress: this.userForm.value.confirmEmail,\n    };\n\n    this.memberService.updateEmail(newEmail, this.userProfile.id).subscribe(\n      (res: any) =&gt; {\n        this.notificationService.success(\n          ACCOUNT_MESSAGES.NOTIFICATION.SUCCESS_PROFILE_UPDATED\n        );\n      },\n      () =&gt; {\n        this.notificationService.error(MESSAGES.NOTIFICATION.FAILURE);\n      }\n    );\n  }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1679494186,"post_id":75813292,"comment_id":133732099,"body_markdown":"[Month: If the number of pattern letters is 3 or more, the month is interpreted as text; otherwise, it is interpreted as a number.](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">Month: If the number of pattern letters is 3 or more, the month is interpreted as text; otherwise, it is interpreted as a number.</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1679494387,"post_id":75813292,"comment_id":133732169,"body_markdown":"In other words: `MMM` should be the same as what you see.","body":"In other words: <code>MMM</code> should be the same as what you see."},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":1,"creation_date":1679494969,"post_id":75813292,"comment_id":133732360,"body_markdown":"*MMM should be the same as what you see*  ... Well, not really ... 3 is short and 4 or more is full month name","body":"<i>MMM should be the same as what you see</i>  ... Well, not really ... 3 is short and 4 or more is full month name"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679496154,"post_id":75813292,"comment_id":133732772,"body_markdown":"@Selvin no difference for parsing (but `MMMM` would be correct for formatting) || Patty - try using `Locale.US` or `Locale.UK` - see https://ideone.com/pxhFSo","body":"@Selvin no difference for parsing (but <code>MMMM</code> would be correct for formatting) || Patty - try using <code>Locale.US</code> or <code>Locale.UK</code> - see <a href=\"https://ideone.com/pxhFSo\" rel=\"nofollow noreferrer\">ideone.com/pxhFSo</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679496738,"post_id":75813292,"comment_id":133732973,"body_markdown":"(missing in first comment [&quot;**Text:** For formatting, if the number of pattern letters is 4 or more, the full form is used; otherwise a short or abbreviated form is used if available. For parsing, both forms are accepted, independent of the number of pattern letters.&quot;](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#text))","body":"(missing in first comment <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#text\" rel=\"nofollow noreferrer\">&quot;<b>Text:</b> For formatting, if the number of pattern letters is 4 or more, the full form is used; otherwise a short or abbreviated form is used if available. For parsing, both forms are accepted, independent of the number of pattern letters.&quot;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":3165766,"reputation":351,"user_id":2675828,"display_name":"Patty P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679662883,"creation_date":1679662883,"answer_id":75833987,"question_id":75813292,"body_markdown":"This is solved in the comments thanks for the help.","title":"Android Datetime","body":"<p>This is solved in the comments thanks for the help.</p>\n"}],"owner":{"account_id":3165766,"reputation":351,"user_id":2675828,"display_name":"Patty P"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75833987,"answer_count":1,"score":0,"last_activity_date":1679662883,"creation_date":1679493937,"question_id":75813292,"body_markdown":"So I&#39;m trying to figure out the correct date format in this legacy code base to use. Currently the code is using this format:\r\n\r\n```java\r\nSimpleDateFormat df = new SimpleDateFormat(&quot;MMMMMMMMM dd, yyyy K:mm a&quot;, Locale.ROOT);\r\n```\r\n\r\nThe values coming in to be parsed look like this coming back `October 08, 2021 08:15 PM`;\r\n\r\nMy question is what the heck kind of format is that for the month. I&#39;ve done some research and I can&#39;t find any information on MMMMMMMMM.","title":"Android Datetime","body":"<p>So I'm trying to figure out the correct date format in this legacy code base to use. Currently the code is using this format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat df = new SimpleDateFormat(&quot;MMMMMMMMM dd, yyyy K:mm a&quot;, Locale.ROOT);\n</code></pre>\n<p>The values coming in to be parsed look like this coming back <code>October 08, 2021 08:15 PM</code>;</p>\n<p>My question is what the heck kind of format is that for the month. I've done some research and I can't find any information on MMMMMMMMM.</p>\n"},{"tags":["java","android","animation","android-animation"],"comments":[{"owner":{"account_id":9097895,"reputation":843,"user_id":6771202,"display_name":"Sachintha Hewawasam"},"score":0,"creation_date":1679667731,"post_id":75833932,"comment_id":133767151,"body_markdown":"The only suggestion I would make is to use a more descriptive name for the point variable that holds the position of the car. Perhaps carImageView or carPosition would be more appropriate. This would make the code easier to read and understand.","body":"The only suggestion I would make is to use a more descriptive name for the point variable that holds the position of the car. Perhaps carImageView or carPosition would be more appropriate. This would make the code easier to read and understand."},{"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"score":0,"creation_date":1679755090,"post_id":75833932,"comment_id":133779359,"body_markdown":"@sachinthahewawasam, by the way, this code generated ChatGPT, because I didn&#39;t find any answers for my questions.","body":"@sachinthahewawasam, by the way, this code generated ChatGPT, because I didn&#39;t find any answers for my questions."}],"owner":{"account_id":27166721,"reputation":27,"user_id":21260391,"display_name":"Person"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679662536,"creation_date":1679662536,"question_id":75833932,"body_markdown":"I&#39;m trying to animate the movement of an object.\r\nWhat I have:\r\n1. A map on which there are certain objects.\r\n2. A picture (let it be a car) that moves across the map at speed.\r\nWhat is needed:\r\nWhen the user clicks on the map, the code checks whether this color is prohibited in the list (because the car cannot drive through buildings) - it goes to the point the user clicked on and during movement it is always checked whether the next 2 pixels of the picture are the prohibited ones in the color that is in the list, if it is true, it stops, if not, it goes on. Here is my code that should work:\r\n```java\r\nmap.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\r\n                    // Get the touched position on the map\r\n                    float clickedX = event.getX();\r\n                    float clickedY = event.getY();\r\n\r\n                    // Get the current position of the car\r\n                    float carX = point.getX();\r\n                    float carY = point.getY();\r\n\r\n                    // Check if the clicked pixel is red\r\n                    Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\r\n                    int clickedPixel = bitmap.getPixel((int) clickedX, (int) clickedY);\r\n                    int pixelColor = getPixelColor((int) clickedX, (int) clickedY);\r\n                    int[] forbiddenColors = {Color.rgb(102,112,127), Color.rgb(76, 76, 76)}; // add any other forbidden colors\r\n\r\n                    // If the touched pixel color is a forbidden color, move the car to the nearest possible point that is not forbidden\r\n                    if (isForbiddenColor(pixelColor, forbiddenColors)) {\r\n                        PointF nearestPoint = findNextNonForbiddenPoint(carX, carY, clickedX, clickedY, forbiddenColors, screenWidth, screenHeight);\r\n                        clickedX = nearestPoint.x;\r\n                        clickedY = nearestPoint.y;\r\n                    }\r\n\r\n                    // Calculate the distance between the car and the touched point\r\n                    float distance = calculateDistance(carX, carY, clickedX, clickedY);\r\n\r\n                    // Calculate the duration it will take to travel the distance at 50 pixels per second\r\n                    long duration = (long) (distance / 50 * 1000);\r\n\r\n                    // Create a ValueAnimator to move the car to the touched point\r\n                    ValueAnimator animator = ValueAnimator.ofFloat(0f, 1f);\r\n                    animator.setDuration(duration);\r\n\r\n                    final float startX = carX;\r\n                    final float startY = carY;\r\n                    final float endX = clickedX;\r\n                    final float endY = clickedY;\r\n\r\n                    // Set an UpdateListener to update the carImageView&#39;s position during the animation\r\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\r\n                        @Override\r\n                        public void onAnimationUpdate(ValueAnimator animation) {\r\n                            float fraction = animation.getAnimatedFraction();\r\n                            float x = startX + fraction * (endX - startX);\r\n                            float y = startY + fraction * (endY - startY);\r\n                            point.setX(x);\r\n                            point.setY(y);\r\n                        }\r\n                    });\r\n\r\n                    // Start the animation\r\n                    animator.start();\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n```\r\nand here some mothods:\r\n```java\r\n// Helper method to check if a color is one of the forbidden colors\r\n    private boolean isForbiddenColor(int color, int[] forbiddenColors) {\r\n        for (int c : forbiddenColors) {\r\n            if (color == c) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private int getPixelColor(int x, int y) {\r\n        Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\r\n        return bitmap.getPixel(x, y);\r\n    }\r\n\r\n    // Calculate the distance between two points using the Pythagorean theorem\r\n    private float calculateDistance(float x1, float y1, float x2, float y2) {\r\n        float dx = x2 - x1;\r\n        float dy = y2 - y1;\r\n        return (float) Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n\r\n    private PointF findNextNonForbiddenPoint(float startX, float startY, float endX, float endY, int[] forbiddenColors, int screenWidth, int screenHeight) {\r\n        // Calculate direction vector from start point to end point\r\n        PointF direction = new PointF(endX - startX, endY - startY);\r\n        // Normalize direction vector\r\n        float distance = (float) Math.sqrt(direction.x * direction.x + direction.y * direction.y);\r\n        if (distance &gt; 0) {\r\n            direction.set(direction.x / distance, direction.y / distance);\r\n        }\r\n\r\n        // Check for forbidden colors in 1-pixel steps along the direction vector\r\n        PointF nextPoint = new PointF(startX, startY);\r\n        while (isForbiddenColor(getPixelColor((int) nextPoint.x, (int) nextPoint.y), forbiddenColors)) {\r\n            nextPoint.offset(direction.x, direction.y);\r\n            // If next point is out of bounds, return null\r\n            if (nextPoint.x &lt; 0 || nextPoint.x &gt;= screenWidth || nextPoint.y &lt; 0 || nextPoint.y &gt;= screenHeight) {\r\n                return null;\r\n            }\r\n        }\r\n        return nextPoint;\r\n    }\r\n```","title":"Animations on pictures","body":"<p>I'm trying to animate the movement of an object.\nWhat I have:</p>\n<ol>\n<li>A map on which there are certain objects.</li>\n<li>A picture (let it be a car) that moves across the map at speed.\nWhat is needed:\nWhen the user clicks on the map, the code checks whether this color is prohibited in the list (because the car cannot drive through buildings) - it goes to the point the user clicked on and during movement it is always checked whether the next 2 pixels of the picture are the prohibited ones in the color that is in the list, if it is true, it stops, if not, it goes on. Here is my code that should work:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>map.setOnTouchListener(new View.OnTouchListener() {\n            @Override\n            public boolean onTouch(View v, MotionEvent event) {\n                if (event.getAction() == MotionEvent.ACTION_DOWN) {\n                    // Get the touched position on the map\n                    float clickedX = event.getX();\n                    float clickedY = event.getY();\n\n                    // Get the current position of the car\n                    float carX = point.getX();\n                    float carY = point.getY();\n\n                    // Check if the clicked pixel is red\n                    Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\n                    int clickedPixel = bitmap.getPixel((int) clickedX, (int) clickedY);\n                    int pixelColor = getPixelColor((int) clickedX, (int) clickedY);\n                    int[] forbiddenColors = {Color.rgb(102,112,127), Color.rgb(76, 76, 76)}; // add any other forbidden colors\n\n                    // If the touched pixel color is a forbidden color, move the car to the nearest possible point that is not forbidden\n                    if (isForbiddenColor(pixelColor, forbiddenColors)) {\n                        PointF nearestPoint = findNextNonForbiddenPoint(carX, carY, clickedX, clickedY, forbiddenColors, screenWidth, screenHeight);\n                        clickedX = nearestPoint.x;\n                        clickedY = nearestPoint.y;\n                    }\n\n                    // Calculate the distance between the car and the touched point\n                    float distance = calculateDistance(carX, carY, clickedX, clickedY);\n\n                    // Calculate the duration it will take to travel the distance at 50 pixels per second\n                    long duration = (long) (distance / 50 * 1000);\n\n                    // Create a ValueAnimator to move the car to the touched point\n                    ValueAnimator animator = ValueAnimator.ofFloat(0f, 1f);\n                    animator.setDuration(duration);\n\n                    final float startX = carX;\n                    final float startY = carY;\n                    final float endX = clickedX;\n                    final float endY = clickedY;\n\n                    // Set an UpdateListener to update the carImageView's position during the animation\n                    animator.addUpdateListener(new ValueAnimator.AnimatorUpdateListener() {\n                        @Override\n                        public void onAnimationUpdate(ValueAnimator animation) {\n                            float fraction = animation.getAnimatedFraction();\n                            float x = startX + fraction * (endX - startX);\n                            float y = startY + fraction * (endY - startY);\n                            point.setX(x);\n                            point.setY(y);\n                        }\n                    });\n\n                    // Start the animation\n                    animator.start();\n                }\n                return true;\n            }\n        });\n</code></pre>\n<p>and here some mothods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Helper method to check if a color is one of the forbidden colors\n    private boolean isForbiddenColor(int color, int[] forbiddenColors) {\n        for (int c : forbiddenColors) {\n            if (color == c) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private int getPixelColor(int x, int y) {\n        Bitmap bitmap = ((BitmapDrawable) map.getDrawable()).getBitmap();\n        return bitmap.getPixel(x, y);\n    }\n\n    // Calculate the distance between two points using the Pythagorean theorem\n    private float calculateDistance(float x1, float y1, float x2, float y2) {\n        float dx = x2 - x1;\n        float dy = y2 - y1;\n        return (float) Math.sqrt(dx * dx + dy * dy);\n    }\n\n    private PointF findNextNonForbiddenPoint(float startX, float startY, float endX, float endY, int[] forbiddenColors, int screenWidth, int screenHeight) {\n        // Calculate direction vector from start point to end point\n        PointF direction = new PointF(endX - startX, endY - startY);\n        // Normalize direction vector\n        float distance = (float) Math.sqrt(direction.x * direction.x + direction.y * direction.y);\n        if (distance &gt; 0) {\n            direction.set(direction.x / distance, direction.y / distance);\n        }\n\n        // Check for forbidden colors in 1-pixel steps along the direction vector\n        PointF nextPoint = new PointF(startX, startY);\n        while (isForbiddenColor(getPixelColor((int) nextPoint.x, (int) nextPoint.y), forbiddenColors)) {\n            nextPoint.offset(direction.x, direction.y);\n            // If next point is out of bounds, return null\n            if (nextPoint.x &lt; 0 || nextPoint.x &gt;= screenWidth || nextPoint.y &lt; 0 || nextPoint.y &gt;= screenHeight) {\n                return null;\n            }\n        }\n        return nextPoint;\n    }\n</code></pre>\n"},{"tags":["java","oauth-2.0","talend"],"owner":{"account_id":28114304,"reputation":11,"user_id":21481633,"display_name":"aouadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679662531,"creation_date":1679662416,"question_id":75833914,"body_markdown":"I am not able to connect to IMAP store . I have this error. I want to implement oauth2 to my talend project\r\n\r\n```\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n&#160;&#160;&#160; at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n&#160;&#160;&#160; at javax.mail.Service.connect(Service.java:366)\r\n```\r\nCode : \r\n\r\n```\r\nimport javax.mail.Flags;\r\nimport javax.mail.Folder;\r\nimport javax.mail.Message;\r\nimport javax.mail.Session;\r\nimport javax.mail.search.FlagTerm;&#160;import com.sun.mail.imap.IMAPStore;&#160;\r\npublic class Email {\r\n&#160;&#160;&#160; public static void main(String[] args) throws Exception {\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String username = &quot;my_username&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String password = &quot;my_password&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String clientId = &quot;my_client_id&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String clientSecret = &quot;my_client_secret&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String imapHost = &quot;outlook.office365.com&quot;;\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; final String imapPort = &quot;993&quot;;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\n        Properties props = new Properties();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.ssl.trust&quot;, imapHost);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientId&quot;,clientId);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientSecret&quot;, clientSecret);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nSession session = Session.getInstance(props);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; IMAPStore store = (IMAPStore) session.getStore(&quot;imap&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; store.connect(imapHost, Integer.parseInt(imapPort), username, password);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nFolder inbox = store.getFolder(&quot;inbox&quot;);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; inbox.open(Folder.READ_ONLY);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nFlags seen = new Flags(Flags.Flag.SEEN);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; FlagTerm unseenFlagTerm = new FlagTerm(seen, false);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; Message[] messages = inbox.search(unseenFlagTerm);&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \r\nfor (Message message :messages){\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Subject: &quot; + message.getSubject());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;From: &quot; + message.getFrom()[0]);\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println(&quot;Sent Date: &quot; + message.getSentDate());\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; System.out.println();\r\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160;&#160; }\r\n}\r\n```\r\n\r\n\r\n\r\nI want to connect to my account microsoft\r\ni tried few solutions suggested but they dint work .","title":"AUTHENTICATE failed. IMAP Store is not connecting","body":"<p>I am not able to connect to IMAP store . I have this error. I want to implement oauth2 to my talend project</p>\n<pre><code>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\n    at javax.mail.Service.connect(Service.java:366)\n</code></pre>\n<p>Code :</p>\n<pre><code>import javax.mail.Flags;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.Session;\nimport javax.mail.search.FlagTerm; import com.sun.mail.imap.IMAPStore; \npublic class Email {\n    public static void main(String[] args) throws Exception {\n        final String username = &quot;my_username&quot;;\n        final String password = &quot;my_password&quot;;\n        final String clientId = &quot;my_client_id&quot;;\n        final String clientSecret = &quot;my_client_secret&quot;;\n        final String imapHost = &quot;outlook.office365.com&quot;;\n        final String imapPort = &quot;993&quot;;         \n        Properties props = new Properties();\n        props.put(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.sasl.enable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.sasl.mechanisms&quot;, &quot;XOAUTH2&quot;);\n        props.put(&quot;mail.imap.auth.login.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n        props.put(&quot;mail.imap.ssl.trust&quot;, imapHost);\n        props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientId&quot;,clientId);\n        props.put(&quot;mail.imap.sasl.mechanisms.oauth2.clientSecret&quot;, clientSecret);         \nSession session = Session.getInstance(props);\n        IMAPStore store = (IMAPStore) session.getStore(&quot;imap&quot;);\n        store.connect(imapHost, Integer.parseInt(imapPort), username, password);         \nFolder inbox = store.getFolder(&quot;inbox&quot;);\n        inbox.open(Folder.READ_ONLY);         \nFlags seen = new Flags(Flags.Flag.SEEN);\n        FlagTerm unseenFlagTerm = new FlagTerm(seen, false);\n        Message[] messages = inbox.search(unseenFlagTerm);         \nfor (Message message :messages){\n            System.out.println(&quot;Subject: &quot; + message.getSubject());\n            System.out.println(&quot;From: &quot; + message.getFrom()[0]);\n            System.out.println(&quot;Sent Date: &quot; + message.getSentDate());\n            System.out.println();\n        }     }\n}\n</code></pre>\n<p>I want to connect to my account microsoft\ni tried few solutions suggested but they dint work .</p>\n"},{"tags":["java","spring","oracle","scheduler"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1679656604,"post_id":75829753,"comment_id":133764158,"body_markdown":"V$ tables are not history tables. They are real-time views of what&#39;s happening in the database. SQL will only be visible there while it is shared_pool, which may be longer for some commands than for others. Oracle has internal algorithms to determine how long certain commands are retained there. Some statements may only be visible there for the fraction of a second they are being executed.","body":"V$ tables are not history tables. They are real-time views of what&#39;s happening in the database. SQL will only be visible there while it is shared_pool, which may be longer for some commands than for others. Oracle has internal algorithms to determine how long certain commands are retained there. Some statements may only be visible there for the fraction of a second they are being executed."}],"answers":[{"tags":[],"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679662309,"creation_date":1679662309,"answer_id":75833888,"question_id":75829753,"body_markdown":"As pmdba mentioned, `v$sql` is volatile. DDL&#39;s never show up, and other cursors are removed on an as-needed basis. But as you say you are querying every minute, you certainly should see your SQL.\r\n\r\n1. First, you are asking only for recently loaded cursors. It is possible that your insert was first parsed and loaded into the shared pool many months ago. I can&#39;t recall if `LAST_ACTIVE_TIME` was introduced already in 11.2 or not, but if it was, use that instead and look at the last few minutes. Otherwise, remove the date filter.\r\n\r\n2. Secondly, you mentioned that you are joining to `v$session`, though your SQL above doesn&#39;t show that. Don&#39;t join to `v$session` - the inserting sessions may be very short and no longer present. If you need to see (recent) history, you can query `v$active_session_history` once you know the `SQL_ID`.\r\n\r\n3. Thirdly, find out if it&#39;s a clustered RAC database (query `gv$instance`, if you get more than one row, you&#39;re in RAC). If you are, you will need to use `gv$sql`, not `v$sql`, as you may be querying on a different instance than the application is connecting to.\r\n\r\n4. Fourthly, you can insert rows using a `MERGE` statement, so check for those too... not just `INSERT`.\r\n\r\n5. Fifthly, you are looking for the table name, but you can insert through a synonym or a view. Look for any synonyms pointing to the table, or any views over the table and check for inserts or merges into them.\r\n\r\n6. Lastly, check v$sql_plan so you can get a positive match on the actual physical table name:\r\n\r\n        SELECT *\r\n          FROM v$sql_plan\r\n         WHERE (operation LIKE &#39;%INSERT%&#39; OR operation LIKE &#39;%LOAD%&#39; OR operation LIKE &#39;%MERGE%&#39; OR operation LIKE &#39;%UPSERT%&#39;)\r\n           AND object_name = &#39;[table name]&#39;\r\n\r\nIf you find it, get the `sql_id` and look in `gv$sql` and then figure out why your query wasn&#39;t finding it.\r\n\r\nHope these ideas help.\r\n\r\n","title":"Data is being inserted, but cannot find the query history in v$sql table. (Oracle 11g 11.2.0.2.0)","body":"<p>As pmdba mentioned, <code>v$sql</code> is volatile. DDL's never show up, and other cursors are removed on an as-needed basis. But as you say you are querying every minute, you certainly should see your SQL.</p>\n<ol>\n<li><p>First, you are asking only for recently loaded cursors. It is possible that your insert was first parsed and loaded into the shared pool many months ago. I can't recall if <code>LAST_ACTIVE_TIME</code> was introduced already in 11.2 or not, but if it was, use that instead and look at the last few minutes. Otherwise, remove the date filter.</p>\n</li>\n<li><p>Secondly, you mentioned that you are joining to <code>v$session</code>, though your SQL above doesn't show that. Don't join to <code>v$session</code> - the inserting sessions may be very short and no longer present. If you need to see (recent) history, you can query <code>v$active_session_history</code> once you know the <code>SQL_ID</code>.</p>\n</li>\n<li><p>Thirdly, find out if it's a clustered RAC database (query <code>gv$instance</code>, if you get more than one row, you're in RAC). If you are, you will need to use <code>gv$sql</code>, not <code>v$sql</code>, as you may be querying on a different instance than the application is connecting to.</p>\n</li>\n<li><p>Fourthly, you can insert rows using a <code>MERGE</code> statement, so check for those too... not just <code>INSERT</code>.</p>\n</li>\n<li><p>Fifthly, you are looking for the table name, but you can insert through a synonym or a view. Look for any synonyms pointing to the table, or any views over the table and check for inserts or merges into them.</p>\n</li>\n<li><p>Lastly, check v$sql_plan so you can get a positive match on the actual physical table name:</p>\n<pre><code> SELECT *\n   FROM v$sql_plan\n  WHERE (operation LIKE '%INSERT%' OR operation LIKE '%LOAD%' OR operation LIKE '%MERGE%' OR operation LIKE '%UPSERT%')\n    AND object_name = '[table name]'\n</code></pre>\n</li>\n</ol>\n<p>If you find it, get the <code>sql_id</code> and look in <code>gv$sql</code> and then figure out why your query wasn't finding it.</p>\n<p>Hope these ideas help.</p>\n"}],"owner":{"account_id":23267653,"reputation":11,"user_id":17352926,"display_name":"정상준"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833888,"answer_count":1,"score":0,"last_activity_date":1679662309,"creation_date":1679628253,"question_id":75829753,"body_markdown":"I&#39;m trying to find a Spring scheduled process which inserts data into a particular table,\r\nbut cannot find the WAS server that the spring application is running on.\r\n\r\n\r\n\r\nSo I tried to track the Spring application by the running queries,\r\nwhich can be joined with the sessions table(v$session) to get machine name or other information.\r\n\r\n```\r\nSELECT\r\n\tv.SQL_TEXT,\r\n\tv.PARSING_SCHEMA_NAME,\r\n\tv.LAST_LOAD_TIME,\r\n\tv.DISK_READS,\r\n\tv.ROWS_PROCESSED,\r\n\tv.ELAPSED_TIME,\r\n\tv.service,\r\n\tv.MODULE\r\nFROM\r\n\tv$sql v\r\nWHERE\r\n\tto_date(v.FIRST_LOAD_TIME, &#39;YYYY-MM-DD hh24:mi:ss&#39;)&gt;ADD_MONTHS(trunc(sysdate, &#39;MM&#39;),-2)\r\n\tAND LOWER(SQL_TEXT) LIKE &#39;%[the_table_name]%&#39;\r\n\tAND LOWER(SQL_TEXT) LIKE &#39;%insert %&#39;\r\nORDER BY\r\n\tFIRST_LOAD_TIME DESC\r\n```\r\n\r\nThe scheduled process runs every minute,\r\nbut I couldn&#39;t find the query that inserts data into the target table.\r\n\r\nAm I doing something wrong?\r\nOr is there a way to insert data without logging in the v$sql table?","title":"Data is being inserted, but cannot find the query history in v$sql table. (Oracle 11g 11.2.0.2.0)","body":"<p>I'm trying to find a Spring scheduled process which inserts data into a particular table,\nbut cannot find the WAS server that the spring application is running on.</p>\n<p>So I tried to track the Spring application by the running queries,\nwhich can be joined with the sessions table(v$session) to get machine name or other information.</p>\n<pre><code>SELECT\n    v.SQL_TEXT,\n    v.PARSING_SCHEMA_NAME,\n    v.LAST_LOAD_TIME,\n    v.DISK_READS,\n    v.ROWS_PROCESSED,\n    v.ELAPSED_TIME,\n    v.service,\n    v.MODULE\nFROM\n    v$sql v\nWHERE\n    to_date(v.FIRST_LOAD_TIME, 'YYYY-MM-DD hh24:mi:ss')&gt;ADD_MONTHS(trunc(sysdate, 'MM'),-2)\n    AND LOWER(SQL_TEXT) LIKE '%[the_table_name]%'\n    AND LOWER(SQL_TEXT) LIKE '%insert %'\nORDER BY\n    FIRST_LOAD_TIME DESC\n</code></pre>\n<p>The scheduled process runs every minute,\nbut I couldn't find the query that inserts data into the target table.</p>\n<p>Am I doing something wrong?\nOr is there a way to insert data without logging in the v$sql table?</p>\n"},{"tags":["java","unit-testing","testing","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1672949610,"creation_date":1471257549,"answer_id":38953538,"question_id":38943346,"body_markdown":"Not exactly, the best you can do at the moment is using [`hasStackTraceContaining`](https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractThrowableAssert.html#hasStackTraceContaining(java.lang.String)), example \r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).hasCauseInstanceOf(Exception.class)\r\n                   .hasStackTraceContaining(&quot;no way&quot;)\r\n                   .hasStackTraceContaining(&quot;you shall not pass&quot;);\r\n```","title":"AssertJ assert on the cause message","body":"<p>Not exactly, the best you can do at the moment is using <a href=\"https://joel-costigliola.github.io/assertj/core/api/org/assertj/core/api/AbstractThrowableAssert.html#hasStackTraceContaining(java.lang.String)\" rel=\"nofollow noreferrer\"><code>hasStackTraceContaining</code></a>, example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).hasCauseInstanceOf(Exception.class)\n                   .hasStackTraceContaining(&quot;no way&quot;)\n                   .hasStackTraceContaining(&quot;you shall not pass&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1679662294,"creation_date":1580987815,"answer_id":60093740,"question_id":38943346,"body_markdown":"### AssertJ 3.23\r\n\r\n* [`cause()`][1] is favored over `getCause()`:\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).cause()\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n* [`rootCause()`][2] is favored over `getRootCause()`:\r\n\r\n```java\r\nThrowable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\r\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\r\n\r\nassertThat(runtime).rootCause()\r\n                   .hasMessage(&quot;go back to the shadow!&quot;);\r\n```\r\n\r\n----------\r\n\r\n### AssertJ 3.16\r\n\r\nTwo new options are available:\r\n\r\n - [`getCause()`][3]: \r\n\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).getCause()\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n - [`getRootCause()`][4]:\r\n\r\n```java\r\nThrowable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\r\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\r\n\r\nassertThat(runtime).getRootCause()\r\n                   .hasMessage(&quot;go back to the shadow!&quot;);\r\n```\r\n\r\n----------\r\n\r\n### AssertJ 3.14\r\n\r\n[`extracting`][5] with `InstanceOfAssertFactory` could be used:\r\n\r\n```java\r\nThrowable runtime = new RuntimeException(&quot;no way&quot;, \r\n                                         new Exception(&quot;you shall not pass&quot;));\r\n\r\nassertThat(runtime).extracting(Throwable::getCause, as(THROWABLE))\r\n                   .hasMessage(&quot;you shall not pass&quot;);\r\n```\r\n\r\n`as()` is statically imported from `org.assertj.core.api.Assertions` and `THROWABLE` is statically imported from `org.assertj.core.api.InstanceOfAssertFactories`.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#cause()\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#rootCause()\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getCause()\r\n  [4]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getRootCause()\r\n  [5]: https://www.javadoc.io/static/org.assertj/assertj-core/3.14.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)","title":"AssertJ assert on the cause message","body":"<h3>AssertJ 3.23</h3>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#cause()\" rel=\"nofollow noreferrer\"><code>cause()</code></a> is favored over <code>getCause()</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).cause()\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.23.0/org/assertj/core/api/AbstractThrowableAssert.html#rootCause()\" rel=\"nofollow noreferrer\"><code>rootCause()</code></a> is favored over <code>getRootCause()</code>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\n\nassertThat(runtime).rootCause()\n                   .hasMessage(&quot;go back to the shadow!&quot;);\n</code></pre>\n<hr />\n<h3>AssertJ 3.16</h3>\n<p>Two new options are available:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getCause()\" rel=\"nofollow noreferrer\"><code>getCause()</code></a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).getCause()\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.0/org/assertj/core/api/AbstractThrowableAssert.html#getRootCause()\" rel=\"nofollow noreferrer\"><code>getRootCause()</code></a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable rootCause = new RuntimeException(&quot;go back to the shadow!&quot;);\nThrowable cause = new Exception(&quot;you shall not pass&quot;, rootCause);\nThrowable runtime = new RuntimeException(&quot;no way&quot;, cause);\n\nassertThat(runtime).getRootCause()\n                   .hasMessage(&quot;go back to the shadow!&quot;);\n</code></pre>\n<hr />\n<h3>AssertJ 3.14</h3>\n<p><a href=\"https://www.javadoc.io/static/org.assertj/assertj-core/3.14.0/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> with <code>InstanceOfAssertFactory</code> could be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Throwable runtime = new RuntimeException(&quot;no way&quot;, \n                                         new Exception(&quot;you shall not pass&quot;));\n\nassertThat(runtime).extracting(Throwable::getCause, as(THROWABLE))\n                   .hasMessage(&quot;you shall not pass&quot;);\n</code></pre>\n<p><code>as()</code> is statically imported from <code>org.assertj.core.api.Assertions</code> and <code>THROWABLE</code> is statically imported from <code>org.assertj.core.api.InstanceOfAssertFactories</code>.</p>\n"}],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5615,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":60093740,"answer_count":2,"score":11,"last_activity_date":1679662294,"creation_date":1471186098,"question_id":38943346,"body_markdown":"Is there a way when using AssertJ agains a method throwing an excetion to check that the message in the cause is equal to some string. \r\n\r\nI&#39;m currently doing something like: \r\n\r\n    assertThatThrownBy(() -&gt; SUT.method())\r\n                .isExactlyInstanceOf(IllegalStateException.class)\r\n                .hasRootCauseExactlyInstanceOf(Exception.class);\r\n\r\nand would like to add an assertion to check the message in the root cause.","title":"AssertJ assert on the cause message","body":"<p>Is there a way when using AssertJ agains a method throwing an excetion to check that the message in the cause is equal to some string. </p>\n\n<p>I'm currently doing something like: </p>\n\n<pre><code>assertThatThrownBy(() -&gt; SUT.method())\n            .isExactlyInstanceOf(IllegalStateException.class)\n            .hasRootCauseExactlyInstanceOf(Exception.class);\n</code></pre>\n\n<p>and would like to add an assertion to check the message in the root cause.</p>\n"},{"tags":["java","nginx","digital-ocean"],"answers":[{"tags":[],"owner":{"account_id":18052657,"reputation":135,"user_id":13121947,"display_name":"Дамир Эсенов"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679661695,"creation_date":1679661695,"answer_id":75833787,"question_id":75672654,"body_markdown":"The application was not working.","title":"connect() failed (111: connection refused) while connecting to upstream, java","body":"<p>The application was not working.</p>\n"}],"owner":{"account_id":18052657,"reputation":135,"user_id":13121947,"display_name":"Дамир Эсенов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833787,"answer_count":1,"score":0,"last_activity_date":1679661695,"creation_date":1678276152,"question_id":75672654,"body_markdown":"I configured my server 3-4 months ago, and everything worked perfectly. But for some reason, the server (DigitalOcean - droplet) stopped to answering my request. The request was going to pending status and giving a time-out exception as a response. I decided to reload the server and it gives 502 response.\r\n``` \r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n\t&lt;title&gt;502 Bad Gateway&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;center&gt;\r\n\t\t&lt;h1&gt;502 Bad Gateway&lt;/h1&gt;\r\n\t&lt;/center&gt;\r\n\t&lt;hr&gt;\r\n\t&lt;center&gt;nginx/1.22.0 (Ubuntu)&lt;/center&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\nI was searching for a solution for a while but didn&#39;t find the solution. Backend - Java.\r\nMy conf:\r\n```\r\nserver {\r\n        listen 443 ssl;\r\n        server_name vplannerweddings.com www.vplannerweddings.com;\r\n\r\n        root /var/www/vplannerweddings.com/html;\r\n\r\n        ssl_certificate /root/namecheapconfigs/vplannerweddings_com_chain.crt;\r\n        ssl_certificate_key /root/vplannerweddings_com.key;\r\n\r\n        location / {\r\n                proxy_pass http://127.0.0.1:8080;\r\n                proxy_set_header Host $host;\r\n                proxy_set_header X-Real-IP $remote_addr;\r\n        }\r\n}\r\n```\r\nLogs of nginx gives me:\r\n```\r\n2023/03/08 11:29:36 [error] 8292#8292: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 91.205.48.122, server: vplannerweddings.com, request: &quot;POST /user/login HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/user/login&quot;, host: &quot;vplannerweddings.com&quot;\r\n```","title":"connect() failed (111: connection refused) while connecting to upstream, java","body":"<p>I configured my server 3-4 months ago, and everything worked perfectly. But for some reason, the server (DigitalOcean - droplet) stopped to answering my request. The request was going to pending status and giving a time-out exception as a response. I decided to reload the server and it gives 502 response.</p>\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;title&gt;502 Bad Gateway&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;h1&gt;502 Bad Gateway&lt;/h1&gt;\n    &lt;/center&gt;\n    &lt;hr&gt;\n    &lt;center&gt;nginx/1.22.0 (Ubuntu)&lt;/center&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I was searching for a solution for a while but didn't find the solution. Backend - Java.\nMy conf:</p>\n<pre><code>server {\n        listen 443 ssl;\n        server_name vplannerweddings.com www.vplannerweddings.com;\n\n        root /var/www/vplannerweddings.com/html;\n\n        ssl_certificate /root/namecheapconfigs/vplannerweddings_com_chain.crt;\n        ssl_certificate_key /root/vplannerweddings_com.key;\n\n        location / {\n                proxy_pass http://127.0.0.1:8080;\n                proxy_set_header Host $host;\n                proxy_set_header X-Real-IP $remote_addr;\n        }\n}\n</code></pre>\n<p>Logs of nginx gives me:</p>\n<pre><code>2023/03/08 11:29:36 [error] 8292#8292: *7 connect() failed (111: Connection refused) while connecting to upstream, client: 91.205.48.122, server: vplannerweddings.com, request: &quot;POST /user/login HTTP/1.1&quot;, upstream: &quot;http://127.0.0.1:8080/user/login&quot;, host: &quot;vplannerweddings.com&quot;\n</code></pre>\n"},{"tags":["java","adobe","aem"],"answers":[{"tags":[],"owner":{"account_id":439254,"reputation":10081,"user_id":828077,"accept_rate":62,"display_name":"Rajesh Pantula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1434718880,"creation_date":1434718880,"answer_id":30938853,"question_id":30936986,"body_markdown":"You can use the [Replicator][1] api to activate the pages.\r\n\r\nIn your workflow process step. You can do the following\r\n\r\n\r\n`currentPage = getCurrentPagePath(); // this is something which you have to figure out, this depends on your workflow code i.e how exactly your workflow got triggere`d.\r\n\r\nNow,\r\n\r\n    Iterator&lt;Page&gt; childPages = currentPage.listChildren();\r\n\r\nNow iterate over the child pages and for each child page, do the following\r\n\r\n    replicator.replicate(session,repplicationActionType, childPagePath);\r\n\r\nYou can get the instance of replicator using OSGi dependency injection.\r\n\r\n    @Reference\r\n    public Replicator replicator\r\n\r\n\r\n\r\n  [1]: http://docs.adobe.com/docs/en/cq/5-6-1/javadoc/com/day/cq/replication/Replicator.html\r\n","title":"Adobe AEM WorkFlow activate a page including child pages","body":"<p>You can use the <a href=\"http://docs.adobe.com/docs/en/cq/5-6-1/javadoc/com/day/cq/replication/Replicator.html\" rel=\"nofollow\">Replicator</a> api to activate the pages.</p>\n\n<p>In your workflow process step. You can do the following</p>\n\n<p><code>currentPage = getCurrentPagePath(); // this is something which you have to figure out, this depends on your workflow code i.e how exactly your workflow got triggere</code>d.</p>\n\n<p>Now,</p>\n\n<pre><code>Iterator&lt;Page&gt; childPages = currentPage.listChildren();\n</code></pre>\n\n<p>Now iterate over the child pages and for each child page, do the following</p>\n\n<pre><code>replicator.replicate(session,repplicationActionType, childPagePath);\n</code></pre>\n\n<p>You can get the instance of replicator using OSGi dependency injection.</p>\n\n<pre><code>@Reference\npublic Replicator replicator\n</code></pre>\n"}],"owner":{"account_id":6495201,"reputation":29,"user_id":5028026,"display_name":"zerox5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1434938710,"accepted_answer_id":30938853,"answer_count":1,"score":-1,"last_activity_date":1679661618,"creation_date":1434713170,"question_id":30936986,"body_markdown":"I want to activate a page also include it&#39;s child pages using workflow\r\nlike below\r\n\r\nParent Node\r\n\r\n\r\n    ・Child Node 1\r\n    ・Child Node 2\r\n    ・Child Node 3\r\n\r\n\r\nRequirement is:\r\nIs it possible ??? Please give solution also in comment......\r\nthank you very much!!!","title":"Adobe AEM WorkFlow activate a page including child pages","body":"<p>I want to activate a page also include it's child pages using workflow\nlike below</p>\n\n<p>Parent Node</p>\n\n<pre><code>・Child Node 1\n・Child Node 2\n・Child Node 3\n</code></pre>\n\n<p>Requirement is:\nIs it possible ??? Please give solution also in comment......\nthank you very much!!!</p>\n"},{"tags":["java","android","fragment","toolbar"],"owner":{"account_id":3666023,"reputation":470,"user_id":3054437,"accept_rate":25,"display_name":"mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679661073,"creation_date":1679661073,"question_id":75833681,"body_markdown":"I&#39;m new to android and want to create custom toolbar for my first activity in android app including a popup menu. So searched a lot but couldn&#39;t find any thing useful.  \r\nhere is my main activity code:\r\n\r\n    public class activity_test extends AppCompatActivity {\r\n\r\n       private Toolbar toolbar;\r\n\r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n           super.onCreate(savedInstanceState);\r\n           setContentView(R.layout.activity_test);\r\n           ActivityHolder.get_instance().set_last_activity(this);\r\n\r\n           toolbar = (Toolbar) findViewById(R.id.test_toolbar);\r\n           setSupportActionBar(toolbar);\r\n       }\r\n    }\r\n\r\n\r\nthis is layout for the activity:\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/toolbar&quot;\r\n        android:id=&quot;@+id/test_toolbar&quot;/&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nthe fragment of toolbar is as below:\r\n\r\n    public class toolbar_fragment extends Fragment {\r\n\r\n    public toolbar_fragment(){\r\n        super(R.layout.toolbar);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){\r\n        View rootView = inflater.inflate(R.layout.toolbar, container, false);\r\n        return rootView;\r\n    }\r\n\r\n    @Override\r\n    public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n        inflater.inflate(R.menu.main_menu, menu);\r\n        super.onCreateOptionsMenu(menu, inflater);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        // Handle presses on the action bar items\r\n        switch (item.getItemId()) {\r\n\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\nthe following code is my main popup menu:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/settings&quot;\r\n        android:title=&quot;settings&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/downloads&quot;\r\n        android:title=&quot;downloads&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/bookmarks&quot;\r\n        android:title=&quot;bookmarks&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/about_us&quot;\r\n        android:title=&quot;about_us&quot;/&gt;\r\n\r\n    &lt;/menu&gt;\r\n\r\nfinally I want to create a toolbar like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPG5z.jpg\r\n\r\nBut the popup menu does not appear inside the toolbar. \r\nDo you have any idea what should I do?","title":"create custom toolbar using fragment with popup menu","body":"<p>I'm new to android and want to create custom toolbar for my first activity in android app including a popup menu. So searched a lot but couldn't find any thing useful.<br />\nhere is my main activity code:</p>\n<pre><code>public class activity_test extends AppCompatActivity {\n\n   private Toolbar toolbar;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n       super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_test);\n       ActivityHolder.get_instance().set_last_activity(this);\n\n       toolbar = (Toolbar) findViewById(R.id.test_toolbar);\n       setSupportActionBar(toolbar);\n   }\n}\n</code></pre>\n<p>this is layout for the activity:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;include layout=&quot;@layout/toolbar&quot;\n    android:id=&quot;@+id/test_toolbar&quot;/&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>the fragment of toolbar is as below:</p>\n<pre><code>public class toolbar_fragment extends Fragment {\n\npublic toolbar_fragment(){\n    super(R.layout.toolbar);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState){\n    View rootView = inflater.inflate(R.layout.toolbar, container, false);\n    return rootView;\n}\n\n@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.main_menu, menu);\n    super.onCreateOptionsMenu(menu, inflater);\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle presses on the action bar items\n    switch (item.getItemId()) {\n\n    }\n    return true;\n}\n}\n</code></pre>\n<p>the following code is my main popup menu:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n&lt;item\n    android:id=&quot;@+id/settings&quot;\n    android:title=&quot;settings&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/downloads&quot;\n    android:title=&quot;downloads&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/bookmarks&quot;\n    android:title=&quot;bookmarks&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/about_us&quot;\n    android:title=&quot;about_us&quot;/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>finally I want to create a toolbar like this:</p>\n<p><a href=\"https://i.stack.imgur.com/xPG5z.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPG5z.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the popup menu does not appear inside the toolbar.\nDo you have any idea what should I do?</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":1,"creation_date":1643696481,"post_id":70935683,"comment_id":125402039,"body_markdown":"From the message I see, that `it` in the closure is String. So, try `.find{it == &quot;m__tradeString&quot;}`.","body":"From the message I see, that <code>it</code> in the closure is String. So, try <code>.find{it == &quot;m__tradeString&quot;}</code>."},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643721815,"post_id":70935683,"comment_id":125410537,"body_markdown":"@MaxDaroshchanka\nThanks for your time, I have tried it but it return null though tag is available in the msg. i tried below two possibilities  node return that tag node, but node1 retrun null.\n\n def node = msg.&quot;**&quot;.find { it.&#39;m__tradeString&#39;.text())                                                                               \n\ndef node1 = msg.&quot;**&quot;.find { it == &#39;m__tradeString&#39;}                                                                           \n\nAtleast it is working for node but i want to pass the tagname dyanmically is there any \nsyntax to concat the dynamic value","body":"@MaxDaroshchanka Thanks for your time, I have tried it but it return null though tag is available in the msg. i tried below two possibilities  node return that tag node, but node1 retrun null.   def node = msg.&quot;<b>&quot;.find { it.&#39;m__tradeString&#39;.text())                                                                                 def node1 = msg.&quot;</b>&quot;.find { it == &#39;m__tradeString&#39;}                                                                             Atleast it is working for node but i want to pass the tagname dyanmically is there any  syntax to concat the dynamic value"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643723143,"post_id":70935683,"comment_id":125411111,"body_markdown":"sorry I cannot understand what type of objects you are interacting with, so I&#39;m just guessing, based on the syntax I see. Another try I suggest `def tradeString = msg.&quot;**&quot;.find{it.getName() == &quot;m__tradeString&quot;}` or  `def tradeString = msg.&quot;**&quot;.find{it.name == &quot;m__tradeString&quot;}`.","body":"sorry I cannot understand what type of objects you are interacting with, so I&#39;m just guessing, based on the syntax I see. Another try I suggest <code>def tradeString = msg.&quot;**&quot;.find{it.getName() == &quot;m__tradeString&quot;}</code> or  <code>def tradeString = msg.&quot;**&quot;.find{it.name == &quot;m__tradeString&quot;}</code>."},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1643723270,"post_id":70935683,"comment_id":125411171,"body_markdown":"What does `msg.&quot;**&quot;` evaluate to?","body":"What does <code>msg.&quot;**&quot;</code> evaluate to?"},{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1643723300,"post_id":70935683,"comment_id":125411188,"body_markdown":"`println(msg.class)`,  `println((msg.&quot;**&quot;).class)` could make it more clear","body":"<code>println(msg.class)</code>,  <code>println((msg.&quot;**&quot;).class)</code> could make it more clear"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1643738626,"post_id":70935683,"comment_id":125417969,"body_markdown":"@MaxDaroshchanka `msg.class` may not help.  For example, if `msg` is a `Map` and the `Map` does not have a key with the value `&#39;class&#39;`, then `msg.class` will evaluate to `null`.  Know what `msg.&quot;**&quot;`is will be more valuable.","body":"@MaxDaroshchanka <code>msg.class</code> may not help.  For example, if <code>msg</code> is a <code>Map</code> and the <code>Map</code> does not have a key with the value <code>&#39;class&#39;</code>, then <code>msg.class</code> will evaluate to <code>null</code>.  Know what <code>msg.&quot;**&quot;</code>is will be more valuable."},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643813197,"post_id":70935683,"comment_id":125439113,"body_markdown":"@JeffScottBrown -\nHere is the code snipet :\nType of Message :\norg.springframework.integration -public interface Message&lt;T&gt; \nMessage message;\ndef payload = message.payload.newObjectXML\nXmlParser parser = new XmlParser();\nNode msg = parser.parseText(payload)","body":"@JeffScottBrown - Here is the code snipet : Type of Message : org.springframework.integration -public interface Message&lt;T&gt;  Message message; def payload = message.payload.newObjectXML XmlParser parser = new XmlParser(); Node msg = parser.parseText(payload)"},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":0,"creation_date":1643813204,"post_id":70935683,"comment_id":125439120,"body_markdown":"@MaxDaroshchanka\nI tried the change which you have suggested : \ndef nodelement = msg.&quot;**&quot;.find { it.getName() == &quot;m__tradeString&quot; }\nError :\nException in execute=No signature of method: groovy.util.Node.getName() is applicable for argument types: () values: []\nPossible solutions: name(), getAt(groovy.namespace.QName), getAt(groovy.xml.QName), getAt(java.lang.String), getClass(), get(java.lang.String)","body":"@MaxDaroshchanka I tried the change which you have suggested :  def nodelement = msg.&quot;**&quot;.find { it.getName() == &quot;m__tradeString&quot; } Error : Exception in execute=No signature of method: groovy.util.Node.getName() is applicable for argument types: () values: [] Possible solutions: name(), getAt(groovy.namespace.QName), getAt(groovy.xml.QName), getAt(java.lang.String), getClass(), get(java.lang.String)"},{"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"score":1,"creation_date":1643863417,"post_id":70935683,"comment_id":125454051,"body_markdown":"@MaxDaroshchanka\nI have tried the below two statements :  both printed &quot;[]&quot;\nprintln(msg.class) : return [] \nprintln((msg.&quot;**&quot;).class) :return []","body":"@MaxDaroshchanka I have tried the below two statements :  both printed &quot;[]&quot; println(msg.class) : return []  println((msg.&quot;**&quot;).class) :return []"}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644084528,"creation_date":1643866529,"answer_id":70966363,"question_id":70935683,"body_markdown":"After discussion in comments..\r\n\r\nFor now I see you iterating through the collection with `groovy.util.Node` objects, and calling `it.name()` seems valid for them. \r\n\r\nBut from the initial error message in your question I saw the String object too. So you might have at least 2 different types (String and Node). And you have to handle this.\r\n\r\n```groovy\r\ndef tradeString = msg.&quot;**&quot;.find{\r\n    String expected = &#39;m__tradeString&#39;\r\n    String actual = it instanceof groovy.util.Node ? it.name() : it\r\n    actual == expected\r\n}\r\n```\r\n\r\nThis code can be shortened of course.\r\n\r\nAnd for such cases I suggest to look throw the initial collection in debugger, or print each object type `.getClass()` and `.toString()`. So It&#39;ll become more clear.\r\n\r\n&gt; groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: [] \r\n\r\nMeans that method `name()` was invoked on `java.lang.String`, but this class doesn&#39;t have such method.\r\n\r\n---\r\n\r\nLess code version:\r\n\r\n\r\n```groovy\r\n// this method can be reused\r\nstatic String extractNodeName(node) {\r\n    node instanceof groovy.util.Node ? node.name() : node\r\n}\r\n\r\ndef tradeString = msg.&quot;**&quot;.find{ extractNodeName(it) ==&#39;m__tradeString&#39; }\r\n```","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>After discussion in comments..</p>\n<p>For now I see you iterating through the collection with <code>groovy.util.Node</code> objects, and calling <code>it.name()</code> seems valid for them.</p>\n<p>But from the initial error message in your question I saw the String object too. So you might have at least 2 different types (String and Node). And you have to handle this.</p>\n<pre><code>def tradeString = msg.&quot;**&quot;.find{\n    String expected = 'm__tradeString'\n    String actual = it instanceof groovy.util.Node ? it.name() : it\n    actual == expected\n}\n</code></pre>\n<p>This code can be shortened of course.</p>\n<p>And for such cases I suggest to look throw the initial collection in debugger, or print each object type <code>.getClass()</code> and <code>.toString()</code>. So It'll become more clear.</p>\n<blockquote>\n<p>groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []</p>\n</blockquote>\n<p>Means that method <code>name()</code> was invoked on <code>java.lang.String</code>, but this class doesn't have such method.</p>\n<hr />\n<p>Less code version:</p>\n<pre><code>// this method can be reused\nstatic String extractNodeName(node) {\n    node instanceof groovy.util.Node ? node.name() : node\n}\n\ndef tradeString = msg.&quot;**&quot;.find{ extractNodeName(it) =='m__tradeString' }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4755531,"reputation":359,"user_id":3844391,"display_name":"hagits"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653302270,"creation_date":1653302270,"answer_id":72347145,"question_id":70935683,"body_markdown":"It happened to me when I used a variable with the same name as a method.\r\nExample:\r\nA function with sshCommand String parameter, in which I called:\r\n```sshCommand remote: remote, command: fullCommand```\r\n\r\n(fullCommand was sshCommand  with some flags I added).\r\nSo I had a string, and after that used the method, that was not a string, and this gave the error.","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>It happened to me when I used a variable with the same name as a method.\nExample:\nA function with sshCommand String parameter, in which I called:\n<code>sshCommand remote: remote, command: fullCommand</code></p>\n<p>(fullCommand was sshCommand  with some flags I added).\nSo I had a string, and after that used the method, that was not a string, and this gave the error.</p>\n"},{"tags":[],"owner":{"account_id":17021451,"reputation":49,"user_id":12313910,"display_name":"FitAdam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660678,"creation_date":1679660678,"answer_id":75833618,"question_id":70935683,"body_markdown":"I had the same error message when I called a variable like a method. \r\n\r\nI did\r\n\r\n    isSearchPage()\r\nI should do: \r\n\r\n    isSearchPage","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>I had the same error message when I called a variable like a method.</p>\n<p>I did</p>\n<pre><code>isSearchPage()\n</code></pre>\n<p>I should do:</p>\n<pre><code>isSearchPage\n</code></pre>\n"}],"owner":{"account_id":24117325,"reputation":23,"user_id":18087018,"display_name":"Jami"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70966363,"answer_count":3,"score":2,"last_activity_date":1679660678,"creation_date":1643690725,"question_id":70935683,"body_markdown":"I am new to this groovy script, as i have requirement to update the java 1.7 to java8 for my project,after upgrading the version both java &amp; groovy then facing issue with the groovy syntax.\r\nIn java 7 it worked without any issues,but in java 8 facing below error .\r\n\r\nThe below error is occruing while i am trying to find specific tag element as below :\r\n\r\n```\r\ndef tradeString = msg.&quot;**&quot;.find{it.name() == &quot;m__tradeString&quot;}\r\n```\r\n\r\n```\r\ngroovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []\r\nPossible solutions: take(int), take(int), any(), any(groovy.lang.Closure), wait(), dump()\r\n```\r\n\r\nNote : in some places name() method is working but other places facing this error\r\n\r\nplease help me here.\r\n\r\nThanks in advance.","title":"groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []","body":"<p>I am new to this groovy script, as i have requirement to update the java 1.7 to java8 for my project,after upgrading the version both java &amp; groovy then facing issue with the groovy syntax.\nIn java 7 it worked without any issues,but in java 8 facing below error .</p>\n<p>The below error is occruing while i am trying to find specific tag element as below :</p>\n<pre><code>def tradeString = msg.&quot;**&quot;.find{it.name() == &quot;m__tradeString&quot;}\n</code></pre>\n<pre><code>groovy.lang.MissingMethodException: No signature of method: java.lang.String.name() is applicable for argument types: () values: []\nPossible solutions: take(int), take(int), any(), any(groovy.lang.Closure), wait(), dump()\n</code></pre>\n<p>Note : in some places name() method is working but other places facing this error</p>\n<p>please help me here.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oracle","jdbc","time"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1679614308,"post_id":75828720,"comment_id":133757770,"body_markdown":"please show the sql and more code","body":"please show the sql and more code"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679616506,"post_id":75828720,"comment_id":133758024,"body_markdown":"What&#39;s the type of the DATE_COLUMN column?","body":"What&#39;s the type of the DATE_COLUMN column?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1679617892,"post_id":75828720,"comment_id":133758188,"body_markdown":"Try `LocalDate date = resultSet.getObject(&quot;DATE_COLUMN&quot;, java.time.LocalDate);`","body":"Try <code>LocalDate date = resultSet.getObject(&quot;DATE_COLUMN&quot;, java.time.LocalDate);</code>"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":3,"creation_date":1679618002,"post_id":75828720,"comment_id":133758200,"body_markdown":"See [this](https://stackoverflow.com/a/62104802/266304) and similar answers; in short, use java.time classes, not java.sql.date etc.","body":"See <a href=\"https://stackoverflow.com/a/62104802/266304\">this</a> and similar answers; in short, use java.time classes, not java.sql.date etc."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679637768,"post_id":75828720,"comment_id":133760310,"body_markdown":"What *precisely* is the data type of your column? Did you mean literally the [`DATE`](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-5405B652-C30E-4F4F-9D33-9A4CB2110F1B) type in Oracle Database 21c? Or did you mean one of the `TIMESTAMP…` types? Show the relevant excerpt of your `CREATE TABLE`.","body":"What <i>precisely</i> is the data type of your column? Did you mean literally the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/Data-Types.html#GUID-5405B652-C30E-4F4F-9D33-9A4CB2110F1B\" rel=\"nofollow noreferrer\"><code>DATE</code></a> type in Oracle Database 21c? Or did you mean one of the <code>TIMESTAMP…</code> types? Show the relevant excerpt of your <code>CREATE TABLE</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679644935,"post_id":75828720,"comment_id":133761425,"body_markdown":"I never understood the good way to combine Oracle database and Java, not even Oracle Java. Seems they forgot they came from the same company. In any case a good JPA implementation like Hibernate is very likely to take care of your issues for you. Then just use `LocalDate` in the Java side as others have already mentioned.","body":"I never understood the good way to combine Oracle database and Java, not even Oracle Java. Seems they forgot they came from the same company. In any case a good JPA implementation like Hibernate is very likely to take care of your issues for you. Then just use <code>LocalDate</code> in the Java side as others have already mentioned."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679645066,"post_id":75828720,"comment_id":133761449,"body_markdown":"I suppose the bad hack would be reading the date as a string from the database and parsing it into a `LocalDate` yourself. Nothing you want if there’s any way you can get your JDBC driver to do the work for you.","body":"I suppose the bad hack would be reading the date as a string from the database and parsing it into a <code>LocalDate</code> yourself. Nothing you want if there’s any way you can get your JDBC driver to do the work for you."},{"owner":{"account_id":20551428,"reputation":25,"user_id":15084061,"display_name":"potato_programmer"},"score":0,"creation_date":1679649829,"post_id":75828720,"comment_id":133762538,"body_markdown":"@tgdavies, Basil Bourque: Yes, the respective datatype is DATE in Oracle Database 21c.","body":"@tgdavies, Basil Bourque: Yes, the respective datatype is DATE in Oracle Database 21c."}],"owner":{"account_id":20551428,"reputation":25,"user_id":15084061,"display_name":"potato_programmer"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679660478,"creation_date":1679612953,"question_id":75828720,"body_markdown":"    java.sql.Date date = resultSet.getDate(&quot;DATE_COLUMN&quot;);\r\n    // let&#39;s say we are reading &#39;16/05/1993 from DB\r\n\r\nWhenever the above gets called, JDBC Oracle driver does some shenanigans on the background with [adjusting the timezone][1]. So in the end, the UNIX epoch long stored inside java.sql.Date might not correspond to 16/05/1993/00:00:00 UTC as I would expect it to.\r\n\r\n\r\n  [1]: https://rogersuen.github.io/2015/03/timezone-for-oracle-jdbc-driver.html\r\n\r\nThe respective datatype is `DATE` in Oracle Database 21c.\r\n\r\nIs there any way to receive the `DATE` from a table in Oracle database in its pure form - with no undesirable timezone adjustments?\r\n\r\nLet&#39;s say the `DATE` in the database is &#39;16/05/1993&#39;, but if some timezone adjustments happen, it can easily reach my app as &#39;15/05/1993&#39; in its end form.\r\n\r\n**TL;DR:** I just want the Oracle DB DATE to reach my app either\r\n\r\n 1. simply as three numbers - day: 16, month: 5, year: 1993\r\n 2. or UNIX Epoch time that would always correspond to 16/05/1993/00:00:00 UTC","title":"Get timezone-less DATE from DB via JDBC Oracle driver","body":"<pre><code>java.sql.Date date = resultSet.getDate(&quot;DATE_COLUMN&quot;);\n// let's say we are reading '16/05/1993 from DB\n</code></pre>\n<p>Whenever the above gets called, JDBC Oracle driver does some shenanigans on the background with <a href=\"https://rogersuen.github.io/2015/03/timezone-for-oracle-jdbc-driver.html\" rel=\"nofollow noreferrer\">adjusting the timezone</a>. So in the end, the UNIX epoch long stored inside java.sql.Date might not correspond to 16/05/1993/00:00:00 UTC as I would expect it to.</p>\n<p>The respective datatype is <code>DATE</code> in Oracle Database 21c.</p>\n<p>Is there any way to receive the <code>DATE</code> from a table in Oracle database in its pure form - with no undesirable timezone adjustments?</p>\n<p>Let's say the <code>DATE</code> in the database is '16/05/1993', but if some timezone adjustments happen, it can easily reach my app as '15/05/1993' in its end form.</p>\n<p><strong>TL;DR:</strong> I just want the Oracle DB DATE to reach my app either</p>\n<ol>\n<li>simply as three numbers - day: 16, month: 5, year: 1993</li>\n<li>or UNIX Epoch time that would always correspond to 16/05/1993/00:00:00 UTC</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1679660539,"post_id":75833532,"comment_id":133765130,"body_markdown":"The problem is that you always need a reference to the structure that the `String` is inside of. The reason is that `String`s are immutable and you need to re-write the reference to the new value in the &quot;surrounding&quot; structure. In case of a `Collection` you need to re`set` that specific value in the collection. In case of a `Map`, you need to call `setValue` on that `Entry`.","body":"The problem is that you always need a reference to the structure that the <code>String</code> is inside of. The reason is that <code>String</code>s are immutable and you need to re-write the reference to the new value in the &quot;surrounding&quot; structure. In case of a <code>Collection</code> you need to re<code>set</code> that specific value in the collection. In case of a <code>Map</code>, you need to call <code>setValue</code> on that <code>Entry</code>."},{"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"score":0,"creation_date":1679663567,"post_id":75833532,"comment_id":133765962,"body_markdown":"@f1sh Wondering if I should check if obj is a String and perform the value sets during the for loops itself before I traverse again. This way I will know the key for maps and index for collections. And just remove the instanceof String check. But will end up with Unsupported Exception if I modify during the loop though when it comes to collection.","body":"@f1sh Wondering if I should check if obj is a String and perform the value sets during the for loops itself before I traverse again. This way I will know the key for maps and index for collections. And just remove the instanceof String check. But will end up with Unsupported Exception if I modify during the loop though when it comes to collection."}],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679660444,"creation_date":1679660124,"question_id":75833532,"body_markdown":"I have a complex json which has nested data, a mix of String numbers, list within lists, maps within maps and so on.\r\n\r\nI wan to go over every section of this object without having to recreate the object and find all the Strings.\r\n\r\nEvery time a String value is found, append &quot;hello&quot; to it. \r\n\r\nIs this possible? \r\n\r\nCame up with the following but this will not work. \r\n    \r\nAssigning the following won&#39;t actually replace it.\r\n\r\n    value = value + &quot;hello&quot;; // This is not going to work.\r\n\r\nThe complex json is not set in stone, there will be different variations, \r\n\r\nthus just trying to traverse every possible parts of the json and find string and append &quot;hello&quot; to it. \r\n\r\nImplementation where nothing is going to change since String is immutable.\r\n\r\n        public void traverseAndAppendHello(Object obj) {\r\n        if (obj instanceof String) {\r\n            String value = (String) obj;\r\n            value = value + &quot;hello&quot;; // This is not going to work\r\n        } else if (obj instanceof Collection) {\r\n            Collection&lt;?&gt; collection = (Collection&lt;?&gt;) obj;\r\n            for (Object element : collection) {\r\n                traverseAndAppendHello(element);\r\n            }\r\n        } else if (obj instanceof Map) {\r\n            Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\r\n            for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\r\n                Object value = entry.getValue();\r\n                traverseAndAppendHello(value);\r\n            }\r\n        } else if (obj instanceof Object[]) {\r\n            Object[] array = (Object[]) obj;\r\n            for (Object o : array) {\r\n                traverseAndAppendHello(o);\r\n            }\r\n        } else if (obj instanceof MyCustomObjectBeingTraversed) {\r\n            Map map = mapper.convertValue(obj, Map.class);\r\n            traverseAndAppendHello(map);\r\n        }\r\n        // move on to next steps if other types found like boolean and Number. \r\n    }","title":"Traverse complex json and modify Strings in place","body":"<p>I have a complex json which has nested data, a mix of String numbers, list within lists, maps within maps and so on.</p>\n<p>I wan to go over every section of this object without having to recreate the object and find all the Strings.</p>\n<p>Every time a String value is found, append &quot;hello&quot; to it.</p>\n<p>Is this possible?</p>\n<p>Came up with the following but this will not work.</p>\n<p>Assigning the following won't actually replace it.</p>\n<pre><code>value = value + &quot;hello&quot;; // This is not going to work.\n</code></pre>\n<p>The complex json is not set in stone, there will be different variations,</p>\n<p>thus just trying to traverse every possible parts of the json and find string and append &quot;hello&quot; to it.</p>\n<p>Implementation where nothing is going to change since String is immutable.</p>\n<pre><code>    public void traverseAndAppendHello(Object obj) {\n    if (obj instanceof String) {\n        String value = (String) obj;\n        value = value + &quot;hello&quot;; // This is not going to work\n    } else if (obj instanceof Collection) {\n        Collection&lt;?&gt; collection = (Collection&lt;?&gt;) obj;\n        for (Object element : collection) {\n            traverseAndAppendHello(element);\n        }\n    } else if (obj instanceof Map) {\n        Map&lt;?, ?&gt; map = (Map&lt;?, ?&gt;) obj;\n        for (Map.Entry&lt;?, ?&gt; entry : map.entrySet()) {\n            Object value = entry.getValue();\n            traverseAndAppendHello(value);\n        }\n    } else if (obj instanceof Object[]) {\n        Object[] array = (Object[]) obj;\n        for (Object o : array) {\n            traverseAndAppendHello(o);\n        }\n    } else if (obj instanceof MyCustomObjectBeingTraversed) {\n        Map map = mapper.convertValue(obj, Map.class);\n        traverseAndAppendHello(map);\n    }\n    // move on to next steps if other types found like boolean and Number. \n}\n</code></pre>\n"},{"tags":["java","lambda","foreach","java-8","java-stream"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1679658899,"post_id":75833231,"comment_id":133764721,"body_markdown":"The intended behaviour is unclear. Are you looking for the first instance of &quot;test3&quot;? Is the flag supposed to serve any purpose other than being false if the list contains &quot;test3&quot;?","body":"The intended behaviour is unclear. Are you looking for the first instance of &quot;test3&quot;? Is the flag supposed to serve any purpose other than being false if the list contains &quot;test3&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679658979,"creation_date":1679658979,"answer_id":75833348,"question_id":75833231,"body_markdown":"Sure, you can use a `String[] cCN = new String[] {&quot;&quot;};` and then use `cCN[1] = ele;` in your code instead.\r\n\r\nThe more general point here is, lambdas are just worse here. Lambdas are non-transparent in 3 regards:\r\n\r\n* Control flow; you cannot `break` e.g. a while loop that is declared outside a lambda, from inside one. Nor you can `return;` the outer method from within a lambda.\r\n* Checked exceptions: A checked exception thrown by code inside a lambda cannot be caught outside of it, unless the thing you passed the lambda to (`.forEach`, here) explicitly goes out of its way to make that possible, and most lambda-taking methods in the core libraries didn&#39;t.\r\n* Local variables. You cannot modify a local variable declared outside a lambda, from within it.\r\n\r\nAll 3 are __good__ things when the lambda &#39;travels&#39; (continues to exist and could be called after execution has long passed the lexical context where it was created. For example, when you pass a lambda to something that then stores it in a field to call it later, or passing a lambda to code that ends up firing up a new thread / handing the lambda on to code that will execute it in a different thread). Because all 3 are &#39;weird&#39; in that case.\r\n\r\nBut they are just annoying when the lambda doesn&#39;t travel, and `.forEach()` lambdas do not travel.\r\n\r\nConclusion: Do not use lambdas here. Calling `.forEach(ele -&gt; ...)` is, effectively, __always wrong__. Because it is inferior to using `for (var ele : list)`, which can do everything `forEach` can, and 3 more things on top of that - namely the 3 transparencies named above.\r\n\r\n`.forEach` is designed for when you already have a lambda. Imagine you have a method that already has access to some `Consumer&lt;String&gt;` for some reason, for example because it was passed in via parameter, and you want to apply that consumer to a list. Write `list.forEach(theConsumer)`, instead of `for (var ele : list) theConsumer.cosume(ele);`.\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>Sure, you can use a <code>String[] cCN = new String[] {&quot;&quot;};</code> and then use <code>cCN[1] = ele;</code> in your code instead.</p>\n<p>The more general point here is, lambdas are just worse here. Lambdas are non-transparent in 3 regards:</p>\n<ul>\n<li>Control flow; you cannot <code>break</code> e.g. a while loop that is declared outside a lambda, from inside one. Nor you can <code>return;</code> the outer method from within a lambda.</li>\n<li>Checked exceptions: A checked exception thrown by code inside a lambda cannot be caught outside of it, unless the thing you passed the lambda to (<code>.forEach</code>, here) explicitly goes out of its way to make that possible, and most lambda-taking methods in the core libraries didn't.</li>\n<li>Local variables. You cannot modify a local variable declared outside a lambda, from within it.</li>\n</ul>\n<p>All 3 are <strong>good</strong> things when the lambda 'travels' (continues to exist and could be called after execution has long passed the lexical context where it was created. For example, when you pass a lambda to something that then stores it in a field to call it later, or passing a lambda to code that ends up firing up a new thread / handing the lambda on to code that will execute it in a different thread). Because all 3 are 'weird' in that case.</p>\n<p>But they are just annoying when the lambda doesn't travel, and <code>.forEach()</code> lambdas do not travel.</p>\n<p>Conclusion: Do not use lambdas here. Calling <code>.forEach(ele -&gt; ...)</code> is, effectively, <strong>always wrong</strong>. Because it is inferior to using <code>for (var ele : list)</code>, which can do everything <code>forEach</code> can, and 3 more things on top of that - namely the 3 transparencies named above.</p>\n<p><code>.forEach</code> is designed for when you already have a lambda. Imagine you have a method that already has access to some <code>Consumer&lt;String&gt;</code> for some reason, for example because it was passed in via parameter, and you want to apply that consumer to a list. Write <code>list.forEach(theConsumer)</code>, instead of <code>for (var ele : list) theConsumer.cosume(ele);</code>.</p>\n"},{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679659000,"creation_date":1679659000,"answer_id":75833355,"question_id":75833231,"body_markdown":"It is considered as a bad practice to write lambdas that have heavy side effects as your example. Correct way to do it using stream API would be using *filter* function like:\r\n\r\n```java\r\nList&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);\r\n\r\nOptional&lt;String&gt; cCN = list\r\n        .stream()\r\n        .filter(s -&gt; s.equals(&quot;test3&quot;))\r\n        .findFirst();\r\n```\r\n\r\nIt is generally considered a bad practice to use side effects in Java Stream API operations. Stream operations should be designed to produce output based solely on their input, without modifying any external state. \r\nStream API is designed to allow for functional-style processing of collections or arrays of data. \r\n\r\nOne of the key features of functional programming is that functions should be pure, meaning that they should not have any side effects and should only rely on their input arguments to produce output.","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>It is considered as a bad practice to write lambdas that have heavy side effects as your example. Correct way to do it using stream API would be using <em>filter</em> function like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);\n\nOptional&lt;String&gt; cCN = list\n        .stream()\n        .filter(s -&gt; s.equals(&quot;test3&quot;))\n        .findFirst();\n</code></pre>\n<p>It is generally considered a bad practice to use side effects in Java Stream API operations. Stream operations should be designed to produce output based solely on their input, without modifying any external state.\nStream API is designed to allow for functional-style processing of collections or arrays of data.</p>\n<p>One of the key features of functional programming is that functions should be pure, meaning that they should not have any side effects and should only rely on their input arguments to produce output.</p>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679659553,"creation_date":1679659102,"answer_id":75833370,"question_id":75833231,"body_markdown":"You could change the expression to a simple findFirst:\r\n\r\n     String cCN = list.stream().filter(&quot;test3&quot;::equals).findFirst().orElse(&quot;&quot;);\r\n\r\nIf you needed those variables you should save the `Optional&lt;String&gt;` result and declare as:\r\n\r\n    Optional&lt;String&gt; find = list.stream().filter(&quot;test3&quot;::equals).findFirst();\r\n    String cCN  = find.orElse(&quot;&quot;);\r\n    boolean flag= find.isEmpty();\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>You could change the expression to a simple findFirst:</p>\n<pre><code> String cCN = list.stream().filter(&quot;test3&quot;::equals).findFirst().orElse(&quot;&quot;);\n</code></pre>\n<p>If you needed those variables you should save the <code>Optional&lt;String&gt;</code> result and declare as:</p>\n<pre><code>Optional&lt;String&gt; find = list.stream().filter(&quot;test3&quot;::equals).findFirst();\nString cCN  = find.orElse(&quot;&quot;);\nboolean flag= find.isEmpty();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660241,"creation_date":1679660241,"answer_id":75833554,"question_id":75833231,"body_markdown":"Why do you want to use streams?  There are less verbose ways to achieve the same end.\r\n\r\n    int k = list.indexOf(&quot;test3&quot;);\r\n    String ccn = (k &gt;= 0 ? list[k] : &quot;&quot;);","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>Why do you want to use streams?  There are less verbose ways to achieve the same end.</p>\n<pre><code>int k = list.indexOf(&quot;test3&quot;);\nString ccn = (k &gt;= 0 ? list[k] : &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833355,"answer_count":4,"score":0,"last_activity_date":1679660343,"creation_date":1679658221,"question_id":75833231,"body_markdown":"I have a `List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);`\r\n\r\nI want to achive something like this:\r\n\r\n    String cCN = &quot;&quot;;\r\n    boolean flag = true;\r\n    list.forEach(ele -&gt; {\r\n        if (ele.equals(&quot;test3&quot;)) {\r\n            cCN = ele;\r\n            flag = false;\r\n        }\r\n    });\r\n\r\nThis is not allowed since lambda expression can only access effectively final or final variables.\r\nIDE suggests using AtomicRefrence for this, but I was thing if there is any other way to do it.\r\n\r\n","title":"How to use foreach() on list of string and assign values to a refence variable based on a conditional stament","body":"<p>I have a <code>List&lt;String&gt; list = Arrays.asList(&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;);</code></p>\n<p>I want to achive something like this:</p>\n<pre><code>String cCN = &quot;&quot;;\nboolean flag = true;\nlist.forEach(ele -&gt; {\n    if (ele.equals(&quot;test3&quot;)) {\n        cCN = ele;\n        flag = false;\n    }\n});\n</code></pre>\n<p>This is not allowed since lambda expression can only access effectively final or final variables.\nIDE suggests using AtomicRefrence for this, but I was thing if there is any other way to do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","user-roles"],"answers":[{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679344033,"creation_date":1679344033,"answer_id":75795016,"question_id":75793893,"body_markdown":"One of the best solution which help you define rules and security policies dynamicly, is the ABAC (attributes based access control) method. Use one the best implementation:\r\n[https://sapl.io/][1]\r\n\r\n\r\n  [1]: https://sapl.io/","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>One of the best solution which help you define rules and security policies dynamicly, is the ABAC (attributes based access control) method. Use one the best implementation:\n<a href=\"https://sapl.io/\" rel=\"nofollow noreferrer\">https://sapl.io/</a></p>\n"},{"tags":[],"owner":{"account_id":15111705,"reputation":26,"user_id":10905574,"display_name":"Sourav Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679660237,"creation_date":1679660237,"answer_id":75833551,"question_id":75793893,"body_markdown":"You have to follow Spring boot security standards. \r\nEmail passwords of both Student &amp; Professor should be in the same table.\r\nPlease check Spring Security basic projects and get started.\r\n","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>You have to follow Spring boot security standards.\nEmail passwords of both Student &amp; Professor should be in the same table.\nPlease check Spring Security basic projects and get started.</p>\n"}],"owner":{"account_id":23060416,"reputation":1,"user_id":21441018,"display_name":"Gordey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679660237,"creation_date":1679336042,"question_id":75793893,"body_markdown":"I study and am writing Spring Boot 3.0.4 project with MVC and want to add **Spring Security** to it. I want to create an electonic university diary, where all students and professors would be in database by from the beginning, and they need only login to this diary to get to their page, registration is not needed.\r\n\r\nI don&#39;t understand how to add security for my project and controller, I need to add two Roles - **Student_Role** and **Professor_Role** and give them to Student and Professor accordingly. After that, i need to create security code so that the student can navigate through their part of the html pages as like in this lines:\r\n\r\n```\r\n.antMatchers(&quot;/student/**&quot;).hasRole(&quot;STUDENT&quot;)\r\n.antMatchers(&quot;/professor/**&quot;).hasRole(&quot;PROFESSOR&quot;)\r\n```\r\n\r\nI don&#39;t find suitable examples on the Internet.\r\nSo I have two entities - **Student** and **Professor**. Here is code for them:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank(message = &quot;email cannot be empty&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    @NotBlank(message = &quot;password cannot be empty&quot;)\r\n    @Size(min = 8, max = 16)\r\n    private String password;\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;professor&quot;)\r\npublic class Professor {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    @NotBlank(message = &quot;email cannot be empty&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    @NotBlank(message = &quot;password cannot be empty&quot;)\r\n    private String password;\r\n\r\n    @Column(name = &quot;phone_number&quot;)\r\n    @NotBlank(message = &quot;phone number cannot be empty&quot;)\r\n    private String phoneNumber;\r\n}\r\n```\r\nAnd i also have JpaRepositories for them.\r\nI don&#39;t understand how to add configuration and controller for login. I would be very grateful, if someone can help me with that\r\n\r\n\r\nI tried to find example for solve this problem, but i don&#39;t find. I was trying to do this using LoginUser like buffer that has email and password fields\r\n, but it&#39;s not actualy what i need, there is no spring security that i needed.\r\nHere is my Controller and my login-page:\r\n\r\n```\r\n@Controller\r\npublic class LoginControllerV2 {\r\n\r\n    StudentServiceImpl studentService;\r\n    ProfessorServiceImpl professorService;\r\n\r\n    @Autowired\r\n    public LoginControllerV2(StudentServiceImpl studentService, ProfessorServiceImpl professorService) {\r\n        this.studentService = studentService;\r\n        this.professorService = professorService;\r\n    }\r\n\r\n    @GetMapping(&quot;/login&quot;)\r\n    public String menuPage(Model model) {\r\n        model.addAttribute(&quot;loginUser&quot;, new LoginUser());\r\n        return &quot;login-page&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/authenticateTheUser&quot;)\r\n    public String login(@ModelAttribute LoginUser loginUser, Model model) {\r\n\r\n        String page = &quot;&quot;;\r\n        String email = loginUser.getEmail();\r\n        String password = loginUser.getPassword();\r\n        \r\n        if(studentService.findStudentByEmailAndPassword(email, password)!=null){\r\n            Student student = studentService.findStudentByEmailAndPassword(email,password);\r\n            model.addAttribute(&quot;student&quot;, student);\r\n            page = &quot;student-menu&quot;;\r\n        } else if (professorService.findProfessorByEmailAndPassword(email, password)!=null){\r\n            Professor professor = professorService.findProfessorByEmailAndPassword(email,password);\r\n            model.addAttribute(&quot;professor&quot;, professor);\r\n            page = &quot;professor-menu&quot;;\r\n        } \r\n        return page;\r\n    }\r\n}\r\n```\r\nAnd my thymeleaf page was:\r\n\r\n```\r\n!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Login Page&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h2&gt;Login Page&lt;/h2&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/authenticateTheUser}&quot; th:object=&quot;${loginUser}&quot; method=&quot;POST&quot;&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\r\n        &lt;input type=&quot;email&quot; id=&quot;email&quot; th:field=&quot;*{email}&quot; required /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\r\n        &lt;input type=&quot;password&quot; id=&quot;password&quot; th:field=&quot;*{password}&quot; required /&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n        &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI think i need to create table Roles in database and create ManyToOne relashionship student-roles, professor-roles. But i don&#39;t know will it work and how to use it to configure spring security","title":"How can i add spring security based on roles authorization in spring boot where i have multiple entiites?","body":"<p>I study and am writing Spring Boot 3.0.4 project with MVC and want to add <strong>Spring Security</strong> to it. I want to create an electonic university diary, where all students and professors would be in database by from the beginning, and they need only login to this diary to get to their page, registration is not needed.</p>\n<p>I don't understand how to add security for my project and controller, I need to add two Roles - <strong>Student_Role</strong> and <strong>Professor_Role</strong> and give them to Student and Professor accordingly. After that, i need to create security code so that the student can navigate through their part of the html pages as like in this lines:</p>\n<pre><code>.antMatchers(&quot;/student/**&quot;).hasRole(&quot;STUDENT&quot;)\n.antMatchers(&quot;/professor/**&quot;).hasRole(&quot;PROFESSOR&quot;)\n</code></pre>\n<p>I don't find suitable examples on the Internet.\nSo I have two entities - <strong>Student</strong> and <strong>Professor</strong>. Here is code for them:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank(message = &quot;email cannot be empty&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    @NotBlank(message = &quot;password cannot be empty&quot;)\n    @Size(min = 8, max = 16)\n    private String password;\n}\n</code></pre>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;professor&quot;)\npublic class Professor {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = &quot;first_name&quot;)\n    @NotBlank(message = &quot;first name cannot be empty&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    @NotBlank(message = &quot;last name cannot be empty&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    @NotBlank(message = &quot;email cannot be empty&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    @NotBlank(message = &quot;password cannot be empty&quot;)\n    private String password;\n\n    @Column(name = &quot;phone_number&quot;)\n    @NotBlank(message = &quot;phone number cannot be empty&quot;)\n    private String phoneNumber;\n}\n</code></pre>\n<p>And i also have JpaRepositories for them.\nI don't understand how to add configuration and controller for login. I would be very grateful, if someone can help me with that</p>\n<p>I tried to find example for solve this problem, but i don't find. I was trying to do this using LoginUser like buffer that has email and password fields\n, but it's not actualy what i need, there is no spring security that i needed.\nHere is my Controller and my login-page:</p>\n<pre><code>@Controller\npublic class LoginControllerV2 {\n\n    StudentServiceImpl studentService;\n    ProfessorServiceImpl professorService;\n\n    @Autowired\n    public LoginControllerV2(StudentServiceImpl studentService, ProfessorServiceImpl professorService) {\n        this.studentService = studentService;\n        this.professorService = professorService;\n    }\n\n    @GetMapping(&quot;/login&quot;)\n    public String menuPage(Model model) {\n        model.addAttribute(&quot;loginUser&quot;, new LoginUser());\n        return &quot;login-page&quot;;\n    }\n\n    @PostMapping(&quot;/authenticateTheUser&quot;)\n    public String login(@ModelAttribute LoginUser loginUser, Model model) {\n\n        String page = &quot;&quot;;\n        String email = loginUser.getEmail();\n        String password = loginUser.getPassword();\n        \n        if(studentService.findStudentByEmailAndPassword(email, password)!=null){\n            Student student = studentService.findStudentByEmailAndPassword(email,password);\n            model.addAttribute(&quot;student&quot;, student);\n            page = &quot;student-menu&quot;;\n        } else if (professorService.findProfessorByEmailAndPassword(email, password)!=null){\n            Professor professor = professorService.findProfessorByEmailAndPassword(email,password);\n            model.addAttribute(&quot;professor&quot;, professor);\n            page = &quot;professor-menu&quot;;\n        } \n        return page;\n    }\n}\n</code></pre>\n<p>And my thymeleaf page was:</p>\n<pre><code>!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Login Page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Login Page&lt;/h2&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/authenticateTheUser}&quot; th:object=&quot;${loginUser}&quot; method=&quot;POST&quot;&gt;\n    &lt;div&gt;\n        &lt;label for=&quot;email&quot;&gt;Email:&lt;/label&gt;\n        &lt;input type=&quot;email&quot; id=&quot;email&quot; th:field=&quot;*{email}&quot; required /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label for=&quot;password&quot;&gt;Password:&lt;/label&gt;\n        &lt;input type=&quot;password&quot; id=&quot;password&quot; th:field=&quot;*{password}&quot; required /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Login&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I think i need to create table Roles in database and create ManyToOne relashionship student-roles, professor-roles. But i don't know will it work and how to use it to configure spring security</p>\n"},{"tags":["java","parsing","javaparser"],"answers":[{"tags":[],"owner":{"account_id":9978925,"reputation":28,"user_id":7382493,"display_name":"devesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679660151,"creation_date":1679660151,"answer_id":75833535,"question_id":71798127,"body_markdown":"You can use ClassOrInterfaceDeclaration.addSingleMemberAnnotation(String name , String value) like below :\r\n\r\n    node.addSingleMemberAnnotation(&quot;Foo&quot;, &quot;\\&quot;/a/b/c\\&quot;&quot;);\r\n\r\n   \r\nYou can refer from this java doc :\r\nhttps://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-\r\n","title":"JavaParser add Annotation with single value","body":"<p>You can use ClassOrInterfaceDeclaration.addSingleMemberAnnotation(String name , String value) like below :</p>\n<pre><code>node.addSingleMemberAnnotation(&quot;Foo&quot;, &quot;\\&quot;/a/b/c\\&quot;&quot;);\n</code></pre>\n<p>You can refer from this java doc :\n<a href=\"https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/com.github.javaparser/javaparser-core/3.3.2/com/github/javaparser/ast/nodeTypes/NodeWithAnnotations.html#addSingleMemberAnnotation-java.lang.String-java.lang.String-</a></p>\n"}],"owner":{"account_id":15873055,"reputation":39,"user_id":11453140,"display_name":"Djamaica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75833535,"answer_count":1,"score":0,"last_activity_date":1679660151,"creation_date":1649425392,"question_id":71798127,"body_markdown":"I&#39;m tryng to parse a java file to add annotation to the classes.\r\nI have a class like\r\n\r\n    Class A{\r\n    }\r\n\r\nAnd i want it to become like\r\n\r\n    @Foo(Bar)\r\n    ClassA{\r\n    }\r\n\r\nAt the moment i&#39;m using a visitor with like:\r\n\r\n    public void visit(ClassOrInterfaceDeclaration n, Object arg){\r\n            n.addAnnotation(&quot;Foo&quot;);\r\n            SingleMemberAnnotationExpr expr=(SingleMemberAnnotationExpr)n.getAnnotation(0);\r\n        }\r\n\r\nNow i have the annotation but i don&#39;t get how you set the value","title":"JavaParser add Annotation with single value","body":"<p>I'm tryng to parse a java file to add annotation to the classes.\nI have a class like</p>\n<pre><code>Class A{\n}\n</code></pre>\n<p>And i want it to become like</p>\n<pre><code>@Foo(Bar)\nClassA{\n}\n</code></pre>\n<p>At the moment i'm using a visitor with like:</p>\n<pre><code>public void visit(ClassOrInterfaceDeclaration n, Object arg){\n        n.addAnnotation(&quot;Foo&quot;);\n        SingleMemberAnnotationExpr expr=(SingleMemberAnnotationExpr)n.getAnnotation(0);\n    }\n</code></pre>\n<p>Now i have the annotation but i don't get how you set the value</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","webdriverwait"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1569492816,"post_id":58114356,"comment_id":102618378,"body_markdown":"What is `objMap`?","body":"What is <code>objMap</code>?"},{"owner":{"account_id":7849365,"reputation":83,"user_id":5933293,"accept_rate":25,"display_name":"abhishek pandey"},"score":0,"creation_date":1569493290,"post_id":58114356,"comment_id":102618645,"body_markdown":"That was a call to our Object Map repository to fetch the Xpath","body":"That was a call to our Object Map repository to fetch the Xpath"}],"answers":[{"tags":[],"owner":{"account_id":6701767,"reputation":47952,"user_id":5168011,"accept_rate":100,"display_name":"Guy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569493370,"creation_date":1569493370,"answer_id":58114704,"question_id":58114356,"body_markdown":"`ExpectedConditions.or` receives `ExpectedCondition`s as parameters. When you compare the result of `ExpectedConditions.jsReturnsValue` to a string you are changing the all expression to `boolean`.\r\n\r\nYou can create custom `ExpectedCondition` to warp it\r\n\r\n    public static ExpectedCondition&lt;Object&gt; customeJsReturnsValue(final String javaScript) {\r\n        return new ExpectedCondition&lt;Object&gt;() {\r\n            @Override\r\n            public Object apply(WebDriver driver) {\r\n                return ExpectedConditions.jsReturnsValue(&quot;return Spotfire.Busy.idle()&quot;)).equals(&quot;true&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\nUses:\r\n\r\n    new WebDriverWait(driver.getDriver(),30).until(\r\n        ExpectedConditions.or(\r\n            customeJsReturnsValue(&quot;return document.ReadyState&quot;)).equals(&quot;complete&quot;),\r\n            ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(&quot;name&quot;))\r\n        )\r\n    );","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p><code>ExpectedConditions.or</code> receives <code>ExpectedCondition</code>s as parameters. When you compare the result of <code>ExpectedConditions.jsReturnsValue</code> to a string you are changing the all expression to <code>boolean</code>.</p>\n\n<p>You can create custom <code>ExpectedCondition</code> to warp it</p>\n\n<pre><code>public static ExpectedCondition&lt;Object&gt; customeJsReturnsValue(final String javaScript) {\n    return new ExpectedCondition&lt;Object&gt;() {\n        @Override\n        public Object apply(WebDriver driver) {\n            return ExpectedConditions.jsReturnsValue(\"return Spotfire.Busy.idle()\")).equals(\"true\")\n        }\n    }\n}\n</code></pre>\n\n<p>Uses:</p>\n\n<pre><code>new WebDriverWait(driver.getDriver(),30).until(\n    ExpectedConditions.or(\n        customeJsReturnsValue(\"return document.ReadyState\")).equals(\"complete\"),\n        ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(\"name\"))\n    )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569507324,"creation_date":1569497117,"answer_id":58115779,"question_id":58114356,"body_markdown":"jsReturnsValue()\r\n----------------\r\nThe _ExpectedConditions_ of [`jsReturnsValue()`](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-) returns an _Object_ and is defined as:\r\n\r\n\tpublic static ExpectedCondition&lt;java.lang.Object&gt; jsReturnsValue(java.lang.String javaScript)\r\n\r\n\tAn expectation for String value from javascript\r\n\r\n\tParameters:\r\n\t\tjavaScript - as executable js line\r\n\r\n\tReturns:\r\n\t\ttrue once js return string\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nvisibilityOfElementLocated()\r\n----------------------------\r\nThe _ExpectedConditions_ of [`visibilityOfElementLocated()`](https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-) returns the _WebElement_ and is defined as:\r\n\r\n\tpublic static ExpectedCondition&lt;WebElement&gt; visibilityOfElementLocated(By locator)\r\n\r\n\tAn expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0.\r\n\r\n\tParameters:\r\n\tlocator - used to find the element\r\n\r\n\tReturns:\r\n\tthe WebElement once it is located and visible\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nThis error message...\r\n\r\n\tThe method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\r\n\t\r\n...implies that the `until()` is not appplicable for multiple return types `boolean` and `WebElement`. \r\n\r\nIn your usecase,\r\n\r\n- `jsReturnsValue()` returns an _Object_.\r\n- `visibilityOfElementLocated()` returns a _WebElement_.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nIf you your _usecase_ is about the visibility of a certain _WebElement_ you can safely ignore the concern for **&#39;document.readyState&#39; equal to &quot;complete&quot;** as it would be an overhead. You can find a relevant discussion in [Selenium IE WebDriver only works while debugging](https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701).\r\n\r\nHowever, to use the `until()` for the `visibilityOfElementLocated()` for multiple element of similar type of data types you can follow the below example:\r\n\r\n- Waiting for either of the elements among `By.xpath(&quot;//span[@id=&#39;id1&#39;]&quot;)` or `By.xpath(&quot;//span[@id=&#39;id2&#39;]&quot;)` be like:\r\n\r\n\t\tnew WebDriverWait(driver, 10).until(ExpectedConditions.or(\r\n\t\t    ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;id1&#39;]&quot;)),\r\n\t\t    ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[@id=&#39;id2&#39;]&quot;))\r\n\t\t));\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in \r\n\r\n- [How to extract dynamic text from multiple child nodes within the html through getText()](https://stackoverflow.com/questions/51034819/how-to-extract-dynamic-text-from-multiple-child-nodes-within-the-html-through-ge/51035034#51035034)\r\n- [How to wait for either of the two elements in the page using selenium xpath](https://stackoverflow.com/questions/45166181/how-to-wait-for-either-of-the-two-elements-in-the-page-using-selenium-xpath/45170764#45170764)\r\n\r\n\r\n----------\r\n\r\n\r\nOutro\r\n-----\r\n[Do we have any generic function to check if page has completely loaded in Selenium](https://stackoverflow.com/questions/50327132/do-we-have-any-generic-function-to-check-if-page-has-completely-loaded-in-seleni/50329056#50329056)","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<h2>jsReturnsValue()</h2>\n\n<p>The <em>ExpectedConditions</em> of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#jsReturnsValue-java.lang.String-\" rel=\"nofollow noreferrer\"><code>jsReturnsValue()</code></a> returns an <em>Object</em> and is defined as:</p>\n\n<pre><code>public static ExpectedCondition&lt;java.lang.Object&gt; jsReturnsValue(java.lang.String javaScript)\n\nAn expectation for String value from javascript\n\nParameters:\n    javaScript - as executable js line\n\nReturns:\n    true once js return string\n</code></pre>\n\n<hr>\n\n<h2>visibilityOfElementLocated()</h2>\n\n<p>The <em>ExpectedConditions</em> of <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated-org.openqa.selenium.By-\" rel=\"nofollow noreferrer\"><code>visibilityOfElementLocated()</code></a> returns the <em>WebElement</em> and is defined as:</p>\n\n<pre><code>public static ExpectedCondition&lt;WebElement&gt; visibilityOfElementLocated(By locator)\n\nAn expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0.\n\nParameters:\nlocator - used to find the element\n\nReturns:\nthe WebElement once it is located and visible\n</code></pre>\n\n<hr>\n\n<p>This error message...</p>\n\n<pre><code>The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\n</code></pre>\n\n<p>...implies that the <code>until()</code> is not appplicable for multiple return types <code>boolean</code> and <code>WebElement</code>. </p>\n\n<p>In your usecase,</p>\n\n<ul>\n<li><code>jsReturnsValue()</code> returns an <em>Object</em>.</li>\n<li><code>visibilityOfElementLocated()</code> returns a <em>WebElement</em>.</li>\n</ul>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>If you your <em>usecase</em> is about the visibility of a certain <em>WebElement</em> you can safely ignore the concern for <strong>'document.readyState' equal to \"complete\"</strong> as it would be an overhead. You can find a relevant discussion in <a href=\"https://stackoverflow.com/questions/47709234/selenium-ie-webdriver-only-works-while-debugging/47710701#47710701\">Selenium IE WebDriver only works while debugging</a>.</p>\n\n<p>However, to use the <code>until()</code> for the <code>visibilityOfElementLocated()</code> for multiple element of similar type of data types you can follow the below example:</p>\n\n<ul>\n<li><p>Waiting for either of the elements among <code>By.xpath(\"//span[@id='id1']\")</code> or <code>By.xpath(\"//span[@id='id2']\")</code> be like:</p>\n\n<pre><code>new WebDriverWait(driver, 10).until(ExpectedConditions.or(\n    ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='id1']\")),\n    ExpectedConditions.visibilityOfElementLocated(By.xpath(\"//span[@id='id2']\"))\n));\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>References</h2>\n\n<p>You can find a couple of relevant detailed discussions in </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51034819/how-to-extract-dynamic-text-from-multiple-child-nodes-within-the-html-through-ge/51035034#51035034\">How to extract dynamic text from multiple child nodes within the html through getText()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/45166181/how-to-wait-for-either-of-the-two-elements-in-the-page-using-selenium-xpath/45170764#45170764\">How to wait for either of the two elements in the page using selenium xpath</a></li>\n</ul>\n\n<hr>\n\n<h2>Outro</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/50327132/do-we-have-any-generic-function-to-check-if-page-has-completely-loaded-in-seleni/50329056#50329056\">Do we have any generic function to check if page has completely loaded in Selenium</a></p>\n"},{"tags":[],"owner":{"account_id":28114062,"reputation":1,"user_id":21481421,"display_name":"snehasish panda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679659973,"creation_date":1679659973,"answer_id":75833504,"question_id":58114356,"body_markdown":"Just add the selenium dependency in the pom.xml and the error is gone.\r\n\r\n         &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p>Just add the selenium dependency in the pom.xml and the error is gone.</p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.13.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7849365,"reputation":83,"user_id":5933293,"accept_rate":25,"display_name":"abhishek pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7378,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679659973,"creation_date":1569492267,"question_id":58114356,"body_markdown":"I have been given two conditions based on which the webdriver needs to wait for either of the conditions to fulfill before moving ahead with execution. I am using Explicit wait along with `ExpectedConditions.or` for this purpose.\r\n\r\nI tried using the below code:\r\n\t\t\t\t\r\n    new WebDriverWait(driver.getDriver(),30).until(\r\n        ExpectedConditions.or(\r\n            ExpectedConditions.jsReturnsValue(&quot;return document.ReadyState&quot;)).equals(&quot;complete&quot;),\t\r\n            ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(&quot;name&quot;))\r\n        )\r\n    );\r\n\r\nI am getting the Error: \r\n\r\n    The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\r\n\r\nPlease note that I am using Guava 23.0 and its already added as a dependency in my pom.xml","title":"The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)","body":"<p>I have been given two conditions based on which the webdriver needs to wait for either of the conditions to fulfill before moving ahead with execution. I am using Explicit wait along with <code>ExpectedConditions.or</code> for this purpose.</p>\n\n<p>I tried using the below code:</p>\n\n<pre><code>new WebDriverWait(driver.getDriver(),30).until(\n    ExpectedConditions.or(\n        ExpectedConditions.jsReturnsValue(\"return document.ReadyState\")).equals(\"complete\"),    \n        ExpectedConditions.visibilityOfElementLocated(driver.findElement(By.Id(\"name\"))\n    )\n);\n</code></pre>\n\n<p>I am getting the Error: </p>\n\n<pre><code>The method until(Function&lt;? super WebDriver,V&gt;) in the type FluentWait&lt;WebDriver&gt; is not applicable for the arguments (boolean, ExpectedCondition&lt;WebElement&gt;)\n</code></pre>\n\n<p>Please note that I am using Guava 23.0 and its already added as a dependency in my pom.xml</p>\n"},{"tags":["java","android","database","search","navigation"],"owner":{"account_id":27015033,"reputation":1,"user_id":20574037,"display_name":"Caolan Reilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679659597,"creation_date":1679659597,"question_id":75833460,"body_markdown":"I am looking to create a public transport route planner app on android studio. I have created a database that lists all the routes with the stops in each route and the stop sequence number.\r\n[Database](https://i.stack.imgur.com/KXqIR.png)\r\n\r\nI am looking to implement a search in the app where the user selects a source and destination stop which then searches the database and shows the routes availble that serves these stops. I&#39;m wondering what the best approach for implementing this on Android Studio is?\r\n\r\nI have added the database file to my assets folder and have read in the database in list view. I now just need to implement a search function with two select boxes preferably.","title":"Android Studio: Public Transport route navigation search using SQLITE DB","body":"<p>I am looking to create a public transport route planner app on android studio. I have created a database that lists all the routes with the stops in each route and the stop sequence number.\n<a href=\"https://i.stack.imgur.com/KXqIR.png\" rel=\"nofollow noreferrer\">Database</a></p>\n<p>I am looking to implement a search in the app where the user selects a source and destination stop which then searches the database and shows the routes availble that serves these stops. I'm wondering what the best approach for implementing this on Android Studio is?</p>\n<p>I have added the database file to my assets folder and have read in the database in list view. I now just need to implement a search function with two select boxes preferably.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9443,"page":549,"page_size":100}
