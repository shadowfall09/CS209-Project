{"items":[{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643754007,"creation_date":1643754007,"answer_id":70948293,"question_id":70948066,"body_markdown":"Drop the instantiation of a new `ClassA` object. It should work without it as follows:\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ClassATest{\r\n\r\n    @Mock \r\n    private Object paramMockToBeAddedByConstructor; \r\n\r\n    @InjectMocks\r\n    private ClassA classA;\r\n\r\n    @BeforeEach\r\n    void setup{\r\n        when(paramMockToConstructor.anyMethod()).thenReturn(anyValue);\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n        when(classA.anyMethod()).thenReturn(anyValue);\r\n    }\r\n}\r\n```","title":"How to use @injectMocks thats requires constructor","body":"<p>Drop the instantiation of a new <code>ClassA</code> object. It should work without it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ClassATest{\n\n    @Mock \n    private Object paramMockToBeAddedByConstructor; \n\n    @InjectMocks\n    private ClassA classA;\n\n    @BeforeEach\n    void setup{\n        when(paramMockToConstructor.anyMethod()).thenReturn(anyValue);\n    }\n\n    @Test\n    void test(){\n        when(classA.anyMethod()).thenReturn(anyValue);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8423897,"reputation":1034,"user_id":7505687,"display_name":"Dilermando Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643754007,"creation_date":1643752630,"question_id":70948066,"body_markdown":"I&#39;m using mokito to inject a mock. This object extends a class that requires a contructor with arguments. How to mock this object that requires constructor arguments and pass this arguments as mock too?\r\n\r\nExample class\r\n```java\r\npublic abstract class AbstractClassRequireContructor{\r\n    protected AbstractClassRequireContructor(Object param) {\r\n}\r\n\r\npublic class ClassA extends AbstractClassRequireContructor{\r\n\r\n    public ClassA(Object param) {\r\n        super(param); // required by super class\r\n    }\r\n}\r\n\r\n```\r\n\r\nTest class\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ClassATest{\r\n\r\n    @Mock \r\n    private Object paramMockToBeAddedByConstructor; \r\n\r\n    @InjectMocks\r\n    private ClassA classA; // requires contructor from super class\r\n\r\n    @BeforeEach\r\n    void setup{\r\n        when(paramMockToConstructor.anyMethod()).thenReturn(anyValue);\r\n\r\n        // how to inject mocked argument?\r\n        classA = new ClassA(paramMockToBeAddedByConstructor); // this doesn&#39;t work\r\n    }\r\n\r\n    @Test\r\n    void test(){\r\n        when(classA.anyMethod()).thenReturn(anyValue); // use injectMock class normally\r\n    }\r\n\r\n}\r\n\r\n```\r\nIs there any another strategy to work arroung this better?\r\n","title":"How to use @injectMocks thats requires constructor","body":"<p>I'm using mokito to inject a mock. This object extends a class that requires a contructor with arguments. How to mock this object that requires constructor arguments and pass this arguments as mock too?</p>\n<p>Example class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AbstractClassRequireContructor{\n    protected AbstractClassRequireContructor(Object param) {\n}\n\npublic class ClassA extends AbstractClassRequireContructor{\n\n    public ClassA(Object param) {\n        super(param); // required by super class\n    }\n}\n\n</code></pre>\n<p>Test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class ClassATest{\n\n    @Mock \n    private Object paramMockToBeAddedByConstructor; \n\n    @InjectMocks\n    private ClassA classA; // requires contructor from super class\n\n    @BeforeEach\n    void setup{\n        when(paramMockToConstructor.anyMethod()).thenReturn(anyValue);\n\n        // how to inject mocked argument?\n        classA = new ClassA(paramMockToBeAddedByConstructor); // this doesn't work\n    }\n\n    @Test\n    void test(){\n        when(classA.anyMethod()).thenReturn(anyValue); // use injectMock class normally\n    }\n\n}\n\n</code></pre>\n<p>Is there any another strategy to work arroung this better?</p>\n"},{"tags":["java","certificate","certificate-revocation"],"answers":[{"tags":[],"owner":{"account_id":7321,"reputation":3925,"user_id":12679,"display_name":"Daniel Fisher  lennybacon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643753527,"creation_date":1563042943,"answer_id":57021851,"question_id":56899571,"body_markdown":"[Whatever the DSS framework is](https://duckduckgo.com/?q=DSS+Framework+java)... Here is an article how to check validity with CRL and OCSP: https://stackoverflow.com/questions/42008667/how-do-i-check-if-an-x509-certificate-has-been-revoked-in-java\r\n\r\nThe standard below is PKCS#7, defined in [RFC2315](https://datatracker.ietf.org/doc/html/rfc2315). The cryptographic message syntax defines so called attributes, which can either be of the data (signed), that is hashed and whose has is then signed, or reside next to the signature (unsigned).\r\n\r\nThe additional question posted seems to contain the addition of certificate verification data (OCSP and CRL):\r\n\r\n```java\r\n        commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\r\n        commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\r\n```","title":"How to get revocation status of an X509 certificate with DSS?","body":"<p><a href=\"https://duckduckgo.com/?q=DSS+Framework+java\" rel=\"nofollow noreferrer\">Whatever the DSS framework is</a>... Here is an article how to check validity with CRL and OCSP: <a href=\"https://stackoverflow.com/questions/42008667/how-do-i-check-if-an-x509-certificate-has-been-revoked-in-java\">How do I check if an X509 certificate has been revoked in Java?</a></p>\n<p>The standard below is PKCS#7, defined in <a href=\"https://datatracker.ietf.org/doc/html/rfc2315\" rel=\"nofollow noreferrer\">RFC2315</a>. The cryptographic message syntax defines so called attributes, which can either be of the data (signed), that is hashed and whose has is then signed, or reside next to the signature (unsigned).</p>\n<p>The additional question posted seems to contain the addition of certificate verification data (OCSP and CRL):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        commonCertificateVerifier.setCrlSource(new OnlineCRLSource());\n        commonCertificateVerifier.setOcspSource(new OnlineOCSPSource());\n</code></pre>\n"}],"owner":{"account_id":16261786,"reputation":3,"user_id":11742924,"display_name":"Posfay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57021851,"answer_count":1,"score":0,"last_activity_date":1643753527,"creation_date":1562316065,"question_id":56899571,"body_markdown":"I am trying to validate an X509 certificate based on its revocation status using DSS framework, where do you find it?\r\n\r\nI am using this piece of code to validate the certificate with CRL and OCSP. I want to find out if the `toValidateToken` has been revoked.\r\n\r\n`CertificateToken` class has methods like `isSignatureValid`, `isExpired`, `isValidOn`, but no methods related to revocation.\r\n\r\nI found an `isRevoked()` method in other forums but I don&#39;t have it. I&#39;m sure I have all the dependencies installed.\r\n\r\n\r\n```\r\nCommonCertificateSource adjunctCertificateSource = new CommonCertificateSource();\r\n\r\n// Firstly, we load the certificate to be validated\r\nCertificateToken toValidate = getCertificateFromSignature(documentPath);\r\nCertificateToken toValidateToken = adjunctCertificateSource.addCertificate(toValidate);\r\n\r\n//Configure the certificate verifier using the trust store and the intermediate certificates\r\n//OnlineOCSPSource and OnlineCRLSource will invoke the OCSP service and CRL\r\n//distribution point extracting the URL  from the certificate\r\nCertificateVerifier certificateVerifier = new CommonCertificateVerifier();\r\ncertificateVerifier.setAdjunctCertSource(adjunctCertificateSource);\r\ncertificateVerifier.setCrlSource(new OnlineCRLSource());\r\ncertificateVerifier.setOcspSource(new OnlineOCSPSource());\r\n\r\n//Perform validation\r\nCertificatePool validationPool = certificateVerifier.createValidationPool();\r\nSignatureValidationContext validationContext = new SignatureValidationContext(validationPool);\r\n\r\nvalidationContext.addCertificateTokenForVerification(toValidateToken);\r\nvalidationContext.validate();\r\n```\r\n\r\nI only need a simple true/false as a result.","title":"How to get revocation status of an X509 certificate with DSS?","body":"<p>I am trying to validate an X509 certificate based on its revocation status using DSS framework, where do you find it?</p>\n\n<p>I am using this piece of code to validate the certificate with CRL and OCSP. I want to find out if the <code>toValidateToken</code> has been revoked.</p>\n\n<p><code>CertificateToken</code> class has methods like <code>isSignatureValid</code>, <code>isExpired</code>, <code>isValidOn</code>, but no methods related to revocation.</p>\n\n<p>I found an <code>isRevoked()</code> method in other forums but I don't have it. I'm sure I have all the dependencies installed.</p>\n\n<pre><code>CommonCertificateSource adjunctCertificateSource = new CommonCertificateSource();\n\n// Firstly, we load the certificate to be validated\nCertificateToken toValidate = getCertificateFromSignature(documentPath);\nCertificateToken toValidateToken = adjunctCertificateSource.addCertificate(toValidate);\n\n//Configure the certificate verifier using the trust store and the intermediate certificates\n//OnlineOCSPSource and OnlineCRLSource will invoke the OCSP service and CRL\n//distribution point extracting the URL  from the certificate\nCertificateVerifier certificateVerifier = new CommonCertificateVerifier();\ncertificateVerifier.setAdjunctCertSource(adjunctCertificateSource);\ncertificateVerifier.setCrlSource(new OnlineCRLSource());\ncertificateVerifier.setOcspSource(new OnlineOCSPSource());\n\n//Perform validation\nCertificatePool validationPool = certificateVerifier.createValidationPool();\nSignatureValidationContext validationContext = new SignatureValidationContext(validationPool);\n\nvalidationContext.addCertificateTokenForVerification(toValidateToken);\nvalidationContext.validate();\n</code></pre>\n\n<p>I only need a simple true/false as a result.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":12897750,"reputation":73,"user_id":9327571,"display_name":"Chanfir"},"score":0,"creation_date":1643236930,"post_id":70871002,"comment_id":125289681,"body_markdown":"your password is represented as Mono class and not a string. From a quick search on the internet , Mono is a stream of 0..1 element and you can try login.getPassword().block() to get the string value\nWhile this might work I advice you to read more about Mono , Flux , java reactive programming","body":"your password is represented as Mono class and not a string. From a quick search on the internet , Mono is a stream of 0..1 element and you can try login.getPassword().block() to get the string value While this might work I advice you to read more about Mono , Flux , java reactive programming"}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643274443,"creation_date":1643274443,"answer_id":70875861,"question_id":70871002,"body_markdown":"that is correct you should not block in a reactive application, neither should you subscribe in this usercase, as your application is most likely a producer, and the calling client is the consumer that subscribes.\r\n\r\nwhat you are looking for is the `doOn` operators, that handles `side effects`. Logging is a `side effect`, its something you want to do on the side without disturbing the current flow. For instance update something, increment something, or in your case write to a log.\r\n\r\nwhat you want os probably the `doOnSuccess` operator\r\n\r\nexample (i have not chacked against a compiler since im on mobile), but something like this.\r\n\r\n```\r\nfunction Mono&lt;Login&gt; foobar(Login login) {\r\n    return userRepository.findPasswordByUsername(login.getUsername)\r\n                .doOnSuccess(pwd -&gt; {\r\n                    logger.info(login.getPassword() + &quot; &quot; + pwd);\r\n                }).thenReturn(login);\r\n}\r\n```\r\n","title":"logging an encoded (Bcrypt) password Mono&lt;String&gt; with org.slf4j.Logger from a db call","body":"<p>that is correct you should not block in a reactive application, neither should you subscribe in this usercase, as your application is most likely a producer, and the calling client is the consumer that subscribes.</p>\n<p>what you are looking for is the <code>doOn</code> operators, that handles <code>side effects</code>. Logging is a <code>side effect</code>, its something you want to do on the side without disturbing the current flow. For instance update something, increment something, or in your case write to a log.</p>\n<p>what you want os probably the <code>doOnSuccess</code> operator</p>\n<p>example (i have not chacked against a compiler since im on mobile), but something like this.</p>\n<pre><code>function Mono&lt;Login&gt; foobar(Login login) {\n    return userRepository.findPasswordByUsername(login.getUsername)\n                .doOnSuccess(pwd -&gt; {\n                    logger.info(login.getPassword() + &quot; &quot; + pwd);\n                }).thenReturn(login);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8560681,"reputation":72,"user_id":6414816,"display_name":"Bender"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1643753255,"creation_date":1643667470,"answer_id":70933489,"question_id":70871002,"body_markdown":"Since nobody came up with an answer yet, \r\n\r\n    logger.info(&quot;userName :&quot; +userMono.map(user -&gt; user.getUsername()).share().block());\r\n\r\n`.share()` will allow to `.block()`\r\n\r\nfrom the docs:\r\n&quot;Prepare a Mono which shares this Mono result similar to Flux.shareNext().This will effectively turn this Mono into a hot task when the first Subscriber subscribes using subscribe() API. Further Subscriber will share the same Subscription and therefore the same result.It&#39;s worth noting this is an un-cancellable Subscription.&quot; \r\nworks for me (even though it incorporates `.block()` )\r\n\r\n    userMono.subscribe(user -&gt; logger.info(&quot;username: &quot;+user.getUsername()));\r\nwill return a `Disposable`\r\n\r\nBoth will output the `String` value for the logger.\r\n\r\non a sidenote (which i wasn&#39;t aware of) there is an operator .log(&quot;callerForADefinedLogger&quot;).","title":"logging an encoded (Bcrypt) password Mono&lt;String&gt; with org.slf4j.Logger from a db call","body":"<p>Since nobody came up with an answer yet,</p>\n<pre><code>logger.info(&quot;userName :&quot; +userMono.map(user -&gt; user.getUsername()).share().block());\n</code></pre>\n<p><code>.share()</code> will allow to <code>.block()</code></p>\n<p>from the docs:\n&quot;Prepare a Mono which shares this Mono result similar to Flux.shareNext().This will effectively turn this Mono into a hot task when the first Subscriber subscribes using subscribe() API. Further Subscriber will share the same Subscription and therefore the same result.It's worth noting this is an un-cancellable Subscription.&quot;\nworks for me (even though it incorporates <code>.block()</code> )</p>\n<pre><code>userMono.subscribe(user -&gt; logger.info(&quot;username: &quot;+user.getUsername()));\n</code></pre>\n<p>will return a <code>Disposable</code></p>\n<p>Both will output the <code>String</code> value for the logger.</p>\n<p>on a sidenote (which i wasn't aware of) there is an operator .log(&quot;callerForADefinedLogger&quot;).</p>\n"}],"owner":{"account_id":8560681,"reputation":72,"user_id":6414816,"display_name":"Bender"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70933489,"answer_count":2,"score":1,"last_activity_date":1643753255,"creation_date":1643235673,"question_id":70871002,"body_markdown":"I&#39;m trying to figure out how to log a `Mono&lt;String&gt;` password with slf4j but it would always return a Monotype.\r\n\r\n    logger.info(login.getPassword()+&quot; &quot;+userRepository.findPasswordByUsername(login.getUsername()));\r\n\r\nand \r\n\r\n    logger.info(login.getPassword()+&quot; &quot;+userRepository.findPasswordByUsername(login.getUsername()).toString());\r\n\r\nthe first 2 logging tries above\r\nreturn the literal `password` (from the request) and `MonoNext`\r\n\r\nand ofc you cant use `.block()`\r\n\r\nwhich just throws \r\n\r\n    &quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3&quot;\r\n\r\nyes i&#39;m aware that i can pass a Subscriber / Consumer for onNext() like:\r\n\r\n    .subscribe(x -&gt; System.out.println( x.toString()))\r\nto get some output but how would i do that with a logger only, is there even a way ?\r\n\r\n`login` represents a user retrieved from a request.\r\nThe password is properly stored and encoded (Bycrypt) beforehand ofc (doesn&#39;t seem to be the issue).\r\n\r\nEdit: to give more context \r\n`userRepository.findPasswordByUsername(&quot;username&quot;)`\r\nwill return a Mono&lt;String&gt; which i want to compare to another password as in:\r\n\r\n `passwordEncoder.matches(\r\n&quot;userinputPW&quot;, userRepository.findPasswordByUsername(&quot;username&quot;)\r\n)`\r\n\r\nwhich is how you use a ByCryptEncoder in Spring and i can&#39;t `.map()` the Mono&lt;String&gt; to a String (will obviously always return an Object and not a String as explained here https://stackoverflow.com/a/47180610/6414816 )\r\n\r\nUsing spring-boot-starter-webflux, spring-boot-starter-data-r2dbc, spring-boot-starter-security\r\n\r\nWhat am i missing ? Thanks in Advance.","title":"logging an encoded (Bcrypt) password Mono&lt;String&gt; with org.slf4j.Logger from a db call","body":"<p>I'm trying to figure out how to log a <code>Mono&lt;String&gt;</code> password with slf4j but it would always return a Monotype.</p>\n<pre><code>logger.info(login.getPassword()+&quot; &quot;+userRepository.findPasswordByUsername(login.getUsername()));\n</code></pre>\n<p>and</p>\n<pre><code>logger.info(login.getPassword()+&quot; &quot;+userRepository.findPasswordByUsername(login.getUsername()).toString());\n</code></pre>\n<p>the first 2 logging tries above\nreturn the literal <code>password</code> (from the request) and <code>MonoNext</code></p>\n<p>and ofc you cant use <code>.block()</code></p>\n<p>which just throws</p>\n<pre><code>&quot;block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3&quot;\n</code></pre>\n<p>yes i'm aware that i can pass a Subscriber / Consumer for onNext() like:</p>\n<pre><code>.subscribe(x -&gt; System.out.println( x.toString()))\n</code></pre>\n<p>to get some output but how would i do that with a logger only, is there even a way ?</p>\n<p><code>login</code> represents a user retrieved from a request.\nThe password is properly stored and encoded (Bycrypt) beforehand ofc (doesn't seem to be the issue).</p>\n<p>Edit: to give more context\n<code>userRepository.findPasswordByUsername(&quot;username&quot;)</code>\nwill return a Mono which i want to compare to another password as in:</p>\n<p><code>passwordEncoder.matches( &quot;userinputPW&quot;, userRepository.findPasswordByUsername(&quot;username&quot;) )</code></p>\n<p>which is how you use a ByCryptEncoder in Spring and i can't <code>.map()</code> the Mono to a String (will obviously always return an Object and not a String as explained here <a href=\"https://stackoverflow.com/a/47180610/6414816\">https://stackoverflow.com/a/47180610/6414816</a> )</p>\n<p>Using spring-boot-starter-webflux, spring-boot-starter-data-r2dbc, spring-boot-starter-security</p>\n<p>What am i missing ? Thanks in Advance.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1442339043,"post_id":32587910,"comment_id":53038420,"body_markdown":"Why are you using such an ancient version of Maven-Invoker-Plugin (2.0.0) is the current version...","body":"Why are you using such an ancient version of Maven-Invoker-Plugin (2.0.0) is the current version..."},{"owner":{"account_id":6957722,"reputation":690,"user_id":5338256,"accept_rate":21,"display_name":"Michal"},"score":0,"creation_date":1442386216,"post_id":32587910,"comment_id":53055378,"body_markdown":"Ok I will try to change to 2.0. Missing is the compilation for the included modules &#39;app-web-ui&#39; and app-desktop-ui. According to the tutorial they should be called and compiled according to the specified POM. This is the problem. I just receive compilation in the folder bus-core-api. Any thoughts?","body":"Ok I will try to change to 2.0. Missing is the compilation for the included modules &#39;app-web-ui&#39; and app-desktop-ui. According to the tutorial they should be called and compiled according to the specified POM. This is the problem. I just receive compilation in the folder bus-core-api. Any thoughts?"}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442326219,"creation_date":1442325802,"answer_id":32588156,"question_id":32587910,"body_markdown":"[`pomIncludes`](https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html#pomIncludes) is an element configuring the [`maven-invoker-plugin`](https://maven.apache.org/plugins/maven-invoker-plugin/). Quoting from the documentation, this parameter is used to:\r\n\r\n&gt; Include patterns for searching the integration test directory for projects.\r\n\r\nWhat this means is that during integration testing of your project, Maven will run both the `app-web-ui` and `app-desktop-ui` projects and output the result to the command line.\r\n\r\nThe [`run`](https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html) goal of that plugin binds by default to the Maven phase `integration-test`. Since you did not specify a phase, it keeps that default. Looking at the [lifecyle reference](http://maven.apache.org/ref/3.3.3/maven-core/lifecycles.html), you can see that the `integration-test` phase comes _after_ the `package` phase. Therefore, when you run `mvn package`, Maven does not execute the `integration-test` phase, hence the plugin is never invoked.\r\n\r\nIf you want to invoke that phase, you can run `mvn install` or `mvn verify` (or any phase that comes after the `integration-test`, this phase included).\r\n\r\nAnother solution would be to specify another phase inside the configuration of the `maven-invoker-plugin` (like `test`), but I recommend that you keep the default.","title":"Maven using pomInclude","body":"<p><a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html#pomIncludes\" rel=\"nofollow\"><code>pomIncludes</code></a> is an element configuring the <a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/\" rel=\"nofollow\"><code>maven-invoker-plugin</code></a>. Quoting from the documentation, this parameter is used to:</p>\n\n<blockquote>\n  <p>Include patterns for searching the integration test directory for projects.</p>\n</blockquote>\n\n<p>What this means is that during integration testing of your project, Maven will run both the <code>app-web-ui</code> and <code>app-desktop-ui</code> projects and output the result to the command line.</p>\n\n<p>The <a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html\" rel=\"nofollow\"><code>run</code></a> goal of that plugin binds by default to the Maven phase <code>integration-test</code>. Since you did not specify a phase, it keeps that default. Looking at the <a href=\"http://maven.apache.org/ref/3.3.3/maven-core/lifecycles.html\" rel=\"nofollow\">lifecyle reference</a>, you can see that the <code>integration-test</code> phase comes <em>after</em> the <code>package</code> phase. Therefore, when you run <code>mvn package</code>, Maven does not execute the <code>integration-test</code> phase, hence the plugin is never invoked.</p>\n\n<p>If you want to invoke that phase, you can run <code>mvn install</code> or <code>mvn verify</code> (or any phase that comes after the <code>integration-test</code>, this phase included).</p>\n\n<p>Another solution would be to specify another phase inside the configuration of the <code>maven-invoker-plugin</code> (like <code>test</code>), but I recommend that you keep the default.</p>\n"},{"tags":[],"owner":{"account_id":17085834,"reputation":31,"user_id":12363128,"display_name":"CCardozo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643753095,"creation_date":1643753095,"answer_id":70948150,"question_id":32587910,"body_markdown":"Actually, I&#39;am following the same tutorial and stucking in the same problem. After some hours surffing on the web I find this question, so I start reading  @Tunaki resources [pomincludes][1]. And now I can obtain the three jars (app-desktop-ui-1.0.jar, app-web-ui-1.0.jar and bus-core-api-1.0-SNAPSHOT.jar). To do that, first, I create a folder inside src called &#39;it&#39; and inside it move app-desktop-ui and app-web-ui projects. Based on @Tinaka comments I run the commands `mvn install` and `mvn verify` then it works for both. But the output on the cli is different that is showed on tutorial.\r\n\r\n    [INFO] --- maven-invoker-plugin:2.0.0:run (build) @ bus-core-api ---\r\n    [WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\r\n    [WARNING] Filtering of parent/child POMs is not supported without cloning the projects\r\n    [INFO] Building: app-desktop-ui\\pom.xml\r\n    [INFO] ..SUCCESS (3.0 s)\r\n    [INFO] Building: app-web-ui\\pom.xml\r\n    [INFO] ..SUCCESS (3.1 s)\r\n\r\nSo, I&#39;m also new in Maven, but I think the tutorial omits some steps and also can be differences on maven implementation since the tutorial was made.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html#pomIncludes","title":"Maven using pomInclude","body":"<p>Actually, I'am following the same tutorial and stucking in the same problem. After some hours surffing on the web I find this question, so I start reading  @Tunaki resources <a href=\"https://maven.apache.org/plugins/maven-invoker-plugin/run-mojo.html#pomIncludes\" rel=\"nofollow noreferrer\">pomincludes</a>. And now I can obtain the three jars (app-desktop-ui-1.0.jar, app-web-ui-1.0.jar and bus-core-api-1.0-SNAPSHOT.jar). To do that, first, I create a folder inside src called 'it' and inside it move app-desktop-ui and app-web-ui projects. Based on @Tinaka comments I run the commands <code>mvn install</code> and <code>mvn verify</code> then it works for both. But the output on the cli is different that is showed on tutorial.</p>\n<pre><code>[INFO] --- maven-invoker-plugin:2.0.0:run (build) @ bus-core-api ---\n[WARNING] File encoding has not been set, using platform encoding Cp1252, i.e. build is platform dependent!\n[WARNING] Filtering of parent/child POMs is not supported without cloning the projects\n[INFO] Building: app-desktop-ui\\pom.xml\n[INFO] ..SUCCESS (3.0 s)\n[INFO] Building: app-web-ui\\pom.xml\n[INFO] ..SUCCESS (3.1 s)\n</code></pre>\n<p>So, I'm also new in Maven, but I think the tutorial omits some steps and also can be differences on maven implementation since the tutorial was made.</p>\n"}],"owner":{"account_id":6957722,"reputation":690,"user_id":5338256,"accept_rate":21,"display_name":"Michal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":977,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1643753095,"creation_date":1442325123,"question_id":32587910,"body_markdown":"I am completely new baby into Maven and got stuck on [this tutorial][1].\r\n\r\n  [1]: http://www.tutorialspoint.com/maven/maven_build_automation.htm\r\n\r\nThere is an element pomInclude which is used for including another POM files.\r\nWhen I build bus-core-api with command \r\n\r\n\tmvn package -U\r\n\r\nit just works for current project. The others are not called during the build.\r\n\r\npom.xml in bus-core-api:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;bus-core-api&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bus-core-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n         &lt;debug&gt;true&lt;/debug&gt;\r\n         &lt;pomIncludes&gt;\r\n            &lt;pomInclude&gt;app-web-ui/pom.xml&lt;/pomInclude&gt;\r\n            &lt;pomInclude&gt;app-desktop-ui/pom.xml&lt;/pomInclude&gt; \r\n         &lt;/pomIncludes&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;executions&gt;\r\n         &lt;execution&gt;\r\n            &lt;id&gt;build&lt;/id&gt;\r\n            &lt;goals&gt;\r\n               &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n         &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;/project&gt;\r\n\r\n\r\nPart of output:\r\n      \r\n`[INFO] Compiling 1 source file to c:\\apache-maven-3.3.3\\bus-core-api\\target\\clas\r\nses`\r\n\r\nThe others are missing. Can you tell me why?","title":"Maven using pomInclude","body":"<p>I am completely new baby into Maven and got stuck on <a href=\"http://www.tutorialspoint.com/maven/maven_build_automation.htm\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>There is an element pomInclude which is used for including another POM files.\nWhen I build bus-core-api with command </p>\n\n<pre><code>mvn package -U\n</code></pre>\n\n<p>it just works for current project. The others are not called during the build.</p>\n\n<p>pom.xml in bus-core-api:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \nhttp://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;bus-core-api&lt;/groupId&gt;\n&lt;artifactId&gt;bus-core-api&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;artifactId&gt;maven-invoker-plugin&lt;/artifactId&gt;\n&lt;version&gt;1.6&lt;/version&gt;\n  &lt;configuration&gt;\n     &lt;debug&gt;true&lt;/debug&gt;\n     &lt;pomIncludes&gt;\n        &lt;pomInclude&gt;app-web-ui/pom.xml&lt;/pomInclude&gt;\n        &lt;pomInclude&gt;app-desktop-ui/pom.xml&lt;/pomInclude&gt; \n     &lt;/pomIncludes&gt;\n  &lt;/configuration&gt;\n  &lt;executions&gt;\n     &lt;execution&gt;\n        &lt;id&gt;build&lt;/id&gt;\n        &lt;goals&gt;\n           &lt;goal&gt;run&lt;/goal&gt;\n        &lt;/goals&gt;\n     &lt;/execution&gt;\n  &lt;/executions&gt;\n  &lt;/plugin&gt;\n  &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;/project&gt;\n</code></pre>\n\n<p>Part of output:</p>\n\n<p><code>[INFO] Compiling 1 source file to c:\\apache-maven-3.3.3\\bus-core-api\\target\\clas\nses</code></p>\n\n<p>The others are missing. Can you tell me why?</p>\n"},{"tags":["java","spring","oracle","spring-boot","jpa"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":0,"creation_date":1643726551,"post_id":70942331,"comment_id":125412651,"body_markdown":"In general, quoted object names should be avoided. Once you use quotes to define an object name - say to make it case sensitive or start with a number - you must thereafter *always* use quotes to refer to that object. As you are discovering, this can be difficult or even impossible in some contexts. While others might have a technical hack for this, the best advice I have is to avoid the issue entirely by sticking to valid Oracle naming formats in the first place. There&#39;s no guarantee that custom formats will work with different clients or programming languages.","body":"In general, quoted object names should be avoided. Once you use quotes to define an object name - say to make it case sensitive or start with a number - you must thereafter <i>always</i> use quotes to refer to that object. As you are discovering, this can be difficult or even impossible in some contexts. While others might have a technical hack for this, the best advice I have is to avoid the issue entirely by sticking to valid Oracle naming formats in the first place. There&#39;s no guarantee that custom formats will work with different clients or programming languages."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1643729200,"post_id":70942331,"comment_id":125413922,"body_markdown":"&#39;.hinernate&#39; in your property is wrong. Hopefully it is a cut and paste issue, but if not, you might want to recheck your results using spring.jpa.hibernate.naming.physical-strategy and spring.jpa.hibernate.naming.implicit-strategy with different options, but looks like the SQL table name is already &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; where you get the error, so it might not be being modified - it just doesn&#39;t like it not starting with a numeric character.","body":"&#39;.hinernate&#39; in your property is wrong. Hopefully it is a cut and paste issue, but if not, you might want to recheck your results using spring.jpa.hibernate.naming.physical-strategy and spring.jpa.hibernate.naming.implicit-strategy with different options, but looks like the SQL table name is already &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; where you get the error, so it might not be being modified - it just doesn&#39;t like it not starting with a numeric character."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1643729337,"post_id":70942331,"comment_id":125413986,"body_markdown":"This seems a Hibernate issue, not JPA, as JPA mandates this should work - what is the error when you use @Table(name = &quot;\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\&quot;&quot;) as your docs suggested?  If that doesn&#39;t work, check the hibernate docs or an alternate JPA provider to see if there is a way to avoid it going through the QueryTranslatorImpl.parse on the SQL.","body":"This seems a Hibernate issue, not JPA, as JPA mandates this should work - what is the error when you use @Table(name = &quot;\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\&quot;&quot;) as your docs suggested?  If that doesn&#39;t work, check the hibernate docs or an alternate JPA provider to see if there is a way to avoid it going through the QueryTranslatorImpl.parse on the SQL."},{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":3,"creation_date":1643730804,"post_id":70942331,"comment_id":125414598,"body_markdown":"If you cannot get it to work through JPA (there should be a way) then a last resort could be to create an alias in Oracle to a non-quoted identifier (such as `FHIR_MEDICINAL_PRODUCT_DEFINITION_01`).","body":"If you cannot get it to work through JPA (there should be a way) then a last resort could be to create an alias in Oracle to a non-quoted identifier (such as <code>FHIR_MEDICINAL_PRODUCT_DEFINITION_01</code>)."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1643735246,"post_id":70942331,"comment_id":125416596,"body_markdown":"Check this property: `globally_quoted_identifiers`","body":"Check this property: <code>globally_quoted_identifiers</code>"},{"owner":{"account_id":7876291,"reputation":31,"user_id":5951958,"display_name":"Andrea Ciapetti"},"score":0,"creation_date":1643752956,"post_id":70942331,"comment_id":125422638,"body_markdown":"Thanks @Chris, property `spring.jpa.hibernate.naming.physical-strategy` corrected (it was only a typo).","body":"Thanks @Chris, property <code>spring.jpa.hibernate.naming.physical-strategy</code> corrected (it was only a typo)."},{"owner":{"account_id":7876291,"reputation":31,"user_id":5951958,"display_name":"Andrea Ciapetti"},"score":0,"creation_date":1643753716,"post_id":70942331,"comment_id":125422843,"body_markdown":"@Chris, using:\n`@Table(name = &quot;\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\&quot;&quot;)` \nwithout customizing the naming strategy causes this error:\n`Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [``01_fhir_medicinal_product_definition``]` (1 backtick)\nUsing the custom naming strategy shown in the question, I have this error:\n`Caused by: org.hibernate.QueryException: unexpected char: &#39;&quot;&#39; [select generatedAlias0 from &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; as generatedAlias0]`\nand this is really strange, cause it was my best guess to make it work...","body":"@Chris, using: <code>@Table(name = &quot;\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\&quot;&quot;)</code>  without customizing the naming strategy causes this error: <code>Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [``01_fhir_medicinal_product_definition``]</code> (1 backtick) Using the custom naming strategy shown in the question, I have this error: <code>Caused by: org.hibernate.QueryException: unexpected char: &#39;&quot;&#39; [select generatedAlias0 from &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; as generatedAlias0]</code> and this is really strange, cause it was my best guess to make it work..."}],"owner":{"account_id":7876291,"reputation":31,"user_id":5951958,"display_name":"Andrea Ciapetti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643752286,"creation_date":1643726022,"question_id":70942331,"body_markdown":"I have a table defined in an Oracle DB starting with a digit, i.e. **&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;**.\r\nI have no problems accessing the data in the table using a GUI with an universal DB client, like [DBeaver][1].\r\nDBeaver suggests using double quotes around the table name, like in the following query:\r\n\r\n    SELECT * FROM &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; WHERE ...\r\n\r\nThis works very well and I can access the data without any problems.\r\n\r\nI&#39;m working on a Java application for collecting the same data, using Spring Boot 2 and Spring Data JPA.\r\n\r\nSimply annotating the entity with:\r\n\r\n    @Entity(name = &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;)\r\n\r\nand/or:\r\n\r\n    @Table(name = &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;)\r\n\r\nunfortunately produces an error:\r\n\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) [spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) [spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:309) [spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.0.jar:2.6.0]\r\n    \tat it.ecubit.dgsaf.data.config.ApplicationConfig.main(ApplicationConfig.java:22) [classes/:na]\r\n    Caused by: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat com.sun.proxy.$Proxy108.findAll(Unknown Source) ~[na:na]\r\n    \tat it.ecubit.dgsaf.data.config.ApplicationConfig.lambda$0(ApplicationConfig.java:32) [classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) [spring-boot-2.6.0.jar:2.6.0]\r\n    \t... 5 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:743) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:797) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.13.jar:5.3.13]\r\n    \tat com.sun.proxy.$Proxy105.createQuery(Unknown Source) ~[na:na]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:784) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:761) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:399) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.0.jar:2.6.0]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\r\n    \t... 14 common frames omitted\r\n    Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\r\n    \tat org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:622) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\r\n    \t... 50 common frames omitted\r\n\r\nThe key here is the message &quot;unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]&quot;.\r\n\r\nI&#39;ve tried several workarounds to make it work, including:\r\n\r\n - using backticks in table name (inside the annotation)\r\n\r\n - using double quotes in table name (&quot;\\\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\\\&quot;&quot;)\r\n\r\n - even using a custom naming strategy, using the class shown below (and defining it as the desired physical naming strategy inside application.yml, using the property `spring.jpa.hibernate.naming.physical-strategy`)\r\n\r\n\r\n    \r\n    \tpublic class QuotedUpperCaseNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {    \r\n    \r\n    \t  @Override\r\n    \t  public Identifier toPhysicalTableName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n    \t\tif( identifier == null || identifier.getText() == null ) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tString tableName = identifier.getText();\r\n    \t\tIdentifier result = new DoubleQuotedIdentifier(Identifier.quote(Identifier.toIdentifier(tableName.toUpperCase())));\r\n    \t\tlog.info(&quot;QuotedUpperCaseNamingStrategy (table name) : &quot; + tableName + &quot; -&gt; &quot; + result.toString());\r\n    \t\treturn result;\r\n    \t  }\r\n    \r\n    \t  @Override\r\n    \t  public Identifier toPhysicalCatalogName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\r\n    \t\tif( identifier == null || identifier.getText() == null ) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\tString catalogName = identifier.getText();\r\n    \t\tIdentifier result = new DoubleQuotedIdentifier(Identifier.quote(Identifier.toIdentifier(catalogName.toUpperCase())));\r\n    \t\tlog.info(&quot;QuotedUpperCaseNamingStrategy (catalog name) : &quot; + catalogName + &quot; -&gt; &quot; + result.toString());\r\n    \t\treturn result;\r\n    \t  }\r\n    \r\n    \t  @Override\r\n    \t  protected boolean isCaseInsensitive(JdbcEnvironment jdbcEnvironment) {\r\n    \t\treturn false;\r\n    \t  }\r\n    \t}\r\n\r\nNothing works... Any hints on how to solve this problem?\r\n\r\nI&#39;m using:\r\n\r\n - Spring Boot 2.6.0 with Spring Data JPA\r\n - [Oracle UCP][2] and Oracle ojdbc8 driver\r\n - Java JDK 1.8 (Oracle)\r\n\r\non a Linux workstation.\r\n\r\n\r\n  [1]: https://dbeaver.io/\r\n  [2]: https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm","title":"Spring Boot JPA 2 - Oracle DB - Table name starting with a digit","body":"<p>I have a table defined in an Oracle DB starting with a digit, i.e. <strong>&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;</strong>.\nI have no problems accessing the data in the table using a GUI with an universal DB client, like <a href=\"https://dbeaver.io/\" rel=\"nofollow noreferrer\">DBeaver</a>.\nDBeaver suggests using double quotes around the table name, like in the following query:</p>\n<pre><code>SELECT * FROM &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot; WHERE ...\n</code></pre>\n<p>This works very well and I can access the data without any problems.</p>\n<p>I'm working on a Java application for collecting the same data, using Spring Boot 2 and Spring Data JPA.</p>\n<p>Simply annotating the entity with:</p>\n<pre><code>@Entity(name = &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;)\n</code></pre>\n<p>and/or:</p>\n<pre><code>@Table(name = &quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION&quot;)\n</code></pre>\n<p>unfortunately produces an error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:770) [spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:751) [spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:309) [spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.0.jar:2.6.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1290) [spring-boot-2.6.0.jar:2.6.0]\n    at it.ecubit.dgsaf.data.config.ApplicationConfig.main(ApplicationConfig.java:22) [classes/:na]\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]; nested exception is java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.13.jar:5.3.13]\n    at com.sun.proxy.$Proxy108.findAll(Unknown Source) ~[na:na]\n    at it.ecubit.dgsaf.data.config.ApplicationConfig.lambda$0(ApplicationConfig.java:32) [classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:767) [spring-boot-2.6.0.jar:2.6.0]\n    ... 5 common frames omitted\nCaused by: java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:743) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:797) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:165) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.13.jar:5.3.13]\n    at com.sun.proxy.$Proxy105.createQuery(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:784) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.getQuery(SimpleJpaRepository.java:761) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:399) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:84) ~[spring-data-jpa-2.6.0.jar:2.6.0]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_281]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_281]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_281]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_281]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:638) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.6.0.jar:2.6.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.13.jar:5.3.13]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.13.jar:5.3.13]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.13.jar:5.3.13]\n    ... 14 common frames omitted\nCaused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]\n    at org.hibernate.hql.internal.ast.QuerySyntaxException.convert(QuerySyntaxException.java:74) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.hql.internal.ast.ErrorTracker.throwQueryException(ErrorTracker.java:93) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:301) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:622) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:734) ~[hibernate-core-5.6.1.Final.jar:5.6.1.Final]\n    ... 50 common frames omitted\n</code></pre>\n<p>The key here is the message &quot;unexpected token: 01 near line 1, column 29 [select generatedAlias0 from 01_FHIR_MEDICINAL_PRODUCT_DEFINITION as generatedAlias0]&quot;.</p>\n<p>I've tried several workarounds to make it work, including:</p>\n<ul>\n<li><p>using backticks in table name (inside the annotation)</p>\n</li>\n<li><p>using double quotes in table name (&quot;\\&quot;01_FHIR_MEDICINAL_PRODUCT_DEFINITION\\&quot;&quot;)</p>\n</li>\n<li><p>even using a custom naming strategy, using the class shown below (and defining it as the desired physical naming strategy inside application.yml, using the property <code>spring.jpa.hibernate.naming.physical-strategy</code>)</p>\n<pre><code> public class QuotedUpperCaseNamingStrategy extends CamelCaseToUnderscoresNamingStrategy {    \n\n   @Override\n   public Identifier toPhysicalTableName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n     if( identifier == null || identifier.getText() == null ) {\n         return null;\n     }\n     String tableName = identifier.getText();\n     Identifier result = new DoubleQuotedIdentifier(Identifier.quote(Identifier.toIdentifier(tableName.toUpperCase())));\n     log.info(&quot;QuotedUpperCaseNamingStrategy (table name) : &quot; + tableName + &quot; -&gt; &quot; + result.toString());\n     return result;\n   }\n\n   @Override\n   public Identifier toPhysicalCatalogName(Identifier identifier, JdbcEnvironment jdbcEnvironment) {\n     if( identifier == null || identifier.getText() == null ) {\n         return null;\n     }\n     String catalogName = identifier.getText();\n     Identifier result = new DoubleQuotedIdentifier(Identifier.quote(Identifier.toIdentifier(catalogName.toUpperCase())));\n     log.info(&quot;QuotedUpperCaseNamingStrategy (catalog name) : &quot; + catalogName + &quot; -&gt; &quot; + result.toString());\n     return result;\n   }\n\n   @Override\n   protected boolean isCaseInsensitive(JdbcEnvironment jdbcEnvironment) {\n     return false;\n   }\n }\n</code></pre>\n</li>\n</ul>\n<p>Nothing works... Any hints on how to solve this problem?</p>\n<p>I'm using:</p>\n<ul>\n<li>Spring Boot 2.6.0 with Spring Data JPA</li>\n<li><a href=\"https://docs.oracle.com/cd/E11882_01/java.112/e12265/intro.htm\" rel=\"nofollow noreferrer\">Oracle UCP</a> and Oracle ojdbc8 driver</li>\n<li>Java JDK 1.8 (Oracle)</li>\n</ul>\n<p>on a Linux workstation.</p>\n"},{"tags":["java","oracle","oracle12c","resourcemanager"],"answers":[{"tags":[],"owner":{"account_id":9917909,"reputation":469,"user_id":7342114,"display_name":"Osamazx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610456776,"creation_date":1610456776,"answer_id":65684564,"question_id":65679005,"body_markdown":"To effectively monitor and tune the Database Resource Manager, you must design \r\na representative environment.  The Database Resource Manager works best in\r\nlarge production environments in which system utilization is high.  If a test \r\nplaces insufficient load on the system, measured CPU allocations can be very \r\ndifferent from the allocations specified in the active resource plan.\r\n\r\nto do this \r\n\r\n -  Create a job which will perform some statistics.\r\n -  Create a plan\r\n -  Create Consumer Groups\r\n - Create plan directives\r\n - Validate and submit the plan\r\n -  Group switching\r\n - Assign the user &#39;CRC&#39; of the database a default initial consumer group at connection time\r\n\r\n","title":"Oracle Resource Manager is not allocating CPU to Query","body":"<p>To effectively monitor and tune the Database Resource Manager, you must design\na representative environment.  The Database Resource Manager works best in\nlarge production environments in which system utilization is high.  If a test\nplaces insufficient load on the system, measured CPU allocations can be very\ndifferent from the allocations specified in the active resource plan.</p>\n<p>to do this</p>\n<ul>\n<li>Create a job which will perform some statistics.</li>\n<li>Create a plan</li>\n<li>Create Consumer Groups</li>\n<li>Create plan directives</li>\n<li>Validate and submit the plan</li>\n<li>Group switching</li>\n<li>Assign the user 'CRC' of the database a default initial consumer group at connection time</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24126466,"reputation":1,"user_id":18094709,"display_name":"كريم حمدى"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643752266,"creation_date":1643752266,"answer_id":70947991,"question_id":65679005,"body_markdown":"this is because DEFAULT_MAINTENANCE_PLAN was active\r\ncheck these links:                                                                \r\n\r\nhttps://www.bestremotedba.com/2016/12/25/how-to-resmgr-cpu-quantum-wait/\r\n\r\nhttps://askdba.org/weblog/2012/01/user-sessions-stuck-on-resmgrcpu-quantum-wait-event/\r\n\r\nhttps://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#ADMIN11840","title":"Oracle Resource Manager is not allocating CPU to Query","body":"<p>this is because DEFAULT_MAINTENANCE_PLAN was active\ncheck these links:</p>\n<p><a href=\"https://www.bestremotedba.com/2016/12/25/how-to-resmgr-cpu-quantum-wait/\" rel=\"nofollow noreferrer\">https://www.bestremotedba.com/2016/12/25/how-to-resmgr-cpu-quantum-wait/</a></p>\n<p><a href=\"https://askdba.org/weblog/2012/01/user-sessions-stuck-on-resmgrcpu-quantum-wait-event/\" rel=\"nofollow noreferrer\">https://askdba.org/weblog/2012/01/user-sessions-stuck-on-resmgrcpu-quantum-wait-event/</a></p>\n<p><a href=\"https://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#ADMIN11840\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B28359_01/server.111/b28310/tasks005.htm#ADMIN11840</a></p>\n"}],"owner":{"account_id":9936242,"reputation":339,"user_id":7354507,"accept_rate":0,"display_name":"Ankur Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643752266,"creation_date":1610433082,"question_id":65679005,"body_markdown":"Oracle Resource Manager is not allocating CPU to Query. Our application is executing many queries in the same session but somehow it is always getting stuck at one particular query from today(Previously it was running fine from more than 3 years) and on checking with DBA it is found that it is waiting for event **resmgr:cpu quantum**\r\n\r\nAlthough when I ran the same query from my SQL developer it is running without any issue. I have checked there are no locks and load on CPU is also minimal but I believe it doesn&#39;t matter as query is not even getting CPU to execute.\r\n\r\nBelow are my Oracle Version details\r\n\r\nOracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production,\r\n\r\nPL/SQL Release 12.1.0.2.0 - Production\r\n,\r\n&quot;CORE\t12.1.0.2.0\tProduction&quot;\r\n\r\nTNS for Linux: Version 12.1.0.2.0 - Production\r\n\r\nNLSRTL Version 12.1.0.2.0 - Production\r\n\r\nCan someone please guide what can be the cause that Resource manager is not allocating CPU for this particular query only. There are no hints mentioned in the query","title":"Oracle Resource Manager is not allocating CPU to Query","body":"<p>Oracle Resource Manager is not allocating CPU to Query. Our application is executing many queries in the same session but somehow it is always getting stuck at one particular query from today(Previously it was running fine from more than 3 years) and on checking with DBA it is found that it is waiting for event <strong>resmgr:cpu quantum</strong></p>\n<p>Although when I ran the same query from my SQL developer it is running without any issue. I have checked there are no locks and load on CPU is also minimal but I believe it doesn't matter as query is not even getting CPU to execute.</p>\n<p>Below are my Oracle Version details</p>\n<p>Oracle Database 12c Enterprise Edition Release 12.1.0.2.0 - 64bit Production,</p>\n<p>PL/SQL Release 12.1.0.2.0 - Production\n,\n&quot;CORE   12.1.0.2.0  Production&quot;</p>\n<p>TNS for Linux: Version 12.1.0.2.0 - Production</p>\n<p>NLSRTL Version 12.1.0.2.0 - Production</p>\n<p>Can someone please guide what can be the cause that Resource manager is not allocating CPU for this particular query only. There are no hints mentioned in the query</p>\n"},{"tags":["java","spring","hibernate","jpa","transactions"],"comments":[{"owner":{"account_id":3346421,"reputation":1445,"user_id":2811504,"display_name":"Jo&#227;o Carlos"},"score":0,"creation_date":1645449894,"post_id":70947893,"comment_id":125867315,"body_markdown":"Try flushing the transaction, check this example [1].\n\n[1] https://stackoverflow.com/questions/36759599/transaction-rollback-when-exception-in-spring","body":"Try flushing the transaction, check this example [1].  [1] <a href=\"https://stackoverflow.com/questions/36759599/transaction-rollback-when-exception-in-spring\" title=\"transaction rollback when exception in spring\">stackoverflow.com/questions/36759599/&hellip;</a>"}],"owner":{"account_id":19260318,"reputation":29,"user_id":14076351,"display_name":"Jigar "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1009,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1643751550,"creation_date":1643751550,"question_id":70947893,"body_markdown":"\r\n1. Calling JPArepository to deleteAllById [Debug Snap][3] Internally using hibernate Provider for JPA\r\n\r\nImplementation Class SimpleJpaRepository has Transactional Annotation at the top\r\n\r\n2. Due to Transactional Annotation it went into Proxy [Debug Snap][2]\r\n\r\n3. In loop it is deleting in bulk, Deleting one by one in debug mode, when 1 element is deleted checking in database, element still Exist, but then post 1 element deletion forcefully throwing exception, then 1 delete is being committed in database (Any configuration missing here)? see there is some option of Transactional(rollback = &quot;Exception.class&quot;), but how to add it in SimpleJPARepository class ?\r\n[Debug Snap][1]\r\n\r\n4. Main issue, I am putting Transactional annotation at top of service method called by rest API, which is internally calling multiple other services which are actual doing JPA transaction like update/delete/create (So transactional annotation on top of my service is not going in Proxy as per step 2 debug (But internal JPA calls going into Proxy), checked many things, public method...) still nothing worked\r\n\r\n**StartupClass Configuration Annotation**\r\n\r\n    @SpringBootApplication\r\n    @ImportResource(&quot;classpath:spring/starter.xml&quot;)\r\n    @PropertySource(&quot;classpath:config/${env}/application.properties&quot;)\r\n    @EnableJpaAuditing()\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\r\n\r\n**Transaction Manager Main**\r\n\r\n    @Bean()\r\n    @Primary\r\n    public PlatformTransactionManager transactionManager(EntityManagerFactory emf) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf);\r\n        return transactionManager;\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qjwdU.png\r\n  [2]: https://i.stack.imgur.com/a9ugA.png\r\n  [3]: https://i.stack.imgur.com/vNTpV.png","title":"Spring boot, Transactional annotation not working on Service, SimpleJPA repository Transactional partially deleting","body":"<ol>\n<li>Calling JPArepository to deleteAllById <a href=\"https://i.stack.imgur.com/vNTpV.png\" rel=\"nofollow noreferrer\">Debug Snap</a> Internally using hibernate Provider for JPA</li>\n</ol>\n<p>Implementation Class SimpleJpaRepository has Transactional Annotation at the top</p>\n<ol start=\"2\">\n<li><p>Due to Transactional Annotation it went into Proxy <a href=\"https://i.stack.imgur.com/a9ugA.png\" rel=\"nofollow noreferrer\">Debug Snap</a></p>\n</li>\n<li><p>In loop it is deleting in bulk, Deleting one by one in debug mode, when 1 element is deleted checking in database, element still Exist, but then post 1 element deletion forcefully throwing exception, then 1 delete is being committed in database (Any configuration missing here)? see there is some option of Transactional(rollback = &quot;Exception.class&quot;), but how to add it in SimpleJPARepository class ?\n<a href=\"https://i.stack.imgur.com/qjwdU.png\" rel=\"nofollow noreferrer\">Debug Snap</a></p>\n</li>\n<li><p>Main issue, I am putting Transactional annotation at top of service method called by rest API, which is internally calling multiple other services which are actual doing JPA transaction like update/delete/create (So transactional annotation on top of my service is not going in Proxy as per step 2 debug (But internal JPA calls going into Proxy), checked many things, public method...) still nothing worked</p>\n</li>\n</ol>\n<p><strong>StartupClass Configuration Annotation</strong></p>\n<pre><code>@SpringBootApplication\n@ImportResource(&quot;classpath:spring/starter.xml&quot;)\n@PropertySource(&quot;classpath:config/${env}/application.properties&quot;)\n@EnableJpaAuditing()\n@EnableTransactionManagement\n@EnableJpaRepositories(repositoryFactoryBeanClass = EnversRevisionRepositoryFactoryBean.class)\n</code></pre>\n<p><strong>Transaction Manager Main</strong></p>\n<pre><code>@Bean()\n@Primary\npublic PlatformTransactionManager transactionManager(EntityManagerFactory emf) {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory(emf);\n    return transactionManager;\n}\n</code></pre>\n"},{"tags":["java","spring","progress-bar","batch-processing","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1417119638,"post_id":27153162,"comment_id":42845138,"body_markdown":"Why you want to store total count into HibernateCursorItemReader? Total rows count is just an information unrelated to your reader and using a listener (as you did) or an extra step before &#39;first1&#39; to get row count and store it into jobExecutionContext. You are safe for restartability,also.","body":"Why you want to store total count into HibernateCursorItemReader? Total rows count is just an information unrelated to your reader and using a listener (as you did) or an extra step before &#39;first1&#39; to get row count and store it into jobExecutionContext. You are safe for restartability,also."}],"answers":[{"tags":[],"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643751371,"creation_date":1418991075,"answer_id":27565903,"question_id":27153162,"body_markdown":"Before Job Starts get total items to process i.e. rows\r\n\r\n**BatchJobExecutionListener.class**\r\n\r\n\tpublic void beforeJob(JobExecution jobExecution) {\t\t\r\n\t\t\r\n\t\tint total = yourDao.getTotalRows();\r\n\t\tjobExecution.getExecutionContext().put(&quot;jobComplete&quot;, total);\r\n\t\t\r\n\t}\r\n\t\r\n\r\nDuring job execution retrieve total items and compare to read count\r\n\r\n**JobWrapper.class**\r\n\r\n\t...\r\n\tprivate JobExecution jobE;\r\n\t...\r\n\r\n\tpublic Long getProgress() {\r\n\r\n\t\tdouble jobComplete = (Double) jobE.getExecutionContext()\r\n\t\t\t\t\t\t\t\t.get(&quot;jobComplete&quot;);\r\n\t\tdouble reads = 0;\t\t\r\n\t\tfor (StepExecution step : jobE.getStepExecutions()) {\r\n\t\t\treads = reads + step.getReadCount();\r\n\t\t}\r\n\t\treturn Math.round(reads / jobComplete * 100);\r\n\t}","title":"Implement A Spring Batch Progress Bar - Get total row count on Job Execution","body":"<p>Before Job Starts get total items to process i.e. rows</p>\n<p><strong>BatchJobExecutionListener.class</strong></p>\n<pre><code>public void beforeJob(JobExecution jobExecution) {      \n    \n    int total = yourDao.getTotalRows();\n    jobExecution.getExecutionContext().put(&quot;jobComplete&quot;, total);\n    \n}\n</code></pre>\n<p>During job execution retrieve total items and compare to read count</p>\n<p><strong>JobWrapper.class</strong></p>\n<pre><code>...\nprivate JobExecution jobE;\n...\n\npublic Long getProgress() {\n\n    double jobComplete = (Double) jobE.getExecutionContext()\n                            .get(&quot;jobComplete&quot;);\n    double reads = 0;       \n    for (StepExecution step : jobE.getStepExecutions()) {\n        reads = reads + step.getReadCount();\n    }\n    return Math.round(reads / jobComplete * 100);\n}\n</code></pre>\n"}],"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7936,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":27565903,"answer_count":1,"score":5,"last_activity_date":1643751371,"creation_date":1417016318,"question_id":27153162,"body_markdown":"I have a batch job which reads from a database using `HibernateCursorItemReader`, processes the results using a custom processor then commits to another database.\r\n\r\nWhat I would like to show is how many items have been processed against total items to process.\r\n\r\nI have tried implementing a custom `JobExecutionListener` with `@beforeJob` to get the row count from the first table which can then be compared\r\nagainst the `Job Execution` commits periodically.\r\n\r\nIs there a better way than using a `Job Execution` Listener. is it possible to get the total row count for the table on the first read, setting a value on the `HibernateCursorItemReader` during initialization or something similar?\r\n\r\n\r\n**Job**\r\n\r\n\t&lt;batch:job id=&quot;SomeLongJob&quot; job-repository=&quot;jobRepository&quot; restartable=&quot;true&quot;&gt;\t\t\r\n\t\t&lt;batch:listeners&gt;\r\n\t\t\t&lt;batch:listener ref=&quot;batchJobExecutionListener&quot; /&gt;\r\n\t\t&lt;/batch:listeners&gt; \t\r\n\t\t&lt;batch:step id=&quot;first1&quot;&gt;\r\n\t\t\t&lt;tasklet transaction-manager=&quot;hibernateTransactionManager&quot;&gt;\r\n\t\t\t\t&lt;chunk reader=&quot;hibernateItemReader&quot;\r\n\t\t\t\t\t   processor=&quot;batchCustomProcessor&quot;\r\n\t\t\t\t\t   writer=&quot;hibernateItemWriter&quot;\r\n\t\t\t\t\t   skip-limit=&quot;0&quot;\r\n\t\t\t\t\t   commit-interval=&quot;10&quot;&gt;\r\n\t\t\t\t&lt;/chunk&gt;\r\n\t\t\t&lt;/tasklet&gt;\r\n\t\t&lt;/batch:step&gt;\r\n\t&lt;/batch:job&gt;\r\n\r\n\r\n**Reader**\r\n\r\n\t&lt;bean id=&quot;hibernateItemReader&quot;\r\n\t\tclass=&quot;org.springframework.batch.item.database.HibernateCursorItemReader&quot;&gt;\r\n\t\t&lt;property name=&quot;queryString&quot; value=&quot;from MyTable&quot; /&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;","title":"Implement A Spring Batch Progress Bar - Get total row count on Job Execution","body":"<p>I have a batch job which reads from a database using <code>HibernateCursorItemReader</code>, processes the results using a custom processor then commits to another database.</p>\n\n<p>What I would like to show is how many items have been processed against total items to process.</p>\n\n<p>I have tried implementing a custom <code>JobExecutionListener</code> with <code>@beforeJob</code> to get the row count from the first table which can then be compared\nagainst the <code>Job Execution</code> commits periodically.</p>\n\n<p>Is there a better way than using a <code>Job Execution</code> Listener. is it possible to get the total row count for the table on the first read, setting a value on the <code>HibernateCursorItemReader</code> during initialization or something similar?</p>\n\n<p><strong>Job</strong></p>\n\n<pre><code>&lt;batch:job id=\"SomeLongJob\" job-repository=\"jobRepository\" restartable=\"true\"&gt;      \n    &lt;batch:listeners&gt;\n        &lt;batch:listener ref=\"batchJobExecutionListener\" /&gt;\n    &lt;/batch:listeners&gt;  \n    &lt;batch:step id=\"first1\"&gt;\n        &lt;tasklet transaction-manager=\"hibernateTransactionManager\"&gt;\n            &lt;chunk reader=\"hibernateItemReader\"\n                   processor=\"batchCustomProcessor\"\n                   writer=\"hibernateItemWriter\"\n                   skip-limit=\"0\"\n                   commit-interval=\"10\"&gt;\n            &lt;/chunk&gt;\n        &lt;/tasklet&gt;\n    &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n</code></pre>\n\n<p><strong>Reader</strong></p>\n\n<pre><code>&lt;bean id=\"hibernateItemReader\"\n    class=\"org.springframework.batch.item.database.HibernateCursorItemReader\"&gt;\n    &lt;property name=\"queryString\" value=\"from MyTable\" /&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643751232,"post_id":70947787,"comment_id":125422119,"body_markdown":"What version of Eclipse are you using? Can you post your POM file?","body":"What version of Eclipse are you using? Can you post your POM file?"},{"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"score":0,"creation_date":1643751488,"post_id":70947787,"comment_id":125422200,"body_markdown":"I am using the newest version of eclipse I think, I don&#39;t know how I could add the POM file","body":"I am using the newest version of eclipse I think, I don&#39;t know how I could add the POM file"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1643752420,"post_id":70947787,"comment_id":125422475,"body_markdown":"Copy and paste the contents of the POM.","body":"Copy and paste the contents of the POM."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1643786917,"post_id":70947787,"comment_id":125428650,"body_markdown":"Please tell the exact version number of your Eclipse and of the m2e plugin since _newest_ is not a proper version number. Please also tell the preferences you have for Maven. Do you mean by _&quot;enabling full index&quot;_ the option _Download repository index updates on startup_? The warning in the log seems unrelated (please add the log starting with `!SESSION`).","body":"Please tell the exact version number of your Eclipse and of the m2e plugin since <i>newest</i> is not a proper version number. Please also tell the preferences you have for Maven. Do you mean by <i>&quot;enabling full index&quot;</i> the option <i>Download repository index updates on startup</i>? The warning in the log seems unrelated (please add the log starting with <code>!SESSION</code>)."}],"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643751081,"creation_date":1643750960,"question_id":70947787,"body_markdown":"I am using Eclipse on a windows computer and I am able to add 1 dependency from a global repository, but when I try to add another that I need my Eclipse just loads for a long time and eventually gives me the &quot;Not Responding&quot; message. I have tried changing preferences, I have made sure my system has enough memory on the hard drive, I have tried enabling full index and rebuilding indexes, and I have also tried running as maven clean within the workspace. I also opened my .log file and at the very bottom it gives me a message that says:\r\n```\r\n!ENTRY org.eclipse.ui.navigator 2 0 2022-02-01 15:27:10.371\r\n!MESSAGE Can&#39;t find Navigator Content Descriptor with id: org.eclipse.jst.servlet.ui.EnhancedJavaRendering\r\n```\r\nI was wondering if this was the source of my issue, and if so how do I fix it?","title":"Eclipse Freeze/Not Responding when searching for maven dependency","body":"<p>I am using Eclipse on a windows computer and I am able to add 1 dependency from a global repository, but when I try to add another that I need my Eclipse just loads for a long time and eventually gives me the &quot;Not Responding&quot; message. I have tried changing preferences, I have made sure my system has enough memory on the hard drive, I have tried enabling full index and rebuilding indexes, and I have also tried running as maven clean within the workspace. I also opened my .log file and at the very bottom it gives me a message that says:</p>\n<pre><code>!ENTRY org.eclipse.ui.navigator 2 0 2022-02-01 15:27:10.371\n!MESSAGE Can't find Navigator Content Descriptor with id: org.eclipse.jst.servlet.ui.EnhancedJavaRendering\n</code></pre>\n<p>I was wondering if this was the source of my issue, and if so how do I fix it?</p>\n"},{"tags":["java","arrays","class","object","flow-control"],"comments":[{"owner":{"account_id":9722462,"reputation":4365,"user_id":7210739,"display_name":"DontKnowMuchBut Getting Better"},"score":2,"creation_date":1643653975,"post_id":70931016,"comment_id":125392694,"body_markdown":"Please check out [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). It&#39;ll get you started on how to debug your problem.","body":"Please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It&#39;ll get you started on how to debug your problem."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643655390,"creation_date":1643654583,"answer_id":70931210,"question_id":70931016,"body_markdown":"&gt; if try to insert one more video... the previous element is deleted\r\n&gt; from inventory\r\n\r\nThat&#39;s expected, because in the method `addVideo()` you are not making a copy but creating a **`new`** `array` of a greater length and then adding a new Video object to it. That&#39;ll be the only element in the `store`.\r\n\r\nTo preserve all the elements that have been added previously you have to make a `copy of the existing array`. One of the ways to do it is to make use of the static method `copyOf()` of the **`Arrays`** utility class.\r\n\r\n\r\n```\r\n    public void addVideo(String name) {\r\n        int s;\r\n\r\n        Video video = new Video(name);\r\n        if (store == null)\r\n            s = 0;\r\n        else {\r\n            s = store.length;\r\n        }\r\n        Video[] store = Arrays.copyOf(store, s + 1);\r\n        store[s]=video;\r\n    }\r\n```","title":"Array is cleared when adding a new element","body":"<blockquote>\n<p>if try to insert one more video... the previous element is deleted\nfrom inventory</p>\n</blockquote>\n<p>That's expected, because in the method <code>addVideo()</code> you are not making a copy but creating a <strong><code>new</code></strong> <code>array</code> of a greater length and then adding a new Video object to it. That'll be the only element in the <code>store</code>.</p>\n<p>To preserve all the elements that have been added previously you have to make a <code>copy of the existing array</code>. One of the ways to do it is to make use of the static method <code>copyOf()</code> of the <strong><code>Arrays</code></strong> utility class.</p>\n<pre><code>    public void addVideo(String name) {\n        int s;\n\n        Video video = new Video(name);\n        if (store == null)\n            s = 0;\n        else {\n            s = store.length;\n        }\n        Video[] store = Arrays.copyOf(store, s + 1);\n        store[s]=video;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1643738124,"creation_date":1643654637,"answer_id":70931221,"question_id":70931016,"body_markdown":"Take a look at the `addVideo` method:\r\n\r\n    void addVideo(String name) {\r\n        int s;\r\n        \r\n        Video video = new Video(name);\r\n        if(store==null)\r\n            s=0;\r\n        else {\r\n            s=store.length;\r\n        }\r\n        \r\n        Video[] store2 = new Video[s+1];\r\n\r\n        // This array only has a single item in it: the new video is at the end of the\r\n        // array, and the rest of the array is empty.\r\n        // Be sure to preserve the original content.\r\n        //\r\n        // Copying the entire array every time you add a video is not\r\n        // very efficient, though, because it means\r\n        // that adding a new video will always be an O(n) operation, so you may want to\r\n        // consider an alternative implementation here.\r\n        store2[s]=video;\r\n\r\n        // You replace the entire array here\r\n        store=store2;\r\n    }\r\n\r\nIn this method, you replace the original array every time with an array that contains only the video you just added.\r\n\r\nAlso, as I mentioned in the code comments, an array is a somewhat suboptimal data structure here because it means that adding or checking out videos are both O(n) operations. You may want to consider a hash table instead.","title":"Array is cleared when adding a new element","body":"<p>Take a look at the <code>addVideo</code> method:</p>\n<pre><code>void addVideo(String name) {\n    int s;\n    \n    Video video = new Video(name);\n    if(store==null)\n        s=0;\n    else {\n        s=store.length;\n    }\n    \n    Video[] store2 = new Video[s+1];\n\n    // This array only has a single item in it: the new video is at the end of the\n    // array, and the rest of the array is empty.\n    // Be sure to preserve the original content.\n    //\n    // Copying the entire array every time you add a video is not\n    // very efficient, though, because it means\n    // that adding a new video will always be an O(n) operation, so you may want to\n    // consider an alternative implementation here.\n    store2[s]=video;\n\n    // You replace the entire array here\n    store=store2;\n}\n</code></pre>\n<p>In this method, you replace the original array every time with an array that contains only the video you just added.</p>\n<p>Also, as I mentioned in the code comments, an array is a somewhat suboptimal data structure here because it means that adding or checking out videos are both O(n) operations. You may want to consider a hash table instead.</p>\n"}],"owner":{"account_id":24089127,"reputation":73,"user_id":18062652,"display_name":"shield"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70931221,"answer_count":2,"score":0,"last_activity_date":1643750661,"creation_date":1643653734,"question_id":70931016,"body_markdown":"I&#39;ve implemented a Video rental service. \r\n\r\n`VideoStore` class maintains an array of `Video` objects.\r\n\r\nWhen am trying to add a new video to the inventory it inserts the new element successfully. But all elements that were previously added are no longer accessible. \r\n\r\nWhy does it happen?\r\n\r\n\r\n```\r\npublic class Video {\r\n\r\n\tString videoName;\r\n\tboolean checkout;\r\n\tint rating;\r\n\t\r\n\tVideo (String name){\r\n\t\tthis.videoName=name;\r\n\t}\r\n\t\r\n\tString getName() {\r\n\t\treturn videoName;\r\n\t}\r\n\tvoid doCheckout() {\r\n\t\tthis.checkout=true;\r\n\t}\r\n\tvoid doReturn() {\r\n\t\tthis.checkout=false;\r\n\t}\r\n\tvoid receiveRating(int rating) {\r\n\t\tthis.rating=rating;\r\n\t}\r\n\tint getRating() {\r\n\t\treturn rating;\r\n\t}\r\n\tboolean getCheckout() {\r\n\t\treturn checkout;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class VideoStore {\r\n\r\n\tVideo[] store=null;\r\n\t\r\n\tint checkVideo(String name) {\r\n\t\tint count =0;\r\n\t\tif(store==null) {\r\n\t\t\tcount =0;\r\n\t\t}else\r\n\t\t\tfor(Video video:store) {\r\n\t\t\t\tif(video!=null) {\r\n\t\t\t\tif(video.getName().equals(name))\r\n\t\t\t\t\tcount=1;\r\n\t\t\t}}\r\n\t\t\treturn count;\r\n\t}\r\n\t\r\n\tvoid addVideo(String name) {\r\n\t\tint s;\r\n\t\t\r\n\t\tVideo video = new Video(name);\r\n\t\tif(store==null)\r\n\t\t\ts=0;\r\n\t\telse {\r\n\t\t\ts=store.length;\r\n\t\t}\r\n\t\t\r\n\t\tVideo[] store2 = new Video[s+1];\r\n\t\tstore2[s]=video;\r\n\t\tstore=store2;\r\n\t}\r\n\t\r\n\tvoid doCheckout(String name) {\r\n\t\tif(store == null || store.length==0) {\r\n\t\t\tSystem.out.println(&quot;Store is empty&quot;);\r\n\t\t\treturn;\r\n\t\t}else\r\n\t\t\tfor(Video video:store) {\r\n\t\t\t\tif(video!=null) {\r\n\t\t\t\tif(video.getName().equals(name))\r\n\t\t\t\t\tvideo.doCheckout();\r\n\t\t\t}}\r\n\t\t\t\r\n\t}\r\n\t\r\n\tvoid doReturn(String name) {\r\n\t\tif(store == null || store.length==0) {\r\n\t\t\tSystem.out.println(&quot;Store is empty&quot;);\r\n\t\t\treturn;\r\n\t\t}else\r\n\t\t\r\n\t\t\tfor(Video video:store) {\r\n\t\t\t\tif(video!=null) {\r\n\t\t\t\tif(video.getName().equals(name))\r\n\t\t\t\t\tvideo.doReturn();\r\n\t\t\t}}\r\n\t}\r\n\tvoid receiveRating(String name, int rating) {\r\n\t\tif(store == null || store.length==0) {\r\n\t\t\tSystem.out.println(&quot;Store is empty&quot;);\r\n\t\t\treturn;\r\n\t\t} else\r\n\t\t\r\n\t\t\tfor(Video video:store) {\r\n\t\t\t\tif(video!=null) {\r\n\t\t\t\tif(video.getName().equals(name))\r\n\t\t\t\t\tvideo.receiveRating(rating);\r\n\t\t\t}}\r\n\t\t\r\n\t}\r\n\tvoid listInventory() {\r\n\t\tif(store == null || store.length==0) {\r\n\t\t\tSystem.out.println(&quot;Store is empty&quot;);\r\n\t\t\treturn;\r\n\t\t}else\r\n\t\t\r\n\t\t\tfor(Video video:store) {\r\n\t\t\t\tif(video!=null) {\r\n\t\t\t\tSystem.out.print(&quot;---------------------------------------------------------------------------&quot;);\r\n\t\t\t\tSystem.out.printf(&quot;\\n\\t%-20s\\t|\\t%-10s\\t|\\t%-15s\\n&quot;, &quot;Video Name&quot;,&quot;Checkout Status&quot;,&quot;Rating&quot;);\r\n\t\t\t\tSystem.out.printf(&quot;\\n\\t%-20s\\t|\\t%-10s\\t|\\t%-15s\\n&quot;, video.getName(), video.getCheckout(),video.getRating());\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------------------------------------&quot;);\r\n\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class VideoLauncher {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner sc =new Scanner(System.in);\r\n\t\tint input=0;\r\n\t\t\r\n\t\tVideoStore vStore =new VideoStore();\r\n\t\t\r\n\t\twhile(true) {\r\n\t\t\tSystem.out.println(&quot;\\n1. Add Videos : &quot;+&quot;\\n&quot;+&quot;2. Check Out Video : &quot;+&quot;\\n&quot;+&quot;3. Return Video : &quot;+\r\n\t\t\t\t\t   &quot;\\n&quot;+&quot;4. Receive Rating : &quot;+&quot;\\n&quot;+&quot;5. List Inventory : &quot;+&quot;\\n&quot;+&quot;6. Exit : &quot;);\r\n\t\t\tSystem.out.print(&quot;Enter Your Choice (1..6) : &quot;);\r\n\t\t\tif(!sc.hasNextInt()) {\r\n\t\t\t\tsc.next();\r\n\t\t\t\tinput=0;\r\n\t\t\t} \r\n\t\t\tString name;\r\n\t\t\tinput =sc.nextInt();\r\n\t\t\tsc.nextLine();\r\n\t\t\t\r\n\t\t\tswitch(input) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.print(&quot;Enter the name of the video you want to add : &quot;);\r\n\t\t\t\tname =sc.nextLine();\r\n\t\t\t\t\r\n\t\t\t\tvStore.addVideo(name);\r\n\t\t\t\tSystem.out.println(&quot;Video &#39;&quot; +name+&quot;&#39; added successfully.&quot;);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.print(&quot;Enter the name of the video you want to check out : &quot;);\r\n\t\t\t\tname = sc.nextLine();if(vStore.checkVideo(name)==0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Video does not exist.&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\r\n\t\t\t\t\tvStore.doCheckout(name);\r\n\t\t\t\tSystem.out.println(&quot;Video &#39;&quot;+name+&quot;&#39; checked out successfully.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.print(&quot;Enter the name of the video you want to return : &quot;);\r\n\t\t\t\tname = sc.nextLine();\r\n\t\t\t\tif(vStore.checkVideo(name)==0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Video does not exist.&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tvStore.doReturn(name);\r\n\t\t\t\tSystem.out.println(&quot;Video &#39;&quot;+name+&quot;&#39; returned successfully.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.print(&quot;Enter the name of the video you want to rate : &quot;);\r\n\t\t\t\tname = sc.nextLine();\r\n\t\t\t\tif(vStore.checkVideo(name)==0) {\r\n\t\t\t\t\tSystem.out.println(&quot;Video does not exist.&quot;);\r\n\t\t\t\t}else {\r\n\t\t\t\r\n\t\t\t\t\tSystem.out.print(&quot;Enter the rating for this video : &quot;);\r\n\t\t\t\t\tint rating = sc.nextInt();\r\n\t\t\t\t\tvStore.receiveRating(name, rating);\r\n\t\t\t\t\tSystem.out.println(&quot;Rating &#39;&quot;+rating+&quot;&#39; has been mapped to the Video &#39;&quot;+name+&quot;&#39;.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase 5:\r\n\t\t\t\tvStore.listInventory();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tsc.close();\r\n\t\t\t\tSystem.out.print(&quot;Exiting...!! Thanks for using the application.&quot;);\r\n\t\t\t\treturn;\r\n\t\t\tdefault:\r\n\t\t\t\tSystem.out.println(&quot;Please enter correct choice.&quot;);\r\n\t}}\r\n\t}\r\n}\r\n```","title":"Array is cleared when adding a new element","body":"<p>I've implemented a Video rental service.</p>\n<p><code>VideoStore</code> class maintains an array of <code>Video</code> objects.</p>\n<p>When am trying to add a new video to the inventory it inserts the new element successfully. But all elements that were previously added are no longer accessible.</p>\n<p>Why does it happen?</p>\n<pre><code>public class Video {\n\n    String videoName;\n    boolean checkout;\n    int rating;\n    \n    Video (String name){\n        this.videoName=name;\n    }\n    \n    String getName() {\n        return videoName;\n    }\n    void doCheckout() {\n        this.checkout=true;\n    }\n    void doReturn() {\n        this.checkout=false;\n    }\n    void receiveRating(int rating) {\n        this.rating=rating;\n    }\n    int getRating() {\n        return rating;\n    }\n    boolean getCheckout() {\n        return checkout;\n    }\n}\n</code></pre>\n<pre><code>public class VideoStore {\n\n    Video[] store=null;\n    \n    int checkVideo(String name) {\n        int count =0;\n        if(store==null) {\n            count =0;\n        }else\n            for(Video video:store) {\n                if(video!=null) {\n                if(video.getName().equals(name))\n                    count=1;\n            }}\n            return count;\n    }\n    \n    void addVideo(String name) {\n        int s;\n        \n        Video video = new Video(name);\n        if(store==null)\n            s=0;\n        else {\n            s=store.length;\n        }\n        \n        Video[] store2 = new Video[s+1];\n        store2[s]=video;\n        store=store2;\n    }\n    \n    void doCheckout(String name) {\n        if(store == null || store.length==0) {\n            System.out.println(&quot;Store is empty&quot;);\n            return;\n        }else\n            for(Video video:store) {\n                if(video!=null) {\n                if(video.getName().equals(name))\n                    video.doCheckout();\n            }}\n            \n    }\n    \n    void doReturn(String name) {\n        if(store == null || store.length==0) {\n            System.out.println(&quot;Store is empty&quot;);\n            return;\n        }else\n        \n            for(Video video:store) {\n                if(video!=null) {\n                if(video.getName().equals(name))\n                    video.doReturn();\n            }}\n    }\n    void receiveRating(String name, int rating) {\n        if(store == null || store.length==0) {\n            System.out.println(&quot;Store is empty&quot;);\n            return;\n        } else\n        \n            for(Video video:store) {\n                if(video!=null) {\n                if(video.getName().equals(name))\n                    video.receiveRating(rating);\n            }}\n        \n    }\n    void listInventory() {\n        if(store == null || store.length==0) {\n            System.out.println(&quot;Store is empty&quot;);\n            return;\n        }else\n        \n            for(Video video:store) {\n                if(video!=null) {\n                System.out.print(&quot;---------------------------------------------------------------------------&quot;);\n                System.out.printf(&quot;\\n\\t%-20s\\t|\\t%-10s\\t|\\t%-15s\\n&quot;, &quot;Video Name&quot;,&quot;Checkout Status&quot;,&quot;Rating&quot;);\n                System.out.printf(&quot;\\n\\t%-20s\\t|\\t%-10s\\t|\\t%-15s\\n&quot;, video.getName(), video.getCheckout(),video.getRating());\n                System.out.println(&quot;---------------------------------------------------------------------------&quot;);\n            }\n            }\n    }\n    \n}\n</code></pre>\n<pre><code>import java.util.Scanner;\npublic class VideoLauncher {\n    \n    public static void main(String[] args) {\n        \n        Scanner sc =new Scanner(System.in);\n        int input=0;\n        \n        VideoStore vStore =new VideoStore();\n        \n        while(true) {\n            System.out.println(&quot;\\n1. Add Videos : &quot;+&quot;\\n&quot;+&quot;2. Check Out Video : &quot;+&quot;\\n&quot;+&quot;3. Return Video : &quot;+\n                       &quot;\\n&quot;+&quot;4. Receive Rating : &quot;+&quot;\\n&quot;+&quot;5. List Inventory : &quot;+&quot;\\n&quot;+&quot;6. Exit : &quot;);\n            System.out.print(&quot;Enter Your Choice (1..6) : &quot;);\n            if(!sc.hasNextInt()) {\n                sc.next();\n                input=0;\n            } \n            String name;\n            input =sc.nextInt();\n            sc.nextLine();\n            \n            switch(input) {\n            case 1:\n                System.out.print(&quot;Enter the name of the video you want to add : &quot;);\n                name =sc.nextLine();\n                \n                vStore.addVideo(name);\n                System.out.println(&quot;Video '&quot; +name+&quot;' added successfully.&quot;);\n                \n                break;\n                \n            case 2:\n                System.out.print(&quot;Enter the name of the video you want to check out : &quot;);\n                name = sc.nextLine();if(vStore.checkVideo(name)==0) {\n                    System.out.println(&quot;Video does not exist.&quot;);\n                }else {\n                \n                    vStore.doCheckout(name);\n                System.out.println(&quot;Video '&quot;+name+&quot;' checked out successfully.&quot;);\n                }\n                break;\n                \n            case 3:\n                System.out.print(&quot;Enter the name of the video you want to return : &quot;);\n                name = sc.nextLine();\n                if(vStore.checkVideo(name)==0) {\n                    System.out.println(&quot;Video does not exist.&quot;);\n                }else {\n                    vStore.doReturn(name);\n                System.out.println(&quot;Video '&quot;+name+&quot;' returned successfully.&quot;);\n                }\n                break;\n                \n            case 4:\n                System.out.print(&quot;Enter the name of the video you want to rate : &quot;);\n                name = sc.nextLine();\n                if(vStore.checkVideo(name)==0) {\n                    System.out.println(&quot;Video does not exist.&quot;);\n                }else {\n            \n                    System.out.print(&quot;Enter the rating for this video : &quot;);\n                    int rating = sc.nextInt();\n                    vStore.receiveRating(name, rating);\n                    System.out.println(&quot;Rating '&quot;+rating+&quot;' has been mapped to the Video '&quot;+name+&quot;'.&quot;);\n                }\n                break;\n                \n            case 5:\n                vStore.listInventory();\n                break;\n            case 6:\n                sc.close();\n                System.out.print(&quot;Exiting...!! Thanks for using the application.&quot;);\n                return;\n            default:\n                System.out.println(&quot;Please enter correct choice.&quot;);\n    }}\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","eclipse","spring-mvc"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1643809770,"post_id":70947227,"comment_id":125437517,"body_markdown":"Show the error message itself.","body":"Show the error message itself."}],"answers":[{"tags":[],"owner":{"account_id":24112159,"reputation":24,"user_id":18082611,"display_name":"Hakiki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643748455,"creation_date":1643748455,"answer_id":70947327,"question_id":70947227,"body_markdown":"i think you need to add a jpa repository to your pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Eclipse 2021-12 not connecting to MySQL","body":"<p>i think you need to add a jpa repository to your pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;2.6.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":24125846,"reputation":1,"user_id":18094173,"display_name":"java-enthusiast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643750360,"creation_date":1643748038,"question_id":70947227,"body_markdown":"I am using a legacy project which uses spring v4.2.3 and hibernate v4.0.1. The project works like a charm on Eclipse neon version, however, when trying to connect with the eclipse 2021-12 it shows that unable to connect to underlying database, all the rest of the configs are read right in terms of controllers mapping and everything. I am using java 8 and tomcat 7. The db properties are stored in .properties file. Is there anything that needs to be added in the project or this wont work at all?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpaL4.png","title":"Eclipse 2021-12 not connecting to MySQL","body":"<p>I am using a legacy project which uses spring v4.2.3 and hibernate v4.0.1. The project works like a charm on Eclipse neon version, however, when trying to connect with the eclipse 2021-12 it shows that unable to connect to underlying database, all the rest of the configs are read right in terms of controllers mapping and everything. I am using java 8 and tomcat 7. The db properties are stored in .properties file. Is there anything that needs to be added in the project or this wont work at all?</p>\n<p><a href=\"https://i.stack.imgur.com/bpaL4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpaL4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1643749643,"post_id":70947496,"comment_id":125421658,"body_markdown":"First check that release mode obfuscation does not mess up your gson class. Add `@SerializedName` annotations or `@Keep` / `-keep` rules as necessary.","body":"First check that release mode obfuscation does not mess up your gson class. Add <code>@SerializedName</code> annotations or <code>@Keep</code> / <code>-keep</code> rules as necessary."},{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1643750218,"post_id":70947496,"comment_id":125421836,"body_markdown":"Thanks. Indeed, it is almost certain that it is the problem. So you have any recommendation about where to put these annotations ? I see many different strategies for example here: https://stackoverflow.com/questions/31844352/using-gson-with-proguard-enabled Will see that on tomorrow, too late here to work on these crazy Android bugs! Will read your answer with attention. Thanks a lot.","body":"Thanks. Indeed, it is almost certain that it is the problem. So you have any recommendation about where to put these annotations ? I see many different strategies for example here: <a href=\"https://stackoverflow.com/questions/31844352/using-gson-with-proguard-enabled\" title=\"using gson with proguard enabled\">stackoverflow.com/questions/31844352/&hellip;</a> Will see that on tomorrow, too late here to work on these crazy Android bugs! Will read your answer with attention. Thanks a lot."},{"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"score":0,"creation_date":1643751271,"post_id":70947496,"comment_id":125422136,"body_markdown":"I&#39;d have `@SerializedName` on the fields to give gson explicit names to work with.","body":"I&#39;d have <code>@SerializedName</code> on the fields to give gson explicit names to work with."}],"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643750121,"creation_date":1643749384,"question_id":70947496,"body_markdown":"I have a very weird bug.\r\n\r\nIn my Android app, I deserialize an object stored in the user preferences using :\r\n\r\n    Type type = new TypeToken&lt;ArrayList&lt;CodableObject&gt;&gt;() {}.getType(); // Line 1\r\n    ArrayList&lt;CodableObject&gt; codableObjects = gson.fromJson(json, type); // Line 2\r\n\r\n\r\nEverything works very well when I compile my app in debug mode, but when I compile it in release mode, I get the following error on Line 2:\r\n\r\n    IllegalStateException: Expected BEGIN_OBJECT but was NUMBER at line 1 column 73366 path $[0].e.n\r\n\r\nWhy do I have a crash in release mode and not in debug mode ??? How to solve/debug this problem ?\r\n\r\nThanks for your help !","title":"Java: IllegalStateException: Expected BEGIN_OBJECT but was NUMBER at line 1","body":"<p>I have a very weird bug.</p>\n<p>In my Android app, I deserialize an object stored in the user preferences using :</p>\n<pre><code>Type type = new TypeToken&lt;ArrayList&lt;CodableObject&gt;&gt;() {}.getType(); // Line 1\nArrayList&lt;CodableObject&gt; codableObjects = gson.fromJson(json, type); // Line 2\n</code></pre>\n<p>Everything works very well when I compile my app in debug mode, but when I compile it in release mode, I get the following error on Line 2:</p>\n<pre><code>IllegalStateException: Expected BEGIN_OBJECT but was NUMBER at line 1 column 73366 path $[0].e.n\n</code></pre>\n<p>Why do I have a crash in release mode and not in debug mode ??? How to solve/debug this problem ?</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643735283,"post_id":70944074,"comment_id":125416614,"body_markdown":"Dont use putInt() and getInt(). They dont work. Just use putString() and getSting().","body":"Dont use putInt() and getInt(). They dont work. Just use putString() and getSting()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643735375,"post_id":70944074,"comment_id":125416654,"body_markdown":"Ah .. i see now that you use `putInt(getString())`. What do you have in mind?","body":"Ah .. i see now that you use <code>putInt(getString())</code>. What do you have in mind?"},{"owner":{"account_id":22581079,"reputation":27,"user_id":16765714,"display_name":"TobiasJ"},"score":0,"creation_date":1643737495,"post_id":70944074,"comment_id":125417485,"body_markdown":"@blackapps\nI thought that I need a string for the name so that this integer can be found or edited:\nputInt( integerName, integerValue) and for getting the value: getInt(integerName, defaultValue). And the defaultValue is just the value of integerName if nothing has been saved under this name.\nBecause I want to make sure that I get the correct integer, I saved the name as a String in my strings.xml and the default value also as a fixed value in my integers.xml\nI thought this was the correct way. So putInt and getInt don&#39;t work? Why?\nI will try it with Strings.","body":"@blackapps I thought that I need a string for the name so that this integer can be found or edited: putInt( integerName, integerValue) and for getting the value: getInt(integerName, defaultValue). And the defaultValue is just the value of integerName if nothing has been saved under this name. Because I want to make sure that I get the correct integer, I saved the name as a String in my strings.xml and the default value also as a fixed value in my integers.xml I thought this was the correct way. So putInt and getInt don&#39;t work? Why? I will try it with Strings."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1643738114,"post_id":70944074,"comment_id":125417752,"body_markdown":"Sorry for my last comment. I was completely wrong. And i never got it to work with Int. Thats all.","body":"Sorry for my last comment. I was completely wrong. And i never got it to work with Int. Thats all."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1643744218,"post_id":70944074,"comment_id":125419963,"body_markdown":"I think you get a new editor instance every time you call `edit()`. You should get just one editor, call `putInt` on it, then call apply() (or commit)","body":"I think you get a new editor instance every time you call <code>edit()</code>. You should get just one editor, call <code>putInt</code> on it, then call apply() (or commit)"},{"owner":{"account_id":22581079,"reputation":27,"user_id":16765714,"display_name":"TobiasJ"},"score":0,"creation_date":1643748789,"post_id":70944074,"comment_id":125421374,"body_markdown":"@TylerV I tried this:\n`sharedPreferences.edit()\n                        .putInt(minVipActionsString, Math.round(slider.getValues().get(0)))\n                        .commit();`\n\nand this after another:\n\n               `sharedPreferences.edit()\n                        .putInt(maxVipActionsString, Math.round(slider.getValues().get(1)))\n                        .commit(); `\n\nbut this also worked so it&#39;s probably only the commit() that I did wrong","body":"@TylerV I tried this: <code>sharedPreferences.edit()                         .putInt(minVipActionsString, Math.round(slider.getValues().get(0)))                         .commit();</code>  and this after another:                 <code>sharedPreferences.edit()                         .putInt(maxVipActionsString, Math.round(slider.getValues().get(1)))                         .commit(); </code>  but this also worked so it&#39;s probably only the commit() that I did wrong"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1643750222,"post_id":70944074,"comment_id":125421838,"body_markdown":"That works too - I added an answer showing an alternate way of doing it and some more explanation.","body":"That works too - I added an answer showing an alternate way of doing it and some more explanation."}],"answers":[{"tags":[],"owner":{"account_id":8022083,"reputation":187,"user_id":6050435,"accept_rate":62,"display_name":"Prajjwal Srivastav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643733723,"creation_date":1643733723,"answer_id":70944274,"question_id":70944074,"body_markdown":"Replace your `SharedPreferences` initialization with this:\r\n\r\n&gt; SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity().getApplicationContext());\r\n\r\n\r\n\r\n","title":"SharedPreferences Integers wont save","body":"<p>Replace your <code>SharedPreferences</code> initialization with this:</p>\n<blockquote>\n<p>SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(getActivity().getApplicationContext());</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643742080,"creation_date":1643742080,"answer_id":70946074,"question_id":70944074,"body_markdown":"You should commit right after editing:\r\n```\r\nsharedPreferences.edit()\r\n    .putInt(PREF_KEY, PREF_VALUE)\r\n    .commit();\r\n```\r\nAlso take into account the edits can be concatenated, so your code would look like this:\r\n```\r\nsharedPreferences.edit()\r\n    .putInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue))\r\n    .putInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue))\r\n    .commit();\r\n```","title":"SharedPreferences Integers wont save","body":"<p>You should commit right after editing:</p>\n<pre><code>sharedPreferences.edit()\n    .putInt(PREF_KEY, PREF_VALUE)\n    .commit();\n</code></pre>\n<p>Also take into account the edits can be concatenated, so your code would look like this:</p>\n<pre><code>sharedPreferences.edit()\n    .putInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue))\n    .putInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue))\n    .commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643750112,"creation_date":1643749795,"answer_id":70947582,"question_id":70944074,"body_markdown":"The accepted answer is a correct way of doing this, but you can also simply make sure you use the same Editor instance if you want multiple `putX` calls without chaining the calls into one line of code, like this:\r\n\r\n```java\r\nSharedPreferences.Editor ed = sharedPreferences.edit();\r\ned.putInt(&quot;somekey&quot;, 1);\r\ned.putInt(&quot;otherkey&quot;,2);\r\ned.apply(); // or ed.commit()\r\n```\r\n\r\nThe reason the original code did not work is because each time you call `edit()` it returns a [brand new Editor instance](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/SharedPreferencesImpl.java#359). It was the equivalent of calling\r\n```java\r\nSharedPreferences.Editor ed1 = sharedPreferences.edit();\r\ned1.putInt(&quot;somekey&quot;, 1); // this change never gets committed because you never call commit on &#39;ed1&#39;\r\n\r\nSharedPreferences.Editor ed2 = sharedPreferences.edit();\r\ned2.putInt(&quot;otherkey&quot;, 2); // this change never gets committed because you never call commit on &#39;ed2&#39;\r\n\r\nSharedPreferences.Editor ed3 = sharedPreferences.edit();\r\ned3.commit() // this does nothing since ed3 had no changes\r\n```","title":"SharedPreferences Integers wont save","body":"<p>The accepted answer is a correct way of doing this, but you can also simply make sure you use the same Editor instance if you want multiple <code>putX</code> calls without chaining the calls into one line of code, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedPreferences.Editor ed = sharedPreferences.edit();\ned.putInt(&quot;somekey&quot;, 1);\ned.putInt(&quot;otherkey&quot;,2);\ned.apply(); // or ed.commit()\n</code></pre>\n<p>The reason the original code did not work is because each time you call <code>edit()</code> it returns a <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/app/SharedPreferencesImpl.java#359\" rel=\"nofollow noreferrer\">brand new Editor instance</a>. It was the equivalent of calling</p>\n<pre class=\"lang-java prettyprint-override\"><code>SharedPreferences.Editor ed1 = sharedPreferences.edit();\ned1.putInt(&quot;somekey&quot;, 1); // this change never gets committed because you never call commit on 'ed1'\n\nSharedPreferences.Editor ed2 = sharedPreferences.edit();\ned2.putInt(&quot;otherkey&quot;, 2); // this change never gets committed because you never call commit on 'ed2'\n\nSharedPreferences.Editor ed3 = sharedPreferences.edit();\ned3.commit() // this does nothing since ed3 had no changes\n</code></pre>\n"}],"owner":{"account_id":22581079,"reputation":27,"user_id":16765714,"display_name":"TobiasJ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70946074,"answer_count":3,"score":1,"last_activity_date":1643750112,"creation_date":1643732925,"question_id":70944074,"body_markdown":"I want to save two integers in SharedPreferences but they won&#39;t get saved.\r\nI have a RangeSlider with a min and max value. The slider values definetly get updated but when I save them and call sharedPreferences.getInt(...); the values are not saved. Shared Preferences has still the default value.\r\nDoes anybody see what my mistake is?\r\n\r\nThanks in advance!\r\n\r\n```\r\npublic class SettingsFragment extends Fragment {\r\n\r\n    private FragmentSettingsBinding binding;\r\n    private SettingsViewModel settingsViewModel;\r\n    private SharedPreferences sharedPreferences;\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        this.binding = FragmentSettingsBinding.inflate(inflater, container, false);\r\n        this.settingsViewModel = new ViewModelProvider(this).get(SettingsViewModel.class);\r\n        this.settingsViewModel.setRepository(((MainActivity)getActivity()).getRepository());\r\n\r\n        sharedPreferences =  requireActivity().getSharedPreferences(getString(R.string.app_name),Context.MODE_PRIVATE);\r\n\r\n        this.binding.sliderMinMaxSetting.addOnChangeListener(new RangeSlider.OnChangeListener() {\r\n            @Override\r\n            public void onValueChange(@NonNull @NotNull RangeSlider slider, float value, boolean fromUser) {\r\n                sharedPreferences.edit().putInt(getString(R.string.settingMin), Math.round(slider.getValues().get(0)));\r\n                sharedPreferences.edit().putInt(getString(R.string.settingMax), Math.round(slider.getValues().get(1)));\r\n                sharedPreferences.edit().commit();\r\n\r\n                int min = sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\r\n                Log.d(&quot;SettingsFragment&quot;, &quot;minSharedPref : &quot; + min + &quot;, minSlider : &quot; + Math.round(slider.getValues().get(0))); // Result: slider value is updated but not shared preferences\r\n\r\n            }\r\n        });       \r\n\r\n        this.binding.buttonResetSettings.setOnClickListener(v -&gt; {\r\n\r\n            sharedPreferences.edit().putInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\r\n            sharedPreferences.edit().putInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue));\r\n\r\n            sharedPreferences.edit().commit();\r\n\r\n            updateUiWithSharedPrefData();\r\n\r\n            Toast.makeText(getContext(), &quot;Settings reset&quot;, Toast.LENGTH_SHORT).show();\r\n        });\r\n\r\n        updateUiWithSharedPrefData();\r\n\r\n        return this.binding.getRoot();\r\n    }\r\n\r\n\r\n    private void updateUiWithSharedPrefData(){\r\n\r\n        Log.d(&quot;SettingsFragment&quot;, &quot;min / max : &quot; + sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue)) + &quot; / &quot; + sharedPreferences.getInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue)));\r\n\r\n        List&lt;Float&gt; floats = new ArrayList&lt;&gt;();\r\n        float min = (float) sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\r\n        float max = (float) sharedPreferences.getInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue));\r\n\r\n        floats.add(min);\r\n        floats.add(max);\r\n\r\n        binding.sliderMinMaxSetting.setValues(floats);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nThanks for the answers.\r\nThis is the solution: \r\n\r\n```\r\nsharedPreferences.edit()\r\n                        .putInt(getString(R.string.settingMin), Math.round(slider.getValues().get(0)))\r\n                        .putInt(getString(R.string.settingMax), Math.round(slider.getValues().get(1)))\r\n                        .commit();\r\n```\r\n\r\n","title":"SharedPreferences Integers wont save","body":"<p>I want to save two integers in SharedPreferences but they won't get saved.\nI have a RangeSlider with a min and max value. The slider values definetly get updated but when I save them and call sharedPreferences.getInt(...); the values are not saved. Shared Preferences has still the default value.\nDoes anybody see what my mistake is?</p>\n<p>Thanks in advance!</p>\n<pre><code>public class SettingsFragment extends Fragment {\n\n    private FragmentSettingsBinding binding;\n    private SettingsViewModel settingsViewModel;\n    private SharedPreferences sharedPreferences;\n\n    @Override\n    public View onCreateView(@NonNull @NotNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        this.binding = FragmentSettingsBinding.inflate(inflater, container, false);\n        this.settingsViewModel = new ViewModelProvider(this).get(SettingsViewModel.class);\n        this.settingsViewModel.setRepository(((MainActivity)getActivity()).getRepository());\n\n        sharedPreferences =  requireActivity().getSharedPreferences(getString(R.string.app_name),Context.MODE_PRIVATE);\n\n        this.binding.sliderMinMaxSetting.addOnChangeListener(new RangeSlider.OnChangeListener() {\n            @Override\n            public void onValueChange(@NonNull @NotNull RangeSlider slider, float value, boolean fromUser) {\n                sharedPreferences.edit().putInt(getString(R.string.settingMin), Math.round(slider.getValues().get(0)));\n                sharedPreferences.edit().putInt(getString(R.string.settingMax), Math.round(slider.getValues().get(1)));\n                sharedPreferences.edit().commit();\n\n                int min = sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\n                Log.d(&quot;SettingsFragment&quot;, &quot;minSharedPref : &quot; + min + &quot;, minSlider : &quot; + Math.round(slider.getValues().get(0))); // Result: slider value is updated but not shared preferences\n\n            }\n        });       \n\n        this.binding.buttonResetSettings.setOnClickListener(v -&gt; {\n\n            sharedPreferences.edit().putInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\n            sharedPreferences.edit().putInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue));\n\n            sharedPreferences.edit().commit();\n\n            updateUiWithSharedPrefData();\n\n            Toast.makeText(getContext(), &quot;Settings reset&quot;, Toast.LENGTH_SHORT).show();\n        });\n\n        updateUiWithSharedPrefData();\n\n        return this.binding.getRoot();\n    }\n\n\n    private void updateUiWithSharedPrefData(){\n\n        Log.d(&quot;SettingsFragment&quot;, &quot;min / max : &quot; + sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue)) + &quot; / &quot; + sharedPreferences.getInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue)));\n\n        List&lt;Float&gt; floats = new ArrayList&lt;&gt;();\n        float min = (float) sharedPreferences.getInt(getString(R.string.settingMin), getResources().getInteger(R.integer.settingMinDefaultValue));\n        float max = (float) sharedPreferences.getInt(getString(R.string.settingMax), getResources().getInteger(R.integer.settingMaxDefaultValue));\n\n        floats.add(min);\n        floats.add(max);\n\n        binding.sliderMinMaxSetting.setValues(floats);\n\n    }\n}\n\n</code></pre>\n<p>Thanks for the answers.\nThis is the solution:</p>\n<pre><code>sharedPreferences.edit()\n                        .putInt(getString(R.string.settingMin), Math.round(slider.getValues().get(0)))\n                        .putInt(getString(R.string.settingMax), Math.round(slider.getValues().get(1)))\n                        .commit();\n</code></pre>\n"},{"tags":["java","mysql","netbeans"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1643749907,"post_id":70947547,"comment_id":125421733,"body_markdown":"Redirection is a shell construct.  `Runtime#exec()` does not invoke the shell.  Use `ProcessBuilder` to set up the redirection yourself.","body":"Redirection is a shell construct.  <code>Runtime#exec()</code> does not invoke the shell.  Use <code>ProcessBuilder</code> to set up the redirection yourself."},{"owner":{"account_id":8680174,"reputation":67,"user_id":6496345,"display_name":"Ron"},"score":0,"creation_date":1643752917,"post_id":70947547,"comment_id":125422624,"body_markdown":"That&#39;s what I needed.  If anyone else is inerested, this works:","body":"That&#39;s what I needed.  If anyone else is inerested, this works:"},{"owner":{"account_id":8680174,"reputation":67,"user_id":6496345,"display_name":"Ron"},"score":0,"creation_date":1643752958,"post_id":70947547,"comment_id":125422640,"body_markdown":"ProcessBuilder builder = new ProcessBuilder();","body":"ProcessBuilder builder = new ProcessBuilder();"},{"owner":{"account_id":8680174,"reputation":67,"user_id":6496345,"display_name":"Ron"},"score":0,"creation_date":1643753022,"post_id":70947547,"comment_id":125422666,"body_markdown":"builder.command((&quot;cmd.exe&quot;, &quot;/c&quot;, cmd);\nbuilder.start();","body":"builder.command((&quot;cmd.exe&quot;, &quot;/c&quot;, cmd); builder.start();"}],"owner":{"account_id":8680174,"reputation":67,"user_id":6496345,"display_name":"Ron"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643749950,"answer_count":0,"score":0,"last_activity_date":1643749851,"creation_date":1643749619,"question_id":70947547,"body_markdown":"I&#39;m using the following command in a java program (other files are correctly copied to new folders):\r\n\r\n    String cmd = &quot;c:\\\\wamp64\\\\bin\\\\mysql\\\\mysql5.7.36\\\\bin\\\\mysqldump -uroot -ppassword --databases test &gt; c:\\\\mydumps\\\\test.sql;\r\n\r\nNothing is saved to mydumps folder with the following statement:  Runtime.getRuntime().exec(cmd);\r\n\r\nBut if I run the cmd string at a command prompt, the test.sql file is saved to mydumps folder.\r\nI&#39;m using Apache Netbeans 12.6 and Java 17.0.2 on Windows 10.\r\n\r\nI&#39;m not sure what I&#39;m missing.\r\n\r\n","title":"Can&#39;t save mysql dump file to my hard drive from a java progam","body":"<p>I'm using the following command in a java program (other files are correctly copied to new folders):</p>\n<pre><code>String cmd = &quot;c:\\\\wamp64\\\\bin\\\\mysql\\\\mysql5.7.36\\\\bin\\\\mysqldump -uroot -ppassword --databases test &gt; c:\\\\mydumps\\\\test.sql;\n</code></pre>\n<p>Nothing is saved to mydumps folder with the following statement:  Runtime.getRuntime().exec(cmd);</p>\n<p>But if I run the cmd string at a command prompt, the test.sql file is saved to mydumps folder.\nI'm using Apache Netbeans 12.6 and Java 17.0.2 on Windows 10.</p>\n<p>I'm not sure what I'm missing.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643749730,"creation_date":1643735447,"answer_id":70944687,"question_id":70943019,"body_markdown":"# Solution\r\nThe [`org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor` class](https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html) (implements the [`org.springframework.core.task.TaskExecutor` interface](https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/core/task/TaskExecutor.html)) supports the requested functionality by the the following methods:\r\n\r\n* [`setWaitForTasksToCompleteOnShutdown()`](https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ExecutorConfigurationSupport.html#setWaitForTasksToCompleteOnShutdown-boolean-).\r\n* [`setAwaitTerminationSeconds()`](https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ExecutorConfigurationSupport.html#setAwaitTerminationSeconds-int-).\r\n\r\nTherefore, please, consider migrating the bean:\r\n\r\n* From: `java.util.concurrent.ThreadPoolExecutor`.\r\n* To: `org.springframework.core.task.TaskExecutor`.\r\n\r\n## &#171;Migrated bean&#187; example\r\n```\r\n@Bean\r\npublic TaskExecutor singleExecutor() {\r\n    final ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n    taskExecutor.setCorePoolSize(1);\r\n    taskExecutor.setMaxPoolSize(1);\r\n    taskExecutor.setKeepAliveSeconds(0);\r\n    taskExecutor.setQueueCapacity(10);\r\n    taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.DiscardPolicy());\r\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n    taskExecutor.setAwaitTerminationSeconds(300);\r\n    return taskExecutor;\r\n}\r\n```\r\n\r\n## `ThreadPoolTaskExecutor` class: Queue type\r\nPlease, see the Javadoc for the [ThreadPoolTaskExecutor.createQueue() method](https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html#createQueue-int-) on the default queue factory method behaviour:\r\n\r\n&gt; protected&#160;[BlockingQueue](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true &quot;class or interface in java.util.concurrent&quot;)&lt;[Runnable](https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true &quot;class or interface in java.lang&quot;)\\&gt;&#160;createQueue(int&#160;queueCapacity)\r\n&gt;\r\n&gt; Create the BlockingQueue to use for the ThreadPoolExecutor.\r\n&gt;\r\n&gt; A LinkedBlockingQueue instance will be created for a positive capacity value; a SynchronousQueue else.\r\n\r\nIt is possible to override the behaviour by using a class derived from the `ThreadPoolTaskExecutor` class with the overridden factory method.\r\n\r\nFor example:\r\n\r\n```java\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\r\n\r\npublic final class CustomThreadPoolTaskExecutor extends ThreadPoolTaskExecutor {\r\n    @Override\r\n    protected BlockingQueue&lt;Runnable&gt; createQueue(final int queueCapacity) {\r\n        return new ArrayBlockingQueue&lt;&gt;(queueCapacity);\r\n    }\r\n}\r\n```","title":"How to delay application shutdown while running @Async tasks?","body":"<h1>Solution</h1>\n<p>The <a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html\" rel=\"nofollow noreferrer\"><code>org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor</code> class</a> (implements the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/core/task/TaskExecutor.html\" rel=\"nofollow noreferrer\"><code>org.springframework.core.task.TaskExecutor</code> interface</a>) supports the requested functionality by the the following methods:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ExecutorConfigurationSupport.html#setWaitForTasksToCompleteOnShutdown-boolean-\" rel=\"nofollow noreferrer\"><code>setWaitForTasksToCompleteOnShutdown()</code></a>.</li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ExecutorConfigurationSupport.html#setAwaitTerminationSeconds-int-\" rel=\"nofollow noreferrer\"><code>setAwaitTerminationSeconds()</code></a>.</li>\n</ul>\n<p>Therefore, please, consider migrating the bean:</p>\n<ul>\n<li>From: <code>java.util.concurrent.ThreadPoolExecutor</code>.</li>\n<li>To: <code>org.springframework.core.task.TaskExecutor</code>.</li>\n</ul>\n<h2>«Migrated bean» example</h2>\n<pre><code>@Bean\npublic TaskExecutor singleExecutor() {\n    final ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setCorePoolSize(1);\n    taskExecutor.setMaxPoolSize(1);\n    taskExecutor.setKeepAliveSeconds(0);\n    taskExecutor.setQueueCapacity(10);\n    taskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.DiscardPolicy());\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n    taskExecutor.setAwaitTerminationSeconds(300);\n    return taskExecutor;\n}\n</code></pre>\n<h2><code>ThreadPoolTaskExecutor</code> class: Queue type</h2>\n<p>Please, see the Javadoc for the <a href=\"https://docs.spring.io/spring-framework/docs/5.3.15/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.html#createQueue-int-\" rel=\"nofollow noreferrer\">ThreadPoolTaskExecutor.createQueue() method</a> on the default queue factory method behaviour:</p>\n<blockquote>\n<p>protected <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/BlockingQueue.html?is-external=true\" rel=\"nofollow noreferrer\" title=\"class or interface in java.util.concurrent\">BlockingQueue</a>&lt;<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html?is-external=true\" rel=\"nofollow noreferrer\" title=\"class or interface in java.lang\">Runnable</a>&gt; createQueue(int queueCapacity)</p>\n<p>Create the BlockingQueue to use for the ThreadPoolExecutor.</p>\n<p>A LinkedBlockingQueue instance will be created for a positive capacity value; a SynchronousQueue else.</p>\n</blockquote>\n<p>It is possible to override the behaviour by using a class derived from the <code>ThreadPoolTaskExecutor</code> class with the overridden factory method.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;\n\npublic final class CustomThreadPoolTaskExecutor extends ThreadPoolTaskExecutor {\n    @Override\n    protected BlockingQueue&lt;Runnable&gt; createQueue(final int queueCapacity) {\n        return new ArrayBlockingQueue&lt;&gt;(queueCapacity);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70944687,"answer_count":1,"score":1,"last_activity_date":1643749730,"creation_date":1643728777,"question_id":70943019,"body_markdown":"I have an async task executor.\r\nHow can I tell `Spring` to wait on application shutdown until all tasks are finished?\r\n\r\n    @Bean\r\n\tpublic ThreadPoolExecutor singleExecutor() {\r\n\t\treturn new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,\r\n\t\t\t\tnew ArrayBlockingQueue&lt;&gt;(10),\r\n\t\t\t\tnew ThreadPoolExecutor.DiscardPolicy());\r\n\t}\r\n\r\n\r\n    @Service\r\n    class MyService {\r\n        @Async(&quot;singleExecutor&quot;)\r\n        public void runAsync() {\r\n         \r\n        }\r\n    } ","title":"How to delay application shutdown while running @Async tasks?","body":"<p>I have an async task executor.\nHow can I tell <code>Spring</code> to wait on application shutdown until all tasks are finished?</p>\n<pre><code>@Bean\npublic ThreadPoolExecutor singleExecutor() {\n    return new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS,\n            new ArrayBlockingQueue&lt;&gt;(10),\n            new ThreadPoolExecutor.DiscardPolicy());\n}\n\n\n@Service\nclass MyService {\n    @Async(&quot;singleExecutor&quot;)\n    public void runAsync() {\n     \n    }\n} \n</code></pre>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":1,"creation_date":1643750725,"post_id":70947441,"comment_id":125421975,"body_markdown":"Could you please provide a minimal reproducible example? Please, see: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Could you please provide a minimal reproducible example? Please, see: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1644524199,"post_id":70947441,"comment_id":125636630,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5675731,"reputation":1,"user_id":4488969,"display_name":"Nutan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643749055,"creation_date":1643749055,"question_id":70947441,"body_markdown":"I am using multiresourceitemwriter and able to generate multiple files with the difference index, passing flatfileitemwriter as deligate but I want add file name and count of the record into the footer.\r\n\r\nNot sure how to do that.please suggest a way.","title":"Spring Batch multiresourceitemwriter with fileName in footer","body":"<p>I am using multiresourceitemwriter and able to generate multiple files with the difference index, passing flatfileitemwriter as deligate but I want add file name and count of the record into the footer.</p>\n<p>Not sure how to do that.please suggest a way.</p>\n"},{"tags":["java","database","hibernate","jpa","orm"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643748673,"creation_date":1643748673,"answer_id":70947365,"question_id":70946676,"body_markdown":"I could imagine the standard bi-directional association using `@OneToMany` being a maintainable yet performant solution.\r\n\r\nTo mitigate `n+1` selects, one could use e.g.:\r\n\r\n- [`@EntityGraph`](https://stackoverflow.com/a/68698260), to specify which associated data is to be loaded (e.g. one `user` with all of it&#39;s `posts` and all associated `votes` within one single select query)\r\n- Hibernates [`@BatchSize`](https://stackoverflow.com/a/26843184), e.g. to load `votes` for multiple `posts` at once when iterating over all `posts` of a `user`, instead having one query for each collection of `votes` of each `post`\r\n\r\n---\r\n\r\nWhen it comes to restricting users to perform accesses in less performant ways, I&#39;d argue that it should be up the API to document possible performance impacts and offer performant alternatives for different use-cases.\r\n\r\n(As a user of an API one might always find ways to implement things in the least performant fashion:)","title":"JPA: fetch posts with vote cast by a specific user","body":"<p>I could imagine the standard bi-directional association using <code>@OneToMany</code> being a maintainable yet performant solution.</p>\n<p>To mitigate <code>n+1</code> selects, one could use e.g.:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/68698260\"><code>@EntityGraph</code></a>, to specify which associated data is to be loaded (e.g. one <code>user</code> with all of it's <code>posts</code> and all associated <code>votes</code> within one single select query)</li>\n<li>Hibernates <a href=\"https://stackoverflow.com/a/26843184\"><code>@BatchSize</code></a>, e.g. to load <code>votes</code> for multiple <code>posts</code> at once when iterating over all <code>posts</code> of a <code>user</code>, instead having one query for each collection of <code>votes</code> of each <code>post</code></li>\n</ul>\n<hr />\n<p>When it comes to restricting users to perform accesses in less performant ways, I'd argue that it should be up the API to document possible performance impacts and offer performant alternatives for different use-cases.</p>\n<p>(As a user of an API one might always find ways to implement things in the least performant fashion:)</p>\n"}],"owner":{"account_id":13009853,"reputation":395,"user_id":9403279,"display_name":"cidra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70947365,"answer_count":1,"score":2,"last_activity_date":1643748673,"creation_date":1643744972,"question_id":70946676,"body_markdown":"I need to load the ``Post`` entities along with the ``PostVote`` entity that represents the vote cast by a specific user (The currently logged in user). These are the two entities:  \r\n\r\n### Post  \r\n\r\n    @Entity\r\n    public class Post implements Serializable {\r\n        public enum Type {TEXT, IMG}\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        protected Integer id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;section_id&quot;)\r\n        protected Section section;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n        @JoinColumn(name = &quot;author_id&quot;)\r\n        protected User author;\r\n    \r\n        @Column(length = 255, nullable = false)\r\n        protected String title;\r\n    \r\n        @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\r\n        protected String content;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(nullable = false)\r\n        protected Type type;\r\n    \r\n        @CreationTimestamp\r\n        @Column(nullable = false, updatable = false, insertable = false)\r\n        protected Instant creationDate;\r\n        \r\n        /*accessor methods*/\r\n    }  \r\n\r\n### PostVote  \r\n\r\n\r\n    @Entity\r\n    public class PostVote implements Serializable {\r\n    \r\n        @Embeddable\r\n        public static class Id implements Serializable{\r\n    \r\n            @Column(name = &quot;user_id&quot;, nullable = false)\r\n            protected int userId;\r\n    \r\n            @Column(name = &quot;post_id&quot;, nullable = false)\r\n            protected int postId;\r\n    \r\n            /* hashcode, equals, getters, 2 args constructor */\r\n        }\r\n    \r\n        @EmbeddedId\r\n        protected Id id;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @MapsId(&quot;postId&quot;)\r\n        protected Post post;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @MapsId(&quot;userId&quot;)\r\n        protected User user;\r\n    \r\n        @Column(nullable = false)\r\n        protected Short vote;\r\n    \r\n        /* accessor methods */\r\n    }\r\n\r\n\r\n\r\nAll the associations are unidirectional ``@*ToOne``. The reason I don&#39;t use ``@OneToMany`` is because the collections are too large and need proper paging before being accessed: not adding the ``@*ToMany``association to my entities means preventing anyone from naively doing something like ``for (PostVote pv : post.getPostVotes())``.    \r\n\r\nFor the problem i&#39;m facing right now I&#39;ve come with various solutions: none of them looks fully convincing to me.  \r\n\r\n-----\r\n\r\n### 1&#176; solution\r\n\r\nI could represent the ``@OneToMany`` association as a ``Map`` that can only be accessed by key. This way there is no issue caused by iterating over the collection.  \r\n  \r\n\r\n    @Entity\r\n    public class Post implements Serializable {\r\n        [...]\r\n    \r\n        @OneToMany(mappedBy = &quot;post&quot;)\r\n        @MapKeyJoinColumn(name = &quot;user_id&quot;, insertable = false, updatable = false, nullable = false)\r\n        protected Map&lt;User, PostVote&gt; votesMap;\r\n    \r\n        public PostVote getVote(User user){\r\n            return votesMap.get(user);\r\n        }\r\n        \r\n        [...]\r\n    }  \r\n\r\nThis solution looks very cool and close enough to DDD principles (i guess?). However, calling ``post.getVote(user)`` on each post would still cause a *N+1 selects problem*. If there was a way to efficiently prefetch some specific ``PostVote``s for subsequent accesses in the session then it would be great.  (Maybe for example calling ``from Post p left join fetch PostVote pv on p = pv.post and pv.user = :user`` and then storing the result in the L1 cache. Or maybe something that involves ``EntityGraph``)  \r\n\r\n\r\n------\r\n\r\n### 2&#176; solution\r\n\r\nA simplistic solution could be the following:  \r\n\r\n    public class PostVoteRepository extends AbstractRepository&lt;PostVote, PostVote.Id&gt; {\r\n        public PostVoteRepository() {\r\n            super(PostVote.class);\r\n        }\r\n    \r\n        public Map&lt;Post, PostVote&gt; findByUser(User user, List&lt;Post&gt; posts){\r\n            return em.createQuery(&quot;from PostVote pv where pv.user in :user and pv.post in :posts&quot;, PostVote.class)\r\n                    .setParameter(&quot;user&quot;,user)\r\n                    .setParameter(&quot;posts&quot;, posts)\r\n                    .getResultList().stream().collect(Collectors.toMap(\r\n                            res -&gt; res.getPost(),\r\n                            res -&gt; res\r\n                    ));\r\n        }\r\n    }\r\n\r\n\r\n    \r\nThe service layer takes the responsability of calling both ``PostRepository#fetchPosts(...)`` and then ``PostVoteRepository#findByUser(...)``, then mixes the results in a DTO to send to the presentation layer above.  \r\n\r\n\r\nThis is the solution I&#39;m currently using. However, I don&#39;t feel like having a ~50 parameters long ``in`` clause might be a good idea. Also, having a separate ``Repository`` class for ``PostVote`` may be a bit overkill and break the purpose of ORMs.        \r\n\r\n------  \r\n\r\n### 3&#176; solution  \r\n\r\nI haven&#39;t tested it so it might have an incorrect syntax, but the idea is to wrap the ``Post`` and ``PostVote`` entity in a ``VotedPost`` DTO.  \r\n\r\n    public class VotedPost{\r\n        private Post post;\r\n        private PostVote postVote;\r\n    \r\n        public VotedPost(Post post, PostVote postVote){\r\n            this.post = post;\r\n            this.postVote = postVote;\r\n        }\r\n    \r\n        //getters\r\n    }  \r\n\r\nI obtain the object with a query like this:  \r\n\r\n    select new my.pkg.VotedPost(p, pv) from Post p \r\n    left join fetch PostVote pv on p = pv.post and pv.user = :user  \r\n\r\n\r\nThis gives me more type safeness than the the solutions based on ``Object[]`` or ``Tuple`` query results. Looks like a better alternative than the solution 2 but adopting the solution 1 in a efficient way would be the best.  \r\n\r\nWhat is, generally, the best approach in problems like this? I&#39;m using Hibernate as JPA implementation.  \r\n","title":"JPA: fetch posts with vote cast by a specific user","body":"<p>I need to load the <code>Post</code> entities along with the <code>PostVote</code> entity that represents the vote cast by a specific user (The currently logged in user). These are the two entities:</p>\n<h3>Post</h3>\n<pre><code>@Entity\npublic class Post implements Serializable {\n    public enum Type {TEXT, IMG}\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    protected Integer id;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;section_id&quot;)\n    protected Section section;\n\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    @JoinColumn(name = &quot;author_id&quot;)\n    protected User author;\n\n    @Column(length = 255, nullable = false)\n    protected String title;\n\n    @Column(columnDefinition = &quot;TEXT&quot;, nullable = false)\n    protected String content;\n\n    @Enumerated(EnumType.STRING)\n    @Column(nullable = false)\n    protected Type type;\n\n    @CreationTimestamp\n    @Column(nullable = false, updatable = false, insertable = false)\n    protected Instant creationDate;\n    \n    /*accessor methods*/\n}  \n</code></pre>\n<h3>PostVote</h3>\n<pre><code>@Entity\npublic class PostVote implements Serializable {\n\n    @Embeddable\n    public static class Id implements Serializable{\n\n        @Column(name = &quot;user_id&quot;, nullable = false)\n        protected int userId;\n\n        @Column(name = &quot;post_id&quot;, nullable = false)\n        protected int postId;\n\n        /* hashcode, equals, getters, 2 args constructor */\n    }\n\n    @EmbeddedId\n    protected Id id;\n\n    @ManyToOne(optional = false)\n    @MapsId(&quot;postId&quot;)\n    protected Post post;\n\n    @ManyToOne(optional = false)\n    @MapsId(&quot;userId&quot;)\n    protected User user;\n\n    @Column(nullable = false)\n    protected Short vote;\n\n    /* accessor methods */\n}\n</code></pre>\n<p>All the associations are unidirectional <code>@*ToOne</code>. The reason I don't use <code>@OneToMany</code> is because the collections are too large and need proper paging before being accessed: not adding the <code>@*ToMany</code>association to my entities means preventing anyone from naively doing something like <code>for (PostVote pv : post.getPostVotes())</code>.</p>\n<p>For the problem i'm facing right now I've come with various solutions: none of them looks fully convincing to me.</p>\n<hr />\n<h3>1° solution</h3>\n<p>I could represent the <code>@OneToMany</code> association as a <code>Map</code> that can only be accessed by key. This way there is no issue caused by iterating over the collection.</p>\n<pre><code>@Entity\npublic class Post implements Serializable {\n    [...]\n\n    @OneToMany(mappedBy = &quot;post&quot;)\n    @MapKeyJoinColumn(name = &quot;user_id&quot;, insertable = false, updatable = false, nullable = false)\n    protected Map&lt;User, PostVote&gt; votesMap;\n\n    public PostVote getVote(User user){\n        return votesMap.get(user);\n    }\n    \n    [...]\n}  \n</code></pre>\n<p>This solution looks very cool and close enough to DDD principles (i guess?). However, calling <code>post.getVote(user)</code> on each post would still cause a <em>N+1 selects problem</em>. If there was a way to efficiently prefetch some specific <code>PostVote</code>s for subsequent accesses in the session then it would be great.  (Maybe for example calling <code>from Post p left join fetch PostVote pv on p = pv.post and pv.user = :user</code> and then storing the result in the L1 cache. Or maybe something that involves <code>EntityGraph</code>)</p>\n<hr />\n<h3>2° solution</h3>\n<p>A simplistic solution could be the following:</p>\n<pre><code>public class PostVoteRepository extends AbstractRepository&lt;PostVote, PostVote.Id&gt; {\n    public PostVoteRepository() {\n        super(PostVote.class);\n    }\n\n    public Map&lt;Post, PostVote&gt; findByUser(User user, List&lt;Post&gt; posts){\n        return em.createQuery(&quot;from PostVote pv where pv.user in :user and pv.post in :posts&quot;, PostVote.class)\n                .setParameter(&quot;user&quot;,user)\n                .setParameter(&quot;posts&quot;, posts)\n                .getResultList().stream().collect(Collectors.toMap(\n                        res -&gt; res.getPost(),\n                        res -&gt; res\n                ));\n    }\n}\n</code></pre>\n<p>The service layer takes the responsability of calling both <code>PostRepository#fetchPosts(...)</code> and then <code>PostVoteRepository#findByUser(...)</code>, then mixes the results in a DTO to send to the presentation layer above.</p>\n<p>This is the solution I'm currently using. However, I don't feel like having a ~50 parameters long <code>in</code> clause might be a good idea. Also, having a separate <code>Repository</code> class for <code>PostVote</code> may be a bit overkill and break the purpose of ORMs.</p>\n<hr />\n<h3>3° solution</h3>\n<p>I haven't tested it so it might have an incorrect syntax, but the idea is to wrap the <code>Post</code> and <code>PostVote</code> entity in a <code>VotedPost</code> DTO.</p>\n<pre><code>public class VotedPost{\n    private Post post;\n    private PostVote postVote;\n\n    public VotedPost(Post post, PostVote postVote){\n        this.post = post;\n        this.postVote = postVote;\n    }\n\n    //getters\n}  \n</code></pre>\n<p>I obtain the object with a query like this:</p>\n<pre><code>select new my.pkg.VotedPost(p, pv) from Post p \nleft join fetch PostVote pv on p = pv.post and pv.user = :user  \n</code></pre>\n<p>This gives me more type safeness than the the solutions based on <code>Object[]</code> or <code>Tuple</code> query results. Looks like a better alternative than the solution 2 but adopting the solution 1 in a efficient way would be the best.</p>\n<p>What is, generally, the best approach in problems like this? I'm using Hibernate as JPA implementation.</p>\n"},{"tags":["java","scala","collections"],"answers":[{"tags":[],"owner":{"account_id":4279202,"reputation":12456,"user_id":4533188,"accept_rate":52,"display_name":"Make42"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1508417193,"creation_date":1508417193,"answer_id":46830233,"question_id":46830217,"body_markdown":"One has to use the java boxed variant in a map:\r\n\r\n      def getDistance(): java.util.List[java.lang.Double] = {\r\n        distance.toList.map(Double.box).asJava\r\n      }","title":"How to convert Scala&#39;s List[Double] to java.util.List[java.lang.Double]?","body":"<p>One has to use the java boxed variant in a map:</p>\n\n<pre><code>  def getDistance(): java.util.List[java.lang.Double] = {\n    distance.toList.map(Double.box).asJava\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19734,"reputation":2007,"user_id":46489,"display_name":"Aleksandr Panzin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643748169,"creation_date":1643748169,"answer_id":70947261,"question_id":46830217,"body_markdown":"Other than Scala 2.13+ `box` method, you can use:\r\n\r\n```\r\ndef getDistance(): java.util.List[java.lang.Double] = {\r\n  val javadistance = distance.toList.map(java.lang.Double.valueOf).asJava\r\n  javadistance\r\n}\r\n```","title":"How to convert Scala&#39;s List[Double] to java.util.List[java.lang.Double]?","body":"<p>Other than Scala 2.13+ <code>box</code> method, you can use:</p>\n<pre><code>def getDistance(): java.util.List[java.lang.Double] = {\n  val javadistance = distance.toList.map(java.lang.Double.valueOf).asJava\n  javadistance\n}\n</code></pre>\n"}],"owner":{"account_id":4279202,"reputation":12456,"user_id":4533188,"accept_rate":52,"display_name":"Make42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46830233,"answer_count":2,"score":1,"last_activity_date":1643748169,"creation_date":1508417136,"question_id":46830217,"body_markdown":"I have only seen examples where the result is a Java list of Scala doubles. I got as far as\r\n\r\n    def getDistance(): java.util.List[java.lang.Double] = {\r\n      val javadistance = distance.toList.asJava\r\n      javadistance\r\n    }\r\n\r\nbut this is still a Java list containing Scala doubles (`distance` is a member of the same class as `getDistance`).","title":"How to convert Scala&#39;s List[Double] to java.util.List[java.lang.Double]?","body":"<p>I have only seen examples where the result is a Java list of Scala doubles. I got as far as</p>\n\n<pre><code>def getDistance(): java.util.List[java.lang.Double] = {\n  val javadistance = distance.toList.asJava\n  javadistance\n}\n</code></pre>\n\n<p>but this is still a Java list containing Scala doubles (<code>distance</code> is a member of the same class as <code>getDistance</code>).</p>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1465234398,"post_id":37663444,"comment_id":62805350,"body_markdown":"What did you find when you googled?","body":"What did you find when you googled?"}],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465264323,"creation_date":1465264323,"answer_id":37669314,"question_id":37663444,"body_markdown":"You do like this:\r\n\r\n    public void deleteRecord() {\r\n    \tMongoOperations mongoOperation = (MongoOperations) ctx.getBean(&quot;mongoTemplate&quot;);\r\n    \tQuery searchQuery = new Query(Criteria.where(&quot;id&quot;).is(34562341112313));\r\n    \tmongoOperation.remove(searchQuery, Your_entity_class.class);\r\n    \tlogger.info(&quot;Delete success&quot;);\r\n    }\r\n\r\nThis is my realistic example:\r\n\r\n    /**\r\n     * Delete by condition(s).\r\n     */\r\n    public void deleteJob() {\r\n    \tMongoOperations mongoOperation = (MongoOperations) ctx.getBean(&quot;mongoTemplate&quot;);\r\n    \tQuery searchQuery = new Query(Criteria.where(&quot;company&quot;).is(&quot;DCV&quot;));\r\n    \tmongoOperation.remove(searchQuery, Job.class);\r\n    \tlogger.info(&quot;Đ&#227; x&#243;a c&#225;c c&#244;ng việc đăng bởi DCV.&quot;);\r\n    }\r\n\r\nSource: https://github.com/SmartJobVN/MongoDB_SpringDataMongo/blob/master/src/main/java/vn/smartJob/jobs/MongoSpringJavaConfigApplication.java#L132\r\n\r\nReference: http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/\r\n\r\n\r\n\r\n","title":"How to delete record in MongoDB using Spring Data","body":"<p>You do like this:</p>\n\n<pre><code>public void deleteRecord() {\n    MongoOperations mongoOperation = (MongoOperations) ctx.getBean(\"mongoTemplate\");\n    Query searchQuery = new Query(Criteria.where(\"id\").is(34562341112313));\n    mongoOperation.remove(searchQuery, Your_entity_class.class);\n    logger.info(\"Delete success\");\n}\n</code></pre>\n\n<p>This is my realistic example:</p>\n\n<pre><code>/**\n * Delete by condition(s).\n */\npublic void deleteJob() {\n    MongoOperations mongoOperation = (MongoOperations) ctx.getBean(\"mongoTemplate\");\n    Query searchQuery = new Query(Criteria.where(\"company\").is(\"DCV\"));\n    mongoOperation.remove(searchQuery, Job.class);\n    logger.info(\"Đã xóa các công việc đăng bởi DCV.\");\n}\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/SmartJobVN/MongoDB_SpringDataMongo/blob/master/src/main/java/vn/smartJob/jobs/MongoSpringJavaConfigApplication.java#L132\" rel=\"nofollow\">https://github.com/SmartJobVN/MongoDB_SpringDataMongo/blob/master/src/main/java/vn/smartJob/jobs/MongoSpringJavaConfigApplication.java#L132</a></p>\n\n<p>Reference: <a href=\"http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/\" rel=\"nofollow\">http://docs.spring.io/spring-data/mongodb/docs/current/reference/html/</a></p>\n"},{"tags":[],"owner":{"account_id":6385290,"reputation":965,"user_id":4953409,"display_name":"mighty_mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487781484,"creation_date":1487781484,"answer_id":42397285,"question_id":37663444,"body_markdown":"You should delete it like this: \r\n\r\n    @Repository\r\n    public class AppDaoClass{\r\n        @Autowired\r\n        MongoTemplate mongoTemplate;\r\n        @Override\r\n        public void deleteSomething(String somethingId) {\r\n     \t\tmongoTemplate.remove(Query.query(Criteria.where(&quot;somethingId&quot;).is(somethingId)), Ticket.class);\r\n        }\r\n    }\r\n*The first &quot;somethingId&quot; is the name you gave it in your model, and the second somethingId is for the Parametar you are giving in you method*.\r\n\r\n\r\nAnd your Domain Model:\r\n\r\n    @Document\r\n    public class Model {\r\n    \r\n    \t@Id\r\n    \tprivate String somethingId;\r\n    \tprivate String someName;\r\n    \tprivate String someOtherName;\r\n    }\r\n\r\nBe sure to user proper annotations for your classes **@Document** and **@Repository**. And add an **@Id** annotation to your ID field.\r\n\r\nHope this helps. ","title":"How to delete record in MongoDB using Spring Data","body":"<p>You should delete it like this: </p>\n\n<pre><code>@Repository\npublic class AppDaoClass{\n    @Autowired\n    MongoTemplate mongoTemplate;\n    @Override\n    public void deleteSomething(String somethingId) {\n        mongoTemplate.remove(Query.query(Criteria.where(\"somethingId\").is(somethingId)), Ticket.class);\n    }\n}\n</code></pre>\n\n<p><em>The first \"somethingId\" is the name you gave it in your model, and the second somethingId is for the Parametar you are giving in you method</em>.</p>\n\n<p>And your Domain Model:</p>\n\n<pre><code>@Document\npublic class Model {\n\n    @Id\n    private String somethingId;\n    private String someName;\n    private String someOtherName;\n}\n</code></pre>\n\n<p>Be sure to user proper annotations for your classes <strong>@Document</strong> and <strong>@Repository</strong>. And add an <strong>@Id</strong> annotation to your ID field.</p>\n\n<p>Hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":13872169,"reputation":1,"user_id":10014949,"display_name":"Dev_Saurabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568033239,"creation_date":1568033239,"answer_id":57854362,"question_id":37663444,"body_markdown":"**This is the way you can delete records in spring data mongoDB using MongoTemplate**\r\n\r\n    WriteResult writeResult=mongoTemplate.remove(query,&quot;collection_name&quot;);\r\n**OR**\r\n   \r\n\r\n     WriteResult writeResult=mongoTemplate.remove(query,EntityClassName.class);\r\n\r\n**You can also use repository Pattern**\r\n\r\n    @Document(collection = &quot;user&quot;)\r\n    public class User {\r\n\r\n    @Id\r\n    private String id;\r\n\tprivate String username;\r\n\t\r\n    public String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic void setUsername(String username) {\r\n\t\tthis.username = username;\r\n\t}\r\n    }\r\n    \r\n    @Repository\r\n    public interface UserRepository extend MongoRepository&lt;User, String&gt;{\r\n         public void delete(String id);\r\n         public void delete(User user);\r\n         public void deleteByUsername(String username);\r\n    }\r\n\r\n\r\nyou can use these method anywhere to delete records also u can write your custom methods","title":"How to delete record in MongoDB using Spring Data","body":"<p><strong>This is the way you can delete records in spring data mongoDB using MongoTemplate</strong></p>\n\n<pre><code>WriteResult writeResult=mongoTemplate.remove(query,\"collection_name\");\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code> WriteResult writeResult=mongoTemplate.remove(query,EntityClassName.class);\n</code></pre>\n\n<p><strong>You can also use repository Pattern</strong></p>\n\n<pre><code>@Document(collection = \"user\")\npublic class User {\n\n@Id\nprivate String id;\nprivate String username;\n\npublic String getId() {\n    return id;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n}\n\n@Repository\npublic interface UserRepository extend MongoRepository&lt;User, String&gt;{\n     public void delete(String id);\n     public void delete(User user);\n     public void deleteByUsername(String username);\n}\n</code></pre>\n\n<p>you can use these method anywhere to delete records also u can write your custom methods</p>\n"},{"tags":[],"owner":{"account_id":21683420,"reputation":23,"user_id":15999204,"display_name":"Rawan AlKhalawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643747459,"creation_date":1643747459,"answer_id":70947140,"question_id":37663444,"body_markdown":"\r\n\r\n```\r\n  @Query(value = &quot;{&#39;_id&#39; : ?0}&quot;, delete = true)\r\n  void deleteById(String id);\r\n```","title":"How to delete record in MongoDB using Spring Data","body":"<pre><code>  @Query(value = &quot;{'_id' : ?0}&quot;, delete = true)\n  void deleteById(String id);\n</code></pre>\n"}],"owner":{"account_id":6360789,"reputation":130,"user_id":5032478,"display_name":"Ramesh Babu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1643747459,"creation_date":1465233932,"question_id":37663444,"body_markdown":"I want to delete an record based on Id in Spring. \r\nbut in database id value is object\r\nEX:- \r\n&lt;pre&gt;\r\nid: Object(34562341112313)\r\n&lt;/pre&gt;\r\n\r\nHow to delete this record in Spring?","title":"How to delete record in MongoDB using Spring Data","body":"<p>I want to delete an record based on Id in Spring. \nbut in database id value is object\nEX:- </p>\n\n<pre>\nid: Object(34562341112313)\n</pre>\n\n<p>How to delete this record in Spring?</p>\n"},{"tags":["java","date","java-17"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1643778797,"post_id":70942029,"comment_id":125427034,"body_markdown":"You want to use `LocalDate`, not `TemporalAccessor`. Simply `LocalDate date = LocalDate.parse(dateOfBirth, DateTimeFormatter.ofPattern(&quot;ddMMyyyy&quot;, Locale.FRANCE));`. As an aside, reuse the same `Scanner`, don’t create a second one.","body":"You want to use <code>LocalDate</code>, not <code>TemporalAccessor</code>. Simply <code>LocalDate date = LocalDate.parse(dateOfBirth, DateTimeFormatter.ofPattern(&quot;ddMMyyyy&quot;, Locale.FRANCE));</code>. As an aside, reuse the same <code>Scanner</code>, don’t create a second one."},{"owner":{"display_name":"user17695302"},"score":1,"creation_date":1643792440,"post_id":70942029,"comment_id":125430446,"body_markdown":"Thank you verry much for your contribution &#128170;. I will also give it a try with what you explain  &#128519;","body":"Thank you verry much for your contribution 💪. I will also give it a try with what you explain  😇"}],"answers":[{"tags":[],"owner":{"display_name":"user17695302"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643747348,"creation_date":1643747348,"answer_id":70947123,"question_id":70942029,"body_markdown":"After some more resarches \r\nI got the output i needed :)\r\n\r\nHere is the full code:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            //user input\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your name: &quot;);\r\n            int length = scanner.nextLine()\r\n                    .length();\r\n            System.out.println(length);\r\n    \r\n            //id user input\r\n            Scanner input = new Scanner(System.in);\r\n            String civilIdStr = &quot;&quot;;\r\n            System.out.println(&quot;Enter your id number&quot;);\r\n            civilIdStr = input.nextLine();\r\n            if (civilIdStr.length() &lt; 11) {\r\n                throw new InvlaidIdException(&quot;invalid&quot;);\r\n            } else {\r\n    // sout the date from the Id user input  (format DD-MM-YY)\r\n                    String dob = civilIdStr.substring(0, 8);\r\n                    System.out.println(&quot;Date of birth from user ID: &quot; +\r\n                            dob.substring(0, 2) + &quot;/&quot; +   //DATE\r\n                            dob.substring(2, 4) + &quot;/&quot; +   //MONTH\r\n                            dob.substring(6, 8));         //YEAR\r\n                }\r\n            }\r\n        }\r\n\r\nOUTPUT:\r\n\r\n    Enter your name: \r\n    Victor\r\n    6\r\n    Enter your id number\r\n    11021993554644\r\n    Date of birth from user ID: 11/02/93","title":"Print date from input ID user in java","body":"<p>After some more resarches\nI got the output i needed :)</p>\n<p>Here is the full code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        //user input\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter your name: &quot;);\n        int length = scanner.nextLine()\n                .length();\n        System.out.println(length);\n\n        //id user input\n        Scanner input = new Scanner(System.in);\n        String civilIdStr = &quot;&quot;;\n        System.out.println(&quot;Enter your id number&quot;);\n        civilIdStr = input.nextLine();\n        if (civilIdStr.length() &lt; 11) {\n            throw new InvlaidIdException(&quot;invalid&quot;);\n        } else {\n// sout the date from the Id user input  (format DD-MM-YY)\n                String dob = civilIdStr.substring(0, 8);\n                System.out.println(&quot;Date of birth from user ID: &quot; +\n                        dob.substring(0, 2) + &quot;/&quot; +   //DATE\n                        dob.substring(2, 4) + &quot;/&quot; +   //MONTH\n                        dob.substring(6, 8));         //YEAR\n            }\n        }\n    }\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Enter your name: \nVictor\n6\nEnter your id number\n11021993554644\nDate of birth from user ID: 11/02/93\n</code></pre>\n"}],"owner":{"display_name":"user17695302"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70947123,"answer_count":1,"score":0,"last_activity_date":1643747348,"creation_date":1643724803,"question_id":70942029,"body_markdown":"I  have to make a code that  take an user name input and then  an ID number  that is  based format as   ( 1102199344556699 - where the first 8 characters is his day of birth).\r\nMy code:\r\n\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.util.Locale;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            //user input\r\n            Scanner scanner = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your name: &quot;);\r\n            int length = scanner.nextLine()\r\n                    .length();\r\n            System.out.println(length);\r\n    \r\n            //user id input\r\n            Scanner scanner2 = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your id number&quot;);\r\n            String idNUmber = scanner2.nextLine();\r\n            if (idNUmber.length() &lt; 11) {\r\n                throw new InvlaidIdException(&quot;invalid&quot;);\r\n            } else {\r\n            String dateOfBirth = idNUmber.substring(0, 8);\r\n\r\n        //found this way,on the output is giving me from input -110219935656525\r\n       //output is ok but as you can see on My output i get some extra things (please see OUTPUT)\r\n            TemporalAccessor date = DateTimeFormatter.ofPattern(&quot;ddMMyyyy&quot;).withLocale(Locale.FRANCE).parse(dateOfBirth);\r\n                System.out.println(date);\r\n                    }\r\n                }\r\n            }\r\n\r\nINPUT user Id -`110219935656525`\r\n\r\nOUTPUT:\r\n\r\n    This is  the birthday date: {},ISO resolved to 1993-02-11\r\n\r\nHow can i get rid of  {},ISO resolved to ?\r\nThanks,","title":"Print date from input ID user in java","body":"<p>I  have to make a code that  take an user name input and then  an ID number  that is  based format as   ( 1102199344556699 - where the first 8 characters is his day of birth).\nMy code:</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.temporal.TemporalAccessor;\nimport java.util.Locale;\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n\n        //user input\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;Enter your name: &quot;);\n        int length = scanner.nextLine()\n                .length();\n        System.out.println(length);\n\n        //user id input\n        Scanner scanner2 = new Scanner(System.in);\n        System.out.println(&quot;Enter your id number&quot;);\n        String idNUmber = scanner2.nextLine();\n        if (idNUmber.length() &lt; 11) {\n            throw new InvlaidIdException(&quot;invalid&quot;);\n        } else {\n        String dateOfBirth = idNUmber.substring(0, 8);\n\n    //found this way,on the output is giving me from input -110219935656525\n   //output is ok but as you can see on My output i get some extra things (please see OUTPUT)\n        TemporalAccessor date = DateTimeFormatter.ofPattern(&quot;ddMMyyyy&quot;).withLocale(Locale.FRANCE).parse(dateOfBirth);\n            System.out.println(date);\n                }\n            }\n        }\n</code></pre>\n<p>INPUT user Id -<code>110219935656525</code></p>\n<p>OUTPUT:</p>\n<pre><code>This is  the birthday date: {},ISO resolved to 1993-02-11\n</code></pre>\n<p>How can i get rid of  {},ISO resolved to ?\nThanks,</p>\n"},{"tags":["java","treemap"],"comments":[{"owner":{"account_id":15455548,"reputation":1412,"user_id":12485639,"display_name":"Omkar76"},"score":1,"creation_date":1643726728,"post_id":70942465,"comment_id":125412739,"body_markdown":"What have you tried so far","body":"What have you tried so far"},{"owner":{"account_id":1197724,"reputation":4404,"user_id":1169091,"accept_rate":9,"display_name":"nicomp"},"score":0,"creation_date":1643726774,"post_id":70942465,"comment_id":125412769,"body_markdown":"You&#39;re asking two questions and we need to see what you have tried. We can help you fix your attempt.","body":"You&#39;re asking two questions and we need to see what you have tried. We can help you fix your attempt."},{"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"score":0,"creation_date":1643727058,"post_id":70942465,"comment_id":125412888,"body_markdown":"No just one. How to count each individual digit and put it in TreeMap.","body":"No just one. How to count each individual digit and put it in TreeMap."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1643736639,"post_id":70942465,"comment_id":125417128,"body_markdown":"I answered your question as I understood it.  Hope it helps.","body":"I answered your question as I understood it.  Hope it helps."}],"answers":[{"tags":[],"owner":{"account_id":24122654,"reputation":303,"user_id":18091548,"display_name":"rdtsc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643727396,"creation_date":1643727396,"answer_id":70942686,"question_id":70942465,"body_markdown":"Using a TreeMap is quite overkill and you should be fine using an array where the index corresponds to the digit (eg. index 0 is the number of 0&#39;s and index 5 is the number of 5&#39;s).\r\n \r\nTo extract the digits from the number you can use % 10 to get the remainder from dividing by 10 which will be the lowest digit, increment that counter for that digit and then divide the number by 10 until you&#39;ve gone through all the digits.\r\n\r\nThe code below should be good enough and doesn&#39;t modify any of the values in the source array.\r\n\r\n        int array[] = {101, 103, 105, 107, 109, 110};\r\n\t\tint digitCount[] = new int[10];\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; array.length; i++) {\r\n\t\t\tint num = array[i];\r\n\t\t\twhile (num != 0) {\r\n\t\t\t\tint digit = num % 10;\r\n\t\t\t\tdigitCount[digit]++;\r\n\t\t\t\tnum /= 10;\r\n\t\t\t}\r\n\t\t}","title":"Count number of individual digits in an array of ints?","body":"<p>Using a TreeMap is quite overkill and you should be fine using an array where the index corresponds to the digit (eg. index 0 is the number of 0's and index 5 is the number of 5's).</p>\n<p>To extract the digits from the number you can use % 10 to get the remainder from dividing by 10 which will be the lowest digit, increment that counter for that digit and then divide the number by 10 until you've gone through all the digits.</p>\n<p>The code below should be good enough and doesn't modify any of the values in the source array.</p>\n<pre><code>    int array[] = {101, 103, 105, 107, 109, 110};\n    int digitCount[] = new int[10];\n    \n    for (int i = 0; i &lt; array.length; i++) {\n        int num = array[i];\n        while (num != 0) {\n            int digit = num % 10;\n            digitCount[digit]++;\n            num /= 10;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643747195,"creation_date":1643727501,"answer_id":70942715,"question_id":70942465,"body_markdown":"Since you say &quot;I guess I can loop through it and for each new int check each digit&quot; I will assume you know how to extract the digits from the integers and I will just answer this part: &quot;Not sure how to increase a value in a KV-map though.&quot;\r\n\r\nTo sum the digits in the map, you can do something like this:\r\n\r\n    Map&lt;Integer, Integer&gt; counts = new TreeMap&lt;&gt;();\r\n    // your source of the digits will be different\r\n    for (int digit : new int[] { 1, 1, 1, 2, 2, 3 }) {\r\n        counts.merge(digit, 1, Integer::sum);\r\n    }\r\n\r\nThe map will then contain `{1=3, 2=2, 3=1}` (three 1s, two 2s, one 3).\r\n\r\nOf course, you will need to feed it the digits you extract from the integers, rather than a pre-set list of digits, but the method for combining the values in the KV-map will be the same.\r\n\r\nWhat the `merge` method of the map does is it sets the key (`d`, the digit) to `1`, unless the key already exists in the map, in which case it merges the new value 1 with the existing value (the count so far) by calling `Integer::sum` which sums them up.","title":"Count number of individual digits in an array of ints?","body":"<p>Since you say &quot;I guess I can loop through it and for each new int check each digit&quot; I will assume you know how to extract the digits from the integers and I will just answer this part: &quot;Not sure how to increase a value in a KV-map though.&quot;</p>\n<p>To sum the digits in the map, you can do something like this:</p>\n<pre><code>Map&lt;Integer, Integer&gt; counts = new TreeMap&lt;&gt;();\n// your source of the digits will be different\nfor (int digit : new int[] { 1, 1, 1, 2, 2, 3 }) {\n    counts.merge(digit, 1, Integer::sum);\n}\n</code></pre>\n<p>The map will then contain <code>{1=3, 2=2, 3=1}</code> (three 1s, two 2s, one 3).</p>\n<p>Of course, you will need to feed it the digits you extract from the integers, rather than a pre-set list of digits, but the method for combining the values in the KV-map will be the same.</p>\n<p>What the <code>merge</code> method of the map does is it sets the key (<code>d</code>, the digit) to <code>1</code>, unless the key already exists in the map, in which case it merges the new value 1 with the existing value (the count so far) by calling <code>Integer::sum</code> which sums them up.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643738621,"creation_date":1643734845,"answer_id":70944532,"question_id":70942465,"body_markdown":"It wasn&#39;t exactly clear to me whether you wanted to know how to extract the digits from the numbers.  So I included that too.  You could do this with a stream, but Map features in Java 8+ make it easier, imo.  You could also store these in an array but you asked for a map based solution so here it is.\r\n\r\n```\r\nint[] values = { 101, -23003, 22, 1, 3, -1001, 0, 0, 111 };\r\nMap&lt;Integer, Integer&gt; results = new TreeMap&lt;&gt;();\r\n\r\n```\r\n- iterate thru the values.\r\n- get the absolute value of each (allows for negative numbers).\r\n- within a do/while loop,\r\n   - `compute` adds 1 to the exiting value or initializes value to 1 first time thru.\r\n   - `%`get the remainder when divided by some number.  In this case 10.\r\n   - divide by 10 to expose the next digit\r\n\r\nIt&#39;s important to check for 0 **after** the first value is added to allow for a 0 value in the original list.\r\n```\r\n\r\nfor (int val : values) {\r\n\tint n = Math.abs(val);\r\n\tdo {\r\n\t\tresults.compute(n % 10,\r\n\t\t\t\t(k, v) -&gt; v == null ? 1 : v + 1);\r\n\t\tn /= 10;\r\n\t} while (n &gt; 0);\r\n}\r\n\r\nresults.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n0=7\r\n1=8\r\n2=3\r\n3=3\r\n\r\n","title":"Count number of individual digits in an array of ints?","body":"<p>It wasn't exactly clear to me whether you wanted to know how to extract the digits from the numbers.  So I included that too.  You could do this with a stream, but Map features in Java 8+ make it easier, imo.  You could also store these in an array but you asked for a map based solution so here it is.</p>\n<pre><code>int[] values = { 101, -23003, 22, 1, 3, -1001, 0, 0, 111 };\nMap&lt;Integer, Integer&gt; results = new TreeMap&lt;&gt;();\n\n</code></pre>\n<ul>\n<li>iterate thru the values.</li>\n<li>get the absolute value of each (allows for negative numbers).</li>\n<li>within a do/while loop,\n<ul>\n<li><code>compute</code> adds 1 to the exiting value or initializes value to 1 first time thru.</li>\n<li><code>%</code>get the remainder when divided by some number.  In this case 10.</li>\n<li>divide by 10 to expose the next digit</li>\n</ul>\n</li>\n</ul>\n<p>It's important to check for 0 <strong>after</strong> the first value is added to allow for a 0 value in the original list.</p>\n<pre><code>\nfor (int val : values) {\n    int n = Math.abs(val);\n    do {\n        results.compute(n % 10,\n                (k, v) -&gt; v == null ? 1 : v + 1);\n        n /= 10;\n    } while (n &gt; 0);\n}\n\nresults.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>0=7\n1=8\n2=3\n3=3\n\n</code></pre>\n"}],"owner":{"account_id":5533651,"reputation":846,"user_id":4392781,"accept_rate":0,"display_name":"Tarmiac"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1895,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1643747195,"creation_date":1643726556,"question_id":70942465,"body_markdown":"So, this is not on how to count digits in a number. It&#39;s how to count how many of each one.\r\nSay: \r\n```\r\narr{101, 103, 105, 107, 109, 110}\r\n```\r\n\r\nHow many 0s, how many 1s etc. I wanna put it into a TreeMap\r\n\r\n```\r\nTreeMap&lt;Integer, Integer&gt; tm = new TreeMap&lt;Integer, Integer&gt;();\r\ntm = [0 -&gt; 5, 1 -&gt; 8, 2 -&gt; 0, 3 -&gt; 1, ..., 9 -&gt; 1]\r\n\r\n```\r\nSo how should I go about doing that?\r\n\r\n--------------------------------------\r\n\r\nThe array will be of whatever size so I guess I can loop through it and for each new int check each digit and if ```d = 0``` then ```tm.put(d, [increase])``` etc. Not sure how to increase a value in a KV-map though.","title":"Count number of individual digits in an array of ints?","body":"<p>So, this is not on how to count digits in a number. It's how to count how many of each one.\nSay:</p>\n<pre><code>arr{101, 103, 105, 107, 109, 110}\n</code></pre>\n<p>How many 0s, how many 1s etc. I wanna put it into a TreeMap</p>\n<pre><code>TreeMap&lt;Integer, Integer&gt; tm = new TreeMap&lt;Integer, Integer&gt;();\ntm = [0 -&gt; 5, 1 -&gt; 8, 2 -&gt; 0, 3 -&gt; 1, ..., 9 -&gt; 1]\n\n</code></pre>\n<p>So how should I go about doing that?</p>\n<hr />\n<p>The array will be of whatever size so I guess I can loop through it and for each new int check each digit and if <code>d = 0</code> then <code>tm.put(d, [increase])</code> etc. Not sure how to increase a value in a KV-map though.</p>\n"},{"tags":["java","monitoring","throwable"],"comments":[{"owner":{"account_id":3535938,"reputation":4697,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1643750130,"post_id":70941822,"comment_id":125421808,"body_markdown":"If you rethrow anyway, catch Throwable. Of course on OOM, for example, it is hard to know whether dealing with the timer still works or just triggers the next OOM.","body":"If you rethrow anyway, catch Throwable. Of course on OOM, for example, it is hard to know whether dealing with the timer still works or just triggers the next OOM."}],"owner":{"account_id":4520718,"reputation":79,"user_id":3674055,"accept_rate":0,"display_name":"Elad Cohen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643747050,"creation_date":1643723926,"question_id":70941822,"body_markdown":"We are monitoring our application by using timers. In case of an exception, we would like to catch the exception, stop the timer with an error, and rethrow the same exception without handling it. Which of the following catch objects would be the best approach to handle it? \r\n\r\n1) Catch specific exceptions - will monitor only the specific exceptions but not all of them. Considered as best practice, but we will have to think and add all the possibilities each time we use a timer.\r\n\r\n2) Catch Exception - will monitor all the Exceptions but not the Errors like OOM. Considered as bad practice, but in this case, we throwing back the exception, so we won&#39;t lose any data. \r\n\r\n3) Catch Throwable - will monitor bot Exception and Error. Considered as bad practice, but in this case, we throwing back the exception, so we won&#39;t lose any data and we are not handling the Error. \r\n\r\n```java \r\npublic void run() {\r\n  Timer timer = monitoring.timer();\r\n  try {\r\n    timer.start();\r\n    // some logic\r\n    timer.stop(aSuccessTag());\r\n  \r\n  // 1. catch specific exceptions \r\n  } catch (RuntimeException | IOException e) {\r\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\r\n    throw e;\r\n  }\r\n\r\n  // 2. catch exception\r\n  } catch (Exception e) {\r\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\r\n    throw e;\r\n  }\r\n\r\n  // 3. catch error and exception\r\n  catch (Throwable e) {\r\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\r\n    throw e;\r\n  }\r\n}\r\n```\r\n\r\nThanks\r\n\r\nElad\r\n         \r\n  ","title":"Catch and rethrow an exception for monitoring","body":"<p>We are monitoring our application by using timers. In case of an exception, we would like to catch the exception, stop the timer with an error, and rethrow the same exception without handling it. Which of the following catch objects would be the best approach to handle it?</p>\n<ol>\n<li><p>Catch specific exceptions - will monitor only the specific exceptions but not all of them. Considered as best practice, but we will have to think and add all the possibilities each time we use a timer.</p>\n</li>\n<li><p>Catch Exception - will monitor all the Exceptions but not the Errors like OOM. Considered as bad practice, but in this case, we throwing back the exception, so we won't lose any data.</p>\n</li>\n<li><p>Catch Throwable - will monitor bot Exception and Error. Considered as bad practice, but in this case, we throwing back the exception, so we won't lose any data and we are not handling the Error.</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n  Timer timer = monitoring.timer();\n  try {\n    timer.start();\n    // some logic\n    timer.stop(aSuccessTag());\n  \n  // 1. catch specific exceptions \n  } catch (RuntimeException | IOException e) {\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\n    throw e;\n  }\n\n  // 2. catch exception\n  } catch (Exception e) {\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\n    throw e;\n  }\n\n  // 3. catch error and exception\n  catch (Throwable e) {\n    timer.stop(new TagList().tags(aFailureTag(e.getClass())));\n    throw e;\n  }\n}\n</code></pre>\n<p>Thanks</p>\n<p>Elad</p>\n"},{"tags":["java","arraylist","is-empty"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1643746481,"post_id":70946892,"comment_id":125420706,"body_markdown":"You don&#39;t need to mock an `ArrayList`. Just create a &quot;normal&quot; new one.","body":"You don&#39;t need to mock an <code>ArrayList</code>. Just create a &quot;normal&quot; new one."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1643746692,"creation_date":1643746254,"answer_id":70946939,"question_id":70946892,"body_markdown":"‘app’ is a mock. You have to mock any method that you use, otherwise it retrieve type’s default value.","title":"isEmpty() on an ArrayList results in false although its size is 0","body":"<p>‘app’ is a mock. You have to mock any method that you use, otherwise it retrieve type’s default value.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1643746391,"creation_date":1643746391,"answer_id":70946971,"question_id":70946892,"body_markdown":"    List apps = Mockito.mock(ArrayList.class);\r\n\r\nWhen you mock a class, all of its method bodies are completely discarded. Methods with a non-`void` return type return the default value for that type. For `size()` that&#39;s 0 (default for `int`), but for `isEmpty()` that&#39;s `false` (default for `boolean`).\r\n\r\nYou can use `spy` instead of `mock` to get the actual implementation for methods you don&#39;t mock. That&#39;s also where the difference between `when(x.method()).thenReturn(y)` and `doReturn(y).when(x).method()` differ. The former actually calls the method but discards its result in favour of the mocked return value. The latter doesn&#39;t call the method at all (but isn&#39;t type safe).\r\n\r\nIs there a reason you&#39;re mocking the array list? I don&#39;t see you using the array list as a mock at all.","title":"isEmpty() on an ArrayList results in false although its size is 0","body":"<pre><code>List apps = Mockito.mock(ArrayList.class);\n</code></pre>\n<p>When you mock a class, all of its method bodies are completely discarded. Methods with a non-<code>void</code> return type return the default value for that type. For <code>size()</code> that's 0 (default for <code>int</code>), but for <code>isEmpty()</code> that's <code>false</code> (default for <code>boolean</code>).</p>\n<p>You can use <code>spy</code> instead of <code>mock</code> to get the actual implementation for methods you don't mock. That's also where the difference between <code>when(x.method()).thenReturn(y)</code> and <code>doReturn(y).when(x).method()</code> differ. The former actually calls the method but discards its result in favour of the mocked return value. The latter doesn't call the method at all (but isn't type safe).</p>\n<p>Is there a reason you're mocking the array list? I don't see you using the array list as a mock at all.</p>\n"}],"owner":{"account_id":3274061,"reputation":2691,"user_id":2756760,"accept_rate":51,"display_name":"du-it"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70946971,"answer_count":2,"score":0,"last_activity_date":1643746692,"creation_date":1643745995,"question_id":70946892,"body_markdown":"In a test I inject a mock to another class which seems to work properly. However, when I check the ArrayList if it is empty the result is false although its length/size is 0. How can this happen and how can I solve this problem?\r\n\r\n    @Slf4j\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    @Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\r\n    @Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\r\n    @EnableConfigurationProperties(MyProperties.class)\r\n    public class MyConfig {\r\n    \r\n        private final MyProperties myProperties;\r\n    \r\n        private final GenericApplicationContext applicationContext;\r\n    \r\n        @PostConstruct\r\n        void init() {\r\n            Objects.requireNonNull(myProperties, &quot;myProperties needs not to be null.&quot;);\r\n            if (/*myProperties.getApps().size() == 0 || */myProperties.getApps().isEmpty()) {\r\n                log.info(&quot;bla bla bla&quot;);\r\n            } else {\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s my test class:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyConfigTest {\r\n    \r\n        @Mock\r\n        MyProperties myPropertiesMock;\r\n    \r\n        @InjectMocks\r\n        MyConfig myConfig;\r\n    \r\n        ApplicationContextRunner contextRunner;\r\n    \r\n        @Test\r\n        void should_check_for_empty_apps() {\r\n            contextRunner = new ApplicationContextRunner()\r\n                .withPropertyValues(&quot;foobar.apps[0].name=&quot;, &quot;foobar.apps[0].baseUrl=&quot;, &quot;foobar.apps[0].basePath=&quot;)\r\n            ;\r\n    \r\n            List apps = Mockito.mock(ArrayList.class);\r\n            when(myPropertiesMock.getApps()).thenReturn(apps);\r\n    \r\n            myConfig.init();\r\n    \r\n            contextRunner.run(context -&gt; {\r\n                assertThat(apps.size()).isEqualTo(0);\r\n            });\r\n        }\r\n    }\r\n\r\nThe properties class:\r\n\r\n    @Slf4j\r\n    @Validated\r\n    @Data\r\n    @Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\r\n    @Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\r\n    @ConfigurationProperties(prefix = MyProperties.CONFIG_PREFIX)\r\n    public class MyProperties implements LoggableProperties {\r\n    \r\n        public static final String CONFIG_PREFIX = &quot;foobar&quot;;\r\n    \r\n        @Valid\r\n        @NestedConfigurationProperty\r\n        private List&lt;MyEndpoint&gt; apps = new ArrayList&lt;&gt;();\r\n    \r\n        @Data\r\n        public static class MyEndpoint {\r\n    //        @NotNull\r\n    //        @NotEmpty\r\n            private String baseUrl = &quot;&quot;;\r\n    \r\n            private String basePath = &quot;&quot;;\r\n    \r\n    //        @NotNull\r\n    //        @NotEmpty\r\n            private String name = &quot;&quot;;\r\n        }\r\n    }","title":"isEmpty() on an ArrayList results in false although its size is 0","body":"<p>In a test I inject a mock to another class which seems to work properly. However, when I check the ArrayList if it is empty the result is false although its length/size is 0. How can this happen and how can I solve this problem?</p>\n<pre><code>@Slf4j\n@Configuration\n@RequiredArgsConstructor\n@Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\n@Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\n@EnableConfigurationProperties(MyProperties.class)\npublic class MyConfig {\n\n    private final MyProperties myProperties;\n\n    private final GenericApplicationContext applicationContext;\n\n    @PostConstruct\n    void init() {\n        Objects.requireNonNull(myProperties, &quot;myProperties needs not to be null.&quot;);\n        if (/*myProperties.getApps().size() == 0 || */myProperties.getApps().isEmpty()) {\n            log.info(&quot;bla bla bla&quot;);\n        } else {\n            ...\n        }\n    }\n}\n</code></pre>\n<p>Here's my test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyConfigTest {\n\n    @Mock\n    MyProperties myPropertiesMock;\n\n    @InjectMocks\n    MyConfig myConfig;\n\n    ApplicationContextRunner contextRunner;\n\n    @Test\n    void should_check_for_empty_apps() {\n        contextRunner = new ApplicationContextRunner()\n            .withPropertyValues(&quot;foobar.apps[0].name=&quot;, &quot;foobar.apps[0].baseUrl=&quot;, &quot;foobar.apps[0].basePath=&quot;)\n        ;\n\n        List apps = Mockito.mock(ArrayList.class);\n        when(myPropertiesMock.getApps()).thenReturn(apps);\n\n        myConfig.init();\n\n        contextRunner.run(context -&gt; {\n            assertThat(apps.size()).isEqualTo(0);\n        });\n    }\n}\n</code></pre>\n<p>The properties class:</p>\n<pre><code>@Slf4j\n@Validated\n@Data\n@Setter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\n@Getter(onMethod_ = @SuppressFBWarnings({&quot;EI_EXPOSE_REP2&quot;, &quot;EI_EXPOSE_REP&quot;}))\n@ConfigurationProperties(prefix = MyProperties.CONFIG_PREFIX)\npublic class MyProperties implements LoggableProperties {\n\n    public static final String CONFIG_PREFIX = &quot;foobar&quot;;\n\n    @Valid\n    @NestedConfigurationProperty\n    private List&lt;MyEndpoint&gt; apps = new ArrayList&lt;&gt;();\n\n    @Data\n    public static class MyEndpoint {\n//        @NotNull\n//        @NotEmpty\n        private String baseUrl = &quot;&quot;;\n\n        private String basePath = &quot;&quot;;\n\n//        @NotNull\n//        @NotEmpty\n        private String name = &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","netty"],"answers":[{"tags":[],"owner":{"account_id":5303284,"reputation":2138,"user_id":4232132,"display_name":"Frederic Br&#233;gier"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1483727915,"creation_date":1483727915,"answer_id":41512147,"question_id":41505852,"body_markdown":"The first part start the server, \r\n1) binding it on a TCP port, \r\n2) wait for the server to be ready (socket is listening) \r\n3) and return the associated channel.\r\n\r\n    serverBootstrap.bind(tcpPort).sync().channel();\r\n                     (1)           (2)       (3)\r\n\r\nThe second part is to wait for the main channel (listening socket) to shutdown (`closeFuture().sync()`) where `closeFuture` gives you the &quot;future&quot; on &quot;close&quot; operation (meaning shutdown of the server socket), and `sync` waiting for this future to be done. `channel()` gives you back the very same channel than first time, except it is now closed.\r\n\r\nSo you might find this code in various example because generally you start the server (bind) in the main thread or so, and then if you don&#39;t wait for something, the main thread will end up, giving your JVM finishing, and therefore your server to stop immediately after starting.\r\n\r\nSo in general, what we do is:\r\n\r\n- start the server\r\n- add in the pipeline the necessary handlers to handle your business logic (and the network protocol of course)\r\n- then finish your main by waiting on closeFuture, such that, once in your business logic you get the order to shutdown, you close the main channel, and therefore your main thread is closing too.\r\n\r\nSee for instance https://stackoverflow.com/questions/28032092/shutdown-netty-programmatically/28034689","title":"Netty closeFuture().sync().channel(); blocks rest api","body":"<p>The first part start the server, \n1) binding it on a TCP port, \n2) wait for the server to be ready (socket is listening) \n3) and return the associated channel.</p>\n\n<pre><code>serverBootstrap.bind(tcpPort).sync().channel();\n                 (1)           (2)       (3)\n</code></pre>\n\n<p>The second part is to wait for the main channel (listening socket) to shutdown (<code>closeFuture().sync()</code>) where <code>closeFuture</code> gives you the \"future\" on \"close\" operation (meaning shutdown of the server socket), and <code>sync</code> waiting for this future to be done. <code>channel()</code> gives you back the very same channel than first time, except it is now closed.</p>\n\n<p>So you might find this code in various example because generally you start the server (bind) in the main thread or so, and then if you don't wait for something, the main thread will end up, giving your JVM finishing, and therefore your server to stop immediately after starting.</p>\n\n<p>So in general, what we do is:</p>\n\n<ul>\n<li>start the server</li>\n<li>add in the pipeline the necessary handlers to handle your business logic (and the network protocol of course)</li>\n<li>then finish your main by waiting on closeFuture, such that, once in your business logic you get the order to shutdown, you close the main channel, and therefore your main thread is closing too.</li>\n</ul>\n\n<p>See for instance <a href=\"https://stackoverflow.com/questions/28032092/shutdown-netty-programmatically/28034689\">Shutdown netty programmatically</a></p>\n"},{"tags":[],"owner":{"account_id":1928650,"reputation":894,"user_id":1738539,"accept_rate":0,"display_name":"user1738539"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643746467,"creation_date":1643745029,"answer_id":70946687,"question_id":41505852,"body_markdown":"Old, but I had same issue with my RestController not starting. Other answer helped solve it for me but here is full code for the Spring component.\r\n    \r\n    import com.myserver.netty.handler.ClientInboundHandler;\r\n    import com.myserver.netty.handler.PacketDecoder;\r\n    import com.myserver.netty.handler.PacketEncoder;\r\n\r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.channel.*;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.SocketChannel;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n\r\n    import lombok.extern.log4j.Log4j2;\r\n    import org.springframework.stereotype.Component;\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n\r\n    @Component\r\n    @Log4j2\r\n    public class NettyServer {\r\n\r\n       private EventLoopGroup masters = new NioEventLoopGroup();\r\n       private EventLoopGroup workers = new NioEventLoopGroup();\r\n\r\n       private Channel mainChannel;\r\n\r\n       @PostConstruct\r\n       public void start() {\r\n           try {\r\n               ServerBootstrap bootstrap = init();\r\n               mainChannel = bootstrap.bind(8484).sync().channel(); // save the main channel so we can cleanly close it when app is shutdown\r\n               log.info(&quot;Netty Server started......&quot;);\r\n           } catch (Exception e) {\r\n               e.printStackTrace();\r\n           }\r\n       }\r\n\r\n       @PreDestroy\r\n       public void stop() throws InterruptedException {\r\n           log.info(&quot;Shutting down netty server&quot;);\r\n           workers.shutdownGracefully().sync();\r\n           masters.shutdownGracefully().sync();\r\n           mainChannel.closeFuture().sync();\r\n           log.info(&quot;Shutdown complete&quot;);\r\n       }\r\n\r\n       private ServerBootstrap init() {\r\n           return new ServerBootstrap()\r\n                   .group(masters, workers)\r\n                   .channel(NioServerSocketChannel.class)\r\n                   .option(ChannelOption.SO_BACKLOG, 5000)\r\n                   .option(ChannelOption.TCP_NODELAY, true)\r\n                   .option(ChannelOption.SO_KEEPALIVE, true)\r\n                   .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n                       @Override\r\n                       protected void initChannel(SocketChannel channel) throws Exception {\r\n                           channel.pipeline()\r\n                                   .addLast(new PacketDecoder())\r\n                                   .addLast(new ClientInboundHandler())\r\n                                   .addLast(new PacketEncoder());\r\n                       }\r\n                   });\r\n       }\r\n\r\n    }","title":"Netty closeFuture().sync().channel(); blocks rest api","body":"<p>Old, but I had same issue with my RestController not starting. Other answer helped solve it for me but here is full code for the Spring component.</p>\n<pre><code>import com.myserver.netty.handler.ClientInboundHandler;\nimport com.myserver.netty.handler.PacketDecoder;\nimport com.myserver.netty.handler.PacketEncoder;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.*;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\n\nimport lombok.extern.log4j.Log4j2;\nimport org.springframework.stereotype.Component;\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\n\n@Component\n@Log4j2\npublic class NettyServer {\n\n   private EventLoopGroup masters = new NioEventLoopGroup();\n   private EventLoopGroup workers = new NioEventLoopGroup();\n\n   private Channel mainChannel;\n\n   @PostConstruct\n   public void start() {\n       try {\n           ServerBootstrap bootstrap = init();\n           mainChannel = bootstrap.bind(8484).sync().channel(); // save the main channel so we can cleanly close it when app is shutdown\n           log.info(&quot;Netty Server started......&quot;);\n       } catch (Exception e) {\n           e.printStackTrace();\n       }\n   }\n\n   @PreDestroy\n   public void stop() throws InterruptedException {\n       log.info(&quot;Shutting down netty server&quot;);\n       workers.shutdownGracefully().sync();\n       masters.shutdownGracefully().sync();\n       mainChannel.closeFuture().sync();\n       log.info(&quot;Shutdown complete&quot;);\n   }\n\n   private ServerBootstrap init() {\n       return new ServerBootstrap()\n               .group(masters, workers)\n               .channel(NioServerSocketChannel.class)\n               .option(ChannelOption.SO_BACKLOG, 5000)\n               .option(ChannelOption.TCP_NODELAY, true)\n               .option(ChannelOption.SO_KEEPALIVE, true)\n               .childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n                   @Override\n                   protected void initChannel(SocketChannel channel) throws Exception {\n                       channel.pipeline()\n                               .addLast(new PacketDecoder())\n                               .addLast(new ClientInboundHandler())\n                               .addLast(new PacketEncoder());\n                   }\n               });\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4810521,"reputation":123,"user_id":3884161,"accept_rate":25,"display_name":"SBK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3669,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41512147,"answer_count":2,"score":8,"last_activity_date":1643746467,"creation_date":1483706028,"question_id":41505852,"body_markdown":"I am in the middle of learning Netty an started some tutorials using spring boot. My goal is to create an application which set up a tcp port for receiving messages and to present them over a rest api.\r\n\r\nMost of the tutorials are saying that I should add something like this \r\n\r\n    serverChannel = serverBootstrap.bind(tcpPort).sync().channel().closeFuture().sync().channel();\r\n\r\nto start netty.\r\nWhen I do that, the rest services which I implemented are not working.\r\nNow when I use the following code snippet to start the application:\r\n\r\n    serverChannel = serverBootstrap.bind(tcpPort).sync().channel();\r\n\r\neverything seems to be working just fine. \r\nCould someone explain me what might cause this issue?\r\n\r\nThanks\r\n\r\n","title":"Netty closeFuture().sync().channel(); blocks rest api","body":"<p>I am in the middle of learning Netty an started some tutorials using spring boot. My goal is to create an application which set up a tcp port for receiving messages and to present them over a rest api.</p>\n\n<p>Most of the tutorials are saying that I should add something like this </p>\n\n<pre><code>serverChannel = serverBootstrap.bind(tcpPort).sync().channel().closeFuture().sync().channel();\n</code></pre>\n\n<p>to start netty.\nWhen I do that, the rest services which I implemented are not working.\nNow when I use the following code snippet to start the application:</p>\n\n<pre><code>serverChannel = serverBootstrap.bind(tcpPort).sync().channel();\n</code></pre>\n\n<p>everything seems to be working just fine. \nCould someone explain me what might cause this issue?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":2,"creation_date":1643746335,"post_id":70946736,"comment_id":125420672,"body_markdown":"String[][] arrayCopy = new String[array.length][];\nshould be","body":"String[][] arrayCopy = new String[array.length][]; should be"},{"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"score":0,"creation_date":1643746669,"post_id":70946736,"comment_id":125420764,"body_markdown":"Thank you to both of you!","body":"Thank you to both of you!"}],"answers":[{"tags":[],"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643746313,"creation_date":1643746313,"answer_id":70946954,"question_id":70946736,"body_markdown":"I figured it out. I just created a copy of the array that was filled with null.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class makeCopyOfArray {\r\n\r\n  public static String[][] copyArray() {\r\n\r\n    String[][] array = new String[][] {{&quot;1&quot;, &quot;1&quot;, &quot;1&quot;}, {&quot;2&quot;, &quot;2&quot;, &quot;2&quot;}, null, null, null};\r\n    String[][] arrayCopy = new String[array.length][]; //create an array with just empty null\r\n\r\n    //loop through array and copy to arrayCopy the inner lists that are not null.\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n      \r\n      if (array[i] != null) {\r\n        \r\n        arrayCopy[i] = array[i];\r\n      }\r\n    }\r\n    return arrayCopy;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n\r\n    System.out.println(Arrays.deepToString(copyArray()));\r\n  }\r\n}\r\n\r\n```","title":"Copy a 2D array with some of the values null","body":"<p>I figured it out. I just created a copy of the array that was filled with null.</p>\n<pre><code>import java.util.Arrays;\n\npublic class makeCopyOfArray {\n\n  public static String[][] copyArray() {\n\n    String[][] array = new String[][] {{&quot;1&quot;, &quot;1&quot;, &quot;1&quot;}, {&quot;2&quot;, &quot;2&quot;, &quot;2&quot;}, null, null, null};\n    String[][] arrayCopy = new String[array.length][]; //create an array with just empty null\n\n    //loop through array and copy to arrayCopy the inner lists that are not null.\n\n    for (int i = 0; i &lt; array.length; i++) {\n      \n      if (array[i] != null) {\n        \n        arrayCopy[i] = array[i];\n      }\n    }\n    return arrayCopy;\n  }\n\n  public static void main(String[] args) {\n\n    System.out.println(Arrays.deepToString(copyArray()));\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643746313,"creation_date":1643745287,"question_id":70946736,"body_markdown":"**I&#39;ve added java.util.Arrays to deep print easily at the end (for this example), but I cant use it to copy the array**\r\n\r\nI need to copy this 2D array, but I just cant seem to figure out how to replace the inner array I create with just null. I have the main commented for what I need to do.\r\n\r\nI create an array the size of the original array, but it places 3 null values in the inner loop because I initialize the array that way, but I dont know how else I could initialize the array, and have it be the same length.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\npublic class makeCopyOfArray {\r\n\r\n  public static String[][] copyArray() {\r\n\r\n    String[][] array = new String[][] {{&quot;1&quot;, &quot;1&quot;, &quot;1&quot;}, {&quot;2&quot;, &quot;2&quot;, &quot;2&quot;}, null, null, null};\r\n    String[][] arrayCopy = new String[array.length][array[1].length];\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n      \r\n      if (array[i] == null) {\r\n        continue;\r\n      }\r\n\r\n      for (int j = 0; j &lt; array[i].length; j++) {\r\n        arrayCopy[i][j] = array[i][j];\r\n      }\r\n    }\r\n\r\n    return arrayCopy;\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n\r\n    System.out.println(Arrays.deepToString(copyArray()));\r\n    // prints out\r\n    // [[1, 1, 1], [2, 2, 2], [null, null, null], [null, null, null], [null, null, null]]\r\n\r\n    // need it to print out\r\n    // [[1, 1, 1], [2, 2, 2], null, null, null]\r\n  }\r\n}\r\n\r\n\r\n\r\n```","title":"Copy a 2D array with some of the values null","body":"<p><strong>I've added java.util.Arrays to deep print easily at the end (for this example), but I cant use it to copy the array</strong></p>\n<p>I need to copy this 2D array, but I just cant seem to figure out how to replace the inner array I create with just null. I have the main commented for what I need to do.</p>\n<p>I create an array the size of the original array, but it places 3 null values in the inner loop because I initialize the array that way, but I dont know how else I could initialize the array, and have it be the same length.</p>\n<pre><code>import java.util.Arrays;\n\npublic class makeCopyOfArray {\n\n  public static String[][] copyArray() {\n\n    String[][] array = new String[][] {{&quot;1&quot;, &quot;1&quot;, &quot;1&quot;}, {&quot;2&quot;, &quot;2&quot;, &quot;2&quot;}, null, null, null};\n    String[][] arrayCopy = new String[array.length][array[1].length];\n\n    for (int i = 0; i &lt; array.length; i++) {\n      \n      if (array[i] == null) {\n        continue;\n      }\n\n      for (int j = 0; j &lt; array[i].length; j++) {\n        arrayCopy[i][j] = array[i][j];\n      }\n    }\n\n    return arrayCopy;\n  }\n\n  public static void main(String[] args) {\n\n    System.out.println(Arrays.deepToString(copyArray()));\n    // prints out\n    // [[1, 1, 1], [2, 2, 2], [null, null, null], [null, null, null], [null, null, null]]\n\n    // need it to print out\n    // [[1, 1, 1], [2, 2, 2], null, null, null]\n  }\n}\n\n\n\n</code></pre>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1643736570,"post_id":70944859,"comment_id":125417100,"body_markdown":"*that code should not have any memory leaks* -- How do you know the issue isn&#39;t with the C++ code itself, and has nothing to do with Java?  For example, a `std::vector`, depending on the type you store in it, can leak memory if the type does not respect the [rule of 3](https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three).  Actually, not vector, but placing faulty objects in the vector can leak memory.","body":"<i>that code should not have any memory leaks</i> -- How do you know the issue isn&#39;t with the C++ code itself, and has nothing to do with Java?  For example, a <code>std::vector</code>, depending on the type you store in it, can leak memory if the type does not respect the <a href=\"https://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">rule of 3</a>.  Actually, not vector, but placing faulty objects in the vector can leak memory."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643737333,"post_id":70944859,"comment_id":125417416,"body_markdown":"@PaulMcKenzie Inside the `std::vector` we have C++ objects, no pointers to objects or references to Java objects. But yes, there could be leaks at C++ side, not related to JNI, but that&#39;s hard to be true because we have literally not a single manual call to `malloc` or `new`, excepts a few (three or four) `new` calls for some objects that we store on `shared_ptr`s in the same sentence. Anything else use strict scoping rules.","body":"@PaulMcKenzie Inside the <code>std::vector</code> we have C++ objects, no pointers to objects or references to Java objects. But yes, there could be leaks at C++ side, not related to JNI, but that&#39;s hard to be true because we have literally not a single manual call to <code>malloc</code> or <code>new</code>, excepts a few (three or four) <code>new</code> calls for some objects that we store on <code>shared_ptr</code>s in the same sentence. Anything else use strict scoping rules."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643737527,"post_id":70944859,"comment_id":125417499,"body_markdown":"@Holger fixed. I meant `list_obj`.","body":"@Holger fixed. I meant <code>list_obj</code>."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1643737970,"post_id":70944859,"comment_id":125417681,"body_markdown":"*and that memory is never released.* -- That is not the determining factor that this is a memory leak.  If you called this function 10 times, does the memory increase 200MB each time, thus totaling 2 MB or more of memory being used?  If not, then what you are seeing is how the heap manager works, and that is by reusing the same allocated space for new allocations, instead of releasing it back to the OS.","body":"<i>and that memory is never released.</i> -- That is not the determining factor that this is a memory leak.  If you called this function 10 times, does the memory increase 200MB each time, thus totaling 2 MB or more of memory being used?  If not, then what you are seeing is how the heap manager works, and that is by reusing the same allocated space for new allocations, instead of releasing it back to the OS."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643738391,"post_id":70944859,"comment_id":125417874,"body_markdown":"@PaulMcKenzie Yes, it grows by 200MiB each time.","body":"@PaulMcKenzie Yes, it grows by 200MiB each time."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":1,"creation_date":1643739010,"post_id":70944859,"comment_id":125418106,"body_markdown":"Also, your line of &quot;desperation&quot; should have also been placed within the `for` loop for the `child_obj` if you want to test if that works.","body":"Also, your line of &quot;desperation&quot; should have also been placed within the <code>for</code> loop for the <code>child_obj</code> if you want to test if that works."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643739423,"post_id":70944859,"comment_id":125418258,"body_markdown":"@PaulMcKenzie right we are revisiting if we missed some call on any of our hundreds of `fill_obj` overloads. I hope that&#39;s the reason. It&#39;s also true that in some causes we are using inline functions that returns copies of `jobject` in factory-like functions that creates and returns the object, under our assumption that jobjects work like shared_ptrs.","body":"@PaulMcKenzie right we are revisiting if we missed some call on any of our hundreds of <code>fill_obj</code> overloads. I hope that&#39;s the reason. It&#39;s also true that in some causes we are using inline functions that returns copies of <code>jobject</code> in factory-like functions that creates and returns the object, under our assumption that jobjects work like shared_ptrs."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1643743129,"post_id":70944859,"comment_id":125419591,"body_markdown":"`jobject` does not work like `shared_ptr`. Mind that the JNI API does work equally with C; there’s no smartness in the `jobject`, especially none that would require C++. When [the JNI spec says](https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#global-and-local-references) that “*local references are valid for the duration of a native method call, and are automatically freed after the native method returns*”, it means “when the Java call to a method declared `native` returns to the Java caller”. Then, all local references are freed at once. JNI has no notion of C++ scopes.","body":"<code>jobject</code> does not work like <code>shared_ptr</code>. Mind that the JNI API does work equally with C; there’s no smartness in the <code>jobject</code>, especially none that would require C++. When <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#global-and-local-references\" rel=\"nofollow noreferrer\">the JNI spec says</a> that “<i>local references are valid for the duration of a native method call, and are automatically freed after the native method returns</i>”, it means “when the Java call to a method declared <code>native</code> returns to the Java caller”. Then, all local references are freed at once. JNI has no notion of C++ scopes."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643744298,"post_id":70944859,"comment_id":125419985,"body_markdown":"@Holger the point is we are never calling C++ inside Java. We are mostly C++ developers, but need Java for a library not available for C++. So all of our Java/C++ interaction is from C++ to Java. Java classes never call native methods in our case.","body":"@Holger the point is we are never calling C++ inside Java. We are mostly C++ developers, but need Java for a library not available for C++. So all of our Java/C++ interaction is from C++ to Java. Java classes never call native methods in our case."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1643744434,"post_id":70944859,"comment_id":125420029,"body_markdown":"Then, there is no way around calling `DeleteLocalRef` for *every* local reference you created.","body":"Then, there is no way around calling <code>DeleteLocalRef</code> for <i>every</i> local reference you created."},{"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":1,"creation_date":1643744594,"post_id":70944859,"comment_id":125420094,"body_markdown":"@Holger or, you can use `PushLocalFrame()` and `PopLocalFrame()` to free all local references at one time.","body":"@Holger or, you can use <code>PushLocalFrame()</code> and <code>PopLocalFrame()</code> to free all local references at one time."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":2,"creation_date":1643744683,"post_id":70944859,"comment_id":125420136,"body_markdown":"@Holger I think you could promote your comment as an answer. Most of our confusion comes from the fact that the docs are mostly oriented from the point of view of Java calling native functions.","body":"@Holger I think you could promote your comment as an answer. Most of our confusion comes from the fact that the docs are mostly oriented from the point of view of Java calling native functions."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643744934,"post_id":70944859,"comment_id":125420220,"body_markdown":"@RemyLebeau That sounds very interesting, and sounds like very easy to integrate with our existing code. Could you elaborate about that, maybe as an answer? I would love to see an usage example with my `some_fun`.","body":"@RemyLebeau That sounds very interesting, and sounds like very easy to integrate with our existing code. Could you elaborate about that, maybe as an answer? I would love to see an usage example with my <code>some_fun</code>."},{"owner":{"account_id":3771148,"reputation":34903,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":1,"creation_date":1643746393,"post_id":70944859,"comment_id":125420687,"body_markdown":"@Peregring-lk -- So I guess my wild guess basically worked?  Actually, it is a leak in terms of C++, since `jobject`  has no idea of RAII.  As a matter of fact, I highly suggest you create a class that wraps the jobject and automatically on the destructor, removes the object (of course you use this in cases like this, and not ones where Java will do the delete).  Your current code basically remains the same, only `jobject` would be some sort of RAII object.  When writing JNI code, you have to use the RAII paradigm as much as possible, at least that&#39;s my experience.","body":"@Peregring-lk -- So I guess my wild guess basically worked?  Actually, it is a leak in terms of C++, since <code>jobject</code>  has no idea of RAII.  As a matter of fact, I highly suggest you create a class that wraps the jobject and automatically on the destructor, removes the object (of course you use this in cases like this, and not ones where Java will do the delete).  Your current code basically remains the same, only <code>jobject</code> would be some sort of RAII object.  When writing JNI code, you have to use the RAII paradigm as much as possible, at least that&#39;s my experience."},{"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"score":0,"creation_date":1643749963,"post_id":70944859,"comment_id":125421750,"body_markdown":"@PaulMcKenzie Haven&#39;t test it yet; will try tomorrow at work. About RAII, well, our jobjects are actually encapsulated, but our wrappers act more like reference_wrappers than RAII objects, and its a bit late for us to change that. We also have a wrapper for jclass, acting like a factory: we request an object to the class and we return it back for release, but we let tons of objects without releasing because of a mix of bad understanding of JNI and Java. We assumed somehow that releasing a &quot;parent object&quot;, automagically released the full tree of child objects (like releasing a widget).","body":"@PaulMcKenzie Haven&#39;t test it yet; will try tomorrow at work. About RAII, well, our jobjects are actually encapsulated, but our wrappers act more like reference_wrappers than RAII objects, and its a bit late for us to change that. We also have a wrapper for jclass, acting like a factory: we request an object to the class and we return it back for release, but we let tons of objects without releasing because of a mix of bad understanding of JNI and Java. We assumed somehow that releasing a &quot;parent object&quot;, automagically released the full tree of child objects (like releasing a widget)."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643746012,"creation_date":1643745151,"answer_id":70946713,"question_id":70944859,"body_markdown":"Note the section [Implementing Local References] from the JNI specification:\r\n\r\n&gt; To implement local references, the Java VM creates a registry for each transition of control from Java to a native method. A registry maps nonmovable local references to Java objects, and keeps the objects from being garbage collected. All Java objects passed to the native method (including those that are returned as the results of JNI function calls) are automatically added to the registry. The registry is deleted after the native method returns, allowing all of its entries to be garbage collected.\r\n\r\nThe term “after the native method returns” means the reversal of the “transition of control from Java to a native method”, in other words, the method declared inside a Java class using the keyword `native` has been called and returns to the caller.\r\n\r\nOnce this is understood, it’s also clear how to read the [Global and Local References] section\r\n\r\n&gt; Local references are valid for the duration of a native method call, and are automatically freed after the native method returns.\r\n\r\nSo when you have code that runs for a long time before returning to the Java caller or has no Java caller at all, there is no way around deleting references manually using [`DeleteLocalRef`].\r\n\r\nAs Remy Lebeau mentioned, you can also use [`PushLocalFrame`] and [`PopLocalFrame`] to perform bulk destruction of references created between two points.\r\n\r\nMind that the destruction of the reference does not imply the destruction of the referenced object, but just not to prevent the garbage collection of the object. So after calling `env -&gt; CallBooleanMethod(list_obj, add_method, child_obj);`, you can destroy the `child_obj` reference, because the object is still referenced by the list you’re referencing via `list_obj`, so the added object will be kept as long as it is still in use.\r\n\r\n[Implementing Local References]: https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#implementing-local-references\r\n[Global and Local References]: https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#global-and-local-references\r\n[`DeleteLocalRef`]: https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#deletelocalref\r\n[`PushLocalFrame`]: https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#pushlocalframe\r\n[`PopLocalFrame`]: https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#poplocalframe\r\n","title":"Memory leaks using JNI: are we releasing objects property?","body":"<p>Note the section <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#implementing-local-references\" rel=\"nofollow noreferrer\">Implementing Local References</a> from the JNI specification:</p>\n<blockquote>\n<p>To implement local references, the Java VM creates a registry for each transition of control from Java to a native method. A registry maps nonmovable local references to Java objects, and keeps the objects from being garbage collected. All Java objects passed to the native method (including those that are returned as the results of JNI function calls) are automatically added to the registry. The registry is deleted after the native method returns, allowing all of its entries to be garbage collected.</p>\n</blockquote>\n<p>The term “after the native method returns” means the reversal of the “transition of control from Java to a native method”, in other words, the method declared inside a Java class using the keyword <code>native</code> has been called and returns to the caller.</p>\n<p>Once this is understood, it’s also clear how to read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/design.html#global-and-local-references\" rel=\"nofollow noreferrer\">Global and Local References</a> section</p>\n<blockquote>\n<p>Local references are valid for the duration of a native method call, and are automatically freed after the native method returns.</p>\n</blockquote>\n<p>So when you have code that runs for a long time before returning to the Java caller or has no Java caller at all, there is no way around deleting references manually using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#deletelocalref\" rel=\"nofollow noreferrer\"><code>DeleteLocalRef</code></a>.</p>\n<p>As Remy Lebeau mentioned, you can also use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#pushlocalframe\" rel=\"nofollow noreferrer\"><code>PushLocalFrame</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/jni/functions.html#poplocalframe\" rel=\"nofollow noreferrer\"><code>PopLocalFrame</code></a> to perform bulk destruction of references created between two points.</p>\n<p>Mind that the destruction of the reference does not imply the destruction of the referenced object, but just not to prevent the garbage collection of the object. So after calling <code>env -&gt; CallBooleanMethod(list_obj, add_method, child_obj);</code>, you can destroy the <code>child_obj</code> reference, because the object is still referenced by the list you’re referencing via <code>list_obj</code>, so the added object will be kept as long as it is still in use.</p>\n"},{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643745685,"creation_date":1643745350,"answer_id":70946751,"question_id":70944859,"body_markdown":"Since you say your `some_fun()` function is not being called by Java code, it is just pure C++ code that is internally calling into JNI, then yes, you will need to call `DeleteLocalRef()` on any local references you hold to Java objects that you don&#39;t pass back to Java.  You will need to do this inside of your `for` loop as well.\r\n\r\nTry this:\r\n\r\n```c++\r\nvoid some_fun()\r\n{\r\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\r\n    jobject obj = env-&gt;NewObject(cls, init); // &lt;-- local ref created\r\n    fill_obj(obj, cpp_data);\r\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\r\n    env-&gt;DeleteLocalRef(obj); // &lt;-- local ref released\r\n}\r\n\r\nvoid fill_obj(jobject obj, SomeType const&amp; cpp_data)\r\n{\r\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\r\n\r\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method); // &lt;-- local ref created\r\n\r\n   for (auto it = v.begin(); it != v.end(); ++it) {\r\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method); // &lt;-- local ref created\r\n      fill_obj(child_obj, *it);\r\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\r\n      env-&gt;DeleteLocalRef(child_obj); // &lt;-- local ref released\r\n   }\r\n\r\n   env-&gt;SetObjectField(obj, field_id, list_obj);\r\n   env-&gt;DeleteLocalRef(list_obj); // &lt;-- local ref released\r\n}\r\n```\r\n\r\nAlternatively, you can use `(Push|Pop)LocalFrame()` instead, so that JNI can keep track of all the local references you create and then release them for you in one go, eg:\r\n\r\n```c++\r\nvoid some_fun()\r\n{\r\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\r\n\r\n    env-&gt;PushLocalFrame(1);\r\n\r\n    jobject obj = env-&gt;NewObject(cls, init);\r\n    fill_obj(obj, cpp_data);\r\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\r\n\r\n    env-&gt;PopLocalFrame(NULL);\r\n}\r\n\r\nvoid fill_obj(jobject obj, SomeType const&amp; cpp_data)\r\n{\r\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\r\n\r\n   env-&gt;PushLocalFrame(1+v.size());\r\n\r\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method);\r\n\r\n   for (auto it = v.begin(); it != v.end(); ++it) {\r\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method);\r\n      fill_obj(child_obj, *it);\r\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\r\n   }\r\n\r\n   env-&gt;SetObjectField(obj, field_id, list_obj);\r\n\r\n   env-&gt;PopLocalFrame(NULL);\r\n}\r\n```","title":"Memory leaks using JNI: are we releasing objects property?","body":"<p>Since you say your <code>some_fun()</code> function is not being called by Java code, it is just pure C++ code that is internally calling into JNI, then yes, you will need to call <code>DeleteLocalRef()</code> on any local references you hold to Java objects that you don't pass back to Java.  You will need to do this inside of your <code>for</code> loop as well.</p>\n<p>Try this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void some_fun()\n{\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\n    jobject obj = env-&gt;NewObject(cls, init); // &lt;-- local ref created\n    fill_obj(obj, cpp_data);\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\n    env-&gt;DeleteLocalRef(obj); // &lt;-- local ref released\n}\n\nvoid fill_obj(jobject obj, SomeType const&amp; cpp_data)\n{\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\n\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method); // &lt;-- local ref created\n\n   for (auto it = v.begin(); it != v.end(); ++it) {\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method); // &lt;-- local ref created\n      fill_obj(child_obj, *it);\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\n      env-&gt;DeleteLocalRef(child_obj); // &lt;-- local ref released\n   }\n\n   env-&gt;SetObjectField(obj, field_id, list_obj);\n   env-&gt;DeleteLocalRef(list_obj); // &lt;-- local ref released\n}\n</code></pre>\n<p>Alternatively, you can use <code>(Push|Pop)LocalFrame()</code> instead, so that JNI can keep track of all the local references you create and then release them for you in one go, eg:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void some_fun()\n{\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\n\n    env-&gt;PushLocalFrame(1);\n\n    jobject obj = env-&gt;NewObject(cls, init);\n    fill_obj(obj, cpp_data);\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\n\n    env-&gt;PopLocalFrame(NULL);\n}\n\nvoid fill_obj(jobject obj, SomeType const&amp; cpp_data)\n{\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\n\n   env-&gt;PushLocalFrame(1+v.size());\n\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method);\n\n   for (auto it = v.begin(); it != v.end(); ++it) {\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method);\n      fill_obj(child_obj, *it);\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\n   }\n\n   env-&gt;SetObjectField(obj, field_id, list_obj);\n\n   env-&gt;PopLocalFrame(NULL);\n}\n</code></pre>\n"}],"owner":{"account_id":1999735,"reputation":10657,"user_id":1794803,"accept_rate":64,"display_name":"ABu"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":70946713,"answer_count":2,"score":2,"last_activity_date":1643746012,"creation_date":1643736200,"question_id":70944859,"body_markdown":"**IMPORTANT NOTE:** This snippet of code is not a `native` function called from Java. Our process is written in C++, we instantiate a Java VM, and we call Java functions from C++, but never the other way around: Java methods never calls native functions, but native functions instantiate Java objects and call Java functions on them. \r\n\r\nWe are doing something like this:\r\n\r\n```c++\r\nvoid some_fun()\r\n{\r\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\r\n    jobject obj = env-&gt;NewObject(cls, init);\r\n    fill_obj(obj, cpp_data);\r\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\r\n    // env-&gt;DeleteLocalRef(obj); // Added out of desperation.\r\n}\r\n```\r\n\r\nWhere `fill_obj` depends on the kind of `cpp_data` that must be set as fields of `obj`. For example, if the Java class `cls` contains an `ArrayList`, `cpp_data` will contain, for example, a `std::vector`. So the `fill_obj` overload will look like this:\r\n\r\n```c++\r\nvoid fill_obj(jobject obj, SomeType const&amp; cpp_data)\r\n{\r\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\r\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method);\r\n\r\n   for (auto it = v.begin(); it != v.end(); ++it) {\r\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method);\r\n      fill_obj(child_obj , *it);\r\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\r\n   }\r\n\r\n   env-&gt;SetObjectField(obj, field_id, list_obj);\r\n}\r\n```\r\n\r\nAccording to our understanding on the JNI docs, that code should not have any memory leaks since local objects are destroyed when the native method ends. So, when the first `fill_obj` ends, at C++ side there&#39;s no more references to `list_obj` or any of its childs, and when `some_fun` ends, any reference of `obj` at C++ side is gone as well. \r\n\r\nMy understanding is that `jobject` contains some sort of reference counter and when that reference counter reachs 0, then there&#39;s no more references to the Java object at C++ side. If there&#39;s no more references to the object at Java side either, then the Java&#39;s garbage collector is free to release the resources occupied by the object.\r\n\r\nWe have a method that, when called, creates thousand of those objects, and each time that method is called, the memory that the process occupies in RAM (the resident memory) grows by more than 200 MiB, and that memory is never released.\r\n\r\nWe have added an explicit call to `DeleteLocalRef` but the result is the same.\r\n\r\nWhat is going on? Are we doing something wrong?","title":"Memory leaks using JNI: are we releasing objects property?","body":"<p><strong>IMPORTANT NOTE:</strong> This snippet of code is not a <code>native</code> function called from Java. Our process is written in C++, we instantiate a Java VM, and we call Java functions from C++, but never the other way around: Java methods never calls native functions, but native functions instantiate Java objects and call Java functions on them.</p>\n<p>We are doing something like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void some_fun()\n{\n    // env is a JNIEnv*, cls (and cls2) a jclass, and init (and mid) a jmethodID\n    jobject obj = env-&gt;NewObject(cls, init);\n    fill_obj(obj, cpp_data);\n    env-&gt;callStaticVoidMethod(cls2, mid, obj);\n    // env-&gt;DeleteLocalRef(obj); // Added out of desperation.\n}\n</code></pre>\n<p>Where <code>fill_obj</code> depends on the kind of <code>cpp_data</code> that must be set as fields of <code>obj</code>. For example, if the Java class <code>cls</code> contains an <code>ArrayList</code>, <code>cpp_data</code> will contain, for example, a <code>std::vector</code>. So the <code>fill_obj</code> overload will look like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void fill_obj(jobject obj, SomeType const&amp; cpp_data)\n{\n   std::vector&lt;SomeSubType&gt; const&amp; v = cpp_data.inner_data;\n   jobject list_obj = env-&gt;NewObject(array_list_class_global_ref, its_init_method);\n\n   for (auto it = v.begin(); it != v.end(); ++it) {\n      jobject child_obj = env-&gt;NewObject(SomeSubType_class_global_ref, its_init_method);\n      fill_obj(child_obj , *it);\n      env-&gt;CallBooleanMethod(list_obj, add_method, child_obj);\n   }\n\n   env-&gt;SetObjectField(obj, field_id, list_obj);\n}\n</code></pre>\n<p>According to our understanding on the JNI docs, that code should not have any memory leaks since local objects are destroyed when the native method ends. So, when the first <code>fill_obj</code> ends, at C++ side there's no more references to <code>list_obj</code> or any of its childs, and when <code>some_fun</code> ends, any reference of <code>obj</code> at C++ side is gone as well.</p>\n<p>My understanding is that <code>jobject</code> contains some sort of reference counter and when that reference counter reachs 0, then there's no more references to the Java object at C++ side. If there's no more references to the object at Java side either, then the Java's garbage collector is free to release the resources occupied by the object.</p>\n<p>We have a method that, when called, creates thousand of those objects, and each time that method is called, the memory that the process occupies in RAM (the resident memory) grows by more than 200 MiB, and that memory is never released.</p>\n<p>We have added an explicit call to <code>DeleteLocalRef</code> but the result is the same.</p>\n<p>What is going on? Are we doing something wrong?</p>\n"},{"tags":["java","android","firebase","gradle"],"comments":[{"owner":{"account_id":3024331,"reputation":2599,"user_id":2564673,"accept_rate":73,"display_name":"Cyrus Zei"},"score":0,"creation_date":1643745165,"post_id":70946643,"comment_id":125420283,"body_markdown":"is this for android ? and react-native?","body":"is this for android ? and react-native?"},{"owner":{"account_id":17481129,"reputation":21,"user_id":13500452,"display_name":"Salavat Asadullin"},"score":0,"creation_date":1643745213,"post_id":70946643,"comment_id":125420299,"body_markdown":"it&#39;s for android","body":"it&#39;s for android"}],"answers":[{"tags":[],"owner":{"account_id":17481129,"reputation":21,"user_id":13500452,"display_name":"Salavat Asadullin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643745907,"creation_date":1643745907,"answer_id":70946873,"question_id":70946643,"body_markdown":"The problem was solved by adding jcenter() to\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n\r\nI don&#39;t know why it&#39;s working, and why it didn&#39;t worked before. If you know why or you have another solution, please, answer.","title":"Problems with Firebase initialization (android-java)","body":"<p>The problem was solved by adding jcenter() to</p>\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n</code></pre>\n<p>I don't know why it's working, and why it didn't worked before. If you know why or you have another solution, please, answer.</p>\n"}],"owner":{"account_id":17481129,"reputation":21,"user_id":13500452,"display_name":"Salavat Asadullin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643745907,"creation_date":1643744815,"question_id":70946643,"body_markdown":"I want to initialize a Firebase, but I got some problems.\r\n\r\nThis is the text of an error: \r\n\r\n    Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.\r\n\r\nHere is the project build.gradle code:\r\n\r\n    buildscript {\r\n    repositories {\r\n        google()  // Google&#39;s Maven repository\r\n\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        classpath &#39;com.android.tools.build:gradle:4.0.2&#39;\r\n    }\r\n    }\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.1.0&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.1.0&#39; apply false\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n    }\r\n    }\r\n\r\nThe problem disappears when I delete google() from \r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n    }\r\n    }\r\n\r\nBut when I delete google(), there is another error: https://stackoverflow.com/questions/70933929/googlesignin-getlastsignedinaccount-causes-exception\r\n\r\nThere is also gradle error log:\r\n\r\n    \r\n    FAILURE: Build failed with an exception.\r\n\r\n    * What went wrong:\r\n    Execution failed for task \r\n    &#39;:app:dataBindingMergeDependencyArtifactsDebug&#39;.\r\n    Could not resolve all files for configuration \r\n    &#39;:app:debugCompileClasspath&#39;.\r\n    Could not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\r\n     Required by:\r\n         project :app &gt; androidx.navigation:navigation-fragment:2.4.0\r\n         project :app &gt; androidx.navigation:navigation-runtime:2.4.0\r\n         project :app &gt; androidx.navigation:navigation-common:2.4.0\r\n    Could not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\r\n     Required by:\r\n         project :app &gt; androidx.fragment:fragment:1.4.0\r\n         project :app &gt; androidx.fragment:fragment-ktx:1.4.0\r\n    Could not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\r\n     Required by:\r\n         project :app &gt; androidx.core:core-ktx:1.2.0\r\n    Could not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\r\n     Required by:\r\n         project :app &gt; androidx.activity:activity-ktx:1.2.3\r\n         project :app &gt; androidx.lifecycle:lifecycle-livedata-core-ktx:2.3.1\r\n         project :app &gt; androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1\r\n         project :app &gt; androidx.savedstate:savedstate-ktx:1.1.0\r\n         project :app &gt; androidx.lifecycle:lifecycle-runtime-ktx:2.3.1\r\n    Could not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\r\n     Required by:\r\n         project :app &gt; androidx.collection:collection-ktx:1.1.0\r\n    Could not find org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.1.\r\n     Required by:\r\n         project :app &gt; androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1\r\n         project :app &gt; androidx.lifecycle:lifecycle-runtime-ktx:2.3.1\r\n\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n    * Get more help at https://help.gradle.org\r\n\r\n    BUILD FAILED in 1s\r\n","title":"Problems with Firebase initialization (android-java)","body":"<p>I want to initialize a Firebase, but I got some problems.</p>\n<p>This is the text of an error:</p>\n<pre><code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugCompileClasspath'.\n</code></pre>\n<p>Here is the project build.gradle code:</p>\n<pre><code>buildscript {\nrepositories {\n    google()  // Google's Maven repository\n\n}\ndependencies {\n    classpath 'com.google.gms:google-services:4.3.10'\n    classpath 'com.android.tools.build:gradle:4.0.2'\n}\n}\n\nplugins {\nid 'com.android.application' version '7.1.0' apply false\nid 'com.android.library' version '7.1.0' apply false\n}\n\nallprojects {\nrepositories {\n    google()\n}\n}\n</code></pre>\n<p>The problem disappears when I delete google() from</p>\n<pre><code>allprojects {\nrepositories {\n    google()\n}\n}\n</code></pre>\n<p>But when I delete google(), there is another error: <a href=\"https://stackoverflow.com/questions/70933929/googlesignin-getlastsignedinaccount-causes-exception\">GoogleSignIn.getLastSignedInAccount causes exception</a></p>\n<p>There is also gradle error log:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task \n':app:dataBindingMergeDependencyArtifactsDebug'.\nCould not resolve all files for configuration \n':app:debugCompileClasspath'.\nCould not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\n Required by:\n     project :app &gt; androidx.navigation:navigation-fragment:2.4.0\n     project :app &gt; androidx.navigation:navigation-runtime:2.4.0\n     project :app &gt; androidx.navigation:navigation-common:2.4.0\nCould not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\n Required by:\n     project :app &gt; androidx.fragment:fragment:1.4.0\n     project :app &gt; androidx.fragment:fragment-ktx:1.4.0\nCould not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\n Required by:\n     project :app &gt; androidx.core:core-ktx:1.2.0\nCould not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\n Required by:\n     project :app &gt; androidx.activity:activity-ktx:1.2.3\n     project :app &gt; androidx.lifecycle:lifecycle-livedata-core-ktx:2.3.1\n     project :app &gt; androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1\n     project :app &gt; androidx.savedstate:savedstate-ktx:1.1.0\n     project :app &gt; androidx.lifecycle:lifecycle-runtime-ktx:2.3.1\nCould not find org.jetbrains.kotlin:kotlin-stdlib:1.6.0.\n Required by:\n     project :app &gt; androidx.collection:collection-ktx:1.1.0\nCould not find org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.1.\n Required by:\n     project :app &gt; androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1\n     project :app &gt; androidx.lifecycle:lifecycle-runtime-ktx:2.3.1\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n"},{"tags":["java","linux","kotlin","visual-studio-code"],"comments":[{"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"score":0,"creation_date":1636555344,"post_id":69915094,"comment_id":123588654,"body_markdown":"Why not using Intellij Idea https://www.jetbrains.com/idea/download/ the community version is free and is made by the same people that made Kotlin.","body":"Why not using Intellij Idea <a href=\"https://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> the community version is free and is made by the same people that made Kotlin."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1636556363,"post_id":69915094,"comment_id":123589135,"body_markdown":"I agree. Main reason to try to use VSCode would be to maybe save some time learning a new IDE, but you’ll spend far more time trying to get everything running correctly, and figuring out quirks on your own. Plus, you’ll have a limited feature set when it comes to configuring the project through the UI, and shortcuts for boilerplate and refactoring.","body":"I agree. Main reason to try to use VSCode would be to maybe save some time learning a new IDE, but you’ll spend far more time trying to get everything running correctly, and figuring out quirks on your own. Plus, you’ll have a limited feature set when it comes to configuring the project through the UI, and shortcuts for boilerplate and refactoring."},{"owner":{"account_id":21377618,"reputation":31,"user_id":15744642,"display_name":"Manuel Jim&#233;nez"},"score":0,"creation_date":1636560270,"post_id":69915094,"comment_id":123590968,"body_markdown":"I was thinking VSCode because I have been using it to learn other languages so I am somewhat used to it. In any case, I just installed IntelliJ Community, but it asks me to select a JDK, which I cannot find anywhere even though as you can see above, it seems like I already have installed the Openjdk. Any tips?","body":"I was thinking VSCode because I have been using it to learn other languages so I am somewhat used to it. In any case, I just installed IntelliJ Community, but it asks me to select a JDK, which I cannot find anywhere even though as you can see above, it seems like I already have installed the Openjdk. Any tips?"}],"answers":[{"tags":[],"owner":{"account_id":21377618,"reputation":31,"user_id":15744642,"display_name":"Manuel Jim&#233;nez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636564671,"creation_date":1636564671,"answer_id":69917552,"question_id":69915094,"body_markdown":"I do not know if this is the best way of solving the problem, but I managed to make it work by doing the following:\r\n\r\nFirst, I installed Oracle&#39;s JDK following the instructions in this video: [Installing Oracle JDK on Linux][1].\r\n\r\nAfter that, I went to the `.bashrc` file (In my pc it is located on the home folder), and added the following: `export PATH=$PATH:$JAVA_HOME/bin`. After doing this, I reset the file with the `source ~/.bashrc`.\r\n\r\nThe error in VSCode was fixed after doing this. Please let me know if there is a better way of doing this.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=ogWKP9Lm-Qo","title":"How do I set up VSCode to use Kotlin and Java?","body":"<p>I do not know if this is the best way of solving the problem, but I managed to make it work by doing the following:</p>\n<p>First, I installed Oracle's JDK following the instructions in this video: <a href=\"https://www.youtube.com/watch?v=ogWKP9Lm-Qo\" rel=\"nofollow noreferrer\">Installing Oracle JDK on Linux</a>.</p>\n<p>After that, I went to the <code>.bashrc</code> file (In my pc it is located on the home folder), and added the following: <code>export PATH=$PATH:$JAVA_HOME/bin</code>. After doing this, I reset the file with the <code>source ~/.bashrc</code>.</p>\n<p>The error in VSCode was fixed after doing this. Please let me know if there is a better way of doing this.</p>\n"}],"owner":{"account_id":21377618,"reputation":31,"user_id":15744642,"display_name":"Manuel Jim&#233;nez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643745795,"creation_date":1636554733,"question_id":69915094,"body_markdown":"I am just starting to learn how to code with Kotlin and for that, I am trying to configure VSCode (Version 1.61) as it is my main IDE.\r\n\r\nI am using a pc with the following characteristics:\r\n - Static hostname: pop-os\r\n - Operating System: Pop!_OS 21.04\r\n - Kernel: Linux 5.13.0-7614-generic\r\n - Architecture: x86-64\r\n\r\nI have verified that I have java, kotlin and kotlic installed:\r\n\r\n    $ java -version\r\n    openjdk version &quot;11.0.11&quot; 2021-04-20\r\n    OpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2)\r\n    OpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2, mixed mode, sharing)\r\n    $ kotlin -version\r\n    Kotlin version 1.5.31-release-548 (JRE 11.0.11+9-Ubuntu-0ubuntu2)\r\n    $ kotlinc -version\r\n    info: kotlinc-jvm 1.5.31 (JRE 11.0.11+9-Ubuntu-0ubuntu2)\r\n\r\nIn Vscode I have installed the following extensions:\r\n - Kotlin Language by mathiasfrohlich\r\n - Code Runner by Jun Han\r\n - Extension Pack for Java by Microsoft\r\n - Debugger for Java by Microsoft\r\n - Language Support for Java by Red Hat\r\n\r\nAfter doing all this I created a folder `~/Learning/Kotlin/HelloWorld/` with a simple kotlin file `&quot;helloworld.kt&quot;` containing the following code:\r\n\r\n    fun fun main(args: Array&lt;String&gt;) {\r\n    println(&quot;Hello Kotlin&quot;)\r\n    }\r\n\r\nWhen trying to run the code, I received an error about not finding the kotlinc command, so I added the following to the `~/.bashrc` file:\r\n\r\n    export KOTLIN_HOME=/home/usr/.sdkman/candidates/kotlin/current\r\n    export PATH=$PATH:$KOTLIN_HOME/bin\r\n\r\nHowever, now I am getting the following error:\r\n\r\n    [Running] cd &quot;/home/mantress31/Documents/Manuel/Aprendizaje/Kotlin/Hello World/&quot; &amp;&amp; kotlinc helloworld.kt -include-runtime -d helloworld.jar &amp;&amp; java -jar helloworld.jar\r\n    /home/usr/.sdkman/candidates/kotlin/current/bin/kotlinc: line 98: java: command not found\r\n\r\nCould someone tell me if I have done something wrong while configuring all this? And/Or What else should I do to fix this problem?","title":"How do I set up VSCode to use Kotlin and Java?","body":"<p>I am just starting to learn how to code with Kotlin and for that, I am trying to configure VSCode (Version 1.61) as it is my main IDE.</p>\n<p>I am using a pc with the following characteristics:</p>\n<ul>\n<li>Static hostname: pop-os</li>\n<li>Operating System: Pop!_OS 21.04</li>\n<li>Kernel: Linux 5.13.0-7614-generic</li>\n<li>Architecture: x86-64</li>\n</ul>\n<p>I have verified that I have java, kotlin and kotlic installed:</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.11&quot; 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2, mixed mode, sharing)\n$ kotlin -version\nKotlin version 1.5.31-release-548 (JRE 11.0.11+9-Ubuntu-0ubuntu2)\n$ kotlinc -version\ninfo: kotlinc-jvm 1.5.31 (JRE 11.0.11+9-Ubuntu-0ubuntu2)\n</code></pre>\n<p>In Vscode I have installed the following extensions:</p>\n<ul>\n<li>Kotlin Language by mathiasfrohlich</li>\n<li>Code Runner by Jun Han</li>\n<li>Extension Pack for Java by Microsoft</li>\n<li>Debugger for Java by Microsoft</li>\n<li>Language Support for Java by Red Hat</li>\n</ul>\n<p>After doing all this I created a folder <code>~/Learning/Kotlin/HelloWorld/</code> with a simple kotlin file <code>&quot;helloworld.kt&quot;</code> containing the following code:</p>\n<pre><code>fun fun main(args: Array&lt;String&gt;) {\nprintln(&quot;Hello Kotlin&quot;)\n}\n</code></pre>\n<p>When trying to run the code, I received an error about not finding the kotlinc command, so I added the following to the <code>~/.bashrc</code> file:</p>\n<pre><code>export KOTLIN_HOME=/home/usr/.sdkman/candidates/kotlin/current\nexport PATH=$PATH:$KOTLIN_HOME/bin\n</code></pre>\n<p>However, now I am getting the following error:</p>\n<pre><code>[Running] cd &quot;/home/mantress31/Documents/Manuel/Aprendizaje/Kotlin/Hello World/&quot; &amp;&amp; kotlinc helloworld.kt -include-runtime -d helloworld.jar &amp;&amp; java -jar helloworld.jar\n/home/usr/.sdkman/candidates/kotlin/current/bin/kotlinc: line 98: java: command not found\n</code></pre>\n<p>Could someone tell me if I have done something wrong while configuring all this? And/Or What else should I do to fix this problem?</p>\n"},{"tags":["java","android","class","android-manifest","homescreen"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1643745165,"post_id":70946674,"comment_id":125420282,"body_markdown":"Please see [mcve] and enhance your question accordingly. You are only showing us the end result of your work. For sure, there is a bug somewhere in your setup/code. But how do you think we can help with that ... when the only thing you give to us is that screenshot?","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. You are only showing us the end result of your work. For sure, there is a bug somewhere in your setup/code. But how do you think we can help with that ... when the only thing you give to us is that screenshot?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1643745925,"post_id":70946674,"comment_id":125420548,"body_markdown":"By creating an intent-filter with `action.MAIN` and `category.LAUNCHER` for each activity you actively tell Android that each one of those should have its own icon in the launcher. If you don&#39;t want that behavior, then don&#39;t add those filters.","body":"By creating an intent-filter with <code>action.MAIN</code> and <code>category.LAUNCHER</code> for each activity you actively tell Android that each one of those should have its own icon in the launcher. If you don&#39;t want that behavior, then don&#39;t add those filters."}],"owner":{"account_id":24125425,"reputation":1,"user_id":18093816,"display_name":"Elek Stresz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643745881,"answer_count":0,"score":0,"last_activity_date":1643745517,"creation_date":1643744966,"question_id":70946674,"body_markdown":"I created an android project with several classes and also wrote them into the AndroidManifest.\r\nI got this picture after the run.\r\n[enter image description here][1]\r\nWhat can I do to appear on the table only once?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eh7bZ.png\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;christus.vivit&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ChristusVivit&quot;\r\n        android:fullBackupOnly=&quot;false&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Main&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Impresszum&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Fejezetek&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n","title":"More Classes on Home","body":"<p>I created an android project with several classes and also wrote them into the AndroidManifest.\nI got this picture after the run.\n<a href=\"https://i.stack.imgur.com/eh7bZ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nWhat can I do to appear on the table only once?</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n<p></p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.ChristusVivit&quot;\n    android:fullBackupOnly=&quot;false&quot;&gt;\n\n    &lt;activity\n        android:name=&quot;.Main&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.Impresszum&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.Fejezetek&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","jackson","dropwizard"],"comments":[{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1641327062,"post_id":70584235,"comment_id":124775504,"body_markdown":"Your `MyConfiguration` class needs to extend the `io.dropwizard.Configuration`","body":"Your <code>MyConfiguration</code> class needs to extend the <code>io.dropwizard.Configuration</code>"},{"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"score":0,"creation_date":1641389620,"post_id":70584235,"comment_id":124791626,"body_markdown":"@dshelya -- A good thought, but that did not help.","body":"@dshelya -- A good thought, but that did not help."}],"answers":[{"tags":[],"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643745145,"creation_date":1643745145,"answer_id":70946712,"question_id":70584235,"body_markdown":"For some reason I had to add the following setup method\r\n```\r\nprivate void doSetup() {\r\n   final Map&lt;String, Class&lt;?&gt;&gt; typesByName = new HashMap&lt;String,Class&lt;&gt;&gt;();\r\n   typesByName.put(&quot;console&quot;, ConsoleAppenderFactory.class);\r\n   SimpleModule namedTypesModule = new SimpleModule(&quot;my-named-types-module&quot;);\r\n   Set&lt;Class&lt;?&gt;&gt; appenderFactoryClasses = new HashSet&lt;&gt;();\r\n   appenderFactoryClasses.add(ConsoleAppenderFactory.class);\r\n   appenderFactoryClasses.add(FileAppenderFactory.class);\r\n   //etc\r\n   namedTypesModule.registerSubtypes(appenderFactoryClasses);\r\n   namedTypesModule.addDeserializer(Object.class, \r\n     new JacksonDeserializerOfNamedTypes(typesByName, \r\n        JsonTypeInfo.Id.Name.getPropertyName()));\r\n   //After doing the above the read then worked ...\r\n   ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n   mapper.readValue(file, *ExpectedClass*.class);\r\n   ...\r\n}\r\n```","title":"Why does Dropwizard deserialization not find an appender when I simply extend the default logger?","body":"<p>For some reason I had to add the following setup method</p>\n<pre><code>private void doSetup() {\n   final Map&lt;String, Class&lt;?&gt;&gt; typesByName = new HashMap&lt;String,Class&lt;&gt;&gt;();\n   typesByName.put(&quot;console&quot;, ConsoleAppenderFactory.class);\n   SimpleModule namedTypesModule = new SimpleModule(&quot;my-named-types-module&quot;);\n   Set&lt;Class&lt;?&gt;&gt; appenderFactoryClasses = new HashSet&lt;&gt;();\n   appenderFactoryClasses.add(ConsoleAppenderFactory.class);\n   appenderFactoryClasses.add(FileAppenderFactory.class);\n   //etc\n   namedTypesModule.registerSubtypes(appenderFactoryClasses);\n   namedTypesModule.addDeserializer(Object.class, \n     new JacksonDeserializerOfNamedTypes(typesByName, \n        JsonTypeInfo.Id.Name.getPropertyName()));\n   //After doing the above the read then worked ...\n   ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n   mapper.readValue(file, *ExpectedClass*.class);\n   ...\n}\n</code></pre>\n"}],"owner":{"account_id":23149437,"reputation":13,"user_id":17251708,"display_name":"TaoGaming"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70946712,"answer_count":1,"score":1,"last_activity_date":1643745145,"creation_date":1641325395,"question_id":70584235,"body_markdown":"I have a YML file for configuration that includes the dropwizard logging, like so:\r\n\r\n    logging:\r\n      level: WARN\r\n      loggers:\r\n        com.&lt;company&gt;.&lt;product&gt;: INFO\r\n      appenders:\r\n        - type: console\r\n    (etc)\r\n\r\nI have a simple class to read the YAML file and a class like:\r\n\r\n\r\n    public class MyConfiguration {\r\n    \r\n        private CommonLoggingFactory loggingFactory;\r\n    \r\n        public MyConfiguration() {\r\n    \r\n        }\r\n    \r\n        public MyConfiguration(CommonLoggingFactory loggingFactory) {\r\n            this.loggingFactory = loggingFactory;\r\n        }\r\n    \r\n        @JsonProperty(&quot;logging&quot;)\r\n        public CommonLoggingFactory getLoggingFactory() {\r\n            return loggingFactory;\r\n        }\r\n    \r\n        @JsonProperty(&quot;logging&quot;)\r\n        public void setLoggingFactory(CommonLoggingFactory loggingFactory) {\r\n            this.loggingFactory = loggingFactory;\r\n        }\r\n    }\r\n\r\nwith my new logging factory class being...\r\n\r\n    @JsonTypeName(&quot;logging&quot;)\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;, defaultImpl = CommonLoggingFactory.class)\r\n    public class CommonLoggingFactory extends DefaultLoggingFactory {\r\n    \r\n        //TODO Any changes\r\n    }\r\n\r\nWhere DefaultLoggingFactory is io.dropwizard.logging.DefaultLoggingFactory\r\n\r\nSo, it appears that the deserializer (jackson) can find the DefaultLoggingFactory, but then doesn&#39;t continue to follow the chain to appenders.\r\n\r\n    Could not resolve type id &#39;console&#39; as a subtype of `io.dropwizard.logging.AppenderFactory&lt;ch.qos.logback.classic.spi.ILoggingEvent&gt;`: known type ids = [] (for POJO property &#39;appenders&#39;)\r\n     at [Source: (File); line: 80, column: 1] (through reference chain: com.&lt;my company&gt;.MyConfiguration[&quot;logging&quot;]-&gt;com.&lt;mycompany&gt;.CommonLoggingFactory[&quot;appenders&quot;]-&gt;java.util.ArrayList[0])\r\n\r\nI would have thought that it would be automatically picked up. I&#39;ve tried a few things like https://stackoverflow.com/questions/38380412/how-to-configure-jackson-to-deserialize-named-types-with-default-typing/38417267#38417267 by telling the object mapper to map &quot;console&quot; to ConsoleAppenderFactory.class, but no joy.\r\n\r\nAny thoughts? \r\n\r\n\r\n\r\n","title":"Why does Dropwizard deserialization not find an appender when I simply extend the default logger?","body":"<p>I have a YML file for configuration that includes the dropwizard logging, like so:</p>\n<pre><code>logging:\n  level: WARN\n  loggers:\n    com.&lt;company&gt;.&lt;product&gt;: INFO\n  appenders:\n    - type: console\n(etc)\n</code></pre>\n<p>I have a simple class to read the YAML file and a class like:</p>\n<pre><code>public class MyConfiguration {\n\n    private CommonLoggingFactory loggingFactory;\n\n    public MyConfiguration() {\n\n    }\n\n    public MyConfiguration(CommonLoggingFactory loggingFactory) {\n        this.loggingFactory = loggingFactory;\n    }\n\n    @JsonProperty(&quot;logging&quot;)\n    public CommonLoggingFactory getLoggingFactory() {\n        return loggingFactory;\n    }\n\n    @JsonProperty(&quot;logging&quot;)\n    public void setLoggingFactory(CommonLoggingFactory loggingFactory) {\n        this.loggingFactory = loggingFactory;\n    }\n}\n</code></pre>\n<p>with my new logging factory class being...</p>\n<pre><code>@JsonTypeName(&quot;logging&quot;)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;, defaultImpl = CommonLoggingFactory.class)\npublic class CommonLoggingFactory extends DefaultLoggingFactory {\n\n    //TODO Any changes\n}\n</code></pre>\n<p>Where DefaultLoggingFactory is io.dropwizard.logging.DefaultLoggingFactory</p>\n<p>So, it appears that the deserializer (jackson) can find the DefaultLoggingFactory, but then doesn't continue to follow the chain to appenders.</p>\n<pre><code>Could not resolve type id 'console' as a subtype of `io.dropwizard.logging.AppenderFactory&lt;ch.qos.logback.classic.spi.ILoggingEvent&gt;`: known type ids = [] (for POJO property 'appenders')\n at [Source: (File); line: 80, column: 1] (through reference chain: com.&lt;my company&gt;.MyConfiguration[&quot;logging&quot;]-&gt;com.&lt;mycompany&gt;.CommonLoggingFactory[&quot;appenders&quot;]-&gt;java.util.ArrayList[0])\n</code></pre>\n<p>I would have thought that it would be automatically picked up. I've tried a few things like <a href=\"https://stackoverflow.com/questions/38380412/how-to-configure-jackson-to-deserialize-named-types-with-default-typing/38417267#38417267\">How to configure Jackson to deserialize named types with default typing?</a> by telling the object mapper to map &quot;console&quot; to ConsoleAppenderFactory.class, but no joy.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","apache-camel","camel-spring-dsl"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643745129,"creation_date":1643744635,"answer_id":70946603,"question_id":70945564,"body_markdown":"So I have to refer the ExecutorService and create an object of it and put it to the registry:\r\n\r\n      ThreadPoolProfileBuilder builder = new ThreadPoolProfileBuilder(&quot;only5threads&quot;);\r\n            ThreadPoolProfile threadPoolProfile = builder.poolSize(5).maxPoolSize(5).maxQueueSize(-1).build();\r\n            DefaultExecutorServiceManager defaultExecutorServiceManager = new DefaultExecutorServiceManager(camelContext);\r\n            defaultExecutorServiceManager.setDefaultThreadPoolProfile(threadPoolProfile);\r\n            ExecutorService executorService = defaultExecutorServiceManager.newDefaultScheduledThreadPool(&quot;only5threads&quot;,&quot;only5threads&quot;);\r\n\r\nadding it to registry\r\n\r\n     final org.apache.camel.impl.SimpleRegistry customRegistry = new \r\n    org.apache.camel.impl.SimpleRegistry(); customRegistry.put(&quot;only5threads&quot;, only5threads);\r\n\r\ncalling them in route&#39;s XML\r\n\r\n    &lt;split parallelProcessing=&quot;true&quot; executorServiceRef=&quot;only5threads&quot;&gt;\r\n        \r\n\r\n","title":"How to prepare an Executor service for Apache Camel route&#39;s Split, org.apache.camel.spi.ThreadPoolProfile vs java.util.concurrent.ExecutorService","body":"<p>So I have to refer the ExecutorService and create an object of it and put it to the registry:</p>\n<pre><code>  ThreadPoolProfileBuilder builder = new ThreadPoolProfileBuilder(&quot;only5threads&quot;);\n        ThreadPoolProfile threadPoolProfile = builder.poolSize(5).maxPoolSize(5).maxQueueSize(-1).build();\n        DefaultExecutorServiceManager defaultExecutorServiceManager = new DefaultExecutorServiceManager(camelContext);\n        defaultExecutorServiceManager.setDefaultThreadPoolProfile(threadPoolProfile);\n        ExecutorService executorService = defaultExecutorServiceManager.newDefaultScheduledThreadPool(&quot;only5threads&quot;,&quot;only5threads&quot;);\n</code></pre>\n<p>adding it to registry</p>\n<pre><code> final org.apache.camel.impl.SimpleRegistry customRegistry = new \norg.apache.camel.impl.SimpleRegistry(); customRegistry.put(&quot;only5threads&quot;, only5threads);\n</code></pre>\n<p>calling them in route's XML</p>\n<pre><code>&lt;split parallelProcessing=&quot;true&quot; executorServiceRef=&quot;only5threads&quot;&gt;\n    \n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1995,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70946603,"answer_count":1,"score":2,"last_activity_date":1643745129,"creation_date":1643739559,"question_id":70945564,"body_markdown":"In the multithreading guide of Apache Camel there is an example on ThreadPoolProfile usage as a parameter for executorServiceRef (https://camel.apache.org/manual/threading-model.html):\r\n\r\n    &lt;threadPoolProfile xmlns=&quot;http://camel.apache.org/schema/spring&quot; id=&quot;fooProfile&quot;\r\n                           poolSize=&quot;20&quot; maxPoolSize=&quot;50&quot; maxQueueSize=&quot;-1&quot;/&gt;\r\n    &lt;route&gt;\r\n           &lt;multicast strategyRef=&quot;myStrategy&quot; executorServiceRef=&quot;fooProfile&quot;&gt;\r\n              ...\r\n           &lt;/multicast&gt;\r\n        &lt;/route&gt;\r\n\r\nI was expecting the same approach for the routes using split, as it has executorServiceRef attribute too.\r\n\r\nSo, I prepare ang register the bean in the registry:\r\n\r\n\r\n        ThreadPoolProfileBuilder builder = new ThreadPoolProfileBuilder(&quot;only5threads&quot;);\r\n        ThreadPoolProfile only5threads = builder.poolSize(5).maxPoolSize(5).maxQueueSize(-1).build();\r\n        final org.apache.camel.impl.SimpleRegistry customRegistry = new org.apache.camel.impl.SimpleRegistry();\r\n        customRegistry.put(&quot;only5threads&quot;, only5threads);\r\n\r\nthen I refer the executor service the same way in my split:\r\n\r\n        &lt;split parallelProcessing=&quot;true&quot; executorServiceRef=&quot;only5threads&quot;&gt;\r\n          ....\r\n\r\nBut surprisingly, it expects another Object type:\r\n\r\n    Caused by: java.lang.ClassCastException: Cannot cast org.apache.camel.spi.ThreadPoolProfile to java.util.concurrent.ExecutorService\r\n    \tat java.base/java.lang.Class.cast(Class.java:3611)\r\n    \tat org.apache.camel.impl.SimpleRegistry.lookupByNameAndType(SimpleRegistry.java:47)\r\n    \t... 50 common frames omitted\r\n\r\nSo, what I should pass as an executor service and how to produce it from ThreadPoolProfile if it is not accepted here. There are no any examples of custom Thread Pool Profile for `split`. ","title":"How to prepare an Executor service for Apache Camel route&#39;s Split, org.apache.camel.spi.ThreadPoolProfile vs java.util.concurrent.ExecutorService","body":"<p>In the multithreading guide of Apache Camel there is an example on ThreadPoolProfile usage as a parameter for executorServiceRef (<a href=\"https://camel.apache.org/manual/threading-model.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/threading-model.html</a>):</p>\n<pre><code>&lt;threadPoolProfile xmlns=&quot;http://camel.apache.org/schema/spring&quot; id=&quot;fooProfile&quot;\n                       poolSize=&quot;20&quot; maxPoolSize=&quot;50&quot; maxQueueSize=&quot;-1&quot;/&gt;\n&lt;route&gt;\n       &lt;multicast strategyRef=&quot;myStrategy&quot; executorServiceRef=&quot;fooProfile&quot;&gt;\n          ...\n       &lt;/multicast&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>I was expecting the same approach for the routes using split, as it has executorServiceRef attribute too.</p>\n<p>So, I prepare ang register the bean in the registry:</p>\n<pre><code>    ThreadPoolProfileBuilder builder = new ThreadPoolProfileBuilder(&quot;only5threads&quot;);\n    ThreadPoolProfile only5threads = builder.poolSize(5).maxPoolSize(5).maxQueueSize(-1).build();\n    final org.apache.camel.impl.SimpleRegistry customRegistry = new org.apache.camel.impl.SimpleRegistry();\n    customRegistry.put(&quot;only5threads&quot;, only5threads);\n</code></pre>\n<p>then I refer the executor service the same way in my split:</p>\n<pre><code>    &lt;split parallelProcessing=&quot;true&quot; executorServiceRef=&quot;only5threads&quot;&gt;\n      ....\n</code></pre>\n<p>But surprisingly, it expects another Object type:</p>\n<pre><code>Caused by: java.lang.ClassCastException: Cannot cast org.apache.camel.spi.ThreadPoolProfile to java.util.concurrent.ExecutorService\n    at java.base/java.lang.Class.cast(Class.java:3611)\n    at org.apache.camel.impl.SimpleRegistry.lookupByNameAndType(SimpleRegistry.java:47)\n    ... 50 common frames omitted\n</code></pre>\n<p>So, what I should pass as an executor service and how to produce it from ThreadPoolProfile if it is not accepted here. There are no any examples of custom Thread Pool Profile for <code>split</code>.</p>\n"},{"tags":["java","xml","xstream"],"answers":[{"tags":[],"owner":{"account_id":1081514,"reputation":3747,"user_id":1078390,"accept_rate":100,"display_name":"Martin Serrano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1351212977,"creation_date":1351212977,"answer_id":13079418,"question_id":13079000,"body_markdown":"I do not believe you can do this with simple aliases.  But you can do it with a custom serializer like below.  The xstream doc has a good [converter tutorial](http://xstream.codehaus.org/converter-tutorial.html) which includes details on how to register a custom converter.\r\n\r\n    public class Nodo {\r\n      String id;\r\n      ArrayList&lt;Nodo&gt; children = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    public class NodoConverter implements Converter {\r\n    \r\n    \r\n      /** {@inheritDoc} */\r\n      @Override\r\n      public boolean canConvert(Class arg0) {\r\n        return arg0.equals(Nodo.class);\r\n      }\r\n    \r\n      /** {@inheritDoc} */\r\n      @Override\r\n      public void marshal(Object arg0, HierarchicalStreamWriter writer, MarshallingContext arg2) {\r\n        marshal((Nodo) arg0, writer, arg2, &quot;nodo&quot;);\r\n      }\r\n    \r\n      private void marshal(Nodo nodo, HierarchicalStreamWriter writer, MarshallingContext ctx, String elname) {\r\n        writer.addAttribute(&quot;id&quot;, nodo.getId());\r\n        for (Nodo child : nodo.children) {\r\n          writer.startNode(&quot;child&quot;);\r\n          ctx.convertAnother(child);\r\n          writer.endNode();\r\n        }\r\n      }\r\n    \r\n      /** {@inheritDoc} */\r\n      @Override\r\n      public Object unmarshal(HierarchicalStreamReader reader, UnmarshallingContext ctx) {\r\n        Nodo nodo = new Nodo();\r\n        nodo.setId(reader.getAttribute(&quot;id&quot;));\r\n        while (reader.hasMoreChildren()) {\r\n          reader.moveDown();\r\n          Nodo child = (Nodo) ctx.convertAnother(nodo, Nodo.class);\r\n          nodo.children.add(child);\r\n          reader.moveUp();\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\n\r\n  [1]: http://xstream.codehaus.org/converter-tutorial.html &quot;converter tutorial&quot;","title":"in Java Xstream how to change alias inside an object?","body":"<p>I do not believe you can do this with simple aliases.  But you can do it with a custom serializer like below.  The xstream doc has a good <a href=\"http://xstream.codehaus.org/converter-tutorial.html\" rel=\"nofollow\">converter tutorial</a> which includes details on how to register a custom converter.</p>\n\n<pre><code>public class Nodo {\n  String id;\n  ArrayList&lt;Nodo&gt; children = new ArrayList&lt;&gt;();\n}\n\npublic class NodoConverter implements Converter {\n\n\n  /** {@inheritDoc} */\n  @Override\n  public boolean canConvert(Class arg0) {\n    return arg0.equals(Nodo.class);\n  }\n\n  /** {@inheritDoc} */\n  @Override\n  public void marshal(Object arg0, HierarchicalStreamWriter writer, MarshallingContext arg2) {\n    marshal((Nodo) arg0, writer, arg2, \"nodo\");\n  }\n\n  private void marshal(Nodo nodo, HierarchicalStreamWriter writer, MarshallingContext ctx, String elname) {\n    writer.addAttribute(\"id\", nodo.getId());\n    for (Nodo child : nodo.children) {\n      writer.startNode(\"child\");\n      ctx.convertAnother(child);\n      writer.endNode();\n    }\n  }\n\n  /** {@inheritDoc} */\n  @Override\n  public Object unmarshal(HierarchicalStreamReader reader, UnmarshallingContext ctx) {\n    Nodo nodo = new Nodo();\n    nodo.setId(reader.getAttribute(\"id\"));\n    while (reader.hasMoreChildren()) {\n      reader.moveDown();\n      Nodo child = (Nodo) ctx.convertAnother(nodo, Nodo.class);\n      nodo.children.add(child);\n      reader.moveUp();\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1519853,"reputation":15,"user_id":1419826,"display_name":"Pedro Joaquin Rodriguez Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13079418,"answer_count":1,"score":1,"last_activity_date":1643744703,"creation_date":1351209172,"question_id":13079000,"body_markdown":"I&#39;m serializing a very simple graph into an XML using xStream, I have this output which is pretty close from what I want:\r\n\r\n    &lt;grafo&gt;\r\n      &lt;nodo id=&quot;1&quot;&gt;\r\n       &lt;nodo id=&quot;2&quot;/&gt;\r\n      &lt;/nodo&gt;\r\n      &lt;nodo id=&quot;2&quot;&gt;\r\n        &lt;nodo id=&quot;3&quot;/&gt;\r\n        &lt;nodo id=&quot;4&quot;/&gt;\r\n      &lt;/nodo&gt;\r\n      &lt;nodo id=&quot;3&quot;&gt;\r\n        &lt;nodo id=&quot;5&quot;/&gt;\r\n      &lt;/nodo&gt;\r\n      &lt;nodo id=&quot;4&quot;&gt;\r\n        &lt;nodo id=&quot;6&quot;/&gt;\r\n      &lt;/nodo&gt;\r\n     &lt;/grafo&gt;\r\n\r\nBut I need in the output that every node inside another node (an edge) to appear with the alias &quot;child&quot; and not with &quot;nodo&quot;.","title":"in Java Xstream how to change alias inside an object?","body":"<p>I'm serializing a very simple graph into an XML using xStream, I have this output which is pretty close from what I want:</p>\n<pre><code>&lt;grafo&gt;\n  &lt;nodo id=&quot;1&quot;&gt;\n   &lt;nodo id=&quot;2&quot;/&gt;\n  &lt;/nodo&gt;\n  &lt;nodo id=&quot;2&quot;&gt;\n    &lt;nodo id=&quot;3&quot;/&gt;\n    &lt;nodo id=&quot;4&quot;/&gt;\n  &lt;/nodo&gt;\n  &lt;nodo id=&quot;3&quot;&gt;\n    &lt;nodo id=&quot;5&quot;/&gt;\n  &lt;/nodo&gt;\n  &lt;nodo id=&quot;4&quot;&gt;\n    &lt;nodo id=&quot;6&quot;/&gt;\n  &lt;/nodo&gt;\n &lt;/grafo&gt;\n</code></pre>\n<p>But I need in the output that every node inside another node (an edge) to appear with the alias &quot;child&quot; and not with &quot;nodo&quot;.</p>\n"},{"tags":["java","spring","spring-mvc","autowired"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1643722404,"post_id":70940812,"comment_id":125410798,"body_markdown":"Try to remove `@ConditionalOnProperty` and if it helps then check that `feature.toggles.value` is set correctly.","body":"Try to remove <code>@ConditionalOnProperty</code> and if it helps then check that <code>feature.toggles.value</code> is set correctly."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643744633,"post_id":70940812,"comment_id":125420110,"body_markdown":"Can you please add the `NexnetRestTemplateConfig` class? It seems you are trying to register two times a bean with exactly the same name.","body":"Can you please add the <code>NexnetRestTemplateConfig</code> class? It seems you are trying to register two times a bean with exactly the same name."},{"owner":{"account_id":24121210,"reputation":1,"user_id":18090361,"display_name":"danielABDab"},"score":0,"creation_date":1643791634,"post_id":70940812,"comment_id":125430167,"body_markdown":"I make some changes after I reading what @talex wrote, first I found that in the controller, \n\n&gt; private MBdevOrderApiDataService mBdevOrderApiDataService;\n\n I was using the implementation not the service. The service didn&#180;t have the anotation \n\n&gt; @   Service.\n\nAnd finally \n\n&gt; @   ConditionalOnProperty\n\n had and incorrect value.\nI change it all and it show a different error that said that, because OAuth2RestTemplate was the same name of method even if the Bean name was diferente that caused and error, after I change the project finally starts.  \nThanks for all your help","body":"I make some changes after I reading what @talex wrote, first I found that in the controller,   &gt; private MBdevOrderApiDataService mBdevOrderApiDataService;   I was using the implementation not the service. The service didn&#180;t have the anotation   &gt; @   Service.  And finally   &gt; @   ConditionalOnProperty   had and incorrect value. I change it all and it show a different error that said that, because OAuth2RestTemplate was the same name of method even if the Bean name was diferente that caused and error, after I change the project finally starts.   Thanks for all your help"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1643834049,"post_id":70940812,"comment_id":125447668,"body_markdown":"Either add the solution as an answer and accept it or simply delete the question. Thanks!","body":"Either add the solution as an answer and accept it or simply delete the question. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11639846,"reputation":189,"user_id":8524713,"display_name":"bhaskarkh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643723326,"creation_date":1643722302,"answer_id":70941389,"question_id":70940812,"body_markdown":"you don&#39;t need to pass OAuth2RestTemplate  in constructor parameter just use `@Autowired` and `@Qualifier` like below and use restTemplate wherever you required. **Autowired** will automatically inject OAuth2RestTemplate  value you don&#39;t required to set it explicitly on constructor.\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;oAuth2RestTemplateMbDev&quot;)\r\n    private OAuth2RestTemplate restTemplate\r\n\r\nSo your code look like this \r\n\r\n    @Slf4j\r\n    @Service\r\n    @ConditionalOnProperty(name = &quot;feature.toggles.value&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\n    public class MBdevOrderApiDataService implements OrderItemApiData {\r\n    \r\n        private URI resource;\r\n        @Autowired\r\n        @Qualifier(&quot;oAuth2RestTemplateMbDev&quot;)\r\n        private OAuth2RestTemplate restTemplate\r\n    \r\n       \r\n        public MBdevOrderApiDataService(@Value(&quot;endpoints.value.endpoint&quot;) String resource) {\r\n            this.resource = URI.create(resource);\r\n            \r\n        }\r\n    \r\n        @Override\r\n        public ListOrderItemApiDataDto getApiListData(String date, String productId, List&lt;String&gt; applicationStatus, String applicationId, String billingMetric, Boolean includeNonBillable) {\r\n    \r\n            ListOrderItemApiDataDto list = restTemplate.getForObject(resource, ListOrderItemApiDataDto.class);\r\n            log.info(&quot;Data list&quot;);\r\n            return null;\r\n        }\r\n    \r\n    }","title":"Qualifier for Bean dont found name in @Service constructor","body":"<p>you don't need to pass OAuth2RestTemplate  in constructor parameter just use <code>@Autowired</code> and <code>@Qualifier</code> like below and use restTemplate wherever you required. <strong>Autowired</strong> will automatically inject OAuth2RestTemplate  value you don't required to set it explicitly on constructor.</p>\n<pre><code>@Autowired\n@Qualifier(&quot;oAuth2RestTemplateMbDev&quot;)\nprivate OAuth2RestTemplate restTemplate\n</code></pre>\n<p>So your code look like this</p>\n<pre><code>@Slf4j\n@Service\n@ConditionalOnProperty(name = &quot;feature.toggles.value&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\npublic class MBdevOrderApiDataService implements OrderItemApiData {\n\n    private URI resource;\n    @Autowired\n    @Qualifier(&quot;oAuth2RestTemplateMbDev&quot;)\n    private OAuth2RestTemplate restTemplate\n\n   \n    public MBdevOrderApiDataService(@Value(&quot;endpoints.value.endpoint&quot;) String resource) {\n        this.resource = URI.create(resource);\n        \n    }\n\n    @Override\n    public ListOrderItemApiDataDto getApiListData(String date, String productId, List&lt;String&gt; applicationStatus, String applicationId, String billingMetric, Boolean includeNonBillable) {\n\n        ListOrderItemApiDataDto list = restTemplate.getForObject(resource, ListOrderItemApiDataDto.class);\n        log.info(&quot;Data list&quot;);\n        return null;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24121210,"reputation":1,"user_id":18090361,"display_name":"danielABDab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643744637,"creation_date":1643719499,"question_id":70940812,"body_markdown":"I am trying to call a method to set rest template values using OAuth2RestTemplate, I created a configure file in other part of the project (there is a core part of the project and an application part, no depency between them) that has a bean to OAuth2RestTemplate:\r\n\r\n```java\r\npublic class RestTemplateConfig {\r\n\r\n    @Bean(name = &quot;oAuth2RestTemplateMbDev&quot;)\r\n    public OAuth2RestTemplate oAuth2RestTemplate(MbdevOAuth2Properties resource, Proxy proxy) {\r\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resource);\r\n        ClientHttpRequestFactory requestFactory = getRequestFactory(proxy);\r\n\r\n        restTemplate.setAccessTokenProvider(getAccessTokenProvider(requestFactory));\r\n        restTemplate.setRequestFactory(requestFactory);\r\n        restTemplate.setErrorHandler(new MbdevResponseErrorHandler());\r\n        restTemplate.getInterceptors().add(new MbdevHeadersInterceptor());\r\n\r\n        return restTemplate;\r\n    }\r\n\r\n    @Bean(name = &quot;oAuth2RestTemplate&quot;)\r\n    public OAuth2RestTemplate oAuth2RestTemplate(NexnetOAuth2Properties resource, Proxy proxy) {\r\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resource);\r\n        ClientHttpRequestFactory requestFactory = getRequestFactory(proxy);\r\n\r\n        restTemplate.setAccessTokenProvider(getAccessTokenProvider(requestFactory));\r\n        restTemplate.setRequestFactory(requestFactory);\r\n        restTemplate.setErrorHandler(new NexnetResponseErrorHandler());\r\n        restTemplate.getInterceptors().add(new NexnetHeadersInterceptor());\r\n\r\n        return restTemplate;\r\n    }\r\n}\r\n```\r\n\r\nThis is the one I created it, the other already exist:\r\n```java\r\n@Bean(name = &quot;oAuth2RestTemplateMbDev&quot;)\r\npublic OAuth2RestTemplate oAuth2RestTemplate(MbdevOAuth2Properties resource, Proxy proxy)\r\n```\r\n\r\nSo to be able to use 2 Bean for the same class I assign a name to be called using @Qualifier.\r\n\r\nLike this:\r\n\r\n    @Slf4j\r\n    @Service\r\n    @ConditionalOnProperty(name = &quot;feature.toggles.value&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\n    public class MBdevOrderApiDataService implements OrderItemApiData {\r\n    \r\n        private URI resource;\r\n        private OAuth2RestTemplate restTemplate;\r\n    \r\n        @Autowired\r\n        public MBdevOrderApiDataService(@Value(&quot;endpoints.value.endpoint&quot;) String resource,\r\n                                        @Qualifier(&quot;oAuth2RestTemplateMbDev&quot;) OAuth2RestTemplate restTemplate) {\r\n            this.resource = URI.create(resource);\r\n            this.restTemplate = restTemplate;\r\n        }\r\n    \r\n        @Override\r\n        public ListOrderItemApiDataDto getApiListData(String date, String productId, List&lt;String&gt; applicationStatus, String applicationId, String billingMetric, Boolean includeNonBillable) {\r\n    \r\n            ListOrderItemApiDataDto list = restTemplate.getForObject(resource, ListOrderItemApiDataDto.class);\r\n            log.info(&quot;Data list&quot;);\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nso my problem is that each time i try to launch my system to test if this works this error message appears (check at the end of the post)\r\n\r\nCan someone give me a hand?\r\n\r\n**edit:\r\nthis is how is called in the orderController-&gt;**\r\n\r\n\r\n    private OrderService orderService;\r\n    private PoiOrderService poiOrderService;\r\n    private MBdevOrderApiDataService mBdevOrderApiDataService;\r\n\r\n    @Autowired\r\n    public OrderController(OrderService orderService, PoiOrderService poiOrderService, MBdevOrderApiDataService mBdevOrderApiDataService) {\r\n        this.orderService = orderService;\r\n        this.poiOrderService = poiOrderService;\r\n        this.mBdevOrderApiDataService = mBdevOrderApiDataService;\r\n    }\r\n\r\n    @ApiOperation(value = &quot;Get Data from API MbDev.&quot;)\r\n    @ApiImplicitParams({\r\n            @ApiImplicitParam(name = &quot;requestDate&quot;, dataType = &quot;string&quot;, value = &quot;The search date range from &#39;yyyy-MM&#39;&quot;, defaultValue = &quot;2021-12&quot;, paramType = &quot;query&quot;)})\r\n    @ApiResponses(value = {\r\n            @ApiResponse(code = HttpStatus.SC_OK, message = &quot;The petition to get data API Mbdev proceed correctly&quot;),\r\n            @ApiResponse(code = HttpStatus.SC_BAD_REQUEST, message = &quot;The petition to get data API Mbdev could not be processed.&quot;, response = ExceptionResponse.class),\r\n            @ApiResponse(code = HttpStatus.SC_FORBIDDEN, message = &quot;You don&#39;t have the necessary rights to use this endpoint. Please contact the admin.&quot;),\r\n            @ApiResponse(code = HttpStatus.SC_INTERNAL_SERVER_ERROR, message = &quot;System error.&quot;, response = ExceptionResponse.class)\r\n    }) //&lt;/editor-fold&gt;\r\n\r\n    @PostMapping(path = &quot;/orders/api/mb-dev&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    ResponseEntity&lt;ListOrderItemApiDataDto&gt; getExternalApiDataMbDev(@RequestParam(required = false) String requestDate) {\r\n        List&lt;String&gt; applicationStatus = Arrays.asList(ApplicationStatus.BUSINESS.getValue(), ApplicationStatus.BUSINESS_TESTING.getValue());\r\n        ListOrderItemApiDataDto dto = this.mBdevOrderApiDataService.getApiListData(requestDate,null, applicationStatus,null,null,true);\r\n        return dto != null ? ResponseEntity.ok(dto) : ResponseEntity.notFound().build();\r\n\r\n    }\r\n\r\n\r\n\r\n**edit-&gt; full log:**\r\n\r\n&gt; 2022-02-01 15:51:25.695  WARN 25468 --- [           main]\r\n&gt; ConfigServletWebServerApplicationContext : Exception encountered\r\n&gt; during context initialization - cancelling refresh attempt:\r\n&gt; org.springframework.beans.factory.support.BeanDefinitionOverrideException:\r\n&gt; Invalid bean definition with name &#39;oAuth2RestTemplate&#39; defined in\r\n&gt; class path resource\r\n&gt; [com/tss/pago/application/configuration/RestTemplateConfig.class]:\r\n&gt; Cannot register bean definition [Root bean: class [null]; scope=;\r\n&gt; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0;\r\n&gt; autowireCandidate=true; primary=false;\r\n&gt; factoryBeanName=restTemplateConfig;\r\n&gt; factoryMethodName=oAuth2RestTemplate; initMethodName=null;\r\n&gt; destroyMethodName=(inferred); defined in class path resource\r\n&gt; [com/tss/pago/application/configuration/RestTemplateConfig.class]] for\r\n&gt; bean &#39;oAuth2RestTemplate&#39;: There is already [Root bean: class [null];\r\n&gt; scope=; abstract=false; lazyInit=null; autowireMode=3;\r\n&gt; dependencyCheck=0; autowireCandidate=true; primary=false;\r\n&gt; factoryBeanName=nexnetRestTemplateConfig;\r\n&gt; factoryMethodName=oAuth2RestTemplate; initMethodName=null;\r\n&gt; destroyMethodName=(inferred); defined in class path resource\r\n&gt; [com/tss/pago/application/configuration/NexnetRestTemplateConfig.class]]\r\n&gt; bound. 2022-02-01 15:51:25.709  INFO 25468 --- [           main]\r\n&gt; ConditionEvaluationReportLoggingListener : \r\n&gt; \r\n&gt; \r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; The bean &#39;oAuth2RestTemplate&#39;, defined in class path resource\r\n&gt; [com/tss/pago/application/configuration/RestTemplateConfig.class],\r\n&gt; could not be registered. A bean with that name has already been\r\n&gt; defined in class path resource\r\n&gt; [com/tss/pago/application/configuration/NexnetRestTemplateConfig.class]\r\n&gt; and overriding is disabled.\r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider renaming one of the beans or enabling overriding by setting\r\n&gt; spring.main.allow-bean-definition-overriding=true\r\n&gt; \r\n&gt; \r\n&gt; Process finished with exit code 1","title":"Qualifier for Bean dont found name in @Service constructor","body":"<p>I am trying to call a method to set rest template values using OAuth2RestTemplate, I created a configure file in other part of the project (there is a core part of the project and an application part, no depency between them) that has a bean to OAuth2RestTemplate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RestTemplateConfig {\n\n    @Bean(name = &quot;oAuth2RestTemplateMbDev&quot;)\n    public OAuth2RestTemplate oAuth2RestTemplate(MbdevOAuth2Properties resource, Proxy proxy) {\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resource);\n        ClientHttpRequestFactory requestFactory = getRequestFactory(proxy);\n\n        restTemplate.setAccessTokenProvider(getAccessTokenProvider(requestFactory));\n        restTemplate.setRequestFactory(requestFactory);\n        restTemplate.setErrorHandler(new MbdevResponseErrorHandler());\n        restTemplate.getInterceptors().add(new MbdevHeadersInterceptor());\n\n        return restTemplate;\n    }\n\n    @Bean(name = &quot;oAuth2RestTemplate&quot;)\n    public OAuth2RestTemplate oAuth2RestTemplate(NexnetOAuth2Properties resource, Proxy proxy) {\n        OAuth2RestTemplate restTemplate = new OAuth2RestTemplate(resource);\n        ClientHttpRequestFactory requestFactory = getRequestFactory(proxy);\n\n        restTemplate.setAccessTokenProvider(getAccessTokenProvider(requestFactory));\n        restTemplate.setRequestFactory(requestFactory);\n        restTemplate.setErrorHandler(new NexnetResponseErrorHandler());\n        restTemplate.getInterceptors().add(new NexnetHeadersInterceptor());\n\n        return restTemplate;\n    }\n}\n</code></pre>\n<p>This is the one I created it, the other already exist:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;oAuth2RestTemplateMbDev&quot;)\npublic OAuth2RestTemplate oAuth2RestTemplate(MbdevOAuth2Properties resource, Proxy proxy)\n</code></pre>\n<p>So to be able to use 2 Bean for the same class I assign a name to be called using @Qualifier.</p>\n<p>Like this:</p>\n<pre><code>@Slf4j\n@Service\n@ConditionalOnProperty(name = &quot;feature.toggles.value&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\npublic class MBdevOrderApiDataService implements OrderItemApiData {\n\n    private URI resource;\n    private OAuth2RestTemplate restTemplate;\n\n    @Autowired\n    public MBdevOrderApiDataService(@Value(&quot;endpoints.value.endpoint&quot;) String resource,\n                                    @Qualifier(&quot;oAuth2RestTemplateMbDev&quot;) OAuth2RestTemplate restTemplate) {\n        this.resource = URI.create(resource);\n        this.restTemplate = restTemplate;\n    }\n\n    @Override\n    public ListOrderItemApiDataDto getApiListData(String date, String productId, List&lt;String&gt; applicationStatus, String applicationId, String billingMetric, Boolean includeNonBillable) {\n\n        ListOrderItemApiDataDto list = restTemplate.getForObject(resource, ListOrderItemApiDataDto.class);\n        log.info(&quot;Data list&quot;);\n        return null;\n    }\n\n}\n</code></pre>\n<p>so my problem is that each time i try to launch my system to test if this works this error message appears (check at the end of the post)</p>\n<p>Can someone give me a hand?</p>\n<p><strong>edit:\nthis is how is called in the orderController-&gt;</strong></p>\n<pre><code>private OrderService orderService;\nprivate PoiOrderService poiOrderService;\nprivate MBdevOrderApiDataService mBdevOrderApiDataService;\n\n@Autowired\npublic OrderController(OrderService orderService, PoiOrderService poiOrderService, MBdevOrderApiDataService mBdevOrderApiDataService) {\n    this.orderService = orderService;\n    this.poiOrderService = poiOrderService;\n    this.mBdevOrderApiDataService = mBdevOrderApiDataService;\n}\n\n@ApiOperation(value = &quot;Get Data from API MbDev.&quot;)\n@ApiImplicitParams({\n        @ApiImplicitParam(name = &quot;requestDate&quot;, dataType = &quot;string&quot;, value = &quot;The search date range from 'yyyy-MM'&quot;, defaultValue = &quot;2021-12&quot;, paramType = &quot;query&quot;)})\n@ApiResponses(value = {\n        @ApiResponse(code = HttpStatus.SC_OK, message = &quot;The petition to get data API Mbdev proceed correctly&quot;),\n        @ApiResponse(code = HttpStatus.SC_BAD_REQUEST, message = &quot;The petition to get data API Mbdev could not be processed.&quot;, response = ExceptionResponse.class),\n        @ApiResponse(code = HttpStatus.SC_FORBIDDEN, message = &quot;You don't have the necessary rights to use this endpoint. Please contact the admin.&quot;),\n        @ApiResponse(code = HttpStatus.SC_INTERNAL_SERVER_ERROR, message = &quot;System error.&quot;, response = ExceptionResponse.class)\n}) //&lt;/editor-fold&gt;\n\n@PostMapping(path = &quot;/orders/api/mb-dev&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\nResponseEntity&lt;ListOrderItemApiDataDto&gt; getExternalApiDataMbDev(@RequestParam(required = false) String requestDate) {\n    List&lt;String&gt; applicationStatus = Arrays.asList(ApplicationStatus.BUSINESS.getValue(), ApplicationStatus.BUSINESS_TESTING.getValue());\n    ListOrderItemApiDataDto dto = this.mBdevOrderApiDataService.getApiListData(requestDate,null, applicationStatus,null,null,true);\n    return dto != null ? ResponseEntity.ok(dto) : ResponseEntity.notFound().build();\n\n}\n</code></pre>\n<p><strong>edit-&gt; full log:</strong></p>\n<blockquote>\n<p>2022-02-01 15:51:25.695  WARN 25468 --- [           main]\nConfigServletWebServerApplicationContext : Exception encountered\nduring context initialization - cancelling refresh attempt:\norg.springframework.beans.factory.support.BeanDefinitionOverrideException:\nInvalid bean definition with name 'oAuth2RestTemplate' defined in\nclass path resource\n[com/tss/pago/application/configuration/RestTemplateConfig.class]:\nCannot register bean definition [Root bean: class [null]; scope=;\nabstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0;\nautowireCandidate=true; primary=false;\nfactoryBeanName=restTemplateConfig;\nfactoryMethodName=oAuth2RestTemplate; initMethodName=null;\ndestroyMethodName=(inferred); defined in class path resource\n[com/tss/pago/application/configuration/RestTemplateConfig.class]] for\nbean 'oAuth2RestTemplate': There is already [Root bean: class [null];\nscope=; abstract=false; lazyInit=null; autowireMode=3;\ndependencyCheck=0; autowireCandidate=true; primary=false;\nfactoryBeanName=nexnetRestTemplateConfig;\nfactoryMethodName=oAuth2RestTemplate; initMethodName=null;\ndestroyMethodName=(inferred); defined in class path resource\n[com/tss/pago/application/configuration/NexnetRestTemplateConfig.class]]\nbound. 2022-02-01 15:51:25.709  INFO 25468 --- [           main]\nConditionEvaluationReportLoggingListener :</p>\n<p>*************************** APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>The bean 'oAuth2RestTemplate', defined in class path resource\n[com/tss/pago/application/configuration/RestTemplateConfig.class],\ncould not be registered. A bean with that name has already been\ndefined in class path resource\n[com/tss/pago/application/configuration/NexnetRestTemplateConfig.class]\nand overriding is disabled.</p>\n<p>Action:</p>\n<p>Consider renaming one of the beans or enabling overriding by setting\nspring.main.allow-bean-definition-overriding=true</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10912397,"reputation":61,"user_id":8021357,"display_name":"Stefanos Karakasis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642999836,"creation_date":1642999836,"answer_id":70829145,"question_id":70829082,"body_markdown":"The problem is the way that you try to execute this program.\r\nThe compiler is trying to find the path-package `Java/School` and inside it the class `Compound_Interest`.\r\n\r\nSo if you want to run only the file you could remove `package Java.School;` and then run it with:\r\n1. `javac Compound_Interest.java`\r\n2. `java Compound_Interest`\r\n\r\n\r\n*Also while we are on this topic you should check out how to run java as a project.*\r\n\r\nI hope I helped.","title":"How to solve &quot;Build Failed&quot; error in Java Code runner in VS Code","body":"<p>The problem is the way that you try to execute this program.\nThe compiler is trying to find the path-package <code>Java/School</code> and inside it the class <code>Compound_Interest</code>.</p>\n<p>So if you want to run only the file you could remove <code>package Java.School;</code> and then run it with:</p>\n<ol>\n<li><code>javac Compound_Interest.java</code></li>\n<li><code>java Compound_Interest</code></li>\n</ol>\n<p><em>Also while we are on this topic you should check out how to run java as a project.</em></p>\n<p>I hope I helped.</p>\n"},{"tags":[],"owner":{"account_id":4100117,"reputation":1091,"user_id":3365886,"accept_rate":75,"display_name":"Garet Jax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643744411,"creation_date":1643744411,"answer_id":70946559,"question_id":70829082,"body_markdown":"My guess is that your package being camel case is the problem.  Java.School vs java.school\r\n\r\nI also think this is OS dependent since Java != java in some OSes (Linux), but is OK in others (Windows).  It wouldn&#39;t surprise me if the IDE is creating java/school as the directory which works until the IDE reboots and/or the OS reboots.\r\n\r\nTry changing the package name to all lower case.","title":"How to solve &quot;Build Failed&quot; error in Java Code runner in VS Code","body":"<p>My guess is that your package being camel case is the problem.  Java.School vs java.school</p>\n<p>I also think this is OS dependent since Java != java in some OSes (Linux), but is OK in others (Windows).  It wouldn't surprise me if the IDE is creating java/school as the directory which works until the IDE reboots and/or the OS reboots.</p>\n<p>Try changing the package name to all lower case.</p>\n"}],"owner":{"account_id":24033203,"reputation":1,"user_id":18013779,"display_name":"Challenged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643744411,"creation_date":1642999248,"question_id":70829082,"body_markdown":"        package Java.School;\r\n    \r\n    public class Compound_Interest {\r\n        public static void main(String[] args){\r\n            double principal = 100;\r\n            System.out.println(&quot;The principal is &quot; + principal);\r\n            double rate = 8;\r\n            System.out.println(&quot;The rate of interest p.a. is &quot; + rate + &quot;%&quot;);\r\n            double time = 2;\r\n            System.out.println(&quot;The time for which the principal has been deposited is &quot; + time + &quot; years&quot;);\r\n            double CI = principal*Math.pow(1 + rate/100, time);\r\n            System.out.println(&quot;The compound interest received is &quot; + CI);\r\n        }\r\n    }\r\n\r\n\r\n\r\nSo this is my code. But when I am running it, I am getting an error as &quot;Build failed&quot;. \r\nOn clicking on fix, I get those options of clearing caches and all but they don&#39;t work. \r\nOn clicking on Proceed, I get another error - \r\n\r\n&quot;Error: Could not find or load main class Java.School.Compound_Interest    \r\nCaused by: java.lang.ClassNotFoundException: Java.School.Compound_Interest&quot;\r\n\r\n","title":"How to solve &quot;Build Failed&quot; error in Java Code runner in VS Code","body":"<pre><code>    package Java.School;\n\npublic class Compound_Interest {\n    public static void main(String[] args){\n        double principal = 100;\n        System.out.println(&quot;The principal is &quot; + principal);\n        double rate = 8;\n        System.out.println(&quot;The rate of interest p.a. is &quot; + rate + &quot;%&quot;);\n        double time = 2;\n        System.out.println(&quot;The time for which the principal has been deposited is &quot; + time + &quot; years&quot;);\n        double CI = principal*Math.pow(1 + rate/100, time);\n        System.out.println(&quot;The compound interest received is &quot; + CI);\n    }\n}\n</code></pre>\n<p>So this is my code. But when I am running it, I am getting an error as &quot;Build failed&quot;.\nOn clicking on fix, I get those options of clearing caches and all but they don't work.\nOn clicking on Proceed, I get another error -</p>\n<p>&quot;Error: Could not find or load main class Java.School.Compound_Interest<br />\nCaused by: java.lang.ClassNotFoundException: Java.School.Compound_Interest&quot;</p>\n"},{"tags":["java","hibernate","predicate","hibernate-criteria","illegalargumentexception"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643744188,"creation_date":1643744188,"answer_id":70946517,"question_id":70946089,"body_markdown":"The generated query contains the following 3 times:\r\n\r\n    ( generatedAlias0.personId in () in () )\r\n\r\nMy guess is that this is the reason:\r\n\r\n    newPredicate = builder.in(inClause);\r\n\r\n`inClause` is already translated to &quot;in (...)&quot;, so you&#39;re asking the criteria builder to include an `IN` inside an `IN`.\r\n\r\nDoes your code work if you remove that line?\r\n\r\nAnd it&#39;s probably easier to use the `Expression.in` method. Since `from.get(PERSON_ID)` returns an `Expression`, this should work:\r\n\r\n    public Predicate createPredicate(List&lt;Integer&gt; personIds){\r\n        return personIds.isEmpty()\r\n                ? null\r\n                : from.get(PERSON_ID).in(personIds);\r\n    }\r\n","title":"Java Predicates In clause: illegal argument exception?","body":"<p>The generated query contains the following 3 times:</p>\n<pre><code>( generatedAlias0.personId in () in () )\n</code></pre>\n<p>My guess is that this is the reason:</p>\n<pre><code>newPredicate = builder.in(inClause);\n</code></pre>\n<p><code>inClause</code> is already translated to &quot;in (...)&quot;, so you're asking the criteria builder to include an <code>IN</code> inside an <code>IN</code>.</p>\n<p>Does your code work if you remove that line?</p>\n<p>And it's probably easier to use the <code>Expression.in</code> method. Since <code>from.get(PERSON_ID)</code> returns an <code>Expression</code>, this should work:</p>\n<pre><code>public Predicate createPredicate(List&lt;Integer&gt; personIds){\n    return personIds.isEmpty()\n            ? null\n            : from.get(PERSON_ID).in(personIds);\n}\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70946517,"answer_count":1,"score":0,"last_activity_date":1643744188,"creation_date":1643742195,"question_id":70946089,"body_markdown":"I am trying to create a java `predicate` that gets all entities that match a certain Id:\r\n\r\n     public Predicate createPredicate(List&lt;Integer&gt; personIds){\r\n     \r\n     Predicate newPredicate = null;\r\n     if(!personIds.isEmpty()){\r\n          CriteriaBuilder.In&lt;Integer&gt; inClause = builder.in(from.get(PERSON_ID));\r\n          for (Integer personId : personIds) {\r\n            inClause.value(personId);\r\n          }\r\n          newPredicate = builder.in(inClause);\r\n        }\r\n    \r\n        return newPredicate;\r\n      }\r\n\r\nHowever when I try to get the count results from this (see below) I get an `illegal argument exception`.\r\n\r\nWhat is the issue?\r\n\r\n \r\n\r\n    private Long getResultsCount(Predicate predicate) throws ATSException {\r\n    \r\n        CriteriaBuilder countBuilder = entityManager.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Long&gt; countQuery = countBuilder.createQuery(Long.class);\r\n        Root&lt;Person&gt; countFrom = countQuery.from(Person.class);\r\n        countQuery = countQuery.select(countBuilder.count(countFrom));\r\n       \r\n        countQuery.where(predicate);\r\n    \r\n        return entityManager.createQuery(countQuery).getSingleResult();\r\n      }\r\n\r\nError:\r\n\r\n       java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: in near line 1, column 177 [select count(generatedAlias0) from com.model.Person as generatedAlias0 where ( generatedAlias0.status=:param0 ) and ( ( generatedAlias0.personId in () in () ) and ( ( generatedAlias0.personId in () in () ) and ( generatedAlias0.personId in () in () ) ) )]\\r\\n\\tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1374)\\r\\n\\tat \r\n\r\n","title":"Java Predicates In clause: illegal argument exception?","body":"<p>I am trying to create a java <code>predicate</code> that gets all entities that match a certain Id:</p>\n<pre><code> public Predicate createPredicate(List&lt;Integer&gt; personIds){\n \n Predicate newPredicate = null;\n if(!personIds.isEmpty()){\n      CriteriaBuilder.In&lt;Integer&gt; inClause = builder.in(from.get(PERSON_ID));\n      for (Integer personId : personIds) {\n        inClause.value(personId);\n      }\n      newPredicate = builder.in(inClause);\n    }\n\n    return newPredicate;\n  }\n</code></pre>\n<p>However when I try to get the count results from this (see below) I get an <code>illegal argument exception</code>.</p>\n<p>What is the issue?</p>\n<pre><code>private Long getResultsCount(Predicate predicate) throws ATSException {\n\n    CriteriaBuilder countBuilder = entityManager.getCriteriaBuilder();\n    CriteriaQuery&lt;Long&gt; countQuery = countBuilder.createQuery(Long.class);\n    Root&lt;Person&gt; countFrom = countQuery.from(Person.class);\n    countQuery = countQuery.select(countBuilder.count(countFrom));\n   \n    countQuery.where(predicate);\n\n    return entityManager.createQuery(countQuery).getSingleResult();\n  }\n</code></pre>\n<p>Error:</p>\n<pre><code>   java.lang.IllegalArgumentException: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: in near line 1, column 177 [select count(generatedAlias0) from com.model.Person as generatedAlias0 where ( generatedAlias0.status=:param0 ) and ( ( generatedAlias0.personId in () in () ) and ( ( generatedAlias0.personId in () in () ) and ( generatedAlias0.personId in () in () ) ) )]\\r\\n\\tat org.hibernate.ejb.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1374)\\r\\n\\tat \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1643734728,"post_id":70944328,"comment_id":125416377,"body_markdown":"`arr[j].length` is the wrong thing to divide by, anyway. You would be dividing by the length of one of the rows. You need to divide by the number of items in that column, which you need to keep track of while calculating the sum.","body":"<code>arr[j].length</code> is the wrong thing to divide by, anyway. You would be dividing by the length of one of the rows. You need to divide by the number of items in that column, which you need to keep track of while calculating the sum."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643734867,"creation_date":1643734867,"answer_id":70944539,"question_id":70944328,"body_markdown":"Your variable `j` is declared in the inner for loop. Outside of that loop it does not exist. But the way I see it, you don&#39;t want to divide by the length of `arr[j]`, but by the number of numbers you added. That&#39;s `arr.length` minus the number of nested arrays that are too short.\r\n\r\nThe easiest way to fix this is to introduce a new variable that you increment inside your if statement, then divide by that variable instead of by `arr[j].length`.","title":"find average of columns of a 2d jagged array","body":"<p>Your variable <code>j</code> is declared in the inner for loop. Outside of that loop it does not exist. But the way I see it, you don't want to divide by the length of <code>arr[j]</code>, but by the number of numbers you added. That's <code>arr.length</code> minus the number of nested arrays that are too short.</p>\n<p>The easiest way to fix this is to introduce a new variable that you increment inside your if statement, then divide by that variable instead of by <code>arr[j].length</code>.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643744105,"creation_date":1643744105,"answer_id":70946496,"question_id":70944328,"body_markdown":"It might be better to use `row`/`col` names instead of common `i`/`j` to improve code clarity.  Also, a separate counter for the columns is needed to increment only when a column is present in a row to properly calculate the average:\r\n```java\r\nfor (int col = 0; col &lt; maxC; col++) {\r\n    double sum = 0.0;\r\n    int colCount = 0;\r\n    for (int row = 0; row &lt; arr.length; row++) {\r\n        if (col &lt; arr[row].length) {\r\n            sum += arr[row][col];\r\n            colCount++;\r\n        }\r\n    }\r\n    double avg = sum / colCount;\r\n    System.out.println(&quot;Average of col #&quot; + (col + 1) +  &quot; is: &quot; + avg);  \r\n}        \r\n```","title":"find average of columns of a 2d jagged array","body":"<p>It might be better to use <code>row</code>/<code>col</code> names instead of common <code>i</code>/<code>j</code> to improve code clarity.  Also, a separate counter for the columns is needed to increment only when a column is present in a row to properly calculate the average:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int col = 0; col &lt; maxC; col++) {\n    double sum = 0.0;\n    int colCount = 0;\n    for (int row = 0; row &lt; arr.length; row++) {\n        if (col &lt; arr[row].length) {\n            sum += arr[row][col];\n            colCount++;\n        }\n    }\n    double avg = sum / colCount;\n    System.out.println(&quot;Average of col #&quot; + (col + 1) +  &quot; is: &quot; + avg);  \n}        \n</code></pre>\n"}],"owner":{"account_id":24123925,"reputation":3,"user_id":18092587,"display_name":"leoass"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70944539,"answer_count":2,"score":0,"last_activity_date":1643744105,"creation_date":1643734000,"question_id":70944328,"body_markdown":"I am trying to find the averages of columns of a jagged array but I get an error saying that `arr[j].length` when I&#39;m dividing it by the sum, the `j` cannot find symbol. What can I do to fix this problem?\r\n\r\n\r\n    int maxC = arr[0].length;\r\n    for (int a = 1; a &lt; arr.length; a++){\r\n        if (arr[a].length &gt; maxC){\r\n            maxC = arr[a].length;\r\n        }\r\n    }\r\n\r\n    for (int i = 0; i &lt; maxC; i++){\r\n        double sum = 0.0;\r\n        for (int j = 0; j &lt; arr.length; j++){\r\n            if (i &lt; arr[j].length){\r\n                sum += arr[j][i];\r\n            }\r\n        }\r\n        double avg = sum / arr[j].length;\r\n        System.out.println(&quot;Average of col  &quot; + (i + 1) +  &quot;is: &quot; + avg);  \r\n    }\r\n","title":"find average of columns of a 2d jagged array","body":"<p>I am trying to find the averages of columns of a jagged array but I get an error saying that <code>arr[j].length</code> when I'm dividing it by the sum, the <code>j</code> cannot find symbol. What can I do to fix this problem?</p>\n<pre><code>int maxC = arr[0].length;\nfor (int a = 1; a &lt; arr.length; a++){\n    if (arr[a].length &gt; maxC){\n        maxC = arr[a].length;\n    }\n}\n\nfor (int i = 0; i &lt; maxC; i++){\n    double sum = 0.0;\n    for (int j = 0; j &lt; arr.length; j++){\n        if (i &lt; arr[j].length){\n            sum += arr[j][i];\n        }\n    }\n    double avg = sum / arr[j].length;\n    System.out.println(&quot;Average of col  &quot; + (i + 1) +  &quot;is: &quot; + avg);  \n}\n</code></pre>\n"},{"tags":["java","android","plugins","dropbox"],"answers":[{"tags":[],"owner":{"account_id":1370292,"reputation":16504,"user_id":1305693,"display_name":"Greg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643389261,"creation_date":1643389261,"answer_id":70897431,"question_id":70888153,"body_markdown":"First, I think you meant &quot;Android Studio&quot; instead of &quot;Visual Studio&quot;? \r\n\r\nIf so, it sounds like you&#39;re attempting to install [the Dropbox Java SDK][1] as a plugin to Android Studio itself. The Dropbox Java SDK is not an Android Studio plugin though. It is a package for connecting to the Dropbox API from your Java app.\r\n\r\nTo install the Dropbox package in your app, you should use Maven or Gradle, [as instructed here][2].\r\n\r\nThe Dropbox Java SDK also comes with [an example Android app that uses the Dropbox package][3].\r\n\r\n\r\n  [1]: https://github.com/dropbox/dropbox-sdk-java\r\n  [2]: https://github.com/dropbox/dropbox-sdk-java#setup\r\n  [3]: https://github.com/dropbox/dropbox-sdk-java/tree/master/examples/DropboxAndroid","title":"Can&#39;t install Dropbox plugin for Android Studio","body":"<p>First, I think you meant &quot;Android Studio&quot; instead of &quot;Visual Studio&quot;?</p>\n<p>If so, it sounds like you're attempting to install <a href=\"https://github.com/dropbox/dropbox-sdk-java\" rel=\"nofollow noreferrer\">the Dropbox Java SDK</a> as a plugin to Android Studio itself. The Dropbox Java SDK is not an Android Studio plugin though. It is a package for connecting to the Dropbox API from your Java app.</p>\n<p>To install the Dropbox package in your app, you should use Maven or Gradle, <a href=\"https://github.com/dropbox/dropbox-sdk-java#setup\" rel=\"nofollow noreferrer\">as instructed here</a>.</p>\n<p>The Dropbox Java SDK also comes with <a href=\"https://github.com/dropbox/dropbox-sdk-java/tree/master/examples/DropboxAndroid\" rel=\"nofollow noreferrer\">an example Android app that uses the Dropbox package</a>.</p>\n"},{"tags":[],"owner":{"account_id":8806025,"reputation":23,"user_id":6580689,"display_name":"theClaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643743803,"creation_date":1643743803,"answer_id":70946431,"question_id":70888153,"body_markdown":"Thanks, Greg; your answer pointed me in the right direction.  I had already added an &#39;implementation&#39; directive to my Gradle file as per the directions on GitHub.  However, I took the instruction to add the directive by editing my &quot;project&#39;s build.gradle&quot; too literally; I added it to the Project build.gradle file instead of adding it to the Module build.gradle.  Problem solved!","title":"Can&#39;t install Dropbox plugin for Android Studio","body":"<p>Thanks, Greg; your answer pointed me in the right direction.  I had already added an 'implementation' directive to my Gradle file as per the directions on GitHub.  However, I took the instruction to add the directive by editing my &quot;project's build.gradle&quot; too literally; I added it to the Project build.gradle file instead of adding it to the Module build.gradle.  Problem solved!</p>\n"}],"owner":{"account_id":8806025,"reputation":23,"user_id":6580689,"display_name":"theClaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70897431,"answer_count":2,"score":0,"last_activity_date":1643743803,"creation_date":1643336826,"question_id":70888153,"body_markdown":"I&#39;m trying to add the latest (v5.1.1) Dropbox plugin to my Android Studio install (Bumblebee 2021.1.1) on Win10.  I downloaded the .jar file from releases/v5.1.1 folder to an empty folder, then tried to install it using this method: from the Studio main menu I chose Plugins, selected the gear icon followed by Install Plugin From Disk, browsed to the .jar file location, selected it then pressed OK.  I got an error message: &quot;Fail to load plugin from file dropbox-sdk-java-5.1.1.jar&quot;.  I tried installing the -5.1.1-javadoc.jar file using the same method, with the same result.  I don&#39;t need the sources, I just want to use the SDK.  Any ideas?  TIA!\r\n","title":"Can&#39;t install Dropbox plugin for Android Studio","body":"<p>I'm trying to add the latest (v5.1.1) Dropbox plugin to my Android Studio install (Bumblebee 2021.1.1) on Win10.  I downloaded the .jar file from releases/v5.1.1 folder to an empty folder, then tried to install it using this method: from the Studio main menu I chose Plugins, selected the gear icon followed by Install Plugin From Disk, browsed to the .jar file location, selected it then pressed OK.  I got an error message: &quot;Fail to load plugin from file dropbox-sdk-java-5.1.1.jar&quot;.  I tried installing the -5.1.1-javadoc.jar file using the same method, with the same result.  I don't need the sources, I just want to use the SDK.  Any ideas?  TIA!</p>\n"},{"tags":["java","spring","pdf","itext","number-formatting"],"comments":[{"owner":{"account_id":2020690,"reputation":5908,"user_id":1806944,"accept_rate":80,"display_name":"mwhs"},"score":1,"creation_date":1382022146,"post_id":19430250,"comment_id":28806213,"body_markdown":"Did you read this article on Unicode and Character Sets? It will help you better understand your problem! [http://www.joelonsoftware.com/articles/Unicode.html](http://www.joelonsoftware.com/articles/Unicode.html)","body":"Did you read this article on Unicode and Character Sets? It will help you better understand your problem! <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">http://www.joelonsoftware.com/articles/Unicode.html</a>"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1643743594,"post_id":19430250,"comment_id":125419772,"body_markdown":"I think all the answers here including your own solution fail to address the original puzzle: Why is the PDF rendered differenty in the browser and in Reader, when PDF is supposed to look exactly the same under all circumstances? OTOH, that would not be a Java question.","body":"I think all the answers here including your own solution fail to address the original puzzle: Why is the PDF rendered differenty in the browser and in Reader, when PDF is supposed to look exactly the same under all circumstances? OTOH, that would not be a Java question."}],"answers":[{"tags":[],"owner":{"account_id":3325520,"reputation":323,"user_id":2795691,"accept_rate":100,"display_name":"SamCyanide"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382022155,"creation_date":1382022155,"answer_id":19430330,"question_id":19430250,"body_markdown":"You may be using separate encoding. Browsers may be using UTF-8, Whereas adobe reader may be using ANSI or another localization of UTF. (Note these are not necessarily the encoding they use, just an example) so check your preferences, and try again.","title":"Java euro symbol is converted to currency symbol","body":"<p>You may be using separate encoding. Browsers may be using UTF-8, Whereas adobe reader may be using ANSI or another localization of UTF. (Note these are not necessarily the encoding they use, just an example) so check your preferences, and try again.</p>\n"},{"tags":[],"owner":{"account_id":147250,"reputation":1414,"user_id":358238,"display_name":"ozOli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458203373,"creation_date":1458203373,"answer_id":36055143,"question_id":19430250,"body_markdown":"You can use the actual UTF-8 Euro symbol which makes the code more readable. \r\n\r\n      private static final DecimalFormat EURO_FORMAT = new DecimalFormat(&quot;€0.00&quot;);\r\n      private String formatValue (double price){\r\n        return EURO_FORMAT.format(price);\r\n      }\r\n\r\nBut the java.util.NumberFormat is a better choice since you can use the Locale for the correct number format. In France, Germany and the Netherlands the comma is used instead of the decimal point before the cents. But the format for thousands is different. See below for an example:\r\n\r\n    public class NumberFormatLocaleExample {\r\n    \r\n      public static void main(final String[] args) {\r\n        double price = 1249.69;\r\n        System.out.println(formatValueGermany(price));\r\n        System.out.println(formatValueFrance(price));\r\n      }\r\n    \r\n      private static final NumberFormat EURO_FORMAT_GER = NumberFormat.getCurrencyInstance(Locale.GERMAN);\r\n      private static String formatValueGermany(double price){\r\n        return String.format(&quot;€%s&quot;, EURO_FORMAT_GER.format(price));\r\n      }\r\n    \r\n      private static final NumberFormat EURO_FORMAT_FRANCE = NumberFormat.getCurrencyInstance(Locale.FRENCH);\r\n    \r\n      private static String formatValueFrance(double price){\r\n        return String.format(&quot;€%s&quot;, EURO_FORMAT_FRANCE.format(price));\r\n      }\r\n    }","title":"Java euro symbol is converted to currency symbol","body":"<p>You can use the actual UTF-8 Euro symbol which makes the code more readable. </p>\n\n<pre><code>  private static final DecimalFormat EURO_FORMAT = new DecimalFormat(\"€0.00\");\n  private String formatValue (double price){\n    return EURO_FORMAT.format(price);\n  }\n</code></pre>\n\n<p>But the java.util.NumberFormat is a better choice since you can use the Locale for the correct number format. In France, Germany and the Netherlands the comma is used instead of the decimal point before the cents. But the format for thousands is different. See below for an example:</p>\n\n<pre><code>public class NumberFormatLocaleExample {\n\n  public static void main(final String[] args) {\n    double price = 1249.69;\n    System.out.println(formatValueGermany(price));\n    System.out.println(formatValueFrance(price));\n  }\n\n  private static final NumberFormat EURO_FORMAT_GER = NumberFormat.getCurrencyInstance(Locale.GERMAN);\n  private static String formatValueGermany(double price){\n    return String.format(\"€%s\", EURO_FORMAT_GER.format(price));\n  }\n\n  private static final NumberFormat EURO_FORMAT_FRANCE = NumberFormat.getCurrencyInstance(Locale.FRENCH);\n\n  private static String formatValueFrance(double price){\n    return String.format(\"€%s\", EURO_FORMAT_FRANCE.format(price));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":76248,"reputation":3,"user_id":218438,"display_name":"Maik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643743152,"creation_date":1643743152,"answer_id":70946293,"question_id":19430250,"body_markdown":"Problem is the Locale: you are using ITALIAN, correct would be ITALY, because ITALIAN may refer to other countries where they speak Italian, but ITALY means the country with its units including the currency.\r\n\r\n    private String formatValue (double price){\r\n      NumberFormat f = NumberFormat.getCurrencyInstance(Locale.ITALY);\r\n      String value = f.format(new BigDecimal(price));\r\n      return value;\r\n    }\r\n\r\nWould give you the right Euro-symbol. Same is true for GERMAN vs. GERMANY or FRENCH vs. FRANCE btw.","title":"Java euro symbol is converted to currency symbol","body":"<p>Problem is the Locale: you are using ITALIAN, correct would be ITALY, because ITALIAN may refer to other countries where they speak Italian, but ITALY means the country with its units including the currency.</p>\n<pre><code>private String formatValue (double price){\n  NumberFormat f = NumberFormat.getCurrencyInstance(Locale.ITALY);\n  String value = f.format(new BigDecimal(price));\n  return value;\n}\n</code></pre>\n<p>Would give you the right Euro-symbol. Same is true for GERMAN vs. GERMANY or FRENCH vs. FRANCE btw.</p>\n"}],"owner":{"account_id":1251429,"reputation":211,"user_id":1211766,"accept_rate":67,"display_name":"dgiaig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3953,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1643743784,"creation_date":1382021967,"question_id":19430250,"body_markdown":"I&#39;m trying to format a double variable to a price string (example: €59,00) using NumberFormat\r\n\r\nHere is the method I written: \r\n\r\n    private String formatValue (double price){\r\n      NumberFormat f = NumberFormat.getCurrencyInstance(Locale.ITALIAN);\r\n      String value = f.format(new BigDecimal(price));\r\n      return value;\r\n    }\r\n\r\nthen, I write the returned value in a pdf field using iText library.\r\n\r\n    form.setField(&quot;value&quot;, formatValue(price));\r\n\r\nNow, when I open the generated pdf in a browser&#39;s pdf viewer (like chrome or firefox), the field looks like:\r\n€59,00\r\n\r\nbut when I open it in adobe reader, or I try to physically print, it appears like\r\n&#164;59,00.\r\n\r\nIf I open the variable *value* in debug, I see the string formatted as &#164;59,00.\r\n\r\nWhat I&#39;m doing wrong?\r\n\r\n---\r\n\r\nI solved using DecimalFormat instead NumberFormat, and passing the € symbol in utf-8 encode (an input by mwhs [thanks])\r\n\r\n    private String formatValue (double price){\r\n      DecimalFormat formatter = new DecimalFormat(&quot;\\u20ac0.00&quot;);   \r\n      String value = formatter.format(price);\r\n      return value;    \r\n    }","title":"Java euro symbol is converted to currency symbol","body":"<p>I'm trying to format a double variable to a price string (example: €59,00) using NumberFormat</p>\n<p>Here is the method I written:</p>\n<pre><code>private String formatValue (double price){\n  NumberFormat f = NumberFormat.getCurrencyInstance(Locale.ITALIAN);\n  String value = f.format(new BigDecimal(price));\n  return value;\n}\n</code></pre>\n<p>then, I write the returned value in a pdf field using iText library.</p>\n<pre><code>form.setField(&quot;value&quot;, formatValue(price));\n</code></pre>\n<p>Now, when I open the generated pdf in a browser's pdf viewer (like chrome or firefox), the field looks like:\n€59,00</p>\n<p>but when I open it in adobe reader, or I try to physically print, it appears like\n¤59,00.</p>\n<p>If I open the variable <em>value</em> in debug, I see the string formatted as ¤59,00.</p>\n<p>What I'm doing wrong?</p>\n<hr />\n<p>I solved using DecimalFormat instead NumberFormat, and passing the € symbol in utf-8 encode (an input by mwhs [thanks])</p>\n<pre><code>private String formatValue (double price){\n  DecimalFormat formatter = new DecimalFormat(&quot;\\u20ac0.00&quot;);   \n  String value = formatter.format(price);\n  return value;    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"score":0,"creation_date":1643720207,"post_id":70939667,"comment_id":125409922,"body_markdown":"do you know how to set `latitude` and `longitude` to `Point` without mapping - for example with constructor or whatever else?","body":"do you know how to set <code>latitude</code> and <code>longitude</code> to <code>Point</code> without mapping - for example with constructor or whatever else?"},{"owner":{"account_id":24120625,"reputation":13,"user_id":18089861,"display_name":"Alain Bindele"},"score":0,"creation_date":1643722046,"post_id":70939667,"comment_id":125410639,"body_markdown":"I can solve changing the Point coordinates to double latitude and double longitude but I would try to do it with custom mapping","body":"I can solve changing the Point coordinates to double latitude and double longitude but I would try to do it with custom mapping"}],"answers":[{"tags":[],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643723017,"creation_date":1643723017,"answer_id":70941583,"question_id":70939667,"body_markdown":"I did not get deep into `org.locationtech.jts.geom.Point` class, but I hope it will help. Assume `Point.java` looks like:\r\n```\r\npublic class Point {\r\n    private Double latitude;\r\n    private Double longitude;\r\n\r\n    // constructors and getters/setters present here\r\n}\r\n```\r\n\r\nIn this case mapper will look like:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface THotelMapper {\r\n\r\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\r\n    @Mapping(expression = &quot;java(toPoint(dto))&quot;, target = &quot;coordinates&quot;)\r\n    THotel mapToEntity(HotelDTO dto);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\r\n    @Mapping(expression = &quot;java(tHotel.getCoordinates().getLatitude())&quot;, target = &quot;latitude&quot;)\r\n    @Mapping(expression = &quot;java(tHotel.getCoordinates().getLongitude())&quot;, target = &quot;longitude&quot;)\r\n    HotelDTO mapToDto(THotel tHotel);\r\n\r\n    default Point toPoint(HotelDTO dto) {\r\n        // here you need to set latitude and longitude to Point some how\r\n        return new Point(dto.getLatitude(),dto.getLongitude());\r\n    }\r\n}\r\n\r\n```","title":"Mapping a Point to latitude and longitude with mapstruct","body":"<p>I did not get deep into <code>org.locationtech.jts.geom.Point</code> class, but I hope it will help. Assume <code>Point.java</code> looks like:</p>\n<pre><code>public class Point {\n    private Double latitude;\n    private Double longitude;\n\n    // constructors and getters/setters present here\n}\n</code></pre>\n<p>In this case mapper will look like:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface THotelMapper {\n\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\n    @Mapping(expression = &quot;java(toPoint(dto))&quot;, target = &quot;coordinates&quot;)\n    THotel mapToEntity(HotelDTO dto);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\n    @Mapping(expression = &quot;java(tHotel.getCoordinates().getLatitude())&quot;, target = &quot;latitude&quot;)\n    @Mapping(expression = &quot;java(tHotel.getCoordinates().getLongitude())&quot;, target = &quot;longitude&quot;)\n    HotelDTO mapToDto(THotel tHotel);\n\n    default Point toPoint(HotelDTO dto) {\n        // here you need to set latitude and longitude to Point some how\n        return new Point(dto.getLatitude(),dto.getLongitude());\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23191137,"reputation":1266,"user_id":17287498,"display_name":"Ben Zegveld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643743775,"creation_date":1643743775,"answer_id":70946422,"question_id":70939667,"body_markdown":"You can have mapstruct pass additional arguments on to following mapping actions. In this case I&#39;ve marked the additional fields as context (`org.mapstruct.Context`) fields, so that they will not automatically be used for mapping into THotel:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\ninterface THotelMapper {\r\n\r\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\r\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\r\n    THotel mapToEntity(HotelDTO dto, @Context PrecisionModel precisionModel, @Context int SRID);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\r\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\r\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\r\n    HotelDTO mapToDto(THotel tHotel);\r\n\r\n    default Point toPoint(HotelDTO dto, @Context PrecisionModel precisionModel, @Context int SRID) {\r\n        return new Point(new Coordinate(dto.getLongitude(), dto.getLatitude()), precisionModel, SRID);\r\n    }\r\n}\r\n\r\n```\r\n\r\nOr you can do [as Egor mentioned](https://stackoverflow.com/questions/70939667/mapping-a-point-to-latitude-and-longitude-with-mapstruct#answer-70941583) and then use default values:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\ninterface THotelMapper {\r\n\r\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\r\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\r\n    THotel mapToEntity(HotelDTO dto);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\r\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\r\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\r\n    HotelDTO mapToDto(THotel tHotel);\r\n\r\n    default Point toPoint(HotelDTO dto) {\r\n        return new Point( new Coordinate( dto.getLongitude(), dto.getLatitude() ), new PrecisionModel(), 4326 );\r\n    }\r\n}\r\n```\r\n\r\nAlso I noticed that the Point constructor was marked deprecated, so here is a version without that constructor:\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\ninterface THotelMapper {\r\n\r\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\r\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\r\n    THotel mapToEntity(HotelDTO dto, @Context GeometryFactory geomFactory);\r\n\r\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\r\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\r\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\r\n    HotelDTO mapToDto(THotel tHotel);\r\n\r\n    default Point toPoint(HotelDTO dto, @Context GeometryFactory geomFactory) {\r\n        return geomFactory.createPoint( new Coordinate( dto.getLongitude(), dto.getLatitude() ) );\r\n    }\r\n}\r\n```\r\n\r\nps. I do hope that I didn&#39;t get [the longitude/latitude to x/y mixed up, but you can read about that here.](https://gis.stackexchange.com/questions/11626/does-y-mean-latitude-and-x-mean-longitude-in-every-gis-software)","title":"Mapping a Point to latitude and longitude with mapstruct","body":"<p>You can have mapstruct pass additional arguments on to following mapping actions. In this case I've marked the additional fields as context (<code>org.mapstruct.Context</code>) fields, so that they will not automatically be used for mapping into THotel:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\ninterface THotelMapper {\n\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\n    THotel mapToEntity(HotelDTO dto, @Context PrecisionModel precisionModel, @Context int SRID);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\n    HotelDTO mapToDto(THotel tHotel);\n\n    default Point toPoint(HotelDTO dto, @Context PrecisionModel precisionModel, @Context int SRID) {\n        return new Point(new Coordinate(dto.getLongitude(), dto.getLatitude()), precisionModel, SRID);\n    }\n}\n\n</code></pre>\n<p>Or you can do <a href=\"https://stackoverflow.com/questions/70939667/mapping-a-point-to-latitude-and-longitude-with-mapstruct#answer-70941583\">as Egor mentioned</a> and then use default values:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\ninterface THotelMapper {\n\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\n    THotel mapToEntity(HotelDTO dto);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\n    HotelDTO mapToDto(THotel tHotel);\n\n    default Point toPoint(HotelDTO dto) {\n        return new Point( new Coordinate( dto.getLongitude(), dto.getLatitude() ), new PrecisionModel(), 4326 );\n    }\n}\n</code></pre>\n<p>Also I noticed that the Point constructor was marked deprecated, so here is a version without that constructor:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\ninterface THotelMapper {\n\n    @Mapping(source = &quot;nome&quot;, target = &quot;name&quot;)\n    @Mapping(source = &quot;.&quot;, target = &quot;coordinates&quot;)\n    THotel mapToEntity(HotelDTO dto, @Context GeometryFactory geomFactory);\n\n    @Mapping(source = &quot;name&quot;, target = &quot;nome&quot;)\n    @Mapping(source = &quot;coordinates.y&quot;, target = &quot;latitude&quot;)\n    @Mapping(source = &quot;coordinates.x&quot;, target = &quot;longitude&quot;)\n    HotelDTO mapToDto(THotel tHotel);\n\n    default Point toPoint(HotelDTO dto, @Context GeometryFactory geomFactory) {\n        return geomFactory.createPoint( new Coordinate( dto.getLongitude(), dto.getLatitude() ) );\n    }\n}\n</code></pre>\n<p>ps. I do hope that I didn't get <a href=\"https://gis.stackexchange.com/questions/11626/does-y-mean-latitude-and-x-mean-longitude-in-every-gis-software\">the longitude/latitude to x/y mixed up, but you can read about that here.</a></p>\n"}],"owner":{"account_id":24120625,"reputation":13,"user_id":18089861,"display_name":"Alain Bindele"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70946422,"answer_count":2,"score":1,"last_activity_date":1643743775,"creation_date":1643714179,"question_id":70939667,"body_markdown":"I have this Model:\r\n```\r\nimport org.locationtech.jts.geom.Point;\r\n\r\n@Entity\r\n@Table(name = &quot;t_hotel&quot;)\r\npublic class THotel {\r\n    private String name;\r\n    private Point coordinates;\r\n}\r\n```\r\nAnd I want this DTO\r\n\r\n```\r\npublic class HotelDTO {\r\n    private String nome;\r\n    private Double latitude;\r\n    private Double longitude;\r\n}\r\n```\r\nHow do I map with mapstruct the two?","title":"Mapping a Point to latitude and longitude with mapstruct","body":"<p>I have this Model:</p>\n<pre><code>import org.locationtech.jts.geom.Point;\n\n@Entity\n@Table(name = &quot;t_hotel&quot;)\npublic class THotel {\n    private String name;\n    private Point coordinates;\n}\n</code></pre>\n<p>And I want this DTO</p>\n<pre><code>public class HotelDTO {\n    private String nome;\n    private Double latitude;\n    private Double longitude;\n}\n</code></pre>\n<p>How do I map with mapstruct the two?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":17511139,"reputation":121,"user_id":12699206,"display_name":"Arbis Malasi"},"score":0,"creation_date":1643722910,"post_id":70941358,"comment_id":125411026,"body_markdown":"Create a no-args constructor of type IssueHistory(){} on your entity class , this may fix your problem","body":"Create a no-args constructor of type IssueHistory(){} on your entity class , this may fix your problem"},{"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"score":0,"creation_date":1643723147,"post_id":70941358,"comment_id":125411114,"body_markdown":"IssueHistory entity has @NoArgsConstructor from lombok","body":"IssueHistory entity has @NoArgsConstructor from lombok"},{"owner":{"account_id":17511139,"reputation":121,"user_id":12699206,"display_name":"Arbis Malasi"},"score":0,"creation_date":1643723285,"post_id":70941358,"comment_id":125411177,"body_markdown":"Have you defined your repository interface with @Repository annotation ?","body":"Have you defined your repository interface with @Repository annotation ?"},{"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"score":0,"creation_date":1643723530,"post_id":70941358,"comment_id":125411299,"body_markdown":"No,. I add it now but I take same error:(","body":"No,. I add it now but I take same error:("},{"owner":{"account_id":17511139,"reputation":121,"user_id":12699206,"display_name":"Arbis Malasi"},"score":0,"creation_date":1643723666,"post_id":70941358,"comment_id":125411367,"body_markdown":"Can you upload your project on git so i can take a closer look , or give me a form of communication so i can help you with all your problems","body":"Can you upload your project on git so i can take a closer look , or give me a form of communication so i can help you with all your problems"},{"owner":{"account_id":17511139,"reputation":121,"user_id":12699206,"display_name":"Arbis Malasi"},"score":0,"creation_date":1643724220,"post_id":70941358,"comment_id":125411601,"body_markdown":"try autowiring @Autowire this public IssueHistoryServiceImpl(IssueHistoryRepository issueHistoryRepository, ModelMapper modelMapper) {\n        this.issueHistoryRepository = issueHistoryRepository;\n        this.modelMapper = modelMapper;\n    } at IssueHistoryServiceImplementation","body":"try autowiring @Autowire this public IssueHistoryServiceImpl(IssueHistoryRepository issueHistoryRepository, ModelMapper modelMapper) {         this.issueHistoryRepository = issueHistoryRepository;         this.modelMapper = modelMapper;     } at IssueHistoryServiceImplementation"},{"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"score":0,"creation_date":1643727294,"post_id":70941358,"comment_id":125412994,"body_markdown":"my git repo is github.com/derya26/spring-boot-issue-management.git thanks for your help @Arbis Malasi","body":"my git repo is github.com/derya26/spring-boot-issue-management.git thanks for your help @Arbis Malasi"},{"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"score":0,"creation_date":1643732854,"post_id":70941358,"comment_id":125415491,"body_markdown":"@Arbis Malasi can you run the project?","body":"@Arbis Malasi can you run the project?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643743741,"creation_date":1643743741,"answer_id":70946416,"question_id":70941358,"body_markdown":"`@SpringBootApplication` encapsulates `@Configuration`, `@EnableAutoConfiguration`, and `@ComponentScan` annotations with their default attributes. The default value for `@ComponentScan` means that all the sub packages on the package the `@ComponentScan` is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project. Having said that, please drop `@ComponentScan` and `@EnableAutoConfiguration` from your main class as follows:\r\n```java\r\n@SpringBootApplication\r\npublic class IssueManagementApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(IssueManagementApplication.class, args);\r\n    }\r\n    \r\n    @Bean\r\n    public ModelMapper getModelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n}\r\n```","title":"Consider defining a bean of type &#39;com.issuemanagement.repository.IssueHistoryRepository&#39; in your configuration","body":"<p><code>@SpringBootApplication</code> encapsulates <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> annotations with their default attributes. The default value for <code>@ComponentScan</code> means that all the sub packages on the package the <code>@ComponentScan</code> is used are scanned. That is why it is usually a good practice to include the main class in the base package of the project. Having said that, please drop <code>@ComponentScan</code> and <code>@EnableAutoConfiguration</code> from your main class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class IssueManagementApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IssueManagementApplication.class, args);\n    }\n    \n    @Bean\n    public ModelMapper getModelMapper() {\n        return new ModelMapper();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15770703,"reputation":135,"user_id":12100307,"display_name":"Denisa"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643743741,"creation_date":1643722151,"question_id":70941358,"body_markdown":"I get this error. What can be done in this case?\r\n\r\n&gt; APPLICATION FAILED TO START\r\n&gt; \r\n&gt; Description: Parameter 0 of constructor in com.issuemanagement.service.impl.IssueHistoryServiceImpl required a\r\n&gt; bean of type &#39;com.issuemanagement.repository.IssueHistoryRepository&#39;\r\n&gt; that could not be found.\r\n&gt;     \r\n&gt; Action: Consider defining a bean of type &#39;com.issuemanagement.repository.IssueHistoryRepository&#39; in your\r\n&gt; configuration.\r\n\r\n**IssueHistoryRepository.java**\r\n\r\n    public interface IssueHistoryRepository extends JpaRepository&lt;IssueHistory, Long&gt;{\r\n    \t\r\n    }\r\n**IssueHistoryService.java**\r\n\r\n    public interface IssueHistoryService {\r\n    \t\r\n    \tIssueHistory save(IssueHistory issueHistory);\r\n    \t\r\n    \tIssueHistory getById(Long id);\r\n    \t\r\n    \tPage&lt;IssueHistory&gt; getAllPageable(Pageable pageable);\r\n    \t\r\n    \tBoolean delete(IssueHistory issueHistory);\r\n    }\r\n\r\n**IssueHistoryServiceImpl.java**\r\n\r\n    @Service\r\n    public class IssueHistoryServiceImpl implements IssueHistoryService {\r\n    \r\n    \t\r\n        private final IssueHistoryRepository issueHistoryRepository;\r\n        private final ModelMapper modelMapper;\r\n    \r\n        public IssueHistoryServiceImpl(IssueHistoryRepository issueHistoryRepository, ModelMapper modelMapper) {\r\n            this.issueHistoryRepository = issueHistoryRepository;\r\n            this.modelMapper = modelMapper;\r\n        }\r\n       \r\n    \t@Override\r\n    \tpublic IssueHistory save(IssueHistory issueHistory) {\r\n    \t\tif(issueHistory.getDate()==null) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Issue cannot be null&quot;);\r\n    \t\t}\r\n    \t\tissueHistory = issueHistoryRepository.save(issueHistory);\r\n    \t\treturn issueHistory;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IssueHistory getById(Long id) {\r\n    \t\t\r\n    \t\treturn issueHistoryRepository.getOne(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Page&lt;IssueHistory&gt; getAllPageable(Pageable pageable) {\r\n    \t\t\r\n    \t\treturn issueHistoryRepository.findAll(pageable);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Boolean delete(IssueHistory issueHistory) {\r\n    \t\t\r\n    \t\tissueHistoryRepository.delete(issueHistory);\r\n    \t\treturn Boolean.TRUE;\r\n    \t}\r\n    \r\n    }\r\n\r\n**IssueManagementApplication.java**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({&quot;com.issuemanagement&quot;})\r\n    @EnableAutoConfiguration\r\n    public class IssueManagementApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(IssueManagementApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic ModelMapper getModelMapper() {\r\n    \t\treturn new ModelMapper();\r\n    \t}\r\n    \r\n    }","title":"Consider defining a bean of type &#39;com.issuemanagement.repository.IssueHistoryRepository&#39; in your configuration","body":"<p>I get this error. What can be done in this case?</p>\n<blockquote>\n<p>APPLICATION FAILED TO START</p>\n<p>Description: Parameter 0 of constructor in com.issuemanagement.service.impl.IssueHistoryServiceImpl required a\nbean of type 'com.issuemanagement.repository.IssueHistoryRepository'\nthat could not be found.</p>\n<p>Action: Consider defining a bean of type 'com.issuemanagement.repository.IssueHistoryRepository' in your\nconfiguration.</p>\n</blockquote>\n<p><strong>IssueHistoryRepository.java</strong></p>\n<pre><code>public interface IssueHistoryRepository extends JpaRepository&lt;IssueHistory, Long&gt;{\n    \n}\n</code></pre>\n<p><strong>IssueHistoryService.java</strong></p>\n<pre><code>public interface IssueHistoryService {\n    \n    IssueHistory save(IssueHistory issueHistory);\n    \n    IssueHistory getById(Long id);\n    \n    Page&lt;IssueHistory&gt; getAllPageable(Pageable pageable);\n    \n    Boolean delete(IssueHistory issueHistory);\n}\n</code></pre>\n<p><strong>IssueHistoryServiceImpl.java</strong></p>\n<pre><code>@Service\npublic class IssueHistoryServiceImpl implements IssueHistoryService {\n\n    \n    private final IssueHistoryRepository issueHistoryRepository;\n    private final ModelMapper modelMapper;\n\n    public IssueHistoryServiceImpl(IssueHistoryRepository issueHistoryRepository, ModelMapper modelMapper) {\n        this.issueHistoryRepository = issueHistoryRepository;\n        this.modelMapper = modelMapper;\n    }\n   \n    @Override\n    public IssueHistory save(IssueHistory issueHistory) {\n        if(issueHistory.getDate()==null) {\n            throw new IllegalArgumentException(&quot;Issue cannot be null&quot;);\n        }\n        issueHistory = issueHistoryRepository.save(issueHistory);\n        return issueHistory;\n    }\n\n    @Override\n    public IssueHistory getById(Long id) {\n        \n        return issueHistoryRepository.getOne(id);\n    }\n\n    @Override\n    public Page&lt;IssueHistory&gt; getAllPageable(Pageable pageable) {\n        \n        return issueHistoryRepository.findAll(pageable);\n    }\n\n    @Override\n    public Boolean delete(IssueHistory issueHistory) {\n        \n        issueHistoryRepository.delete(issueHistory);\n        return Boolean.TRUE;\n    }\n\n}\n</code></pre>\n<p><strong>IssueManagementApplication.java</strong></p>\n<pre><code>@SpringBootApplication\n@ComponentScan({&quot;com.issuemanagement&quot;})\n@EnableAutoConfiguration\npublic class IssueManagementApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(IssueManagementApplication.class, args);\n    }\n    \n    @Bean\n    public ModelMapper getModelMapper() {\n        return new ModelMapper();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hadoop","kerberos","jaas","keytab"],"answers":[{"tags":[],"owner":{"account_id":18573918,"reputation":5022,"user_id":13535120,"display_name":"Matt Andruff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643743349,"creation_date":1636641205,"answer_id":69930064,"question_id":69794380,"body_markdown":"Your error is telling haven&#39;t configured JAAS to use kerberos.\r\n\r\nYou should look into [Jaas][1].  It&#39;s a security paradigm for Java.  When configured for kerberos it only relies on your kerberos token being present in the correct place.  You could initiate this by initiating your kerberos token via a keytab or with your credentials.  It basically ensure the security happens outside your code allowing you to just focus on coding.\r\n\r\nHere&#39;s some sample code to get you started.  This config relies on you creating a ticket cache (Use `kinit` with keytab/principle) with the keytab before running your app.  It&#39;s not a great method but it&#39;s quick to get started with.\r\n\r\n    Client {\r\n      com.sun.security.auth.module.Krb5LoginModule required\r\n      useKeyTab=false\r\n      useTicketCache=true\r\n      doNotPrompt=true;\r\n    };\r\n\r\nOnce you have that configuration down I suggest that you move to using a keytab in Jaas. Here&#39;s more [config settings][2] you may want to consider.\r\n\r\nYou want to move towards something like the following. So that the keytab just &#39;works&#39;.  FYI this isn&#39;t a running example just a quick copy paste of the settings I&quot;m aware of.\r\n\r\n    Client {\r\n      com.sun.security.auth.module.Krb5LoginModule required\r\n      useKeyTab=true\r\n      useTicketCache=false\r\n      keyTab=/some/path/to/keytab\r\n      principal=host/testhost.eng.sun.com\r\n      renewTGT=true\r\n    };\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Authentication_and_Authorization_Service\r\n  [2]: https://docs.oracle.com/javase/8/docs/jre/api/security/jaas/spec/com/sun/security/auth/module/Krb5LoginModule.html","title":"Is there a way to connect to kerberized service using java client API with just credentials and not keytabs","body":"<p>Your error is telling haven't configured JAAS to use kerberos.</p>\n<p>You should look into <a href=\"https://en.wikipedia.org/wiki/Java_Authentication_and_Authorization_Service\" rel=\"nofollow noreferrer\">Jaas</a>.  It's a security paradigm for Java.  When configured for kerberos it only relies on your kerberos token being present in the correct place.  You could initiate this by initiating your kerberos token via a keytab or with your credentials.  It basically ensure the security happens outside your code allowing you to just focus on coding.</p>\n<p>Here's some sample code to get you started.  This config relies on you creating a ticket cache (Use <code>kinit</code> with keytab/principle) with the keytab before running your app.  It's not a great method but it's quick to get started with.</p>\n<pre><code>Client {\n  com.sun.security.auth.module.Krb5LoginModule required\n  useKeyTab=false\n  useTicketCache=true\n  doNotPrompt=true;\n};\n</code></pre>\n<p>Once you have that configuration down I suggest that you move to using a keytab in Jaas. Here's more <a href=\"https://docs.oracle.com/javase/8/docs/jre/api/security/jaas/spec/com/sun/security/auth/module/Krb5LoginModule.html\" rel=\"nofollow noreferrer\">config settings</a> you may want to consider.</p>\n<p>You want to move towards something like the following. So that the keytab just 'works'.  FYI this isn't a running example just a quick copy paste of the settings I&quot;m aware of.</p>\n<pre><code>Client {\n  com.sun.security.auth.module.Krb5LoginModule required\n  useKeyTab=true\n  useTicketCache=false\n  keyTab=/some/path/to/keytab\n  principal=host/testhost.eng.sun.com\n  renewTGT=true\n};\n</code></pre>\n"}],"owner":{"account_id":7916109,"reputation":375,"user_id":5978483,"display_name":"User_qwerty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643743349,"creation_date":1635755589,"question_id":69794380,"body_markdown":"I have written a code that uses keytabs to access the hadoop but i want it to use just the credentials instead of the keytabs, is there a way to do it?\r\nFollowing is the code I am currently using - \r\n\r\n\tpublic static void loginToHDFSUsingKeytab(Configuration hdfsConf) {\r\n\r\n\t\thdfsConf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\r\n\t\thdfsConf.set(&quot;dfs.namenode.kerberos.principal&quot;, nameNodePrincipal);\r\n\r\n\t\tUserGroupInformation.setConfiguration(hdfsConf);\r\n\t\ttry {\r\n\t\t\tUserGroupInformation ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(loginUser, keytab);\r\n\t\t\tUserGroupInformation.setLoginUser(ugi);\r\n\t\t\tSystem.out.println(&quot;Logged in successfully.&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nI came accross few threads that says there is a method called \r\n\r\n&gt; UserGroupInformation.loginUserFromSubject(subject)\r\n\r\nbut I do not see that method in UserGroupInformation class.\r\nI tried hadoop-commons with 2.2.0 and 3.1.1 versions but this method was not available in either of them.\r\n\r\n\r\n**Update :** \r\n\r\nI tried authentication using JAAS with following code: \r\n\r\n    public static void main(String args[]) throws Exception {\r\n    \r\n            System.setProperty(&quot;kerberos.security.enabled&quot;, &quot;true&quot;);\r\n            System.setProperty(&quot;java.security.auth.login.config&quot;, jaasFilePath);\r\n            // System.setProperty(&quot;javax.security.auth.login.name&quot;, loginUser);\r\n            // System.setProperty(&quot;javax.security.auth.login.password&quot;, password);\r\n    \r\n            Configuration conf = new Configuration();\r\n            conf.set(&quot;fs.hdfs.impl&quot;, &quot;org.apache.hadoop.hdfs.DistributedFileSystem&quot;);\r\n            conf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\r\n            conf.set(&quot;dfs.namenode.kerberos.principal&quot;, nameNodePrincipal);\r\n            loginWithPassword(activeNamenodeURI, conf);\r\n            // usingKeytabs(conf);\r\n        }\r\n    \r\n    \r\n        private static void loginWithPassword(final String args, final Configuration conf) throws Exception {\r\n    \r\n            LoginContext loginContext = new LoginContext(&quot;com.sun.security.jgss.initiate&quot;, new CallbackHandler() {\r\n                @Override\r\n                public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n    \r\n                    for (Callback callback : callbacks) {\r\n                        System.out.println(&quot;inside handle method&quot; + callback.getClass());\r\n                        if (callback instanceof NameCallback) {\r\n                            NameCallback nameCallback = (NameCallback) callback;\r\n                            nameCallback.setName(loginUser);\r\n                        } else if (callback instanceof PasswordCallback) {\r\n                            System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; password : &quot; + password);\r\n                            PasswordCallback passwordCallback = (PasswordCallback) callback;\r\n                            passwordCallback.setPassword(password.toCharArray());\r\n                        } else {\r\n                            System.out.println(&quot;exception  &quot;);\r\n                            throw new UnsupportedCallbackException(callback);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            loginContext.login();\r\n    \r\n            Subject mySubject = loginContext.getSubject();\r\n            \r\n            Subject.doAs(mySubject, new PrivilegedExceptionAction() {\r\n                public Object run() throws Exception {\r\n                    System.out.println(&quot;inside run&quot;);\r\n                    System.out.println(&quot;##################System.getProperty(\\&quot;java.security.auth.login.config\\&quot;) : &quot;\r\n                            + System.getProperty(&quot;java.security.auth.login.config&quot;));\r\n                    FileSystem fs = null;\r\n                    try {\r\n                        fs = FileSystem.get(new URI(activeNamenodeURI), conf);\r\n                        FileStatus[] df = fs.listStatus(new Path(&quot;/&quot;));\r\n                        for (FileStatus status : df) {\r\n                            System.out.println(status.getPath().toString());\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    return conf;\r\n                }\r\n            });\r\n    \r\n        }\r\n\r\nThe JAAS file content is -\r\n \r\n\r\n    com.sun.security.jgss.initiate {\r\n    \r\n      com.sun.security.auth.module.Krb5LoginModule required\r\n      principal=&quot;user1@DOMAIN&quot;\r\n      tryFirstPass=true\r\n      debug=true;\r\n    \r\n    };\r\n\r\n\r\nFollowing is the output on console and the error - \r\n\r\n    Debug is  true storeKey false useTicketCache false useKeyTab false doNotPrompt false ticketCache is null isInitiator true KeyTab is null refreshKrb5Config is false principal is flbuser@IMPETUS tryFirstPass is true useFirstPass is false storePass is false clearPass is false\r\n    Password from shared state is null\r\n    \t\t[Krb5LoginModule] tryFirstPass failed with:Password can not be obtained from sharedstate \r\n    inside handle methodclass javax.security.auth.callback.NameCallback\r\n    inside handle methodclass javax.security.auth.callback.PasswordCallback\r\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; password : user1\r\n    \t\t[Krb5LoginModule] user entered username: user1\r\n    \r\n    principal is user1@DOMAIN\r\n    Commit Succeeded \r\n    \r\n    inside run\r\n    ##################System.getProperty(&quot;java.security.auth.login.config&quot;) : /user/jaas.conf\r\n    log4j:WARN No appenders could be found for logger (org.apache.hadoop.metrics2.lib.MutableMetricsFactory).\r\n    log4j:WARN Please initialize the log4j system properly.\r\n    log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n    org.apache.hadoop.security.AccessControlException: org.apache.hadoop.security.AccessControlException: SIMPLE authentication is not enabled.  Available:[TOKEN, KERBEROS]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:106)\r\n    \tat org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:73)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1662)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1643)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.listStatusInternal(DistributedFileSystem.java:640)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.access$600(DistributedFileSystem.java:92)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:702)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:698)\r\n    \tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n    \tat org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:698)\r\n    \tat com.test.KerberosLogin$2.run(KerberosLogin.java:140)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n    \tat com.test.KerberosLogin.loginWithPassword(KerberosLogin.java:132)\r\n    \tat com.test.KerberosLogin.main(KerberosLogin.java:101)\r\n    Caused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.AccessControlException): org.apache.hadoop.security.AccessControlException: SIMPLE authentication is not enabled.  Available:[TOKEN, KERBEROS]\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1347)\r\n    \tat org.apache.hadoop.ipc.Client.call(Client.java:1300)\r\n    \tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:206)\r\n    \tat com.sun.proxy.$Proxy7.getListing(Unknown Source)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:186)\r\n    \tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)\r\n    \tat com.sun.proxy.$Proxy7.getListing(Unknown Source)\r\n    \tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getListing(ClientNamenodeProtocolTranslatorPB.java:482)\r\n    \tat org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1660)\r\n    \t... 12 more\r\n\r\n\r\nIt still didn&#39;t work, any help would be appreciated.\r\n","title":"Is there a way to connect to kerberized service using java client API with just credentials and not keytabs","body":"<p>I have written a code that uses keytabs to access the hadoop but i want it to use just the credentials instead of the keytabs, is there a way to do it?\nFollowing is the code I am currently using -</p>\n<pre><code>public static void loginToHDFSUsingKeytab(Configuration hdfsConf) {\n\n    hdfsConf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\n    hdfsConf.set(&quot;dfs.namenode.kerberos.principal&quot;, nameNodePrincipal);\n\n    UserGroupInformation.setConfiguration(hdfsConf);\n    try {\n        UserGroupInformation ugi = UserGroupInformation.loginUserFromKeytabAndReturnUGI(loginUser, keytab);\n        UserGroupInformation.setLoginUser(ugi);\n        System.out.println(&quot;Logged in successfully.&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I came accross few threads that says there is a method called</p>\n<blockquote>\n<p>UserGroupInformation.loginUserFromSubject(subject)</p>\n</blockquote>\n<p>but I do not see that method in UserGroupInformation class.\nI tried hadoop-commons with 2.2.0 and 3.1.1 versions but this method was not available in either of them.</p>\n<p><strong>Update :</strong></p>\n<p>I tried authentication using JAAS with following code:</p>\n<pre><code>public static void main(String args[]) throws Exception {\n\n        System.setProperty(&quot;kerberos.security.enabled&quot;, &quot;true&quot;);\n        System.setProperty(&quot;java.security.auth.login.config&quot;, jaasFilePath);\n        // System.setProperty(&quot;javax.security.auth.login.name&quot;, loginUser);\n        // System.setProperty(&quot;javax.security.auth.login.password&quot;, password);\n\n        Configuration conf = new Configuration();\n        conf.set(&quot;fs.hdfs.impl&quot;, &quot;org.apache.hadoop.hdfs.DistributedFileSystem&quot;);\n        conf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\n        conf.set(&quot;dfs.namenode.kerberos.principal&quot;, nameNodePrincipal);\n        loginWithPassword(activeNamenodeURI, conf);\n        // usingKeytabs(conf);\n    }\n\n\n    private static void loginWithPassword(final String args, final Configuration conf) throws Exception {\n\n        LoginContext loginContext = new LoginContext(&quot;com.sun.security.jgss.initiate&quot;, new CallbackHandler() {\n            @Override\n            public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n\n                for (Callback callback : callbacks) {\n                    System.out.println(&quot;inside handle method&quot; + callback.getClass());\n                    if (callback instanceof NameCallback) {\n                        NameCallback nameCallback = (NameCallback) callback;\n                        nameCallback.setName(loginUser);\n                    } else if (callback instanceof PasswordCallback) {\n                        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; password : &quot; + password);\n                        PasswordCallback passwordCallback = (PasswordCallback) callback;\n                        passwordCallback.setPassword(password.toCharArray());\n                    } else {\n                        System.out.println(&quot;exception  &quot;);\n                        throw new UnsupportedCallbackException(callback);\n                    }\n                }\n            }\n        });\n        loginContext.login();\n\n        Subject mySubject = loginContext.getSubject();\n        \n        Subject.doAs(mySubject, new PrivilegedExceptionAction() {\n            public Object run() throws Exception {\n                System.out.println(&quot;inside run&quot;);\n                System.out.println(&quot;##################System.getProperty(\\&quot;java.security.auth.login.config\\&quot;) : &quot;\n                        + System.getProperty(&quot;java.security.auth.login.config&quot;));\n                FileSystem fs = null;\n                try {\n                    fs = FileSystem.get(new URI(activeNamenodeURI), conf);\n                    FileStatus[] df = fs.listStatus(new Path(&quot;/&quot;));\n                    for (FileStatus status : df) {\n                        System.out.println(status.getPath().toString());\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                return conf;\n            }\n        });\n\n    }\n</code></pre>\n<p>The JAAS file content is -</p>\n<pre><code>com.sun.security.jgss.initiate {\n\n  com.sun.security.auth.module.Krb5LoginModule required\n  principal=&quot;user1@DOMAIN&quot;\n  tryFirstPass=true\n  debug=true;\n\n};\n</code></pre>\n<p>Following is the output on console and the error -</p>\n<pre><code>Debug is  true storeKey false useTicketCache false useKeyTab false doNotPrompt false ticketCache is null isInitiator true KeyTab is null refreshKrb5Config is false principal is flbuser@IMPETUS tryFirstPass is true useFirstPass is false storePass is false clearPass is false\nPassword from shared state is null\n        [Krb5LoginModule] tryFirstPass failed with:Password can not be obtained from sharedstate \ninside handle methodclass javax.security.auth.callback.NameCallback\ninside handle methodclass javax.security.auth.callback.PasswordCallback\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; password : user1\n        [Krb5LoginModule] user entered username: user1\n\nprincipal is user1@DOMAIN\nCommit Succeeded \n\ninside run\n##################System.getProperty(&quot;java.security.auth.login.config&quot;) : /user/jaas.conf\nlog4j:WARN No appenders could be found for logger (org.apache.hadoop.metrics2.lib.MutableMetricsFactory).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\norg.apache.hadoop.security.AccessControlException: org.apache.hadoop.security.AccessControlException: SIMPLE authentication is not enabled.  Available:[TOKEN, KERBEROS]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:106)\n    at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:73)\n    at org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1662)\n    at org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1643)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.listStatusInternal(DistributedFileSystem.java:640)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.access$600(DistributedFileSystem.java:92)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:702)\n    at org.apache.hadoop.hdfs.DistributedFileSystem$14.doCall(DistributedFileSystem.java:698)\n    at org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\n    at org.apache.hadoop.hdfs.DistributedFileSystem.listStatus(DistributedFileSystem.java:698)\n    at com.test.KerberosLogin$2.run(KerberosLogin.java:140)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at com.test.KerberosLogin.loginWithPassword(KerberosLogin.java:132)\n    at com.test.KerberosLogin.main(KerberosLogin.java:101)\nCaused by: org.apache.hadoop.ipc.RemoteException(org.apache.hadoop.security.AccessControlException): org.apache.hadoop.security.AccessControlException: SIMPLE authentication is not enabled.  Available:[TOKEN, KERBEROS]\n    at org.apache.hadoop.ipc.Client.call(Client.java:1347)\n    at org.apache.hadoop.ipc.Client.call(Client.java:1300)\n    at org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:206)\n    at com.sun.proxy.$Proxy7.getListing(Unknown Source)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:186)\n    at org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:102)\n    at com.sun.proxy.$Proxy7.getListing(Unknown Source)\n    at org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getListing(ClientNamenodeProtocolTranslatorPB.java:482)\n    at org.apache.hadoop.hdfs.DFSClient.listPaths(DFSClient.java:1660)\n    ... 12 more\n</code></pre>\n<p>It still didn't work, any help would be appreciated.</p>\n"},{"tags":["java","firebase","android-studio","firebase-authentication","google-signin"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1643704189,"post_id":70933929,"comment_id":125404073,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":17481129,"reputation":21,"user_id":13500452,"display_name":"Salavat Asadullin"},"score":0,"creation_date":1643743177,"post_id":70933929,"comment_id":125419617,"body_markdown":"thanks, I added stacktrace log to the question","body":"thanks, I added stacktrace log to the question"}],"owner":{"account_id":17481129,"reputation":21,"user_id":13500452,"display_name":"Salavat Asadullin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643743141,"creation_date":1643670690,"question_id":70933929,"body_markdown":"I&#39;m learning Firebase (now I have problems with Firebase OAuth). Now I have some problems. The application crashes on the line - ` account = GoogleSignIn.getLastSignedInAccount(MainActivity.this);\r\n` and `mGoogleSignInClient = GoogleSignIn.getClient(this, gso);` and `Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);` and doesn&#39;t throws any exceptions.\r\n\r\nSendind full code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    SignInButton mSignInButton;\r\n    GoogleSignInClient mGoogleSignInClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions\r\n                .Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                .requestIdToken(&quot;token&quot;)\r\n                .requestEmail()\r\n                .build();\r\n        mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\r\n        mSignInButton = findViewById(R.id.sign_in_button);\r\n        mSignInButton.setOnClickListener(view -&gt; signIn());\r\n    }\r\n\r\n    private void signIn() {\r\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n        startActivityForResult(signInIntent, 1);\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        GoogleSignInAccount account = null;\r\n        account = GoogleSignIn.getLastSignedInAccount(MainActivity.this);\r\n        if (account != null) Toast.makeText(this, &quot;roe[gerogk[gv&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 1) {\r\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n01.02.2022 - adding LogCat stacktrace of the error: \r\n\r\n    2022-02-01 20:14:50.150 20929-20929/com.example.stocks E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.stocks, PID: 20929\r\n    java.lang.VerifyError: Verifier rejected class com.google.android.gms.auth.api.signin.GoogleSignInClient: int com.google.android.gms.auth.api.signin.GoogleSignInClient.zzaar() failed to verify: int com.google.android.gms.auth.api.signin.GoogleSignInClient.zzaar(): [0xF] &#39;this&#39; argument &#39;Reference: com.google.android.gms.common.GoogleApiAvailability&#39; not instance of &#39;Precise Reference: com.google.android.gms.common.zze&#39; (declaration of &#39;com.google.android.gms.auth.api.signin.GoogleSignInClient&#39; appears in /data/app/com.example.stocks-zfiocw-jpuLL4H5NG87Syw==/base.apk)\r\n        at com.google.android.gms.auth.api.signin.GoogleSignIn.getClient(Unknown Source:0)\r\n        at com.example.stocks.MainActivity.onCreate(MainActivity.java:42)\r\n        at android.app.Activity.performCreate(Activity.java:7893)\r\n        at android.app.Activity.performCreate(Activity.java:7880)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3286)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:224)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7590)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\r\n    2022-02-01 20:14:50.182 20929-20929/? I/Process: Sending signal. PID: 20929 SIG: 9\r\n","title":"GoogleSignIn.getLastSignedInAccount causes exception","body":"<p>I'm learning Firebase (now I have problems with Firebase OAuth). Now I have some problems. The application crashes on the line - <code>account = GoogleSignIn.getLastSignedInAccount(MainActivity.this);</code> and <code>mGoogleSignInClient = GoogleSignIn.getClient(this, gso);</code> and <code>Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);</code> and doesn't throws any exceptions.</p>\n<p>Sendind full code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nSignInButton mSignInButton;\nGoogleSignInClient mGoogleSignInClient;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    GoogleSignInOptions gso = new GoogleSignInOptions\n            .Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(&quot;token&quot;)\n            .requestEmail()\n            .build();\n    mGoogleSignInClient = GoogleSignIn.getClient(this, gso);\n    mSignInButton = findViewById(R.id.sign_in_button);\n    mSignInButton.setOnClickListener(view -&gt; signIn());\n}\n\nprivate void signIn() {\n    Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n    startActivityForResult(signInIntent, 1);\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n\n    GoogleSignInAccount account = null;\n    account = GoogleSignIn.getLastSignedInAccount(MainActivity.this);\n    if (account != null) Toast.makeText(this, &quot;roe[gerogk[gv&quot;, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == 1) {\n        Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n    }\n}\n}\n</code></pre>\n<p>01.02.2022 - adding LogCat stacktrace of the error:</p>\n<pre><code>2022-02-01 20:14:50.150 20929-20929/com.example.stocks E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.stocks, PID: 20929\njava.lang.VerifyError: Verifier rejected class com.google.android.gms.auth.api.signin.GoogleSignInClient: int com.google.android.gms.auth.api.signin.GoogleSignInClient.zzaar() failed to verify: int com.google.android.gms.auth.api.signin.GoogleSignInClient.zzaar(): [0xF] 'this' argument 'Reference: com.google.android.gms.common.GoogleApiAvailability' not instance of 'Precise Reference: com.google.android.gms.common.zze' (declaration of 'com.google.android.gms.auth.api.signin.GoogleSignInClient' appears in /data/app/com.example.stocks-zfiocw-jpuLL4H5NG87Syw==/base.apk)\n    at com.google.android.gms.auth.api.signin.GoogleSignIn.getClient(Unknown Source:0)\n    at com.example.stocks.MainActivity.onCreate(MainActivity.java:42)\n    at android.app.Activity.performCreate(Activity.java:7893)\n    at android.app.Activity.performCreate(Activity.java:7880)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1307)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3286)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3460)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2047)\n    at android.os.Handler.dispatchMessage(Handler.java:107)\n    at android.os.Looper.loop(Looper.java:224)\n    at android.app.ActivityThread.main(ActivityThread.java:7590)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)\n2022-02-01 20:14:50.182 20929-20929/? I/Process: Sending signal. PID: 20929 SIG: 9\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":203704,"reputation":13105,"user_id":451518,"display_name":"default locale"},"score":1,"creation_date":1406522311,"post_id":24988491,"comment_id":38848892,"body_markdown":"Yes, it means locale (language, culture) specific implementations. What&#39;s wrong with [official documentation](http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage())?","body":"Yes, it means locale (language, culture) specific implementations. What&#39;s wrong with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage()\" rel=\"nofollow noreferrer\">official documentation</a>?"}],"answers":[{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1406522696,"creation_date":1406522318,"answer_id":24988509,"question_id":24988491,"body_markdown":"no. it definitely does not mean language specific implementations. it means implementations that use an internationalization (aka i18n) mechanism. see [this page][1] for more details of what resource bundles are and how to use them.\r\n\r\nthe gist is that you place any text in resource files, of which you have many (one per locale/language/etc) and your code uses a mechanism to look up the text in the correct resource file (the link i provided goes into details).\r\n\r\nas to when and where this gets used, its entirely up to you. normally you&#39;d only be concerned about this when you want to present an exception to a non-technical user, who may not know english that well. so for example, if you&#39;re just writing to log (which commonly only technical users read and so isnt a common i18n target) you&#39;d do:\r\n\r\n    try {\r\n       somethingDangerous();\r\n    } catch (Exception e) {\r\n       log.error(&quot;got this: &quot;+e.getMessage());\r\n    }\r\n\r\nbut if you intend to display the exception message to the screen (as a small dialogue, for example) then you might want to display the message in a local language:\r\n\r\n    try {\r\n       somethingDangerous();\r\n    } catch (Exception e) {\r\n       JOptionPane.showMessageDialog(frame,\r\n        e.getLocalizedMessage(),\r\n        &quot;Error&quot;,  &lt;---- also best be taken from i18n\r\n        JOptionPane.ERROR_MESSAGE);\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/i18n/resbundle/concept.html\r\n","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>no. it definitely does not mean language specific implementations. it means implementations that use an internationalization (aka i18n) mechanism. see <a href=\"http://docs.oracle.com/javase/tutorial/i18n/resbundle/concept.html\" rel=\"nofollow\">this page</a> for more details of what resource bundles are and how to use them.</p>\n\n<p>the gist is that you place any text in resource files, of which you have many (one per locale/language/etc) and your code uses a mechanism to look up the text in the correct resource file (the link i provided goes into details).</p>\n\n<p>as to when and where this gets used, its entirely up to you. normally you'd only be concerned about this when you want to present an exception to a non-technical user, who may not know english that well. so for example, if you're just writing to log (which commonly only technical users read and so isnt a common i18n target) you'd do:</p>\n\n<pre><code>try {\n   somethingDangerous();\n} catch (Exception e) {\n   log.error(\"got this: \"+e.getMessage());\n}\n</code></pre>\n\n<p>but if you intend to display the exception message to the screen (as a small dialogue, for example) then you might want to display the message in a local language:</p>\n\n<pre><code>try {\n   somethingDangerous();\n} catch (Exception e) {\n   JOptionPane.showMessageDialog(frame,\n    e.getLocalizedMessage(),\n    \"Error\",  &lt;---- also best be taken from i18n\n    JOptionPane.ERROR_MESSAGE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4773650,"reputation":1530,"user_id":3857500,"display_name":"Deepanshu J bedi"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1406522532,"creation_date":1406522320,"answer_id":24988511,"question_id":24988491,"body_markdown":"To my understanding, getMessage returns the name of the exception. getLocalizedMessage returns the name of the exception in the local language of the user (Chinese, Japanese etc.). In order to make this work, the class you are calling getLocalizedMessage on must have overridden the getLocalizedMessage method. If it hasn&#39;t, the method of one of it&#39;s super classes is called which by default just returns the result of getMessage. \r\n\r\nSo in most cases, the result will be the same but in some cases it will return the exception name in the language of the region where the program is being run.\r\n\r\n&gt; Does that mean language specific implementations ? like if i use\r\n&gt; e.getLocalizedMessage() for example my app in English - error will be\r\n&gt; thrown in English , if i use my app in Spanish - then error will be\r\n&gt; thrown in Spanish\r\n\r\n\r\n    public String \r\n    getMessage() \r\n    \r\n    Returns the detail message string of this throwable.\r\n\r\n \r\n\r\n\r\n\r\n    public String \r\n    getLocalizedMessage() \r\n\r\nCreates a localized description of this throwable. Subclasses may \r\noverride this method in order to produce a locale-specific message. For \r\nsubclasses that do not override this method, the default implementation \r\nreturns the same result as getMessage(). \r\n\r\n\r\n\r\n\r\n\r\nIn your case e is nothing but the object of exception ... \r\n\r\n\r\n\r\n    getLocalizedMessage() u need to override and give your own message i.e \r\n    the meaning for localized message. \r\n\r\n\r\nFor example ... if there is a null pointer exception ... \r\n\r\n\r\n\r\nBy printing e it will display null \r\n\r\n    e.getMessage() ---&gt; NullPointerException \r\n\r\n\r\n[Read more...][1]\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-04-2002/jw-0405-java101.html\r\n\r\n","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>To my understanding, getMessage returns the name of the exception. getLocalizedMessage returns the name of the exception in the local language of the user (Chinese, Japanese etc.). In order to make this work, the class you are calling getLocalizedMessage on must have overridden the getLocalizedMessage method. If it hasn't, the method of one of it's super classes is called which by default just returns the result of getMessage. </p>\n\n<p>So in most cases, the result will be the same but in some cases it will return the exception name in the language of the region where the program is being run.</p>\n\n<blockquote>\n  <p>Does that mean language specific implementations ? like if i use\n  e.getLocalizedMessage() for example my app in English - error will be\n  thrown in English , if i use my app in Spanish - then error will be\n  thrown in Spanish</p>\n</blockquote>\n\n<pre><code>public String \ngetMessage() \n\nReturns the detail message string of this throwable.\n\n\n\n\n\npublic String \ngetLocalizedMessage() \n</code></pre>\n\n<p>Creates a localized description of this throwable. Subclasses may \noverride this method in order to produce a locale-specific message. For \nsubclasses that do not override this method, the default implementation \nreturns the same result as getMessage(). </p>\n\n<p>In your case e is nothing but the object of exception ... </p>\n\n<pre><code>getLocalizedMessage() u need to override and give your own message i.e \nthe meaning for localized message. \n</code></pre>\n\n<p>For example ... if there is a null pointer exception ... </p>\n\n<p>By printing e it will display null </p>\n\n<pre><code>e.getMessage() ---&gt; NullPointerException \n</code></pre>\n\n<p><a href=\"http://www.javaworld.com/javaworld/jw-04-2002/jw-0405-java101.html\" rel=\"nofollow\">Read more...</a></p>\n"},{"tags":[],"owner":{"account_id":3795534,"reputation":3843,"user_id":3150726,"accept_rate":76,"display_name":"Umer Kiani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1406523010,"creation_date":1406522770,"answer_id":24988560,"question_id":24988491,"body_markdown":"    public String  getMessage() \r\n\r\nReturns the detail message string of this throwable. \r\n\r\n\r\n\r\n    public String getLocalizedMessage() \r\n\r\nCreates a localized description of this throwable. Subclasses may \r\noverride this method in order to produce a locale-specific message. For \r\nsubclasses that do not override this method, the default implementation \r\nreturns the same result as `getMessage()`. \r\n\r\n\r\n\r\n\r\n\r\nIn your case e is nothing but the object of exception ... \r\n\r\n\r\n\r\n`getLocalizedMessage()` u need to override and give your own message i.e \r\nthe meaning for localized message. \r\n\r\n\r\n\r\nFor example ... if there is a null pointer exception ... \r\n\r\n\r\n\r\nBy printing e it will display null \r\n\r\n    e.getMessage() ---&gt; NullPointerException\r\n\r\n ","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<pre><code>public String  getMessage() \n</code></pre>\n\n<p>Returns the detail message string of this throwable. </p>\n\n<pre><code>public String getLocalizedMessage() \n</code></pre>\n\n<p>Creates a localized description of this throwable. Subclasses may \noverride this method in order to produce a locale-specific message. For \nsubclasses that do not override this method, the default implementation \nreturns the same result as <code>getMessage()</code>. </p>\n\n<p>In your case e is nothing but the object of exception ... </p>\n\n<p><code>getLocalizedMessage()</code> u need to override and give your own message i.e \nthe meaning for localized message. </p>\n\n<p>For example ... if there is a null pointer exception ... </p>\n\n<p>By printing e it will display null </p>\n\n<pre><code>e.getMessage() ---&gt; NullPointerException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1406523404,"creation_date":1406523404,"answer_id":24988652,"question_id":24988491,"body_markdown":"It is really surprising - Check the openJDK 7 code of [Throwable.java][1] class.\r\n\r\nImplementation of `getLocalizedMessage` is - \r\n\r\n    390     public String getLocalizedMessage() {\r\n    391         return getMessage();\r\n    392     }\r\n\r\nAnd implemenation of `getMessage` is -\r\n\r\n    376     public String getMessage() {\r\n    377         return detailMessage;\r\n    378     }\r\n\r\nAnd\r\n\r\n    130     private String detailMessage;\r\n\r\n\r\nThere is no change in implemenation of both method but documentation.\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Throwable.java","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>It is really surprising - Check the openJDK 7 code of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/Throwable.java\" rel=\"noreferrer\">Throwable.java</a> class.</p>\n\n<p>Implementation of <code>getLocalizedMessage</code> is - </p>\n\n<pre><code>390     public String getLocalizedMessage() {\n391         return getMessage();\n392     }\n</code></pre>\n\n<p>And implemenation of <code>getMessage</code> is -</p>\n\n<pre><code>376     public String getMessage() {\n377         return detailMessage;\n378     }\n</code></pre>\n\n<p>And</p>\n\n<pre><code>130     private String detailMessage;\n</code></pre>\n\n<p>There is no change in implemenation of both method but documentation.</p>\n"},{"tags":[],"owner":{"account_id":4809060,"reputation":1,"user_id":3883054,"display_name":"rahul"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1528947405,"creation_date":1406523972,"answer_id":24988719,"question_id":24988491,"body_markdown":"To my understanding, `getMessage` returns the name of the exception.\r\n\r\n`getLocalizedMessage` returns the name of the exception in the local language of the user (Chinese, Japanese etc.). \r\n\r\nIn order to make this work, the class you are calling `getLocalizedMessage` on must have overridden the `getLocalizedMessage` method. \r\n\r\nIf it hasn&#39;t, the method of one of it&#39;s super classes is called which by default just returns the result of `getMessage`. ","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>To my understanding, <code>getMessage</code> returns the name of the exception.</p>\n\n<p><code>getLocalizedMessage</code> returns the name of the exception in the local language of the user (Chinese, Japanese etc.). </p>\n\n<p>In order to make this work, the class you are calling <code>getLocalizedMessage</code> on must have overridden the <code>getLocalizedMessage</code> method. </p>\n\n<p>If it hasn't, the method of one of it's super classes is called which by default just returns the result of <code>getMessage</code>. </p>\n"},{"tags":[],"owner":{"account_id":372473,"reputation":2297,"user_id":721540,"accept_rate":8,"display_name":"dgm"},"down_vote_count":1,"up_vote_count":93,"is_accepted":true,"score":92,"last_activity_date":1481230526,"creation_date":1406528045,"answer_id":24989341,"question_id":24988491,"body_markdown":"As everybody has mentioned above --\r\n\r\nTo my understanding, `getMessage()` returns the name of the exception. `getLocalizedMessage()` returns the name of the exception in the local language of the user (Chinese, Japanese etc.). In order to make this work, the class you are calling `getLocalizedMessage()` on must have overridden the `getLocalizedMessage()` method. If it hasn&#39;t, the method of one of it&#39;s super classes is called which by default just returns the result of getMessage. \r\n\r\nIn addition to that, I would like to put some code segment explaining how to use it.\r\n\r\n**How to use it**\r\n\r\nJava does nothing magical, but it does provide a way to make our life easier.\r\nTo use `getLocalizedMessage()` effectively, we have to override the default behavior. \r\n\r\n    import java.util.ResourceBundle;\r\n\r\n    public class MyLocalizedThrowable extends Throwable {\r\n    \r\n    \tResourceBundle labels = ResourceBundle.getBundle(&quot;loc.exc.test.message&quot;);\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tpublic MyLocalizedThrowable(String messageKey) {\r\n            super(messageKey);\r\n        }\r\n    \t\r\n        public String getLocalizedMessage() {\r\n            return labels.getString(getMessage());\r\n        }\r\n    }\r\n\r\n[`java.util.ResourceBundle`][1] is used to do localization. \r\n\r\nIn this example, you have to place language-specific property files in the `loc/exc/test` path. For example:\r\n\r\n message_fr.properties (containing some key and value):\r\n\r\n    key1=this is key one in France\r\n    \r\nmessage.properties (containing some key and value):\r\n\r\n    key1=this is key one in English\r\n\r\n\r\nNow, let us assume that our exception generator class is something like\r\n\r\n    public class ExceptionGenerator {\r\n    \t\r\n    \tpublic void generateException() throws MyLocalizedThrowable {\r\n    \t\tthrow new MyLocalizedThrowable(&quot;key1&quot;);\r\n    \t}\r\n    }\r\n\r\nand the main class is:\r\n\r\n    public static void main(String[] args) {\r\n    \t//Locale.setDefault(Locale.FRANCE);\r\n    \tExceptionGenerator eg = new ExceptionGenerator();\r\n    \t\r\n    \ttry {\r\n    \t\teg.generateException();\r\n    \t} catch (MyLocalizedThrowable e) {\r\n    \t\tSystem.out.println(e.getLocalizedMessage());\r\n    \t}\r\n    }\r\n\r\n\r\nBy default, it will return the &quot;English&quot; key value if you are executing in the &quot;English&quot; environment. If you set the local to France, you will get the output from the message_fr file.\r\n\r\n**When to use it**\r\n\r\nIf your application needs to support l10n/i18n you need to use it. But most of the application does not need to, as most error messages are not for the end customer, but for the support engineer/development engineer.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>As everybody has mentioned above --</p>\n\n<p>To my understanding, <code>getMessage()</code> returns the name of the exception. <code>getLocalizedMessage()</code> returns the name of the exception in the local language of the user (Chinese, Japanese etc.). In order to make this work, the class you are calling <code>getLocalizedMessage()</code> on must have overridden the <code>getLocalizedMessage()</code> method. If it hasn't, the method of one of it's super classes is called which by default just returns the result of getMessage. </p>\n\n<p>In addition to that, I would like to put some code segment explaining how to use it.</p>\n\n<p><strong>How to use it</strong></p>\n\n<p>Java does nothing magical, but it does provide a way to make our life easier.\nTo use <code>getLocalizedMessage()</code> effectively, we have to override the default behavior. </p>\n\n<pre><code>import java.util.ResourceBundle;\n\npublic class MyLocalizedThrowable extends Throwable {\n\n    ResourceBundle labels = ResourceBundle.getBundle(\"loc.exc.test.message\");\n\n    private static final long serialVersionUID = 1L;\n    public MyLocalizedThrowable(String messageKey) {\n        super(messageKey);\n    }\n\n    public String getLocalizedMessage() {\n        return labels.getString(getMessage());\n    }\n}\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html\" rel=\"noreferrer\"><code>java.util.ResourceBundle</code></a> is used to do localization. </p>\n\n<p>In this example, you have to place language-specific property files in the <code>loc/exc/test</code> path. For example:</p>\n\n<p>message_fr.properties (containing some key and value):</p>\n\n<pre><code>key1=this is key one in France\n</code></pre>\n\n<p>message.properties (containing some key and value):</p>\n\n<pre><code>key1=this is key one in English\n</code></pre>\n\n<p>Now, let us assume that our exception generator class is something like</p>\n\n<pre><code>public class ExceptionGenerator {\n\n    public void generateException() throws MyLocalizedThrowable {\n        throw new MyLocalizedThrowable(\"key1\");\n    }\n}\n</code></pre>\n\n<p>and the main class is:</p>\n\n<pre><code>public static void main(String[] args) {\n    //Locale.setDefault(Locale.FRANCE);\n    ExceptionGenerator eg = new ExceptionGenerator();\n\n    try {\n        eg.generateException();\n    } catch (MyLocalizedThrowable e) {\n        System.out.println(e.getLocalizedMessage());\n    }\n}\n</code></pre>\n\n<p>By default, it will return the \"English\" key value if you are executing in the \"English\" environment. If you set the local to France, you will get the output from the message_fr file.</p>\n\n<p><strong>When to use it</strong></p>\n\n<p>If your application needs to support l10n/i18n you need to use it. But most of the application does not need to, as most error messages are not for the end customer, but for the support engineer/development engineer.  </p>\n"},{"tags":[],"owner":{"account_id":2252734,"reputation":10792,"user_id":1984636,"accept_rate":62,"display_name":"sivi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488541997,"creation_date":1488541997,"answer_id":42578213,"question_id":24988491,"body_markdown":"This is what the Throwable.java class have to say. Maybe it can help someone:\r\n\r\n    /**\r\n     * Returns the detail message string of this throwable.\r\n     *\r\n     * @return  the detail message string of this {@code Throwable} instance\r\n     *          (which may be {@code null}).\r\n     */\r\n    public String getMessage() {\r\n        return detailMessage;\r\n    }\r\n\r\n    /**\r\n     * Creates a localized description of this throwable.\r\n     * Subclasses may override this method in order to produce a\r\n     * locale-specific message.  For subclasses that do not override this\r\n     * method, the default implementation returns the same result as\r\n     * {@code getMessage()}.\r\n     *\r\n     * @return  The localized description of this throwable.\r\n     * @since   JDK1.1\r\n     */\r\n    public String getLocalizedMessage() {\r\n        return getMessage();\r\n    }","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>This is what the Throwable.java class have to say. Maybe it can help someone:</p>\n\n<pre><code>/**\n * Returns the detail message string of this throwable.\n *\n * @return  the detail message string of this {@code Throwable} instance\n *          (which may be {@code null}).\n */\npublic String getMessage() {\n    return detailMessage;\n}\n\n/**\n * Creates a localized description of this throwable.\n * Subclasses may override this method in order to produce a\n * locale-specific message.  For subclasses that do not override this\n * method, the default implementation returns the same result as\n * {@code getMessage()}.\n *\n * @return  The localized description of this throwable.\n * @since   JDK1.1\n */\npublic String getLocalizedMessage() {\n    return getMessage();\n}\n</code></pre>\n"}],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117240,"favorite_count":0,"down_vote_count":0,"up_vote_count":112,"accepted_answer_id":24989341,"answer_count":7,"score":112,"last_activity_date":1643742941,"creation_date":1406522114,"question_id":24988491,"body_markdown":"What is the difference between the [`getMessage`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#getMessage()) and [`getLocalizedMessage`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#getLocalizedMessage()) methods on Java exceptions?\r\n\r\nI am using these both methods to get the message thrown by the catch block while performing error handling.  Both of them get me the message from the error handling, but how exactly do these two differ?\r\n\r\nI did some searching on the Internet and found this answer on [Answers.com][1]:\r\n\r\n&gt; Java Exceptions inherit their getMessage and getLocalizedMessage methods from Throwable (see the related link). The difference is that subclasses should override getLocalizedMessage to provide a locale-specific message.\r\n&gt;\r\n&gt; For example, imaging that you&#39;re adapting code from an American-English speaking company/group to a British-English group. You may want to create custom Exception classes which override the getLocalizedMessage to correct spelling and grammer to what the users and developers who will be using your code might expect. This can also be used for actual translations of Exception messages.\r\n\r\n\r\n----------\r\n\r\n**Questions**:\r\n\r\n - Does that mean **language specific** implementations? Like if I use `e.getLocalizedMessage()` for example my app in **English** - error will be thrown in `English`, if I use my app in **Spanish** - then error will be thrown in **Spanish**?\r\n\r\n - Need some clear explanation on where and when I can use these methods to my use/\r\n\r\n\r\n\r\n  [1]: http://wiki.answers.com/Q/Difference_between_getmessage_and_getlocalizedmessage_in_exceptions_Java","title":"Difference between e.getMessage() and e.getLocalizedMessage()","body":"<p>What is the difference between the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#getMessage()\" rel=\"noreferrer\"><code>getMessage</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Throwable.html#getLocalizedMessage()\" rel=\"noreferrer\"><code>getLocalizedMessage</code></a> methods on Java exceptions?</p>\n<p>I am using these both methods to get the message thrown by the catch block while performing error handling.  Both of them get me the message from the error handling, but how exactly do these two differ?</p>\n<p>I did some searching on the Internet and found this answer on <a href=\"http://wiki.answers.com/Q/Difference_between_getmessage_and_getlocalizedmessage_in_exceptions_Java\" rel=\"noreferrer\">Answers.com</a>:</p>\n<blockquote>\n<p>Java Exceptions inherit their getMessage and getLocalizedMessage methods from Throwable (see the related link). The difference is that subclasses should override getLocalizedMessage to provide a locale-specific message.</p>\n<p>For example, imaging that you're adapting code from an American-English speaking company/group to a British-English group. You may want to create custom Exception classes which override the getLocalizedMessage to correct spelling and grammer to what the users and developers who will be using your code might expect. This can also be used for actual translations of Exception messages.</p>\n</blockquote>\n<hr />\n<p><strong>Questions</strong>:</p>\n<ul>\n<li><p>Does that mean <strong>language specific</strong> implementations? Like if I use <code>e.getLocalizedMessage()</code> for example my app in <strong>English</strong> - error will be thrown in <code>English</code>, if I use my app in <strong>Spanish</strong> - then error will be thrown in <strong>Spanish</strong>?</p>\n</li>\n<li><p>Need some clear explanation on where and when I can use these methods to my use/</p>\n</li>\n</ul>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643738282,"post_id":70943160,"comment_id":125417824,"body_markdown":"I&#39;d recommend using SSH commands for that (you can use Jsch in Java)","body":"I&#39;d recommend using SSH commands for that (you can use Jsch in Java)"}],"owner":{"account_id":14757312,"reputation":111,"user_id":12531506,"display_name":"roman_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1643742842,"creation_date":1643729385,"question_id":70943160,"body_markdown":"Is it possible using Java to determine the size of a topic (bytes) and the time of the last update (in timestamp)? Thanks!","title":"How to monitor size and last update time for Kafka topic","body":"<p>Is it possible using Java to determine the size of a topic (bytes) and the time of the last update (in timestamp)? Thanks!</p>\n"},{"tags":["java","spring-data-jpa","relationship","jpa-2.0","cascading"],"answers":[{"tags":[],"owner":{"account_id":18098038,"reputation":1240,"user_id":13156126,"display_name":"fladdimir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643742588,"creation_date":1643742588,"answer_id":70946173,"question_id":70944655,"body_markdown":"As you notice, not all persons are persisted (`P5` is missing in the DB), and neither are all the relationships you probably intended.\r\n\r\nThe reason that `P5` is missing, is that you cascade the merge operation only along the `knownBy`-associated persons:  \r\n`P1` -&gt; `P3` -&gt; `P2` -&gt; `P4`  \r\n(`P5` is not `knownBy` anyone, so it is not reached by the cascaded merge)\r\n\r\n---\r\n\r\nWhen each of the four entities gets persisted, so is the information on the associations for which it holds the _owning side_.  \r\nIn your case, the _owning side_ is `knows` (as `knownBy` is _mappedBy=&quot;knows&quot;_).  \r\nSo the only association-information which is persisted is:  \r\n`P1` (ID1) -&gt; `P2` (ID3)  \r\n`P2` (ID3) -&gt; `P3` (ID2)\r\n\r\n(note that `P2` has _ID 3_, which is confusing, but makes sence since the ID is generated and it was later persisted)\r\n\r\n`P5` -&gt; `P3` is not persisted since `P5` is not persisted at all (as explained above)\r\n\r\n---\r\n\r\nSo to properly persist all information, always make sure that _bi-directional associations are synchronized_. And be aware of potential problems when cascading operations on `@ManyToMany` associations, since this can lead to performance problems (lots of cascaded operations) and unintended results (e.g. when cascading removes).\r\n\r\nhttps://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/  \r\nhttps://thorben-janssen.com/avoid-cascadetype-delete-many-assocations/","title":"Understanding Relationship Cascading with Merge","body":"<p>As you notice, not all persons are persisted (<code>P5</code> is missing in the DB), and neither are all the relationships you probably intended.</p>\n<p>The reason that <code>P5</code> is missing, is that you cascade the merge operation only along the <code>knownBy</code>-associated persons:<br />\n<code>P1</code> -&gt; <code>P3</code> -&gt; <code>P2</code> -&gt; <code>P4</code><br />\n(<code>P5</code> is not <code>knownBy</code> anyone, so it is not reached by the cascaded merge)</p>\n<hr />\n<p>When each of the four entities gets persisted, so is the information on the associations for which it holds the <em>owning side</em>.<br />\nIn your case, the <em>owning side</em> is <code>knows</code> (as <code>knownBy</code> is <em>mappedBy=&quot;knows&quot;</em>).<br />\nSo the only association-information which is persisted is:<br />\n<code>P1</code> (ID1) -&gt; <code>P2</code> (ID3)<br />\n<code>P2</code> (ID3) -&gt; <code>P3</code> (ID2)</p>\n<p>(note that <code>P2</code> has <em>ID 3</em>, which is confusing, but makes sence since the ID is generated and it was later persisted)</p>\n<p><code>P5</code> -&gt; <code>P3</code> is not persisted since <code>P5</code> is not persisted at all (as explained above)</p>\n<hr />\n<p>So to properly persist all information, always make sure that <em>bi-directional associations are synchronized</em>. And be aware of potential problems when cascading operations on <code>@ManyToMany</code> associations, since this can lead to performance problems (lots of cascaded operations) and unintended results (e.g. when cascading removes).</p>\n<p><a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/</a><br />\n<a href=\"https://thorben-janssen.com/avoid-cascadetype-delete-many-assocations/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/avoid-cascadetype-delete-many-assocations/</a></p>\n"}],"owner":{"account_id":7504031,"reputation":1162,"user_id":5701258,"accept_rate":86,"display_name":"Remo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70946173,"answer_count":1,"score":2,"last_activity_date":1643742588,"creation_date":1643735314,"question_id":70944655,"body_markdown":"Deep diving into Spring JPA and I have troubles to understand whats going on here.\r\nThis is the code:\r\n\r\n**Entity**\r\n\r\n```\r\n@Entity\r\npublic class PersonP {\r\n\r\n    @Id @GeneratedValue\r\n    private int id;\r\n\r\n    public String name;\r\n\r\n    @ManyToMany\r\n    public List&lt;PersonP&gt; knows = new LinkedList&lt;&gt;();\r\n\r\n    @ManyToMany(mappedBy = &quot;knows&quot;, cascade = CascadeType.ALL)\r\n    public List&lt;PersonP&gt; knownBy = new LinkedList&lt;&gt;();\r\n\r\n    public PersonP(){}\r\n\r\n    public PersonP(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n\r\n**SpringBootApp**\r\n\r\n```\r\n@SpringBootApplication\r\n@EntityScan(basePackageClasses = Demo.class)\r\npublic class Demo implements CommandLineRunner {\r\n\r\n\t@PersistenceContext\r\n\tEntityManager em;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew SpringApplicationBuilder(Demo.class).run(args);\r\n\t}\r\n\r\n\t@Override\r\n\t@Transactional\r\n\tpublic void run(String... args) throws Exception {\r\n\t\tsample();\r\n\t}\r\n\r\n    @Transactional\r\n\tpublic void sample(){\r\n\t\tPersonP p1 = new PersonP(&quot;P1&quot;);\r\n\t\tPersonP p2 = new PersonP(&quot;P2&quot;);\r\n\t\tPersonP p3 = new PersonP(&quot;P3&quot;);\r\n\t\tPersonP p4 = new PersonP(&quot;P4&quot;);\r\n\t\tPersonP p5 = new PersonP(&quot;P5&quot;);\r\n\r\n\t\tp1.knows.add(p2);\r\n\t\tp2.knows.add(p3);\r\n\t\tp5.knows.add(p3);\r\n\r\n\t\tp1.knownBy.add(p3);\r\n\t\tp3.knownBy.add(p2);\r\n\t\tp2.knownBy.add(p4);\r\n\r\n\t\tp1 = em.merge(p1);\r\n\r\n\t\tp1.name = &quot;x1&quot;;\r\n\t\tp2.name = &quot;x2&quot;;\r\n\t\tp3.name = &quot;x3&quot;;\r\n\t\tp4.name = &quot;x4&quot;;\r\n\t\tp5.name = &quot;x5&quot;;\r\n\t}\r\n\r\n```\r\n\r\nBy starting the app, the following gets generated in the DB:\r\n[![enter image description here][1]][1]\r\n\r\nI get to the point where all the persons are generated, but I would expect one additional entry in the ```PERSONP_KNOWS``` table, e.g. for `p2.knownBy.add(p4);`\r\nBut it isnt.  I assumed since calling ```merge``` the associated entities would be saved too (p1 knows p2 and p2 is known by p4). It doesn&#39;t seem to be the case though...\r\nWhy is this so?\r\n\r\n  [1]: https://i.stack.imgur.com/AX53H.png","title":"Understanding Relationship Cascading with Merge","body":"<p>Deep diving into Spring JPA and I have troubles to understand whats going on here.\nThis is the code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>@Entity\npublic class PersonP {\n\n    @Id @GeneratedValue\n    private int id;\n\n    public String name;\n\n    @ManyToMany\n    public List&lt;PersonP&gt; knows = new LinkedList&lt;&gt;();\n\n    @ManyToMany(mappedBy = &quot;knows&quot;, cascade = CascadeType.ALL)\n    public List&lt;PersonP&gt; knownBy = new LinkedList&lt;&gt;();\n\n    public PersonP(){}\n\n    public PersonP(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p><strong>SpringBootApp</strong></p>\n<pre><code>@SpringBootApplication\n@EntityScan(basePackageClasses = Demo.class)\npublic class Demo implements CommandLineRunner {\n\n    @PersistenceContext\n    EntityManager em;\n\n    public static void main(String[] args) {\n        new SpringApplicationBuilder(Demo.class).run(args);\n    }\n\n    @Override\n    @Transactional\n    public void run(String... args) throws Exception {\n        sample();\n    }\n\n    @Transactional\n    public void sample(){\n        PersonP p1 = new PersonP(&quot;P1&quot;);\n        PersonP p2 = new PersonP(&quot;P2&quot;);\n        PersonP p3 = new PersonP(&quot;P3&quot;);\n        PersonP p4 = new PersonP(&quot;P4&quot;);\n        PersonP p5 = new PersonP(&quot;P5&quot;);\n\n        p1.knows.add(p2);\n        p2.knows.add(p3);\n        p5.knows.add(p3);\n\n        p1.knownBy.add(p3);\n        p3.knownBy.add(p2);\n        p2.knownBy.add(p4);\n\n        p1 = em.merge(p1);\n\n        p1.name = &quot;x1&quot;;\n        p2.name = &quot;x2&quot;;\n        p3.name = &quot;x3&quot;;\n        p4.name = &quot;x4&quot;;\n        p5.name = &quot;x5&quot;;\n    }\n\n</code></pre>\n<p>By starting the app, the following gets generated in the DB:\n<a href=\"https://i.stack.imgur.com/AX53H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AX53H.png\" alt=\"enter image description here\" /></a></p>\n<p>I get to the point where all the persons are generated, but I would expect one additional entry in the <code>PERSONP_KNOWS</code> table, e.g. for <code>p2.knownBy.add(p4);</code>\nBut it isnt.  I assumed since calling <code>merge</code> the associated entities would be saved too (p1 knows p2 and p2 is known by p4). It doesn't seem to be the case though...\nWhy is this so?</p>\n"},{"tags":["java","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643742443,"creation_date":1643742443,"answer_id":70946135,"question_id":70945761,"body_markdown":"For `com.google.iot.cbor` dependency in `pom.xml` change the scope from `runtime` to `compile` (which is the default, so you can just remove the `scope` tag).","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError caused by ClassNotFoundException","body":"<p>For <code>com.google.iot.cbor</code> dependency in <code>pom.xml</code> change the scope from <code>runtime</code> to <code>compile</code> (which is the default, so you can just remove the <code>scope</code> tag).</p>\n"}],"owner":{"account_id":24124739,"reputation":21,"user_id":18093267,"display_name":"Manuele Mustari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1643742443,"creation_date":1643740488,"question_id":70945761,"body_markdown":"I need to cooperate with an external API in order to decode green pass, in particular i&#39;m following the guide of https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc, and i use Maven dependencies adding them to the pom.xml file. When I run my java application in IntellijIDE I got this error:\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/iot/cbor/CborMap\r\n\tat kapta.classes/kapta.Utils.GreenPassValidator.DecodeQRGreenPass.decode(DecodeQRGreenPass.java:43)\r\n\tat kapta.classes/kapta.Utils.GreenPassValidator.MainDecodeGreenPass.main(MainDecodeGreenPass.java:10)                                                                           \r\n    Caused by: java.lang.ClassNotFoundException: com.google.iot.cbor.CborMap\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n\r\nHere the link with the dependencies:\r\n\r\n[Dependencies][1]\r\n\r\nHere the link with the run configuration:\r\n\r\n[Run configuration][2]\r\n\r\nThis is my Pom file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;kapta&lt;/groupId&gt;\r\n    &lt;artifactId&gt;classes&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;KaptaProject&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n \t &lt;sonar.organization&gt;al3ssandrocaruso&lt;/sonar.organization&gt;\r\n \t &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.ehn-digital-green-development&lt;/groupId&gt;\r\n            &lt;artifactId&gt;base45&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.augustcellars.cose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cose-java&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.7&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.iot.cbor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cbor&lt;/artifactId&gt;\r\n            &lt;version&gt;0.01.02&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.augustcellars.cose&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cose-java&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;11.3.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.synedra&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.13&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\r\n            &lt;version&gt;11.48&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.7&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;kapta.classes/kapta.MainApp&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java/kapta/View&lt;/directory&gt;\r\n                &lt;!-- Alessandro Caruso was here :) --&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nI don&#39;t know how to proceed. \r\n\r\n  [1]: https://i.stack.imgur.com/GdMlb.jpg\r\n  [2]: https://i.stack.imgur.com/HttZX.jpg","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError caused by ClassNotFoundException","body":"<p>I need to cooperate with an external API in order to decode green pass, in particular i'm following the guide of <a href=\"https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc\" rel=\"nofollow noreferrer\">https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc</a>, and i use Maven dependencies adding them to the pom.xml file. When I run my java application in IntellijIDE I got this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/google/iot/cbor/CborMap\nat kapta.classes/kapta.Utils.GreenPassValidator.DecodeQRGreenPass.decode(DecodeQRGreenPass.java:43)\nat kapta.classes/kapta.Utils.GreenPassValidator.MainDecodeGreenPass.main(MainDecodeGreenPass.java:10)                                                                           \nCaused by: java.lang.ClassNotFoundException: com.google.iot.cbor.CborMap\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 2 more\n</code></pre>\n<p>Here the link with the dependencies:</p>\n<p><a href=\"https://i.stack.imgur.com/GdMlb.jpg\" rel=\"nofollow noreferrer\">Dependencies</a></p>\n<p>Here the link with the run configuration:</p>\n<p><a href=\"https://i.stack.imgur.com/HttZX.jpg\" rel=\"nofollow noreferrer\">Run configuration</a></p>\n<p>This is my Pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;kapta&lt;/groupId&gt;\n&lt;artifactId&gt;classes&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;KaptaProject&lt;/name&gt;\n\n&lt;properties&gt;\n &lt;sonar.organization&gt;al3ssandrocaruso&lt;/sonar.organization&gt;\n &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n        &lt;artifactId&gt;javase&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.ehn-digital-green-development&lt;/groupId&gt;\n        &lt;artifactId&gt;base45&lt;/artifactId&gt;\n        &lt;version&gt;0.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.augustcellars.cose&lt;/groupId&gt;\n        &lt;artifactId&gt;cose-java&lt;/artifactId&gt;\n        &lt;version&gt;0.9.7&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.iot.cbor&lt;/groupId&gt;\n        &lt;artifactId&gt;cbor&lt;/artifactId&gt;\n        &lt;version&gt;0.01.02&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.augustcellars.cose&lt;/groupId&gt;\n        &lt;artifactId&gt;cose-java&lt;/artifactId&gt;\n        &lt;version&gt;0.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;17.0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;17.0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-web&lt;/artifactId&gt;\n        &lt;version&gt;17.0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n        &lt;version&gt;11.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n        &lt;version&gt;11.3.2&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.synedra&lt;/groupId&gt;\n        &lt;artifactId&gt;validatorfx&lt;/artifactId&gt;\n        &lt;version&gt;0.1.13&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kordamp.ikonli&lt;/groupId&gt;\n        &lt;artifactId&gt;ikonli-javafx&lt;/artifactId&gt;\n        &lt;version&gt;12.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.kordamp.bootstrapfx&lt;/groupId&gt;\n        &lt;artifactId&gt;bootstrapfx-core&lt;/artifactId&gt;\n        &lt;version&gt;0.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;eu.hansolo&lt;/groupId&gt;\n        &lt;artifactId&gt;tilesfx&lt;/artifactId&gt;\n        &lt;version&gt;11.48&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;17.0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.22&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.0.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                    &lt;id&gt;default-cli&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;kapta.classes/kapta.MainApp&lt;/mainClass&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java/kapta/View&lt;/directory&gt;\n            &lt;!-- Alessandro Caruso was here :) --&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I don't know how to proceed.</p>\n"},{"tags":["java","datetime-format"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1643726567,"post_id":70942448,"comment_id":125412662,"body_markdown":"What is the error? What pattern are you using now?","body":"What is the error? What pattern are you using now?"},{"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"score":0,"creation_date":1643726625,"post_id":70942448,"comment_id":125412698,"body_markdown":"The error is : Cannot deserialize value of type `java.time.LocalDateTime` from String \\&quot;2000-11-10T00:00:00+02:00\\&quot;. I don&#39;t use pattern for now","body":"The error is : Cannot deserialize value of type <code>java.time.LocalDateTime</code> from String \\&quot;2000-11-10T00:00:00+02:00\\&quot;. I don&#39;t use pattern for now"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1643726650,"post_id":70942448,"comment_id":125412709,"body_markdown":"What do you mean exactly by “deserialize”? What are you using? Jackson in spring boot?","body":"What do you mean exactly by “deserialize”? What are you using? Jackson in spring boot?"},{"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"score":0,"creation_date":1643726692,"post_id":70942448,"comment_id":125412725,"body_markdown":"Yes I mean jackson","body":"Yes I mean jackson"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1643726745,"post_id":70942448,"comment_id":125412748,"body_markdown":"I notice that it pretty clearly has a time zone on it.","body":"I notice that it pretty clearly has a time zone on it."},{"owner":{"account_id":23214373,"reputation":177,"user_id":17307447,"display_name":"Rownum Highart"},"score":0,"creation_date":1643726799,"post_id":70942448,"comment_id":125412783,"body_markdown":"According to https://www.javatpoint.com/java-localdatetime,\nthe default format is  yyyy-MM-ddTHH-mm-ss.zzz","body":"According to <a href=\"https://www.javatpoint.com/java-localdatetime\" rel=\"nofollow noreferrer\">javatpoint.com/java-localdatetime</a>, the default format is  yyyy-MM-ddTHH-mm-ss.zzz"},{"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"score":0,"creation_date":1643727234,"post_id":70942448,"comment_id":125412967,"body_markdown":"Okay, how can I convert time that includes time-zone to LocalDateTime object ?","body":"Okay, how can I convert time that includes time-zone to LocalDateTime object ?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1643727328,"post_id":70942448,"comment_id":125413004,"body_markdown":"`ZonedDateTime` (or `OffsetDateTime`) can parse that format (ISO-8601) directly - no formatter required - and they have methods to convert to a `LocalDateTime`","body":"<code>ZonedDateTime</code> (or <code>OffsetDateTime</code>) can parse that format (ISO-8601) directly - no formatter required - and they have methods to convert to a <code>LocalDateTime</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1643742337,"post_id":70942448,"comment_id":125419313,"body_markdown":"I reopened this Question because the [alleged original](https://stackoverflow.com/q/22463062/642706) is about parsing a string with only a date and time as a `LocalDateTime`. This Question, in contrast, is about a date, a time, *and* an offset from UTC. The `LocalDateTime` solutions on that Question cannot be applied here.","body":"I reopened this Question because the <a href=\"https://stackoverflow.com/q/22463062/642706\">alleged original</a> is about parsing a string with only a date and time as a <code>LocalDateTime</code>. This Question, in contrast, is about a date, a time, <i>and</i> an offset from UTC. The <code>LocalDateTime</code> solutions on that Question cannot be applied here."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643733681,"creation_date":1643727527,"answer_id":70942721,"question_id":70942448,"body_markdown":"Your string contains time zone and `LocalDateTime` does not contgain this information. You need to use [OffsetDateTime][1] class or [ZonedDateTime][2] class. The information on the masks is provided [in Javadoc for DateTimeFormatter class][3].\r\n\r\n    OffsetDateTime odt = OffsetDateTime.parse( &quot;2000-11-10T00:00:00+02:00&quot; ) ;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"What is pattern for 2000-11-10T00:00:00+02:00","body":"<p>Your string contains time zone and <code>LocalDateTime</code> does not contgain this information. You need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\">OffsetDateTime</a> class or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a> class. The information on the masks is provided <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">in Javadoc for DateTimeFormatter class</a>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.parse( &quot;2000-11-10T00:00:00+02:00&quot; ) ;\n</code></pre>\n"}],"owner":{"account_id":20085530,"reputation":161,"user_id":14727166,"display_name":"Velat Necmettin Kanat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70942721,"answer_count":1,"score":-1,"last_activity_date":1643742250,"creation_date":1643726485,"question_id":70942448,"body_markdown":"I need to convert string in **2000-11-10T00:00:00+02:00** format to LocalDateTime object. But when I parse this string to LocalDateTime, it gives error. \r\n\r\nWhich pattern should I use to parse the string to LocalDateTime object?","title":"What is pattern for 2000-11-10T00:00:00+02:00","body":"<p>I need to convert string in <strong>2000-11-10T00:00:00+02:00</strong> format to LocalDateTime object. But when I parse this string to LocalDateTime, it gives error.</p>\n<p>Which pattern should I use to parse the string to LocalDateTime object?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"score":3,"creation_date":1393616665,"post_id":22104396,"comment_id":33530306,"body_markdown":"your comparison is wrong. Why are you matching ResultSet object with String? please refer ResultSet tutorial https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;cad=rja&amp;ved=0CD0QFjAD&amp;url=http%3A%2F%2Ftutorials.jenkov.com%2Fjdbc%2Fresultset.html&amp;ei=6ucQU5LFGIPCkwWM9IDIDQ&amp;usg=AFQjCNE5swTf7OU6jvPwsdr3XxolIhSIdw&amp;bvm=bv.62286460,d.dGI","body":"your comparison is wrong. Why are you matching ResultSet object with String? please refer ResultSet tutorial <a href=\"https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=4&amp;cad=rja&amp;ved=0CD0QFjAD&amp;url=http%3A%2F%2Ftutorials.jenkov.com%2Fjdbc%2Fresultset.html&amp;ei=6ucQU5LFGIPCkwWM9IDIDQ&amp;usg=AFQjCNE5swTf7OU6jvPwsdr3XxolIhSIdw&amp;bvm=bv.62286460,d.dGI\" rel=\"nofollow noreferrer\">google.co.in/&hellip;</a>"},{"owner":{"account_id":2105895,"reputation":1593,"user_id":1872234,"accept_rate":78,"display_name":"Wajahat"},"score":2,"creation_date":1393616793,"post_id":22104396,"comment_id":33530387,"body_markdown":"Exactly my question, your result set is another object. You cannot compare it with string. Get count of results or see if the result set contains the &#39;un&#39; for login","body":"Exactly my question, your result set is another object. You cannot compare it with string. Get count of results or see if the result set contains the &#39;un&#39; for login"}],"answers":[{"tags":[],"owner":{"account_id":2222309,"reputation":109,"user_id":2267783,"display_name":"Udit Narayan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393618984,"creation_date":1393618610,"answer_id":22104999,"question_id":22104396,"body_markdown":"Two ways to improve your code.\r\n\r\n**1.** One simple thing, just iterate over the results in result set and check for the id that you are querying. What your are doing is, you are comparing id (referred as un your code) with result set (referred as id in your code) which is wrong. Result Set is a complex data structure which contains the sql query result data and meta data about it. Your comparison of ResultSet id with query parameter id is wrong. So one way is to iterate over the result set and compare the  value of id of every row with query parameter id value and break the loop when match is found. Example: Taking over from your code\r\n\r\n&gt;     ResultSet id = rs;    \r\n&gt;     String un = request.getParameter(&quot;id&quot;);\r\n&gt;\r\n&gt;     boolean flag = false;\r\n&gt;         \r\n&gt;     while (id.next()) { \r\n&gt;         String i = id.getString(&quot;id&quot;);\r\n&gt;         if(un.equals(i)){\r\n&gt;            flag = true;\r\n&gt;            break;\r\n&gt;         }   \r\n&gt;     }\r\n&gt;         \r\n&gt;     if(flag){\r\n&gt;       msg=&quot;Hello &quot;+ un + &quot; your login is sucess&quot;;\r\n&gt;     }\r\n&gt;     else{\r\n&gt;       msg=&quot;Hello &quot;+un + &quot; your login is unsucess&quot;;\r\n&gt;     }\r\n&gt;     response.setContentType(&quot;text/html&quot;);\r\n&gt;     PrintWriter out = response.getWriter();\r\n&gt;     out.println(&quot;&lt;font size=&#39;6&#39; color=red&gt;&quot;+ msg+ &quot;&lt;/font&gt;&quot;);\r\n\r\nSo what I did is, i iterate over the result set and for each value of result set, I compared it with query parameter that u sent. If it is matched, I got a hit and I set my flag to true which mean found and I break my loop as there is no point in looking ahead. Otherwise, my loop will eventually end when all the result set entries are exhauted and nothing matches. Therefore, my flag will remain false and later I used that flag variable to set corresponding message for the case.\r\n\r\n**2.** The first way is way too time consuming as the number of comparisons happening is far too much if your database contains lot of rows. On  the other hand, if we modify our query a bit and use the sql where clause we can let databse handle the matching and we will enjoy the ease of programming at our end. I hope the id field in db1.consomateur is primary key, then we can use this peice of code to make our life easy.\r\n\r\n    \r\n\r\n&gt; protected void service(HttpServletRequest request, HttpServletResponse\r\n&gt; response) throws ServletException, IOException {\r\n&gt;     \r\n&gt;     String id = request.getParameter(&quot;id&quot;);\r\n&gt;     String req = &quot;select id from db1.consomateur where id = &quot;+id;\r\n&gt;     boolean flag = false;\r\n&gt;     \r\n&gt;     try{\r\n&gt;     \r\n&gt;         Connection c = Codb.connect();\r\n&gt;     \r\n&gt;         Statement st = (Statement) c.createStatement();\r\n&gt;         ResultSet rs =(ResultSet)st.executeQuery(req);\r\n&gt;     \r\n&gt;         if(rs != null){\r\n&gt;           if(rs.next())\r\n&gt;             flag = true;\r\n&gt;           }\r\n&gt;         }\r\n&gt;     \r\n&gt;        if(flag){\r\n&gt;           msg=&quot;Hello &quot;+ un + &quot; your login is sucess&quot;;\r\n&gt;         }\r\n&gt;         else{\r\n&gt;           msg=&quot;Hello &quot;+un + &quot; your login is unsucess&quot;;\r\n&gt;         }\r\n&gt;     \r\n&gt;     catch(Exception e){\r\n&gt;     msg = e.getMessage();\r\n&gt;     }\r\n&gt;     \r\n&gt;     response.setContentType(&quot;text/html&quot;);    \r\n&gt;     PrintWriter out = response.getWriter();\r\n&gt;     out.println(&quot;&lt;font size=&#39;6&#39; color=red&gt;&quot;+ msg+ &quot;&lt;/font&gt;&quot;);\r\n&gt;     \r\n&gt;     }\r\n\r\nSo, if query get executed and we have result set not equal to null i.e. we have some data, we can check whether rs contains any rows. Since, id is a primary key, rs will contain only one row and rs.next will point to that row. Therefore, it will be our match and we have set our flag there. Otherwise flag will be false. In this case database itself take care of matching the ids and returning only the matching row to us. So, it will be faster as database create index over primary keys and we need not to create a loop which saves time.\r\n\r\nAlso, do not make Statement object static in second case as the query for each execution will be different based on id passed as parameter. \r\n\r\n","title":"SQL query in eclipse","body":"<p>Two ways to improve your code.</p>\n\n<p><strong>1.</strong> One simple thing, just iterate over the results in result set and check for the id that you are querying. What your are doing is, you are comparing id (referred as un your code) with result set (referred as id in your code) which is wrong. Result Set is a complex data structure which contains the sql query result data and meta data about it. Your comparison of ResultSet id with query parameter id is wrong. So one way is to iterate over the result set and compare the  value of id of every row with query parameter id value and break the loop when match is found. Example: Taking over from your code</p>\n\n<blockquote>\n<pre><code>ResultSet id = rs;    \nString un = request.getParameter(\"id\");\n\nboolean flag = false;\n\nwhile (id.next()) { \n    String i = id.getString(\"id\");\n    if(un.equals(i)){\n       flag = true;\n       break;\n    }   \n}\n\nif(flag){\n  msg=\"Hello \"+ un + \" your login is sucess\";\n}\nelse{\n  msg=\"Hello \"+un + \" your login is unsucess\";\n}\nresponse.setContentType(\"text/html\");\nPrintWriter out = response.getWriter();\nout.println(\"&lt;font size='6' color=red&gt;\"+ msg+ \"&lt;/font&gt;\");\n</code></pre>\n</blockquote>\n\n<p>So what I did is, i iterate over the result set and for each value of result set, I compared it with query parameter that u sent. If it is matched, I got a hit and I set my flag to true which mean found and I break my loop as there is no point in looking ahead. Otherwise, my loop will eventually end when all the result set entries are exhauted and nothing matches. Therefore, my flag will remain false and later I used that flag variable to set corresponding message for the case.</p>\n\n<p><strong>2.</strong> The first way is way too time consuming as the number of comparisons happening is far too much if your database contains lot of rows. On  the other hand, if we modify our query a bit and use the sql where clause we can let databse handle the matching and we will enjoy the ease of programming at our end. I hope the id field in db1.consomateur is primary key, then we can use this peice of code to make our life easy.</p>\n\n<blockquote>\n  <p>protected void service(HttpServletRequest request, HttpServletResponse\n  response) throws ServletException, IOException {</p>\n\n<pre><code>String id = request.getParameter(\"id\");\nString req = \"select id from db1.consomateur where id = \"+id;\nboolean flag = false;\n\ntry{\n\n    Connection c = Codb.connect();\n\n    Statement st = (Statement) c.createStatement();\n    ResultSet rs =(ResultSet)st.executeQuery(req);\n\n    if(rs != null){\n      if(rs.next())\n        flag = true;\n      }\n    }\n\n   if(flag){\n      msg=\"Hello \"+ un + \" your login is sucess\";\n    }\n    else{\n      msg=\"Hello \"+un + \" your login is unsucess\";\n    }\n\ncatch(Exception e){\nmsg = e.getMessage();\n}\n\nresponse.setContentType(\"text/html\");    \nPrintWriter out = response.getWriter();\nout.println(\"&lt;font size='6' color=red&gt;\"+ msg+ \"&lt;/font&gt;\");\n\n}\n</code></pre>\n</blockquote>\n\n<p>So, if query get executed and we have result set not equal to null i.e. we have some data, we can check whether rs contains any rows. Since, id is a primary key, rs will contain only one row and rs.next will point to that row. Therefore, it will be our match and we have set our flag there. Otherwise flag will be false. In this case database itself take care of matching the ids and returning only the matching row to us. So, it will be faster as database create index over primary keys and we need not to create a loop which saves time.</p>\n\n<p>Also, do not make Statement object static in second case as the query for each execution will be different based on id passed as parameter. </p>\n"}],"owner":{"account_id":4099760,"reputation":47,"user_id":3365621,"accept_rate":17,"display_name":"user3365621"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5306,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643741720,"creation_date":1393616487,"question_id":22104396,"body_markdown":"I have my connection class like this:\r\n\r\n    public class Codb {\r\n    \r\n        public static Connection connect() {\r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \r\n                String url = &quot;jdbc:mysql://&quot; +\r\n                        &quot;localhost:3306/bd1&quot;;\r\n                String user = &quot;root&quot;;\r\n                String passwd = &quot;root&quot;;\r\n    \r\n                Connection conn = (Connection) DriverManager.getConnection(url, user, passwd);\r\n    \r\n                //Cr&#233;ation d&#39;un objet Statement\r\n                Statement state = conn.createStatement();\r\n                //L&#39;objet ResultSet contient le r&#233;sultat de la requ&#234;te SQL\r\n                ResultSet result = state.executeQuery(&quot;SELECT * FROM consomateur&quot;);\r\n                //On r&#233;cup&#232;re les MetaData\r\n                ResultSetMetaData resultMeta = (ResultSetMetaData) result.getMetaData();\r\n    \r\n                System.out.println(&quot;\\n**********************************&quot;);\r\n                //On affiche le nom des colonnes\r\n                for (int i = 1; i &lt;= resultMeta.getColumnCount(); i++)\r\n                    System.out.print(&quot;\\t&quot; + resultMeta.getColumnName(i).toUpperCase() + &quot;\\t *&quot;);\r\n    \r\n                System.out.println(&quot;\\n**********************************&quot;);\r\n    \r\n                while (result.next()) {\r\n                    for (int i = 1; i &lt;= resultMeta.getColumnCount(); i++)\r\n                        System.out.print(&quot;\\t&quot; + result.getObject(i).toString() + &quot;\\t |&quot;);\r\n    \r\n                    System.out.println(&quot;\\n---------------------------------&quot;);\r\n    \r\n                }\r\n    \r\n                result.close();\r\n                    /*state.close();*/\r\n                return conn;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n    \r\n        }\r\n    }\r\n\r\nThe user enter the id and I want to know if the id is in the database, I created a servletin which I declared this: \r\n\r\n    static Statement St;\r\n    public ResultSet rs;\r\n\r\nand then I have this method that verifies if the id exists or not, but it doesn&#39;t work for me.\t\r\n\r\n      protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n        String req = &quot;select id from db1.consomateur &quot;;\r\n        try {\r\n            St = (Statement) Codb.Con.createStatement();\r\n        } catch (SQLException e1) {\r\n            // TODO Auto-generated catch block\r\n            e1.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            rs = (ResultSet) St.executeQuery(req);\r\n        } catch (SQLException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        ResultSet id = rs;\r\n\r\n        String un = request.getParameter(&quot;id&quot;);\r\n\r\n        String msg = &quot; &quot;;\r\n        if (un.equals(id)) {\r\n            msg = &quot;Hello &quot; + un + &quot; your login is sucess&quot;;\r\n\r\n        } else {\r\n            msg = &quot;Hello &quot; + un + &quot; your login is unsucess&quot;;\r\n        }\r\n\r\n        response.setContentType(&quot;text/html&quot;);\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;font siez=&#39;6&#39; color=red&gt;&quot; + msg + &quot;&lt;/font&gt;&quot;);\r\n    }\r\n","title":"SQL query in eclipse","body":"<p>I have my connection class like this:</p>\n<pre><code>public class Codb {\n\n    public static Connection connect() {\n        try {\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n\n            String url = &quot;jdbc:mysql://&quot; +\n                    &quot;localhost:3306/bd1&quot;;\n            String user = &quot;root&quot;;\n            String passwd = &quot;root&quot;;\n\n            Connection conn = (Connection) DriverManager.getConnection(url, user, passwd);\n\n            //Création d'un objet Statement\n            Statement state = conn.createStatement();\n            //L'objet ResultSet contient le résultat de la requête SQL\n            ResultSet result = state.executeQuery(&quot;SELECT * FROM consomateur&quot;);\n            //On récupère les MetaData\n            ResultSetMetaData resultMeta = (ResultSetMetaData) result.getMetaData();\n\n            System.out.println(&quot;\\n**********************************&quot;);\n            //On affiche le nom des colonnes\n            for (int i = 1; i &lt;= resultMeta.getColumnCount(); i++)\n                System.out.print(&quot;\\t&quot; + resultMeta.getColumnName(i).toUpperCase() + &quot;\\t *&quot;);\n\n            System.out.println(&quot;\\n**********************************&quot;);\n\n            while (result.next()) {\n                for (int i = 1; i &lt;= resultMeta.getColumnCount(); i++)\n                    System.out.print(&quot;\\t&quot; + result.getObject(i).toString() + &quot;\\t |&quot;);\n\n                System.out.println(&quot;\\n---------------------------------&quot;);\n\n            }\n\n            result.close();\n                /*state.close();*/\n            return conn;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n\n    }\n}\n</code></pre>\n<p>The user enter the id and I want to know if the id is in the database, I created a servletin which I declared this:</p>\n<pre><code>static Statement St;\npublic ResultSet rs;\n</code></pre>\n<p>and then I have this method that verifies if the id exists or not, but it doesn't work for me.</p>\n<pre><code>  protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    String req = &quot;select id from db1.consomateur &quot;;\n    try {\n        St = (Statement) Codb.Con.createStatement();\n    } catch (SQLException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n\n    try {\n        rs = (ResultSet) St.executeQuery(req);\n    } catch (SQLException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n    ResultSet id = rs;\n\n    String un = request.getParameter(&quot;id&quot;);\n\n    String msg = &quot; &quot;;\n    if (un.equals(id)) {\n        msg = &quot;Hello &quot; + un + &quot; your login is sucess&quot;;\n\n    } else {\n        msg = &quot;Hello &quot; + un + &quot; your login is unsucess&quot;;\n    }\n\n    response.setContentType(&quot;text/html&quot;);\n    PrintWriter out = response.getWriter();\n    out.println(&quot;&lt;font siez='6' color=red&gt;&quot; + msg + &quot;&lt;/font&gt;&quot;);\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1643739573,"post_id":70945555,"comment_id":125418322,"body_markdown":"It&#39;s difficult to diagnose without knowing what run configuration(s) you tried to add. The project needs a JDK and it needs at least one run configuration so it know what to run.","body":"It&#39;s difficult to diagnose without knowing what run configuration(s) you tried to add. The project needs a JDK and it needs at least one run configuration so it know what to run."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1643740042,"post_id":70945555,"comment_id":125418499,"body_markdown":"What error codes do you get? Can you share a screenshot of the run configuration you are trying to run and the errors that you get in the console?","body":"What error codes do you get? Can you share a screenshot of the run configuration you are trying to run and the errors that you get in the console?"}],"owner":{"account_id":24124723,"reputation":15,"user_id":18093251,"display_name":"Peter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643741349,"creation_date":1643739494,"question_id":70945555,"body_markdown":"I haven&#39;t used IntelliJ in a while and I started working on a project and when I went to run it and I realized that the run button is greyed out and consequentially I can&#39;t press it. If I go into the run menu on the top and click run it opens a little box to edit the run configurations. I tried to mess around this but every time I changed it the only thing that changed was the error code. I tried to reinstall IntelliJ and I have reinstalled the most recent version of java and the most recent JDK. I have also opened and created multiple projects still to no avail. I Don&#39;t know how much this helps but [this][1] is a picture of it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sxA7e.jpg","title":"Intellij run button is greyed out","body":"<p>I haven't used IntelliJ in a while and I started working on a project and when I went to run it and I realized that the run button is greyed out and consequentially I can't press it. If I go into the run menu on the top and click run it opens a little box to edit the run configurations. I tried to mess around this but every time I changed it the only thing that changed was the error code. I tried to reinstall IntelliJ and I have reinstalled the most recent version of java and the most recent JDK. I have also opened and created multiple projects still to no avail. I Don't know how much this helps but <a href=\"https://i.stack.imgur.com/sxA7e.jpg\" rel=\"nofollow noreferrer\">this</a> is a picture of it.</p>\n"},{"tags":["python","java","wait","plantuml"],"comments":[{"owner":{"account_id":4928565,"reputation":1263,"user_id":3969110,"display_name":"Gonzalo Odiard"},"score":2,"creation_date":1643678983,"post_id":70933598,"comment_id":125399548,"body_markdown":"You can use subprocess.call() that waits until the process finish https://docs.python.org/3/library/subprocess.html#subprocess.call","body":"You can use subprocess.call() that waits until the process finish <a href=\"https://docs.python.org/3/library/subprocess.html#subprocess.call\" rel=\"nofollow noreferrer\">docs.python.org/3/library/subprocess.html#subprocess.call</a>"}],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643741260,"creation_date":1643741260,"answer_id":70945901,"question_id":70933598,"body_markdown":"As Gonzalo Odiard already suggested in the comments, the solution could be found by using `subprocess.call` instead of `subprocess.Popen`. So a solution looked like:\r\n\r\n```\r\ndef run_bash_command(bashCommand):\r\n    # Verbose call.\r\n    subprocess.call(bashCommand, shell=True)\r\n    # Silent call.\r\n    # subprocess.call(bashCommand, shell=True, stderr=subprocess.DEVNULL, stdout=subprocess.DEVNULL)\r\n```\r\nIt was verified on Ubuntu 21.04 Using Python 3.6.","title":"How to wait until java compilation of PlantUML diagrams is completed, in Python?","body":"<p>As Gonzalo Odiard already suggested in the comments, the solution could be found by using <code>subprocess.call</code> instead of <code>subprocess.Popen</code>. So a solution looked like:</p>\n<pre><code>def run_bash_command(bashCommand):\n    # Verbose call.\n    subprocess.call(bashCommand, shell=True)\n    # Silent call.\n    # subprocess.call(bashCommand, shell=True, stderr=subprocess.DEVNULL, stdout=subprocess.DEVNULL)\n</code></pre>\n<p>It was verified on Ubuntu 21.04 Using Python 3.6.</p>\n"}],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70945901,"answer_count":1,"score":1,"last_activity_date":1643741260,"creation_date":1643668214,"question_id":70933598,"body_markdown":"## Context\r\nI&#39;ve written a Python code that:\r\n\r\n 1. First generates PlantUML `.uml` files.\r\n 2. Then runs a Java command to locally compile those `.uml` files into `.png` diagrams.\r\n 3. Exports those diagrams into a `/images` directory for latex compilation.\r\n 4. Then compiles a latex document that integrates those generated PlantUML diagrams.\r\n\r\n## Code\r\nThe Python that compiles the `.uml` files into `.png` files is:\r\n```\r\ndef compile_gantt(relative_plant_uml_java_filepath,relative_src_filepath,src_to_gantt_path):\r\n    os.environ[&quot;PLANTUML_LIMIT_SIZE&quot;] = &quot;8192&quot;\r\n    run_bash_command(\r\n        f&quot;java -jar {relative_plant_uml_java_filepath} -verbose {relative_src_filepath}{src_to_gantt_path}&quot;\r\n    )\r\n\r\ndef run_bash_command(bashCommand):\r\n    # Verbose call.\r\n    subprocess.Popen(bashCommand, shell=True)\r\n    # Silent call.\r\n    #subprocess.Popen(bashCommand, shell=True, stderr=subprocess.DEVNULL, stdout=subprocess.DEVNULL)\r\n```\r\nAnd I have written a method that waits until all `.png` files are created:\r\n```\r\ndef await_and_verify_compilation_results(self, dir, expected_diagram_filenames,compilation_timout):\r\n        pause_per_iteration=4 #seconds\r\n        \r\n        count=0 # seconds\r\n        while count&lt;compilation_timout:\r\n            all_found=True\r\n            for diagram_filename in expected_diagram_filenames:\r\n                if not os.path.isfile(f&quot;{dir}/{diagram_filename}&quot;):\r\n                    all_found=False\r\n                    print(f&quot;Did not yet find:{dir}/{diagram_filename}&quot;)\r\n            print(f&quot;Awaiting compilation of Gantt charts: count={count}/{compilation_timout}.&quot;)\r\n            \r\n            # Break while condition.\r\n            if all_found:\r\n                count=compilation_timout+pause_per_iteration\r\n            \r\n            # Continue waiting.\r\n            count=count+pause_per_iteration\r\n            time.sleep(pause_per_iteration)\r\n        \r\n        if not all_found:\r\n            raise Exception(&quot;Did not find all gantt diagrams in time!&quot;)\r\n        time.sleep(30) # allow extra buffer for all images to be finalised.\r\n```\r\n\r\n## Issue\r\nThe Python code proceeds before the images are completely generated by the Java process.\r\n\r\nThis means the images are created but it takes a while before they are actually filled with data. Even when they are filled with data it takes a while before they are completed. For example `some_diagram.png` may increase in file size from 0 kb, to 800 bytes to 1.2 kb over the timespan of a few seconds. So my &quot;await_and_verify_compilation_results` does not wait until the generation of the pictures is completed.\r\n\r\n## Question\r\nHow can I make the Python code wait until the Java process/PlantUML generation of the `.png` files is completed?\r\n\r\n## Considerations\r\nSince the `.png` files are generated automatically, I do not know what their final file size would be. I can set a manual pause of `x` seconds after each `png` to ensure they are completed on my device, but I would not want others with a faster device to have to wait on my buffer. Additionally such a hardcoded loiter may be unreliable, and inefficient compilation-timewise. So I think the most simple solution would be to modify the python function that calls the Java function. I have not yet found out how to make that wait, nor have I found how I can make the Java function signal that is is completed. (The PlantUML `.jar` file is downloaded automatically and I would prefer not to tamper with their file).","title":"How to wait until java compilation of PlantUML diagrams is completed, in Python?","body":"<h2>Context</h2>\n<p>I've written a Python code that:</p>\n<ol>\n<li>First generates PlantUML <code>.uml</code> files.</li>\n<li>Then runs a Java command to locally compile those <code>.uml</code> files into <code>.png</code> diagrams.</li>\n<li>Exports those diagrams into a <code>/images</code> directory for latex compilation.</li>\n<li>Then compiles a latex document that integrates those generated PlantUML diagrams.</li>\n</ol>\n<h2>Code</h2>\n<p>The Python that compiles the <code>.uml</code> files into <code>.png</code> files is:</p>\n<pre><code>def compile_gantt(relative_plant_uml_java_filepath,relative_src_filepath,src_to_gantt_path):\n    os.environ[&quot;PLANTUML_LIMIT_SIZE&quot;] = &quot;8192&quot;\n    run_bash_command(\n        f&quot;java -jar {relative_plant_uml_java_filepath} -verbose {relative_src_filepath}{src_to_gantt_path}&quot;\n    )\n\ndef run_bash_command(bashCommand):\n    # Verbose call.\n    subprocess.Popen(bashCommand, shell=True)\n    # Silent call.\n    #subprocess.Popen(bashCommand, shell=True, stderr=subprocess.DEVNULL, stdout=subprocess.DEVNULL)\n</code></pre>\n<p>And I have written a method that waits until all <code>.png</code> files are created:</p>\n<pre><code>def await_and_verify_compilation_results(self, dir, expected_diagram_filenames,compilation_timout):\n        pause_per_iteration=4 #seconds\n        \n        count=0 # seconds\n        while count&lt;compilation_timout:\n            all_found=True\n            for diagram_filename in expected_diagram_filenames:\n                if not os.path.isfile(f&quot;{dir}/{diagram_filename}&quot;):\n                    all_found=False\n                    print(f&quot;Did not yet find:{dir}/{diagram_filename}&quot;)\n            print(f&quot;Awaiting compilation of Gantt charts: count={count}/{compilation_timout}.&quot;)\n            \n            # Break while condition.\n            if all_found:\n                count=compilation_timout+pause_per_iteration\n            \n            # Continue waiting.\n            count=count+pause_per_iteration\n            time.sleep(pause_per_iteration)\n        \n        if not all_found:\n            raise Exception(&quot;Did not find all gantt diagrams in time!&quot;)\n        time.sleep(30) # allow extra buffer for all images to be finalised.\n</code></pre>\n<h2>Issue</h2>\n<p>The Python code proceeds before the images are completely generated by the Java process.</p>\n<p>This means the images are created but it takes a while before they are actually filled with data. Even when they are filled with data it takes a while before they are completed. For example <code>some_diagram.png</code> may increase in file size from 0 kb, to 800 bytes to 1.2 kb over the timespan of a few seconds. So my &quot;await_and_verify_compilation_results` does not wait until the generation of the pictures is completed.</p>\n<h2>Question</h2>\n<p>How can I make the Python code wait until the Java process/PlantUML generation of the <code>.png</code> files is completed?</p>\n<h2>Considerations</h2>\n<p>Since the <code>.png</code> files are generated automatically, I do not know what their final file size would be. I can set a manual pause of <code>x</code> seconds after each <code>png</code> to ensure they are completed on my device, but I would not want others with a faster device to have to wait on my buffer. Additionally such a hardcoded loiter may be unreliable, and inefficient compilation-timewise. So I think the most simple solution would be to modify the python function that calls the Java function. I have not yet found out how to make that wait, nor have I found how I can make the Java function signal that is is completed. (The PlantUML <code>.jar</code> file is downloaded automatically and I would prefer not to tamper with their file).</p>\n"},{"tags":["java","jersey","jax-rs","keycloak","keycloak-rest-api"],"owner":{"account_id":24124992,"reputation":11,"user_id":18093459,"display_name":"Vedhanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643741041,"creation_date":1643741041,"question_id":70945861,"body_markdown":"Below code prevents loading swagger UI ,\r\nI want to restrict only sepecific endpoints like /api/milk , api/pen\r\n(https://localhost:8080/mapi/v2/api/milk)\r\n\r\nI&#39;m using JAX-RS-Jersey, embeeded jetty with keycloak-jetty adapter\r\n\r\n\r\n\r\n    ContextHandlerCollection contextHandlerCollection = new ContextHandlerCollection();\r\n\t\r\n\tString webappLocation = &quot;../../apiv2.war&quot;;\r\n    if (!new File(webappLocation).exists())\r\n      webappLocation = &quot;./UI/apiv2-webapp/&quot;;\r\n\r\n    WebAppContext apiv2WebAppContext = new WebAppContext(webappLocation, &quot;/mapi/v2/&quot;);\r\n    \r\n    ContextHandlerCollection secureContexts = new ContextHandlerCollection();\r\n    secureContexts.setHandlers(new Handler[] {apiv2WebAppContext});\r\n    \r\n    SecurityHandler securityHandler = createBasicAuthSecurityHandler();\r\n    securityHandler.setHandler(secureContexts);\r\n    \r\n    KeycloakJettyAuthenticator keycloakJettyAuthenticator = new KeycloakJettyAuthenticator();\r\n\r\n    AdapterConfig adapterConfig = new AdapterConfig();\r\n    adapterConfig.setRealm(realm);\r\n    adapterConfig.setAuthServerUrl(AuthURL);\r\n    adapterConfig.setResource(clientID);    \r\n    adapterConfig.setSslRequired(String.valueOf(SslRequired.NONE));\r\n    adapterConfig.setBearerOnly(true);\r\n    keycloakJettyAuthenticator.setAdapterConfig(adapterConfig);\r\n    securityHandler.setAuthenticator(keycloakJettyAuthenticator);        \r\n    contextHandlerCollection.addHandler(securityHandler);\t \t ","title":"Swagger - KeyCloak Restrict Particular Endpoint with Bearer Only","body":"<p>Below code prevents loading swagger UI ,\nI want to restrict only sepecific endpoints like /api/milk , api/pen\n(https://localhost:8080/mapi/v2/api/milk)</p>\n<p>I'm using JAX-RS-Jersey, embeeded jetty with keycloak-jetty adapter</p>\n<pre><code>ContextHandlerCollection contextHandlerCollection = new ContextHandlerCollection();\n\nString webappLocation = &quot;../../apiv2.war&quot;;\nif (!new File(webappLocation).exists())\n  webappLocation = &quot;./UI/apiv2-webapp/&quot;;\n\nWebAppContext apiv2WebAppContext = new WebAppContext(webappLocation, &quot;/mapi/v2/&quot;);\n\nContextHandlerCollection secureContexts = new ContextHandlerCollection();\nsecureContexts.setHandlers(new Handler[] {apiv2WebAppContext});\n\nSecurityHandler securityHandler = createBasicAuthSecurityHandler();\nsecurityHandler.setHandler(secureContexts);\n\nKeycloakJettyAuthenticator keycloakJettyAuthenticator = new KeycloakJettyAuthenticator();\n\nAdapterConfig adapterConfig = new AdapterConfig();\nadapterConfig.setRealm(realm);\nadapterConfig.setAuthServerUrl(AuthURL);\nadapterConfig.setResource(clientID);    \nadapterConfig.setSslRequired(String.valueOf(SslRequired.NONE));\nadapterConfig.setBearerOnly(true);\nkeycloakJettyAuthenticator.setAdapterConfig(adapterConfig);\nsecurityHandler.setAuthenticator(keycloakJettyAuthenticator);        \ncontextHandlerCollection.addHandler(securityHandler);        \n</code></pre>\n"},{"tags":["java","scala","velocity"],"comments":[{"owner":{"account_id":1033922,"reputation":15185,"user_id":1041692,"accept_rate":94,"display_name":"Christopher Chiche"},"score":1,"creation_date":1327832921,"post_id":9051413,"comment_id":11358464,"body_markdown":"Maybe it is just that you should declare the package as `package com.ggd543.velocitydemo`","body":"Maybe it is just that you should declare the package as <code>package com.ggd543.velocitydemo</code>"}],"answers":[{"tags":[],"owner":{"account_id":1060072,"reputation":830,"user_id":1061891,"accept_rate":33,"display_name":"wau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639055276,"creation_date":1329212444,"answer_id":9274645,"question_id":9051413,"body_markdown":"Make sure you have a properly configured resource loader. See Velocity documentation for help selecting and configuring a resource loader: https://velocity.apache.org/engine/1.7/developer-guide.html#configuring-resource-loaders\r\n","title":"Unable to find velocity template resources","body":"<p>Make sure you have a properly configured resource loader. See Velocity documentation for help selecting and configuring a resource loader: <a href=\"https://velocity.apache.org/engine/1.7/developer-guide.html#configuring-resource-loaders\" rel=\"nofollow noreferrer\">https://velocity.apache.org/engine/1.7/developer-guide.html#configuring-resource-loaders</a></p>\n"},{"tags":[],"owner":{"account_id":1856221,"reputation":1409,"user_id":1681739,"display_name":"Sameer Technomark"},"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1354594424,"creation_date":1354594424,"answer_id":13695976,"question_id":9051413,"body_markdown":"Great question - I solved my issue today as follows using Ecilpse:\r\n\r\n1. Put your template in the same folder hierarchy as your source code (not in a separate folder hierarchy even if you include it in the build path) as below:\r\n![Where to put your template file][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/S8wct.jpg\r\n\r\n2. In your code simply use the following lines of code (assuming you just want the date to be passed as data):\r\n\r\n\t    VelocityEngine ve = new VelocityEngine();\r\n\t    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n\t    ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\n\t    ve.init();\r\n\t    VelocityContext context = new VelocityContext();\r\n\t    context.put(&quot;date&quot;, getMyTimestampFunction());\r\n\t    Template t = ve.getTemplate( &quot;templates/email_html_new.vm&quot; );\r\n\t    StringWriter writer = new StringWriter();\r\n\t    t.merge( context, writer );\r\n\r\nSee how first we tell VelocityEngine to look in the classpath. Without this it wouldn&#39;t know where to look.","title":"Unable to find velocity template resources","body":"<p>Great question - I solved my issue today as follows using Ecilpse:</p>\n\n<ol>\n<li><p>Put your template in the same folder hierarchy as your source code (not in a separate folder hierarchy even if you include it in the build path) as below:\n<img src=\"https://i.stack.imgur.com/S8wct.jpg\" alt=\"Where to put your template file\"></p></li>\n<li><p>In your code simply use the following lines of code (assuming you just want the date to be passed as data):</p>\n\n<pre><code>VelocityEngine ve = new VelocityEngine();\nve.setProperty(RuntimeConstants.RESOURCE_LOADER, \"classpath\");\nve.setProperty(\"classpath.resource.loader.class\", ClasspathResourceLoader.class.getName());\nve.init();\nVelocityContext context = new VelocityContext();\ncontext.put(\"date\", getMyTimestampFunction());\nTemplate t = ve.getTemplate( \"templates/email_html_new.vm\" );\nStringWriter writer = new StringWriter();\nt.merge( context, writer );\n</code></pre></li>\n</ol>\n\n<p>See how first we tell VelocityEngine to look in the classpath. Without this it wouldn't know where to look.</p>\n"},{"tags":[],"owner":{"account_id":2820543,"reputation":123,"user_id":2424389,"display_name":"Guernize"},"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1369647299,"creation_date":1369646218,"answer_id":16769944,"question_id":9051413,"body_markdown":"You can just use it like this: \r\n\r\n    Template t = ve.getTemplate(&quot;./src/main/resources/templates/email_html_new.vm&quot;);\r\n\r\nIt works.","title":"Unable to find velocity template resources","body":"<p>You can just use it like this: </p>\n\n<pre><code>Template t = ve.getTemplate(\"./src/main/resources/templates/email_html_new.vm\");\n</code></pre>\n\n<p>It works.</p>\n"},{"tags":[],"owner":{"account_id":3830916,"reputation":23,"user_id":3176467,"display_name":"xDemon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390208006,"creation_date":1390208006,"answer_id":21229680,"question_id":9051413,"body_markdown":"you can try to add these code:\r\n\r\n    VelocityEngine ve = new VelocityEngine();\r\n    String vmPath = request.getSession().getServletContext().getRealPath(&quot;${your dir}&quot;);\r\n    Properties p = new Properties();\r\n    p.setProperty(&quot;file.resource.loader.path&quot;, vmPath+&quot;//&quot;);\r\n    ve.init(p);\r\n\r\n I do this, and pass!","title":"Unable to find velocity template resources","body":"<p>you can try to add these code:</p>\n\n<pre><code>VelocityEngine ve = new VelocityEngine();\nString vmPath = request.getSession().getServletContext().getRealPath(\"${your dir}\");\nProperties p = new Properties();\np.setProperty(\"file.resource.loader.path\", vmPath+\"//\");\nve.init(p);\n</code></pre>\n\n<p>I do this, and pass!</p>\n"},{"tags":[],"owner":{"account_id":3417768,"reputation":1027,"user_id":2866161,"display_name":"SzB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448880297,"creation_date":1448880297,"answer_id":33996744,"question_id":9051413,"body_markdown":"While using embedded jetty the property webapp.resource.loader.path should starts with slash:\r\n\r\n    webapp.resource.loader.path=/templates\r\n\r\notherwise templates will not be found in ../webapp/templates\r\n","title":"Unable to find velocity template resources","body":"<p>While using embedded jetty the property webapp.resource.loader.path should starts with slash:</p>\n\n<pre><code>webapp.resource.loader.path=/templates\n</code></pre>\n\n<p>otherwise templates will not be found in ../webapp/templates</p>\n"},{"tags":[],"owner":{"account_id":352305,"reputation":3,"user_id":689307,"display_name":"user689307"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465310223,"creation_date":1465310223,"answer_id":37682311,"question_id":9051413,"body_markdown":"You can also put your templates folder under src/main/resources instead of src/main/java. Works for me and it&#39;s a preferable location since templates are not java source.","title":"Unable to find velocity template resources","body":"<p>You can also put your templates folder under src/main/resources instead of src/main/java. Works for me and it's a preferable location since templates are not java source.</p>\n"},{"tags":[],"owner":{"account_id":8404794,"reputation":107,"user_id":6308591,"display_name":"SheoSinha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466440831,"creation_date":1466440831,"answer_id":37927670,"question_id":9051413,"body_markdown":"    VelocityEngine velocityEngin = new VelocityEngine();\r\n    velocityEngin.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n    velocityEngin.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\n    \r\n    velocityEngin.init();\r\n    \r\n    Template template = velocityEngin.getTemplate(&quot;nameOfTheTemplateFile.vtl&quot;);\r\n\r\nyou could use the above code to set the properties for velocity template. You can then give the name of the tempalte file when initializing the Template and it will find if it exists in the classpath.\r\n\r\nAll the above classes come from package org.apache.velocity*\r\n\r\n","title":"Unable to find velocity template resources","body":"<pre><code>VelocityEngine velocityEngin = new VelocityEngine();\nvelocityEngin.setProperty(RuntimeConstants.RESOURCE_LOADER, \"classpath\");\nvelocityEngin.setProperty(\"classpath.resource.loader.class\", ClasspathResourceLoader.class.getName());\n\nvelocityEngin.init();\n\nTemplate template = velocityEngin.getTemplate(\"nameOfTheTemplateFile.vtl\");\n</code></pre>\n\n<p>you could use the above code to set the properties for velocity template. You can then give the name of the tempalte file when initializing the Template and it will find if it exists in the classpath.</p>\n\n<p>All the above classes come from package org.apache.velocity*</p>\n"},{"tags":[],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1470560313,"creation_date":1470560313,"answer_id":38812523,"question_id":9051413,"body_markdown":"I put my .vm under the `src/main/resources/templates`, then the code is :\r\n\r\n    Properties p = new Properties();\r\n    p.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\r\n    p.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n    Velocity.init( p );       \r\n    VelocityContext context = new VelocityContext();\t       \r\n    Template template = Velocity.getTemplate(&quot;templates/my.vm&quot;);\r\n\r\nthis works in web project.  \r\n\r\nIn eclipse Velocity.getTemplate(&quot;my.vm&quot;) works since velocity will look for the .vm file in src/main/resources/ or src/main/resources/templates, but in web project, we have to use Velocity.getTemplate(&quot;templates/my.vm&quot;);","title":"Unable to find velocity template resources","body":"<p>I put my .vm under the <code>src/main/resources/templates</code>, then the code is :</p>\n\n<pre><code>Properties p = new Properties();\np.setProperty(\"resource.loader\", \"class\");\np.setProperty(\"class.resource.loader.class\", \"org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader\");\nVelocity.init( p );       \nVelocityContext context = new VelocityContext();           \nTemplate template = Velocity.getTemplate(\"templates/my.vm\");\n</code></pre>\n\n<p>this works in web project.  </p>\n\n<p>In eclipse Velocity.getTemplate(\"my.vm\") works since velocity will look for the .vm file in src/main/resources/ or src/main/resources/templates, but in web project, we have to use Velocity.getTemplate(\"templates/my.vm\");</p>\n"},{"tags":[],"owner":{"account_id":8773440,"reputation":1452,"user_id":6559414,"accept_rate":54,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487918458,"creation_date":1487918458,"answer_id":42432351,"question_id":9051413,"body_markdown":"I faced the similar problem with intellij IDEA.\r\nyou can use this \r\n\r\n     VelocityEngine ve = new VelocityEngine();\r\n        Properties props = new Properties();\r\n        props.put(&quot;file.resource.loader.path&quot;, &quot;/Users/Projects/Comparator/src/main/resources/&quot;);\r\n        ve.init(props);\r\n\r\n        Template t = ve.getTemplate(&quot;helloworld.vm&quot;);\r\n        VelocityContext context = new VelocityContext();","title":"Unable to find velocity template resources","body":"<p>I faced the similar problem with intellij IDEA.\nyou can use this </p>\n\n<pre><code> VelocityEngine ve = new VelocityEngine();\n    Properties props = new Properties();\n    props.put(\"file.resource.loader.path\", \"/Users/Projects/Comparator/src/main/resources/\");\n    ve.init(props);\n\n    Template t = ve.getTemplate(\"helloworld.vm\");\n    VelocityContext context = new VelocityContext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4060289,"reputation":891,"user_id":3337028,"accept_rate":67,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520862618,"creation_date":1520861943,"answer_id":49236650,"question_id":9051413,"body_markdown":"I faced a similar issue. I was copying the velocity engine mail templates in wrong folder. Since **JavaMailSender** and **VelocityEngine** are declared as resources under **MailService**, its required to add the templates under resource folder declared for the project.\r\n\r\nI made the changes and it worked. Put the templates as \r\n\r\n    src/main/resources/templates/&lt;package&gt;/sampleMail.vm","title":"Unable to find velocity template resources","body":"<p>I faced a similar issue. I was copying the velocity engine mail templates in wrong folder. Since <strong>JavaMailSender</strong> and <strong>VelocityEngine</strong> are declared as resources under <strong>MailService</strong>, its required to add the templates under resource folder declared for the project.</p>\n\n<p>I made the changes and it worked. Put the templates as </p>\n\n<pre><code>src/main/resources/templates/&lt;package&gt;/sampleMail.vm\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13788675,"reputation":1,"user_id":9951816,"display_name":"maxwlford224 buenconsejo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1529204233,"creation_date":1529202966,"answer_id":50893233,"question_id":9051413,"body_markdown":"Just a simple velocity standalone app based on maven structure. Here is the code snippet written in Scala to render the template helloworld.vm in \r\n\r\n    ${basedir}/src/main/resources folder:\r\n\r\n","title":"Unable to find velocity template resources","body":"<p>Just a simple velocity standalone app based on maven structure. Here is the code snippet written in Scala to render the template helloworld.vm in </p>\n\n<pre><code>${basedir}/src/main/resources folder:\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5427046,"reputation":4501,"user_id":4318982,"accept_rate":55,"display_name":"gihan-maduranga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601480980,"creation_date":1563451235,"answer_id":57093976,"question_id":9051413,"body_markdown":"I have put this working code snippet for future references. The code sample was written with Apache velocity version 1.7 with embedded Jetty. \r\n\r\nVelocity template path is located at the resource folder email_templates subfolder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Code Snippet in Java** (Snippets are worked both running on eclipse and inside a Jar)\r\n\r\n        templateName = &quot;/email_templates/byoa.tpl.vm&quot;\r\n        VelocityEngine ve = new VelocityEngine();\r\n        ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\r\n        ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\r\n        ve.init();\r\n        Template t = ve.getTemplate(this.templateName);\r\n        VelocityContext velocityContext = new VelocityContext();\r\n        velocityContext.put(&quot;&quot;,&quot;&quot;) // put your template values here\r\n        StringWriter writer = new StringWriter();\r\n        t.merge(this.velocityContext, writer);\r\n    \r\n    System.out.println(writer.toString()); // print the updated template as string\r\n\r\n**For OSGI plugging code snippets**.\r\n\r\n    final String TEMPLATE = &quot;resources/template.vm&quot; // located in the resources folder\r\n    Thread current = Thread.currentThread();\r\n    \t   ClassLoader oldLoader = current.getContextClassLoader();\r\n    \t   try {\r\n    \t      current.setContextClassLoader(TemplateHelper.class.getClassLoader()); // TemplateHelper is a class inside your jar file\r\n    \t      Properties p = new Properties();\r\n    \t      p.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\r\n    \t      p.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\r\n    \t      Velocity.init( p );       \r\n    \t      VelocityEngine ve = new VelocityEngine();\r\n    \t      Template template = Velocity.getTemplate( TEMPLATE );\r\n    \t      VelocityContext context = new VelocityContext();\r\n    \t      context.put(&quot;tc&quot;, obj);\r\n    \t      StringWriter writer = new StringWriter();\r\n    \t      template.merge( context, writer );\r\n    \t\t  return writer.toString() ;  \r\n    \t   }  catch(Exception e){\r\n    \t\t  e.printStackTrace();\r\n    \t   } finally {\r\n    \t      current.setContextClassLoader(oldLoader);\r\n    \t   }\r\n\r\n  [1]: https://i.stack.imgur.com/MRdUx.png","title":"Unable to find velocity template resources","body":"<p>I have put this working code snippet for future references. The code sample was written with Apache velocity version 1.7 with embedded Jetty.</p>\n<p>Velocity template path is located at the resource folder email_templates subfolder.</p>\n<p><a href=\"https://i.stack.imgur.com/MRdUx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MRdUx.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code Snippet in Java</strong> (Snippets are worked both running on eclipse and inside a Jar)</p>\n<pre><code>    templateName = &quot;/email_templates/byoa.tpl.vm&quot;\n    VelocityEngine ve = new VelocityEngine();\n    ve.setProperty(RuntimeConstants.RESOURCE_LOADER, &quot;classpath&quot;);\n    ve.setProperty(&quot;classpath.resource.loader.class&quot;, ClasspathResourceLoader.class.getName());\n    ve.init();\n    Template t = ve.getTemplate(this.templateName);\n    VelocityContext velocityContext = new VelocityContext();\n    velocityContext.put(&quot;&quot;,&quot;&quot;) // put your template values here\n    StringWriter writer = new StringWriter();\n    t.merge(this.velocityContext, writer);\n\nSystem.out.println(writer.toString()); // print the updated template as string\n</code></pre>\n<p><strong>For OSGI plugging code snippets</strong>.</p>\n<pre><code>final String TEMPLATE = &quot;resources/template.vm&quot; // located in the resources folder\nThread current = Thread.currentThread();\n       ClassLoader oldLoader = current.getContextClassLoader();\n       try {\n          current.setContextClassLoader(TemplateHelper.class.getClassLoader()); // TemplateHelper is a class inside your jar file\n          Properties p = new Properties();\n          p.setProperty(&quot;resource.loader&quot;, &quot;class&quot;);\n          p.setProperty(&quot;class.resource.loader.class&quot;, &quot;org.apache.velocity.runtime.resource.loader.ClasspathResourceLoader&quot;);\n          Velocity.init( p );       \n          VelocityEngine ve = new VelocityEngine();\n          Template template = Velocity.getTemplate( TEMPLATE );\n          VelocityContext context = new VelocityContext();\n          context.put(&quot;tc&quot;, obj);\n          StringWriter writer = new StringWriter();\n          template.merge( context, writer );\n          return writer.toString() ;  \n       }  catch(Exception e){\n          e.printStackTrace();\n       } finally {\n          current.setContextClassLoader(oldLoader);\n       }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20694941,"reputation":11,"user_id":15195364,"display_name":"Susan Liya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613106143,"creation_date":1613105351,"answer_id":66166478,"question_id":9051413,"body_markdown":"The following code helped me resolve the issue. \r\nThe path to the template needs to be provided as part of file.resource.loader path. \r\nBy default it comes as &quot;.&quot; . \r\nSo setting the property explicitly will be required. \r\n\r\nPrint `getClass().getClassLoader().getResource(&quot;resources&quot;)` \r\nor `getClass().getClassLoader().getResource(&quot;&quot;)` \r\nto see where your template comes and based on that set it in the velocity template engine.\r\n\r\n    URL url = getClass().getClassLoader().getResource(&quot;resources&quot;);\r\n    //URL url = getClass().getClassLoader().getResource(&quot;&quot;);\r\n    File folder= new File(url.getFile());\t\r\n    VelocityEngine ve = new VelocityEngine();\r\n           \r\n    ve.setProperty(Velocity.FILE_RESOURCE_LOADER_PATH, folder.getAbsolutePath());\r\n    ve.init();\r\n    \r\n    Template template = ve.getTemplate( &quot;MyTemplate.vm&quot; );\r\n","title":"Unable to find velocity template resources","body":"<p>The following code helped me resolve the issue.\nThe path to the template needs to be provided as part of file.resource.loader path.\nBy default it comes as &quot;.&quot; .\nSo setting the property explicitly will be required.</p>\n<p>Print <code>getClass().getClassLoader().getResource(&quot;resources&quot;)</code>\nor <code>getClass().getClassLoader().getResource(&quot;&quot;)</code>\nto see where your template comes and based on that set it in the velocity template engine.</p>\n<pre><code>URL url = getClass().getClassLoader().getResource(&quot;resources&quot;);\n//URL url = getClass().getClassLoader().getResource(&quot;&quot;);\nFile folder= new File(url.getFile());   \nVelocityEngine ve = new VelocityEngine();\n       \nve.setProperty(Velocity.FILE_RESOURCE_LOADER_PATH, folder.getAbsolutePath());\nve.init();\n\nTemplate template = ve.getTemplate( &quot;MyTemplate.vm&quot; );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22909694,"reputation":652,"user_id":17047177,"display_name":"A.Casanova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643740679,"creation_date":1643740679,"answer_id":70945803,"question_id":9051413,"body_markdown":"Using IntelIJ Idea community 2021.3, you just need to start your project  with this config:\r\n\r\n        VelocityEngine engine = new VelocityEngine();\r\n        Properties props = new Properties();\r\n        final String path = &quot;src/main/resources/templates/&quot;;\r\n        props.put(&quot;file.resource.loader.path&quot;, path);\r\n        engine.init(props);\r\n\r\nYou can put  whatever path you want but realize that it will start from the project_root defined in the idea.\r\n\r\n**DISCLAIMER** This solution may NOT work outside the IDE","title":"Unable to find velocity template resources","body":"<p>Using IntelIJ Idea community 2021.3, you just need to start your project  with this config:</p>\n<pre><code>    VelocityEngine engine = new VelocityEngine();\n    Properties props = new Properties();\n    final String path = &quot;src/main/resources/templates/&quot;;\n    props.put(&quot;file.resource.loader.path&quot;, path);\n    engine.init(props);\n</code></pre>\n<p>You can put  whatever path you want but realize that it will start from the project_root defined in the idea.</p>\n<p><strong>DISCLAIMER</strong> This solution may NOT work outside the IDE</p>\n"}],"owner":{"account_id":1206681,"reputation":631,"user_id":1176142,"display_name":"Archer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118386,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":14,"score":63,"last_activity_date":1643740679,"creation_date":1327818684,"question_id":9051413,"body_markdown":"Just a simple velocity standalone app based on maven structure. Here is the code snippet written in Scala to render the template `helloworld.vm` in `${basedir}/src/main/resources` folder: \r\n\r\n    com.ggd543.velocitydemo\r\n    \r\n    import org.apache.velocity.app.VelocityEngine\r\n    import org.apache.velocity.VelocityContext\r\n    import java.io.StringWriter\r\n    \r\n    /**\r\n     * @author ${user.name}\r\n     */\r\n    object App {\r\n    \r\n      def main(args: Array[String]) {\r\n        //First , get and initialize an engine\r\n        val ve = new VelocityEngine();\r\n        ve.init();\r\n    \r\n        //Second, get the template\r\n        val resUrl = getClass.getResource(&quot;/helloworld.vm&quot;)\r\n        val t = ve.getTemplate(&quot;helloworld.vm&quot;);   // not work \r\n    //    val t = ve.getTemplate(&quot;/helloworld.vm&quot;);  // not work\r\n    //    val t = ve.getTemplate(resUrl.toString);  // not work yet\r\n        //Third, create a context and add data\r\n        val context = new VelocityContext();\r\n        context.put(&quot;name&quot;, &quot;Archer&quot;)\r\n        context.put(&quot;site&quot;, &quot;http://www.baidu.com&quot;)\r\n        //Finally , render the template into a StringWriter\r\n        val sw = new StringWriter\r\n        t.merge(context, sw)\r\n        println(sw.toString);\r\n      }\r\n    \r\n    }\r\n\r\nwhen to compile and run the program, I got the following error:\r\n\r\n    2012-1-29 14:03:59 org.apache.velocity.runtime.log.JdkLogChute log\r\n    严重: ResourceManager : unable to find resource &#39;/helloworld.vm&#39; in any resource loader.\r\n    Exception in thread &quot;main&quot; org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;/helloworld.vm&#39;\r\n    \tat org.apache.velocity.runtime.resource.ResourceManagerImpl.loadResource(ResourceManagerImpl.java:474)\r\n    \tat org.apache.velocity.runtime.resource.ResourceManagerImpl.getResource(ResourceManagerImpl.java:352)\r\n    \tat org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533)\r\n    \tat org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1514)\r\n    \tat org.apache.velocity.app.VelocityEngine.getTemplate(VelocityEngine.java:373)\r\n    \tat com.ggd543.velocitydemo.App$.main(App.scala:20)\r\n    \tat com.ggd543.velocitydemo.App.main(App.scala)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\n    \r\n    Process finished with exit code 1\r\n\r\n","title":"Unable to find velocity template resources","body":"<p>Just a simple velocity standalone app based on maven structure. Here is the code snippet written in Scala to render the template <code>helloworld.vm</code> in <code>${basedir}/src/main/resources</code> folder: </p>\n\n<pre><code>com.ggd543.velocitydemo\n\nimport org.apache.velocity.app.VelocityEngine\nimport org.apache.velocity.VelocityContext\nimport java.io.StringWriter\n\n/**\n * @author ${user.name}\n */\nobject App {\n\n  def main(args: Array[String]) {\n    //First , get and initialize an engine\n    val ve = new VelocityEngine();\n    ve.init();\n\n    //Second, get the template\n    val resUrl = getClass.getResource(\"/helloworld.vm\")\n    val t = ve.getTemplate(\"helloworld.vm\");   // not work \n//    val t = ve.getTemplate(\"/helloworld.vm\");  // not work\n//    val t = ve.getTemplate(resUrl.toString);  // not work yet\n    //Third, create a context and add data\n    val context = new VelocityContext();\n    context.put(\"name\", \"Archer\")\n    context.put(\"site\", \"http://www.baidu.com\")\n    //Finally , render the template into a StringWriter\n    val sw = new StringWriter\n    t.merge(context, sw)\n    println(sw.toString);\n  }\n\n}\n</code></pre>\n\n<p>when to compile and run the program, I got the following error:</p>\n\n<pre><code>2012-1-29 14:03:59 org.apache.velocity.runtime.log.JdkLogChute log\n严重: ResourceManager : unable to find resource '/helloworld.vm' in any resource loader.\nException in thread \"main\" org.apache.velocity.exception.ResourceNotFoundException: Unable to find resource '/helloworld.vm'\n    at org.apache.velocity.runtime.resource.ResourceManagerImpl.loadResource(ResourceManagerImpl.java:474)\n    at org.apache.velocity.runtime.resource.ResourceManagerImpl.getResource(ResourceManagerImpl.java:352)\n    at org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1533)\n    at org.apache.velocity.runtime.RuntimeInstance.getTemplate(RuntimeInstance.java:1514)\n    at org.apache.velocity.app.VelocityEngine.getTemplate(VelocityEngine.java:373)\n    at com.ggd543.velocitydemo.App$.main(App.scala:20)\n    at com.ggd543.velocitydemo.App.main(App.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","spring-boot","yaml","config"],"answers":[{"tags":[],"owner":{"account_id":23996479,"reputation":139,"user_id":17981941,"display_name":"Dhanraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643740329,"creation_date":1643740329,"answer_id":70945718,"question_id":70945542,"body_markdown":"You can change the location of config files by setting spring.config.location.\r\n\r\nRef - https://javadeveloperzone.com/spring-boot/spring-boot-location-of-application-properties-or-yml-file/#5_Customize_the_location_of_applicationproperties","title":"Spring-boot yaml config change default path","body":"<p>You can change the location of config files by setting spring.config.location.</p>\n<p>Ref - <a href=\"https://javadeveloperzone.com/spring-boot/spring-boot-location-of-application-properties-or-yml-file/#5_Customize_the_location_of_applicationproperties\" rel=\"nofollow noreferrer\">https://javadeveloperzone.com/spring-boot/spring-boot-location-of-application-properties-or-yml-file/#5_Customize_the_location_of_applicationproperties</a></p>\n"}],"owner":{"account_id":13159576,"reputation":3,"user_id":9505576,"display_name":"user9505576"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1643789800,"accepted_answer_id":70945718,"answer_count":1,"score":0,"last_activity_date":1643740329,"creation_date":1643739409,"question_id":70945542,"body_markdown":"I want to change *.yaml configs files default path to root level under &quot;/config&quot; directory (now default is &quot;/src/main/resources&quot;).\r\nProbably this is possible by create config bean but I never did it and in documentation cannot find information if this is possible to do in this way. I want to change default path so all config profiles should normally run using new location without any special additions except overwrite config. The same I want to do for configs using in tests but put into &quot;/config-tests&quot; directory.\r\nThank you very much for help with this.","title":"Spring-boot yaml config change default path","body":"<p>I want to change *.yaml configs files default path to root level under &quot;/config&quot; directory (now default is &quot;/src/main/resources&quot;).\nProbably this is possible by create config bean but I never did it and in documentation cannot find information if this is possible to do in this way. I want to change default path so all config profiles should normally run using new location without any special additions except overwrite config. The same I want to do for configs using in tests but put into &quot;/config-tests&quot; directory.\nThank you very much for help with this.</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1643791294,"post_id":70945507,"comment_id":125430054,"body_markdown":"Does this answer your question? [Parsing timestamp as LocalDateTime](https://stackoverflow.com/questions/54941872/parsing-timestamp-as-localdatetime)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54941872/parsing-timestamp-as-localdatetime\">Parsing timestamp as LocalDateTime</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1643739946,"creation_date":1643739946,"answer_id":70945648,"question_id":70945507,"body_markdown":"You&#39;re just using the default `toString()` implementation, which in turn uses the default `LocalDateTime.toString()` implementation, which is documented as:\r\n\r\n&gt; The output will be one of the following ISO-8601 formats:\r\n&gt;\r\n&gt; - uuuu-MM-dd&#39;T&#39;HH:mm\r\n&gt; - uuuu-MM-dd&#39;T&#39;HH:mm:ss\r\n&gt; - uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS\r\n&gt; - uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSS\r\n&gt; - uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSS\r\n&gt; \r\n&gt; The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.\r\n\r\nIf you want a *non-default* format, which it sounds like you do, you need to use a `DateTimeFormatter`. I *suspect* that [`DateTimeFormatter.ISO_ZONED_DATE_TIME`](https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME) does what you want - but if it doesn&#39;t, just build one that has the exact format you want.\r\n\r\nSample code:\r\n\r\n```java\r\nimport java.time.*;\r\nimport java.time.format.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        Instant instant = Instant.ofEpochMilli(1643587200000L);\r\n        ZoneId zone = ZoneId.of(&quot;Europe/Lisbon&quot;);\r\n        ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zone);\r\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_ZONED_DATE_TIME;\r\n        System.out.println(formatter.format(zdt));\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```text\r\n2022-01-31T00:00:00Z[Europe/Lisbon]\r\n```","title":"ZonedDateTime.ofInstant not Showing seconds","body":"<p>You're just using the default <code>toString()</code> implementation, which in turn uses the default <code>LocalDateTime.toString()</code> implementation, which is documented as:</p>\n<blockquote>\n<p>The output will be one of the following ISO-8601 formats:</p>\n<ul>\n<li>uuuu-MM-dd'T'HH:mm</li>\n<li>uuuu-MM-dd'T'HH:mm:ss</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSS</li>\n<li>uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSS</li>\n</ul>\n<p>The format used will be the shortest that outputs the full value of the time where the omitted parts are implied to be zero.</p>\n</blockquote>\n<p>If you want a <em>non-default</em> format, which it sounds like you do, you need to use a <code>DateTimeFormatter</code>. I <em>suspect</em> that <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME\" rel=\"noreferrer\"><code>DateTimeFormatter.ISO_ZONED_DATE_TIME</code></a> does what you want - but if it doesn't, just build one that has the exact format you want.</p>\n<p>Sample code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.*;\nimport java.time.format.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        Instant instant = Instant.ofEpochMilli(1643587200000L);\n        ZoneId zone = ZoneId.of(&quot;Europe/Lisbon&quot;);\n        ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zone);\n        DateTimeFormatter formatter = DateTimeFormatter.ISO_ZONED_DATE_TIME;\n        System.out.println(formatter.format(zdt));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>2022-01-31T00:00:00Z[Europe/Lisbon]\n</code></pre>\n"}],"owner":{"account_id":17544215,"reputation":23,"user_id":12725844,"display_name":"Guilherme Alves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":604,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70945648,"answer_count":1,"score":1,"last_activity_date":1643739946,"creation_date":1643739291,"question_id":70945507,"body_markdown":"I&#39;m trying to obtain the time using ZonedDateTime.ofInstant giving a specific date-time, however i&#39;ve noticed that in some ocasions the result given doesn&#39;t come with seconds in it.\r\nCode Example representing the situation i&#39;m working on\r\n```\r\nimport java.time.*;\r\n  \r\npublic class GFG {\r\n    public static void main(String[] args)\r\n    {\r\n  \r\n  \r\n        \r\n        // create a long variable for milliseconds\r\n        //this is the same as &quot;2022-01-31T00:00:00.00Z&quot;\r\n\t\tlong milliseconds1\t= 1643587200000L;\r\n\t\tlong milliseconds2\t= 1643587201000L;\r\n\t\t\t\r\n\r\n\t\t// get Instant using ofEpochMilli() method\r\n\t\tInstant instant1\r\n\t\t\t= Instant.ofEpochMilli(milliseconds1); \r\n        // create Instant object\r\n        Instant instant2\r\n            = Instant.ofEpochMilli(milliseconds2);\r\n  \r\n        // create a ZonID\r\n        ZoneId zone = ZoneId.of(&quot;Europe/Lisbon&quot;);\r\n  \r\n        // apply ofInstant method\r\n        // of ZonedDateTime class\r\n        ZonedDateTime zt1 = ZonedDateTime\r\n                               .ofInstant(instant1, zone);\r\n        ZonedDateTime zt2 = ZonedDateTime\r\n                                .ofInstant(instant2, zone);\r\n  \r\n        // print the result\r\n        System.out.println(&quot;ZonedDateTime is &quot; + zt1);\r\n        System.out.println(&quot;ZonedDateTime is &quot; + zt2);\r\n    }\r\n}\r\n```\r\nThe result of this code execution is as follows:\r\n```\r\nZonedDateTime is 2022-01-31T00:00Z[Europe/Lisbon]\r\nZonedDateTime is 2022-01-31T00:00:01Z[Europe/Lisbon]\r\n```\r\nI need to get the seconds that are not showing in the first result but i can&#39;t understand why it&#39;s not showing\r\nIs there a reason for ZonedDateTime.ofInstant to not give the full time, or is there a different way to get the time to a specific time zone in YYYY-MM-DD:HH:MM:SS?\r\n","title":"ZonedDateTime.ofInstant not Showing seconds","body":"<p>I'm trying to obtain the time using ZonedDateTime.ofInstant giving a specific date-time, however i've noticed that in some ocasions the result given doesn't come with seconds in it.\nCode Example representing the situation i'm working on</p>\n<pre><code>import java.time.*;\n  \npublic class GFG {\n    public static void main(String[] args)\n    {\n  \n  \n        \n        // create a long variable for milliseconds\n        //this is the same as &quot;2022-01-31T00:00:00.00Z&quot;\n        long milliseconds1  = 1643587200000L;\n        long milliseconds2  = 1643587201000L;\n            \n\n        // get Instant using ofEpochMilli() method\n        Instant instant1\n            = Instant.ofEpochMilli(milliseconds1); \n        // create Instant object\n        Instant instant2\n            = Instant.ofEpochMilli(milliseconds2);\n  \n        // create a ZonID\n        ZoneId zone = ZoneId.of(&quot;Europe/Lisbon&quot;);\n  \n        // apply ofInstant method\n        // of ZonedDateTime class\n        ZonedDateTime zt1 = ZonedDateTime\n                               .ofInstant(instant1, zone);\n        ZonedDateTime zt2 = ZonedDateTime\n                                .ofInstant(instant2, zone);\n  \n        // print the result\n        System.out.println(&quot;ZonedDateTime is &quot; + zt1);\n        System.out.println(&quot;ZonedDateTime is &quot; + zt2);\n    }\n}\n</code></pre>\n<p>The result of this code execution is as follows:</p>\n<pre><code>ZonedDateTime is 2022-01-31T00:00Z[Europe/Lisbon]\nZonedDateTime is 2022-01-31T00:00:01Z[Europe/Lisbon]\n</code></pre>\n<p>I need to get the seconds that are not showing in the first result but i can't understand why it's not showing\nIs there a reason for ZonedDateTime.ofInstant to not give the full time, or is there a different way to get the time to a specific time zone in YYYY-MM-DD:HH:MM:SS?</p>\n"},{"tags":["java","javafx","java-8"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1643736627,"post_id":70944837,"comment_id":125417120,"body_markdown":"Where&#39;s the portion of your stack trace that starts &quot;Caused by...&quot;?","body":"Where&#39;s the portion of your stack trace that starts &quot;Caused by...&quot;?"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1643736938,"post_id":70944837,"comment_id":125417257,"body_markdown":"I don&#39;t have any Cause By... (strangely) in the stack. Maybe because the JVM does not have the time to print the whole stack before it is closed? (it happens when I&#39;m quitting the app)","body":"I don&#39;t have any Cause By... (strangely) in the stack. Maybe because the JVM does not have the time to print the whole stack before it is closed? (it happens when I&#39;m quitting the app)"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1643737221,"post_id":70944837,"comment_id":125417370,"body_markdown":"I will try -XX:-OmitStackTraceInFastThrow as explained here, maybe I will have the &quot;Caused by&quot; then : https://stackoverflow.com/questions/58696093/when-does-jvm-start-to-omit-stack-traces","body":"I will try -XX:-OmitStackTraceInFastThrow as explained here, maybe I will have the &quot;Caused by&quot; then : <a href=\"https://stackoverflow.com/questions/58696093/when-does-jvm-start-to-omit-stack-traces\" title=\"when does jvm start to omit stack traces\">stackoverflow.com/questions/58696093/&hellip;</a>"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1643739321,"post_id":70944837,"comment_id":125418221,"body_markdown":"I explained what I think about the origin of the NPE in the question. However I still don&#39;t know why it happens and how to fix it.","body":"I explained what I think about the origin of the NPE in the question. However I still don&#39;t know why it happens and how to fix it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643744569,"post_id":70944837,"comment_id":125420082,"body_markdown":"You could try a recent stable version of JavaFX, e.g., 17.0.2 and see if the issue reproduces.  If the error is happening on quit and there are no other adverse problems with the app, then you could just ignore the error.","body":"You could try a recent stable version of JavaFX, e.g., 17.0.2 and see if the issue reproduces.  If the error is happening on quit and there are no other adverse problems with the app, then you could just ignore the error."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1643751624,"post_id":70944837,"comment_id":125422250,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643875837,"post_id":70944837,"comment_id":125456726,"body_markdown":"You could try explicitly calling Platform.exit() when the app is quit.","body":"You could try explicitly calling Platform.exit() when the app is quit."}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643739675,"creation_date":1643736092,"question_id":70944837,"body_markdown":"I have (sometimes) the following exception in a loop when I exit my JavaFX application:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.isSupported(QuantumToolkit.java:1196)\r\n    \tat com.sun.javafx.application.PlatformImpl.isSupportedImpl(PlatformImpl.java:809)\r\n    \tat com.sun.javafx.application.PlatformImpl.isSupported(PlatformImpl.java:482)\r\n    \tat javafx.application.Platform.isSupported(Platform.java:168)\r\n    \tat com.sun.javafx.scene.input.PickResultChooser.processOffer(PickResultChooser.java:182)\r\n    \tat com.sun.javafx.scene.input.PickResultChooser.offer(PickResultChooser.java:143)\r\n    \tat javafx.scene.Node.impl_intersects(Node.java:4943)\r\n    \tat javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2942)\r\n    \tat javafx.scene.Node.impl_pickNode(Node.java:4912)\r\n    \tat javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\r\n    \tat javafx.scene.Node.impl_pickNode(Node.java:4912)\r\n    \tat javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\r\n    \tat javafx.scene.Node.impl_pickNode(Node.java:4912)\r\n    \tat javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\r\n    \tat javafx.scene.Node.impl_pickNode(Node.java:4912)\r\n    \tat javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\r\n    \tat javafx.scene.Node.impl_pickNode(Node.java:4912)\r\n    \tat javafx.scene.Scene$MouseHandler.pickNode(Scene.java:3899)\r\n    \tat javafx.scene.Scene$MouseHandler.access$1600(Scene.java:3485)\r\n    \tat javafx.scene.Scene.pick(Scene.java:1942)\r\n    \tat javafx.scene.Scene.access$6700(Scene.java:159)\r\n    \tat javafx.scene.Scene$MouseHandler.process(Scene.java:3711)\r\n    \tat javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\r\n    \tat javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\r\n    \tat javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:432)\r\n    \tat com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:410)\r\n    \tat com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)\r\n    \tat com.sun.glass.ui.View.handleMouseEvent(View.java:555)\r\n    \tat com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:187)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nIt does not impact my app in another way, and it seems to happen when I&#39;m quitting the app by clicking on the close button on my Window. When I&#39;m quitting (and not always), I have several of this stack (last time it was 3, it&#39;s not an endless loop of course).\r\n\r\nNote that I&#39;m using Java 8, and I&#39;m using a JavaFX Scene which is called from a non-JavaFX Thread (but using a `Platform.runLater()` code), and added as a `JFXPanel` in a Swing component. I&#39;m create it in my main Thread by:\r\n\r\n    JFXPanel jfxPanel = new JFXPanel();\r\n    JFrame frame = new JFrame(&quot;GUI&quot;);\r\n    initGUI();\r\n    Container pane = frame.getContentPane();\r\n    pane.setLayout(new BorderLayout());\r\n    pane.add(jfxPanel, BorderLayout.CENTER);\r\n    frame.setVisible(true);\r\n\r\n\r\nAll the JavaFX code is performed in the following code:\r\n\r\n    private void initGUI() {\r\n      Platform.runLater(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n            initFX();\r\n         }\r\n      });\r\n    }\r\n\r\nTo answer a question in the comments, The `com.sun.glass.ui.win.WinApplication.lambda$null$4` Stack element is in the following code (which explains why this exception happens in a loop):\r\n\r\n     @Override\r\n     protected void runLoop(final Runnable launchable) {\r\n    boolean isEventThread = AccessController\r\n        .doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt; Boolean.getBoolean(&quot;javafx.embed.isEventThread&quot;));\r\n    int awareness = getDesiredAwarenesslevel();\r\n\r\n    ClassLoader classLoader = WinApplication.class.getClassLoader();\r\n    _setClassLoader(classLoader);\r\n\r\n    if (isEventThread) {\r\n        _init(awareness);\r\n        setEventThread(Thread.currentThread());\r\n        launchable.run();\r\n        return;\r\n    }\r\n    // Default stack size of Windows 32-bit application is 320K and which is\r\n    // not sufficient for few WebView based applications. Increase the stack\r\n    // size to 1MB to keep those apps running.\r\n    final long stackSize = AccessController.doPrivileged(\r\n            (PrivilegedAction&lt;Long&gt;)\r\n                    () -&gt; Long.getLong(&quot;glass.win.stackSize&quot;, PlatformUtil.isWindows32Bit() ? 1024 * 1024 : 0));\r\n    final Thread toolkitThread =\r\n        AccessController.doPrivileged((PrivilegedAction&lt;Thread&gt;) () -&gt; new Thread(\r\n            null,\r\n            () -&gt; {\r\n                _init(awareness);\r\n                _runLoop(launchable); // this is here\r\n            },\r\n            &quot;WindowsNativeRunloopThread&quot;,\r\n            stackSize));\r\n    setEventThread(toolkitThread);\r\n    toolkitThread.start();\r\n}\r\n\r\nIt&#39;s the `_runLoop(launchable);` call.\r\nThe origin of the NPE seems to be in this code:\r\n\r\n      @Override\r\n        public boolean isSupported(ConditionalFeature feature) {\r\n            switch (feature) {\r\n                case SCENE3D:\r\n                    return GraphicsPipeline.getPipeline().is3DSupported(); // this is here\r\n                ...\r\n\r\nWhich means that the `GraphicsPipeline.getPipeline()` method is called but returns null in my case &quot;when I&#39;m quitting the app&quot;.\r\n\r\nI looked in the `GraphicsPipeline` class. The `getPipeline()` method is:\r\n\r\n    public static GraphicsPipeline getPipeline() {\r\n        return installedPipeline;\r\n    }\r\n\r\nThe `installedPipeline` is set to null only when calling:\r\n\r\n    public void dispose() {\r\n        notifyDisposeHooks();\r\n        installedPipeline = null;\r\n    }\r\n\r\nSo it appear that I&#39;m calling `GraphicsPipeline.dispose()` indirectly when quitting my app, but the loop called through `public void runLoop(final Runnable launchable)` method might not be interrupted yet.\r\n\r\nI have absolutely no problem when I use the app, its just when I&#39;m quitting that I (sometimes) have this exception. What did I do wrong?","title":"Exception in JavaFX when exiting the main application","body":"<p>I have (sometimes) the following exception in a loop when I exit my JavaFX application:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException\n    at com.sun.javafx.tk.quantum.QuantumToolkit.isSupported(QuantumToolkit.java:1196)\n    at com.sun.javafx.application.PlatformImpl.isSupportedImpl(PlatformImpl.java:809)\n    at com.sun.javafx.application.PlatformImpl.isSupported(PlatformImpl.java:482)\n    at javafx.application.Platform.isSupported(Platform.java:168)\n    at com.sun.javafx.scene.input.PickResultChooser.processOffer(PickResultChooser.java:182)\n    at com.sun.javafx.scene.input.PickResultChooser.offer(PickResultChooser.java:143)\n    at javafx.scene.Node.impl_intersects(Node.java:4943)\n    at javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2942)\n    at javafx.scene.Node.impl_pickNode(Node.java:4912)\n    at javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\n    at javafx.scene.Node.impl_pickNode(Node.java:4912)\n    at javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\n    at javafx.scene.Node.impl_pickNode(Node.java:4912)\n    at javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\n    at javafx.scene.Node.impl_pickNode(Node.java:4912)\n    at javafx.scene.layout.Region.impl_pickNodeLocal(Region.java:2936)\n    at javafx.scene.Node.impl_pickNode(Node.java:4912)\n    at javafx.scene.Scene$MouseHandler.pickNode(Scene.java:3899)\n    at javafx.scene.Scene$MouseHandler.access$1600(Scene.java:3485)\n    at javafx.scene.Scene.pick(Scene.java:1942)\n    at javafx.scene.Scene.access$6700(Scene.java:159)\n    at javafx.scene.Scene$MouseHandler.process(Scene.java:3711)\n    at javafx.scene.Scene$MouseHandler.access$1500(Scene.java:3485)\n    at javafx.scene.Scene.impl_processMouseEvent(Scene.java:1762)\n    at javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2494)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:394)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:432)\n    at com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:410)\n    at com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:431)\n    at com.sun.glass.ui.View.handleMouseEvent(View.java:555)\n    at com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:187)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>It does not impact my app in another way, and it seems to happen when I'm quitting the app by clicking on the close button on my Window. When I'm quitting (and not always), I have several of this stack (last time it was 3, it's not an endless loop of course).</p>\n<p>Note that I'm using Java 8, and I'm using a JavaFX Scene which is called from a non-JavaFX Thread (but using a <code>Platform.runLater()</code> code), and added as a <code>JFXPanel</code> in a Swing component. I'm create it in my main Thread by:</p>\n<pre><code>JFXPanel jfxPanel = new JFXPanel();\nJFrame frame = new JFrame(&quot;GUI&quot;);\ninitGUI();\nContainer pane = frame.getContentPane();\npane.setLayout(new BorderLayout());\npane.add(jfxPanel, BorderLayout.CENTER);\nframe.setVisible(true);\n</code></pre>\n<p>All the JavaFX code is performed in the following code:</p>\n<pre><code>private void initGUI() {\n  Platform.runLater(new Runnable() {\n     @Override\n     public void run() {\n        initFX();\n     }\n  });\n}\n</code></pre>\n<p>To answer a question in the comments, The <code>com.sun.glass.ui.win.WinApplication.lambda$null$4</code> Stack element is in the following code (which explains why this exception happens in a loop):</p>\n<pre><code> @Override\n protected void runLoop(final Runnable launchable) {\nboolean isEventThread = AccessController\n    .doPrivileged((PrivilegedAction&lt;Boolean&gt;) () -&gt; Boolean.getBoolean(&quot;javafx.embed.isEventThread&quot;));\nint awareness = getDesiredAwarenesslevel();\n\nClassLoader classLoader = WinApplication.class.getClassLoader();\n_setClassLoader(classLoader);\n\nif (isEventThread) {\n    _init(awareness);\n    setEventThread(Thread.currentThread());\n    launchable.run();\n    return;\n}\n// Default stack size of Windows 32-bit application is 320K and which is\n// not sufficient for few WebView based applications. Increase the stack\n// size to 1MB to keep those apps running.\nfinal long stackSize = AccessController.doPrivileged(\n        (PrivilegedAction&lt;Long&gt;)\n                () -&gt; Long.getLong(&quot;glass.win.stackSize&quot;, PlatformUtil.isWindows32Bit() ? 1024 * 1024 : 0));\nfinal Thread toolkitThread =\n    AccessController.doPrivileged((PrivilegedAction&lt;Thread&gt;) () -&gt; new Thread(\n        null,\n        () -&gt; {\n            _init(awareness);\n            _runLoop(launchable); // this is here\n        },\n        &quot;WindowsNativeRunloopThread&quot;,\n        stackSize));\nsetEventThread(toolkitThread);\ntoolkitThread.start();\n</code></pre>\n<p>}</p>\n<p>It's the <code>_runLoop(launchable);</code> call.\nThe origin of the NPE seems to be in this code:</p>\n<pre><code>  @Override\n    public boolean isSupported(ConditionalFeature feature) {\n        switch (feature) {\n            case SCENE3D:\n                return GraphicsPipeline.getPipeline().is3DSupported(); // this is here\n            ...\n</code></pre>\n<p>Which means that the <code>GraphicsPipeline.getPipeline()</code> method is called but returns null in my case &quot;when I'm quitting the app&quot;.</p>\n<p>I looked in the <code>GraphicsPipeline</code> class. The <code>getPipeline()</code> method is:</p>\n<pre><code>public static GraphicsPipeline getPipeline() {\n    return installedPipeline;\n}\n</code></pre>\n<p>The <code>installedPipeline</code> is set to null only when calling:</p>\n<pre><code>public void dispose() {\n    notifyDisposeHooks();\n    installedPipeline = null;\n}\n</code></pre>\n<p>So it appear that I'm calling <code>GraphicsPipeline.dispose()</code> indirectly when quitting my app, but the loop called through <code>public void runLoop(final Runnable launchable)</code> method might not be interrupted yet.</p>\n<p>I have absolutely no problem when I use the app, its just when I'm quitting that I (sometimes) have this exception. What did I do wrong?</p>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":3731649,"reputation":324,"user_id":3103795,"accept_rate":38,"display_name":"silk_route11"},"score":0,"creation_date":1669359779,"post_id":70945302,"comment_id":131628441,"body_markdown":"Did you manage to fix the issue?","body":"Did you manage to fix the issue?"},{"owner":{"account_id":18458978,"reputation":1,"user_id":13660634,"display_name":"bot"},"score":0,"creation_date":1669974017,"post_id":70945302,"comment_id":131769428,"body_markdown":"yes, I have changed ports on postgres container &quot;51:5432&quot;","body":"yes, I have changed ports on postgres container &quot;51:5432&quot;"}],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643739483,"creation_date":1643739483,"answer_id":70945553,"question_id":70945302,"body_markdown":"If you add the following to you *docker-compose.yml*, it will probably work.\r\n\r\n     POSTGRES_DB: customer\r\n\r\nYou did no create the &quot;schema&quot;, and that&#39;s why you are getting the error.\r\n\r\nThe postgres image configuration with the fix:\r\n\r\n\r\n\r\n  \r\n\r\n    postgres:\r\n        container_name: postgres\r\n        image: postgres\r\n        environment:\r\n          POSTGRES_USER: user\r\n          POSTGRES_PASSWORD: password\r\n          PGDATA: /data/postgres\r\n          POSTGRES_DB: customer\r\n        volumes:\r\n          - postgres:/data/postgres\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        networks:\r\n          - postgres\r\n        restart: unless-stopped","title":"Cant connect to database from springboot app: password authentication failed for user &quot;user&quot;","body":"<p>If you add the following to you <em>docker-compose.yml</em>, it will probably work.</p>\n<pre><code> POSTGRES_DB: customer\n</code></pre>\n<p>You did no create the &quot;schema&quot;, and that's why you are getting the error.</p>\n<p>The postgres image configuration with the fix:</p>\n<pre><code>postgres:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n      PGDATA: /data/postgres\n      POSTGRES_DB: customer\n    volumes:\n      - postgres:/data/postgres\n    ports:\n      - &quot;5432:5432&quot;\n    networks:\n      - postgres\n    restart: unless-stopped\n</code></pre>\n"}],"owner":{"account_id":18458978,"reputation":1,"user_id":13660634,"display_name":"bot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643739483,"creation_date":1643738274,"question_id":70945302,"body_markdown":"I am trying to connect spring boot app to the postgres on docker but I got org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;user&quot; \r\neven if I use correct password(I belive so)\r\n\r\ndocker-compose.yml in main project dir:\r\n\r\n    services:\r\n      postgres:\r\n        container_name: postgres\r\n        image: postgres\r\n        environment:\r\n          POSTGRES_USER: user\r\n          POSTGRES_PASSWORD: password\r\n          PGDATA: /data/postgres\r\n        volumes:\r\n          - postgres:/data/postgres\r\n        ports:\r\n          - &quot;5432:5432&quot;\r\n        networks:\r\n          - postgres\r\n        restart: unless-stopped\r\n      pgadmin:\r\n        container_name: pgadmin\r\n        image: dpage/pgadmin4\r\n        environment:\r\n          PGADMIN_DEFAULT_EMAIL: ${PGADMIN_DEFAULT_EMAIL:-pgadmin4@pgadmin.org}\r\n          PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_DEFAULT_PASSWORD:-admin}\r\n          PGADMIN_CONFIG_SERVER_MODE: &#39;False&#39;\r\n        volumes:\r\n          - pgadmin:/var/lib/pgadmin\r\n        ports:\r\n          - &quot;5050:80&quot;\r\n        networks:\r\n          - postgres\r\n        restart: unless-stopped\r\n    \r\n    networks:\r\n      postgres:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n      postgres:\r\n      pgadmin:\r\n\r\n\r\napplication.yml in springboot app dir:\r\n   \r\n\r\n     server:\r\n      port: 8080\r\n    spring:\r\n      application:\r\n        name: customer\r\n      datasource:\r\n        password: password\r\n        url: jdbc:postgresql://localhost:5432/customer\r\n        username: user\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: create-drop\r\n        properties:\r\n          hibernate:\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            format_sql: true\r\n        show-sql: true\r\n\r\npg_hba.conf in docker:\r\n\r\n    # TYPE  DATABASE        USER            ADDRESS                 METHOD\r\n    \r\n    # &quot;local&quot; is for Unix domain socket connections only\r\n    local   all             all                                     trust\r\n    # IPv4 local connections:\r\n    host    all             all             127.0.0.1/32            trust\r\n    # IPv6 local connections:\r\n    host    all             all             ::1/128                 trust\r\n    # Allow replication connections from localhost, by a user with the\r\n    # replication privilege.\r\n    local   replication     all                                     trust\r\n    host    replication     all             127.0.0.1/32            trust\r\n    host    replication     all             ::1/128                 trust\r\n\r\nSteps I&#39;ve taken to create database:\r\n\r\nDocker compose up -d\r\n\r\n[starting containers][1]\r\n\r\n\r\n[go to http://localhost:5050/browser/# and enter master password][2]\r\n\r\n[creating server][3]\r\n\r\n[creating database][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WZ3Nk.jpg\r\n  [2]: https://i.stack.imgur.com/8LvxT.jpg\r\n  [3]: https://i.stack.imgur.com/DCTIH.jpg\r\n  [4]: https://i.stack.imgur.com/zO01A.jpg\r\n\r\n\r\nand when I try to run spring boot app I got\r\n\r\norg.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;user&quot;\r\n\r\n\r\n\r\nI tried to restart images and delete them. Please help to find the bug in my configuration.\r\n","title":"Cant connect to database from springboot app: password authentication failed for user &quot;user&quot;","body":"<p>I am trying to connect spring boot app to the postgres on docker but I got org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;user&quot;\neven if I use correct password(I belive so)</p>\n<p>docker-compose.yml in main project dir:</p>\n<pre><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n      PGDATA: /data/postgres\n    volumes:\n      - postgres:/data/postgres\n    ports:\n      - &quot;5432:5432&quot;\n    networks:\n      - postgres\n    restart: unless-stopped\n  pgadmin:\n    container_name: pgadmin\n    image: dpage/pgadmin4\n    environment:\n      PGADMIN_DEFAULT_EMAIL: ${PGADMIN_DEFAULT_EMAIL:-pgadmin4@pgadmin.org}\n      PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_DEFAULT_PASSWORD:-admin}\n      PGADMIN_CONFIG_SERVER_MODE: 'False'\n    volumes:\n      - pgadmin:/var/lib/pgadmin\n    ports:\n      - &quot;5050:80&quot;\n    networks:\n      - postgres\n    restart: unless-stopped\n\nnetworks:\n  postgres:\n    driver: bridge\n\nvolumes:\n  postgres:\n  pgadmin:\n</code></pre>\n<p>application.yml in springboot app dir:</p>\n<pre><code> server:\n  port: 8080\nspring:\n  application:\n    name: customer\n  datasource:\n    password: password\n    url: jdbc:postgresql://localhost:5432/customer\n    username: user\n  jpa:\n    hibernate:\n      ddl-auto: create-drop\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        format_sql: true\n    show-sql: true\n</code></pre>\n<p>pg_hba.conf in docker:</p>\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD\n\n# &quot;local&quot; is for Unix domain socket connections only\nlocal   all             all                                     trust\n# IPv4 local connections:\nhost    all             all             127.0.0.1/32            trust\n# IPv6 local connections:\nhost    all             all             ::1/128                 trust\n# Allow replication connections from localhost, by a user with the\n# replication privilege.\nlocal   replication     all                                     trust\nhost    replication     all             127.0.0.1/32            trust\nhost    replication     all             ::1/128                 trust\n</code></pre>\n<p>Steps I've taken to create database:</p>\n<p>Docker compose up -d</p>\n<p><a href=\"https://i.stack.imgur.com/WZ3Nk.jpg\" rel=\"nofollow noreferrer\">starting containers</a></p>\n<p><a href=\"https://i.stack.imgur.com/8LvxT.jpg\" rel=\"nofollow noreferrer\">go to http://localhost:5050/browser/# and enter master password</a></p>\n<p><a href=\"https://i.stack.imgur.com/DCTIH.jpg\" rel=\"nofollow noreferrer\">creating server</a></p>\n<p><a href=\"https://i.stack.imgur.com/zO01A.jpg\" rel=\"nofollow noreferrer\">creating database</a></p>\n<p>and when I try to run spring boot app I got</p>\n<p>org.postgresql.util.PSQLException: FATAL: password authentication failed for user &quot;user&quot;</p>\n<p>I tried to restart images and delete them. Please help to find the bug in my configuration.</p>\n"},{"tags":["java","upload","reload","avatar"],"owner":{"account_id":17099609,"reputation":131,"user_id":12373842,"display_name":"Cptain_Whitebeard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643739463,"creation_date":1643731616,"question_id":70943694,"body_markdown":"I&#39;m currently trying to create a Avatar-Upload-Field.\r\n\r\nTherefore I&#39;ve created **setUpAvatarUpload** like this:\r\n\r\n    public VerticalLayout setUpAvatarUpload() {\r\n\r\n        VerticalLayout window = new VerticalLayout();\r\n        FileBuffer buffer = new FileBuffer();\r\n        Upload upload = new Upload(buffer);\r\n        upload.addClassName(&quot;avatar_upload_field&quot;);\r\n        upload.setAcceptedFileTypes(&quot;application/png&quot;, &quot;.png&quot;, &quot;application/jpg&quot;, &quot;.jpg&quot;);\r\n        upload.setAutoUpload(false);\r\n\r\n        Button uploadButton = new Button(&quot;Avatar hochladen...&quot;);\r\n        uploadButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\r\n        upload.setUploadButton(uploadButton);\r\n\r\n        upload.addSucceededListener(event -&gt; {\r\n            InputStream fileData = buffer.getInputStream();\r\n            File uploadedFile = new File(&quot;src/main/resources/META-INF/resources/avatars/&quot; + buffer.getFileName());\r\n\r\n            try {\r\n                OutputStream stream = new FileOutputStream(uploadedFile);\r\n                stream.write(fileData.readAllBytes());\r\n                uploadedFile.getParentFile().mkdirs();\r\n                uploadedFile.createNewFile();\r\n                stream.flush();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            userService.setAvatar(&quot;avatars/&quot; + buffer.getFileName(), currentUser.getId());\r\n            UI.getCurrent().getPage().reload();\r\n\r\n        });\r\n\r\n        window.add(upload);\r\n        return window;\r\n\r\n    }\r\n\r\nAnd it actually works - it writes the correct path of the file into the h2-database and it also creates a new Instance of the Image inside the avatars/ - directory.\r\n\r\nBut here is the problem: \r\nAs soon as I want to reload the page it won&#39;t show me the new avatar - it only shows the empty field with the name of the image.\r\n\r\nI also get a Error-Message saying for example:\r\n\r\n**Couldn&#39;t find route for &#39;avatars/Resident_Evil_Village.jpg&#39;**\r\n\r\nSo it obviously couldn&#39;t find the image inside the directory - even if it&#39;s there.\r\n\r\nI can reload as often as I want - no new avatar will be shown..\r\n\r\nBut as soon as I restart the programm it will show the new Image without any problems.\r\n\r\nSo it seems like it&#39;s a sort of &quot;reload&quot; or &quot;flush&quot;-problem.\r\n\r\nCan you help me out here?\r\n\r\nThank you in Advance!\r\n\r\n**Edit: I think I need a StreamResource in some sort of way. But I have no idea how to implement it - if someone can help out here, I would be very thankful.**\r\n ","title":"Java: Vaadin Flow - Couldn&#39;t find route for &#39;avatars/... .png&#39;","body":"<p>I'm currently trying to create a Avatar-Upload-Field.</p>\n<p>Therefore I've created <strong>setUpAvatarUpload</strong> like this:</p>\n<pre><code>public VerticalLayout setUpAvatarUpload() {\n\n    VerticalLayout window = new VerticalLayout();\n    FileBuffer buffer = new FileBuffer();\n    Upload upload = new Upload(buffer);\n    upload.addClassName(&quot;avatar_upload_field&quot;);\n    upload.setAcceptedFileTypes(&quot;application/png&quot;, &quot;.png&quot;, &quot;application/jpg&quot;, &quot;.jpg&quot;);\n    upload.setAutoUpload(false);\n\n    Button uploadButton = new Button(&quot;Avatar hochladen...&quot;);\n    uploadButton.addThemeVariants(ButtonVariant.LUMO_PRIMARY);\n    upload.setUploadButton(uploadButton);\n\n    upload.addSucceededListener(event -&gt; {\n        InputStream fileData = buffer.getInputStream();\n        File uploadedFile = new File(&quot;src/main/resources/META-INF/resources/avatars/&quot; + buffer.getFileName());\n\n        try {\n            OutputStream stream = new FileOutputStream(uploadedFile);\n            stream.write(fileData.readAllBytes());\n            uploadedFile.getParentFile().mkdirs();\n            uploadedFile.createNewFile();\n            stream.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        userService.setAvatar(&quot;avatars/&quot; + buffer.getFileName(), currentUser.getId());\n        UI.getCurrent().getPage().reload();\n\n    });\n\n    window.add(upload);\n    return window;\n\n}\n</code></pre>\n<p>And it actually works - it writes the correct path of the file into the h2-database and it also creates a new Instance of the Image inside the avatars/ - directory.</p>\n<p>But here is the problem:\nAs soon as I want to reload the page it won't show me the new avatar - it only shows the empty field with the name of the image.</p>\n<p>I also get a Error-Message saying for example:</p>\n<p><strong>Couldn't find route for 'avatars/Resident_Evil_Village.jpg'</strong></p>\n<p>So it obviously couldn't find the image inside the directory - even if it's there.</p>\n<p>I can reload as often as I want - no new avatar will be shown..</p>\n<p>But as soon as I restart the programm it will show the new Image without any problems.</p>\n<p>So it seems like it's a sort of &quot;reload&quot; or &quot;flush&quot;-problem.</p>\n<p>Can you help me out here?</p>\n<p>Thank you in Advance!</p>\n<p><strong>Edit: I think I need a StreamResource in some sort of way. But I have no idea how to implement it - if someone can help out here, I would be very thankful.</strong></p>\n"},{"tags":["java","c++","32bit-64bit","windows-7-x64"],"comments":[{"owner":{"account_id":469736,"reputation":19073,"user_id":876497,"accept_rate":64,"display_name":"DejanLekic"},"score":7,"creation_date":1320955443,"post_id":8085527,"comment_id":9910160,"body_markdown":"Could it be that you just have different PATHs? Your own PATH contains java 64bit dir, while the 32bit app inherits PATH that has java 32bit dir, so it finds 32bit javaw.exe first, and executes it?","body":"Could it be that you just have different PATHs? Your own PATH contains java 64bit dir, while the 32bit app inherits PATH that has java 32bit dir, so it finds 32bit javaw.exe first, and executes it?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1320963101,"post_id":8085527,"comment_id":9912329,"body_markdown":"Can you try being explicit about which javaw.exe you want to run e.g. `C:\\\\Program Files\\\\Java\\\\jdk1.7.0\\\\bin\\\\javaw.exe`","body":"Can you try being explicit about which javaw.exe you want to run e.g. <code>C:\\\\Program Files\\\\Java\\\\jdk1.7.0\\\\bin\\\\javaw.exe</code>"}],"answers":[{"tags":[],"owner":{"account_id":447349,"reputation":304,"user_id":840926,"accept_rate":83,"display_name":"Piotr Surma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1326969046,"creation_date":1326969046,"answer_id":8924518,"question_id":8085527,"body_markdown":"If your C++ program is 32-bit, you can&#39;t do it. You must compile the C++ app as 64-bit and then you can call another 64-bit app from the executable.","title":"How to start 64-bit Java application from 32-bit C++ application?","body":"<p>If your C++ program is 32-bit, you can't do it. You must compile the C++ app as 64-bit and then you can call another 64-bit app from the executable.</p>\n"},{"tags":[],"owner":{"account_id":24036561,"reputation":1,"user_id":18016767,"display_name":"Silviu Ciuta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643739288,"creation_date":1643739288,"answer_id":70945505,"question_id":8085527,"body_markdown":"We can have combinations of OS, JDK and Eclipse bit--ness, for instance a 64-bit JDK with a 32-bit Eclipse on a 64-bit OS, or 32-bit OS, 32-bit JDK, 32-bit Eclipse, 64-bit OS, 32-bit JDK, 32-bit Eclipse, or 64-bit OS, 64-bit JDK, 64-bit Eclipse. As someone mentioned above, if your programming in C++ on 32-bit, cannot be compiled, it has to be done on 64-bit and of course another 64-bit app to run the exe.","title":"How to start 64-bit Java application from 32-bit C++ application?","body":"<p>We can have combinations of OS, JDK and Eclipse bit--ness, for instance a 64-bit JDK with a 32-bit Eclipse on a 64-bit OS, or 32-bit OS, 32-bit JDK, 32-bit Eclipse, 64-bit OS, 32-bit JDK, 32-bit Eclipse, or 64-bit OS, 64-bit JDK, 64-bit Eclipse. As someone mentioned above, if your programming in C++ on 32-bit, cannot be compiled, it has to be done on 64-bit and of course another 64-bit app to run the exe.</p>\n"}],"owner":{"account_id":37860,"reputation":5949,"user_id":108368,"accept_rate":45,"display_name":"CodeBuddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643739288,"creation_date":1320955141,"question_id":8085527,"body_markdown":"I&#39;m using a simple C++ program to run an executable .jar file in Windows 7 64 bit. I expected this to execute 64 bit java, but it doesn&#39;t, it executes the 32 bit version.\r\n\r\nI&#39;m using the following code:\r\n\r\n    const char* javaw_path     = &quot;javaw.exe&quot;;\r\n    const std::string memory   = &quot;-Xmx&quot; + user_configured_memory();\r\n    const char* jar            = &quot;-jar&quot;;\r\n    const char* jar_file       = &quot;\\&quot;HelloWorld.jar\\&quot;&quot;;\r\n    const std::string cli_args =  get_cli_args(argc, argv);\r\n\r\n    const char* args[] = {javaw_path, memory.c_str(),\r\n           jar, jar_file, cli_args.c_str(), static_cast&lt;char*&gt;(NULL)};    \r\n    \r\n    const int ret = execvp(javaw_path, args);\r\n\r\nWhen the java application starts up it logs the machine architecture as &#39;x86&#39; rather than  &#39;amd64&#39; as expected. I get this information by checking:\r\n\r\n    System.getProperty(&quot;os.arch&quot;)\r\n\r\nWhen I run the same command from the command prompt things work as I expected - The java app logs &#39;amd64&#39;.\r\n\r\nHow can I change my start up program to launch 64 bit java?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to start 64-bit Java application from 32-bit C++ application?","body":"<p>I'm using a simple C++ program to run an executable .jar file in Windows 7 64 bit. I expected this to execute 64 bit java, but it doesn't, it executes the 32 bit version.</p>\n\n<p>I'm using the following code:</p>\n\n<pre><code>const char* javaw_path     = \"javaw.exe\";\nconst std::string memory   = \"-Xmx\" + user_configured_memory();\nconst char* jar            = \"-jar\";\nconst char* jar_file       = \"\\\"HelloWorld.jar\\\"\";\nconst std::string cli_args =  get_cli_args(argc, argv);\n\nconst char* args[] = {javaw_path, memory.c_str(),\n       jar, jar_file, cli_args.c_str(), static_cast&lt;char*&gt;(NULL)};    \n\nconst int ret = execvp(javaw_path, args);\n</code></pre>\n\n<p>When the java application starts up it logs the machine architecture as 'x86' rather than  'amd64' as expected. I get this information by checking:</p>\n\n<pre><code>System.getProperty(\"os.arch\")\n</code></pre>\n\n<p>When I run the same command from the command prompt things work as I expected - The java app logs 'amd64'.</p>\n\n<p>How can I change my start up program to launch 64 bit java?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1643728162,"post_id":70942665,"comment_id":125413408,"body_markdown":"What&#39;s in PurposeUtils.PurposeArrayToNameDurationMap(purposes) ?","body":"What&#39;s in PurposeUtils.PurposeArrayToNameDurationMap(purposes) ?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1643728354,"post_id":70942665,"comment_id":125413506,"body_markdown":"And what&#39;s in ArrayList&lt;Purpose&gt; purposes ?","body":"And what&#39;s in ArrayList&lt;Purpose&gt; purposes ?"},{"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"score":0,"creation_date":1643731542,"post_id":70942665,"comment_id":125414910,"body_markdown":"it is an arraylist of Purpose object which is converted into the hashmap nameAndDurationMap","body":"it is an arraylist of Purpose object which is converted into the hashmap nameAndDurationMap"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643732311,"post_id":70942665,"comment_id":125415230,"body_markdown":"I assume you need to check root.get return type, and how to extract the value out of it","body":"I assume you need to check root.get return type, and how to extract the value out of it"},{"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"score":0,"creation_date":1643733224,"post_id":70942665,"comment_id":125415691,"body_markdown":"I think root.get is returning a Path&lt;String&gt;. How do i extract the value out of it?","body":"I think root.get is returning a Path&lt;String&gt;. How do i extract the value out of it?"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643733549,"post_id":70942665,"comment_id":125415842,"body_markdown":"why use root at all? what are you trying to get from nameAndDurationMap?","body":"why use root at all? what are you trying to get from nameAndDurationMap?"},{"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"score":0,"creation_date":1643733950,"post_id":70942665,"comment_id":125416012,"body_markdown":"I am trying to get the number of days(duration) it takes to handle a ticket knowing the ticket&#39;s purpose. the &quot;purpose&quot; is retrieved using root.get when the query is executed.","body":"I am trying to get the number of days(duration) it takes to handle a ticket knowing the ticket&#39;s purpose. the &quot;purpose&quot; is retrieved using root.get when the query is executed."},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":1,"creation_date":1643735382,"post_id":70942665,"comment_id":125416656,"body_markdown":"this will run on DB as DB query, you can&#39;t use the value like this","body":"this will run on DB as DB query, you can&#39;t use the value like this"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643735676,"post_id":70942665,"comment_id":125416782,"body_markdown":"it will be better to get the purpose as a parameter and then add it as a condition \nbuilder.equal(root.get(Ticket_.purpose), purpose_name);\nand then iterate it on every purpose\n\nor move this logic to DB function...","body":"it will be better to get the purpose as a parameter and then add it as a condition  builder.equal(root.get(Ticket_.purpose), purpose_name); and then iterate it on every purpose  or move this logic to DB function..."},{"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"score":0,"creation_date":1643736780,"post_id":70942665,"comment_id":125417186,"body_markdown":"If you mean iterating inside the isOnTime method, I think  I&#39;ve tried that but I couldn&#39;t break out of the loop because builder.equal(root.get(Ticket_.purpose), purpose_name); was returning Expression&lt;Boolean&gt; instead of Boolean and i didn&#39;t know how to deal with it","body":"If you mean iterating inside the isOnTime method, I think  I&#39;ve tried that but I couldn&#39;t break out of the loop because builder.equal(root.get(Ticket_.purpose), purpose_name); was returning Expression&lt;Boolean&gt; instead of Boolean and i didn&#39;t know how to deal with it"},{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1643736965,"post_id":70942665,"comment_id":125417267,"body_markdown":"in the end, you will have to combine all to one predicate(builder.and(predicates.toArray(new Predicate[0]));) \n\nI can write code as an answer, but you will probably have more work since I will dry write it","body":"in the end, you will have to combine all to one predicate(builder.and(predicates.toArray(new Predicate[0]));)   I can write code as an answer, but you will probably have more work since I will dry write it"},{"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"score":0,"creation_date":1643738083,"post_id":70942665,"comment_id":125417742,"body_markdown":"Ok. I look forward to your answer. Thanks","body":"Ok. I look forward to your answer. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643738917,"creation_date":1643738036,"answer_id":70945246,"question_id":70942665,"body_markdown":"I assume you use `javax.persistence.criteria.Root` in this line:\r\n\r\n    nameAndDurationMap.get(root.get(Ticket_.purpose)) * 86400);/*Line 208*/\r\n\r\nnote [documentation of Root][1]: \r\n\r\n&gt; Path&lt; Y &gt; get(String attributeName) Create a path corresponding to the\r\n&gt; referenced attribute.\r\n\r\nso you ask the map to get the value that indeed is not there\r\n\r\nNote that root is not a value holder, it is a for the prdicat creation, so in your predict you will say I want value X(root) to met Y condition\r\n\r\nthis will become SQL query, so it has to be values that SQL can handle, your code will not be called on every ticket... if you want to do it either makes it iterate every purpose\r\n\r\n        (\r\n        if purpose_x == Ticket_.purpose and le(...)\r\n        or purpose_y == Ticket_.purpose and le(...)\r\n        )\r\n\r\n or move the logic to DB function you can call \r\n\r\n \r\ncode that will give the idea but probably will not run since it dry:\r\n\r\n    public class TicketSpecification {\r\n\r\n\t\r\n\tpublic static Specification&lt;Ticket&gt; isOntime(ArrayList&lt;Purpose&gt; purposes){\r\n\t\treturn (root, query, builder) -&gt; {\r\n\t\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\t\tfor(Purpose purpose: purposes) {\r\n\t\t\t\tpredicates.add(isOntime(purpose.getName(), purpose.getDuration(),root, query, builder);\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn builder.or(predicates.toArray(new Predicate[0]));\r\n\t\t}\r\n\t}\r\n    public static Predicate isOntime(String purposes_name,int purposes_time,Root&lt;Ticket&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {      \r\n                return builder.and(\r\n\t\t\t\t\tbuilder.equal(root.get(Ticket_.purpose),purposes_name)\r\n\t\t\t\t\t,\r\n\t\t\t\t\tbuilder.le(\r\n                        builder.diff(\r\n                                builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.handledAt)),\r\n                                builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.createdAt))\r\n                        )\r\n                        ,(purposes_time * 86400);/*Line 208*/\r\n\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n            }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://www.objectdb.com/api/java/jpa/criteria/Root","title":"java.lang.NullPointerException due to &#39;Map&lt;String, Integer&gt;&#39; may not contain keys of type &#39;Path&lt;String&gt;&#39;","body":"<p>I assume you use <code>javax.persistence.criteria.Root</code> in this line:</p>\n<pre><code>nameAndDurationMap.get(root.get(Ticket_.purpose)) * 86400);/*Line 208*/\n</code></pre>\n<p>note <a href=\"https://www.objectdb.com/api/java/jpa/criteria/Root\" rel=\"nofollow noreferrer\">documentation of Root</a>:</p>\n<blockquote>\n<p>Path&lt; Y &gt; get(String attributeName) Create a path corresponding to the\nreferenced attribute.</p>\n</blockquote>\n<p>so you ask the map to get the value that indeed is not there</p>\n<p>Note that root is not a value holder, it is a for the prdicat creation, so in your predict you will say I want value X(root) to met Y condition</p>\n<p>this will become SQL query, so it has to be values that SQL can handle, your code will not be called on every ticket... if you want to do it either makes it iterate every purpose</p>\n<pre><code>    (\n    if purpose_x == Ticket_.purpose and le(...)\n    or purpose_y == Ticket_.purpose and le(...)\n    )\n</code></pre>\n<p>or move the logic to DB function you can call</p>\n<p>code that will give the idea but probably will not run since it dry:</p>\n<pre><code>public class TicketSpecification {\n\n\npublic static Specification&lt;Ticket&gt; isOntime(ArrayList&lt;Purpose&gt; purposes){\n    return (root, query, builder) -&gt; {\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n    \n        for(Purpose purpose: purposes) {\n            predicates.add(isOntime(purpose.getName(), purpose.getDuration(),root, query, builder);\n        }\n    \n        return builder.or(predicates.toArray(new Predicate[0]));\n    }\n}\npublic static Predicate isOntime(String purposes_name,int purposes_time,Root&lt;Ticket&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder builder) {      \n            return builder.and(\n                builder.equal(root.get(Ticket_.purpose),purposes_name)\n                ,\n                builder.le(\n                    builder.diff(\n                            builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.handledAt)),\n                            builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.createdAt))\n                    )\n                    ,(purposes_time * 86400);/*Line 208*/\n                    )\n            );\n        }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22493178,"reputation":3,"user_id":16690624,"display_name":"Festus D. CODJO"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70945246,"answer_count":1,"score":0,"last_activity_date":1643738917,"creation_date":1643727308,"question_id":70942665,"body_markdown":"I am facing an issue in a springboot project,\r\nI am trying to retrieve statistics of &quot;Tickets&quot; that are handled ontime using jpa specifications.\r\nTicket are given a number of days to handle based on the purpose.\r\n \r\n\r\nHere is the error:\r\n\r\n    java.lang.NullPointerException: null\r\n    \tat com.ticketcorp.ticket.repository.TicketSpecification.lambda$isOntime$c9c337fb$1(TicketSpecification.java:208) ~[classes/:na]\r\n\r\nWhich i Believe is to be expected since i got this warning on the same line:\r\n\r\n    &#39;Map&lt;String, Integer&gt;&#39; may not contain keys of type &#39;Path&lt;String&gt;&#39; \r\n\r\nHere is my Ticket Entity:\r\n\r\n    @Table(name = &quot;tickets&quot;)\r\n    public class Ticket {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n        private String code;\r\n        private String purpose;\r\n        @Lob\r\n        @Column(columnDefinition = &quot;TEXT&quot;)\r\n        private String content;\r\n        @Lob\r\n        @Column(columnDefinition = &quot;TEXT&quot;)\r\n        private String solution;\r\n        @Lob\r\n        @Column(columnDefinition = &quot;TEXT&quot;)\r\n        private String comment;\r\n        private int status;\r\n        private LocalDateTime createdAt= LocalDateTime.now();\r\n        private LocalDateTime handledAt= LocalDateTime.now();\r\n    }\r\n\r\nHere is my Ticket Specification:\r\n\r\n        public class TicketSpecification {\r\n        public static Specification&lt;Ticket&gt; isOntime(ArrayList&lt;Purpose&gt; purposes) {\r\n               \r\n           return (root, query, builder) -&gt; {\r\n            /*Example of content for nameAndDurationMap: {Suggestion=25, Bug report=1}*/\r\n            Map&lt;String, Integer&gt; nameAndDurationMap = PurposeUtils.PurposeArrayToNameDurationMap(purposes);\r\n                    \r\n                    return builder.le(\r\n                            builder.diff(\r\n                                    builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.handledAt)),\r\n                                    builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.createdAt))\r\n                            )\r\n                            , nameAndDurationMap.get(root.get(Ticket_.purpose)) * 86400);/*Line 208*/\r\n        \r\n                };\r\n            }\r\n        }\r\n\r\nHere is my Ticket Service:\r\n\r\n    @Service\r\n    public class TicketService {\r\n        @Autowired\r\n        private TicketRepository ticketRepository;\r\n    \r\n    public String countTicketsHandledOnTime(){\r\n        int handledStatus=2;\r\n    \r\n        Specification&lt;Ticket&gt; allTicketHandledOnTimeQuery =where(TicketSpecification.isHandled(handledStatus)).and(TicketSpecification.isOntime(purposes));\r\n    \r\n    return String.valueOf(ticketRepository.count(allTicketHandledOntimeQuery));\r\n    }\r\n    \r\n    }\r\nHere is Purpose POJO Model:\r\n\r\n    public class Purpose{\r\n        private String id;\r\n        private String name;\r\n        private String description;\r\n        private int level;\r\n        private int duration;\r\n    }\r\nHere is PurposeUtils : \r\nIt takes a list of purposes and generate a hashmap of purpose and number of days it should take to handle a ticket of that purpose. \r\n\r\n    public class PurposeUtils {\r\n        public static Map&lt;String, Integer&gt; PurposeArrayToNameDurationMap(ArrayList&lt;Purpose&gt; purposes) {\r\n            Map&lt;String, Integer&gt; purposeMap = new HashMap&lt;String, Integer&gt;();\r\n            for(Purpose purpose: purposes) {\r\n                purposeMap.put(purpose.getName(), purpose.getDuration());\r\n            }\r\n            return purposeMap;\r\n        }\r\n    }\r\n\r\n","title":"java.lang.NullPointerException due to &#39;Map&lt;String, Integer&gt;&#39; may not contain keys of type &#39;Path&lt;String&gt;&#39;","body":"<p>I am facing an issue in a springboot project,\nI am trying to retrieve statistics of &quot;Tickets&quot; that are handled ontime using jpa specifications.\nTicket are given a number of days to handle based on the purpose.</p>\n<p>Here is the error:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.ticketcorp.ticket.repository.TicketSpecification.lambda$isOntime$c9c337fb$1(TicketSpecification.java:208) ~[classes/:na]\n</code></pre>\n<p>Which i Believe is to be expected since i got this warning on the same line:</p>\n<pre><code>'Map&lt;String, Integer&gt;' may not contain keys of type 'Path&lt;String&gt;' \n</code></pre>\n<p>Here is my Ticket Entity:</p>\n<pre><code>@Table(name = &quot;tickets&quot;)\npublic class Ticket {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    private String code;\n    private String purpose;\n    @Lob\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String content;\n    @Lob\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String solution;\n    @Lob\n    @Column(columnDefinition = &quot;TEXT&quot;)\n    private String comment;\n    private int status;\n    private LocalDateTime createdAt= LocalDateTime.now();\n    private LocalDateTime handledAt= LocalDateTime.now();\n}\n</code></pre>\n<p>Here is my Ticket Specification:</p>\n<pre><code>    public class TicketSpecification {\n    public static Specification&lt;Ticket&gt; isOntime(ArrayList&lt;Purpose&gt; purposes) {\n           \n       return (root, query, builder) -&gt; {\n        /*Example of content for nameAndDurationMap: {Suggestion=25, Bug report=1}*/\n        Map&lt;String, Integer&gt; nameAndDurationMap = PurposeUtils.PurposeArrayToNameDurationMap(purposes);\n                \n                return builder.le(\n                        builder.diff(\n                                builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.handledAt)),\n                                builder.function(&quot;unix_timestamp&quot;, Long.class, root.get(Ticket_.createdAt))\n                        )\n                        , nameAndDurationMap.get(root.get(Ticket_.purpose)) * 86400);/*Line 208*/\n    \n            };\n        }\n    }\n</code></pre>\n<p>Here is my Ticket Service:</p>\n<pre><code>@Service\npublic class TicketService {\n    @Autowired\n    private TicketRepository ticketRepository;\n\npublic String countTicketsHandledOnTime(){\n    int handledStatus=2;\n\n    Specification&lt;Ticket&gt; allTicketHandledOnTimeQuery =where(TicketSpecification.isHandled(handledStatus)).and(TicketSpecification.isOntime(purposes));\n\nreturn String.valueOf(ticketRepository.count(allTicketHandledOntimeQuery));\n}\n\n}\n</code></pre>\n<p>Here is Purpose POJO Model:</p>\n<pre><code>public class Purpose{\n    private String id;\n    private String name;\n    private String description;\n    private int level;\n    private int duration;\n}\n</code></pre>\n<p>Here is PurposeUtils :\nIt takes a list of purposes and generate a hashmap of purpose and number of days it should take to handle a ticket of that purpose.</p>\n<pre><code>public class PurposeUtils {\n    public static Map&lt;String, Integer&gt; PurposeArrayToNameDurationMap(ArrayList&lt;Purpose&gt; purposes) {\n        Map&lt;String, Integer&gt; purposeMap = new HashMap&lt;String, Integer&gt;();\n        for(Purpose purpose: purposes) {\n            purposeMap.put(purpose.getName(), purpose.getDuration());\n        }\n        return purposeMap;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643738851,"creation_date":1643736063,"answer_id":70944831,"question_id":70944563,"body_markdown":"You probably can&#39;t change the behaviour, but you can use some of `JTable`s methods to convert between the two:\r\n* `int convertColumnIndexToModel(int viewColumnIndex)`\r\n* `int convertColumnIndexToView(int modelColumnIndex)`\r\n* `int convertRowIndexToModel(int viewRowIndex)`\r\n* `int convertRowIndexToView(int modelRowIndex)`","title":"How do I change view index based selection in JTable to model index based selection?","body":"<p>You probably can't change the behaviour, but you can use some of <code>JTable</code>s methods to convert between the two:</p>\n<ul>\n<li><code>int convertColumnIndexToModel(int viewColumnIndex)</code></li>\n<li><code>int convertColumnIndexToView(int modelColumnIndex)</code></li>\n<li><code>int convertRowIndexToModel(int viewRowIndex)</code></li>\n<li><code>int convertRowIndexToView(int modelRowIndex)</code></li>\n</ul>\n"}],"owner":{"account_id":24124002,"reputation":3,"user_id":18092650,"display_name":"TolstoySan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70944831,"answer_count":1,"score":0,"last_activity_date":1643738872,"creation_date":1643734965,"question_id":70944563,"body_markdown":"By default, the selection of rows in a `JTable` uses view index. View index-based selection means that selection of rows in a table is associated with the row number instead of the actual data that is selected. Is there any way to change this so that selection is based on the model so that the data I select is associated with the selection?\r\n","title":"How do I change view index based selection in JTable to model index based selection?","body":"<p>By default, the selection of rows in a <code>JTable</code> uses view index. View index-based selection means that selection of rows in a table is associated with the row number instead of the actual data that is selected. Is there any way to change this so that selection is based on the model so that the data I select is associated with the selection?</p>\n"},{"tags":["java","spring-security","concurrency","logout"],"comments":[{"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"score":0,"creation_date":1477008683,"post_id":37595374,"comment_id":67601395,"body_markdown":"I&#39;m pretty sure I&#39;m seeing the same behaviour in my app as well. Unfortunately, everything ive tried so far hasn&#39;t fixed it (`@AuthenticationPrincipal` method param, `Principal` method param, `SecurityContextHolder.getContext().getAuthentication()` are `null` once a concurrent logout has completed)","body":"I&#39;m pretty sure I&#39;m seeing the same behaviour in my app as well. Unfortunately, everything ive tried so far hasn&#39;t fixed it (<code>@AuthenticationPrincipal</code> method param, <code>Principal</code> method param, <code>SecurityContextHolder.getContext().getAuthentication()</code> are <code>null</code> once a concurrent logout has completed)"},{"owner":{"account_id":9121384,"reputation":1383,"user_id":6786689,"accept_rate":67,"display_name":"gschambial"},"score":0,"creation_date":1477009517,"post_id":37595374,"comment_id":67601575,"body_markdown":"Does clicking on logout button redirects to your logout page in normal scenario?","body":"Does clicking on logout button redirects to your logout page in normal scenario?"}],"answers":[{"tags":[],"owner":{"account_id":78072,"reputation":19350,"user_id":222438,"accept_rate":90,"display_name":"jlb"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1477643749,"creation_date":1477160129,"answer_id":40195472,"question_id":37595374,"body_markdown":"So this is all (unsurprisingly) by design. These [spring security docs][1] give a good explanation as to what&#39;s happening - quoting:\r\n\r\n&gt; In an application which receives concurrent requests in a single session, the same `SecurityContext` instance will be shared between threads. Even though a `ThreadLocal` is being used, it is the same instance that is retrieved from the `HttpSession` for each thread. This has implications if you wish to temporarily change the context under which a thread is running. If you just use `SecurityContextHolder.getContext()`, and call `setAuthentication(anAuthentication)` on the returned context object, then the `Authentication` object will change in all concurrent threads which share the same `SecurityContext` instance. You can customize the behaviour of `SecurityContextPersistenceFilter` to create a completely new `SecurityContext` for each request, preventing changes in one thread from affecting another. Alternatively you can create a new instance just at the point where you temporarily change the context. The method `SecurityContextHolder.createEmptyContext()` always returns a new context instance.\r\n\r\nA snippet of the above quote says:\r\n\r\n&gt; ... you can customise the behaviour of `SpringContextPersistenceFilter` ...\r\n\r\n\r\nUnfortunately, the docs do not provide any information as to how to go about doing this, or how it would even be approached. This [SO question][2] asks the very thing (essentially, is a distilled version of this question), but it has not received much attention.\r\n\r\nThere&#39;s also this [SO answer][3] that provides a bit more depth into the inner workings of `HttpSessionSecurityContextRepository`, which is likely to be the piece that would need to be re-written/updated in order to tackle this issue.\r\n\r\nI&#39;ll update this answer if I come by a good way of addressing this (such as creating a new instance of the context) in implementation.\r\n\r\n## Update\r\n\r\nThe root of the problem I&#39;m experiencing was related to reading a user id attribute out of the `HttpSession` (after it had been cleared by a concurrent &quot;logout&quot; request). Instead of implementing my own `SpringContextRepository` I decided to create a simple filter that saves the current `Authentication` to the request, and then work from there.\r\n\r\nHere&#39;s the basic filter:\r\n\r\n    public class SaveAuthToRequestFilter extends OncePerRequestFilter {\r\n    \r\n    \tpublic static final String REQUEST_ATTR = SaveAuthToRequestFilter.class.getCanonicalName();\r\n    \r\n    \t@Override\r\n    \tprotected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain filterChain)\r\n    \t\t\tthrows ServletException, IOException {\r\n    \r\n    \t\tfinal SecurityContext context = SecurityContextHolder.getContext();\r\n    \t\tif (context != null) {\r\n    \t\t\trequest.setAttribute(REQUEST_ATTR, context.getAuthentication());\r\n    \t\t}\r\n    \t\t\r\n    \t\tfilterChain.doFilter(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\nWhich has to be added after the `SecurityContextPersistenceFilter` by adding the following to your `WebSecurityConfigurerAdapter`&#39;s `configure(final HttpSecurity http)` method.\r\n\r\n    http.addFilterAfter(new SaveAuthToRequestFilter(), SecurityContextPersistenceFilter.class)\r\n\r\nAfter you have that in place, you can read the &#39;current&#39; (per thread/request) `Authentication` from the `HttpServletRequest` (`@Autowired` or injected into your controller methods) and work from there. I think this solution still leaves something to be desired, but it&#39;s the most lightweight option I could think of. Thanks to @chimmi and @sura2k for the inspiration.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#tech-intro-sec-context-persistence\r\n  [2]: https://stackoverflow.com/questions/30781498/how-to-customize-the-behaviour-of-securitycontextpersistencefilter\r\n  [3]: https://stackoverflow.com/questions/6408007/spring-securitys-securitycontextholder-session-or-request-bound/6408377#6408377","title":"Spring Security - Concurrent request during logout","body":"<p>So this is all (unsurprisingly) by design. These <a href=\"http://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#tech-intro-sec-context-persistence\" rel=\"nofollow noreferrer\">spring security docs</a> give a good explanation as to what's happening - quoting:</p>\n\n<blockquote>\n  <p>In an application which receives concurrent requests in a single session, the same <code>SecurityContext</code> instance will be shared between threads. Even though a <code>ThreadLocal</code> is being used, it is the same instance that is retrieved from the <code>HttpSession</code> for each thread. This has implications if you wish to temporarily change the context under which a thread is running. If you just use <code>SecurityContextHolder.getContext()</code>, and call <code>setAuthentication(anAuthentication)</code> on the returned context object, then the <code>Authentication</code> object will change in all concurrent threads which share the same <code>SecurityContext</code> instance. You can customize the behaviour of <code>SecurityContextPersistenceFilter</code> to create a completely new <code>SecurityContext</code> for each request, preventing changes in one thread from affecting another. Alternatively you can create a new instance just at the point where you temporarily change the context. The method <code>SecurityContextHolder.createEmptyContext()</code> always returns a new context instance.</p>\n</blockquote>\n\n<p>A snippet of the above quote says:</p>\n\n<blockquote>\n  <p>... you can customise the behaviour of <code>SpringContextPersistenceFilter</code> ...</p>\n</blockquote>\n\n<p>Unfortunately, the docs do not provide any information as to how to go about doing this, or how it would even be approached. This <a href=\"https://stackoverflow.com/questions/30781498/how-to-customize-the-behaviour-of-securitycontextpersistencefilter\">SO question</a> asks the very thing (essentially, is a distilled version of this question), but it has not received much attention.</p>\n\n<p>There's also this <a href=\"https://stackoverflow.com/questions/6408007/spring-securitys-securitycontextholder-session-or-request-bound/6408377#6408377\">SO answer</a> that provides a bit more depth into the inner workings of <code>HttpSessionSecurityContextRepository</code>, which is likely to be the piece that would need to be re-written/updated in order to tackle this issue.</p>\n\n<p>I'll update this answer if I come by a good way of addressing this (such as creating a new instance of the context) in implementation.</p>\n\n<h2>Update</h2>\n\n<p>The root of the problem I'm experiencing was related to reading a user id attribute out of the <code>HttpSession</code> (after it had been cleared by a concurrent \"logout\" request). Instead of implementing my own <code>SpringContextRepository</code> I decided to create a simple filter that saves the current <code>Authentication</code> to the request, and then work from there.</p>\n\n<p>Here's the basic filter:</p>\n\n<pre><code>public class SaveAuthToRequestFilter extends OncePerRequestFilter {\n\n    public static final String REQUEST_ATTR = SaveAuthToRequestFilter.class.getCanonicalName();\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain filterChain)\n            throws ServletException, IOException {\n\n        final SecurityContext context = SecurityContextHolder.getContext();\n        if (context != null) {\n            request.setAttribute(REQUEST_ATTR, context.getAuthentication());\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n\n<p>Which has to be added after the <code>SecurityContextPersistenceFilter</code> by adding the following to your <code>WebSecurityConfigurerAdapter</code>'s <code>configure(final HttpSecurity http)</code> method.</p>\n\n<pre><code>http.addFilterAfter(new SaveAuthToRequestFilter(), SecurityContextPersistenceFilter.class)\n</code></pre>\n\n<p>After you have that in place, you can read the 'current' (per thread/request) <code>Authentication</code> from the <code>HttpServletRequest</code> (<code>@Autowired</code> or injected into your controller methods) and work from there. I think this solution still leaves something to be desired, but it's the most lightweight option I could think of. Thanks to @chimmi and @sura2k for the inspiration.</p>\n"},{"tags":[],"owner":{"account_id":2073190,"reputation":2064,"user_id":1847202,"accept_rate":75,"display_name":"chimmi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1502180740,"creation_date":1477489009,"answer_id":40263794,"question_id":37595374,"body_markdown":"&lt;b&gt;\r\nDisclaimer: behaviour in question was implemented purposefully. And if anyone decides to disable it they should read [SEC-2025][2] that describes the problem you get in return. \r\n&lt;/b&gt;\r\n\r\n&lt;hr/&gt;\r\n\r\nIf I understand this correctly the problem is that logout clears SecurityContext&#39;s `authentication` data thus making \r\n\r\n    SecurityContextHolder.getContext().getAuthentication()\r\n\r\nreturn null. But logout does not clear context itself, if your first request managed to grab it before logout happened it stays in ThreadLocal for first request.\r\n\r\nSo all we need is not to clear `authentication`, and it turns out (because Spring is awesome) that `SecurityContextLogoutHandler` that is responsible of this, has a property:\r\n\r\n    private boolean clearAuthentication = true;\r\n\r\nthat does exactly what we need, [Javadoc][1]:\r\n\r\n&gt; If true, removes the Authentication from the SecurityContext to prevent issues with concurrent requests.\r\n\r\n  [1]: http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/SecurityContextLogoutHandler.html#setClearAuthentication-boolean-\r\n  [2]: https://github.com/spring-projects/spring-security/issues/2250","title":"Spring Security - Concurrent request during logout","body":"<p><b>\nDisclaimer: behaviour in question was implemented purposefully. And if anyone decides to disable it they should read <a href=\"https://github.com/spring-projects/spring-security/issues/2250\" rel=\"nofollow noreferrer\">SEC-2025</a> that describes the problem you get in return. \n</b></p>\n\n<hr/>\n\n<p>If I understand this correctly the problem is that logout clears SecurityContext's <code>authentication</code> data thus making </p>\n\n<pre><code>SecurityContextHolder.getContext().getAuthentication()\n</code></pre>\n\n<p>return null. But logout does not clear context itself, if your first request managed to grab it before logout happened it stays in ThreadLocal for first request.</p>\n\n<p>So all we need is not to clear <code>authentication</code>, and it turns out (because Spring is awesome) that <code>SecurityContextLogoutHandler</code> that is responsible of this, has a property:</p>\n\n<pre><code>private boolean clearAuthentication = true;\n</code></pre>\n\n<p>that does exactly what we need, <a href=\"http://docs.spring.io/spring-security/site/docs/current/apidocs/org/springframework/security/web/authentication/logout/SecurityContextLogoutHandler.html#setClearAuthentication-boolean-\" rel=\"nofollow noreferrer\">Javadoc</a>:</p>\n\n<blockquote>\n  <p>If true, removes the Authentication from the SecurityContext to prevent issues with concurrent requests.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":239393,"reputation":7415,"user_id":508957,"accept_rate":58,"display_name":"sura2k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477560909,"creation_date":1477559880,"answer_id":40280735,"question_id":37595374,"body_markdown":"Your requirement was reported as a bug (not a feature request) in JIRA [SEC-2025][1]. And They have fixed it in Spring 3.2, so which you expect here to happen/solve implicitly prevents by its design.\r\n\r\nDefault behavior is to save the `SecurityContext` in the `HttpSession` and that is the only implementation afaik spring security provides at the moment.\r\n\r\nEven the `SecurityContext` is `ThreadLocal` it shares the same which is in the `HttpSession`. So when `SecurityContext` gets cleaned, it will remove from the `HttpSession`, hence will be unavailable from the entire user session.\r\n\r\nWhat you need to do is, store the `SecurityContext` additionally in `HttpServletRequest` (or something bound to the HTTP request) other than the `HttpSession` and read it back from `HttpSession` and if not found, read it from `HttpServletRequest`. Make sure to save a **deep-copy** of `SecurityContext` in the `HttpServletRequest`. When you logs out, clean the `SecurityContext` **only** from HttpSession which is currently happening.  In this case whatever the running threads (bound to HTTP requests) will have access to the `SecurityContext` via `HttpServletRequest` (if it not found in `HttpSession` - which is happening to you right now) even if the user has logged out. Next new HTTP requests will need an authentication because new requests has no `SecurityContext` in the `HttpSession`( or `HttpServletRequest`).\r\n\r\nKeep a new copy of `SecurityContext` in each `HttpServletRequest` may be an overhead only to address a corner case.\r\n\r\nTo do that you need to read and understand following spring implementations.\r\n\r\n1. [HttpSessionSecurityContextRepository][2] class\r\n\r\n   `SecurityContextPersistenceFilter` uses `SecurityContextRepository` to load and save `SecurityContext`. `HttpSessionSecurityContextRepository` is an implemntation of `SecurityContextRepository`.\r\n\r\n2. [SaveToSessionResponseWrapper][3] class\r\n\r\nAnd you might need to replace above 2 classes by providing your own implementations or overriding necessary implementations. (And there may some others as well)\r\n\r\nRefer:\r\n\r\n- [HttpSessionSecurityContextRepository:loadContext()][4] -&gt; reads the security context\r\n- [HttpSessionSecurityContextRepository:saveContext()][5] -&gt; saves the security conext\r\n\r\nmethod implementations.\r\n\r\nI think Spring Security docs clearly mentions not to deal with `HttpSession`. That is why there is a `SecurityContext`.\r\n\r\nIMO just stick to the Spring Security implementations when there are no recommendations from Spring Security engineers to do something on your own. What I&#39;m sugessting here may not correct, and make sure there will no security holes and it should not break the other use cases when you do some non-recommended changes only to cover a corner case.\r\nI will never do this if this happened to me, because it is **the design** that Spring Security experts have decided to go with by considering many many many security facts which I have no idea at all.\r\n\r\n\r\n  [1]: https://jira.spring.io/browse/SEC-2025\r\n  [2]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L80\r\n  [3]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L302\r\n  [4]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L107\r\n  [5]: https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L135","title":"Spring Security - Concurrent request during logout","body":"<p>Your requirement was reported as a bug (not a feature request) in JIRA <a href=\"https://jira.spring.io/browse/SEC-2025\" rel=\"nofollow\">SEC-2025</a>. And They have fixed it in Spring 3.2, so which you expect here to happen/solve implicitly prevents by its design.</p>\n\n<p>Default behavior is to save the <code>SecurityContext</code> in the <code>HttpSession</code> and that is the only implementation afaik spring security provides at the moment.</p>\n\n<p>Even the <code>SecurityContext</code> is <code>ThreadLocal</code> it shares the same which is in the <code>HttpSession</code>. So when <code>SecurityContext</code> gets cleaned, it will remove from the <code>HttpSession</code>, hence will be unavailable from the entire user session.</p>\n\n<p>What you need to do is, store the <code>SecurityContext</code> additionally in <code>HttpServletRequest</code> (or something bound to the HTTP request) other than the <code>HttpSession</code> and read it back from <code>HttpSession</code> and if not found, read it from <code>HttpServletRequest</code>. Make sure to save a <strong>deep-copy</strong> of <code>SecurityContext</code> in the <code>HttpServletRequest</code>. When you logs out, clean the <code>SecurityContext</code> <strong>only</strong> from HttpSession which is currently happening.  In this case whatever the running threads (bound to HTTP requests) will have access to the <code>SecurityContext</code> via <code>HttpServletRequest</code> (if it not found in <code>HttpSession</code> - which is happening to you right now) even if the user has logged out. Next new HTTP requests will need an authentication because new requests has no <code>SecurityContext</code> in the <code>HttpSession</code>( or <code>HttpServletRequest</code>).</p>\n\n<p>Keep a new copy of <code>SecurityContext</code> in each <code>HttpServletRequest</code> may be an overhead only to address a corner case.</p>\n\n<p>To do that you need to read and understand following spring implementations.</p>\n\n<ol>\n<li><p><a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L80\" rel=\"nofollow\">HttpSessionSecurityContextRepository</a> class</p>\n\n<p><code>SecurityContextPersistenceFilter</code> uses <code>SecurityContextRepository</code> to load and save <code>SecurityContext</code>. <code>HttpSessionSecurityContextRepository</code> is an implemntation of <code>SecurityContextRepository</code>.</p></li>\n<li><p><a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L302\" rel=\"nofollow\">SaveToSessionResponseWrapper</a> class</p></li>\n</ol>\n\n<p>And you might need to replace above 2 classes by providing your own implementations or overriding necessary implementations. (And there may some others as well)</p>\n\n<p>Refer:</p>\n\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L107\" rel=\"nofollow\">HttpSessionSecurityContextRepository:loadContext()</a> -> reads the security context</li>\n<li><a href=\"https://github.com/spring-projects/spring-security/blob/master/web/src/main/java/org/springframework/security/web/context/HttpSessionSecurityContextRepository.java#L135\" rel=\"nofollow\">HttpSessionSecurityContextRepository:saveContext()</a> -> saves the security conext</li>\n</ul>\n\n<p>method implementations.</p>\n\n<p>I think Spring Security docs clearly mentions not to deal with <code>HttpSession</code>. That is why there is a <code>SecurityContext</code>.</p>\n\n<p>IMO just stick to the Spring Security implementations when there are no recommendations from Spring Security engineers to do something on your own. What I'm sugessting here may not correct, and make sure there will no security holes and it should not break the other use cases when you do some non-recommended changes only to cover a corner case.\nI will never do this if this happened to me, because it is <strong>the design</strong> that Spring Security experts have decided to go with by considering many many many security facts which I have no idea at all.</p>\n"},{"tags":[],"owner":{"account_id":24124613,"reputation":1,"user_id":18093162,"display_name":"paulf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643738201,"creation_date":1643738201,"answer_id":70945291,"question_id":37595374,"body_markdown":"We think we have fixed this problem by providing a custom HttpSessionSecurityContextRepository object. \r\n\r\nSpring security config file:\r\n\r\n      &lt;sec:http auto-config=&quot;false&quot;\r\n                entry-point-ref=&quot;authenticationProcessingFilterEntryPoint&quot;\r\n                security-context-repository-ref=&quot;securityContextRepository&quot;&gt;\r\n    \r\n      &lt;bean id=&quot;securityContextRepository&quot;\r\n        class=&quot;tn.view.security.CustomHttpSessionSecurityContextRepository&quot;/&gt;\r\n\r\nImplementation of CustomHttpSessionSecurityContextRepository:\r\n\r\n    public class CustomHttpSessionSecurityContextRepository extends HttpSessionSecurityContextRepository\r\n    {\r\n      @Override\r\n      public SecurityContext loadContext(final HttpRequestResponseHolder requestResponseHolder)\r\n      {\r\n        final SecurityContext context = super.loadContext(requestResponseHolder);\r\n    \r\n        // Return a copy of the security context instead of the original security context object\r\n        final SecurityContext contextCopy = new SecurityContextImpl();\r\n        contextCopy.setAuthentication(context.getAuthentication());\r\n    \r\n        return contextCopy;\r\n      }\r\n    }\r\n\r\n\r\n","title":"Spring Security - Concurrent request during logout","body":"<p>We think we have fixed this problem by providing a custom HttpSessionSecurityContextRepository object.</p>\n<p>Spring security config file:</p>\n<pre><code>  &lt;sec:http auto-config=&quot;false&quot;\n            entry-point-ref=&quot;authenticationProcessingFilterEntryPoint&quot;\n            security-context-repository-ref=&quot;securityContextRepository&quot;&gt;\n\n  &lt;bean id=&quot;securityContextRepository&quot;\n    class=&quot;tn.view.security.CustomHttpSessionSecurityContextRepository&quot;/&gt;\n</code></pre>\n<p>Implementation of CustomHttpSessionSecurityContextRepository:</p>\n<pre><code>public class CustomHttpSessionSecurityContextRepository extends HttpSessionSecurityContextRepository\n{\n  @Override\n  public SecurityContext loadContext(final HttpRequestResponseHolder requestResponseHolder)\n  {\n    final SecurityContext context = super.loadContext(requestResponseHolder);\n\n    // Return a copy of the security context instead of the original security context object\n    final SecurityContext contextCopy = new SecurityContextImpl();\n    contextCopy.setAuthentication(context.getAuthentication());\n\n    return contextCopy;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4701186,"reputation":3514,"user_id":3804707,"accept_rate":71,"display_name":"Cimlman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2180,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1643738201,"creation_date":1464879421,"question_id":37595374,"body_markdown":"We are using Spring Security in our web application. Most of the pages are secured, i.e. a user must be logged in to access these pages. It works fine usually. However, we encounter an unwanted behavior during logout.\r\n\r\nSuppose that a user is logged in and sends a request to the sever to load some (secured) page. Before this request is completed, the same user sends a logout request (i.e. request with servlet_path &quot;/j_spring_security_logout&quot;). The logout request is usually very fast and it can be completed earlier than the former request. Of course, the logout request clears the security context. Hence, the former request loses the security context in the middle of its life and this usually cause an exception.\r\n\r\nIn fact, the user need not start the first request &quot;manually&quot;. This scenario can happen on a page with automatic refresh, i.e. the user presses the logout link just a fraction of second after a refreshing has been sent automatically.\r\n\r\nFrom one point of view, this can be considered to be a meaningful behavior. On the other hand, I would prefer to prevent such loss of security context in the middle of the life of a request.\r\n\r\nIs there a way to configure Spring Security to avoid this? (something like &quot;postpone clearing of security context when there are other concurrent requests from the same session&quot; or &quot;read the security context just once during a single request and cache it for further use&quot;)\r\n\r\nThanks.","title":"Spring Security - Concurrent request during logout","body":"<p>We are using Spring Security in our web application. Most of the pages are secured, i.e. a user must be logged in to access these pages. It works fine usually. However, we encounter an unwanted behavior during logout.</p>\n\n<p>Suppose that a user is logged in and sends a request to the sever to load some (secured) page. Before this request is completed, the same user sends a logout request (i.e. request with servlet_path \"/j_spring_security_logout\"). The logout request is usually very fast and it can be completed earlier than the former request. Of course, the logout request clears the security context. Hence, the former request loses the security context in the middle of its life and this usually cause an exception.</p>\n\n<p>In fact, the user need not start the first request \"manually\". This scenario can happen on a page with automatic refresh, i.e. the user presses the logout link just a fraction of second after a refreshing has been sent automatically.</p>\n\n<p>From one point of view, this can be considered to be a meaningful behavior. On the other hand, I would prefer to prevent such loss of security context in the middle of the life of a request.</p>\n\n<p>Is there a way to configure Spring Security to avoid this? (something like \"postpone clearing of security context when there are other concurrent requests from the same session\" or \"read the security context just once during a single request and cache it for further use\")</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","generics","compiler-warnings"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":1,"creation_date":1643719316,"post_id":70940638,"comment_id":125409554,"body_markdown":"Does this answer your question? [Possible heap pollution via varargs parameter](https://stackoverflow.com/questions/12462079/possible-heap-pollution-via-varargs-parameter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12462079/possible-heap-pollution-via-varargs-parameter\">Possible heap pollution via varargs parameter</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1643719445,"post_id":70940638,"comment_id":125409595,"body_markdown":"Also worth reading: https://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.6.3.7, [Java: &quot;Heap pollution&quot;](https://softwareengineering.stackexchange.com/q/155994), https://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html","body":"Also worth reading: <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.6.3.7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>, <a href=\"https://softwareengineering.stackexchange.com/q/155994\">Java: &quot;Heap pollution&quot;</a>, <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/nonReifiableVarargsType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a>"},{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":0,"creation_date":1643719717,"post_id":70940638,"comment_id":125409708,"body_markdown":"Thanks for the pointers. However, I still fail to see why all of that does not apply to `T[]`. Why is the &quot;variable arity&quot; so important if all examples that show unsafe code would be equally unsafe if `T[]` were used as the formal argument type?","body":"Thanks for the pointers. However, I still fail to see why all of that does not apply to <code>T[]</code>. Why is the &quot;variable arity&quot; so important if all examples that show unsafe code would be equally unsafe if <code>T[]</code> were used as the formal argument type?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1643722823,"post_id":70940638,"comment_id":125410994,"body_markdown":"This may help: https://stackoverflow.com/a/14252221 (especially last example)","body":"This may help: <a href=\"https://stackoverflow.com/a/14252221\">stackoverflow.com/a/14252221</a> (especially last example)"},{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":1,"creation_date":1643723614,"post_id":70940638,"comment_id":125411344,"body_markdown":"@Pshemo This is exactly what I was missing! Effectively, a potential generic caller must new-up the implicit array `T[]` without actually knowing T, therefore falling-back to `Object[]`, and that is the actual problem here. ;)","body":"@Pshemo This is exactly what I was missing! Effectively, a potential generic caller must new-up the implicit array <code>T[]</code> without actually knowing T, therefore falling-back to <code>Object[]</code>, and that is the actual problem here. ;)"},{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":0,"creation_date":1643737922,"post_id":70940638,"comment_id":125417647,"body_markdown":"OK, I just realized that the same warning also appears if the signature looks like this instead: `extractFirstVarargs(List&lt;String&gt;... arr)`, but doesn&#39;t appear if de-sugared like this: `extractFirst(List&lt;String&gt;[] arr)` The argument about generic params doesn&#39;t apply here though, so what&#39;s the explanation in this case?","body":"OK, I just realized that the same warning also appears if the signature looks like this instead: <code>extractFirstVarargs(List&lt;String&gt;... arr)</code>, but doesn&#39;t appear if de-sugared like this: <code>extractFirst(List&lt;String&gt;[] arr)</code> The argument about generic params doesn&#39;t apply here though, so what&#39;s the explanation in this case?"}],"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643738118,"creation_date":1643718766,"question_id":70940638,"body_markdown":"Consider these two methods:\r\n```\r\n// All good...\r\nstatic &lt;T&gt; T extractFirst(T[] arr) {\r\n\tif (arr.length &gt; 0) return arr[0];\r\n\treturn null;\r\n}\r\n\r\n// Warning: &quot;possible heap pollution from parameterized vararg type&quot;\r\nstatic &lt;T&gt; T extractFirstVarargs(T... arr) {\r\n\tif (arr.length &gt; 0) return arr[0];\r\n\treturn null;\r\n}\r\n```\r\nThe compiler gives a warning for the second method, but not for the first method which is just the de-sugared version of it. Why is that?\r\n\r\nAs far as I understand, I can produce unsafe code whenever I work with array types (since they are covariant due to historical reasons) or raw container types. How varargs factor into this is not clear to me.\r\n\r\n**EDIT**: I know what heap pollution and type erasure is. But I fail to see why the warning is not also present in `extractFirst` since I can cause heap pollution there as well.\r\n\r\n**EDIT 2**: The warning doesn&#39;t even relate to generic params (`T`), it also appears when using something like `List&lt;String&gt;...` as a formal param.","title":"Why usage of generic varargs gives warning but de-sugared version does not?","body":"<p>Consider these two methods:</p>\n<pre><code>// All good...\nstatic &lt;T&gt; T extractFirst(T[] arr) {\n    if (arr.length &gt; 0) return arr[0];\n    return null;\n}\n\n// Warning: &quot;possible heap pollution from parameterized vararg type&quot;\nstatic &lt;T&gt; T extractFirstVarargs(T... arr) {\n    if (arr.length &gt; 0) return arr[0];\n    return null;\n}\n</code></pre>\n<p>The compiler gives a warning for the second method, but not for the first method which is just the de-sugared version of it. Why is that?</p>\n<p>As far as I understand, I can produce unsafe code whenever I work with array types (since they are covariant due to historical reasons) or raw container types. How varargs factor into this is not clear to me.</p>\n<p><strong>EDIT</strong>: I know what heap pollution and type erasure is. But I fail to see why the warning is not also present in <code>extractFirst</code> since I can cause heap pollution there as well.</p>\n<p><strong>EDIT 2</strong>: The warning doesn't even relate to generic params (<code>T</code>), it also appears when using something like <code>List&lt;String&gt;...</code> as a formal param.</p>\n"},{"tags":["java","testing","byte-buddy"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1643329775,"post_id":70883432,"comment_id":125317783,"body_markdown":"Welcome to SO. You are asking a question about Byte Buddy (BB) without showing any BB code. To see the full picture and reproduce your problem, it would actually be good to see the interceptor, too. Besides, your fragmentary code snippets have no imports, so I also cannot see if you use JUnit 4, 5 or maybe another test framework like TestNG. Please learn what an [MCVE](https://stackoverflow.com/help/mcve) is and how it helps you to ask better questions and get better answers. BTW, do your tests run on Java 9+ or Java 8-? The stack trace part of my answer would depend on that information.","body":"Welcome to SO. You are asking a question about Byte Buddy (BB) without showing any BB code. To see the full picture and reproduce your problem, it would actually be good to see the interceptor, too. Besides, your fragmentary code snippets have no imports, so I also cannot see if you use JUnit 4, 5 or maybe another test framework like TestNG. Please learn what an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> is and how it helps you to ask better questions and get better answers. BTW, do your tests run on Java 9+ or Java 8-? The stack trace part of my answer would depend on that information."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1643330273,"post_id":70883432,"comment_id":125317859,"body_markdown":"There is also an inconsistency in your description: In `className: tests.first; methodName: testA`, your &quot;class name&quot; rather seems to be the package name. So either what you wrote is wrong or you have a bug in your code. Did you mean to write `className: tests.first.A`? Please also explain what your interceptor&#39;s purpose is and why you need that information there. Parsing stack traces is a last resort, maybe it makes more sense to query the testing framework or getting the class name of the current test instance. The stack trace of displays the correct information, `A.testA()` gets executed.","body":"There is also an inconsistency in your description: In <code>className: tests.first; methodName: testA</code>, your &quot;class name&quot; rather seems to be the package name. So either what you wrote is wrong or you have a bug in your code. Did you mean to write <code>className: tests.first.A</code>? Please also explain what your interceptor&#39;s purpose is and why you need that information there. Parsing stack traces is a last resort, maybe it makes more sense to query the testing framework or getting the class name of the current test instance. The stack trace of displays the correct information, <code>A.testA()</code> gets executed."},{"owner":{"account_id":22234079,"reputation":1,"user_id":16469756,"display_name":"Denis Petrov"},"score":0,"creation_date":1643739102,"post_id":70883432,"comment_id":125418142,"body_markdown":"@kriegaex Hi, I&#39;ve exteded my question with more data about this case. I can&#39;t show BB code due to a privacy in my company. Thanks for response.","body":"@kriegaex Hi, I&#39;ve exteded my question with more data about this case. I can&#39;t show BB code due to a privacy in my company. Thanks for response."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1643764540,"post_id":70883432,"comment_id":125424948,"body_markdown":"Denis, with all due respect, that is a statement unworthy of any developer. If you would have read the MCVE article I linked to, you would know that nobody needs your original code, but a stripped-down, minimal version reproducing the problem. Feel free to rename classes, packages, methods, fields, variables. Just make it illustrative. Your edit is a great first step already, just the main thing you are asking about is still missing. :-)","body":"Denis, with all due respect, that is a statement unworthy of any developer. If you would have read the MCVE article I linked to, you would know that nobody needs your original code, but a stripped-down, minimal version reproducing the problem. Feel free to rename classes, packages, methods, fields, variables. Just make it illustrative. Your edit is a great first step already, just the main thing you are asking about is still missing. :-)"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643457488,"creation_date":1643457488,"answer_id":70905107,"question_id":70883432,"body_markdown":"I assume that you Instrument both classes A and B. In this case you will see the respective stack trace of these classes when they are executed as test. Byte Buddy does not interfer with stack traces or test mechanics.","title":"How to get a class from which tests were run while byte buddy intercept the tests from super class?","body":"<p>I assume that you Instrument both classes A and B. In this case you will see the respective stack trace of these classes when they are executed as test. Byte Buddy does not interfer with stack traces or test mechanics.</p>\n"}],"owner":{"account_id":22234079,"reputation":1,"user_id":16469756,"display_name":"Denis Petrov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643737862,"creation_date":1643306009,"question_id":70883432,"body_markdown":"I have a service class with a method which i&#39;ll intercept in runtime:\r\n```\r\npackage service;\r\n\r\npublic class ServiceImpl {\r\n    public void run() {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nAnd test classes, using TestNG:\r\n```\r\npackage tests.first;\r\n\r\nimport org.testng.annotations.Test;\r\nimport service.ServiceImpl;\r\n\r\npublic class A {\r\n    @Test\r\n    public void testA() {\r\n        ServiceImpl service = new ServiceImpl();\r\n        // ...\r\n        service.run();\r\n        // ...\r\n    }\r\n}\r\n```\r\nAnother class that extends the ```A``` class in different package:\r\n```\r\npackage tests.second;\r\n\r\nimport org.testng.annotations.Test;\r\nimport service.ServiceImpl;\r\n\r\npublic class B extends A {\r\n    @Test\r\n    public void testB() {\r\n        ServiceImpl service = new ServiceImpl();\r\n        // ...\r\n        service.run();\r\n        // ...\r\n    }\r\n}\r\n```\r\nAlso I have a proxy agent that used as an interceptor for ```ServiceImpl.run``` method (using byte buddy library).\r\n\r\n*that what i tried in the inteceptor:*\r\n\r\n```\r\n    public void intercept() {\r\n        Arrays.asList(Thread.currentThread().getStackTrace())\r\n            .stream()\r\n            .map(e -&gt; e.getClassName() + &quot;.&quot; + e.getMethodName())\r\n        // some actions\r\n    }\r\n```\r\n\r\n**Question**: \r\nI&#39;m running tests in class B and while the tests are running, the interceptor should get the class name and method name from the stack trace (or something else). But tests start with class ``A`` and return ``className: tests.first; methodName: testA``, is it possible to get in that time className for class ``B`` which the tests were run?\r\n","title":"How to get a class from which tests were run while byte buddy intercept the tests from super class?","body":"<p>I have a service class with a method which i'll intercept in runtime:</p>\n<pre><code>package service;\n\npublic class ServiceImpl {\n    public void run() {\n        // ...\n    }\n}\n</code></pre>\n<p>And test classes, using TestNG:</p>\n<pre><code>package tests.first;\n\nimport org.testng.annotations.Test;\nimport service.ServiceImpl;\n\npublic class A {\n    @Test\n    public void testA() {\n        ServiceImpl service = new ServiceImpl();\n        // ...\n        service.run();\n        // ...\n    }\n}\n</code></pre>\n<p>Another class that extends the <code>A</code> class in different package:</p>\n<pre><code>package tests.second;\n\nimport org.testng.annotations.Test;\nimport service.ServiceImpl;\n\npublic class B extends A {\n    @Test\n    public void testB() {\n        ServiceImpl service = new ServiceImpl();\n        // ...\n        service.run();\n        // ...\n    }\n}\n</code></pre>\n<p>Also I have a proxy agent that used as an interceptor for <code>ServiceImpl.run</code> method (using byte buddy library).</p>\n<p><em>that what i tried in the inteceptor:</em></p>\n<pre><code>    public void intercept() {\n        Arrays.asList(Thread.currentThread().getStackTrace())\n            .stream()\n            .map(e -&gt; e.getClassName() + &quot;.&quot; + e.getMethodName())\n        // some actions\n    }\n</code></pre>\n<p><strong>Question</strong>:\nI'm running tests in class B and while the tests are running, the interceptor should get the class name and method name from the stack trace (or something else). But tests start with class <code>A</code> and return <code>className: tests.first; methodName: testA</code>, is it possible to get in that time className for class <code>B</code> which the tests were run?</p>\n"},{"tags":["java","voice","freetts","mbrola"],"comments":[{"owner":{"account_id":48486,"reputation":33915,"user_id":144088,"accept_rate":72,"display_name":"Crashalot"},"score":1,"creation_date":1457243853,"post_id":32873805,"comment_id":59314401,"body_markdown":"did you find an answer?","body":"did you find an answer?"}],"answers":[{"tags":[],"owner":{"account_id":5721858,"reputation":171,"user_id":4520074,"display_name":"Danny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643737829,"creation_date":1643737829,"answer_id":70945203,"question_id":32873805,"body_markdown":"The MbrolaVoiceDirectory class is hardcoded for us1, us2, us3. I copied the source code of the file to my own project, pointed the freetts.voices environment variable at it, and gently hacked it to look for the other filenames.","title":"add new voices to freeTTS other than us voices","body":"<p>The MbrolaVoiceDirectory class is hardcoded for us1, us2, us3. I copied the source code of the file to my own project, pointed the freetts.voices environment variable at it, and gently hacked it to look for the other filenames.</p>\n"}],"owner":{"account_id":7039032,"reputation":31,"user_id":5392065,"display_name":"niloofar hezarjaribi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1643737829,"creation_date":1443640000,"question_id":32873805,"body_markdown":"I am working on a speech recognition project, therefore I need to have audio files for more than thousands of words. I have done everything correctly in order to use `Mbrola` voices in `FreeTTS` but I can only use `us1,us2,us3`. It doesn&#39;t \r\nrecognize any other voices. \r\n\r\nWhen I try to use `mbrola_en1` I get this error:\r\n\r\n&gt;Invalid Voice: Mbrola_en1  \r\n    valid voices: alan kevin kevin16 mbrola_us1 mbrola_us2 mbrola_us3\r\n\r\nI read all the questions related to this but unfortunately none of them are answered.\r\n\r\nDoes anyone know how to fix this issue?","title":"add new voices to freeTTS other than us voices","body":"<p>I am working on a speech recognition project, therefore I need to have audio files for more than thousands of words. I have done everything correctly in order to use <code>Mbrola</code> voices in <code>FreeTTS</code> but I can only use <code>us1,us2,us3</code>. It doesn't \nrecognize any other voices. </p>\n\n<p>When I try to use <code>mbrola_en1</code> I get this error:</p>\n\n<blockquote>\n  <p>Invalid Voice: Mbrola_en1<br>\n      valid voices: alan kevin kevin16 mbrola_us1 mbrola_us2 mbrola_us3</p>\n</blockquote>\n\n<p>I read all the questions related to this but unfortunately none of them are answered.</p>\n\n<p>Does anyone know how to fix this issue?</p>\n"},{"tags":["java","spring","postgresql","localdatetime"],"comments":[{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1643721128,"post_id":70941081,"comment_id":125410288,"body_markdown":"@Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;)\nprivate LocalTime localTime;             https://stackoverflow.com/questions/40368585/how-to-keep-time-in-spring-data-jpa","body":"@Column(name = &quot;local_time&quot;, columnDefinition = &quot;TIME&quot;) private LocalTime localTime;             <a href=\"https://stackoverflow.com/questions/40368585/how-to-keep-time-in-spring-data-jpa\" title=\"how to keep time in spring data jpa\">stackoverflow.com/questions/40368585/&hellip;</a>"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1643721600,"post_id":70941081,"comment_id":125410467,"body_markdown":"you can use this syntax: localDateTime.format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;))","body":"you can use this syntax: localDateTime.format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;))"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1643721836,"post_id":70941081,"comment_id":125410547,"body_markdown":"LocalDateTime having method getHour() and getMinute()\n\nif it fits in your requirement plz use it.","body":"LocalDateTime having method getHour() and getMinute()  if it fits in your requirement plz use it."},{"owner":{"account_id":24121639,"reputation":21,"user_id":18090721,"display_name":"Raza88"},"score":0,"creation_date":1643725061,"post_id":70941081,"comment_id":125411974,"body_markdown":"thank you all for your suggestions. I got it working with the following:\n``` @JsonFormat(shape= JsonFormat.Shape.STRING, pattern=&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;)\n    @JsonProperty(&quot;starttime&quot;)\n    @Column(name = &quot;starttime&quot;, columnDefinition = &quot;TIME&quot;)\n    private LocalTime startTime;```","body":"thank you all for your suggestions. I got it working with the following: ``` @JsonFormat(shape= JsonFormat.Shape.STRING, pattern=&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;)     @JsonProperty(&quot;starttime&quot;)     @Column(name = &quot;starttime&quot;, columnDefinition = &quot;TIME&quot;)     private LocalTime startTime;```"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643727061,"creation_date":1643721400,"answer_id":70941216,"question_id":70941081,"body_markdown":"There is a special class for this: [LocalTime][1]. Also to see proper way to do so look at this [question][2] (although there they show the example with ZonedDateTime) \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [2]: https://stackoverflow.com/questions/51934496/jackson-deserialize-date-from-twitter-to-zoneddatetime","title":"Spring - LocalDateTime - how to return just the hours and minutes instead of dd-mm-yyyy hh-MM-ss-sss","body":"<p>There is a special class for this: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">LocalTime</a>. Also to see proper way to do so look at this <a href=\"https://stackoverflow.com/questions/51934496/jackson-deserialize-date-from-twitter-to-zoneddatetime\">question</a> (although there they show the example with ZonedDateTime)</p>\n"},{"tags":[],"owner":{"account_id":21215832,"reputation":4327,"user_id":15603477,"display_name":"jian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643737443,"creation_date":1643737443,"answer_id":70945138,"question_id":70941081,"body_markdown":"https://www.postgresql.org/docs/current/datatype-datetime.html   \r\n\r\n    Table 8.14. Date/Time Output Styles\r\n    Style Specification \tDescription \tExample\r\n    ISO \t  ISO 8601, SQL standard \t  1997-12-17 07:37:16-08\r\n    SQL \t  traditional style \t      12/17/1997 07:37:16.00 PST\r\n    Postgres \toriginal style \t      Wed Dec 17 07:37:16 1997 PST\r\n    German \t     regional style \t          17.12.1997 07:37:16.00 PST\r\n\r\nfrom this chart,which means, database query output can not return time as &quot;HH-MM&quot;. \r\nSo you need to format it to char/text type.\r\n24 hour type: \r\n\r\n    select to_char(localtime(0),&#39;HH24:MI&#39;); \r\n12 hour type\r\n\r\n     select to_char(localtime(0),&#39;HH12:MI&#39;);","title":"Spring - LocalDateTime - how to return just the hours and minutes instead of dd-mm-yyyy hh-MM-ss-sss","body":"<p><a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\">https://www.postgresql.org/docs/current/datatype-datetime.html</a></p>\n<pre><code>Table 8.14. Date/Time Output Styles\nStyle Specification     Description     Example\nISO       ISO 8601, SQL standard      1997-12-17 07:37:16-08\nSQL       traditional style           12/17/1997 07:37:16.00 PST\nPostgres    original style        Wed Dec 17 07:37:16 1997 PST\nGerman       regional style               17.12.1997 07:37:16.00 PST\n</code></pre>\n<p>from this chart,which means, database query output can not return time as &quot;HH-MM&quot;.\nSo you need to format it to char/text type.\n24 hour type:</p>\n<pre><code>select to_char(localtime(0),'HH24:MI'); \n</code></pre>\n<p>12 hour type</p>\n<pre><code> select to_char(localtime(0),'HH12:MI');\n</code></pre>\n"}],"owner":{"account_id":24121639,"reputation":21,"user_id":18090721,"display_name":"Raza88"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1643737443,"creation_date":1643720722,"question_id":70941081,"body_markdown":"I have a column called starttime in my &#39;workout&#39; table in my DB, I am trying to use LocalDateTime to save the start time to that column. In my workout class, I have entered the following:\r\n``` \r\n@JsonFormat(pattern=&quot;HH:mm&quot;)\r\n@Column(name = &quot;starttime&quot;)\r\nprivate LocalDateTime startTime; \r\n```\r\n\r\nI am then trying to save a testWorkout in my dataloader as follows:\r\n```\r\nWorkout testWorkout = new Workout(LocalDateTime.now(), 88.00);\r\nworkoutRepository.save(testWorkout);\r\n```\r\n\r\nwhen I run my application and check in postgresql / postico, I see the start time as:\r\n2022-02-01 12:53:26.488\r\n\r\nHow do I get it to just log hours and minutes?\r\n\r\nI am fairly new to this so any help would be appreciated.\r\n\r\nThanks","title":"Spring - LocalDateTime - how to return just the hours and minutes instead of dd-mm-yyyy hh-MM-ss-sss","body":"<p>I have a column called starttime in my 'workout' table in my DB, I am trying to use LocalDateTime to save the start time to that column. In my workout class, I have entered the following:</p>\n<pre><code>@JsonFormat(pattern=&quot;HH:mm&quot;)\n@Column(name = &quot;starttime&quot;)\nprivate LocalDateTime startTime; \n</code></pre>\n<p>I am then trying to save a testWorkout in my dataloader as follows:</p>\n<pre><code>Workout testWorkout = new Workout(LocalDateTime.now(), 88.00);\nworkoutRepository.save(testWorkout);\n</code></pre>\n<p>when I run my application and check in postgresql / postico, I see the start time as:\n2022-02-01 12:53:26.488</p>\n<p>How do I get it to just log hours and minutes?</p>\n<p>I am fairly new to this so any help would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","mongodb-query","mongodb-java"],"comments":[{"owner":{"account_id":1772508,"reputation":19410,"user_id":1617024,"accept_rate":60,"display_name":"BatScream"},"score":1,"creation_date":1420574004,"post_id":27803876,"comment_id":44021249,"body_markdown":"The date returned by MongoDB is an `ISODate`, please see the linked question: http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date","body":"The date returned by MongoDB is an <code>ISODate</code>, please see the linked question: <a href=\"http://stackoverflow.com/questions/2201925/converting-iso-8601-compliant-string-to-java-util-date\" title=\"converting iso 8601 compliant string to java util date\">stackoverflow.com/questions/2201925/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2453232,"reputation":18871,"user_id":2138993,"accept_rate":50,"display_name":"wassgren"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1420579229,"creation_date":1420565532,"answer_id":27804007,"question_id":27803876,"body_markdown":"Why don&#39;t you use the `DateTimeFormatter`? Then you can parse your dates this way:\r\n\r\n    // The test string\r\n    String str = &quot;Sun Oct 19 01:00:00 ADT 2014&quot;;\r\n\r\n    // Formatter for the input date\r\n    final DateTimeFormatter inputFormat = \r\n            DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;);\r\n\r\n    // The parsed date\r\n    final ZonedDateTime parsed = ZonedDateTime.parse(str, inputFormat);\r\n\r\n    // The output format(s). Specify the one you need\r\n    final DateTimeFormatter outputFormat1 = DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;);\r\n    final DateTimeFormatter outputFormat2 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\r\n    // Print\r\n    System.out.println(outputFormat1.format(parsed)); // -&gt; 2014/10/19\r\n    System.out.println(outputFormat2.format(parsed)); // -&gt; 2014-10-19\r\n\r\nThis [article](http://docs.oracle.com/javase/tutorial/datetime/iso/format.html) provides some good reading for how to parse and format dates. The class `DateTimeFormatter` is available for Java 8, if you are using older versions of Java the class `SimpleDateFormat` may be used instead (it uses a similar strategy for handling dates but is unfortunately not thread-safe).\r\n\r\n**Edit:** Updated the formatter after input from the OP","title":"Converting the date returned from mongo to this format 2015-10-25","body":"<p>Why don't you use the <code>DateTimeFormatter</code>? Then you can parse your dates this way:</p>\n\n<pre><code>// The test string\nString str = \"Sun Oct 19 01:00:00 ADT 2014\";\n\n// Formatter for the input date\nfinal DateTimeFormatter inputFormat = \n        DateTimeFormatter.ofPattern(\"EEE MMM dd HH:mm:ss zzz yyyy\");\n\n// The parsed date\nfinal ZonedDateTime parsed = ZonedDateTime.parse(str, inputFormat);\n\n// The output format(s). Specify the one you need\nfinal DateTimeFormatter outputFormat1 = DateTimeFormatter.ofPattern(\"yyyy/MM/dd\");\nfinal DateTimeFormatter outputFormat2 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n\n// Print\nSystem.out.println(outputFormat1.format(parsed)); // -&gt; 2014/10/19\nSystem.out.println(outputFormat2.format(parsed)); // -&gt; 2014-10-19\n</code></pre>\n\n<p>This <a href=\"http://docs.oracle.com/javase/tutorial/datetime/iso/format.html\" rel=\"noreferrer\">article</a> provides some good reading for how to parse and format dates. The class <code>DateTimeFormatter</code> is available for Java 8, if you are using older versions of Java the class <code>SimpleDateFormat</code> may be used instead (it uses a similar strategy for handling dates but is unfortunately not thread-safe).</p>\n\n<p><strong>Edit:</strong> Updated the formatter after input from the OP</p>\n"},{"tags":[],"owner":{"account_id":1245002,"reputation":7036,"user_id":1206653,"accept_rate":85,"display_name":"dReAmEr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420566003,"creation_date":1420565662,"answer_id":27804035,"question_id":27803876,"body_markdown":"I would suggest you to do something like below.\r\n\r\n    SimpleDateFormat original = new SimpleDateFormat(&quot;yyyy-MM-ddThh:mm:sssZ&quot;);\r\n    SimpleDateFormat output= new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n    String isoFormat = original.format(result.get(&quot;_id&quot;));\r\n    Date d = original.parse(isoFormat);\r\n    String formattedTime = output.format(d);\r\n    \r\n    System.out.println(formattedTime);","title":"Converting the date returned from mongo to this format 2015-10-25","body":"<p>I would suggest you to do something like below.</p>\n\n<pre><code>SimpleDateFormat original = new SimpleDateFormat(\"yyyy-MM-ddThh:mm:sssZ\");\nSimpleDateFormat output= new SimpleDateFormat(\"yyyy/MM/dd\");\nString isoFormat = original.format(result.get(\"_id\"));\nDate d = original.parse(isoFormat);\nString formattedTime = output.format(d);\n\nSystem.out.println(formattedTime);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6352608,"reputation":1320,"user_id":4931102,"display_name":"thilina Kj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1500830820,"creation_date":1500830820,"answer_id":45267949,"question_id":27803876,"body_markdown":"You can use this method to parse the mongo date format. But in here we are neglecting time zone. So use this if the time zone doesn&#39;t matter.\r\n\r\n    private static String convertMongoDate(String val){\r\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n        SimpleDateFormat outputFormat= new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n        try {\r\n            String finalStr = outputFormat.format(inputFormat.parse(val));\r\n            System.out.println(finalStr);\r\n            return finalStr;\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n","title":"Converting the date returned from mongo to this format 2015-10-25","body":"<p>You can use this method to parse the mongo date format. But in here we are neglecting time zone. So use this if the time zone doesn't matter.</p>\n\n<pre><code>private static String convertMongoDate(String val){\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\n    SimpleDateFormat outputFormat= new SimpleDateFormat(\"yyyy/MM/dd\");\n    try {\n        String finalStr = outputFormat.format(inputFormat.parse(val));\n        System.out.println(finalStr);\n        return finalStr;\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return \"\";\n}\n</code></pre>\n"}],"owner":{"account_id":3342130,"reputation":2812,"user_id":2808178,"accept_rate":85,"display_name":"HMdeveloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16721,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":27804007,"answer_count":3,"score":3,"last_activity_date":1643737419,"creation_date":1420565051,"question_id":27803876,"body_markdown":"I have a json file returned from mongo db as follow:\r\n\r\n    [\r\n    {\r\n        &quot;_id&quot;: {\r\n            &quot;$date&quot;: &quot;2014-10-19T04:00:00.000Z&quot;\r\n        },\r\n        &quot;value&quot;: 29\r\n    },\r\n    {\r\n        &quot;_id&quot;: {\r\n            &quot;$date&quot;: &quot;2014-10-20T04:00:00.000Z&quot;\r\n        },\r\n        &quot;value&quot;: 20\r\n    },\r\n    {\r\n        &quot;_id&quot;: {\r\n            &quot;$date&quot;: &quot;2014-10-21T04:00:00.000Z&quot;\r\n        },\r\n        &quot;value&quot;: 21\r\n    }\r\n    ]\r\n\r\nNow I want to read the date in java in the following format: 2014/10/25\r\n\r\nbut when I use:\r\n\r\n    System.out.println(&quot;DAte is : &quot;+result.get(&quot;_id&quot;).toString() );\r\n\r\nthe result is : \r\n\r\n    DAte is : Sun Oct 19 01:00:00 ADT 2014\r\n\r\nThen only thing that comes to my mind is to use substring and manually convert the date to 2014-10-25 but I am sure there would better way. Does any one have any idea?\r\n\r\nUpdate : \r\n\r\nHere is the answer :\r\n\r\nhttps://stackoverflow.com/questions/27805732/converting-date-from-one-format-to-another-does-not-work\r\n\r\nthanks a lot for helping\r\n","title":"Converting the date returned from mongo to this format 2015-10-25","body":"<p>I have a json file returned from mongo db as follow:</p>\n\n<pre><code>[\n{\n    \"_id\": {\n        \"$date\": \"2014-10-19T04:00:00.000Z\"\n    },\n    \"value\": 29\n},\n{\n    \"_id\": {\n        \"$date\": \"2014-10-20T04:00:00.000Z\"\n    },\n    \"value\": 20\n},\n{\n    \"_id\": {\n        \"$date\": \"2014-10-21T04:00:00.000Z\"\n    },\n    \"value\": 21\n}\n]\n</code></pre>\n\n<p>Now I want to read the date in java in the following format: 2014/10/25</p>\n\n<p>but when I use:</p>\n\n<pre><code>System.out.println(\"DAte is : \"+result.get(\"_id\").toString() );\n</code></pre>\n\n<p>the result is : </p>\n\n<pre><code>DAte is : Sun Oct 19 01:00:00 ADT 2014\n</code></pre>\n\n<p>Then only thing that comes to my mind is to use substring and manually convert the date to 2014-10-25 but I am sure there would better way. Does any one have any idea?</p>\n\n<p>Update : </p>\n\n<p>Here is the answer :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27805732/converting-date-from-one-format-to-another-does-not-work\">converting date from one format to another does not work</a></p>\n\n<p>thanks a lot for helping</p>\n"},{"tags":["java","eclipse","apache","maven"],"comments":[{"owner":{"account_id":417318,"reputation":877,"user_id":793244,"accept_rate":17,"display_name":"Dave"},"score":2,"creation_date":1412191394,"post_id":26148560,"comment_id":40990242,"body_markdown":"it looks like the dependency you are looking for ( is it hosted in an in-house repository? ) is not setup correctly the repository is returning an HTML page saying this resource is not found when you&#39;re expecting a pom or a jar file...","body":"it looks like the dependency you are looking for ( is it hosted in an in-house repository? ) is not setup correctly the repository is returning an HTML page saying this resource is not found when you&#39;re expecting a pom or a jar file..."},{"owner":{"account_id":2549048,"reputation":916,"user_id":2213231,"accept_rate":94,"display_name":"morfious902002"},"score":0,"creation_date":1412191978,"post_id":26148560,"comment_id":40990517,"body_markdown":"I don&#39;t think so. This is my pom file:-\nhttps://github.com/morfious902002/java/blob/master/pom.xml","body":"I don&#39;t think so. This is my pom file:- <a href=\"https://github.com/morfious902002/java/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/morfious902002/java/blob/master/pom.xml</a>"},{"owner":{"account_id":417318,"reputation":877,"user_id":793244,"accept_rate":17,"display_name":"Dave"},"score":0,"creation_date":1412198670,"post_id":26148560,"comment_id":40993836,"body_markdown":"&quot;Expected root element &#39;project&#39; but found &#39;html&#39; &quot; Maven is seeing an HTML file instead of a POM.","body":"&quot;Expected root element &#39;project&#39; but found &#39;html&#39; &quot; Maven is seeing an HTML file instead of a POM."},{"owner":{"account_id":2549048,"reputation":916,"user_id":2213231,"accept_rate":94,"display_name":"morfious902002"},"score":2,"creation_date":1412262675,"post_id":26148560,"comment_id":41017909,"body_markdown":"You are right. After deleting the repo and connecting to the internal network I was able to get the proper dependency.","body":"You are right. After deleting the repo and connecting to the internal network I was able to get the proper dependency."}],"owner":{"account_id":2549048,"reputation":916,"user_id":2213231,"accept_rate":94,"display_name":"morfious902002"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18479,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1643736686,"creation_date":1412189763,"question_id":26148560,"body_markdown":"I am new to maven. I am trying to build a project given to me. But I keep getting the following error. I have deleted the .m2 directory multiple times with no luck.\r\n\r\nI read through a few post suggestions the ISP was sending HTML file instead of HTTP code.\r\n\r\nHere is a log from the run.\r\n \r\n    Apache Maven 3.2.1 (ea8b2b07643dbb1b84b6d16e1f08391b666bc1e9; 2014-02-14T12:37:52-05:00)\r\n     [INFO] Scanning for projects...\r\n     [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    org.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\r\n     [WARNING] &#39;parent.relativePath&#39; points at com.psystems:ps-framework instead of com.psystems:super-pom, please verify your project structure @ line 2, column 10\r\n     [FATAL] Non-parseable POM /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom: Expected root element &#39;project&#39; but found &#39;html&#39; (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127)  @ /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom, line 1, column 127\r\n\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:364)\r\n\tat org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:672)\r\n\tat org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:663)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:250)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n      [ERROR]   \r\n      [ERROR]   The project com.psystems:ps-etl-framework:3.2.19-SNAPSHOT (/home/hadoop/proclitivity/etl/pom.xml) has 1 error\r\n      [ERROR]     Non-parseable POM /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom: Expected root element &#39;project&#39; but found &#39;html&#39; (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127)  @ /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom, line 1, column 127 -&gt; [Help 2]\r\n     org.apache.maven.model.io.ModelParseException: Expected root element &#39;project&#39; but found &#39;html&#39; (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127) \r\n\tat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:127)\r\n\tat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:91)\r\n\tat org.apache.maven.model.building.DefaultModelProcessor.read(DefaultModelProcessor.java:77)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.readModel(DefaultModelBuilder.java:453)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:864)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.readParent(DefaultModelBuilder.java:669)\r\n\tat org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:307)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:411)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:380)\r\n\tat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:344)\r\n\tat org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:672)\r\n\tat org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:663)\r\n\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:250)\r\n\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\r\n\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\r\n\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\r\n\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n     Caused by: org.codehaus.plexus.util.xml.pull.XmlPullParserException: Expected root element &#39;project&#39; but found &#39;html&#39; (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127) \r\n\tat org.apache.maven.model.io.xpp3.MavenXpp3ReaderEx.read(MavenXpp3ReaderEx.java:4348)\r\n\tat org.apache.maven.model.io.xpp3.MavenXpp3ReaderEx.read(MavenXpp3ReaderEx.java:560)\r\n\tat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:118)\r\n\t... 24 more\r\n     [ERROR] \r\n     [ERROR] \r\n     [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n     [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\r\n     [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/ModelParseException\r\n","title":"Maven Build error &quot;Expected root element project but found html&quot;","body":"<p>I am new to maven. I am trying to build a project given to me. But I keep getting the following error. I have deleted the .m2 directory multiple times with no luck.</p>\n<p>I read through a few post suggestions the ISP was sending HTML file instead of HTTP code.</p>\n<p>Here is a log from the run.</p>\n<pre><code>Apache Maven 3.2.1 (ea8b2b07643dbb1b84b6d16e1f08391b666bc1e9; 2014-02-14T12:37:52-05:00)\n [INFO] Scanning for projects...\n [ERROR] The build could not read 1 project -&gt; [Help 1]\norg.apache.maven.project.ProjectBuildingException: Some problems were encountered while processing the POMs:\n [WARNING] 'parent.relativePath' points at com.psystems:ps-framework instead of com.psystems:super-pom, please verify your project structure @ line 2, column 10\n [FATAL] Non-parseable POM /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom: Expected root element 'project' but found 'html' (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127)  @ /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom, line 1, column 127\n\nat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:364)\nat org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:672)\nat org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:663)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:250)\nat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\nat org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\nat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\nat org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n  [ERROR]   \n  [ERROR]   The project com.psystems:ps-etl-framework:3.2.19-SNAPSHOT (/home/hadoop/proclitivity/etl/pom.xml) has 1 error\n  [ERROR]     Non-parseable POM /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom: Expected root element 'project' but found 'html' (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127)  @ /root/.m2/repository/com/psystems/super-pom/1.0.0/super-pom-1.0.0.pom, line 1, column 127 -&gt; [Help 2]\n org.apache.maven.model.io.ModelParseException: Expected root element 'project' but found 'html' (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127) \nat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:127)\nat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:91)\nat org.apache.maven.model.building.DefaultModelProcessor.read(DefaultModelProcessor.java:77)\nat org.apache.maven.model.building.DefaultModelBuilder.readModel(DefaultModelBuilder.java:453)\nat org.apache.maven.model.building.DefaultModelBuilder.readParentExternally(DefaultModelBuilder.java:864)\nat org.apache.maven.model.building.DefaultModelBuilder.readParent(DefaultModelBuilder.java:669)\nat org.apache.maven.model.building.DefaultModelBuilder.build(DefaultModelBuilder.java:307)\nat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:411)\nat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:380)\nat org.apache.maven.project.DefaultProjectBuilder.build(DefaultProjectBuilder.java:344)\nat org.apache.maven.DefaultMaven.collectProjects(DefaultMaven.java:672)\nat org.apache.maven.DefaultMaven.getProjectsForMavenReactor(DefaultMaven.java:663)\nat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:250)\nat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:155)\nat org.apache.maven.cli.MavenCli.execute(MavenCli.java:584)\nat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:213)\nat org.apache.maven.cli.MavenCli.main(MavenCli.java:157)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\nat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\nat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\nat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n Caused by: org.codehaus.plexus.util.xml.pull.XmlPullParserException: Expected root element 'project' but found 'html' (position: START_TAG seen ...&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;&lt;html&gt;... @1:127) \nat org.apache.maven.model.io.xpp3.MavenXpp3ReaderEx.read(MavenXpp3ReaderEx.java:4348)\nat org.apache.maven.model.io.xpp3.MavenXpp3ReaderEx.read(MavenXpp3ReaderEx.java:560)\nat org.apache.maven.model.io.DefaultModelReader.read(DefaultModelReader.java:118)\n... 24 more\n [ERROR] \n [ERROR] \n [ERROR] For more information about the errors and possible solutions, please read the following articles:\n [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n [ERROR] [Help 2] http://cwiki.apache.org/confluence/display/MAVEN/ModelParseException\n</code></pre>\n"},{"tags":["java","eclipse","selenium"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643731145,"creation_date":1643731145,"answer_id":70943594,"question_id":70943535,"body_markdown":"`TimeOutException` exception is thrown when Selenium fails locating on the page element matching the passed locator. `myDynamicElement` id in your case.   \r\nThis may be caused by one of the following:   \r\n1)   \r\nYou are using a wrong locator.   \r\n2)  \r\nThe element is inside an iframe.   \r\n3)  \r\nYou have opened a new tab / window on your browser but did not switch the driver to the new opened tab.  \r\nEtc.","title":"How to fix TimeOutException error when using explicit wait in selenium using java","body":"<p><code>TimeOutException</code> exception is thrown when Selenium fails locating on the page element matching the passed locator. <code>myDynamicElement</code> id in your case.<br />\nThis may be caused by one of the following:<br />\n1)<br />\nYou are using a wrong locator.<br />\n2)<br />\nThe element is inside an iframe.<br />\n3)<br />\nYou have opened a new tab / window on your browser but did not switch the driver to the new opened tab.<br />\nEtc.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643736614,"creation_date":1643736220,"answer_id":70944863,"question_id":70943535,"body_markdown":"Java Exceptions\r\n---------------\r\nWhen executing Java programs different errors can occur, e.g. coding errors made by the programmer, errors due to wrong input or any other unforeseeable things. When any of these error occurs, Java will throw an exception.\r\n\r\n\r\n----------\r\n\r\n\r\nJava Try-Catch{}\r\n-----------\r\nThe try and catch keywords come in pairs.\r\n\r\n- _try_: The _try_ statement allows you to define a block of code to be tested for errors while it is being executed.\r\n\r\n- _catch_: The _catch_ statement allows you to define a block of code to be executed, if an error occurs in the try block.\r\n\r\n\r\n----------\r\n\r\n\r\nvisibilityOfElementLocated()\r\n----------------------------\r\n[visibilityOfElementLocated()](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated(org.openqa.selenium.By)) is the expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0 which returns the WebElement once it is located and visible else raises [_**TimeOutException**_](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/TimeoutException.html).\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nI don&#39;t see any such syntactical error in your code block:\r\n\r\n    try {\r\n      WebDriverWait wait = new WebDriverWait(driver,30);\r\n      WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;myDynamicElement&quot;)));\r\n    } catch (TimeOutException toe) {\r\n      System.out.println(&quot;WebElement wasn&#39;t found&quot;);\r\n    }\r\n    \r\nHowever there can be numerous reasons for the [WebElement](https://stackoverflow.com/a/52805139/7429447) not being found and some of them are as follows:\r\n\r\n- The [Locator Strategy](https://stackoverflow.com/a/48376890/7429447) you have adopted doesn&#39;t identifies any element in the [**HTML DOM**](https://www.w3schools.com/js/js_htmldom.asp).\r\n- The [Locator Strategy](https://stackoverflow.com/a/48056120/7429447) you have adopted is unable to identify the element as it is not within the browser&#39;s [Viewport](https://www.w3schools.com/css/css_rwd_viewport.asp).\r\n- The [_Locator Strategy_](https://stackoverflow.com/a/59637443/7429447) you have adopted identifies the element but is invisible due to presence of the attribute **style=&quot;display: none;&quot;**.\r\n- The [_Locator Strategy_](https://stackoverflow.com/a/65893830/7429447) you have adopted doesn&#39;t **uniquely** identifies the desired element in the _HTML DOM_ and currently finds some other _hidden_ / _invisible_ element.\r\n- The _WebElement_ you are trying to locate is within an `&lt;iframe&gt;` tag.\r\n- The _WebDriver_ instance is looking out for the _WebElement_ even before the element is present/visibile within the [HTML DOM](https://www.w3schools.com/js/js_htmldom.asp).\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEach of the above mentioned cases can be addressed using different approaches. You can find a couple of detailed discussion in:\r\n\r\n- [NoSuchElementException, Selenium unable to locate element](https://stackoverflow.com/a/48472940/7429447)\r\n- [Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //*[@id=&#39;login-email&#39;]](https://stackoverflow.com/a/46212233/7429447)","title":"How to fix TimeOutException error when using explicit wait in selenium using java","body":"<h2>Java Exceptions</h2>\n<p>When executing Java programs different errors can occur, e.g. coding errors made by the programmer, errors due to wrong input or any other unforeseeable things. When any of these error occurs, Java will throw an exception.</p>\n<hr />\n<h2>Java Try-Catch{}</h2>\n<p>The try and catch keywords come in pairs.</p>\n<ul>\n<li><p><em>try</em>: The <em>try</em> statement allows you to define a block of code to be tested for errors while it is being executed.</p>\n</li>\n<li><p><em>catch</em>: The <em>catch</em> statement allows you to define a block of code to be executed, if an error occurs in the try block.</p>\n</li>\n</ul>\n<hr />\n<h2>visibilityOfElementLocated()</h2>\n<p><a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#visibilityOfElementLocated(org.openqa.selenium.By)\" rel=\"nofollow noreferrer\">visibilityOfElementLocated()</a> is the expectation for checking that an element is present on the DOM of a page and visible. Visibility means that the element is not only displayed but also has a height and width that is greater than 0 which returns the WebElement once it is located and visible else raises <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/TimeoutException.html\" rel=\"nofollow noreferrer\"><em><strong>TimeOutException</strong></em></a>.</p>\n<hr />\n<h2>This usecase</h2>\n<p>I don't see any such syntactical error in your code block:</p>\n<pre><code>try {\n  WebDriverWait wait = new WebDriverWait(driver,30);\n  WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;myDynamicElement&quot;)));\n} catch (TimeOutException toe) {\n  System.out.println(&quot;WebElement wasn't found&quot;);\n}\n</code></pre>\n<p>However there can be numerous reasons for the <a href=\"https://stackoverflow.com/a/52805139/7429447\">WebElement</a> not being found and some of them are as follows:</p>\n<ul>\n<li>The <a href=\"https://stackoverflow.com/a/48376890/7429447\">Locator Strategy</a> you have adopted doesn't identifies any element in the <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\"><strong>HTML DOM</strong></a>.</li>\n<li>The <a href=\"https://stackoverflow.com/a/48056120/7429447\">Locator Strategy</a> you have adopted is unable to identify the element as it is not within the browser's <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">Viewport</a>.</li>\n<li>The <a href=\"https://stackoverflow.com/a/59637443/7429447\"><em>Locator Strategy</em></a> you have adopted identifies the element but is invisible due to presence of the attribute <strong>style=&quot;display: none;&quot;</strong>.</li>\n<li>The <a href=\"https://stackoverflow.com/a/65893830/7429447\"><em>Locator Strategy</em></a> you have adopted doesn't <strong>uniquely</strong> identifies the desired element in the <em>HTML DOM</em> and currently finds some other <em>hidden</em> / <em>invisible</em> element.</li>\n<li>The <em>WebElement</em> you are trying to locate is within an <code>&lt;iframe&gt;</code> tag.</li>\n<li>The <em>WebDriver</em> instance is looking out for the <em>WebElement</em> even before the element is present/visibile within the <a href=\"https://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">HTML DOM</a>.</li>\n</ul>\n<hr />\n<h2>Solution</h2>\n<p>Each of the above mentioned cases can be addressed using different approaches. You can find a couple of detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/48472940/7429447\">NoSuchElementException, Selenium unable to locate element</a></li>\n<li><a href=\"https://stackoverflow.com/a/46212233/7429447\">Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: Unable to locate element: //*[@id='login-email']</a></li>\n</ul>\n"}],"owner":{"account_id":24123291,"reputation":1,"user_id":18092066,"display_name":"Sudha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643736614,"creation_date":1643730869,"question_id":70943535,"body_markdown":"```\r\ntry {\r\n\t    WebDriverWait wait = new WebDriverWait(driver,30);\r\n\t\tWebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;myDynamicElement&quot;)));\r\n\t\t} catch (TimeOutException toe) {\r\n```","title":"How to fix TimeOutException error when using explicit wait in selenium using java","body":"<pre><code>try {\n        WebDriverWait wait = new WebDriverWait(driver,30);\n        WebElement element = wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;myDynamicElement&quot;)));\n        } catch (TimeOutException toe) {\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":9596641,"reputation":873,"user_id":7125557,"display_name":"dimirsen Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643718419,"creation_date":1643718419,"answer_id":70940554,"question_id":70939676,"body_markdown":"The expected output is 5 5 8 6 7 since print() outputs the front (=5) element. It&#39;s rear element which contains 7. And for the output 5 5 8 6 7 you need this code:\r\n\r\n    public class Main {\r\n    \r\n        public static class Node {\r\n            public int data;\r\n            public Node next;\r\n        }\r\n\r\n        public static Node rear = null;\r\n        public static Node front = null;\r\n\r\n        public static void enqueue(int data) {\r\n            Node temp = new Node();\r\n            temp.data = data;\r\n            temp.next = null;\r\n            if (rear == null) {\r\n                front = temp;\r\n            } else {\r\n                rear.next = temp;\r\n            }\r\n            rear = temp;\r\n        }\r\n        public static void print() {\r\n            System.out.println(front.data);\r\n        }\r\n        public static void printall() {\r\n            Node dummy = front;\r\n            // the first element to be handled in a specific way\r\n            if (dummy != null) {\r\n                System.out.println(dummy.data);\r\n            }\r\n            // while will handle elements after the first one\r\n            while (dummy.next != null) {\r\n                System.out.println(dummy.next.data);\r\n                dummy = dummy.next;\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            enqueue(5);\r\n            enqueue(8);\r\n            enqueue(6);\r\n            enqueue(7);\r\n            print();\r\n            printall();\r\n        }\r\n    } ","title":"Display all elements of queue using linked list","body":"<p>The expected output is 5 5 8 6 7 since print() outputs the front (=5) element. It's rear element which contains 7. And for the output 5 5 8 6 7 you need this code:</p>\n<pre><code>public class Main {\n\n    public static class Node {\n        public int data;\n        public Node next;\n    }\n\n    public static Node rear = null;\n    public static Node front = null;\n\n    public static void enqueue(int data) {\n        Node temp = new Node();\n        temp.data = data;\n        temp.next = null;\n        if (rear == null) {\n            front = temp;\n        } else {\n            rear.next = temp;\n        }\n        rear = temp;\n    }\n    public static void print() {\n        System.out.println(front.data);\n    }\n    public static void printall() {\n        Node dummy = front;\n        // the first element to be handled in a specific way\n        if (dummy != null) {\n            System.out.println(dummy.data);\n        }\n        // while will handle elements after the first one\n        while (dummy.next != null) {\n            System.out.println(dummy.next.data);\n            dummy = dummy.next;\n        }\n    }\n\n    public static void main(String[] args) {\n        enqueue(5);\n        enqueue(8);\n        enqueue(6);\n        enqueue(7);\n        print();\n        printall();\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":24120733,"reputation":1,"user_id":18089951,"display_name":"MATHAV KRISHNAN S 20BCE1139"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643736498,"creation_date":1643714216,"question_id":70939676,"body_markdown":"I am trying to print the values of Queue but don&#39;t know why I&#39;m getting wrong output. I have used java\r\nCan you help me solving this?\r\n\r\nThe output I&#39;m getting is\r\n7\r\n7\r\nBut expected output is\r\n7\r\n5 \r\n8 \r\n6 \r\n7\r\n\r\n```java\r\npublic class Main {\r\n    \r\n    public static class Node {\r\n        public static int data;\r\n        public static Node next;\r\n    }\r\n\r\n    public static Node rear = null;\r\n    public static Node front = null;\r\n\r\n    public static void enqueue(int data) {\r\n        Node temp = new Node();\r\n        temp.data = data;\r\n        temp.next = null;\r\n        if (rear == null) {\r\n            front = temp;\r\n            rear = temp;\r\n        } else {\r\n            rear.next = temp;\r\n            rear = temp;\r\n        }\r\n    }\r\n\r\n    public static void print() {\r\n        System.out.println(front.data);\r\n    }\r\n\r\n    public static void printall() {\r\n        Node dummy = front;\r\n        while (dummy != rear) {\r\n            System.out.println(dummy.data);\r\n            dummy = dummy.next;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        enqueue(5);\r\n        enqueue(8);\r\n        enqueue(6);\r\n        enqueue(7);\r\n        print();\r\n        printall();\r\n    }\r\n}\r\n```\r\n","title":"Display all elements of queue using linked list","body":"<p>I am trying to print the values of Queue but don't know why I'm getting wrong output. I have used java\nCan you help me solving this?</p>\n<p>The output I'm getting is\n7\n7\nBut expected output is\n7\n5\n8\n6\n7</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    \n    public static class Node {\n        public static int data;\n        public static Node next;\n    }\n\n    public static Node rear = null;\n    public static Node front = null;\n\n    public static void enqueue(int data) {\n        Node temp = new Node();\n        temp.data = data;\n        temp.next = null;\n        if (rear == null) {\n            front = temp;\n            rear = temp;\n        } else {\n            rear.next = temp;\n            rear = temp;\n        }\n    }\n\n    public static void print() {\n        System.out.println(front.data);\n    }\n\n    public static void printall() {\n        Node dummy = front;\n        while (dummy != rear) {\n            System.out.println(dummy.data);\n            dummy = dummy.next;\n        }\n    }\n\n    public static void main(String[] args) {\n        enqueue(5);\n        enqueue(8);\n        enqueue(6);\n        enqueue(7);\n        print();\n        printall();\n    }\n}\n</code></pre>\n"},{"tags":["java","guice"],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643732475,"creation_date":1643732475,"answer_id":70943943,"question_id":70934118,"body_markdown":"You can use a MapBinder as described [here][1]:\r\n\r\n\r\n    public class AnimalModule extends AbstractModule {\r\n      public void configure() {\r\n        MapBinder&lt;AnimalType, IAnimal&gt; animalBinder= MapBinder.newMapBinder(binder(), AnimalType.class, IAnimal.class);\r\n\r\n        animalBinder.addBinding(AnimalType.DOG).to(Dog.class);\r\n         ...\r\n      }\r\n    }\r\n\r\nAnd than use it in your factory:\r\n\r\n    class AnimalFactory {\r\n       @Inject\r\n       Map&lt;AnimalType, IAnimal&gt; animals;\r\n\r\n       public IAnimal create(AnimalType type) {\r\n           return animals.get(type);\r\n       }\r\n     }\r\n\r\n  [1]: https://github.com/google/guice/wiki/Multibindings#mapbinder","title":"Conditionally instantiating classes that use @Inject","body":"<p>You can use a MapBinder as described <a href=\"https://github.com/google/guice/wiki/Multibindings#mapbinder\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>public class AnimalModule extends AbstractModule {\n  public void configure() {\n    MapBinder&lt;AnimalType, IAnimal&gt; animalBinder= MapBinder.newMapBinder(binder(), AnimalType.class, IAnimal.class);\n\n    animalBinder.addBinding(AnimalType.DOG).to(Dog.class);\n     ...\n  }\n}\n</code></pre>\n<p>And than use it in your factory:</p>\n<pre><code>class AnimalFactory {\n   @Inject\n   Map&lt;AnimalType, IAnimal&gt; animals;\n\n   public IAnimal create(AnimalType type) {\n       return animals.get(type);\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643736103,"creation_date":1643736103,"answer_id":70944840,"question_id":70934118,"body_markdown":"Actually I worked on exactly the same issue and I wrote a feature that allows you to create self-populating factory. Meaning that if you work in Spring/Spring-boot environment you can create a factory that can access and provide any interface implementing class that is managed by Spring-boot without injecting in the factory. You can also give the instances custom names. So, it seems like it fits your case exactly. Here is a link to an article that describes the feature in great detail: [Non-intrusive access to &quot;Orphaned&quot; Beans in Spring framework][1]. Also, in MgntUtils library Javadoc there is a good description of the feature here [enter link description here][2]. The library itself including source code could be found on Github [here][3] and in the package `com.mgnt.lifecycle.management.example` there is a working example. Maven artifacts are [here][4]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/non-intrusive-access-orphaned-beans-spring-framework-michael-gantman/\r\n  [2]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/package-summary.html\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases\r\n  [4]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils","title":"Conditionally instantiating classes that use @Inject","body":"<p>Actually I worked on exactly the same issue and I wrote a feature that allows you to create self-populating factory. Meaning that if you work in Spring/Spring-boot environment you can create a factory that can access and provide any interface implementing class that is managed by Spring-boot without injecting in the factory. You can also give the instances custom names. So, it seems like it fits your case exactly. Here is a link to an article that describes the feature in great detail: <a href=\"https://www.linkedin.com/pulse/non-intrusive-access-orphaned-beans-spring-framework-michael-gantman/\" rel=\"nofollow noreferrer\">Non-intrusive access to &quot;Orphaned&quot; Beans in Spring framework</a>. Also, in MgntUtils library Javadoc there is a good description of the feature here <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/package-summary.html\" rel=\"nofollow noreferrer\">enter link description here</a>. The library itself including source code could be found on Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a> and in the package <code>com.mgnt.lifecycle.management.example</code> there is a working example. Maven artifacts are <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":48251,"reputation":35403,"user_id":143269,"accept_rate":48,"display_name":"helion3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70943943,"answer_count":2,"score":0,"last_activity_date":1643736103,"creation_date":1643672361,"question_id":70934118,"body_markdown":"I&#39;m trying to understand how to handle conditionally creating new instances of a class that uses @Inject. In the below example I have a factory that instantiates classes based on a parameter.\r\n\r\n`AnimalFactory ` does not have access to the `injector` the main class of my application has, so I can&#39;t use `injector.getInstance(Cat.class)`\r\n\r\n    class AnimalFactory {\r\n\r\n    \tpublic IAnimal create(AnimalType type) {\r\n    \t\tif (type.equals(AnimalType.CAT)) {\r\n    \t\t\treturn new Cat(); // Cat uses @Inject, so this won&#39;t work of course. But ???\r\n    \t\t} else if (type.equals(AnimalType.DOG)) {\r\n    \t\t\treturn new Dog(); \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIn the rest of my app, classes are injected into my constructors because I always need them. Guice creates an instance/singleton for each. But in this scenario, I do **not** want to create and inject instances for each animal because all but one are needed.","title":"Conditionally instantiating classes that use @Inject","body":"<p>I'm trying to understand how to handle conditionally creating new instances of a class that uses @Inject. In the below example I have a factory that instantiates classes based on a parameter.</p>\n<p><code>AnimalFactory </code> does not have access to the <code>injector</code> the main class of my application has, so I can't use <code>injector.getInstance(Cat.class)</code></p>\n<pre><code>class AnimalFactory {\n\n    public IAnimal create(AnimalType type) {\n        if (type.equals(AnimalType.CAT)) {\n            return new Cat(); // Cat uses @Inject, so this won't work of course. But ???\n        } else if (type.equals(AnimalType.DOG)) {\n            return new Dog(); \n        }\n    }\n}\n</code></pre>\n<p>In the rest of my app, classes are injected into my constructors because I always need them. Guice creates an instance/singleton for each. But in this scenario, I do <strong>not</strong> want to create and inject instances for each animal because all but one are needed.</p>\n"},{"tags":["java","android","android-recyclerview","android-glide","notifydatasetchanged"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1643737958,"post_id":70944834,"comment_id":125417674,"body_markdown":"There is `notifyItemChanged()` to propagate changes on a single item","body":"There is <code>notifyItemChanged()</code> to propagate changes on a single item"},{"owner":{"account_id":16630246,"reputation":1,"user_id":12018249,"display_name":"Utkarsh Kore"},"score":0,"creation_date":1643791015,"post_id":70944834,"comment_id":125429950,"body_markdown":"@Zain notifyItemChanged() will only show checkbox for the item selected. I want all the items present on the screen to update with checkbox without reloading the itemview.","body":"@Zain notifyItemChanged() will only show checkbox for the item selected. I want all the items present on the screen to update with checkbox without reloading the itemview."},{"owner":{"account_id":23904234,"reputation":1928,"user_id":17902018,"display_name":"rikyeah"},"score":0,"creation_date":1644517048,"post_id":70944834,"comment_id":125634173,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16630246,"reputation":1,"user_id":12018249,"display_name":"Utkarsh Kore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643736070,"creation_date":1643736070,"question_id":70944834,"body_markdown":"I have been trying to make a photo gallery app and I want to select multiple photos.\r\nThe problem in the current implementation is that when I try to longpress to make checkbox visible, the thumbnails are reloading for a fraction of second.\r\nThis is because I am calling notifydatasetchanged() after I longpress so that onbindviewholder can load the checkboxes on the screen for every recycler view item, which in turn reloads the thumbnails.\r\nI am using glide to load thumbnails.\r\n","title":"How can I make checkboxes visible for all recycler view items without calling notifydatasetchanged?","body":"<p>I have been trying to make a photo gallery app and I want to select multiple photos.\nThe problem in the current implementation is that when I try to longpress to make checkbox visible, the thumbnails are reloading for a fraction of second.\nThis is because I am calling notifydatasetchanged() after I longpress so that onbindviewholder can load the checkboxes on the screen for every recycler view item, which in turn reloads the thumbnails.\nI am using glide to load thumbnails.</p>\n"},{"tags":["java","arrays","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1643731397,"post_id":70943628,"comment_id":125414836,"body_markdown":"Why do you expect &quot;bcdef&quot; to be ordered before &quot;abcdq&quot;?","body":"Why do you expect &quot;bcdef&quot; to be ordered before &quot;abcdq&quot;?"},{"owner":{"account_id":6074897,"reputation":2892,"user_id":4742570,"display_name":"jsheeran"},"score":1,"creation_date":1643731511,"post_id":70943628,"comment_id":125414893,"body_markdown":"If the code works but you want it optimised for brevity, post it to [Code Review](https://codereview.stackexchange.com).","body":"If the code works but you want it optimised for brevity, post it to <a href=\"https://codereview.stackexchange.com\">Code Review</a>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1643731802,"post_id":70943628,"comment_id":125415026,"body_markdown":"`I must sort each item in the array, in alphabatic order` should be read as &quot;I must sort the characters in alphabetic order of each string from a string array&quot;, right ?","body":"<code>I must sort each item in the array, in alphabatic order</code> should be read as &quot;I must sort the characters in alphabetic order of each string from a string array&quot;, right ?"},{"owner":{"account_id":6229027,"reputation":28469,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"score":2,"creation_date":1643735925,"post_id":70943628,"comment_id":125416890,"body_markdown":"@jsheeran, if brevity is _really_ important, try [codegolf.se].","body":"@jsheeran, if brevity is <i>really</i> important, try <a href=\"https://codegolf.stackexchange.com\">Code Golf</a>."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1643731758,"creation_date":1643731758,"answer_id":70943731,"question_id":70943628,"body_markdown":"It looks like you want to sort characters within each element, not the whole array.\r\n\r\nYou could simplify by having separate `map()` (and `peek()` since `Arrays.sort()` method is not returning a value) steps. You could also skip redundant `List` by collecting directly to a `String` array.\r\n\r\n```\r\nString[] sorted = Arrays.stream(stringsArray)\r\n    .map(String::toCharArray)\r\n    .peek(Arrays::sort)\r\n    .map(String::new)\r\n    .toArray(String[]::new);\r\n```","title":"JAVA : how to reduce code size, when using lambda to process array&#39;s items","body":"<p>It looks like you want to sort characters within each element, not the whole array.</p>\n<p>You could simplify by having separate <code>map()</code> (and <code>peek()</code> since <code>Arrays.sort()</code> method is not returning a value) steps. You could also skip redundant <code>List</code> by collecting directly to a <code>String</code> array.</p>\n<pre><code>String[] sorted = Arrays.stream(stringsArray)\n    .map(String::toCharArray)\n    .peek(Arrays::sort)\n    .map(String::new)\n    .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1643735968,"creation_date":1643733933,"answer_id":70944317,"question_id":70943628,"body_markdown":"If you want to modify the original array in-place, then you can rely on `Arrays.asList()`, which creates a `List` wrapper around the array:\r\n\r\n\tArrays.asList(stringsArray)\r\n\t\t\t.replaceAll(s -&gt; {\r\n\t\t\t\tchar[] chars = s.toCharArray();\r\n\t\t\t\tArrays.sort(chars);\r\n\t\t\t\treturn new String(chars);\r\n\t\t\t});\r\n\r\n\tSystem.out.println(Arrays.toString(stringsArray));\r\n\r\n`Arrays.asList()` is really just a view on the original array. Any change to the returned list will actually be done on the array, and vice-versa. This is also why you cannot add/remove elements on the returned list.","title":"JAVA : how to reduce code size, when using lambda to process array&#39;s items","body":"<p>If you want to modify the original array in-place, then you can rely on <code>Arrays.asList()</code>, which creates a <code>List</code> wrapper around the array:</p>\n<pre><code>Arrays.asList(stringsArray)\n        .replaceAll(s -&gt; {\n            char[] chars = s.toCharArray();\n            Arrays.sort(chars);\n            return new String(chars);\n        });\n\nSystem.out.println(Arrays.toString(stringsArray));\n</code></pre>\n<p><code>Arrays.asList()</code> is really just a view on the original array. Any change to the returned list will actually be done on the array, and vice-versa. This is also why you cannot add/remove elements on the returned list.</p>\n"}],"owner":{"account_id":20952265,"reputation":39,"user_id":15393665,"display_name":"SOUE77"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70943731,"answer_count":2,"score":1,"last_activity_date":1643735968,"creation_date":1643731329,"question_id":70943628,"body_markdown":"I must sort each item in the array, in alphabatic order\r\n\r\nin : \r\n**[bcdef, dbaqc, abcde, omadd, bbbbb]**\r\nout : \r\n**[bcdef, abcdq, abcde, addmo, bbbbb]**\r\n\r\nI wrote the code below but i feel it verbose(long).\r\n\r\nCould you please tell me an other way, with shorter code ?\r\n\r\nThanks.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.lang.String.copyValueOf;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String[] stringsArray = { &quot;bcdef&quot;, &quot;dbaqc&quot;, &quot;abcde&quot;, &quot;omadd&quot;, &quot;bbbbb&quot;};\r\n\r\n        System.out.println(Arrays.toString(stringsArray));\r\n\r\n        List&lt;String&gt; list = Arrays.stream(stringsArray).map((String s)-&gt;{\r\n            char[] charArray = s.toCharArray();\r\n            Arrays.sort(charArray);\r\n            return copyValueOf(charArray);\r\n        }).collect(Collectors.toList());\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;(list);\r\n        stringsArray = Arrays.copyOf(arrayList.toArray(),arrayList.size(),String[].class);\r\n\r\n        System.out.println(Arrays.toString(stringsArray));\r\n    }\r\n\r\n}\r\n```\r\n","title":"JAVA : how to reduce code size, when using lambda to process array&#39;s items","body":"<p>I must sort each item in the array, in alphabatic order</p>\n<p>in :\n<strong>[bcdef, dbaqc, abcde, omadd, bbbbb]</strong>\nout :\n<strong>[bcdef, abcdq, abcde, addmo, bbbbb]</strong></p>\n<p>I wrote the code below but i feel it verbose(long).</p>\n<p>Could you please tell me an other way, with shorter code ?</p>\n<p>Thanks.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport static java.lang.String.copyValueOf;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String[] stringsArray = { &quot;bcdef&quot;, &quot;dbaqc&quot;, &quot;abcde&quot;, &quot;omadd&quot;, &quot;bbbbb&quot;};\n\n        System.out.println(Arrays.toString(stringsArray));\n\n        List&lt;String&gt; list = Arrays.stream(stringsArray).map((String s)-&gt;{\n            char[] charArray = s.toCharArray();\n            Arrays.sort(charArray);\n            return copyValueOf(charArray);\n        }).collect(Collectors.toList());\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;(list);\n        stringsArray = Arrays.copyOf(arrayList.toArray(),arrayList.size(),String[].class);\n\n        System.out.println(Arrays.toString(stringsArray));\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"score":0,"creation_date":1643735571,"post_id":70944574,"comment_id":125416738,"body_markdown":"If the requests run a thread you can make an implementation of runnable with an static field, containing your object. That way every instance of the thread will be able to access that object.","body":"If the requests run a thread you can make an implementation of runnable with an static field, containing your object. That way every instance of the thread will be able to access that object."},{"owner":{"account_id":2225355,"reputation":13693,"user_id":1964272,"accept_rate":92,"display_name":"Dropout"},"score":0,"creation_date":1643735636,"post_id":70944574,"comment_id":125416768,"body_markdown":"So you want to set them once, through a request and then never change them again and reuse the data in other classes?","body":"So you want to set them once, through a request and then never change them again and reuse the data in other classes?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1643735816,"post_id":70944574,"comment_id":125416842,"body_markdown":"When OP said &quot;will never be modified&quot;, I&#39;m assuming that he meant &quot;during the execution of the flow&quot;. If not, then these fields should not come from an input request at all.\n\n@MiguelLuna: the fields come from individual requests. By storing them in static fields you get a serious thread-safety issue. One request can overwrite the values for another request. A `ThreadLocal` could help, as long as no asynchronous processing is done, as that would be executed in a different thread and therefore not have access to the values stored for the current request.","body":"When OP said &quot;will never be modified&quot;, I&#39;m assuming that he meant &quot;during the execution of the flow&quot;. If not, then these fields should not come from an input request at all.  @MiguelLuna: the fields come from individual requests. By storing them in static fields you get a serious thread-safety issue. One request can overwrite the values for another request. A <code>ThreadLocal</code> could help, as long as no asynchronous processing is done, as that would be executed in a different thread and therefore not have access to the values stored for the current request."}],"owner":{"account_id":13414086,"reputation":115,"user_id":9679333,"display_name":"rsundhar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643735563,"creation_date":1643734989,"question_id":70944574,"body_markdown":"I have a service which gets multiple requests at a time. It has 20 threads and process requests in parallel. My requirement is I have to pass 2 fields from the input request to all the other classes in the flow. These 2 fields will never be modified. I understand that I can pass it to each class either as an object or as individual fields. But I dont want to do that as I&#39;m using these fields to just emit metrics and I dont want to pollute all classes with these fields.\r\n\r\nIs there any way to create an object and use it across all classes unique to a request.","title":"Java Object creation per request","body":"<p>I have a service which gets multiple requests at a time. It has 20 threads and process requests in parallel. My requirement is I have to pass 2 fields from the input request to all the other classes in the flow. These 2 fields will never be modified. I understand that I can pass it to each class either as an object or as individual fields. But I dont want to do that as I'm using these fields to just emit metrics and I dont want to pollute all classes with these fields.</p>\n<p>Is there any way to create an object and use it across all classes unique to a request.</p>\n"},{"tags":["java","mongodb","spring-boot","session","spring-rest"],"comments":[{"owner":{"account_id":7678097,"reputation":304,"user_id":5818270,"display_name":"Tim Tong"},"score":1,"creation_date":1643592833,"post_id":70919901,"comment_id":125374197,"body_markdown":"From the screenshot, I don&#39;t see a cookie with a JSESSIONID being sent in the request headers. Because there isn&#39;t a session ID being passed in, a new session is created each time.  The response headers would then contain a Set-Cookie header with the created session - JSESSIONID. It is expected for this to be passed back for the server to lookup the corresponding session in subsequent requests.","body":"From the screenshot, I don&#39;t see a cookie with a JSESSIONID being sent in the request headers. Because there isn&#39;t a session ID being passed in, a new session is created each time.  The response headers would then contain a Set-Cookie header with the created session - JSESSIONID. It is expected for this to be passed back for the server to lookup the corresponding session in subsequent requests."},{"owner":{"account_id":2876818,"reputation":643,"user_id":2468639,"display_name":"Anil Kumar Athuluri"},"score":0,"creation_date":1643593587,"post_id":70919901,"comment_id":125374305,"body_markdown":"Can you add more details like how the session object is being injected in your code, which could help to identify the issue?","body":"Can you add more details like how the session object is being injected in your code, which could help to identify the issue?"},{"owner":{"account_id":13977580,"reputation":15,"user_id":10744729,"display_name":"user303680"},"score":0,"creation_date":1643614407,"post_id":70919901,"comment_id":125377592,"body_markdown":"[This is GitHub repository with part of code](https://github.com/Abuzik/stackIssue)","body":"<a href=\"https://github.com/Abuzik/stackIssue\" rel=\"nofollow noreferrer\">This is GitHub repository with part of code</a>"}],"answers":[{"tags":[],"owner":{"account_id":13977580,"reputation":15,"user_id":10744729,"display_name":"user303680"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643735511,"creation_date":1643735511,"answer_id":70944702,"question_id":70919901,"body_markdown":"For anyone who will use @RestController with sessions add two rows into your controller:\r\n\r\n```java\r\n    @Autowired\r\n    private HttpSession httpSession;\r\n```\r\n\r\n","title":"Why spring boot didn&#39;t save my sessions and cookies between requests?","body":"<p>For anyone who will use @RestController with sessions add two rows into your controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Autowired\n    private HttpSession httpSession;\n</code></pre>\n"}],"owner":{"account_id":13977580,"reputation":15,"user_id":10744729,"display_name":"user303680"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1385,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1643735511,"creation_date":1643585634,"question_id":70919901,"body_markdown":"Spring boot doesn&#39;t save sessions between requests. I have to methods: /login and another one is /getInfo. They&#39;re placed in different controllers. DB for sessions is MongoDB and I can see through Mongo Compass that there are adding new sessions documents. So, I&#39;m making post request to /login, where session are creating and after that I&#39;m making request to /getInfo where I want to take data from session and I get [This is an screen of session and the data in each sessions(including sessions id)][1]. As result I have two different sessions\r\n\r\n\r\nThis is how the session sets:\r\n\r\n    session.setAttribute(&quot;username&quot;, resp.get(&quot;username&quot;));\r\nThis is how data are getting from session: \r\n\r\n    session.getAttribute(&quot;username&quot;)\r\n[Image of request data #1][2]\r\n\r\n[Image of request data #2][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9WoBO.png\r\n  [2]: https://i.stack.imgur.com/b2j5H.png\r\n  [3]: https://i.stack.imgur.com/OnlXm.png","title":"Why spring boot didn&#39;t save my sessions and cookies between requests?","body":"<p>Spring boot doesn't save sessions between requests. I have to methods: /login and another one is /getInfo. They're placed in different controllers. DB for sessions is MongoDB and I can see through Mongo Compass that there are adding new sessions documents. So, I'm making post request to /login, where session are creating and after that I'm making request to /getInfo where I want to take data from session and I get <a href=\"https://i.stack.imgur.com/9WoBO.png\" rel=\"nofollow noreferrer\">This is an screen of session and the data in each sessions(including sessions id)</a>. As result I have two different sessions</p>\n<p>This is how the session sets:</p>\n<pre><code>session.setAttribute(&quot;username&quot;, resp.get(&quot;username&quot;));\n</code></pre>\n<p>This is how data are getting from session:</p>\n<pre><code>session.getAttribute(&quot;username&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b2j5H.png\" rel=\"nofollow noreferrer\">Image of request data #1</a></p>\n<p><a href=\"https://i.stack.imgur.com/OnlXm.png\" rel=\"nofollow noreferrer\">Image of request data #2</a></p>\n"},{"tags":["java","c#","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642935111,"creation_date":1642933588,"answer_id":70821108,"question_id":70820268,"body_markdown":"Windows Terminal / console in recent version of Windows supports [ANSI / VT codes][1] so you could achieve movement of character position with `System.out.print` if your terminal is compatible. You will be able to tell by running this:\r\n\r\n    public class SetCursor {\r\n        private static String CSI = &quot;\\u001b[&quot;;\r\n        private static String at(int row, int col) {\r\n            return CSI+row+&quot;;&quot;+col+&quot;H&quot;;\r\n        }\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            System.out.println(&quot;HELLO&quot;);\r\n    \r\n            System.out.print(at(1,1)  + &quot;ABCD&quot;);\r\n            System.out.print(at(10,5) + &quot;EFGH&quot;);\r\n    \r\n            System.out.println(&quot;WORLD&quot;);\r\n    \r\n            for (int i = 0; i &lt;= 100; i++) {\r\n                System.out.print(at(30,20)  + &quot; Progress: &quot;+i+&quot;%&quot;);\r\n                Thread.sleep(100);\r\n            }\r\n        }\r\n    }\r\n\r\nIt will either print the different values around the screen (running from a Windows Terminal Command Prompt), or if VT codes not supported (such as when running via IDE) the output might look strange:\r\n\r\n    HELLO\r\n    [1;1HABCD[10;5HEFGHWORLD\r\n    ...\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_escape_code","title":"java processbuilder run process in the same console","body":"<p>Windows Terminal / console in recent version of Windows supports <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSI / VT codes</a> so you could achieve movement of character position with <code>System.out.print</code> if your terminal is compatible. You will be able to tell by running this:</p>\n<pre><code>public class SetCursor {\n    private static String CSI = &quot;\\u001b[&quot;;\n    private static String at(int row, int col) {\n        return CSI+row+&quot;;&quot;+col+&quot;H&quot;;\n    }\n\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(&quot;HELLO&quot;);\n\n        System.out.print(at(1,1)  + &quot;ABCD&quot;);\n        System.out.print(at(10,5) + &quot;EFGH&quot;);\n\n        System.out.println(&quot;WORLD&quot;);\n\n        for (int i = 0; i &lt;= 100; i++) {\n            System.out.print(at(30,20)  + &quot; Progress: &quot;+i+&quot;%&quot;);\n            Thread.sleep(100);\n        }\n    }\n}\n</code></pre>\n<p>It will either print the different values around the screen (running from a Windows Terminal Command Prompt), or if VT codes not supported (such as when running via IDE) the output might look strange:</p>\n<pre><code>HELLO\n[1;1HABCD[10;5HEFGHWORLD\n...\n</code></pre>\n"}],"owner":{"account_id":24026284,"reputation":11,"user_id":18007861,"display_name":"Quinten Crets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643735436,"creation_date":1642925725,"question_id":70820268,"body_markdown":"I&#39;m currently writing a program and I have this problem where I want to move the console&#39;s cursor to a specific location on the screen.\r\nI quickly found out that this isn&#39;t possible in java so I wrote a C# script that would do this for me, but I only can run program in a separate process.\r\n\r\nIs there a way to solve this?\r\n\r\nAlso I&#39;m trying not to use any extra libraries like jline.\r\n\r\nHere are some code snippets:\r\n\r\nC#\r\n```\r\nusing System;\r\n\r\nnamespace setCursor\r\n{\r\n    public class program\r\n    {\r\n        static void Main(string[] args)\r\n        {\r\n            int x = Convert.ToInt16(args[0]);\r\n            int y = Convert.ToInt16(args[1]);\r\n\r\n            Console.SetCursorPosition(x ,y);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\njava\r\n```\r\ntry\r\n{\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;setCursor&quot;, &quot;0&quot;, &quot;0&quot;);\r\n    Process p = pb.start();\r\n    p.waitFor();\r\n\r\n    for(int i = 0; i &lt; 30; i++)\r\n    {\r\n        for(int j = 0; j &lt; 120; j++)\r\n        {\r\n            Thread.sleep(1);\r\n            System.out.print(ContentOnTheScreen[i][j]);\r\n        }\r\n    }\r\n}\r\ncatch (Exception e)\r\n{\r\n    System.out.println(e);\r\n}\r\n```","title":"java processbuilder run process in the same console","body":"<p>I'm currently writing a program and I have this problem where I want to move the console's cursor to a specific location on the screen.\nI quickly found out that this isn't possible in java so I wrote a C# script that would do this for me, but I only can run program in a separate process.</p>\n<p>Is there a way to solve this?</p>\n<p>Also I'm trying not to use any extra libraries like jline.</p>\n<p>Here are some code snippets:</p>\n<p>C#</p>\n<pre><code>using System;\n\nnamespace setCursor\n{\n    public class program\n    {\n        static void Main(string[] args)\n        {\n            int x = Convert.ToInt16(args[0]);\n            int y = Convert.ToInt16(args[1]);\n\n            Console.SetCursorPosition(x ,y);\n        }\n    }\n}\n\n</code></pre>\n<p>java</p>\n<pre><code>try\n{\n    ProcessBuilder pb = new ProcessBuilder(&quot;setCursor&quot;, &quot;0&quot;, &quot;0&quot;);\n    Process p = pb.start();\n    p.waitFor();\n\n    for(int i = 0; i &lt; 30; i++)\n    {\n        for(int j = 0; j &lt; 120; j++)\n        {\n            Thread.sleep(1);\n            System.out.print(ContentOnTheScreen[i][j]);\n        }\n    }\n}\ncatch (Exception e)\n{\n    System.out.println(e);\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1643228386,"post_id":70869736,"comment_id":125286962,"body_markdown":"did you step through the code in a debugger?","body":"did you step through the code in a debugger?"},{"owner":{"account_id":21774125,"reputation":13,"user_id":16076823,"display_name":"NSD"},"score":0,"creation_date":1643228645,"post_id":70869736,"comment_id":125287053,"body_markdown":"I tried that but i was not able to step into move()","body":"I tried that but i was not able to step into move()"},{"owner":{"account_id":21432093,"reputation":177,"user_id":15788271,"display_name":"David Tejuosho"},"score":0,"creation_date":1643228999,"post_id":70869736,"comment_id":125287202,"body_markdown":"@NSD Where&#39;s your main method?","body":"@NSD Where&#39;s your main method?"},{"owner":{"account_id":21774125,"reputation":13,"user_id":16076823,"display_name":"NSD"},"score":0,"creation_date":1643229701,"post_id":70869736,"comment_id":125287480,"body_markdown":"It is in a separate file.  public class RacingCarWorld extends ActorWorld {\n\n    private static CarGrid world = new CarGrid();\n\n    public static void main(String[] args) {\n        ActorWorld actorWorld = new ActorWorld();\n\n       Car car1 = new Car();\n       world.add(new Location(0,0),car1);\n       world.show();\n\n    }\n\n}","body":"It is in a separate file.  public class RacingCarWorld extends ActorWorld {      private static CarGrid world = new CarGrid();      public static void main(String[] args) {         ActorWorld actorWorld = new ActorWorld();         Car car1 = new Car();        world.add(new Location(0,0),car1);        world.show();      }  }"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1643231375,"post_id":70869736,"comment_id":125288065,"body_markdown":"Consider providing a [mcve]","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643232161,"creation_date":1643230254,"answer_id":70870097,"question_id":70869736,"body_markdown":"Your accelerate function allows the car to have a maximum speed of 5.\r\nTogether with your move function, which contains\r\n\r\n     Location next = new Location(0,this.speed);\r\n\r\nthe car will never go beyond position 5. I think you know what needs to be changed:\r\n\r\nnewlocation = currentLocation + speed\r\n\r\nI do not see anything like this in your code.","title":"Car is not moving right?","body":"<p>Your accelerate function allows the car to have a maximum speed of 5.\nTogether with your move function, which contains</p>\n<pre><code> Location next = new Location(0,this.speed);\n</code></pre>\n<p>the car will never go beyond position 5. I think you know what needs to be changed:</p>\n<p>newlocation = currentLocation + speed</p>\n<p>I do not see anything like this in your code.</p>\n"},{"tags":[],"owner":{"account_id":21774125,"reputation":13,"user_id":16076823,"display_name":"NSD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643735388,"creation_date":1643735388,"answer_id":70944677,"question_id":70869736,"body_markdown":"To move the car i needed the car current position so speed can be added into the current position to move the car.\r\n\r\nLocation next = new Location(loc.getRow(),loc.getCol()+this.speed);","title":"Car is not moving right?","body":"<p>To move the car i needed the car current position so speed can be added into the current position to move the car.</p>\n<p>Location next = new Location(loc.getRow(),loc.getCol()+this.speed);</p>\n"}],"owner":{"account_id":21774125,"reputation":13,"user_id":16076823,"display_name":"NSD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1643735388,"creation_date":1643228250,"question_id":70869736,"body_markdown":"[![enter image description here][1]][1]Car is moving but as it reaches column 5 it stops there and does not move.\r\n\r\nCar has the `move()` method, in which Car instances drive forwards with the amount of cells equivalent to speed in each time step (from left to right).\r\n\r\nCar shall accelerate its speed by 1 after each time step and the speed for the next time step will be higher\r\n\r\n    public class Car extends Actor {\r\n    \r\n            public  final int MAXSPEED= 5;\r\n            private int speed = 3;\r\n    \r\n    \r\n            public void move() {\r\n                Grid&lt;Actor&gt; gr = this.getGrid();\r\n                if (gr != null) {\r\n                    Location loc = this.getLocation();\r\n                    Location next = new Location(0,this.speed);\r\n                    if (gr.isValid(next)) {\r\n                        this.moveTo(next);\r\n                    } else {\r\n                        this.removeSelfFromGrid();\r\n                    }\r\n                }\r\n            }\r\n    \r\n     public void accelerate(){\r\n    \r\n                if (this.speed &lt;5) {\r\n                 //   move();\r\n                    this.speed++;\r\n                } else {\r\n                    this.speed = MAXSPEED;\r\n                }\r\n            }\r\n    \r\n            public void dawdle(){\r\n    \r\n                if(Math.random() &lt;= 0.3){\r\n    \r\n                   this.speed= speed--;\r\n    \r\n                }else{\r\n                    this.speed=speed;\r\n                }\r\n    \r\n    \r\n            }\r\n    \r\n    \r\n      public Car(){\r\n    \r\n                if (speed==1){\r\n                    this.setColor(Color.red);\r\n                }\r\n                else if (speed==5){\r\n                    this.setColor(Color.green);\r\n                }\r\n        }\r\n    \r\n      \r\n    \r\n    \r\n        @Override\r\n        public void act(){\r\n    \r\n                this.move();\r\n               this.accelerate();\r\n               this.dawdle();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YxklR.png","title":"Car is not moving right?","body":"<p><a href=\"https://i.stack.imgur.com/YxklR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YxklR.png\" alt=\"enter image description here\" /></a>Car is moving but as it reaches column 5 it stops there and does not move.</p>\n<p>Car has the <code>move()</code> method, in which Car instances drive forwards with the amount of cells equivalent to speed in each time step (from left to right).</p>\n<p>Car shall accelerate its speed by 1 after each time step and the speed for the next time step will be higher</p>\n<pre><code>public class Car extends Actor {\n\n        public  final int MAXSPEED= 5;\n        private int speed = 3;\n\n\n        public void move() {\n            Grid&lt;Actor&gt; gr = this.getGrid();\n            if (gr != null) {\n                Location loc = this.getLocation();\n                Location next = new Location(0,this.speed);\n                if (gr.isValid(next)) {\n                    this.moveTo(next);\n                } else {\n                    this.removeSelfFromGrid();\n                }\n            }\n        }\n\n public void accelerate(){\n\n            if (this.speed &lt;5) {\n             //   move();\n                this.speed++;\n            } else {\n                this.speed = MAXSPEED;\n            }\n        }\n\n        public void dawdle(){\n\n            if(Math.random() &lt;= 0.3){\n\n               this.speed= speed--;\n\n            }else{\n                this.speed=speed;\n            }\n\n\n        }\n\n\n  public Car(){\n\n            if (speed==1){\n                this.setColor(Color.red);\n            }\n            else if (speed==5){\n                this.setColor(Color.green);\n            }\n    }\n\n  \n\n\n    @Override\n    public void act(){\n\n            this.move();\n           this.accelerate();\n           this.dawdle();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":2595198,"reputation":3707,"user_id":2255293,"display_name":"Marco Behler"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1584303791,"creation_date":1584303791,"answer_id":60697293,"question_id":60697251,"body_markdown":"That is because the &quot;/app&quot; inside your RestController has **nothing to do with your URL mapping**, but rather with a **&quot;logical component&quot; name** being used internally Spring.\r\n\r\nYou should do this instead, if you want to prefix all your controller methods with /app (or just leave it out).\r\n\r\n  \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/app&quot;)\r\n    public class ScraperResource {\r\n\r\n        @GetMapping(&quot;hello&quot;)\r\n        public String testController() {\r\n            return &quot;Hello&quot;;\r\n        }\r\n    }\r\n\r\nWithout @RestController Spring won&#39;t know that this class should handle HTTP calls, so it is a needed annotation.","title":"What does the value in @RestController annotation do?","body":"<p>That is because the \"/app\" inside your RestController has <strong>nothing to do with your URL mapping</strong>, but rather with a <strong>\"logical component\" name</strong> being used internally Spring.</p>\n\n<p>You should do this instead, if you want to prefix all your controller methods with /app (or just leave it out).</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/app\")\npublic class ScraperResource {\n\n    @GetMapping(\"hello\")\n    public String testController() {\n        return \"Hello\";\n    }\n}\n</code></pre>\n\n<p>Without @RestController Spring won't know that this class should handle HTTP calls, so it is a needed annotation.</p>\n"},{"tags":[],"owner":{"account_id":284526,"reputation":443,"user_id":582689,"accept_rate":50,"display_name":"HackerMonkey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584314724,"creation_date":1584314724,"answer_id":60698684,"question_id":60697251,"body_markdown":"As per the Java Doc associated with the `@RestController` annotation, this is the meaning of the value that you are passing to it:\r\n\r\n```\r\n/**\r\n\t * The value may indicate a suggestion for a logical component name,\r\n\t * to be turned into a Spring bean in case of an autodetected component.\r\n\t * @return the suggested component name, if any (or empty String otherwise)\r\n\t * @since 4.0.1\r\n\t */\r\n\t@AliasFor(annotation = Controller.class)\r\n\tString value() default &quot;&quot;;\r\n```\r\n\r\n\r\nAs such, it does not influence or affect what URL your endpoint is accessible with. If you want to add a top-level mapping you can use the `@RequestMapping(&quot;/app&quot;)` on the class-level as you mentioned.\r\n\r\n","title":"What does the value in @RestController annotation do?","body":"<p>As per the Java Doc associated with the <code>@RestController</code> annotation, this is the meaning of the value that you are passing to it:</p>\n\n<pre><code>/**\n     * The value may indicate a suggestion for a logical component name,\n     * to be turned into a Spring bean in case of an autodetected component.\n     * @return the suggested component name, if any (or empty String otherwise)\n     * @since 4.0.1\n     */\n    @AliasFor(annotation = Controller.class)\n    String value() default \"\";\n</code></pre>\n\n<p>As such, it does not influence or affect what URL your endpoint is accessible with. If you want to add a top-level mapping you can use the <code>@RequestMapping(\"/app\")</code> on the class-level as you mentioned.</p>\n"},{"tags":[],"owner":{"account_id":13042702,"reputation":503,"user_id":9425556,"display_name":"jamesngyz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643676212,"creation_date":1643676212,"answer_id":70934494,"question_id":60697251,"body_markdown":"The parameter in the `@Controller` annotation allows you to name the Controller. In cases where there are multiple beans of the same type, the bean name can be used along with the `@Qualifier` annotation to let Spring know which component to inject during autowiring.\r\n\r\nFrom the [documentation][1]:\r\n\r\n&gt; When a component is autodetected as part of the scanning process, its\r\n&gt; bean name is generated by the BeanNameGenerator strategy known to that\r\n&gt; scanner. By default, any Spring stereotype annotation (@Component,\r\n&gt; @Repository, @Service, and @Controller) that contains a name value\r\n&gt; thereby provides that name to the corresponding bean definition.\r\n&gt; \r\n&gt; If such an annotation contains no name value or for any other detected\r\n&gt; component (such as those discovered by custom filters), the default\r\n&gt; bean name generator returns the uncapitalized non-qualified class\r\n&gt; name.\r\n\r\nRead more about autowire disambiguation, and how to use the component name with `@Qualifier` [here][2].\r\n\r\n&gt; By default, Spring resolves @Autowired entries by type. If more than\r\n&gt; one bean of the same type is available in the container, the framework\r\n&gt; will throw a fatal exception.\r\n&gt; \r\n&gt; To resolve this conflict, we need to tell Spring explicitly which bean\r\n&gt; we want to inject.\r\n&gt; \r\n&gt; When there are multiple beans of the same type, it&#39;s a good idea\r\n&gt; to use @Qualifier to avoid ambiguity.\r\n&gt; \r\n&gt; Please note that the value of the @Qualifier annotation matches with\r\n&gt; the name declared in the @Component annotation of our FooFormatter\r\n&gt; implementation.\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-name-generator\r\n  [2]: https://www.baeldung.com/spring-autowire#disambiguation","title":"What does the value in @RestController annotation do?","body":"<p>The parameter in the <code>@Controller</code> annotation allows you to name the Controller. In cases where there are multiple beans of the same type, the bean name can be used along with the <code>@Qualifier</code> annotation to let Spring know which component to inject during autowiring.</p>\n<p>From the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-scanning-name-generator\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>When a component is autodetected as part of the scanning process, its\nbean name is generated by the BeanNameGenerator strategy known to that\nscanner. By default, any Spring stereotype annotation (@Component,\n@Repository, @Service, and @Controller) that contains a name value\nthereby provides that name to the corresponding bean definition.</p>\n<p>If such an annotation contains no name value or for any other detected\ncomponent (such as those discovered by custom filters), the default\nbean name generator returns the uncapitalized non-qualified class\nname.</p>\n</blockquote>\n<p>Read more about autowire disambiguation, and how to use the component name with <code>@Qualifier</code> <a href=\"https://www.baeldung.com/spring-autowire#disambiguation\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>By default, Spring resolves @Autowired entries by type. If more than\none bean of the same type is available in the container, the framework\nwill throw a fatal exception.</p>\n<p>To resolve this conflict, we need to tell Spring explicitly which bean\nwe want to inject.</p>\n<p>When there are multiple beans of the same type, it's a good idea\nto use @Qualifier to avoid ambiguity.</p>\n<p>Please note that the value of the @Qualifier annotation matches with\nthe name declared in the @Component annotation of our FooFormatter\nimplementation.</p>\n</blockquote>\n"}],"owner":{"account_id":16721080,"reputation":398,"user_id":12085985,"display_name":"kulsin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5655,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60697293,"answer_count":3,"score":4,"last_activity_date":1643735375,"creation_date":1584303526,"question_id":60697251,"body_markdown":"Creating a simple `Spring Boot` application using `Maven`. I have given a value with `RestController` annotation, but it doesn&#39;t work. If I don&#39;t use the `RestController`&#39;s value, it works. I want to know, why it&#39;s not working and What&#39;s the use of value in `@RestController`? \r\n\r\n`http://localhost:9090/app/hello` this gives error\r\n\r\n`http://localhost:9090/hello` this works fine\r\n\r\n`@RestController(&quot;/app&quot;)` What&#39;s the purpose of `&quot;/app&quot;` this value inside `@RestController` annotation?\r\n\r\nP.S: I know, I can use `@RequestMapping(&quot;/app&quot;)` on ScraperResource class.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class App {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(App.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n@RestController(&quot;/app&quot;)\r\npublic class ScraperResource {\r\n\t@GetMapping(&quot;hello&quot;)\r\n\tpublic String testController() {\r\n\t\treturn &quot;Hello&quot;;\r\n\t}\r\n}\r\n```\r\n\r\napplication.properties\r\n```\r\nserver.port=9090\r\n```","title":"What does the value in @RestController annotation do?","body":"<p>Creating a simple <code>Spring Boot</code> application using <code>Maven</code>. I have given a value with <code>RestController</code> annotation, but it doesn't work. If I don't use the <code>RestController</code>'s value, it works. I want to know, why it's not working and What's the use of value in <code>@RestController</code>? </p>\n\n<p><code>http://localhost:9090/app/hello</code> this gives error</p>\n\n<p><code>http://localhost:9090/hello</code> this works fine</p>\n\n<p><code>@RestController(\"/app\")</code> What's the purpose of <code>\"/app\"</code> this value inside <code>@RestController</code> annotation?</p>\n\n<p>P.S: I know, I can use <code>@RequestMapping(\"/app\")</code> on ScraperResource class.</p>\n\n<pre><code>@SpringBootApplication\npublic class App {\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n\n<pre><code>@RestController(\"/app\")\npublic class ScraperResource {\n    @GetMapping(\"hello\")\n    public String testController() {\n        return \"Hello\";\n    }\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>server.port=9090\n</code></pre>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1643015899,"post_id":70827544,"comment_id":125218586,"body_markdown":"If you only want to parse the XML document I sugest Sax parser. It&#39;s an event based stream parser and fires  for every XML element and XML attribute. With Sax parser it&#39;s not only easier to parse the file, it takes also less resources than DOM parser which creates the entire DOM tree in memory.","body":"If you only want to parse the XML document I sugest Sax parser. It&#39;s an event based stream parser and fires  for every XML element and XML attribute. With Sax parser it&#39;s not only easier to parse the file, it takes also less resources than DOM parser which creates the entire DOM tree in memory."},{"owner":{"account_id":7302867,"reputation":299,"user_id":5564903,"display_name":"Stefan D."},"score":0,"creation_date":1643016581,"post_id":70827544,"comment_id":125218825,"body_markdown":"Also if you want to use DOM parser [this answer](https://stackoverflow.com/a/5511298/5564903) may help you.","body":"Also if you want to use DOM parser <a href=\"https://stackoverflow.com/a/5511298/5564903\">this answer</a> may help you."}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643735356,"creation_date":1642981143,"question_id":70827544,"body_markdown":"I am working on a xml processing project. The goal of the project is to take a list of keyterms and descriptions from a document written like so:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;wordmatch&gt;\r\n\t&lt;exercise&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Loop Body&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;is the part of the body that contains the statements to be repeated&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Iteration&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;is one time execution of the loop body.&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Loop Condition&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;Description&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Infinite Loop&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;Description&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Sentinel Value&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;Description&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Off-by-one&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;is an error in the program that causes the loop body to be executed one more or less time.&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;key&gt;\r\n\t\t&lt;keyterm&gt;Input Redirection&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;is to redirect the output to a data file rather to the console. The file is specified at the command line after the symbol &gt;.&lt;/decription&gt;\r\n\t\t&lt;/key&gt;\r\n\t\t&lt;!-- &lt;key&gt;\r\n\t\t&lt;keyterm&gt;Output Redirection&lt;/keyterm&gt;\r\n\t\t&lt;decription&gt;is to redirect the input from a data file rather from the keyboard. The file is specified at the command line after the symbol &lt;.&lt;/decription&gt;\r\n\t\t&lt;/key&gt; --&gt;\r\n\t&lt;/exercise&gt;\r\n\t&lt;filename&gt;Section5_2.html&lt;/filename&gt;\r\n&lt;/wordmatch&gt;\r\n```\r\n\r\nThen process the keyterms and descriptions into respective arrays. I&#39;ve written the following method for parsing the xml document\r\n```\r\nprivate static InputStream readXmlFileIntoInputStream(final String fileName) {\r\n        System.out.println(&quot;processing:&quot; + fileName);\r\n    \treturn Main.class.getClassLoader().getResourceAsStream(fileName);\r\n    }\r\n\t\r\n\tpublic static Document readXML(String fileName) {\r\n\t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \t// This is used to prevent xml injection attacks    \t\r\n    \ttry(InputStream inputStream = new FileInputStream(fileName)){\r\n    \t\tdbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n    \t\tDocumentBuilder db = dbf.newDocumentBuilder();\r\n    \t\tdoc = db.parse(inputStream);\r\n    \t\tdoc.getDocumentElement().normalize();\r\n    \t}\r\n    \tcatch (ParserConfigurationException | SAXException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \t\treturn doc;\r\n\t}\r\n```\r\nThe method for processing the xml document takes the doc as an argument\r\n```\r\npublic static void processKeyTermsAndDescriptions(Document doc) {\r\n\t\tSystem.out.println(doc.getDocumentElement().getNodeName());\r\n\t\t\r\n\t\t//TODO: add keyterms to array.\r\n\t\t\r\n\t\t\r\n\t\t//TODO: add descriptions to array.\r\n\t\t\r\n\t}\r\n```\r\nA minimal reproducible example is the following:\r\n```\r\nprivate static final String FILENAME = &quot;./src/resources/exercise.xml&quot;;\r\n\tprivate static Document doc;\r\n\tprivate static ArrayList&lt;String&gt; keyterms;\r\n\tprivate static ArrayList&lt;String&gt; descriptions;\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\tSystem.out.println(&quot;Step 1 read xml document&quot;);\r\n\t\tDocument doc = readXML(FILENAME);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Step 2 for each key add keyterm and description to respective arrays&quot;);\r\n\t\tprocessKeyTermsAndDescriptions(doc);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Step 3 print header&quot;);\r\n\t\tString header = printHeader();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Step 4 print body w/ keyterms and descriptions&quot;);\r\n\t\tString body = printBodyWithKeyTermsAndDescriptions(keyterms,descriptions);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Step 5 print footer&quot;);\r\n\t\tString footer = printFooter(keyterms,descriptions);\r\n\t\t\r\n\t\tSystem.out.println(header);\r\n\t\tSystem.out.println(body);\r\n\t\tSystem.out.println(footer);\r\n\t\t\r\n\t\t// Instantiate the Factory\r\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n\t}\r\n```\r\nI would like to figure out how to loop over the elements in the xml document to process keyterms and descriptions into respective arrays.","title":"How to process a set of attributes from an xml document","body":"<p>I am working on a xml processing project. The goal of the project is to take a list of keyterms and descriptions from a document written like so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;wordmatch&gt;\n    &lt;exercise&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Loop Body&lt;/keyterm&gt;\n        &lt;decription&gt;is the part of the body that contains the statements to be repeated&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Iteration&lt;/keyterm&gt;\n        &lt;decription&gt;is one time execution of the loop body.&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Loop Condition&lt;/keyterm&gt;\n        &lt;decription&gt;Description&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Infinite Loop&lt;/keyterm&gt;\n        &lt;decription&gt;Description&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Sentinel Value&lt;/keyterm&gt;\n        &lt;decription&gt;Description&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Off-by-one&lt;/keyterm&gt;\n        &lt;decription&gt;is an error in the program that causes the loop body to be executed one more or less time.&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;key&gt;\n        &lt;keyterm&gt;Input Redirection&lt;/keyterm&gt;\n        &lt;decription&gt;is to redirect the output to a data file rather to the console. The file is specified at the command line after the symbol &gt;.&lt;/decription&gt;\n        &lt;/key&gt;\n        &lt;!-- &lt;key&gt;\n        &lt;keyterm&gt;Output Redirection&lt;/keyterm&gt;\n        &lt;decription&gt;is to redirect the input from a data file rather from the keyboard. The file is specified at the command line after the symbol &lt;.&lt;/decription&gt;\n        &lt;/key&gt; --&gt;\n    &lt;/exercise&gt;\n    &lt;filename&gt;Section5_2.html&lt;/filename&gt;\n&lt;/wordmatch&gt;\n</code></pre>\n<p>Then process the keyterms and descriptions into respective arrays. I've written the following method for parsing the xml document</p>\n<pre><code>private static InputStream readXmlFileIntoInputStream(final String fileName) {\n        System.out.println(&quot;processing:&quot; + fileName);\n        return Main.class.getClassLoader().getResourceAsStream(fileName);\n    }\n    \n    public static Document readXML(String fileName) {\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        // This is used to prevent xml injection attacks        \n        try(InputStream inputStream = new FileInputStream(fileName)){\n            dbf.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            doc = db.parse(inputStream);\n            doc.getDocumentElement().normalize();\n        }\n        catch (ParserConfigurationException | SAXException | IOException e) {\n            e.printStackTrace();\n        }\n            return doc;\n    }\n</code></pre>\n<p>The method for processing the xml document takes the doc as an argument</p>\n<pre><code>public static void processKeyTermsAndDescriptions(Document doc) {\n        System.out.println(doc.getDocumentElement().getNodeName());\n        \n        //TODO: add keyterms to array.\n        \n        \n        //TODO: add descriptions to array.\n        \n    }\n</code></pre>\n<p>A minimal reproducible example is the following:</p>\n<pre><code>private static final String FILENAME = &quot;./src/resources/exercise.xml&quot;;\n    private static Document doc;\n    private static ArrayList&lt;String&gt; keyterms;\n    private static ArrayList&lt;String&gt; descriptions;\n    \n    public static void main(String args[]) {\n        System.out.println(&quot;Step 1 read xml document&quot;);\n        Document doc = readXML(FILENAME);\n        \n        System.out.println(&quot;Step 2 for each key add keyterm and description to respective arrays&quot;);\n        processKeyTermsAndDescriptions(doc);\n        \n        System.out.println(&quot;Step 3 print header&quot;);\n        String header = printHeader();\n        \n        System.out.println(&quot;Step 4 print body w/ keyterms and descriptions&quot;);\n        String body = printBodyWithKeyTermsAndDescriptions(keyterms,descriptions);\n        \n        System.out.println(&quot;Step 5 print footer&quot;);\n        String footer = printFooter(keyterms,descriptions);\n        \n        System.out.println(header);\n        System.out.println(body);\n        System.out.println(footer);\n        \n        // Instantiate the Factory\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n    }\n</code></pre>\n<p>I would like to figure out how to loop over the elements in the xml document to process keyterms and descriptions into respective arrays.</p>\n"},{"tags":["java","maven","java-8","java-7"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643040882,"post_id":70836706,"comment_id":125228463,"body_markdown":"I doubt that except there are any kind of profiles in your pom file which I can&#39;t say because I don&#39;t know...It looks like you pom file is somehow broken???","body":"I doubt that except there are any kind of profiles in your pom file which I can&#39;t say because I don&#39;t know...It looks like you pom file is somehow broken???"},{"owner":{"account_id":11650013,"reputation":11,"user_id":8531595,"display_name":"cristian"},"score":0,"creation_date":1643041807,"post_id":70836706,"comment_id":125228897,"body_markdown":"it&#39;s quite a strange behaviour. Same pom with no profile declared and just a build and dependencies schemas....","body":"it&#39;s quite a strange behaviour. Same pom with no profile declared and just a build and dependencies schemas...."},{"owner":{"account_id":12446174,"reputation":161,"user_id":9062314,"display_name":"Sakib Abrar"},"score":0,"creation_date":1643042162,"post_id":70836706,"comment_id":125229054,"body_markdown":"Are you using mvn command to compile the project? Or using eclipse maven plugin? Please check mvn --version to see what jdk version is set as default. Maybe the default version before compiling.","body":"Are you using mvn command to compile the project? Or using eclipse maven plugin? Please check mvn --version to see what jdk version is set as default. Maybe the default version before compiling."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1643043916,"post_id":70836706,"comment_id":125229813,"body_markdown":"Please show the pom file and your Maven command you are using?  Also JDK version etc. is important here...","body":"Please show the pom file and your Maven command you are using?  Also JDK version etc. is important here..."}],"owner":{"account_id":11650013,"reputation":11,"user_id":8531595,"display_name":"cristian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643735346,"creation_date":1643039868,"question_id":70836706,"body_markdown":"I have a maven module and I have this situation:\r\n- if I compile the module with jdk 1.7 it will create a jar file and a &#39;META-INF&#39; folder. But it does not include classes from the module, so in runtime I get the ClassNotFoundException.\r\n\r\n- but, if I compile the same module with jdk 1.8, classes are added to the jar file.\r\n\r\nI&#39;ll attach a photo to see the result. \r\n\r\n\r\nI use maven to compile (from terminal, not ide).\r\n\r\nThis is maven info: Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f) Maven home: C:\\development\\apache\\apache-maven-3.6.3\\bin.. Java version: 1.7.0_80, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.7.0_80\\jre Default locale: en_US, platform encoding: Cp1252 OS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nAnd this is java info: java version &quot;1.7.0_80&quot; Java(TM) SE Runtime Environment (build 1.7.0_80-b15) Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode) and Java 1.7.0_80 and this is an example of a pom.xml.\r\n\r\nAnd this a pom example:\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;hermes-maven-plugins&lt;/artifactId&gt;\r\n        &lt;groupId&gt;hermes&lt;/groupId&gt;\r\n        &lt;!--parent--&gt;&lt;version&gt;4.3-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;artifactId&gt;hermes-css-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;css-generator Maven Mojo&lt;/name&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;hermes-front&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hermes-front-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;${hermes.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\nNone of the classes I have in module hermes-front are included in the compiled jar. But using java 8 I do have all this files included in jar. Java 8 info is:\r\n\r\njava version &quot;1.8.0_231&quot; Java(TM) SE Runtime Environment (build 1.8.0_231-b11) Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)\r\n\r\n\r\n\r\nDoes anyone has an idea why this could happen?\r\n\r\nI need to use the jdk 1.7 version until this jdk is updated in pro environment.\r\n\r\nThanx a lot.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I4Oel.png","title":"Different result maven and jdk 1.7 vs jdk 1.8","body":"<p>I have a maven module and I have this situation:</p>\n<ul>\n<li><p>if I compile the module with jdk 1.7 it will create a jar file and a 'META-INF' folder. But it does not include classes from the module, so in runtime I get the ClassNotFoundException.</p>\n</li>\n<li><p>but, if I compile the same module with jdk 1.8, classes are added to the jar file.</p>\n</li>\n</ul>\n<p>I'll attach a photo to see the result.</p>\n<p>I use maven to compile (from terminal, not ide).</p>\n<p>This is maven info: Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f) Maven home: C:\\development\\apache\\apache-maven-3.6.3\\bin.. Java version: 1.7.0_80, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.7.0_80\\jre Default locale: en_US, platform encoding: Cp1252 OS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;</p>\n<p>And this is java info: java version &quot;1.7.0_80&quot; Java(TM) SE Runtime Environment (build 1.7.0_80-b15) Java HotSpot(TM) 64-Bit Server VM (build 24.80-b11, mixed mode) and Java 1.7.0_80 and this is an example of a pom.xml.</p>\n<p>And this a pom example:</p>\n<p>\n\nhermes-maven-plugins\nhermes\n4.3-SNAPSHOT\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;artifactId&gt;hermes-css-generator-maven-plugin&lt;/artifactId&gt;\n&lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n\n&lt;name&gt;css-generator Maven Mojo&lt;/name&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-plugin-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;hermes-front&lt;/groupId&gt;\n        &lt;artifactId&gt;hermes-front-commons&lt;/artifactId&gt;\n        &lt;version&gt;${hermes.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\nNone of the classes I have in module hermes-front are included in the compiled jar. But using java 8 I do have all this files included in jar. Java 8 info is:\n<p>java version &quot;1.8.0_231&quot; Java(TM) SE Runtime Environment (build 1.8.0_231-b11) Java HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)</p>\n<p>Does anyone has an idea why this could happen?</p>\n<p>I need to use the jdk 1.7 version until this jdk is updated in pro environment.</p>\n<p>Thanx a lot.\n<a href=\"https://i.stack.imgur.com/I4Oel.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22488238,"reputation":165,"user_id":16686308,"display_name":"Luna"},"score":0,"creation_date":1643735411,"post_id":70944638,"comment_id":125416667,"body_markdown":"Is this a local repository or a remote one? Which one?","body":"Is this a local repository or a remote one? Which one?"},{"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"score":0,"creation_date":1643735492,"post_id":70944638,"comment_id":125416698,"body_markdown":"I believe it is a global repository","body":"I believe it is a global repository"},{"owner":{"account_id":365480,"reputation":1146,"user_id":2859911,"display_name":"Todoy"},"score":0,"creation_date":1643735675,"post_id":70944638,"comment_id":125416781,"body_markdown":"What happens if you try to run mvn clean install outside of your IDE?","body":"What happens if you try to run mvn clean install outside of your IDE?"},{"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"score":0,"creation_date":1643736389,"post_id":70944638,"comment_id":125417045,"body_markdown":"I&#39;m not sure how to use mvn clean install, I don&#39;t think I have anything like that installed. I think I just have Eclipse downloaded","body":"I&#39;m not sure how to use mvn clean install, I don&#39;t think I have anything like that installed. I think I just have Eclipse downloaded"},{"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"score":0,"creation_date":1643737013,"post_id":70944638,"comment_id":125417283,"body_markdown":"I have just checked and and I saw that I can run maven clean inside my IDE, but I still don&#39;t know exactly what it does and if I need to do anything after I run it.","body":"I have just checked and and I saw that I can run maven clean inside my IDE, but I still don&#39;t know exactly what it does and if I need to do anything after I run it."}],"owner":{"account_id":24124091,"reputation":11,"user_id":18092724,"display_name":"callbee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643735252,"creation_date":1643735252,"question_id":70944638,"body_markdown":"I am using the newest version of Maven Eclipse and whenever I have been able to get one dependency for what I am working on, but whenever I try to add a second Eclipse just shows &quot;Searching Repository&quot; and eventually freezes. I have tried changing my preferences to make sure that the indexes update upon startup, I have enough storage space on my hard drive, I have enabled full index, and I have also tried rebuilding the indexes as well. I am on a windows computer.","title":"Java freezes when searching for maven dependency","body":"<p>I am using the newest version of Maven Eclipse and whenever I have been able to get one dependency for what I am working on, but whenever I try to add a second Eclipse just shows &quot;Searching Repository&quot; and eventually freezes. I have tried changing my preferences to make sure that the indexes update upon startup, I have enough storage space on my hard drive, I have enabled full index, and I have also tried rebuilding the indexes as well. I am on a windows computer.</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1643550691,"post_id":70915141,"comment_id":125364974,"body_markdown":"About the legal part, you probably should be asking [here](https://law.stackexchange.com/), definitely not on SO. It would be good to talk to your institute&#39;s authorities as well about integrating with their site.","body":"About the legal part, you probably should be asking <a href=\"https://law.stackexchange.com/\">here</a>, definitely not on SO. It would be good to talk to your institute&#39;s authorities as well about integrating with their site."},{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1643574382,"post_id":70915141,"comment_id":125370893,"body_markdown":"the website developer can implement cookie based solution to remember the credentials","body":"the website developer can implement cookie based solution to remember the credentials"},{"owner":{"account_id":23804852,"reputation":11,"user_id":17814543,"display_name":"Naman Tomar"},"score":0,"creation_date":1643612508,"post_id":70915141,"comment_id":125377120,"body_markdown":"@OmkarT On website, the credentials gets saved but not on my app.","body":"@OmkarT On website, the credentials gets saved but not on my app."}],"owner":{"account_id":23804852,"reputation":11,"user_id":17814543,"display_name":"Naman Tomar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643735251,"creation_date":1643549729,"question_id":70915141,"body_markdown":"Currently, I am still in the process of learning Android development so please excuse me if this question of mine is not easily understandable for you.\r\n\r\nI created an Android app of a website and that website has a login interface and i want to save the users data so they don&#39;t have to login every time. Now, is it possible to save user&#39;s Username and Password?\r\n\r\nSince the `setSavePassword` method is deprecated, I can not find another way to implement saving Username and Password. I have read about `SharedPreferences`, JavaScript and Autofill several times, but I don&#39;t know how to properly implement them into my app. Because from most of what I have read, it is suggested that it will need a login page first to save the Username and Password.\r\n\r\nThis is my WebView code.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        \r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mywebView = findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient());\r\n            mywebView.loadUrl(&quot;&quot;);\r\n            WebSettings webSettings = mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n        }\r\n    \r\n        public static class mywebClient extends WebViewClient {\r\n            \r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view, url, favicon);\r\n            }\r\n    \r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onBackPressed() {\r\n            if (mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }","title":"How to Save login credentials like Username and Password in Webview","body":"<p>Currently, I am still in the process of learning Android development so please excuse me if this question of mine is not easily understandable for you.</p>\n<p>I created an Android app of a website and that website has a login interface and i want to save the users data so they don't have to login every time. Now, is it possible to save user's Username and Password?</p>\n<p>Since the <code>setSavePassword</code> method is deprecated, I can not find another way to implement saving Username and Password. I have read about <code>SharedPreferences</code>, JavaScript and Autofill several times, but I don't know how to properly implement them into my app. Because from most of what I have read, it is suggested that it will need a login page first to save the Username and Password.</p>\n<p>This is my WebView code.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    \n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mywebView = findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient());\n        mywebView.loadUrl(&quot;&quot;);\n        WebSettings webSettings = mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n\n    public static class mywebClient extends WebViewClient {\n        \n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view, url, favicon);\n        }\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mywebView.canGoBack()) {\n            mywebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","dependency-injection","java-11"],"comments":[{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1643136529,"post_id":70852726,"comment_id":125258590,"body_markdown":"Do you want `&quot;phone&quot;` to be automatically de-serialized to enum `TypeCommunication.PHONE`\nor you want to get a `Map&lt;TypeCommunication, Notification&gt;` automatically without using `@PostConstruct`? Sorry your requirements is not clear to me","body":"Do you want <code>&quot;phone&quot;</code> to be automatically de-serialized to enum <code>TypeCommunication.PHONE</code> or you want to get a <code>Map&lt;TypeCommunication, Notification&gt;</code> automatically without using <code>@PostConstruct</code>? Sorry your requirements is not clear to me"},{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1643137307,"post_id":70852726,"comment_id":125258897,"body_markdown":"........want to get a Map&lt;Type Communication, Notification&gt; automatically without using @PostConstruct. thus, when I pass a string to the method, and call TypeCommunication typeCommunication =\n                Type Communication.value Of(&quot;phone&quot;), then from Map by key, I will get the desired service.","body":"........want to get a Map&lt;Type Communication, Notification&gt; automatically without using @PostConstruct. thus, when I pass a string to the method, and call TypeCommunication typeCommunication =                 Type Communication.value Of(&quot;phone&quot;), then from Map by key, I will get the desired service."}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1643191501,"creation_date":1643136676,"answer_id":70854132,"question_id":70852726,"body_markdown":"I would say that it cannot be done &quot;on the fly&quot;. So, I would create a static `Map` and static method `getByType` in `TypeCommunication` to retrieve the enum by its value: \r\n\r\n\r\n&lt;!-- language: java --&gt;    \r\n\r\n    public enum TypeCommunication {\r\n    \r\n        PHONE(&quot;phone&quot;),\r\n        EMAIL(&quot;email&quot;),\r\n        KAFKA(&quot;kafka&quot;);\r\n    \r\n        private static final Map&lt;String, TypeCommunication&gt; TYPE_COMMUNICATION_MAP;\r\n    \r\n        private final String value;\r\n    \r\n        static {\r\n            TYPE_COMMUNICATION_MAP = Arrays.stream(TypeCommunication.values())\r\n                    .collect(Collectors.toMap(TypeCommunication::getType, Function.identity(),\r\n                            (existing, replacement) -&gt; existing));\r\n        }\r\n    \r\n        TypeCommunication(String value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public String getType() {\r\n            return this.value;\r\n        }\r\n    \r\n        public static TypeCommunication getByType(String type) {\r\n            return TYPE_COMMUNICATION_MAP.get(type);\r\n        }\r\n    }\r\n\r\nIf you received this value in the controller in the request body, then you could use   `@JsonValue` annotation on the `getType()` method to immediately [deserialize](https://www.baeldung.com/jackson-serialize-enums) it in the enum by the value.\r\n\r\n About your `NotificationMaster`, spring cannot collect such a map automatically, but you can collect your map right in constructor without using `@PostConstruct`, and using [`Collectors.toMap()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)) method, also take the `EnumMap`, since your key is `Enum`:\r\n&lt;!-- language: java --&gt;  \r\n\r\n    @Component\r\n    public class NotificationMaster {\r\n    \r\n        private final Map&lt;TypeCommunication, Notification&gt; map;\r\n    \r\n        public NotificationMaster(List&lt;Notification&gt; notifications) { // or Set\r\n            map = notifications.stream()\r\n                    .collect(Collectors.toMap(Notification::getType, Function.identity(),\r\n                            (existing, replacement) -&gt; existing,\r\n                            () -&gt; new EnumMap&lt;&gt;(TypeCommunication.class)));\r\n        }\r\n\r\n    \r\n        public void send(TypeCommunication typeCommunication) {\r\n            map.getOrDefault(typeCommunication, new DefaultNotificationImpl()).sendNotice();\r\n        }\r\n    \r\n        private static class DefaultNotificationImpl implements Notification {\r\n            @Override\r\n            public void sendNotice() {\r\n                // some logic, e.g. throw new UnsupportedOperationException\r\n            }\r\n    \r\n            @Override\r\n            public TypeCommunication getType() {\r\n                return null;\r\n            }\r\n        }\r\n    }\r\nIt also good to define the `DefaultNotificationImpl` to avoid `NullPointerException` in your `send` method and using now `Map#getOrDefault` method instead of `Map#get`.\r\n\r\nYou can also take out the logic for creating a map in a separate configuration class and then simple autowire this map in `NotificationMaster`:\r\n&lt;!-- language: java --&gt; \r\n\r\n    @Configuration\r\n    public class Config {\r\n    \r\n        @Bean\r\n        public Map&lt;TypeCommunication, Notification&gt; createMap(List&lt;Notification&gt; notifications) {\r\n            return notifications.stream()\r\n                    .collect(Collectors.toMap(Notification::getType, Function.identity(),\r\n                            (existing, replacement) -&gt; existing,\r\n                            () -&gt; new EnumMap&lt;&gt;(TypeCommunication.class)));\r\n        }\r\n    }\r\n\r\n    @Component\r\n    public class NotificationMaster {\r\n\r\n        @Autowired\r\n        private Map&lt;TypeCommunication, Notification&gt; map;\r\n    \r\n        ...\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to Autowired multiple interface implementations and use Map and Enum as a key","body":"<p>I would say that it cannot be done &quot;on the fly&quot;. So, I would create a static <code>Map</code> and static method <code>getByType</code> in <code>TypeCommunication</code> to retrieve the enum by its value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum TypeCommunication {\n\n    PHONE(&quot;phone&quot;),\n    EMAIL(&quot;email&quot;),\n    KAFKA(&quot;kafka&quot;);\n\n    private static final Map&lt;String, TypeCommunication&gt; TYPE_COMMUNICATION_MAP;\n\n    private final String value;\n\n    static {\n        TYPE_COMMUNICATION_MAP = Arrays.stream(TypeCommunication.values())\n                .collect(Collectors.toMap(TypeCommunication::getType, Function.identity(),\n                        (existing, replacement) -&gt; existing));\n    }\n\n    TypeCommunication(String value) {\n        this.value = value;\n    }\n\n    public String getType() {\n        return this.value;\n    }\n\n    public static TypeCommunication getByType(String type) {\n        return TYPE_COMMUNICATION_MAP.get(type);\n    }\n}\n</code></pre>\n<p>If you received this value in the controller in the request body, then you could use   <code>@JsonValue</code> annotation on the <code>getType()</code> method to immediately <a href=\"https://www.baeldung.com/jackson-serialize-enums\" rel=\"nofollow noreferrer\">deserialize</a> it in the enum by the value.</p>\n<p>About your <code>NotificationMaster</code>, spring cannot collect such a map automatically, but you can collect your map right in constructor without using <code>@PostConstruct</code>, and using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function,java.util.function.BinaryOperator,java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>Collectors.toMap()</code></a> method, also take the <code>EnumMap</code>, since your key is <code>Enum</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class NotificationMaster {\n\n    private final Map&lt;TypeCommunication, Notification&gt; map;\n\n    public NotificationMaster(List&lt;Notification&gt; notifications) { // or Set\n        map = notifications.stream()\n                .collect(Collectors.toMap(Notification::getType, Function.identity(),\n                        (existing, replacement) -&gt; existing,\n                        () -&gt; new EnumMap&lt;&gt;(TypeCommunication.class)));\n    }\n\n\n    public void send(TypeCommunication typeCommunication) {\n        map.getOrDefault(typeCommunication, new DefaultNotificationImpl()).sendNotice();\n    }\n\n    private static class DefaultNotificationImpl implements Notification {\n        @Override\n        public void sendNotice() {\n            // some logic, e.g. throw new UnsupportedOperationException\n        }\n\n        @Override\n        public TypeCommunication getType() {\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>It also good to define the <code>DefaultNotificationImpl</code> to avoid <code>NullPointerException</code> in your <code>send</code> method and using now <code>Map#getOrDefault</code> method instead of <code>Map#get</code>.</p>\n<p>You can also take out the logic for creating a map in a separate configuration class and then simple autowire this map in <code>NotificationMaster</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config {\n\n    @Bean\n    public Map&lt;TypeCommunication, Notification&gt; createMap(List&lt;Notification&gt; notifications) {\n        return notifications.stream()\n                .collect(Collectors.toMap(Notification::getType, Function.identity(),\n                        (existing, replacement) -&gt; existing,\n                        () -&gt; new EnumMap&lt;&gt;(TypeCommunication.class)));\n    }\n}\n\n@Component\npublic class NotificationMaster {\n\n    @Autowired\n    private Map&lt;TypeCommunication, Notification&gt; map;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70854132,"answer_count":1,"score":0,"last_activity_date":1643735246,"creation_date":1643130096,"question_id":70852726,"body_markdown":"For example, there is a task, without violating the **Open/Closed principle**, to safely add new implementations for sending messages in different ways.  The input comes with a parameter that contains the type of &quot;transport&quot; for sending messages or the device where the messages will arrive.\r\n\r\nAs an input parameter, you need to use Enum, but design the system so that you do not use switch when the parameter comes as a string, but immediately call the desired service in accordance with the stated conditions.\r\n\r\nHere is my implementation.\r\n\r\n- Test\r\n\r\n```java\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass NotificationMasterTest extends MultiImplementationInterfacesAndEnumApplicationTests {\r\n\r\n    @Autowired\r\n    private NotificationMaster notification;\r\n\r\n    @Test\r\n    void send() {\r\n\r\n        String phone = &quot;phone&quot;;\r\n\r\n        TypeCommunication typeCommunication =\r\n                TypeCommunication.valueOf(&quot;phone&quot;);//Runtime Exception\r\n\r\n        notification.send(TypeCommunication.PHONE);\r\n    }\r\n}\r\n```\r\n\r\n- enum\r\n\r\n```java \r\npublic enum TypeCommunication {\r\n\r\n    PHONE(&quot;phone&quot;),\r\n    EMAIL(&quot;email&quot;),\r\n    KAFKA(&quot;kafka&quot;);\r\n\r\n    private String value;\r\n\r\n    TypeCommunication(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n\r\n    public String getType() {\r\n        return this.value;\r\n    }\r\n}\r\n```\r\n- interface\r\n\r\n```java\r\npublic interface Notification {\r\n\r\n    void sendNotice();\r\n\r\n    TypeCommunication getType();\r\n}\r\n```\r\n\r\n- PhoneImplementation\r\n\r\n```java\r\n@Service\r\npublic class NotificationPhoneImpl implements Notification {\r\n\r\n    private final TypeCommunication typeCommunication = TypeCommunication.PHONE;\r\n\r\n    public NotificationPhoneImpl() {\r\n    }\r\n\r\n    @Override\r\n    public void sendNotice() {\r\n        System.out.println(&quot;Send through --- phone---&quot;);\r\n    }\r\n\r\n    @Override\r\n    public TypeCommunication getType() {\r\n        return this.typeCommunication;\r\n    }\r\n}\r\n```\r\n\r\n- EmailEmplementation\r\n\r\n```java\r\n@Service\r\npublic class NotificationEmailImpl implements Notification {\r\n\r\n    private final TypeCommunication typeCommunication = TypeCommunication.EMAIL;\r\n\r\n    @Override\r\n    public void sendNotice() {\r\n        System.out.println(&quot;Send through --- email ---&quot;);\r\n    }\r\n\r\n    @Override\r\n    public TypeCommunication getType() {\r\n        return this.typeCommunication;\r\n    }\r\n}\r\n```\r\n\r\n- master\r\n\r\n```java\r\npackage com.example.multi.implementation.interfaces.services;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\n@Component\r\npublic class NotificationMaster {\r\n\r\n    private  Map&lt;TypeCommunication, Notification&gt; notificationService = new HashMap&lt;&gt;();\r\n\r\n    private Set&lt;Notification&gt; notification;\r\n\r\n    public NotificationMaster(Set&lt;Notification&gt; notification) {\r\n        this.notification = notification;\r\n    }\r\n\r\n    @PostConstruct\r\n    private void init(){\r\n        notification.stream()\r\n                .forEach(service -&gt; {\r\n                    TypeCommunication type = service.getType();\r\n                    notificationService.put(type, service);\r\n                });\r\n    }\r\n\r\n    public void send(TypeCommunication typeCommunication) {\r\n        Notification notification = notificationService.get(typeCommunication);\r\n        notification.sendNotice();\r\n    }\r\n}\r\n\r\n```\r\n\r\nI can&#39;t figure out how to pass a string and convert it to Enum on the fly (without using switch)  and immediately get the desired implementation.\r\n\r\nMaybe there is a more flexible solution in which Spring would have already prepared the components without me, so that I don&#39;t use Postconstruct and manually create a map with different service implementations?","title":"How to Autowired multiple interface implementations and use Map and Enum as a key","body":"<p>For example, there is a task, without violating the <strong>Open/Closed principle</strong>, to safely add new implementations for sending messages in different ways.  The input comes with a parameter that contains the type of &quot;transport&quot; for sending messages or the device where the messages will arrive.</p>\n<p>As an input parameter, you need to use Enum, but design the system so that you do not use switch when the parameter comes as a string, but immediately call the desired service in accordance with the stated conditions.</p>\n<p>Here is my implementation.</p>\n<ul>\n<li>Test</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass NotificationMasterTest extends MultiImplementationInterfacesAndEnumApplicationTests {\n\n    @Autowired\n    private NotificationMaster notification;\n\n    @Test\n    void send() {\n\n        String phone = &quot;phone&quot;;\n\n        TypeCommunication typeCommunication =\n                TypeCommunication.valueOf(&quot;phone&quot;);//Runtime Exception\n\n        notification.send(TypeCommunication.PHONE);\n    }\n}\n</code></pre>\n<ul>\n<li>enum</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public enum TypeCommunication {\n\n    PHONE(&quot;phone&quot;),\n    EMAIL(&quot;email&quot;),\n    KAFKA(&quot;kafka&quot;);\n\n    private String value;\n\n    TypeCommunication(String value) {\n        this.value = value;\n    }\n\n\n    public String getType() {\n        return this.value;\n    }\n}\n</code></pre>\n<ul>\n<li>interface</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Notification {\n\n    void sendNotice();\n\n    TypeCommunication getType();\n}\n</code></pre>\n<ul>\n<li>PhoneImplementation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class NotificationPhoneImpl implements Notification {\n\n    private final TypeCommunication typeCommunication = TypeCommunication.PHONE;\n\n    public NotificationPhoneImpl() {\n    }\n\n    @Override\n    public void sendNotice() {\n        System.out.println(&quot;Send through --- phone---&quot;);\n    }\n\n    @Override\n    public TypeCommunication getType() {\n        return this.typeCommunication;\n    }\n}\n</code></pre>\n<ul>\n<li>EmailEmplementation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class NotificationEmailImpl implements Notification {\n\n    private final TypeCommunication typeCommunication = TypeCommunication.EMAIL;\n\n    @Override\n    public void sendNotice() {\n        System.out.println(&quot;Send through --- email ---&quot;);\n    }\n\n    @Override\n    public TypeCommunication getType() {\n        return this.typeCommunication;\n    }\n}\n</code></pre>\n<ul>\n<li>master</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.multi.implementation.interfaces.services;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\nimport javax.annotation.PostConstruct;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\n@Component\npublic class NotificationMaster {\n\n    private  Map&lt;TypeCommunication, Notification&gt; notificationService = new HashMap&lt;&gt;();\n\n    private Set&lt;Notification&gt; notification;\n\n    public NotificationMaster(Set&lt;Notification&gt; notification) {\n        this.notification = notification;\n    }\n\n    @PostConstruct\n    private void init(){\n        notification.stream()\n                .forEach(service -&gt; {\n                    TypeCommunication type = service.getType();\n                    notificationService.put(type, service);\n                });\n    }\n\n    public void send(TypeCommunication typeCommunication) {\n        Notification notification = notificationService.get(typeCommunication);\n        notification.sendNotice();\n    }\n}\n\n</code></pre>\n<p>I can't figure out how to pass a string and convert it to Enum on the fly (without using switch)  and immediately get the desired implementation.</p>\n<p>Maybe there is a more flexible solution in which Spring would have already prepared the components without me, so that I don't use Postconstruct and manually create a map with different service implementations?</p>\n"},{"tags":["java","junit5"],"comments":[{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1643278976,"post_id":70875913,"comment_id":125299250,"body_markdown":"If your argument in test method is `Map`, use as return value `Stream&lt;Map&lt;String, Object&gt;&gt;` in source method","body":"If your argument in test method is <code>Map</code>, use as return value <code>Stream&lt;Map&lt;String, Object&gt;&gt;</code> in source method"},{"owner":{"account_id":12455601,"reputation":189,"user_id":9068917,"display_name":"Alex"},"score":0,"creation_date":1643285918,"post_id":70875913,"comment_id":125301928,"body_markdown":"Hi, I changed with Stream&lt;Map&lt;String, Object&gt;&gt; the parameter of method testWithExplicitLocalMethodSource but now I receive the error:  org.junit.platform.commons.PreconditionViolationException: Cannot convert instance of java.util.HashMap into a Stream: {1=Obj1, 2=Obj2}.   could you pls suggest another way pls?  Thanks in advance","body":"Hi, I changed with Stream&lt;Map&lt;String, Object&gt;&gt; the parameter of method testWithExplicitLocalMethodSource but now I receive the error:  org.junit.platform.commons.PreconditionViolationException: Cannot convert instance of java.util.HashMap into a Stream: {1=Obj1, 2=Obj2}.   could you pls suggest another way pls?  Thanks in advance"},{"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"score":0,"creation_date":1643287588,"post_id":70875913,"comment_id":125302548,"body_markdown":"`static Stream&lt;Map&lt;String, Object&gt;&gt; hashMapProvider() {\n        return Stream.of(Map.of(&quot;1&quot;, &quot;Obj1&quot;, &quot;2&quot;, &quot;Obj2&quot;), Map.of(&quot;3&quot;, &quot;Obj3&quot;) );\n    }`","body":"<code>static Stream&lt;Map&lt;String, Object&gt;&gt; hashMapProvider() {         return Stream.of(Map.of(&quot;1&quot;, &quot;Obj1&quot;, &quot;2&quot;, &quot;Obj2&quot;), Map.of(&quot;3&quot;, &quot;Obj3&quot;) );     }</code>"},{"owner":{"account_id":12455601,"reputation":189,"user_id":9068917,"display_name":"Alex"},"score":0,"creation_date":1643369590,"post_id":70875913,"comment_id":125327189,"body_markdown":"Hi sorry Georgy but I receive serveral error of conversion.  Could you please post the code as for my above example so I can better verify? Thanks in advance","body":"Hi sorry Georgy but I receive serveral error of conversion.  Could you please post the code as for my above example so I can better verify? Thanks in advance"}],"answers":[{"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1643372469,"creation_date":1643372469,"answer_id":70893727,"question_id":70875913,"body_markdown":"If your argument in test method is `Map&lt;String, Object&gt;`, use as return value `Stream&lt;Map&lt;String, Object&gt;&gt;` in source method:\r\n&lt;!-- language: java --&gt;\r\n\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.MethodSource;\r\n    \r\n    import java.util.Map;\r\n    import java.util.stream.Stream;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    \r\n    class SimpleTest {\r\n    \r\n        @ParameterizedTest\r\n        @MethodSource(&quot;hashMapProvider&quot;)\r\n        void test(Map&lt;String, Object&gt; argument) {\r\n            System.out.println(argument);\r\n            assertNotNull(argument);\r\n        }\r\n    \r\n        static Stream&lt;Map&lt;String, Object&gt;&gt; hashMapProvider() {\r\n            return Stream.of(\r\n                    Map.of(&quot;1&quot;, &quot;Obj1&quot;, &quot;2&quot;, &quot;Obj2&quot;),\r\n                    Map.of(&quot;3&quot;, &quot;Obj3&quot;)\r\n            );\r\n        }\r\n    }","title":"Junit5 returning Map from @MethodSource annotation","body":"<p>If your argument in test method is <code>Map&lt;String, Object&gt;</code>, use as return value <code>Stream&lt;Map&lt;String, Object&gt;&gt;</code> in source method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.MethodSource;\n\nimport java.util.Map;\nimport java.util.stream.Stream;\n\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\nclass SimpleTest {\n\n    @ParameterizedTest\n    @MethodSource(&quot;hashMapProvider&quot;)\n    void test(Map&lt;String, Object&gt; argument) {\n        System.out.println(argument);\n        assertNotNull(argument);\n    }\n\n    static Stream&lt;Map&lt;String, Object&gt;&gt; hashMapProvider() {\n        return Stream.of(\n                Map.of(&quot;1&quot;, &quot;Obj1&quot;, &quot;2&quot;, &quot;Obj2&quot;),\n                Map.of(&quot;3&quot;, &quot;Obj3&quot;)\n        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12455601,"reputation":189,"user_id":9068917,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3071,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70893727,"answer_count":1,"score":4,"last_activity_date":1643735238,"creation_date":1643274680,"question_id":70875913,"body_markdown":"I&#39;m using @MethodSource annotation on my Junit test case in order to receive from another method a Map&lt;String, Object&gt;.\r\n\r\nSeems that @MethodSource cannot support &quot;Map&quot; object.\r\n\r\nThis is the error I received:\r\norg.junit.platform.commons.PreconditionViolationException: Cannot convert instance of java.util.HashMap into a Stream: {1=Obj1, 2=Obj2}\r\n\r\nDo you know if there is a way to receive back a &quot;Map&quot; object like in this example?\r\n\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;hashMapProvider&quot;)\r\n    void testMyMapObj(Map&lt;String, Object&gt; argument) {\r\n        assertNotNull(argument);\r\n        Object obj1 = argument.get(&quot;1&quot;);\r\n    }\r\n\r\n\r\n    static Map&lt;String, Object&gt; hashMapProvider() {\r\n    \tMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;1&quot;, &quot;Obj1&quot;);\r\n        map.put(&quot;2&quot;, &quot;Obj2&quot;);\r\n\t    return map;\r\n     }\r\n\r\n","title":"Junit5 returning Map from @MethodSource annotation","body":"<p>I'm using @MethodSource annotation on my Junit test case in order to receive from another method a Map&lt;String, Object&gt;.</p>\n<p>Seems that @MethodSource cannot support &quot;Map&quot; object.</p>\n<p>This is the error I received:\norg.junit.platform.commons.PreconditionViolationException: Cannot convert instance of java.util.HashMap into a Stream: {1=Obj1, 2=Obj2}</p>\n<p>Do you know if there is a way to receive back a &quot;Map&quot; object like in this example?</p>\n<pre><code>@ParameterizedTest\n@MethodSource(&quot;hashMapProvider&quot;)\nvoid testMyMapObj(Map&lt;String, Object&gt; argument) {\n    assertNotNull(argument);\n    Object obj1 = argument.get(&quot;1&quot;);\n}\n\n\nstatic Map&lt;String, Object&gt; hashMapProvider() {\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;1&quot;, &quot;Obj1&quot;);\n    map.put(&quot;2&quot;, &quot;Obj2&quot;);\n    return map;\n }\n</code></pre>\n"},{"tags":["java","android","bluetooth","virtual-reality","shutter"],"comments":[{"owner":{"account_id":11064381,"reputation":1063,"user_id":8124605,"display_name":"Risto"},"score":0,"creation_date":1643638288,"post_id":70924315,"comment_id":125386150,"body_markdown":"Are you familiar with the [MWE](https://stackoverflow.com/help/minimal-reproducible-example) concept? A lot of people won&#39;t even look at your code because they&#39;ll have to dig through a bunch of UI code just to find a bug in your Bluetooth code.\nFirst of all, you should probably start by giving us the error message of the exception.","body":"Are you familiar with the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MWE</a> concept? A lot of people won&#39;t even look at your code because they&#39;ll have to dig through a bunch of UI code just to find a bug in your Bluetooth code. First of all, you should probably start by giving us the error message of the exception."},{"owner":{"account_id":8658538,"reputation":11,"user_id":6834142,"display_name":"Bruce G"},"score":0,"creation_date":1643656474,"post_id":70924315,"comment_id":125393656,"body_markdown":"I labelled where the bluetooth socket command wasnt working.  Anyways. I changed the UUID and MAC address into literals &quot;&quot;&quot;.  So it no longer crashes but still cant receive any reads.  It does receive the onkeyevents from the remotes in logcat.  There is no more error debugging coding but again no data is received.","body":"I labelled where the bluetooth socket command wasnt working.  Anyways. I changed the UUID and MAC address into literals &quot;&quot;&quot;.  So it no longer crashes but still cant receive any reads.  It does receive the onkeyevents from the remotes in logcat.  There is no more error debugging coding but again no data is received."}],"owner":{"account_id":8658538,"reputation":11,"user_id":6834142,"display_name":"Bruce G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643735229,"creation_date":1643624401,"question_id":70924315,"body_markdown":"I am trying to make an app that is able to read the Bluetooth remote signals whatever data it sends.  I only have a cheap VR remote and a shutter remote with me.  \r\nI can get their mac addresses and UUIDs after pairing. \r\n\r\nThe part with the Bluetooth socket connection keeps crashing.  Is there a better way to do this?     \r\n\r\n \r\n\r\n    public class SettingsActivity extends AppCompatActivity {\r\n\r\n    Button b1,b2,b3,b4;\r\n    private BluetoothAdapter BA;\r\n    private Set&lt;BluetoothDevice&gt;pairedDevices;\r\n    ListView lv;\r\n    ListView uuidlist;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_settings);\r\n        Intent i = getIntent();\r\n        String message = i.getStringExtra(&quot;Info&quot;);\r\n        ((TextView)findViewById(R.id.textView)).setText(message);\r\n\r\n\r\n        b1 =(Button)findViewById(R.id.button_on);\r\n        b2=(Button)findViewById(R.id.button_off);\r\n        b3=(Button)findViewById(R.id.list_devices);\r\n        b4=(Button)findViewById(R.id.visible);\r\n\r\n        BA = BluetoothAdapter.getDefaultAdapter();\r\n        lv = (ListView)findViewById(R.id.listView);\r\n        uuidlist = (ListView)findViewById(R.id.listView);\r\n\r\n        String uuid = get_uuid_from_paired_devices();\r\n\r\n        ((TextView)findViewById(R.id.uuid)).setText(uuid);\r\n        final UUID mUUID = UUID.fromString(uuid);\r\n        String mac = get_mac_from_paired_devices();\r\n        mac = mac.replaceAll(&quot;[\\\\[\\\\](){}]&quot;,&quot;&quot;);\r\n        ((TextView)findViewById(R.id.mac)).setText(mac);\r\n\r\n\r\n        //BluetoothDevice remote = BA.getRemoteDevice(mac);\r\n        BluetoothDevice remote;\r\n        BluetoothServerSocket mmServerSocket;\r\n\r\n        BluetoothSocket socket = null;\r\n\r\n        try  {\r\n            mmServerSocket = BA.listenUsingRfcommWithServiceRecord(&quot;remote&quot;, mUUID);\r\n            socket = mmServerSocket.accept();\r\n\r\n\r\n        }  catch (Exception e) {\r\n\r\n        }\r\n\r\n        **////////// stuck here with the bluetooth socket**\r\n\r\n\r\n    }\r\n\r\n    public void on(View v){\r\n        if (!BA.isEnabled()) {\r\n            Intent turnOn = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            startActivityForResult(turnOn, 1);\r\n            Toast.makeText(getApplicationContext(), &quot;Turned on&quot;,Toast.LENGTH_LONG).show();\r\n        } else {\r\n            Toast.makeText(getApplicationContext(), &quot;Already on&quot;, Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    public void off(View v){\r\n        BA.disable();\r\n        Toast.makeText(getApplicationContext(), &quot;Turned off&quot; ,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\n    public  void visible(View v){\r\n        Intent getVisible = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\r\n        startActivityForResult(getVisible, 1);\r\n    }\r\n\r\n\r\n    public void list(View v){\r\n        pairedDevices = BA.getBondedDevices();\r\n\r\n        ArrayList list = new ArrayList();\r\n\r\n        for(BluetoothDevice bt : pairedDevices) list.add(bt.getName());\r\n        Toast.makeText(getApplicationContext(), &quot;Showing Paired Devices&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n        final ArrayAdapter adapter = new  ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\r\n\r\n        lv.setAdapter(adapter);\r\n\r\n\r\n    }\r\n\r\n    public void unpair(View v) {\r\n        Set&lt;BluetoothDevice&gt; bondedDevices = BA.getBondedDevices();\r\n        try {\r\n            Class&lt;?&gt; btDeviceInstance =  Class.forName(BluetoothDevice.class.getCanonicalName());\r\n            Method removeBondMethod = btDeviceInstance.getMethod(&quot;removeBond&quot;);\r\n\r\n            boolean cleared = false;\r\n            for (BluetoothDevice bluetoothDevice : bondedDevices) {\r\n                String mac = bluetoothDevice.getAddress();\r\n\r\n                removeBondMethod.invoke(bluetoothDevice);\r\n\r\n                Toast.makeText(this, &quot;Cleared Pairing&quot;, Toast.LENGTH_LONG ).show();\r\n                cleared = true;\r\n                break;\r\n\r\n            }\r\n\r\n            if(!cleared) {\r\n                Toast.makeText(this,&quot;Not paired&quot;, Toast.LENGTH_LONG ).show();\r\n            }\r\n        } catch (Throwable th) {\r\n            Toast.makeText(this,&quot;Error pairing&quot;, Toast.LENGTH_LONG ).show();\r\n        }\r\n    }\r\n\r\n    private String get_uuid_from_paired_devices(){  //Get the list UUIDs\r\n        Set&lt;BluetoothDevice&gt; pairedDevices = BA.getBondedDevices();\r\n        String uuid_string = &quot;&quot;;\r\n        for (BluetoothDevice device: pairedDevices){\r\n\r\n            for (ParcelUuid uuid: device.getUuids()){\r\n                uuid_string = uuid.toString();\r\n\r\n            }\r\n        }\r\n\r\n        return uuid_string;\r\n    }\r\n","title":"Java android app is unable to connect with bluetooth shutter/VR remote for camera using socket","body":"<p>I am trying to make an app that is able to read the Bluetooth remote signals whatever data it sends.  I only have a cheap VR remote and a shutter remote with me.<br />\nI can get their mac addresses and UUIDs after pairing.</p>\n<p>The part with the Bluetooth socket connection keeps crashing.  Is there a better way to do this?</p>\n<pre><code>public class SettingsActivity extends AppCompatActivity {\n\nButton b1,b2,b3,b4;\nprivate BluetoothAdapter BA;\nprivate Set&lt;BluetoothDevice&gt;pairedDevices;\nListView lv;\nListView uuidlist;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_settings);\n    Intent i = getIntent();\n    String message = i.getStringExtra(&quot;Info&quot;);\n    ((TextView)findViewById(R.id.textView)).setText(message);\n\n\n    b1 =(Button)findViewById(R.id.button_on);\n    b2=(Button)findViewById(R.id.button_off);\n    b3=(Button)findViewById(R.id.list_devices);\n    b4=(Button)findViewById(R.id.visible);\n\n    BA = BluetoothAdapter.getDefaultAdapter();\n    lv = (ListView)findViewById(R.id.listView);\n    uuidlist = (ListView)findViewById(R.id.listView);\n\n    String uuid = get_uuid_from_paired_devices();\n\n    ((TextView)findViewById(R.id.uuid)).setText(uuid);\n    final UUID mUUID = UUID.fromString(uuid);\n    String mac = get_mac_from_paired_devices();\n    mac = mac.replaceAll(&quot;[\\\\[\\\\](){}]&quot;,&quot;&quot;);\n    ((TextView)findViewById(R.id.mac)).setText(mac);\n\n\n    //BluetoothDevice remote = BA.getRemoteDevice(mac);\n    BluetoothDevice remote;\n    BluetoothServerSocket mmServerSocket;\n\n    BluetoothSocket socket = null;\n\n    try  {\n        mmServerSocket = BA.listenUsingRfcommWithServiceRecord(&quot;remote&quot;, mUUID);\n        socket = mmServerSocket.accept();\n\n\n    }  catch (Exception e) {\n\n    }\n\n    **////////// stuck here with the bluetooth socket**\n\n\n}\n\npublic void on(View v){\n    if (!BA.isEnabled()) {\n        Intent turnOn = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n        startActivityForResult(turnOn, 1);\n        Toast.makeText(getApplicationContext(), &quot;Turned on&quot;,Toast.LENGTH_LONG).show();\n    } else {\n        Toast.makeText(getApplicationContext(), &quot;Already on&quot;, Toast.LENGTH_LONG).show();\n    }\n}\n\npublic void off(View v){\n    BA.disable();\n    Toast.makeText(getApplicationContext(), &quot;Turned off&quot; ,Toast.LENGTH_LONG).show();\n}\n\n\npublic  void visible(View v){\n    Intent getVisible = new Intent(BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE);\n    startActivityForResult(getVisible, 1);\n}\n\n\npublic void list(View v){\n    pairedDevices = BA.getBondedDevices();\n\n    ArrayList list = new ArrayList();\n\n    for(BluetoothDevice bt : pairedDevices) list.add(bt.getName());\n    Toast.makeText(getApplicationContext(), &quot;Showing Paired Devices&quot;,Toast.LENGTH_SHORT).show();\n\n    final ArrayAdapter adapter = new  ArrayAdapter(this,android.R.layout.simple_list_item_1, list);\n\n    lv.setAdapter(adapter);\n\n\n}\n\npublic void unpair(View v) {\n    Set&lt;BluetoothDevice&gt; bondedDevices = BA.getBondedDevices();\n    try {\n        Class&lt;?&gt; btDeviceInstance =  Class.forName(BluetoothDevice.class.getCanonicalName());\n        Method removeBondMethod = btDeviceInstance.getMethod(&quot;removeBond&quot;);\n\n        boolean cleared = false;\n        for (BluetoothDevice bluetoothDevice : bondedDevices) {\n            String mac = bluetoothDevice.getAddress();\n\n            removeBondMethod.invoke(bluetoothDevice);\n\n            Toast.makeText(this, &quot;Cleared Pairing&quot;, Toast.LENGTH_LONG ).show();\n            cleared = true;\n            break;\n\n        }\n\n        if(!cleared) {\n            Toast.makeText(this,&quot;Not paired&quot;, Toast.LENGTH_LONG ).show();\n        }\n    } catch (Throwable th) {\n        Toast.makeText(this,&quot;Error pairing&quot;, Toast.LENGTH_LONG ).show();\n    }\n}\n\nprivate String get_uuid_from_paired_devices(){  //Get the list UUIDs\n    Set&lt;BluetoothDevice&gt; pairedDevices = BA.getBondedDevices();\n    String uuid_string = &quot;&quot;;\n    for (BluetoothDevice device: pairedDevices){\n\n        for (ParcelUuid uuid: device.getUuids()){\n            uuid_string = uuid.toString();\n\n        }\n    }\n\n    return uuid_string;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":1,"creation_date":1643735885,"post_id":70944583,"comment_id":125416865,"body_markdown":"`but my code didn&#39;t work` - what exactly didn&#39;t work? what are you expecting to happen? what actually happened?","body":"<code>but my code didn&#39;t work</code> - what exactly didn&#39;t work? what are you expecting to happen? what actually happened?"},{"owner":{"account_id":22038016,"reputation":11,"user_id":16304200,"display_name":"Shashant Chaudhary"},"score":0,"creation_date":1643736981,"post_id":70944583,"comment_id":125417275,"body_markdown":"I tried to print all the song name but it returns noting  by using   Log.e(&quot;Name :&quot;,  audioModel.toString()); . I am excepting it will print all the song name in my Log cat console","body":"I tried to print all the song name but it returns noting  by using   Log.e(&quot;Name :&quot;,  audioModel.toString()); . I am excepting it will print all the song name in my Log cat console"}],"owner":{"account_id":22038016,"reputation":11,"user_id":16304200,"display_name":"Shashant Chaudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1643735034,"creation_date":1643735034,"question_id":70944583,"body_markdown":" I use media Store to get All the files from the Storage but my code didn&#39;t work . help me to solve issue. I tried all the tricks from the internet but also after that i am not able to solve this.. \r\n\r\n \r\n\r\n  \r\n\r\n    enter code here\r\n       public List&lt;Song&gt; getAllAudioFromDevice(final Context context) {\r\n                    final ArrayList&lt;Song&gt; tempAudioList = new ArrayList&lt;Song&gt;();\r\n                    File temp= (File)Environment.getExternalStorageDirectory();\r\n                    String selection=MediaStore.Audio.Media.IS_MUSIC+&quot;!=0&quot;;\r\n                    Uri uri = MediaStore.Audio.Media.INTERNAL_CONTENT_URI;\r\n                    Log.d(&quot;file&quot;,temp.toString());\r\n                    String[] projection = {MediaStore.Audio.Media._ID,\r\n                        //    MediaStore.Audio.Media.TITLE,\r\n                           // MediaStore.Audio.Media.DURATION,\r\n                            MediaStore.Audio.Media.DATA,\r\n                            MediaStore.Audio.Media.ALBUM,\r\n                            MediaStore.Audio.Media.ARTIST\r\n                           // MediaStore.Audio.Media.ALBUM_ID\r\n                    };\r\n            \r\n                    Cursor c = context.getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\r\n            projection, selection,null,null,null);\r\n            \r\n                    if (c != null) {\r\n                        do {\r\n                            Song audioModel = new Song();\r\n                            int path =(c.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA));\r\n                            int  name =c.getColumnIndexOrThrow(MediaStore.Audio.Media.ALBUM);\r\n                            int album =(c.getColumnIndexOrThrow(MediaStore.Audio.Media.ARTIST));\r\n                            audioModel.setaName(c.getString(name));\r\n                            Log.e(&quot;Uri&quot;,(c.getString(name)));\r\n                            audioModel.setaAlbum(c.getString(album));\r\n                            audioModel.setaPath(c.getString((path)));\r\n                            Log.e(&quot;Name :&quot;,  audioModel.toString());\r\n            \r\n                            tempAudioList.add(audioModel);\r\n            \r\n                        }while (c.moveToNext());\r\n                        c.close();\r\n                    }\r\n                    Log.e(&quot;N&quot;,  Integer.toString(tempAudioList.size()) );\r\n                    return tempAudioList; }","title":"I am trying to get all the audio files from my internal and external storage","body":"<p>I use media Store to get All the files from the Storage but my code didn't work . help me to solve issue. I tried all the tricks from the internet but also after that i am not able to solve this..</p>\n<pre><code>enter code here\n   public List&lt;Song&gt; getAllAudioFromDevice(final Context context) {\n                final ArrayList&lt;Song&gt; tempAudioList = new ArrayList&lt;Song&gt;();\n                File temp= (File)Environment.getExternalStorageDirectory();\n                String selection=MediaStore.Audio.Media.IS_MUSIC+&quot;!=0&quot;;\n                Uri uri = MediaStore.Audio.Media.INTERNAL_CONTENT_URI;\n                Log.d(&quot;file&quot;,temp.toString());\n                String[] projection = {MediaStore.Audio.Media._ID,\n                    //    MediaStore.Audio.Media.TITLE,\n                       // MediaStore.Audio.Media.DURATION,\n                        MediaStore.Audio.Media.DATA,\n                        MediaStore.Audio.Media.ALBUM,\n                        MediaStore.Audio.Media.ARTIST\n                       // MediaStore.Audio.Media.ALBUM_ID\n                };\n        \n                Cursor c = context.getContentResolver().query(MediaStore.Audio.Media.EXTERNAL_CONTENT_URI,\n        projection, selection,null,null,null);\n        \n                if (c != null) {\n                    do {\n                        Song audioModel = new Song();\n                        int path =(c.getColumnIndexOrThrow(MediaStore.Audio.Media.DATA));\n                        int  name =c.getColumnIndexOrThrow(MediaStore.Audio.Media.ALBUM);\n                        int album =(c.getColumnIndexOrThrow(MediaStore.Audio.Media.ARTIST));\n                        audioModel.setaName(c.getString(name));\n                        Log.e(&quot;Uri&quot;,(c.getString(name)));\n                        audioModel.setaAlbum(c.getString(album));\n                        audioModel.setaPath(c.getString((path)));\n                        Log.e(&quot;Name :&quot;,  audioModel.toString());\n        \n                        tempAudioList.add(audioModel);\n        \n                    }while (c.moveToNext());\n                    c.close();\n                }\n                Log.e(&quot;N&quot;,  Integer.toString(tempAudioList.size()) );\n                return tempAudioList; }\n</code></pre>\n"},{"tags":["java","json","api","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643729690,"creation_date":1643729690,"answer_id":70943241,"question_id":70942876,"body_markdown":"Slash quote (\\&quot;) symbol is just a properly escaped quotation in JSON. Your parser didn&#39;t recognize internal JSONs as JSONs but took them as Strings. Therefore within a String it escaped all &quot; symbols. I suggest that you can use class [ObjectMapper][1] of [Json-Jackson (also known as Faster XML) library][2] (Maven artifacts [here][3]). I wrote my own open source library called MgntUtils, that has JSON parser based on Json-Jackson. Using this library you can easily parse your JSON String into a Map\r\n\r\n    Map&lt;String, Object&gt; myMap = null;\r\n    try {\r\n          myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\r\n        }\r\n    } catch (IOException e) {\r\n       ...\r\n    }\r\n\r\nHere is Javadoc for [JsonUtils][4]. The Maven artifacts for MgntUtils library could be found [here][5], and library as a jar along with Javadoc and source code could be found on Github [here][6]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n  [4]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [5]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [6]: https://github.com/michaelgantman/Mgnt/releases","title":"How to properly convert HashMap&lt;String,List&lt;Object&gt;&gt; to Json with array of json object","body":"<p>Slash quote (&quot;) symbol is just a properly escaped quotation in JSON. Your parser didn't recognize internal JSONs as JSONs but took them as Strings. Therefore within a String it escaped all &quot; symbols. I suggest that you can use class <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">ObjectMapper</a> of <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Json-Jackson (also known as Faster XML) library</a> (Maven artifacts <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"nofollow noreferrer\">here</a>). I wrote my own open source library called MgntUtils, that has JSON parser based on Json-Jackson. Using this library you can easily parse your JSON String into a Map</p>\n<pre><code>Map&lt;String, Object&gt; myMap = null;\ntry {\n      myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\n    }\n} catch (IOException e) {\n   ...\n}\n</code></pre>\n<p>Here is Javadoc for <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a>. The Maven artifacts for MgntUtils library could be found <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">here</a>, and library as a jar along with Javadoc and source code could be found on Github <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":18763544,"reputation":163,"user_id":13681955,"display_name":"Don"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643734046,"creation_date":1643731683,"answer_id":70943710,"question_id":70942876,"body_markdown":"It is now working using these changes:\r\n```\r\nHashMap&lt;String,List&lt;Object&gt;&gt; responses = new HashMap&lt;String,List&lt;Object&gt;&gt;();\r\n\r\nfor (ConsumerRecord&lt;String,String&gt; consumerRecord : records) {\r\n    if(!responses.containsKey(consumerRecord.topic())){\r\n        responses.put(consumerRecord.topic(), new ArrayList&lt;Object&gt;());\r\n    }\r\n    responses.get(consumerRecord.topic()).add(new JSONObject(consumerRecord.value()));\r\n}\r\n\r\njsonObject = new JSONObject(responses);\r\nreturn jsonObject.toMap();\r\n\r\n```\r\n\r\n 1. Convert Kafka message string to JSONObject `new JSONObject(consumerRecord.value())`\r\n 2. Construct a JSONObject from a Map using \r\n`jsonObject = new JSONObject(responses);`\r\n 3. Return Map&lt;String, Object&gt; using `jsonObject.toMap();`\r\n","title":"How to properly convert HashMap&lt;String,List&lt;Object&gt;&gt; to Json with array of json object","body":"<p>It is now working using these changes:</p>\n<pre><code>HashMap&lt;String,List&lt;Object&gt;&gt; responses = new HashMap&lt;String,List&lt;Object&gt;&gt;();\n\nfor (ConsumerRecord&lt;String,String&gt; consumerRecord : records) {\n    if(!responses.containsKey(consumerRecord.topic())){\n        responses.put(consumerRecord.topic(), new ArrayList&lt;Object&gt;());\n    }\n    responses.get(consumerRecord.topic()).add(new JSONObject(consumerRecord.value()));\n}\n\njsonObject = new JSONObject(responses);\nreturn jsonObject.toMap();\n\n</code></pre>\n<ol>\n<li>Convert Kafka message string to JSONObject <code>new JSONObject(consumerRecord.value())</code></li>\n<li>Construct a JSONObject from a Map using\n<code>jsonObject = new JSONObject(responses);</code></li>\n<li>Return Map&lt;String, Object&gt; using <code>jsonObject.toMap();</code></li>\n</ol>\n"}],"owner":{"account_id":18763544,"reputation":163,"user_id":13681955,"display_name":"Don"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70943710,"answer_count":2,"score":0,"last_activity_date":1643734046,"creation_date":1643728176,"question_id":70942876,"body_markdown":"I have a stream of Kafka messages and wanted to build a `HashMap&lt;String,List&lt;Object&gt;&gt;` to be used as API response in Json format.\r\n\r\n```\r\nfor (ConsumerRecord&lt;String,String&gt; consumerRecord : records) {\r\n    if(!responses.containsKey(consumerRecord.topic())){\r\n        responses.put(consumerRecord.topic(), new ArrayList&lt;Object&gt;());\r\n    }\r\n    responses.get(consumerRecord.topic()).add(JSONObject.stringToValue(consumerRecord.value()));\r\n}\r\n\r\n```\r\nexpected response:\r\n```\r\n{\r\n\t&quot;topic1&quot;: [\r\n\t\t{&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:&quot;value3&quot;}\r\n\t],\r\n\t&quot;topic2&quot;: [\r\n\t\t{&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:&quot;value3&quot;},\r\n\t\t{&quot;anotherfield1&quot;:&quot;anothervalue1&quot;,&quot;anotherfield2&quot;:&quot;anothervalue2&quot;}\r\n\t]\r\n}\r\n```\r\n\r\nactual response:\r\n```\r\n{\r\n\t&quot;topic1&quot;: [\r\n\t\t&quot;{\\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\&quot;field3\\&quot;:\\&quot;value3\\&quot;}&quot;\r\n\t],\r\n\t&quot;topic2&quot;: [\r\n\t\t&quot;{\\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\&quot;field3\\&quot;:\\&quot;value3\\&quot;}&quot;,\r\n\t\t&quot;{\\&quot;anotherfield1\\&quot;:\\&quot;anothervalue1\\&quot;,\\&quot;anotherfield2\\&quot;:\\&quot;anothervalue2\\&quot;}&quot;\r\n\t]\r\n}\r\n```","title":"How to properly convert HashMap&lt;String,List&lt;Object&gt;&gt; to Json with array of json object","body":"<p>I have a stream of Kafka messages and wanted to build a <code>HashMap&lt;String,List&lt;Object&gt;&gt;</code> to be used as API response in Json format.</p>\n<pre><code>for (ConsumerRecord&lt;String,String&gt; consumerRecord : records) {\n    if(!responses.containsKey(consumerRecord.topic())){\n        responses.put(consumerRecord.topic(), new ArrayList&lt;Object&gt;());\n    }\n    responses.get(consumerRecord.topic()).add(JSONObject.stringToValue(consumerRecord.value()));\n}\n\n</code></pre>\n<p>expected response:</p>\n<pre><code>{\n    &quot;topic1&quot;: [\n        {&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:&quot;value3&quot;}\n    ],\n    &quot;topic2&quot;: [\n        {&quot;field1&quot;:&quot;value1&quot;,&quot;field2&quot;:&quot;value2&quot;,&quot;field3&quot;:&quot;value3&quot;},\n        {&quot;anotherfield1&quot;:&quot;anothervalue1&quot;,&quot;anotherfield2&quot;:&quot;anothervalue2&quot;}\n    ]\n}\n</code></pre>\n<p>actual response:</p>\n<pre><code>{\n    &quot;topic1&quot;: [\n        &quot;{\\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\&quot;field3\\&quot;:\\&quot;value3\\&quot;}&quot;\n    ],\n    &quot;topic2&quot;: [\n        &quot;{\\&quot;field1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field2\\&quot;:\\&quot;value2\\&quot;,\\&quot;field3\\&quot;:\\&quot;value3\\&quot;}&quot;,\n        &quot;{\\&quot;anotherfield1\\&quot;:\\&quot;anothervalue1\\&quot;,\\&quot;anotherfield2\\&quot;:\\&quot;anothervalue2\\&quot;}&quot;\n    ]\n}\n</code></pre>\n"},{"tags":["java","sql","oracle","date"],"comments":[{"owner":{"account_id":10325130,"reputation":535,"user_id":7616822,"accept_rate":50,"display_name":"procra"},"score":0,"creation_date":1643724906,"post_id":70941965,"comment_id":125411898,"body_markdown":"Are you aware of `SimpleDateFormat`? If you provide a sample of your code, we might provide an answer","body":"Are you aware of <code>SimpleDateFormat</code>? If you provide a sample of your code, we might provide an answer"},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1643726216,"post_id":70941965,"comment_id":125412470,"body_markdown":"Is the parameter for your DB procedure defined as a date, or as a string? If it&#39;s a date (as it should be, and as your use of setDate implies) then you don&#39;t need to worry about &#39;format&#39;.","body":"Is the parameter for your DB procedure defined as a date, or as a string? If it&#39;s a date (as it should be, and as your use of setDate implies) then you don&#39;t need to worry about &#39;format&#39;."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1643779082,"post_id":70941965,"comment_id":125427093,"body_markdown":"@procra Please don’t suggest the long outdated and notoriously troublesome `SimpleDateFormat` class. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"@procra Please don’t suggest the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1643779195,"post_id":70941965,"comment_id":125427101,"body_markdown":"There are some misunderstandings in your question. You don’t have to pass the date in any particular format. And you don’t have to use `setDate()`, Since JDBC 4.2 the recommended way is to use `setObject()` and pass a `LocalDate` to it. And not worry about its format.","body":"There are some misunderstandings in your question. You don’t have to pass the date in any particular format. And you don’t have to use <code>setDate()</code>, Since JDBC 4.2 the recommended way is to use <code>setObject()</code> and pass a <code>LocalDate</code> to it. And not worry about its format."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643726489,"creation_date":1643726147,"answer_id":70942354,"question_id":70941965,"body_markdown":"In Oracle, a `DATE` is a binary data type composed of 7 bytes (century, year-of-century, month, day, hour, minute and second). It **ALWAYS** has those components and it **NEVER** stores a format.\r\n\r\n&gt; When this CallebleStatement is executed, will it transform the date I&#39;m sending to the database format, or will it write to the Java format?\r\n\r\nIf you are using `CallableStatement.setDate()`, it will transform it to the binary values required by the database. It will **NOT** store it in an (easily) human readable format.\r\n\r\nIf you want to see how the database stores the value then you can use:\r\n\r\n``` sql\r\nSELECT DUMP(your_date_column) FROM your_table;\r\n```\r\n\r\nWhen you read the value from the database then the client application (in this case, Java via the database driver) will read the binary values from the database and will convert it to a representation suitable to the client application.\r\n\r\nIf you read it in a different client application then the binary values will be converted to the appropriate representation for that client application; so two different client applications (for example, Java and SQL/Plus) may display the same binary date value with different formats.","title":"Date conversion format Java to DB different format","body":"<p>In Oracle, a <code>DATE</code> is a binary data type composed of 7 bytes (century, year-of-century, month, day, hour, minute and second). It <strong>ALWAYS</strong> has those components and it <strong>NEVER</strong> stores a format.</p>\n<blockquote>\n<p>When this CallebleStatement is executed, will it transform the date I'm sending to the database format, or will it write to the Java format?</p>\n</blockquote>\n<p>If you are using <code>CallableStatement.setDate()</code>, it will transform it to the binary values required by the database. It will <strong>NOT</strong> store it in an (easily) human readable format.</p>\n<p>If you want to see how the database stores the value then you can use:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT DUMP(your_date_column) FROM your_table;\n</code></pre>\n<p>When you read the value from the database then the client application (in this case, Java via the database driver) will read the binary values from the database and will convert it to a representation suitable to the client application.</p>\n<p>If you read it in a different client application then the binary values will be converted to the appropriate representation for that client application; so two different client applications (for example, Java and SQL/Plus) may display the same binary date value with different formats.</p>\n"}],"owner":{"account_id":24115142,"reputation":3,"user_id":18085138,"display_name":"Giovanna Cazelato Pires"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70942354,"answer_count":1,"score":0,"last_activity_date":1643733962,"creation_date":1643724546,"question_id":70941965,"body_markdown":"I&#39;m making a code in java that executes an Oracle database procedure\r\nThe format I have to put there in the procedure when I run through the database is dd/MM/yyyy.\r\nI have to send this date from my java code using a CallebleStatement setDate with the date yyyy-MM-dd (which is the Date format in java)\r\nWhen this CallebleStatement is executed, will it transform the date I&#39;m sending to the database format, or will it write to the Java format?\r\n\r\nEDIT: \r\nIt is basically this: \r\n\r\n```\r\nif(types[1].compareTo(&quot;DATE&quot;) == 0) {//procedureValues[i] = yyyy-MM-dd HH:mm:ss\r\n\tcs.setDate(i+1, Date.valueOf(procedureValues[i].trim()));\r\n}else {\r\n\tcs.setObject(i+1, procedureValues[i].trim(), SQLTypes.valueOf(types[1]).getTypes());\t\r\n}\r\n```\r\nAnd yes, the procedure expects the DATE format\r\n","title":"Date conversion format Java to DB different format","body":"<p>I'm making a code in java that executes an Oracle database procedure\nThe format I have to put there in the procedure when I run through the database is dd/MM/yyyy.\nI have to send this date from my java code using a CallebleStatement setDate with the date yyyy-MM-dd (which is the Date format in java)\nWhen this CallebleStatement is executed, will it transform the date I'm sending to the database format, or will it write to the Java format?</p>\n<p>EDIT:\nIt is basically this:</p>\n<pre><code>if(types[1].compareTo(&quot;DATE&quot;) == 0) {//procedureValues[i] = yyyy-MM-dd HH:mm:ss\n    cs.setDate(i+1, Date.valueOf(procedureValues[i].trim()));\n}else {\n    cs.setObject(i+1, procedureValues[i].trim(), SQLTypes.valueOf(types[1]).getTypes());    \n}\n</code></pre>\n<p>And yes, the procedure expects the DATE format</p>\n"},{"tags":["java","inheritance","arraylist","tostring"],"answers":[{"tags":[],"owner":{"account_id":15421940,"reputation":90,"user_id":11125751,"display_name":"Rabih Jabr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643733668,"creation_date":1624973380,"answer_id":68179682,"question_id":68179577,"body_markdown":"you are not printing the result of the showInvoice() method.\r\nBe careful that you are returning a String and not printing inside the method itself.","title":"JAVA Showing all elements in a index of a ArrayList","body":"<p>you are not printing the result of the showInvoice() method.\nBe careful that you are returning a String and not printing inside the method itself.</p>\n"},{"tags":[],"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624974853,"creation_date":1624974853,"answer_id":68180127,"question_id":68179577,"body_markdown":"    import java.util.ArrayList;\r\n    public class Tester {\r\n        public static void main(String[] args) {\r\n            \r\n            InvoicerHub myInvoice = new InvoicerHub();\r\n            \r\n            myInvoice.generateInvoice(myInvoice);\r\n            System.out.println(myInvoice.showInvoice());\r\n        }\r\n    }","title":"JAVA Showing all elements in a index of a ArrayList","body":"<pre><code>import java.util.ArrayList;\npublic class Tester {\n    public static void main(String[] args) {\n        \n        InvoicerHub myInvoice = new InvoicerHub();\n        \n        myInvoice.generateInvoice(myInvoice);\n        System.out.println(myInvoice.showInvoice());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624990449,"creation_date":1624980386,"answer_id":68181650,"question_id":68179577,"body_markdown":"Your method of `showInvoice` should do just that (i.e show the invoice).  The print statement should be in that method and the method should have a return type of `void`.  Otherwise, you might want to rename the method to something more meaningful like `getFormattedInvoice()`\r\n\r\nYou could also modify your `toString()` method to properly format the invoice for printing.  Then you could just print the invoice by simply printing the object.\r\n\r\nNote:  When overriding methods like `toString()` it is good practice to precede them with an `@Override` annotation.  This will ensure your method signature matches the signature of the overridden method.  Doing so can often help prevent debugging issues by catching improper signatures at compile time.\r\n","title":"JAVA Showing all elements in a index of a ArrayList","body":"<p>Your method of <code>showInvoice</code> should do just that (i.e show the invoice).  The print statement should be in that method and the method should have a return type of <code>void</code>.  Otherwise, you might want to rename the method to something more meaningful like <code>getFormattedInvoice()</code></p>\n<p>You could also modify your <code>toString()</code> method to properly format the invoice for printing.  Then you could just print the invoice by simply printing the object.</p>\n<p>Note:  When overriding methods like <code>toString()</code> it is good practice to precede them with an <code>@Override</code> annotation.  This will ensure your method signature matches the signature of the overridden method.  Doing so can often help prevent debugging issues by catching improper signatures at compile time.</p>\n"}],"owner":{"display_name":"user16118696"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1643733668,"creation_date":1624973000,"question_id":68179577,"body_markdown":"I am creating a menu-based program that generates invoices, this invoice is for monthly rent.   \r\nWhen the user selects a certain option, they are prompted for several user inputs which will be stored in variables(All doubles &amp; 1 string).  these user inputs are being stored in an ArrayList.  \r\n\r\nI created a class BudgetInvoice where the variables are declared, I have my proper getters and setters as well as constructors. \r\n\r\nI created a separate class InvoicerHub , where the ArrayList of type &lt;BudgetInvoice&gt; is declared also where I will create functions to collect user input and store in the arrayList as well as displaying those elements in ArrayList. \r\n\r\nIn my main class, I am testing 2 functions (generateInvoice &amp; showInvoice) where i will collect user input and the other function will display.  \r\n\r\nI am able to collect user input no problem but when I call the showInvoice function right after, nothing shows &amp; the program terminates.  \r\n\r\nBelow I will show the classes and functions in question as well as my main class as to get some insight on what might be going wrong here. \r\n\r\nAppreciate the help!  \r\n```java\r\nimport java.util.Scanner;\r\npublic class BudgetInvoice {\r\n\r\n\tprotected double monthlyRent;\r\n\tprotected double waterBill;\r\n\tprotected double energyBill;\r\n\tprotected double carRent; \r\n\tprotected double internetRent;\r\n\tprotected String invoiceID;\r\n     \r\n\tScanner myScan = new Scanner(System.in);\r\n\tpublic double getMonthlyRent() {\r\n\t\treturn monthlyRent;\r\n\t}\r\n\r\n\tpublic void setMonthlyRent(double monthlyRent) {\r\n\t\tthis.monthlyRent = monthlyRent;\r\n\t}\r\n\r\n\tpublic double getWaterBill() {\r\n\t\treturn waterBill;\r\n\t}\r\n\r\n\tpublic void setWaterBill(double waterBill) {\r\n\t\tthis.waterBill = waterBill;\r\n\t}\r\n\r\n\tpublic double getEnergyBill() {\r\n\t\treturn energyBill;\r\n\t}\r\n\r\n\tpublic void setEnergyBill(double energyBill) {\r\n\t\tthis.energyBill = energyBill;\r\n\t}\r\n\r\n\tpublic double getCarRent() {\r\n\t\treturn carRent;\r\n\t}\r\n\r\n\tpublic void setCarRent(double carRent) {\r\n\t\tthis.carRent = carRent;\r\n\t}\r\n\r\n\tpublic double getInternetRent() {\r\n\t\treturn internetRent;\r\n\t}\r\n\r\n\tpublic void setInternetRent(double internetRent) {\r\n\t\tthis.internetRent = internetRent;\r\n\t}\r\n\r\n\tpublic String getInvoiceID() {\r\n\t\treturn invoiceID;\r\n\t}\r\n\r\n\tpublic void setInvoiceID(String invoiceID) {\r\n\t\tthis.invoiceID = invoiceID;\r\n\t}\r\n\t\r\n\tpublic BudgetInvoice (double monthlyRent, double waterBill, double energyBill , double carRent, double internetRent, String invoiceID) \r\n\t{\r\n\t\tthis.monthlyRent = monthlyRent; \r\n\t\tthis.waterBill = waterBill;\r\n\t\tthis.energyBill = energyBill;\r\n\t\tthis.carRent = carRent;\r\n\t\tthis.internetRent = internetRent;\r\n\t\tthis.invoiceID = invoiceID;\r\n\t}\r\n\r\n\tpublic BudgetInvoice() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;BudgetInvoice [monthlyRent=&quot; + monthlyRent + &quot;, waterBill=&quot; + waterBill + &quot;, energyBill=&quot; + energyBill\r\n\t\t\t\t+ &quot;, carRent=&quot; + carRent + &quot;, internetRent=&quot; + internetRent + &quot;, invoiceID=&quot; + invoiceID + &quot;, myScan=&quot;\r\n\t\t\t\t+ myScan + &quot;]&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n```\r\nimport java.util.ArrayList;\r\npublic class InvoicerHub extends BudgetInvoice{\r\n\tprotected ArrayList &lt;BudgetInvoice&gt; InvoiceHub ;\r\n\t\r\n\tpublic InvoicerHub() \r\n\t{\r\n\t\tInvoiceHub = new ArrayList&lt;BudgetInvoice&gt;();\r\n\t}\r\n\t\r\n\tpublic InvoicerHub(ArrayList&lt;BudgetInvoice&gt; InvoiceHub) \r\n\t{\r\n\t\tsuper();\r\n\t\tthis.InvoiceHub = InvoiceHub;\r\n\t}\r\n\t\r\n\tpublic void generateInvoice (BudgetInvoice b ) \r\n\t{\r\n\t\tSystem.out.println(&quot;Enter your Monthly Rent&quot;);\r\n\t\tdouble rent = myScan.nextDouble();\r\n\t\tSystem.out.println(&quot;Enter Your monthly Water bill&quot;);\r\n\t\tdouble waterBill = myScan.nextDouble();\r\n\t\tSystem.out.println(&quot;Enter your Energy Costs&quot;);\r\n\t\tdouble energyBill = myScan.nextDouble();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter your monthly car payment&quot;);\r\n\t\tdouble carPayment = myScan.nextDouble();\t\t\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter your monthly Internet costs&quot;);\r\n\t\tdouble internetBill = myScan.nextDouble();\r\n\t\tmyScan.nextLine(); // to catch the enter input \r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter your desired Invoice ID&quot;);\r\n\t\tString invoiceID = myScan.nextLine();\r\n\t\t\r\n\t\tBudgetInvoice B = new BudgetInvoice ( rent , waterBill, energyBill, carPayment, internetBill, invoiceID);\r\n\t\t\r\n\t\tInvoiceHub.add(B);\r\n\t}\r\n\t\r\n\tpublic String toString() {\r\n\t\treturn &quot;InvoicerHub [InvoiceHub=&quot; + InvoiceHub + &quot;]&quot;;\r\n\t}\r\n\r\n\tpublic String showInvoice() \r\n\t{\r\n\t\tString temp = &quot;Here is your Invoice&quot;;\r\n\t\t\r\n\t\tfor(BudgetInvoice p : InvoiceHub) \r\n\t\t{\r\n\t\t\t temp += p.toString();\r\n\t\t}\r\n\t\treturn temp;\r\n\t}\r\n}\r\n```  \r\n```\r\nimport java.util.ArrayList;\r\npublic class Tester {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tInvoicerHub myInvoice = new InvoicerHub();\r\n\t\t\r\n\t\tmyInvoice.generateInvoice(myInvoice);\r\n\t\tmyInvoice.showInvoice();\r\n\t}\r\n}\r\n```","title":"JAVA Showing all elements in a index of a ArrayList","body":"<p>I am creating a menu-based program that generates invoices, this invoice is for monthly rent.<br />\nWhen the user selects a certain option, they are prompted for several user inputs which will be stored in variables(All doubles &amp; 1 string).  these user inputs are being stored in an ArrayList.</p>\n<p>I created a class BudgetInvoice where the variables are declared, I have my proper getters and setters as well as constructors.</p>\n<p>I created a separate class InvoicerHub , where the ArrayList of type  is declared also where I will create functions to collect user input and store in the arrayList as well as displaying those elements in ArrayList.</p>\n<p>In my main class, I am testing 2 functions (generateInvoice &amp; showInvoice) where i will collect user input and the other function will display.</p>\n<p>I am able to collect user input no problem but when I call the showInvoice function right after, nothing shows &amp; the program terminates.</p>\n<p>Below I will show the classes and functions in question as well as my main class as to get some insight on what might be going wrong here.</p>\n<p>Appreciate the help!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class BudgetInvoice {\n\n    protected double monthlyRent;\n    protected double waterBill;\n    protected double energyBill;\n    protected double carRent; \n    protected double internetRent;\n    protected String invoiceID;\n     \n    Scanner myScan = new Scanner(System.in);\n    public double getMonthlyRent() {\n        return monthlyRent;\n    }\n\n    public void setMonthlyRent(double monthlyRent) {\n        this.monthlyRent = monthlyRent;\n    }\n\n    public double getWaterBill() {\n        return waterBill;\n    }\n\n    public void setWaterBill(double waterBill) {\n        this.waterBill = waterBill;\n    }\n\n    public double getEnergyBill() {\n        return energyBill;\n    }\n\n    public void setEnergyBill(double energyBill) {\n        this.energyBill = energyBill;\n    }\n\n    public double getCarRent() {\n        return carRent;\n    }\n\n    public void setCarRent(double carRent) {\n        this.carRent = carRent;\n    }\n\n    public double getInternetRent() {\n        return internetRent;\n    }\n\n    public void setInternetRent(double internetRent) {\n        this.internetRent = internetRent;\n    }\n\n    public String getInvoiceID() {\n        return invoiceID;\n    }\n\n    public void setInvoiceID(String invoiceID) {\n        this.invoiceID = invoiceID;\n    }\n    \n    public BudgetInvoice (double monthlyRent, double waterBill, double energyBill , double carRent, double internetRent, String invoiceID) \n    {\n        this.monthlyRent = monthlyRent; \n        this.waterBill = waterBill;\n        this.energyBill = energyBill;\n        this.carRent = carRent;\n        this.internetRent = internetRent;\n        this.invoiceID = invoiceID;\n    }\n\n    public BudgetInvoice() {\n        // TODO Auto-generated constructor stub\n    }\n    \n    public String toString() {\n        return &quot;BudgetInvoice [monthlyRent=&quot; + monthlyRent + &quot;, waterBill=&quot; + waterBill + &quot;, energyBill=&quot; + energyBill\n                + &quot;, carRent=&quot; + carRent + &quot;, internetRent=&quot; + internetRent + &quot;, invoiceID=&quot; + invoiceID + &quot;, myScan=&quot;\n                + myScan + &quot;]&quot;;\n    }\n}\n</code></pre>\n<pre><code>import java.util.ArrayList;\npublic class InvoicerHub extends BudgetInvoice{\n    protected ArrayList &lt;BudgetInvoice&gt; InvoiceHub ;\n    \n    public InvoicerHub() \n    {\n        InvoiceHub = new ArrayList&lt;BudgetInvoice&gt;();\n    }\n    \n    public InvoicerHub(ArrayList&lt;BudgetInvoice&gt; InvoiceHub) \n    {\n        super();\n        this.InvoiceHub = InvoiceHub;\n    }\n    \n    public void generateInvoice (BudgetInvoice b ) \n    {\n        System.out.println(&quot;Enter your Monthly Rent&quot;);\n        double rent = myScan.nextDouble();\n        System.out.println(&quot;Enter Your monthly Water bill&quot;);\n        double waterBill = myScan.nextDouble();\n        System.out.println(&quot;Enter your Energy Costs&quot;);\n        double energyBill = myScan.nextDouble();\n        \n        System.out.println(&quot;Enter your monthly car payment&quot;);\n        double carPayment = myScan.nextDouble();        \n        \n        System.out.println(&quot;Enter your monthly Internet costs&quot;);\n        double internetBill = myScan.nextDouble();\n        myScan.nextLine(); // to catch the enter input \n        \n        System.out.println(&quot;Enter your desired Invoice ID&quot;);\n        String invoiceID = myScan.nextLine();\n        \n        BudgetInvoice B = new BudgetInvoice ( rent , waterBill, energyBill, carPayment, internetBill, invoiceID);\n        \n        InvoiceHub.add(B);\n    }\n    \n    public String toString() {\n        return &quot;InvoicerHub [InvoiceHub=&quot; + InvoiceHub + &quot;]&quot;;\n    }\n\n    public String showInvoice() \n    {\n        String temp = &quot;Here is your Invoice&quot;;\n        \n        for(BudgetInvoice p : InvoiceHub) \n        {\n             temp += p.toString();\n        }\n        return temp;\n    }\n}\n</code></pre>\n<pre><code>import java.util.ArrayList;\npublic class Tester {\n    public static void main(String[] args) {\n        \n        InvoicerHub myInvoice = new InvoicerHub();\n        \n        myInvoice.generateInvoice(myInvoice);\n        myInvoice.showInvoice();\n    }\n}\n</code></pre>\n"},{"tags":["java","internationalization"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1643728801,"post_id":70942911,"comment_id":125413743,"body_markdown":"&quot;...because Java prints ?...&quot; is it that Java prints that, or is it that the terminal prints that because it&#39;s not configured to use a suitable charset?","body":"&quot;...because Java prints ?...&quot; is it that Java prints that, or is it that the terminal prints that because it&#39;s not configured to use a suitable charset?"},{"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"score":0,"creation_date":1643728958,"post_id":70942911,"comment_id":125413814,"body_markdown":"The terminal is the same, but in one case I get the information from properties and the second case from  Object[][]","body":"The terminal is the same, but in one case I get the information from properties and the second case from  Object[][]"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1643731743,"post_id":70942911,"comment_id":125415001,"body_markdown":"Documentation of `PropertyResourceBundle`: &quot;**Note:**  ... Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in ISO-8859-1. In that case, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation.&quot;","body":"Documentation of <code>PropertyResourceBundle</code>: &quot;<b>Note:</b>  ... Constructing a PropertyResourceBundle instance from an InputStream requires that the input stream be encoded in ISO-8859-1. In that case, characters that cannot be represented in ISO-8859-1 encoding must be represented by Unicode Escapes as defined in section 3.3 of The Java™ Language Specification whereas the other constructor which takes a Reader does not have that limitation.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643733355,"creation_date":1643730983,"answer_id":70943561,"question_id":70942911,"body_markdown":"Originally *.properties were in Latin-1, ISO-8859-1.\r\n\r\nThe newer java versions first try UTF-8.\r\nSo you would need to update from Java 7 to a newer version. Which is not problematic.\r\n\r\nYou could also keep a properties file in UTF-8, say xxx.utf8props and convert and copy them to xxx.properties from the src to the build directory. This can be done with the java SE tool **native2ascii**. (Like `\\uD83D`) \r\n\r\nMore cumbersome is to change your code and use your own loading with the class Properties.\r\n\r\nBut really Java 7 is no longer production quality.","title":"i18n JAVA character encoding","body":"<p>Originally *.properties were in Latin-1, ISO-8859-1.</p>\n<p>The newer java versions first try UTF-8.\nSo you would need to update from Java 7 to a newer version. Which is not problematic.</p>\n<p>You could also keep a properties file in UTF-8, say xxx.utf8props and convert and copy them to xxx.properties from the src to the build directory. This can be done with the java SE tool <strong>native2ascii</strong>. (Like <code>\\uD83D</code>)</p>\n<p>More cumbersome is to change your code and use your own loading with the class Properties.</p>\n<p>But really Java 7 is no longer production quality.</p>\n"}],"owner":{"account_id":14124069,"reputation":129,"user_id":10203895,"display_name":"Luca95"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643733355,"creation_date":1643728322,"question_id":70942911,"body_markdown":"I have a Java (Java 7) program using i18n with properties files, but I cannot insert emoticon or others &quot;non ordinary&quot; letters because Java prints `?`. But when I use, for instance:\r\n\r\n```\r\npackage res;\r\n\r\nimport java.util.ListResourceBundle;\r\n\r\npublic class Bundle_it_IT extends ListResourceBundle {\r\n\r\n    @Override\r\n    protected Object[][] getContents() {\r\n        return new Object[][] {\r\n                {&quot;hello&quot;, &quot;Hello, “ \\ uD83D\\ uDE42 \\ uD83D\\ uDE0A\\ uD83D\\ uDE00\\ uD83D\\ uDE01&quot;},\r\n                {&quot;ourfeatures&quot;, new String[] {&quot;Test 1&quot;, &quot;Test2&quot;, &quot;test 3&quot;\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nJava is able to print all without question marks.\r\n\r\nIs there a way in order to use proprieties files even for &quot;strange symbol&quot;? And encoding of the properties files is ASCHI?\r\n\r\nThe main class is:\r\n\r\n```\r\npackage testi18nv1;\r\n\r\nimport res.Bundle_it_IT;\r\n\r\nimport java.util.Locale;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Locale locale_it_IT = new Locale(&quot;it&quot;, &quot;IT&quot;);\r\n        Locale locale_ru_RU = new Locale(&quot;ru&quot;, &quot;RU&quot;);\r\n\r\n        Bundle_it_IT bundle_it_IT =  new Bundle_it_IT();\r\n\r\n        ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;res.bundle&quot;, locale_it_IT);\r\n\r\n        System.out.println(resourceBundle.getString(&quot;hello&quot;));\r\n        System.out.println(bundle_it_IT.getString(&quot;hello&quot;));\r\n    }\r\n}\r\n```\r\n\r\nI have tried to use Russian letter on properties files but java print question marks.","title":"i18n JAVA character encoding","body":"<p>I have a Java (Java 7) program using i18n with properties files, but I cannot insert emoticon or others &quot;non ordinary&quot; letters because Java prints <code>?</code>. But when I use, for instance:</p>\n<pre><code>package res;\n\nimport java.util.ListResourceBundle;\n\npublic class Bundle_it_IT extends ListResourceBundle {\n\n    @Override\n    protected Object[][] getContents() {\n        return new Object[][] {\n                {&quot;hello&quot;, &quot;Hello, “ \\ uD83D\\ uDE42 \\ uD83D\\ uDE0A\\ uD83D\\ uDE00\\ uD83D\\ uDE01&quot;},\n                {&quot;ourfeatures&quot;, new String[] {&quot;Test 1&quot;, &quot;Test2&quot;, &quot;test 3&quot;\n        };\n    }\n}\n</code></pre>\n<p>Java is able to print all without question marks.</p>\n<p>Is there a way in order to use proprieties files even for &quot;strange symbol&quot;? And encoding of the properties files is ASCHI?</p>\n<p>The main class is:</p>\n<pre><code>package testi18nv1;\n\nimport res.Bundle_it_IT;\n\nimport java.util.Locale;\nimport java.util.ResourceBundle;\n\npublic class Main {\n    public static void main(String[] args) {\n        Locale locale_it_IT = new Locale(&quot;it&quot;, &quot;IT&quot;);\n        Locale locale_ru_RU = new Locale(&quot;ru&quot;, &quot;RU&quot;);\n\n        Bundle_it_IT bundle_it_IT =  new Bundle_it_IT();\n\n        ResourceBundle resourceBundle = ResourceBundle.getBundle(&quot;res.bundle&quot;, locale_it_IT);\n\n        System.out.println(resourceBundle.getString(&quot;hello&quot;));\n        System.out.println(bundle_it_IT.getString(&quot;hello&quot;));\n    }\n}\n</code></pre>\n<p>I have tried to use Russian letter on properties files but java print question marks.</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1643732931,"post_id":70943417,"comment_id":125415531,"body_markdown":"Please add a description of your problem at the top of the question","body":"Please add a description of your problem at the top of the question"},{"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"score":0,"creation_date":1643736458,"post_id":70943417,"comment_id":125417063,"body_markdown":"can you add code of `com.example.restaurant.repository.RepositoryTables`?","body":"can you add code of <code>com.example.restaurant.repository.RepositoryTables</code>?"},{"owner":{"account_id":24123235,"reputation":1,"user_id":18092025,"display_name":"Владимир Свириденко"},"score":0,"creation_date":1643737126,"post_id":70943417,"comment_id":125417329,"body_markdown":"@Egor &#39;package com.example.restaurant.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RepositoryTables extends JpaRepository&lt;RepositoryTables,Integer&gt; {\n}\n&#39;","body":"@Egor &#39;package com.example.restaurant.repository;  import org.springframework.data.jpa.repository.JpaRepository;  public interface RepositoryTables extends JpaRepository&lt;RepositoryTables,Integer&gt; { } &#39;"},{"owner":{"account_id":24123235,"reputation":1,"user_id":18092025,"display_name":"Владимир Свириденко"},"score":0,"creation_date":1643737551,"post_id":70943417,"comment_id":125417509,"body_markdown":"@Egor, thank you, i found the problem where you mentioned","body":"@Egor, thank you, i found the problem where you mentioned"}],"owner":{"account_id":24123235,"reputation":1,"user_id":18092025,"display_name":"Владимир Свириденко"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643732894,"creation_date":1643730416,"question_id":70943417,"body_markdown":"Start error.\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-02-01 17:44:55.214 ERROR 70717 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repositoryTables&#39; defined in com.example.restaurant.repository.RepositoryTables defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: interface com.example.restaurant.repository.RepositoryTables\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\r\n    \tat com.example.restaurant.Main.main(Main.java:10) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.6.3.jar:2.6.3]\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: interface com.example.restaurant.repository.RepositoryTables\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:232) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:181) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:164) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:75) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.6.1.jar:2.6.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\r\n\t... 21 common frames omitted\r\n\r\n\r\n\r\n\r\nMy pom.xml file.\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.3&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;restaurant&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;restaurant&lt;/name&gt;\r\n    &lt;description&gt;restaurant&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.session&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.49&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"java-ERROR 70572 --- [ restartedMain] o.s.boot.SpringApplication : Application run failed","body":"<p>Start error.</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-01 17:44:55.214 ERROR 70717 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repositoryTables' defined in com.example.restaurant.repository.RepositoryTables defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: interface com.example.restaurant.repository.RepositoryTables\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:934) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) [spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) [spring-boot-2.6.3.jar:2.6.3]\n    at com.example.restaurant.Main.main(Main.java:10) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_302]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_302]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_302]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_302]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.6.3.jar:2.6.3]\nCaused by: java.lang.IllegalArgumentException: Not a managed type: interface com.example.restaurant.repository.RepositoryTables\n    at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:582) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.metamodel.internal.MetamodelImpl.managedType(MetamodelImpl.java:85) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:75) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:66) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:232) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:181) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:164) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:75) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:324) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.6.1.jar:2.6.1]\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.6.1.jar:2.6.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.15.jar:5.3.15]\n... 21 common frames omitted\n</code></pre>\n<p>My pom.xml file.</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.6.3\n \n\ncom.example\nrestaurant\n0.0.1-SNAPSHOT\nrestaurant\nrestaurant\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-jpa\n\n\norg.springframework.boot\nspring-boot-starter-freemarker\n\n\norg.springframework.boot\nspring-boot-starter-web\n\n\norg.springframework.session\nspring-session-core\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.49&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":1,"creation_date":1513717129,"post_id":47894774,"comment_id":82756857,"body_markdown":"I think you have 2 problem : first it seems you have a ZipException, it&#39;s thrown when Spring is trying to read a jar file. Then you don&#39;t have any `slf4` implementation in your classpath, you can add `logback` so the first exception will be successfully logged","body":"I think you have 2 problem : first it seems you have a ZipException, it&#39;s thrown when Spring is trying to read a jar file. Then you don&#39;t have any <code>slf4</code> implementation in your classpath, you can add <code>logback</code> so the first exception will be successfully logged"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519941951,"creation_date":1513716130,"answer_id":47894880,"question_id":47894774,"body_markdown":"It looks like you&#39;re trying to use a logback logging implementation but don&#39;t have a logback jar in the classpath:\r\n\r\nPlease try adding something like this (depending on Spring Boot version there can be another actual version of logback dependency)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen you&#39;ll probably want to configure loggers, appenders and so forth. For more information about logging in spring boot read [a chapter from official Spring Boot documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>It looks like you're trying to use a logback logging implementation but don't have a logback jar in the classpath:</p>\n\n<p>Please try adding something like this (depending on Spring Boot version there can be another actual version of logback dependency)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then you'll probably want to configure loggers, appenders and so forth. For more information about logging in spring boot read <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">a chapter from official Spring Boot documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":3660078,"reputation":942,"user_id":3050143,"accept_rate":80,"display_name":"Guy Smorodinsky"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1513716855,"creation_date":1513716855,"answer_id":47895025,"question_id":47894774,"body_markdown":"Extending Mark Bramnik answer, It does look like you don&#39;t have logback, which is pretty weird because `spring-boot-starter-web` have a dependency on `spring-boot-starter-logging`. Just try to add `spring-boot-starter-logging` to your POM file","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>Extending Mark Bramnik answer, It does look like you don't have logback, which is pretty weird because <code>spring-boot-starter-web</code> have a dependency on <code>spring-boot-starter-logging</code>. Just try to add <code>spring-boot-starter-logging</code> to your POM file</p>\n"},{"tags":[],"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513717621,"creation_date":1513717621,"answer_id":47895196,"question_id":47894774,"body_markdown":"Apparently I had a broken jar in the classpath, after removing everything from .m2 and updating it worked.","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>Apparently I had a broken jar in the classpath, after removing everything from .m2 and updating it worked.</p>\n"},{"tags":[],"owner":{"account_id":13112849,"reputation":11,"user_id":9473226,"display_name":"nslangde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1520714272,"creation_date":1520714272,"answer_id":49213791,"question_id":47894774,"body_markdown":"Removing everything from maven repo and updating project in eclipse worked for me.","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>Removing everything from maven repo and updating project in eclipse worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7066926,"reputation":53,"user_id":5409960,"display_name":"AviX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581868615,"creation_date":1565011442,"answer_id":57359549,"question_id":47894774,"body_markdown":"    \t&lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n    \t\t&lt;!-- &lt;version&gt;${logback.version}&lt;/version&gt; --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\nAdding this logback explicitly, solved the issue in my case.","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;!-- &lt;version&gt;${logback.version}&lt;/version&gt; --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Adding this logback explicitly, solved the issue in my case.</p>\n"},{"tags":[],"owner":{"account_id":3132720,"reputation":76,"user_id":2649993,"display_name":"Sobin George"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573069932,"creation_date":1573069932,"answer_id":58737543,"question_id":47894774,"body_markdown":"This worked for me, though not very intelligent: Deleted the ch folder from within .m2 folder, and did a Run &gt; &#39;Maven install&#39; from Eclipse.","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>This worked for me, though not very intelligent: Deleted the ch folder from within .m2 folder, and did a Run > 'Maven install' from Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":12838977,"reputation":11,"user_id":11218536,"display_name":"arjun ganta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1581419617,"creation_date":1581419617,"answer_id":60167583,"question_id":47894774,"body_markdown":"Deleting ch  folder in .m2 directory and update maven project in eclipse project helps me in fixing this issue.","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>Deleting ch  folder in .m2 directory and update maven project in eclipse project helps me in fixing this issue.</p>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614576861,"creation_date":1582778178,"answer_id":60426317,"question_id":47894774,"body_markdown":"Spring boot application is expecting logback classic dependency.Since its unable to find the logback-classic jar in classpath its throwing an error \r\nCaused by: java.lang.NoClassDefFoundError: ch/qos/logback/classic/turbo/TurboFilter.\r\n\r\nAfter adding the below dependency application started without any issues.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>Spring boot application is expecting logback classic dependency.Since its unable to find the logback-classic jar in classpath its throwing an error\nCaused by: java.lang.NoClassDefFoundError: ch/qos/logback/classic/turbo/TurboFilter.</p>\n<p>After adding the below dependency application started without any issues.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n    &lt;version&gt;1.1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643732876,"creation_date":1597074493,"answer_id":63343532,"question_id":47894774,"body_markdown":"For us `java.lang.ClassNotFoundException: ch.qos.logback.classic.joran.JoranConfigurator` meant &quot;I had excluded spring-boot-starter-logging but needed to add `spring-boot-starter-log4j2`&quot; or something like that, apparently. \r\n\r\nworking pom:\r\n\r\n    &lt;build&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt;\r\n    \r\n      &lt;dependency&gt;\r\n         ...something internal\r\n    \t     &lt;exclusions&gt;\r\n            &lt;exclusion&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;&lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n\r\nAccording to https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-logging.html if you want to use log4j instead of logback you&#39;re supposed to &quot;exclude&quot; spring-boot-starter-logging so I guess the pattern of having to reject it from every dependency apps isn&#39;t too far off.  Kind of weird though...\r\n\r\nSo maybe what happened was if you &quot;just exclude&quot;  Maybe they were still bringing in &quot;just logback&quot; (without joran) as a separate dependency, which confused spring boot?","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>For us <code>java.lang.ClassNotFoundException: ch.qos.logback.classic.joran.JoranConfigurator</code> meant &quot;I had excluded spring-boot-starter-logging but needed to add <code>spring-boot-starter-log4j2</code>&quot; or something like that, apparently.</p>\n<p>working pom:</p>\n<pre><code>&lt;build&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;&lt;/dependency&gt;\n\n  &lt;dependency&gt;\n     ...something internal\n         &lt;exclusions&gt;\n        &lt;exclusion&gt;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;&lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n</code></pre>\n<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/howto-logging.html</a> if you want to use log4j instead of logback you're supposed to &quot;exclude&quot; spring-boot-starter-logging so I guess the pattern of having to reject it from every dependency apps isn't too far off.  Kind of weird though...</p>\n<p>So maybe what happened was if you &quot;just exclude&quot;  Maybe they were still bringing in &quot;just logback&quot; (without joran) as a separate dependency, which confused spring boot?</p>\n"}],"owner":{"account_id":6557771,"reputation":2701,"user_id":5379182,"accept_rate":73,"display_name":"tenticon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63834,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":47895025,"answer_count":9,"score":8,"last_activity_date":1643732876,"creation_date":1513715662,"question_id":47894774,"body_markdown":"I created a vanilla Spring Boot App (`1.5.9.RELEASE`) but when I `Run As -&gt; Spring Boot App` (in Eclipse Oxygen) I get \r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: ch/qos/logback/classic/Level\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.&lt;clinit&gt;(LogbackLoggingSystem.java:66)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n    \tat org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:170)\r\n    \tat org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:160)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:229)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:209)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:69)\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:48)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:292)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n    \tat demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.Level\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 19 more\r\n\r\n***pom.xml***\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;demo.spring.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;boot-demo&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      \r\n      &lt;parent&gt;\r\n      \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      \t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n      \t&lt;dependency&gt;\r\n      \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      \r\n      &lt;properties&gt;\r\n      \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n***App***\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class CourseApiApp {\r\n    \r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tSpringApplication.run(CourseApiApp.class, args);\r\n    \t}\r\n    }\r\n\r\n***Remark***\r\n\r\nI also tried `mvn clean package` -&gt; `java -jar target/boot-demo.jar` which gives me \r\n\r\n    Failed to instantiate SLF4J LoggerFactory\r\n    Reported exception:\r\n    java.lang.NoClassDefFoundError: ch/qos/logback/classic/LoggerContext\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:59)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:50)\r\n    \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\r\n    \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:273)\r\n    \tat org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:179)\r\n    \tat demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    Caused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.LoggerContext\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:370)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 19 more\r\n    Caused by: java.util.zip.ZipException: invalid stored block lengths\r\n    \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\r\n    \tat org.springframework.boot.loader.jar.ZipInflaterInputStream.read(ZipInflaterInputStream.java:52)\r\n    \tat sun.misc.Resource.getBytes(Resource.java:124)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:462)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \t... 25 more\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\r\n    Caused by: java.lang.NoClassDefFoundError: ch/qos/logback/classic/LoggerContext\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:59)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:50)\r\n    \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\r\n    \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\r\n    \tat org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\r\n    \tat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:273)\r\n    \tat org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:179)\r\n    \tat demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\r\n    \t... 8 more\r\n    Caused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.LoggerContext\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:370)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 19 more\r\n    Caused by: java.util.zip.ZipException: invalid stored block lengths\r\n    \tat java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\r\n    \tat org.springframework.boot.loader.jar.ZipInflaterInputStream.read(ZipInflaterInputStream.java:52)\r\n    \tat sun.misc.Resource.getBytes(Resource.java:124)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:462)\r\n    \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n    \t... 25 more\r\n","title":"Spring Boot - NoClassDefFoundError: ch/qos/logback/classic/Level","body":"<p>I created a vanilla Spring Boot App (<code>1.5.9.RELEASE</code>) but when I <code>Run As -&gt; Spring Boot App</code> (in Eclipse Oxygen) I get </p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" java.lang.NoClassDefFoundError: ch/qos/logback/classic/Level\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.&lt;clinit&gt;(LogbackLoggingSystem.java:66)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:170)\n    at org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:160)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartingEvent(LoggingApplicationListener.java:229)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:209)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:122)\n    at org.springframework.boot.context.event.EventPublishingRunListener.starting(EventPublishingRunListener.java:69)\n    at org.springframework.boot.SpringApplicationRunListeners.starting(SpringApplicationRunListeners.java:48)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:292)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n    at demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\nCaused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.Level\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 19 more\n</code></pre>\n\n<p><strong><em>pom.xml</em></strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;demo.spring.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;boot-demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>App</em></strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class CourseApiApp {\n\n    public static void main(String[] args) \n    {\n        SpringApplication.run(CourseApiApp.class, args);\n    }\n}\n</code></pre>\n\n<p><strong><em>Remark</em></strong></p>\n\n<p>I also tried <code>mvn clean package</code> -> <code>java -jar target/boot-demo.jar</code> which gives me </p>\n\n<pre><code>Failed to instantiate SLF4J LoggerFactory\nReported exception:\njava.lang.NoClassDefFoundError: ch/qos/logback/classic/LoggerContext\n    at org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:59)\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:50)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:273)\n    at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:179)\n    at demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.LoggerContext\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:370)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 19 more\nCaused by: java.util.zip.ZipException: invalid stored block lengths\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\n    at org.springframework.boot.loader.jar.ZipInflaterInputStream.read(ZipInflaterInputStream.java:52)\n    at sun.misc.Resource.getBytes(Resource.java:124)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:462)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    ... 25 more\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\nCaused by: java.lang.NoClassDefFoundError: ch/qos/logback/classic/LoggerContext\n    at org.slf4j.impl.StaticLoggerBinder.&lt;init&gt;(StaticLoggerBinder.java:59)\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:50)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)\n    at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:273)\n    at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:179)\n    at demo.spring.boot.app.CourseApiApp.main(CourseApiApp.java:11)\n    ... 8 more\nCaused by: java.lang.ClassNotFoundException: ch.qos.logback.classic.LoggerContext\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:370)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 19 more\nCaused by: java.util.zip.ZipException: invalid stored block lengths\n    at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)\n    at org.springframework.boot.loader.jar.ZipInflaterInputStream.read(ZipInflaterInputStream.java:52)\n    at sun.misc.Resource.getBytes(Resource.java:124)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:462)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:368)\n    ... 25 more\n</code></pre>\n"},{"tags":["java","jvm","heap-memory"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1518568263,"post_id":48777834,"comment_id":84557371,"body_markdown":"a) why don&#39;t you increase your `heap` settings?  b) You data structure seems a little complex - map of a list of a map","body":"a) why don&#39;t you increase your <code>heap</code> settings?  b) You data structure seems a little complex - map of a list of a map"},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1518568300,"post_id":48777834,"comment_id":84557387,"body_markdown":"why not read each file, once at a time, calculate the hash for the file then move onto the next file.","body":"why not read each file, once at a time, calculate the hash for the file then move onto the next file."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":1,"creation_date":1518569481,"post_id":48777834,"comment_id":84557723,"body_markdown":"Your md5hash method has very poor performance. There is no need to read the entire file into memory (which causes out of memory if the file is very large). You can read blocks of, say, 8192 bytes, at a time and call the update method on the digest object.","body":"Your md5hash method has very poor performance. There is no need to read the entire file into memory (which causes out of memory if the file is very large). You can read blocks of, say, 8192 bytes, at a time and call the update method on the digest object."},{"owner":{"account_id":10356414,"reputation":77,"user_id":7638224,"accept_rate":50,"display_name":"Kushroom"},"score":0,"creation_date":1518569751,"post_id":48777834,"comment_id":84557799,"body_markdown":"I did try increasing my heap but I still received the error much later. And raz that is what Im doing, im calculating the hash of each file, than adding the file to a map. The map just contains the hash, than an array of locations which files associate to that hash.","body":"I did try increasing my heap but I still received the error much later. And raz that is what Im doing, im calculating the hash of each file, than adding the file to a map. The map just contains the hash, than an array of locations which files associate to that hash."}],"answers":[{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1518568175,"creation_date":1518568175,"answer_id":48777892,"question_id":48777834,"body_markdown":"Whatever implementation `FileUtils` has is trying to read in whole files for calculating hash. This is not necessary: calculation is possible by reading content in smaller chunks. In fact it is sort of bad design to require this, instead of simply reading in chunks that are needed (64 bytes?). So maybe you need to use a better library.","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>Whatever implementation <code>FileUtils</code> has is trying to read in whole files for calculating hash. This is not necessary: calculation is possible by reading content in smaller chunks. In fact it is sort of bad design to require this, instead of simply reading in chunks that are needed (64 bytes?). So maybe you need to use a better library.</p>\n"},{"tags":[],"owner":{"account_id":12908795,"reputation":1749,"user_id":9335240,"display_name":"user9335240"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518569200,"creation_date":1518569200,"answer_id":48778010,"question_id":48777834,"body_markdown":"You have a lot of solutions:\r\n\r\n   1. Don&#39;t read all bytes at one time, try to use a `BufferedInputStream`, and read a lot of bytes every time. But not all the file.\r\n\r\n\t\ttry (BufferedInputStream fileInputStream = new BufferedInputStream( \r\n\t\t\t\tFiles.newInputStream(Paths.get(&quot;your_file_here&quot;), StandardOpenOption.READ))) {\r\n\t\t\t\r\n\t\t\tbyte[] buf = new byte[2048];\r\n\t\t\tint len = 0;\r\n\t\t\twhile((len = fileInputStream.read(buf)) == 2048) {\r\n\t\t\t\t// Add this to your calculation\r\n\t\t\t\tdoSomethingWithBytes(buf);\r\n\t\t\t}\r\n\t\t\tdoSomethingWithBytes(buf, len); // Do only with the bytes\r\n                                            // read from the file\r\n\t\t\t\r\n\t\t\t\r\n\t\t} catch(IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\r\n\r\n   2. Use C/C++ for such thing, (well, this is unsafe, because you will handle the memory yourself)\r\n","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>You have a lot of solutions:</p>\n\n<ol>\n<li><p>Don't read all bytes at one time, try to use a <code>BufferedInputStream</code>, and read a lot of bytes every time. But not all the file.</p>\n\n<pre><code>try (BufferedInputStream fileInputStream = new BufferedInputStream( \n        Files.newInputStream(Paths.get(\"your_file_here\"), StandardOpenOption.READ))) {\n\n    byte[] buf = new byte[2048];\n    int len = 0;\n    while((len = fileInputStream.read(buf)) == 2048) {\n        // Add this to your calculation\n        doSomethingWithBytes(buf);\n    }\n    doSomethingWithBytes(buf, len); // Do only with the bytes\n                                    // read from the file\n\n\n} catch(IOException ex) {\n    ex.printStackTrace();\n}\n</code></pre></li>\n<li><p>Use C/C++ for such thing, (well, this is unsafe, because you will handle the memory yourself)</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518569843,"creation_date":1518569843,"answer_id":48778105,"question_id":48777834,"body_markdown":"Consider using Guava :\r\n\r\n        private final static HashFunction HASH_FUNCTION = Hashing.goodFastHash(32);\r\n\r\n       //somewhere later\r\n\r\n       final HashCode hash = Files.asByteSource(file).hash(HASH_FUNCTION);\r\n\r\nGuava will buffer the reading of the file for you.","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>Consider using Guava :</p>\n\n<pre><code>    private final static HashFunction HASH_FUNCTION = Hashing.goodFastHash(32);\n\n   //somewhere later\n\n   final HashCode hash = Files.asByteSource(file).hash(HASH_FUNCTION);\n</code></pre>\n\n<p>Guava will buffer the reading of the file for you.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518612157,"creation_date":1518612157,"answer_id":48787537,"question_id":48777834,"body_markdown":"Reading the entire file into a byte array does not only require sufficient heap space, it’s also limited to file sizes up to `Integer.MAX_VALUE` *in principle* (the practical limit for the HotSpot JVM is even a few bytes smaller).\r\n\r\nThe best solution is not to load the data into the heap memory at all:\r\n\r\n    public static String getMD5Hash(String path) {\r\n        MessageDigest md;\r\n        try { md = MessageDigest.getInstance(&quot;MD5&quot;); }\r\n        catch(NoSuchAlgorithmException ex) {\r\n            System.out.println(&quot;FileUtils.getMD5Hash(): &quot;+ex);\r\n            return null;// TODO better error handling\r\n        }\r\n        try(FileChannel fch = FileChannel.open(Paths.get(path), StandardOpenOption.READ)) {\r\n            for(long pos = 0, rem = fch.size(), chunk; rem&gt;pos; pos+=chunk) {\r\n                chunk = Math.min(Integer.MAX_VALUE, rem-pos);\r\n                md.update(fch.map(FileChannel.MapMode.READ_ONLY, pos, chunk));\r\n            }\r\n        } catch(IOException e){\r\n            System.out.println(&quot;Having problem with file: &quot; + path);\r\n            return null;// TODO better error handling\r\n        }\r\n        return String.format(&quot;%032X&quot;, new BigInteger(1, md.digest()));\r\n    }\r\nIf the underlying `MessageDigest` implementation is a pure Java implementation, it will transfer data from the direct buffer to the heap, but that’s outside your responsibility then (and it will be a reasonable trade-off between consumed heap memory and performance).\r\n\r\nThe method above will handle files beyond the 2GiB size without problems.\r\n","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>Reading the entire file into a byte array does not only require sufficient heap space, it’s also limited to file sizes up to <code>Integer.MAX_VALUE</code> <em>in principle</em> (the practical limit for the HotSpot JVM is even a few bytes smaller).</p>\n\n<p>The best solution is not to load the data into the heap memory at all:</p>\n\n<pre><code>public static String getMD5Hash(String path) {\n    MessageDigest md;\n    try { md = MessageDigest.getInstance(\"MD5\"); }\n    catch(NoSuchAlgorithmException ex) {\n        System.out.println(\"FileUtils.getMD5Hash(): \"+ex);\n        return null;// TODO better error handling\n    }\n    try(FileChannel fch = FileChannel.open(Paths.get(path), StandardOpenOption.READ)) {\n        for(long pos = 0, rem = fch.size(), chunk; rem&gt;pos; pos+=chunk) {\n            chunk = Math.min(Integer.MAX_VALUE, rem-pos);\n            md.update(fch.map(FileChannel.MapMode.READ_ONLY, pos, chunk));\n        }\n    } catch(IOException e){\n        System.out.println(\"Having problem with file: \" + path);\n        return null;// TODO better error handling\n    }\n    return String.format(\"%032X\", new BigInteger(1, md.digest()));\n}\n</code></pre>\n\n<p>If the underlying <code>MessageDigest</code> implementation is a pure Java implementation, it will transfer data from the direct buffer to the heap, but that’s outside your responsibility then (and it will be a reasonable trade-off between consumed heap memory and performance).</p>\n\n<p>The method above will handle files beyond the 2GiB size without problems.</p>\n"},{"tags":[],"owner":{"account_id":17891835,"reputation":95,"user_id":12998127,"display_name":"Badmous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643732855,"creation_date":1643732855,"answer_id":70944045,"question_id":48777834,"body_markdown":"i had this java heap space error on my windows machine and i spend weeks searching online for a solution, i tried increasing my -Xmx value higher but to no success. i even try running my spring boot app with a parameter to increase the heap size during run time with command like one below\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xms2048m -Xmx4096m&quot;\r\n\r\nbut still no success. until i figured out i was running jdk 32 bit which has limited memory size and i had to uninstall the 32 bit and install the 64 bit which solved my issue for me. i hope this help someone with issue similar to mine.","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>i had this java heap space error on my windows machine and i spend weeks searching online for a solution, i tried increasing my -Xmx value higher but to no success. i even try running my spring boot app with a parameter to increase the heap size during run time with command like one below</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Xms2048m -Xmx4096m&quot;\n</code></pre>\n<p>but still no success. until i figured out i was running jdk 32 bit which has limited memory size and i had to uninstall the 32 bit and install the 64 bit which solved my issue for me. i hope this help someone with issue similar to mine.</p>\n"}],"owner":{"account_id":10356414,"reputation":77,"user_id":7638224,"accept_rate":50,"display_name":"Kushroom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1961,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":5,"score":0,"last_activity_date":1643732855,"creation_date":1518567758,"question_id":48777834,"body_markdown":"I wrote a file dupelication processor which gets the MD5 hash of each file, adds it to a hashmap, than takes all of the files with the same hash and adds it to a hashmap called dupeList. But while running large directories to scan such as C:\\Program Files\\ it will throw the following error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.nio.file.Files.read(Unknown Source)\r\n\tat java.nio.file.Files.readAllBytes(Unknown Source)\r\n\tat com.embah.FileDupe.Utils.FileUtils.getMD5Hash(FileUtils.java:14)\r\n\tat com.embah.FileDupe.FileDupe.getDuplicateFiles(FileDupe.java:43)\r\n\tat com.embah.FileDupe.FileDupe.getDuplicateFiles(FileDupe.java:68)\r\n\tat ImgHandler.main(ImgHandler.java:14)\r\n\r\nIm sure its due to the fact it handles so many files, but im not sure of a better way to handle it. Im trying to get this working so I can sift thru all my kids baby pictures and remove dupelicates before I put them on my external harddrive for longterm storage. Thanks everyone for the help!\r\n\r\nMy code\r\n\r\n    public class FileUtils {\r\n\tpublic static String getMD5Hash(String path){\r\n\t\ttry {\r\n\t\t\tbyte[] bytes = Files.readAllBytes(Paths.get(path)); //LINE STACK THROWS ERROR\r\n\t\t\tbyte[] hash = MessageDigest.getInstance(&quot;MD5&quot;).digest(bytes);\r\n\t\t\tbytes = null;\r\n\t\t\tString hexHash = DatatypeConverter.printHexBinary(hash);\r\n\t\t\thash = null;\r\n\t\t\treturn hexHash;\r\n\t\t} catch(Exception e){\r\n\t\t\tSystem.out.println(&quot;Having problem with file: &quot; + path);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    public class FileDupe {\r\n\tpublic static Map&lt;String, List&lt;String&gt;&gt; getDuplicateFiles(String dirs){\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; allEntrys = new HashMap&lt;&gt;(); //&lt;hash, file loc&gt;\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; dupeEntrys = new HashMap&lt;&gt;();\r\n\t\tFile fileDir = new File(dirs);\r\n\t\tif(fileDir.isDirectory()){\r\n\t\t\tArrayList&lt;File&gt; nestedFiles = getNestedFiles(fileDir.listFiles());\r\n\t\t\tFile[] fileList = new File[nestedFiles.size()];\r\n\t\t\tfileList = nestedFiles.toArray(fileList);\r\n\r\n\t\t\tfor(File file:fileList){\r\n\t\t\t\tString path = file.getAbsolutePath();\r\n\t\t\t\tString hash = &quot;&quot;;\r\n\t\t\t\tif((hash = FileUtils.getMD5Hash(path)) == null)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tif(!allEntrys.containsValue(path))\r\n\t\t\t\t\tput(allEntrys, hash, path);\r\n\t\t\t}\r\n\t\t\tfileList = null;\r\n\t\t}\r\n\t\tallEntrys.forEach((hash, locs) -&gt; {\r\n\t\t\tif(locs.size() &gt; 1){\r\n\t\t\t\tdupeEntrys.put(hash, locs);\r\n\t\t\t}\r\n\t\t});\r\n\t\tallEntrys = null;\r\n\t\treturn dupeEntrys;\r\n\t}\r\n\t\r\n\tpublic static Map&lt;String, List&lt;String&gt;&gt; getDuplicateFiles(String... dirs){\r\n\t\tArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; maps = new ArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;();\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; dupeMap = new HashMap&lt;&gt;();\r\n\t\tfor(String dir : dirs){ //Get all dupe files\r\n\t\t\tmaps.add(getDuplicateFiles(dir));\r\n\t\t}\r\n\t\tfor(Map&lt;String, List&lt;String&gt;&gt; map : maps){ //iterate thru each map, and add all items not in the dupemap to it\r\n\t\t\tdupeMap.putAll(map);\r\n\t\t}\r\n\t\treturn dupeMap;\r\n\t}\r\n\t\r\n\tprotected static ArrayList&lt;File&gt; getNestedFiles(File[] fileDir){\r\n\t\tArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n\t\treturn getNestedFiles(fileDir, files);\r\n\t}\r\n\t\r\n\tprotected static ArrayList&lt;File&gt; getNestedFiles(File[] fileDir, ArrayList&lt;File&gt; allFiles){\r\n\t\tfor(File file:fileDir){\r\n\t\t\tif(file.isDirectory()){\r\n\t\t\t\tgetNestedFiles(file.listFiles(), allFiles);\r\n\t\t\t} else {\r\n\t\t\t\tallFiles.add(file);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn allFiles;\r\n\t}\r\n\t\r\n\tprotected static &lt;KEY, VALUE&gt; void put(Map&lt;KEY, List&lt;VALUE&gt;&gt; map, KEY key, VALUE value) {\r\n\t    map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\r\n\t}\r\n\r\n\r\n    public class ImgHandler {\r\n\tprivate static Scanner s = new Scanner(System.in);\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tSystem.out.print(&quot;Please enter locations to scan for dupelicates\\nSeperate Location via semi-colon(;)\\nLocations: &quot;);\r\n\t\tString[] locList = s.nextLine().split(&quot;;&quot;);\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; dupes = FileDupe.getDuplicateFiles(locList);\r\n\t\tSystem.out.println(dupes.size() + &quot; dupes detected!&quot;);\r\n\t\tdupes.forEach((hash, locs) -&gt; {\r\n\t\t\tSystem.out.println(&quot;Hash: &quot; + hash);\r\n\t\t\tlocs.forEach((loc) -&gt; System.out.println(&quot;\\tLocation: &quot; + loc));\r\n\t\t});\r\n\t}\r\n\r\n\r\n","title":"JVM throws java.lang.OutOfMemoryError: heap space (File processing)","body":"<p>I wrote a file dupelication processor which gets the MD5 hash of each file, adds it to a hashmap, than takes all of the files with the same hash and adds it to a hashmap called dupeList. But while running large directories to scan such as C:\\Program Files\\ it will throw the following error</p>\n\n<pre><code>Exception in thread \"main\" java.lang.OutOfMemoryError: Java heap space\nat java.nio.file.Files.read(Unknown Source)\nat java.nio.file.Files.readAllBytes(Unknown Source)\nat com.embah.FileDupe.Utils.FileUtils.getMD5Hash(FileUtils.java:14)\nat com.embah.FileDupe.FileDupe.getDuplicateFiles(FileDupe.java:43)\nat com.embah.FileDupe.FileDupe.getDuplicateFiles(FileDupe.java:68)\nat ImgHandler.main(ImgHandler.java:14)\n</code></pre>\n\n<p>Im sure its due to the fact it handles so many files, but im not sure of a better way to handle it. Im trying to get this working so I can sift thru all my kids baby pictures and remove dupelicates before I put them on my external harddrive for longterm storage. Thanks everyone for the help!</p>\n\n<p>My code</p>\n\n<pre><code>public class FileUtils {\npublic static String getMD5Hash(String path){\n    try {\n        byte[] bytes = Files.readAllBytes(Paths.get(path)); //LINE STACK THROWS ERROR\n        byte[] hash = MessageDigest.getInstance(\"MD5\").digest(bytes);\n        bytes = null;\n        String hexHash = DatatypeConverter.printHexBinary(hash);\n        hash = null;\n        return hexHash;\n    } catch(Exception e){\n        System.out.println(\"Having problem with file: \" + path);\n        return null;\n    }\n}\n\npublic class FileDupe {\npublic static Map&lt;String, List&lt;String&gt;&gt; getDuplicateFiles(String dirs){\n    Map&lt;String, List&lt;String&gt;&gt; allEntrys = new HashMap&lt;&gt;(); //&lt;hash, file loc&gt;\n    Map&lt;String, List&lt;String&gt;&gt; dupeEntrys = new HashMap&lt;&gt;();\n    File fileDir = new File(dirs);\n    if(fileDir.isDirectory()){\n        ArrayList&lt;File&gt; nestedFiles = getNestedFiles(fileDir.listFiles());\n        File[] fileList = new File[nestedFiles.size()];\n        fileList = nestedFiles.toArray(fileList);\n\n        for(File file:fileList){\n            String path = file.getAbsolutePath();\n            String hash = \"\";\n            if((hash = FileUtils.getMD5Hash(path)) == null)\n                continue;\n            if(!allEntrys.containsValue(path))\n                put(allEntrys, hash, path);\n        }\n        fileList = null;\n    }\n    allEntrys.forEach((hash, locs) -&gt; {\n        if(locs.size() &gt; 1){\n            dupeEntrys.put(hash, locs);\n        }\n    });\n    allEntrys = null;\n    return dupeEntrys;\n}\n\npublic static Map&lt;String, List&lt;String&gt;&gt; getDuplicateFiles(String... dirs){\n    ArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; maps = new ArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;();\n    Map&lt;String, List&lt;String&gt;&gt; dupeMap = new HashMap&lt;&gt;();\n    for(String dir : dirs){ //Get all dupe files\n        maps.add(getDuplicateFiles(dir));\n    }\n    for(Map&lt;String, List&lt;String&gt;&gt; map : maps){ //iterate thru each map, and add all items not in the dupemap to it\n        dupeMap.putAll(map);\n    }\n    return dupeMap;\n}\n\nprotected static ArrayList&lt;File&gt; getNestedFiles(File[] fileDir){\n    ArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\n    return getNestedFiles(fileDir, files);\n}\n\nprotected static ArrayList&lt;File&gt; getNestedFiles(File[] fileDir, ArrayList&lt;File&gt; allFiles){\n    for(File file:fileDir){\n        if(file.isDirectory()){\n            getNestedFiles(file.listFiles(), allFiles);\n        } else {\n            allFiles.add(file);\n        }\n    }\n    return allFiles;\n}\n\nprotected static &lt;KEY, VALUE&gt; void put(Map&lt;KEY, List&lt;VALUE&gt;&gt; map, KEY key, VALUE value) {\n    map.compute(key, (s, strings) -&gt; strings == null ? new ArrayList&lt;&gt;() : strings).add(value);\n}\n\n\npublic class ImgHandler {\nprivate static Scanner s = new Scanner(System.in);\n\npublic static void main(String[] args){\n    System.out.print(\"Please enter locations to scan for dupelicates\\nSeperate Location via semi-colon(;)\\nLocations: \");\n    String[] locList = s.nextLine().split(\";\");\n    Map&lt;String, List&lt;String&gt;&gt; dupes = FileDupe.getDuplicateFiles(locList);\n    System.out.println(dupes.size() + \" dupes detected!\");\n    dupes.forEach((hash, locs) -&gt; {\n        System.out.println(\"Hash: \" + hash);\n        locs.forEach((loc) -&gt; System.out.println(\"\\tLocation: \" + loc));\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":4,"creation_date":1643318570,"post_id":70885870,"comment_id":125315104,"body_markdown":"Are you sure it&#39;s a `Mono&lt;List&lt;String&gt;&gt;` that you want, and not a `Flux&lt;String&gt;`?","body":"Are you sure it&#39;s a <code>Mono&lt;List&lt;String&gt;&gt;</code> that you want, and not a <code>Flux&lt;String&gt;</code>?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1643319433,"post_id":70885870,"comment_id":125315393,"body_markdown":"Related and possibly helpful, but I&#39;m not sure if it&#39;s a duplicate: https://stackoverflow.com/questions/63556833/how-to-convert-listt-to-fluxt-by-using-reactor-3-x","body":"Related and possibly helpful, but I&#39;m not sure if it&#39;s a duplicate: <a href=\"https://stackoverflow.com/questions/63556833/how-to-convert-listt-to-fluxt-by-using-reactor-3-x\" title=\"how to convert listt to fluxt by using reactor 3 x\">stackoverflow.com/questions/63556833/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1643318971,"creation_date":1643318971,"answer_id":70885986,"question_id":70885870,"body_markdown":"If you really want a Mono, then _just_ wrap the value that you want to transport in it:\r\n\r\n```\r\nreturn Mono.just(creatorsList);\r\n```\r\n\r\nBut I doubt you really want to return a list in a Mono. Usually, reactive endpoints returning a number of items would return a [`Flux`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html)\r\n\r\n```\r\nreturn Flux.fromIterable(creatorsList);\r\n```\r\n\r\nBut since your `MongoCursor` is already iterable (you use its iterator in an enhanced for-loop), you can stream the cursor directly to the flux. This saves you from collecting all items into a list first.\r\n\r\n```\r\nreturn Flux.fromIterable(cursor);\r\n```\r\n\r\nAnd finally, if you are trying to convert your application to be reactive, it is wise to use the Mongo driver with native support for reactive streams: &lt;https://docs.mongodb.com/drivers/reactive-streams/&gt;","title":"How to convert List&lt;String&gt; into a Mono&lt;List&gt;","body":"<p>If you really want a Mono, then <em>just</em> wrap the value that you want to transport in it:</p>\n<pre><code>return Mono.just(creatorsList);\n</code></pre>\n<p>But I doubt you really want to return a list in a Mono. Usually, reactive endpoints returning a number of items would return a <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html\" rel=\"nofollow noreferrer\"><code>Flux</code></a></p>\n<pre><code>return Flux.fromIterable(creatorsList);\n</code></pre>\n<p>But since your <code>MongoCursor</code> is already iterable (you use its iterator in an enhanced for-loop), you can stream the cursor directly to the flux. This saves you from collecting all items into a list first.</p>\n<pre><code>return Flux.fromIterable(cursor);\n</code></pre>\n<p>And finally, if you are trying to convert your application to be reactive, it is wise to use the Mongo driver with native support for reactive streams: <a href=\"https://docs.mongodb.com/drivers/reactive-streams/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/drivers/reactive-streams/</a></p>\n"}],"owner":{"account_id":24076789,"reputation":41,"user_id":18052007,"display_name":"Sebastian Donoso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70885986,"answer_count":1,"score":1,"last_activity_date":1643732680,"creation_date":1643318312,"question_id":70885870,"body_markdown":"i&#39;m trying to convert this method to an a reactive method\r\n\r\n    @GetMapping(RestConstants.BASE_PATH_AUDIENCE + &quot;/link&quot;)\r\n    public List&lt;String&gt; users () {\r\n        List&lt;String&gt; list= new ArrayList&lt;&gt;();\r\n        MongoCollection mongoCollection = mongoTemplate.getCollection(&quot;collection&quot;);\r\n        DistinctIterable distinctIterable = mongoCollection.distinct(&quot;user_name&quot;, String.class);\r\n        MongoCursor mongoCursor = distinctIterable.iterator();\r\n        while (mongoCursor.hasNext()){\r\n            String user = (String)mongoCursor.next();\r\n            creatorsList.add(user);\r\n        }\r\n        return list;\r\n    }\r\n\r\nI Have something like this but i don&#39;t know how to conver the ArrayList to return an Mono&lt;List&lt;String&gt;&gt;\r\n\r\n    @GetMapping(RestConstants.BASE_PATH_AUDIENCE + &quot;/link&quot;)\r\n    public Mono&lt;List&lt;String&gt;&gt; usersReactive () {\r\n        List&lt;Mono&lt;String&gt;&gt; list= new ArrayList&lt;List&gt;();\r\n        MongoCollection mongoCollection = mongoTemplate.getCollection(&quot;collection&quot;);\r\n        DistinctIterable distinctIterable = mongoCollection.distinct(&quot;user_name&quot;, String.class);\r\n        MongoCursor mongoCursor = distinctIterable.iterator();\r\n        while (mongoCursor.hasNext()){\r\n            String user = (String)mongoCursor.next();\r\n            list.add(user);\r\n        }\r\n\r\n        return list;\r\n    }","title":"How to convert List&lt;String&gt; into a Mono&lt;List&gt;","body":"<p>i'm trying to convert this method to an a reactive method</p>\n<pre><code>@GetMapping(RestConstants.BASE_PATH_AUDIENCE + &quot;/link&quot;)\npublic List&lt;String&gt; users () {\n    List&lt;String&gt; list= new ArrayList&lt;&gt;();\n    MongoCollection mongoCollection = mongoTemplate.getCollection(&quot;collection&quot;);\n    DistinctIterable distinctIterable = mongoCollection.distinct(&quot;user_name&quot;, String.class);\n    MongoCursor mongoCursor = distinctIterable.iterator();\n    while (mongoCursor.hasNext()){\n        String user = (String)mongoCursor.next();\n        creatorsList.add(user);\n    }\n    return list;\n}\n</code></pre>\n<p>I Have something like this but i don't know how to conver the ArrayList to return an Mono&lt;List&gt;</p>\n<pre><code>@GetMapping(RestConstants.BASE_PATH_AUDIENCE + &quot;/link&quot;)\npublic Mono&lt;List&lt;String&gt;&gt; usersReactive () {\n    List&lt;Mono&lt;String&gt;&gt; list= new ArrayList&lt;List&gt;();\n    MongoCollection mongoCollection = mongoTemplate.getCollection(&quot;collection&quot;);\n    DistinctIterable distinctIterable = mongoCollection.distinct(&quot;user_name&quot;, String.class);\n    MongoCursor mongoCursor = distinctIterable.iterator();\n    while (mongoCursor.hasNext()){\n        String user = (String)mongoCursor.next();\n        list.add(user);\n    }\n\n    return list;\n}\n</code></pre>\n"},{"tags":["java","activiti","bpmn","camunda","flowable"],"answers":[{"tags":[],"owner":{"account_id":2120498,"reputation":3230,"user_id":1883842,"display_name":"Greg Harley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643732371,"creation_date":1643732371,"answer_id":70943918,"question_id":70939204,"body_markdown":"I think what you are looking for is a TriggerableServiceTask.\r\nThis task implements both execute() and trigger() methods which allows the process instance to move on after the external system responds.\r\nCheck out this explanation and example:\r\nhttps://stackoverflow.com/questions/62812009/restart-flowable-process-from-jms-message-listener","title":"Flowable correlation catch event happens before data is persisted","body":"<p>I think what you are looking for is a TriggerableServiceTask.\nThis task implements both execute() and trigger() methods which allows the process instance to move on after the external system responds.\nCheck out this explanation and example:\n<a href=\"https://stackoverflow.com/questions/62812009/restart-flowable-process-from-jms-message-listener\">Restart flowable process from jms message listener</a></p>\n"}],"owner":{"account_id":19028750,"reputation":33,"user_id":13891306,"display_name":"Gunnar Sigstad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643732371,"creation_date":1643712153,"question_id":70939204,"body_markdown":"As far as I am aware of, data is persisted in Flowable when it reaches a waiting state.\r\n\r\nIn our process we have a delegate which are starting a calculation and logging an ID for tracking purposes, and waits for a JMS message to restart the flow, like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cjOzA.png\r\n\r\nIn the &quot;Start Calculation&quot; delegate we have code like this:\r\n```\r\nString id = calculationService.startCalculation().getId();\r\n\r\nexecution.setVariable(CORRELATION_KEY, id);\r\n\r\nloggingService.updateCase(id);\r\n```\r\n\r\nBoth this calculation and this logging takes some time. And sometimes the logging takes more time than the calculation - meaning that the JMS message arrives before the &quot;Start Calculation&quot; delegate is finished.\r\n\r\nIf this happens, the correlation:\r\n```\r\nProcessInstance instance = \r\n        this.runtimeService.createProcessInstanceQuery()\r\n                .variableValueEquals(CORRELATION_KEY, correlationValue)\r\n                .singleResult();\r\n```\r\nDoes not result in any answer, and the process will be waiting indefinite. Most of the time this is not a problem when logging is faster than the calculation.\r\n\r\nHow can I solve this, I haven&#39;t found any methods to force persisting of variables before the delegate is finished. I guess I can wait for a minute and try again in the MessageHandler class, but as there are many JMS messages coming, but only a few that actually correlates, I feel that this will cause unnecessary noice.\r\n\r\nMaybe if I move the logging to its own delegate, and uses an inclusive gateway to this and the catch event will solve it. But hoping for a more elegant solution.","title":"Flowable correlation catch event happens before data is persisted","body":"<p>As far as I am aware of, data is persisted in Flowable when it reaches a waiting state.</p>\n<p>In our process we have a delegate which are starting a calculation and logging an ID for tracking purposes, and waits for a JMS message to restart the flow, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/cjOzA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cjOzA.png\" alt=\"enter image description here\" /></a></p>\n<p>In the &quot;Start Calculation&quot; delegate we have code like this:</p>\n<pre><code>String id = calculationService.startCalculation().getId();\n\nexecution.setVariable(CORRELATION_KEY, id);\n\nloggingService.updateCase(id);\n</code></pre>\n<p>Both this calculation and this logging takes some time. And sometimes the logging takes more time than the calculation - meaning that the JMS message arrives before the &quot;Start Calculation&quot; delegate is finished.</p>\n<p>If this happens, the correlation:</p>\n<pre><code>ProcessInstance instance = \n        this.runtimeService.createProcessInstanceQuery()\n                .variableValueEquals(CORRELATION_KEY, correlationValue)\n                .singleResult();\n</code></pre>\n<p>Does not result in any answer, and the process will be waiting indefinite. Most of the time this is not a problem when logging is faster than the calculation.</p>\n<p>How can I solve this, I haven't found any methods to force persisting of variables before the delegate is finished. I guess I can wait for a minute and try again in the MessageHandler class, but as there are many JMS messages coming, but only a few that actually correlates, I feel that this will cause unnecessary noice.</p>\n<p>Maybe if I move the logging to its own delegate, and uses an inclusive gateway to this and the catch event will solve it. But hoping for a more elegant solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1643731999,"post_id":70943761,"comment_id":125415105,"body_markdown":"Just add `classes.jar` into the classpath when compiling the &quot;main&quot; classes.","body":"Just add <code>classes.jar</code> into the classpath when compiling the &quot;main&quot; classes."},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1643732231,"post_id":70943761,"comment_id":125415197,"body_markdown":"I&#39;ve already tried that, probably wrongly, using javac -cp bin/classes.jar src/library/Main.java command","body":"I&#39;ve already tried that, probably wrongly, using javac -cp bin/classes.jar src/library/Main.java command"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1643734233,"post_id":70943761,"comment_id":125416136,"body_markdown":"At this point it would really, really help to see a [mcve]. We simply don&#39;t have enough information at the moment. (Note that for the minimal example, you should only need two Java classes - one to put in classes.jar and the other to use it.)","body":"At this point it would really, really help to see a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. We simply don&#39;t have enough information at the moment. (Note that for the minimal example, you should only need two Java classes - one to put in classes.jar and the other to use it.)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1643743684,"post_id":70943761,"comment_id":125419800,"body_markdown":"Try adapting the answer from [Is it possible to create multiple jar files](https://stackoverflow.com/questions/55372851/is-it-possible-to-create-multiple-jar-files-of-same-project).","body":"Try adapting the answer from <a href=\"https://stackoverflow.com/questions/55372851/is-it-possible-to-create-multiple-jar-files-of-same-project\">Is it possible to create multiple jar files</a>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1643785197,"post_id":70943761,"comment_id":125428239,"body_markdown":"usually, having two different jars comes from having two different projects","body":"usually, having two different jars comes from having two different projects"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1643802087,"post_id":70943761,"comment_id":125434376,"body_markdown":"I solved the problem by moving the main.java to the directory from where it could access .class files. Thanks for your help.","body":"I solved the problem by moving the main.java to the directory from where it could access .class files. Thanks for your help."}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1643732328,"creation_date":1643731844,"question_id":70943761,"body_markdown":"I have to create two separate .jar files for my project. One is classes.jar where some classes are declared and the second one, main.jar where classes are used. I&#39;ve already compiled the classes.jar file, but when I try to compile main.java with javac I get &quot;package does not exist&quot; and &quot;cannot find symbol&quot; errors. What can I do to compile the file? How to properly link those .class/.jar files for the compiler to see?  \r\n\r\nI&#39;ve tried using `javac -cp bin/classes.jar src/library/Main.java` command.","title":"How to compile Java files and create two diffrent jars?","body":"<p>I have to create two separate .jar files for my project. One is classes.jar where some classes are declared and the second one, main.jar where classes are used. I've already compiled the classes.jar file, but when I try to compile main.java with javac I get &quot;package does not exist&quot; and &quot;cannot find symbol&quot; errors. What can I do to compile the file? How to properly link those .class/.jar files for the compiler to see?</p>\n<p>I've tried using <code>javac -cp bin/classes.jar src/library/Main.java</code> command.</p>\n"},{"tags":["java","timer","coap"],"comments":[{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":2,"creation_date":1643471296,"post_id":70906819,"comment_id":125350830,"body_markdown":"Welcome to StackOverflow! When you say &quot;it throws an error&quot; do you mean that it fails to compile? &quot;Unreachable statement&quot; sounds like a compilation error to me. If so, which line of code does the compiler error refer to? Please update your question with that information if you can.","body":"Welcome to StackOverflow! When you say &quot;it throws an error&quot; do you mean that it fails to compile? &quot;Unreachable statement&quot; sounds like a compilation error to me. If so, which line of code does the compiler error refer to? Please update your question with that information if you can."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1643475414,"post_id":70906819,"comment_id":125351908,"body_markdown":"Please be respectful to your readers when posting here. Do not be lazy with your typing such as ignoring proper use of uppercase. This site is meant to be more like Wikipedia, less like a casual chat room. Omit needless chit-chat, including pleas for help. I fixed some of these problems for you this time.","body":"Please be respectful to your readers when posting here. Do not be lazy with your typing such as ignoring proper use of uppercase. This site is meant to be more like Wikipedia, less like a casual chat room. Omit needless chit-chat, including pleas for help. I fixed some of these problems for you this time."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643475621,"creation_date":1643474945,"answer_id":70907633,"question_id":70906819,"body_markdown":"As [commented][1], you need to supply more debugging details. \r\n\r\n# `ScheduledExecutorService`\r\n\r\nMore generally, I can say that `Timer` and `TimerTask` classes were years ago supplanted by the [Executors][2] framework. Their Javadoc so notes.\r\n\r\nA `ScheduledExecutorService` allows you to specify a delay before executing your task. Establish the service, and keep it around for later use. \r\n\r\n    ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\r\n\r\nDefine your task as a `Runnable` (or `Callable`). \r\n\r\n    Runnable task = () -&gt; {\r\n        turnOffActuator() ;\r\n    };\r\n\r\nIn your business logic, turn on the actuator, then assign the turning-off task to the executor while [scheduling with a delay][3].\r\n\r\n    turnOnActuator() ;\r\n    ses.schedule( task , 10 , TimeUnit.SECONDS ) ;\r\n\r\nBe sure to eventually shut down your executor service before your app ends/exits. Otherwise the pool of threads backing your executor service may continue running indefinitely, like a zombie &#129503;‍♂️.\r\n\r\nAll of this has been covered many times already on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70906819/how-do-i-do-a-task-after-waiting-10-seconds-in-java#comment125350830_70906819\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)","title":"How do I do a task after waiting 10 seconds in Java?","body":"<p>As <a href=\"https://stackoverflow.com/questions/70906819/how-do-i-do-a-task-after-waiting-10-seconds-in-java#comment125350830_70906819\">commented</a>, you need to supply more debugging details.</p>\n<h1><code>ScheduledExecutorService</code></h1>\n<p>More generally, I can say that <code>Timer</code> and <code>TimerTask</code> classes were years ago supplanted by the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Executors</a> framework. Their Javadoc so notes.</p>\n<p>A <code>ScheduledExecutorService</code> allows you to specify a delay before executing your task. Establish the service, and keep it around for later use.</p>\n<pre><code>ScheduledExecutorService ses = Executors.newSingleThreadScheduledExecutor() ;\n</code></pre>\n<p>Define your task as a <code>Runnable</code> (or <code>Callable</code>).</p>\n<pre><code>Runnable task = () -&gt; {\n    turnOffActuator() ;\n};\n</code></pre>\n<p>In your business logic, turn on the actuator, then assign the turning-off task to the executor while <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#schedule(java.lang.Runnable,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">scheduling with a delay</a>.</p>\n<pre><code>turnOnActuator() ;\nses.schedule( task , 10 , TimeUnit.SECONDS ) ;\n</code></pre>\n<p>Be sure to eventually shut down your executor service before your app ends/exits. Otherwise the pool of threads backing your executor service may continue running indefinitely, like a zombie 🧟‍♂️.</p>\n<p>All of this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":13903028,"reputation":11,"user_id":18066322,"display_name":"Mo0oon9898"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1643732307,"creation_date":1643469250,"question_id":70906819,"body_markdown":"It&#39;s the first time I use Java for a project and I need to do this:\r\n\r\n- send a CoAP POST request to turn on an actuator\r\n- wait 10 seconds\r\n- send a CoAP POST request to turn off the actuator.\\\r\n\\\r\nI&#39;m using this code inside the method I wrote that has to automatically turn on/off the actuator:\r\n```\r\nnew java.util.Timer().schedule(\r\n    new java.util.TimerTask() {\r\n        @Override\r\n            public void run (){\r\n                Request postRequest2 = new Request(CoAP.Code.POST);\r\n                postRequest2.setURI(String.format(&quot;%s%s&quot;, COAP_ENDPOINT1, targetStatusActuatorUri));\r\n                postRequest2.setConfirmable(true);\r\n            }\r\n    },\r\n    10000\r\n);\r\n```\r\n\r\nBut it throws an error **Unreachable statement** and I don&#39;t understand why.\r\n","title":"How do I do a task after waiting 10 seconds in Java?","body":"<p>It's the first time I use Java for a project and I need to do this:</p>\n<ul>\n<li>send a CoAP POST request to turn on an actuator</li>\n<li>wait 10 seconds</li>\n<li>send a CoAP POST request to turn off the actuator.<br />\n<br />\nI'm using this code inside the method I wrote that has to automatically turn on/off the actuator:</li>\n</ul>\n<pre><code>new java.util.Timer().schedule(\n    new java.util.TimerTask() {\n        @Override\n            public void run (){\n                Request postRequest2 = new Request(CoAP.Code.POST);\n                postRequest2.setURI(String.format(&quot;%s%s&quot;, COAP_ENDPOINT1, targetStatusActuatorUri));\n                postRequest2.setConfirmable(true);\n            }\n    },\n    10000\n);\n</code></pre>\n<p>But it throws an error <strong>Unreachable statement</strong> and I don't understand why.</p>\n"},{"tags":["java","netbeans","netbeans-12"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616204497,"creation_date":1616204497,"answer_id":66717508,"question_id":66711355,"body_markdown":"From the NetBeans documentation for [&quot;Deployment Platforms&quot; for NetBeans 12.0][1]:\r\n\r\n&gt; *Apache NetBeans 12.0 runs on the JDK LTS releases 8 and 11, as well as\r\n&gt; on JDK 14, i.e., the current JDK release at the time of this NetBeans\r\n&gt; release.*\r\n\r\nNetBeans may work (or appear to work) with newer JDK releases that are not officially supported such as JDK 16, but you run the risk of hitting unexpected problems.\r\n\r\nSo if you don&#39;t need any Java features released after JDK 14, [download and install JDK 14][2], and add it as a Java platform in NetBeans, using `Tools &gt; Java Platforms &gt; Add Platform...`. You don&#39;t need to uninstall JDK 16.\r\n\r\nHowever, if you really need JDK 16 features then use a different IDE. [The latest release of Eclipse, 2021-03, explicitly supports JDK 16][3].\r\n\r\n\r\n  [1]: https://netbeans.apache.org/download/nb120/nb120.html\r\n  [2]: https://jdk.java.net/archive/\r\n  [3]: https://marketplace.eclipse.org/content/java-16-support-eclipse-2021-03-419","title":"Apache NetBeans IDE 12.0 cannot create new java application","body":"<p>From the NetBeans documentation for <a href=\"https://netbeans.apache.org/download/nb120/nb120.html\" rel=\"nofollow noreferrer\">&quot;Deployment Platforms&quot; for NetBeans 12.0</a>:</p>\n<blockquote>\n<p><em>Apache NetBeans 12.0 runs on the JDK LTS releases 8 and 11, as well as\non JDK 14, i.e., the current JDK release at the time of this NetBeans\nrelease.</em></p>\n</blockquote>\n<p>NetBeans may work (or appear to work) with newer JDK releases that are not officially supported such as JDK 16, but you run the risk of hitting unexpected problems.</p>\n<p>So if you don't need any Java features released after JDK 14, <a href=\"https://jdk.java.net/archive/\" rel=\"nofollow noreferrer\">download and install JDK 14</a>, and add it as a Java platform in NetBeans, using <code>Tools &gt; Java Platforms &gt; Add Platform...</code>. You don't need to uninstall JDK 16.</p>\n<p>However, if you really need JDK 16 features then use a different IDE. <a href=\"https://marketplace.eclipse.org/content/java-16-support-eclipse-2021-03-419\" rel=\"nofollow noreferrer\">The latest release of Eclipse, 2021-03, explicitly supports JDK 16</a>.</p>\n"},{"tags":[],"owner":{"account_id":5673944,"reputation":411,"user_id":4487805,"accept_rate":50,"display_name":"&#193;lvaro Loza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631626302,"creation_date":1630593792,"answer_id":69032475,"question_id":66711355,"body_markdown":"I had the same problem and was able to solve it in windows by following the steps below:\r\n\r\n 1. Uninstall Netbeans 12.4. Make sure to delete all the cache files\r\n    (Drive:\\users\\user\\AppData\\Roaming\\Netbeans and\r\n     Drive:\\users\\user\\AppData\\Local\\Netbeans) (Windows) \r\n 2. Check your JDK 16 directory (no JRE) and environment variables JAVA_HOME, CLASSPATH and PATH. \r\n 3. Install Netbeans 12.4\r\n 4. Create new project and **check that you select Download and activate nb-javac.**","title":"Apache NetBeans IDE 12.0 cannot create new java application","body":"<p>I had the same problem and was able to solve it in windows by following the steps below:</p>\n<ol>\n<li>Uninstall Netbeans 12.4. Make sure to delete all the cache files\n(Drive:\\users\\user\\AppData\\Roaming\\Netbeans and\nDrive:\\users\\user\\AppData\\Local\\Netbeans) (Windows)</li>\n<li>Check your JDK 16 directory (no JRE) and environment variables JAVA_HOME, CLASSPATH and PATH.</li>\n<li>Install Netbeans 12.4</li>\n<li>Create new project and <strong>check that you select Download and activate nb-javac.</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13443102,"reputation":29,"user_id":9699781,"display_name":"BEN_BINARY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636377514,"creation_date":1636377514,"answer_id":69884141,"question_id":66711355,"body_markdown":"For me it helped using NetBeans version 12.5 and the JDK 14. After that everything was running smooth.","title":"Apache NetBeans IDE 12.0 cannot create new java application","body":"<p>For me it helped using NetBeans version 12.5 and the JDK 14. After that everything was running smooth.</p>\n"},{"tags":[],"owner":{"account_id":22013244,"reputation":11,"user_id":16283171,"display_name":"bereket girma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643732251,"creation_date":1643732251,"answer_id":70943891,"question_id":66711355,"body_markdown":"I had the same problem and upgrading to version 12.5 worked for me.","title":"Apache NetBeans IDE 12.0 cannot create new java application","body":"<p>I had the same problem and upgrading to version 12.5 worked for me.</p>\n"}],"owner":{"account_id":21003622,"reputation":21,"user_id":15433913,"display_name":"Abdurahman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3787,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1643732251,"creation_date":1616168719,"question_id":66711355,"body_markdown":"I installed Java NetBeans IDE 12.0 and JDk-16. When I try to create a project using Java With Ant, it get stuck like in the screenshot. When I cancel it, it creates the file but no code in it i.e., no main method is created. Just a blank file. \r\n\r\nDoes anyone know how to solve this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OzqAX.jpg","title":"Apache NetBeans IDE 12.0 cannot create new java application","body":"<p>I installed Java NetBeans IDE 12.0 and JDk-16. When I try to create a project using Java With Ant, it get stuck like in the screenshot. When I cancel it, it creates the file but no code in it i.e., no main method is created. Just a blank file.</p>\n<p>Does anyone know how to solve this?</p>\n<p><a href=\"https://i.stack.imgur.com/OzqAX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzqAX.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","integer","set","uniqueidentifier"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":2,"creation_date":1643733962,"post_id":70943825,"comment_id":125416016,"body_markdown":"The requirement about eager number reuse feels overcomplicated. How frequent are the numbers obsoleted? How many active numbers do you have at any given time? If it&#39;s 10k numbers than loosing a few only results in one extra digit that has to be entered.","body":"The requirement about eager number reuse feels overcomplicated. How frequent are the numbers obsoleted? How many active numbers do you have at any given time? If it&#39;s 10k numbers than loosing a few only results in one extra digit that has to be entered."}],"owner":{"account_id":16819594,"reputation":130,"user_id":12160434,"display_name":"Sebastian Riemer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1643732049,"creation_date":1643732049,"question_id":70943825,"body_markdown":"For inventory management we use a key/id called **item number**\r\n\r\n- It is a consecutive number starting from `1`\r\n- It must be unique\r\n- The datatype is `int`\r\n- It is not a database key\r\n- It should get reused after deletion\r\n- We want to keep it small, so customers may enter the number by hand (e.g. the barcode scanner fails or the item label is damaged)\r\n\r\n## Current situation\r\n\r\n- Currently we keep track of that number in the database. \r\n- On each system (re-)start the highest currently used number is determined and used as a new starting point for every new number we need to generate\r\n- if the next number is not free, we just skip it and continue until we find a free one (this check is rather expensive since a query to the db is made; however most of the time the numbers are not in use)\r\n- the method responsible for the number generation is `serialized` for concurrent use\r\n\r\n**Problem 1:** We are not able to reuse any item numbers after they have been deleted\r\n\r\n**Problem 2:** Importing data from other sources \r\n- items from foreign systems have their own item number which we need to keep (except if the item number is used in the current system, then a new item number is generated instead)\r\n- these item numbers can have a much higher value as those in the current system\r\n=&gt; this leads to big gaps; after the next system start all new item numbers start from the highest number (!)\r\n\r\n## Required change\r\n- As part of system start-up we need to obtain the list of item numbers currently in use; I guess `SELECT`ing just that one column and storing it in a `Set` should be ok; the required size for that data structure would be approximately 400 KB (a set of 100.000 ids of type `int`)\r\n- This set must then be consulted to find the next minimal number which is not contained in that set; that access needs to be serialized or handled in a concurrent matter (i.e. no two threads are allowed to receive the same number)\r\n- I&#39;ve found a trivial approach on how to obtain the next free number here: https://stackoverflow.com/questions/52093599/find-first-missing-number-in-set/52094551\r\n- the set and the database must be kept in sync about which numbers are used and which numbers are free; i.e. I could first test the set until I find a free number, and then test in the database; if not free why-so-ever insert in set and repeat ...\r\n\r\n## Questions\r\n- Does this approach sound reasonable?\r\n- Are you familiar with (standard) libraries which support implementing that kind of number generation?\r\n","title":"Java generate and track small reusable unique numbers for business use cases","body":"<p>For inventory management we use a key/id called <strong>item number</strong></p>\n<ul>\n<li>It is a consecutive number starting from <code>1</code></li>\n<li>It must be unique</li>\n<li>The datatype is <code>int</code></li>\n<li>It is not a database key</li>\n<li>It should get reused after deletion</li>\n<li>We want to keep it small, so customers may enter the number by hand (e.g. the barcode scanner fails or the item label is damaged)</li>\n</ul>\n<h2>Current situation</h2>\n<ul>\n<li>Currently we keep track of that number in the database.</li>\n<li>On each system (re-)start the highest currently used number is determined and used as a new starting point for every new number we need to generate</li>\n<li>if the next number is not free, we just skip it and continue until we find a free one (this check is rather expensive since a query to the db is made; however most of the time the numbers are not in use)</li>\n<li>the method responsible for the number generation is <code>serialized</code> for concurrent use</li>\n</ul>\n<p><strong>Problem 1:</strong> We are not able to reuse any item numbers after they have been deleted</p>\n<p><strong>Problem 2:</strong> Importing data from other sources</p>\n<ul>\n<li>items from foreign systems have their own item number which we need to keep (except if the item number is used in the current system, then a new item number is generated instead)</li>\n<li>these item numbers can have a much higher value as those in the current system\n=&gt; this leads to big gaps; after the next system start all new item numbers start from the highest number (!)</li>\n</ul>\n<h2>Required change</h2>\n<ul>\n<li>As part of system start-up we need to obtain the list of item numbers currently in use; I guess <code>SELECT</code>ing just that one column and storing it in a <code>Set</code> should be ok; the required size for that data structure would be approximately 400 KB (a set of 100.000 ids of type <code>int</code>)</li>\n<li>This set must then be consulted to find the next minimal number which is not contained in that set; that access needs to be serialized or handled in a concurrent matter (i.e. no two threads are allowed to receive the same number)</li>\n<li>I've found a trivial approach on how to obtain the next free number here: <a href=\"https://stackoverflow.com/questions/52093599/find-first-missing-number-in-set/52094551\">Find First missing number in Set</a></li>\n<li>the set and the database must be kept in sync about which numbers are used and which numbers are free; i.e. I could first test the set until I find a free number, and then test in the database; if not free why-so-ever insert in set and repeat ...</li>\n</ul>\n<h2>Questions</h2>\n<ul>\n<li>Does this approach sound reasonable?</li>\n<li>Are you familiar with (standard) libraries which support implementing that kind of number generation?</li>\n</ul>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1494110349,"post_id":43825906,"comment_id":74690001,"body_markdown":"I&#39;d say that if &quot;some people&quot; are allowed, and do change the time of your production server, you&#39;ll have bigger problems than a wrong creation date. And getting the current tme from the DB won&#39;t change much, because those same people might also change the time on the database server.","body":"I&#39;d say that if &quot;some people&quot; are allowed, and do change the time of your production server, you&#39;ll have bigger problems than a wrong creation date. And getting the current tme from the DB won&#39;t change much, because those same people might also change the time on the database server."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1494137370,"post_id":43825906,"comment_id":74694184,"body_markdown":"Why is the method annotated as modifying and read only false?","body":"Why is the method annotated as modifying and read only false?"},{"owner":{"account_id":7450881,"reputation":33,"user_id":5665696,"display_name":"laccf"},"score":0,"creation_date":1494245657,"post_id":43825906,"comment_id":74730489,"body_markdown":"@JBNizet, in this case it necessary to do like that.","body":"@JBNizet, in this case it necessary to do like that."},{"owner":{"account_id":7450881,"reputation":33,"user_id":5665696,"display_name":"laccf"},"score":0,"creation_date":1494245716,"post_id":43825906,"comment_id":74730540,"body_markdown":"@JensSchauder, no reason at all, i&#39;ve tried with and without","body":"@JensSchauder, no reason at all, i&#39;ve tried with and without"}],"answers":[{"tags":[],"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1494137221,"creation_date":1494110672,"answer_id":43826059,"question_id":43825906,"body_markdown":"`Caused by: java.lang.IllegalArgumentException: Not a managed type: class java.util.Date` occurs because Date is not an entity so you won&#39;t be able to use your `UtilsRepository` as is. You should be able to use\r\n\r\n    @Query(value = &quot;SELECT SYSDATE FROM DUAL&quot;, nativeQuery = true)\r\n\r\non your `UserRepository`","title":"How to get &#39;now time&#39; from database using CrudRepository?","body":"<p><code>Caused by: java.lang.IllegalArgumentException: Not a managed type: class java.util.Date</code> occurs because Date is not an entity so you won't be able to use your <code>UtilsRepository</code> as is. You should be able to use</p>\n\n<pre><code>@Query(value = \"SELECT SYSDATE FROM DUAL\", nativeQuery = true)\n</code></pre>\n\n<p>on your <code>UserRepository</code></p>\n"},{"tags":[],"owner":{"account_id":7450881,"reputation":33,"user_id":5665696,"display_name":"laccf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1494558563,"creation_date":1494558563,"answer_id":43928675,"question_id":43825906,"body_markdown":"I solved this point doing that in the UserReposistory:\r\n\r\n    @Transactional(readOnly = false)\r\n    @Query(&quot;select CURRENT_TIMESTAMP from User&quot;)\r\n    public Date getCurrentTime();","title":"How to get &#39;now time&#39; from database using CrudRepository?","body":"<p>I solved this point doing that in the UserReposistory:</p>\n\n<pre><code>@Transactional(readOnly = false)\n@Query(\"select CURRENT_TIMESTAMP from User\")\npublic Date getCurrentTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1442195,"reputation":861,"user_id":1361980,"display_name":"kalmas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643732043,"creation_date":1643726073,"answer_id":70942343,"question_id":43825906,"body_markdown":"To build off of @laccf&#39;s answer: this solution will work only if you can limit the result to 1 and exactly 1 record. You can do this by adding a parameter, id for example.\r\n```java\r\n@Query(&quot;select CURRENT_TIMESTAMP as now from Foo where id = ?1&quot;)\r\nInstant getNow(String id);\r\n```\r\n\r\nThis is a **very hacky** solution, but it will work (provided you have a table you know will have the record). It results in the Hibernate query:\r\n\r\n```\r\nselect CURRENT_TIMESTAMP as col_0_0_ from foo foo0_ where foo.id=?\r\n```\r\n\r\nI did try using `@Query(&quot;select CURRENT_TIMESTAMP&quot;, nativeQuery = true)`, it produces the error `No Dialect mapping for JDBC type: 2014; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 2014`. I&#39;m pretty sure this is because the native database type is `TIMESTAMP WITH TIMEZONE`, this could probably be fixed with some explicit mapping.\r\n\r\n# Another (Less Hacky?) Solution\r\nMake a custom repository fragment.\r\n```java\r\n@Repository\r\npublic class TimestampRepositoryImpl implements TimestampRepository {\r\n\r\n  private final EntityManager entityManager;\r\n\r\n  public TimestampRepositoryImpl(EntityManager entityManager) {\r\n    this.entityManager = entityManager;\r\n  }\r\n\r\n  @Override\r\n  public Instant getNow() {\r\n    return (Instant)\r\n        entityManager\r\n            .createNativeQuery(&quot;select current_timestamp as now;&quot;)\r\n            .unwrap(NativeQuery.class)\r\n            .addScalar(&quot;now&quot;, InstantType.INSTANCE)\r\n            .getSingleResult();\r\n  }\r\n}\r\n```\r\n```java\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt;,\r\n    JpaSpecificationExecutor&lt;User&gt;, \r\n    TimestampRepository {}\r\n```\r\n","title":"How to get &#39;now time&#39; from database using CrudRepository?","body":"<p>To build off of @laccf's answer: this solution will work only if you can limit the result to 1 and exactly 1 record. You can do this by adding a parameter, id for example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select CURRENT_TIMESTAMP as now from Foo where id = ?1&quot;)\nInstant getNow(String id);\n</code></pre>\n<p>This is a <strong>very hacky</strong> solution, but it will work (provided you have a table you know will have the record). It results in the Hibernate query:</p>\n<pre><code>select CURRENT_TIMESTAMP as col_0_0_ from foo foo0_ where foo.id=?\n</code></pre>\n<p>I did try using <code>@Query(&quot;select CURRENT_TIMESTAMP&quot;, nativeQuery = true)</code>, it produces the error <code>No Dialect mapping for JDBC type: 2014; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 2014</code>. I'm pretty sure this is because the native database type is <code>TIMESTAMP WITH TIMEZONE</code>, this could probably be fixed with some explicit mapping.</p>\n<h1>Another (Less Hacky?) Solution</h1>\n<p>Make a custom repository fragment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class TimestampRepositoryImpl implements TimestampRepository {\n\n  private final EntityManager entityManager;\n\n  public TimestampRepositoryImpl(EntityManager entityManager) {\n    this.entityManager = entityManager;\n  }\n\n  @Override\n  public Instant getNow() {\n    return (Instant)\n        entityManager\n            .createNativeQuery(&quot;select current_timestamp as now;&quot;)\n            .unwrap(NativeQuery.class)\n            .addScalar(&quot;now&quot;, InstantType.INSTANCE)\n            .getSingleResult();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;,\n    JpaSpecificationExecutor&lt;User&gt;, \n    TimestampRepository {}\n</code></pre>\n"}],"owner":{"account_id":7450881,"reputation":33,"user_id":5665696,"display_name":"laccf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43928675,"answer_count":3,"score":2,"last_activity_date":1643732043,"creation_date":1494109222,"question_id":43825906,"body_markdown":"I have this example of entity:\r\n\r\n    @Entity\r\n    public class User {\r\n        \r\n        private String name;\r\n        private Date creationDate;\r\n\r\n        public User(String name) {\r\n            this.name = name;\r\n            this.creationDate= Calendar.getInstance().getTime();\r\n        }\r\n    \r\n    }\r\n\r\nand this example of repo:\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt;, JpaSpecificationExecutor&lt;User&gt; {\r\n        \r\n        public User findByName(String name);\r\n\r\n    }\r\n\r\nBut when I need to do:\r\n\r\n    User user = new User();\r\n\r\nI cant get creationDate anymore from:\r\n\r\n    Calendar.getInstance().getTime();\r\n\r\nBecause some people are changing the time from OS, and the time of the creation are being persisted wrong. so I need some:\r\n\r\n    SELECT SYSDATE FROM DUAL;\r\n    SELECT now();\r\n\r\nTo set the creationDate from user.\r\n\r\nDo I need a new repo to get the time, or I can use this UserRepository to get the creationDate from database?? I&#39;ve tried create a UtilsRepository, where I might get the date from database:\r\n\r\n    public interface UtilsRepository extends JpaRepository&lt;Date, String&gt; {\r\n    \r\n\t    @Modifying\r\n        @Transactional(readOnly = false)\r\n        @Query(&quot;select now()&quot;)\r\n\t    public Date getDataBaseDate();\r\n    \r\n    }\r\n\r\nBut it isnt working. I&#39;m getting this error, and I think that is not the best way to do that.\r\n\r\n    Exception in Application init method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\n    Caused by: java.lang.RuntimeException: Exception in Application init method\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:912)\r\n    \tat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;utilsRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.util.Date\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:757)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174)\r\n    \tat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:841)\r\n    \t... 2 more\r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class java.util.Date\r\n    \tat org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:210)\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:199)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:266)\r\n    \tat org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:252)\r\n    \tat org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \t... 18 more\r\n\r\n","title":"How to get &#39;now time&#39; from database using CrudRepository?","body":"<p>I have this example of entity:</p>\n\n<pre><code>@Entity\npublic class User {\n\n    private String name;\n    private Date creationDate;\n\n    public User(String name) {\n        this.name = name;\n        this.creationDate= Calendar.getInstance().getTime();\n    }\n\n}\n</code></pre>\n\n<p>and this example of repo:</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt;, JpaSpecificationExecutor&lt;User&gt; {\n\n    public User findByName(String name);\n\n}\n</code></pre>\n\n<p>But when I need to do:</p>\n\n<pre><code>User user = new User();\n</code></pre>\n\n<p>I cant get creationDate anymore from:</p>\n\n<pre><code>Calendar.getInstance().getTime();\n</code></pre>\n\n<p>Because some people are changing the time from OS, and the time of the creation are being persisted wrong. so I need some:</p>\n\n<pre><code>SELECT SYSDATE FROM DUAL;\nSELECT now();\n</code></pre>\n\n<p>To set the creationDate from user.</p>\n\n<p>Do I need a new repo to get the time, or I can use this UserRepository to get the creationDate from database?? I've tried create a UtilsRepository, where I might get the date from database:</p>\n\n<pre><code>public interface UtilsRepository extends JpaRepository&lt;Date, String&gt; {\n\n    @Modifying\n    @Transactional(readOnly = false)\n    @Query(\"select now()\")\n    public Date getDataBaseDate();\n\n}\n</code></pre>\n\n<p>But it isnt working. I'm getting this error, and I think that is not the best way to do that.</p>\n\n<pre><code>Exception in Application init method\njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Exception in Application init method\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:912)\n    at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$155(LauncherImpl.java:182)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'utilsRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.util.Date\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:757)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174)\n    at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:841)\n    ... 2 more\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.util.Date\n    at org.hibernate.jpa.internal.metamodel.MetamodelImpl.managedType(MetamodelImpl.java:210)\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:68)\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:67)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getEntityInformation(JpaRepositoryFactory.java:152)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:99)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactory.getTargetRepository(JpaRepositoryFactory.java:81)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:199)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.initAndReturn(RepositoryFactoryBeanSupport.java:266)\n    at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:252)\n    at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:92)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    ... 18 more\n</code></pre>\n"},{"tags":["java","android","percentage","battery","batterymanager"],"answers":[{"tags":[],"owner":{"account_id":2127659,"reputation":1921,"user_id":1889341,"accept_rate":55,"display_name":"Smile2Life"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643731589,"creation_date":1643731589,"answer_id":70943685,"question_id":70942444,"body_markdown":"You can use [BatteryManager][1] to get the status of battery health but you can only have status like :\r\n\r\n            BatteryManager.BATTERY_HEALTH_COLD -&gt; &quot;Cold&quot;\r\n            BatteryManager.BATTERY_HEALTH_DEAD -&gt; &quot;Dead&quot;\r\n            BatteryManager.BATTERY_HEALTH_GOOD -&gt; &quot;Good&quot;\r\n            BatteryManager.BATTERY_HEALTH_OVERHEAT -&gt; &quot;Over heat&quot;\r\n            BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE -&gt; &quot;Over voltage&quot;\r\n            BatteryManager.BATTERY_HEALTH_UNKNOWN -&gt; &quot;Unknown&quot;\r\n\r\nAnd you can check your device constructor if they offer special library to access to battery detailled informations like :\r\nhttps://techdocs.zebra.com/mx/batterymgr/\r\n\r\n  [1]: https://developer.android.com/reference/android/os/BatteryManager","title":"How to get battery overall health in android?","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/os/BatteryManager\" rel=\"nofollow noreferrer\">BatteryManager</a> to get the status of battery health but you can only have status like :</p>\n<pre><code>        BatteryManager.BATTERY_HEALTH_COLD -&gt; &quot;Cold&quot;\n        BatteryManager.BATTERY_HEALTH_DEAD -&gt; &quot;Dead&quot;\n        BatteryManager.BATTERY_HEALTH_GOOD -&gt; &quot;Good&quot;\n        BatteryManager.BATTERY_HEALTH_OVERHEAT -&gt; &quot;Over heat&quot;\n        BatteryManager.BATTERY_HEALTH_OVER_VOLTAGE -&gt; &quot;Over voltage&quot;\n        BatteryManager.BATTERY_HEALTH_UNKNOWN -&gt; &quot;Unknown&quot;\n</code></pre>\n<p>And you can check your device constructor if they offer special library to access to battery detailled informations like :\n<a href=\"https://techdocs.zebra.com/mx/batterymgr/\" rel=\"nofollow noreferrer\">https://techdocs.zebra.com/mx/batterymgr/</a></p>\n"}],"owner":{"account_id":14776514,"reputation":1,"user_id":10671281,"display_name":"&#193;rp&#225;d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1643731589,"creation_date":1643726460,"question_id":70942444,"body_markdown":"Given eg a Honeywell CT40 handheld, in its settings there is a separate section dedicated to the battery and all of its details (usage, capacity, temp, cycle and even SN), and there is shown the battery&#39;s overall health in percentage. \r\nIs it possible to get this overall health in percentage programatically?\r\nWith a new battery it is between 96-100%, and for example a battery with 192 cycles it is 90-92%.\r\nI do not need anything else, only this percentage with minimal permissons required, if there is an app already existing that does this can also be good, but didn&#39;t find any yet.\r\nAny help is appreciated! :)","title":"How to get battery overall health in android?","body":"<p>Given eg a Honeywell CT40 handheld, in its settings there is a separate section dedicated to the battery and all of its details (usage, capacity, temp, cycle and even SN), and there is shown the battery's overall health in percentage.\nIs it possible to get this overall health in percentage programatically?\nWith a new battery it is between 96-100%, and for example a battery with 192 cycles it is 90-92%.\nI do not need anything else, only this percentage with minimal permissons required, if there is an app already existing that does this can also be good, but didn't find any yet.\nAny help is appreciated! :)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8363,"page":1629,"page_size":100}
