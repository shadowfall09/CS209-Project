{"items":[{"tags":["java","sockets","exception","serversocket"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667326206,"post_id":74280044,"comment_id":131139866,"body_markdown":"&quot;Connection reset&quot; means the other side got your request but denied it for some reason.  Could be out of resources, or the port busy, or the firewall blocked it.","body":"&quot;Connection reset&quot; means the other side got your request but denied it for some reason.  Could be out of resources, or the port busy, or the firewall blocked it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1667326272,"post_id":74280044,"comment_id":131139893,"body_markdown":"&quot;ClassCastException&quot; is just plain an error on your part, you did something wrong.  We&#39;ll need to see the code in question, with a [mcve] that shows the problem.","body":"&quot;ClassCastException&quot; is just plain an error on your part, you did something wrong.  We&#39;ll need to see the code in question, with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows the problem."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326494,"post_id":74280044,"comment_id":131139975,"body_markdown":"@markspace has given you some good information on the errors that you are encountering. To your question of &quot;will be suitable...&quot; the answer is &quot;no, not really&quot; there are better alternatives","body":"@markspace has given you some good information on the errors that you are encountering. To your question of &quot;will be suitable...&quot; the answer is &quot;no, not really&quot; there are better alternatives"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326577,"post_id":74280044,"comment_id":131140002,"body_markdown":"to start with, I would highly recommend that you use webserversockets instead of regular Java sockets - they are easier to use and to get up to speed with","body":"to start with, I would highly recommend that you use webserversockets instead of regular Java sockets - they are easier to use and to get up to speed with"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326719,"post_id":74280044,"comment_id":131140041,"body_markdown":"I would also recommend using XML or JSON instead of Java object serialization, which suffers both from being Java-only as well as from not being compatible with other programming platforms.","body":"I would also recommend using XML or JSON instead of Java object serialization, which suffers both from being Java-only as well as from not being compatible with other programming platforms."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667326843,"post_id":74280044,"comment_id":131140078,"body_markdown":"Within XML/JSON, you are going to want to set up a communication protocol (like http for web pages) which is powerful/flexible enough to support the kinds of messages you would like to send.","body":"Within XML/JSON, you are going to want to set up a communication protocol (like http for web pages) which is powerful/flexible enough to support the kinds of messages you would like to send."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1667327015,"post_id":74280044,"comment_id":131140130,"body_markdown":"Finally, you probably want to structure your communication protocol to always or sometimes use GZIP (ala HTML has a header for letting the receiver know if the body of the communication is GZIP&#39;ped)","body":"Finally, you probably want to structure your communication protocol to always or sometimes use GZIP (ala HTML has a header for letting the receiver know if the body of the communication is GZIP&#39;ped)"},{"owner":{"account_id":22580711,"reputation":1,"user_id":16765393,"display_name":"Vinayak Kushwaha"},"score":0,"creation_date":1667329003,"post_id":74280044,"comment_id":131140675,"body_markdown":"For testing purpose i am running multiple clients on the same machine , can this be a cause of these error?","body":"For testing purpose i am running multiple clients on the same machine , can this be a cause of these error?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667332742,"post_id":74280044,"comment_id":131141768,"body_markdown":"Yes/no.  If your firewall is somehow blocking requests, yes it could be the machine.  It also might not be.  If the code is just variable or there&#39;s a timing issue, that could also cause it.  Without code and a detailed description of the test, it could be anything.","body":"Yes/no.  If your firewall is somehow blocking requests, yes it could be the machine.  It also might not be.  If the code is just variable or there&#39;s a timing issue, that could also cause it.  Without code and a detailed description of the test, it could be anything."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1667332827,"post_id":74280044,"comment_id":131141798,"body_markdown":"@VinayakKushwaha It also just occurred to me that &quot;connection reset&quot; is also what you get when there&#39;s no server listening on a port.  So it definitely could be a timing issue, where the server isn&#39;t up and running before you launch the client.  This might be the most likely cause.","body":"@VinayakKushwaha It also just occurred to me that &quot;connection reset&quot; is also what you get when there&#39;s no server listening on a port.  So it definitely could be a timing issue, where the server isn&#39;t up and running before you launch the client.  This might be the most likely cause."}],"answers":[{"tags":[],"owner":{"account_id":3667837,"reputation":2435,"user_id":3055724,"display_name":"Duloren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667330805,"creation_date":1667330805,"answer_id":74280890,"question_id":74280044,"body_markdown":"One thing we always must have in mind whether programming network code is: later or sooner something wrong will happen: parcial data delivery, disconnection, duplicates, etc. Even using TCP (a transport layer protocol with some important guarantees), your application layer must assume that a very wide range of network problems will eventually happen. \r\n\r\nAlthough you didn&#39;t show your code, we can deduce by the stacktrace that you&#39;re exchange structured data, probably large structured data in the form of encoded java objects. \r\nThe problems with this strategy are:\r\n- if the objects are always the same shape, there are a considerable overhead of always being sending/reading this same metadata which can be avoided. The bigger the data, the prone to get network errors. Consider to encode only the required data in order to avoid continuously send the same metadata.\r\n- If even a small part of the serialized version of your object is missed or jammed, the received cannot restore the object. It is better than the scenario where the receiver tries to restore the object with incomplete or inconsistent data. As result, java thorws exceptions to sinalize it for you. Once you get an exception, you must to code what to do: ask to the remote pier resend the data, reconnect the socket, etc.\r\n\r\nWe cannot say exactly what happens to your code without see the code. But by what I can see, the solution is to properly implement the &quot;unhappy paths&quot; inside the catch blocks  \r\n","title":"How to handle socket exceptions to make a continuous flow of program in Java?","body":"<p>One thing we always must have in mind whether programming network code is: later or sooner something wrong will happen: parcial data delivery, disconnection, duplicates, etc. Even using TCP (a transport layer protocol with some important guarantees), your application layer must assume that a very wide range of network problems will eventually happen.</p>\n<p>Although you didn't show your code, we can deduce by the stacktrace that you're exchange structured data, probably large structured data in the form of encoded java objects.\nThe problems with this strategy are:</p>\n<ul>\n<li>if the objects are always the same shape, there are a considerable overhead of always being sending/reading this same metadata which can be avoided. The bigger the data, the prone to get network errors. Consider to encode only the required data in order to avoid continuously send the same metadata.</li>\n<li>If even a small part of the serialized version of your object is missed or jammed, the received cannot restore the object. It is better than the scenario where the receiver tries to restore the object with incomplete or inconsistent data. As result, java thorws exceptions to sinalize it for you. Once you get an exception, you must to code what to do: ask to the remote pier resend the data, reconnect the socket, etc.</li>\n</ul>\n<p>We cannot say exactly what happens to your code without see the code. But by what I can see, the solution is to properly implement the &quot;unhappy paths&quot; inside the catch blocks</p>\n"}],"owner":{"account_id":22580711,"reputation":1,"user_id":16765393,"display_name":"Vinayak Kushwaha"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667846894,"creation_date":1667325929,"question_id":74280044,"body_markdown":"I am creating a skribbl clone in Java using JavaFX and socket programming.\r\n\r\nI am sending data over a TCP connection using a objectinput/outputstream.\r\n\r\nEvery 2/5 times the application runs without any exception but other time it shows numerous socket related exception and I am not able to figure out why it is happening.\r\n\r\n```\r\n    java.net.SocketException: Connection reset\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\r\n\tat java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\r\n\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\r\n\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\r\n\tat java.base/java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2854)\r\n\tat java.base/java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:3181)\r\n\tat java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3191)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1621)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\r\n\tat com.nttd.wtdoodle.Client.Game.Server.PlayerHandler$1.run(PlayerHandler.java:54)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Error sending Message to clien\r\n```\r\n\r\n```\r\n    java.io.StreamCorruptedException: invalid type code: 00\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1701)\r\n\tat java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2479)\r\n\tat java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2373)\r\n\tat java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2211)\r\n\tat java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1670)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\r\n\tat java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\r\n\tat com.nttd.wtdoodle.Client.Game.Player.PtoSBridge$1.run(PtoSBridge.java:55)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n        Error sending Message to client\r\n```\r\n\r\nThere is one more exception which is the `ClassCastException`. I don&#39;t know why these exceptions are occurring sometimes but not all the time.\r\n\r\nI want to know if the objectoutput/inputstream will be suitable for this work or not.\r\n\r\nCan you suggest any other stream that will be useful for this purpose?\r\n\r\nThank You for all the replies and answer . I have changed the ObjectStream to BufferedReader and BufferedWriter and it solved my problem.","title":"How to handle socket exceptions to make a continuous flow of program in Java?","body":"<p>I am creating a skribbl clone in Java using JavaFX and socket programming.</p>\n<p>I am sending data over a TCP connection using a objectinput/outputstream.</p>\n<p>Every 2/5 times the application runs without any exception but other time it shows numerous socket related exception and I am not able to figure out why it is happening.</p>\n<pre><code>    java.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:186)\n    at java.base/java.net.SocketInputStream.read(SocketInputStream.java:140)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:252)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:271)\n    at java.base/java.io.ObjectInputStream$PeekInputStream.peek(ObjectInputStream.java:2854)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.peek(ObjectInputStream.java:3181)\n    at java.base/java.io.ObjectInputStream$BlockDataInputStream.peekByte(ObjectInputStream.java:3191)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1621)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\n    at com.nttd.wtdoodle.Client.Game.Server.PlayerHandler$1.run(PlayerHandler.java:54)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n        Error sending Message to clien\n</code></pre>\n<pre><code>    java.io.StreamCorruptedException: invalid type code: 00\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1701)\n    at java.base/java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2479)\n    at java.base/java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2373)\n    at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2211)\n    at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1670)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:488)\n    at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:446)\n    at com.nttd.wtdoodle.Client.Game.Player.PtoSBridge$1.run(PtoSBridge.java:55)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n        Error sending Message to client\n</code></pre>\n<p>There is one more exception which is the <code>ClassCastException</code>. I don't know why these exceptions are occurring sometimes but not all the time.</p>\n<p>I want to know if the objectoutput/inputstream will be suitable for this work or not.</p>\n<p>Can you suggest any other stream that will be useful for this purpose?</p>\n<p>Thank You for all the replies and answer . I have changed the ObjectStream to BufferedReader and BufferedWriter and it solved my problem.</p>\n"},{"tags":["java","spring-boot","flyway","spring-data-r2dbc"],"comments":[{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":0,"creation_date":1621712621,"post_id":64355106,"comment_id":119580514,"body_markdown":"I followed the [Getting Started R2DBC Tutorial](https://spring.io/guides/gs/accessing-data-r2dbc/) with Spring Boot 2.4.3 but noticed that the `ConnectionFactoryInitializer` Bean is deprecated. I&#39;m afraid the Spring Boot support for *schema.sql/data.sql* with R2DBC is going to be removed as indicated [here](https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390). I&#39;d suggest removing its Bean configuration from the Application class and use some 3rd party tool such as **Flyway** or **Liquibase**, as you did.","body":"I followed the <a href=\"https://spring.io/guides/gs/accessing-data-r2dbc/\" rel=\"nofollow noreferrer\">Getting Started R2DBC Tutorial</a> with Spring Boot 2.4.3 but noticed that the <code>ConnectionFactoryInitializer</code> Bean is deprecated. I&#39;m afraid the Spring Boot support for <i>schema.sql/data.sql</i> with R2DBC is going to be removed as indicated <a href=\"https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390\" rel=\"nofollow noreferrer\">here</a>. I&#39;d suggest removing its Bean configuration from the Application class and use some 3rd party tool such as <b>Flyway</b> or <b>Liquibase</b>, as you did."}],"answers":[{"comments":[{"owner":{"account_id":144818,"reputation":1521,"user_id":354164,"accept_rate":49,"display_name":"imalik8088"},"score":1,"creation_date":1602750794,"post_id":64358796,"comment_id":113820660,"body_markdown":"yeahh it worked, thanks. The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir. I&#39;ll expand my question with the solution.","body":"yeahh it worked, thanks. The issue was in the different syntax of url patterns and I was not able to configure it for in-memory there the file database in the same root folder instead of in the homedir. I&#39;ll expand my question with the solution."},{"owner":{"account_id":9507708,"reputation":2869,"user_id":7066647,"display_name":"dbaltor"},"score":0,"creation_date":1621712812,"post_id":64358796,"comment_id":119580558,"body_markdown":"I followed the [Getting Started R2DBC Tutorial](https://spring.io/guides/gs/accessing-data-r2dbc/) with Spring Boot 2.4.3 but noticed that the `ConnectionFactoryInitializer` Bean is deprecated. I&#39;m afraid the Spring Boot support for *schema.sql/data.sql* with R2DBC is going to be removed as indicated [here](https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390).","body":"I followed the <a href=\"https://spring.io/guides/gs/accessing-data-r2dbc/\" rel=\"nofollow noreferrer\">Getting Started R2DBC Tutorial</a> with Spring Boot 2.4.3 but noticed that the <code>ConnectionFactoryInitializer</code> Bean is deprecated. I&#39;m afraid the Spring Boot support for <i>schema.sql/data.sql</i> with R2DBC is going to be removed as indicated <a href=\"https://github.com/spring-projects/spring-boot/issues/20524#issuecomment-598745390\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":19195913,"reputation":408,"user_id":14024602,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1602699914,"creation_date":1602697479,"answer_id":64358796,"question_id":64355106,"body_markdown":"I am currently having the same problem using r2dbc with liquibase. I am suspecting that the JDBC url points to a different database due to a slightly different syntax between R2DB and JDBC. I can manage to get h2 running from the file system though...\r\n\r\n```\r\n    url: r2dbc:h2:file:///~/db/testdb\r\n...\r\n    url: jdbc:h2:file:~/db/testdb\r\n```\r\n\r\n**EDIT**: \r\n\r\nIn non-reactive Spring Data I&#39;d usually populate the Schema into the H2 memory database using a schema.sql/data.sql pair. This is also possible with R2DBC, but you have to configure the populator yourself.\r\n\r\nIt&#39;s also in the [Getting Started R2DBC Tutorial](https://spring.io/guides/gs/accessing-data-r2dbc/). Basically you have to register a ConnectionFactoryInitializer bean.\r\n\r\n\r\n```\r\n  @Bean\r\n  public ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n    var initializer = new ConnectionFactoryInitializer();\r\n    initializer.setConnectionFactory(connectionFactory);\r\n\r\n    var populator = new CompositeDatabasePopulator();\r\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\r\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\r\n    initializer.setDatabasePopulator(populator);\r\n\r\n    return initializer;\r\n  }\r\n```","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I am currently having the same problem using r2dbc with liquibase. I am suspecting that the JDBC url points to a different database due to a slightly different syntax between R2DB and JDBC. I can manage to get h2 running from the file system though...</p>\n<pre><code>    url: r2dbc:h2:file:///~/db/testdb\n...\n    url: jdbc:h2:file:~/db/testdb\n</code></pre>\n<p><strong>EDIT</strong>:</p>\n<p>In non-reactive Spring Data I'd usually populate the Schema into the H2 memory database using a schema.sql/data.sql pair. This is also possible with R2DBC, but you have to configure the populator yourself.</p>\n<p>It's also in the <a href=\"https://spring.io/guides/gs/accessing-data-r2dbc/\" rel=\"noreferrer\">Getting Started R2DBC Tutorial</a>. Basically you have to register a ConnectionFactoryInitializer bean.</p>\n<pre><code>  @Bean\n  public ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\n    var initializer = new ConnectionFactoryInitializer();\n    initializer.setConnectionFactory(connectionFactory);\n\n    var populator = new CompositeDatabasePopulator();\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;)));\n    populator.addPopulators(new ResourceDatabasePopulator(new ClassPathResource(&quot;data.sql&quot;)));\n    initializer.setDatabasePopulator(populator);\n\n    return initializer;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602991479,"creation_date":1602991479,"answer_id":64409417,"question_id":64355106,"body_markdown":"Flyway currently only supports the blocking JDBC APIs, and it is not compatible with the reactive r2dbc if possbile do not mix them in the same application.\r\n\r\n1. Try to register a `ConnectionFactoryInitializer` to initiate the database schema and data as @Chris posted, [my working example](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/DatabaseConfig.java#L83) can be found here.\r\n\r\n2. Try [nkonev/r2dbc-migrate](https://github.com/nkonev/r2dbc-migrate) which is trying to migrate the flyway to the R2dbc world.\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>Flyway currently only supports the blocking JDBC APIs, and it is not compatible with the reactive r2dbc if possbile do not mix them in the same application.</p>\n<ol>\n<li><p>Try to register a <code>ConnectionFactoryInitializer</code> to initiate the database schema and data as @Chris posted, <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/DatabaseConfig.java#L83\" rel=\"nofollow noreferrer\">my working example</a> can be found here.</p>\n</li>\n<li><p>Try <a href=\"https://github.com/nkonev/r2dbc-migrate\" rel=\"nofollow noreferrer\">nkonev/r2dbc-migrate</a> which is trying to migrate the flyway to the R2dbc world.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5111999,"reputation":7665,"user_id":4098311,"accept_rate":80,"display_name":"Halayem Anis"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1610004927,"creation_date":1610004927,"answer_id":65608274,"question_id":64355106,"body_markdown":"I&#39;ve faced the same issue to setup and access to h2 database in memory for tests:\r\n - Liquibase for database migration using **JDBC** driver \r\n - Tests Reactive Crud Repository using **R2DBC** driver\r\n\r\nError encoutred:&lt;br /&gt;\r\n&gt; org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO MY_TABLE... Table &quot;MY_TABLE&quot; not found ...\r\n\r\nInspired by Chris&#39;s solution, i configured my `src/testresources/application.properties` file as follow:\r\n\r\n    spring.r2dbc.url=r2dbc:h2:mem:///~/db/testdb\r\n    spring.r2dbc.username=sa\r\n    spring.r2dbc.password=\r\n    \r\n    spring.liquibase.url=jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\r\n    spring.liquibase.user=sa\r\n    spring.liquibase.password=\r\n    spring.liquibase.enabled=true\r\n\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I've faced the same issue to setup and access to h2 database in memory for tests:</p>\n<ul>\n<li>Liquibase for database migration using <strong>JDBC</strong> driver</li>\n<li>Tests Reactive Crud Repository using <strong>R2DBC</strong> driver</li>\n</ul>\n<p>Error encoutred:<br /></p>\n<blockquote>\n<p>org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO MY_TABLE... Table &quot;MY_TABLE&quot; not found ...</p>\n</blockquote>\n<p>Inspired by Chris's solution, i configured my <code>src/testresources/application.properties</code> file as follow:</p>\n<pre><code>spring.r2dbc.url=r2dbc:h2:mem:///~/db/testdb\nspring.r2dbc.username=sa\nspring.r2dbc.password=\n\nspring.liquibase.url=jdbc:h2:mem:~/db/testdb;DB_CLOSE_DELAY=-1\nspring.liquibase.user=sa\nspring.liquibase.password=\nspring.liquibase.enabled=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":228044,"reputation":408,"user_id":490108,"display_name":"anydoby"},"score":0,"creation_date":1639661382,"post_id":66275354,"comment_id":124409334,"body_markdown":"Indeed, key is to use the inMemory connection. My solution did not include 2 different configs. But the general idea is right: define Flyway bean in main configuration and override ConnectionFactory in a test context.","body":"Indeed, key is to use the inMemory connection. My solution did not include 2 different configs. But the general idea is right: define Flyway bean in main configuration and override ConnectionFactory in a test context."}],"tags":[],"owner":{"account_id":20754727,"reputation":21,"user_id":15241399,"display_name":"phlv"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613728665,"creation_date":1613728665,"answer_id":66275354,"question_id":64355106,"body_markdown":"I was able to get it working.\r\n\r\nFirst of all I created following test configuration class (because I want to execute tests only agains H2, on production mode I am using PostgreSQL):\r\n\r\n```\r\n@TestConfiguration\r\npublic class TestConfig {\r\n    @Bean\r\n    @Profile(&quot;test&quot;)\r\n    public ConnectionFactory connectionFactory() {\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Using H2 in mem R2DBC connection factory&quot;);\r\n        return H2ConnectionFactory.inMemory(&quot;testdb&quot;);\r\n    }\r\n\r\n    @Bean(initMethod = &quot;migrate&quot;)\r\n    @Profile(&quot;test&quot;)\r\n    public Flyway flyway() {\r\n        System.out.println(&quot;####### Using H2 in mem Flyway connection&quot;);\r\n        return new Flyway(Flyway.configure()\r\n                .baselineOnMigrate(true)\r\n                .dataSource(\r\n                        &quot;jdbc:h2:mem:testdb&quot;,\r\n                        &quot;sa&quot;,\r\n                        &quot;&quot;)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAs you can see in the code above, both beans are scoped to the &quot;test&quot; profile only. As you can imagine I have pretty much the same beans in a regular ApplicationConfiguration class but annotated as a `@Profile(&quot;default&quot;)` and configured to use a PostgreSQL.\r\n\r\nSecond thing is that I created annotation which combines several other annotations to not repeat myself and to easily pickup beans declared in the `TestConfig` class:\r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Inherited\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;test&quot;)\r\n@Import(TestConfig.class)\r\npublic @interface IntegrationTest {\r\n}\r\n```\r\n\r\nNow the test itself:\r\n\r\n```\r\n@IntegrationTest\r\nclass CartsIntegrationTest {\r\n // test methods here ....\r\n}\r\n```\r\n\r\nI believe the main hint is to use `H2ConnectionFactory.inMemory(&quot;testdb&quot;);` \r\n\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I was able to get it working.</p>\n<p>First of all I created following test configuration class (because I want to execute tests only agains H2, on production mode I am using PostgreSQL):</p>\n<pre><code>@TestConfiguration\npublic class TestConfig {\n    @Bean\n    @Profile(&quot;test&quot;)\n    public ConnectionFactory connectionFactory() {\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Using H2 in mem R2DBC connection factory&quot;);\n        return H2ConnectionFactory.inMemory(&quot;testdb&quot;);\n    }\n\n    @Bean(initMethod = &quot;migrate&quot;)\n    @Profile(&quot;test&quot;)\n    public Flyway flyway() {\n        System.out.println(&quot;####### Using H2 in mem Flyway connection&quot;);\n        return new Flyway(Flyway.configure()\n                .baselineOnMigrate(true)\n                .dataSource(\n                        &quot;jdbc:h2:mem:testdb&quot;,\n                        &quot;sa&quot;,\n                        &quot;&quot;)\n        );\n    }\n}\n</code></pre>\n<p>As you can see in the code above, both beans are scoped to the &quot;test&quot; profile only. As you can imagine I have pretty much the same beans in a regular ApplicationConfiguration class but annotated as a <code>@Profile(&quot;default&quot;)</code> and configured to use a PostgreSQL.</p>\n<p>Second thing is that I created annotation which combines several other annotations to not repeat myself and to easily pickup beans declared in the <code>TestConfig</code> class:</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@SpringBootTest\n@ActiveProfiles(&quot;test&quot;)\n@Import(TestConfig.class)\npublic @interface IntegrationTest {\n}\n</code></pre>\n<p>Now the test itself:</p>\n<pre><code>@IntegrationTest\nclass CartsIntegrationTest {\n // test methods here ....\n}\n</code></pre>\n<p>I believe the main hint is to use <code>H2ConnectionFactory.inMemory(&quot;testdb&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":129591,"reputation":5002,"user_id":328275,"accept_rate":97,"display_name":"axiopisty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667846807,"creation_date":1667846807,"answer_id":74351440,"question_id":64355106,"body_markdown":"There were 2 issues I was experiencing in my project.\r\n\r\n 1. I needed to include the dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n2. I needed to change the value for `spring.r2dbc.url` to `r2dbc:h2:mem:///test_db`\r\n\r\nWith these changes, rd2bc worked with an in memory h2 database for testing. See also:\r\n\r\nhttps://github.com/r2dbc/r2dbc-h2","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>There were 2 issues I was experiencing in my project.</p>\n<ol>\n<li><p>I needed to include the dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n    &lt;artifactId&gt;r2dbc-h2&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>I needed to change the value for <code>spring.r2dbc.url</code> to <code>r2dbc:h2:mem:///test_db</code></p>\n</li>\n</ol>\n<p>With these changes, rd2bc worked with an in memory h2 database for testing. See also:</p>\n<p><a href=\"https://github.com/r2dbc/r2dbc-h2\" rel=\"nofollow noreferrer\">https://github.com/r2dbc/r2dbc-h2</a></p>\n"}],"owner":{"account_id":144818,"reputation":1521,"user_id":354164,"accept_rate":49,"display_name":"imalik8088"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16424,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":64358796,"answer_count":5,"score":17,"last_activity_date":1667846807,"creation_date":1602684432,"question_id":64355106,"body_markdown":"I&#39;m playing around with Spring Boot and the reactive jdbc driver called r2dbc. In my main application I&#39;m using Postgres as a database and now I want to the use h2 for the tests. And the Flyway migration is working with the setup but when the Spring application is able to insert records.\r\n\r\nHere is my setup and code\r\n\r\n    @SpringBootTest\r\n    class CustomerRepositoryTest {\r\n    \r\n        @Autowired\r\n        CustomerRepository repository;\r\n    \r\n        @Test\r\n        void insertToDatabase() {\r\n            repository.saveAll(List.of(new Customer(&quot;Jack&quot;, &quot;Bauer&quot;),\r\n                    new Customer(&quot;Chloe&quot;, &quot;O&#39;Brian&quot;),\r\n                    new Customer(&quot;Kim&quot;, &quot;Bauer&quot;),\r\n                    new Customer(&quot;David&quot;, &quot;Palmer&quot;),\r\n                    new Customer(&quot;Michelle&quot;, &quot;Dessler&quot;)))\r\n                    .blockLast(Duration.ofSeconds(10));\r\n        }\r\n    }\r\n\r\n\r\nHere is the **error** that I&#39;m getting\r\n\r\n     :: Spring Boot ::        (v2.3.4.RELEASE)\r\n    \r\n    2020-10-14 15:59:18.538  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Starting CustomerRepositoryTest on imalik8088.fritz.box with PID 25279 (started by imalik in /Users/imalik/code/private/explore-java/spring-example)\r\n    2020-10-14 15:59:18.540  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : No active profile set, falling back to default profiles: default\r\n    2020-10-14 15:59:19.108  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\r\n    2020-10-14 15:59:19.273  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 1 R2DBC repository interfaces.\r\n    2020-10-14 15:59:19.894  INFO 25279 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.5.0 by Redgate\r\n    2020-10-14 15:59:20.052  INFO 25279 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:h2:mem:///DBNAME (H2 1.4)\r\n    2020-10-14 15:59:20.118  INFO 25279 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.022s)\r\n    2020-10-14 15:59:20.131  INFO 25279 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table &quot;PUBLIC&quot;.&quot;flyway_schema_history&quot; ...\r\n    2020-10-14 15:59:20.175  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: &lt;&lt; Empty Schema &gt;&gt;\r\n    2020-10-14 15:59:20.178  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;PUBLIC&quot; to version 1.0.0 - schma\r\n    2020-10-14 15:59:20.204  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema &quot;PUBLIC&quot; (execution time 00:00.036s)\r\n    2020-10-14 15:59:20.689  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Started CustomerRepositoryTest in 2.466 seconds (JVM running for 3.326)\r\n    \r\n    2020-10-14 15:59:21.115 DEBUG 25279 --- [           main] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]\r\n    \r\n    \r\n    org.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [42102] [42S02] Tabelle &quot;CUSTOMER&quot; nicht gefunden\r\n    Table &quot;CUSTOMER&quot; not found; SQL statement:\r\n    INSERT INTO customer (first_name, last_name) VALUES ($1, $2) [42102-200]\r\n\r\n\r\nMy src/test/resources/application.yaml is looking like this:\r\n\r\n    spring:\r\n      r2dbc:\r\n        url: r2dbc:h2:mem:///DBNAME?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n        username: sa\r\n        password:\r\n    \r\n      flyway:\r\n        url: jdbc:h2:mem:///DBNAME\r\n        baseline-on-migrate: true\r\n        user: sa\r\n        password:\r\n\r\n\r\nAny ideas whats missing missing or whats wrong with the setup? If further information is needed please let me know.\r\n\r\n### Addition/Solution:\r\n\r\nThe url pattern is different between jdbc and r2dbc. The working solution for me is as follows:\r\n\r\n    url: r2dbc:h2:file:///./tmp/test-database\r\n    url: jdbc:h2:file:./tmp/test-database\r\n\r\nAnd In order to setup Flyway you have to Configure Flyway:\r\n\r\n    // Flyway is not compatible with r2dbc yet, therefore this config class is created\r\n    @Configuration\r\n    public class FlywayConfig {\r\n    \r\n        private final Environment env;\r\n    \r\n        public FlywayConfig(final Environment env) {\r\n            this.env = env;\r\n        }\r\n    \r\n        @Bean(initMethod = &quot;migrate&quot;)\r\n        public Flyway flyway() {\r\n            return new Flyway(Flyway.configure()\r\n                    .baselineOnMigrate(true)\r\n                    .dataSource(\r\n                            env.getRequiredProperty(&quot;spring.flyway.url&quot;),\r\n                            env.getRequiredProperty(&quot;spring.flyway.user&quot;),\r\n                            env.getRequiredProperty(&quot;spring.flyway.password&quot;))\r\n            );\r\n        }\r\n    }\r\n\r\n","title":"Setup h2 in spring boot application with r2dbc and flyway","body":"<p>I'm playing around with Spring Boot and the reactive jdbc driver called r2dbc. In my main application I'm using Postgres as a database and now I want to the use h2 for the tests. And the Flyway migration is working with the setup but when the Spring application is able to insert records.</p>\n<p>Here is my setup and code</p>\n<pre><code>@SpringBootTest\nclass CustomerRepositoryTest {\n\n    @Autowired\n    CustomerRepository repository;\n\n    @Test\n    void insertToDatabase() {\n        repository.saveAll(List.of(new Customer(&quot;Jack&quot;, &quot;Bauer&quot;),\n                new Customer(&quot;Chloe&quot;, &quot;O'Brian&quot;),\n                new Customer(&quot;Kim&quot;, &quot;Bauer&quot;),\n                new Customer(&quot;David&quot;, &quot;Palmer&quot;),\n                new Customer(&quot;Michelle&quot;, &quot;Dessler&quot;)))\n                .blockLast(Duration.ofSeconds(10));\n    }\n}\n</code></pre>\n<p>Here is the <strong>error</strong> that I'm getting</p>\n<pre><code> :: Spring Boot ::        (v2.3.4.RELEASE)\n\n2020-10-14 15:59:18.538  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Starting CustomerRepositoryTest on imalik8088.fritz.box with PID 25279 (started by imalik in /Users/imalik/code/private/explore-java/spring-example)\n2020-10-14 15:59:18.540  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : No active profile set, falling back to default profiles: default\n2020-10-14 15:59:19.108  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2020-10-14 15:59:19.273  INFO 25279 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 160ms. Found 1 R2DBC repository interfaces.\n2020-10-14 15:59:19.894  INFO 25279 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 6.5.0 by Redgate\n2020-10-14 15:59:20.052  INFO 25279 --- [           main] o.f.c.internal.database.DatabaseFactory  : Database: jdbc:h2:mem:///DBNAME (H2 1.4)\n2020-10-14 15:59:20.118  INFO 25279 --- [           main] o.f.core.internal.command.DbValidate     : Successfully validated 1 migration (execution time 00:00.022s)\n2020-10-14 15:59:20.131  INFO 25279 --- [           main] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table &quot;PUBLIC&quot;.&quot;flyway_schema_history&quot; ...\n2020-10-14 15:59:20.175  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Current version of schema &quot;PUBLIC&quot;: &lt;&lt; Empty Schema &gt;&gt;\n2020-10-14 15:59:20.178  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Migrating schema &quot;PUBLIC&quot; to version 1.0.0 - schma\n2020-10-14 15:59:20.204  INFO 25279 --- [           main] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema &quot;PUBLIC&quot; (execution time 00:00.036s)\n2020-10-14 15:59:20.689  INFO 25279 --- [           main] i.g.i.repository.CustomerRepositoryTest  : Started CustomerRepositoryTest in 2.466 seconds (JVM running for 3.326)\n\n2020-10-14 15:59:21.115 DEBUG 25279 --- [           main] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]\n\n\norg.springframework.data.r2dbc.BadSqlGrammarException: executeMany; bad SQL grammar [INSERT INTO customer (first_name, last_name) VALUES ($1, $2)]; nested exception is io.r2dbc.spi.R2dbcBadGrammarException: [42102] [42S02] Tabelle &quot;CUSTOMER&quot; nicht gefunden\nTable &quot;CUSTOMER&quot; not found; SQL statement:\nINSERT INTO customer (first_name, last_name) VALUES ($1, $2) [42102-200]\n</code></pre>\n<p>My src/test/resources/application.yaml is looking like this:</p>\n<pre><code>spring:\n  r2dbc:\n    url: r2dbc:h2:mem:///DBNAME?options=DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n    username: sa\n    password:\n\n  flyway:\n    url: jdbc:h2:mem:///DBNAME\n    baseline-on-migrate: true\n    user: sa\n    password:\n</code></pre>\n<p>Any ideas whats missing missing or whats wrong with the setup? If further information is needed please let me know.</p>\n<h3>Addition/Solution:</h3>\n<p>The url pattern is different between jdbc and r2dbc. The working solution for me is as follows:</p>\n<pre><code>url: r2dbc:h2:file:///./tmp/test-database\nurl: jdbc:h2:file:./tmp/test-database\n</code></pre>\n<p>And In order to setup Flyway you have to Configure Flyway:</p>\n<pre><code>// Flyway is not compatible with r2dbc yet, therefore this config class is created\n@Configuration\npublic class FlywayConfig {\n\n    private final Environment env;\n\n    public FlywayConfig(final Environment env) {\n        this.env = env;\n    }\n\n    @Bean(initMethod = &quot;migrate&quot;)\n    public Flyway flyway() {\n        return new Flyway(Flyway.configure()\n                .baselineOnMigrate(true)\n                .dataSource(\n                        env.getRequiredProperty(&quot;spring.flyway.url&quot;),\n                        env.getRequiredProperty(&quot;spring.flyway.user&quot;),\n                        env.getRequiredProperty(&quot;spring.flyway.password&quot;))\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846481,"post_id":74351331,"comment_id":131260641,"body_markdown":"I would call your resources directory &#39;images&#39;:\n[Netbeans](https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans)","body":"I would call your resources directory &#39;images&#39;: <a href=\"https://technojeeves.com/index.php/aliasjava1/78-loading-files-as-resources-in-java-with-netbeans\" rel=\"nofollow noreferrer\">Netbeans</a>"},{"owner":{"account_id":26852304,"reputation":11,"user_id":20437049,"display_name":"Lukas Haberly"},"score":0,"creation_date":1667846599,"post_id":74351331,"comment_id":131260680,"body_markdown":"I did, issue is that It won&#39;t fetch the image, I&#39;ve tried images, res, resolutions, etc. and I cant find any fix, its just not fetching the image (I tested it by putting a print line)","body":"I did, issue is that It won&#39;t fetch the image, I&#39;ve tried images, res, resolutions, etc. and I cant find any fix, its just not fetching the image (I tested it by putting a print line)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846782,"post_id":74351331,"comment_id":131260740,"body_markdown":"Please post your full stack trace (*as code*). That vestigial error message doesn&#39;t seem to have much connection with the code you posted","body":"Please post your full stack trace (<i>as code</i>). That vestigial error message doesn&#39;t seem to have much connection with the code you posted"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1667938477,"post_id":74351331,"comment_id":131286572,"body_markdown":"@g00se The stack trace error message does have a connection to the code posted - it&#39;s coming from a call to `ImageIO.read()`.","body":"@g00se The stack trace error message does have a connection to the code posted - it&#39;s coming from a call to <code>ImageIO.read()</code>."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1667938588,"post_id":74351331,"comment_id":131286612,"body_markdown":"@LukasHaberly [Have a look at these SO questions](https://stackoverflow.com/search?q=%22java.lang.IllegalArgumentException%3A+input+%3D%3D+null%21%22+%22ImageIO.read%22), and their comments and answers, for problems similar to yours. If none of that helps, update your question to state what you tried that did not work. And regardless of that, update your question to show the stack trace. It would also be helpful if you identified the failing line in your code. It&#39;s probably (but not necessarily)  `up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));`, right?","body":"@LukasHaberly <a href=\"https://stackoverflow.com/search?q=%22java.lang.IllegalArgumentException%3A+input+%3D%3D+null%21%22+%22ImageIO.read%22\">Have a look at these SO questions</a>, and their comments and answers, for problems similar to yours. If none of that helps, update your question to state what you tried that did not work. And regardless of that, update your question to show the stack trace. It would also be helpful if you identified the failing line in your code. It&#39;s probably (but not necessarily)  <code>up1 = ImageIO.read(getClass().getResourceAsStream(&quot;&#47;player&#47;boy_up_&zwnj;&#8203;1.png&quot;));</code>, right?"}],"owner":{"account_id":26852304,"reputation":11,"user_id":20437049,"display_name":"Lukas Haberly"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667846209,"creation_date":1667846209,"question_id":74351331,"body_markdown":"\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n\r\nThe code I have is:\r\n\r\n\r\n```\r\n    public void getPlayerImage(){\r\n    try {\r\n          System.out.println(&quot;Somethings wrong if u dont see gay&quot;);\r\n          up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\r\n          up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\r\n          down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\r\n          down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\r\n          left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\r\n          left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\r\n          right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\r\n          right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_2.png&quot;));\r\n          System.out.println(&quot;Gay&quot;);\r\n                  \r\n    }catch(IOException e) {\r\n        e.printStackTrace();\r\n    }}\r\n```\r\n\r\n\r\nI&#39;m currently trying to make a 2D game application, and i&#39;ve been fiddling with this code for hours, I&#39;m somewhat new to Java and have no clue what i&#39;m doing, now, im not sure but I think it could be because it&#39;s not a source package that the images are located in, yet I&#39;m not sure how to do that (I&#39;m using Netbeans IDE) Any help would be greatly appreciated!!!","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null! Error","body":"<p>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!</p>\n<p>The code I have is:</p>\n<pre><code>    public void getPlayerImage(){\n    try {\n          System.out.println(&quot;Somethings wrong if u dont see gay&quot;);\n          up1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_1.png&quot;));\n          up2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_up_2.png&quot;));\n          down1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_1.png&quot;));\n          down2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_down_2.png&quot;));\n          left1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_1.png&quot;));\n          left2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_left_2.png&quot;));\n          right1 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_1.png&quot;));\n          right2 = ImageIO.read(getClass().getResourceAsStream(&quot;/player/boy_right_2.png&quot;));\n          System.out.println(&quot;Gay&quot;);\n                  \n    }catch(IOException e) {\n        e.printStackTrace();\n    }}\n</code></pre>\n<p>I'm currently trying to make a 2D game application, and i've been fiddling with this code for hours, I'm somewhat new to Java and have no clue what i'm doing, now, im not sure but I think it could be because it's not a source package that the images are located in, yet I'm not sure how to do that (I'm using Netbeans IDE) Any help would be greatly appreciated!!!</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":3665721,"reputation":360,"user_id":3054221,"display_name":"monterico"},"score":0,"creation_date":1423391610,"post_id":28392747,"comment_id":45122621,"body_markdown":"your answer is different than the @singhakash. so what is the best practice ?","body":"your answer is different than the @singhakash. so what is the best practice ?"}],"answers":[{"tags":[],"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"comment_count":0,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1423391218,"creation_date":1423391218,"answer_id":28392898,"question_id":28392747,"body_markdown":"&gt; if we call EntityTransaction.commit(), does it automatically call\r\n&gt; EntityManager.flush()?\r\n\r\nYes\r\n\r\n&gt; what is the difference?\r\n\r\nIn flush()  the changes to the data are reflected in database after encountering flush, but it is still in transaction.flush() MUST be enclosed in a transaction context and you don&#39;t have to do it explicitly unless needed (in rare cases), when EntityTransaction.commit() does that for you.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11048177/entitymanager-flush-vs-entitymanager-gettransaction-commit-what-should-i-p","title":"JPA flush vs commit","body":"<blockquote>\n  <p>if we call EntityTransaction.commit(), does it automatically call\n  EntityManager.flush()?</p>\n</blockquote>\n\n<p>Yes</p>\n\n<blockquote>\n  <p>what is the difference?</p>\n</blockquote>\n\n<p>In flush()  the changes to the data are reflected in database after encountering flush, but it is still in transaction.flush() MUST be enclosed in a transaction context and you don't have to do it explicitly unless needed (in rare cases), when EntityTransaction.commit() does that for you.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11048177/entitymanager-flush-vs-entitymanager-gettransaction-commit-what-should-i-p\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":446482,"reputation":8211,"user_id":839554,"accept_rate":79,"display_name":"giannis christofakis"},"score":2,"creation_date":1601037957,"post_id":47312060,"comment_id":113287350,"body_markdown":"This answer is almost irrelevant to the question, but very informative regardless.","body":"This answer is almost irrelevant to the question, but very informative regardless."}],"tags":[],"owner":{"account_id":2378682,"reputation":832,"user_id":2081279,"display_name":"Thomas Sch&#252;tt"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510761837,"creation_date":1510761837,"answer_id":47312060,"question_id":28392747,"body_markdown":"If you have a @Version annotated column in your entity and call entityManager.flush(), then you will either (immediately!) get an OptimisticLockException, or the database will lock this row (or table). In the later case you can still call setRollbackOnly(), and the lock will later be released without a DB change.\r\n\r\nOr from a different perspective, with flush() you can create a (pessimistic) lock on that database row. The others will still see the old entry, but if they try to update they will be blocked, until the lock is released.\r\n\r\nAll this is also true for CMT (container managed transactions). Instead of waiting for the moment, where the service method is finished and the CMT commit is performed, you can call flush() (even several times) in your service method and handle the OptimisticLockException(s) immediately.\r\n","title":"JPA flush vs commit","body":"<p>If you have a @Version annotated column in your entity and call entityManager.flush(), then you will either (immediately!) get an OptimisticLockException, or the database will lock this row (or table). In the later case you can still call setRollbackOnly(), and the lock will later be released without a DB change.</p>\n\n<p>Or from a different perspective, with flush() you can create a (pessimistic) lock on that database row. The others will still see the old entry, but if they try to update they will be blocked, until the lock is released.</p>\n\n<p>All this is also true for CMT (container managed transactions). Instead of waiting for the moment, where the service method is finished and the CMT commit is performed, you can call flush() (even several times) in your service method and handle the OptimisticLockException(s) immediately.</p>\n"},{"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":1,"creation_date":1638457510,"post_id":54800433,"comment_id":124098051,"body_markdown":"Link is broken, can you update?","body":"Link is broken, can you update?"}],"tags":[],"owner":{"account_id":2662065,"reputation":1292,"user_id":2301494,"display_name":"Sanchi Girotra"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1667845617,"creation_date":1550729689,"answer_id":54800433,"question_id":28392747,"body_markdown":"**em.flush()** - It saves the entity immediately to the database with in a transaction to be used further and it can be rolled back.\r\n\r\n**em.getTransaction().commit** - It marks the end of transaction and saves all the changes with in the transaction into the database and it can&#39;t be rolled back.\r\n\r\nRefer https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp","title":"JPA flush vs commit","body":"<p><strong>em.flush()</strong> - It saves the entity immediately to the database with in a transaction to be used further and it can be rolled back.</p>\n<p><strong>em.getTransaction().commit</strong> - It marks the end of transaction and saves all the changes with in the transaction into the database and it can't be rolled back.</p>\n<p>Refer <a href=\"https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp\" rel=\"nofollow noreferrer\">https://prismoskills.appspot.com/lessons/Hibernate/Chapter_14_-_Flush_vs_Commit.jsp</a></p>\n"}],"owner":{"account_id":3665721,"reputation":360,"user_id":3054221,"display_name":"monterico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44837,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":28392898,"answer_count":3,"score":12,"last_activity_date":1667845617,"creation_date":1423390144,"question_id":28392747,"body_markdown":"in JPA, if we call EntityTransaction.commit(), does it automatically call EntityManager.flush()? or should we call them both? what is the difference? because i have problem with JPA, when i insert an entity to database, i call persist(). in the database, the data has been inserted (can be fetched), but that data doesn&#39;t show up in my app (i fetch it using findAll()). and on another entity, it showed up. is there something i don&#39;t know? i&#39;m using standard Spring CRUD, JPA resource_local, and postgresql. sorry for my english, thanks in advance","title":"JPA flush vs commit","body":"<p>in JPA, if we call EntityTransaction.commit(), does it automatically call EntityManager.flush()? or should we call them both? what is the difference? because i have problem with JPA, when i insert an entity to database, i call persist(). in the database, the data has been inserted (can be fetched), but that data doesn't show up in my app (i fetch it using findAll()). and on another entity, it showed up. is there something i don't know? i'm using standard Spring CRUD, JPA resource_local, and postgresql. sorry for my english, thanks in advance</p>\n"},{"tags":["java","android","inheritance","heremaps","heremaps-android-sdk"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845224,"creation_date":1667845224,"answer_id":74351148,"question_id":74350663,"body_markdown":"What you are asking for is multiple inheritance. You want a class to inherit from **both**  `HereMapClass` and `AppCompatActivity`. That isn&#39;t possible in Java as Java language does not support multiple inheritance.\r\n\r\nSince you are building an `Activity`, you **must** inherit from `AppCompatActivity`. Therefore, to use `HereMapClass` you will need to use delegation instead of inheritance.\r\n\r\nCreate an instance of `HereMapClass` and store a reference in a member variable in your `Activity`. When you want to use `HereMapClass`, simply call methods on your instance of the class.\r\n\r\nBasically, you are &quot;delegating&quot; some responsibility to the instance of `HereMapClass`.","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>What you are asking for is multiple inheritance. You want a class to inherit from <strong>both</strong>  <code>HereMapClass</code> and <code>AppCompatActivity</code>. That isn't possible in Java as Java language does not support multiple inheritance.</p>\n<p>Since you are building an <code>Activity</code>, you <strong>must</strong> inherit from <code>AppCompatActivity</code>. Therefore, to use <code>HereMapClass</code> you will need to use delegation instead of inheritance.</p>\n<p>Create an instance of <code>HereMapClass</code> and store a reference in a member variable in your <code>Activity</code>. When you want to use <code>HereMapClass</code>, simply call methods on your instance of the class.</p>\n<p>Basically, you are &quot;delegating&quot; some responsibility to the instance of <code>HereMapClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":10865275,"reputation":151,"user_id":7988864,"display_name":"moondev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845603,"creation_date":1667845603,"answer_id":74351225,"question_id":74350663,"body_markdown":"Use delegation instead of inheritance. \r\nUnlike some other object oriented programming languages, Java doesnt provide support for multiple inheritance in classes. More info on that: https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\r\n\r\nFor your use case, you could create an interface (ignore the naming :))\r\n\r\n        public interface HereMap {\r\n        void onProgress();\r\n        void populateInstalledMaps();\r\n    }\r\n\r\nCreate an implementation of that interface: \r\n\r\n    public class IHereMapImpl implements IHereMap {\r\n        @Override\r\n        public void onProgress() {\r\n            //add logic\r\n        }\r\n    \r\n        @Override\r\n        public void populateInstalledMaps() {\r\n            ////add logic\r\n        }\r\n    }\r\n\r\nuse this interface around where you need: \r\n\r\npublic class HereMap extends AppCompatActivity  {\r\n\r\n        private IHereMap iHereMap;\r\n    \r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            iHereMap = new IHereMapImpl();\r\n            iHereMap.onProgress();\r\n            iHereMap.populateInstalledMaps();\r\n        }\r\n    }\r\n\r\n\r\nRecommendation: [Android Architecture Guide][1]\r\n\r\nHope it helps :)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/architecture?gclid=CjwKCAiA9qKbBhAzEiwAS4yeDYhM1SDEvczGfGyydvS7dB_itgk7EHSBEr0dpBoKK_VZv9mNtMGVbxoCk8EQAvD_BwE&amp;gclsrc=aw.ds","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>Use delegation instead of inheritance.\nUnlike some other object oriented programming languages, Java doesnt provide support for multiple inheritance in classes. More info on that: <a href=\"https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/multiple-inheritance-in-java</a></p>\n<p>For your use case, you could create an interface (ignore the naming :))</p>\n<pre><code>    public interface HereMap {\n    void onProgress();\n    void populateInstalledMaps();\n}\n</code></pre>\n<p>Create an implementation of that interface:</p>\n<pre><code>public class IHereMapImpl implements IHereMap {\n    @Override\n    public void onProgress() {\n        //add logic\n    }\n\n    @Override\n    public void populateInstalledMaps() {\n        ////add logic\n    }\n}\n</code></pre>\n<p>use this interface around where you need:</p>\n<p>public class HereMap extends AppCompatActivity  {</p>\n<pre><code>    private IHereMap iHereMap;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        iHereMap = new IHereMapImpl();\n        iHereMap.onProgress();\n        iHereMap.populateInstalledMaps();\n    }\n}\n</code></pre>\n<p>Recommendation: <a href=\"https://developer.android.com/topic/architecture?gclid=CjwKCAiA9qKbBhAzEiwAS4yeDYhM1SDEvczGfGyydvS7dB_itgk7EHSBEr0dpBoKK_VZv9mNtMGVbxoCk8EQAvD_BwE&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Android Architecture Guide</a></p>\n<p>Hope it helps :)</p>\n"}],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"lostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667845603,"creation_date":1667842600,"question_id":74350663,"body_markdown":"I am quite new to Android, and I don&#39;t know how to inherit from the class &#39;HereMapClass&#39;, in my case, into an activity &#39;HereMap&#39; that extends AppCompatActivity?\r\n\r\nI think there is code in double, the goal is to have the main class that inherit all the functions of the HereMapClass. I would like to get the class HereMapClass to manage the download of map etc... and the main class just to manage the map visually on the phone in a fragment. I did it that way because I need to use the class separate as I use it in multiple place in the code but without needing to display the map visually.\r\n\r\nHere is the code of the Main class :\r\n\r\n**HereMap Class activity:**\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    public class HereMap extends AppCompatActivity {\r\n    \r\n        private MapView view;\r\n        private AndroidXMapFragment mapFragment = null;\r\n        private MapRoute m_mapRoute;\r\n        JSONArray jsonPoints;\r\n        JSONArray jsArray;\r\n        ArrayList&lt;String&gt; poiArr;\r\n        String gpsFolder;\r\n        String poiFolder;\r\n        String loopName = &quot;&quot;;\r\n        String loopLang = &quot;&quot;;\r\n        String loopEvent = &quot;&quot;;\r\n    \r\n        Context mContext;\r\n        Intent intent;\r\n        Bundle bundle2;\r\n    \r\n    \r\n        private final static String TAG = HereMap.class.getSimpleName();\r\n        private MapView mapView;\r\n        private Map map;\r\n        private static Image m_marker_image;\r\n        //MapScreenMarker m_tap_marker;\r\n        MapMarker m_tap_marker2;\r\n        private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\r\n        private String currentInstalledMapsString;\r\n        private ProgressBar downloadProgressBar;\r\n        private PositioningManager positioningManager = null;\r\n        private PositioningManager.OnPositionChangedListener positionListener;\r\n        private GeoCoordinate currentPosition;\r\n    \r\n    \r\n        // listener for MapLoader\r\n        private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n    \r\n            @Override\r\n            public void onProgress(int progress) {\r\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n                downloadProgressBar.setProgress(progress);\r\n            }\r\n    \r\n            @Override\r\n            public void onInstallationSize(long diskSize, long networkSize) {\r\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n            }\r\n    \r\n            @Override\r\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                 MapLoader.ResultCode resultCode) {\r\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n    \r\n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n                    populateInstalledMaps(rootMapPackage);\r\n                } else {\r\n                    Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                    Toast.makeText(HereMap.this,\r\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n    \r\n                StringBuilder sb = new StringBuilder();\r\n                for (MapPackage pac : currentInstalledMaps) {\r\n                    sb.append(pac.getTitle());\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                currentInstalledMapsString = sb.toString();\r\n            }\r\n    \r\n    \r\n            private void populateInstalledMaps(MapPackage pac) {\r\n                // only take installed root package, so if e.g. Germany is installed,\r\n                // don&#39;t check for children states\r\n                if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\r\n                    Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\r\n                    currentInstalledMaps.add(pac);\r\n                } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\r\n                    for (MapPackage p : pac.getChildren()) {\r\n                        populateInstalledMaps(p);\r\n                    }\r\n                }\r\n            }\r\n    ...\r\n\r\nHere is the class to inherit into the main one:\r\n\r\n**HereMapClass:**\r\n\r\n    public class HereMapClass {\r\n    \r\n        private MapView view;\r\n        private AndroidXMapFragment mapFragment = null;\r\n        private MapRoute m_mapRoute;\r\n        private  MapEngine mapEngine;\r\n        private MapLoader mapLoader;\r\n    \r\n        JSONArray jsonPoints;\r\n        JSONArray jsArray;\r\n        ArrayList&lt;String&gt; poiArr;\r\n        String gpsFolder;\r\n        String poiFolder;\r\n        String loopName = &quot;&quot;;\r\n        String loopLang = &quot;&quot;;\r\n        String loopEvent = &quot;&quot;;\r\n    \r\n        Context mContext;\r\n        Intent intent;\r\n        Bundle bundle2;\r\n    \r\n    \r\n        private final static String TAG = HereMap.class.getSimpleName();\r\n        private MapView mapView;\r\n        private Map map;\r\n        private static Image m_marker_image;\r\n        //MapScreenMarker m_tap_marker;\r\n        MapMarker m_tap_marker2;\r\n        private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\r\n        private String currentInstalledMapsString;\r\n        private ProgressBar downloadProgressBar;\r\n        private PositioningManager positioningManager = null;\r\n        private PositioningManager.OnPositionChangedListener positionListener;\r\n        private GeoCoordinate currentPosition;\r\n    \r\n        private Context context;\r\n    \r\n        public HereMapClass(Context context){\r\n            this.context=context;\r\n        }\r\n    \r\n        // listener for MapLoader\r\n        private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\r\n                @Override\r\n                public void onProgress(int progress) {\r\n                    Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\r\n                    downloadProgressBar.setProgress(progress);\r\n                }\r\n    \r\n                @Override\r\n                public void onInstallationSize(long diskSize, long networkSize) {\r\n                    Log.i(TAG, &quot;Map data require &quot; + diskSize);\r\n                }\r\n    \r\n                @Override\r\n                public void onGetMapPackagesComplete(MapPackage rootMapPackage,\r\n                                                     MapLoader.ResultCode resultCode) {\r\n                    if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\r\n                        Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\r\n    \r\n                        currentInstalledMaps = new ArrayList&lt;&gt;(1);\r\n    \r\n                        populateInstalledMaps(rootMapPackage);\r\n    \r\n    \r\n                    } else {\r\n                        Log.e(TAG, &quot;Can&#39;t retrieve map packages: &quot; + resultCode.name());\r\n                        Toast.makeText(context,\r\n                                &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n    \r\n                    StringBuilder sb = new StringBuilder();\r\n                    for (MapPackage pac : currentInstalledMaps) {\r\n                        sb.append(pac.getTitle());\r\n                        sb.append(&quot;\\n&quot;);\r\n                    }\r\n    \r\n                    currentInstalledMapsString = sb.toString();\r\n                }\r\n    \r\n    \r\n                private void populateInstalledMaps(MapPackage pac) {\r\n                    // only take installed root package, so if e.g. Germany is installed,\r\n                    // don&#39;t check for children states\r\n                    if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\r\n                        Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\r\n                        currentInstalledMaps.add(pac);\r\n                    } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\r\n                        for (MapPackage p : pac.getChildren()) {\r\n                            populateInstalledMaps(p);\r\n                        }\r\n                    }\r\n    \r\n                    //continuez &#224; installer\r\n                    //lancer notification pour login\r\n                    \r\n                }\r\n    ...\r\n\r\nBest regards\r\n","title":"Android/Java: How to inherit from a class into an activity that extends AppCompatActivity?","body":"<p>I am quite new to Android, and I don't know how to inherit from the class 'HereMapClass', in my case, into an activity 'HereMap' that extends AppCompatActivity?</p>\n<p>I think there is code in double, the goal is to have the main class that inherit all the functions of the HereMapClass. I would like to get the class HereMapClass to manage the download of map etc... and the main class just to manage the map visually on the phone in a fragment. I did it that way because I need to use the class separate as I use it in multiple place in the code but without needing to display the map visually.</p>\n<p>Here is the code of the Main class :</p>\n<p><strong>HereMap Class activity:</strong></p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\npublic class HereMap extends AppCompatActivity {\n\n    private MapView view;\n    private AndroidXMapFragment mapFragment = null;\n    private MapRoute m_mapRoute;\n    JSONArray jsonPoints;\n    JSONArray jsArray;\n    ArrayList&lt;String&gt; poiArr;\n    String gpsFolder;\n    String poiFolder;\n    String loopName = &quot;&quot;;\n    String loopLang = &quot;&quot;;\n    String loopEvent = &quot;&quot;;\n\n    Context mContext;\n    Intent intent;\n    Bundle bundle2;\n\n\n    private final static String TAG = HereMap.class.getSimpleName();\n    private MapView mapView;\n    private Map map;\n    private static Image m_marker_image;\n    //MapScreenMarker m_tap_marker;\n    MapMarker m_tap_marker2;\n    private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\n    private String currentInstalledMapsString;\n    private ProgressBar downloadProgressBar;\n    private PositioningManager positioningManager = null;\n    private PositioningManager.OnPositionChangedListener positionListener;\n    private GeoCoordinate currentPosition;\n\n\n    // listener for MapLoader\n    private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n\n        @Override\n        public void onProgress(int progress) {\n            Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n            downloadProgressBar.setProgress(progress);\n        }\n\n        @Override\n        public void onInstallationSize(long diskSize, long networkSize) {\n            Log.i(TAG, &quot;Map data require &quot; + diskSize);\n        }\n\n        @Override\n        public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                             MapLoader.ResultCode resultCode) {\n            if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n\n                currentInstalledMaps = new ArrayList&lt;&gt;(1);\n                populateInstalledMaps(rootMapPackage);\n            } else {\n                Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                Toast.makeText(HereMap.this,\n                        &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            StringBuilder sb = new StringBuilder();\n            for (MapPackage pac : currentInstalledMaps) {\n                sb.append(pac.getTitle());\n                sb.append(&quot;\\n&quot;);\n            }\n\n            currentInstalledMapsString = sb.toString();\n        }\n\n\n        private void populateInstalledMaps(MapPackage pac) {\n            // only take installed root package, so if e.g. Germany is installed,\n            // don't check for children states\n            if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\n                Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\n                currentInstalledMaps.add(pac);\n            } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\n                for (MapPackage p : pac.getChildren()) {\n                    populateInstalledMaps(p);\n                }\n            }\n        }\n...\n</code></pre>\n<p>Here is the class to inherit into the main one:</p>\n<p><strong>HereMapClass:</strong></p>\n<pre><code>public class HereMapClass {\n\n    private MapView view;\n    private AndroidXMapFragment mapFragment = null;\n    private MapRoute m_mapRoute;\n    private  MapEngine mapEngine;\n    private MapLoader mapLoader;\n\n    JSONArray jsonPoints;\n    JSONArray jsArray;\n    ArrayList&lt;String&gt; poiArr;\n    String gpsFolder;\n    String poiFolder;\n    String loopName = &quot;&quot;;\n    String loopLang = &quot;&quot;;\n    String loopEvent = &quot;&quot;;\n\n    Context mContext;\n    Intent intent;\n    Bundle bundle2;\n\n\n    private final static String TAG = HereMap.class.getSimpleName();\n    private MapView mapView;\n    private Map map;\n    private static Image m_marker_image;\n    //MapScreenMarker m_tap_marker;\n    MapMarker m_tap_marker2;\n    private ArrayList&lt;MapPackage&gt; currentInstalledMaps;\n    private String currentInstalledMapsString;\n    private ProgressBar downloadProgressBar;\n    private PositioningManager positioningManager = null;\n    private PositioningManager.OnPositionChangedListener positionListener;\n    private GeoCoordinate currentPosition;\n\n    private Context context;\n\n    public HereMapClass(Context context){\n        this.context=context;\n    }\n\n    // listener for MapLoader\n    private MapLoader.Listener mapLoaderHandler = new MapLoader.Listener() {\n            @Override\n            public void onProgress(int progress) {\n                Log.i(TAG, &quot;Progress &quot; + progress + &quot;%&quot;);\n                downloadProgressBar.setProgress(progress);\n            }\n\n            @Override\n            public void onInstallationSize(long diskSize, long networkSize) {\n                Log.i(TAG, &quot;Map data require &quot; + diskSize);\n            }\n\n            @Override\n            public void onGetMapPackagesComplete(MapPackage rootMapPackage,\n                                                 MapLoader.ResultCode resultCode) {\n                if (resultCode == MapLoader.ResultCode.OPERATION_SUCCESSFUL) {\n                    Log.i(TAG, &quot;Map packages received successful: &quot; + rootMapPackage.getTitle());\n\n                    currentInstalledMaps = new ArrayList&lt;&gt;(1);\n\n                    populateInstalledMaps(rootMapPackage);\n\n\n                } else {\n                    Log.e(TAG, &quot;Can't retrieve map packages: &quot; + resultCode.name());\n                    Toast.makeText(context,\n                            &quot;Error: &quot; + resultCode.name(), Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                StringBuilder sb = new StringBuilder();\n                for (MapPackage pac : currentInstalledMaps) {\n                    sb.append(pac.getTitle());\n                    sb.append(&quot;\\n&quot;);\n                }\n\n                currentInstalledMapsString = sb.toString();\n            }\n\n\n            private void populateInstalledMaps(MapPackage pac) {\n                // only take installed root package, so if e.g. Germany is installed,\n                // don't check for children states\n                if (pac.getInstallationState() == MapPackage.InstallationState.INSTALLED) {\n                    Log.i(TAG, &quot;Installed package found: &quot; + pac.getTitle() + &quot; id &quot; + pac.getId());\n                    currentInstalledMaps.add(pac);\n                } else if (pac.getChildren() != null &amp;&amp; pac.getChildren().size() &gt; 0) {\n                    for (MapPackage p : pac.getChildren()) {\n                        populateInstalledMaps(p);\n                    }\n                }\n\n                //continuez  installer\n                //lancer notification pour login\n                \n            }\n...\n</code></pre>\n<p>Best regards</p>\n"},{"tags":["java","oracle","spring-boot","ojdbc"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667838741,"post_id":74349364,"comment_id":131257841,"body_markdown":"Any specific reason to use wallet instead of JKS?","body":"Any specific reason to use wallet instead of JKS?"},{"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"score":0,"creation_date":1670090321,"post_id":74349364,"comment_id":131794265,"body_markdown":"Are you using Autonomous Database? or Are you connecting to on-premise database? You are adding too many connection properties. If you are connecting to ADB, it is quite straight forward (https://www.oracle.com/database/technologies/getting-started-using-jdbc.html)","body":"Are you using Autonomous Database? or Are you connecting to on-premise database? You are adding too many connection properties. If you are connecting to ADB, it is quite straight forward (<a href=\"https://www.oracle.com/database/technologies/getting-started-using-jdbc.html\" rel=\"nofollow noreferrer\">oracle.com/database/technologies/&hellip;</a>)"},{"owner":{"account_id":16519563,"reputation":23,"user_id":11936102,"display_name":"ChaosSystems"},"score":0,"creation_date":1670281487,"post_id":74349364,"comment_id":131835994,"body_markdown":"Hi, we&#39;re trying to connect to an on-prem database","body":"Hi, we&#39;re trying to connect to an on-prem database"}],"owner":{"account_id":16519563,"reputation":23,"user_id":11936102,"display_name":"ChaosSystems"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667845525,"creation_date":1667836504,"question_id":74349364,"body_markdown":"I&#39;ve created a small spring boot CommandLineRunner app to connect to an Oracle 12c database over SSL.\r\nI know the SSL is set up correctly as I can connect to the Oracle source using a SSL Connection in AWS DMS.\r\n\r\nI have the following dependencies in my pom.xml file:\r\n\r\n```\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;oraclepki&lt;/artifactId&gt;\r\n\t        &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;osdt_cert&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t       &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;osdt_core&lt;/artifactId&gt;\r\n\t       &lt;version&gt;19.3.0.0&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n```\r\n\r\nAnd here is a snippet from my app:\r\n\r\n```\r\n        \tSecurity.addProvider(new oracle.security.pki.OraclePKIProvider());\r\n\r\n\t\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\t\tString url = &quot;jdbc:oracle:thin:@(description=(retry_count=5)(retry_delay=3)(address=(protocol=tcps)&quot; + \r\n\t\t\t\t\t&quot;(port=2484)(host=redacted.com))(connect_data=(service_name=REDACTED.COM))&quot; + \r\n\t\t\t\t\t&quot;(security=(ssl_server_cert_dn=\\&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk\\&quot;)))&quot;;\r\n\t\t\t\r\n\t\t\tProperties properties = new Properties();\r\n\t\t\t\r\n\t\t\tproperties.put(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/oracle/network/admin/cwallet.sso&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.wallet_location&quot;,&quot;file:///C:/oracle/network/admin/cwallet.sso&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_version&quot;,&quot;1.2&quot;);\r\n\t\t\tproperties.put(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_server_dn_match&quot;, &quot;true&quot;);\t\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_cipher_suites&quot;,&quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5,SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\r\n\t\t\tproperties.put(&quot;oracle.net.ssl_client_authentication&quot;,&quot;false&quot;);\r\n\t\t\t\r\n        \tcon = DriverManager.getConnection(url,properties);\r\n\r\n```\r\n\r\nCurrently I&#39;m running the app locally on my Windows Laptop.\r\n\r\nDoes anyone have a working Spring Boot example of connecting to Oracle using just a cwallet.sso file\r\n\r\n\r\n\r\nWhen the app tries to establish the connection it throws the following:\r\n\r\n```\r\njava.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:854)\r\n\tat oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n\tat com.electrocomponents.application.Application.initialise(Application.java:64)\r\n\tat com.electrocomponents.application.Application.run(Application.java:34)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.electrocomponents.application.Application.main(Application.java:27)\r\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\r\n\tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:571)\r\n\tat oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\r\n\tat oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\r\n\tat oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\r\n\tat oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\r\n\t... 14 more\r\nCaused by: java.io.IOException: Connection timed out: connect, socket connect lapse 21039 ms. redacted.com/17.256.95.22 2484 0 1\r\n\tat oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:295)\r\n\tat oracle.net.nt.ConnOption.connect(ConnOption.java:174)\r\n\tat oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\r\n\t... 19 more\r\nCaused by: java.net.ConnectException: Connection timed out: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:482)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:474)\r\n\tat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694)\r\n\tat java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\r\n\tat oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\r\n\tat oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:85)\r\n\tat oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:229)\r\n\t... 21 more\r\n```\r\n\r\nI have read this Oracle document [SSL With Oracle JDBC Thin Driver](https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf) but this was written in 2010.\r\n\r\nI logged onto the Oracle server and viewed the User and Trusted Certificates using the following command:\r\n\r\norapki wallet display -wallet cwallet.sso\r\n\r\nIn the JDBC Url, I matched the ssl_server_cert_dsn to the output from the above orapki command.\r\n\r\nI have the following in my sqlnet.ora file (in the same directory as the cwallet.sso)\r\n\r\n```\r\nWALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY = &quot;C:\\\\oracle\\\\network\\\\admin&quot;)))\r\nSSL_SERVER_DN_MATCH = yes\r\nsqlnet.wallet_override = true\r\n```\r\nAnd this in my tnsnames.ora file (in the same directory as the cwallet.sso)\r\n\r\n```\r\ndatabase_high=\r\n   (description=\r\n      (address=\r\n         (protocol=tcps)\r\n         (port=2484)\r\n         (host=redacted.com)\r\n      )\r\n      (connect_data=\r\n         (service_name=REDACTED.COM)\r\n      )\r\n      (security=\r\n          (ssl_server_cert_dn=&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk&quot;)\r\n      )\r\n   )\r\n\r\n```\r\n\r\nI am expecting the connection to establish","title":"Unable to connect to Oracle 12C using Spring Boot 2.7.3, Java 11 and cwallet.sso","body":"<p>I've created a small spring boot CommandLineRunner app to connect to an Oracle 12c database over SSL.\nI know the SSL is set up correctly as I can connect to the Oracle source using a SSL Connection in AWS DMS.</p>\n<p>I have the following dependencies in my pom.xml file:</p>\n<pre><code>        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n           &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oraclepki&lt;/artifactId&gt;\n            &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.database.security&lt;/groupId&gt;\n           &lt;artifactId&gt;osdt_cert&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n           &lt;artifactId&gt;osdt_core&lt;/artifactId&gt;\n           &lt;version&gt;19.3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>And here is a snippet from my app:</p>\n<pre><code>            Security.addProvider(new oracle.security.pki.OraclePKIProvider());\n\n            Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n            String url = &quot;jdbc:oracle:thin:@(description=(retry_count=5)(retry_delay=3)(address=(protocol=tcps)&quot; + \n                    &quot;(port=2484)(host=redacted.com))(connect_data=(service_name=REDACTED.COM))&quot; + \n                    &quot;(security=(ssl_server_cert_dn=\\&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk\\&quot;)))&quot;;\n            \n            Properties properties = new Properties();\n            \n            properties.put(&quot;javax.net.ssl.trustStore&quot;,&quot;C:/oracle/network/admin/cwallet.sso&quot;);\n            properties.put(&quot;oracle.net.wallet_location&quot;,&quot;file:///C:/oracle/network/admin/cwallet.sso&quot;);\n            properties.put(&quot;oracle.net.ssl_version&quot;,&quot;1.2&quot;);\n            properties.put(&quot;javax.net.ssl.trustStoreType&quot;,&quot;SSO&quot;);\n            properties.put(&quot;oracle.net.ssl_server_dn_match&quot;, &quot;true&quot;);   \n            properties.put(&quot;oracle.net.ssl_cipher_suites&quot;,&quot;(SSL_DH_anon_WITH_3DES_EDE_CBC_SHA, SSL_DH_anon_WITH_RC4_128_MD5,SSL_DH_anon_WITH_DES_CBC_SHA)&quot;);\n            properties.put(&quot;oracle.net.ssl_client_authentication&quot;,&quot;false&quot;);\n            \n            con = DriverManager.getConnection(url,properties);\n\n</code></pre>\n<p>Currently I'm running the app locally on my Windows Laptop.</p>\n<p>Does anyone have a working Spring Boot example of connecting to Oracle using just a cwallet.sso file</p>\n<p>When the app tries to establish the connection it throws the following:</p>\n<pre><code>java.sql.SQLRecoverableException: IO Error: The Network Adapter could not establish the connection\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:854)\n    at oracle.jdbc.driver.PhysicalConnection.connect(PhysicalConnection.java:793)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:57)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:747)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:562)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    at com.electrocomponents.application.Application.initialise(Application.java:64)\n    at com.electrocomponents.application.Application.run(Application.java:34)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.electrocomponents.application.Application.main(Application.java:27)\nCaused by: oracle.net.ns.NetException: The Network Adapter could not establish the connection\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:571)\n    at oracle.net.resolver.AddrResolution.resolveAndExecute(AddrResolution.java:548)\n    at oracle.net.ns.NSProtocol.establishConnection(NSProtocol.java:682)\n    at oracle.net.ns.NSProtocol.connect(NSProtocol.java:309)\n    at oracle.jdbc.driver.T4CConnection.connect(T4CConnection.java:1596)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:588)\n    ... 14 more\nCaused by: java.io.IOException: Connection timed out: connect, socket connect lapse 21039 ms. redacted.com/17.256.95.22 2484 0 1\n    at oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:295)\n    at oracle.net.nt.ConnOption.connect(ConnOption.java:174)\n    at oracle.net.nt.ConnStrategy.execute(ConnStrategy.java:510)\n    ... 19 more\nCaused by: java.net.ConnectException: Connection timed out: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:482)\n    at java.base/sun.nio.ch.Net.connect(Net.java:474)\n    at java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:694)\n    at java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\n    at oracle.net.nt.TimeoutSocketChannel.connect(TimeoutSocketChannel.java:99)\n    at oracle.net.nt.TimeoutSocketChannel.&lt;init&gt;(TimeoutSocketChannel.java:85)\n    at oracle.net.nt.TcpsNTAdapter.connect(TcpsNTAdapter.java:229)\n    ... 21 more\n</code></pre>\n<p>I have read this Oracle document <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">SSL With Oracle JDBC Thin Driver</a> but this was written in 2010.</p>\n<p>I logged onto the Oracle server and viewed the User and Trusted Certificates using the following command:</p>\n<p>orapki wallet display -wallet cwallet.sso</p>\n<p>In the JDBC Url, I matched the ssl_server_cert_dsn to the output from the above orapki command.</p>\n<p>I have the following in my sqlnet.ora file (in the same directory as the cwallet.sso)</p>\n<pre><code>WALLET_LOCATION = (SOURCE = (METHOD = file) (METHOD_DATA = (DIRECTORY = &quot;C:\\\\oracle\\\\network\\\\admin&quot;)))\nSSL_SERVER_DN_MATCH = yes\nsqlnet.wallet_override = true\n</code></pre>\n<p>And this in my tnsnames.ora file (in the same directory as the cwallet.sso)</p>\n<pre><code>database_high=\n   (description=\n      (address=\n         (protocol=tcps)\n         (port=2484)\n         (host=redacted.com)\n      )\n      (connect_data=\n         (service_name=REDACTED.COM)\n      )\n      (security=\n          (ssl_server_cert_dn=&quot;CN=redacted.com,OU=redacted,O=redacted,C=uk&quot;)\n      )\n   )\n\n</code></pre>\n<p>I am expecting the connection to establish</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667779124,"post_id":74340675,"comment_id":131242158,"body_markdown":"`ticTacToeBoard[i][j] = input.next().charAt(j)` - Please carefully read the Javadoc for `Scanner#next()` with regards to how it splits the input into tokens.  Then step through your program in your IDE debugger to see what&#39;s actually happening.","body":"<code>ticTacToeBoard[i][j] = input.next().charAt(j)</code> - Please carefully read the Javadoc for <code>Scanner#next()</code> with regards to how it splits the input into tokens.  Then step through your program in your IDE debugger to see what&#39;s actually happening."},{"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"score":0,"creation_date":1667781503,"post_id":74340675,"comment_id":131242465,"body_markdown":"@JimGarrison looking through debugger it shows that the first line of the input is taken in correctly but then for the second row of the array it takes the 0 value of the input skipping the actual grid. Then the error happens","body":"@JimGarrison looking through debugger it shows that the first line of the input is taken in correctly but then for the second row of the array it takes the 0 value of the input skipping the actual grid. Then the error happens"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1667781573,"post_id":74340675,"comment_id":131242479,"body_markdown":"How many characters do you expect `next()` to read? What is it _actually_ reading?","body":"How many characters do you expect <code>next()</code> to read? What is it <i>actually</i> reading?"},{"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"score":0,"creation_date":1667781877,"post_id":74340675,"comment_id":131242516,"body_markdown":"@Jim Garrison I am expecting it to read 9 characters in total but I don&#39;t know what it is reading","body":"@Jim Garrison I am expecting it to read 9 characters in total but I don&#39;t know what it is reading"}],"answers":[{"tags":[],"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845481,"creation_date":1667845481,"answer_id":74351190,"question_id":74340675,"body_markdown":"The problem was with the scanner.next() as it would take the entire line then move on to the next within the loop which would skip over all the characters I needed.\r\n\r\n```java\r\n    for (int i = 0; i &lt; gameGrid.length; i++) {\r\n            String line = input.next();\r\n            for (int j = 0; j &lt; gameGrid[i].length; j++) {\r\n                gameGrid[i][j] = line.charAt(j);\r\n```\r\n\r\nBy storing the line then looping through that stored line using charAt it takes each char correctly.","title":"Getting error String Index out of range: 1 but don&#39;t know what the issue is","body":"<p>The problem was with the scanner.next() as it would take the entire line then move on to the next within the loop which would skip over all the characters I needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    for (int i = 0; i &lt; gameGrid.length; i++) {\n            String line = input.next();\n            for (int j = 0; j &lt; gameGrid[i].length; j++) {\n                gameGrid[i][j] = line.charAt(j);\n</code></pre>\n<p>By storing the line then looping through that stored line using charAt it takes each char correctly.</p>\n"}],"owner":{"account_id":24938463,"reputation":1,"user_id":18804708,"display_name":"maxhub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667845481,"creation_date":1667778852,"question_id":74340675,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * (add a summary comment)\r\n * @author Samuel Church\r\n * @author Max Hubenko\r\n */\r\npublic class TicTacToe {\r\n\r\n    /**\r\n     * Prints to the console the contents of the given tic-tac-toe grid\r\n     * @param grid 2D char array representing current state of tic-tac-toe game\r\n     */\r\n    public static void printGrid(char[][] grid) {\r\n        System.out.print(grid);\r\n    }\r\n\r\n    /**\r\n     * Updates the tic-tac-toe grid given a move by a player (specified by row, column and mark).\r\n     * @param grid current tic-tac-toe grid that will be updated\r\n     * @param row The row the player would like to play in (in the range [0, 2])\r\n     * @param column The column the player would like to play in (in the range [0, 2])\r\n     * @param mark The mark the player would like to place (&#39;X&#39;, &#39;O&#39;)\r\n     */\r\n    public static void placeMark(char[][] grid, int row, int column, char mark) {\r\n        grid[row][column] = mark;\r\n    }\r\n\r\n    /**\r\n     * Reads user input and stores it in a 3x3 char array. This represents\r\n     * the current state of the tic-tac-toe grid. Expect user input to be\r\n     * three lines with three characters on each line.\r\n     * @param input Scanner instance used to read user input\r\n     * @return tic-tac-toe grid as a 2D char array\r\n     */\r\n    public static char[][] readInGrid(Scanner input){\r\n        char ticTacToeBoard[][] = new char[3][3];\r\n        for (int i = 0; i &lt; ticTacToeBoard.length; i++) {\r\n            for (int j = 0; j &lt; ticTacToeBoard[i].length; j++) {\r\n                ticTacToeBoard[i][j] = input.next().charAt(j);\r\n            }\r\n        }\r\n        return ticTacToeBoard;\r\n    }\r\n\r\n    /**\r\n     * Create and show a tic-tac-toe board using the methods you&#39;ll write.\r\n     * Read user input to determine updates to the board.\r\n     * @param args unused\r\n     */\r\n    public static void main(String[] args) {\r\n        // DO NOT EDIT MAIN\r\n        \r\n        Scanner input = new Scanner(System.in);\r\n\r\n        // Reads in the current state of the tic-tac-toe grid from the user\r\n        char[][] gameGrid = readInGrid(input);\r\n        \r\n        // Reads in the next player&#39;s move\r\n        int row = input.nextInt();\r\n        int column = input.nextInt();\r\n        char mark = input.next().charAt(0);\r\n\r\n        // Update the tic-tac-toe grid given the next player&#39;s move\r\n        placeMark(gameGrid, row, column, mark);\r\n\r\n        // Print the updated tic-tac-toe grid\r\n        printGrid(gameGrid);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen this is input \r\n\r\n    -X-\r\n    -X-\r\n    -O-\r\n    0 2 X\r\n\r\nThis error is given\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\r\n\tat java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\r\n\tat java.base/java.lang.String.charAt(String.java:693)\r\n\tat TicTacToe.readInGrid(TicTacToe.java:59)\r\n\tat TicTacToe.main(TicTacToe.java:76)\r\n\r\n```\r\n\r\n\r\nExpected it to update the grid with the given character at the correct position but get an error.\r\nWhen looking it at through a debugger, I can see that the first row of the array is scanned in correctly. \r\nThe first row of the array would be -X- but the issue starts as the second row would be 0 then it gives the error afterwards. It should fill the array with the first 3 lines of the input on their corresponding rows.","title":"Getting error String Index out of range: 1 but don&#39;t know what the issue is","body":"<pre><code>import java.util.Scanner;\n\n/**\n * (add a summary comment)\n * @author Samuel Church\n * @author Max Hubenko\n */\npublic class TicTacToe {\n\n    /**\n     * Prints to the console the contents of the given tic-tac-toe grid\n     * @param grid 2D char array representing current state of tic-tac-toe game\n     */\n    public static void printGrid(char[][] grid) {\n        System.out.print(grid);\n    }\n\n    /**\n     * Updates the tic-tac-toe grid given a move by a player (specified by row, column and mark).\n     * @param grid current tic-tac-toe grid that will be updated\n     * @param row The row the player would like to play in (in the range [0, 2])\n     * @param column The column the player would like to play in (in the range [0, 2])\n     * @param mark The mark the player would like to place ('X', 'O')\n     */\n    public static void placeMark(char[][] grid, int row, int column, char mark) {\n        grid[row][column] = mark;\n    }\n\n    /**\n     * Reads user input and stores it in a 3x3 char array. This represents\n     * the current state of the tic-tac-toe grid. Expect user input to be\n     * three lines with three characters on each line.\n     * @param input Scanner instance used to read user input\n     * @return tic-tac-toe grid as a 2D char array\n     */\n    public static char[][] readInGrid(Scanner input){\n        char ticTacToeBoard[][] = new char[3][3];\n        for (int i = 0; i &lt; ticTacToeBoard.length; i++) {\n            for (int j = 0; j &lt; ticTacToeBoard[i].length; j++) {\n                ticTacToeBoard[i][j] = input.next().charAt(j);\n            }\n        }\n        return ticTacToeBoard;\n    }\n\n    /**\n     * Create and show a tic-tac-toe board using the methods you'll write.\n     * Read user input to determine updates to the board.\n     * @param args unused\n     */\n    public static void main(String[] args) {\n        // DO NOT EDIT MAIN\n        \n        Scanner input = new Scanner(System.in);\n\n        // Reads in the current state of the tic-tac-toe grid from the user\n        char[][] gameGrid = readInGrid(input);\n        \n        // Reads in the next player's move\n        int row = input.nextInt();\n        int column = input.nextInt();\n        char mark = input.next().charAt(0);\n\n        // Update the tic-tac-toe grid given the next player's move\n        placeMark(gameGrid, row, column, mark);\n\n        // Print the updated tic-tac-toe grid\n        printGrid(gameGrid);\n    }\n}\n\n</code></pre>\n<p>When this is input</p>\n<pre><code>-X-\n-X-\n-O-\n0 2 X\n</code></pre>\n<p>This error is given</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.StringIndexOutOfBoundsException: String index out of range: 1\n    at java.base/java.lang.StringLatin1.charAt(StringLatin1.java:47)\n    at java.base/java.lang.String.charAt(String.java:693)\n    at TicTacToe.readInGrid(TicTacToe.java:59)\n    at TicTacToe.main(TicTacToe.java:76)\n\n</code></pre>\n<p>Expected it to update the grid with the given character at the correct position but get an error.\nWhen looking it at through a debugger, I can see that the first row of the array is scanned in correctly.\nThe first row of the array would be -X- but the issue starts as the second row would be 0 then it gives the error afterwards. It should fill the array with the first 3 lines of the input on their corresponding rows.</p>\n"},{"tags":["java","filter","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1667842894,"post_id":74350449,"comment_id":131259383,"body_markdown":"Please, share your **attempt** and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) and [Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please, share your <b>attempt</b> and specify the problem you&#39;ve encountered. Every question on StackOverflow is expected to demonstrate an effort. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"},{"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"score":1,"creation_date":1667845315,"post_id":74350449,"comment_id":131260250,"body_markdown":"I am very ashamed, but my decisions were far from the truth. Thanks for the comment. I won&#39;t ask any more questions without a partial solution","body":"I am very ashamed, but my decisions were far from the truth. Thanks for the comment. I won&#39;t ask any more questions without a partial solution"},{"owner":{"account_id":6713088,"reputation":3424,"user_id":5175802,"accept_rate":88,"display_name":"Jake Boomgaarden"},"score":1,"creation_date":1668021968,"post_id":74350449,"comment_id":131309369,"body_markdown":"Don&#39;t beat yourself up, we&#39;re all learning here on SO :) Don&#39;t hesitate to post more questions here, but it&#39;s true that it is good to remember that people appreciate questions more when they can see that you&#39;ve given it a good attempt yourself :)","body":"Don&#39;t beat yourself up, we&#39;re all learning here on SO :) Don&#39;t hesitate to post more questions here, but it&#39;s true that it is good to remember that people appreciate questions more when they can see that you&#39;ve given it a good attempt yourself :)"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667844938,"creation_date":1667842901,"answer_id":74350726,"question_id":74350449,"body_markdown":"You can use collect toMap, the key should be the firstName and lastName, I put them in a list(There are other ways for example concatenate the two attributes, but I don&#39;t recommend it), and then use the `BinaryOperator` to retrieve the max date:\r\n\r\n    Collection&lt;Employee&gt; response = employee.stream()\r\n            .collect(Collectors.toMap(\r\n                   e -&gt; e.getFirstName()+e.getLastName(),\r\n                   Function.identity(),\r\n                   (e1, e2) -&gt; e1.getDate().isAfter(e2.getDate()) ? e1 : e2)).values();\r\n\r\nOutputs:\r\n\r\n    Employee(firstName=John, lastName=Smith, salary=5, date=2022-11-01)\r\n    Employee(firstName=Sara, lastName=Kim, salary=7, date=2022-07-01)\r\n    Employee(firstName=Kelly, lastName=Jones, salary=12, date=2022-03-01)","title":"Filter in List with condition in the object","body":"<p>You can use collect toMap, the key should be the firstName and lastName, I put them in a list(There are other ways for example concatenate the two attributes, but I don't recommend it), and then use the <code>BinaryOperator</code> to retrieve the max date:</p>\n<pre><code>Collection&lt;Employee&gt; response = employee.stream()\n        .collect(Collectors.toMap(\n               e -&gt; e.getFirstName()+e.getLastName(),\n               Function.identity(),\n               (e1, e2) -&gt; e1.getDate().isAfter(e2.getDate()) ? e1 : e2)).values();\n</code></pre>\n<p>Outputs:</p>\n<pre><code>Employee(firstName=John, lastName=Smith, salary=5, date=2022-11-01)\nEmployee(firstName=Sara, lastName=Kim, salary=7, date=2022-07-01)\nEmployee(firstName=Kelly, lastName=Jones, salary=12, date=2022-03-01)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845476,"creation_date":1667845476,"answer_id":74351189,"question_id":74350449,"body_markdown":"My idea is to create hashmap as `HashMap&lt;List&lt;String&gt;&gt;,Employee&gt;` on top of Stream.  Then do merge operation on hashmap. Maps key is list of first_name &amp; last_name:\r\n\r\n    HashMap&lt;List&lt;String&gt;,Employee&gt; map = \r\n        employee.stream().collect(HashMap&lt;List&lt;String&gt;, Employee&gt;::new,\r\n        \t\t\t\t\t\t\t\t(x, y) -&gt; x.merge(List.of(y.getFirstName(), y.getLast_name()), y,\r\n        \t\t\t\t\t\t\t\t\t\t(a, b) -&gt; a.getGetSalary().isAfter(b.getGetSalary()) ? a : b),\r\n        \t\t\t\t\t\t\t\t(p, q) -&gt; p.putAll(q));\r\n\r\n    System.out.println(map.values());\r\n\r\n\r\nThis will give you desired result. `employee` is list which you created in your original post.\r\n","title":"Filter in List with condition in the object","body":"<p>My idea is to create hashmap as <code>HashMap&lt;List&lt;String&gt;&gt;,Employee&gt;</code> on top of Stream.  Then do merge operation on hashmap. Maps key is list of first_name &amp; last_name:</p>\n<pre><code>HashMap&lt;List&lt;String&gt;,Employee&gt; map = \n    employee.stream().collect(HashMap&lt;List&lt;String&gt;, Employee&gt;::new,\n                                    (x, y) -&gt; x.merge(List.of(y.getFirstName(), y.getLast_name()), y,\n                                            (a, b) -&gt; a.getGetSalary().isAfter(b.getGetSalary()) ? a : b),\n                                    (p, q) -&gt; p.putAll(q));\n\nSystem.out.println(map.values());\n</code></pre>\n<p>This will give you desired result. <code>employee</code> is list which you created in your original post.</p>\n"}],"owner":{"account_id":22959374,"reputation":21,"user_id":17089505,"display_name":"Raccoon21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1667845476,"creation_date":1667841585,"question_id":74350449,"body_markdown":"I have a List&lt;Employee&gt;.\r\nEmployee, for example:\r\n\r\n```\r\n@Data\r\n@AllArgConstructor\r\npublic class Employee {\r\n \r\n   private string firstName;\r\n   private string last name;\r\n   private domestic salary;\r\n   private LocalDataTime getSalary;\r\n\r\n}\r\n```\r\n\r\n\r\nThe sheet can contain data with the same last name, first name, but different date and salary.\r\nOr maybe not. For example.\r\n\r\n```\r\nList&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\r\nEmployee one = new Employee(&quot;John&quot;, &quot;Smith&quot;, 10, 2022-09-01);\r\nEmployee two = new Employee(&quot;John&quot;, &quot;Smith&quot;, 20, 2022-10-01);\r\nEmployee three = new Employee(&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01);\r\nEmployee four = new Employee(&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01);\r\nEmployee five = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 21, 2022-03-01);\r\nEmployee six = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01);\r\n\r\nemployee.add(one);\r\nemployee.add(two);\r\nemployee.add(three);\r\nemployee.add(four);\r\nemployee.add(five);\r\nemployee.add(six);\r\n\r\n```\r\n\r\nNeed for each unique combination of last name and first name, get a data for the last date.\r\n\r\nIn Out:\r\n\r\n&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01\r\n\r\n&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01\r\n\r\n&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01\r\n\r\n\r\nI&#39;m just starting to learn stream API and dont understand how to filter by a field inside an object for 2 unique other fields.\r\n\r\n\r\nIs it possible to do so?","title":"Filter in List with condition in the object","body":"<p>I have a List.\nEmployee, for example:</p>\n<pre><code>@Data\n@AllArgConstructor\npublic class Employee {\n \n   private string firstName;\n   private string last name;\n   private domestic salary;\n   private LocalDataTime getSalary;\n\n}\n</code></pre>\n<p>The sheet can contain data with the same last name, first name, but different date and salary.\nOr maybe not. For example.</p>\n<pre><code>List&lt;Employee&gt; employee = new ArrayList&lt;&gt;();\nEmployee one = new Employee(&quot;John&quot;, &quot;Smith&quot;, 10, 2022-09-01);\nEmployee two = new Employee(&quot;John&quot;, &quot;Smith&quot;, 20, 2022-10-01);\nEmployee three = new Employee(&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01);\nEmployee four = new Employee(&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01);\nEmployee five = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 21, 2022-03-01);\nEmployee six = new Employee(&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01);\n\nemployee.add(one);\nemployee.add(two);\nemployee.add(three);\nemployee.add(four);\nemployee.add(five);\nemployee.add(six);\n\n</code></pre>\n<p>Need for each unique combination of last name and first name, get a data for the last date.</p>\n<p>In Out:</p>\n<p>&quot;John&quot;, &quot;Smith&quot;, 5, 2022-11-01</p>\n<p>&quot;Kelly&quot;, &quot;Jones&quot;, 12, 2022-03-01</p>\n<p>&quot;Sara&quot;, &quot;Kim&quot;, 7, 2022-07-01</p>\n<p>I'm just starting to learn stream API and dont understand how to filter by a field inside an object for 2 unique other fields.</p>\n<p>Is it possible to do so?</p>\n"},{"tags":["java","spring-boot","classpath"],"comments":[{"owner":{"account_id":3614596,"reputation":2212,"user_id":3014817,"display_name":"Shailesh Chandra"},"score":1,"creation_date":1570790758,"post_id":58339454,"comment_id":103034614,"body_markdown":"https://stackoverflow.com/questions/5171957/access-file-in-jar-file","body":"<a href=\"https://stackoverflow.com/questions/5171957/access-file-in-jar-file\" title=\"access file in jar file\">stackoverflow.com/questions/5171957/access-file-in-jar-file</a>"}],"answers":[{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":2,"creation_date":1570805297,"post_id":58340029,"comment_id":103042554,"body_markdown":"the following often creates less trouble: `MyClass.class.getResourceAsStream(&quot;/testfile/test1.txt&quot;)`","body":"the following often creates less trouble: <code>MyClass.class.getResourceAsStream(&quot;&#47;testfile&#47;test1.txt&quot;)</code>"}],"tags":[],"owner":{"account_id":16669162,"reputation":162,"user_id":12047085,"display_name":"user12047085"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570792266,"creation_date":1570792266,"answer_id":58340029,"question_id":58339454,"body_markdown":"You cannot read the resources inside a jar as java.io.File as it says in the link that @Shailesh shared\r\n\r\n```\r\nInputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;classpath:testfile/test1.txt&quot;)) \r\n```\r\nRead the file as input stream and then may be convert it to String and then convert it to a class if needed.","title":"I want to deploy the jar that include some file in classpath","body":"<p>You cannot read the resources inside a jar as java.io.File as it says in the link that @Shailesh shared</p>\n\n<pre><code>InputStream is = this.getClass().getClassLoader().getResourceAsStream(\"classpath:testfile/test1.txt\")) \n</code></pre>\n\n<p>Read the file as input stream and then may be convert it to String and then convert it to a class if needed.</p>\n"},{"comments":[{"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"score":1,"creation_date":1570805156,"post_id":58340207,"comment_id":103042468,"body_markdown":"Side note: use try-with-resources when creating local IO streams","body":"Side note: use try-with-resources when creating local IO streams"}],"tags":[],"owner":{"account_id":1122143,"reputation":114,"user_id":1110261,"display_name":"Oeg Bizz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1570792881,"creation_date":1570792881,"answer_id":58340207,"question_id":58339454,"body_markdown":"Assuming You actually want to read the file rather than trying to address the resource use the class loader:\r\n\r\n```java\r\n    InputStream in = getClass().getResourceAsStream(&quot;/testfile/test1.txt&quot;);\r\n    BufferedReader reader = new BufferedReader( new InputStreamReader( in ) );\r\n    String line = null;\r\n    while( (line = reader.readLine() ) != null )\r\n      System.out.println(&quot;Line: &quot; + line);\r\n    \r\n```\r\nthat worked for me","title":"I want to deploy the jar that include some file in classpath","body":"<p>Assuming You actually want to read the file rather than trying to address the resource use the class loader:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    InputStream in = getClass().getResourceAsStream(\"/testfile/test1.txt\");\n    BufferedReader reader = new BufferedReader( new InputStreamReader( in ) );\n    String line = null;\n    while( (line = reader.readLine() ) != null )\n      System.out.println(\"Line: \" + line);\n\n</code></pre>\n\n<p>that worked for me</p>\n"},{"tags":[],"owner":{"account_id":15459861,"reputation":1,"user_id":11152804,"display_name":"Hopkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667845300,"creation_date":1667284072,"answer_id":74272268,"question_id":58339454,"body_markdown":"&gt; &#39;this.getClass().getClassLoader().getResourceAsStream()&#39; is a good choice\r\n\r\nI meet the same question. And only difference is that I want the return type  *String*, after reading a file.\r\nSo, I find a useful api  `this.getClass().getClassLoader().getResource(String name)`.\r\n\r\n```\r\nString read = null;\r\nURL resource = this.getClass().getClassLoader().getResource(&quot;static/facility-tree.json&quot;);\r\nCharSource charSource = Resources.asCharSource(resource, Charset.defaultCharset());\r\nread = charSource.read();\r\n```\r\n\r\nCharSource and Resources are from Guava, so you need to add dependency in pom.xml.\r\n```\r\n&lt;!--guava-&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;31.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"I want to deploy the jar that include some file in classpath","body":"<blockquote>\n<p>'this.getClass().getClassLoader().getResourceAsStream()' is a good choice</p>\n</blockquote>\n<p>I meet the same question. And only difference is that I want the return type  <em>String</em>, after reading a file.\nSo, I find a useful api  <code>this.getClass().getClassLoader().getResource(String name)</code>.</p>\n<pre><code>String read = null;\nURL resource = this.getClass().getClassLoader().getResource(&quot;static/facility-tree.json&quot;);\nCharSource charSource = Resources.asCharSource(resource, Charset.defaultCharset());\nread = charSource.read();\n</code></pre>\n<p>CharSource and Resources are from Guava, so you need to add dependency in pom.xml.</p>\n<pre><code>&lt;!--guava-&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8778895,"reputation":375,"user_id":6563164,"accept_rate":43,"display_name":"rura6502"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58340207,"answer_count":3,"score":1,"last_activity_date":1667845300,"creation_date":1570790202,"question_id":58339454,"body_markdown":"When I execute the jar using this command `java -jar myapp.jar`, I met the `FileNotFoundException`.\r\n\r\nMy project is a basic Gradle java application. I put the file in `ROOT/src/main/resources/testfile/test1.txt`. And I tried to run the code in IDE to check the file exists using classpath.\r\n\r\n```java\r\nFile file = ResourceUtils.getFile(&quot;classpath:testfile/test1.txt&quot;);\r\nSystem.out.println(file.exists());\r\n```\r\n\r\nThis is true, but when I executed build file that is the result of command &#39;gradle build&#39;, I met the FileNotFoundException. I can see the file`(\\BOOT-INF\\classes\\testfile\\test1.txt)` when I unarchive the jar.\r\n\r\nActually, I want to deploy the spring boot jar with the sample file and I will put the code for initializing. please help. thanks.","title":"I want to deploy the jar that include some file in classpath","body":"<p>When I execute the jar using this command <code>java -jar myapp.jar</code>, I met the <code>FileNotFoundException</code>.</p>\n\n<p>My project is a basic Gradle java application. I put the file in <code>ROOT/src/main/resources/testfile/test1.txt</code>. And I tried to run the code in IDE to check the file exists using classpath.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>File file = ResourceUtils.getFile(\"classpath:testfile/test1.txt\");\nSystem.out.println(file.exists());\n</code></pre>\n\n<p>This is true, but when I executed build file that is the result of command 'gradle build', I met the FileNotFoundException. I can see the file<code>(\\BOOT-INF\\classes\\testfile\\test1.txt)</code> when I unarchive the jar.</p>\n\n<p>Actually, I want to deploy the spring boot jar with the sample file and I will put the code for initializing. please help. thanks.</p>\n"},{"tags":["java","android","gradle"],"answers":[{"comments":[{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1646843949,"post_id":69733679,"comment_id":126225768,"body_markdown":"Thanks. This is new for everyone","body":"Thanks. This is new for everyone"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635315447,"creation_date":1635315447,"answer_id":69733679,"question_id":69733508,"body_markdown":"This is expected with Gradle 7.2 since the [compile and testCompile configurations have been removed](https://docs.gradle.org/current/userguide/upgrading_version_6.html#sec:configuration_removal).\r\n\r\nYou must replace `compile` with `implementation` and `testCompile` with `testImplementation`","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>This is expected with Gradle 7.2 since the <a href=\"https://docs.gradle.org/current/userguide/upgrading_version_6.html#sec:configuration_removal\" rel=\"noreferrer\">compile and testCompile configurations have been removed</a>.</p>\n<p>You must replace <code>compile</code> with <code>implementation</code> and <code>testCompile</code> with <code>testImplementation</code></p>\n"},{"tags":[],"owner":{"account_id":18284952,"reputation":21,"user_id":13313069,"display_name":"Maryam Maleki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667845071,"creation_date":1667286279,"answer_id":74272553,"question_id":69733508,"body_markdown":"My solution is. \r\njar file Directory is /WEB-INF/lib/MyJarFile.jar :)\r\n\r\n```\r\nflatDir {\r\n  name &#39;lib&#39;\r\n  dirs &quot;$rootProject.projectDir/lib&quot;\r\n}\r\n\r\ndependencies {\r\n  classpath fileTree(dir: &#39;lib&#39;, include: &#39;MyJarFile.jar&#39;)\r\n}\r\n```","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p>My solution is.\njar file Directory is /WEB-INF/lib/MyJarFile.jar :)</p>\n<pre><code>flatDir {\n  name 'lib'\n  dirs &quot;$rootProject.projectDir/lib&quot;\n}\n\ndependencies {\n  classpath fileTree(dir: 'lib', include: 'MyJarFile.jar')\n}\n</code></pre>\n"}],"owner":{"account_id":23156435,"reputation":13,"user_id":17257626,"display_name":"blurry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3843,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69733679,"answer_count":2,"score":1,"last_activity_date":1667845071,"creation_date":1635314360,"question_id":69733508,"body_markdown":"**My build.gradle**\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        signingConfigs {\r\n        }\r\n        compileSdkVersion 30\r\n        buildToolsVersion &#39;30.0.2&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.rock08.android.demoapp&quot;\r\n            minSdkVersion 22\r\n            targetSdkVersion 25\r\n            versionCode 2\r\n            versionName &quot;0.2&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n            exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n        })\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:leanback-v17:25.4.0&#39;\r\n        compile &#39;com.android.support:recyclerview-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-v14:25.4.0&#39;\r\n        compile &#39;com.android.support:preference-leanback-v17:25.4.0&#39;\r\n        compile &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n        compile &#39;com.android.support:palette-v7:25.4.0&#39;\r\n    }\r\n\r\n\r\n**gradle-wrapper.properties**\r\n\r\n    distributionBase=GRADLE_USER_HOME\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\r\n    distributionPath=wrapper/dists\r\n    zipStorePath=wrapper/dists\r\n    zipStoreBase=GRADLE_USER_HOME\r\n\r\nThe gradle build is getting failed.\r\n\r\nERROR- Could not find method compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n","title":"Couldn&#39;t find compile() for arguments [directory &#39;libs&#39;] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler","body":"<p><strong>My build.gradle</strong></p>\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    signingConfigs {\n    }\n    compileSdkVersion 30\n    buildToolsVersion '30.0.2'\n    defaultConfig {\n        applicationId &quot;com.rock08.android.demoapp&quot;\n        minSdkVersion 22\n        targetSdkVersion 25\n        versionCode 2\n        versionName &quot;0.2&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:leanback-v17:25.4.0'\n    compile 'com.android.support:recyclerview-v7:25.4.0'\n    compile 'com.android.support:preference-v7:25.4.0'\n    compile 'com.android.support:preference-v14:25.4.0'\n    compile 'com.android.support:preference-leanback-v17:25.4.0'\n    compile 'com.android.support:appcompat-v7:25.4.0'\n    compile 'com.android.support:palette-v7:25.4.0'\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>The gradle build is getting failed.</p>\n<p>ERROR- Could not find method compile() for arguments [directory 'libs'] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n"},{"tags":["java","dos","file-attributes"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1667747405,"post_id":73141485,"comment_id":131235624,"body_markdown":"Cant you just do if instanceof for other types?","body":"Cant you just do if instanceof for other types?"}],"answers":[{"tags":[],"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667747453,"creation_date":1667747453,"answer_id":74337060,"question_id":73141485,"body_markdown":"I decided to trace the source code to see what exactly is it doing (is it casting? is it a switch statement?)\r\n\r\n- Began with [Files#readAttributes][1]\r\n- [provider(path)][2]\r\n- This returns a FileSystemProvider (from the FileSystem class)\r\n- Using the [LinuxFileSystemProvider][3] as reference\r\n\r\nFinally, I landed on [LinuxFileSystemProvider&#39;s implementation for readAttributes][4]. This may change *depending*, but assuming it hasn&#39;t, this does do some manual if-checking on the class.\r\n\r\n```java\r\n@Override\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\npublic &lt;A extends BasicFileAttributes&gt; A readAttributes(Path file,\r\n                                                        Class&lt;A&gt; type,\r\n                                                        LinkOption... options)\r\n    throws IOException\r\n{\r\n    if (type == DosFileAttributes.class) {\r\n        DosFileAttributeView view =\r\n            getFileAttributeView(file, DosFileAttributeView.class, options);\r\n        return (A) view.readAttributes();\r\n    } else {\r\n        return super.readAttributes(file, type, options);\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, assuming that future JDK versions took this same path, you will have to stick with the old exception ignoring. \r\n\r\n  [1]: https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#1684\r\n  [2]: https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#65\r\n  [3]: https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java\r\n  [4]: https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java#L89","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>I decided to trace the source code to see what exactly is it doing (is it casting? is it a switch statement?)</p>\n<ul>\n<li>Began with <a href=\"https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#1684\" rel=\"nofollow noreferrer\">Files#readAttributes</a></li>\n<li><a href=\"https://android.googlesource.com/platform/libcore/+/51b1b69/ojluni/src/main/java/java/nio/file/Files.java#65\" rel=\"nofollow noreferrer\">provider(path)</a></li>\n<li>This returns a FileSystemProvider (from the FileSystem class)</li>\n<li>Using the <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java\" rel=\"nofollow noreferrer\">LinuxFileSystemProvider</a> as reference</li>\n</ul>\n<p>Finally, I landed on <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/solaris/classes/sun/nio/fs/LinuxFileSystemProvider.java#L89\" rel=\"nofollow noreferrer\">LinuxFileSystemProvider's implementation for readAttributes</a>. This may change <em>depending</em>, but assuming it hasn't, this does do some manual if-checking on the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;A extends BasicFileAttributes&gt; A readAttributes(Path file,\n                                                        Class&lt;A&gt; type,\n                                                        LinkOption... options)\n    throws IOException\n{\n    if (type == DosFileAttributes.class) {\n        DosFileAttributeView view =\n            getFileAttributeView(file, DosFileAttributeView.class, options);\n        return (A) view.readAttributes();\n    } else {\n        return super.readAttributes(file, type, options);\n    }\n}\n</code></pre>\n<p>Unfortunately, assuming that future JDK versions took this same path, you will have to stick with the old exception ignoring.</p>\n"},{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1668094143,"post_id":74351123,"comment_id":131327845,"body_markdown":"I only recently was reminded of retrieving `FileAttributeView` versus retrieving `FileAttributes` dichotomy. Thanks for pointing out the discrepancy in their functioning: the former returns `null` while the latter throws an exception. This is indeed useful, if disappointing that they work differently. I wonder if getting the extra layer of indirection with `FileAttributeView` is much more efficient than just getting the attributes directly.","body":"I only recently was reminded of retrieving <code>FileAttributeView</code> versus retrieving <code>FileAttributes</code> dichotomy. Thanks for pointing out the discrepancy in their functioning: the former returns <code>null</code> while the latter throws an exception. This is indeed useful, if disappointing that they work differently. I wonder if getting the extra layer of indirection with <code>FileAttributeView</code> is much more efficient than just getting the attributes directly."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1668095401,"post_id":74351123,"comment_id":131328384,"body_markdown":"In case of `WindowsFileSystemProvider`, a `Files.readAttributes(path, DosFileAttributes.class)` call ends up calling `getFileAttributeView(file, DosFileAttributeView.class).readAttributes()` under the hood anyway. In case of providers not supporting dos attributes, there is no indirection, as you dont get to the second call and a `null` test is cheaper than an exception, in most cases.","body":"In case of <code>WindowsFileSystemProvider</code>, a <code>Files.readAttributes(path, DosFileAttributes.class)</code> call ends up calling <code>getFileAttributeView(file, DosFileAttributeView.class).readAttributes()</code> under the hood anyway. In case of providers not supporting dos attributes, there is no indirection, as you dont get to the second call and a <code>null</code> test is cheaper than an exception, in most cases."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667845064,"creation_date":1667845064,"answer_id":74351123,"question_id":73141485,"body_markdown":"There is no such guaranty written anywhere. This, however, does not imply that you are stuck with using exceptions. You can use, for example\r\n\r\n```java\r\nDosFileAttributeView view = Files.getFileAttributeView(path,DosFileAttributeView.class);\r\nif(view != null) {\r\n    DosFileAttributes attrs = view.readAttributes();\r\n    // proceed\r\n}\r\n```\r\n\r\nAt the first glance, you could pretest with `Files.getFileStore(path) .supportsFileAttributeView( DosFileAttributeView.class)`, but [the documentation of `supportsFileAttributeView`] says:\r\n\r\n&gt; In the case of the default provider, this method cannot guarantee to give the correct result when the file store is not a local storage device. The reasons for this are implementation specific and therefore unspecified.\r\n\r\nwhich is not very helpful. One thing you can do, is  to test, whether the particular filesystem supports the `DosFileAttributeView` *in general*. If `path.getFileSystem() .supportedFileAttributeViews() .contains(&quot;dos&quot;)` returns `false`, none of the paths of this filesystem will ever support this attribute.\r\n\r\n[the documentation of `supportsFileAttributeView`]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/FileStore.html#supportsFileAttributeView(java.lang.Class)","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>There is no such guaranty written anywhere. This, however, does not imply that you are stuck with using exceptions. You can use, for example</p>\n<pre class=\"lang-java prettyprint-override\"><code>DosFileAttributeView view = Files.getFileAttributeView(path,DosFileAttributeView.class);\nif(view != null) {\n    DosFileAttributes attrs = view.readAttributes();\n    // proceed\n}\n</code></pre>\n<p>At the first glance, you could pretest with <code>Files.getFileStore(path) .supportsFileAttributeView( DosFileAttributeView.class)</code>, but <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/FileStore.html#supportsFileAttributeView(java.lang.Class)\" rel=\"nofollow noreferrer\">the documentation of <code>supportsFileAttributeView</code></a> says:</p>\n<blockquote>\n<p>In the case of the default provider, this method cannot guarantee to give the correct result when the file store is not a local storage device. The reasons for this are implementation specific and therefore unspecified.</p>\n</blockquote>\n<p>which is not very helpful. One thing you can do, is  to test, whether the particular filesystem supports the <code>DosFileAttributeView</code> <em>in general</em>. If <code>path.getFileSystem() .supportedFileAttributeViews() .contains(&quot;dos&quot;)</code> returns <code>false</code>, none of the paths of this filesystem will ever support this attribute.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74351123,"answer_count":2,"score":2,"last_activity_date":1667845064,"creation_date":1658939018,"question_id":73141485,"body_markdown":"In a directory using Java I want to check each subdirectory for a DOS-specific attribute, but I want the code to run on other file systems as well. I can do this, which seems to be what the Java API implies is the recommended approach:\r\n\r\n```java\r\ntry {\r\n  DosFileAttributes attrs = Files.readAttributes(path, DosFileAttributes.class);\r\n  //TODO check DOS attrs\r\n} catch(UnsupportedOperationException ex) {\r\n  //ignore the error; must be another file system\r\n}\r\n```\r\n\r\nHowever that is ugly, against best practices (requires ignoring an exception), and probably less efficient because of the try/catch overhead. I&#39;d prefer to do this (using Java 17 syntax to cast to `DosFileAttributes` on the fly):\r\n\r\n\r\n```java\r\nBasicFileAttributes attrs = Files.readAttributes(path, BasicFileAttributes.class);\r\nif(attrs instance of DosFileAttributes dosFileAttributes) {\r\n  //TODO check DOS attrs\r\n}\r\n```\r\n\r\nThat&#39;s much cleaner. Much more understandable. Probably more efficient.\r\n\r\nUnfortunately it&#39;s not clear to me if the API guarantees it to work (even though I see code all over the Internet assuming that the second approach will always work). In practice it would appear that OpenJDK will give me a `DosFileAttributes` (actually a `WindowsFileAttributes`) instance, even though I requested only a `BasicFileAttributes`, because `DosFileAttributes` implements `BasicFileAttributes` and it&#39;s just as easy to always return the same object since it works in all situations.\r\n\r\nBut does the API guarantee that? From my reading, it would seem that, because I only requested a `BasicFileAttributes` instance, some JDK implementation might (for various reasons, not just spite) decide to return only a `BasicFileAttributes` instance (perhaps it doesn&#39;t want to go lookup the DOS attributes unless it was specifically asked).\r\n\r\nSo am I stuck with the ugly and inefficient exception-based approach if I want my code to be guaranteed to work?","title":"Type guarantees for getting DOS file attributes in Java","body":"<p>In a directory using Java I want to check each subdirectory for a DOS-specific attribute, but I want the code to run on other file systems as well. I can do this, which seems to be what the Java API implies is the recommended approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n  DosFileAttributes attrs = Files.readAttributes(path, DosFileAttributes.class);\n  //TODO check DOS attrs\n} catch(UnsupportedOperationException ex) {\n  //ignore the error; must be another file system\n}\n</code></pre>\n<p>However that is ugly, against best practices (requires ignoring an exception), and probably less efficient because of the try/catch overhead. I'd prefer to do this (using Java 17 syntax to cast to <code>DosFileAttributes</code> on the fly):</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicFileAttributes attrs = Files.readAttributes(path, BasicFileAttributes.class);\nif(attrs instance of DosFileAttributes dosFileAttributes) {\n  //TODO check DOS attrs\n}\n</code></pre>\n<p>That's much cleaner. Much more understandable. Probably more efficient.</p>\n<p>Unfortunately it's not clear to me if the API guarantees it to work (even though I see code all over the Internet assuming that the second approach will always work). In practice it would appear that OpenJDK will give me a <code>DosFileAttributes</code> (actually a <code>WindowsFileAttributes</code>) instance, even though I requested only a <code>BasicFileAttributes</code>, because <code>DosFileAttributes</code> implements <code>BasicFileAttributes</code> and it's just as easy to always return the same object since it works in all situations.</p>\n<p>But does the API guarantee that? From my reading, it would seem that, because I only requested a <code>BasicFileAttributes</code> instance, some JDK implementation might (for various reasons, not just spite) decide to return only a <code>BasicFileAttributes</code> instance (perhaps it doesn't want to go lookup the DOS attributes unless it was specifically asked).</p>\n<p>So am I stuck with the ugly and inefficient exception-based approach if I want my code to be guaranteed to work?</p>\n"},{"tags":["java","docker","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":8648248,"reputation":600,"user_id":6474821,"display_name":"doubleW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844883,"creation_date":1667844883,"answer_id":74351096,"question_id":74350462,"body_markdown":"Ok it was a VPN issue... it was using the same IP ranges\r\n\r\nAnswer from https://stackoverflow.com/questions/73938102/testcontainer-with-vpn-on-can-not-connect-to-ryuk-at-localhost49198 worked just fine ","title":"Testcontainers ryuk docker issue","body":"<p>Ok it was a VPN issue... it was using the same IP ranges</p>\n<p>Answer from <a href=\"https://stackoverflow.com/questions/73938102/testcontainer-with-vpn-on-can-not-connect-to-ryuk-at-localhost49198\">Testcontainer with VPN on: Can not connect to Ryuk at localhost:49198</a> worked just fine</p>\n"}],"owner":{"account_id":8648248,"reputation":600,"user_id":6474821,"display_name":"doubleW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667894974,"answer_count":1,"score":0,"last_activity_date":1667844883,"creation_date":1667841671,"question_id":74350462,"body_markdown":"I have an issue using testcontainers. I have tried to run some tests by IDE or mvn but I am getting this\r\n```\r\nCaused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49156\r\n```\r\n\r\nNow I tried to check if ryuk is starting and it seems that it is:\r\n```\r\ndocker ps\r\nCONTAINER ID   IMAGE                       COMMAND   CREATED         STATUS        PORTS                                         NAMES\r\n93de3963bc55   testcontainers/ryuk:0.3.1   &quot;/app&quot;    2 seconds ago   Up 1 second   0.0.0.0:49156-&gt;8080/tcp, :::49156-&gt;8080/tcp   testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb\r\n\r\n\r\n\r\ndocker logs testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb \r\n2022/11/07 17:14:35 Pinging Docker...\r\n2022/11/07 17:14:35 Docker daemon is available!\r\n2022/11/07 17:14:35 Starting on port 8080...\r\n2022/11/07 17:14:35 Started!\r\n```\r\nthis is killed few seconds after the test fails\r\n\r\n\r\nnot sure if this is connected but \r\n```\r\ndocker run testcontainers/ryuk:0.3.1\r\n2022/11/07 17:18:10 Pinging Docker...\r\npanic: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\r\n\r\ngoroutine 1 [running]:\r\nmain.main()\r\n\t/go/src/github.com/testcontainers/moby-ryuk/main.go:36 +0x457\r\n```\r\ngetting this error while trying to run it manually. \r\n\r\nOther docker images seems to work just fine basic hello world example:\r\n```\r\ndocker run hello-world\r\n\r\nHello from Docker!\r\nThis message shows that your installation appears to be working correctly.\r\n\r\nTo generate this message, Docker took the following steps:\r\n 1. The Docker client contacted the Docker daemon.\r\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\r\n    (amd64)\r\n 3. The Docker daemon created a new container from that image which runs the\r\n    executable that produces the output you are currently reading.\r\n 4. The Docker daemon streamed that output to the Docker client, which sent it\r\n    to your terminal.\r\n\r\nTo try something more ambitious, you can run an Ubuntu container with:\r\n $ docker run -it ubuntu bash\r\n\r\nShare images, automate workflows, and more with a free Docker ID:\r\n https://hub.docker.com/\r\n\r\nFor more examples and ideas, visit:\r\n https://docs.docker.com/get-started/\r\n\r\n\r\n```\r\n","title":"Testcontainers ryuk docker issue","body":"<p>I have an issue using testcontainers. I have tried to run some tests by IDE or mvn but I am getting this</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not connect to Ryuk at localhost:49156\n</code></pre>\n<p>Now I tried to check if ryuk is starting and it seems that it is:</p>\n<pre><code>docker ps\nCONTAINER ID   IMAGE                       COMMAND   CREATED         STATUS        PORTS                                         NAMES\n93de3963bc55   testcontainers/ryuk:0.3.1   &quot;/app&quot;    2 seconds ago   Up 1 second   0.0.0.0:49156-&gt;8080/tcp, :::49156-&gt;8080/tcp   testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb\n\n\n\ndocker logs testcontainers-ryuk-1878c953-4d40-4c64-80d7-133a6125b7eb \n2022/11/07 17:14:35 Pinging Docker...\n2022/11/07 17:14:35 Docker daemon is available!\n2022/11/07 17:14:35 Starting on port 8080...\n2022/11/07 17:14:35 Started!\n</code></pre>\n<p>this is killed few seconds after the test fails</p>\n<p>not sure if this is connected but</p>\n<pre><code>docker run testcontainers/ryuk:0.3.1\n2022/11/07 17:18:10 Pinging Docker...\npanic: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n\ngoroutine 1 [running]:\nmain.main()\n    /go/src/github.com/testcontainers/moby-ryuk/main.go:36 +0x457\n</code></pre>\n<p>getting this error while trying to run it manually.</p>\n<p>Other docker images seems to work just fine basic hello world example:</p>\n<pre><code>docker run hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n\n\n</code></pre>\n"},{"tags":["java","string","default","java.util.scanner"],"answers":[{"comments":[{"owner":{"account_id":3065119,"reputation":1103,"user_id":2596983,"accept_rate":90,"display_name":"Drifter64"},"score":0,"creation_date":1395266771,"post_id":22518857,"comment_id":34265496,"body_markdown":"You have the right idea! ... Actually, i&#39;m running my application from an IDE (NetBeans). I suppose i could call the compiled JAR file, but id prefer to be able to stay in my IDE which doesnt support the &quot;Press up for recall&quot; functionality. Pressing up simply puts the cursor up one line in the program output. Is there any way to fill the prompt with a given default string without user keypress like you suggest? :)","body":"You have the right idea! ... Actually, i&#39;m running my application from an IDE (NetBeans). I suppose i could call the compiled JAR file, but id prefer to be able to stay in my IDE which doesnt support the &quot;Press up for recall&quot; functionality. Pressing up simply puts the cursor up one line in the program output. Is there any way to fill the prompt with a given default string without user keypress like you suggest? :)"}],"tags":[],"owner":{"account_id":4197835,"reputation":1,"user_id":3438797,"display_name":"rchirino"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1395265729,"creation_date":1395265729,"answer_id":22518857,"question_id":22518594,"body_markdown":"I think I understand what you want to do, but it&#39;s rather simple. If your program is a console application (command-line), which I&#39;ll assume, then you just need to press the UP key to populate the prompt with the last typed characters.\r\n\r\nIf you&#39;re working with GUI elements then you can check the API documentation for the particular class of object you&#39;re using and check out it&#39;s fields.\r\n\r\nHope this helps!","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>I think I understand what you want to do, but it's rather simple. If your program is a console application (command-line), which I'll assume, then you just need to press the UP key to populate the prompt with the last typed characters.</p>\n\n<p>If you're working with GUI elements then you can check the API documentation for the particular class of object you're using and check out it's fields.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":3065119,"reputation":1103,"user_id":2596983,"accept_rate":90,"display_name":"Drifter64"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395928696,"creation_date":1395928696,"answer_id":22689846,"question_id":22518594,"body_markdown":"After discussing this idea with a few people, it seems that what i want is not possible. The way of input is too simple to allow something like this.\r\n\r\nMy only possible solutions involve not running this from my IDE. I can either elect to use my application, or change the application into a GUI based applet. Running from the console will open up the &quot;Press up&quot; option, as suggested by rchirino, and using a GUI would let the value entered sit there for editing later.\r\n\r\nIf anyone is looking to do what i posted above, the answer is &quot;Java cant do it!&quot;. Sorry. :)","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>After discussing this idea with a few people, it seems that what i want is not possible. The way of input is too simple to allow something like this.</p>\n\n<p>My only possible solutions involve not running this from my IDE. I can either elect to use my application, or change the application into a GUI based applet. Running from the console will open up the \"Press up\" option, as suggested by rchirino, and using a GUI would let the value entered sit there for editing later.</p>\n\n<p>If anyone is looking to do what i posted above, the answer is \"Java cant do it!\". Sorry. :)</p>\n"},{"tags":[],"owner":{"account_id":5661326,"reputation":1,"user_id":4478894,"display_name":"Dmv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520945403,"creation_date":1520943017,"answer_id":49255862,"question_id":22518594,"body_markdown":"You might want to try something like this:\r\n\r\n    public String promptandgetWithShowDefault(String prompt, String supplied) {\r\n      String prmpt = prompt + &quot; (press Enter for \\&quot;&quot; + supplied + &quot;\\&quot;):&quot;;\r\n      String tmpch = null;\r\n      System.out.print(prmpt);\r\n      tmpch = scanner.nextLine().trim();\r\n      if (tmpch == null || tmpch.equals(&quot;&quot;)) {\r\n         return supplied;\r\n      } else {\r\n         return tmpch;\r\n      }\r\n    }","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>You might want to try something like this:</p>\n\n<pre><code>public String promptandgetWithShowDefault(String prompt, String supplied) {\n  String prmpt = prompt + \" (press Enter for \\\"\" + supplied + \"\\\"):\";\n  String tmpch = null;\n  System.out.print(prmpt);\n  tmpch = scanner.nextLine().trim();\n  if (tmpch == null || tmpch.equals(\"\")) {\n     return supplied;\n  } else {\n     return tmpch;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16917,"reputation":37,"user_id":37358,"display_name":"piero B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844791,"creation_date":1667844791,"answer_id":74351079,"question_id":22518594,"body_markdown":"If the goal is to get a simple binar answer from the user like:\r\n\r\n         Would you like to do that? (  y / n  ) y \r\nthen the empty string returned by the user, in the answer from Dmv, will do the trick, except that when the user types &quot;n&quot; or attempts to delete the trailing &quot;y&quot;, it won&#39;t disappear, so it would then be clearer to write the prompt like:\r\n\r\n        Would you like to do that? ( [ y ] / n )\r\nBut when the goal is to get a long string, like the original question or a file path for instance, that the user can edit to correct a typo or not to overwrite previous file .... then you definitely need something else which doesn&#39;t seem to be available in Java.\r\n\r\nWell do it in C then!!! with the help of libreadline...     \r\n\r\nit&#39;s probably possible, easier and more portable to do the same trick in Python, but I have no idea how to code in Python.\r\n\r\nHere is a simple Java MRE to illustrate it:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tString path = System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;Documents&quot;;\r\n\t\tFile file = null;\r\n\t\tdo {\r\n\t\t\tpath = askForString(&quot;Enter the filepath to open:&quot;, path );\r\n\t\t\tif ( ( path == null) || ( path.isBlank())) break;\r\n\t\t\tfile = new File( path );\r\n\t\t} while ( ! file.exists() );\r\n\t\tSystem.out.println(&quot;Openning &quot; + path + &quot;....&quot;);\r\n\t\t// ......\r\n\t}\r\n\tpublic static String askForString( String message, String defaultString)\r\n\t{\r\n\t\tString response = null;\r\n\t\tSystem.out.println( message);\r\n        // any extra String in cmd[] will be added in readline history\r\n\t    String[] cmd = { &quot;/path/to/executable/ask4stringWdefault&quot;, defaultString};\r\n\t    try\r\n\t    {\r\n\t      ProcessBuilder pb = new ProcessBuilder(cmd);\r\n          // Make sure the subprocess can print on console and capture keyboard events\r\n\t      pb.redirectInput(ProcessBuilder.Redirect.INHERIT); \r\n\t      pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n\t      Process p = pb.start();\r\n\t      BufferedReader stderrBuffer = new BufferedReader(new InputStreamReader(p.getErrorStream()));\r\n\t      int retcode= p.waitFor();\r\n\t      if ( retcode != 0)\r\n\t      {\r\n\t    \t   System.err.println(&quot;The process terminated with error code: &quot; + retcode + &quot;\\n&quot; + stderrBuffer.readLine());\r\n\t    \t   return null;\r\n\t      }\r\n\t      response = stderrBuffer.readLine();\r\n\t    } catch( Exception e) {\r\n\t    \te.printStackTrace();\r\n\t    }\r\n\t\treturn response;\r\n\t}\r\n}\r\n```\r\nTo build the executable &quot;ask4stringWdefault&quot; you need first to get the [GNU Readline Library][1] utility and compile it, ideally cross-compile for any platform Java supports, to get a static library that you will link while compiling ( or cross-compiling ) the following C script:\r\n\r\n```\r\n#include &lt;stdio.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &lt;readline/readline.h&gt;\r\n#include &lt;readline/history.h&gt;\r\n\r\nconst char *defstr;\r\nint prefill(const char *txt, int i);\r\nint main(int argc, const char * argv[])\r\n{\r\n    if ( argc &lt; 2)\r\n    {\r\n        fprintf(stderr, &quot;You must provide a default value\\n&quot;);\r\n        return -1;\r\n    } else if ( argc &gt; 2) {\r\n        // * optional extra values can be passed to populate history * //\r\n        if ( argc &gt; 255) argc = 255;\r\n        for ( unsigned char i=0; i &lt; argc; i++)\r\n        {\r\n            add_history(argv[i]);\r\n        }\r\n    }\r\n    defstr = argv[1];\r\n    char *cbuffer;\r\n    rl_startup_hook = prefill;\r\n    if ((cbuffer = readline(NULL)) == NULL) /* if the user sends EOF, readline will return NULL */\r\n        return 1;\r\n    fprintf( stderr, &quot;%s\\n&quot;, cbuffer);\r\n    free(cbuffer);\r\n    return 0;\r\n}\r\nint prefill(const char *t, int i)\r\n{\r\n    rl_insert_text(defstr);\r\n    return 0;\r\n}\r\n```\r\nThe result is printed on stderr as it is the only stream that Java can keep track of, stdout and stdin being under the control of the executable subprocess itself.\r\n\r\nIt works fine on a Mac with arm64 architecture, using Eclipse you can&#39;t actually edit the default provided, any character typed at the prompt will be append to default string, but just hitting return will send unchanged default value back, which can be enough for basic testing. \r\n\r\n\r\n  [1]: https://tiswww.cwru.edu/php/chet/readline/rltop.html","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>If the goal is to get a simple binar answer from the user like:</p>\n<pre><code>     Would you like to do that? (  y / n  ) y \n</code></pre>\n<p>then the empty string returned by the user, in the answer from Dmv, will do the trick, except that when the user types &quot;n&quot; or attempts to delete the trailing &quot;y&quot;, it won't disappear, so it would then be clearer to write the prompt like:</p>\n<pre><code>    Would you like to do that? ( [ y ] / n )\n</code></pre>\n<p>But when the goal is to get a long string, like the original question or a file path for instance, that the user can edit to correct a typo or not to overwrite previous file .... then you definitely need something else which doesn't seem to be available in Java.</p>\n<p>Well do it in C then!!! with the help of libreadline...</p>\n<p>it's probably possible, easier and more portable to do the same trick in Python, but I have no idea how to code in Python.</p>\n<p>Here is a simple Java MRE to illustrate it:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStreamReader;\n\npublic class Main\n{\n    public static void main(String[] args)\n    {\n        String path = System.getProperty(&quot;user.home&quot;) + File.separatorChar + &quot;Documents&quot;;\n        File file = null;\n        do {\n            path = askForString(&quot;Enter the filepath to open:&quot;, path );\n            if ( ( path == null) || ( path.isBlank())) break;\n            file = new File( path );\n        } while ( ! file.exists() );\n        System.out.println(&quot;Openning &quot; + path + &quot;....&quot;);\n        // ......\n    }\n    public static String askForString( String message, String defaultString)\n    {\n        String response = null;\n        System.out.println( message);\n        // any extra String in cmd[] will be added in readline history\n        String[] cmd = { &quot;/path/to/executable/ask4stringWdefault&quot;, defaultString};\n        try\n        {\n          ProcessBuilder pb = new ProcessBuilder(cmd);\n          // Make sure the subprocess can print on console and capture keyboard events\n          pb.redirectInput(ProcessBuilder.Redirect.INHERIT); \n          pb.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n          Process p = pb.start();\n          BufferedReader stderrBuffer = new BufferedReader(new InputStreamReader(p.getErrorStream()));\n          int retcode= p.waitFor();\n          if ( retcode != 0)\n          {\n               System.err.println(&quot;The process terminated with error code: &quot; + retcode + &quot;\\n&quot; + stderrBuffer.readLine());\n               return null;\n          }\n          response = stderrBuffer.readLine();\n        } catch( Exception e) {\n            e.printStackTrace();\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>To build the executable &quot;ask4stringWdefault&quot; you need first to get the <a href=\"https://tiswww.cwru.edu/php/chet/readline/rltop.html\" rel=\"nofollow noreferrer\">GNU Readline Library</a> utility and compile it, ideally cross-compile for any platform Java supports, to get a static library that you will link while compiling ( or cross-compiling ) the following C script:</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;readline/readline.h&gt;\n#include &lt;readline/history.h&gt;\n\nconst char *defstr;\nint prefill(const char *txt, int i);\nint main(int argc, const char * argv[])\n{\n    if ( argc &lt; 2)\n    {\n        fprintf(stderr, &quot;You must provide a default value\\n&quot;);\n        return -1;\n    } else if ( argc &gt; 2) {\n        // * optional extra values can be passed to populate history * //\n        if ( argc &gt; 255) argc = 255;\n        for ( unsigned char i=0; i &lt; argc; i++)\n        {\n            add_history(argv[i]);\n        }\n    }\n    defstr = argv[1];\n    char *cbuffer;\n    rl_startup_hook = prefill;\n    if ((cbuffer = readline(NULL)) == NULL) /* if the user sends EOF, readline will return NULL */\n        return 1;\n    fprintf( stderr, &quot;%s\\n&quot;, cbuffer);\n    free(cbuffer);\n    return 0;\n}\nint prefill(const char *t, int i)\n{\n    rl_insert_text(defstr);\n    return 0;\n}\n</code></pre>\n<p>The result is printed on stderr as it is the only stream that Java can keep track of, stdout and stdin being under the control of the executable subprocess itself.</p>\n<p>It works fine on a Mac with arm64 architecture, using Eclipse you can't actually edit the default provided, any character typed at the prompt will be append to default string, but just hitting return will send unchanged default value back, which can be enough for basic testing.</p>\n"}],"owner":{"account_id":3065119,"reputation":1103,"user_id":2596983,"accept_rate":90,"display_name":"Drifter64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":22689846,"answer_count":4,"score":2,"last_activity_date":1667844791,"creation_date":1395264935,"question_id":22518594,"body_markdown":"I am writing a java program that runs a loop and keeps asking the user for input. The program then does a bunch of things with the string, and asks for another string and repeats.\r\n\r\nThe issue is that many strings are very similar, so i would like to populate the prompt with the input from the last time in the loop. For instance: If the user enters a value as follows:\r\n\r\n    Enter the SKU Number: APE-6603/A\r\n\r\n... Then the next time it asks for an SKU, it will wait till the user presses enter as normal, but be ready with the last value before the user even types anything:\r\n\r\n    Enter the SKU Number: APE-6603/A\r\n\r\n... And the user can make simple changes very fast like replace the /A with /B and press enter! If the string that holds the user input is called &quot;lookFor&quot;, is there a way to populate the prompt with this value in Java? It would be VERY useful!\r\n\r\nThanks!","title":"Java: populating Scanner with default value on Scanner.nextLine();","body":"<p>I am writing a java program that runs a loop and keeps asking the user for input. The program then does a bunch of things with the string, and asks for another string and repeats.</p>\n\n<p>The issue is that many strings are very similar, so i would like to populate the prompt with the input from the last time in the loop. For instance: If the user enters a value as follows:</p>\n\n<pre><code>Enter the SKU Number: APE-6603/A\n</code></pre>\n\n<p>... Then the next time it asks for an SKU, it will wait till the user presses enter as normal, but be ready with the last value before the user even types anything:</p>\n\n<pre><code>Enter the SKU Number: APE-6603/A\n</code></pre>\n\n<p>... And the user can make simple changes very fast like replace the /A with /B and press enter! If the string that holds the user input is called \"lookFor\", is there a way to populate the prompt with this value in Java? It would be VERY useful!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","utf-8","character-encoding","jakarta-mail"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1361644616,"post_id":15044027,"comment_id":21146451,"body_markdown":"`setText(message, &quot;UTF&quot;)`, so both for subject and content the encoding must be set.","body":"<code>setText(message, &quot;UTF&quot;)</code>, so both for subject and content the encoding must be set."},{"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"score":1,"creation_date":1361712649,"post_id":15044027,"comment_id":21160456,"body_markdown":"I did that and it didn&#39;t work. Though I get an error when sending email, when writing only UTF as the encoding as you suggest.","body":"I did that and it didn&#39;t work. Though I get an error when sending email, when writing only UTF as the encoding as you suggest."}],"answers":[{"comments":[{"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"score":2,"creation_date":1361712603,"post_id":15044071,"comment_id":21160440,"body_markdown":"Sorry I have tried a lot of things from your link inclusive your own &#39;solution&#39;, and it doesn&#39;t seem to work :(","body":"Sorry I have tried a lot of things from your link inclusive your own &#39;solution&#39;, and it doesn&#39;t seem to work :("}],"tags":[],"owner":{"account_id":954552,"reputation":3071,"user_id":980092,"accept_rate":83,"display_name":"Arsen Alexanyan"},"comment_count":1,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1361644388,"creation_date":1361644388,"answer_id":15044071,"question_id":15044027,"body_markdown":"Maybe You should provide also UTF-8 here\r\n\r\n    mimeMessage.setContent(message, &quot;text/plain; charset=UTF-8&quot;);\r\n\r\nYou have to look at http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Maybe You should provide also UTF-8 here</p>\n\n<pre><code>mimeMessage.setContent(message, \"text/plain; charset=UTF-8\");\n</code></pre>\n\n<p>You have to look at <a href=\"http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf\">http://www.coderanch.com/t/274480/java/java/JavaMail-set-content-utf</a></p>\n"},{"tags":[],"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1362169155,"creation_date":1362169155,"answer_id":15166182,"question_id":15044027,"body_markdown":"After spending a lot of time on debugging, and searching the internet for a clue, I have found a solution to my problem.\r\n\r\nIt seems that whenever I sended data through a web request, my application didn&#39;t encode the characters with UTF-8 encoding. This meant that the data which was send from my contact form, which contained &#230;, &#248; and &#229; characters, couldn&#39;t be handled correct by the character encoding.\r\n\r\nThe solution seemed to setup a **Character Encoding Filter**, in my Deployment Descriptor, which would encode all incoming request from the web to be with the character encoding UTF-8.\r\n\r\n    private void registerCharacterEncodingFilter(ServletContext servletContext) {\r\n        CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\r\n        encodingFilter.setEncoding(&quot;UTF-8&quot;);\r\n        encodingFilter.setForceEncoding(true);\r\n        FilterRegistration.Dynamic characterEncodingFilter = servletContext.addFilter(&quot;characterEncodingFilter&quot;, encodingFilter);\r\n        characterEncodingFilter.addMappingForUrlPatterns(null, false, &quot;/*&quot;);\r\n    }\r\n\r\nThis filter sets the encoding to be UTF-8 and force the encoding to all requests comming at the url &#39; /* &#39;.","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>After spending a lot of time on debugging, and searching the internet for a clue, I have found a solution to my problem.</p>\n\n<p>It seems that whenever I sended data through a web request, my application didn't encode the characters with UTF-8 encoding. This meant that the data which was send from my contact form, which contained ,  and  characters, couldn't be handled correct by the character encoding.</p>\n\n<p>The solution seemed to setup a <strong>Character Encoding Filter</strong>, in my Deployment Descriptor, which would encode all incoming request from the web to be with the character encoding UTF-8.</p>\n\n<pre><code>private void registerCharacterEncodingFilter(ServletContext servletContext) {\n    CharacterEncodingFilter encodingFilter = new CharacterEncodingFilter();\n    encodingFilter.setEncoding(\"UTF-8\");\n    encodingFilter.setForceEncoding(true);\n    FilterRegistration.Dynamic characterEncodingFilter = servletContext.addFilter(\"characterEncodingFilter\", encodingFilter);\n    characterEncodingFilter.addMappingForUrlPatterns(null, false, \"/*\");\n}\n</code></pre>\n\n<p>This filter sets the encoding to be UTF-8 and force the encoding to all requests comming at the url ' /* '.</p>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":2,"creation_date":1422880894,"post_id":18251111,"comment_id":44910238,"body_markdown":"@Rohwedder, your filter may solve **your** specific problem. But it is not the answer to your initial question. Your question was about sending e-mails, not about handling web requests.","body":"@Rohwedder, your filter may solve <b>your</b> specific problem. But it is not the answer to your initial question. Your question was about sending e-mails, not about handling web requests."},{"owner":{"account_id":4540049,"reputation":943,"user_id":3688173,"accept_rate":63,"display_name":"Airwavezx"},"score":3,"creation_date":1535548822,"post_id":18251111,"comment_id":91106880,"body_markdown":"Please fix your typo: `-Dfile.ecoding=UTF-8` -&gt; `-Dfile.encoding=UTF-8`","body":"Please fix your typo: <code>-Dfile.ecoding=UTF-8</code> -&gt; <code>-Dfile.encoding=UTF-8</code>"},{"owner":{"account_id":39658,"reputation":325,"user_id":114479,"accept_rate":50,"display_name":"MaxP"},"score":0,"creation_date":1659625054,"post_id":18251111,"comment_id":129343677,"body_markdown":"I had the same problem as described in the question, in a standalone Java service, and adding this parameter fix my problem. Easier than changing system config. Thanks!","body":"I had the same problem as described in the question, in a standalone Java service, and adding this parameter fix my problem. Easier than changing system config. Thanks!"}],"tags":[],"owner":{"account_id":3046865,"reputation":47,"user_id":2582242,"display_name":"user2582242"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1569517838,"creation_date":1376563544,"answer_id":18251111,"question_id":15044027,"body_markdown":"It&#39;s easy, \r\nrun your project with parameter -Dfile.encoding=UTF-8\r\nex:\r\njava -Dfile.encoding=UTF-8 -jar MyProject.jar\r\n\r\n//Fix a typo","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>It's easy, \nrun your project with parameter -Dfile.encoding=UTF-8\nex:\njava -Dfile.encoding=UTF-8 -jar MyProject.jar</p>\n\n<p>//Fix a typo</p>\n"},{"comments":[{"owner":{"account_id":4425671,"reputation":163,"user_id":3604213,"accept_rate":50,"display_name":"Amitk"},"score":3,"creation_date":1595168009,"post_id":27404861,"comment_id":111374737,"body_markdown":"Very good explaination.\nwhen i faced the issue i changed this: message.setContent(body, &quot;text/html&quot;);\nto this: message.setContent(body, &quot;text/html;charset=utf-8&quot;);","body":"Very good explaination. when i faced the issue i changed this: message.setContent(body, &quot;text/html&quot;); to this: message.setContent(body, &quot;text/html;charset=utf-8&quot;);"},{"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"score":1,"creation_date":1606927669,"post_id":27404861,"comment_id":115113251,"body_markdown":"Hello, does that mean the javax mail encodes the content (strings) in that charset before sending the mail?\nOn the mail client, if we read the mail in a different encoding, it will not display correctly, isn&#39;t it?","body":"Hello, does that mean the javax mail encodes the content (strings) in that charset before sending the mail? On the mail client, if we read the mail in a different encoding, it will not display correctly, isn&#39;t it?"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1607115169,"post_id":27404861,"comment_id":115180698,"body_markdown":"@C&#244;ngBng the mimetype will be sent along in the header of the e-mail. The receiving client then first extracts the mimetype from the header. That tells the client how to parse the message. But as mentioned in my answer, while the encoding can be specified in the mime-type, in some cases it will actually go through a number of more complex rules to finally determine the encoding. As soon as it knows the encoding it will then be able to parse the full message. All of which is the responsibility of your mail client.","body":"@C&#244;ngBng the mimetype will be sent along in the header of the e-mail. The receiving client then first extracts the mimetype from the header. That tells the client how to parse the message. But as mentioned in my answer, while the encoding can be specified in the mime-type, in some cases it will actually go through a number of more complex rules to finally determine the encoding. As soon as it knows the encoding it will then be able to parse the full message. All of which is the responsibility of your mail client."},{"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bng"},"score":1,"creation_date":1607347795,"post_id":27404861,"comment_id":115235467,"body_markdown":"@bvdb I agree that mail client uses charset specified in the header. However, is the charset in header also the one used by Java mail to encode the content before sending? When I use `setContent(text, &quot;text/html&quot;);` I have the email on OUTLOOK with its content encoded in ISO-8859-1 but its header says that text/html; charset=UTF-8. It leads OUTLOOK to use UTF-8 to decode the mail, but it was encoded with ISO-8859-1, so I have bizarre characters. In `com.sun.mail.handlers.text_plain.getCharset(String)`, us-ascii (ISO-8859-1) is used to encode the mail before sending if no charset is specified.","body":"@bvdb I agree that mail client uses charset specified in the header. However, is the charset in header also the one used by Java mail to encode the content before sending? When I use <code>setContent(text, &quot;text&#47;html&quot;);</code> I have the email on OUTLOOK with its content encoded in ISO-8859-1 but its header says that text/html; charset=UTF-8. It leads OUTLOOK to use UTF-8 to decode the mail, but it was encoded with ISO-8859-1, so I have bizarre characters. In <code>com.sun.mail.handlers.text_plain.getCharset(String)</code>, us-ascii (ISO-8859-1) is used to encode the mail before sending if no charset is specified."}],"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":4,"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1477492359,"creation_date":1418225599,"answer_id":27404861,"question_id":15044027,"body_markdown":"## For all e-mails ##\r\n\r\nThere are a couple of [system properties related to mailing][1], that can probably simplify your code. I am talking about this specific property actually: ``&quot;mail.mime.charset&quot;``.\r\n\r\n&gt; The **``mail.mime.charset``** System property can be used **to specify the default MIME charset** to use for encoded words and text parts that don&#39;t otherwise specify a charset. Normally, the default MIME charset is derived from the default Java charset, as specified in the ``file.encoding`` System property. Most applications will have no need to explicitly set the default MIME charset. In cases where the default MIME charset to be used for mail messages is different than the charset used for files stored on the system, this property should be set. \r\n\r\nAs you can read above, by default there is no value for the ``mail.mime.charset`` and the file encoding (``file.encoding`` property) is used.\r\n\r\n## For a specific e-mail ##\r\n\r\nHowever, if you want to specify a specific encoding for a specific e-mail, then you should probably use the 2 parameter ``setSubject(subject,charset)`` and ``setText(text,charset)`` methods.\r\n\r\n**If that doesn&#39;t work, then probably your input is already corrupted before it reached this point. In other words, you probably used the wrong encoding to collect your data**.\r\n\r\n## Mime types are complicated ##\r\n\r\nThe ``setContent(content, &quot;UTF-8&quot;)`` (as other sources claim) will just not work. Just look at the signature of this method: ``setContent(Object content, String mimetype)``. **Mime type and charset are 2 totally different things.** Imho, you should really be using one of the ``setText(...)`` methods with a charset parameter. \r\n\r\nBut if you persist in using a mimetype to set the charset ``setContent(content,mimetype)``, then use the correct format. (not just `&quot;UTF-8&quot;`, but something like `&quot;text/plain; charset=UTF-8&quot;`). But more importantly, **be aware that every mime-type has its own way of handling charsets.**\r\n\r\n - As specified in [RFC-2046][2] the default charset for `text/plain` is `US-ASCII`, but can be overruled with an additional charset parameter. \r\n - However, in [RFC-6657][3] makes clear that the `text/xml` type determines the charset using the content of the message. **The charset parameter will just be ignored here.**\r\n - And in [RFC-2854][4] is stated that `text/html` should really always specify a charset. But if you don&#39;t, then it will use `ISO-8859-1` (=`Latin-1`).\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2046\r\n  [3]: https://www.rfc-editor.org/rfc/rfc6657\r\n  [4]: https://www.rfc-editor.org/rfc/rfc2854#section-6","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<h2>For all e-mails</h2>\n<p>There are a couple of <a href=\"http://docs.oracle.com/javaee/6/api/javax/mail/internet/package-summary.html\" rel=\"noreferrer\">system properties related to mailing</a>, that can probably simplify your code. I am talking about this specific property actually: <code>&quot;mail.mime.charset&quot;</code>.</p>\n<blockquote>\n<p>The <strong><code>mail.mime.charset</code></strong> System property can be used <strong>to specify the default MIME charset</strong> to use for encoded words and text parts that don't otherwise specify a charset. Normally, the default MIME charset is derived from the default Java charset, as specified in the <code>file.encoding</code> System property. Most applications will have no need to explicitly set the default MIME charset. In cases where the default MIME charset to be used for mail messages is different than the charset used for files stored on the system, this property should be set.</p>\n</blockquote>\n<p>As you can read above, by default there is no value for the <code>mail.mime.charset</code> and the file encoding (<code>file.encoding</code> property) is used.</p>\n<h2>For a specific e-mail</h2>\n<p>However, if you want to specify a specific encoding for a specific e-mail, then you should probably use the 2 parameter <code>setSubject(subject,charset)</code> and <code>setText(text,charset)</code> methods.</p>\n<p><strong>If that doesn't work, then probably your input is already corrupted before it reached this point. In other words, you probably used the wrong encoding to collect your data</strong>.</p>\n<h2>Mime types are complicated</h2>\n<p>The <code>setContent(content, &quot;UTF-8&quot;)</code> (as other sources claim) will just not work. Just look at the signature of this method: <code>setContent(Object content, String mimetype)</code>. <strong>Mime type and charset are 2 totally different things.</strong> Imho, you should really be using one of the <code>setText(...)</code> methods with a charset parameter.</p>\n<p>But if you persist in using a mimetype to set the charset <code>setContent(content,mimetype)</code>, then use the correct format. (not just <code>&quot;UTF-8&quot;</code>, but something like <code>&quot;text/plain; charset=UTF-8&quot;</code>). But more importantly, <strong>be aware that every mime-type has its own way of handling charsets.</strong></p>\n<ul>\n<li>As specified in <a href=\"https://www.rfc-editor.org/rfc/rfc2046\" rel=\"noreferrer\">RFC-2046</a> the default charset for <code>text/plain</code> is <code>US-ASCII</code>, but can be overruled with an additional charset parameter.</li>\n<li>However, in <a href=\"https://www.rfc-editor.org/rfc/rfc6657\" rel=\"noreferrer\">RFC-6657</a> makes clear that the <code>text/xml</code> type determines the charset using the content of the message. <strong>The charset parameter will just be ignored here.</strong></li>\n<li>And in <a href=\"https://www.rfc-editor.org/rfc/rfc2854#section-6\" rel=\"noreferrer\">RFC-2854</a> is stated that <code>text/html</code> should really always specify a charset. But if you don't, then it will use <code>ISO-8859-1</code> (=<code>Latin-1</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1085364,"reputation":113,"user_id":1081194,"display_name":"D.Ogranos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616171102,"creation_date":1616171102,"answer_id":66711955,"question_id":15044027,"body_markdown":"I know I&#39;m late to this question, but I had a similar problem just now.\r\n\r\nIt may be worth it to check your source encodings too! I was using a test class, with hardcoded subject/text containing some special characters, which kept coming garbled when sending the email. Even though I had set the charset UTF-8 wherever applicable (mimeMessage.setSubject(subject, charset), mimeMessage.setContent(content, &quot;text/plain; charset=UTF-8&quot;)).\r\n\r\nThen I noted that the source encoding of this class was windows-1252. From my understanding, when a java file is compiled, any source texts are converted to UTF-8. But in this case, in the maven pom.xml for this project, the project.build.sourceEncoding property was missing - so I&#39;m actually not sure which encoding maven was using during compilation (by default) since none was specified.\r\n\r\nChanging the source encoding was not possible here, but as soon as I changed the special characters to Unicode code literals (e.g. &quot;&#252;&quot; to &quot;\\u00fc&quot;), the whole thing worked fine.","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>I know I'm late to this question, but I had a similar problem just now.</p>\n<p>It may be worth it to check your source encodings too! I was using a test class, with hardcoded subject/text containing some special characters, which kept coming garbled when sending the email. Even though I had set the charset UTF-8 wherever applicable (mimeMessage.setSubject(subject, charset), mimeMessage.setContent(content, &quot;text/plain; charset=UTF-8&quot;)).</p>\n<p>Then I noted that the source encoding of this class was windows-1252. From my understanding, when a java file is compiled, any source texts are converted to UTF-8. But in this case, in the maven pom.xml for this project, the project.build.sourceEncoding property was missing - so I'm actually not sure which encoding maven was using during compilation (by default) since none was specified.</p>\n<p>Changing the source encoding was not possible here, but as soon as I changed the special characters to Unicode code literals (e.g. &quot;&quot; to &quot;\\u00fc&quot;), the whole thing worked fine.</p>\n"},{"tags":[],"owner":{"account_id":9184260,"reputation":19,"user_id":6827104,"display_name":"Juandeyby"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1626127215,"creation_date":1626127215,"answer_id":68354317,"question_id":15044027,"body_markdown":"Before sending your String to the send method, you must convert the String into UTF-8\r\n\r\nIf you are receiving a &quot;request&quot; parameter, you can use &quot;setCharacterEncoding&quot;:\r\n\r\n    request.setCharacterEncoding(&quot;utf-8&quot;);\r\n    String subject = request.getParameter(&quot;subject&quot;);\r\n    String content = request.getParameter(&quot;content&quot;);\r\n    ...\r\n    MimeMessage mineMessage = new MimeMessage(session);\r\n        \tmineMessage.setFrom(new InternetAddress(myAccountEmail));\r\n        \tmineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\r\n        \tmineMessage.setSubject(subject, &quot;UTF-8&quot;);\r\n        \tmineMessage.setContent(content, &quot;text/plain;charset=UTF-8&quot;);\r\n\r\nOtherwise, convert your String into UTF-8 format with the following method: \r\n\r\n    String subject = new String(subject.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\r\n    String content = new String(content.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\r\n    ...\r\n    MimeMessage mineMessage = new MimeMessage(session);\r\n        mineMessage.setFrom(new InternetAddress(myAccountEmail));\r\n        mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\r\n        mineMessage.setSubject(subject, &quot;UTF-8&quot;);\r\n        mineMessage.setContent(content, &quot;plain/plain;charset=UTF-8&quot;);\r\n\r\n [This is the result in Spanish.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EYgOM.png","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Before sending your String to the send method, you must convert the String into UTF-8</p>\n<p>If you are receiving a &quot;request&quot; parameter, you can use &quot;setCharacterEncoding&quot;:</p>\n<pre><code>request.setCharacterEncoding(&quot;utf-8&quot;);\nString subject = request.getParameter(&quot;subject&quot;);\nString content = request.getParameter(&quot;content&quot;);\n...\nMimeMessage mineMessage = new MimeMessage(session);\n        mineMessage.setFrom(new InternetAddress(myAccountEmail));\n        mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\n        mineMessage.setSubject(subject, &quot;UTF-8&quot;);\n        mineMessage.setContent(content, &quot;text/plain;charset=UTF-8&quot;);\n</code></pre>\n<p>Otherwise, convert your String into UTF-8 format with the following method:</p>\n<pre><code>String subject = new String(subject.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\nString content = new String(content.getBytes(Charset.forName(&quot;ISO-8859-1&quot;)), Charset.forName(&quot;UTF-8&quot;));\n...\nMimeMessage mineMessage = new MimeMessage(session);\n    mineMessage.setFrom(new InternetAddress(myAccountEmail));\n    mineMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(recepient));\n    mineMessage.setSubject(subject, &quot;UTF-8&quot;);\n    mineMessage.setContent(content, &quot;plain/plain;charset=UTF-8&quot;);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EYgOM.png\" rel=\"nofollow noreferrer\">This is the result in Spanish.</a></p>\n"},{"tags":[],"owner":{"account_id":4854630,"reputation":21,"user_id":3915978,"display_name":"giantape"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1639745576,"creation_date":1639745576,"answer_id":70393487,"question_id":15044027,"body_markdown":"\r\n\r\n    mimeMessage.setContent(mail.getBody(), &quot;text/html; charset=UTF-8&quot;);\r\n\r\nmaybe iam wrong, but this work for me. :) any &#246;&#246;&#246;, &#228;&#228;&#228;, &#252;&#252;&#252; character will shown correctly in my outlook. \r\n\r\n[outlook screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ogqXL.png","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<pre><code>mimeMessage.setContent(mail.getBody(), &quot;text/html; charset=UTF-8&quot;);\n</code></pre>\n<p>maybe iam wrong, but this work for me. :) any , ,  character will shown correctly in my outlook.</p>\n<p><a href=\"https://i.stack.imgur.com/ogqXL.png\" rel=\"nofollow noreferrer\">outlook screenshot</a></p>\n"},{"tags":[],"owner":{"account_id":26805892,"reputation":1,"user_id":20397213,"display_name":"Antonio Piga"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667844724,"creation_date":1667389393,"answer_id":74288621,"question_id":15044027,"body_markdown":"Maybe is too later, but there is a very simple method to fix this problem.\r\nJust call this constructor to create a MimeMessageHelper that encode UTF-8 as we escpect: \r\n\r\n```\r\nMimeMessage **mimeMessage** = mailSender.createMimeMessage();\r\n\r\nMimeMessageHelper **helper** = new MimeMessageHelper(mimeMessage, false(or true if you want include Multipart), &quot;UTF-8&quot;);\r\n```\r\n\r\nNo more actions are needed, continue the mail sending flow as you wish. \r\n","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>Maybe is too later, but there is a very simple method to fix this problem.\nJust call this constructor to create a MimeMessageHelper that encode UTF-8 as we escpect:</p>\n<pre><code>MimeMessage **mimeMessage** = mailSender.createMimeMessage();\n\nMimeMessageHelper **helper** = new MimeMessageHelper(mimeMessage, false(or true if you want include Multipart), &quot;UTF-8&quot;);\n</code></pre>\n<p>No more actions are needed, continue the mail sending flow as you wish.</p>\n"}],"owner":{"account_id":1830957,"reputation":1722,"user_id":1662364,"accept_rate":77,"display_name":"Martin Rohwedder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98275,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":27404861,"answer_count":8,"score":68,"last_activity_date":1667844724,"creation_date":1361644125,"question_id":15044027,"body_markdown":"I have used [Java Mail API][1], for sending emails. I am using a contact formular to send the input, which has to be send to a specific email.\r\n\r\nThe email is send without problems, though I am a danish guy, and I am therefore in need of three danish characters which is &#39;&#230;&#39;, &#39;&#248;&#39; and &#39;&#229;&#39;, in the subject and the email text.\r\n\r\nI have therefore seen that I can use UTF-8 character encoding, to provide these characters, but when my mail is send I only see some strange letters - &#39;&#227;&#166;&#39;, &#39;&#227;&#184;&#39; and &#39;&#227;&#165;&#39; - instead of the danish letters - &#39;&#230;&#39;, &#39;&#248;&#39; and &#39;&#229;&#39;.\r\n\r\nMy method to send the email is looking like this:\r\n\r\n    public void sendEmail(String name, String fromEmail, String subject, String message) throws AddressException, MessagingException, UnsupportedEncodingException, SendFailedException\r\n    {\r\n        //Set Mail properties\r\n        Properties props = System.getProperties();\r\n        props.setProperty(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n        props.setProperty(&quot;mail.smtp.socketFactory.port&quot;, &quot;465&quot;);\r\n        props.setProperty(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        props.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.setProperty(&quot;mail.smtp.port&quot;, &quot;465&quot;);\r\n        Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\r\n            @Override\r\n            protected PasswordAuthentication getPasswordAuthentication() {\r\n                return new PasswordAuthentication(&quot;my_username&quot;, &quot;my_password&quot;);\r\n            }\r\n        });\r\n\r\n        //Create the email with variable input\r\n        MimeMessage mimeMessage = new MimeMessage(session);\r\n        mimeMessage.setHeader(&quot;Content-Type&quot;, &quot;text/plain; charset=UTF-8&quot;);\r\n        mimeMessage.setFrom(new InternetAddress(fromEmail, name));\r\n        mimeMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(&quot;my_email&quot;));\r\n        mimeMessage.setSubject(subject, &quot;utf-8&quot;);\r\n        mimeMessage.setContent(message, &quot;text/plain&quot;);\r\n        \r\n        //Send the email\r\n        Transport.send(mimeMessage);\r\n    }\r\n\r\nPlease help me find out how I can correct this &#39;error&#39;.\r\n\r\n\r\n  [1]: https://javaee.github.io/javamail/","title":"UTF-8 charset doesn&#39;t work with javax.mail","body":"<p>I have used <a href=\"https://javaee.github.io/javamail/\" rel=\"noreferrer\">Java Mail API</a>, for sending emails. I am using a contact formular to send the input, which has to be send to a specific email.</p>\n\n<p>The email is send without problems, though I am a danish guy, and I am therefore in need of three danish characters which is '', '' and '', in the subject and the email text.</p>\n\n<p>I have therefore seen that I can use UTF-8 character encoding, to provide these characters, but when my mail is send I only see some strange letters - '', '' and '' - instead of the danish letters - '', '' and ''.</p>\n\n<p>My method to send the email is looking like this:</p>\n\n<pre><code>public void sendEmail(String name, String fromEmail, String subject, String message) throws AddressException, MessagingException, UnsupportedEncodingException, SendFailedException\n{\n    //Set Mail properties\n    Properties props = System.getProperties();\n    props.setProperty(\"mail.smtp.starttls.enable\", \"true\");\n    props.setProperty(\"mail.smtp.host\", \"smtp.gmail.com\");\n    props.setProperty(\"mail.smtp.socketFactory.port\", \"465\");\n    props.setProperty(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    props.setProperty(\"mail.smtp.auth\", \"true\");\n    props.setProperty(\"mail.smtp.port\", \"465\");\n    Session session = Session.getDefaultInstance(props, new javax.mail.Authenticator() {\n        @Override\n        protected PasswordAuthentication getPasswordAuthentication() {\n            return new PasswordAuthentication(\"my_username\", \"my_password\");\n        }\n    });\n\n    //Create the email with variable input\n    MimeMessage mimeMessage = new MimeMessage(session);\n    mimeMessage.setHeader(\"Content-Type\", \"text/plain; charset=UTF-8\");\n    mimeMessage.setFrom(new InternetAddress(fromEmail, name));\n    mimeMessage.setRecipient(Message.RecipientType.TO, new InternetAddress(\"my_email\"));\n    mimeMessage.setSubject(subject, \"utf-8\");\n    mimeMessage.setContent(message, \"text/plain\");\n\n    //Send the email\n    Transport.send(mimeMessage);\n}\n</code></pre>\n\n<p>Please help me find out how I can correct this 'error'.</p>\n"},{"tags":["java","windows","swing","awt"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1229980846,"post_id":309023,"comment_id":214919,"body_markdown":"do you have a sample for this behavior?","body":"do you have a sample for this behavior?"},{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":3,"creation_date":1301188537,"post_id":309023,"comment_id":6170020,"body_markdown":"The proper answer is to call `toFront()` on the EDT using `invokeLater`.  There is a simple answer included below, but it is not the accepted answer.  It does work, though.  Perfectly.","body":"The proper answer is to call <code>toFront()</code> on the EDT using <code>invokeLater</code>.  There is a simple answer included below, but it is not the accepted answer.  It does work, though.  Perfectly."},{"owner":{"account_id":203683,"reputation":1269,"user_id":451482,"display_name":"ferdil"},"score":0,"creation_date":1326193778,"post_id":309023,"comment_id":10982042,"body_markdown":"I know this is old, but this also happens on OSX","body":"I know this is old, but this also happens on OSX"},{"owner":{"account_id":28102,"reputation":1655,"user_id":74706,"accept_rate":82,"display_name":"Craig Warren"},"score":0,"creation_date":1327509468,"post_id":309023,"comment_id":11289354,"body_markdown":"I&#39;m experiencing this problem, but none of the answers below seems to solve it. I&#39;m sure it&#39;s caused by windows not allowing me to &#39;Steal&#39; Focus for my first window in the application.","body":"I&#39;m experiencing this problem, but none of the answers below seems to solve it. I&#39;m sure it&#39;s caused by windows not allowing me to &#39;Steal&#39; Focus for my first window in the application."}],"answers":[{"tags":[],"owner":{"account_id":3958,"reputation":4898,"user_id":5814,"display_name":"Brendan Cashman"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1227280980,"creation_date":1227280980,"answer_id":309092,"question_id":309023,"body_markdown":"There are numerous [caveats][1] in the javadoc for the toFront() method which may be causing your problem. \r\n\r\nBut I&#39;ll take a guess anyway, when &quot;only the tab in the taskbar flashes&quot;, has the application been minimized? If so the following line from the javadoc may apply:\r\n\r\n&quot;If this Window is visible, brings this Window to the front and may make it the focused Window.&quot; \r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/awt/Window.html#toFront()","title":"How to bring a window to the front?","body":"<p>There are numerous <a href=\"http://java.sun.com/javase/6/docs/api/java/awt/Window.html#toFront()\" rel=\"nofollow noreferrer\">caveats</a> in the javadoc for the toFront() method which may be causing your problem. </p>\n\n<p>But I'll take a guess anyway, when \"only the tab in the taskbar flashes\", has the application been minimized? If so the following line from the javadoc may apply:</p>\n\n<p>\"If this Window is visible, brings this Window to the front and may make it the focused Window.\" </p>\n"},{"comments":[{"owner":{"account_id":13320,"reputation":5695,"user_id":26671,"accept_rate":86,"display_name":"Ken Paul"},"score":1,"creation_date":1227405629,"post_id":310807,"comment_id":154697,"body_markdown":"+1 for supporting not allowing windows to steal the focus.  I hate when that happens when I&#39;m typing in a document.","body":"+1 for supporting not allowing windows to steal the focus.  I hate when that happens when I&#39;m typing in a document."},{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":1,"creation_date":1227511829,"post_id":310807,"comment_id":156021,"body_markdown":"I completely agree with you against stealing focus, but in this precise case the user expects the application to come to the front. But it would uncool to change the registry settings and change the complete windows behavior.","body":"I completely agree with you against stealing focus, but in this precise case the user expects the application to come to the front. But it would uncool to change the registry settings and change the complete windows behavior."},{"owner":{"account_id":1174306,"reputation":27315,"user_id":1150683,"accept_rate":96,"display_name":"Bram Vanroy"},"score":0,"creation_date":1452082826,"post_id":310807,"comment_id":57010866,"body_markdown":"I am guessing the `super.setAlwaysOnTop(false);` is so that the window isn&#39;t *always* on top, which is necessary to get rid of the `true` we set earlier to bring the window to the front, correct? I&#39;m asking because with your code the window is still always on top in my case, which I obviously don&#39;t want. Running jre1.8.0_66 on Windows 10.","body":"I am guessing the <code>super.setAlwaysOnTop(false);</code> is so that the window isn&#39;t <i>always</i> on top, which is necessary to get rid of the <code>true</code> we set earlier to bring the window to the front, correct? I&#39;m asking because with your code the window is still always on top in my case, which I obviously don&#39;t want. Running jre1.8.0_66 on Windows 10."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1452303809,"post_id":310807,"comment_id":57124177,"body_markdown":"@Bram: Yes that&#39;s correct. I&#39;m running the code on the same version of Java and Windows and it does not end up always on top of other windows. It may not be necessary to set always on top, but I think otherwise Windows just flashes the title bar, at least under some conditions.","body":"@Bram: Yes that&#39;s correct. I&#39;m running the code on the same version of Java and Windows and it does not end up always on top of other windows. It may not be necessary to set always on top, but I think otherwise Windows just flashes the title bar, at least under some conditions."},{"owner":{"account_id":1174306,"reputation":27315,"user_id":1150683,"accept_rate":96,"display_name":"Bram Vanroy"},"score":0,"creation_date":1452341562,"post_id":310807,"comment_id":57132618,"body_markdown":"Hm, strange. Could you take a look at a similar question in which I link to this answer? Maybe that code shows more clearly the issue: http://stackoverflow.com/questions/34637597/bring-jframe-window-to-the-front","body":"Hm, strange. Could you take a look at a similar question in which I link to this answer? Maybe that code shows more clearly the issue: <a href=\"http://stackoverflow.com/questions/34637597/bring-jframe-window-to-the-front\" title=\"bring jframe window to the front\">stackoverflow.com/questions/34637597/&hellip;</a>"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1452480250,"post_id":310807,"comment_id":57173244,"body_markdown":"@Bram: Ahhh. I *have* seen that happen. My best guess is that if the current window receives user input between the time that the `toFront` is invoked and when it is actually displayed it will do what you describe; input focus remainson the window now behind it. I have that happen when I am coding. It&#39;s annoying at times because the new window *looks* like it has focus. I have even had the situation where key input is sent to *both* windows. What I&#39;ve seen looks like a bug in Windows since it only started happening in Win 10 and appears to be an attempt to stop focus stealing, gone wrong.","body":"@Bram: Ahhh. I <i>have</i> seen that happen. My best guess is that if the current window receives user input between the time that the <code>toFront</code> is invoked and when it is actually displayed it will do what you describe; input focus remainson the window now behind it. I have that happen when I am coding. It&#39;s annoying at times because the new window <i>looks</i> like it has focus. I have even had the situation where key input is sent to <i>both</i> windows. What I&#39;ve seen looks like a bug in Windows since it only started happening in Win 10 and appears to be an attempt to stop focus stealing, gone wrong."}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":6,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1429627457,"creation_date":1227324300,"answer_id":310807,"question_id":309023,"body_markdown":"Windows has the facility to prevent windows from stealing focus; instead it flashes the taskbar icon.  In XP it&#39;s on by default (the only place I&#39;ve seen to change it is using TweakUI, but there is a registry setting somewhere).  In Vista they may have changed the default and/or exposed it as a user accessible setting with the out-of-the-box UI.\r\n\r\nPreventing windows from forcing themselves to the front and taking focus is a feature since Windows 2K (and I, for one, am thankful for it).\r\n\r\nThat said, I have a little Java app I use to remind me to record my activities while working, and it makes itself the active window every 30 minutes (configurable, of course).  It always works consistently under Windows XP and never flashes the title bar window.  It uses the following code, called in the UI thread as a result of a timer event firing:\r\n\r\n    if(getState()!=Frame.NORMAL) { setState(Frame.NORMAL); }\r\n    toFront();\r\n    repaint();\r\n\r\n(the first line restores if minimized... actually it would restore it if maximized too, but I never have it so).\r\n\r\nWhile I usually have this app minimized, quite often it&#39;s simply behind my text editor.  And, like I said, it always works.\r\n\r\nI do have an idea on what your problem could be - perhaps you have a race condition with the setVisible() call.  toFront() may not be valid unless the window is actually displayed when it is called; I have had this problem with requestFocus() before.  You may need to put the toFront() call in a UI listener on a window activated event.\r\n\r\n**2014-09-07:** At some point in time the above code stopped working, perhaps at Java 6 or 7. After some investigation and experimentation I had to update the code to override the window&#39;s `toFront` method do this (in conjunction with modified code from what is above):\r\n\r\n    setVisible(true);\r\n    toFront();\r\n    requestFocus();\r\n    repaint();\r\n\r\n    ...\r\n\r\n    public @Override void toFront() {\r\n        int sta = super.getExtendedState() &amp; ~JFrame.ICONIFIED &amp; JFrame.NORMAL;\r\n        \r\n        super.setExtendedState(sta);\r\n        super.setAlwaysOnTop(true);\r\n        super.toFront();\r\n        super.requestFocus();\r\n        super.setAlwaysOnTop(false);\r\n    }\r\n\r\nAs of Java 8_20, this code seems to be working fine.","title":"How to bring a window to the front?","body":"<p>Windows has the facility to prevent windows from stealing focus; instead it flashes the taskbar icon.  In XP it's on by default (the only place I've seen to change it is using TweakUI, but there is a registry setting somewhere).  In Vista they may have changed the default and/or exposed it as a user accessible setting with the out-of-the-box UI.</p>\n\n<p>Preventing windows from forcing themselves to the front and taking focus is a feature since Windows 2K (and I, for one, am thankful for it).</p>\n\n<p>That said, I have a little Java app I use to remind me to record my activities while working, and it makes itself the active window every 30 minutes (configurable, of course).  It always works consistently under Windows XP and never flashes the title bar window.  It uses the following code, called in the UI thread as a result of a timer event firing:</p>\n\n<pre><code>if(getState()!=Frame.NORMAL) { setState(Frame.NORMAL); }\ntoFront();\nrepaint();\n</code></pre>\n\n<p>(the first line restores if minimized... actually it would restore it if maximized too, but I never have it so).</p>\n\n<p>While I usually have this app minimized, quite often it's simply behind my text editor.  And, like I said, it always works.</p>\n\n<p>I do have an idea on what your problem could be - perhaps you have a race condition with the setVisible() call.  toFront() may not be valid unless the window is actually displayed when it is called; I have had this problem with requestFocus() before.  You may need to put the toFront() call in a UI listener on a window activated event.</p>\n\n<p><strong>2014-09-07:</strong> At some point in time the above code stopped working, perhaps at Java 6 or 7. After some investigation and experimentation I had to update the code to override the window's <code>toFront</code> method do this (in conjunction with modified code from what is above):</p>\n\n<pre><code>setVisible(true);\ntoFront();\nrequestFocus();\nrepaint();\n\n...\n\npublic @Override void toFront() {\n    int sta = super.getExtendedState() &amp; ~JFrame.ICONIFIED &amp; JFrame.NORMAL;\n\n    super.setExtendedState(sta);\n    super.setAlwaysOnTop(true);\n    super.toFront();\n    super.requestFocus();\n    super.setAlwaysOnTop(false);\n}\n</code></pre>\n\n<p>As of Java 8_20, this code seems to be working fine.</p>\n"},{"comments":[{"owner":{"account_id":455529,"reputation":1406,"user_id":853728,"accept_rate":60,"display_name":"java.is.for.desktop.indeed"},"score":8,"creation_date":1313399558,"post_id":387365,"comment_id":8448747,"body_markdown":"Perhaps one should start ALL the UI code inside invokeLater in first place? ;)","body":"Perhaps one should start ALL the UI code inside invokeLater in first place? ;)"},{"owner":{"account_id":188676,"reputation":64939,"user_id":427545,"accept_rate":71,"display_name":"Lekensteyn"},"score":2,"creation_date":1358033006,"post_id":387365,"comment_id":19861211,"body_markdown":"Did not work for me in Java 7 on KDE 4.9.5, the window would still hide below other programs. What helped me was changing the order of bringing windows to the front. Instead of hiding one window and show the second window, show the second window and then hide the first window (JFrame).","body":"Did not work for me in Java 7 on KDE 4.9.5, the window would still hide below other programs. What helped me was changing the order of bringing windows to the front. Instead of hiding one window and show the second window, show the second window and then hide the first window (JFrame)."},{"owner":{"account_id":90942,"reputation":5533,"user_id":250030,"accept_rate":88,"display_name":"Elliott"},"score":1,"creation_date":1460581070,"post_id":387365,"comment_id":60815476,"body_markdown":"Works with Windows 10 running Java 1.8 in an applet","body":"Works with Windows 10 running Java 1.8 in an applet"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1519524747,"post_id":387365,"comment_id":84944657,"body_markdown":"What would be the inverse method?","body":"What would be the inverse method?"}],"tags":[],"owner":{},"comment_count":4,"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1327511736,"creation_date":1229980177,"answer_id":387365,"question_id":309023,"body_markdown":"A possible solution is:\r\n\r\n    java.awt.EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            myFrame.toFront();\r\n            myFrame.repaint();\r\n        }\r\n    });\r\n","title":"How to bring a window to the front?","body":"<p>A possible solution is:</p>\n\n<pre><code>java.awt.EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        myFrame.toFront();\n        myFrame.repaint();\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1282168138,"post_id":596141,"comment_id":3677325,"body_markdown":"Thanks!\nAlso related is this question: http://stackoverflow.com/questions/2315560/how-do-you-force-a-java-swt-program-to-move-itself-to-the-foreground","body":"Thanks! Also related is this question: <a href=\"http://stackoverflow.com/questions/2315560/how-do-you-force-a-java-swt-program-to-move-itself-to-the-foreground\" title=\"how do you force a java swt program to move itself to the foreground\">stackoverflow.com/questions/2315560/&hellip;</a>"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1363454615,"post_id":596141,"comment_id":21862700,"body_markdown":"It doesn&#39;t compile by me because of setDisposed() method. Can&#39;t be found.","body":"It doesn&#39;t compile by me because of setDisposed() method. Can&#39;t be found."},{"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"score":1,"creation_date":1363468597,"post_id":596141,"comment_id":21866967,"body_markdown":"@ka3ak This is a protected setter that could be introduced in the suggested JFrame-base class in order to track the situation with frame  being disposed. Method dispose() would need to be overridden with a call to setDisposed(true). This is not strictly speaking needed for everyone.","body":"@ka3ak This is a protected setter that could be introduced in the suggested JFrame-base class in order to track the situation with frame  being disposed. Method dispose() would need to be overridden with a call to setDisposed(true). This is not strictly speaking needed for everyone."},{"owner":{"account_id":2074554,"reputation":2139,"user_id":1848286,"accept_rate":80,"display_name":"DGolberg"},"score":1,"creation_date":1392319608,"post_id":596141,"comment_id":32922144,"body_markdown":"The `.setAlwaysOnTop(true);` was the only one that worked for me when using a JWindow.","body":"The <code>.setAlwaysOnTop(true);</code> was the only one that worked for me when using a JWindow."},{"owner":{"account_id":75221,"reputation":5709,"user_id":215838,"accept_rate":67,"display_name":"Hartmut Pfarr"},"score":0,"creation_date":1540460038,"post_id":596141,"comment_id":92877388,"body_markdown":"```setAlwaysOnTop(true)``` is the only way I get it runing under windows 10 - thanks!","body":"<code>setAlwaysOnTop(true)</code> is the only way I get it runing under windows 10 - thanks!"}],"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"comment_count":5,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1455581549,"creation_date":1235761300,"answer_id":596141,"question_id":309023,"body_markdown":"I had the same problem with bringing a `JFrame` to the front under Ubuntu (Java 1.6.0_10). And the only way I could resolve it is by providing a `WindowListener`. Specifically, I had to set my `JFrame` to always stay on top whenever `toFront()` is invoked, and provide `windowDeactivated` event handler to `setAlwaysOnTop(false)`. \r\n\r\n\r\n----------\r\n\r\n\r\nSo, here is the code that could be placed into a base `JFrame`, which is used to derive all application frames.\r\n\r\n    @Override\r\n    public void setVisible(final boolean visible) {\r\n\t  // make sure that frame is marked as not disposed if it is asked to be visible\r\n\t  if (visible) {\r\n\t      setDisposed(false);\r\n\t  }\r\n\t  // let&#39;s handle visibility...\r\n\t  if (!visible || !isVisible()) { // have to check this condition simply because super.setVisible(true) invokes toFront if frame was already visible\r\n\t      super.setVisible(visible);\r\n\t  }\r\n\t  // ...and bring frame to the front.. in a strange and weird way\r\n\t  if (visible) {\r\n          toFront();\r\n\t  }\r\n    }\r\n\r\n    @Override\r\n    public void toFront() {\r\n\t  super.setVisible(true);\r\n\t  int state = super.getExtendedState();\r\n\t  state &amp;= ~JFrame.ICONIFIED;\r\n\t  super.setExtendedState(state);\r\n\t  super.setAlwaysOnTop(true);\r\n\t  super.toFront();\r\n\t  super.requestFocus();\r\n\t  super.setAlwaysOnTop(false);\r\n    }\r\n\r\n\r\nWhenever your frame should be displayed or brought to front call `frame.setVisible(true)`.\r\n\r\nSince I moved to Ubuntu 9.04 there seems to be no need in having a `WindowListener` for invoking `super.setAlwaysOnTop(false)` -- as can be observed; this code was moved to the methods `toFront()` and `setVisible()`.\r\n\r\nPlease note that method `setVisible()` should always be invoked on EDT.","title":"How to bring a window to the front?","body":"<p>I had the same problem with bringing a <code>JFrame</code> to the front under Ubuntu (Java 1.6.0_10). And the only way I could resolve it is by providing a <code>WindowListener</code>. Specifically, I had to set my <code>JFrame</code> to always stay on top whenever <code>toFront()</code> is invoked, and provide <code>windowDeactivated</code> event handler to <code>setAlwaysOnTop(false)</code>. </p>\n\n<hr>\n\n<p>So, here is the code that could be placed into a base <code>JFrame</code>, which is used to derive all application frames.</p>\n\n<pre><code>@Override\npublic void setVisible(final boolean visible) {\n  // make sure that frame is marked as not disposed if it is asked to be visible\n  if (visible) {\n      setDisposed(false);\n  }\n  // let's handle visibility...\n  if (!visible || !isVisible()) { // have to check this condition simply because super.setVisible(true) invokes toFront if frame was already visible\n      super.setVisible(visible);\n  }\n  // ...and bring frame to the front.. in a strange and weird way\n  if (visible) {\n      toFront();\n  }\n}\n\n@Override\npublic void toFront() {\n  super.setVisible(true);\n  int state = super.getExtendedState();\n  state &amp;= ~JFrame.ICONIFIED;\n  super.setExtendedState(state);\n  super.setAlwaysOnTop(true);\n  super.toFront();\n  super.requestFocus();\n  super.setAlwaysOnTop(false);\n}\n</code></pre>\n\n<p>Whenever your frame should be displayed or brought to front call <code>frame.setVisible(true)</code>.</p>\n\n<p>Since I moved to Ubuntu 9.04 there seems to be no need in having a <code>WindowListener</code> for invoking <code>super.setAlwaysOnTop(false)</code> -- as can be observed; this code was moved to the methods <code>toFront()</code> and <code>setVisible()</code>.</p>\n\n<p>Please note that method <code>setVisible()</code> should always be invoked on EDT.</p>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":1,"creation_date":1310488754,"post_id":4079351,"comment_id":7884172,"body_markdown":"causes some blinking though doesn&#39;t it? nice and simple though :)","body":"causes some blinking though doesn&#39;t it? nice and simple though :)"},{"owner":{"account_id":447689,"reputation":6445,"user_id":841457,"accept_rate":40,"display_name":"DragonLord"},"score":0,"creation_date":1390516947,"post_id":4079351,"comment_id":32137952,"body_markdown":"did not work for my background process.  Also window comes up white for the first refresh if called from foreground process. Can&#39;t use for screen grabs.","body":"did not work for my background process.  Also window comes up white for the first refresh if called from foreground process. Can&#39;t use for screen grabs."},{"owner":{"account_id":189427,"reputation":1307,"user_id":428751,"display_name":"totaam"},"score":0,"creation_date":1414922899,"post_id":4079351,"comment_id":41990520,"body_markdown":"blinking can be avoided by checking if the window is iconified or not","body":"blinking can be avoided by checking if the window is iconified or not"}],"tags":[],"owner":{"account_id":665461,"reputation":41,"user_id":494924,"display_name":"Rich"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1288712510,"creation_date":1288712510,"answer_id":4079351,"question_id":309023,"body_markdown":"Simplest way I&#39;ve found that doesn&#39;t have inconsistency across platforms:\r\n\r\nsetVisible(false);\r\nsetVisible(true);","title":"How to bring a window to the front?","body":"<p>Simplest way I've found that doesn't have inconsistency across platforms:</p>\n\n<p>setVisible(false);\nsetVisible(true);</p>\n"},{"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":2,"creation_date":1440422743,"post_id":5951777,"comment_id":52252324,"body_markdown":"The `repaint()` is not necessary, the `invokeLater()` did it. Thank you.","body":"The <code>repaint()</code> is not necessary, the <code>invokeLater()</code> did it. Thank you."}],"tags":[],"owner":{"account_id":358460,"reputation":5078,"user_id":699240,"display_name":"Mr Ed"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305038328,"creation_date":1305038328,"answer_id":5951777,"question_id":309023,"body_markdown":"This simple method worked for me perfectly in Windows 7:\r\n\r\n        private void BringToFront() {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if(jFrame != null) {\r\n                        jFrame.toFront();\r\n                        jFrame.repaint();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n","title":"How to bring a window to the front?","body":"<p>This simple method worked for me perfectly in Windows 7:</p>\n\n<pre><code>    private void BringToFront() {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                if(jFrame != null) {\n                    jFrame.toFront();\n                    jFrame.repaint();\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63479,"reputation":5810,"user_id":187883,"accept_rate":100,"display_name":"NateS"},"score":0,"creation_date":1376693461,"post_id":6469799,"comment_id":26821475,"body_markdown":"Didn&#39;t work on Win7, both windows flash (if I don&#39;t hide the 2nd).","body":"Didn&#39;t work on Win7, both windows flash (if I don&#39;t hide the 2nd)."},{"owner":{"account_id":447689,"reputation":6445,"user_id":841457,"accept_rate":40,"display_name":"DragonLord"},"score":0,"creation_date":1390517243,"post_id":6469799,"comment_id":32138098,"body_markdown":"Creative. Didn&#39;t work for my background process on Win7, when covered. New frame does not come up on top.  Older JDK 6u21.","body":"Creative. Didn&#39;t work for my background process on Win7, when covered. New frame does not come up on top.  Older JDK 6u21."}],"tags":[],"owner":{"account_id":22136,"reputation":1061,"user_id":54335,"accept_rate":25,"display_name":"christopher"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308928307,"creation_date":1308928307,"answer_id":6469799,"question_id":309023,"body_markdown":"The rules governing what happens when you .toFront() a JFrame are the same in windows and in linux :\r\n\r\n-&gt; if a window of the existing application is currently the focused window, then focus swaps to the requested window\r\n-&gt; if not, the window merely flashes in the taskbar\r\n\r\nBUT : \r\n\r\n-&gt; new windows automatically get focus\r\n\r\nSo let&#39;s exploit this ! You want to bring a window to the front, how to do it ? Well :\r\n\r\n1. Create an empty non-purpose window\r\n2. Show it\r\n3. Wait for it to show up on screen (setVisible does that)\r\n4. When shown, request focus for the window you actually want to bring the focus to\r\n5. hide the empty window, destroy it\r\n\r\nOr, in java code :\r\n\r\n    // unminimize if necessary\r\n    this.setExtendedState(this.getExtendedState() &amp; ~JFrame.ICONIFIED);\r\n\r\n    // don&#39;t blame me, blame my upbringing\r\n    // or better yet, blame java !\r\n    final JFrame newFrame = new JFrame();\r\n    newFrame.add(new JLabel(&quot;boembabies, is this in front ?&quot;));\r\n\r\n    newFrame.pack();\r\n    newFrame.setVisible(true);\r\n    newFrame.toFront();\r\n\r\n    this.toFront();\r\n    this.requestFocus();\r\n\r\n    // I&#39;m not 100% positive invokeLater is necessary, but it seems to be on\r\n    // WinXP. I&#39;d be lying if I said I understand why\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n      @Override public void run() {\r\n        newFrame.setVisible(false);\r\n      }\r\n    });\r\n","title":"How to bring a window to the front?","body":"<p>The rules governing what happens when you .toFront() a JFrame are the same in windows and in linux :</p>\n\n<p>-> if a window of the existing application is currently the focused window, then focus swaps to the requested window\n-> if not, the window merely flashes in the taskbar</p>\n\n<p>BUT : </p>\n\n<p>-> new windows automatically get focus</p>\n\n<p>So let's exploit this ! You want to bring a window to the front, how to do it ? Well :</p>\n\n<ol>\n<li>Create an empty non-purpose window</li>\n<li>Show it</li>\n<li>Wait for it to show up on screen (setVisible does that)</li>\n<li>When shown, request focus for the window you actually want to bring the focus to</li>\n<li>hide the empty window, destroy it</li>\n</ol>\n\n<p>Or, in java code :</p>\n\n<pre><code>// unminimize if necessary\nthis.setExtendedState(this.getExtendedState() &amp; ~JFrame.ICONIFIED);\n\n// don't blame me, blame my upbringing\n// or better yet, blame java !\nfinal JFrame newFrame = new JFrame();\nnewFrame.add(new JLabel(\"boembabies, is this in front ?\"));\n\nnewFrame.pack();\nnewFrame.setVisible(true);\nnewFrame.toFront();\n\nthis.toFront();\nthis.requestFocus();\n\n// I'm not 100% positive invokeLater is necessary, but it seems to be on\n// WinXP. I'd be lying if I said I understand why\nSwingUtilities.invokeLater(new Runnable() {\n  @Override public void run() {\n    newFrame.setVisible(false);\n  }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31094,"reputation":1370,"user_id":85155,"accept_rate":75,"display_name":"user85155"},"score":0,"creation_date":1348245652,"post_id":7404378,"comment_id":16876980,"body_markdown":"A little hacky, works for us, but only for the first call :-). (Kubuntu 12.04) - other solution did fail","body":"A little hacky, works for us, but only for the first call :-). (Kubuntu 12.04) - other solution did fail"},{"owner":{"account_id":72738,"reputation":1918,"user_id":209866,"accept_rate":81,"display_name":"glenneroo"},"score":0,"creation_date":1463499415,"post_id":7404378,"comment_id":62086547,"body_markdown":"This was the only solution that worked for me (Windows Server 2012 R2) for an issue where a JFrame (login) is opened but doesn&#39;t have focus until the user clicks on it.","body":"This was the only solution that worked for me (Windows Server 2012 R2) for an issue where a JFrame (login) is opened but doesn&#39;t have focus until the user clicks on it."}],"tags":[],"owner":{"display_name":"user942821"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315927311,"creation_date":1315927311,"answer_id":7404378,"question_id":309023,"body_markdown":"Hj, all methods of yours are not working for me, in Fedora KDE 14. I have a dirty way to do bring a window to front, while we&#39;re waiting for Oracle to fix this issue.\r\n\r\n    import java.awt.MouseInfo;\r\n    import java.awt.Point;\r\n    import java.awt.Robot;\r\n    import java.awt.event.InputEvent;\r\n\r\n    public class FrameMain extends javax.swing.JFrame {\r\n\r\n      //...\r\n      private final javax.swing.JFrame mainFrame = this;\r\n\r\n      private void toggleVisible() {\r\n        setVisible(!isVisible());\r\n        if (isVisible()) {\r\n          toFront();\r\n          requestFocus();\r\n          setAlwaysOnTop(true);\r\n          try {\r\n            //remember the last location of mouse\r\n            final Point oldMouseLocation = MouseInfo.getPointerInfo().getLocation();\r\n\r\n            //simulate a mouse click on title bar of window\r\n            Robot robot = new Robot();\r\n            robot.mouseMove(mainFrame.getX() + 100, mainFrame.getY() + 5);\r\n            robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\r\n            robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\r\n\r\n            //move mouse to old location\r\n            robot.mouseMove((int) oldMouseLocation.getX(), (int) oldMouseLocation.getY());\r\n          } catch (Exception ex) {\r\n            //just ignore exception, or you can handle it as you want\r\n          } finally {\r\n            setAlwaysOnTop(false);\r\n          }\r\n        }\r\n      }\r\n\r\n      //...\r\n\r\n    }\r\n\r\nAnd, this works perfectly in my Fedora KDE 14  :-)","title":"How to bring a window to the front?","body":"<p>Hj, all methods of yours are not working for me, in Fedora KDE 14. I have a dirty way to do bring a window to front, while we're waiting for Oracle to fix this issue.</p>\n\n<pre><code>import java.awt.MouseInfo;\nimport java.awt.Point;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\n\npublic class FrameMain extends javax.swing.JFrame {\n\n  //...\n  private final javax.swing.JFrame mainFrame = this;\n\n  private void toggleVisible() {\n    setVisible(!isVisible());\n    if (isVisible()) {\n      toFront();\n      requestFocus();\n      setAlwaysOnTop(true);\n      try {\n        //remember the last location of mouse\n        final Point oldMouseLocation = MouseInfo.getPointerInfo().getLocation();\n\n        //simulate a mouse click on title bar of window\n        Robot robot = new Robot();\n        robot.mouseMove(mainFrame.getX() + 100, mainFrame.getY() + 5);\n        robot.mousePress(InputEvent.BUTTON1_DOWN_MASK);\n        robot.mouseRelease(InputEvent.BUTTON1_DOWN_MASK);\n\n        //move mouse to old location\n        robot.mouseMove((int) oldMouseLocation.getX(), (int) oldMouseLocation.getY());\n      } catch (Exception ex) {\n        //just ignore exception, or you can handle it as you want\n      } finally {\n        setAlwaysOnTop(false);\n      }\n    }\n  }\n\n  //...\n\n}\n</code></pre>\n\n<p>And, this works perfectly in my Fedora KDE 14  :-)</p>\n"},{"comments":[{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1322093779,"post_id":7435722,"comment_id":10152273,"body_markdown":"Thanks for the setExtendedState tip. I used it along with the                 toFront() and repaint() solution to bring the window to the foreground even if it was minimized.","body":"Thanks for the setExtendedState tip. I used it along with the                 toFront() and repaint() solution to bring the window to the foreground even if it was minimized."},{"owner":{"account_id":873510,"reputation":1813,"user_id":923837,"accept_rate":90,"display_name":"Eric Lindauer"},"score":1,"creation_date":1337653235,"post_id":7435722,"comment_id":13883408,"body_markdown":"Confirmed: this solution works in WindowsXP, using toFront results in flashing message in task bar.  Thanks!","body":"Confirmed: this solution works in WindowsXP, using toFront results in flashing message in task bar.  Thanks!"}],"tags":[],"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1316111612,"creation_date":1316111612,"answer_id":7435722,"question_id":309023,"body_markdown":"Here&#39;s a method that REALLY works (tested on Windows Vista) :D\r\n\r\n       frame.setExtendedState(JFrame.ICONIFIED);\r\n       frame.setExtendedState(fullscreen ? JFrame.MAXIMIZED_BOTH : JFrame.NORMAL);\r\n\r\nThe fullscreen variable indicates if you want the app to run full screen or windowed.\r\n\r\nThis does not flash the task bar, but bring the window to front reliably.\r\n\r\n","title":"How to bring a window to the front?","body":"<p>Here's a method that REALLY works (tested on Windows Vista) :D</p>\n\n<pre><code>   frame.setExtendedState(JFrame.ICONIFIED);\n   frame.setExtendedState(fullscreen ? JFrame.MAXIMIZED_BOTH : JFrame.NORMAL);\n</code></pre>\n\n<p>The fullscreen variable indicates if you want the app to run full screen or windowed.</p>\n\n<p>This does not flash the task bar, but bring the window to front reliably.</p>\n"},{"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331299636,"creation_date":1331299636,"answer_id":9634804,"question_id":309023,"body_markdown":"I tested your answers and only [Stefan Reich&#39;s one](https://stackoverflow.com/questions/309023/howto-bring-a-java-window-to-the-front#answer-7435722) worked for me. Although I couldn&#39;t manage to restore the window to its previous state (maximized/normal). I found this mutation better:\r\n\r\n    view.setState(java.awt.Frame.ICONIFIED);\r\n    view.setState(java.awt.Frame.NORMAL);\r\n\r\nThat is `setState` instead of `setExtendedState`.","title":"How to bring a window to the front?","body":"<p>I tested your answers and only <a href=\"https://stackoverflow.com/questions/309023/howto-bring-a-java-window-to-the-front#answer-7435722\">Stefan Reich's one</a> worked for me. Although I couldn't manage to restore the window to its previous state (maximized/normal). I found this mutation better:</p>\n\n<pre><code>view.setState(java.awt.Frame.ICONIFIED);\nview.setState(java.awt.Frame.NORMAL);\n</code></pre>\n\n<p>That is <code>setState</code> instead of <code>setExtendedState</code>.</p>\n"},{"tags":[],"owner":{"account_id":1435974,"reputation":4291,"user_id":1357338,"accept_rate":88,"display_name":"Martin Sansone - MiOEE"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419972907,"creation_date":1419972907,"answer_id":27712431,"question_id":309023,"body_markdown":"To avoid the window losing focus when its returning to visible after being hidden all that is needed is:\r\n\r\n    setExtendedState(JFrame.NORMAL);\r\n\r\nLike so:\r\n\r\n    defaultItem.addActionListener(new ActionListener() {\r\n\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\tshowWindow();\r\n\t\t\t\t\tsetExtendedState(JFrame.NORMAL);\r\n\t\t\t\t}\r\n\t});","title":"How to bring a window to the front?","body":"<p>To avoid the window losing focus when its returning to visible after being hidden all that is needed is:</p>\n\n<pre><code>setExtendedState(JFrame.NORMAL);\n</code></pre>\n\n<p>Like so:</p>\n\n<pre><code>defaultItem.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                showWindow();\n                setExtendedState(JFrame.NORMAL);\n            }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667844003,"creation_date":1667844003,"answer_id":74350943,"question_id":309023,"body_markdown":"Ran into a problem with the iconified/restore approach on Windows when the application has multiple JFrames.  In this case, I found that hiding the other JFrames, then forcing the window to the front, then unhiding the JFrames did the trick.\r\n\r\n        private static void bringFrameToTop(Frame topFrame) {\r\n\t\tjava.awt.EventQueue.invokeLater(new Runnable() {\r\n\t\t    @Override\r\n\t\t    public void run() {\r\n\t\t    \t\r\n\t\t    \tList&lt;Frame&gt; framesToShow = new ArrayList&lt;&gt;();\r\n\t\t    \t\r\n\t\t\t\tfor(Frame f : Frame.getFrames()) {\r\n\t\t\t\t\tif (f != topFrame &amp;&amp; f.isShowing()) {\r\n\t\t\t\t\t\tframesToShow.add(f);\r\n\t\t\t\t\t\tf.setVisible(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t    \t// Force our dialog to the front\r\n\t\t    \tint origState = topFrame.getExtendedState();\r\n\t\t    \ttopFrame.setExtendedState(JFrame.ICONIFIED);\r\n\t\t    \ttopFrame.setExtendedState(origState);\r\n\t\t    \t\r\n    // these don&#39;t appear to help anything\t\t    \t\r\n    //\t\t    \ttopFrame.toFront();\r\n    //\t\t    \ttopFrame.repaint();\r\n\r\n\t\t    \tfor(Frame f : framesToShow) {\r\n\t\t    \t\tf.setVisible(true);\r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    \ttopFrame.toFront();\r\n\t\t    }\r\n\t\t});\r\n    \t\r\n    }","title":"How to bring a window to the front?","body":"<p>Ran into a problem with the iconified/restore approach on Windows when the application has multiple JFrames.  In this case, I found that hiding the other JFrames, then forcing the window to the front, then unhiding the JFrames did the trick.</p>\n<pre><code>    private static void bringFrameToTop(Frame topFrame) {\n    java.awt.EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            \n            List&lt;Frame&gt; framesToShow = new ArrayList&lt;&gt;();\n            \n            for(Frame f : Frame.getFrames()) {\n                if (f != topFrame &amp;&amp; f.isShowing()) {\n                    framesToShow.add(f);\n                    f.setVisible(false);\n                }\n            }\n\n            // Force our dialog to the front\n            int origState = topFrame.getExtendedState();\n            topFrame.setExtendedState(JFrame.ICONIFIED);\n            topFrame.setExtendedState(origState);\n            \n// these don't appear to help anything              \n//              topFrame.toFront();\n//              topFrame.repaint();\n\n            for(Frame f : framesToShow) {\n                f.setVisible(true);\n            }\n            \n            topFrame.toFront();\n        }\n    });\n    \n}\n</code></pre>\n"}],"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165030,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":387365,"answer_count":12,"score":96,"last_activity_date":1667844003,"creation_date":1227279640,"question_id":309023,"body_markdown":"We have a Java application that needs to be brought to the foreground when a telecontrol mechanism activates something in the application.\r\n\r\nIn order to get this, we have realized in the called method of the class which represents the frame of our application (extension of a `JFrame`) following implementation:\r\n\r\n    setVisible(true);\r\n    toFront();\r\n\r\nUnder Windows XP, this works the first time it is called, on the second time only the tab in the taskbar flashes, the frame doesn&#39;t come to the front anymore. Same goes for Win2k. On Vista it seems to work fine.\r\n\r\nDo you have any ideas?","title":"How to bring a window to the front?","body":"<p>We have a Java application that needs to be brought to the foreground when a telecontrol mechanism activates something in the application.</p>\n\n<p>In order to get this, we have realized in the called method of the class which represents the frame of our application (extension of a <code>JFrame</code>) following implementation:</p>\n\n<pre><code>setVisible(true);\ntoFront();\n</code></pre>\n\n<p>Under Windows XP, this works the first time it is called, on the second time only the tab in the taskbar flashes, the frame doesn't come to the front anymore. Same goes for Win2k. On Vista it seems to work fine.</p>\n\n<p>Do you have any ideas?</p>\n"},{"tags":["java","jmeter","jmeter-5.0"],"answers":[{"comments":[{"owner":{"account_id":46170,"reputation":674,"user_id":136298,"accept_rate":44,"display_name":"Simon Tower"},"score":0,"creation_date":1668109651,"post_id":73891470,"comment_id":131333027,"body_markdown":"For clarity&#39;s sake, this worked for me once I replaced `foo` with `Date`","body":"For clarity&#39;s sake, this worked for me once I replaced <code>foo</code> with <code>Date</code>"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664434799,"creation_date":1664434799,"answer_id":73891470,"question_id":73887606,"body_markdown":"As it evidenced by its name [HTTP Header Manager][1] controls headers for the [HTTP][2] protocol\r\n\r\nIf you need to add header for the [SMTP protocol][3] there is a special input in the [SMTP sampler][4]:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nOr if you prefer manually editing the XML:\r\n\r\n\t&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n\t  &lt;elementProp name=&quot;foo&quot; elementType=&quot;Argument&quot;&gt;\r\n\t    &lt;stringProp name=&quot;Argument.name&quot;&gt;foo&lt;/stringProp&gt;\r\n\t    &lt;stringProp name=&quot;Argument.value&quot;&gt;bar&lt;/stringProp&gt;\r\n\t  &lt;/elementProp&gt;\r\n\t&lt;/collectionProp&gt;\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/http-header-manager\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP\r\n  [3]: https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\r\n  [4]: https://jmeter.apache.org/usermanual/component_reference.html#SMTP_Sampler\r\n  [5]: https://i.stack.imgur.com/Vf9dw.png","title":"Jmeter 5.5 XML SMTP Sampler config - cannot set headers","body":"<p>As it evidenced by its name <a href=\"https://www.blazemeter.com/blog/http-header-manager\" rel=\"nofollow noreferrer\">HTTP Header Manager</a> controls headers for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP\" rel=\"nofollow noreferrer\">HTTP</a> protocol</p>\n<p>If you need to add header for the <a href=\"https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\" rel=\"nofollow noreferrer\">SMTP protocol</a> there is a special input in the <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#SMTP_Sampler\" rel=\"nofollow noreferrer\">SMTP sampler</a>:</p>\n<p><a href=\"https://i.stack.imgur.com/Vf9dw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vf9dw.png\" alt=\"enter image description here\" /></a></p>\n<p>Or if you prefer manually editing the XML:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n  &lt;elementProp name=&quot;foo&quot; elementType=&quot;Argument&quot;&gt;\n    &lt;stringProp name=&quot;Argument.name&quot;&gt;foo&lt;/stringProp&gt;\n    &lt;stringProp name=&quot;Argument.value&quot;&gt;bar&lt;/stringProp&gt;\n  &lt;/elementProp&gt;\n&lt;/collectionProp&gt;\n</code></pre>\n"}],"owner":{"account_id":46170,"reputation":674,"user_id":136298,"accept_rate":44,"display_name":"Simon Tower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73891470,"answer_count":1,"score":0,"last_activity_date":1667843734,"creation_date":1664398041,"question_id":73887606,"body_markdown":"I&#39;m trying to set up a local Jmeter run with this .jmx file (XML):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jmeterTestPlan version=&quot;1.2&quot; properties=&quot;5.0&quot; jmeter=&quot;5.4&quot;&gt;\r\n  &lt;hashTree&gt;\r\n    &lt;TestPlan guiclass=&quot;TestPlanGui&quot; testclass=&quot;TestPlan&quot; testname=&quot;Perf Tests&quot; enabled=&quot;true&quot;&gt;\r\n      &lt;stringProp name=&quot;TestPlan.comments&quot;&gt;&lt;/stringProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.functional_mode&quot;&gt;false&lt;/boolProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.tearDown_on_shutdown&quot;&gt;true&lt;/boolProp&gt;\r\n      &lt;boolProp name=&quot;TestPlan.serialize_threadgroups&quot;&gt;false&lt;/boolProp&gt;\r\n      &lt;elementProp name=&quot;TestPlan.user_defined_variables&quot; elementType=&quot;Arguments&quot; guiclass=&quot;ArgumentsPanel&quot; testclass=&quot;Arguments&quot; testname=&quot;User Defined Variables&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;collectionProp name=&quot;Arguments.arguments&quot;/&gt;\r\n      &lt;/elementProp&gt;\r\n      &lt;stringProp name=&quot;TestPlan.user_define_classpath&quot;&gt;&lt;/stringProp&gt;\r\n    &lt;/TestPlan&gt;\r\n    &lt;hashTree&gt;\r\n      &lt;ThreadGroup guiclass=&quot;ThreadGroupGui&quot; testclass=&quot;ThreadGroup&quot; testname=&quot;Big - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.on_sample_error&quot;&gt;continue&lt;/stringProp&gt;\r\n        &lt;elementProp name=&quot;ThreadGroup.main_controller&quot; elementType=&quot;LoopController&quot; guiclass=&quot;LoopControlPanel&quot; testclass=&quot;LoopController&quot; testname=&quot;Loop Controller&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;boolProp name=&quot;LoopController.continue_forever&quot;&gt;false&lt;/boolProp&gt;\r\n          &lt;stringProp name=&quot;LoopController.loops&quot;&gt;10&lt;/stringProp&gt;\r\n        &lt;/elementProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.num_threads&quot;&gt;5&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.ramp_time&quot;&gt;5&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;ThreadGroup.scheduler&quot;&gt;false&lt;/boolProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.duration&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;stringProp name=&quot;ThreadGroup.delay&quot;&gt;&lt;/stringProp&gt;\r\n        &lt;boolProp name=&quot;ThreadGroup.same_user_on_next_iteration&quot;&gt;true&lt;/boolProp&gt;\r\n      &lt;/ThreadGroup&gt;\r\n      &lt;hashTree&gt;\r\n        &lt;SmtpSampler guiclass=&quot;SmtpSamplerGui&quot; testclass=&quot;SmtpSampler&quot; testname=&quot;Email - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.server&quot;&gt;localhost&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverPort&quot;&gt;8080&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverTimeout&quot;&gt;15000&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.serverConnectionTimeout&quot;&gt;15000&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.mailFrom&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.replyTo&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverTo&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverCC&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.receiverBCC&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.subject&quot;&gt;Perf Test - 1 attachment 8mb&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.suppressSubject&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.include_timestamp&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.message&quot;&gt;Hello World - Perf Test!&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.plainBody&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.attachFile&quot;&gt;8mb-content-size.pdf&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useSSL&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useStartTLS&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.trustAllCerts&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.enforceStartTLS&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useLocalTrustStore&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.trustStoreToUse&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.tlsProtocols&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;boolProp name=&quot;SMTPSampler.use_eml&quot;&gt;false&lt;/boolProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.emlMessageToSend&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.useAuth&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.password&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.username&quot;&gt;&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.messageSizeStatistics&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;stringProp name=&quot;SMTPSampler.enableDebug&quot;&gt;false&lt;/stringProp&gt;\r\n          &lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;\r\n        &lt;/SmtpSampler&gt;\r\n        &lt;hashTree/&gt;\r\n      &lt;/hashTree&gt;\r\n    &lt;/hashTree&gt;\r\n  &lt;/hashTree&gt;\r\n&lt;/jmeterTestPlan&gt;\r\n```\r\n\r\nThis XML sends email messages to the local server at `localhost:8080` without any errors.\r\n\r\nHowever, I would like to set the date header for these emails. \r\nIn front of the `SmtpSampler` element I have tried adding a HeaderManager like this:\r\n\r\n```\r\n&lt;HeaderManager guiclass=&quot;HeaderPanel&quot; testclass=&quot;HeaderManager&quot; testname=&quot;HTTP Header Manager&quot; enabled=&quot;true&quot;&gt;\r\n          &lt;collectionProp name=&quot;HeaderManager.headers&quot;&gt;\r\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\r\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\r\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n            &lt;/elementProp&gt;\r\n          &lt;/collectionProp&gt;\r\n        &lt;/HeaderManager&gt;\r\n```\r\n\r\nBut this XML does not properly set the header on the SMTP messages.\r\n\r\nI&#39;ve tried replacing `&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;` with an expanded element:\r\n\r\n```\r\n&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\r\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\r\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n            &lt;/elementProp&gt;\r\n          &lt;/collectionProp&gt;\r\n```\r\n\r\nThis results in the following stacktrace:\r\n\r\n```\r\njava.lang.ClassCastException: class org.apache.jmeter.protocol.http.control.Header cannot be cast to class org.apache.jmeter.config.Argument (org.apache.jmeter.protocol.http.control.Header and org.apache.jmeter.config.Argument are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @372f7a8d)\r\n```\r\n\r\nI&#39;ve also tried this:\r\n\r\n```\r\n&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\r\n              &lt;elementProp name=&quot;date&quot; elementType=&quot;Argument&quot;&gt;\r\n                &lt;stringProp name=&quot;Argument.name&quot;&gt;Date&lt;/stringProp&gt;\r\n                &lt;stringProp name=&quot;Argument.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\r\n              &lt;/elementProp&gt;\r\n            &lt;/collectionProp&gt;\r\n```\r\n\r\nThis configuration also fails.\r\n\r\n\r\nI would love to see an example of setting headers in SMTP Sampler XML but I cannot find anything in the official Apache docs. \r\n\r\nThank you!","title":"Jmeter 5.5 XML SMTP Sampler config - cannot set headers","body":"<p>I'm trying to set up a local Jmeter run with this .jmx file (XML):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jmeterTestPlan version=&quot;1.2&quot; properties=&quot;5.0&quot; jmeter=&quot;5.4&quot;&gt;\n  &lt;hashTree&gt;\n    &lt;TestPlan guiclass=&quot;TestPlanGui&quot; testclass=&quot;TestPlan&quot; testname=&quot;Perf Tests&quot; enabled=&quot;true&quot;&gt;\n      &lt;stringProp name=&quot;TestPlan.comments&quot;&gt;&lt;/stringProp&gt;\n      &lt;boolProp name=&quot;TestPlan.functional_mode&quot;&gt;false&lt;/boolProp&gt;\n      &lt;boolProp name=&quot;TestPlan.tearDown_on_shutdown&quot;&gt;true&lt;/boolProp&gt;\n      &lt;boolProp name=&quot;TestPlan.serialize_threadgroups&quot;&gt;false&lt;/boolProp&gt;\n      &lt;elementProp name=&quot;TestPlan.user_defined_variables&quot; elementType=&quot;Arguments&quot; guiclass=&quot;ArgumentsPanel&quot; testclass=&quot;Arguments&quot; testname=&quot;User Defined Variables&quot; enabled=&quot;true&quot;&gt;\n        &lt;collectionProp name=&quot;Arguments.arguments&quot;/&gt;\n      &lt;/elementProp&gt;\n      &lt;stringProp name=&quot;TestPlan.user_define_classpath&quot;&gt;&lt;/stringProp&gt;\n    &lt;/TestPlan&gt;\n    &lt;hashTree&gt;\n      &lt;ThreadGroup guiclass=&quot;ThreadGroupGui&quot; testclass=&quot;ThreadGroup&quot; testname=&quot;Big - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\n        &lt;stringProp name=&quot;ThreadGroup.on_sample_error&quot;&gt;continue&lt;/stringProp&gt;\n        &lt;elementProp name=&quot;ThreadGroup.main_controller&quot; elementType=&quot;LoopController&quot; guiclass=&quot;LoopControlPanel&quot; testclass=&quot;LoopController&quot; testname=&quot;Loop Controller&quot; enabled=&quot;true&quot;&gt;\n          &lt;boolProp name=&quot;LoopController.continue_forever&quot;&gt;false&lt;/boolProp&gt;\n          &lt;stringProp name=&quot;LoopController.loops&quot;&gt;10&lt;/stringProp&gt;\n        &lt;/elementProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.num_threads&quot;&gt;5&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.ramp_time&quot;&gt;5&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;ThreadGroup.scheduler&quot;&gt;false&lt;/boolProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.duration&quot;&gt;&lt;/stringProp&gt;\n        &lt;stringProp name=&quot;ThreadGroup.delay&quot;&gt;&lt;/stringProp&gt;\n        &lt;boolProp name=&quot;ThreadGroup.same_user_on_next_iteration&quot;&gt;true&lt;/boolProp&gt;\n      &lt;/ThreadGroup&gt;\n      &lt;hashTree&gt;\n        &lt;SmtpSampler guiclass=&quot;SmtpSamplerGui&quot; testclass=&quot;SmtpSampler&quot; testname=&quot;Email - 8mb attachment&quot; enabled=&quot;true&quot;&gt;\n          &lt;stringProp name=&quot;SMTPSampler.server&quot;&gt;localhost&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverPort&quot;&gt;8080&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverTimeout&quot;&gt;15000&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.serverConnectionTimeout&quot;&gt;15000&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.mailFrom&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.replyTo&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverTo&quot;&gt;bobby.hill@hey.com&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverCC&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.receiverBCC&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.subject&quot;&gt;Perf Test - 1 attachment 8mb&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.suppressSubject&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.include_timestamp&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.message&quot;&gt;Hello World - Perf Test!&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.plainBody&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.attachFile&quot;&gt;8mb-content-size.pdf&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useSSL&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useStartTLS&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.trustAllCerts&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.enforceStartTLS&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useLocalTrustStore&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.trustStoreToUse&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.tlsProtocols&quot;&gt;&lt;/stringProp&gt;\n          &lt;boolProp name=&quot;SMTPSampler.use_eml&quot;&gt;false&lt;/boolProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.emlMessageToSend&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.useAuth&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.password&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.username&quot;&gt;&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.messageSizeStatistics&quot;&gt;false&lt;/stringProp&gt;\n          &lt;stringProp name=&quot;SMTPSampler.enableDebug&quot;&gt;false&lt;/stringProp&gt;\n          &lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;\n        &lt;/SmtpSampler&gt;\n        &lt;hashTree/&gt;\n      &lt;/hashTree&gt;\n    &lt;/hashTree&gt;\n  &lt;/hashTree&gt;\n&lt;/jmeterTestPlan&gt;\n</code></pre>\n<p>This XML sends email messages to the local server at <code>localhost:8080</code> without any errors.</p>\n<p>However, I would like to set the date header for these emails.\nIn front of the <code>SmtpSampler</code> element I have tried adding a HeaderManager like this:</p>\n<pre><code>&lt;HeaderManager guiclass=&quot;HeaderPanel&quot; testclass=&quot;HeaderManager&quot; testname=&quot;HTTP Header Manager&quot; enabled=&quot;true&quot;&gt;\n          &lt;collectionProp name=&quot;HeaderManager.headers&quot;&gt;\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n            &lt;/elementProp&gt;\n          &lt;/collectionProp&gt;\n        &lt;/HeaderManager&gt;\n</code></pre>\n<p>But this XML does not properly set the header on the SMTP messages.</p>\n<p>I've tried replacing <code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;/&gt;</code> with an expanded element:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n            &lt;elementProp name=&quot;Date&quot; elementType=&quot;Header&quot;&gt;\n              &lt;stringProp name=&quot;Header.name&quot;&gt;Date&lt;/stringProp&gt;\n              &lt;stringProp name=&quot;Header.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n            &lt;/elementProp&gt;\n          &lt;/collectionProp&gt;\n</code></pre>\n<p>This results in the following stacktrace:</p>\n<pre><code>java.lang.ClassCastException: class org.apache.jmeter.protocol.http.control.Header cannot be cast to class org.apache.jmeter.config.Argument (org.apache.jmeter.protocol.http.control.Header and org.apache.jmeter.config.Argument are in unnamed module of loader org.apache.jmeter.DynamicClassLoader @372f7a8d)\n</code></pre>\n<p>I've also tried this:</p>\n<pre><code>&lt;collectionProp name=&quot;SMTPSampler.headerFields&quot;&gt;\n              &lt;elementProp name=&quot;date&quot; elementType=&quot;Argument&quot;&gt;\n                &lt;stringProp name=&quot;Argument.name&quot;&gt;Date&lt;/stringProp&gt;\n                &lt;stringProp name=&quot;Argument.value&quot;&gt;Fri, 21 Nov 1997 09:55:06 -0600&lt;/stringProp&gt;\n              &lt;/elementProp&gt;\n            &lt;/collectionProp&gt;\n</code></pre>\n<p>This configuration also fails.</p>\n<p>I would love to see an example of setting headers in SMTP Sampler XML but I cannot find anything in the official Apache docs.</p>\n<p>Thank you!</p>\n"},{"tags":["java","jcr","magnolia"],"answers":[{"tags":[],"owner":{"account_id":5452456,"reputation":23,"user_id":4336852,"display_name":"knguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667027449,"creation_date":1667027449,"answer_id":74243476,"question_id":74153536,"body_markdown":"You can check if a node has a subnode by hasNodes() method. You can refer more JCR Node APIs here https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html\r\nThanks\r\n\r\n\r\n","title":"get JSON from hierarchical object in JCR API","body":"<p>You can check if a node has a subnode by hasNodes() method. You can refer more JCR Node APIs here <a href=\"https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html\" rel=\"nofollow noreferrer\">https://developer.adobe.com/experience-manager/reference-materials/spec/jsr170/javadocs/jcr-2.0/javax/jcr/Node.html</a>\nThanks</p>\n"}],"owner":{"account_id":3455470,"reputation":99,"user_id":2894088,"accept_rate":100,"display_name":"seliboba98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667843557,"creation_date":1666354809,"question_id":74153536,"body_markdown":"I understand how the JCR API works and is used in Magnolia. I want to get the result as JSON object\r\nMy Node object has a hierarchical structure(each subnode has type mgnl:category)\r\n\r\n    test_1\r\n      test_a\r\n      test_b\r\n      test_c\r\n         test_c1    \r\n      test_d\r\nIf I use\r\n\r\n      var session = context.getJCRSession(&quot;category&quot;);\r\n      Iterable&lt;Node&gt; categoryItems = NodeUtil.collectAllChildren(\r\n          session.getNode(nodePath),\r\n          new NodeTypePredicate(&quot;mgnl:category&quot;)); \r\n      List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n      for (Node node : categoryItems) {\r\n        result.add(node.getName());\r\n      }\r\n\r\nI get just a list of children like: [test_a, test_b, test_c, text_c1, test_d].\r\nHow can I check if a child has a subnode? Because I need `[test_a, test_b, test_c: {text_c1}, test_d].` \r\nI think recursion will do here... but I need info about if a node has a subnode...","title":"get JSON from hierarchical object in JCR API","body":"<p>I understand how the JCR API works and is used in Magnolia. I want to get the result as JSON object\nMy Node object has a hierarchical structure(each subnode has type mgnl:category)</p>\n<pre><code>test_1\n  test_a\n  test_b\n  test_c\n     test_c1    \n  test_d\n</code></pre>\n<p>If I use</p>\n<pre><code>  var session = context.getJCRSession(&quot;category&quot;);\n  Iterable&lt;Node&gt; categoryItems = NodeUtil.collectAllChildren(\n      session.getNode(nodePath),\n      new NodeTypePredicate(&quot;mgnl:category&quot;)); \n  List&lt;String&gt; result = new ArrayList&lt;&gt;();\n  for (Node node : categoryItems) {\n    result.add(node.getName());\n  }\n</code></pre>\n<p>I get just a list of children like: [test_a, test_b, test_c, text_c1, test_d].\nHow can I check if a child has a subnode? Because I need <code>[test_a, test_b, test_c: {text_c1}, test_d].</code>\nI think recursion will do here... but I need info about if a node has a subnode...</p>\n"},{"tags":["java","android","react-native","react-native-vision-camera"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667843673,"post_id":74350836,"comment_id":131259646,"body_markdown":"`I am creating an ImageView and not an Image or an ImageProxy.` No. You are creating a Bitmap. And you display the bitmap in an ImageView.","body":"<code>I am creating an ImageView and not an Image or an ImageProxy.</code> No. You are creating a Bitmap. And you display the bitmap in an ImageView."},{"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"score":0,"creation_date":1667843888,"post_id":74350836,"comment_id":131259740,"body_markdown":"@blackapps thank you. I am a beginner sorry. I agree with you but I still need to get an Image or ImageProxy from &quot;bmImage&quot; (my bitmap).","body":"@blackapps thank you. I am a beginner sorry. I agree with you but I still need to get an Image or ImageProxy from &quot;bmImage&quot; (my bitmap)."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667843978,"post_id":74350836,"comment_id":131259766,"body_markdown":"Yes, or directly from the file without using an intermediate bitmap.","body":"Yes, or directly from the file without using an intermediate bitmap."},{"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"score":0,"creation_date":1667844204,"post_id":74350836,"comment_id":131259850,"body_markdown":"@blackapps Exactly. But I don&#39;t know how to do this at all (I also tried to modify the ImageProxy frame itself, to no avail). Do you have any ideas or example code? I did not find anything ...","body":"@blackapps Exactly. But I don&#39;t know how to do this at all (I also tried to modify the ImageProxy frame itself, to no avail). Do you have any ideas or example code? I did not find anything ..."}],"owner":{"account_id":25852757,"reputation":11,"user_id":19586512,"display_name":"Nicolas Romano"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667843422,"creation_date":1667843422,"question_id":74350836,"body_markdown":"I&#39;m implementing a frame processor plugin ([react-native-vision-camera](https://github.com/mrousavy/react-native-vision-camera)). I would like to be able to load an image from a file and return it instead of the ImageProxy type frame so I can controll frames content.\r\n\r\nFor that, I have to load an image (no worries so far) and create an Image or an ImageProxy from the loaded image.\r\n\r\n(I also tried to replace the bytes of the ImageProxy type image with those of the loaded image but I didn&#39;t succeed either. So I am also interested in this topic.)\r\n\r\n```\r\n@Override\r\npublic Object callback(@NotNull ImageProxy image, @NotNull Object[] params) {\r\n    try {\r\n        // Get path of image to load\r\n        String param = params[0].toString();\r\n        Bitmap bmImg = BitmapFactory.decodeFile(param);\r\n\r\n        ImageView img = new ImageView(this);\r\n        img.setImageBitmap(bmImg);\r\n\r\n\r\n        return img;\r\n        //return image;\r\n    } catch (Exception e) {\r\n        System.out.println(&quot;CRASHED&quot;);\r\n        e.printStackTrace();\r\n    }\r\n    return null;\r\n}\r\n```\r\n\r\nTo do this I tried the code above but I am creating an ImageView and not an Image or an ImageProxy.\r\n\r\nAny idea or sample code so I can control frame content?\r\n\r\nThanks in advance","title":"byte [] or Bitmap to ImageProxy/Image","body":"<p>I'm implementing a frame processor plugin (<a href=\"https://github.com/mrousavy/react-native-vision-camera\" rel=\"nofollow noreferrer\">react-native-vision-camera</a>). I would like to be able to load an image from a file and return it instead of the ImageProxy type frame so I can controll frames content.</p>\n<p>For that, I have to load an image (no worries so far) and create an Image or an ImageProxy from the loaded image.</p>\n<p>(I also tried to replace the bytes of the ImageProxy type image with those of the loaded image but I didn't succeed either. So I am also interested in this topic.)</p>\n<pre><code>@Override\npublic Object callback(@NotNull ImageProxy image, @NotNull Object[] params) {\n    try {\n        // Get path of image to load\n        String param = params[0].toString();\n        Bitmap bmImg = BitmapFactory.decodeFile(param);\n\n        ImageView img = new ImageView(this);\n        img.setImageBitmap(bmImg);\n\n\n        return img;\n        //return image;\n    } catch (Exception e) {\n        System.out.println(&quot;CRASHED&quot;);\n        e.printStackTrace();\n    }\n    return null;\n}\n</code></pre>\n<p>To do this I tried the code above but I am creating an ImageView and not an Image or an ImageProxy.</p>\n<p>Any idea or sample code so I can control frame content?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667815662,"post_id":74337124,"comment_id":131249369,"body_markdown":"Yes and although I already mentioned this it confirms that you are attempting to read to EOF (though that should be `&gt;= 0` for EOF) and therefore you will never see the prompt because the stream will block","body":"Yes and although I already mentioned this it confirms that you are attempting to read to EOF (though that should be <code>&gt;= 0</code> for EOF) and therefore you will never see the prompt because the stream will block"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667819397,"post_id":74337124,"comment_id":131250625,"body_markdown":"now i see what you meant by trying to read to EOF. the problem is that the first time i call read (on line &quot;len = isr.read(array);&quot;) it never returns. so there never is ANY data on the stream...","body":"now i see what you meant by trying to read to EOF. the problem is that the first time i call read (on line &quot;len = isr.read(array);&quot;) it never returns. so there never is ANY data on the stream..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667819720,"post_id":74337124,"comment_id":131250726,"body_markdown":"Can you please be explicit about what the &quot;it&quot; is in *it never returns*","body":"Can you please be explicit about what the &quot;it&quot; is in <i>it never returns</i>"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667830671,"post_id":74337124,"comment_id":131254683,"body_markdown":"oh of course, sorry for the lack of clarity. the first call to read never returns, as if no data is ever written to the stream...","body":"oh of course, sorry for the lack of clarity. the first call to read never returns, as if no data is ever written to the stream..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667830725,"post_id":74337124,"comment_id":131254706,"body_markdown":"*the first call to read never returns* How do you know?","body":"<i>the first call to read never returns</i> How do you know?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667831036,"post_id":74337124,"comment_id":131254836,"body_markdown":"@user3673620 The sub-process `sqlcmd` has written out the prompt and is waiting for a command. You haven&#39;t shown any code which sends any commands or terminates the `sqlcmd` STDIN, therefore you won&#39;t get any back from `isr.read(array)`. \nSo the situation you have is as expected: `isr.read(array)` blocks because it has read up to the &quot;prompt&quot; and is waiting for the end of STDOUT stream of the sub-process, or for more data to be written to STDOUT.","body":"@user3673620 The sub-process <code>sqlcmd</code> has written out the prompt and is waiting for a command. You haven&#39;t shown any code which sends any commands or terminates the <code>sqlcmd</code> STDIN, therefore you won&#39;t get any back from <code>isr.read(array)</code>.  So the situation you have is as expected: <code>isr.read(array)</code> blocks because it has read up to the &quot;prompt&quot; and is waiting for the end of STDOUT stream of the sub-process, or for more data to be written to STDOUT."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667831713,"post_id":74337124,"comment_id":131255117,"body_markdown":"g00se - in debug mode i reach the read(array) line and when i try to execute it, it blocks and never returns.","body":"g00se - in debug mode i reach the read(array) line and when i try to execute it, it blocks and never returns."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667831837,"post_id":74337124,"comment_id":131255155,"body_markdown":"DuncG - this code is connected to a REST API which calls start(&quot;sqlcmd&quot;) i expected to be able to read the prompt. also in another attempt, i ignored the output and sent a query, but again, the first call to read(array) blocks and never returns","body":"DuncG - this code is connected to a REST API which calls start(&quot;sqlcmd&quot;) i expected to be able to read the prompt. also in another attempt, i ignored the output and sent a query, but again, the first call to read(array) blocks and never returns"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667832004,"post_id":74337124,"comment_id":131255245,"body_markdown":"*in debug mode i reach the read(array) line and when i try to execute it, it blocks* OK. I can only say either it hasn&#39;t received the command and therefore hasn&#39;t responded or you might be reading the wrong stream as I mentioned earlier. Please give us a printable example of a command that fails","body":"<i>in debug mode i reach the read(array) line and when i try to execute it, it blocks</i> OK. I can only say either it hasn&#39;t received the command and therefore hasn&#39;t responded or you might be reading the wrong stream as I mentioned earlier. Please give us a printable example of a command that fails"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667832758,"post_id":74337124,"comment_id":131255559,"body_markdown":"@user3673620 The prompt has been read, but `read(array)` is trying to read the following character and therefore is blocking because without a SQL command there is nothing more from the stream until EOF","body":"@user3673620 The prompt has been read, but <code>read(array)</code> is trying to read the following character and therefore is blocking because without a SQL command there is nothing more from the stream until EOF"},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667832979,"post_id":74337124,"comment_id":131255638,"body_markdown":"i&#39;ve updated the code to a printable example. the result is a printout of &quot;reading output...&quot; without ever ending. note that you may try to read also the start(&quot;sqlcmd&quot;) response by changing the return from method &quot;start&quot; as commented. same result ...","body":"i&#39;ve updated the code to a printable example. the result is a printout of &quot;reading output...&quot; without ever ending. note that you may try to read also the start(&quot;sqlcmd&quot;) response by changing the return from method &quot;start&quot; as commented. same result ..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667833032,"post_id":74337124,"comment_id":131255663,"body_markdown":"@DuncG I am obviously assuming that *the first invocation* of read is what&#39;s meant. Please tell me I&#39;m right ... ;)","body":"@DuncG I am obviously assuming that <i>the first invocation</i> of read is what&#39;s meant. Please tell me I&#39;m right ... ;)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667833215,"post_id":74337124,"comment_id":131255740,"body_markdown":"So when you go to cmd.exe normally and enter `sqlcmd` and hit enter, it returns with a prompt?","body":"So when you go to cmd.exe normally and enter <code>sqlcmd</code> and hit enter, it returns with a prompt?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1667835380,"post_id":74337124,"comment_id":131256561,"body_markdown":"@g00se It doesn&#39;t make much difference first or not: `response()` calls `read(array)` in a loop which calls `ch = read()` in a loop so the code will always block at some point ... unless `process.getOutputStream().close()` gets called (or command to exit is sent) and then `response()` will eventually return a value.","body":"@g00se It doesn&#39;t make much difference first or not: <code>response()</code> calls <code>read(array)</code> in a loop which calls <code>ch = read()</code> in a loop so the code will always block at some point ... unless <code>process.getOutputStream().close()</code> gets called (or command to exit is sent) and then <code>response()</code> will eventually return a value."},{"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"score":0,"creation_date":1667835942,"post_id":74337124,"comment_id":131256784,"body_markdown":"start is meant to open the sqlcmd session and send is meant to sent consecutive queries. but i can&#39;t get a response from start, and if i don&#39;t try to get a response from start, then i dont get a response from send, so i either case the program hangs with no output. and yes, when you run sqlcmd in cmd.exe you get &quot;1&gt;&quot; prompt","body":"start is meant to open the sqlcmd session and send is meant to sent consecutive queries. but i can&#39;t get a response from start, and if i don&#39;t try to get a response from start, then i dont get a response from send, so i either case the program hangs with no output. and yes, when you run sqlcmd in cmd.exe you get &quot;1&gt;&quot; prompt"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667843179,"creation_date":1667842399,"answer_id":74350622,"question_id":74337124,"body_markdown":"This hopefully will give a clearer explanation as to why your code does not finish as you expect. You have started sub-process `sqlcmd`, and `sqlcmd` outputs a prompt, receives your command(s), processes each command and outputs another prompt. \r\n\r\nThe `sqlcmd` process is waiting for more commands but you have not sent more after `send()`. At this point though your `response()` call is stuck in a blocking loop trying to read the character AFTER the last prompt. This means that `response()` will never exit normally - even though it has processed some of the commands and appended to a `StringBuilder`. \r\n\r\nTo see this more clearly, fix a small bug in `response()` with incorrect size of the array in `String.valueOf()` and add a `System.out` to tell you what has been read so far by `response()`:\r\n\r\n    private static String response() throws IOException {\r\n        StringBuilder sb = new StringBuilder();\r\n        char[] array = new char[1024];\r\n\r\n        System.out.println(&quot;reading output...&quot;);\r\n        try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\r\n            int len;\r\n            do {\r\n                len = isr.read(array);\r\n                if(len &gt; 0) {\r\n                    String r = String.valueOf(array, 0, len);\r\n                    System.out.println(&quot;response() has read a value: &quot;+r);\r\n                    sb.append(r);\r\n                }\r\n            } while (len &gt; 0);\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n\r\nRe-run and you should see that `isr.read(array)` HAS worked and should print out the results of `select * from spt_monitor` but will block on next or following `isr.read(array)` call when the prompt has been printed - and `response()` never exits because no more commands are received to process.\r\n\r\nThere is no more STDOUT to process unless you send `sqlcmd` an exit command OR terminate the STDIN which causes the `sqlcmd` process to end - both of which would mean that `response()` could exit normally.\r\n\r\nYou should be able to make `response()` work by terminating the STDIN by adding `process.getOutputStream().close()` at the end of `send()` or after calling `send()`. However that means that `sqlcmd` will exit.","title":"cannot get OutputStream content from sqlcmd process when running with java ProcessBuilder","body":"<p>This hopefully will give a clearer explanation as to why your code does not finish as you expect. You have started sub-process <code>sqlcmd</code>, and <code>sqlcmd</code> outputs a prompt, receives your command(s), processes each command and outputs another prompt.</p>\n<p>The <code>sqlcmd</code> process is waiting for more commands but you have not sent more after <code>send()</code>. At this point though your <code>response()</code> call is stuck in a blocking loop trying to read the character AFTER the last prompt. This means that <code>response()</code> will never exit normally - even though it has processed some of the commands and appended to a <code>StringBuilder</code>.</p>\n<p>To see this more clearly, fix a small bug in <code>response()</code> with incorrect size of the array in <code>String.valueOf()</code> and add a <code>System.out</code> to tell you what has been read so far by <code>response()</code>:</p>\n<pre><code>private static String response() throws IOException {\n    StringBuilder sb = new StringBuilder();\n    char[] array = new char[1024];\n\n    System.out.println(&quot;reading output...&quot;);\n    try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\n        int len;\n        do {\n            len = isr.read(array);\n            if(len &gt; 0) {\n                String r = String.valueOf(array, 0, len);\n                System.out.println(&quot;response() has read a value: &quot;+r);\n                sb.append(r);\n            }\n        } while (len &gt; 0);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n<p>Re-run and you should see that <code>isr.read(array)</code> HAS worked and should print out the results of <code>select * from spt_monitor</code> but will block on next or following <code>isr.read(array)</code> call when the prompt has been printed - and <code>response()</code> never exits because no more commands are received to process.</p>\n<p>There is no more STDOUT to process unless you send <code>sqlcmd</code> an exit command OR terminate the STDIN which causes the <code>sqlcmd</code> process to end - both of which would mean that <code>response()</code> could exit normally.</p>\n<p>You should be able to make <code>response()</code> work by terminating the STDIN by adding <code>process.getOutputStream().close()</code> at the end of <code>send()</code> or after calling <code>send()</code>. However that means that <code>sqlcmd</code> will exit.</p>\n"}],"owner":{"account_id":4520076,"reputation":23,"user_id":3673620,"display_name":"user3673620"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74350622,"answer_count":1,"score":-2,"last_activity_date":1667843179,"creation_date":1667747872,"question_id":74337124,"body_markdown":"Need to run sqlcmd to control local-connections to the database.\r\nWhen i try to read the OutputStream to get the sql &quot;prompt&quot;, the read() method simply never returns.\r\n\r\ntried running the process with ProcessBuilder and Runtime.getRuntime().exec()\r\nalso tried running under &quot;cmd /c&quot;\r\nwhen running sqlcmd from the command line, i get a prompt like &quot;1&gt;&quot;. expected to see that in the OutputStream ...\r\n\r\nthis is my code - i simply call start with &quot;sqlcmd&quot;\r\n\r\ncode example:\r\n\r\n    package org.example;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            System.out.println(start(&quot;sqlcmd&quot;));\r\n            System.out.println(send(&quot;select * from spt_monitor\\ngo\\n&quot;));\r\n        }\r\n    \r\n        public static Process process = null;\r\n    \r\n        public static String start(String command) throws Exception {\r\n            if(process != null &amp;&amp; process.isAlive()) {\r\n                throw new Exception(&quot;another session already exists&quot;);\r\n            } else {\r\n                ProcessBuilder builder = new ProcessBuilder(command);\r\n                builder.redirectErrorStream(true);\r\n                process = builder.start();\r\n                return &quot;&quot;;//response();\r\n            }\r\n        }\r\n    \r\n        public static String send(String command) throws Exception {\r\n            if(process == null || !process.isAlive()) {\r\n                throw new Exception(&quot;no local session exists&quot;);\r\n            } else {\r\n                process.getOutputStream().write(command.getBytes());\r\n                process.getOutputStream().flush();\r\n                return response();\r\n            }\r\n        }\r\n    \r\n        private static String response() throws IOException {\r\n            StringBuilder sb = new StringBuilder();\r\n            char[] array = new char[1024];\r\n    \r\n            System.out.println(&quot;reading output...&quot;);\r\n            try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\r\n                int len;\r\n                do {\r\n                    len = isr.read(array);\r\n                    if(len &gt; 0)\r\n                        sb.append(String.valueOf(array));\r\n                } while (len &gt; 0);\r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    }","title":"cannot get OutputStream content from sqlcmd process when running with java ProcessBuilder","body":"<p>Need to run sqlcmd to control local-connections to the database.\nWhen i try to read the OutputStream to get the sql &quot;prompt&quot;, the read() method simply never returns.</p>\n<p>tried running the process with ProcessBuilder and Runtime.getRuntime().exec()\nalso tried running under &quot;cmd /c&quot;\nwhen running sqlcmd from the command line, i get a prompt like &quot;1&gt;&quot;. expected to see that in the OutputStream ...</p>\n<p>this is my code - i simply call start with &quot;sqlcmd&quot;</p>\n<p>code example:</p>\n<pre><code>package org.example;\n\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n\n        System.out.println(start(&quot;sqlcmd&quot;));\n        System.out.println(send(&quot;select * from spt_monitor\\ngo\\n&quot;));\n    }\n\n    public static Process process = null;\n\n    public static String start(String command) throws Exception {\n        if(process != null &amp;&amp; process.isAlive()) {\n            throw new Exception(&quot;another session already exists&quot;);\n        } else {\n            ProcessBuilder builder = new ProcessBuilder(command);\n            builder.redirectErrorStream(true);\n            process = builder.start();\n            return &quot;&quot;;//response();\n        }\n    }\n\n    public static String send(String command) throws Exception {\n        if(process == null || !process.isAlive()) {\n            throw new Exception(&quot;no local session exists&quot;);\n        } else {\n            process.getOutputStream().write(command.getBytes());\n            process.getOutputStream().flush();\n            return response();\n        }\n    }\n\n    private static String response() throws IOException {\n        StringBuilder sb = new StringBuilder();\n        char[] array = new char[1024];\n\n        System.out.println(&quot;reading output...&quot;);\n        try (InputStreamReader isr = new InputStreamReader(process.getInputStream())) {\n            int len;\n            do {\n                len = isr.read(array);\n                if(len &gt; 0)\n                    sb.append(String.valueOf(array));\n            } while (len &gt; 0);\n        }\n\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","vector"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1667843496,"post_id":74350595,"comment_id":131259593,"body_markdown":"`Vector` is a very old class, and synchronized... its [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Vector.html) states: &quot;If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;","body":"<code>Vector</code> is a very old class, and synchronized... its <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Vector.html\" rel=\"nofollow noreferrer\">documentation</a> states: &quot;If a thread-safe implementation is not needed, it is recommended to use ArrayList in place of Vector.&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667846127,"post_id":74350595,"comment_id":131260521,"body_markdown":"[Class names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) should begin upper case in Java, and yes, use `ArrayList` not `Vector`. You can use `Collections.swap` to swap elements","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Class names</a> should begin upper case in Java, and yes, use <code>ArrayList</code> not <code>Vector</code>. You can use <code>Collections.swap</code> to swap elements"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667842870,"creation_date":1667842870,"answer_id":74350719,"question_id":74350595,"body_markdown":"You have to use `.setElementAt()`:\r\n\r\n    void swap(int i,int j){\r\n        vertex temp=v.elementAt(i);\r\n        v.setElementAt(i, v.elementAt(j));\r\n        v.setElementAt(j, temp);\r\n    }\r\n","title":"Swapping two elements of a vector without creating new objects?","body":"<p>You have to use <code>.setElementAt()</code>:</p>\n<pre><code>void swap(int i,int j){\n    vertex temp=v.elementAt(i);\n    v.setElementAt(i, v.elementAt(j));\n    v.setElementAt(j, temp);\n}\n</code></pre>\n"}],"owner":{"account_id":24007787,"reputation":3,"user_id":17991754,"display_name":"KKS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350719,"answer_count":1,"score":0,"last_activity_date":1667842870,"creation_date":1667842250,"question_id":74350595,"body_markdown":"I am new to Java coming from C++. I want to that v(i) should point to the object of v(j) and vice versa that is the references of both of them must interchange. Please give some beginner friendly solution.\r\nI can&#39;t make new objects or just replace the parameters because it will affect the working of algorithm.\r\n\r\n```\r\nimport java.util.*;\r\nclass maxPriorityQueue{\r\n    public Vector&lt;vertex&gt; v;\r\n    public int size;\r\n    static final int infinite=2147483647;\r\n    maxPriorityQueue(int s){\r\n        this.size=s;;\r\n        v=new Vector&lt;vertex&gt;(size);\r\n    }\r\n    int parent(int i){\r\n        return (i-1)/2;\r\n    }\r\n    int leftChild(int i){\r\n        return 2*i+1;\r\n    }\r\n    int rightChild(int i){\r\n        return 2*i+2;\r\n    }\r\n    void swap(int i,int j){\r\n        vertex temp=v.elementAt(i);\r\n        v.elementAt(i)=v.elementAt(j);\r\n        v.elementAt(j)=temp;\r\n    }\r\n    void minHeapify(int index){\r\n        int smallest;\r\n        int left=leftChild(index);\r\n        int right=rightChild(index);\r\n        if(left&lt;size &amp;&amp; v.elementAt(index).key&gt;v.elementAt(left).key){\r\n            smallest=left;\r\n        }\r\n        else{\r\n            smallest=index;\r\n        }\r\n        if(right&lt;size &amp;&amp; v.elementAt(smallest).key&gt;v.elementAt(right).key){\r\n            smallest=right;\r\n        }\r\n        if(smallest!=index){\r\n            swap(index,smallest);\r\n            minHeapify(smallest);\r\n        }\r\n    }\r\n    void builMinHeap(){\r\n        for(int i=0;i&lt;size/2;i++){\r\n            minHeapify(i);\r\n        }\r\n    }\r\n\r\n};\r\nclass vertex{\r\n    final int infinite=2147483647;\r\n    int value;\r\n    int key;\r\n    vertex pi;\r\n}\r\nclass edge{\r\n    int u;\r\n    int v;\r\n    int weight;\r\n}\r\nclass Graph{\r\n}\r\nclass primsAlgo{\r\n    public static void main(String[] args) {\r\n        // vertex x=new vertex();\r\n    }\r\n}\r\n```\r\nerror:\r\n```\r\nprimsAlgo.java:21: error: unexpected type\r\n        v.elementAt(i)=v.elementAt(j);\r\n                   ^\r\n  required: variable\r\n  found:    value\r\nprimsAlgo.java:22: error: unexpected type\r\n        v.elementAt(j)=temp;\r\n                   ^\r\n  required: variable\r\n  found:    value\r\n2 errors\r\n```\r\n","title":"Swapping two elements of a vector without creating new objects?","body":"<p>I am new to Java coming from C++. I want to that v(i) should point to the object of v(j) and vice versa that is the references of both of them must interchange. Please give some beginner friendly solution.\nI can't make new objects or just replace the parameters because it will affect the working of algorithm.</p>\n<pre><code>import java.util.*;\nclass maxPriorityQueue{\n    public Vector&lt;vertex&gt; v;\n    public int size;\n    static final int infinite=2147483647;\n    maxPriorityQueue(int s){\n        this.size=s;;\n        v=new Vector&lt;vertex&gt;(size);\n    }\n    int parent(int i){\n        return (i-1)/2;\n    }\n    int leftChild(int i){\n        return 2*i+1;\n    }\n    int rightChild(int i){\n        return 2*i+2;\n    }\n    void swap(int i,int j){\n        vertex temp=v.elementAt(i);\n        v.elementAt(i)=v.elementAt(j);\n        v.elementAt(j)=temp;\n    }\n    void minHeapify(int index){\n        int smallest;\n        int left=leftChild(index);\n        int right=rightChild(index);\n        if(left&lt;size &amp;&amp; v.elementAt(index).key&gt;v.elementAt(left).key){\n            smallest=left;\n        }\n        else{\n            smallest=index;\n        }\n        if(right&lt;size &amp;&amp; v.elementAt(smallest).key&gt;v.elementAt(right).key){\n            smallest=right;\n        }\n        if(smallest!=index){\n            swap(index,smallest);\n            minHeapify(smallest);\n        }\n    }\n    void builMinHeap(){\n        for(int i=0;i&lt;size/2;i++){\n            minHeapify(i);\n        }\n    }\n\n};\nclass vertex{\n    final int infinite=2147483647;\n    int value;\n    int key;\n    vertex pi;\n}\nclass edge{\n    int u;\n    int v;\n    int weight;\n}\nclass Graph{\n}\nclass primsAlgo{\n    public static void main(String[] args) {\n        // vertex x=new vertex();\n    }\n}\n</code></pre>\n<p>error:</p>\n<pre><code>primsAlgo.java:21: error: unexpected type\n        v.elementAt(i)=v.elementAt(j);\n                   ^\n  required: variable\n  found:    value\nprimsAlgo.java:22: error: unexpected type\n        v.elementAt(j)=temp;\n                   ^\n  required: variable\n  found:    value\n2 errors\n</code></pre>\n"},{"tags":["java","android","android-studio","interface"],"comments":[{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1667762466,"post_id":74338171,"comment_id":131239186,"body_markdown":"Please add your code, it will be much more convenient for all of us to help you.","body":"Please add your code, it will be much more convenient for all of us to help you."}],"answers":[{"comments":[{"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"score":0,"creation_date":1667762987,"post_id":74338426,"comment_id":131239320,"body_markdown":"The tag is for java... I&#39;m not sure that kotlin code will help him, especially if he is a beginner.","body":"The tag is for java... I&#39;m not sure that kotlin code will help him, especially if he is a beginner."}],"tags":[],"owner":{"account_id":17312820,"reputation":374,"user_id":16711198,"display_name":"Vera Iureva"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667842840,"creation_date":1667757793,"answer_id":74338426,"question_id":74338171,"body_markdown":"You should clerify your case with code, but seams that it should help\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        player.release();\r\n        player = null;\r\n    }","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>You should clerify your case with code, but seams that it should help</p>\n<pre><code>@Override\nprotected void onStop() {\n    super.onStop();\n    player.release();\n    player = null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22858744,"reputation":153,"user_id":19369820,"display_name":"Elazar Halperin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667762907,"creation_date":1667762907,"answer_id":74339073,"question_id":74338171,"body_markdown":"You should use **onConfigurationChanged** to make this work.\r\n\r\nin your manifest file add this to your activiy\r\n```\r\n android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n```\r\n```\r\n&lt;activity android:name=&quot;.MyActivity&quot;\r\n          android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n          android:exported=&quot;true&quot;&gt;\r\n```\r\nIn your MainActiviy code implement this method:\r\n```\r\n@Override\r\npublic void onConfigurationChanged(@NotNull Configuration newConfig) {\r\n    super.onConfigurationChanged(newConfig);\r\n\r\n    // check weather the player is null\r\n    if(player == null) return;\r\n    player.stop();\r\n   \r\n}\r\n```","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>You should use <strong>onConfigurationChanged</strong> to make this work.</p>\n<p>in your manifest file add this to your activiy</p>\n<pre><code> android:configChanges=&quot;orientation|keyboardHidden&quot;\n</code></pre>\n<pre><code>&lt;activity android:name=&quot;.MyActivity&quot;\n          android:configChanges=&quot;orientation|keyboardHidden&quot;\n          android:exported=&quot;true&quot;&gt;\n</code></pre>\n<p>In your MainActiviy code implement this method:</p>\n<pre><code>@Override\npublic void onConfigurationChanged(@NotNull Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n\n    // check weather the player is null\n    if(player == null) return;\n    player.stop();\n   \n}\n</code></pre>\n"}],"owner":{"account_id":21844522,"reputation":1,"user_id":16137590,"display_name":"ANT T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667842840,"creation_date":1667755745,"question_id":74338171,"body_markdown":"I want to set a autoplay sound and it only play once, no matter the rotation is. I was trying to make my Mediaplayer in the onCreate of Mainactivity. And when I try to rotate the screen, the audio continued to play.\r\n\r\n\r\nI try a different method like set up a subclass and call in the activity instead of puting it in onCreat of MainActivity to make it only play once and ignore doing rotate, but it still doesn&#39;t work, can someone explain to me how can I fix it? Thank you!\r\n","title":"How to stop playing audio when screen oreitation is change in Android","body":"<p>I want to set a autoplay sound and it only play once, no matter the rotation is. I was trying to make my Mediaplayer in the onCreate of Mainactivity. And when I try to rotate the screen, the audio continued to play.</p>\n<p>I try a different method like set up a subclass and call in the activity instead of puting it in onCreat of MainActivity to make it only play once and ignore doing rotate, but it still doesn't work, can someone explain to me how can I fix it? Thank you!</p>\n"},{"tags":["java","service","mockito","keycloak","spring-boot-test"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667666005,"post_id":74288893,"comment_id":131222776,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74288893/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24648402,"reputation":11,"user_id":18545777,"display_name":"MrMRas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667842675,"creation_date":1667390830,"answer_id":74288893,"question_id":74280783,"body_markdown":"Solved it myself, instead of that code above you just should write it like that, should&#39;ve wrote @Autowired.\r\n\r\n    @Autowired\r\n    KeycloakProvider kcProvider;\r\n    @Autowired\r\n    KeycloakAdminClientService kcAdminClientService;\r\n\r\nand it would solve all the problems)","title":"Catching an exception RESTEASY004645: templateValues entry was null","body":"<p>Solved it myself, instead of that code above you just should write it like that, should've wrote @Autowired.</p>\n<pre><code>@Autowired\nKeycloakProvider kcProvider;\n@Autowired\nKeycloakAdminClientService kcAdminClientService;\n</code></pre>\n<p>and it would solve all the problems)</p>\n"}],"owner":{"account_id":24648402,"reputation":11,"user_id":18545777,"display_name":"MrMRas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667842675,"creation_date":1667330136,"question_id":74280783,"body_markdown":"I am in the process of creating tests for AdminClientService, which whould create users into Keycloak database. In the main processing it works as it should, but while creating tests i bumped into this exception:\r\n\r\n```\r\njava.lang.NullPointerException: RESTEASY004645: templateValues entry was null\r\n        at com.springboot.services.KeycloakAdminClientServiceTest.createKeycloakUserTest(KeycloakAdminClientServiceTest.java:80)\r\n```\r\n\r\nHere is the test, I am currently running:\r\n\r\n```\r\n@SpringBootTest\r\npublic class KeycloakAdminClientServiceTest {\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    public String serverUrl;\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n    @Value(&quot;${keycloak.resource}&quot;)\r\n    public String clientId;\r\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\r\n    public String clientSecret;\r\n    \r\n    // @Mock\r\n    // KeycloakProvider kcProvider = Mockito.mock(KeycloakProvider.class);\r\n    \r\n    // @InjectMocks\r\n    // \r\n    \r\n    // @BeforeEach\r\n    // void setMockOutput() {\r\n    //     //when(helloService.get()).thenReturn(&quot;Hello Mockito&quot;);\r\n    //     Mockito.when(kcProvider.getInstance()).thenReturn(KeycloakBuilder.builder()\r\n    //         .realm(realm)\r\n    //         .serverUrl(serverUrl)\r\n    //         .clientId(clientId)\r\n    //         .clientSecret(clientSecret)\r\n    //         .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n    //         .build());\r\n    // }\r\n    KeycloakProvider kcProvider;\r\n    KeycloakAdminClientService kcAdminClientService;\r\n    \r\n    @BeforeEach\r\n    void createKeycloakProvider() {\r\n        kcProvider = new KeycloakProvider();\r\n        kcProvider.setServerUrl(serverUrl);\r\n        kcProvider.setRealm(realm);\r\n        kcProvider.setClientId(clientId);\r\n        kcProvider.setClientSecret(clientSecret);\r\n        kcAdminClientService = new KeycloakAdminClientService(kcProvider);\r\n    }\r\n    \r\n    @Test\r\n    public void createKeycloakUserTest(){\r\n        Integer generatedInteger = (int) ((Math.random() * (9999999 - 1000000)) + 1000000);\r\n        String generatedString = generatedInteger.toString();\r\n\r\n        CreateUserRequest createUserRequest = new CreateUserRequest();\r\n        createUserRequest.setUsername(&quot;admin_client_username_&quot; + generatedString);\r\n        createUserRequest.setPassword(&quot;admin_client_password&quot;);\r\n        createUserRequest.setEmail(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\r\n        createUserRequest.setFirstname(&quot;admin_client_firstname_&quot; + generatedString);\r\n        createUserRequest.setLastname(&quot;admin_client_lastname_&quot; + generatedString);\r\n        \r\n        kcAdminClientService.createKeycloakUser(createUserRequest);\r\n        \r\n        UsersResource usersResource = kcProvider.getInstance()\r\n            .realm(kcAdminClientService.realm).users();\r\n        List&lt;UserRepresentation&gt; userRepresentation = usersResource\r\n            .search(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\r\n        assertNotNull(userRepresentation);\r\n        assertEquals(&quot;admin_client_firstname_&quot; + generatedString,\r\n            userRepresentation.get(0).getFirstName());\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the service:\r\n\r\n\r\n```\r\n@Service\r\npublic class KeycloakAdminClientService {\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n\r\n    private final KeycloakProvider kcProvider;\r\n\r\n\r\n    public KeycloakAdminClientService(KeycloakProvider keycloakProvider) {\r\n        this.kcProvider = keycloakProvider;\r\n    }\r\n\r\n    public Response createKeycloakUser(CreateUserRequest user) {\r\n        UsersResource usersResource = kcProvider.getInstance().realm(realm).users();\r\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(\r\n            user.getPassword());\r\n\r\n        UserRepresentation kcUser = new UserRepresentation();\r\n        kcUser.setUsername(user.getEmail());\r\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\r\n        kcUser.setFirstName(user.getFirstname());\r\n        kcUser.setLastName(user.getLastname());\r\n        kcUser.setEmail(user.getEmail());\r\n        kcUser.setEnabled(true);\r\n        kcUser.setEmailVerified(false);\r\n        Response response = usersResource.create(kcUser);\r\n\r\n        return response;\r\n\r\n    }\r\n\r\n    private static CredentialRepresentation createPasswordCredentials(String password) {\r\n        CredentialRepresentation passwordCredentials = new CredentialRepresentation();\r\n        passwordCredentials.setTemporary(false);\r\n        passwordCredentials.setType(CredentialRepresentation.PASSWORD);\r\n        passwordCredentials.setValue(password);\r\n        return passwordCredentials;\r\n    }\r\n}\r\n```\r\n\r\nand the KeycloakProvider:\r\n\r\n\r\n```\r\n@Configuration\r\n@Getter\r\n@Setter\r\npublic class KeycloakProvider {\r\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\r\n    public String serverUrl;\r\n    @Value(&quot;${keycloak.realm}&quot;)\r\n    public String realm;\r\n    @Value(&quot;${keycloak.resource}&quot;)\r\n    public String clientId;\r\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\r\n    public String clientSecret;\r\n\r\n    private static Keycloak keycloak = null;\r\n\r\n    public KeycloakProvider() {\r\n    }\r\n\r\n    public Keycloak getInstance() {\r\n        if (keycloak == null) {\r\n\r\n            return KeycloakBuilder.builder()\r\n                    .realm(realm)\r\n                    .serverUrl(serverUrl)\r\n                    .clientId(clientId)\r\n                    .clientSecret(clientSecret)\r\n                    .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\r\n                    .build();\r\n        }\r\n        return keycloak;\r\n    }\r\n\r\n    public KeycloakBuilder newKeycloakBuilderWithPasswordCredentials(\r\n        String username,\r\n        String password) {\r\n        return KeycloakBuilder.builder()\r\n                .realm(realm)\r\n                .serverUrl(serverUrl)\r\n                .clientId(clientId)\r\n                .clientSecret(clientSecret)\r\n                .username(username)\r\n                .password(password);\r\n    }\r\n\r\n    public JsonNode refreshToken(String refreshToken) throws UnirestException {\r\n        String url = serverUrl + &quot;/realms/&quot; + realm + &quot;/protocol/openid-connect/token&quot;;\r\n        return Unirest.post(url)\r\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .field(&quot;client_id&quot;, clientId)\r\n                .field(&quot;client_secret&quot;, clientSecret)\r\n                .field(&quot;refresh_token&quot;, refreshToken)\r\n                .field(&quot;grant_type&quot;, &quot;refresh_token&quot;)\r\n                .asJson().getBody();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried using Mockito for this problem, but realized it won&#39;t work, as I wanted it to.  ","title":"Catching an exception RESTEASY004645: templateValues entry was null","body":"<p>I am in the process of creating tests for AdminClientService, which whould create users into Keycloak database. In the main processing it works as it should, but while creating tests i bumped into this exception:</p>\n<pre><code>java.lang.NullPointerException: RESTEASY004645: templateValues entry was null\n        at com.springboot.services.KeycloakAdminClientServiceTest.createKeycloakUserTest(KeycloakAdminClientServiceTest.java:80)\n</code></pre>\n<p>Here is the test, I am currently running:</p>\n<pre><code>@SpringBootTest\npublic class KeycloakAdminClientServiceTest {\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    public String serverUrl;\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n    @Value(&quot;${keycloak.resource}&quot;)\n    public String clientId;\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\n    public String clientSecret;\n    \n    // @Mock\n    // KeycloakProvider kcProvider = Mockito.mock(KeycloakProvider.class);\n    \n    // @InjectMocks\n    // \n    \n    // @BeforeEach\n    // void setMockOutput() {\n    //     //when(helloService.get()).thenReturn(&quot;Hello Mockito&quot;);\n    //     Mockito.when(kcProvider.getInstance()).thenReturn(KeycloakBuilder.builder()\n    //         .realm(realm)\n    //         .serverUrl(serverUrl)\n    //         .clientId(clientId)\n    //         .clientSecret(clientSecret)\n    //         .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n    //         .build());\n    // }\n    KeycloakProvider kcProvider;\n    KeycloakAdminClientService kcAdminClientService;\n    \n    @BeforeEach\n    void createKeycloakProvider() {\n        kcProvider = new KeycloakProvider();\n        kcProvider.setServerUrl(serverUrl);\n        kcProvider.setRealm(realm);\n        kcProvider.setClientId(clientId);\n        kcProvider.setClientSecret(clientSecret);\n        kcAdminClientService = new KeycloakAdminClientService(kcProvider);\n    }\n    \n    @Test\n    public void createKeycloakUserTest(){\n        Integer generatedInteger = (int) ((Math.random() * (9999999 - 1000000)) + 1000000);\n        String generatedString = generatedInteger.toString();\n\n        CreateUserRequest createUserRequest = new CreateUserRequest();\n        createUserRequest.setUsername(&quot;admin_client_username_&quot; + generatedString);\n        createUserRequest.setPassword(&quot;admin_client_password&quot;);\n        createUserRequest.setEmail(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\n        createUserRequest.setFirstname(&quot;admin_client_firstname_&quot; + generatedString);\n        createUserRequest.setLastname(&quot;admin_client_lastname_&quot; + generatedString);\n        \n        kcAdminClientService.createKeycloakUser(createUserRequest);\n        \n        UsersResource usersResource = kcProvider.getInstance()\n            .realm(kcAdminClientService.realm).users();\n        List&lt;UserRepresentation&gt; userRepresentation = usersResource\n            .search(&quot;admin_client_email_&quot; + generatedString + &quot;@gmail.com&quot;);\n        assertNotNull(userRepresentation);\n        assertEquals(&quot;admin_client_firstname_&quot; + generatedString,\n            userRepresentation.get(0).getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>Here is the service:</p>\n<pre><code>@Service\npublic class KeycloakAdminClientService {\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n\n    private final KeycloakProvider kcProvider;\n\n\n    public KeycloakAdminClientService(KeycloakProvider keycloakProvider) {\n        this.kcProvider = keycloakProvider;\n    }\n\n    public Response createKeycloakUser(CreateUserRequest user) {\n        UsersResource usersResource = kcProvider.getInstance().realm(realm).users();\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(\n            user.getPassword());\n\n        UserRepresentation kcUser = new UserRepresentation();\n        kcUser.setUsername(user.getEmail());\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\n        kcUser.setFirstName(user.getFirstname());\n        kcUser.setLastName(user.getLastname());\n        kcUser.setEmail(user.getEmail());\n        kcUser.setEnabled(true);\n        kcUser.setEmailVerified(false);\n        Response response = usersResource.create(kcUser);\n\n        return response;\n\n    }\n\n    private static CredentialRepresentation createPasswordCredentials(String password) {\n        CredentialRepresentation passwordCredentials = new CredentialRepresentation();\n        passwordCredentials.setTemporary(false);\n        passwordCredentials.setType(CredentialRepresentation.PASSWORD);\n        passwordCredentials.setValue(password);\n        return passwordCredentials;\n    }\n}\n</code></pre>\n<p>and the KeycloakProvider:</p>\n<pre><code>@Configuration\n@Getter\n@Setter\npublic class KeycloakProvider {\n    @Value(&quot;${keycloak.auth-server-url}&quot;)\n    public String serverUrl;\n    @Value(&quot;${keycloak.realm}&quot;)\n    public String realm;\n    @Value(&quot;${keycloak.resource}&quot;)\n    public String clientId;\n    @Value(&quot;${keycloak.credentials.secret}&quot;)\n    public String clientSecret;\n\n    private static Keycloak keycloak = null;\n\n    public KeycloakProvider() {\n    }\n\n    public Keycloak getInstance() {\n        if (keycloak == null) {\n\n            return KeycloakBuilder.builder()\n                    .realm(realm)\n                    .serverUrl(serverUrl)\n                    .clientId(clientId)\n                    .clientSecret(clientSecret)\n                    .grantType(OAuth2Constants.CLIENT_CREDENTIALS)\n                    .build();\n        }\n        return keycloak;\n    }\n\n    public KeycloakBuilder newKeycloakBuilderWithPasswordCredentials(\n        String username,\n        String password) {\n        return KeycloakBuilder.builder()\n                .realm(realm)\n                .serverUrl(serverUrl)\n                .clientId(clientId)\n                .clientSecret(clientSecret)\n                .username(username)\n                .password(password);\n    }\n\n    public JsonNode refreshToken(String refreshToken) throws UnirestException {\n        String url = serverUrl + &quot;/realms/&quot; + realm + &quot;/protocol/openid-connect/token&quot;;\n        return Unirest.post(url)\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .field(&quot;client_id&quot;, clientId)\n                .field(&quot;client_secret&quot;, clientSecret)\n                .field(&quot;refresh_token&quot;, refreshToken)\n                .field(&quot;grant_type&quot;, &quot;refresh_token&quot;)\n                .asJson().getBody();\n    }\n}\n</code></pre>\n<p>I tried using Mockito for this problem, but realized it won't work, as I wanted it to.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667843805,"post_id":74350643,"comment_id":131259705,"body_markdown":"Add android:requestLegacyExternalStorage=&quot;true&quot; to application tag of manifest file.","body":"Add android:requestLegacyExternalStorage=&quot;true&quot; to application tag of manifest file."},{"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"score":0,"creation_date":1667844360,"post_id":74350643,"comment_id":131259920,"body_markdown":"@blackapps  Thanks, that will make the old way work. But won&#39;t the new `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)` work on Android 10 ? If DIRECTORY_DOCUMENTS exists since KitKat, then why it does not work on Android 10?","body":"@blackapps  Thanks, that will make the old way work. But won&#39;t the new <code>Environment.getExternalStoragePublicDirectory(Environment.DI&zwnj;&#8203;RECTORY_DOCUMENTS)</code> work on Android 10 ? If DIRECTORY_DOCUMENTS exists since KitKat, then why it does not work on Android 10?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667844552,"post_id":74350643,"comment_id":131259977,"body_markdown":"You are mentioning nothing new. And on Android 10 devices you only have read and write acces to external storage using the attribute i told you. Thats all.","body":"You are mentioning nothing new. And on Android 10 devices you only have read and write acces to external storage using the attribute i told you. Thats all."},{"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"score":0,"creation_date":1667845012,"post_id":74350643,"comment_id":131260160,"body_markdown":"Ok, I was under impression that the new way was supposed to work since KitKat, and with Android 11 it became mandatory. It&#39;s strange that on A10 you still cannot use the new way AND you cannot use the old way either without that app tag. That&#39;s really strange transition logic from Google.","body":"Ok, I was under impression that the new way was supposed to work since KitKat, and with Android 11 it became mandatory. It&#39;s strange that on A10 you still cannot use the new way AND you cannot use the old way either without that app tag. That&#39;s really strange transition logic from Google."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667845118,"post_id":74350643,"comment_id":131260188,"body_markdown":"New way? Dont understand. You can create as much files and folders in public Documents directory as you want. On A10. And below A10. And above A10. Only for A10 you need my first comment.","body":"New way? Dont understand. You can create as much files and folders in public Documents directory as you want. On A10. And below A10. And above A10. Only for A10 you need my first comment."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1667845377,"post_id":74350643,"comment_id":131260271,"body_markdown":"Yes, Google made a mess out of it. It looks they first planned to remove all read and write access to external storage and only allowing them to private directories. When they could not finish it before the next release they quickly introduced that attribute as otherwise nothing would run anymore. A mess indeed.","body":"Yes, Google made a mess out of it. It looks they first planned to remove all read and write access to external storage and only allowing them to private directories. When they could not finish it before the next release they quickly introduced that attribute as otherwise nothing would run anymore. A mess indeed."}],"owner":{"account_id":75990,"reputation":13337,"user_id":217823,"accept_rate":52,"display_name":"JustAMartin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667842504,"creation_date":1667842504,"question_id":74350643,"body_markdown":"My customer had an old app with `targetSdkVersion 28`. It creates a folder in a shared location so that the user can access the app&#39;s generated files later.\r\n\r\nThen the customer requested an upgrade. At first, we updated it to `targetSdkVersion 30`. Of course, our attempt to write files started failing. After some investigation, we found that we have to use a known folder from an enum value instead of storage root. So we decided to use Environment.DIRECTORY_DOCUMENTS. It worked just fine on Android 11 device, the app was able to create a subfolder and write files there.\r\n\r\nThen we tested it on Android 10, and it does not work. `mkdirs()` returns false when trying to create path `/storage/emulated/0/Documents/MySubfolder`. At first, I thought it was caused by the fact that the test device (Xiaomi Mi 9) did not have Documents folder at all, so I created it manually. Still, `mkdirs()` returns false when creating MySubfolder. I also tried to delete Documents folder on the Android 11 device - the app was able to create the full path `/storage/emulated/0/Documents/MySubfolder` without any problems.\r\n\r\nWhat&#39;s going on there? Why does creating folders in `getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)` work on Android 11 but not on Android 10?\r\n\r\nThe code follows.\r\n\r\n    public static File getWriteableUserDirPath()\r\n    {\r\n        String folderName = &quot;MySubfolder&quot;;\r\n        File dir = null;\r\n        \r\n        // at first, try the legacy approach - creating the folder in the shared root\r\n        try {\r\n            dir = Environment.getExternalStoragePublicDirectory(folderName);\r\n            dir = tryEnsureSubDirectory(dir);\r\n            if (dir != null)\r\n                return dir; // works on all devices as long as targetSdkVersion &lt;= 28\r\n        }\r\n        catch (Exception ex) {\r\n            dir = null;\r\n        }\r\n\r\n        // the check to keep the compiler happy with Environment.DIRECTORY_DOCUMENTS not existing before KITKAT\r\n        // but should not really return here - the old approach above should still have worked on KITKAT\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.KITKAT)\r\n            return dir;\r\n\r\n        // if got here, the old way did not work\r\n        // try the new way (which also might be deprecated soon :()\r\n        try {\r\n\r\n            dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), folderName);\r\n            dir = tryEnsureSubDirectory(dir);\r\n            if (dir != null)\r\n                return dir; // problem - mkdirs() here works on Android 11 (tested on Nokia 8.1) but not on Android 10 (tested on Xiaomi MI 9)!!! Why so?\r\n        }\r\n        catch (Exception ex) {\r\n            dir = null;\r\n        }\r\n\r\n        return dir;\r\n    }\r\n\r\n    private static File tryEnsureSubDirectory(File dir)\r\n    {\r\n        // make sure the path directory exists.\r\n        if (!dir.exists())\r\n        {\r\n            boolean success = dir.mkdirs();\r\n            if (!success)\r\n            {\r\n                dir = null;\r\n            }\r\n        }\r\n        return dir;\r\n    }","title":"Failing to create a subdirectory in Environment.DIRECTORY_DOCUMENTS on Android 10 (Xiaomi MI 9)","body":"<p>My customer had an old app with <code>targetSdkVersion 28</code>. It creates a folder in a shared location so that the user can access the app's generated files later.</p>\n<p>Then the customer requested an upgrade. At first, we updated it to <code>targetSdkVersion 30</code>. Of course, our attempt to write files started failing. After some investigation, we found that we have to use a known folder from an enum value instead of storage root. So we decided to use Environment.DIRECTORY_DOCUMENTS. It worked just fine on Android 11 device, the app was able to create a subfolder and write files there.</p>\n<p>Then we tested it on Android 10, and it does not work. <code>mkdirs()</code> returns false when trying to create path <code>/storage/emulated/0/Documents/MySubfolder</code>. At first, I thought it was caused by the fact that the test device (Xiaomi Mi 9) did not have Documents folder at all, so I created it manually. Still, <code>mkdirs()</code> returns false when creating MySubfolder. I also tried to delete Documents folder on the Android 11 device - the app was able to create the full path <code>/storage/emulated/0/Documents/MySubfolder</code> without any problems.</p>\n<p>What's going on there? Why does creating folders in <code>getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)</code> work on Android 11 but not on Android 10?</p>\n<p>The code follows.</p>\n<pre><code>public static File getWriteableUserDirPath()\n{\n    String folderName = &quot;MySubfolder&quot;;\n    File dir = null;\n    \n    // at first, try the legacy approach - creating the folder in the shared root\n    try {\n        dir = Environment.getExternalStoragePublicDirectory(folderName);\n        dir = tryEnsureSubDirectory(dir);\n        if (dir != null)\n            return dir; // works on all devices as long as targetSdkVersion &lt;= 28\n    }\n    catch (Exception ex) {\n        dir = null;\n    }\n\n    // the check to keep the compiler happy with Environment.DIRECTORY_DOCUMENTS not existing before KITKAT\n    // but should not really return here - the old approach above should still have worked on KITKAT\n    if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.KITKAT)\n        return dir;\n\n    // if got here, the old way did not work\n    // try the new way (which also might be deprecated soon :()\n    try {\n\n        dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), folderName);\n        dir = tryEnsureSubDirectory(dir);\n        if (dir != null)\n            return dir; // problem - mkdirs() here works on Android 11 (tested on Nokia 8.1) but not on Android 10 (tested on Xiaomi MI 9)!!! Why so?\n    }\n    catch (Exception ex) {\n        dir = null;\n    }\n\n    return dir;\n}\n\nprivate static File tryEnsureSubDirectory(File dir)\n{\n    // make sure the path directory exists.\n    if (!dir.exists())\n    {\n        boolean success = dir.mkdirs();\n        if (!success)\n        {\n            dir = null;\n        }\n    }\n    return dir;\n}\n</code></pre>\n"},{"tags":["java","maven","nexus","openapi-generator"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1667784828,"post_id":74339991,"comment_id":131242959,"body_markdown":"It looks like you may have to set the openapi-generator-version property as the snippet pulling in the sources use it.","body":"It looks like you may have to set the openapi-generator-version property as the snippet pulling in the sources use it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1667809021,"post_id":74339991,"comment_id":131247143,"body_markdown":"The output `org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}` shows that something in your configuration is wrong? Please show your full pom file ...","body":"The output <code>org.openapitools:openapi-generator:jar:sources:${openapi-gen&zwnj;&#8203;erator-version}</code> shows that something in your configuration is wrong? Please show your full pom file ..."},{"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"score":0,"creation_date":1667842395,"post_id":74339991,"comment_id":131259211,"body_markdown":"done, i&#39;ve add my pom.xml to my post","body":"done, i&#39;ve add my pom.xml to my post"}],"owner":{"account_id":18925766,"reputation":5,"user_id":13808940,"display_name":"codeNEWBYE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667842366,"creation_date":1667770888,"question_id":74339991,"body_markdown":"I am trying to implement openapi plugin generator , but when i run `mvn clean install` I get the following error.\r\n\r\n    org.eclipse.core.runtime.CoreException: Could not resolve artifact org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$4(MavenImpl.java:828)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:182)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:117)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:103)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:796)\r\n    \tat org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:773)\r\n\r\nHere is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.company.project&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;company&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;company&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!--https://openapi-generator.tech/docs/plugins/--&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;!-- RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;version&gt;5.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;!-- /RELEASE_VERSION --&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;output&gt;${project.build.directory}/&lt;/output&gt;\r\n    \t\t\t\t\t\t\t&lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\r\n    \t\t\t\t\t\t\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n    \t\t\t\t\t\t\t&lt;strictSpec&gt;true&lt;/strictSpec&gt;\r\n    \t\t\t\t\t\t\t&lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\r\n    \t\t\t\t\t\t\t&lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\r\n    \t\t\t\t\t\t\t&lt;configOptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;controllerThrowsExceptions&gt;java.io.IOException,com.example.NotFoundException&lt;/controllerThrowsExceptions&gt;\r\n    \t\t\t\t\t\t\t\t&lt;library&gt;spring-mvc&lt;/library&gt;\r\n    \t\t\t\t\t\t\t\t&lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n    \t\t\t\t\t\t\t\t&lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useClassLevelBeanValidation&gt;false&lt;/useClassLevelBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useTags&gt;true&lt;/useTags&gt;\r\n    \t\t\t\t\t\t\t\t&lt;java8&gt;true&lt;/java8&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useOptional&gt;false&lt;/useOptional&gt;\r\n    \t\t\t\t\t\t\t\t&lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\r\n    \t\t\t\t\t\t\t\t&lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n    \t\t\t\t\t\t\t\t&lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n    \t\t\t\t\t\t\t\t&lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\r\n    \t\t\t\t\t\t\t\t&lt;apiPackage&gt;${codegen.api.package.name}&lt;/apiPackage&gt;\r\n    \t\t\t\t\t\t\t\t&lt;modelPackage&gt;${codegen.model.page.name}&lt;/modelPackage&gt;\r\n    \t\t\t\t\t\t\t&lt;/configOptions&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nI have been looking at the documentation and it seems that the repository is on nexus ?\r\n\r\n\r\nhttps://github.com/OpenAPITools/openapi-generator\r\nhttps://search.maven.org/artifact/org.openapitools/openapi-generator\r\n\r\n","title":"Could not resolve artifact org.openapitools:openapi-generator:jar:sources","body":"<p>I am trying to implement openapi plugin generator , but when i run <code>mvn clean install</code> I get the following error.</p>\n<pre><code>org.eclipse.core.runtime.CoreException: Could not resolve artifact org.openapitools:openapi-generator:jar:sources:${openapi-generator-version}\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$4(MavenImpl.java:828)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:182)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:117)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:103)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:796)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.resolve(MavenImpl.java:773)\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.company.project&lt;/groupId&gt;\n    &lt;artifactId&gt;company&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;company&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;openapi-generator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--https://openapi-generator.tech/docs/plugins/--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- RELEASE_VERSION --&gt;\n                &lt;version&gt;5.1.0&lt;/version&gt;\n                &lt;!-- /RELEASE_VERSION --&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/test.yaml&lt;/inputSpec&gt;\n                            &lt;output&gt;${project.build.directory}/&lt;/output&gt;\n                            &lt;generateSupportingFiles&gt;true&lt;/generateSupportingFiles&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;strictSpec&gt;true&lt;/strictSpec&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;configOptions&gt;\n                                &lt;controllerThrowsExceptions&gt;java.io.IOException,com.example.NotFoundException&lt;/controllerThrowsExceptions&gt;\n                                &lt;library&gt;spring-mvc&lt;/library&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;skipDefaultInterface&gt;true&lt;/skipDefaultInterface&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;useClassLevelBeanValidation&gt;false&lt;/useClassLevelBeanValidation&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                                &lt;java8&gt;true&lt;/java8&gt;\n                                &lt;useOptional&gt;false&lt;/useOptional&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                                &lt;useBeanValidation&gt;true&lt;/useBeanValidation&gt;\n                                &lt;apiPackage&gt;${codegen.api.package.name}&lt;/apiPackage&gt;\n                                &lt;modelPackage&gt;${codegen.model.page.name}&lt;/modelPackage&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I have been looking at the documentation and it seems that the repository is on nexus ?</p>\n<p><a href=\"https://github.com/OpenAPITools/openapi-generator\" rel=\"nofollow noreferrer\">https://github.com/OpenAPITools/openapi-generator</a>\n<a href=\"https://search.maven.org/artifact/org.openapitools/openapi-generator\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.openapitools/openapi-generator</a></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":0,"creation_date":1385728908,"post_id":20286020,"comment_id":30264433,"body_markdown":"but eq() is when you mixed anyXXX with object. Or not?","body":"but eq() is when you mixed anyXXX with object. Or not?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":2,"creation_date":1385729646,"post_id":20286020,"comment_id":30264811,"body_markdown":"possible duplicate of [Unit testing with mockito for constructors](http://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\">Unit testing with mockito for constructors</a>"},{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":0,"creation_date":1385730606,"post_id":20286020,"comment_id":30265382,"body_markdown":"but this solution doesn&#180;t works for me, I don&#180;t want to parametrice method.","body":"but this solution doesn&#180;t works for me, I don&#180;t want to parametrice method."}],"answers":[{"comments":[{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":0,"creation_date":1385971081,"post_id":20287015,"comment_id":30329744,"body_markdown":"I tried whith \norg.powermock.api.mockito.PowerMockito.whenNewnew(GeneraIDParaEntidadCliente(String.class, Entidad.class).thenReturn(generaIdMock)\nBut doesn&#180;t work. Any idea why?","body":"I tried whith  org.powermock.api.mockito.PowerMockito.whenNewnew(GeneraIDPa&zwnj;&#8203;raEntidadCliente(Str&zwnj;&#8203;ing.class, Entidad.class).thenReturn(generaIdMock) But doesn&#180;t work. Any idea why?"},{"owner":{"account_id":3091729,"reputation":4272,"user_id":2617694,"display_name":"Dave"},"score":0,"creation_date":1386037587,"post_id":20287015,"comment_id":30362932,"body_markdown":"I&#39;d have to see more of your code to know exactly what&#39;s wrong. Are you using @RunWith(PowerMockRunner.class) and @PrepareForTest on the test class? See [here](http://code.google.com/p/powermock/wiki/MockitoUsage13).","body":"I&#39;d have to see more of your code to know exactly what&#39;s wrong. Are you using @RunWith(PowerMockRunner.class) and @PrepareForTest on the test class? See <a href=\"http://code.google.com/p/powermock/wiki/MockitoUsage13\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"score":1,"creation_date":1386075186,"post_id":20287015,"comment_id":30379355,"body_markdown":"@RunWith(PowerMockRunner.class) and @PrepareForTest({GeneraIDParaEntidadCliente .class})","body":"@RunWith(PowerMockRunner.class) and @PrepareForTest({GeneraIDParaEntidadCliente .class})"}],"tags":[],"owner":{"account_id":3091729,"reputation":4272,"user_id":2617694,"display_name":"Dave"},"comment_count":3,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1667841951,"creation_date":1385731983,"answer_id":20287015,"question_id":20286020,"body_markdown":"UPDATE: since [since version 3.5.0][1], Mockito can do this without PowerMockito.\r\n\r\nYou can use [PowerMock][2] to mock constructors.\r\n\r\nIf you can&#39;t use PowerMock for some reason, the most workable solution is to inject a factory to whatever class contains this method. You would then use the factory to create your `GeneraIDParaEntidadCliente` object and mock the factory.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\r\n  [2]: https://github.com/jayway/powermock","title":"Mock constructor with mockito","body":"<p>UPDATE: since <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">since version 3.5.0</a>, Mockito can do this without PowerMockito.</p>\n<p>You can use <a href=\"https://github.com/jayway/powermock\" rel=\"nofollow noreferrer\">PowerMock</a> to mock constructors.</p>\n<p>If you can't use PowerMock for some reason, the most workable solution is to inject a factory to whatever class contains this method. You would then use the factory to create your <code>GeneraIDParaEntidadCliente</code> object and mock the factory.</p>\n"},{"comments":[{"owner":{"account_id":3467967,"reputation":1511,"user_id":2903069,"accept_rate":24,"display_name":"Shashi Ranjan"},"score":1,"creation_date":1475143287,"post_id":20295303,"comment_id":66828916,"body_markdown":"ha ha ... instead of providing solution ... they are telling to change the code itself","body":"ha ha ... instead of providing solution ... they are telling to change the code itself"}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1385772988,"creation_date":1385772988,"answer_id":20295303,"question_id":20286020,"body_markdown":"There are a couple of ways of doing this, described in [my article on the Mockito wiki](http://code.google.com/p/mockito/wiki/MockingObjectCreation)","title":"Mock constructor with mockito","body":"<p>There are a couple of ways of doing this, described in <a href=\"http://code.google.com/p/mockito/wiki/MockingObjectCreation\" rel=\"nofollow\">my article on the Mockito wiki</a></p>\n"},{"tags":[],"owner":{"account_id":6202518,"reputation":937,"user_id":4831778,"accept_rate":67,"display_name":"M2E67"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476950768,"creation_date":1476950768,"answer_id":40148831,"question_id":20286020,"body_markdown":"you can send mocked objects as paramemters to your class constructor, form example:\r\n\r\n    // define you object\r\n    public MainClassObj instanceClass;\r\n    \r\n    // mock input parameter\r\n    MYClassObj mockedObj = Mockito.mock(MYClassObj.class);\r\n    \r\n    // call construvtor with mocked parameter\r\n    instanceClass = new instanceClass(mockedObj);","title":"Mock constructor with mockito","body":"<p>you can send mocked objects as paramemters to your class constructor, form example:</p>\n\n<pre><code>// define you object\npublic MainClassObj instanceClass;\n\n// mock input parameter\nMYClassObj mockedObj = Mockito.mock(MYClassObj.class);\n\n// call construvtor with mocked parameter\ninstanceClass = new instanceClass(mockedObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667841835,"creation_date":1667841835,"answer_id":74350508,"question_id":20286020,"body_markdown":"Copying answer from [duplicate][1]:\r\nMockito can now mock constructors (since version 3.5.0) https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\r\n\r\n```\r\ntry (MockedConstruction mocked = mockConstruction(Foo.class)) {\r\n   Foo foo = new Foo();\r\n   when(foo.method()).thenReturn(&quot;bar&quot;);\r\n   assertEquals(&quot;bar&quot;, foo.method());\r\n   verify(foo).method();\r\n }\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors","title":"Mock constructor with mockito","body":"<p>Copying answer from <a href=\"https://stackoverflow.com/questions/11214136/unit-testing-with-mockito-for-constructors\">duplicate</a>:\nMockito can now mock constructors (since version 3.5.0) <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction</a></p>\n<pre><code>try (MockedConstruction mocked = mockConstruction(Foo.class)) {\n   Foo foo = new Foo();\n   when(foo.method()).thenReturn(&quot;bar&quot;);\n   assertEquals(&quot;bar&quot;, foo.method());\n   verify(foo).method();\n }\n</code></pre>\n"}],"owner":{"account_id":2594644,"reputation":989,"user_id":2248600,"accept_rate":73,"display_name":"Mathew Rock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46047,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":20287015,"answer_count":4,"score":7,"last_activity_date":1667841951,"creation_date":1385728647,"question_id":20286020,"body_markdown":"I want to mock a constructor into method. \r\n\r\n    public String generaID() {   \r\n    \tGeneraIDParaEntidadCliente aux = new GeneraIDParaEntidadCliente(nombre, registro);   \r\n    \tentidad.setID(aux.generaID);   \r\n    }\r\n\r\nIn my test I want do something like this : \r\n\r\n    when(new GeneraIDParaEntidadCliente(anyString(), any(Entidad.class)).thenReturn(generaIdMock)  \r\n\r\nbut give me this **error** `org.mockito.exceptions.misusing.InvalidUseOfMatchersException: `\r\n\r\nAny idea why?","title":"Mock constructor with mockito","body":"<p>I want to mock a constructor into method. </p>\n\n<pre><code>public String generaID() {   \n    GeneraIDParaEntidadCliente aux = new GeneraIDParaEntidadCliente(nombre, registro);   \n    entidad.setID(aux.generaID);   \n}\n</code></pre>\n\n<p>In my test I want do something like this : </p>\n\n<pre><code>when(new GeneraIDParaEntidadCliente(anyString(), any(Entidad.class)).thenReturn(generaIdMock)  \n</code></pre>\n\n<p>but give me this <strong>error</strong> <code>org.mockito.exceptions.misusing.InvalidUseOfMatchersException:</code></p>\n\n<p>Any idea why?</p>\n"},{"tags":["java","android","azure-maps"],"answers":[{"tags":[],"owner":{"account_id":1293887,"reputation":17020,"user_id":1245450,"display_name":"rbrundritt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667841867,"creation_date":1667841867,"answer_id":74350519,"question_id":74335451,"body_markdown":"Android&#39;s default for orientation change is to reset the activity, this isn&#39;t an Azure Maps specific thing. You can modify this behavior in your manifest. In the &lt;Activity&gt; tag, you can add `android:configChanges=&quot;orientation|keyboardHidden&quot;`, this will stop the activity from reloading and call `onConfigurationChanged()` instead when the orientation is changed or the keyboard is hidden.","title":"Azure maps resets when screen orientation change","body":"<p>Android's default for orientation change is to reset the activity, this isn't an Azure Maps specific thing. You can modify this behavior in your manifest. In the  tag, you can add <code>android:configChanges=&quot;orientation|keyboardHidden&quot;</code>, this will stop the activity from reloading and call <code>onConfigurationChanged()</code> instead when the orientation is changed or the keyboard is hidden.</p>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350519,"answer_count":1,"score":0,"last_activity_date":1667841867,"creation_date":1667734214,"question_id":74335451,"body_markdown":"So im developing a geolocalization app, and when my user is navigating the map, in AZURE MAPS, whenever he change the orientation of the screen it resets, and i want to prevent that from happening, is there anyway i can achieve that ?\r\nIm using android studio with java.\r\nIve read some things about beeing possible in OnReady, but i cant figure how to do it.","title":"Azure maps resets when screen orientation change","body":"<p>So im developing a geolocalization app, and when my user is navigating the map, in AZURE MAPS, whenever he change the orientation of the screen it resets, and i want to prevent that from happening, is there anyway i can achieve that ?\nIm using android studio with java.\nIve read some things about beeing possible in OnReady, but i cant figure how to do it.</p>\n"},{"tags":["java","unix","oshi"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667822744,"post_id":74345429,"comment_id":131251769,"body_markdown":"Not sure if this queries for a PTR record but not all hosts have them","body":"Not sure if this queries for a PTR record but not all hosts have them"}],"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667818308,"creation_date":1667818308,"answer_id":74345429,"question_id":74345328,"body_markdown":"Looks like `info.ai_canonname` is `null`, Try adding null check for `ai_canonname` or use null safe way to do trim like `StringUtils.trim()`\r\n\r\n    public static String trim(final String str) {\r\n        return str == null ? null : str.trim();\r\n    }","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>Looks like <code>info.ai_canonname</code> is <code>null</code>, Try adding null check for <code>ai_canonname</code> or use null safe way to do trim like <code>StringUtils.trim()</code></p>\n<pre><code>public static String trim(final String str) {\n    return str == null ? null : str.trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667840194,"creation_date":1667840194,"answer_id":74350162,"question_id":74345328,"body_markdown":"As @Jishnu-Prathap said in their [answer](https://stackoverflow.com/a/74345429/1161484), `info.ai_canonname` is null. \r\n\r\nThis value normally returns the &quot;official name of the host&quot; in response to the [`getaddrinfo()`][1] function whose docs state:\r\n&gt; If `hints.ai_flags` includes the `AI_CANONNAME` flag, then the `ai_canonname` field of the first of the `addrinfo` structures in the returned list is set to point to the official name of the host.\r\n\r\nThis may represent an error in your server configuration; fixing the &quot;official name of the host&quot; will prevent the NPE if you keep the same OSHI version.\r\n\r\nHowever, failing to null-check this value was a bug in earlier versions of OSHI but was [fixed in version 6.2.2][2] and upgrading will also prevent the NPE (but not give you a canonical host name, since it doesn&#39;t exist!)\r\n\r\n\r\n  [1]: https://man7.org/linux/man-pages/man3/getaddrinfo.3.html\r\n  [2]: https://github.com/oshi/oshi/pull/2133","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>As @Jishnu-Prathap said in their <a href=\"https://stackoverflow.com/a/74345429/1161484\">answer</a>, <code>info.ai_canonname</code> is null.</p>\n<p>This value normally returns the &quot;official name of the host&quot; in response to the <a href=\"https://man7.org/linux/man-pages/man3/getaddrinfo.3.html\" rel=\"nofollow noreferrer\"><code>getaddrinfo()</code></a> function whose docs state:</p>\n<blockquote>\n<p>If <code>hints.ai_flags</code> includes the <code>AI_CANONNAME</code> flag, then the <code>ai_canonname</code> field of the first of the <code>addrinfo</code> structures in the returned list is set to point to the official name of the host.</p>\n</blockquote>\n<p>This may represent an error in your server configuration; fixing the &quot;official name of the host&quot; will prevent the NPE if you keep the same OSHI version.</p>\n<p>However, failing to null-check this value was a bug in earlier versions of OSHI but was <a href=\"https://github.com/oshi/oshi/pull/2133\" rel=\"nofollow noreferrer\">fixed in version 6.2.2</a> and upgrading will also prevent the NPE (but not give you a canonical host name, since it doesn't exist!)</p>\n"}],"owner":{"account_id":8762853,"reputation":51,"user_id":6552317,"display_name":"kushal agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667840194,"creation_date":1667817851,"question_id":74345328,"body_markdown":"We are seeing the NPE in the LinuxNetworkParams.getDomainName call in oshi version 6.1.6. Although I am not able to see any reason for this. Can anyone help me when with the reasons why this can throw NPE?\r\n\r\n    Caused by: java.lang.NullPointerException\r\n\tat oshi.software.os.linux.LinuxNetworkParams.getDomainName(LinuxNetworkParams.java:80) ~[oshi-core-6.1.6.jar!/:6.1.6]\r\n\tat com.airwatch.common.diagnostics.DiagnosticCollector.fetchSystemConfiguration(DiagnosticCollector.java:148) ~[diagnostic-library-2.0.3.jar!/:?]\r\n\r\n\r\nHere is the code for the method : \r\nhttps://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80 ","title":"looking for the reason for NPE in LinuxNetworkParams.getDomainName call","body":"<p>We are seeing the NPE in the LinuxNetworkParams.getDomainName call in oshi version 6.1.6. Although I am not able to see any reason for this. Can anyone help me when with the reasons why this can throw NPE?</p>\n<pre><code>Caused by: java.lang.NullPointerException\nat oshi.software.os.linux.LinuxNetworkParams.getDomainName(LinuxNetworkParams.java:80) ~[oshi-core-6.1.6.jar!/:6.1.6]\nat com.airwatch.common.diagnostics.DiagnosticCollector.fetchSystemConfiguration(DiagnosticCollector.java:148) ~[diagnostic-library-2.0.3.jar!/:?]\n</code></pre>\n<p>Here is the code for the method :\n<a href=\"https://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80\" rel=\"nofollow noreferrer\">https://github.com/oshi/oshi/blob/oshi-parent-6.1.6/oshi-core/src/main/java/oshi/software/os/linux/LinuxNetworkParams.java#L79-L80</a></p>\n"},{"tags":["java","docker","quarkus","render.com"],"answers":[{"tags":[],"owner":{"account_id":3594492,"reputation":705,"user_id":2999667,"accept_rate":64,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667840155,"creation_date":1667840155,"answer_id":74350152,"question_id":74329502,"body_markdown":"The Dockerfile shipped with the Quarkus Quickstart assumes you already have compiled your sources.\r\nIn order to compile the sources in the container, I had to change my Dockerfile as listed [here][1].\r\nAlso, it&#39;s important to remove that `*` from the `.dockerignore` file.\r\n\r\n  [1]: https://quarkus.io/guides/building-native-image#multistage-docker","title":"How to deploy a Quarkus App on Render.com?","body":"<p>The Dockerfile shipped with the Quarkus Quickstart assumes you already have compiled your sources.\nIn order to compile the sources in the container, I had to change my Dockerfile as listed <a href=\"https://quarkus.io/guides/building-native-image#multistage-docker\" rel=\"nofollow noreferrer\">here</a>.\nAlso, it's important to remove that <code>*</code> from the <code>.dockerignore</code> file.</p>\n"}],"owner":{"account_id":3594492,"reputation":705,"user_id":2999667,"accept_rate":64,"display_name":"Andrea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74350152,"answer_count":1,"score":0,"last_activity_date":1667840155,"creation_date":1667665617,"question_id":74329502,"body_markdown":"Starting from the end of the month, Heroku will dismiss its free tier, so I&#39;m looking for a way to deploy my Java apps elsewhere, namely on Render.\r\nRender doesn&#39;t support Java natively like Heroku does, but support Docker which should be fine even if I have little to no experience with it.\r\n\r\nSo, let&#39;s begin.\r\nI&#39;ve created a MVP with Quarkus and pushed everything on GitHub. Quarkus comes with the following preconfigured Dockerfile.\r\n\r\n    FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\r\n    ENV LANGUAGE=&#39;en_US:en&#39;\r\n    COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\n    COPY --chown=185 target/quarkus-app/*.jar /deployments/\r\n    COPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\n    COPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n    EXPOSE 8080\r\n    USER 185\r\n    ENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\r\n    ENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\r\n\r\nThen, I&#39;ve created a new Render project, connecting the GitHub repo and specifying the custom path for the Dockerfile (`./src/main/docker/Dockerfile.jvm`).\r\n\r\n\r\nAfter that, the build started and failed shorty after with the following error:\r\n\r\n    error: failed to solve: failed to compute cache key: failed to calculate checksum of ref ybv5ya8wywl2vxh03tp4kiw9y::xq421txz9uzdcqymi3ygmk6xb: failed to walk /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: lstat /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: no such file or directory\r\n\r\nI&#39;m unsure on what that does exactly mean.\r\nI feel the problem is that it expects to find something in the `target` dir, which doesn&#39;t exists because I never did something like `./mvnw package` anywhere in the Dockerfile.\r\nTherefore, on a second attempt, I&#39;ve added the following line\r\n\r\n    RUN ./mvnw package\r\n\r\nin the Dockerfile, just before those four `COPY` lines, but the issue persists so maybe I&#39;m off track. \r\n\r\nAny help on how can I fix this?\r\n","title":"How to deploy a Quarkus App on Render.com?","body":"<p>Starting from the end of the month, Heroku will dismiss its free tier, so I'm looking for a way to deploy my Java apps elsewhere, namely on Render.\nRender doesn't support Java natively like Heroku does, but support Docker which should be fine even if I have little to no experience with it.</p>\n<p>So, let's begin.\nI've created a MVP with Quarkus and pushed everything on GitHub. Quarkus comes with the following preconfigured Dockerfile.</p>\n<pre><code>FROM registry.access.redhat.com/ubi8/openjdk-17:1.14\nENV LANGUAGE='en_US:en'\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\nEXPOSE 8080\nUSER 185\nENV JAVA_OPTS=&quot;-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager&quot;\nENV JAVA_APP_JAR=&quot;/deployments/quarkus-run.jar&quot;\n</code></pre>\n<p>Then, I've created a new Render project, connecting the GitHub repo and specifying the custom path for the Dockerfile (<code>./src/main/docker/Dockerfile.jvm</code>).</p>\n<p>After that, the build started and failed shorty after with the following error:</p>\n<pre><code>error: failed to solve: failed to compute cache key: failed to calculate checksum of ref ybv5ya8wywl2vxh03tp4kiw9y::xq421txz9uzdcqymi3ygmk6xb: failed to walk /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: lstat /home/user/.local/tmp/buildkit-mount4168277661/target/quarkus-app: no such file or directory\n</code></pre>\n<p>I'm unsure on what that does exactly mean.\nI feel the problem is that it expects to find something in the <code>target</code> dir, which doesn't exists because I never did something like <code>./mvnw package</code> anywhere in the Dockerfile.\nTherefore, on a second attempt, I've added the following line</p>\n<pre><code>RUN ./mvnw package\n</code></pre>\n<p>in the Dockerfile, just before those four <code>COPY</code> lines, but the issue persists so maybe I'm off track.</p>\n<p>Any help on how can I fix this?</p>\n"},{"tags":["java","python","android","tensorflow","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":20876281,"reputation":41,"user_id":15334979,"display_name":"Alex1338"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1615534406,"creation_date":1615534406,"answer_id":66595929,"question_id":66488745,"body_markdown":"After further study, I believe the aforementioned issue was raised since the model has 8 tensors output but the Android application written in Java can only support 4 tensors output (at least the example provided by Google only supports 4 tensors output)\r\n\r\nI am not very certain about the number of tensors output on different models. So far as I understood and messed around with different models, models with fixed_shape_resizer of 640 x 640 are likely to require more than 4 tensors output ( 8 tensors output usually), which is not compatible with the Android application written in Java.\r\n\r\nFor any amateur users like me, please find the following prerequisites to use your custom model in the [Android application][1] \\\r\nSuggested Setup ( Assume you are using TensorFlow version &gt;= 2.3):\r\n\r\n- TensorFlow Model: **SSD model with fixed_shape_resizer of 320 x 320** \\\r\n(In my case, SSD MobileNet v2 320x320 works perfectly fine)\r\n(The tensors output has to be 4)\r\n\r\n- **Colab** ( Perfect for model training and conversion) \\\r\n( I&#39;ve tried to perform the training and conversion on both Linux and Windows platform on my local machine, the incompatibility of different tools and package gives me a headache. I turned out using Colab to perform the training and conversion. It is much more powerful and has great compatibility with those training tools and script.)\r\n\r\n- The [**metadata writer library**](https://stackoverflow.com/questions/64097085/issue-in-creating-tflite-model-populated-with-metadata-for-object-detection/64493506#64493506) that was written by [@lu-wang-g](https://github.com/lu-wang-g) \\\r\n(In my case, after converting the trained model to .tflite, if you directly migrate the .tflite model to the Android application, the application will report tons of problem regarding the config of the .tflite model. Assume if you trained and converted the model correctly, all you need is the metadata writer library above. It will automatically configure the metadata for you according to the .tflite model. Then you can directly migrate the model to the application.)\r\n\r\nFor detail, please visit my GitHub issue: \\\r\nhttps://github.com/tensorflow/tensorflow/issues/47595\r\n\r\n\r\n\r\n  [1]: https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p>After further study, I believe the aforementioned issue was raised since the model has 8 tensors output but the Android application written in Java can only support 4 tensors output (at least the example provided by Google only supports 4 tensors output)</p>\n<p>I am not very certain about the number of tensors output on different models. So far as I understood and messed around with different models, models with fixed_shape_resizer of 640 x 640 are likely to require more than 4 tensors output ( 8 tensors output usually), which is not compatible with the Android application written in Java.</p>\n<p>For any amateur users like me, please find the following prerequisites to use your custom model in the <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md\" rel=\"nofollow noreferrer\">Android application</a> <br />\nSuggested Setup ( Assume you are using TensorFlow version &gt;= 2.3):</p>\n<ul>\n<li><p>TensorFlow Model: <strong>SSD model with fixed_shape_resizer of 320 x 320</strong> <br />\n(In my case, SSD MobileNet v2 320x320 works perfectly fine)\n(The tensors output has to be 4)</p>\n</li>\n<li><p><strong>Colab</strong> ( Perfect for model training and conversion) <br />\n( I've tried to perform the training and conversion on both Linux and Windows platform on my local machine, the incompatibility of different tools and package gives me a headache. I turned out using Colab to perform the training and conversion. It is much more powerful and has great compatibility with those training tools and script.)</p>\n</li>\n<li><p>The <a href=\"https://stackoverflow.com/questions/64097085/issue-in-creating-tflite-model-populated-with-metadata-for-object-detection/64493506#64493506\"><strong>metadata writer library</strong></a> that was written by <a href=\"https://github.com/lu-wang-g\" rel=\"nofollow noreferrer\">@lu-wang-g</a> <br />\n(In my case, after converting the trained model to .tflite, if you directly migrate the .tflite model to the Android application, the application will report tons of problem regarding the config of the .tflite model. Assume if you trained and converted the model correctly, all you need is the metadata writer library above. It will automatically configure the metadata for you according to the .tflite model. Then you can directly migrate the model to the application.)</p>\n</li>\n</ul>\n<p>For detail, please visit my GitHub issue: <br />\n<a href=\"https://github.com/tensorflow/tensorflow/issues/47595\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/issues/47595</a></p>\n"},{"tags":[],"owner":{"account_id":26857397,"reputation":1,"user_id":20441488,"display_name":"Petr Rybakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667840097,"creation_date":1667833879,"answer_id":74348786,"question_id":66488745,"body_markdown":"For those who will stumble on this problem/question later: limitations on the number of output tensors are part of Tensorflow Lite Object Detection API specification described [here][1]\r\nI don&#39;t know how to make a model compatible with this requirements yet, but will append my answer if/when I will figure that out.\r\n\r\n**UPDATE**\r\n\r\n[Here][2] is the official Google Colab with an example of a model conversion. The interesting part is that script call:\r\n```\r\npython models/research/object_detection/export_tflite_graph_tf2.py \\\r\n    --trained_checkpoint_dir {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/checkpoint&#39;} \\\r\n    --output_directory {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/tflite&#39;} \\\r\n    --pipeline_config_path {&#39;ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config&#39;}\r\n```\r\nThe script doesn&#39;t convert your model, but makes the model compatible with TFLite in terms of used operations and inputs/outputs format. \r\nA comment inside the script claims that only SSD meta-architectures are supported (also stated [here](https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md)). Also in the same directory of the repo where this script comes from there are other scripts that seem to be doing similar things, though no clear description given.\r\n\r\n\r\n  [1]: https://www.tensorflow.org/lite/inference_with_metadata/task_library/object_detector#model_compatibility_requirements\r\n  [2]: https://colab.research.google.com/github/tensorflow/models/blob/master/research/object_detection/colab_tutorials/convert_odt_model_to_TFLite.ipynb\r\n","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p>For those who will stumble on this problem/question later: limitations on the number of output tensors are part of Tensorflow Lite Object Detection API specification described <a href=\"https://www.tensorflow.org/lite/inference_with_metadata/task_library/object_detector#model_compatibility_requirements\" rel=\"nofollow noreferrer\">here</a>\nI don't know how to make a model compatible with this requirements yet, but will append my answer if/when I will figure that out.</p>\n<p><strong>UPDATE</strong></p>\n<p><a href=\"https://colab.research.google.com/github/tensorflow/models/blob/master/research/object_detection/colab_tutorials/convert_odt_model_to_TFLite.ipynb\" rel=\"nofollow noreferrer\">Here</a> is the official Google Colab with an example of a model conversion. The interesting part is that script call:</p>\n<pre><code>python models/research/object_detection/export_tflite_graph_tf2.py \\\n    --trained_checkpoint_dir {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/checkpoint'} \\\n    --output_directory {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/tflite'} \\\n    --pipeline_config_path {'ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config'}\n</code></pre>\n<p>The script doesn't convert your model, but makes the model compatible with TFLite in terms of used operations and inputs/outputs format.\nA comment inside the script claims that only SSD meta-architectures are supported (also stated <a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_on_mobile_tf2.md\" rel=\"nofollow noreferrer\">here</a>). Also in the same directory of the repo where this script comes from there are other scripts that seem to be doing similar things, though no clear description given.</p>\n"}],"owner":{"account_id":20876281,"reputation":41,"user_id":15334979,"display_name":"Alex1338"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66595929,"answer_count":2,"score":2,"last_activity_date":1667840097,"creation_date":1614930885,"question_id":66488745,"body_markdown":"**PROBLEM ENCOUNTERED:**\r\n\r\n&gt; E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: org.tensorflow.lite.examples.detection, PID: 14719\r\n    java.lang.AssertionError: Error occurred when initializing ObjectDetector: Mobile SSD models are expected to have exactly 4 outputs, found 8\r\n\r\n**Problem Description**\r\n\r\n - Android Application Source: TensorFlow Lite Object Detection Example from Google\r\n - Error shown when starting the Example Application\r\n\r\n**Model Description**\r\n\r\n - Custom Model Used? **YES**\r\n\r\n - Pre-trained Model Used: ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8\r\n\r\n - Inference type: FLOAT\r\n\r\n - Number of classes: 4\r\n\r\n\r\n**System Information**\r\n\r\n - OS Platform and Distribution: ( Linux Ubuntu 20.14)\r\n - TensorFlow Version: 2.4.1\r\n - TensorFlow installed from: Pip\r\n\r\n \r\n\r\n**Saved Model conversion commands used:**\r\n\r\n**1. Saved_Model.pb export:**\r\n&gt; python ./exporter_main_v2.py    \r\n--input_type image_tensor \\\r\n--pipeline_config_path ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config \\\r\n--trained_checkpoint_dir ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8 \\\r\n--output_directory exported_models/tflite\r\n\r\n**2. Convert saved model (.pb) to tflite**\r\n\r\n&gt; toco \\\r\n--saved_model_dir ./exported-models/tflite/saved_model \\\r\n--emit-select-tf-ops true \\\r\n--allow_custom_ops \\\r\n--graph_def_file ./exported-models/tflite/saved_model/saved_model.pb \\\r\n--output_file ./exported-models/tflite/tflite/detect.tflite  \\\r\n--input_shapes 1,300,300,3 \\\r\n--input_arrays normalized_input_image_tensor \\\r\n--output_arrays &#39;TFLite_Detection_PostProcess,TFLite_Detection_PostProcess:1&#39;,&#39;TFLite_Detection_PostProcess:2&#39;,&#39;TFLite_Detection_PostProcess:3&#39; \\\r\n--inference_type=FLOAT \\\r\n--allow_custom_ops\r\n\r\n**Remarks**\r\nI am trying to use a trained custom model on the Google TensorFlow lite provided example. Just that every time I open the application, it returns such an error,  Mobile SSD models are expected to have exactly 4 outputs, found 8. The model is trained to identify 4 classes, all stated in the labelmap.txt and pipeline config.\r\n\r\n**Does anybody have any clue about this error?** ","title":"Tensorflow Lite Android Object Detection -- Mobile SSD models are expected to have exactly 4 outputs, found 8","body":"<p><strong>PROBLEM ENCOUNTERED:</strong></p>\n<blockquote>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: org.tensorflow.lite.examples.detection, PID: 14719\njava.lang.AssertionError: Error occurred when initializing ObjectDetector: Mobile SSD models are expected to have exactly 4 outputs, found 8</p>\n</blockquote>\n<p><strong>Problem Description</strong></p>\n<ul>\n<li>Android Application Source: TensorFlow Lite Object Detection Example from Google</li>\n<li>Error shown when starting the Example Application</li>\n</ul>\n<p><strong>Model Description</strong></p>\n<ul>\n<li><p>Custom Model Used? <strong>YES</strong></p>\n</li>\n<li><p>Pre-trained Model Used: ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8</p>\n</li>\n<li><p>Inference type: FLOAT</p>\n</li>\n<li><p>Number of classes: 4</p>\n</li>\n</ul>\n<p><strong>System Information</strong></p>\n<ul>\n<li>OS Platform and Distribution: ( Linux Ubuntu 20.14)</li>\n<li>TensorFlow Version: 2.4.1</li>\n<li>TensorFlow installed from: Pip</li>\n</ul>\n<p><strong>Saved Model conversion commands used:</strong></p>\n<p><strong>1. Saved_Model.pb export:</strong></p>\n<blockquote>\n<p>python ./exporter_main_v2.py<br />\n--input_type image_tensor <br />\n--pipeline_config_path ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8/pipeline.config <br />\n--trained_checkpoint_dir ./models/ssd_mobilenet_v2_fpnlite_640x640_coco17_tpu-8 <br />\n--output_directory exported_models/tflite</p>\n</blockquote>\n<p><strong>2. Convert saved model (.pb) to tflite</strong></p>\n<blockquote>\n<p>toco <br />\n--saved_model_dir ./exported-models/tflite/saved_model <br />\n--emit-select-tf-ops true <br />\n--allow_custom_ops <br />\n--graph_def_file ./exported-models/tflite/saved_model/saved_model.pb <br />\n--output_file ./exported-models/tflite/tflite/detect.tflite  <br />\n--input_shapes 1,300,300,3 <br />\n--input_arrays normalized_input_image_tensor <br />\n--output_arrays 'TFLite_Detection_PostProcess,TFLite_Detection_PostProcess:1','TFLite_Detection_PostProcess:2','TFLite_Detection_PostProcess:3' <br />\n--inference_type=FLOAT <br />\n--allow_custom_ops</p>\n</blockquote>\n<p><strong>Remarks</strong>\nI am trying to use a trained custom model on the Google TensorFlow lite provided example. Just that every time I open the application, it returns such an error,  Mobile SSD models are expected to have exactly 4 outputs, found 8. The model is trained to identify 4 classes, all stated in the labelmap.txt and pipeline config.</p>\n<p><strong>Does anybody have any clue about this error?</strong></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","transactions"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662661754,"post_id":73653572,"comment_id":130063760,"body_markdown":"Do not use entity classes in your API. It is very bad architecture and leeds to such problems.","body":"Do not use entity classes in your API. It is very bad architecture and leeds to such problems."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1662661779,"post_id":73653572,"comment_id":130063774,"body_markdown":"BTW: Take care of java naming conventions. package names should be lower case","body":"BTW: Take care of java naming conventions. package names should be lower case"},{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1662661884,"post_id":73653572,"comment_id":130063803,"body_markdown":"ok, thanks for the tips! I&#39;m gonna  refactor to use DTO&#39;s after we figure out what problem is...","body":"ok, thanks for the tips! I&#39;m gonna  refactor to use DTO&#39;s after we figure out what problem is..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1662661913,"post_id":73653572,"comment_id":130063815,"body_markdown":"You should do it first, maybe the problem is solved than ?","body":"You should do it first, maybe the problem is solved than ?"},{"owner":{"account_id":14714876,"reputation":56,"user_id":12008627,"display_name":"stephenisau"},"score":1,"creation_date":1662668080,"post_id":73653572,"comment_id":130065572,"body_markdown":"The null pointer exception seems to indicate it&#39;s an incorrect method call somewhere. \nhttps://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html","body":"The null pointer exception seems to indicate it&#39;s an incorrect method call somewhere.  <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"score":0,"creation_date":1662701972,"post_id":73656871,"comment_id":130070960,"body_markdown":"Hmmm, this strange thing occured, i used Versioning in my Entities for Optimistic Lock, but i didn&#39;t provide a Getter for Version, i did it now, and the error was gone, thanks! I  don&#39;t know why this behaviour tho","body":"Hmmm, this strange thing occured, i used Versioning in my Entities for Optimistic Lock, but i didn&#39;t provide a Getter for Version, i did it now, and the error was gone, thanks! I  don&#39;t know why this behaviour tho"}],"tags":[],"owner":{"account_id":26258258,"reputation":56,"user_id":19929993,"display_name":"Daniel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662692068,"creation_date":1662692068,"answer_id":73656871,"question_id":73653572,"body_markdown":"In this line, you get an Category object, make sure it has &quot;categoryId&quot; field **not null**\r\n```\r\nResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\r\n```\r\n\r\nThe database representation needs to be consistent with what is mapped.\r\n\r\nHibernate only allows unsaved entities to have a non-null version.\r\n\r\nCheck [this][1]\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-3030?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>In this line, you get an Category object, make sure it has &quot;categoryId&quot; field <strong>not null</strong></p>\n<pre><code>ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\n</code></pre>\n<p>The database representation needs to be consistent with what is mapped.</p>\n<p>Hibernate only allows unsaved entities to have a non-null version.</p>\n<p>Check <a href=\"https://hibernate.atlassian.net/browse/HHH-3030?page=com.atlassian.jira.plugin.system.issuetabpanels%3Aall-tabpanel\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"comments":[{"owner":{"account_id":6488505,"reputation":129,"user_id":5023290,"display_name":"dileep keeppalli"},"score":0,"creation_date":1684677236,"post_id":74320050,"comment_id":134548683,"body_markdown":"Great... This works!! If it&#39;s really not a read-only operation, then don&#39;t add `(readOnly = true)`. If you don&#39;t specify it, the default behavior is to create a read-write transaction","body":"Great... This works!! If it&#39;s really not a read-only operation, then don&#39;t add <code>(readOnly = true)</code>. If you don&#39;t specify it, the default behavior is to create a read-write transaction"}],"tags":[],"owner":{"account_id":16433551,"reputation":440,"user_id":11871733,"display_name":"Obot Ernest"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667839784,"creation_date":1667578784,"answer_id":74320050,"question_id":73653572,"body_markdown":"ULTIMTATE SOLUTION\r\n\r\nFollowing the error given     \r\n\r\n`...at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\r\n...`\r\n\r\nSimply add\r\n\r\n    @Transactional(readOnly = true)\r\nto the service method\r\n\r\ne.g \r\n\r\n    @Transactional(readOnly = true)\r\n    public Store addCategory(String storeType, String category) {...}\r\n\r\n**Note: this solution applies to any service method that is giving the error.**\r\n\r\n","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>ULTIMTATE SOLUTION</p>\n<p>Following the error given</p>\n<p><code>...at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73) ...</code></p>\n<p>Simply add</p>\n<pre><code>@Transactional(readOnly = true)\n</code></pre>\n<p>to the service method</p>\n<p>e.g</p>\n<pre><code>@Transactional(readOnly = true)\npublic Store addCategory(String storeType, String category) {...}\n</code></pre>\n<p><strong>Note: this solution applies to any service method that is giving the error.</strong></p>\n"}],"owner":{"account_id":19818900,"reputation":69,"user_id":14515935,"display_name":"MyProblems"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7229,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667839784,"creation_date":1662661510,"question_id":73653572,"body_markdown":"After a couple of hours trying to debug and trying solutions from this site, i need help\r\n\r\nI have 2 microservices who communicate between them using RestTemplate\r\n\r\nA Store Service and a Category Service, and when i&#39;m trying to add Categories to Store, i got error, thing is, i don&#39;t use @Transactional for these methods, and i don&#39;t know from where i got that NullPointerException because if i do a GET Request separately on Entities, i get those values correctly, but when to link them, error.... what to do?\r\n\r\nIf i do with try catch, the result returned is correct, but in console, the error ramains the same\r\n\r\nCategory:\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.DynamicInsert\r\n    @org.hibernate.annotations.DynamicUpdate\r\n    @Access(AccessType.FIELD)\r\n    @org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    public class Category {\r\n    \r\n        @Id\r\n        @SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;CATEGORY_GENERATOR_ID&quot;)\r\n        @GeneratedValue(generator = &quot;category_generator&quot;)\r\n        @Column(name = &quot;CATEGORY_ID&quot;)\r\n        private Long categoryId;\r\n    \r\n        @Version\r\n        private Long categoryVersion;\r\n    \r\n        @Embedded\r\n        @AttributeOverrides({@AttributeOverride(name = &quot;descriptionName&quot;, column = @Column(name = &quot;CATEGORY_NAME&quot;, nullable = false)),\r\n                @AttributeOverride(name = &quot;descriptionAbout&quot;, column = @Column(name = &quot;CATEGORY_DESCRIPTION&quot;, nullable = false))})\r\n        @Valid\r\n        private Description categoryDescription;\r\n    \r\n      \r\n        protected Category() {\r\n        }\r\n    \r\n        public Category(Description categoryDescription) {\r\n            this.categoryDescription = categoryDescription;\r\n        }\r\n    \r\n        public Long getCategoryId() {\r\n            return categoryId;\r\n        }\r\n    \r\n        public Description getCategoryDescription() {\r\n            return categoryDescription;\r\n        }\r\n    \r\n        public void setCategoryDescription(Description categoryDescription) {\r\n            this.categoryDescription = categoryDescription;\r\n        }\r\n    \r\n     \r\n    \r\n    }\r\n\r\n\r\nCategory Service:\r\n\r\n    @Service\r\n    @Validated\r\n    public class CategoryService {\r\n    \r\n        private final CategoryRepository categoryRepository;\r\n        private final CallingFromCategory callingFromCategoryTo;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \r\n        @Autowired\r\n        public CategoryService(CategoryRepository categoryRepository, CallingFromCategory callingFromCategoryTo) {\r\n            this.categoryRepository = categoryRepository;\r\n            this.callingFromCategoryTo = callingFromCategoryTo;\r\n        }\r\n    \r\n        public void createCategory(@Valid Category category) {\r\n            categoryRepository.save(category);\r\n        }\r\n    \r\n        public Category findCategoryById(@Min(1) Long categoryId) {\r\n    \r\n            return categoryRepository.findById(categoryId).orElseThrow(() -&gt; new CategoryNotFoundException(&quot;We don&#39;t have that Category&quot;));\r\n        }\r\n    \r\n        public Category getCategoryByName(@NotBlank String categoryName) {\r\n            Optional&lt;Category&gt; category = Optional.ofNullable(categoryRepository.getCategoryByCategoryDescription_DescriptionName(categoryName));\r\n            if(category.isPresent())\r\n            {\r\n                return category.get();\r\n            }\r\n            else\r\n            {\r\n                throw new CategoryNotFoundException(&quot;sorry bout that&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCategory Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/categories&quot;)\r\n    public class CategoryController {\r\n    \r\n        private final CategoryService categoryService;\r\n    \r\n        @Autowired\r\n        public CategoryController(CategoryService categoryService) {\r\n            this.categoryService = categoryService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/createCategory&quot;)\r\n        public ResponseEntity&lt;String&gt; createCategory(@RequestBody Category category) {\r\n            categoryService.createCategory(category);\r\n            return ResponseEntity.status(HttpStatus.CREATED)\r\n                    .header(&quot;Category&quot;, &quot;CREATED&quot;)\r\n                    .body(&quot;Category was created!&quot;);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/{categoryId}&quot;)\r\n        public ResponseEntity&lt;Category&gt; getCategoryBy(@PathVariable Long categoryId) {\r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .header(&quot;Category Entity&quot;, &quot;FOUND&quot;)\r\n                    .body(categoryService.findCategoryById(categoryId));\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/projections/{categoryId}&quot;)\r\n        List&lt;CategoryProjections.DescriptionOnly&gt; findCategories(@PathVariable Long categoryId) {\r\n            return categoryService.findByCategoryDescription(categoryId);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/name/{categoryName}&quot;, produces = &quot;APPLICATION/JSON&quot;)\r\n        public ResponseEntity&lt;Category&gt; getCategoryByName(@PathVariable String categoryName) {\r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .header(&quot;Category name is &quot;, categoryName.toString())\r\n                    .body(categoryService.getCategoryByName(categoryName));\r\n        }\r\n\r\n\r\nStore Entity:\r\n\r\n    @Entity\r\n    @org.hibernate.annotations.DynamicInsert\r\n    @org.hibernate.annotations.DynamicUpdate\r\n    @Access(AccessType.FIELD)\r\n    @org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\n    public class Store {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;STORE_ID_GENERATOR&quot;) //pre insert added values on id\r\n        @Column(name = &quot;STORE_ID&quot;, unique = true, updatable = false)\r\n        private Long storeId;\r\n    \r\n        @Embedded @NotNull\r\n        @Column(nullable = false)\r\n        @AttributeOverrides({@AttributeOverride(name = &quot;locationCity&quot;, column = @Column(name = &quot;STORE_LOCATION_CITY&quot;)),\r\n        @AttributeOverride(name = &quot;locationCountry&quot;, column = @Column(name = &quot;STORE_LOCATION_COUNTRY&quot;)),\r\n        @AttributeOverride(name = &quot;locationZipCode.zipCode&quot;, column = @Column(name = &quot;STORE_LOCATION_ZIPCODE&quot;))})\r\n        @Valid\r\n        private Location storeLocation;\r\n    \r\n        @NotBlank\r\n        private String storeName;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private StoreType storeType;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        //unidirectional\r\n        @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, cascade = CascadeType.PERSIST)\r\n     //   @org.hibernate.annotations.OnDelete(action = OnDeleteAction.CASCADE)\r\n        @JoinColumn(name = &quot;CATEGORY_STORE_ID&quot;)\r\n        @NotNull\r\n        private Set&lt;Category&gt; categorySet = new HashSet&lt;&gt;(); // we don&#39;t want duplicate categories in our store\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        protected Store() {}\r\n    \r\n        //i initialized associations early\r\n        public Store(Location storeLocation, String storeType, String storeName) {\r\n            this.storeLocation = storeLocation;\r\n            this.storeType = Enum.valueOf(StoreType.class, storeType);\r\n            this.storeName = storeName;\r\n        }\r\n    \r\n        public Long getStoreId() {\r\n            return storeId;\r\n        }\r\n    \r\n        public Location getStoreLocation() {\r\n            return storeLocation;\r\n        }\r\n    \r\n        public void setStoreLocation(Location storeLocation) {\r\n            this.storeLocation = storeLocation;\r\n        }\r\n    \r\n        public Set&lt;Category&gt; getCategorySet() {\r\n            return categorySet;\r\n        }\r\n    \r\n        public void setCategorySet(Set&lt;Category&gt; categorySet) {\r\n            this.categorySet = categorySet;\r\n        }\r\n    \r\n        \r\n    \r\n        public String getStoreName() {\r\n            return storeName;\r\n        }\r\n    \r\n        public void setStoreName(String storeName) {\r\n            this.storeName = storeName;\r\n        }\r\n    \r\n        public StoreType getStoreType() {\r\n            return storeType;\r\n        }\r\n    \r\n        public void setStoreType(StoreType storeType) {\r\n            this.storeType = storeType;\r\n        }\r\n    \r\n    \r\n    \r\n       \r\n    \r\n    \r\n        public void add(@NotNull Category category)\r\n        {\r\n            this.categorySet.add(category);\r\n        }\r\n    }\r\n\r\n\r\nStore Service:\r\n\r\n    @Service\r\n    @Validated\r\n    public class StoreService {\r\n    \r\n        @Autowired\r\n        private final StoreRepository storeRepository;\r\n    \r\n        @Autowired private CallingOthers callingOthers;\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    \r\n        @Autowired\r\n        public StoreService(StoreRepository storeRepository) {\r\n            this.storeRepository = storeRepository;\r\n        }\r\n    \r\n        public void save(@Valid Store store)\r\n        {\r\n            storeRepository.save(store);\r\n        }\r\n    \r\n        public Store getStore(@NotNull String storeType) {\r\n            return storeRepository.getStoreByStoreType(StoreType.valueOf(storeType));\r\n    \r\n        }\r\n    \r\n        public Store addCategory(String storeType, String category) {\r\n            Store store = getStore(storeType);\r\n            ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\r\n         //   System.out.println(category1.getBody().getPromotion().getPromotionSeason().isSeason());\r\n    \r\n    \r\n         //   store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\r\n            store.add(category1.getBody());\r\n       //     store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\r\n    \r\n            Session session = entityManager.unwrap(Session.class);\r\n            session.update(category1.getBody());\r\n            try {\r\n    \r\n                storeRepository.save(store);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                ex.getCause();\r\n                ex.getStackTrace();\r\n                ex.printStackTrace();\r\n            }\r\n            return getStore(storeType);\r\n    \r\n        }\r\n    \r\n        public Store getStoreByStoreName(@NotBlank String storeName)\r\n        {\r\n            Optional&lt;Store&gt; storeOptional = Optional.ofNullable(storeRepository.getStoreByStoreName(storeName));\r\n            return storeOptional.orElseThrow(StoreNotFoundException::new);\r\n        }    \r\n    }\r\n\r\n\r\nStore Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/store&quot;)\r\n    public class StoreController {\r\n    \r\n        private final StoreService storeService;\r\n    \r\n        @Autowired\r\n        public StoreController(StoreService storeService) {\r\n            this.storeService = storeService;\r\n        }\r\n    \r\n        @PostMapping(value = &quot;/createStore&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public void createStore(@RequestBody Store store)\r\n        {\r\n            storeService.save(store);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/{storeType}&quot;)\r\n        public Store getStore(@PathVariable(&quot;storeType&quot;) String storeType)\r\n        {\r\n            return storeService.getStore(storeType);\r\n        }\r\n    \r\n        @GetMapping(value = &quot;getStoreByName/{storeName}&quot;)\r\n        public Store getStoreByName(@PathVariable String storeName)\r\n        {\r\n            return storeService.getStoreByStoreName(storeName);\r\n        }\r\n    \r\n    \r\n        @GetMapping(value = &quot;/addCategory/{storeType}/{category}&quot;)\r\n        public Store addCategoryToStore(@PathVariable(&quot;storeType&quot;) String storeType, @PathVariable (&quot;category&quot;) String category)\r\n        {\r\n            return storeService.addCategory(storeType, category);\r\n    \r\n        }\r\n    }\r\n\r\nRestTemplate Utility class:\r\n\r\n    @Component\r\n    public class CallingOthers {\r\n    \r\n        @Autowired\r\n        private RestTemplate restTemplate;\r\n    \r\n        public ResponseEntity&lt;Category&gt; getCategory(String categoryName)\r\n        {\r\n            return restTemplate.getForEntity(&quot;http://localhost:8080/categories/name/&quot;+categoryName, Category.class);\r\n        }\r\n    }\r\n\r\n\r\nStack Error Trace:\r\n\r\n    ERROR 3984 --- [nio-8080-exec-5] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [null]\r\n    org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy129.save(Unknown Source)\r\n    \tat com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\r\n    \tat com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$FastClassBySpringCGLIB$$30a072fa.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    \tat com.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$EnhancerBySpringCGLIB$$f20a164c.addCategory(&lt;generated&gt;)\r\n    \tat com.shoppingprojectwithhibernate.StoreModule.Controller.StoreController.addCategoryToStore(StoreController.java:42)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.persistence.RollbackException: Error while committing the transaction\r\n    \tat org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:75)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:71)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \t... 76 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat org.hibernate.type.LongType.next(LongType.java:62)\r\n    \tat org.hibernate.type.LongType.next(LongType.java:23)\r\n    \tat org.hibernate.engine.internal.Versioning.increment(Versioning.java:92)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:379)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:275)\r\n    \tat org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:143)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1428)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3190)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2404)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:146)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:220)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\r\n    \t... 77 more\r\n\r\n","title":"Could not commit JPA transaction / Error while committing the transaction / NullPointerException","body":"<p>After a couple of hours trying to debug and trying solutions from this site, i need help</p>\n<p>I have 2 microservices who communicate between them using RestTemplate</p>\n<p>A Store Service and a Category Service, and when i'm trying to add Categories to Store, i got error, thing is, i don't use @Transactional for these methods, and i don't know from where i got that NullPointerException because if i do a GET Request separately on Entities, i get those values correctly, but when to link them, error.... what to do?</p>\n<p>If i do with try catch, the result returned is correct, but in console, the error ramains the same</p>\n<p>Category:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.DynamicInsert\n@org.hibernate.annotations.DynamicUpdate\n@Access(AccessType.FIELD)\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Category {\n\n    @Id\n    @SequenceGenerator(name = &quot;category_generator&quot;, sequenceName = &quot;CATEGORY_GENERATOR_ID&quot;)\n    @GeneratedValue(generator = &quot;category_generator&quot;)\n    @Column(name = &quot;CATEGORY_ID&quot;)\n    private Long categoryId;\n\n    @Version\n    private Long categoryVersion;\n\n    @Embedded\n    @AttributeOverrides({@AttributeOverride(name = &quot;descriptionName&quot;, column = @Column(name = &quot;CATEGORY_NAME&quot;, nullable = false)),\n            @AttributeOverride(name = &quot;descriptionAbout&quot;, column = @Column(name = &quot;CATEGORY_DESCRIPTION&quot;, nullable = false))})\n    @Valid\n    private Description categoryDescription;\n\n  \n    protected Category() {\n    }\n\n    public Category(Description categoryDescription) {\n        this.categoryDescription = categoryDescription;\n    }\n\n    public Long getCategoryId() {\n        return categoryId;\n    }\n\n    public Description getCategoryDescription() {\n        return categoryDescription;\n    }\n\n    public void setCategoryDescription(Description categoryDescription) {\n        this.categoryDescription = categoryDescription;\n    }\n\n \n\n}\n</code></pre>\n<p>Category Service:</p>\n<pre><code>@Service\n@Validated\npublic class CategoryService {\n\n    private final CategoryRepository categoryRepository;\n    private final CallingFromCategory callingFromCategoryTo;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n\n    @Autowired\n    public CategoryService(CategoryRepository categoryRepository, CallingFromCategory callingFromCategoryTo) {\n        this.categoryRepository = categoryRepository;\n        this.callingFromCategoryTo = callingFromCategoryTo;\n    }\n\n    public void createCategory(@Valid Category category) {\n        categoryRepository.save(category);\n    }\n\n    public Category findCategoryById(@Min(1) Long categoryId) {\n\n        return categoryRepository.findById(categoryId).orElseThrow(() -&gt; new CategoryNotFoundException(&quot;We don't have that Category&quot;));\n    }\n\n    public Category getCategoryByName(@NotBlank String categoryName) {\n        Optional&lt;Category&gt; category = Optional.ofNullable(categoryRepository.getCategoryByCategoryDescription_DescriptionName(categoryName));\n        if(category.isPresent())\n        {\n            return category.get();\n        }\n        else\n        {\n            throw new CategoryNotFoundException(&quot;sorry bout that&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Category Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/categories&quot;)\npublic class CategoryController {\n\n    private final CategoryService categoryService;\n\n    @Autowired\n    public CategoryController(CategoryService categoryService) {\n        this.categoryService = categoryService;\n    }\n\n    @PostMapping(value = &quot;/createCategory&quot;)\n    public ResponseEntity&lt;String&gt; createCategory(@RequestBody Category category) {\n        categoryService.createCategory(category);\n        return ResponseEntity.status(HttpStatus.CREATED)\n                .header(&quot;Category&quot;, &quot;CREATED&quot;)\n                .body(&quot;Category was created!&quot;);\n    }\n\n    @GetMapping(value = &quot;/{categoryId}&quot;)\n    public ResponseEntity&lt;Category&gt; getCategoryBy(@PathVariable Long categoryId) {\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .header(&quot;Category Entity&quot;, &quot;FOUND&quot;)\n                .body(categoryService.findCategoryById(categoryId));\n    }\n\n    @GetMapping(value = &quot;/projections/{categoryId}&quot;)\n    List&lt;CategoryProjections.DescriptionOnly&gt; findCategories(@PathVariable Long categoryId) {\n        return categoryService.findByCategoryDescription(categoryId);\n    }\n\n    @GetMapping(value = &quot;/name/{categoryName}&quot;, produces = &quot;APPLICATION/JSON&quot;)\n    public ResponseEntity&lt;Category&gt; getCategoryByName(@PathVariable String categoryName) {\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .header(&quot;Category name is &quot;, categoryName.toString())\n                .body(categoryService.getCategoryByName(categoryName));\n    }\n</code></pre>\n<p>Store Entity:</p>\n<pre><code>@Entity\n@org.hibernate.annotations.DynamicInsert\n@org.hibernate.annotations.DynamicUpdate\n@Access(AccessType.FIELD)\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Store {\n\n    @Id\n    @GeneratedValue(generator = &quot;STORE_ID_GENERATOR&quot;) //pre insert added values on id\n    @Column(name = &quot;STORE_ID&quot;, unique = true, updatable = false)\n    private Long storeId;\n\n    @Embedded @NotNull\n    @Column(nullable = false)\n    @AttributeOverrides({@AttributeOverride(name = &quot;locationCity&quot;, column = @Column(name = &quot;STORE_LOCATION_CITY&quot;)),\n    @AttributeOverride(name = &quot;locationCountry&quot;, column = @Column(name = &quot;STORE_LOCATION_COUNTRY&quot;)),\n    @AttributeOverride(name = &quot;locationZipCode.zipCode&quot;, column = @Column(name = &quot;STORE_LOCATION_ZIPCODE&quot;))})\n    @Valid\n    private Location storeLocation;\n\n    @NotBlank\n    private String storeName;\n\n    @Enumerated(EnumType.STRING)\n    private StoreType storeType;\n\n\n\n\n\n    //unidirectional\n    @OneToMany(fetch = FetchType.LAZY, orphanRemoval = true, cascade = CascadeType.PERSIST)\n //   @org.hibernate.annotations.OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(name = &quot;CATEGORY_STORE_ID&quot;)\n    @NotNull\n    private Set&lt;Category&gt; categorySet = new HashSet&lt;&gt;(); // we don't want duplicate categories in our store\n\n\n\n\n\n\n    protected Store() {}\n\n    //i initialized associations early\n    public Store(Location storeLocation, String storeType, String storeName) {\n        this.storeLocation = storeLocation;\n        this.storeType = Enum.valueOf(StoreType.class, storeType);\n        this.storeName = storeName;\n    }\n\n    public Long getStoreId() {\n        return storeId;\n    }\n\n    public Location getStoreLocation() {\n        return storeLocation;\n    }\n\n    public void setStoreLocation(Location storeLocation) {\n        this.storeLocation = storeLocation;\n    }\n\n    public Set&lt;Category&gt; getCategorySet() {\n        return categorySet;\n    }\n\n    public void setCategorySet(Set&lt;Category&gt; categorySet) {\n        this.categorySet = categorySet;\n    }\n\n    \n\n    public String getStoreName() {\n        return storeName;\n    }\n\n    public void setStoreName(String storeName) {\n        this.storeName = storeName;\n    }\n\n    public StoreType getStoreType() {\n        return storeType;\n    }\n\n    public void setStoreType(StoreType storeType) {\n        this.storeType = storeType;\n    }\n\n\n\n   \n\n\n    public void add(@NotNull Category category)\n    {\n        this.categorySet.add(category);\n    }\n}\n</code></pre>\n<p>Store Service:</p>\n<pre><code>@Service\n@Validated\npublic class StoreService {\n\n    @Autowired\n    private final StoreRepository storeRepository;\n\n    @Autowired private CallingOthers callingOthers;\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n\n    @Autowired\n    public StoreService(StoreRepository storeRepository) {\n        this.storeRepository = storeRepository;\n    }\n\n    public void save(@Valid Store store)\n    {\n        storeRepository.save(store);\n    }\n\n    public Store getStore(@NotNull String storeType) {\n        return storeRepository.getStoreByStoreType(StoreType.valueOf(storeType));\n\n    }\n\n    public Store addCategory(String storeType, String category) {\n        Store store = getStore(storeType);\n        ResponseEntity&lt;Category&gt; category1 = callingOthers.getCategory(category);\n     //   System.out.println(category1.getBody().getPromotion().getPromotionSeason().isSeason());\n\n\n     //   store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\n        store.add(category1.getBody());\n   //     store.getCategorySet().forEach(element -&gt; System.out.println(element.getPromotion().getPromotionSeason()));\n\n        Session session = entityManager.unwrap(Session.class);\n        session.update(category1.getBody());\n        try {\n\n            storeRepository.save(store);\n        }\n        catch (Exception ex)\n        {\n            ex.getCause();\n            ex.getStackTrace();\n            ex.printStackTrace();\n        }\n        return getStore(storeType);\n\n    }\n\n    public Store getStoreByStoreName(@NotBlank String storeName)\n    {\n        Optional&lt;Store&gt; storeOptional = Optional.ofNullable(storeRepository.getStoreByStoreName(storeName));\n        return storeOptional.orElseThrow(StoreNotFoundException::new);\n    }    \n}\n</code></pre>\n<p>Store Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/store&quot;)\npublic class StoreController {\n\n    private final StoreService storeService;\n\n    @Autowired\n    public StoreController(StoreService storeService) {\n        this.storeService = storeService;\n    }\n\n    @PostMapping(value = &quot;/createStore&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public void createStore(@RequestBody Store store)\n    {\n        storeService.save(store);\n    }\n\n    @GetMapping(value = &quot;/{storeType}&quot;)\n    public Store getStore(@PathVariable(&quot;storeType&quot;) String storeType)\n    {\n        return storeService.getStore(storeType);\n    }\n\n    @GetMapping(value = &quot;getStoreByName/{storeName}&quot;)\n    public Store getStoreByName(@PathVariable String storeName)\n    {\n        return storeService.getStoreByStoreName(storeName);\n    }\n\n\n    @GetMapping(value = &quot;/addCategory/{storeType}/{category}&quot;)\n    public Store addCategoryToStore(@PathVariable(&quot;storeType&quot;) String storeType, @PathVariable (&quot;category&quot;) String category)\n    {\n        return storeService.addCategory(storeType, category);\n\n    }\n}\n</code></pre>\n<p>RestTemplate Utility class:</p>\n<pre><code>@Component\npublic class CallingOthers {\n\n    @Autowired\n    private RestTemplate restTemplate;\n\n    public ResponseEntity&lt;Category&gt; getCategory(String categoryName)\n    {\n        return restTemplate.getForEntity(&quot;http://localhost:8080/categories/name/&quot;+categoryName, Category.class);\n    }\n}\n</code></pre>\n<p>Stack Error Trace:</p>\n<pre><code>ERROR 3984 --- [nio-8080-exec-5] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [null]\norg.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy129.save(Unknown Source)\n    at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService.addCategory(StoreService.java:73)\n    at com.balabasciuc.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$FastClassBySpringCGLIB$$30a072fa.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\n    at com.shoppingprojectwithhibernate.StoreModule.Service.StoreService$$EnhancerBySpringCGLIB$$f20a164c.addCategory(&lt;generated&gt;)\n    at com.shoppingprojectwithhibernate.StoreModule.Controller.StoreController.addCategoryToStore(StoreController.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.persistence.RollbackException: Error while committing the transaction\n    at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:75)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:71)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 76 more\nCaused by: java.lang.NullPointerException\n    at org.hibernate.type.LongType.next(LongType.java:62)\n    at org.hibernate.type.LongType.next(LongType.java:23)\n    at org.hibernate.engine.internal.Versioning.increment(Versioning.java:92)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.getNextVersion(DefaultFlushEntityEventListener.java:379)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.scheduleUpdate(DefaultFlushEntityEventListener.java:275)\n    at org.hibernate.event.internal.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:143)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:216)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:85)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:38)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1428)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:484)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3190)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2404)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:467)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:146)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$100(JdbcResourceLocalTransactionCoordinatorImpl.java:38)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:220)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:68)\n    ... 77 more\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"score":0,"creation_date":1667763176,"post_id":74338986,"comment_id":131239376,"body_markdown":"```Bukkit.getPlayer()``` returns a ```Player``` object. So the &quot;gibberish&quot; is actually the ```Player``` instance information. What do you exactly want to print here?","body":"<code>Bukkit.getPlayer()</code> returns a <code>Player</code> object. So the &quot;gibberish&quot; is actually the <code>Player</code> instance information. What do you exactly want to print here?"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763328,"post_id":74338986,"comment_id":131239413,"body_markdown":"just the name of the player so for example if my mc name is abla I would like to be given the output abla. Also I cant just do Bukkit.getPlayer(...).setGamemode as of now","body":"just the name of the player so for example if my mc name is abla I would like to be given the output abla. Also I cant just do Bukkit.getPlayer(...).setGamemode as of now"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763393,"post_id":74338986,"comment_id":131239426,"body_markdown":"it just returns null cause it tried to do that for the instance information","body":"it just returns null cause it tried to do that for the instance information"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667763462,"post_id":74338986,"comment_id":131239440,"body_markdown":"Bukkit.getPlayer(blockPlaceEvent.getItemInHand().displayName()); returns an error","body":"Bukkit.getPlayer(blockPlaceEvent.getItemInHand().displayName&zwnj;&#8203;()); returns an error"}],"answers":[{"comments":[{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667834738,"post_id":74342660,"comment_id":131256322,"body_markdown":"how would I set the gamemode of that player? cause when I do that: `Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));\n        assert ded != null;\n        ded.setGameMode(GameMode.SURVIVAL);`\nthen it doesnt work. It says: ded is null, even though it isnt","body":"how would I set the gamemode of that player? cause when I do that: <code>Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHan&zwnj;&#8203;d().displayName()));         assert ded != null;         ded.setGameMode(GameMode.SURVIVAL);</code> then it doesnt work. It says: ded is null, even though it isnt"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667835109,"post_id":74342660,"comment_id":131256467,"body_markdown":"Again - the player is attached to the blockPlaceEvent, `blockPlaceEvent.getPlayer()`","body":"Again - the player is attached to the blockPlaceEvent, <code>blockPlaceEvent.getPlayer()</code>"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":1,"creation_date":1667835580,"post_id":74342660,"comment_id":131256645,"body_markdown":"I dont want the player who placed the block","body":"I dont want the player who placed the block"},{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":1,"creation_date":1667835614,"post_id":74342660,"comment_id":131256661,"body_markdown":"I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival","body":"I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival"}],"tags":[],"owner":{"account_id":15561237,"reputation":1596,"user_id":11226302,"display_name":"Shivam Puri"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667802224,"creation_date":1667802224,"answer_id":74342660,"question_id":74338986,"body_markdown":"As per the comments you&#39;re trying to get h the name of the player.\r\n\r\nRefer https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName() from the documentation.\r\n\r\nFirst get the Player object and then fetch the name from the player object.\r\n```\r\nPlayer player = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));\r\n\r\nplayer.getName();\r\n```","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>As per the comments you're trying to get h the name of the player.</p>\n<p>Refer <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()\" rel=\"nofollow noreferrer\">https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()</a> from the documentation.</p>\n<p>First get the Player object and then fetch the name from the player object.</p>\n<pre><code>Player player = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));\n\nplayer.getName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"score":0,"creation_date":1667834970,"post_id":74342928,"comment_id":131256413,"body_markdown":"I dont want to get the name of the player who placed the block but the player of the name of the item that the player has placed down","body":"I dont want to get the name of the player who placed the block but the player of the name of the item that the player has placed down"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667804093,"creation_date":1667804093,"answer_id":74342928,"question_id":74338986,"body_markdown":"As the received [BlockPlaceEvent](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockPlaceEvent.html#%3Cinit%3E(org.bukkit.block.Block,org.bukkit.block.BlockState,org.bukkit.block.Block,org.bukkit.inventory.ItemStack,org.bukkit.entity.Player,boolean,org.bukkit.inventory.EquipmentSlot)) already contains a reference to the [Player](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html) and the later has a property called [name](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()) (or even [displayName](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getDisplayName())), it should be as easy as:\r\n\r\n\r\n```java\r\n\r\n@EventHandler\r\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\r\n  blockPlaceEvent.getPlayer()\r\n    .sendMessage(blockPlaceEvent.getItemInHand().displayName());\r\n  System.out.println(blockPlaceEvent.getPlayer().getName());\r\n}\r\n```","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>As the received <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/block/BlockPlaceEvent.html#%3Cinit%3E(org.bukkit.block.Block,org.bukkit.block.BlockState,org.bukkit.block.Block,org.bukkit.inventory.ItemStack,org.bukkit.entity.Player,boolean,org.bukkit.inventory.EquipmentSlot)\" rel=\"nofollow noreferrer\">BlockPlaceEvent</a> already contains a reference to the <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html\" rel=\"nofollow noreferrer\">Player</a> and the later has a property called <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getName()\" rel=\"nofollow noreferrer\">name</a> (or even <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Player.html#getDisplayName()\" rel=\"nofollow noreferrer\">displayName</a>), it should be as easy as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@EventHandler\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\n  blockPlaceEvent.getPlayer()\n    .sendMessage(blockPlaceEvent.getItemInHand().displayName());\n  System.out.println(blockPlaceEvent.getPlayer().getName());\n}\n</code></pre>\n"}],"owner":{"account_id":19158605,"reputation":3,"user_id":13994905,"display_name":"YoRisk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74342660,"answer_count":2,"score":0,"last_activity_date":1667839129,"creation_date":1667762228,"question_id":74338986,"body_markdown":"I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival. But this just gives me gibberish in the console: \r\n```\r\n@EventHandler\r\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\r\n    //Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));- not important\r\n    //gives just the item name\r\n    blockPlaceEvent.getPlayer().sendMessage(blockPlaceEvent.getItemInHand().displayName());\r\n    //gibberish\r\n    System.out.println(Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName())));\r\n\r\n\r\n}\r\n```\r\n\r\n    [19:15:09 INFO]: [Immortality] [STDOUT] TranslatableComponentImpl{key=&quot;chat.square_brackets&quot;, args=[TextComponentImpl{content=&quot;&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=true, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[TextComponentImpl{content=&quot;Windows_Paride&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[]}]}], style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=NamedTextColor{name=&quot;yellow&quot;, value=&quot;#ffff55&quot;}, clickEvent=null, hoverEvent=HoverEvent{action=show_item, value=ShowItem{item=KeyImpl{namespace=&quot;minecraft&quot;, value=&quot;player_head&quot;}, count=1, nbt={SkullOwner:{Id:[I;1311740293,1907444130,-1719123357,-1000482567],Name:&quot;Windows_Paride&quot;,Properties:{textures:[{Signature:&quot;x3tHAiXrUDBYofKatE+CaD46u0lyjkxlab+Xg+zKNEO1GMGnjPHXsfRSl9CVp9bBLJLu3aMcd8qI/bcm+E8mqJlbHRxjzRi/7W/JOTbsWWurf32i4fgO1VqxoSWsGb6PGbtCVKI7LXm0nPu+lreVHKWbgAqaw8koadUZIu+XhS8hTeqwpuNMLcrS5Wh7ODdf7hBK/BDT67RC3y6pjmDNeznrH6k8YEHQVZszJ/RCicP9AyQmbwCppjzjubYdwwIOi7r+jLmsCVL4r03svzOuugtGoMNgDFj/Gm/dLrvsN+Hy7lggltApbUFkxnewrkvTq+/ZQVACjsVEphwd6kMnzq8lRiUjtsqpcJpmhIttyAR0y+kgWX6L9zWP/z8FOACsXjf7OJfPPOVBs3LHLrBjDKuD9fTvbhZwdzW4Nonpmqk8M9Z+Y/tXbGyINzCdbs5lbNQYRwH7ACzjUQwHi93e5dwN622VP/vBzv0Uz7g9quohzlZKyogDuiSJUpPRBzyMhxWrVneMEOzj6fGIuN/Qxx6XVi6ZfoH0WRCvYeOjOqcR426rbXzoXV6vDHV0OxvKkCv7Md1TqO9zb3jaB7ekEVY2mWiJitNMuyT8CGATMCKhimCuP+RFu1leQXVFdnaFtbviQ6HxDoVxndODzrSRfz2GJ2ZCN4atQb4MuqMUdg0=&quot;,Value:&quot;ewogICJ0aW1lc3RhbXAiIDogMTY2Nzc2MDM5NTYwNCwKICAicHJvZmlsZUlkIiA6ICI0ZTJmOTE4NTcxYjE0OWEyOTk4ODQyNjNjNDVkZDhmOSIsCiAgInByb2ZpbGVOYW1lIiA6ICJXaW5kb3dzX1BhcmlkZSIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS83MzI1ODg2Y2JlZDQ3ZWI5MDk0ZWQyY2YxN2QyZWMyNGQzYzZhYmJlYzFlNDU3YjIyOTU1NzkxZjI2ZjkyZjZkIiwKICAgICAgIm1ldGFkYXRhIiA6IHsKICAgICAgICAibW9kZWwiIDogInNsaW0iCiAgICAgIH0KICAgIH0sCiAgICAiQ0FQRSIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjlhNzY1Mzc2NDc5ODlmOWEwYjZkMDAxZTMyMGRhYzU5MWMzNTllOWU2MWEzMWY0Y2UxMWM4OGYyMDdmMGFkNCIKICAgIH0KICB9Cn0=&quot;}]}},Unbreakable:1b,display:{Name:&#39;{&quot;text&quot;:&quot;Windows_Paride&quot;}&#39;}}}}, insertion=null, font=null}, children=[]}\r\n\r\nI tried doing ComponentLike etc but it returned null when I did that. \r\n","title":"Getting an the name of an item and getting the string value returns gibberish","body":"<p>I want to get the player whos name matches the name of the block which was placed and updated this players gamemode to survival. But this just gives me gibberish in the console:</p>\n<pre><code>@EventHandler\npublic void onPlace(BlockPlaceEvent blockPlaceEvent){\n    //Player ded = Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName()));- not important\n    //gives just the item name\n    blockPlaceEvent.getPlayer().sendMessage(blockPlaceEvent.getItemInHand().displayName());\n    //gibberish\n    System.out.println(Bukkit.getPlayer(String.valueOf(blockPlaceEvent.getItemInHand().displayName())));\n\n\n}\n</code></pre>\n<pre><code>[19:15:09 INFO]: [Immortality] [STDOUT] TranslatableComponentImpl{key=&quot;chat.square_brackets&quot;, args=[TextComponentImpl{content=&quot;&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=true, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[TextComponentImpl{content=&quot;Windows_Paride&quot;, style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=null, clickEvent=null, hoverEvent=null, insertion=null, font=null}, children=[]}]}], style=StyleImpl{obfuscated=not_set, bold=not_set, strikethrough=not_set, underlined=not_set, italic=not_set, color=NamedTextColor{name=&quot;yellow&quot;, value=&quot;#ffff55&quot;}, clickEvent=null, hoverEvent=HoverEvent{action=show_item, value=ShowItem{item=KeyImpl{namespace=&quot;minecraft&quot;, value=&quot;player_head&quot;}, count=1, nbt={SkullOwner:{Id:[I;1311740293,1907444130,-1719123357,-1000482567],Name:&quot;Windows_Paride&quot;,Properties:{textures:[{Signature:&quot;x3tHAiXrUDBYofKatE+CaD46u0lyjkxlab+Xg+zKNEO1GMGnjPHXsfRSl9CVp9bBLJLu3aMcd8qI/bcm+E8mqJlbHRxjzRi/7W/JOTbsWWurf32i4fgO1VqxoSWsGb6PGbtCVKI7LXm0nPu+lreVHKWbgAqaw8koadUZIu+XhS8hTeqwpuNMLcrS5Wh7ODdf7hBK/BDT67RC3y6pjmDNeznrH6k8YEHQVZszJ/RCicP9AyQmbwCppjzjubYdwwIOi7r+jLmsCVL4r03svzOuugtGoMNgDFj/Gm/dLrvsN+Hy7lggltApbUFkxnewrkvTq+/ZQVACjsVEphwd6kMnzq8lRiUjtsqpcJpmhIttyAR0y+kgWX6L9zWP/z8FOACsXjf7OJfPPOVBs3LHLrBjDKuD9fTvbhZwdzW4Nonpmqk8M9Z+Y/tXbGyINzCdbs5lbNQYRwH7ACzjUQwHi93e5dwN622VP/vBzv0Uz7g9quohzlZKyogDuiSJUpPRBzyMhxWrVneMEOzj6fGIuN/Qxx6XVi6ZfoH0WRCvYeOjOqcR426rbXzoXV6vDHV0OxvKkCv7Md1TqO9zb3jaB7ekEVY2mWiJitNMuyT8CGATMCKhimCuP+RFu1leQXVFdnaFtbviQ6HxDoVxndODzrSRfz2GJ2ZCN4atQb4MuqMUdg0=&quot;,Value:&quot;ewogICJ0aW1lc3RhbXAiIDogMTY2Nzc2MDM5NTYwNCwKICAicHJvZmlsZUlkIiA6ICI0ZTJmOTE4NTcxYjE0OWEyOTk4ODQyNjNjNDVkZDhmOSIsCiAgInByb2ZpbGVOYW1lIiA6ICJXaW5kb3dzX1BhcmlkZSIsCiAgInNpZ25hdHVyZVJlcXVpcmVkIiA6IHRydWUsCiAgInRleHR1cmVzIiA6IHsKICAgICJTS0lOIiA6IHsKICAgICAgInVybCIgOiAiaHR0cDovL3RleHR1cmVzLm1pbmVjcmFmdC5uZXQvdGV4dHVyZS83MzI1ODg2Y2JlZDQ3ZWI5MDk0ZWQyY2YxN2QyZWMyNGQzYzZhYmJlYzFlNDU3YjIyOTU1NzkxZjI2ZjkyZjZkIiwKICAgICAgIm1ldGFkYXRhIiA6IHsKICAgICAgICAibW9kZWwiIDogInNsaW0iCiAgICAgIH0KICAgIH0sCiAgICAiQ0FQRSIgOiB7CiAgICAgICJ1cmwiIDogImh0dHA6Ly90ZXh0dXJlcy5taW5lY3JhZnQubmV0L3RleHR1cmUvZjlhNzY1Mzc2NDc5ODlmOWEwYjZkMDAxZTMyMGRhYzU5MWMzNTllOWU2MWEzMWY0Y2UxMWM4OGYyMDdmMGFkNCIKICAgIH0KICB9Cn0=&quot;}]}},Unbreakable:1b,display:{Name:'{&quot;text&quot;:&quot;Windows_Paride&quot;}'}}}}, insertion=null, font=null}, children=[]}\n</code></pre>\n<p>I tried doing ComponentLike etc but it returned null when I did that.</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1474619417,"post_id":39655956,"comment_id":66614631,"body_markdown":"try `mvn clean` command","body":"try <code>mvn clean</code> command"},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1474619433,"post_id":39655956,"comment_id":66614643,"body_markdown":"or `mvn clean install`","body":"or <code>mvn clean install</code>"},{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1474619549,"post_id":39655956,"comment_id":66614697,"body_markdown":"Something is probably still holding a handle on that file, preventing the clean-plugin to delete it.","body":"Something is probably still holding a handle on that file, preventing the clean-plugin to delete it."}],"answers":[{"tags":[],"owner":{"account_id":8857003,"reputation":418,"user_id":6614435,"display_name":"J&#252;rgen"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1474619637,"creation_date":1474619637,"answer_id":39656273,"question_id":39655956,"body_markdown":"This usually happens in Windows environments when the target folder is &quot;locked&quot;. E.g. when you are running your web application (looks like you do) and want to perform a ``mvn clean``. The application server/servlet engine locks the files so that ``mvn clean`` cannot delete the files because they are locked. Try to run this command when the web application is not running.\r\n\r\nEdit: This also may happen if you have the target folder open in explorer or editing a text file from target folder, etc.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>This usually happens in Windows environments when the target folder is \"locked\". E.g. when you are running your web application (looks like you do) and want to perform a <code>mvn clean</code>. The application server/servlet engine locks the files so that <code>mvn clean</code> cannot delete the files because they are locked. Try to run this command when the web application is not running.</p>\n\n<p>Edit: This also may happen if you have the target folder open in explorer or editing a text file from target folder, etc.</p>\n"},{"tags":[],"owner":{"account_id":11480389,"reputation":1,"user_id":8414644,"display_name":"Arif Heer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502054282,"creation_date":1502054282,"answer_id":45536741,"question_id":39655956,"body_markdown":"in case of Glassfish server you just stop the server and put on clean and build after that you run your project it will definately work.confirm","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>in case of Glassfish server you just stop the server and put on clean and build after that you run your project it will definately work.confirm</p>\n"},{"tags":[],"owner":{"account_id":6855836,"reputation":51,"user_id":5271408,"display_name":"Sameer Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537769016,"creation_date":1537769016,"answer_id":52473476,"question_id":39655956,"body_markdown":"If you are using windows system, close all applications (e.g. file explorer, any file opened in e.g. notepad which is part of the &quot;target&quot; folder etc.). Basically, Maven is trying to Delete the file but as it is &quot;locked&quot; by some other application, Maven can&#39;t access it and hence can&#39;t delete it.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>If you are using windows system, close all applications (e.g. file explorer, any file opened in e.g. notepad which is part of the \"target\" folder etc.). Basically, Maven is trying to Delete the file but as it is \"locked\" by some other application, Maven can't access it and hence can't delete it.</p>\n"},{"tags":[],"owner":{"account_id":8260853,"reputation":398,"user_id":6212320,"display_name":"Runni Kumari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562155228,"creation_date":1562155228,"answer_id":56869696,"question_id":39655956,"body_markdown":"Clean the project once and rebuild it. If it is not working just kill the java process and restart the studio","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>Clean the project once and rebuild it. If it is not working just kill the java process and restart the studio</p>\n"},{"tags":[],"owner":{"account_id":17840829,"reputation":363,"user_id":12958726,"display_name":"soni kumari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586332247,"creation_date":1586332247,"answer_id":61095758,"question_id":39655956,"body_markdown":"System re-start worked for me.Please try that.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>System re-start worked for me.Please try that.</p>\n"},{"tags":[],"owner":{"account_id":8691881,"reputation":423,"user_id":6504597,"display_name":"Raulster24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633086911,"creation_date":1633086911,"answer_id":69404973,"question_id":39655956,"body_markdown":"Maven is trying to delete the specific file but it is &quot;locked&quot; by some other application.\r\n\r\nMaven can&#39;t access it and hence can&#39;t delete it.\r\n\r\nBy killing almost all of the java processes, as I was unable to identify which processes causing this issue, helped me to unlock the file for mvn clean.","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>Maven is trying to delete the specific file but it is &quot;locked&quot; by some other application.</p>\n<p>Maven can't access it and hence can't delete it.</p>\n<p>By killing almost all of the java processes, as I was unable to identify which processes causing this issue, helped me to unlock the file for mvn clean.</p>\n"}],"owner":{"account_id":9074532,"reputation":49,"user_id":6756594,"accept_rate":0,"display_name":"Subhadip ghosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1667838623,"creation_date":1474618608,"question_id":39655956,"body_markdown":"I am beginner in Maven. When I click `clean &amp; Build` to rebuild my project in netbeans, it throws an error \r\n\r\n&gt;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project xxxx-web: Failed to clean project: Failed to delete D:\\Gps2.x\\xxxx-web\\target\\xxxx-web-2.11-SNAPSHOT\\WEB-INF\\lib\\validation-api-1.0.0.GA.jar -&gt; [Help 1]\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nOr how to build a war file using maven package?","title":"How to solve &quot;Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project&quot;?","body":"<p>I am beginner in Maven. When I click <code>clean &amp; Build</code> to rebuild my project in netbeans, it throws an error</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project xxxx-web: Failed to clean project: Failed to delete D:\\Gps2.x\\xxxx-web\\target\\xxxx-web-2.11-SNAPSHOT\\WEB-INF\\lib\\validation-api-1.0.0.GA.jar -&gt; [Help 1]\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.</p>\n</blockquote>\n<p>Or how to build a war file using maven package?</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1649940941,"post_id":71871306,"comment_id":127005039,"body_markdown":"Why do you want both configurations? It is unlikely that having both `http` XML and the Java Configuration work together since they configure the same thing.","body":"Why do you want both configurations? It is unlikely that having both <code>http</code> XML and the Java Configuration work together since they configure the same thing."},{"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"score":0,"creation_date":1649943957,"post_id":71871306,"comment_id":127006212,"body_markdown":"@MarcusHertdaCoregio To give you some context, the component I&#39;m working on is a library used by most of the Java applications developed by my company. I&#39;d like to move smoothly from xml based configuration to Java based configuration to limit impacts on depending applications.\n\nOur xml configuration already contains multiple `http` elements, most of them are out of the scope of my current task and will be left untouched.\nIt left me with two choices : stick with the xml configuration only, or find a way to have both configuration styles working together.","body":"@MarcusHertdaCoregio To give you some context, the component I&#39;m working on is a library used by most of the Java applications developed by my company. I&#39;d like to move smoothly from xml based configuration to Java based configuration to limit impacts on depending applications.  Our xml configuration already contains multiple <code>http</code> elements, most of them are out of the scope of my current task and will be left untouched. It left me with two choices : stick with the xml configuration only, or find a way to have both configuration styles working together."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1649956893,"post_id":71871306,"comment_id":127011113,"body_markdown":"Have you tried using the `@ImportResource` annotation? This answer may help you https://stackoverflow.com/questions/19365366/mixing-xml-and-java-config-with-spring","body":"Have you tried using the <code>@ImportResource</code> annotation? This answer may help you <a href=\"https://stackoverflow.com/questions/19365366/mixing-xml-and-java-config-with-spring\" title=\"mixing xml and java config with spring\">stackoverflow.com/questions/19365366/&hellip;</a>"},{"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"score":0,"creation_date":1650011740,"post_id":71871306,"comment_id":127021803,"body_markdown":"@Marcus Thanks for this suggestion, but in my case it is the xml configuration that &quot;imports&quot; the Java configuration `&lt;bean id=&quot;mySecurityConfig&quot; class=&quot;com.xxx.SecurityConfiguration&quot;/&gt;`.  Appart from the SecurityFilterChain configuration, I don&#39;t have issues mixing xml and Java config. The `filterChain` method from the Java configuration is called as I would expect (and other beans are created and added to the Spring context).","body":"@Marcus Thanks for this suggestion, but in my case it is the xml configuration that &quot;imports&quot; the Java configuration <code>&lt;bean id=&quot;mySecurityConfig&quot; class=&quot;com.xxx.SecurityConfiguration&quot;&#47;&gt;</code>.  Appart from the SecurityFilterChain configuration, I don&#39;t have issues mixing xml and Java config. The <code>filterChain</code> method from the Java configuration is called as I would expect (and other beans are created and added to the Spring context)."},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1650026828,"post_id":71871306,"comment_id":127025826,"body_markdown":"It would be great if you open an issue in the Spring Security repository with a minimal, reproducible sample so we can check if it is not a bug with the configuration","body":"It would be great if you open an issue in the Spring Security repository with a minimal, reproducible sample so we can check if it is not a bug with the configuration"},{"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"score":0,"creation_date":1650041850,"post_id":71871306,"comment_id":127030382,"body_markdown":"@Marcus I created the following issue and linked a minimal sample [https://github.com/spring-projects/spring-security/issues/11108](https://github.com/spring-projects/spring-security/issues/11108)","body":"@Marcus I created the following issue and linked a minimal sample <a href=\"https://github.com/spring-projects/spring-security/issues/11108\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security/issues/11&zwnj;&#8203;108</a>"}],"answers":[{"tags":[],"owner":{"account_id":24944172,"reputation":11,"user_id":18809680,"display_name":"Sanyam Jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650018935,"creation_date":1650018935,"answer_id":71882976,"question_id":71871306,"body_markdown":"filters are created, maintained, and destroyed by a Servlet container like Tomcat or Jetty. You declare filters in web.xml, and the web container initializes them by calling their init(FilterConfig config) method.  This filter then delegates the actual pre-processing and post-processing task to Spring aware Filter implementations provided by the Spring Security framework.\r\n\r\nEvery time a request or response comes and matches the URL pattern of the filter, then the Servlet container calls the  DelegatingFilterProxy&#39;s `doFilter()` method for the request and response filtering.\r\n\r\nThis method has access to ServletRequest, ServletResponse, and a FilterChain object, which means it can modify request headers, response headers, and response body before sending the request to Servlet or response to Client. The FilterChain object is used to route the request to another filter in the chain for further processing.\r\n\r\nRead more: https://javarevisited.blogspot.com/2017/05/how-to-enable-spring-security-in-java-web-application.html#ixzz7QWQrVPCb","title":"Spring Security - How to mix xml &lt;security:http&gt; and Java SecurityFilterChain declaration configurations?","body":"<p>filters are created, maintained, and destroyed by a Servlet container like Tomcat or Jetty. You declare filters in web.xml, and the web container initializes them by calling their init(FilterConfig config) method.  This filter then delegates the actual pre-processing and post-processing task to Spring aware Filter implementations provided by the Spring Security framework.</p>\n<p>Every time a request or response comes and matches the URL pattern of the filter, then the Servlet container calls the  DelegatingFilterProxy's <code>doFilter()</code> method for the request and response filtering.</p>\n<p>This method has access to ServletRequest, ServletResponse, and a FilterChain object, which means it can modify request headers, response headers, and response body before sending the request to Servlet or response to Client. The FilterChain object is used to route the request to another filter in the chain for further processing.</p>\n<p>Read more: <a href=\"https://javarevisited.blogspot.com/2017/05/how-to-enable-spring-security-in-java-web-application.html#ixzz7QWQrVPCb\" rel=\"nofollow noreferrer\">https://javarevisited.blogspot.com/2017/05/how-to-enable-spring-security-in-java-web-application.html#ixzz7QWQrVPCb</a></p>\n"},{"tags":[],"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667838030,"creation_date":1650368198,"answer_id":71924315,"question_id":71871306,"body_markdown":"### Edit: @rwinch [solution posted here][1]\r\n\r\n&gt; You can combine the XML and Java Configuration and exposes it as a\r\n&gt; different bean name using something like this:\r\n```java\r\n    @Configuration\r\n    public class AggregateSpringSecurityConfiguration {\r\n    \tpublic static final String AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID = &quot;aggregateSpringSecurityFilterChain&quot;;\r\n    \r\n    \t/**\r\n    \t * Provide a new FilterChainProxy that contains both XML and Java Configuration\r\n    \t * @param webSecurityConfiguration\r\n    \t * @return\r\n    \t * @throws Exception\r\n    \t */\r\n    \t@Bean(AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID)\r\n    \tFilter aggregateSpringSecurityFilterChain(WebSecurityConfiguration webSecurityConfiguration) throws Exception {\r\n    \t\tFilterChainProxy javaConfigFcp = (FilterChainProxy) webSecurityConfiguration.springSecurityFilterChain();\r\n    \t\treturn new FilterChainProxy(javaConfigFcp.getFilterChains());\r\n    \t}\r\n    \r\n    }\r\n```\r\n&gt; Then ensure your XML configuration picks it up:\r\n```xml\r\n    &lt;bean id=&quot;aggregateConfiguration&quot; class=&quot;testapp.AggregateSpringSecurityConfiguration&quot; /&gt;\r\n    Finally, you need to update your web.xml to use the bean named aggregateSpringSecurityFilterChain instead of springSecurityFilterChain.\r\n    \r\n    \t&lt;filter&gt;\r\n    \t\t&lt;!-- matches AggregateSpringSecurityConfiguration.AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID --&gt;\r\n    \t\t&lt;filter-name&gt;aggregateSpringSecurityFilterChain&lt;/filter-name&gt;\r\n    \t\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    \t&lt;/filter&gt;\r\n    \r\n    \t&lt;filter-mapping&gt;\r\n    \t\t&lt;filter-name&gt;aggregateSpringSecurityFilterChain&lt;/filter-name&gt;\r\n      \t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    \t&lt;/filter-mapping&gt;\r\n```\r\n\r\n---\r\n### Initial workaround ###\r\nUntil better solution, it is possible to use the workaround below (if really needed). It adds the missing `SecurityFilterChain` to the `FilterChainProxy` once Spring Application context is initialized. \r\nI implemented it against Spring Security **5.6.2**. Since it uses reflection, it might break after any upgrade of Spring Security version. \r\n\r\n```java\r\n    /**\r\n     * This class is a workaround to allow declaring SecurityFilterChain using xml\r\n     * configuration and Java configuration. It listens to the Spring Application\r\n     * context events ContextRefreshedEvent and add SecurityFilterChain beans,\r\n     * declared in the Java configuration, to the FilterChainProxy.\r\n     */\r\n    @Configuration\r\n    public static class MissingSecurityFilterChainsInitializer {\r\n        \r\n        private FilterChainProxy filterChainProxy;\r\n    \r\n        private List&lt;SecurityFilterChain&gt; filterChains;\r\n    \r\n        /**\r\n         * @param filterChainProxy\r\n         * @param myFilter\r\n         */\r\n        public MissingSecurityFilterChainsInitializer(FilterChainProxy filterChainProxy,\r\n                List&lt;SecurityFilterChain&gt; myFilterChains) {\r\n            super();\r\n            this.filterChainProxy = filterChainProxy;\r\n            this.filterChains = myFilterChains;\r\n        }\r\n    \r\n        /**\r\n         * Method listening to the Spring Application context initialization, detects\r\n         * missing SecurityFilterChain from the FilterChainProxy and add the missing\r\n         * chains to the FilterChainProxy.\r\n         * \r\n         * @param ctxRefreshed\r\n         */\r\n        @EventListener\r\n        public void handleContextRefreshEvent(ContextRefreshedEvent ctxRefreshed) {\r\n            List&lt;SecurityFilterChain&gt; missingChains = filterChains.stream()\r\n                    .filter(chain -&gt; !filterChainProxy.getFilterChains().contains(chain)).collect(Collectors.toList());\r\n    \r\n            if (missingChains.isEmpty()) {\r\n                return;\r\n            }\r\n    \r\n            try {\r\n                Field filterChainsField = filterChainProxy.getClass().getDeclaredField(&quot;filterChains&quot;);\r\n                boolean accessibleStatus = filterChainsField.isAccessible();\r\n                try {\r\n                    filterChainsField.setAccessible(true);\r\n                    List&lt;SecurityFilterChain&gt; chains = (List&lt;SecurityFilterChain&gt;) filterChainsField\r\n                            .get(filterChainProxy);\r\n                    if (chains == null) {\r\n                        throw new IllegalStateException(\r\n                                &quot;Unable to add the missing security filter chains to the existing filter chains list of the FilterChainProxy. The list from the FilterChainProxy is null&quot;);\r\n                    }\r\n                    missingChains.forEach(chain -&gt; chains.add(chain));\r\n                } finally {\r\n                    filterChainsField.setAccessible(accessibleStatus);\r\n                }\r\n            } catch (NoSuchFieldException | IllegalArgumentException | IllegalAccessException e) {\r\n                throw new IllegalStateException(\r\n                        &quot;Unable to add the missing security filter chains to the existing filter chains list of the FilterChainProxy: &quot;\r\n                                + e.getMessage(),\r\n                        e);\r\n    \r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/issues/11108#issuecomment-1113608990","title":"Spring Security - How to mix xml &lt;security:http&gt; and Java SecurityFilterChain declaration configurations?","body":"<h3>Edit: @rwinch <a href=\"https://github.com/spring-projects/spring-security/issues/11108#issuecomment-1113608990\" rel=\"nofollow noreferrer\">solution posted here</a></h3>\n<blockquote>\n<p>You can combine the XML and Java Configuration and exposes it as a\ndifferent bean name using something like this:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class AggregateSpringSecurityConfiguration {\n        public static final String AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID = &quot;aggregateSpringSecurityFilterChain&quot;;\n    \n        /**\n         * Provide a new FilterChainProxy that contains both XML and Java Configuration\n         * @param webSecurityConfiguration\n         * @return\n         * @throws Exception\n         */\n        @Bean(AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID)\n        Filter aggregateSpringSecurityFilterChain(WebSecurityConfiguration webSecurityConfiguration) throws Exception {\n            FilterChainProxy javaConfigFcp = (FilterChainProxy) webSecurityConfiguration.springSecurityFilterChain();\n            return new FilterChainProxy(javaConfigFcp.getFilterChains());\n        }\n    \n    }\n</code></pre>\n<blockquote>\n<p>Then ensure your XML configuration picks it up:</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;aggregateConfiguration&quot; class=&quot;testapp.AggregateSpringSecurityConfiguration&quot; /&gt;\n    Finally, you need to update your web.xml to use the bean named aggregateSpringSecurityFilterChain instead of springSecurityFilterChain.\n    \n        &lt;filter&gt;\n            &lt;!-- matches AggregateSpringSecurityConfiguration.AGGREGATE_SPRING_SECURITY_FILTER_CHAIN_ID --&gt;\n            &lt;filter-name&gt;aggregateSpringSecurityFilterChain&lt;/filter-name&gt;\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n        &lt;/filter&gt;\n    \n        &lt;filter-mapping&gt;\n            &lt;filter-name&gt;aggregateSpringSecurityFilterChain&lt;/filter-name&gt;\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;/filter-mapping&gt;\n</code></pre>\n<hr />\n<h3>Initial workaround</h3>\n<p>Until better solution, it is possible to use the workaround below (if really needed). It adds the missing <code>SecurityFilterChain</code> to the <code>FilterChainProxy</code> once Spring Application context is initialized.\nI implemented it against Spring Security <strong>5.6.2</strong>. Since it uses reflection, it might break after any upgrade of Spring Security version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * This class is a workaround to allow declaring SecurityFilterChain using xml\n     * configuration and Java configuration. It listens to the Spring Application\n     * context events ContextRefreshedEvent and add SecurityFilterChain beans,\n     * declared in the Java configuration, to the FilterChainProxy.\n     */\n    @Configuration\n    public static class MissingSecurityFilterChainsInitializer {\n        \n        private FilterChainProxy filterChainProxy;\n    \n        private List&lt;SecurityFilterChain&gt; filterChains;\n    \n        /**\n         * @param filterChainProxy\n         * @param myFilter\n         */\n        public MissingSecurityFilterChainsInitializer(FilterChainProxy filterChainProxy,\n                List&lt;SecurityFilterChain&gt; myFilterChains) {\n            super();\n            this.filterChainProxy = filterChainProxy;\n            this.filterChains = myFilterChains;\n        }\n    \n        /**\n         * Method listening to the Spring Application context initialization, detects\n         * missing SecurityFilterChain from the FilterChainProxy and add the missing\n         * chains to the FilterChainProxy.\n         * \n         * @param ctxRefreshed\n         */\n        @EventListener\n        public void handleContextRefreshEvent(ContextRefreshedEvent ctxRefreshed) {\n            List&lt;SecurityFilterChain&gt; missingChains = filterChains.stream()\n                    .filter(chain -&gt; !filterChainProxy.getFilterChains().contains(chain)).collect(Collectors.toList());\n    \n            if (missingChains.isEmpty()) {\n                return;\n            }\n    \n            try {\n                Field filterChainsField = filterChainProxy.getClass().getDeclaredField(&quot;filterChains&quot;);\n                boolean accessibleStatus = filterChainsField.isAccessible();\n                try {\n                    filterChainsField.setAccessible(true);\n                    List&lt;SecurityFilterChain&gt; chains = (List&lt;SecurityFilterChain&gt;) filterChainsField\n                            .get(filterChainProxy);\n                    if (chains == null) {\n                        throw new IllegalStateException(\n                                &quot;Unable to add the missing security filter chains to the existing filter chains list of the FilterChainProxy. The list from the FilterChainProxy is null&quot;);\n                    }\n                    missingChains.forEach(chain -&gt; chains.add(chain));\n                } finally {\n                    filterChainsField.setAccessible(accessibleStatus);\n                }\n            } catch (NoSuchFieldException | IllegalArgumentException | IllegalAccessException e) {\n                throw new IllegalStateException(\n                        &quot;Unable to add the missing security filter chains to the existing filter chains list of the FilterChainProxy: &quot;\n                                + e.getMessage(),\n                        e);\n    \n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26749449,"reputation":1,"user_id":20349060,"display_name":"Naya Bandara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666874467,"creation_date":1666874467,"answer_id":74222215,"question_id":71871306,"body_markdown":"In my experience, mixing up Java bean configurations with XML configurations never work. We have to either use XML based or Java based configurations. I was trying to configure Content Security Policy in this way https://www.baeldung.com/spring-security-csp while I was already having implemented XML bean configurations. \r\nIt wasn&#39;t able to find httpSecurity bean to initialize no matter what. So I followed this way https://www.stackhawk.com/blog/spring-content-security-policy-guide-what-it-is-and-how-to-enable-it/#xml and added it to my applicationContext.xml","title":"Spring Security - How to mix xml &lt;security:http&gt; and Java SecurityFilterChain declaration configurations?","body":"<p>In my experience, mixing up Java bean configurations with XML configurations never work. We have to either use XML based or Java based configurations. I was trying to configure Content Security Policy in this way <a href=\"https://www.baeldung.com/spring-security-csp\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-csp</a> while I was already having implemented XML bean configurations.\nIt wasn't able to find httpSecurity bean to initialize no matter what. So I followed this way <a href=\"https://www.stackhawk.com/blog/spring-content-security-policy-guide-what-it-is-and-how-to-enable-it/#xml\" rel=\"nofollow noreferrer\">https://www.stackhawk.com/blog/spring-content-security-policy-guide-what-it-is-and-how-to-enable-it/#xml</a> and added it to my applicationContext.xml</p>\n"}],"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71924315,"answer_count":3,"score":0,"last_activity_date":1667838030,"creation_date":1649937758,"question_id":71871306,"body_markdown":"Working on an application that was using XML Schema-based Spring configuration only, I&#39;m slowly introducing Java based configuration.  \r\n\r\nUnfortunately I&#39;m not able to use Spring Security `html` xml element and Java based `SecurityFilterChain` configuration at the same time.\r\n\r\nWhen I inspect the `filterChains` list in the `FilterChainProxy`, it only contains the filter chains from the xml configuration. Despite the Java method creating the `SecurityFilterChain` bean being called, this filter chain is not added to the `FilterChainProxy`.\r\n\r\nIf I remove the `html` elements from the xml configuration, the `SecurityFilterChain` from the Java configuration is added to the `FilterChainProxy` and called as expected.\r\n\r\nSpring versions I&#39;m using:\r\n- Spring Framework: 5.3.16\r\n- Spring Security: 5.6.2\r\n\r\nHere is the xml configuration and Java configuration I&#39;m trying to use simultaneously:\r\n\r\n```html\r\n&lt;bean id=&quot;mySecurityConfig&quot; class=&quot;com.xxx.SecurityConfiguration&quot;/&gt;\r\n\r\n&lt;http pattern=&quot;/style/**&quot; security=&quot;none&quot;/&gt;\r\n```\r\n\r\n```java\r\n\r\n    package com.xxx;\r\n    \r\n    [...]\r\n    \r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n      \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/app/**&quot;)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                      .antMatchers(&quot;/app/**&quot;).hasAuthority(&quot;ROLE_USER&quot;)\r\n                      .anyRequest().denyAll()\r\n                    )\r\n                .addFilterBefore(anotherFilter(), Saml2WebSsoAuthenticationFilter.class);\r\n            return http.build();\r\n        }\r\n    \r\n       [...]\r\n    }\r\n\r\n```\r\nweb.xml \r\n```html\r\n\r\n&lt;filter&gt;\r\n\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n&lt;/filter&gt;\r\n\r\n&lt;filter-mapping&gt;\r\n\t&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n\r\n```\r\n\r\nDid I make a mistake, is there a way to achieve what I want, or is it simply not possible ?","title":"Spring Security - How to mix xml &lt;security:http&gt; and Java SecurityFilterChain declaration configurations?","body":"<p>Working on an application that was using XML Schema-based Spring configuration only, I'm slowly introducing Java based configuration.</p>\n<p>Unfortunately I'm not able to use Spring Security <code>html</code> xml element and Java based <code>SecurityFilterChain</code> configuration at the same time.</p>\n<p>When I inspect the <code>filterChains</code> list in the <code>FilterChainProxy</code>, it only contains the filter chains from the xml configuration. Despite the Java method creating the <code>SecurityFilterChain</code> bean being called, this filter chain is not added to the <code>FilterChainProxy</code>.</p>\n<p>If I remove the <code>html</code> elements from the xml configuration, the <code>SecurityFilterChain</code> from the Java configuration is added to the <code>FilterChainProxy</code> and called as expected.</p>\n<p>Spring versions I'm using:</p>\n<ul>\n<li>Spring Framework: 5.3.16</li>\n<li>Spring Security: 5.6.2</li>\n</ul>\n<p>Here is the xml configuration and Java configuration I'm trying to use simultaneously:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;bean id=&quot;mySecurityConfig&quot; class=&quot;com.xxx.SecurityConfiguration&quot;/&gt;\n\n&lt;http pattern=&quot;/style/**&quot; security=&quot;none&quot;/&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>\n    package com.xxx;\n    \n    [...]\n    \n    @EnableWebSecurity\n    @Configuration\n    public class SecurityConfiguration {\n      \n        @Bean\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n            http.antMatcher(&quot;/app/**&quot;)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                      .antMatchers(&quot;/app/**&quot;).hasAuthority(&quot;ROLE_USER&quot;)\n                      .anyRequest().denyAll()\n                    )\n                .addFilterBefore(anotherFilter(), Saml2WebSsoAuthenticationFilter.class);\n            return http.build();\n        }\n    \n       [...]\n    }\n\n</code></pre>\n<p>web.xml</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;filter&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n</code></pre>\n<p>Did I make a mistake, is there a way to achieve what I want, or is it simply not possible ?</p>\n"},{"tags":["java","loops","while-loop","conditional-statements","break"],"answers":[{"tags":[],"owner":{"account_id":19667240,"reputation":26,"user_id":16660567,"display_name":"Kidmain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667837775,"creation_date":1667837660,"answer_id":74349635,"question_id":74348388,"body_markdown":"There is no error when you change this (without using String.format()):\r\n\r\n`System.out.printf(&quot;Based on your play, the probability of winning is %.2%&quot;, winPercent);`\r\n\r\nTo this:\r\n\r\n`System.out.println(&quot;Based on your play, the probability of winning is &quot; + winPercent + &quot;%.&quot;);`\r\n\r\nExample with a little bet (console):\r\n```\r\nYour balance is $11\r\n \r\nPlace your bet: $\r\n10\r\nYour roll: Dice1: 1, Dice2: 2; Roll Value: 3\r\nOh, I&#39;m sorry, you lost.\r\n \r\nYour current balance: $1\r\n \r\nWins: 0.0 Number of games: 2.0\r\n \r\nBased on your play, the probability of winning is 0.0%.\r\n \r\nSeems you lost your shirt; better luck next time.\r\nHave a nice day! Hope to see you soon!\r\n```\r\n\r\n&gt; I cannot get the loop to break if either &quot;n&quot; is input for playAgain or\r\n&gt; when the total is below $10.\r\n\r\nIt works fine too. If I put a bet below 10 it asks me to put another bit. What ","title":"Throws Exception when trying to break loop because a condition has been met","body":"<p>There is no error when you change this (without using String.format()):</p>\n<p><code>System.out.printf(&quot;Based on your play, the probability of winning is %.2%&quot;, winPercent);</code></p>\n<p>To this:</p>\n<p><code>System.out.println(&quot;Based on your play, the probability of winning is &quot; + winPercent + &quot;%.&quot;);</code></p>\n<p>Example with a little bet (console):</p>\n<pre><code>Your balance is $11\n \nPlace your bet: $\n10\nYour roll: Dice1: 1, Dice2: 2; Roll Value: 3\nOh, I'm sorry, you lost.\n \nYour current balance: $1\n \nWins: 0.0 Number of games: 2.0\n \nBased on your play, the probability of winning is 0.0%.\n \nSeems you lost your shirt; better luck next time.\nHave a nice day! Hope to see you soon!\n</code></pre>\n<blockquote>\n<p>I cannot get the loop to break if either &quot;n&quot; is input for playAgain or\nwhen the total is below $10.</p>\n</blockquote>\n<p>It works fine too. If I put a bet below 10 it asks me to put another bit. What</p>\n"}],"owner":{"account_id":26857081,"reputation":3,"user_id":20441225,"display_name":"RJ Storr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74349635,"answer_count":1,"score":0,"last_activity_date":1667837775,"creation_date":1667832232,"question_id":74348388,"body_markdown":"I am trying to figure out why I cannot get the loop to break if either &quot;n&quot; is input for playAgain or when the total is below $10. If you see how I can break the loop to run the gameOver function without having an exception thrown that would be a great help. I have noted in the code below that I am having trouble with. I am unsure why this exception is being thrown. If you are able to find out how to break the loop when total is less than 10 or when playAgain is false please let me know!\r\n\r\n```\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class GameOfCrapsTester {\r\n\t\r\n\tstatic Scanner in = new Scanner(System.in);\r\n\tstatic Random rand = new Random();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Welcome to the game of Craps&quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(&quot;The house has given you a starting balance of $500&quot;);\r\n\t\tSystem.out.println(&quot;On each round, you will make a whole number wager.&quot;);\r\n\t\tSystem.out.println(&quot;The minimum wager is $10, and the maximum wager is your remaining balance.&quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(&quot;You may keep playing until you decide to cash in, or&quot;);\r\n\t\tSystem.out.println(&quot;    you can&#39;t cover the minimum wager.&quot;);\r\n\t\tSystem.out.println(&quot;Good Luck!&quot;);\r\n\t\t\r\n\t\tboolean win;\r\n\t\tdouble wins = 0, numOfGames = 0;\r\n\t\tint total = 500;\t\r\n\r\n\t\t// Come out roll and set point value\r\n\t\tint pointValue = 0;\r\n\t\tboolean playAgain = true;\r\n\t\twhile (playAgain &amp;&amp; total &gt; 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\tSystem.out.println(&quot;Your balance is $&quot; + total);\r\n\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\tSystem.out.println(&quot;Place your bet: $&quot;);\r\n\t\t\t\r\n\t\t\t// Get and check wager placed\r\n\t\t\tint bet = in.nextInt();\r\n\t\t\twhile (bet &gt; total || bet &lt; 10)\r\n\t\t\t{\r\n\t\t\t\tif (bet &lt; 10)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Bet must be larger than $10.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;I&#39;m sorry, that&#39;s not a valid wager; please re-enter: &quot;);\r\n\t\t\t\tbet = in.nextInt();\r\n\t\t\t}\r\n\t\t\tint num = rollDice();\r\n\t\t\tif ((num &gt;= 4 &amp;&amp; num &lt;= 10 &amp;&amp; num != 7) || num == 0)\r\n\t\t\t{\r\n\t\t\t\tpointValue = num; \r\n\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\tSystem.out.println(&quot;Your point value is &quot; + pointValue);\r\n\t\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\t\twin = rollWithPoint(pointValue);\r\n\t\t\t\t\r\n\t\t\t\tif (win)\r\n\t\t\t\t{\r\n\t\t\t\t\ttotal = wonGame(bet, total);\r\n\t\t\t\t\twins++;\r\n\t\t\t\t\tnumOfGames++;\r\n\t\t\t\t\tSystem.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\r\n\t\t\t\t}\r\n\t\t\t\telse if (!win)\r\n\t\t\t\t{\r\n\t\t\t\t\ttotal = lostGame(bet, total);\r\n\t\t\t\t\tnumOfGames++;\r\n\t\t\t\t\tSystem.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\telse if (num == 7 || num == 11)\r\n\t\t\t{\r\n\t\t\t\ttotal = wonGame(bet, total);\r\n\t\t\t\twins++;\r\n\t\t\t\tnumOfGames++;\r\n\t\t\t\tSystem.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttotal = lostGame(bet, total);\r\n\t\t\t\tnumOfGames++;\r\n\t\t\t\tSystem.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (total &lt;= 9) // THIS IS WHERE I AM HAVING TROUBLE\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Keep playing (y/Y or n/N)? &quot;);\r\n\t\t\tin.nextLine();\r\n\t\t\tString again = in.nextLine();\r\n\t\t\t\r\n\t\t\tif (again.equalsIgnoreCase(&quot;y&quot;))\r\n\t\t\t{\r\n\t\t\t\tplayAgain = true;\r\n\t\t\t}\r\n\t\t\telse if (again.equalsIgnoreCase(&quot;n&quot;)) // THIS IS WHERE I AM HAVING TROUBLE\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Invalid character input, try again:&quot;);\r\n\t\t\t\tagain = in.nextLine();\r\n\t\t\t}\r\n\t\t}// end of loop\r\n\t\t\r\n\t\tgameOver(wins, numOfGames);\r\n\t\t\r\n\t} // END of main\r\n\t\r\n\tpublic static int rollDice() {\r\n\t\t\r\n\t\tint dice1, dice2, total;\r\n\t\tdice1 = rand.nextInt(6) + 1;\r\n\t\tdice2 = rand.nextInt(6) + 1;\r\n\t\ttotal = dice1 + dice2;\r\n\t\tSystem.out.print(&quot;Your roll: &quot;);\r\n\t\tSystem.out.print(&quot;Dice1: &quot; + dice1);\r\n\t\tSystem.out.print(&quot;, Dice2: &quot; + dice2);\r\n\t\tSystem.out.println(&quot;; Roll Value: &quot; + total);\r\n\t\treturn total;\r\n\t\t\r\n\t} // END of rollDice\r\n\t\r\n\tpublic static boolean rollWithPoint(int point) {\r\n\t\t\r\n\t\tint total = rollDice();\r\n\t\tboolean winner = false;\r\n\t\twhile(total != 7 &amp;&amp; winner == false)\r\n\t\t{\r\n\t\t\ttotal = rollDice();\r\n\t\t\tif (total == point)\r\n\t\t\t{\r\n\t\t\t\twinner = true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\twinner = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn winner;\r\n\t} // END of rollWithPoint\r\n\r\n\tpublic static int lostGame(int bet, int total) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Oh, I&#39;m sorry, you lost.&quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\ttotal = total - bet;\r\n\t\tSystem.out.println(&quot;Your current balance: $&quot; + total);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\treturn total;\r\n\t\t\r\n\t} // END of lostGame\r\n\t\r\n\tpublic static int wonGame(int bet, int total) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;A winner!&quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\ttotal = total + bet;\r\n\t\tSystem.out.println(&quot;Your current balance: $&quot; + total);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\treturn total;\r\n\t\t\r\n\t} // END of wonGame\r\n\t\r\n\tpublic static void gameOver(double win, double tot) {\r\n\t\t\r\n\t\tdouble winPercent = (win / tot) * 100;\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.printf(&quot;Based on your play, the probability of winning is %.2%&quot;, winPercent);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(&quot;Seems you lost your shirt; better luck next time.&quot;);\r\n\t\tSystem.out.println(&quot;Have a nice day! Hope to see you soon!&quot;);\r\n\t\t\r\n\t} // END of gameOver\r\n\t\r\n} // END of GameOfCraps\r\n```\r\n","title":"Throws Exception when trying to break loop because a condition has been met","body":"<p>I am trying to figure out why I cannot get the loop to break if either &quot;n&quot; is input for playAgain or when the total is below $10. If you see how I can break the loop to run the gameOver function without having an exception thrown that would be a great help. I have noted in the code below that I am having trouble with. I am unsure why this exception is being thrown. If you are able to find out how to break the loop when total is less than 10 or when playAgain is false please let me know!</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class GameOfCrapsTester {\n    \n    static Scanner in = new Scanner(System.in);\n    static Random rand = new Random();\n\n    public static void main(String[] args) {\n        \n        System.out.println(&quot;Welcome to the game of Craps&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;The house has given you a starting balance of $500&quot;);\n        System.out.println(&quot;On each round, you will make a whole number wager.&quot;);\n        System.out.println(&quot;The minimum wager is $10, and the maximum wager is your remaining balance.&quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;You may keep playing until you decide to cash in, or&quot;);\n        System.out.println(&quot;    you can't cover the minimum wager.&quot;);\n        System.out.println(&quot;Good Luck!&quot;);\n        \n        boolean win;\n        double wins = 0, numOfGames = 0;\n        int total = 500;    \n\n        // Come out roll and set point value\n        int pointValue = 0;\n        boolean playAgain = true;\n        while (playAgain &amp;&amp; total &gt; 0)\n        {\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Your balance is $&quot; + total);\n            System.out.println(&quot; &quot;);\n            System.out.println(&quot;Place your bet: $&quot;);\n            \n            // Get and check wager placed\n            int bet = in.nextInt();\n            while (bet &gt; total || bet &lt; 10)\n            {\n                if (bet &lt; 10)\n                {\n                    System.out.println(&quot;Bet must be larger than $10.&quot;);\n                }\n                System.out.println(&quot;I'm sorry, that's not a valid wager; please re-enter: &quot;);\n                bet = in.nextInt();\n            }\n            int num = rollDice();\n            if ((num &gt;= 4 &amp;&amp; num &lt;= 10 &amp;&amp; num != 7) || num == 0)\n            {\n                pointValue = num; \n                System.out.println(&quot; &quot;);\n                System.out.println(&quot;Your point value is &quot; + pointValue);\n                System.out.println(&quot; &quot;);\n                win = rollWithPoint(pointValue);\n                \n                if (win)\n                {\n                    total = wonGame(bet, total);\n                    wins++;\n                    numOfGames++;\n                    System.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\n                }\n                else if (!win)\n                {\n                    total = lostGame(bet, total);\n                    numOfGames++;\n                    System.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\n                }   \n            }\n            else if (num == 7 || num == 11)\n            {\n                total = wonGame(bet, total);\n                wins++;\n                numOfGames++;\n                System.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\n            }\n            else\n            {\n                total = lostGame(bet, total);\n                numOfGames++;\n                System.out.println(&quot;Wins: &quot; + wins + &quot; Number of games: &quot; + numOfGames);\n            }\n            \n            if (total &lt;= 9) // THIS IS WHERE I AM HAVING TROUBLE\n            {\n                break;\n            }\n            \n            System.out.println(&quot;Keep playing (y/Y or n/N)? &quot;);\n            in.nextLine();\n            String again = in.nextLine();\n            \n            if (again.equalsIgnoreCase(&quot;y&quot;))\n            {\n                playAgain = true;\n            }\n            else if (again.equalsIgnoreCase(&quot;n&quot;)) // THIS IS WHERE I AM HAVING TROUBLE\n            {\n                break;\n            }\n            else\n            {\n                System.out.println(&quot;Invalid character input, try again:&quot;);\n                again = in.nextLine();\n            }\n        }// end of loop\n        \n        gameOver(wins, numOfGames);\n        \n    } // END of main\n    \n    public static int rollDice() {\n        \n        int dice1, dice2, total;\n        dice1 = rand.nextInt(6) + 1;\n        dice2 = rand.nextInt(6) + 1;\n        total = dice1 + dice2;\n        System.out.print(&quot;Your roll: &quot;);\n        System.out.print(&quot;Dice1: &quot; + dice1);\n        System.out.print(&quot;, Dice2: &quot; + dice2);\n        System.out.println(&quot;; Roll Value: &quot; + total);\n        return total;\n        \n    } // END of rollDice\n    \n    public static boolean rollWithPoint(int point) {\n        \n        int total = rollDice();\n        boolean winner = false;\n        while(total != 7 &amp;&amp; winner == false)\n        {\n            total = rollDice();\n            if (total == point)\n            {\n                winner = true;\n            }\n            else\n            {\n                winner = false;\n            }\n        }\n        return winner;\n    } // END of rollWithPoint\n\n    public static int lostGame(int bet, int total) {\n        \n        System.out.println(&quot;Oh, I'm sorry, you lost.&quot;);\n        System.out.println(&quot; &quot;);\n        total = total - bet;\n        System.out.println(&quot;Your current balance: $&quot; + total);\n        System.out.println(&quot; &quot;);\n        return total;\n        \n    } // END of lostGame\n    \n    public static int wonGame(int bet, int total) {\n        \n        System.out.println(&quot;A winner!&quot;);\n        System.out.println(&quot; &quot;);\n        total = total + bet;\n        System.out.println(&quot;Your current balance: $&quot; + total);\n        System.out.println(&quot; &quot;);\n        return total;\n        \n    } // END of wonGame\n    \n    public static void gameOver(double win, double tot) {\n        \n        double winPercent = (win / tot) * 100;\n        System.out.println(&quot; &quot;);\n        System.out.printf(&quot;Based on your play, the probability of winning is %.2%&quot;, winPercent);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Seems you lost your shirt; better luck next time.&quot;);\n        System.out.println(&quot;Have a nice day! Hope to see you soon!&quot;);\n        \n    } // END of gameOver\n    \n} // END of GameOfCraps\n</code></pre>\n"},{"tags":["java","hibernate","jpa","tomcat","jakarta-ee"],"comments":[{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":1,"creation_date":1667828496,"post_id":74347347,"comment_id":131253848,"body_markdown":"Ok is it the first time testing this project? I am asking because Java EE normally do not work on Tomcat. You need Glassfish, JBoss or TomEE  to work with Java EE. Also your log does not tell much. Maybe you are missing some permissions to start tomcat? Can you start it without Intellij?","body":"Ok is it the first time testing this project? I am asking because Java EE normally do not work on Tomcat. You need Glassfish, JBoss or TomEE  to work with Java EE. Also your log does not tell much. Maybe you are missing some permissions to start tomcat? Can you start it without Intellij?"},{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":1,"creation_date":1667828838,"post_id":74347347,"comment_id":131253992,"body_markdown":"By the way Apache Tomcat 9.0.19 is very old. For security reasons you should consider updating if possible.","body":"By the way Apache Tomcat 9.0.19 is very old. For security reasons you should consider updating if possible."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1667837071,"post_id":74347347,"comment_id":131257209,"body_markdown":"The error log is incomplete. You need to scroll back in error log to find the first thrown excepiton which was causing this subsequent exception.","body":"The error log is incomplete. You need to scroll back in error log to find the first thrown excepiton which was causing this subsequent exception."},{"owner":{"account_id":24328686,"reputation":1,"user_id":18269261,"display_name":"Jon.M DEV CAX"},"score":0,"creation_date":1667846652,"post_id":74347347,"comment_id":131260693,"body_markdown":"I tried to use the latest version of Tomcat with Intellij Ultimate 2020, however, it doesn&#39;t allow to configure.","body":"I tried to use the latest version of Tomcat with Intellij Ultimate 2020, however, it doesn&#39;t allow to configure."}],"answers":[{"comments":[{"owner":{"account_id":24328686,"reputation":1,"user_id":18269261,"display_name":"Jon.M DEV CAX"},"score":0,"creation_date":1667846590,"post_id":74349590,"comment_id":131260677,"body_markdown":"It is possible to configure with Java JDK 14 or +","body":"It is possible to configure with Java JDK 14 or +"}],"tags":[],"owner":{"account_id":3168724,"reputation":20909,"user_id":2678170,"accept_rate":0,"display_name":"Salim Hamidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667837493,"creation_date":1667837493,"answer_id":74349590,"question_id":74347347,"body_markdown":"I already used java 8 with tomcat 9 in intellij and I haven&#39;t found any issue.\r\nIf you can lunch your tomcat successfully without deploying you app via tomcat startup command and without intellij, so your tomcat is well configured. If not:\r\n\r\n 1. Check you environment variables: make sure that you specified jdk1.8 in JAVA_HOME and PATH variables.\r\n 2. Check that your app is also compiled with java 8.\r\n 3. Try to deploy your war on tomcat without intellij to check if it is\r\n    really intellij configuration pb\r\n\r\nIn other hand, I agree with Level_Up that you have to upgrade the tomcat version for security reason as it is too old version.\r\n","title":"Runtime error in Java EE with Intellij IDEA and Tomcat 9","body":"<p>I already used java 8 with tomcat 9 in intellij and I haven't found any issue.\nIf you can lunch your tomcat successfully without deploying you app via tomcat startup command and without intellij, so your tomcat is well configured. If not:</p>\n<ol>\n<li>Check you environment variables: make sure that you specified jdk1.8 in JAVA_HOME and PATH variables.</li>\n<li>Check that your app is also compiled with java 8.</li>\n<li>Try to deploy your war on tomcat without intellij to check if it is\nreally intellij configuration pb</li>\n</ol>\n<p>In other hand, I agree with Level_Up that you have to upgrade the tomcat version for security reason as it is too old version.</p>\n"}],"owner":{"account_id":24328686,"reputation":1,"user_id":18269261,"display_name":"Jon.M DEV CAX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667837493,"creation_date":1667827606,"question_id":74347347,"body_markdown":"My project doesn&#39;t run on Tomcat, I&#39;ve already tried to change the JDK from 14 to 8, and the error persists.\r\n\r\nThe project structure is:\r\n\r\n- Java 8\r\n- Apache Tomcat 9.0.19\r\n- Intellij IDEA v. 2020.1\r\n\r\nThe error log that is shown:\r\n\r\n\r\n```\r\njava.lang.IllegalStateException: Error starting child\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\r\n\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1728)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\r\n\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/calculadora_financeira_web_war]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\r\n\t... 43 more\r\n```\r\n\r\n\r\n","title":"Runtime error in Java EE with Intellij IDEA and Tomcat 9","body":"<p>My project doesn't run on Tomcat, I've already tried to change the JDK from 14 to 8, and the error persists.</p>\n<p>The project structure is:</p>\n<ul>\n<li>Java 8</li>\n<li>Apache Tomcat 9.0.19</li>\n<li>Intellij IDEA v. 2020.1</li>\n</ul>\n<p>The error log that is shown:</p>\n<pre><code>java.lang.IllegalStateException: Error starting child\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:716)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:690)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:695)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1728)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:457)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:406)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:289)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/calculadora_financeira_web_war]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:713)\n    ... 43 more\n</code></pre>\n"},{"tags":["java","algorithm","data-cleaning"],"comments":[{"owner":{"account_id":15940723,"reputation":493,"user_id":11502610,"display_name":"DrosvarG"},"score":0,"creation_date":1667837211,"post_id":74349448,"comment_id":131257276,"body_markdown":"First of all, welcome to StackOverflow ! Unfortunately, we&#39;re not a free do-my-homework service. You should show us what you tried and what specific problem you encounter. I suggest you to [take the tour](https://stackoverflow.com/tour), see [how to ask](https://stackoverflow.com/help/how-to-ask) and how to produce and provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"First of all, welcome to StackOverflow ! Unfortunately, we&#39;re not a free do-my-homework service. You should show us what you tried and what specific problem you encounter. I suggest you to <a href=\"https://stackoverflow.com/tour\">take the tour</a>, see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and how to produce and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667876271,"post_id":74349448,"comment_id":131267021,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26857822,"reputation":1,"user_id":20441852,"display_name":"Christos Code"},"score":0,"creation_date":1667905837,"post_id":74349448,"comment_id":131274175,"body_markdown":"up please, do someone have an idea ...","body":"up please, do someone have an idea ..."}],"owner":{"account_id":26857822,"reputation":1,"user_id":20441852,"display_name":"Christos Code"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667836848,"creation_date":1667836848,"question_id":74349448,"body_markdown":"I&#39;m doing an exercices of data-cleaning and i have some typo&#39;s in the days input.\r\n\r\n\r\n```\r\nYou sold 356 items across all Mondy of the year \r\nYou sold 1687 items across all Thrrsday of the year \r\nYou sold 1718 items across all Tuesdly of the year \r\n```\r\n\r\nThis is what i get ... \r\nThe question is, how can i manage to get the day right ?\r\nI was thinking about making something like : \r\n\r\n```\r\nString[] days = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\r\n\r\n```\r\nand then compare my LINE to each day and see if there is atleast 80% of the chars of the line in a day ...\r\n\r\nCan someone help me ?\r\n\r\n\r\nI expect to correct the input (NO LIB ALLOWED)","title":"Correct Typo&#39;s in TEXT INPUT -&gt; String","body":"<p>I'm doing an exercices of data-cleaning and i have some typo's in the days input.</p>\n<pre><code>You sold 356 items across all Mondy of the year \nYou sold 1687 items across all Thrrsday of the year \nYou sold 1718 items across all Tuesdly of the year \n</code></pre>\n<p>This is what i get ...\nThe question is, how can i manage to get the day right ?\nI was thinking about making something like :</p>\n<pre><code>String[] days = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\n\n</code></pre>\n<p>and then compare my LINE to each day and see if there is atleast 80% of the chars of the line in a day ...</p>\n<p>Can someone help me ?</p>\n<p>I expect to correct the input (NO LIB ALLOWED)</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1552503549,"post_id":55142336,"comment_id":97039167,"body_markdown":"Your `AccessDeniedException` seems to be catched by JSF and converted to `FacesException`. Show the class and method annotated with `PreAuthorise`.","body":"Your <code>AccessDeniedException</code> seems to be catched by JSF and converted to <code>FacesException</code>. Show the class and method annotated with <code>PreAuthorise</code>."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1552504029,"post_id":55142336,"comment_id":97039414,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/19536188/jsf2-with-springsecurity-handle-accessdeniedexception-of-secured-annotation","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/19536188/jsf2-with-springsecurity-handle-accessdeniedexception-of-secured-annotation\" title=\"jsf2 with springsecurity handle accessdeniedexception of secured annotation\">stackoverflow.com/questions/19536188/&hellip;</a>"},{"owner":{"account_id":14710362,"reputation":145,"user_id":10623878,"display_name":"W.E.B-Developer"},"score":0,"creation_date":1552545889,"post_id":55142336,"comment_id":97052294,"body_markdown":"Will try it! Thank you!","body":"Will try it! Thank you!"}],"owner":{"account_id":14710362,"reputation":145,"user_id":10623878,"display_name":"W.E.B-Developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667836761,"creation_date":1552481392,"question_id":55142336,"body_markdown":"I got a methode that I secured with ```@PreAuthorise```\r\nBut whenever I trigger an AccessDeniedException, it would not trigger my AccessDeniedHandler, configured in my ```WebSecurityConfig```\r\n\r\nI am using Spring-Boot\r\nJoinfaces\r\nSpring Security \r\nPrimefaces\r\n\r\nHere is my WebSecurityConfig\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    // URLs that are not secured\r\n\r\n    public static final String[] NO_SEC_URLS = { &quot;/public/**&quot;, &quot;/error/**&quot;, &quot;/login/**&quot;, &quot;/javax.faces.resource/**&quot;};\r\n\r\n    public static final String ACCESS_DENIED_URL = &quot;/error/accessDenied.xhtml&quot;;\r\n    \r\n    // Service\r\n    private final AppUserDetailsService userDetailsService;\r\n\r\n    // Success/Failure Handler\r\n    private final LoginSuccessHandler loginSuccessHandler;\r\n    private final LoginFailureHandler loginFailureHandler;\r\n    private final AppAccessDeniedHandler appAccessDeniedHandler;\r\n\r\n    // Constructor\r\n    public WebSecurityConfig(AppUserDetailsService userDetailsService, LoginSuccessHandler loginSuccessHandler,\r\n            LoginFailureHandler loginFailureHandler, AppAccessDeniedHandler appAccessDeniedHandler,\r\n            AppAccessDeniedHandler appAccessDeniedHandler1) {\r\n        this.userDetailsService = userDetailsService;\r\n        this.loginSuccessHandler = loginSuccessHandler;\r\n        this.loginFailureHandler = loginFailureHandler;\r\n        this.appAccessDeniedHandler = appAccessDeniedHandler1;\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Web Configuration\r\n     *\r\n     * @param http http\r\n     * @throws Exception Exception\r\n     */\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                // URLs that are not protectet\r\n                .antMatchers(NO_SEC_URLS).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and().csrf().disable();\r\n        http\r\n                // login/failure handler\r\n                .formLogin().successHandler(loginSuccessHandler).failureHandler(loginFailureHandler)\r\n                .loginProcessingUrl(&quot;/public/login.xhtml&quot;)\r\n                .loginPage(&quot;/public/login.xhtml&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedHandler(appAccessDeniedHandler)\r\n                .and()\r\n                .logout()\r\n                // What happens on /logout\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                // Destrois session\r\n                .invalidateHttpSession(true)\r\n                // Deletes Cookies\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                // referes to /login\r\n                .logoutSuccessUrl(&quot;/public/login.xhtml&quot;);\r\n\r\n\r\n        http.headers().frameOptions().sameOrigin().httpStrictTransportSecurity();\r\n    }\r\n\r\n    /**\r\n     * Helps autentication\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(encoder());\r\n        return authProvider;\r\n    }\r\n\r\n    /**\r\n     * Password encrypter\r\n     *\r\n     * @return\r\n     */\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder(11);\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nMy Stacktrace\r\n\r\n```\r\njavax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:119)\r\n\tat javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\r\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\r\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.faces.el.EvaluationException: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n\t... 76 common frames omitted\r\nCaused by: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat de.person.view.PersonEditView$$EnhancerBySpringCGLIB$$e071cd3d.init(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.el.parser.AstValue.invoke(AstValue.java:247)\r\n\tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107)\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\r\n\t... 77 common frames omitted\r\n\r\n2019-03-13 13:30:16.654 ERROR 7260 --- [nio-8080-exec-1] j.e.resource.webcontainer.jsf.context    : JSF1073: javax.faces.FacesException erfasst w&#228;hrend Verarbeitung von INVOKE_APPLICATION 5 : UIComponent-ClientId=, Message=#{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\r\n2019-03-13 13:30:16.655 ERROR 7260 --- [nio-8080-exec-1] j.e.resource.webcontainer.jsf.context    : #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\r\njavax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:90)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:119)\r\n\tat javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\r\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\r\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\r\n\t... 72 common frames omitted\r\nCaused by: javax.faces.el.EvaluationException: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n\t... 76 common frames omitted\r\nCaused by: org.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\r\n\tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\r\n\tat org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\r\n\tat de.person.view.PersonEditView$$EnhancerBySpringCGLIB$$e071cd3d.init(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.el.parser.AstValue.invoke(AstValue.java:247)\r\n\tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107)\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\r\n\t... 77 common frames omitted\r\n\r\n\r\n```\r\n\r\nand my AccessDeniedHandler\r\n\r\n```\r\n@Component\r\npublic class AppAccessDeniedHandler extends AccessDeniedHandlerImpl {\r\n\r\n    private String errorPage = &quot;/error/accessDenied.xhtml&quot;;\r\n\r\n    /**\r\n     * Redirect to errorPage url in case of bad credentials\r\n     *\r\n     * @param request\r\n     * @param response\r\n     * @param accessDeniedException\r\n     * @throws IOException\r\n     * @throws ServletException\r\n     */\r\n    @Override\r\n    public void handle(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AccessDeniedException\r\n            accessDeniedException) throws IOException, ServletException {\r\n        response.sendRedirect(errorPage);\r\n\r\n    }\r\n}\r\n```","title":"Cant handle AccessDeniedException caused by @PreAuthenticate with my SpringSecurity configuration","body":"<p>I got a methode that I secured with <code>@PreAuthorise</code>\nBut whenever I trigger an AccessDeniedException, it would not trigger my AccessDeniedHandler, configured in my <code>WebSecurityConfig</code></p>\n\n<p>I am using Spring-Boot\nJoinfaces\nSpring Security \nPrimefaces</p>\n\n<p>Here is my WebSecurityConfig</p>\n\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    // URLs that are not secured\n\n    public static final String[] NO_SEC_URLS = { \"/public/**\", \"/error/**\", \"/login/**\", \"/javax.faces.resource/**\"};\n\n    public static final String ACCESS_DENIED_URL = \"/error/accessDenied.xhtml\";\n\n    // Service\n    private final AppUserDetailsService userDetailsService;\n\n    // Success/Failure Handler\n    private final LoginSuccessHandler loginSuccessHandler;\n    private final LoginFailureHandler loginFailureHandler;\n    private final AppAccessDeniedHandler appAccessDeniedHandler;\n\n    // Constructor\n    public WebSecurityConfig(AppUserDetailsService userDetailsService, LoginSuccessHandler loginSuccessHandler,\n            LoginFailureHandler loginFailureHandler, AppAccessDeniedHandler appAccessDeniedHandler,\n            AppAccessDeniedHandler appAccessDeniedHandler1) {\n        this.userDetailsService = userDetailsService;\n        this.loginSuccessHandler = loginSuccessHandler;\n        this.loginFailureHandler = loginFailureHandler;\n        this.appAccessDeniedHandler = appAccessDeniedHandler1;\n    }\n\n\n\n\n    /**\n     * Web Configuration\n     *\n     * @param http http\n     * @throws Exception Exception\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                // URLs that are not protectet\n                .antMatchers(NO_SEC_URLS).permitAll()\n                .anyRequest().authenticated()\n                .and().csrf().disable();\n        http\n                // login/failure handler\n                .formLogin().successHandler(loginSuccessHandler).failureHandler(loginFailureHandler)\n                .loginProcessingUrl(\"/public/login.xhtml\")\n                .loginPage(\"/public/login.xhtml\")\n                .permitAll()\n                .and()\n                .exceptionHandling().accessDeniedHandler(appAccessDeniedHandler)\n                .and()\n                .logout()\n                // What happens on /logout\n                .logoutUrl(\"/logout\")\n                // Destrois session\n                .invalidateHttpSession(true)\n                // Deletes Cookies\n                .deleteCookies(\"JSESSIONID\")\n                // referes to /login\n                .logoutSuccessUrl(\"/public/login.xhtml\");\n\n\n        http.headers().frameOptions().sameOrigin().httpStrictTransportSecurity();\n    }\n\n    /**\n     * Helps autentication\n     *\n     * @return\n     */\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(encoder());\n        return authProvider;\n    }\n\n    /**\n     * Password encrypter\n     *\n     * @return\n     */\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder(11);\n    }\n\n}\n\n\n</code></pre>\n\n<p>My Stacktrace</p>\n\n<pre><code>javax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:119)\n    at javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587)\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.faces.el.EvaluationException: org.springframework.security.access.AccessDeniedException: Access is denied\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n    ... 76 common frames omitted\nCaused by: org.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at de.person.view.PersonEditView$$EnhancerBySpringCGLIB$$e071cd3d.init(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.el.parser.AstValue.invoke(AstValue.java:247)\n    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)\n    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107)\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\n    ... 77 common frames omitted\n\n2019-03-13 13:30:16.654 ERROR 7260 --- [nio-8080-exec-1] j.e.resource.webcontainer.jsf.context    : JSF1073: javax.faces.FacesException erfasst whrend Verarbeitung von INVOKE_APPLICATION 5 : UIComponent-ClientId=, Message=#{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\n2019-03-13 13:30:16.655 ERROR 7260 --- [nio-8080-exec-1] j.e.resource.webcontainer.jsf.context    : #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\n\njavax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:90)\n    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:100)\n    at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:201)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:670)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:200)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:834)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.faces.FacesException: #{personEditView.init()}: org.springframework.security.access.AccessDeniedException: Access is denied\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:119)\n    at javax.faces.component.UIViewAction.broadcast(UIViewAction.java:587)\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:870)\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1418)\n    at com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:82)\n    ... 72 common frames omitted\nCaused by: javax.faces.el.EvaluationException: org.springframework.security.access.AccessDeniedException: Access is denied\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\n    at com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n    ... 76 common frames omitted\nCaused by: org.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)\n    at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)\n    at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:65)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)\n    at de.person.view.PersonEditView$$EnhancerBySpringCGLIB$$e071cd3d.init(&lt;generated&gt;)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.el.parser.AstValue.invoke(AstValue.java:247)\n    at org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:267)\n    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:107)\n    at javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\n    ... 77 common frames omitted\n\n\n</code></pre>\n\n<p>and my AccessDeniedHandler</p>\n\n<pre><code>@Component\npublic class AppAccessDeniedHandler extends AccessDeniedHandlerImpl {\n\n    private String errorPage = \"/error/accessDenied.xhtml\";\n\n    /**\n     * Redirect to errorPage url in case of bad credentials\n     *\n     * @param request\n     * @param response\n     * @param accessDeniedException\n     * @throws IOException\n     * @throws ServletException\n     */\n    @Override\n    public void handle(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            AccessDeniedException\n            accessDeniedException) throws IOException, ServletException {\n        response.sendRedirect(errorPage);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","string","bufferedreader","stringtokenizer"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1667834583,"post_id":74348928,"comment_id":131256261,"body_markdown":"Well look at your code - you read the first line in `String line = reader.readLine();`, and then assign a new value to `line` without ever looking at it. Just changing that to `String line = null;` should fix it...","body":"Well look at your code - you read the first line in <code>String line = reader.readLine();</code>, and then assign a new value to <code>line</code> without ever looking at it. Just changing that to <code>String line = null;</code> should fix it..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667834603,"post_id":74348928,"comment_id":131256266,"body_markdown":"That&#39;s the wrong class to be using. You&#39;d be better off using a different ancient class: `BreakIterator`","body":"That&#39;s the wrong class to be using. You&#39;d be better off using a different ancient class: <code>BreakIterator</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667834971,"post_id":74348928,"comment_id":131256416,"body_markdown":"Consider using [Files.readAllLines(Path,Charset)](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)) instead of BufferedReader","body":"Consider using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">Files.readAllLines(Path,Charset)</a> instead of BufferedReader"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667836611,"creation_date":1667836611,"answer_id":74349388,"question_id":74348928,"body_markdown":"This is how you could marry the (very) old and the new(er) to provide a collection of words:\r\n\r\n    import java.text.BreakIterator;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class WordCollector {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                List&lt;String&gt; words = WordCollector.getWords(Files.lines(Paths.get(args[0])));\r\n                System.out.println(words);\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static List&lt;String&gt; getWords(Stream&lt;String&gt; lines) {\r\n            List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n            BreakIterator boundary = BreakIterator.getWordInstance();\r\n            lines.forEach(line -&gt; {\r\n                boundary.setText(line);\r\n    \r\n                int start = boundary.first();\r\n                for (int end = boundary.next(); end != BreakIterator.DONE; start = end, end = boundary.next()) {\r\n                    String candidate = line.substring(start, end).replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).trim();\r\n                    if (candidate.length() &gt; 0) {\r\n                        result.add(candidate);\r\n                    }\r\n                }\r\n            });\r\n            return result;\r\n        }\r\n    }\r\n\r\n \r\n","title":"StringTokenizer doesn&#39;t read the firs line of the file.txt","body":"<p>This is how you could marry the (very) old and the new(er) to provide a collection of words:</p>\n<pre><code>import java.text.BreakIterator;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Stream;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class WordCollector {\n\n    public static void main(String[] args) {\n        try {\n            List&lt;String&gt; words = WordCollector.getWords(Files.lines(Paths.get(args[0])));\n            System.out.println(words);\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public static List&lt;String&gt; getWords(Stream&lt;String&gt; lines) {\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        BreakIterator boundary = BreakIterator.getWordInstance();\n        lines.forEach(line -&gt; {\n            boundary.setText(line);\n\n            int start = boundary.first();\n            for (int end = boundary.next(); end != BreakIterator.DONE; start = end, end = boundary.next()) {\n                String candidate = line.substring(start, end).replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).trim();\n                if (candidate.length() &gt; 0) {\n                    result.add(candidate);\n                }\n            }\n        });\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26857452,"reputation":1,"user_id":20441539,"display_name":"Bruda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667836611,"creation_date":1667834458,"question_id":74348928,"body_markdown":"I&#39;m trying to take every single words from a text file and put them into a ArrayList but the StringTokenizer doesn&#39;t read the first line of the text file... What&#39;s wrong?\r\n\r\n\r\n\r\n```\r\npublic class BufferReader {\r\n\r\n    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Java-projects//EsameJava//prova.txt&quot;));\r\n                \r\n\r\n        String line = reader.readLine();\r\n\r\n        List&lt;String&gt; str = new ArrayList&lt;&gt;();\r\n\r\n        while ((line = reader.readLine()) != null) {\r\n            StringTokenizer token = new StringTokenizer(line); \r\n\r\n            while (token.hasMoreTokens()) {\r\n                str.add(token.nextToken());\r\n            }\r\n        }\r\n\r\n        System.out.println(str);\r\n```\r\n\r\n\r\n\r\n\r\nThe only solution I found is to start the text file from the second line but it&#39;s not what I want...","title":"StringTokenizer doesn&#39;t read the firs line of the file.txt","body":"<p>I'm trying to take every single words from a text file and put them into a ArrayList but the StringTokenizer doesn't read the first line of the text file... What's wrong?</p>\n<pre><code>public class BufferReader {\n\n    public static void main(String[] args) throws FileNotFoundException, IOException {\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;C://Java-projects//EsameJava//prova.txt&quot;));\n                \n\n        String line = reader.readLine();\n\n        List&lt;String&gt; str = new ArrayList&lt;&gt;();\n\n        while ((line = reader.readLine()) != null) {\n            StringTokenizer token = new StringTokenizer(line); \n\n            while (token.hasMoreTokens()) {\n                str.add(token.nextToken());\n            }\n        }\n\n        System.out.println(str);\n</code></pre>\n<p>The only solution I found is to start the text file from the second line but it's not what I want...</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"score":1,"creation_date":1667802100,"post_id":74342578,"comment_id":131245354,"body_markdown":"Try to define type of list and implements Serializable.","body":"Try to define type of list and implements Serializable."},{"owner":{"account_id":14218270,"reputation":365,"user_id":11141671,"display_name":"Jhon Jesus"},"score":0,"creation_date":1668049989,"post_id":74342578,"comment_id":131315216,"body_markdown":"the list is of String","body":"the list is of String"}],"answers":[{"comments":[{"owner":{"account_id":14218270,"reputation":365,"user_id":11141671,"display_name":"Jhon Jesus"},"score":0,"creation_date":1667839061,"post_id":74343312,"comment_id":131257967,"body_markdown":"yeah, of course","body":"yeah, of course"}],"tags":[],"owner":{"account_id":23735314,"reputation":80,"user_id":17754056,"display_name":"Pouria Rezaie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667806618,"creation_date":1667806618,"answer_id":74343312,"question_id":74342578,"body_markdown":"Does your class have a constructor?\r\n\r\n    public class Person implements Serializable {\r\n        private String name;\r\n        private List list;\r\n        \r\n        public Person(String name, List list){\r\n            this.name = name;\r\n            this.list = list;\r\n        }\r\n    }\r\n\r\n---","title":"how send List inside of Object serialized by intent in android - java","body":"<p>Does your class have a constructor?</p>\n<pre><code>public class Person implements Serializable {\n    private String name;\n    private List list;\n    \n    public Person(String name, List list){\n        this.name = name;\n        this.list = list;\n    }\n}\n</code></pre>\n<hr />\n"}],"owner":{"account_id":14218270,"reputation":365,"user_id":11141671,"display_name":"Jhon Jesus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667836030,"creation_date":1667801614,"question_id":74342578,"body_markdown":"I&#39;m using a class serialized, but the list retrieve null\r\n\r\n        public class Person implements Serializable {\r\n        private String name;\r\n        private List list;\r\n        \r\n        public Person(String name, List list){\r\n            this.name = name;\r\n            this.list = list;\r\n          }\r\n        }\r\n\r\nI send data with list filled\r\n\r\n     bundle.putSerializable(&quot;person&quot;,p);\r\nI retrieve data in fragment\r\n\r\n     Person p= (Person)requireArguments().getSerializable(&quot;person&quot;);\r\n\r\nI get name , but list is null","title":"how send List inside of Object serialized by intent in android - java","body":"<p>I'm using a class serialized, but the list retrieve null</p>\n<pre><code>    public class Person implements Serializable {\n    private String name;\n    private List list;\n    \n    public Person(String name, List list){\n        this.name = name;\n        this.list = list;\n      }\n    }\n</code></pre>\n<p>I send data with list filled</p>\n<pre><code> bundle.putSerializable(&quot;person&quot;,p);\n</code></pre>\n<p>I retrieve data in fragment</p>\n<pre><code> Person p= (Person)requireArguments().getSerializable(&quot;person&quot;);\n</code></pre>\n<p>I get name , but list is null</p>\n"},{"tags":["java","minecraft","stack-trace"],"answers":[{"tags":[],"owner":{"account_id":26857748,"reputation":1,"user_id":20441789,"display_name":"user20441789"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667835899,"creation_date":1667835899,"answer_id":74349230,"question_id":73531250,"body_markdown":"I had the same error, for me it was graphics card drivers. If you have AMD 22.5.1 worked for me.","title":"Minecraft crashes on start with following stacktrace (Whats the best way of fixing it)","body":"<p>I had the same error, for me it was graphics card drivers. If you have AMD 22.5.1 worked for me.</p>\n"}],"owner":{"account_id":21068507,"reputation":1,"user_id":15485206,"display_name":"Carina Sophie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667835899,"creation_date":1661787623,"question_id":73531250,"body_markdown":"https://pastebin.com/2trkexp7\r\n\r\n\r\n  #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00000203004c7960, pid=12684, tid=17604\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment Microsoft-32931 (17.0.3+7) (build 17.0.3+7-LTS)\r\n    # Java VM: OpenJDK 64-Bit Server VM Microsoft-32931 (17.0.3+7-LTS, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n    # Problematic frame:\r\n    # C  0x00000203004c7960\r\n    #\r\n    # No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://github.com/microsoft/openjdk/issues\r\n    #\r\n\r\nWhats the best way of fixing that exception.\r\nHappend on a clean windows 11 install.","title":"Minecraft crashes on start with following stacktrace (Whats the best way of fixing it)","body":"<p><a href=\"https://pastebin.com/2trkexp7\" rel=\"nofollow noreferrer\">https://pastebin.com/2trkexp7</a></p>\n<h1></h1>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00000203004c7960, pid=12684, tid=17604\n#\n# JRE version: OpenJDK Runtime Environment Microsoft-32931 (17.0.3+7) (build 17.0.3+7-LTS)\n# Java VM: OpenJDK 64-Bit Server VM Microsoft-32931 (17.0.3+7-LTS, mixed mode, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  0x00000203004c7960\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/microsoft/openjdk/issues\n#\n</code></pre>\n<p>Whats the best way of fixing that exception.\nHappend on a clean windows 11 install.</p>\n"},{"tags":["java","exception","logging","stack-trace"],"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1306227765,"post_id":6107700,"comment_id":7083125,"body_markdown":"Why do you have so many stack traces in your log? Are you logging exceptions left and right? Are you certain that is a good idea?","body":"Why do you have so many stack traces in your log? Are you logging exceptions left and right? Are you certain that is a good idea?"},{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1306227862,"post_id":6107700,"comment_id":7083148,"body_markdown":"That&#39;s a log from a performance test and certain parts of the system fail under pressure. The thing I want to achieve is a simpe report on where and which exceptions happended during the run.","body":"That&#39;s a log from a performance test and certain parts of the system fail under pressure. The thing I want to achieve is a simpe report on where and which exceptions happended during the run."},{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1306227998,"post_id":6107700,"comment_id":7083183,"body_markdown":"It may be one exception happened in 1 day or it may be 1000 exceptions happened in one minute. The amount of exceptions is not determined by the amount of logs.","body":"It may be one exception happened in 1 day or it may be 1000 exceptions happened in one minute. The amount of exceptions is not determined by the amount of logs."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1306233827,"post_id":6107700,"comment_id":7084630,"body_markdown":"Ah, that makes sense. As long as you don&#39;t need it to monitor a production system...","body":"Ah, that makes sense. As long as you don&#39;t need it to monitor a production system..."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1455784183,"post_id":6107700,"comment_id":58646836,"body_markdown":"See  http://stackoverflow.com/questions/34788252/how-can-i-capture-java-exceptions-including-the-stack-trace-from-a-log-file-us","body":"See  <a href=\"http://stackoverflow.com/questions/34788252/how-can-i-capture-java-exceptions-including-the-stack-trace-from-a-log-file-us\" title=\"how can i capture java exceptions including the stack trace from a log file us\">stackoverflow.com/questions/34788252/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":2,"creation_date":1306227778,"post_id":6107943,"comment_id":7083126,"body_markdown":"I know of that tool and actually I use it as well:). But I would preffer something that is not GUI-based. We have quite many logs and opening each one of them in the GUI is, unfortunately, not an option.","body":"I know of that tool and actually I use it as well:). But I would preffer something that is not GUI-based. We have quite many logs and opening each one of them in the GUI is, unfortunately, not an option."}],"tags":[],"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306227180,"creation_date":1306227180,"answer_id":6107943,"question_id":6107700,"body_markdown":" I use [Baretail][1].\r\n\r\n\r\n  [1]: http://www.baremetalsoft.com/baretail/","title":"Tool to extract java stack traces from log files","body":"<p>I use <a href=\"http://www.baremetalsoft.com/baretail/\" rel=\"nofollow\">Baretail</a>.</p>\n"},{"comments":[{"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"score":0,"creation_date":1306228277,"post_id":6108120,"comment_id":7083254,"body_markdown":"Thanks, Aaron. I had the same idea and that&#39;s what I would do eventually if I don&#39;t find anything that&#39;s already there :). I&#39;m pretty sure this feature is present in some comercial log analyzers, but I hoped something like that existed also as a free tool or example script.","body":"Thanks, Aaron. I had the same idea and that&#39;s what I would do eventually if I don&#39;t find anything that&#39;s already there :). I&#39;m pretty sure this feature is present in some comercial log analyzers, but I hoped something like that existed also as a free tool or example script."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1306227987,"creation_date":1306227987,"answer_id":6108120,"question_id":6107700,"body_markdown":"You can write this yourself pretty easily. Here is the pattern:\r\n\r\n1. Open file\r\n2. Search for the string `&quot;\\n\\tat &quot;` (that&#39;s new line, tab, `at`, blank) This is a pretty uncommon string outside of stack traces.\r\n\r\nNow all you need to do is find the first line that doesn&#39;t start with `\\t` to find the end of the stack trace. You may want to skip 1-3 lines after that to catch chained exceptions.\r\n\r\nPlus add a couple of lines (say 10 or 50) before the first line of the stack trace to get some context.","title":"Tool to extract java stack traces from log files","body":"<p>You can write this yourself pretty easily. Here is the pattern:</p>\n\n<ol>\n<li>Open file</li>\n<li>Search for the string <code>\"\\n\\tat \"</code> (that's new line, tab, <code>at</code>, blank) This is a pretty uncommon string outside of stack traces.</li>\n</ol>\n\n<p>Now all you need to do is find the first line that doesn't start with <code>\\t</code> to find the end of the stack trace. You may want to skip 1-3 lines after that to catch chained exceptions.</p>\n\n<p>Plus add a couple of lines (say 10 or 50) before the first line of the stack trace to get some context.</p>\n"},{"tags":[],"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1306420892,"creation_date":1306420297,"answer_id":6140281,"question_id":6107700,"body_markdown":"I have come up with the following Groovy script. It is, of course, very much adjusted to my needs, but I hope it helps someone.\r\n\r\n    def traceMap = [:]\r\n    \r\n    // Number of lines to keep in buffer\r\n    def BUFFER_SIZE = 100\r\n\r\n    // Pattern for stack trace line\r\n    def TRACE_LINE_PATTERN = &#39;^[\\\\s\\\\t]+at .*$&#39;\r\n\r\n    // Log line pattern between which we try to capture full trace\r\n    def LOG_LINE_PATTERN = &#39;^([&lt;#][^/]|\\\\d\\\\d).*$&#39;\r\n\r\n    // List of patterns to replace in final captured stack trace line \r\n    // (e.g. replace date and transaction information that may make similar traces to look as different)\r\n    def REPLACE_PATTERNS = [\r\n      &#39;^\\\\d+-\\\\d+\\\\@.*?tksId: [^\\\\]]+\\\\]&#39;,\r\n      &#39;^&lt;\\\\w+ \\\\d+, \\\\d+ [^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;&#39;,\r\n      &#39;^####&lt;[^&gt;]+?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;&#39;,\r\n      &#39;&lt;([\\\\w:]+)?TransaktionsID&gt;[^&lt;]+?&lt;/([\\\\w:]+)?TransaktionsID&gt;&#39;,\r\n      &#39;&lt;([\\\\w:]+)?TransaktionsTid&gt;[^&lt;]+?&lt;/([\\\\w:]+)?TransaktionsTid&gt;&#39;\r\n    ]\r\n    \r\n    new File(&#39;.&#39;).eachFile { File file -&gt;\r\n      if (file.name.contains(&#39;.log&#39;) || file.name.contains(&#39;.out&#39;)) {\r\n        def bufferLines = []\r\n        file.withReader { Reader reader -&gt;\r\n          while (reader.ready()) {      \r\n            def String line = reader.readLine()\r\n            if (line.matches(TRACE_LINE_PATTERN)) {\r\n              def trace = []\r\n              for(def i = bufferLines.size() - 1; i &gt;= 0; i--) {\r\n                if (!bufferLines[i].matches(LOG_LINE_PATTERN)) {\r\n                  trace.add(0, bufferLines[i])\r\n                } else {\r\n                  trace.add(0, bufferLines[i])\r\n                  break\r\n                }\r\n              }\r\n              trace.add(line)\r\n              if (reader.ready()) {\r\n                line = reader.readLine()\r\n                while (!line.matches(LOG_LINE_PATTERN)) {\r\n                  trace.add(line)\r\n                  if (reader.ready()) {\r\n                    line = reader.readLine()\r\n                  } else {\r\n                    break;\r\n                  }\r\n                }\r\n              }\r\n              def traceString = trace.join(&quot;\\n&quot;)\r\n              REPLACE_PATTERNS.each { pattern -&gt;\r\n                traceString = traceString.replaceAll(pattern, &#39;&#39;)\r\n              }\r\n              if (traceMap.containsKey(traceString)) {\r\n                traceMap.put(traceString, traceMap.get(traceString) + 1)\r\n              } else {\r\n                traceMap.put(traceString, 1)\r\n              }\r\n            }\r\n            // Keep the buffer of last lines.\r\n            bufferLines.add(line)\r\n            if (bufferLines.size() &gt; BUFFER_SIZE) {\r\n              bufferLines.remove(0)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    traceMap = traceMap.sort { it.value }\r\n    \r\n    traceMap.reverseEach { trace, number -&gt;\r\n      println &quot;-- Occured $number times -----------------------------------------&quot;\r\n      println trace\r\n    }\r\n\r\n","title":"Tool to extract java stack traces from log files","body":"<p>I have come up with the following Groovy script. It is, of course, very much adjusted to my needs, but I hope it helps someone.</p>\n\n<pre><code>def traceMap = [:]\n\n// Number of lines to keep in buffer\ndef BUFFER_SIZE = 100\n\n// Pattern for stack trace line\ndef TRACE_LINE_PATTERN = '^[\\\\s\\\\t]+at .*$'\n\n// Log line pattern between which we try to capture full trace\ndef LOG_LINE_PATTERN = '^([&lt;#][^/]|\\\\d\\\\d).*$'\n\n// List of patterns to replace in final captured stack trace line \n// (e.g. replace date and transaction information that may make similar traces to look as different)\ndef REPLACE_PATTERNS = [\n  '^\\\\d+-\\\\d+\\\\@.*?tksId: [^\\\\]]+\\\\]',\n  '^&lt;\\\\w+ \\\\d+, \\\\d+ [^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;',\n  '^####&lt;[^&gt;]+?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;[^&gt;]*?&gt; &lt;',\n  '&lt;([\\\\w:]+)?TransaktionsID&gt;[^&lt;]+?&lt;/([\\\\w:]+)?TransaktionsID&gt;',\n  '&lt;([\\\\w:]+)?TransaktionsTid&gt;[^&lt;]+?&lt;/([\\\\w:]+)?TransaktionsTid&gt;'\n]\n\nnew File('.').eachFile { File file -&gt;\n  if (file.name.contains('.log') || file.name.contains('.out')) {\n    def bufferLines = []\n    file.withReader { Reader reader -&gt;\n      while (reader.ready()) {      \n        def String line = reader.readLine()\n        if (line.matches(TRACE_LINE_PATTERN)) {\n          def trace = []\n          for(def i = bufferLines.size() - 1; i &gt;= 0; i--) {\n            if (!bufferLines[i].matches(LOG_LINE_PATTERN)) {\n              trace.add(0, bufferLines[i])\n            } else {\n              trace.add(0, bufferLines[i])\n              break\n            }\n          }\n          trace.add(line)\n          if (reader.ready()) {\n            line = reader.readLine()\n            while (!line.matches(LOG_LINE_PATTERN)) {\n              trace.add(line)\n              if (reader.ready()) {\n                line = reader.readLine()\n              } else {\n                break;\n              }\n            }\n          }\n          def traceString = trace.join(\"\\n\")\n          REPLACE_PATTERNS.each { pattern -&gt;\n            traceString = traceString.replaceAll(pattern, '')\n          }\n          if (traceMap.containsKey(traceString)) {\n            traceMap.put(traceString, traceMap.get(traceString) + 1)\n          } else {\n            traceMap.put(traceString, 1)\n          }\n        }\n        // Keep the buffer of last lines.\n        bufferLines.add(line)\n        if (bufferLines.size() &gt; BUFFER_SIZE) {\n          bufferLines.remove(0)\n        }\n      }\n    }\n  }\n}\n\ntraceMap = traceMap.sort { it.value }\n\ntraceMap.reverseEach { trace, number -&gt;\n  println \"-- Occured $number times -----------------------------------------\"\n  println trace\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1540390581,"post_id":16064081,"comment_id":92848845,"body_markdown":"It matches all lines with WARN or ERROR even if they are not followed by stack trace...","body":"It matches all lines with WARN or ERROR even if they are not followed by stack trace..."},{"owner":{"account_id":376000,"reputation":3773,"user_id":727184,"accept_rate":62,"display_name":"GarouDan"},"score":0,"creation_date":1553867879,"post_id":16064081,"comment_id":97557138,"body_markdown":"Can we create a regex to match the entire exception instead of the exception lines? I would like to combine this with this: https://unix.stackexchange.com/questions/276741/using-grep-and-looking-for-unique-occurrences","body":"Can we create a regex to match the entire exception instead of the exception lines? I would like to combine this with this: <a href=\"https://unix.stackexchange.com/questions/276741/using-grep-and-looking-for-unique-occurrences\" title=\"using grep and looking for unique occurrences\">unix.stackexchange.com/questions/276741/&hellip;</a>"},{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":0,"creation_date":1553871211,"post_id":16064081,"comment_id":97559343,"body_markdown":"@GarouDan Once you have extracted all the stack traces using this logic, you can post-process to achieve what you want. For example, if you replace all `\\n\\t` with `|` you&#39;ll get each exception on one line, then you can `sort` / `uniq` / whatever using line-based tools, then you can replace all `|` with `\\n\\t` again.","body":"@GarouDan Once you have extracted all the stack traces using this logic, you can post-process to achieve what you want. For example, if you replace all <code>\\n\\t</code> with <code>|</code> you&#39;ll get each exception on one line, then you can <code>sort</code> / <code>uniq</code> / whatever using line-based tools, then you can replace all <code>|</code> with <code>\\n\\t</code> again."}],"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1667835712,"creation_date":1366212395,"answer_id":16064081,"question_id":6107700,"body_markdown":"Here is a quick-and-dirty grep expression... if you are using a logger such as log4j than the first line of the exception will generally contain `WARN` or `ERROR`, the next line will contain the Exception name, and optionally a message, and then the subsequent stack trace will begin with one of the following:\r\n\r\n 1. `&quot;\\tat&quot;` (tab character + `at`)\r\n 1. `&quot;Caused by: &quot;`\r\n 1. `&quot;\\t... &lt;some number&gt; more&quot;` (these are the lines that indicate the number of frames in the stack not shown in a &quot;Caused by&quot; exception)\r\n 1. An Exception name (and perhaps message) before the stack\r\n\r\nWe want to get all of the above lines, so the grep expression is:\r\n\r\n```\r\ngrep -P &quot;(WARN|ERROR|^\\tat |Exception|^Caused by: |\\t... \\d+ more)&quot;\r\n```\r\n\r\nIt assumes an Exception class always contains the word `Exception` which may or may not be true, but this is quick-and-dirty after all.\r\n\r\nAdjust as necessary for your specific case.","title":"Tool to extract java stack traces from log files","body":"<p>Here is a quick-and-dirty grep expression... if you are using a logger such as log4j than the first line of the exception will generally contain <code>WARN</code> or <code>ERROR</code>, the next line will contain the Exception name, and optionally a message, and then the subsequent stack trace will begin with one of the following:</p>\n<ol>\n<li><code>&quot;\\tat&quot;</code> (tab character + <code>at</code>)</li>\n<li><code>&quot;Caused by: &quot;</code></li>\n<li><code>&quot;\\t... &lt;some number&gt; more&quot;</code> (these are the lines that indicate the number of frames in the stack not shown in a &quot;Caused by&quot; exception)</li>\n<li>An Exception name (and perhaps message) before the stack</li>\n</ol>\n<p>We want to get all of the above lines, so the grep expression is:</p>\n<pre><code>grep -P &quot;(WARN|ERROR|^\\tat |Exception|^Caused by: |\\t... \\d+ more)&quot;\n</code></pre>\n<p>It assumes an Exception class always contains the word <code>Exception</code> which may or may not be true, but this is quick-and-dirty after all.</p>\n<p>Adjust as necessary for your specific case.</p>\n"},{"comments":[{"owner":{"account_id":3852137,"reputation":5592,"user_id":3192021,"accept_rate":100,"display_name":"hzitoun"},"score":0,"creation_date":1502291310,"post_id":16146340,"comment_id":78148402,"body_markdown":"Your script is working great. However it would nicer to add the Date of the Exception.","body":"Your script is working great. However it would nicer to add the Date of the Exception."},{"owner":{"account_id":31227,"reputation":13715,"user_id":85615,"accept_rate":83,"display_name":"daniel kullmann"},"score":0,"creation_date":1503651456,"post_id":16146340,"comment_id":78713965,"body_markdown":"@Mitchapp do you have an example log file with dates?","body":"@Mitchapp do you have an example log file with dates?"}],"tags":[],"owner":{"account_id":31227,"reputation":13715,"user_id":85615,"accept_rate":83,"display_name":"daniel kullmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1366708297,"creation_date":1366631043,"answer_id":16146340,"question_id":6107700,"body_markdown":"I wrote a tool in Python. It manages to split two stack traces even if they come right after each other in the log.\r\n\r\n    #!/usr/bin/env python\r\n    #\r\n    # Extracts exceptions from log files.\r\n    #\r\n    \r\n    import sys\r\n    import re\r\n    from collections import defaultdict\r\n    \r\n    REGEX = re.compile(&quot;(^\\tat |^Caused by: |^\\t... \\\\d+ more)&quot;)\r\n    # Usually, all inner lines of a stack trace will be &quot;at&quot; or &quot;Caused by&quot; lines.\r\n    # With one exception: the line following a &quot;nested exception is&quot; line does not\r\n    # follow that convention. Due to that, this line is handled separately.\r\n    CONT = re.compile(&quot;; nested exception is: *$&quot;)\r\n    \r\n    exceptions = defaultdict(int)\r\n    \r\n    def registerException(exc):\r\n      exceptions[exc] += 1\r\n    \r\n    def processFile(fileName):\r\n      with open(fileName, &quot;r&quot;) as fh:\r\n        currentMatch = None\r\n        lastLine = None\r\n        addNextLine = False\r\n        for line in fh.readlines():\r\n          if addNextLine and currentMatch != None:\r\n            addNextLine = False\r\n            currentMatch += line\r\n            continue\r\n          match = REGEX.search(line) != None\r\n          if match and currentMatch != None:\r\n            currentMatch += line\r\n          elif match:\r\n            currentMatch = lastLine + line\r\n          else:\r\n            if currentMatch != None:\r\n              registerException(currentMatch)\r\n            currentMatch = None\r\n          lastLine = line\r\n          addNextLine = CONT.search(line) != None\r\n        # If last line in file was a stack trace\r\n        if currentMatch != None:\r\n          registerException(currentMatch)\r\n    \r\n    for f in sys.argv[1:]:\r\n      processFile(f)\r\n    \r\n    for item in sorted(exceptions.items(), key=lambda e: e[1], reverse=True):\r\n      print item[1], &quot;:&quot;, item[0]\r\n","title":"Tool to extract java stack traces from log files","body":"<p>I wrote a tool in Python. It manages to split two stack traces even if they come right after each other in the log.</p>\n\n<pre><code>#!/usr/bin/env python\n#\n# Extracts exceptions from log files.\n#\n\nimport sys\nimport re\nfrom collections import defaultdict\n\nREGEX = re.compile(\"(^\\tat |^Caused by: |^\\t... \\\\d+ more)\")\n# Usually, all inner lines of a stack trace will be \"at\" or \"Caused by\" lines.\n# With one exception: the line following a \"nested exception is\" line does not\n# follow that convention. Due to that, this line is handled separately.\nCONT = re.compile(\"; nested exception is: *$\")\n\nexceptions = defaultdict(int)\n\ndef registerException(exc):\n  exceptions[exc] += 1\n\ndef processFile(fileName):\n  with open(fileName, \"r\") as fh:\n    currentMatch = None\n    lastLine = None\n    addNextLine = False\n    for line in fh.readlines():\n      if addNextLine and currentMatch != None:\n        addNextLine = False\n        currentMatch += line\n        continue\n      match = REGEX.search(line) != None\n      if match and currentMatch != None:\n        currentMatch += line\n      elif match:\n        currentMatch = lastLine + line\n      else:\n        if currentMatch != None:\n          registerException(currentMatch)\n        currentMatch = None\n      lastLine = line\n      addNextLine = CONT.search(line) != None\n    # If last line in file was a stack trace\n    if currentMatch != None:\n      registerException(currentMatch)\n\nfor f in sys.argv[1:]:\n  processFile(f)\n\nfor item in sorted(exceptions.items(), key=lambda e: e[1], reverse=True):\n  print item[1], \":\", item[0]\n</code></pre>\n"}],"owner":{"account_id":54418,"reputation":20355,"user_id":162792,"accept_rate":100,"display_name":"Andrey Adamovich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16565,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"closed_date":1523756982,"accepted_answer_id":6140281,"answer_count":5,"score":26,"last_activity_date":1667835712,"creation_date":1306225895,"question_id":6107700,"body_markdown":"Is there any tool that can extract a list of stack traces appearing in the log file and probably count unique ones? \r\n\r\n*EDIT*: I would preffer something that is not GUI-based and be run on the background and give some kind of report back. I have quite many logs gathered from several environments and just would like to get quick overview.","title":"Tool to extract java stack traces from log files","body":"<p>Is there any tool that can extract a list of stack traces appearing in the log file and probably count unique ones? </p>\n\n<p><em>EDIT</em>: I would preffer something that is not GUI-based and be run on the background and give some kind of report back. I have quite many logs gathered from several environments and just would like to get quick overview.</p>\n"},{"tags":["java","unix","exception","grep","stack-trace"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1455784108,"post_id":34788252,"comment_id":58646791,"body_markdown":"`grep` is not the right tool for extracting blocks of text. You might find `awk` easier for this task.","body":"<code>grep</code> is not the right tool for extracting blocks of text. You might find <code>awk</code> easier for this task."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1493058068,"post_id":34788252,"comment_id":74240098,"body_markdown":"Possible duplicate of [Tool to extract java stack traces from log files](http://stackoverflow.com/questions/6107700/tool-to-extract-java-stack-traces-from-log-files)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6107700/tool-to-extract-java-stack-traces-from-log-files\">Tool to extract java stack traces from log files</a>"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1540390768,"post_id":34788252,"comment_id":92848976,"body_markdown":"Someone correct me if I&#39;m wrong, but it&#39;s impossible with grep because grep works on per-line basis? And stack trace has multi-line signature.","body":"Someone correct me if I&#39;m wrong, but it&#39;s impossible with grep because grep works on per-line basis? And stack trace has multi-line signature."}],"answers":[{"tags":[],"owner":{"account_id":1365444,"reputation":82197,"user_id":1301972,"accept_rate":76,"display_name":"Todd A. Jacobs"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1455769148,"creation_date":1455768406,"answer_id":35472649,"question_id":34788252,"body_markdown":"## Use Context for Fixed-Length Traces\r\nIn your original post, you show a single three-line entry. If you know that each exception message with a stack trace is exactly three lines long, then you can use one of the `--after-context` flags (if supported by your grep) to get all three lines. For example, to pull all exceptions along with the stack trace:\r\n\r\n    $ fgrep -A2 &#39;Exception message&#39; SystemOut.log\r\n    [1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\r\n    at com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\r\n    at com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\r\n\r\n## Use Multi-Line Expressions for Variable-Length Stack Traces\r\nHowever, if you don&#39;t know how many lines are in the stack trace, then you need a multiline regex with a stop-pattern. For this, you need a grep with the Perl-compatible regular expression (PCRE) library compiled in. For example, with `grep -PM` or `pcregrep -M`:\r\n\r\n    $ pcregrep -M &#39;Exception message[^\\[]+&#39; SystemOut.log\r\n    [1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\r\n    at com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\r\n    at com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\r\n\r\nThis will print each line with an exception, using the square bracket that starts a new timestamp as the stop-pattern. You can certainly adjust the regular expression to suit your needs, or pipe the results to another grep to filter specific timestamps in or out.\r\n\r\nThis worked for me given the corpus you originally posted. Your mileage may vary.","title":"How can I capture Java exceptions, including the stack trace, from a log file using grep?","body":"<h2>Use Context for Fixed-Length Traces</h2>\n\n<p>In your original post, you show a single three-line entry. If you know that each exception message with a stack trace is exactly three lines long, then you can use one of the <code>--after-context</code> flags (if supported by your grep) to get all three lines. For example, to pull all exceptions along with the stack trace:</p>\n\n<pre><code>$ fgrep -A2 'Exception message' SystemOut.log\n[1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\nat com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\nat com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\n</code></pre>\n\n<h2>Use Multi-Line Expressions for Variable-Length Stack Traces</h2>\n\n<p>However, if you don't know how many lines are in the stack trace, then you need a multiline regex with a stop-pattern. For this, you need a grep with the Perl-compatible regular expression (PCRE) library compiled in. For example, with <code>grep -PM</code> or <code>pcregrep -M</code>:</p>\n\n<pre><code>$ pcregrep -M 'Exception message[^\\[]+' SystemOut.log\n[1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\nat com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\nat com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\n</code></pre>\n\n<p>This will print each line with an exception, using the square bracket that starts a new timestamp as the stop-pattern. You can certainly adjust the regular expression to suit your needs, or pipe the results to another grep to filter specific timestamps in or out.</p>\n\n<p>This worked for me given the corpus you originally posted. Your mileage may vary.</p>\n"},{"comments":[{"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"score":0,"creation_date":1574369895,"post_id":39372147,"comment_id":104219801,"body_markdown":"Yep, it operates line-by-line so feel free to pipe the output of tail through this expression...","body":"Yep, it operates line-by-line so feel free to pipe the output of tail through this expression..."}],"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1667835621,"creation_date":1473257263,"answer_id":39372147,"question_id":34788252,"body_markdown":"(From my answer here: https://stackoverflow.com/a/16064081/430128)\r\n\r\nHere is a quick-and-dirty grep expression... if you are using a logger such as log4j than the first line of the exception will generally contain `WARN` or `ERROR`, the next line will contain the Exception name, and optionally a message, and then the subsequent stack trace will begin with one of the following:\r\n\r\n 1. `&quot;\\tat&quot;` (tab character + `at`)\r\n 1. `&quot;Caused by: &quot;`\r\n 1. `&quot;\\t... &lt;some number&gt; more&quot;` (these are the lines that indicate the number of frames in the stack not shown in a &quot;Caused by&quot; exception)\r\n 1. An Exception name (and perhaps message) before the stack\r\n\r\nWe want to get all of the above lines, so the grep expression is:\r\n\r\n```\r\ngrep -P &quot;(WARN|ERROR|^\\tat |Exception|^Caused by: |\\t... \\d+ more)&quot;\r\n```\r\n\r\nIt assumes an Exception class always contains the word `Exception` which may or may not be true, but this is quick-and-dirty after all.\r\n\r\nAdjust as necessary for your specific case.","title":"How can I capture Java exceptions, including the stack trace, from a log file using grep?","body":"<p>(From my answer here: <a href=\"https://stackoverflow.com/a/16064081/430128\">https://stackoverflow.com/a/16064081/430128</a>)</p>\n<p>Here is a quick-and-dirty grep expression... if you are using a logger such as log4j than the first line of the exception will generally contain <code>WARN</code> or <code>ERROR</code>, the next line will contain the Exception name, and optionally a message, and then the subsequent stack trace will begin with one of the following:</p>\n<ol>\n<li><code>&quot;\\tat&quot;</code> (tab character + <code>at</code>)</li>\n<li><code>&quot;Caused by: &quot;</code></li>\n<li><code>&quot;\\t... &lt;some number&gt; more&quot;</code> (these are the lines that indicate the number of frames in the stack not shown in a &quot;Caused by&quot; exception)</li>\n<li>An Exception name (and perhaps message) before the stack</li>\n</ol>\n<p>We want to get all of the above lines, so the grep expression is:</p>\n<pre><code>grep -P &quot;(WARN|ERROR|^\\tat |Exception|^Caused by: |\\t... \\d+ more)&quot;\n</code></pre>\n<p>It assumes an Exception class always contains the word <code>Exception</code> which may or may not be true, but this is quick-and-dirty after all.</p>\n<p>Adjust as necessary for your specific case.</p>\n"}],"owner":{"account_id":1223079,"reputation":2261,"user_id":1189312,"accept_rate":0,"display_name":"Anil Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13275,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1667835621,"creation_date":1452770300,"question_id":34788252,"body_markdown":"\t\r\n## Summary\r\nI am trying to fetch logs from a log file using the grep command. However, I can match time stamps, but am not getting the full stack trace I need.\r\n\r\n## Log File Sample\r\n    [1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\r\n    at com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\r\n    at com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\r\n\r\n## What I&#39;ve Tried\r\nI am able to fetch log entries, but I want the stack trace as well. I&#39;ve tried:\r\n\r\n    $ grep -i &#39;^[[:space:]]*at&#39; --before-context=2 SystemOut.log |\r\n        grep &quot;1/13/16 7:[1-60]&quot; \r\n    [1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\r\n\r\nAny idea how this can be achieved?","title":"How can I capture Java exceptions, including the stack trace, from a log file using grep?","body":"<h2>Summary</h2>\n\n<p>I am trying to fetch logs from a log file using the grep command. However, I can match time stamps, but am not getting the full stack trace I need.</p>\n\n<h2>Log File Sample</h2>\n\n<pre><code>[1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\nat com.own.ws.wim.util.UniqueNameHelper.formatUniqueName(UniqueNameHelper.java:102)\nat com.own.ws.wim.ProfileManager.getImpl(ProfileManager.java:1569)\n</code></pre>\n\n<h2>What I've Tried</h2>\n\n<p>I am able to fetch log entries, but I want the stack trace as well. I've tried:</p>\n\n<pre><code>$ grep -i '^[[:space:]]*at' --before-context=2 SystemOut.log |\n    grep \"1/13/16 7:[1-60]\" \n[1/10/16 23:55:33:018 PST] 00000057 ServerObj E   SECJ0373E: Exception message\n</code></pre>\n\n<p>Any idea how this can be achieved?</p>\n"},{"tags":["java","android","lockscreen"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":1,"creation_date":1667835695,"post_id":74349160,"comment_id":131256687,"body_markdown":"Have you already tried [`FLAG_KEEP_SCREEN_ON`](https://developer.android.com/training/scheduling/wakelock#screen)?","body":"Have you already tried <a href=\"https://developer.android.com/training/scheduling/wakelock#screen\" rel=\"nofollow noreferrer\"><code>FLAG_KEEP_SCREEN_ON</code></a>?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667835701,"post_id":74349160,"comment_id":131256692,"body_markdown":"Add `android:keepScreenOn=&quot;true&quot;` to a widget in your layout.","body":"Add <code>android:keepScreenOn=&quot;true&quot;</code> to a widget in your layout."},{"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"score":0,"creation_date":1667836957,"post_id":74349160,"comment_id":131257173,"body_markdown":"Thank you for your comments, I tried @JeffBowman and it works. Write an answer if you want and I will mark it","body":"Thank you for your comments, I tried @JeffBowman and it works. Write an answer if you want and I will mark it"},{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1667842542,"post_id":74349160,"comment_id":131259249,"body_markdown":"Thank you Jon! I think this is a sufficient dupe, so I&#39;ll leave the answer closed.","body":"Thank you Jon! I think this is a sufficient dupe, so I&#39;ll leave the answer closed."}],"owner":{"account_id":5838339,"reputation":931,"user_id":4600693,"accept_rate":60,"display_name":"Jon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667835791,"answer_count":0,"score":0,"last_activity_date":1667835536,"creation_date":1667835536,"question_id":74349160,"body_markdown":"I am responsible for maintaining an Android application developed in Java. The client has requested a new functionality:\r\n\r\n- That the screen does not turn off, as Google maps does on the driving screen.\r\n\r\nThe development is done for a specific device with Android 9 and does not have any security mechanism configured to unlock the screen. Looking for the solution I have found that you have to use the methods [```setShowWhenLocked(boolean showWhenLocked)```][1] and [```setTurnScreenOn(boolean turnScreenOn)```][2] in the activities. I have created the following method:\r\n\r\n    public class ActivityUtils\r\n    {\r\n        public static void dontLockScreen(Activity activity)\r\n        {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1)\r\n            {\r\n                activity.setShowWhenLocked(true);\r\n                activity.setTurnScreenOn(true);\r\n                KeyguardManager keyguardManager = (KeyguardManager)activity.getSystemService(Context.KEYGUARD_SERVICE);\r\n                keyguardManager.requestDismissKeyguard(activity, null);\r\n            }\r\n        }\r\n    }\r\n\r\nThis code does not do what the client wants, since the screen turns off one minute after the last interaction (as configured in settings). In settings you can configure that the screen is locked, but what you want is to ignore this setting as navigation applications or video players do.\r\n\r\nDo you know what is the correct way to achieve this functionality?\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)\r\n  [2]: https://developer.android.com/reference/android/app/Activity#setTurnScreenOn(boolean)","title":"Don&#39;t lock the screen (like google maps does)","body":"<p>I am responsible for maintaining an Android application developed in Java. The client has requested a new functionality:</p>\n<ul>\n<li>That the screen does not turn off, as Google maps does on the driving screen.</li>\n</ul>\n<p>The development is done for a specific device with Android 9 and does not have any security mechanism configured to unlock the screen. Looking for the solution I have found that you have to use the methods <a href=\"https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)\" rel=\"nofollow noreferrer\"><code>setShowWhenLocked(boolean showWhenLocked)</code></a> and <a href=\"https://developer.android.com/reference/android/app/Activity#setTurnScreenOn(boolean)\" rel=\"nofollow noreferrer\"><code>setTurnScreenOn(boolean turnScreenOn)</code></a> in the activities. I have created the following method:</p>\n<pre><code>public class ActivityUtils\n{\n    public static void dontLockScreen(Activity activity)\n    {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1)\n        {\n            activity.setShowWhenLocked(true);\n            activity.setTurnScreenOn(true);\n            KeyguardManager keyguardManager = (KeyguardManager)activity.getSystemService(Context.KEYGUARD_SERVICE);\n            keyguardManager.requestDismissKeyguard(activity, null);\n        }\n    }\n}\n</code></pre>\n<p>This code does not do what the client wants, since the screen turns off one minute after the last interaction (as configured in settings). In settings you can configure that the screen is locked, but what you want is to ignore this setting as navigation applications or video players do.</p>\n<p>Do you know what is the correct way to achieve this functionality?</p>\n"},{"tags":["java","arrays","rotation"],"comments":[{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":1,"creation_date":1414505151,"post_id":26610309,"comment_id":41832541,"body_markdown":"Modulo is your friend.","body":"Modulo is your friend."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1525115428,"post_id":26610309,"comment_id":87230716,"body_markdown":"`x &lt; array.length` is cleaner and more conventional than `x &lt;= array.length-1`.","body":"<code>x &lt; array.length</code> is cleaner and more conventional than <code>x &lt;= array.length-1</code>."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1593076031,"post_id":26610309,"comment_id":110654516,"body_markdown":"The way you are doing it will overwrite some values of the array. You really should write into a new array.","body":"The way you are doing it will overwrite some values of the array. You really should write into a new array."}],"answers":[{"comments":[{"owner":{"account_id":2799849,"reputation":2423,"user_id":2408270,"accept_rate":61,"display_name":"void"},"score":0,"creation_date":1510323654,"post_id":26610358,"comment_id":81399578,"body_markdown":"Is there a better way without having to use the extra temp memory (variable newArray) ?","body":"Is there a better way without having to use the extra temp memory (variable newArray) ?"},{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":1,"creation_date":1510325230,"post_id":26610358,"comment_id":81400613,"body_markdown":"@void I guess you will at least need one variable to store some temporary values. It should be possible, but the code would get much more complicated.","body":"@void I guess you will at least need one variable to store some temporary values. It should be possible, but the code would get much more complicated."},{"owner":{"account_id":7423414,"reputation":406,"user_id":5646852,"accept_rate":88,"display_name":"AgentM"},"score":0,"creation_date":1577049076,"post_id":26610358,"comment_id":105078714,"body_markdown":"Also, the algorithm won&#39;t be O(n), but O(n*k), because you need to swap out into the temporary variable all the time, it&#39;s called bubble rotate or something, similar to bubble sort. O(1) space, O(n*k) time.","body":"Also, the algorithm won&#39;t be O(n), but O(n<i>k), because you need to swap out into the temporary variable all the time, it&#39;s called bubble rotate or something, similar to bubble sort. O(1) space, O(n</i>k) time."},{"owner":{"account_id":7423414,"reputation":406,"user_id":5646852,"accept_rate":88,"display_name":"AgentM"},"score":0,"creation_date":1577049364,"post_id":26610358,"comment_id":105078755,"body_markdown":"What if we plug in a negative value for a, though? Wouldn&#39;t the modulo operator create negative numbers as an index?\ni.e. (0 + -1) % 3 would be -1, and indexing at -1 would cause an IndexOutOfBoundsException","body":"What if we plug in a negative value for a, though? Wouldn&#39;t the modulo operator create negative numbers as an index? i.e. (0 + -1) % 3 would be -1, and indexing at -1 would cause an IndexOutOfBoundsException"},{"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"score":0,"creation_date":1577086370,"post_id":26610358,"comment_id":105085301,"body_markdown":"@AgentM You&#39;re right. In such cases you should use the fact that the result of a rotation by `a` is the same as as using `array.length + a`. Using that fact, you can transform your `a` to a positive int before the for loop.","body":"@AgentM You&#39;re right. In such cases you should use the fact that the result of a rotation by <code>a</code> is the same as as using <code>array.length + a</code>. Using that fact, you can transform your <code>a</code> to a positive int before the for loop."},{"owner":{"account_id":4255943,"reputation":398,"user_id":3481644,"accept_rate":50,"display_name":"user3481644"},"score":0,"creation_date":1635968923,"post_id":26610358,"comment_id":123436547,"body_markdown":"The OP question was to rotate the array, not create a rotated copy.","body":"The OP question was to rotate the array, not create a rotated copy."}],"tags":[],"owner":{"account_id":1198635,"reputation":72902,"user_id":1169798,"accept_rate":56,"display_name":"Sirko"},"comment_count":6,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1454961772,"creation_date":1414505093,"answer_id":26610358,"question_id":26610309,"body_markdown":"Add a modulo array length to your code:\r\n\r\n    // create a newArray before of the same size as array\r\n    \r\n    // copy\r\n    for(int x = 0; x &lt;= array.length-1; x++){\r\n      newArray[(x+a) % array.length ] = array[x];\r\n    }\r\n\r\nYou should also create a new `Array` to copy to, so you do not overwrite values, that you&#39;ll need later on.","title":"Java - Rotating array","body":"<p>Add a modulo array length to your code:</p>\n\n<pre><code>// create a newArray before of the same size as array\n\n// copy\nfor(int x = 0; x &lt;= array.length-1; x++){\n  newArray[(x+a) % array.length ] = array[x];\n}\n</code></pre>\n\n<p>You should also create a new <code>Array</code> to copy to, so you do not overwrite values, that you'll need later on.</p>\n"},{"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1414505392,"creation_date":1414505392,"answer_id":26610474,"question_id":26610309,"body_markdown":"In case you don&#39;t want to reinvent the wheel (maybe it&#39;s an exercise but it can be good to know), you can use `Collections.rotate`. \r\n\r\nBe aware that it requires an array of objects, not primitive data type (otherwise you&#39;ll swap arrays themselves in the list). \r\n\r\n\r\n    Integer[] arr = {0,1,2,3,4};\r\n    Collections.rotate(Arrays.asList(arr), 2);\r\n    System.out.println(Arrays.toString(arr)); //[3, 4, 0, 1, 2]","title":"Java - Rotating array","body":"<p>In case you don't want to reinvent the wheel (maybe it's an exercise but it can be good to know), you can use <code>Collections.rotate</code>. </p>\n\n<p>Be aware that it requires an array of objects, not primitive data type (otherwise you'll swap arrays themselves in the list). </p>\n\n<pre><code>Integer[] arr = {0,1,2,3,4};\nCollections.rotate(Arrays.asList(arr), 2);\nSystem.out.println(Arrays.toString(arr)); //[3, 4, 0, 1, 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71527,"reputation":1523,"user_id":206883,"display_name":"ponomandr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414506275,"creation_date":1414505862,"answer_id":26610649,"question_id":26610309,"body_markdown":"I think the fastest way would be using [System.arrayCopy()][1] which is native method:\r\n\r\n    int[] tmp = new int[a];\r\n    System.arraycopy(array, array.length - a, tmp, 0, a);\r\n    System.arraycopy(array, 0, array, a, array.length - a);\r\n    System.arraycopy(tmp, 0, array, 0, a);\r\n\r\nIt also reuses existing array. It may be beneficial in some cases. \r\nAnd the last benefit is the temporary array size is less than original array. So you can reduce memory usage when `a` is small.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)","title":"Java - Rotating array","body":"<p>I think the fastest way would be using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy(java.lang.Object,%20int,%20java.lang.Object,%20int,%20int)\" rel=\"nofollow\">System.arrayCopy()</a> which is native method:</p>\n\n<pre><code>int[] tmp = new int[a];\nSystem.arraycopy(array, array.length - a, tmp, 0, a);\nSystem.arraycopy(array, 0, array, a, array.length - a);\nSystem.arraycopy(tmp, 0, array, 0, a);\n</code></pre>\n\n<p>It also reuses existing array. It may be beneficial in some cases. \nAnd the last benefit is the temporary array size is less than original array. So you can reduce memory usage when <code>a</code> is small.</p>\n"},{"tags":[],"owner":{"account_id":4666367,"reputation":1173,"user_id":3805638,"display_name":"dusky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414505974,"creation_date":1414505974,"answer_id":26610682,"question_id":26610309,"body_markdown":"Another way is copying with [System.arraycopy](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29).\r\n\r\n        int[] temp = new int[array.length];\r\n        System.arraycopy(array, 0, temp, a, array.length - a);\r\n        System.arraycopy(array, array.length-a, temp, 0, a);","title":"Java - Rotating array","body":"<p>Another way is copying with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html#arraycopy%28java.lang.Object,%20int,%20java.lang.Object,%20int,%20int%29\" rel=\"nofollow\">System.arraycopy</a>.</p>\n\n<pre><code>    int[] temp = new int[array.length];\n    System.arraycopy(array, 0, temp, a, array.length - a);\n    System.arraycopy(array, array.length-a, temp, 0, a);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"score":0,"creation_date":1493847672,"post_id":35187188,"comment_id":74582351,"body_markdown":"Complexity of this method will be O(2n). NOt impressive","body":"Complexity of this method will be O(2n). NOt impressive"},{"owner":{"account_id":479408,"reputation":8544,"user_id":892055,"accept_rate":87,"display_name":"Arif Nadeem"},"score":0,"creation_date":1524044679,"post_id":35187188,"comment_id":86808081,"body_markdown":"Clever approach, however I am afraid that this algorithm would be inefficient for large Array&#39;s as the time complexity is 3 * O(n). \n\nSystem.arraycopy() on the other hand is a native method which will copy elements at memory level, it should be faster for cases where your Array is large.","body":"Clever approach, however I am afraid that this algorithm would be inefficient for large Array&#39;s as the time complexity is 3 * O(n).   System.arraycopy() on the other hand is a native method which will copy elements at memory level, it should be faster for cases where your Array is large."},{"owner":{"account_id":5790846,"reputation":1852,"user_id":4568373,"display_name":"ThePatelGuy"},"score":1,"creation_date":1525115043,"post_id":35187188,"comment_id":87230550,"body_markdown":"The goal of this answer was to provide a solution that doesn&#39;t use extra space, I should have been clear in the answer itself. (Editing it).\n\n@Ekansh Well, I could be wrong but it seems to me the reversal of an array would have the effective time complexity of O(N), which the best you can get to rotate the array as there can not be a solution with O(1).\n\nArif as per my knowledge 3*O(N) is still O(N). And System.arraycopy() also has the same time complexity of O(N).","body":"The goal of this answer was to provide a solution that doesn&#39;t use extra space, I should have been clear in the answer itself. (Editing it).  @Ekansh Well, I could be wrong but it seems to me the reversal of an array would have the effective time complexity of O(N), which the best you can get to rotate the array as there can not be a solution with O(1).  Arif as per my knowledge 3*O(N) is still O(N). And System.arraycopy() also has the same time complexity of O(N)."},{"owner":{"account_id":12633381,"reputation":449,"user_id":9183844,"display_name":"dos4dev"},"score":0,"creation_date":1593407049,"post_id":35187188,"comment_id":110759018,"body_markdown":"@ThePatelGuy you have great answer, but I made simple update and now algorithm works as I need  1) reverse(nums, 0, nums.length - 1);\n2) reverse(nums, 0, nums.length - k - 1);\n3) reverse(nums, nums.length - k, nums.length - 1);","body":"@ThePatelGuy you have great answer, but I made simple update and now algorithm works as I need  1) reverse(nums, 0, nums.length - 1); 2) reverse(nums, 0, nums.length - k - 1); 3) reverse(nums, nums.length - k, nums.length - 1);"},{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1667818066,"post_id":35187188,"comment_id":131250175,"body_markdown":"Comments about O(N) times a constant reveal low understanding of the asymptotic notation. In addition, the factor 3 is plain wrong (only 2 moves are performed per element).","body":"Comments about O(N) times a constant reveal low understanding of the asymptotic notation. In addition, the factor 3 is plain wrong (only 2 moves are performed per element)."}],"tags":[],"owner":{"account_id":5790846,"reputation":1852,"user_id":4568373,"display_name":"ThePatelGuy"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1561056638,"creation_date":1454531791,"answer_id":35187188,"question_id":26610309,"body_markdown":"Arraycopy is an expensive operation, both time and memory wise.\r\nFollowing would be an efficient way to rotate array without using extra space (unlike the accepted answer where a new array is created of the same size).\r\n\r\n    public void rotate(int[] nums, int k) { // k = 2\r\n        k %= nums.length;\r\n        // {0,1,2,3,4}\r\n        \r\n        reverse(nums, 0, nums.length - 1); // Reverse the whole Array\r\n        // {4,3,2,1,0}\r\n        \r\n        reverse(nums, 0, k - 1); // Reverse first part (4,3 -&gt; 3,4)\r\n        // {3,4,2,1,0}\r\n        \r\n        reverse(nums, k, nums.length - 1); //Reverse second part (2,1,0 -&gt; 0,1,2)\r\n        // {3,4,0,1,2}\r\n    }\r\n    \r\n    public void reverse(int[] nums, int start, int end) {\r\n        while (start &lt; end) {\r\n            int temp = nums[start];\r\n            nums[start] = nums[end];\r\n            nums[end] = temp;\r\n            start++;\r\n            end--;\r\n        }\r\n    }","title":"Java - Rotating array","body":"<p>Arraycopy is an expensive operation, both time and memory wise.\nFollowing would be an efficient way to rotate array without using extra space (unlike the accepted answer where a new array is created of the same size).</p>\n\n<pre><code>public void rotate(int[] nums, int k) { // k = 2\n    k %= nums.length;\n    // {0,1,2,3,4}\n\n    reverse(nums, 0, nums.length - 1); // Reverse the whole Array\n    // {4,3,2,1,0}\n\n    reverse(nums, 0, k - 1); // Reverse first part (4,3 -&gt; 3,4)\n    // {3,4,2,1,0}\n\n    reverse(nums, k, nums.length - 1); //Reverse second part (2,1,0 -&gt; 0,1,2)\n    // {3,4,0,1,2}\n}\n\npublic void reverse(int[] nums, int start, int end) {\n    while (start &lt; end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4760343,"reputation":378,"user_id":3847870,"accept_rate":80,"display_name":"user3847870"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501478338,"creation_date":1484046263,"answer_id":41567290,"question_id":26610309,"body_markdown":"Question : https://www.hackerrank.com/challenges/ctci-array-left-rotation  \r\nSolution :\r\nThis is how I tried arrayLeftRotation method with complexity o(n) \r\n\r\n - looping once from k index to (length-1 ) \r\n - 2nd time for 0 to kth index  \r\n    \r\n    public static int[] arrayLeftRotation(int[] a, int n, int k) {  \r\n        int[] resultArray = new int[n];  \r\n        int arrayIndex = 0;  \r\n        //first n-k indexes will be populated in this loop  \r\n        for(int i = k ; i &lt;n ; i++){   \r\n            resultArray[arrayIndex] = a[i];  \r\n            arrayIndex++;  \r\n        }  \r\n        // 2nd k indexes will be populated in this loop  \r\n        for(int j=arrayIndex ; j&lt;(arrayIndex+k); j++){  \r\n            resultArray[j]=a[j-(n-k)];  \r\n        }  \r\n        return resultArray;  \r\n    }  ","title":"Java - Rotating array","body":"<p>Question : <a href=\"https://www.hackerrank.com/challenges/ctci-array-left-rotation\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/ctci-array-left-rotation</a><br>\nSolution :\nThis is how I tried arrayLeftRotation method with complexity o(n) </p>\n\n<ul>\n<li>looping once from k index to (length-1 ) </li>\n<li><p>2nd time for 0 to kth index  </p>\n\n<p>public static int[] arrayLeftRotation(int[] a, int n, int k) {<br>\n    int[] resultArray = new int[n];<br>\n    int arrayIndex = 0;<br>\n    //first n-k indexes will be populated in this loop<br>\n    for(int i = k ; i \n        resultArray[arrayIndex] = a[i];<br>\n        arrayIndex++;<br>\n    }<br>\n    // 2nd k indexes will be populated in this loop<br>\n    for(int j=arrayIndex ; j&lt;(arrayIndex+k); j++){<br>\n        resultArray[j]=a[j-(n-k)];<br>\n    }<br>\n    return resultArray;<br>\n}  </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488173411,"creation_date":1488173411,"answer_id":42478398,"question_id":26610309,"body_markdown":"Java solution wrapped in a method:\r\n\r\n    public static int[] rotate(final int[] array, final int rIndex) {\r\n        if (array == null || array.length &lt;= 1) {\r\n            return new int[0];\r\n        }\r\n\r\n        final int[] result = new int[array.length];\r\n        final int arrayLength = array.length;\r\n\r\n        for (int i = 0; i &lt; arrayLength; i++) {\r\n            int nIndex = (i + rIndex) % arrayLength;\r\n            result[nIndex] = array[i];\r\n        }\r\n        return result;\r\n    }","title":"Java - Rotating array","body":"<p>Java solution wrapped in a method:</p>\n\n<pre><code>public static int[] rotate(final int[] array, final int rIndex) {\n    if (array == null || array.length &lt;= 1) {\n        return new int[0];\n    }\n\n    final int[] result = new int[array.length];\n    final int arrayLength = array.length;\n\n    for (int i = 0; i &lt; arrayLength; i++) {\n        int nIndex = (i + rIndex) % arrayLength;\n        result[nIndex] = array[i];\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529153,"reputation":17,"user_id":5718049,"display_name":"manishkummar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497158019,"creation_date":1497156072,"answer_id":44480428,"question_id":26610309,"body_markdown":"For Left Rotate its very simple\r\n\r\nTake the difference between length of the array and number of position to shift.\r\n\r\nFor Example\r\n\r\n    int k = 2;\r\n    int n = 5;\r\n\r\n    int diff = n - k;\r\n\r\n    int[] array = {1, 2, 3, 4, 5};\r\n    int[] result = new int[array.length];\r\n    System.arraycopy(array, 0, result, diff, k);\r\n    System.arraycopy(array, k, result, 0, diff);\r\n\r\n\r\n// print the output ","title":"Java - Rotating array","body":"<p>For Left Rotate its very simple</p>\n\n<p>Take the difference between length of the array and number of position to shift.</p>\n\n<p>For Example</p>\n\n<pre><code>int k = 2;\nint n = 5;\n\nint diff = n - k;\n\nint[] array = {1, 2, 3, 4, 5};\nint[] result = new int[array.length];\nSystem.arraycopy(array, 0, result, diff, k);\nSystem.arraycopy(array, k, result, 0, diff);\n</code></pre>\n\n<p>// print the output </p>\n"},{"tags":[],"owner":{"account_id":9668806,"reputation":67,"user_id":7174493,"display_name":"Yuvaraj Ram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518604355,"creation_date":1518604301,"answer_id":48784951,"question_id":26610309,"body_markdown":"    package com.array.orderstatistics;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ArrayRotation {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\tint n = scan.nextInt();\r\n    \t\tint r = scan.nextInt();\r\n    \t\tint[] a = new int[n];\r\n    \t\tint[] b = new int[n];\r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\ta[i] = scan.nextInt();\r\n    \t\t}\r\n    \t\tscan.close();\r\n    \r\n    \t\tif (r % n == 0) {\r\n    \t\t\tprintOriginalArray(a);\r\n    \t\t} else {\r\n    \t\t\tr = r % n;\r\n    \t\t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\t\tb[i] = a[(i + r) &lt; n ? (i + r) : ((i + r) - n)];\r\n    \t\t\t\tSystem.out.print(b[i] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void printOriginalArray(int[] a) {\r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\tSystem.out.print(a[i] + &quot; &quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java - Rotating array","body":"<pre><code>package com.array.orderstatistics;\n\nimport java.util.Scanner;\n\npublic class ArrayRotation {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int n = scan.nextInt();\n        int r = scan.nextInt();\n        int[] a = new int[n];\n        int[] b = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            a[i] = scan.nextInt();\n        }\n        scan.close();\n\n        if (r % n == 0) {\n            printOriginalArray(a);\n        } else {\n            r = r % n;\n            for (int i = 0; i &lt; n; i++) {\n                b[i] = a[(i + r) &lt; n ? (i + r) : ((i + r) - n)];\n                System.out.print(b[i] + \" \");\n            }\n        }\n    }\n\n    private static void printOriginalArray(int[] a) {\n        for (int i = 0; i &lt; a.length; i++) {\n            System.out.print(a[i] + \" \");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532882987,"creation_date":1532882987,"answer_id":51582500,"question_id":26610309,"body_markdown":"Question : Rotate array given a specific distance .\r\nMethod 1 : \r\nTurn the int array to ArrayList. Then use Collections.rotate(list,distance).\r\n\r\n\r\n\r\n    class test1 {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint[] a = { 1, 2, 3, 4, 5, 6 };\r\n    \r\n    \t\tList&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\r\n    \r\n    \t\tCollections.rotate(list, 3);\r\n    \t\tSystem.out.println(list);//[4, 5, 6, 1, 2, 3]\r\n    \r\n    \t}// main\r\n    }\r\n\r\n\r\n","title":"Java - Rotating array","body":"<p>Question : Rotate array given a specific distance .\nMethod 1 : \nTurn the int array to ArrayList. Then use Collections.rotate(list,distance).</p>\n\n<pre><code>class test1 {\n    public static void main(String[] args) {\n\n        int[] a = { 1, 2, 3, 4, 5, 6 };\n\n        List&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\n\n        Collections.rotate(list, 3);\n        System.out.println(list);//[4, 5, 6, 1, 2, 3]\n\n    }// main\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6307038,"reputation":59,"user_id":7222496,"accept_rate":80,"display_name":"Vlad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545433409,"creation_date":1545424343,"answer_id":53890504,"question_id":26610309,"body_markdown":"Time Complexity = O(n)\r\n\r\nSpace Complexity = O(1)\r\n\r\n\r\nThe algorithm starts with the first element of the array (newValue) and places it at its position after the rotation (newIndex). The element that was at the newIndex becomes oldValue. After that, oldValue and newValue are swapped.\r\n\r\nThis procedure repeats length times.\r\n\r\nThe algorithm basically bounces around the array placing each element at its new position.\r\n\r\n    unsigned int computeIndex(unsigned int len, unsigned int oldIndex, unsigned int times) {\r\n        unsigned int rot = times % len;\r\n        unsigned int forward = len - rot;\r\n\r\n        // return (oldIndex + rot) % len; // rotating to the right\r\n        return (oldIndex + forward) % len; // rotating to the left\r\n    }\r\n\r\n    void fastArrayRotation(unsigned short *arr, unsigned int len, unsigned int rotation) {\r\n        unsigned int times = rotation % len, oldIndex, newIndex, length = len;\r\n        unsigned int setIndex = 0;\r\n        unsigned short newValue, oldValue, tmp;\r\n\r\n        if (times == 0) {\r\n            return;\r\n        }\r\n\r\n        while (length &gt; 0) {\r\n            oldIndex = setIndex;\r\n            newValue = arr[oldIndex];\r\n            while (1) {\r\n                newIndex = computeIndex(len, oldIndex, times);\r\n                oldValue = arr[newIndex];\r\n                arr[newIndex] = newValue;\r\n\r\n                length--;\r\n\r\n                if (newIndex == setIndex) { // if the set has ended (loop detected)\r\n                    break;\r\n                }\r\n\r\n                tmp = newValue;\r\n                newValue = oldValue;\r\n                oldValue = tmp;\r\n\r\n                oldIndex = newIndex;\r\n            }\r\n            setIndex++;\r\n        }\r\n    }","title":"Java - Rotating array","body":"<p>Time Complexity = O(n)</p>\n\n<p>Space Complexity = O(1)</p>\n\n<p>The algorithm starts with the first element of the array (newValue) and places it at its position after the rotation (newIndex). The element that was at the newIndex becomes oldValue. After that, oldValue and newValue are swapped.</p>\n\n<p>This procedure repeats length times.</p>\n\n<p>The algorithm basically bounces around the array placing each element at its new position.</p>\n\n<pre><code>unsigned int computeIndex(unsigned int len, unsigned int oldIndex, unsigned int times) {\n    unsigned int rot = times % len;\n    unsigned int forward = len - rot;\n\n    // return (oldIndex + rot) % len; // rotating to the right\n    return (oldIndex + forward) % len; // rotating to the left\n}\n\nvoid fastArrayRotation(unsigned short *arr, unsigned int len, unsigned int rotation) {\n    unsigned int times = rotation % len, oldIndex, newIndex, length = len;\n    unsigned int setIndex = 0;\n    unsigned short newValue, oldValue, tmp;\n\n    if (times == 0) {\n        return;\n    }\n\n    while (length &gt; 0) {\n        oldIndex = setIndex;\n        newValue = arr[oldIndex];\n        while (1) {\n            newIndex = computeIndex(len, oldIndex, times);\n            oldValue = arr[newIndex];\n            arr[newIndex] = newValue;\n\n            length--;\n\n            if (newIndex == setIndex) { // if the set has ended (loop detected)\n                break;\n            }\n\n            tmp = newValue;\n            newValue = oldValue;\n            oldValue = tmp;\n\n            oldIndex = newIndex;\n        }\n        setIndex++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1913170,"reputation":19646,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593075876,"creation_date":1593075876,"answer_id":62571721,"question_id":26610309,"body_markdown":"    int[] rotate(int[] array, int r) {\r\n        final int[] out = new int[array.length];\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            out[i] = (i &lt; r - 1) ? array[(i + r) % array.length] : array[(i + r) % array.length];\r\n        }\r\n        return out;\r\n    }","title":"Java - Rotating array","body":"<pre><code>int[] rotate(int[] array, int r) {\n    final int[] out = new int[array.length];\n    for (int i = 0; i &lt; array.length; i++) {\n        out[i] = (i &lt; r - 1) ? array[(i + r) % array.length] : array[(i + r) % array.length];\n    }\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5623518,"reputation":67,"user_id":4452611,"display_name":"rbsomeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596488889,"creation_date":1596488889,"answer_id":63236982,"question_id":26610309,"body_markdown":"Following routine rotates an array in java:\r\n\r\n\r\n```\r\npublic static int[] rotateArray(int[] array, int k){\r\n\tint to_move = k % array.length;\r\n\tif(to_move == 0)\r\n\t  return array;\r\n\tfor(int i=0; i&lt; to_move; i++){\r\n\t  int temp = array[array.length-1];\r\n\t  int j=array.length-1;\r\n\t  while(j &gt; 0){\r\n\t\tarray[j] = array[--j];\r\n\t  }\r\n\t  array[0] = temp;\r\n\t}\r\n\treturn array;\r\n }\r\n```","title":"Java - Rotating array","body":"<p>Following routine rotates an array in java:</p>\n<pre><code>public static int[] rotateArray(int[] array, int k){\n    int to_move = k % array.length;\n    if(to_move == 0)\n      return array;\n    for(int i=0; i&lt; to_move; i++){\n      int temp = array[array.length-1];\n      int j=array.length-1;\n      while(j &gt; 0){\n        array[j] = array[--j];\n      }\n      array[0] = temp;\n    }\n    return array;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20828346,"reputation":11,"user_id":15298263,"display_name":"Das Crova"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614473034,"creation_date":1614464934,"answer_id":66404042,"question_id":26610309,"body_markdown":"The following rotate method will behave exactly the same as the rotate method from the Collections class used in combination with the subList method from the List interface, i.e. rotate  (n, fromIndex, toIndex, dist)  where n is an array of ints will give the same result as Collections.rotate (Arrays.asList (n).subList (fromIndex, toIndex), dist) where n is an array of Integers.\r\n\r\nFirst create a swap method:\r\n\r\n    public static void swap (int[] n, int i, int j){\r\n\r\n       int tmp = n[i];\r\n       n[i] = n[j];\r\n       n[j] = tmp;\r\n    }\r\n\r\nThen create the rotate method:\r\n\r\n    public static void rotate (int[] n, int fromIndex, int toIndex, \r\n    int dist){\r\n\r\n       if(fromIndex &gt; toIndex)\r\n\r\n          throw new IllegalArgumentException (&quot;fromIndex (&quot; + \r\n             fromIndex + &quot;) &gt; toIndex (&quot; + toIndex + &quot;)&quot;);\r\n\r\n       if (fromIndex &lt; toIndex){\r\n\r\n          int region = toIndex - fromIndex;\r\n          int index;\r\n\r\n          for (int i = 0; i &lt; dist % region + ((dist &lt; 0) ? region : 0); \r\n                  i++){\r\n\r\n             index = toIndex - 1;\r\n         \r\n             while (index &gt; fromIndex)\r\n\r\n                swap (n, index, --index);\r\n           }\r\n       }\r\n    }","title":"Java - Rotating array","body":"<p>The following rotate method will behave exactly the same as the rotate method from the Collections class used in combination with the subList method from the List interface, i.e. rotate  (n, fromIndex, toIndex, dist)  where n is an array of ints will give the same result as Collections.rotate (Arrays.asList (n).subList (fromIndex, toIndex), dist) where n is an array of Integers.</p>\n<p>First create a swap method:</p>\n<pre><code>public static void swap (int[] n, int i, int j){\n\n   int tmp = n[i];\n   n[i] = n[j];\n   n[j] = tmp;\n}\n</code></pre>\n<p>Then create the rotate method:</p>\n<pre><code>public static void rotate (int[] n, int fromIndex, int toIndex, \nint dist){\n\n   if(fromIndex &gt; toIndex)\n\n      throw new IllegalArgumentException (&quot;fromIndex (&quot; + \n         fromIndex + &quot;) &gt; toIndex (&quot; + toIndex + &quot;)&quot;);\n\n   if (fromIndex &lt; toIndex){\n\n      int region = toIndex - fromIndex;\n      int index;\n\n      for (int i = 0; i &lt; dist % region + ((dist &lt; 0) ? region : 0); \n              i++){\n\n         index = toIndex - 1;\n     \n         while (index &gt; fromIndex)\n\n            swap (n, index, --index);\n       }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22266993,"reputation":907,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661859322,"creation_date":1661859322,"answer_id":73541789,"question_id":26610309,"body_markdown":"You can do something like below \r\n\r\n    class Solution {\r\n        public void rotate(int[] nums, int k) {\r\n            if (k==0) return;\r\n            if (nums == null || nums.length == 0) return;\r\n    \r\n            for(int i=0;i&lt;k;i++){\r\n                int j=nums.length-1;\r\n                int temp = nums[j];\r\n                for(;j&gt;0;j--){\r\n                    nums[j] = nums[j-1];\r\n                }\r\n                nums[0] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\nIn the above solution, `k` is the number of times you want your array to rotate from left to right.","title":"Java - Rotating array","body":"<p>You can do something like below</p>\n<pre><code>class Solution {\n    public void rotate(int[] nums, int k) {\n        if (k==0) return;\n        if (nums == null || nums.length == 0) return;\n\n        for(int i=0;i&lt;k;i++){\n            int j=nums.length-1;\n            int temp = nums[j];\n            for(;j&gt;0;j--){\n                nums[j] = nums[j-1];\n            }\n            nums[0] = temp;\n        }\n    }\n}\n</code></pre>\n<p>In the above solution, <code>k</code> is the number of times you want your array to rotate from left to right.</p>\n"},{"tags":[],"owner":{"account_id":18832223,"reputation":1,"user_id":13735759,"display_name":"GameBacon"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667835502,"creation_date":1667551776,"answer_id":74314342,"question_id":26610309,"body_markdown":"I use this, just loop it `a` times\r\n \r\n```\r\npublic void rotate(int[] arr) {\r\n    int temp = arr[arr.length - 1];\r\n\r\n    for(int i = arr.length - 1; i &gt; 0; i--) {\r\n        arr[i] = arr[i - 1];\r\n    }\r\n\r\n    arr[0] = temp;\r\n}\r\n```","title":"Java - Rotating array","body":"<p>I use this, just loop it <code>a</code> times</p>\n<pre><code>public void rotate(int[] arr) {\n    int temp = arr[arr.length - 1];\n\n    for(int i = arr.length - 1; i &gt; 0; i--) {\n        arr[i] = arr[i - 1];\n    }\n\n    arr[0] = temp;\n}\n</code></pre>\n"}],"owner":{"display_name":"user3476154"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40019,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":26610358,"answer_count":16,"score":15,"last_activity_date":1667835502,"creation_date":1414504927,"question_id":26610309,"body_markdown":"So the goal is to rotate the elements in an array right `a` times.\r\nAs an example; if `a==2`, then     `array = {0,1,2,3,4}` would become `array = {3,4,0,1,2}`\r\n\r\nHere&#39;s what I have:\r\n\r\n    for (int x = 0; x &lt;= array.length-1; x++){\r\n        array[x+a] = array[x];\r\n    }\r\n\r\nHowever, this fails to account for when `[x+a]` is greater than the length of the array. I read that I should store the ones that are greater in a different Array but seeing as `a` is variable I&#39;m not sure that&#39;s the best solution.\r\nThanks in advance.","title":"Java - Rotating array","body":"<p>So the goal is to rotate the elements in an array right <code>a</code> times.\nAs an example; if <code>a==2</code>, then     <code>array = {0,1,2,3,4}</code> would become <code>array = {3,4,0,1,2}</code></p>\n\n<p>Here's what I have:</p>\n\n<pre><code>for (int x = 0; x &lt;= array.length-1; x++){\n    array[x+a] = array[x];\n}\n</code></pre>\n\n<p>However, this fails to account for when <code>[x+a]</code> is greater than the length of the array. I read that I should store the ones that are greater in a different Array but seeing as <code>a</code> is variable I'm not sure that's the best solution.\nThanks in advance.</p>\n"},{"tags":["java","sqlite","android-activity","android-sqlite"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667803285,"post_id":74340302,"comment_id":131245645,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667827442,"post_id":74340302,"comment_id":131253460,"body_markdown":"Your query seems to be missing a space before limit. It also suggests you&#39;re maybe using string concatenation to generate queries, which could make you vulnerable to SQL injection. However, given you did not post a [mre] that is just a guess.","body":"Your query seems to be missing a space before limit. It also suggests you&#39;re maybe using string concatenation to generate queries, which could make you vulnerable to SQL injection. However, given you did not post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that is just a guess."}],"answers":[{"comments":[{"owner":{"account_id":26850319,"reputation":1,"user_id":20435375,"display_name":"Agust&#237; Prat"},"score":0,"creation_date":1667834904,"post_id":74340691,"comment_id":131256394,"body_markdown":"this is the error that appear&#39;s me, I do&#39;nt put that keyword, it detects like this","body":"this is the error that appear&#39;s me, I do&#39;nt put that keyword, it detects like this"},{"owner":{"account_id":8837798,"reputation":91,"user_id":6601273,"display_name":"Michael  Nicholson"},"score":0,"creation_date":1667866222,"post_id":74340691,"comment_id":131265623,"body_markdown":"insert space between quote and LIMIT as here: &quot; LIMIT 1&quot;","body":"insert space between quote and LIMIT as here: &quot; LIMIT 1&quot;"}],"tags":[],"owner":{"account_id":8837798,"reputation":91,"user_id":6601273,"display_name":"Michael  Nicholson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667779078,"creation_date":1667779078,"answer_id":74340691,"question_id":74340302,"body_markdown":"there is no gap between &#39;4&#39; and &#39;LIMIT&#39; keyword\r\nthe correct request:\r\n\r\n    SELECT * FROM t_comanda WHERE id = 4 LIMIT 1","title":"My app closes when I pass from main activity to another","body":"<p>there is no gap between '4' and 'LIMIT' keyword\nthe correct request:</p>\n<pre><code>SELECT * FROM t_comanda WHERE id = 4 LIMIT 1\n</code></pre>\n"}],"owner":{"account_id":26850319,"reputation":1,"user_id":20435375,"display_name":"Agust&#237; Prat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74340691,"answer_count":1,"score":-2,"last_activity_date":1667835242,"creation_date":1667774465,"question_id":74340302,"body_markdown":"The error :\r\n\r\n```\r\nE/SQLiteLog: (1) unrecognized token: &quot;4LIMIT&quot; in &quot;SELECT * FROM t_comanda WHERE id = 4LIMIT 1&quot;\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.storder20, PID: 8462\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.storder20/com.example.storder20.VeureActivity}: android.database.sqlite.SQLiteException: unrecognized token: &quot;4LIMIT&quot; (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM t_comanda WHERE id = 4LIMIT 1\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n**-I have a main activity with an arrayList where you can add diferent orders, my problem is when Iwant to click on to see this order the app close. I think that the error comes from The code from the SQLite database that it is this:**\r\n\r\n     public Comanda veureComanda (int id){\r\n            DbHelper dbHelper = new DbHelper(context);\r\n            SQLiteDatabase db = dbHelper.getWritableDatabase();\r\n\r\n        Comanda comanda = null;\r\n        Cursor cursorComanda = null;\r\n\r\n        cursorComanda = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_COMANDA + &quot; WHERE id = &quot; + id + &quot;LIMIT 1&quot;, null);\r\n\r\n        if (cursorComanda.moveToFirst()){\r\n            comanda = new Comanda();\r\n            comanda.setId(cursorComanda.getInt(0));\r\n            comanda.setNom(cursorComanda.getString(1));\r\n            comanda.setComanda(cursorComanda.getString(2));\r\n            comanda.setUbicaci&#243;(cursorComanda.getString(3));\r\n        }\r\n\r\n        cursorComanda.close();\r\n\r\n        return comanda;\r\n    }","title":"My app closes when I pass from main activity to another","body":"<p>The error :</p>\n<pre><code>E/SQLiteLog: (1) unrecognized token: &quot;4LIMIT&quot; in &quot;SELECT * FROM t_comanda WHERE id = 4LIMIT 1&quot;\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.storder20, PID: 8462\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.storder20/com.example.storder20.VeureActivity}: android.database.sqlite.SQLiteException: unrecognized token: &quot;4LIMIT&quot; (code 1 SQLITE_ERROR): , while compiling: SELECT * FROM t_comanda WHERE id = 4LIMIT 1\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p><strong>-I have a main activity with an arrayList where you can add diferent orders, my problem is when Iwant to click on to see this order the app close. I think that the error comes from The code from the SQLite database that it is this:</strong></p>\n<pre><code> public Comanda veureComanda (int id){\n        DbHelper dbHelper = new DbHelper(context);\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\n\n    Comanda comanda = null;\n    Cursor cursorComanda = null;\n\n    cursorComanda = db.rawQuery(&quot;SELECT * FROM &quot; + TABLE_COMANDA + &quot; WHERE id = &quot; + id + &quot;LIMIT 1&quot;, null);\n\n    if (cursorComanda.moveToFirst()){\n        comanda = new Comanda();\n        comanda.setId(cursorComanda.getInt(0));\n        comanda.setNom(cursorComanda.getString(1));\n        comanda.setComanda(cursorComanda.getString(2));\n        comanda.setUbicaci(cursorComanda.getString(3));\n    }\n\n    cursorComanda.close();\n\n    return comanda;\n}\n</code></pre>\n"},{"tags":["java","spring","groovy","cdc"],"owner":{"account_id":483814,"reputation":2213,"user_id":899092,"accept_rate":68,"display_name":"SiliconMind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1667835163,"creation_date":1667582781,"question_id":74320867,"body_markdown":"I&#39;ve been using [Spring Cloud Contract][1] for a while and it is great tool however it becomes tedious to define a lot of contracts when you have to repeat complex data structures inside the request body. Consider a contract like this:\r\n\r\n```\r\nimport org.springframework.cloud.contract.spec.Contract\r\n\r\nContract.make {\r\n    request {\r\n        method(POST())\r\n        url(&quot;transfer&quot;)\r\n        headers {\r\n            contentType(applicationJson())\r\n        }\r\n        body([\r\n                target_account_id: &quot;&quot;,\r\n                source_account_id: &quot;&quot;,\r\n                amount: [\r\n                        value: $(consumer(regex(&quot;\\\\d*\\\\.\\\\d+|\\\\d+&quot;)), producer(1234.435)),\r\n                        currency: $(consumer(regex(&quot;[A-Z]{3}&quot;)), producer(&quot;GBP&quot;))\r\n                ],\r\n        ])\r\n    }\r\n    response {\r\n        status(OK())\r\n        headers {\r\n            contentType(applicationJson())\r\n        }\r\n        body([\r\n                id: &quot;&quot;,\r\n                status: &quot;&quot;,\r\n        ])\r\n    }\r\n}\r\n```\r\n\r\nWhat is the best approach to make `amount` field reusable so that I could just do this instead?\r\n\r\n```\r\nimport org.springframework.cloud.contract.spec.Contract\r\n\r\nContract.make {\r\n    request {\r\n        method(POST())\r\n        url(&quot;transfer&quot;)\r\n        headers {\r\n            contentType(applicationJson())\r\n        }\r\n        body([\r\n                target_account_id: &quot;&quot;,\r\n                source_account_id: &quot;&quot;,\r\n                amount: amount(),\r\n        ])\r\n    }\r\n    response {\r\n        status(OK())\r\n        headers {\r\n            contentType(applicationJson())\r\n        }\r\n        body([\r\n                id: &quot;&quot;,\r\n                status: &quot;&quot;,\r\n        ])\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-contract/reference/html/project-features.html","title":"How to reuse contracts in Spring Cloud Contract?","body":"<p>I've been using <a href=\"https://cloud.spring.io/spring-cloud-contract/reference/html/project-features.html\" rel=\"nofollow noreferrer\">Spring Cloud Contract</a> for a while and it is great tool however it becomes tedious to define a lot of contracts when you have to repeat complex data structures inside the request body. Consider a contract like this:</p>\n<pre><code>import org.springframework.cloud.contract.spec.Contract\n\nContract.make {\n    request {\n        method(POST())\n        url(&quot;transfer&quot;)\n        headers {\n            contentType(applicationJson())\n        }\n        body([\n                target_account_id: &quot;&quot;,\n                source_account_id: &quot;&quot;,\n                amount: [\n                        value: $(consumer(regex(&quot;\\\\d*\\\\.\\\\d+|\\\\d+&quot;)), producer(1234.435)),\n                        currency: $(consumer(regex(&quot;[A-Z]{3}&quot;)), producer(&quot;GBP&quot;))\n                ],\n        ])\n    }\n    response {\n        status(OK())\n        headers {\n            contentType(applicationJson())\n        }\n        body([\n                id: &quot;&quot;,\n                status: &quot;&quot;,\n        ])\n    }\n}\n</code></pre>\n<p>What is the best approach to make <code>amount</code> field reusable so that I could just do this instead?</p>\n<pre><code>import org.springframework.cloud.contract.spec.Contract\n\nContract.make {\n    request {\n        method(POST())\n        url(&quot;transfer&quot;)\n        headers {\n            contentType(applicationJson())\n        }\n        body([\n                target_account_id: &quot;&quot;,\n                source_account_id: &quot;&quot;,\n                amount: amount(),\n        ])\n    }\n    response {\n        status(OK())\n        headers {\n            contentType(applicationJson())\n        }\n        body([\n                id: &quot;&quot;,\n                status: &quot;&quot;,\n        ])\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1667832977,"post_id":74348485,"comment_id":131255636,"body_markdown":"This question has little to do with how `ArrayList` works and is more that you don&#39;t seem to know how to create objects using a constructor in general. The short answer is that you need to construct an Object of `NewList` by calling a constructor possibly by doing `new NewList(value, word)` (We don&#39;t know what constructors are available because you didn&#39;t include the code). I recommend reading a tutorial about [Object creation in java](https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html)","body":"This question has little to do with how <code>ArrayList</code> works and is more that you don&#39;t seem to know how to create objects using a constructor in general. The short answer is that you need to construct an Object of <code>NewList</code> by calling a constructor possibly by doing <code>new NewList(value, word)</code> (We don&#39;t know what constructors are available because you didn&#39;t include the code). I recommend reading a tutorial about <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\">Object creation in java</a>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667832993,"post_id":74348485,"comment_id":131255645,"body_markdown":"in your class NewList you need a constructor `public NewList(final int value, final String word)`, then you could use `wordList.add(  new  NewList(value,word));`. \n\nBut actually, you are looking for a java.util.HashMap&lt;Integer,String&gt; to store key-value associations.","body":"in your class NewList you need a constructor <code>public NewList(final int value, final String word)</code>, then you could use <code>wordList.add(  new  NewList(value,word));</code>.   But actually, you are looking for a java.util.HashMap&lt;Integer,String&gt; to store key-value associations."},{"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"score":0,"creation_date":1667834740,"post_id":74348485,"comment_id":131256324,"body_markdown":"I added the code that I used to create the constructor. I realized a couple of mistakes based on your feedback. Thank you!! It&#39;s not printing what I want it to print yet, but the error I had before is gone. Now I just have to figure out why it&#39;s not printing the new list.","body":"I added the code that I used to create the constructor. I realized a couple of mistakes based on your feedback. Thank you!! It&#39;s not printing what I want it to print yet, but the error I had before is gone. Now I just have to figure out why it&#39;s not printing the new list."},{"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"score":0,"creation_date":1667834787,"post_id":74348485,"comment_id":131256344,"body_markdown":"Also, sorry. I haven&#39;t learned HashMaps yet, so I&#39;m not allowed to use them. They have been suggested to me for other portions of my code earlier on and they seem like they would help. I&#39;m just not at that point in my experience yet. Someday!","body":"Also, sorry. I haven&#39;t learned HashMaps yet, so I&#39;m not allowed to use them. They have been suggested to me for other portions of my code earlier on and they seem like they would help. I&#39;m just not at that point in my experience yet. Someday!"},{"owner":{"account_id":12886560,"reputation":115,"user_id":9319811,"display_name":"Tushar Tambe"},"score":0,"creation_date":1667834896,"post_id":74348485,"comment_id":131256391,"body_markdown":"If you&#39;re using private for the attributes you&#39;ll need to have getters as well in `NewList` class.","body":"If you&#39;re using private for the attributes you&#39;ll need to have getters as well in <code>NewList</code> class."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1667835422,"post_id":74348485,"comment_id":131256576,"body_markdown":"If you keep changing the question then it changes the meaning of the comments and answers - which makes any answer useless to future readers.  Try to limit editing to the addition or cleaning of things.  To wit - you have omitted how you generate and store the scores.  In the first block you are reading all of the words from one stream.  In the second you are alternatively reading words and values from a single stream.  The data model you created seems reasonable but the name is misleading (i.e. its not a List) - consider renaming to WordValue or something like that.","body":"If you keep changing the question then it changes the meaning of the comments and answers - which makes any answer useless to future readers.  Try to limit editing to the addition or cleaning of things.  To wit - you have omitted how you generate and store the scores.  In the first block you are reading all of the words from one stream.  In the second you are alternatively reading words and values from a single stream.  The data model you created seems reasonable but the name is misleading (i.e. its not a List) - consider renaming to WordValue or something like that."}],"owner":{"account_id":26809631,"reputation":21,"user_id":20400438,"display_name":"ScarletCas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667834934,"creation_date":1667832615,"question_id":74348485,"body_markdown":"The examples I&#39;ve seen online always include explicit values to add to an ArrayList. However, I have created an ArrayList, reading from a file. I read each word from the file and assigned it a score. Now, I have to create a new ArrayList that adds each word from the file and its accompanying score. I can&#39;t find any examples online that deal with this.\r\n\r\nEDIT: ERRORS ARE GONE, BUT I HAVE A PRINT STATEMENT BELOW THAT IS NOT PRINTING. I&#39;M NOT SURE HOW TO FIGURE OUT IF I SUCCESSFULLY CREATED THE NEW LIST.\r\n\r\nI used: \r\n\r\n    while (in.hasNext()) {\r\n     \r\n        words.add(in.next());\r\n    }\r\n\r\nto create my initial ArrayList.\r\n\r\nI thought I could use something similar for the new one, but it&#39;s not working.\r\n\r\n    ArrayList&lt;NewList&gt; wordlist = new ArrayList&lt;NewList&gt;();\r\n    while (in.hasNext()) {\r\n        value = in.nextInt();\r\n        word = in.next();\r\n\r\n        wordlist.add(NewList(value, word));\r\n        System.out.println(wordlist);\r\n    }\r\n\r\nTHE PRINT STATEMENT ABOVE IS NOT PRINTING. TRYING TO TROUBLESHOOT THAT NOW.\r\n\r\nAdding my class and constructor:\r\n\r\n    public class NewList {\r\n        private int value;\r\n        private String word;\r\n\r\n        // Constructs a new list\r\n        public NewList(int value, String word) {\r\n            this.value = value;\r\n            this.word = word;\r\n            }\r\n        }","title":"Create a new ArrayList from new variables and old ArrayList","body":"<p>The examples I've seen online always include explicit values to add to an ArrayList. However, I have created an ArrayList, reading from a file. I read each word from the file and assigned it a score. Now, I have to create a new ArrayList that adds each word from the file and its accompanying score. I can't find any examples online that deal with this.</p>\n<p>EDIT: ERRORS ARE GONE, BUT I HAVE A PRINT STATEMENT BELOW THAT IS NOT PRINTING. I'M NOT SURE HOW TO FIGURE OUT IF I SUCCESSFULLY CREATED THE NEW LIST.</p>\n<p>I used:</p>\n<pre><code>while (in.hasNext()) {\n \n    words.add(in.next());\n}\n</code></pre>\n<p>to create my initial ArrayList.</p>\n<p>I thought I could use something similar for the new one, but it's not working.</p>\n<pre><code>ArrayList&lt;NewList&gt; wordlist = new ArrayList&lt;NewList&gt;();\nwhile (in.hasNext()) {\n    value = in.nextInt();\n    word = in.next();\n\n    wordlist.add(NewList(value, word));\n    System.out.println(wordlist);\n}\n</code></pre>\n<p>THE PRINT STATEMENT ABOVE IS NOT PRINTING. TRYING TO TROUBLESHOOT THAT NOW.</p>\n<p>Adding my class and constructor:</p>\n<pre><code>public class NewList {\n    private int value;\n    private String word;\n\n    // Constructs a new list\n    public NewList(int value, String word) {\n        this.value = value;\n        this.word = word;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667835193,"post_id":74349024,"comment_id":131256498,"body_markdown":"Looks like the OpenAPI input file is malformed.","body":"Looks like the OpenAPI input file is malformed."},{"owner":{"account_id":16517935,"reputation":678,"user_id":11934850,"display_name":"Sascha Doerdelmann"},"score":0,"creation_date":1667835202,"post_id":74349024,"comment_id":131256502,"body_markdown":"According to the stack trace:\n&#39;Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 5\n    at io.swagger.v3.parser.util.OpenAPIDeserializer.getServer(OpenAPIDeserializer.java:481)&#39;. So compare the file that is parsed on different machines.","body":"According to the stack trace: &#39;Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 5     at io.swagger.v3.parser.util.OpenAPIDeserializer.getServer(Open&zwnj;&#8203;APIDeserializer.java&zwnj;&#8203;:481)&#39;. So compare the file that is parsed on different machines."},{"owner":{"account_id":11347144,"reputation":951,"user_id":8319308,"display_name":"Vadim Beskrovnov"},"score":0,"creation_date":1667835911,"post_id":74349024,"comment_id":131256766,"body_markdown":"Did you check ENV variables? According to the error it looks like it can&#39;t parse server, maybe it should be configured through environment variables.","body":"Did you check ENV variables? According to the error it looks like it can&#39;t parse server, maybe it should be configured through environment variables."}],"owner":{"account_id":2481898,"reputation":21,"user_id":2161214,"display_name":"user2161214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667834924,"creation_date":1667834924,"question_id":74349024,"body_markdown":"I am new to sprint boot trying to setup existing repo of sprint boot in my mac machine. the same repo is working on every machine only on my machine i am facing this issue.\r\n\r\nError which i am getting at the time of build.. We have multiple services with same configuration one of the service is working perfectly fine but other services are having same issue. I have tried to match version of intellij , graddle and java with other machine where its working fine but still no luck.\r\n\r\n\r\n```\r\n&gt; Task :codeGenerate-authService FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:codeGenerate-authService&#39;.\r\n&gt; begin 0, end -1, length 5\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:codeGenerate-authService&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 5\r\n\tat io.swagger.v3.parser.util.OpenAPIDeserializer.getServer(OpenAPIDeserializer.java:481)\r\n\tat io.swagger.v3.parser.util.OpenAPIDeserializer.getServersList(OpenAPIDeserializer.java:435)\r\n\tat io.swagger.v3.parser.util.OpenAPIDeserializer.parseRoot(OpenAPIDeserializer.java:192)\r\n\tat io.swagger.v3.parser.util.OpenAPIDeserializer.deserialize(OpenAPIDeserializer.java:149)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.parseJsonNode(OpenAPIV3Parser.java:134)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readContents(OpenAPIV3Parser.java:152)\r\n\tat io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\r\n\tat io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:525)\r\n\tat org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:583)\r\n\tat org.openapitools.generator.gradle.plugin.tasks.GenerateTask.doWork(GenerateTask.kt:700)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n\tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 3s\r\n\r\nThanks\r\n\r\nI tried to reinstall exactly same version of gradle , java and intellij on my machine from the machine where everything is working fine but it doesn&#39;t work\r\nI also try to take fresh code but that also not worked","title":"Spring Boot code generator is not working","body":"<p>I am new to sprint boot trying to setup existing repo of sprint boot in my mac machine. the same repo is working on every machine only on my machine i am facing this issue.</p>\n<p>Error which i am getting at the time of build.. We have multiple services with same configuration one of the service is working perfectly fine but other services are having same issue. I have tried to match version of intellij , graddle and java with other machine where its working fine but still no luck.</p>\n<pre><code>&gt; Task :codeGenerate-authService FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':codeGenerate-authService'.\n&gt; begin 0, end -1, length 5\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':codeGenerate-authService'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.lang.StringIndexOutOfBoundsException: begin 0, end -1, length 5\n    at io.swagger.v3.parser.util.OpenAPIDeserializer.getServer(OpenAPIDeserializer.java:481)\n    at io.swagger.v3.parser.util.OpenAPIDeserializer.getServersList(OpenAPIDeserializer.java:435)\n    at io.swagger.v3.parser.util.OpenAPIDeserializer.parseRoot(OpenAPIDeserializer.java:192)\n    at io.swagger.v3.parser.util.OpenAPIDeserializer.deserialize(OpenAPIDeserializer.java:149)\n    at io.swagger.v3.parser.OpenAPIV3Parser.parseJsonNode(OpenAPIV3Parser.java:134)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readContents(OpenAPIV3Parser.java:152)\n    at io.swagger.v3.parser.OpenAPIV3Parser.readLocation(OpenAPIV3Parser.java:89)\n    at io.swagger.parser.OpenAPIParser.readLocation(OpenAPIParser.java:16)\n    at org.openapitools.codegen.config.CodegenConfigurator.toContext(CodegenConfigurator.java:525)\n    at org.openapitools.codegen.config.CodegenConfigurator.toClientOptInput(CodegenConfigurator.java:583)\n    at org.openapitools.generator.gradle.plugin.tasks.GenerateTask.doWork(GenerateTask.kt:700)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 3s\n\nThanks\n\nI tried to reinstall exactly same version of gradle , java and intellij on my machine from the machine where everything is working fine but it doesn't work\nI also try to take fresh code but that also not worked\n</code></pre>\n"},{"tags":["java","jvm","javac"],"answers":[{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":4,"up_vote_count":15,"is_accepted":false,"score":11,"last_activity_date":1249281897,"creation_date":1249281897,"answer_id":1220921,"question_id":1220914,"body_markdown":"In principle almost anything, usually C","title":"In which language are the Java compiler and JVM written?","body":"<p>In principle almost anything, usually C</p>\n"},{"comments":[{"owner":{"account_id":27644,"reputation":8450,"user_id":73148,"accept_rate":80,"display_name":"Rahul Garg"},"score":2,"creation_date":1249282801,"post_id":1220923,"comment_id":1045782,"body_markdown":"Very first Java compiler developed by Sun Microsystems was written in C using some libraries from C++ http://en.wikipedia.org/wiki/Java_compiler","body":"Very first Java compiler developed by Sun Microsystems was written in C using some libraries from C++ <a href=\"http://en.wikipedia.org/wiki/Java_compiler\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_compiler</a>"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":4,"creation_date":1249282938,"post_id":1220923,"comment_id":1045790,"body_markdown":"This is really rather an old document (&gt;10 years by the look of things). For example, it says *&quot;Java bytecodes are translated on the fly to native machine instructions (interpreted) and not stored anywhere&quot;* which has not been true for about 5 years!","body":"This is really rather an old document (&gt;10 years by the look of things). For example, it says <i>&quot;Java bytecodes are translated on the fly to native machine instructions (interpreted) and not stored anywhere&quot;</i> which has not been true for about 5 years!"},{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":3,"creation_date":1249292488,"post_id":1220923,"comment_id":1046278,"body_markdown":"Well, since when has documentation been really up-to-date, especially after large changes? :)","body":"Well, since when has documentation been really up-to-date, especially after large changes? :)"},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":0,"creation_date":1249295773,"post_id":1220923,"comment_id":1046489,"body_markdown":"Well - the answer isn&#39;t really correct; the Sun JVM is written in C, and the Sun java compiler is written in Java. The first IBM JVM was written in Smalltalk.","body":"Well - the answer isn&#39;t really correct; the Sun JVM is written in C, and the Sun java compiler is written in Java. The first IBM JVM was written in Smalltalk."},{"owner":{"display_name":"user4903"},"score":10,"creation_date":1308331815,"post_id":1220923,"comment_id":7487149,"body_markdown":"What compiles Java? Java. Well, how do you get Java? Compile it. Huh?","body":"What compiles Java? Java. Well, how do you get Java? Compile it. Huh?"},{"owner":{"account_id":9857077,"reputation":710,"user_id":7301259,"display_name":"AwesomeHunter"},"score":3,"creation_date":1608302335,"post_id":1220923,"comment_id":115549174,"body_markdown":"@user4903 Not necessarily. You can translate Java code into bytecodes by hand if you would like to.","body":"@user4903 Not necessarily. You can translate Java code into bytecodes by hand if you would like to."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":2,"creation_date":1640489024,"post_id":1220923,"comment_id":124594442,"body_markdown":"@AwesomeHunter In fact, the first programming languages must have been coded in 1s and 0s by hand. Hard to imagine with how far we&#39;ve come.","body":"@AwesomeHunter In fact, the first programming languages must have been coded in 1s and 0s by hand. Hard to imagine with how far we&#39;ve come."}],"tags":[],"owner":{"account_id":30698,"reputation":15521,"user_id":83819,"accept_rate":80,"display_name":"Sev"},"comment_count":7,"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1457303172,"creation_date":1249281905,"answer_id":1220923,"question_id":1220914,"body_markdown":"From [Java Docs][1]\r\n\r\n&gt; The compiler is written in Java and the runtime is written in ANSI C\r\n\r\n\r\n  [1]: https://web.archive.org/web/20080222200518/http://java.sun.com/docs/overviews/java/java-overview-1.html","title":"In which language are the Java compiler and JVM written?","body":"<p>From <a href=\"https://web.archive.org/web/20080222200518/http://java.sun.com/docs/overviews/java/java-overview-1.html\" rel=\"noreferrer\">Java Docs</a></p>\n\n<blockquote>\n  <p>The compiler is written in Java and the runtime is written in ANSI C</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":43344,"reputation":6041,"user_id":126644,"display_name":"micmoo"},"comment_count":0,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1428057279,"creation_date":1249281918,"answer_id":1220925,"question_id":1220914,"body_markdown":"[This link][1] should answer your question\r\n\r\nIt seems the compiler is now written in Java, but the runtime is written in ANSI C\r\n\r\n\r\n  [1]: https://web.archive.org/web/20120831113506/http://java.sun.com/docs/overviews/java/java-overview-1.html","title":"In which language are the Java compiler and JVM written?","body":"<p><a href=\"https://web.archive.org/web/20120831113506/http://java.sun.com/docs/overviews/java/java-overview-1.html\" rel=\"nofollow noreferrer\">This link</a> should answer your question</p>\n\n<p>It seems the compiler is now written in Java, but the runtime is written in ANSI C</p>\n"},{"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1374448775,"post_id":1220930,"comment_id":25930277,"body_markdown":"It&#39;s turtles *all the way down*? Does it have some kind of microkernel? If so, what language is that written in?","body":"It&#39;s turtles <i>all the way down</i>? Does it have some kind of microkernel? If so, what language is that written in?"}],"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1249282017,"creation_date":1249282017,"answer_id":1220930,"question_id":1220914,"body_markdown":"[Jikes RVM][1], a self-hosting JVM used extensively for research purposes is written in Java. It&#39;s not the one people run on their desktops, but it&#39;s way up there on my list of &quot;now let&#39;s show off the general power of the language.&quot;\r\n\r\n  [1]: http://jikesrvm.org/\r\n","title":"In which language are the Java compiler and JVM written?","body":"<p><a href=\"http://jikesrvm.org/\" rel=\"nofollow noreferrer\">Jikes RVM</a>, a self-hosting JVM used extensively for research purposes is written in Java. It's not the one people run on their desktops, but it's way up there on my list of \"now let's show off the general power of the language.\"</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1249285499,"post_id":1220931,"comment_id":1045927,"body_markdown":"I think he means &quot;java&quot; the program that you use to start a JVM.","body":"I think he means &quot;java&quot; the program that you use to start a JVM."},{"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":1,"creation_date":1264503902,"post_id":1220931,"comment_id":2079237,"body_markdown":"Actually, *one* library in Sun&#39;s JRE is written in NetRexx. (It&#39;s one of the arbitrary precision math libraries, either BigInteger, BigNum or BigDecimal. I forgot which one.) In theory, you could use any language to implement the JRE, as long as it can compile to a representation that a Java program can understand.","body":"Actually, <i>one</i> library in Sun&#39;s JRE is written in NetRexx. (It&#39;s one of the arbitrary precision math libraries, either BigInteger, BigNum or BigDecimal. I forgot which one.) In theory, you could use any language to implement the JRE, as long as it can compile to a representation that a Java program can understand."},{"owner":{"account_id":87206,"reputation":1271,"user_id":241993,"accept_rate":62,"display_name":"Mohamed Bana"},"score":21,"creation_date":1301770990,"post_id":1220931,"comment_id":6276105,"body_markdown":"Please provide a reference to the Sun JVM being written in C.","body":"Please provide a reference to the Sun JVM being written in C."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"score":0,"creation_date":1330796059,"post_id":1220931,"comment_id":12100236,"body_markdown":"@J&#246;rgWMittag: I think this is not the case anymore since quite some editions of the JDK (I think 1.4 or even already 1.3). Now BigInteger is written in Java (and BigDecimal simply uses BigInteger internally).","body":"@J&#246;rgWMittag: I think this is not the case anymore since quite some editions of the JDK (I think 1.4 or even already 1.3). Now BigInteger is written in Java (and BigDecimal simply uses BigInteger internally)."},{"owner":{"account_id":22338,"reputation":2442,"user_id":54983,"accept_rate":60,"display_name":"devdimi"},"score":10,"creation_date":1332155127,"post_id":1220931,"comment_id":12431699,"body_markdown":"The HotSpot JVM is written in C++ - http://www2.research.att.com/~bs/applications.html","body":"The HotSpot JVM is written in C++ - <a href=\"http://www2.research.att.com/~bs/applications.html\" rel=\"nofollow noreferrer\">www2.research.att.com/~bs/applications.html</a>"},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":5,"creation_date":1373714716,"post_id":1220931,"comment_id":25667688,"body_markdown":"@devdimi the link is broken and now resides at: http://www.stroustrup.com/applications.html","body":"@devdimi the link is broken and now resides at: <a href=\"http://www.stroustrup.com/applications.html\" rel=\"nofollow noreferrer\">stroustrup.com/applications.html</a>"},{"owner":{"account_id":167248,"reputation":1138,"user_id":391936,"accept_rate":83,"display_name":"cyotee doge"},"score":0,"creation_date":1488396793,"post_id":1220931,"comment_id":72216620,"body_markdown":"Also, Java is Turing complete. So you can write a JVM in Java. But this is a purely academic exercise as it provides no benefit and only introduces complications.","body":"Also, Java is Turing complete. So you can write a JVM in Java. But this is a purely academic exercise as it provides no benefit and only introduces complications."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":3,"creation_date":1488535195,"post_id":1220931,"comment_id":72284549,"body_markdown":"Good luck with that, cyotee. What would your JVM run on?","body":"Good luck with that, cyotee. What would your JVM run on?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662657231,"post_id":1220931,"comment_id":130062388,"body_markdown":"@cyoteedoge GraalVM is more than a purely academic exercise. The advantages of using Java as implementation language are the same as for any other software (especially for *complex* software).","body":"@cyoteedoge GraalVM is more than a purely academic exercise. The advantages of using Java as implementation language are the same as for any other software (especially for <i>complex</i> software)."}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":9,"down_vote_count":1,"up_vote_count":211,"is_accepted":true,"score":210,"last_activity_date":1249302392,"creation_date":1249282021,"answer_id":1220931,"question_id":1220914,"body_markdown":"The precise phrasing of the question is slightly misleading: it is not *&quot;the JVM&quot;* or *&quot;the compiler&quot;* as there are **multiple JVM vendors** (jrockit is one, IBM another) and **multiple compilers** out there. \r\n\r\n - The Sun JVM *is* written in `C`, although this need not be the case - the JVM as it runs on your machine is a *platform-dependent* executable and hence *could* have been originally written in any language. For example, the original IBM JVM was written in **Smalltalk**\r\n\r\n - The Java libraries (`java.lang`, `java.util` etc, often referred to as *the Java API*) are themselves written in Java, although methods marked as `native` will have been written in `C` or `C++`.\r\n\r\n - I believe that the Java compiler provided by Sun is also written in Java. (Although again, there are multiple compilers out there)\r\n\r\n\r\n","title":"In which language are the Java compiler and JVM written?","body":"<p>The precise phrasing of the question is slightly misleading: it is not <em>\"the JVM\"</em> or <em>\"the compiler\"</em> as there are <strong>multiple JVM vendors</strong> (jrockit is one, IBM another) and <strong>multiple compilers</strong> out there. </p>\n\n<ul>\n<li><p>The Sun JVM <em>is</em> written in <code>C</code>, although this need not be the case - the JVM as it runs on your machine is a <em>platform-dependent</em> executable and hence <em>could</em> have been originally written in any language. For example, the original IBM JVM was written in <strong>Smalltalk</strong></p></li>\n<li><p>The Java libraries (<code>java.lang</code>, <code>java.util</code> etc, often referred to as <em>the Java API</em>) are themselves written in Java, although methods marked as <code>native</code> will have been written in <code>C</code> or <code>C++</code>.</p></li>\n<li><p>I believe that the Java compiler provided by Sun is also written in Java. (Although again, there are multiple compilers out there)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":50166,"reputation":39932,"user_id":149530,"accept_rate":100,"display_name":"Michael Foukarakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1249282298,"creation_date":1249282298,"answer_id":1220944,"question_id":1220914,"body_markdown":"Supposing you&#39;re talking about the Hotspot JVM, which is iirc provided by Sun, it is written in C++. For more info on the various virtual machines for Java, you can check this [link][1].\r\n*javac*, like most Java compilers, is written in Java.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/List_of_Java_virtual_machines","title":"In which language are the Java compiler and JVM written?","body":"<p>Supposing you're talking about the Hotspot JVM, which is iirc provided by Sun, it is written in C++. For more info on the various virtual machines for Java, you can check this <a href=\"http://en.wikipedia.org/wiki/List_of_Java_virtual_machines\" rel=\"nofollow noreferrer\">link</a>.\n<em>javac</em>, like most Java compilers, is written in Java.</p>\n"},{"tags":[],"owner":{"account_id":1264550,"reputation":341,"user_id":1222150,"display_name":"UrbenLegend"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1330555000,"creation_date":1330555000,"answer_id":9507767,"question_id":1220914,"body_markdown":"Actually the Oracle JVM is written in C++, not C.\r\n\r\nTake a look at the HotSpot JVM code here: http://openjdk.java.net/groups/hotspot/","title":"In which language are the Java compiler and JVM written?","body":"<p>Actually the Oracle JVM is written in C++, not C.</p>\n\n<p>Take a look at the HotSpot JVM code here: <a href=\"http://openjdk.java.net/groups/hotspot/\">http://openjdk.java.net/groups/hotspot/</a></p>\n"},{"comments":[{"owner":{"account_id":483406,"reputation":6538,"user_id":898423,"accept_rate":93,"display_name":"Eduard Luca"},"score":77,"creation_date":1404591767,"post_id":17774785,"comment_id":38095779,"body_markdown":"+1 for explaining how a Java compiler can be written in Java :)","body":"+1 for explaining how a Java compiler can be written in Java :)"},{"owner":{"account_id":1146878,"reputation":2615,"user_id":1129420,"display_name":"iono"},"score":4,"creation_date":1570603368,"post_id":17774785,"comment_id":102959515,"body_markdown":"fyi this process of &quot;upgrading&quot; to new compilers by compiling their code in more basic compilers is called &quot;bootstrapping&quot;, as in &quot;pulling yourself up by your bootstraps&quot;, which is where &quot;booting&quot; a machine comes from. Computerphile on YouTube has a good video about this and &quot;T diagrams&quot;","body":"fyi this process of &quot;upgrading&quot; to new compilers by compiling their code in more basic compilers is called &quot;bootstrapping&quot;, as in &quot;pulling yourself up by your bootstraps&quot;, which is where &quot;booting&quot; a machine comes from. Computerphile on YouTube has a good video about this and &quot;T diagrams&quot;"},{"owner":{"account_id":2019593,"reputation":7840,"user_id":1806099,"accept_rate":75,"display_name":"Skynet"},"score":5,"creation_date":1573034122,"post_id":17774785,"comment_id":103745981,"body_markdown":"Does that also answer the chicken and egg problem :)","body":"Does that also answer the chicken and egg problem :)"},{"owner":{"account_id":17356296,"reputation":841,"user_id":12573645,"display_name":"sportzpikachu"},"score":0,"creation_date":1587182258,"post_id":17774785,"comment_id":108415275,"body_markdown":"@Skynet self-hosted chicken","body":"@Skynet self-hosted chicken"},{"owner":{"account_id":9857077,"reputation":710,"user_id":7301259,"display_name":"AwesomeHunter"},"score":2,"creation_date":1608302259,"post_id":17774785,"comment_id":115549135,"body_markdown":"In theory, you dont&#39; even need the bootstraping compiler. You can refer to the Java Language Specification and manually translate the Java Compiler code into bytecode(class file), hence bootstrapping. Though I only tried manually do that with a HelloWorld.","body":"In theory, you dont&#39; even need the bootstraping compiler. You can refer to the Java Language Specification and manually translate the Java Compiler code into bytecode(class file), hence bootstrapping. Though I only tried manually do that with a HelloWorld."},{"owner":{"account_id":20277959,"reputation":197,"user_id":14872526,"display_name":"Aritro Shome"},"score":2,"creation_date":1633684884,"post_id":17774785,"comment_id":122830801,"body_markdown":"Just clarifying, the JVM cannot be written in Java because Java needs JVM to run so if JVM-version2 was written in Java, it would have to run on JVM-version1, thus it would be a VM running on a VM.","body":"Just clarifying, the JVM cannot be written in Java because Java needs JVM to run so if JVM-version2 was written in Java, it would have to run on JVM-version1, thus it would be a VM running on a VM."},{"owner":{"account_id":13747137,"reputation":450,"user_id":14356721,"display_name":"R Z"},"score":0,"creation_date":1633870048,"post_id":17774785,"comment_id":122870487,"body_markdown":"@AritroShome Nothing is stopping you from running a VM on a VM. Of course, practically it would be incredibly slow, but you can still do it if you want. (You can&#39;t run a VM on *itself*, at least not on the latest version of itself. You would eventually have to reach a point when the VM runs on a compiled language.)","body":"@AritroShome Nothing is stopping you from running a VM on a VM. Of course, practically it would be incredibly slow, but you can still do it if you want. (You can&#39;t run a VM on <i>itself</i>, at least not on the latest version of itself. You would eventually have to reach a point when the VM runs on a compiled language.)"},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":0,"creation_date":1640488584,"post_id":17774785,"comment_id":124594406,"body_markdown":"I see when it came to the JVM, they couldn&#39;t stomach the slowness of Java. I&#39;m surprised they transitioned to Java for the compiler. Large systems might have benefited from a C-coded compiler.","body":"I see when it came to the JVM, they couldn&#39;t stomach the slowness of Java. I&#39;m surprised they transitioned to Java for the compiler. Large systems might have benefited from a C-coded compiler."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1659110140,"post_id":17774785,"comment_id":129222811,"body_markdown":"The JVM cannot be sensibly written in java because it requires intimate knowledge of the underlying architecture to be effective.","body":"The JVM cannot be sensibly written in java because it requires intimate knowledge of the underlying architecture to be effective."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662656740,"post_id":17774785,"comment_id":130062234,"body_markdown":"@alife there is no contradiction between having intimate knowledge of the underlying architecture and being able to write Java code. Look at the GraalVM for an example of a JVM written in Java.","body":"@alife there is no contradiction between having intimate knowledge of the underlying architecture and being able to write Java code. Look at the GraalVM for an example of a JVM written in Java."}],"tags":[],"owner":{"account_id":2753486,"reputation":1891,"user_id":2372264,"display_name":"shrinath"},"comment_count":10,"down_vote_count":0,"up_vote_count":166,"is_accepted":false,"score":166,"last_activity_date":1507257259,"creation_date":1374426547,"answer_id":17774785,"question_id":1220914,"body_markdown":"The very first Java compiler was developed by Sun Microsystems and was written in C using some libraries from C++. Today, the Java compiler is written in Java, while the JRE is written in C. \r\n\r\nWe can imagine how the Java compiler was written in Java like this:\r\n\r\nThe Java compiler is written as a Java program and then compiled with the Java compiler written in C(the first Java compiler). Thus we can use the newly compiled Java compiler(written in Java) to compile Java programs.","title":"In which language are the Java compiler and JVM written?","body":"<p>The very first Java compiler was developed by Sun Microsystems and was written in C using some libraries from C++. Today, the Java compiler is written in Java, while the JRE is written in C. </p>\n\n<p>We can imagine how the Java compiler was written in Java like this:</p>\n\n<p>The Java compiler is written as a Java program and then compiled with the Java compiler written in C(the first Java compiler). Thus we can use the newly compiled Java compiler(written in Java) to compile Java programs.</p>\n"},{"comments":[{"owner":{"account_id":5747781,"reputation":1104,"user_id":4538504,"accept_rate":71,"display_name":"hadi"},"score":0,"creation_date":1634996951,"post_id":60865534,"comment_id":123179854,"body_markdown":"amazing. especially the second bullet point.","body":"amazing. especially the second bullet point."},{"owner":{"account_id":535477,"reputation":1551,"user_id":904963,"accept_rate":80,"display_name":"user904963"},"score":1,"creation_date":1640488442,"post_id":60865534,"comment_id":124594391,"body_markdown":"The JVM might be a virtual machine that executes Java bytecode, but somewhere, it itself has to be coded in something.","body":"The JVM might be a virtual machine that executes Java bytecode, but somewhere, it itself has to be coded in something."},{"owner":{"account_id":14264957,"reputation":398,"user_id":10304471,"display_name":"Trishant Saxena"},"score":0,"creation_date":1690490802,"post_id":60865534,"comment_id":135365244,"body_markdown":"Yes that&#39;s why I mentioned the concept of Bootstratpping here, you can refer the article to understand the concept https://www.geeksforgeeks.org/bootstrapping-in-compiler-design/","body":"Yes that&#39;s why I mentioned the concept of Bootstratpping here, you can refer the article to understand the concept <a href=\"https://www.geeksforgeeks.org/bootstrapping-in-compiler-design/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/bootstrapping-in-compiler-design</a>"}],"tags":[],"owner":{"account_id":14264957,"reputation":398,"user_id":10304471,"display_name":"Trishant Saxena"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1608314222,"creation_date":1585219708,"answer_id":60865534,"question_id":1220914,"body_markdown":" - When Java was introduced by Sun Microsystem, **the java compiler was written in C using some libraries from C++.**\r\n - As there is a concept in Compiler Design called Bootstrapping, Mostly it is used in Compiler Development, **Bootstrapping** is the process of writing a compiler(Or Assembler) In the source programming language which it is intended to compile.\r\nIt is used to produce a self-hosting compiler. The development of compilers for new Programming languages first developed in an existing language and then rewritten in the new language and compiled by itself.\r\n**That&#39;s why today, Java compiler is written in Java itself**. \r\n - **Java Virtual Machine:**  Java virtual machine is an abstract machine. Like a real computing machine, It has an instruction set and manipulates various memory areas of runtime. Usually, JVM interprets the byte code into Machine code.\r\n\r\n(For More Information You can check this link: https://docs.oracle.com/javase/specs/jvms/se7/html/)","title":"In which language are the Java compiler and JVM written?","body":"<ul>\n<li>When Java was introduced by Sun Microsystem, <strong>the java compiler was written in C using some libraries from C++.</strong></li>\n<li>As there is a concept in Compiler Design called Bootstrapping, Mostly it is used in Compiler Development, <strong>Bootstrapping</strong> is the process of writing a compiler(Or Assembler) In the source programming language which it is intended to compile.\nIt is used to produce a self-hosting compiler. The development of compilers for new Programming languages first developed in an existing language and then rewritten in the new language and compiled by itself.\n<strong>That's why today, Java compiler is written in Java itself</strong>.</li>\n<li><strong>Java Virtual Machine:</strong>  Java virtual machine is an abstract machine. Like a real computing machine, It has an instruction set and manipulates various memory areas of runtime. Usually, JVM interprets the byte code into Machine code.</li>\n</ul>\n<p>(For More Information You can check this link: <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/\" rel=\"noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/</a>)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668084678,"post_id":74348950,"comment_id":131324066,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74348950/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":12644546,"reputation":1641,"user_id":9190768,"display_name":"Trooper Z"},"score":0,"creation_date":1668310789,"post_id":74348950,"comment_id":131373085,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33126091)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33126091\">From Review</a>"}],"tags":[],"owner":{"account_id":23817536,"reputation":39,"user_id":17825588,"display_name":"Asrorbek Sultanov"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1667834631,"creation_date":1667834631,"answer_id":74348950,"question_id":1220914,"body_markdown":"As always popular languages written in - C, C++.","title":"In which language are the Java compiler and JVM written?","body":"<p>As always popular languages written in - C, C++.</p>\n"}],"owner":{"account_id":27644,"reputation":8450,"user_id":73148,"accept_rate":80,"display_name":"Rahul Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119650,"favorite_count":0,"down_vote_count":0,"up_vote_count":256,"accepted_answer_id":1220931,"answer_count":10,"score":256,"last_activity_date":1667834631,"creation_date":1249281699,"question_id":1220914,"body_markdown":"In which languages are the Java *compiler* (`javac`), the virtual machine (JVM) and the `java` starter written?\r\n","title":"In which language are the Java compiler and JVM written?","body":"<p>In which languages are the Java <em>compiler</em> (<code>javac</code>), the virtual machine (JVM) and the <code>java</code> starter written?</p>\n"},{"tags":["java","if-statement","while-loop"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":2,"creation_date":1667834340,"post_id":74348858,"comment_id":131256172,"body_markdown":"Does the order matter? Else you could just loop in reverse: `while(n &gt; 0) {System.out.println(n);}`","body":"Does the order matter? Else you could just loop in reverse: <code>while(n &gt; 0) {System.out.println(n);}</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":2,"creation_date":1667834466,"post_id":74348858,"comment_id":131256216,"body_markdown":"@Lino that&#39;s an infinite loop, unless you meant `while(n &gt; 0) {System.out.println(n--);}`","body":"@Lino that&#39;s an infinite loop, unless you meant <code>while(n &gt; 0) {System.out.println(n--);}</code>"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":1,"creation_date":1667838678,"post_id":74348858,"comment_id":131257814,"body_markdown":"If we use `int` for natural numbers, then we still have half of the ints capacity to represent negative numbers. It is possible to use bit operations to store information about the current number in the range of negative numbers in our `int`. The idea is that for natural numbers only half of the `int` capacity is needed. The other half can be used as a second variable for storing the state of the cycle.","body":"If we use <code>int</code> for natural numbers, then we still have half of the ints capacity to represent negative numbers. It is possible to use bit operations to store information about the current number in the range of negative numbers in our <code>int</code>. The idea is that for natural numbers only half of the <code>int</code> capacity is needed. The other half can be used as a second variable for storing the state of the cycle."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1667839255,"post_id":74348858,"comment_id":131258047,"body_markdown":"similar to what @chptr-one suggested, but just change the type of the variable `n` to `long` and use the upper 32 bits to keep track of the loop iteration: https://ideone.com/KSB1NK","body":"similar to what @chptr-one suggested, but just change the type of the variable <code>n</code> to <code>long</code> and use the upper 32 bits to keep track of the loop iteration: <a href=\"https://ideone.com/KSB1NK\" rel=\"nofollow noreferrer\">ideone.com/KSB1NK</a>"}],"owner":{"account_id":11646883,"reputation":73,"user_id":8529436,"display_name":"Tapas Kumar Pradhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667834228,"creation_date":1667834228,"question_id":74348858,"body_markdown":"Usual solution to this problem would be below \r\n\r\n    Scanner sc = new Scanner(System.in);\r\n    int n = sc.nextInt();\r\n\r\n    int c = 1;\r\n    while (c&lt;=n){\r\n    system.out.println(c);\r\n    ++c;\r\n    }\r\n\r\nBut i do not want to use variable c anymore , is this possible to code without 2nd variable. I know this can be achievable thru recursion function, but i only want to code with while, if else. Kindly let me know if this is possible. Thanks in advance.\r\n","title":"Handicap Coding : Print first n natural number in java only using if else , while loop and one variable n which stores input from user","body":"<p>Usual solution to this problem would be below</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint n = sc.nextInt();\n\nint c = 1;\nwhile (c&lt;=n){\nsystem.out.println(c);\n++c;\n}\n</code></pre>\n<p>But i do not want to use variable c anymore , is this possible to code without 2nd variable. I know this can be achievable thru recursion function, but i only want to code with while, if else. Kindly let me know if this is possible. Thanks in advance.</p>\n"},{"tags":["javascript","java","mysql","reactjs"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667834654,"post_id":74348818,"comment_id":131256291,"body_markdown":"Looks like you refering to the Java programming language, not JavaScript. If so, by writing &quot;date objects which are in mysql date formate&quot; - you mean String?","body":"Looks like you refering to the Java programming language, not JavaScript. If so, by writing &quot;date objects which are in mysql date formate&quot; - you mean String?"},{"owner":{"account_id":26844336,"reputation":1,"user_id":20430333,"display_name":"Faraz"},"score":0,"creation_date":1667837125,"post_id":74348818,"comment_id":131257242,"body_markdown":"yes I am working with javascript in reactjs environment. And yes they came from mysql database when I retrived them in string fomate for example &quot;2022-11-06T19:29:29.000+00:00&quot; this is the formate they came in. I can convert them into a normal formate using &#39;moment&#39; but I cannot convert them into actual javascript date objects","body":"yes I am working with javascript in reactjs environment. And yes they came from mysql database when I retrived them in string fomate for example &quot;2022-11-06T19:29:29.000+00:00&quot; this is the formate they came in. I can convert them into a normal formate using &#39;moment&#39; but I cannot convert them into actual javascript date objects"}],"owner":{"account_id":26844336,"reputation":1,"user_id":20430333,"display_name":"Faraz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667834069,"creation_date":1667834069,"question_id":74348818,"body_markdown":"I have an array of objects which I have retrieved from mysql database they have date objects which are in mysql date formate, I want to convert them into javascript Date() objects\r\n\r\nI tried to do this \r\n\r\n```\r\nExpenses = Expenses.map((expense) =&gt;{return  Date.parse(expense.date)})\r\n```\r\nand\r\n\r\n\r\n```\r\nExpense = Expenses.map((expense) =&gt;{return {...expense, date : new Date(expense.date)};})}\r\n```\r\n\r\n\r\nbut this does not works\r\n\r\n\r\nIn the end I am trying to filter the dates using js date object\r\n\r\n\r\n\r\n\r\n```\r\ndate = new Date(&quot;2020-07-10T00:00:00&quot;);\r\n\r\nExpenses = Expenses.filter(expense =&gt; expense.date &gt; date );\r\n```\r\nBut the dates do not converts into js Date objects","title":"How to convert date in mysql date formate to javascript date formate in an array of objects","body":"<p>I have an array of objects which I have retrieved from mysql database they have date objects which are in mysql date formate, I want to convert them into javascript Date() objects</p>\n<p>I tried to do this</p>\n<pre><code>Expenses = Expenses.map((expense) =&gt;{return  Date.parse(expense.date)})\n</code></pre>\n<p>and</p>\n<pre><code>Expense = Expenses.map((expense) =&gt;{return {...expense, date : new Date(expense.date)};})}\n</code></pre>\n<p>but this does not works</p>\n<p>In the end I am trying to filter the dates using js date object</p>\n<pre><code>date = new Date(&quot;2020-07-10T00:00:00&quot;);\n\nExpenses = Expenses.filter(expense =&gt; expense.date &gt; date );\n</code></pre>\n<p>But the dates do not converts into js Date objects</p>\n"},{"tags":["java","aws-lambda","aws-api-gateway","amazon-cognito"],"owner":{"account_id":4010818,"reputation":65,"user_id":3304234,"display_name":"El_bosteador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667833732,"creation_date":1667833732,"question_id":74348748,"body_markdown":"Relatively new to Java and I&#39;m just trying to print out the contents of my request context. Not sure how to get past this null pointer exception. This is thrown while building, not on runtime. Which confuses me even more. Anyway, here&#39;s my code. It&#39;s just a boiler plate SAM Lambda handler function with **println** statement I added. Would appreciate any help on this!\r\n\r\n    public class App implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\r\n\r\n    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\r\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n        headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\r\n\r\n        APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent()\r\n                .withHeaders(headers);\r\n\r\n        try {\r\n\r\n            System.out.println(&quot;*** REQUEST CONTEXT ***&quot;);\r\n            System.out.println(input.getRequestContext());\r\n\r\n            final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\r\n            String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello There!\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\r\n\r\n            return response\r\n                    .withStatusCode(200)\r\n                    .withBody(output);\r\n        } catch (IOException e) {\r\n            return response\r\n                    .withBody(&quot;{}&quot;)\r\n                    .withStatusCode(500);\r\n        }\r\n    }\r\n\r\n    private String getPageContents(String address) throws IOException {\r\n        URL url = new URL(address);\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\r\n            return br.lines().collect(Collectors.joining(System.lineSeparator()));\r\n        }\r\n    }\r\n}\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent.getRequestContext()&quot; because &quot;input&quot; is null","title":"Null Pointer when invoking getRequestContext on APIGatewayProxyRequestEvent - AWS Lambda (Java)","body":"<p>Relatively new to Java and I'm just trying to print out the contents of my request context. Not sure how to get past this null pointer exception. This is thrown while building, not on runtime. Which confuses me even more. Anyway, here's my code. It's just a boiler plate SAM Lambda handler function with <strong>println</strong> statement I added. Would appreciate any help on this!</p>\n<pre><code>public class App implements RequestHandler&lt;APIGatewayProxyRequestEvent, APIGatewayProxyResponseEvent&gt; {\n\npublic APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent input, final Context context) {\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    headers.put(&quot;X-Custom-Header&quot;, &quot;application/json&quot;);\n\n    APIGatewayProxyResponseEvent response = new APIGatewayProxyResponseEvent()\n            .withHeaders(headers);\n\n    try {\n\n        System.out.println(&quot;*** REQUEST CONTEXT ***&quot;);\n        System.out.println(input.getRequestContext());\n\n        final String pageContents = this.getPageContents(&quot;https://checkip.amazonaws.com&quot;);\n        String output = String.format(&quot;{ \\&quot;message\\&quot;: \\&quot;Hello There!\\&quot;, \\&quot;location\\&quot;: \\&quot;%s\\&quot; }&quot;, pageContents);\n\n        return response\n                .withStatusCode(200)\n                .withBody(output);\n    } catch (IOException e) {\n        return response\n                .withBody(&quot;{}&quot;)\n                .withStatusCode(500);\n    }\n}\n\nprivate String getPageContents(String address) throws IOException {\n    URL url = new URL(address);\n    try (BufferedReader br = new BufferedReader(new InputStreamReader(url.openStream()))) {\n        return br.lines().collect(Collectors.joining(System.lineSeparator()));\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent.getRequestContext()&quot; because &quot;input&quot; is null\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667834636,"post_id":74348724,"comment_id":131256281,"body_markdown":"No. Only for `public` and `protected` methods. the `private` and `default` methods cannot be proxied. So by default that won&#39;t work.","body":"No. Only for <code>public</code> and <code>protected</code> methods. the <code>private</code> and <code>default</code> methods cannot be proxied. So by default that won&#39;t work."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1667834806,"post_id":74348724,"comment_id":131256355,"body_markdown":"@M.Deinum so the class can be `default`, but the method where is `@Transactional` used should be `public` or `protected`, yes?","body":"@M.Deinum so the class can be <code>default</code>, but the method where is <code>@Transactional</code> used should be <code>public</code> or <code>protected</code>, yes?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667835026,"post_id":74348724,"comment_id":131256438,"body_markdown":"That should work, in theory.","body":"That should work, in theory."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1667835988,"post_id":74348724,"comment_id":131256795,"body_markdown":"@M.Deinum The documentation says to consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving.\n\nIf I do have `self` then I call this method by a bean proxy, so shouldn&#39;t it force Spring Aspect to handle `@Transactional`?","body":"@M.Deinum The documentation says to consider the tip in the following paragraph for class-based proxies or consider using AspectJ compile-time or load-time weaving.  If I do have <code>self</code> then I call this method by a bean proxy, so shouldn&#39;t it force Spring Aspect to handle <code>@Transactional</code>?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667837578,"post_id":74348724,"comment_id":131257403,"body_markdown":"No you can still use a proxy.","body":"No you can still use a proxy."},{"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"score":0,"creation_date":1667839401,"post_id":74348724,"comment_id":131258104,"body_markdown":"@M.Deinum How I can test if the `@Transactional` does not work in my case? Is there an easy way for an INT test? I checked also `TransactionSynchronizationManager.isActualTransactionActive()` and it returns true, so does it mean it works as expected?","body":"@M.Deinum How I can test if the <code>@Transactional</code> does not work in my case? Is there an easy way for an INT test? I checked also <code>TransactionSynchronizationManager.isActualTransactionActive(&zwnj;&#8203;)</code> and it returns true, so does it mean it works as expected?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667846537,"post_id":74348724,"comment_id":131260656,"body_markdown":"There wouldn&#39;t be any data in the database if it didn&#39;t work, as you can only persist/change data with a transaction.","body":"There wouldn&#39;t be any data in the database if it didn&#39;t work, as you can only persist/change data with a transaction."}],"owner":{"account_id":14856402,"reputation":697,"user_id":10728774,"display_name":"Reddi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667833627,"creation_date":1667833627,"question_id":74348724,"body_markdown":"The Spring&#39;s Data Access documentation says:\r\n&gt; * Register a custom AnnotationTransactionAttributeSource with the\r\n&gt; * publicMethodsOnly flag set to false to enable support for\r\n&gt; * protected and package-private @Transactional methods in\r\n&gt; * class-based proxies.\r\n\r\nAnd now I wonder, if the `@Transactional` will work in the below example or not. If not, then should I register this custom `AnnotationTransactionAttributeSource` or rather modify the method with the annotation to be public?\r\n```\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nclass ServiceA {\r\n\tprivate final ServiceA self;\r\n\r\n\tServiceA(ServiceA self) {\r\n\t\tthis.self = self;\r\n\t}\r\n\r\n\tvoid foo() {\r\n\t\tself.bar();\r\n\t}\r\n\r\n\t@Transactional\r\n\tvoid bar() {\r\n\t\t// ...\r\n\t}\r\n}\r\n```\r\n","title":"Does @Transactional annotation work on package-private methods with proxy?","body":"<p>The Spring's Data Access documentation says:</p>\n<blockquote>\n<ul>\n<li>Register a custom AnnotationTransactionAttributeSource with the</li>\n<li>publicMethodsOnly flag set to false to enable support for</li>\n<li>protected and package-private @Transactional methods in</li>\n<li>class-based proxies.</li>\n</ul>\n</blockquote>\n<p>And now I wonder, if the <code>@Transactional</code> will work in the below example or not. If not, then should I register this custom <code>AnnotationTransactionAttributeSource</code> or rather modify the method with the annotation to be public?</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\nclass ServiceA {\n    private final ServiceA self;\n\n    ServiceA(ServiceA self) {\n        this.self = self;\n    }\n\n    void foo() {\n        self.bar();\n    }\n\n    @Transactional\n    void bar() {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":["java","neo4j"],"answers":[{"tags":[],"owner":{"account_id":18064861,"reputation":41,"user_id":13131051,"display_name":"Karl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585251719,"creation_date":1585251719,"answer_id":60874959,"question_id":60104512,"body_markdown":"I ran into the same exception when I tried to create an uber-jar for a project that included Neo4j as an embedded database. At that point I used the maven-assembly-plugin as well.\r\n\r\nThe solution I found was to use the [maven-shade-plugin][1] instead and to include a [ServicesResourceTransformer][2] in the configuration of the plugin.\r\n\r\nThe entry of the maven-shade-plugin in my pom.xml looks like this:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.2&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;package&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;shade&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;transformers&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                &lt;manifestEntries&gt;\r\n                  &lt;mainClass&gt;{myPackageHere}.App&lt;/mainClass&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/transformer&gt;\r\n              &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n            &lt;/transformers&gt;\r\n            &lt;filters&gt;\r\n              ...\r\n            &lt;/filters&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI build the jar file with the `mvn clean package` command. Executing the jar via `java -jar &lt;name&gt;.jar` gave me the exact same result as running the app from my IDE and did not throw the exception above.\r\n\r\n**Some additional context**: The output of the maven-shade-plugin clearly indicates that multiple Neo4j dependencies intend to include overlapping services in the `META-INF/services` directory of the jar, e.g.\r\n\r\n    [WARNING] neo4j-configuration-4.0.2.jar, neo4j-dbms-4.0.2.jar, neo4j-fulltext-index-4.0.2.jar, neo4j-kernel-4.0.2.jar, neo4j-ssl-4.0.2.jar define 1 overlapping resources: \r\n    [WARNING]   - META-INF/services/org.neo4j.configuration.SettingsDeclaration\r\n\r\nIt is my understanding that the maven-shade-plugin will only keep the last instance of the respective resource it sees during its execution. The ServicesResourceTransformer will aggregate the resources by appending their content.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/\r\n  [2]: https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer","title":"Neo4j embedded throws IllegalArgumentException: Config has no association with setting: &#39;unsupported.dbms.lucene.ephemeral&#39;","body":"<p>I ran into the same exception when I tried to create an uber-jar for a project that included Neo4j as an embedded database. At that point I used the maven-assembly-plugin as well.</p>\n\n<p>The solution I found was to use the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven-shade-plugin</a> instead and to include a <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#ServicesResourceTransformer\" rel=\"nofollow noreferrer\">ServicesResourceTransformer</a> in the configuration of the plugin.</p>\n\n<p>The entry of the maven-shade-plugin in my pom.xml looks like this:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n            &lt;manifestEntries&gt;\n              &lt;mainClass&gt;{myPackageHere}.App&lt;/mainClass&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/transformer&gt;\n          &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n        &lt;/transformers&gt;\n        &lt;filters&gt;\n          ...\n        &lt;/filters&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I build the jar file with the <code>mvn clean package</code> command. Executing the jar via <code>java -jar &lt;name&gt;.jar</code> gave me the exact same result as running the app from my IDE and did not throw the exception above.</p>\n\n<p><strong>Some additional context</strong>: The output of the maven-shade-plugin clearly indicates that multiple Neo4j dependencies intend to include overlapping services in the <code>META-INF/services</code> directory of the jar, e.g.</p>\n\n<pre><code>[WARNING] neo4j-configuration-4.0.2.jar, neo4j-dbms-4.0.2.jar, neo4j-fulltext-index-4.0.2.jar, neo4j-kernel-4.0.2.jar, neo4j-ssl-4.0.2.jar define 1 overlapping resources: \n[WARNING]   - META-INF/services/org.neo4j.configuration.SettingsDeclaration\n</code></pre>\n\n<p>It is my understanding that the maven-shade-plugin will only keep the last instance of the respective resource it sees during its execution. The ServicesResourceTransformer will aggregate the resources by appending their content.</p>\n"},{"tags":[],"owner":{"account_id":26857093,"reputation":11,"user_id":20441234,"display_name":"mtorpey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667833550,"creation_date":1667833550,"answer_id":74348703,"question_id":60104512,"body_markdown":"I had a very similar bug, and just found a fix after hours of debugging.  I suspect it&#39;ll be the same thing for you.\r\n\r\n# Problem\r\n\r\nThe problem is related to **service loading**, a Java feature I previously knew nothing about.  In order to remain &quot;pluggable&quot;, neo4j loads a lot of its services dynamically, by declaring an interface that describes a &quot;service&quot; and implementing it with several &quot;service providers&quot; that are identified at runtime.  This is a [fairly common pattern](https://pedrorijo.com/blog/java-service-loader/) in Java projects.\r\n\r\nOne example is the interface `org.neo4j.configuration.SettingsDeclaration`, which has implementations in various packages in the neo4j project, including `org.neo4j.configuration.GraphDatabaseSettings`, which is needed in order for any graph databases to be configured.  When run from a local build (in your case, your IDE) these are all found in the classpath and everything works fine.  But when run from an executable jar, we need to declare them all explicitly in a file called `META-INF/services/org.neo4j.configuration.SettingsDeclaration`, on one line each.\r\n\r\nThe problem arises because `maven-assembly-plugin` copies these `services/` files fairly dumbly, and the declared services from one package can overwrite those from another.  For me this meant that only one implementation of `SettingsDeclaration` was being loaded, where there should have been 15.  This causes things to fail in mysterious ways, with unhelpful error messages appearing when you actually try to create a database.\r\n\r\n# Solution\r\n\r\nIf two `services/*` files exist with the same name, in different imported packages, we need to *merge* them instead of overwriting.  Fortunately, `maven-assembly-plugin` has a feature just for this: the `metaInf-services` handler.  We need to configure the plugin to use this handler.\r\n\r\nYour `pom.xml` contains the following element in the configuration of the plugin:\r\n```xml\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n```\r\nThis is telling the plugin to use the pre-defined `jar-with-dependencies` descriptor, which does most of what we want.  But to get the behaviour we want, we&#39;ll need to create our own descriptor.\r\n\r\nReplace the above `descriptorRefs` element with the following:\r\n```xml\r\n                    &lt;descriptors&gt;\r\n                        &lt;descriptor&gt;src/assembly/my-jar-descriptor.xml&lt;/descriptor&gt;\r\n                    &lt;/descriptors&gt;\r\n```\r\nThis is telling the plugin to look in `src/assembly/my-jar-descriptor.xml` for a descriptor that it can use to build the jar.  You should create such a file, with the following contents:\r\n```xml\r\n&lt;!-- Based on jar-with-dependencies, one of the defaults available in Maven --&gt;\r\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\r\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\r\n    &lt;id&gt;complete&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;jar&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n            &lt;unpack&gt;true&lt;/unpack&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n\r\n    &lt;!-- This element added to make sure files in META-INF/services are merged from all packages. --&gt;\r\n    &lt;containerDescriptorHandlers&gt;\r\n        &lt;containerDescriptorHandler&gt;\r\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\r\n        &lt;/containerDescriptorHandler&gt;\r\n    &lt;/containerDescriptorHandlers&gt;\r\n&lt;/assembly&gt;\r\n```\r\nThis is identical to the definition of `jar-with-dependencies` which you can find on the Maven website.  Except that we&#39;ve added that one `containerDescriptorHandlers` element at the bottom, which tells the plugin to use the `metaInf-services` handler.  This means that the plugin will merge the `services` files instead of overwriting them, and so neo4j should have access to all the configuration stuff it needs, even when loaded from a jar.\r\n\r\nI hope this works for you.  It felt like a miracle to me (a Maven newbie) after countless hours of debugging and questioning my life choices.\r\n\r\nI wonder why this behaviour isn&#39;t included in `jar-with-dependencies` by default.  It seems harmless, and would&#39;ve saved me a lot of trouble.","title":"Neo4j embedded throws IllegalArgumentException: Config has no association with setting: &#39;unsupported.dbms.lucene.ephemeral&#39;","body":"<p>I had a very similar bug, and just found a fix after hours of debugging.  I suspect it'll be the same thing for you.</p>\n<h1>Problem</h1>\n<p>The problem is related to <strong>service loading</strong>, a Java feature I previously knew nothing about.  In order to remain &quot;pluggable&quot;, neo4j loads a lot of its services dynamically, by declaring an interface that describes a &quot;service&quot; and implementing it with several &quot;service providers&quot; that are identified at runtime.  This is a <a href=\"https://pedrorijo.com/blog/java-service-loader/\" rel=\"nofollow noreferrer\">fairly common pattern</a> in Java projects.</p>\n<p>One example is the interface <code>org.neo4j.configuration.SettingsDeclaration</code>, which has implementations in various packages in the neo4j project, including <code>org.neo4j.configuration.GraphDatabaseSettings</code>, which is needed in order for any graph databases to be configured.  When run from a local build (in your case, your IDE) these are all found in the classpath and everything works fine.  But when run from an executable jar, we need to declare them all explicitly in a file called <code>META-INF/services/org.neo4j.configuration.SettingsDeclaration</code>, on one line each.</p>\n<p>The problem arises because <code>maven-assembly-plugin</code> copies these <code>services/</code> files fairly dumbly, and the declared services from one package can overwrite those from another.  For me this meant that only one implementation of <code>SettingsDeclaration</code> was being loaded, where there should have been 15.  This causes things to fail in mysterious ways, with unhelpful error messages appearing when you actually try to create a database.</p>\n<h1>Solution</h1>\n<p>If two <code>services/*</code> files exist with the same name, in different imported packages, we need to <em>merge</em> them instead of overwriting.  Fortunately, <code>maven-assembly-plugin</code> has a feature just for this: the <code>metaInf-services</code> handler.  We need to configure the plugin to use this handler.</p>\n<p>Your <code>pom.xml</code> contains the following element in the configuration of the plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n</code></pre>\n<p>This is telling the plugin to use the pre-defined <code>jar-with-dependencies</code> descriptor, which does most of what we want.  But to get the behaviour we want, we'll need to create our own descriptor.</p>\n<p>Replace the above <code>descriptorRefs</code> element with the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/assembly/my-jar-descriptor.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n</code></pre>\n<p>This is telling the plugin to look in <code>src/assembly/my-jar-descriptor.xml</code> for a descriptor that it can use to build the jar.  You should create such a file, with the following contents:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Based on jar-with-dependencies, one of the defaults available in Maven --&gt;\n&lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.1.1&quot;\n          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n          xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.1.1 https://maven.apache.org/xsd/assembly-2.1.1.xsd&quot;&gt;\n    &lt;id&gt;complete&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;jar&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n            &lt;unpack&gt;true&lt;/unpack&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n\n    &lt;!-- This element added to make sure files in META-INF/services are merged from all packages. --&gt;\n    &lt;containerDescriptorHandlers&gt;\n        &lt;containerDescriptorHandler&gt;\n            &lt;handlerName&gt;metaInf-services&lt;/handlerName&gt;\n        &lt;/containerDescriptorHandler&gt;\n    &lt;/containerDescriptorHandlers&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>This is identical to the definition of <code>jar-with-dependencies</code> which you can find on the Maven website.  Except that we've added that one <code>containerDescriptorHandlers</code> element at the bottom, which tells the plugin to use the <code>metaInf-services</code> handler.  This means that the plugin will merge the <code>services</code> files instead of overwriting them, and so neo4j should have access to all the configuration stuff it needs, even when loaded from a jar.</p>\n<p>I hope this works for you.  It felt like a miracle to me (a Maven newbie) after countless hours of debugging and questioning my life choices.</p>\n<p>I wonder why this behaviour isn't included in <code>jar-with-dependencies</code> by default.  It seems harmless, and would've saved me a lot of trouble.</p>\n"}],"owner":{"account_id":17706552,"reputation":91,"user_id":12854978,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1667833550,"creation_date":1581028123,"question_id":60104512,"body_markdown":"I am currently developing a java application (with maven) with an embedded neo4j database. I followed the [official guide](https://neo4j.com/docs/java-reference/current/java-embedded/hello-world/) and also looked at the [examples on github](https://github.com/neo4j/neo4j-documentation/blob/4.0/embedded-examples/src/main/java/org/neo4j/examples/EmbeddedNeo4j.java).\r\n\r\nMy code looks like this now: \r\n\r\n```\r\nimport org.neo4j.dbms.api.DatabaseManagementService;\r\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\r\nimport org.neo4j.graphdb.*;\r\n\r\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\r\n\r\npublic class GraphDatabase {\r\n\r\n    private DatabaseManagementService managementService;\r\n    private GraphDatabaseService databaseService;\r\n\r\n    public void start(String dir) {\r\n        managementService = new DatabaseManagementServiceBuilder(new File(dir)).build();\r\n\r\n        databaseService = managementService.database(DEFAULT_DATABASE_NAME);\r\n    }\r\n...\r\n}\r\n```\r\n\r\nIn the pom.xml i included:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n   &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n   &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n...\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                &lt;mainClass&gt;{myPackageHere}.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWhen running in Intellij IDE there are no problems, but when i compile with `mvn package` and execute with `java -jar &lt;name&gt;.jar` I get the following exception:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Config has no association with setting: &#39;unsupported.dbms.lucene.ephemeral&#39;\r\n        at org.neo4j.configuration.Config.getObserver(Config.java:635)\r\n        at org.neo4j.configuration.Config.set(Config.java:653)\r\n        at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.newDatabaseManagementService(DatabaseManagementServiceBuilder.java:83)\r\n        at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.build(DatabaseManagementServiceBuilder.java:78)\r\n```\r\n\r\nI tried this on both linux and windows with the same exception.\r\n\r\nAnyone has an idea what my problem might be?\r\n\r\n**Update:**\r\n\r\nI removed the maven-assembly-plugin. If I compile and run the projekt like this, it works:\r\n\r\n```\r\nmvn compile\r\nmvn exec:java -Dexec.mainClass={myPackageHere}.App\r\n```\r\n\r\nBut I would still prefere a jar...","title":"Neo4j embedded throws IllegalArgumentException: Config has no association with setting: &#39;unsupported.dbms.lucene.ephemeral&#39;","body":"<p>I am currently developing a java application (with maven) with an embedded neo4j database. I followed the <a href=\"https://neo4j.com/docs/java-reference/current/java-embedded/hello-world/\" rel=\"nofollow noreferrer\">official guide</a> and also looked at the <a href=\"https://github.com/neo4j/neo4j-documentation/blob/4.0/embedded-examples/src/main/java/org/neo4j/examples/EmbeddedNeo4j.java\" rel=\"nofollow noreferrer\">examples on github</a>.</p>\n\n<p>My code looks like this now: </p>\n\n<pre><code>import org.neo4j.dbms.api.DatabaseManagementService;\nimport org.neo4j.dbms.api.DatabaseManagementServiceBuilder;\nimport org.neo4j.graphdb.*;\n\nimport static org.neo4j.configuration.GraphDatabaseSettings.DEFAULT_DATABASE_NAME;\n\npublic class GraphDatabase {\n\n    private DatabaseManagementService managementService;\n    private GraphDatabaseService databaseService;\n\n    public void start(String dir) {\n        managementService = new DatabaseManagementServiceBuilder(new File(dir)).build();\n\n        databaseService = managementService.database(DEFAULT_DATABASE_NAME);\n    }\n...\n}\n</code></pre>\n\n<p>In the pom.xml i included:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n   &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n   &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n...\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                &lt;mainClass&gt;{myPackageHere}.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>When running in Intellij IDE there are no problems, but when i compile with <code>mvn package</code> and execute with <code>java -jar &lt;name&gt;.jar</code> I get the following exception:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Config has no association with setting: 'unsupported.dbms.lucene.ephemeral'\n        at org.neo4j.configuration.Config.getObserver(Config.java:635)\n        at org.neo4j.configuration.Config.set(Config.java:653)\n        at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.newDatabaseManagementService(DatabaseManagementServiceBuilder.java:83)\n        at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.build(DatabaseManagementServiceBuilder.java:78)\n</code></pre>\n\n<p>I tried this on both linux and windows with the same exception.</p>\n\n<p>Anyone has an idea what my problem might be?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I removed the maven-assembly-plugin. If I compile and run the projekt like this, it works:</p>\n\n<pre><code>mvn compile\nmvn exec:java -Dexec.mainClass={myPackageHere}.App\n</code></pre>\n\n<p>But I would still prefere a jar...</p>\n"},{"tags":["java","ruby"],"answers":[{"comments":[{"owner":{"account_id":88859,"reputation":1362,"user_id":245543,"accept_rate":70,"display_name":"Ondrej Sotolar"},"score":0,"creation_date":1291474287,"post_id":4354015,"comment_id":4737171,"body_markdown":"Thanks, works fine. I declared size of the array intentionaly, so as not to increase the size each time I add a new element (in Java i needn&#39;t declared the size either). Is there some way to do this in Ruby?","body":"Thanks, works fine. I declared size of the array intentionaly, so as not to increase the size each time I add a new element (in Java i needn&#39;t declared the size either). Is there some way to do this in Ruby?"},{"owner":{"account_id":85750,"reputation":104355,"user_id":238886,"accept_rate":90,"display_name":"Wayne Conrad"},"score":0,"creation_date":1291475305,"post_id":4354015,"comment_id":4737257,"body_markdown":"If I recall, Ruby reallocates array memory in chunks so that it doesn&#39;t have to be reallocated every time it is expanded.  But to allocate a array of `size` nils, `[nil] * size` will do it.","body":"If I recall, Ruby reallocates array memory in chunks so that it doesn&#39;t have to be reallocated every time it is expanded.  But to allocate a array of <code>size</code> nils, <code>[nil] * size</code> will do it."},{"owner":{"account_id":85750,"reputation":104355,"user_id":238886,"accept_rate":90,"display_name":"Wayne Conrad"},"score":0,"creation_date":1291475859,"post_id":4354015,"comment_id":4737314,"body_markdown":"@user245543, I went back to the source (array.c); my memory is correct.  Ruby creates arrays with enough room for 16 elements and then grows it in chunks as needed (if I&#39;m not mistaken, the more elements in the array, the more memory is added to it).  Time used to allocate arrays should seldom be a concern.","body":"@user245543, I went back to the source (array.c); my memory is correct.  Ruby creates arrays with enough room for 16 elements and then grows it in chunks as needed (if I&#39;m not mistaken, the more elements in the array, the more memory is added to it).  Time used to allocate arrays should seldom be a concern."},{"owner":{"account_id":17355,"reputation":79151,"user_id":38765,"accept_rate":68,"display_name":"Andrew Grimm"},"score":0,"creation_date":1291551825,"post_id":4354015,"comment_id":4743100,"body_markdown":"Is `each_char` ruby 1.8.7+ only?","body":"Is <code>each_char</code> ruby 1.8.7+ only?"},{"owner":{"account_id":85750,"reputation":104355,"user_id":238886,"accept_rate":90,"display_name":"Wayne Conrad"},"score":0,"creation_date":1291565727,"post_id":4354015,"comment_id":4744455,"body_markdown":"@Andrew Grimm, Yes, or from the backports gem.  Answer edited.","body":"@Andrew Grimm, Yes, or from the backports gem.  Answer edited."}],"tags":[],"owner":{"account_id":85750,"reputation":104355,"user_id":238886,"accept_rate":90,"display_name":"Wayne Conrad"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1291565686,"creation_date":1291473497,"answer_id":4354015,"question_id":4353929,"body_markdown":"In Ruby, arrays grow automatically as needed.  So change your array initialization from:\r\n\r\n    array = Array.new(arrayOfString.size**strength)\r\n\r\nto\r\n\r\n    array = []\r\n\r\nTo enumerate over each character in a string, instead of\r\n\r\n    for i in arrayOfString do\r\n\r\ndo this:\r\n\r\n    arrayOfString.each_char do |i|\r\n\r\nThe final result:\r\n\r\n    #!/usr/bin/ruby1.8\r\n    \r\n    def Variation (strength, arrayOfString)\r\n      array = []\r\n      if strength == 0\r\n        array &lt;&lt; &quot;&quot;\r\n      else\r\n        a = Variation(strength - 1, arrayOfString)\r\n        arrayOfString.each_char do |i|\r\n          for j in a do\r\n            array &lt;&lt; (i + j)\r\n          end\r\n        end\r\n      end\r\n      return array\r\n    end\r\n    \r\n    p Variation(2, &#39;01&#39;)    # =&gt; [&quot;00&quot;, &quot;01&quot;, &quot;10&quot;, &quot;11&quot;]\r\n\r\neach_char is in Ruby &gt;= 1.8.7, or you can get it from the [backports gem][1].\r\n\r\n  [1]: https://github.com/marcandre/backports","title":"Ruby Variation with repeating buggy method","body":"<p>In Ruby, arrays grow automatically as needed.  So change your array initialization from:</p>\n\n<pre><code>array = Array.new(arrayOfString.size**strength)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>array = []\n</code></pre>\n\n<p>To enumerate over each character in a string, instead of</p>\n\n<pre><code>for i in arrayOfString do\n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>arrayOfString.each_char do |i|\n</code></pre>\n\n<p>The final result:</p>\n\n<pre><code>#!/usr/bin/ruby1.8\n\ndef Variation (strength, arrayOfString)\n  array = []\n  if strength == 0\n    array &lt;&lt; \"\"\n  else\n    a = Variation(strength - 1, arrayOfString)\n    arrayOfString.each_char do |i|\n      for j in a do\n        array &lt;&lt; (i + j)\n      end\n    end\n  end\n  return array\nend\n\np Variation(2, '01')    # =&gt; [\"00\", \"01\", \"10\", \"11\"]\n</code></pre>\n\n<p>each_char is in Ruby >= 1.8.7, or you can get it from the <a href=\"https://github.com/marcandre/backports\" rel=\"nofollow\">backports gem</a>.</p>\n"}],"owner":{"account_id":88859,"reputation":1362,"user_id":245543,"accept_rate":70,"display_name":"Ondrej Sotolar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4354015,"answer_count":1,"score":2,"last_activity_date":1667833457,"creation_date":1291472379,"question_id":4353929,"body_markdown":"I need a method written in Ruby which computes Variations. I have already written it in Java, but as I&#39;m new to Ruby, there&#39;s just something I&#39;m missing about the Ruby implementation. \r\n\r\nThe method is supposed to do this:\r\n```ruby\r\nmethod(1, &quot;01&quot;) =&gt; [&quot;0&quot;, &quot;1&quot;] &lt;br&gt;\r\nmethod(2, &quot;01&quot;) =&gt; [&quot;00&quot;, &quot;01&quot;, &quot;10&quot;, &quot;11&quot;] ...so you get the idea.\r\n```\r\nnote: in the Ruby implementation, I give params like this:\r\n```ruby\r\nmethod(2, [&quot;0&quot;, 1&quot;])\r\n```\r\nbut that&#39;s not an issue.\r\n\r\nMy Java implementation:\r\n\r\n    public static List&lt;String&gt; Variations(int strength, String usableChars) {\r\n        List&lt;String&gt; list = \r\n            new ArrayList&lt;String&gt;((int) Math.pow(usableChars.length(), strength));\r\n \r\n        if (strength == 0) {\r\n            list.add(&quot;&quot;);\r\n        } else {\r\n            List&lt;String&gt; l = Variations(strength - 1, usableChars);\r\n            for (char c : usableChars.toCharArray()) {\r\n                for (String s : l) {\r\n                    list.add(c + s);\r\n                }\r\n            }\r\n        }\r\n        return list;\r\n    }\r\n\r\nAnd it&#39;s working fine. But this is my Ruby implementation:\r\n\r\n    def Variation (strength, arrayOfString)\r\n        array = Array.new(arrayOfString.size**strength)\r\n    \r\n        if strength == 0\r\n            array &lt;&lt; &quot;&quot;\r\n        else\r\n            a = Variation(strength-1, arrayOfString)\r\n            for i in arrayOfString do\r\n                for j in a do\r\n                    array &lt;&lt; (i + j)\r\n                end\r\n            end\r\n        end\r\n        return array \r\n    end\r\n\r\nIn this, I keep getting an error message\r\n```none\r\ntest.rb:10:in `Variation&#39;: can&#39;t convert nil into String (TypeError).\r\n```","title":"Ruby Variation with repeating buggy method","body":"<p>I need a method written in Ruby which computes Variations. I have already written it in Java, but as I'm new to Ruby, there's just something I'm missing about the Ruby implementation.</p>\n<p>The method is supposed to do this:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>method(1, &quot;01&quot;) =&gt; [&quot;0&quot;, &quot;1&quot;] &lt;br&gt;\nmethod(2, &quot;01&quot;) =&gt; [&quot;00&quot;, &quot;01&quot;, &quot;10&quot;, &quot;11&quot;] ...so you get the idea.\n</code></pre>\n<p>note: in the Ruby implementation, I give params like this:</p>\n<pre class=\"lang-rb prettyprint-override\"><code>method(2, [&quot;0&quot;, 1&quot;])\n</code></pre>\n<p>but that's not an issue.</p>\n<p>My Java implementation:</p>\n<pre><code>public static List&lt;String&gt; Variations(int strength, String usableChars) {\n    List&lt;String&gt; list = \n        new ArrayList&lt;String&gt;((int) Math.pow(usableChars.length(), strength));\n\n    if (strength == 0) {\n        list.add(&quot;&quot;);\n    } else {\n        List&lt;String&gt; l = Variations(strength - 1, usableChars);\n        for (char c : usableChars.toCharArray()) {\n            for (String s : l) {\n                list.add(c + s);\n            }\n        }\n    }\n    return list;\n}\n</code></pre>\n<p>And it's working fine. But this is my Ruby implementation:</p>\n<pre><code>def Variation (strength, arrayOfString)\n    array = Array.new(arrayOfString.size**strength)\n\n    if strength == 0\n        array &lt;&lt; &quot;&quot;\n    else\n        a = Variation(strength-1, arrayOfString)\n        for i in arrayOfString do\n            for j in a do\n                array &lt;&lt; (i + j)\n            end\n        end\n    end\n    return array \nend\n</code></pre>\n<p>In this, I keep getting an error message</p>\n<pre class=\"lang-none prettyprint-override\"><code>test.rb:10:in `Variation': can't convert nil into String (TypeError).\n</code></pre>\n"},{"tags":["java","oracle"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1667833323,"post_id":74348558,"comment_id":131255778,"body_markdown":"How are you retaining the FK if the address table now has a (dummy?) `ver_id` of zero? Do you even still need that column in that table?","body":"How are you retaining the FK if the address table now has a (dummy?) <code>ver_id</code> of zero? Do you even still need that column in that table?"},{"owner":{"account_id":23736008,"reputation":25,"user_id":17754688,"display_name":"umang"},"score":0,"creation_date":1667833670,"post_id":74348558,"comment_id":131255933,"body_markdown":"written stored procedure which will insert new address with new addr_id and ver_id=0 (here 0 indicates address is normalized) and update parent table where  duplicate addr_id  &amp;ver_id are being used with new addr_id and then delete duplicate records in conclusion insert new address in child table and then make it refer in parent table so eventually all duplicate records become orphan and eligible to delete","body":"written stored procedure which will insert new address with new addr_id and ver_id=0 (here 0 indicates address is normalized) and update parent table where  duplicate addr_id  &amp;ver_id are being used with new addr_id and then delete duplicate records in conclusion insert new address in child table and then make it refer in parent table so eventually all duplicate records become orphan and eligible to delete"},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1667834071,"post_id":74348558,"comment_id":131256076,"body_markdown":"If you&#39;re only updating the employee table with the new `addr_id` (e.g. 11) but leaving the `ver_id` alone (e.g. 1/2/3), as your comment says and you&#39;ve shown in your &#39;expected after&#39; data then the PK/FK doesn&#39;t work - you&#39;d either need to keep the old address rows with those `ver_id` values, or update all the employee `ver_id` values to zero, or change the PK/FK to only cover the `addr_id` column (and maybe drop `ver_id` from the address table if it isn&#39;t used any more).","body":"If you&#39;re only updating the employee table with the new <code>addr_id</code> (e.g. 11) but leaving the <code>ver_id</code> alone (e.g. 1/2/3), as your comment says and you&#39;ve shown in your &#39;expected after&#39; data then the PK/FK doesn&#39;t work - you&#39;d either need to keep the old address rows with those <code>ver_id</code> values, or update all the employee <code>ver_id</code> values to zero, or change the PK/FK to only cover the <code>addr_id</code> column (and maybe drop <code>ver_id</code> from the address table if it isn&#39;t used any more)."},{"owner":{"account_id":23736008,"reputation":25,"user_id":17754688,"display_name":"umang"},"score":0,"creation_date":1667885181,"post_id":74348558,"comment_id":131268113,"body_markdown":"This is framework requirement and this is workaround but I want Address record to be referred by adr_id (PK ) only in future (Will skip ver_id in future queries ) while referring address record as adr_id is going to be unique per row. My only concern is how can I do these steps in minimum time . I have written stored procedure it just works but slow.","body":"This is framework requirement and this is workaround but I want Address record to be referred by adr_id (PK ) only in future (Will skip ver_id in future queries ) while referring address record as adr_id is going to be unique per row. My only concern is how can I do these steps in minimum time . I have written stored procedure it just works but slow."}],"owner":{"account_id":23736008,"reputation":25,"user_id":17754688,"display_name":"umang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667832866,"creation_date":1667832866,"question_id":74348558,"body_markdown":"Employee has multiple versions of addresses and given addresses are being duplicate needs to be removed and replaced with single unique address row and update parent table with newly inserted address id reference in optimal way .\r\n ```\r\nCREATE TABLE address (adr_id, ver_id, address) AS\r\nSELECT 1, 1, &#39;newYork&#39; FROM DUAL UNION ALL\r\nSELECT 1, 2, &#39;newYork&#39; FROM DUAL UNION ALL\r\nSELECT 1, 3, &#39;newYork&#39; FROM DUAL UNION ALL\r\nSELECT 4, 1, &#39;Washington&#39; FROM DUAL UNION ALL\r\nSELECT 4, 2, &#39;Washington&#39; FROM DUAL;\r\n\r\nCREATE TABLE employee (emp_id,adr_id,ver_id,) AS\r\nSELECT 100,1, 1 FROM DUAL UNION ALL\r\nSELECT 200,1, 2 FROM DUAL UNION ALL\r\nSELECT 300,1, 3 FROM DUAL UNION ALL\r\nSELECT 400,4, 1 FROM DUAL UNION ALL\r\nSELECT 500,4, 2 FROM DUAL;\r\n```\r\n**Before** \r\n```\r\nemployee\r\nid | adr_id | ver_id\r\n100     1       1           \r\n200     1       2\r\n300     1       3\r\n400     4       1   \r\n500     4       2 \r\n\r\nAddress \r\nadr_id | ver_id  | address\r\n1       1      newYork\r\n1       2      newYork\r\n1       3      newYork\r\n4       1      Washington\r\n4       2      Washington \r\n```\r\n\r\n**Expected After** \r\n\r\n```\r\nAddress\r\nadr_id | ver_id  | address\r\n11    0    newYork\r\n12    0    Washington\r\n\r\nemployee\r\nid | adr_id | ver_id\r\n100     11      1           \r\n200     11      2\r\n300     11      3\r\n400     12      1   \r\n500     12      2 \r\n```\r\nNote: There is foreign key constraint between Employee and Address table with composite key comprising of adr_id &amp; ver_id \r\nThis is being done using stored procedure but its too slow is there any parallel processing can be done here by some way? ","title":"Remove duplicate records from child table and update parent with newly inserted child records reference id for billions of records","body":"<p>Employee has multiple versions of addresses and given addresses are being duplicate needs to be removed and replaced with single unique address row and update parent table with newly inserted address id reference in optimal way .</p>\n<pre><code>CREATE TABLE address (adr_id, ver_id, address) AS\nSELECT 1, 1, 'newYork' FROM DUAL UNION ALL\nSELECT 1, 2, 'newYork' FROM DUAL UNION ALL\nSELECT 1, 3, 'newYork' FROM DUAL UNION ALL\nSELECT 4, 1, 'Washington' FROM DUAL UNION ALL\nSELECT 4, 2, 'Washington' FROM DUAL;\n\nCREATE TABLE employee (emp_id,adr_id,ver_id,) AS\nSELECT 100,1, 1 FROM DUAL UNION ALL\nSELECT 200,1, 2 FROM DUAL UNION ALL\nSELECT 300,1, 3 FROM DUAL UNION ALL\nSELECT 400,4, 1 FROM DUAL UNION ALL\nSELECT 500,4, 2 FROM DUAL;\n</code></pre>\n<p><strong>Before</strong></p>\n<pre><code>employee\nid | adr_id | ver_id\n100     1       1           \n200     1       2\n300     1       3\n400     4       1   \n500     4       2 \n\nAddress \nadr_id | ver_id  | address\n1       1      newYork\n1       2      newYork\n1       3      newYork\n4       1      Washington\n4       2      Washington \n</code></pre>\n<p><strong>Expected After</strong></p>\n<pre><code>Address\nadr_id | ver_id  | address\n11    0    newYork\n12    0    Washington\n\nemployee\nid | adr_id | ver_id\n100     11      1           \n200     11      2\n300     11      3\n400     12      1   \n500     12      2 \n</code></pre>\n<p>Note: There is foreign key constraint between Employee and Address table with composite key comprising of adr_id &amp; ver_id\nThis is being done using stored procedure but its too slow is there any parallel processing can be done here by some way?</p>\n"},{"tags":["java","linux","windows","javafx","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667834143,"post_id":74348523,"comment_id":131256102,"body_markdown":"Did you install that with the package manager?","body":"Did you install that with the package manager?"},{"owner":{"account_id":26599514,"reputation":1,"user_id":20221346,"display_name":"Aqua"},"score":0,"creation_date":1667835701,"post_id":74348523,"comment_id":131256690,"body_markdown":"I&#39;m sorry, i did not understand, what do you mean ?","body":"I&#39;m sorry, i did not understand, what do you mean ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667847665,"post_id":74348523,"comment_id":131261030,"body_markdown":"How did you install openjfx?","body":"How did you install openjfx?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667849208,"post_id":74348523,"comment_id":131261518,"body_markdown":"You don&#39;t describe how you created the jar which works on Windows and what is in it, nor the command you use to execute it, whether everything is packed in a single jar or if you have multiple jars, and whether you rely on JavaFX components being in the jar or separate.  While you may or may not use maven, the principle of creating a cross-platform Jar that contains JavaFX components is similar to the marked duplicate question.  In any case, a platform-specific build using jlink or jpackage is usually recommended instead.","body":"You don&#39;t describe how you created the jar which works on Windows and what is in it, nor the command you use to execute it, whether everything is packed in a single jar or if you have multiple jars, and whether you rely on JavaFX components being in the jar or separate.  While you may or may not use maven, the principle of creating a cross-platform Jar that contains JavaFX components is similar to the marked duplicate question.  In any case, a platform-specific build using jlink or jpackage is usually recommended instead."}],"owner":{"account_id":26599514,"reputation":1,"user_id":20221346,"display_name":"Aqua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667847503,"answer_count":0,"score":0,"last_activity_date":1667832729,"creation_date":1667832729,"question_id":74348523,"body_markdown":"I created JavaFx application on Windows.Then created jar file which works normal on windows.But when i try run this jar on Linux Mint i get this log:\r\n\r\n\r\n\r\n```\r\n. 07, 2022 3:15:00 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @6a7840b4&#39;\r\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\r\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\nat java.base/java.lang.Class.forName0(Native Method)\r\nat java.base/java.lang.Class.forName(Class.java:375)\r\nat com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\r\nat com.sun.glass.ui.Application.run(Application.java:146)\r\nat com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\r\nFailed to load Glass factory class\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.PlatformFactory.createApplication()&quot; because the return value of &quot;com.sun.glass.ui.PlatformFactory.getPlatformFactory()&quot; is null\r\nat com.sun.glass.ui.Application.run(Application.java:146)\r\nat com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\nat java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n \r\n\r\nI installed on Linux openjfx and i have openjdk 17.0.4.\r\nPlease, i&#39;m waiting any help.","title":"Can&#39;t run jar file of JavaFx application on Linux","body":"<p>I created JavaFx application on Windows.Then created jar file which works normal on windows.But when i try run this jar on Linux Mint i get this log:</p>\n<pre><code>. 07, 2022 3:15:00 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @6a7840b4'\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:375)\nat com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\nat com.sun.glass.ui.Application.run(Application.java:146)\nat com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\nat java.base/java.lang.Thread.run(Thread.java:833)\nFailed to load Glass factory class\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;com.sun.glass.ui.PlatformFactory.createApplication()&quot; because the return value of &quot;com.sun.glass.ui.PlatformFactory.getPlatformFactory()&quot; is null\nat com.sun.glass.ui.Application.run(Application.java:146)\nat com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\nat com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\nat com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\nat com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\nat com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I installed on Linux openjfx and i have openjdk 17.0.4.\nPlease, i'm waiting any help.</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","spring-data-mongodb"],"comments":[{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542023681,"post_id":53261607,"comment_id":93407469,"body_markdown":"which error/stacktrace?","body":"which error/stacktrace?"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542023911,"post_id":53261607,"comment_id":93407623,"body_markdown":"what is the compilation error saying?","body":"what is the compilation error saying?"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542023979,"post_id":53261607,"comment_id":93407670,"body_markdown":"I guess there is at least a closing bracket missing","body":"I guess there is at least a closing bracket missing"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542024035,"post_id":53261607,"comment_id":93407698,"body_markdown":"After `Aggregates.unwind(&quot;&quot;),` there should be some closing brackets? what arguments are you trying to give to the method call?","body":"After <code>Aggregates.unwind(&quot;&quot;),</code> there should be some closing brackets? what arguments are you trying to give to the method call?"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542024122,"post_id":53261607,"comment_id":93407745,"body_markdown":"Which `newAggregation` method do you try to invoke?","body":"Which <code>newAggregation</code> method do you try to invoke?"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1542024438,"post_id":53261607,"comment_id":93407928,"body_markdown":"I see only two arguments `Class&lt;T&gt;, List&lt;? extends AggregationOperation&gt;`. What do you see?","body":"I see only two arguments <code>Class&lt;T&gt;, List&lt;? extends AggregationOperation&gt;</code>. What do you see?"},{"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"score":0,"creation_date":1542024507,"post_id":53261607,"comment_id":93407962,"body_markdown":"Aggregation myDocAggr = newAggregation(match(Criteria.where(&quot;metaId.ref.uuid&quot;).is(datapodUUID)), group(&quot;uuid&quot;).max(&quot;version&quot;).as(&quot;version&quot;),\n\t\t\t\tlookupOperation); Works correctly but If try to add unwind,it gives me start giving error","body":"Aggregation myDocAggr = newAggregation(match(Criteria.where(&quot;metaId.ref.uuid&quot;).is(da&zwnj;&#8203;tapodUUID)), group(&quot;uuid&quot;).max(&quot;version&quot;).as(&quot;version&quot;), \t\t\t\tlookupOperation); Works correctly but If try to add unwind,it gives me start giving error"},{"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"score":0,"creation_date":1542024579,"post_id":53261607,"comment_id":93408004,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/183495/discussion-between-sheel-and-michaeak).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/183495/discussion-between-sheel-and-michaeak\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"score":0,"creation_date":1542089438,"post_id":53263460,"comment_id":93432120,"body_markdown":"which version of spring you are using for this code snippet, I am not able to add unwind and lookup in mine code.","body":"which version of spring you are using for this code snippet, I am not able to add unwind and lookup in mine code."},{"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"score":0,"creation_date":1542092773,"post_id":53263460,"comment_id":93433272,"body_markdown":"Thanks for providing a solution :-) Although unwind did not work for me, but I got a way to implement it.","body":"Thanks for providing a solution :-) Although unwind did not work for me, but I got a way to implement it."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1542111538,"post_id":53263460,"comment_id":93443356,"body_markdown":"You are welcome. Use `import static org.springframework.data.mongodb.core.aggregation.Aggregation.*;`. It has all the aggregation operators.","body":"You are welcome. Use <code>import static org.springframework.data.mongodb.core.aggregation.Aggregatio&zwnj;&#8203;n.*;</code>. It has all the aggregation operators."},{"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"score":0,"creation_date":1542112440,"post_id":53263460,"comment_id":93443839,"body_markdown":"I have constraints, cannot use monogo_spring_data greater than 1.90 so I have switched to mongo java driver, because I have huge records, want to use the cursor, Please let me know how can I add fields, using java.","body":"I have constraints, cannot use monogo_spring_data greater than 1.90 so I have switched to mongo java driver, because I have huge records, want to use the cursor, Please let me know how can I add fields, using java."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1542116660,"post_id":53263460,"comment_id":93446337,"body_markdown":"Don&#39;t mix &amp; match spring aggregation with java driver aggregation. Something like `Aggregates.addFields(new Field(&quot;metaId.ref.name&quot;, &quot;$simple.name&quot;))` should work for java driver. Convert rest of the aggregation operators to use java driver.","body":"Don&#39;t mix &amp; match spring aggregation with java driver aggregation. Something like <code>Aggregates.addFields(new Field(&quot;metaId.ref.name&quot;, &quot;$simple.name&quot;))</code> should work for java driver. Convert rest of the aggregation operators to use java driver."},{"owner":{"account_id":2370977,"reputation":667,"user_id":2075605,"display_name":"tequilacat"},"score":0,"creation_date":1564883908,"post_id":53263460,"comment_id":101174619,"body_markdown":"thank you, you just advised a generic way to use any MongoDB aggregations that haven&#39;t yet been implemented in Spring Data. Just return Document.parse(&quot;any json here&quot;) from toDocument()","body":"thank you, you just advised a generic way to use any MongoDB aggregations that haven&#39;t yet been implemented in Spring Data. Just return Document.parse(&quot;any json here&quot;) from toDocument()"}],"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1542031198,"creation_date":1542030123,"answer_id":53263460,"question_id":53261607,"body_markdown":"You are mixing the java driver `Aggregates` method with Spring `Aggregation` methods.\r\n\r\nAlso `$addFields` is still [`not supported`](https://jira.spring.io/browse/DATAMONGO-1887) in spring mongo.\r\n\r\nYou have to use below aggregation.\r\n\r\n    import static org.springframework.data.mongodb.core.aggregation.Aggregation.*;\r\n    Aggregation myDocAggr = newAggregation(\r\n           match(Criteria.where(&quot;metaId.ref.uuid&quot;).is(someUUID)), \r\n           group(&quot;uuid&quot;).max(&quot;version&quot;).as(&quot;version&quot;),\r\n           lookup(&quot;simple&quot;,&quot;execId.ref.uuid&quot;,&quot;uuid&quot;,&quot;simple&quot;),\r\n           unwind(&quot;simple&quot;),\r\n           new AggregationOperation(){ \r\n             @Override \r\n             public Document toDocument(AggregationOperationContext aoc) {\r\n                return new Document(&quot;$addFields&quot;,new Document(&quot;metaId.ref.name&quot;,&quot;$simple.name&quot;));\r\n             }\r\n          }\r\n    )\r\n    List&lt;Document&gt; mydocumentList=mongoTemplate.aggregate(myDocAggr,&quot;myDocument&quot;,Document.class).getMappedResults();","title":"How can I implement addFields mongoDB query in Java","body":"<p>You are mixing the java driver <code>Aggregates</code> method with Spring <code>Aggregation</code> methods.</p>\n\n<p>Also <code>$addFields</code> is still <a href=\"https://jira.spring.io/browse/DATAMONGO-1887\" rel=\"noreferrer\"><code>not supported</code></a> in spring mongo.</p>\n\n<p>You have to use below aggregation.</p>\n\n<pre><code>import static org.springframework.data.mongodb.core.aggregation.Aggregation.*;\nAggregation myDocAggr = newAggregation(\n       match(Criteria.where(\"metaId.ref.uuid\").is(someUUID)), \n       group(\"uuid\").max(\"version\").as(\"version\"),\n       lookup(\"simple\",\"execId.ref.uuid\",\"uuid\",\"simple\"),\n       unwind(\"simple\"),\n       new AggregationOperation(){ \n         @Override \n         public Document toDocument(AggregationOperationContext aoc) {\n            return new Document(\"$addFields\",new Document(\"metaId.ref.name\",\"$simple.name\"));\n         }\n      }\n)\nList&lt;Document&gt; mydocumentList=mongoTemplate.aggregate(myDocAggr,\"myDocument\",Document.class).getMappedResults();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1400419,"reputation":1726,"user_id":1329308,"display_name":"Vadim Zin4uk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580989583,"creation_date":1580989583,"answer_id":60094248,"question_id":53261607,"body_markdown":"Although the $addFields are not supported by spring mongo you can implement it by yourself:\r\n\r\n    import org.bson.Document;\r\n    import org.springframework.data.mongodb.core.aggregation.*;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n\r\n    public class AddFieldsOperation implements FieldsExposingAggregationOperation {\r\n        private Map&lt;String, Object&gt; fields = new LinkedHashMap&lt;&gt;();\r\n    \r\n        public AddFieldsOperation(String field, AggregationExpression expression) {\r\n            addField(field, expression);\r\n        }\r\n    \r\n        public AddFieldsOperation addField(String field, AggregationExpression expression) {\r\n            this.fields.put(field, expression.toDocument(Aggregation.DEFAULT_CONTEXT));\r\n            return this;\r\n        }\r\n    \r\n        @Override\r\n        public Document toDocument(AggregationOperationContext context) {\r\n            Document doc = new Document();\r\n            fields.forEach(doc::append);\r\n            return new Document(&quot;$addFields&quot;, doc);\r\n        }\r\n    \r\n        @Override\r\n        public boolean inheritsFields() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public ExposedFields getFields() {\r\n            final String[] fieldsArray = fields.keySet().toArray(new String[0]);\r\n            return ExposedFields.synthetic(Fields.fields(fieldsArray));\r\n        }\r\n\r\nAnd use it like this:\r\n\r\n    ...\r\n    ArithmeticOperators.Add value1 = ArithmeticOperators.Add.valueOf(0);\r\n    ArithmeticOperators.Add value2 = ArithmeticOperators.Add.valueOf(0);\r\n    AddFieldsOperation addFields\r\n                = new AddFieldsOperation(&quot;value1&quot;, value1)\r\n                .addField(&quot;value2&quot;, value2);\r\n    pipeline.add(addFields);\r\n    ...\r\n    Add value1PlusValue2 = Add.valueOf(&quot;$value1&quot;).add(&quot;$value2&quot;);\r\n    ...\r\n\r\nHope it will help someone.","title":"How can I implement addFields mongoDB query in Java","body":"<p>Although the $addFields are not supported by spring mongo you can implement it by yourself:</p>\n\n<pre><code>import org.bson.Document;\nimport org.springframework.data.mongodb.core.aggregation.*;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class AddFieldsOperation implements FieldsExposingAggregationOperation {\n    private Map&lt;String, Object&gt; fields = new LinkedHashMap&lt;&gt;();\n\n    public AddFieldsOperation(String field, AggregationExpression expression) {\n        addField(field, expression);\n    }\n\n    public AddFieldsOperation addField(String field, AggregationExpression expression) {\n        this.fields.put(field, expression.toDocument(Aggregation.DEFAULT_CONTEXT));\n        return this;\n    }\n\n    @Override\n    public Document toDocument(AggregationOperationContext context) {\n        Document doc = new Document();\n        fields.forEach(doc::append);\n        return new Document(\"$addFields\", doc);\n    }\n\n    @Override\n    public boolean inheritsFields() {\n        return true;\n    }\n\n    @Override\n    public ExposedFields getFields() {\n        final String[] fieldsArray = fields.keySet().toArray(new String[0]);\n        return ExposedFields.synthetic(Fields.fields(fieldsArray));\n    }\n</code></pre>\n\n<p>And use it like this:</p>\n\n<pre><code>...\nArithmeticOperators.Add value1 = ArithmeticOperators.Add.valueOf(0);\nArithmeticOperators.Add value2 = ArithmeticOperators.Add.valueOf(0);\nAddFieldsOperation addFields\n            = new AddFieldsOperation(\"value1\", value1)\n            .addField(\"value2\", value2);\npipeline.add(addFields);\n...\nAdd value1PlusValue2 = Add.valueOf(\"$value1\").add(\"$value2\");\n...\n</code></pre>\n\n<p>Hope it will help someone.</p>\n"},{"comments":[{"owner":{"account_id":7001148,"reputation":111,"user_id":5367150,"display_name":"grigory mendel"},"score":0,"creation_date":1685559138,"post_id":62385345,"comment_id":134678811,"body_markdown":"Do you happen to know how to add values of two other field and put as the value for the new field?","body":"Do you happen to know how to add values of two other field and put as the value for the new field?"}],"tags":[],"owner":{"account_id":2603594,"reputation":198,"user_id":2255297,"display_name":"user2255297"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592213704,"creation_date":1592213704,"answer_id":62385345,"question_id":53261607,"body_markdown":"Since version 3.0 of &#39;spring-data-mongodb&#39; it is actually possible to create a AddField aggration very easily. You can use the [AddFieldsOperationBuilder][1].\r\n\r\nIn the example below I add a string id field for the objectId field named `_id`.\r\nThe string field `idString` can get used in a lookup aggregation.\r\n\r\nExample:\r\n\r\n        AddFieldsOperation addFieldsOperation = Aggregation.addFields().addFieldWithValue(&quot;idString&quot;, ConvertOperators.ToString.toString(&quot;$_id&quot;)).build();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/AddFieldsOperation.AddFieldsOperationBuilder.html","title":"How can I implement addFields mongoDB query in Java","body":"<p>Since version 3.0 of 'spring-data-mongodb' it is actually possible to create a AddField aggration very easily. You can use the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/api/org/springframework/data/mongodb/core/aggregation/AddFieldsOperation.AddFieldsOperationBuilder.html\" rel=\"noreferrer\">AddFieldsOperationBuilder</a>.</p>\n\n<p>In the example below I add a string id field for the objectId field named <code>_id</code>.\nThe string field <code>idString</code> can get used in a lookup aggregation.</p>\n\n<p>Example:</p>\n\n<pre><code>    AddFieldsOperation addFieldsOperation = Aggregation.addFields().addFieldWithValue(\"idString\", ConvertOperators.ToString.toString(\"$_id\")).build();\n</code></pre>\n"}],"owner":{"account_id":2838973,"reputation":847,"user_id":2438930,"accept_rate":100,"display_name":"Sheel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16518,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":53263460,"answer_count":3,"score":11,"last_activity_date":1667832668,"creation_date":1542023571,"question_id":53261607,"body_markdown":"I have found several example at StackOverFlow related to addFields in Aggregation.\r\nBut no one implemented in Java.\r\n\r\n  \r\n```lang-js\r\ndb.getCollection(&#39;myDocument&#39;).aggregate([\r\n    {$match : {&quot;metaId.ref.uuid&quot; : &quot;d6112808-1ce1-4545-bd52-cf55bc4ed25e&quot;}},\r\n    {$lookup: {\r\n        from: &quot;simple&quot;,\r\n        localField: &quot;someId.ref.uuid&quot;,\r\n        foreignField: &quot;uuid&quot;, \r\n        as: &quot;simple&quot;}},\r\n    {&quot;$unwind&quot;: &quot;$simple&quot;},\r\n    {&quot;$addFields&quot;: { &quot;metaId.ref.name&quot; : &quot;$simple.name&quot; }}\r\n])\r\n```\r\n\r\nI am not able to Implement In Java Correctly:-- Not getting proper procedure\r\n\r\n```lang-java\r\nLookupOperation lookupOperation = LookupOperation.newLookup()\r\n    .from(&quot;simple&quot;)\r\n    .localField(&quot;execId.ref.uuid&quot;)\r\n    .foreignField(&quot;uuid&quot;)\r\n    .as(&quot;simple&quot;);\r\nAggregation myDocAggr = new Aggregation(\r\n    match(Criteria.where(&quot;metaId.ref.uuid&quot;).is(someUUID)), \r\n    group(&quot;uuid&quot;).max(&quot;version&quot;).as(&quot;version&quot;),\r\n    lookupOperation,\r\n    Aggregates.unwind(&quot;&quot;),\r\n    Aggregates.addFields(fields));\r\nDocument document = new Document();\r\nAggregationResults&lt;String&gt; myDocAggrResults =\r\n    mongoTemplate.aggregate(myDocAggr, myDocument, myDocument.class);\r\nList&lt;String&gt; mydocumentList = myDocAggrResults .getMappedResults();\r\n```\r\n\r\nNot able to use unwind and addFields, this is sample java code, but it is not ok.\r\nPlease help me. Thanks in advance ","title":"How can I implement addFields mongoDB query in Java","body":"<p>I have found several example at StackOverFlow related to addFields in Aggregation.\nBut no one implemented in Java.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.getCollection('myDocument').aggregate([\n    {$match : {&quot;metaId.ref.uuid&quot; : &quot;d6112808-1ce1-4545-bd52-cf55bc4ed25e&quot;}},\n    {$lookup: {\n        from: &quot;simple&quot;,\n        localField: &quot;someId.ref.uuid&quot;,\n        foreignField: &quot;uuid&quot;, \n        as: &quot;simple&quot;}},\n    {&quot;$unwind&quot;: &quot;$simple&quot;},\n    {&quot;$addFields&quot;: { &quot;metaId.ref.name&quot; : &quot;$simple.name&quot; }}\n])\n</code></pre>\n<p>I am not able to Implement In Java Correctly:-- Not getting proper procedure</p>\n<pre class=\"lang-java prettyprint-override\"><code>LookupOperation lookupOperation = LookupOperation.newLookup()\n    .from(&quot;simple&quot;)\n    .localField(&quot;execId.ref.uuid&quot;)\n    .foreignField(&quot;uuid&quot;)\n    .as(&quot;simple&quot;);\nAggregation myDocAggr = new Aggregation(\n    match(Criteria.where(&quot;metaId.ref.uuid&quot;).is(someUUID)), \n    group(&quot;uuid&quot;).max(&quot;version&quot;).as(&quot;version&quot;),\n    lookupOperation,\n    Aggregates.unwind(&quot;&quot;),\n    Aggregates.addFields(fields));\nDocument document = new Document();\nAggregationResults&lt;String&gt; myDocAggrResults =\n    mongoTemplate.aggregate(myDocAggr, myDocument, myDocument.class);\nList&lt;String&gt; mydocumentList = myDocAggrResults .getMappedResults();\n</code></pre>\n<p>Not able to use unwind and addFields, this is sample java code, but it is not ok.\nPlease help me. Thanks in advance</p>\n"},{"tags":["java","spring","postgresql","encoding","utf-8"],"comments":[{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":1,"creation_date":1458918105,"post_id":36222213,"comment_id":60076123,"body_markdown":"I think your property is incorrectly named. Try `spring.datasource.sqlScriptEncoding=UTF-8` instead of `spring.datasource.sql-script-encoding = UTF-8`","body":"I think your property is incorrectly named. Try <code>spring.datasource.sqlScriptEncoding=UTF-8</code> instead of <code>spring.datasource.sql-script-encoding = UTF-8</code>"},{"owner":{"account_id":4333312,"reputation":311,"user_id":3538168,"accept_rate":43,"display_name":"malkomich"},"score":0,"creation_date":1458919553,"post_id":36222213,"comment_id":60076904,"body_markdown":"I&#39;m using _Spring Boot 1.3_, I didn&#39;t say it sorry. The property is called as you said in _Spring Boot 1.2_ I think. [Application Properties 1.3.3](http://docs.spring.io/autorepo/docs/spring-boot/1.3.3.RELEASE/reference/html/common-application-properties.html)","body":"I&#39;m using <i>Spring Boot 1.3</i>, I didn&#39;t say it sorry. The property is called as you said in <i>Spring Boot 1.2</i> I think. <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/1.3.3.RELEASE/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Application Properties 1.3.3</a>"},{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":1,"creation_date":1458919999,"post_id":36222213,"comment_id":60077115,"body_markdown":"You are right, I&#39;m sorry.","body":"You are right, I&#39;m sorry."},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1458939487,"post_id":36222213,"comment_id":60087011,"body_markdown":"It works for me straight out of the box with the default Boot settings. I posted  over HTTP and it saved correctly in the db and returned  in the response. Which unicode chars are you trying?","body":"It works for me straight out of the box with the default Boot settings. I posted  over HTTP and it saved correctly in the db and returned  in the response. Which unicode chars are you trying?"},{"owner":{"account_id":4333312,"reputation":311,"user_id":3538168,"accept_rate":43,"display_name":"malkomich"},"score":0,"creation_date":1458939878,"post_id":36222213,"comment_id":60087223,"body_markdown":"I have just test it saving &#39;&#39; character, and it has been encoded as &#39;&#199;&#39; character. Have you the same server and client encoding as me?","body":"I have just test it saving &#39;&#39; character, and it has been encoded as &#39;&#199;&#39; character. Have you the same server and client encoding as me?"}],"answers":[{"comments":[{"owner":{"account_id":4333312,"reputation":311,"user_id":3538168,"accept_rate":43,"display_name":"malkomich"},"score":1,"creation_date":1458919921,"post_id":36222398,"comment_id":60077076,"body_markdown":"I added it, but the problem continues :(","body":"I added it, but the problem continues :("}],"tags":[],"owner":{"account_id":1206560,"reputation":601,"user_id":1176053,"accept_rate":67,"display_name":"Nick Delaney"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458917991,"creation_date":1458917991,"answer_id":36222398,"question_id":36222213,"body_markdown":"Where you define the datasource URL, try adding ?characterEncoding=UTF-8 to the end of the URL","title":"Wrong encoding between Spring and PostgreSQL","body":"<p>Where you define the datasource URL, try adding ?characterEncoding=UTF-8 to the end of the URL</p>\n"},{"comments":[{"owner":{"account_id":1502497,"reputation":2147,"user_id":1406702,"accept_rate":50,"display_name":"happy_marmoset"},"score":1,"creation_date":1643539130,"post_id":52310943,"comment_id":125362460,"body_markdown":"It is deprecated https://github.com/spring-projects/spring-boot/blob/v2.6.3/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L511 and remove in Spring Boot 3.0.","body":"It is deprecated <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.6.3/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L511\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/v2.6.3/&hellip;</a> and remove in Spring Boot 3.0."},{"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"score":0,"creation_date":1643628384,"post_id":52310943,"comment_id":125382249,"body_markdown":"@happy_marmoset it sounds great!","body":"@happy_marmoset it sounds great!"}],"tags":[],"owner":{"account_id":12359089,"reputation":480,"user_id":9013930,"display_name":"G.O."},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636627286,"creation_date":1536831679,"answer_id":52310943,"question_id":36222213,"body_markdown":"I had a similar problem. I use Spring Boot 1.5.9 and postgres 9.6, data.sql with inserts. Encoding on data.sql was UTF-8, but after start of application, in DB was special symbols instead russian letters.\r\n\r\n    spring.datasource.sql-script-encoding= UTF-8\r\n\r\nThis property in application.properties has helped.\r\n\r\nAll properties responsible for DB:\r\n\r\n    spring.datasource.jndi-name=java:/PostgresDS\r\n    spring.jpa.properties.hibernate.default_schema=my_scheme_name\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.show-sql = false\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    spring.datasource.continue-on-error=true\r\n    spring.datasource.sql-script-encoding= UTF-8","title":"Wrong encoding between Spring and PostgreSQL","body":"<p>I had a similar problem. I use Spring Boot 1.5.9 and postgres 9.6, data.sql with inserts. Encoding on data.sql was UTF-8, but after start of application, in DB was special symbols instead russian letters.</p>\n<pre><code>spring.datasource.sql-script-encoding= UTF-8\n</code></pre>\n<p>This property in application.properties has helped.</p>\n<p>All properties responsible for DB:</p>\n<pre><code>spring.datasource.jndi-name=java:/PostgresDS\nspring.jpa.properties.hibernate.default_schema=my_scheme_name\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.show-sql = false\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\nspring.datasource.continue-on-error=true\nspring.datasource.sql-script-encoding= UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662054395,"creation_date":1662054395,"answer_id":73573547,"question_id":36222213,"body_markdown":"In my case the problem was on JVM side.\r\n\r\nAfter I added:\r\n\r\n    -Dfile.encoding=UTF8\r\n\r\nas VM option - problem was resolved","title":"Wrong encoding between Spring and PostgreSQL","body":"<p>In my case the problem was on JVM side.</p>\n<p>After I added:</p>\n<pre><code>-Dfile.encoding=UTF8\n</code></pre>\n<p>as VM option - problem was resolved</p>\n"},{"tags":[],"owner":{"account_id":4543766,"reputation":91,"user_id":3690921,"display_name":"Eduard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667832652,"creation_date":1667830361,"answer_id":74347976,"question_id":36222213,"body_markdown":"Now the correct option is:\r\n\r\n    spring.sql.init.encoding = UTF-8\r\n","title":"Wrong encoding between Spring and PostgreSQL","body":"<p>Now the correct option is:</p>\n<pre><code>spring.sql.init.encoding = UTF-8\n</code></pre>\n"}],"owner":{"account_id":4333312,"reputation":311,"user_id":3538168,"accept_rate":43,"display_name":"malkomich"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8684,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1667832652,"creation_date":1458917386,"question_id":36222213,"body_markdown":"I have a Spring Boot (version 1.3) Web application, all in UTF-8, and a PostgreSQL server with server encoding UTF-8 and client encoding WIN1252.\r\n\r\nThe problem is that when I save in the DB something with special characters manually, the encoding is right, but from JDBC the string is saved wrong.\r\n\r\nIn the same way, when I have a string saved with special characters and I make a SELECT query to read manually, the encoding is right, but from JDBC the string is read wrongly.\r\n\r\nDropping the database and creating again is not a choice for the moment, so I have been trying a lot of things with poor result. Is there any solution for me?\r\n\r\nPD: I have put all these properties in my application.properties file:\r\n\r\n    spring.datasource.sql-script-encoding = UTF-8\r\n    spring.http.encoding.charset = UTF-8\r\n    spring.http.encoding.enabled = true\r\n    spring.http.encoding.force = true\r\n    spring.mandatory-file-encoding = UTF-8\r\n    server.tomcat.uri-encoding = UTF-8\r\n    spring.messages.encoding = UTF-8","title":"Wrong encoding between Spring and PostgreSQL","body":"<p>I have a Spring Boot (version 1.3) Web application, all in UTF-8, and a PostgreSQL server with server encoding UTF-8 and client encoding WIN1252.</p>\n\n<p>The problem is that when I save in the DB something with special characters manually, the encoding is right, but from JDBC the string is saved wrong.</p>\n\n<p>In the same way, when I have a string saved with special characters and I make a SELECT query to read manually, the encoding is right, but from JDBC the string is read wrongly.</p>\n\n<p>Dropping the database and creating again is not a choice for the moment, so I have been trying a lot of things with poor result. Is there any solution for me?</p>\n\n<p>PD: I have put all these properties in my application.properties file:</p>\n\n<pre><code>spring.datasource.sql-script-encoding = UTF-8\nspring.http.encoding.charset = UTF-8\nspring.http.encoding.enabled = true\nspring.http.encoding.force = true\nspring.mandatory-file-encoding = UTF-8\nserver.tomcat.uri-encoding = UTF-8\nspring.messages.encoding = UTF-8\n</code></pre>\n"},{"tags":["java","java-17","sealed","sealed-class"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1667761473,"post_id":74337681,"comment_id":131238980,"body_markdown":"So if I understand correctly, you&#39;re asking why does the switch work, when `I1` doesn&#39;t directly permit `E` and `F`?","body":"So if I understand correctly, you&#39;re asking why does the switch work, when <code>I1</code> doesn&#39;t directly permit <code>E</code> and <code>F</code>?"},{"owner":{"account_id":4910286,"reputation":458,"user_id":3955765,"display_name":"twwwt"},"score":0,"creation_date":1667771453,"post_id":74337681,"comment_id":131241034,"body_markdown":"@Sweeper Yes, that&#39;s the question. If `I1` doesn&#39;t directly permit `E` and `F` but they are possible as a pattern of the `switch` expression then I would say that *permit* is a transitive relationship because they are included in the set of patterns.","body":"@Sweeper Yes, that&#39;s the question. If <code>I1</code> doesn&#39;t directly permit <code>E</code> and <code>F</code> but they are possible as a pattern of the <code>switch</code> expression then I would say that <i>permit</i> is a transitive relationship because they are included in the set of patterns."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1667771949,"post_id":74337681,"comment_id":131241109,"body_markdown":"Okay, I think I&#39;ve adequately answered why the switch works then. The JLS specifies things in a different way than you expected, it seems :)","body":"Okay, I think I&#39;ve adequately answered why the switch works then. The JLS specifies things in a different way than you expected, it seems :)"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1667828466,"post_id":74337681,"comment_id":131253836,"body_markdown":"The `permits` clause of a class declaration lists the classes that are allowed to directly extend this one (just as the `extends` and `implement` clauses list only the ones that are directly extended).  This is not an exhaustive list of possible subclasses, because a permitted subclass could have its own subclasses.","body":"The <code>permits</code> clause of a class declaration lists the classes that are allowed to directly extend this one (just as the <code>extends</code> and <code>implement</code> clauses list only the ones that are directly extended).  This is not an exhaustive list of possible subclasses, because a permitted subclass could have its own subclasses."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1668008841,"post_id":74337681,"comment_id":131304753,"body_markdown":"You&#39;ve assumed &quot;permits&quot; means (or should mean) &quot;permitted subtypes&quot;, when it really means &quot;permitted direct subclasses.&quot;  There are multiple reasons why this assumption would be the wrong choice: (a) more burdensome for authors, (b) not all subtypes can be known (a permitted subclass can be non-sealed), (c) inconsistent with meaning of `extends`, (d) some subtype names may be non-denotable (e.g., lambdas, anonymous classes).  And probably more.","body":"You&#39;ve assumed &quot;permits&quot; means (or should mean) &quot;permitted subtypes&quot;, when it really means &quot;permitted direct subclasses.&quot;  There are multiple reasons why this assumption would be the wrong choice: (a) more burdensome for authors, (b) not all subtypes can be known (a permitted subclass can be non-sealed), (c) inconsistent with meaning of <code>extends</code>, (d) some subtype names may be non-denotable (e.g., lambdas, anonymous classes).  And probably more."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667757884,"creation_date":1667753206,"answer_id":74337835,"question_id":74337681,"body_markdown":"&gt; If I read the JLS `&#167;8.1.6` and `&#167;9.1.4`, correctly the classes that a sealed class/interface permits, are just the **direct sub classes/interfaces**.\r\n\r\nEach sealed class or interface needs to specify at least one **direct** permitted class (*or interface*). There&#39;s no need to specify non-directs subclasses, they are granted with the permission by default (*since they are allowed to extend their direct parent*).\r\n\r\nSpecification explicitly tells that **only direct** subclasses can be provided in the `permits` clause, [&#167;8.1.6. Permitted Direct Subclasses](https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6):\r\n\r\n&gt; Every permitted direct subclass specified by the permits clause **must\r\n&gt; be** a **direct subclass** of `C` (`&#167;8.1.4`), or a **compile-time error occurs**.\r\n\r\nPermitted classes should be necessarily marked with either of these modifiers: `sealed`, `non-sealed` and `final` (*the latter modifier for obvious reasons can&#39;t be used with interfaces*).\r\n\r\nIf a subclass is `final` it can&#39;t be extended.\r\n\r\nBy declaring a permitted subclass (*subinterface*) as `non-sealed` you&#39;re loosening the constraints. Such class is allowed to be extended as a regular class (*no* `permits` *clause required*).\r\n\r\nIf the subclass is being marked as `sealed` then the cycle repeats: it in turn has to have a `permite` clause specifying its direct subclasses.\r\n\r\nHere&#39;s a quote from the [JEP 409: Sealed Classes](https://openjdk.org/jeps/409):\r\n\r\n&gt; A sealed class imposes three constraints on its permitted subclasses:\r\n&gt; \r\n&gt; **1.** The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same\r\n&gt; package.\r\n&gt; \r\n&gt; **2.** **Every permitted subclass must directly extend the sealed class.**\r\n&gt; \r\n&gt; **3.** Every permitted subclass must use a modifier to describe how it propagates the sealing initiated by its superclass:\r\n&gt; \r\n&gt;   * A permitted subclass may be declared `final` to prevent its part of the class hierarchy from being extended further. (Record classes\r\n&gt; are implicitly declared `final`.)\r\n&gt; \r\n&gt;   * A permitted subclass may be declared `sealed` to allow its part of the hierarchy to be extended further than envisaged by its sealed\r\n&gt; superclass, but in a restricted fashion.\r\n&gt; \r\n&gt;   * A permitted subclass may be declared `non-sealed` so that its part of the hierarchy reverts to being open for extension by unknown\r\n&gt; subclasses. A `sealed` class cannot prevent its permitted subclasses\r\n&gt; from doing this.\r\n\r\nThat said, if you change the declaration of the sealed super interface `I1` by specifying non-direct subclasses `E` and `F` after `permits` clause it would **not** compile:\r\n\r\n```\r\npublic sealed interface I1\r\n       permits I2, C, D, E, F {\r\n    /*...*/\r\n}\r\n```\r\n\r\nAnd we restore the initial declaration of `I1` (by removing `E` and `F`) the following code would work fine \r\n\r\n    public static String foo(I1 i1) {\r\n        \r\n        return switch (i1) {\r\n            case C c -&gt; &quot;1&quot;;\r\n            case D d -&gt; &quot;2&quot;;\r\n            case E e -&gt; &quot;3&quot;;\r\n            case F f -&gt; &quot;4&quot;;\r\n            default  -&gt; &quot;5&quot;;\r\n        };\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(foo(new E()));\r\n        System.out.println(foo(new F()));\r\n    }\r\n\r\n*Output:*\r\n```\r\n3\r\n4\r\n```","title":"Is the permits relationship of Java Sealed classes/interfaces transitive","body":"<blockquote>\n<p>If I read the JLS <code>8.1.6</code> and <code>9.1.4</code>, correctly the classes that a sealed class/interface permits, are just the <strong>direct sub classes/interfaces</strong>.</p>\n</blockquote>\n<p>Each sealed class or interface needs to specify at least one <strong>direct</strong> permitted class (<em>or interface</em>). There's no need to specify non-directs subclasses, they are granted with the permission by default (<em>since they are allowed to extend their direct parent</em>).</p>\n<p>Specification explicitly tells that <strong>only direct</strong> subclasses can be provided in the <code>permits</code> clause, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.6\" rel=\"nofollow noreferrer\">8.1.6. Permitted Direct Subclasses</a>:</p>\n<blockquote>\n<p>Every permitted direct subclass specified by the permits clause <strong>must\nbe</strong> a <strong>direct subclass</strong> of <code>C</code> (<code>8.1.4</code>), or a <strong>compile-time error occurs</strong>.</p>\n</blockquote>\n<p>Permitted classes should be necessarily marked with either of these modifiers: <code>sealed</code>, <code>non-sealed</code> and <code>final</code> (<em>the latter modifier for obvious reasons can't be used with interfaces</em>).</p>\n<p>If a subclass is <code>final</code> it can't be extended.</p>\n<p>By declaring a permitted subclass (<em>subinterface</em>) as <code>non-sealed</code> you're loosening the constraints. Such class is allowed to be extended as a regular class (<em>no</em> <code>permits</code> <em>clause required</em>).</p>\n<p>If the subclass is being marked as <code>sealed</code> then the cycle repeats: it in turn has to have a <code>permite</code> clause specifying its direct subclasses.</p>\n<p>Here's a quote from the <a href=\"https://openjdk.org/jeps/409\" rel=\"nofollow noreferrer\">JEP 409: Sealed Classes</a>:</p>\n<blockquote>\n<p>A sealed class imposes three constraints on its permitted subclasses:</p>\n<p><strong>1.</strong> The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, to the same\npackage.</p>\n<p><strong>2.</strong> <strong>Every permitted subclass must directly extend the sealed class.</strong></p>\n<p><strong>3.</strong> Every permitted subclass must use a modifier to describe how it propagates the sealing initiated by its superclass:</p>\n<ul>\n<li><p>A permitted subclass may be declared <code>final</code> to prevent its part of the class hierarchy from being extended further. (Record classes\nare implicitly declared <code>final</code>.)</p>\n</li>\n<li><p>A permitted subclass may be declared <code>sealed</code> to allow its part of the hierarchy to be extended further than envisaged by its sealed\nsuperclass, but in a restricted fashion.</p>\n</li>\n<li><p>A permitted subclass may be declared <code>non-sealed</code> so that its part of the hierarchy reverts to being open for extension by unknown\nsubclasses. A <code>sealed</code> class cannot prevent its permitted subclasses\nfrom doing this.</p>\n</li>\n</ul>\n</blockquote>\n<p>That said, if you change the declaration of the sealed super interface <code>I1</code> by specifying non-direct subclasses <code>E</code> and <code>F</code> after <code>permits</code> clause it would <strong>not</strong> compile:</p>\n<pre><code>public sealed interface I1\n       permits I2, C, D, E, F {\n    /*...*/\n}\n</code></pre>\n<p>And we restore the initial declaration of <code>I1</code> (by removing <code>E</code> and <code>F</code>) the following code would work fine</p>\n<pre><code>public static String foo(I1 i1) {\n    \n    return switch (i1) {\n        case C c -&gt; &quot;1&quot;;\n        case D d -&gt; &quot;2&quot;;\n        case E e -&gt; &quot;3&quot;;\n        case F f -&gt; &quot;4&quot;;\n        default  -&gt; &quot;5&quot;;\n    };\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(foo(new E()));\n    System.out.println(foo(new F()));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>3\n4\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1667829884,"post_id":74339207,"comment_id":131254381,"body_markdown":"Since the OPs example code has a `default` label, its always exhaustive.","body":"Since the OPs example code has a <code>default</code> label, its always exhaustive."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1667832339,"post_id":74339207,"comment_id":131255395,"body_markdown":"@Holger (Facepalms) I had planned to put that in the answer, but then I anticipated the OP to ask why is it still exhaustive when I remove the default branch?, so I wrote the whole second half, but then forgetting to address the OPs actual code!","body":"@Holger (Facepalms) I had planned to put that in the answer, but then I anticipated the OP to ask why is it still exhaustive when I remove the default branch?, so I wrote the whole second half, but then forgetting to address the OPs actual code!"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667832651,"creation_date":1667763985,"answer_id":74339207,"question_id":74337681,"body_markdown":"&gt; `I1` obviously permits `C` and `D` but not `E` and `F`. Is this correct?\r\n\r\nMore accurately, you can say that `C` and `D` are in the set of *permitted direct subclasses* of `I1`, which is a term defined in section 9.1.4. The JLS doesn&#39;t really define what &quot;`I1` *permits* `C` and `D`&quot; means though.\r\n\r\nAs for your switch expression, the reason why it works is two-fold. First, you are able to write a type pattern in a switch label if the type of the switch selector expression is downcast-convertible to that type.\r\n\r\n[14.11.1][1]\r\n\r\n&gt; A pattern case element p is switch compatible with T if p is applicable at type T ([14.30.3][2]).\r\n\r\n14.30.3:\r\n\r\n&gt; A pattern p is said to be applicable at a type T if one of the following rules apply:\r\n&gt; \r\n&gt; - A type pattern that declares a pattern variable of a reference type U is applicable at another reference type T if T is downcast convertible to U ([5.5][3]).\r\n&gt; \r\n\r\nObviously, `E` is downcast-convertible to `I1` through a widening reference conversion, because `E` implements `I1`. Note that this fact has nothing to do with `permits`. It is simply a result of `E implements I2` and `I2 extends I1`. Surely you would agree that `implements` and `extends` are transitive!\r\n\r\nSecond, switch expressions need to be exhaustive. Your switch expression is always exhaustive because it has a `default` case. However, it is still exhaustive even without the `default` case.\r\n\r\nFrom now on, we will consider your switch expression but without the `default` case, because that is where `permits` plays a role. The rules to determine whether the set of case labels you wrote are exhaustive are specified in [14.11.1.1][4]. The important bit of your case is (this is kind of an inductive definition):\r\n\r\n&gt; - A set of case elements is exhaustive for a type T if it contains a pattern that is unconditional at type T (14.30.3).\r\n&gt; - A set of case elements is exhaustive for a type T that includes an abstract and sealed class or interface named C, if it is exhaustive\r\n&gt; for every applicable permitted direct subtype of T.\r\n\r\n&quot;applicable permitted direct subtype of T&quot; in your case is really just the same as &quot;permitted direct subtype of T&quot;. You can also treat &quot;a type T that includes an abstract and sealed class or interface named C&quot; as the same as `T` - the &quot;includes&quot; relationship isn&#39;t relevant to your case. With `T=I1` in mind, we can start &quot;running&quot; this algorithm.\r\n\r\nWe use the second rule first - the permitted direct subtypes of `I1` are `I2`, `C` and `D`. Since we have a `C c` and `D d` in the case elements, we know that our set of case elements is exhaustive for `C` and `D` (first rule). Is it also exhaustive for `I2`? To determine that, we use the second rule again. The permitted direct subtypes of `I2` are `E` and `F`. Using the first rule, we know that the case elements `E e` and `F f` are exhaustive for `E` and `F` respectively. We have now proven that that the set of case elements are exhaustive for `I2`, `C` and `D`, so it is exhaustive for `I1`, according to the second rule.\r\n\r\nSo if you are talking about how switch patterns work, I think &quot;inductive&quot; is a better word to describe how the exhaustiveness of switch case labels are verified.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.30.3\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-5.5\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1","title":"Is the permits relationship of Java Sealed classes/interfaces transitive","body":"<blockquote>\n<p><code>I1</code> obviously permits <code>C</code> and <code>D</code> but not <code>E</code> and <code>F</code>. Is this correct?</p>\n</blockquote>\n<p>More accurately, you can say that <code>C</code> and <code>D</code> are in the set of <em>permitted direct subclasses</em> of <code>I1</code>, which is a term defined in section 9.1.4. The JLS doesn't really define what &quot;<code>I1</code> <em>permits</em> <code>C</code> and <code>D</code>&quot; means though.</p>\n<p>As for your switch expression, the reason why it works is two-fold. First, you are able to write a type pattern in a switch label if the type of the switch selector expression is downcast-convertible to that type.</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1\" rel=\"nofollow noreferrer\">14.11.1</a></p>\n<blockquote>\n<p>A pattern case element p is switch compatible with T if p is applicable at type T (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.30.3\" rel=\"nofollow noreferrer\">14.30.3</a>).</p>\n</blockquote>\n<p>14.30.3:</p>\n<blockquote>\n<p>A pattern p is said to be applicable at a type T if one of the following rules apply:</p>\n<ul>\n<li>A type pattern that declares a pattern variable of a reference type U is applicable at another reference type T if T is downcast convertible to U (<a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-5.5\" rel=\"nofollow noreferrer\">5.5</a>).</li>\n</ul>\n</blockquote>\n<p>Obviously, <code>E</code> is downcast-convertible to <code>I1</code> through a widening reference conversion, because <code>E</code> implements <code>I1</code>. Note that this fact has nothing to do with <code>permits</code>. It is simply a result of <code>E implements I2</code> and <code>I2 extends I1</code>. Surely you would agree that <code>implements</code> and <code>extends</code> are transitive!</p>\n<p>Second, switch expressions need to be exhaustive. Your switch expression is always exhaustive because it has a <code>default</code> case. However, it is still exhaustive even without the <code>default</code> case.</p>\n<p>From now on, we will consider your switch expression but without the <code>default</code> case, because that is where <code>permits</code> plays a role. The rules to determine whether the set of case labels you wrote are exhaustive are specified in <a href=\"https://docs.oracle.com/javase/specs/jls/se19/preview/specs/patterns-switch-record-patterns-jls.html#jls-14.11.1.1\" rel=\"nofollow noreferrer\">14.11.1.1</a>. The important bit of your case is (this is kind of an inductive definition):</p>\n<blockquote>\n<ul>\n<li>A set of case elements is exhaustive for a type T if it contains a pattern that is unconditional at type T (14.30.3).</li>\n<li>A set of case elements is exhaustive for a type T that includes an abstract and sealed class or interface named C, if it is exhaustive\nfor every applicable permitted direct subtype of T.</li>\n</ul>\n</blockquote>\n<p>&quot;applicable permitted direct subtype of T&quot; in your case is really just the same as &quot;permitted direct subtype of T&quot;. You can also treat &quot;a type T that includes an abstract and sealed class or interface named C&quot; as the same as <code>T</code> - the &quot;includes&quot; relationship isn't relevant to your case. With <code>T=I1</code> in mind, we can start &quot;running&quot; this algorithm.</p>\n<p>We use the second rule first - the permitted direct subtypes of <code>I1</code> are <code>I2</code>, <code>C</code> and <code>D</code>. Since we have a <code>C c</code> and <code>D d</code> in the case elements, we know that our set of case elements is exhaustive for <code>C</code> and <code>D</code> (first rule). Is it also exhaustive for <code>I2</code>? To determine that, we use the second rule again. The permitted direct subtypes of <code>I2</code> are <code>E</code> and <code>F</code>. Using the first rule, we know that the case elements <code>E e</code> and <code>F f</code> are exhaustive for <code>E</code> and <code>F</code> respectively. We have now proven that that the set of case elements are exhaustive for <code>I2</code>, <code>C</code> and <code>D</code>, so it is exhaustive for <code>I1</code>, according to the second rule.</p>\n<p>So if you are talking about how switch patterns work, I think &quot;inductive&quot; is a better word to describe how the exhaustiveness of switch case labels are verified.</p>\n"}],"owner":{"account_id":4910286,"reputation":458,"user_id":3955765,"display_name":"twwwt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":948,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74339207,"answer_count":2,"score":6,"last_activity_date":1667832651,"creation_date":1667752089,"question_id":74337681,"body_markdown":"If I read the JLS [&#167;8.1.6][1] and [&#167;9.1.4][2] correctly, the classes that a sealed class/interface permits, are just the *direct* subclasses/interfaces.\r\n\r\nTo illustrate this, consider the following example:\r\n\r\n```java\r\npublic sealed interface I1 permits I2, C, D { /*...*/ }\r\npublic final class C implements I1 { /*...*/ }\r\npublic final class D implements I1 { /*...*/ }\r\n\r\npublic sealed interface I2 extends I1 permits E, F { /*...*/ }\r\npublic final class E implements I2 { /*...*/ }\r\npublic final class F implements I2 { /*...*/ }\r\n```\r\n\r\nIf I understand the specification correctly, `I1` obviously permits `C` and `D` but not `E` and `F` (via the `extends` hierarchy of `I2` from `I1`). Is this correct?\r\n\r\nThe reason I&#39;m asking is what patterns are allowed for switch expressions of the following kind:\r\n\r\n```java\r\nI1 i1 = // ...\r\nreturn switch (i1) {\r\n\tcase C c -&gt; &quot;1&quot;;\r\n\tcase D d -&gt; &quot;2&quot;;\r\n\tcase E e -&gt; &quot;3&quot;; // Can we match over E?\r\n\tcase F f -&gt; &quot;4&quot;; // Can we match over F?\r\n\tdefault  -&gt; &quot;5&quot;;\r\n};\r\n``` \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.6\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-9.html#jls-9.1.4","title":"Is the permits relationship of Java Sealed classes/interfaces transitive","body":"<p>If I read the JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-8.html#jls-8.1.6\" rel=\"nofollow noreferrer\">8.1.6</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-9.html#jls-9.1.4\" rel=\"nofollow noreferrer\">9.1.4</a> correctly, the classes that a sealed class/interface permits, are just the <em>direct</em> subclasses/interfaces.</p>\n<p>To illustrate this, consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface I1 permits I2, C, D { /*...*/ }\npublic final class C implements I1 { /*...*/ }\npublic final class D implements I1 { /*...*/ }\n\npublic sealed interface I2 extends I1 permits E, F { /*...*/ }\npublic final class E implements I2 { /*...*/ }\npublic final class F implements I2 { /*...*/ }\n</code></pre>\n<p>If I understand the specification correctly, <code>I1</code> obviously permits <code>C</code> and <code>D</code> but not <code>E</code> and <code>F</code> (via the <code>extends</code> hierarchy of <code>I2</code> from <code>I1</code>). Is this correct?</p>\n<p>The reason I'm asking is what patterns are allowed for switch expressions of the following kind:</p>\n<pre class=\"lang-java prettyprint-override\"><code>I1 i1 = // ...\nreturn switch (i1) {\n    case C c -&gt; &quot;1&quot;;\n    case D d -&gt; &quot;2&quot;;\n    case E e -&gt; &quot;3&quot;; // Can we match over E?\n    case F f -&gt; &quot;4&quot;; // Can we match over F?\n    default  -&gt; &quot;5&quot;;\n};\n</code></pre>\n"},{"tags":["java","file","io","solaris"],"comments":[{"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"score":1,"creation_date":1257173302,"post_id":1661322,"comment_id":1534074,"body_markdown":"with an lsof -p PID, the most common entry is the following:\n\njava    19157 dev  131u  unix     105,98572    0t829 55050244 /devices/pseudo/tl@0:ticots-&gt;(socketpair: 0x1810c) (0x300199eed50)\n\nAny idea what this means and how I can fight it?","body":"with an lsof -p PID, the most common entry is the following:  java    19157 dev  131u  unix     105,98572    0t829 55050244 /devices/pseudo/tl@0:ticots-&gt;(socketpair: 0x1810c) (0x300199eed50)  Any idea what this means and how I can fight it?"}],"answers":[{"tags":[],"owner":{"account_id":9022,"reputation":31287,"user_id":16487,"accept_rate":71,"display_name":"C. Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1257168627,"creation_date":1257168627,"answer_id":1661361,"question_id":1661322,"body_markdown":"It could certainly give you an idea. Since it&#39;s Java, the file open/close mechanics should be implemented similarly (unless one of the JVMs are implemented incorrectly). I would recommend using [File Monitor][1] on Windows.  \r\n\r\n\r\n  [1]: http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx","title":"Too many open file handles","body":"<p>It could certainly give you an idea. Since it's Java, the file open/close mechanics should be implemented similarly (unless one of the JVMs are implemented incorrectly). I would recommend using <a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896645.aspx\" rel=\"nofollow noreferrer\">File Monitor</a> on Windows.  </p>\n"},{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257168762,"creation_date":1257168762,"answer_id":1661371,"question_id":1661322,"body_markdown":"I would start by asking my sysadmin to get a listing of all open file descriptors for the process. Different systems do this in different ways: Linux, for example, has the `/proc/PID/fd` directory. I recall that Solaris has a command (maybe *pfiles*?) that will do the same thing -- your sysadmin should know it.\r\n\r\nHowever, unless you see a lot of references to the same file, a fd list isn&#39;t going to help you. If it&#39;s a server process, it probably has lots of files (and sockets) open for a reason. The only way to resolve the problem is adjust the system limit on open files -- you can also check the per-user limit with *ulimit*, but in most current installations that equals the system limit.","title":"Too many open file handles","body":"<p>I would start by asking my sysadmin to get a listing of all open file descriptors for the process. Different systems do this in different ways: Linux, for example, has the <code>/proc/PID/fd</code> directory. I recall that Solaris has a command (maybe <em>pfiles</em>?) that will do the same thing -- your sysadmin should know it.</p>\n\n<p>However, unless you see a lot of references to the same file, a fd list isn't going to help you. If it's a server process, it probably has lots of files (and sockets) open for a reason. The only way to resolve the problem is adjust the system limit on open files -- you can also check the per-user limit with <em>ulimit</em>, but in most current installations that equals the system limit.</p>\n"},{"comments":[{"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"score":0,"creation_date":1257169115,"post_id":1661373,"comment_id":1533669,"body_markdown":"Thanks! I used lsof, unfortunately there&#39;s a lot of stuff going on and I don&#39;t really know how to narrow down the lsof results to what&#39;s relevant and what&#39;s not interesting.","body":"Thanks! I used lsof, unfortunately there&#39;s a lot of stuff going on and I don&#39;t really know how to narrow down the lsof results to what&#39;s relevant and what&#39;s not interesting."},{"owner":{"account_id":33617,"reputation":1850,"user_id":94225,"display_name":"St.Shadow"},"score":1,"creation_date":1257169379,"post_id":1661373,"comment_id":1533696,"body_markdown":"Result from Windows should not be extrapolated to *nix systems. They have different mechanism of opening files.","body":"Result from Windows should not be extrapolated to *nix systems. They have different mechanism of opening files."}],"tags":[],"owner":{"account_id":65680,"reputation":31828,"user_id":193128,"accept_rate":90,"display_name":"Benj"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1257168785,"creation_date":1257168785,"answer_id":1661373,"question_id":1661322,"body_markdown":"On windows you can look at open file handles using process explorer:\r\n\r\nhttp://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\r\n\r\nOn Solaris you can use &quot;lsof&quot; to monitor the open file handles","title":"Too many open file handles","body":"<p>On windows you can look at open file handles using process explorer:</p>\n\n<p><a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx\" rel=\"noreferrer\">http://technet.microsoft.com/en-us/sysinternals/bb896653.aspx</a></p>\n\n<p>On Solaris you can use \"lsof\" to monitor the open file handles</p>\n"},{"comments":[{"owner":{"account_id":60659,"reputation":2528,"user_id":181144,"accept_rate":77,"display_name":"ChadNC"},"score":0,"creation_date":1257168988,"post_id":1661377,"comment_id":1533656,"body_markdown":"What he said. sounds like the file handles are never being released.","body":"What he said. sounds like the file handles are never being released."},{"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"score":0,"creation_date":1257169303,"post_id":1661377,"comment_id":1533688,"body_markdown":"Thanks for the general advice, but I&#39;ve searched for all occurences of java.io.* and made sure they are in a try-catch-finally block.","body":"Thanks for the general advice, but I&#39;ve searched for all occurences of java.io.* and made sure they are in a try-catch-finally block."}],"tags":[],"owner":{"account_id":57984,"reputation":5167,"user_id":173670,"display_name":"NickDK"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667832627,"creation_date":1257168848,"answer_id":1661377,"question_id":1661322,"body_markdown":"Not a direct answer to your question but these problems could be the result of releasing file resources incorrectly in your legacy code. By example if you&#39;re working with FileOutputsStream classes make sure the close methods are called in a finally block as in this example:\r\n\r\n    FileOutputsStream out = null;\r\n    try {\r\n      //Your file handling code\r\n    } catch (IOException e) {\r\n      //Handle\r\n    } finally {\r\n      if (out != null) {\r\n        try { out.close(): } catch (IOException e) { }\r\n      }\r\n    }\r\n\r\n\r\n","title":"Too many open file handles","body":"<p>Not a direct answer to your question but these problems could be the result of releasing file resources incorrectly in your legacy code. By example if you're working with FileOutputsStream classes make sure the close methods are called in a finally block as in this example:</p>\n<pre><code>FileOutputsStream out = null;\ntry {\n  //Your file handling code\n} catch (IOException e) {\n  //Handle\n} finally {\n  if (out != null) {\n    try { out.close(): } catch (IOException e) { }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":37226,"reputation":703,"user_id":106396,"accept_rate":83,"display_name":"tth"},"score":0,"creation_date":1257180490,"post_id":1661423,"comment_id":1534791,"body_markdown":"As a personal testimonial, I&#39;ve experienced a similar problem to the one that the OP had (my app was throwing exceptions cause it couldn&#39;t open anymore files as I had too many open file descriptors). Running the code through findbugs helped to identify all the places where files weren&#39;t closed. Problem solved!","body":"As a personal testimonial, I&#39;ve experienced a similar problem to the one that the OP had (my app was throwing exceptions cause it couldn&#39;t open anymore files as I had too many open file descriptors). Running the code through findbugs helped to identify all the places where files weren&#39;t closed. Problem solved!"},{"owner":{"account_id":65680,"reputation":31828,"user_id":193128,"accept_rate":90,"display_name":"Benj"},"score":0,"creation_date":1257181334,"post_id":1661423,"comment_id":1534904,"body_markdown":"Yes, it once helped me find a whole slew of places where close() hadn&#39;t been called in an appropriate finally block.","body":"Yes, it once helped me find a whole slew of places where close() hadn&#39;t been called in an appropriate finally block."},{"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"score":0,"creation_date":1257245889,"post_id":1661423,"comment_id":1539667,"body_markdown":"although it didn&#39;t solve my problem directly, it was a great hint!","body":"although it didn&#39;t solve my problem directly, it was a great hint!"}],"tags":[],"owner":{"account_id":65680,"reputation":31828,"user_id":193128,"accept_rate":90,"display_name":"Benj"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1257169602,"creation_date":1257169602,"answer_id":1661423,"question_id":1661322,"body_markdown":"One good thing I&#39;ve found for tracking down unclosed file handles is FindBugs:\r\n\r\nhttp://findbugs.sourceforge.net/\r\n\r\nIt checks many things, but one of the most useful is resource open/close operations.  It&#39;s a static analysis program that runs on your source code and it&#39;s also available as an eclipse plugin.","title":"Too many open file handles","body":"<p>One good thing I've found for tracking down unclosed file handles is FindBugs:</p>\n\n<p><a href=\"http://findbugs.sourceforge.net/\" rel=\"noreferrer\">http://findbugs.sourceforge.net/</a></p>\n\n<p>It checks many things, but one of the most useful is resource open/close operations.  It's a static analysis program that runs on your source code and it's also available as an eclipse plugin.</p>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257170614,"creation_date":1257169864,"answer_id":1661443,"question_id":1661322,"body_markdown":"To answer the second part of the question:\r\n\r\n&gt; what can cause open file handles to run out?\r\n\r\nOpening a lot of files, obviously, and then not closing them. \r\n\r\nThe simplest scenario is that the references to whatever objects hold the native handles (e.g., `FileInputStream`) are thrown away before being closed, which means the files remain open until the objects are finalized. \r\n\r\nThe other option is that the objects are stored somewhere and not closed. A heap dump might be able to tell you what lingers where ([`jmap`][1] and [`jhat`][2] are included in the JDK, or you can use [`jvisualvm`][3] if you want a GUI). You&#39;re probably interested in looking for objects owning [`FileDescriptor`][4]s.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jmap.html\r\n  [2]: http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\r\n  [3]: http://java.sun.com/javase/6/docs/technotes/tools/share/jvisualvm.html\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/io/FileDescriptor.html","title":"Too many open file handles","body":"<p>To answer the second part of the question:</p>\n\n<blockquote>\n  <p>what can cause open file handles to run out?</p>\n</blockquote>\n\n<p>Opening a lot of files, obviously, and then not closing them. </p>\n\n<p>The simplest scenario is that the references to whatever objects hold the native handles (e.g., <code>FileInputStream</code>) are thrown away before being closed, which means the files remain open until the objects are finalized. </p>\n\n<p>The other option is that the objects are stored somewhere and not closed. A heap dump might be able to tell you what lingers where (<a href=\"http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jmap.html\" rel=\"nofollow noreferrer\"><code>jmap</code></a> and <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jhat.html\" rel=\"nofollow noreferrer\"><code>jhat</code></a> are included in the JDK, or you can use <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/share/jvisualvm.html\" rel=\"nofollow noreferrer\"><code>jvisualvm</code></a> if you want a GUI). You're probably interested in looking for objects owning <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileDescriptor.html\" rel=\"nofollow noreferrer\"><code>FileDescriptor</code></a>s.</p>\n"},{"tags":[],"owner":{"account_id":33617,"reputation":1850,"user_id":94225,"display_name":"St.Shadow"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1257170703,"creation_date":1257170703,"answer_id":1661498,"question_id":1661322,"body_markdown":"This little script help me to keep eye on count of opened files when I need test ic count.\r\nIf was used on Linux, so for Solaris you should patch it (may be :) )\r\n\r\n    #!/bin/bash\r\n    COUNTER=0\r\n    HOW_MANY=0\r\n    MAX=0\r\n    # do not take care about COUNTER - just flag, shown should we continie or not\r\n    while [ $COUNTER -lt 10 ]; do\r\n    \t#run until process with passed pid alive\r\n    \tif [ -r &quot;/proc/$1&quot; ]; then\r\n    \t\t# count, how many files we have\r\n    \t\tHOW_MANY=`/usr/sbin/lsof -p $1 | wc -l`\r\n    \t\t#output for live monitoring\r\n    \t\techo `date +%H:%M:%S` $HOW_MANY\r\n    \t\t# uncomment, if you want to save statistics\r\n    \t\t#/usr/sbin/lsof -p $1 &gt; ~/autocount/config_lsof_`echo $HOW_MANY`_`date +%H_%M_%S`.txt\r\n    \t\t\r\n    \t\t# look for max value\r\n    \t\tif [ $MAX -lt $HOW_MANY ]; then\r\n    \t\t\tlet MAX=$HOW_MANY\r\n    \t\t\techo new max is $MAX\r\n    \t\tfi \r\n    \t\t# test every second. if you don`t need so frequenlty test - increase this value\r\n    \t\tsleep 1\r\n    \telse\r\n    \t\techo max count is $MAX\r\n    \t\techo Process was finished\r\n    \t\tlet COUNTER=11\r\n    \tfi\r\n    done\r\n\r\nAlso you can try to play with jvm ontion -Xverify:none - it should disable jar verification (if most of opened files is jars...).\r\nFor leaks through not closed FileOutputStream you can use findbug (mentored above) or try to find article how to patch standard java FileOutputStream/FileInputStream , where you can see, who open files, and forgot close them. Unfortunatly, can not find this article right now, but this is existing :)\r\nAlso think about increasing of filelimit - for up-to-date *nix kernels is not a problem handle more than 1024 fd.","title":"Too many open file handles","body":"<p>This little script help me to keep eye on count of opened files when I need test ic count.\nIf was used on Linux, so for Solaris you should patch it (may be :) )</p>\n\n<pre><code>#!/bin/bash\nCOUNTER=0\nHOW_MANY=0\nMAX=0\n# do not take care about COUNTER - just flag, shown should we continie or not\nwhile [ $COUNTER -lt 10 ]; do\n    #run until process with passed pid alive\n    if [ -r \"/proc/$1\" ]; then\n        # count, how many files we have\n        HOW_MANY=`/usr/sbin/lsof -p $1 | wc -l`\n        #output for live monitoring\n        echo `date +%H:%M:%S` $HOW_MANY\n        # uncomment, if you want to save statistics\n        #/usr/sbin/lsof -p $1 &gt; ~/autocount/config_lsof_`echo $HOW_MANY`_`date +%H_%M_%S`.txt\n\n        # look for max value\n        if [ $MAX -lt $HOW_MANY ]; then\n            let MAX=$HOW_MANY\n            echo new max is $MAX\n        fi \n        # test every second. if you don`t need so frequenlty test - increase this value\n        sleep 1\n    else\n        echo max count is $MAX\n        echo Process was finished\n        let COUNTER=11\n    fi\ndone\n</code></pre>\n\n<p>Also you can try to play with jvm ontion -Xverify:none - it should disable jar verification (if most of opened files is jars...).\nFor leaks through not closed FileOutputStream you can use findbug (mentored above) or try to find article how to patch standard java FileOutputStream/FileInputStream , where you can see, who open files, and forgot close them. Unfortunatly, can not find this article right now, but this is existing :)\nAlso think about increasing of filelimit - for up-to-date *nix kernels is not a problem handle more than 1024 fd.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257170710,"creation_date":1257170710,"answer_id":1661499,"question_id":1661322,"body_markdown":"This may not be practical in your case, but what I did once when I had a similar problem with open database connections was override the &quot;open&quot; function with my own. (Conveniently I already had this function because we had written our own connection pooling.) In my function I then added an entry to a table recording the open. I did a stack trace call and saved the identify of the caller, along with the time called and I forget what else. When the connection was released, I deleted the table entry. Then I had a screen where we could dump the list of open entries. You could then look at the time stamp and easily see which connections had been open for unlikely amounts of time, and which functions had done these opens.\r\n\r\nFrom this we were able to quickly track down the couple of functions that were opening connections and failing to close them.\r\n\r\nIf you have lots of open file handles, the odds are that you&#39;re failing to close them when you&#39;re done somewhere. You say you&#39;ve checked for proper try/finally blocks, but I&#39;d suspect somewhere in the code you either missed a bad one, or you have a function that hands and never makes it to the finally. I suppose it&#39;s also possible that you really are doing proper closes every time you open a file, but you are opening hundreds of files simultaneously. If that&#39;s the case, I&#39;m not sure what you can do other than a serious program redesign to manipulate fewer files, or a serious program redesign to queue your file accesses. (At this point I add the usual, &quot;Without knowing the details of your application, etc.)","title":"Too many open file handles","body":"<p>This may not be practical in your case, but what I did once when I had a similar problem with open database connections was override the \"open\" function with my own. (Conveniently I already had this function because we had written our own connection pooling.) In my function I then added an entry to a table recording the open. I did a stack trace call and saved the identify of the caller, along with the time called and I forget what else. When the connection was released, I deleted the table entry. Then I had a screen where we could dump the list of open entries. You could then look at the time stamp and easily see which connections had been open for unlikely amounts of time, and which functions had done these opens.</p>\n\n<p>From this we were able to quickly track down the couple of functions that were opening connections and failing to close them.</p>\n\n<p>If you have lots of open file handles, the odds are that you're failing to close them when you're done somewhere. You say you've checked for proper try/finally blocks, but I'd suspect somewhere in the code you either missed a bad one, or you have a function that hands and never makes it to the finally. I suppose it's also possible that you really are doing proper closes every time you open a file, but you are opening hundreds of files simultaneously. If that's the case, I'm not sure what you can do other than a serious program redesign to manipulate fewer files, or a serious program redesign to queue your file accesses. (At this point I add the usual, \"Without knowing the details of your application, etc.)</p>\n"},{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257170790,"creation_date":1257170790,"answer_id":1661508,"question_id":1661322,"body_markdown":"I would double-check the environment settings on your Solaris box.  I believe that by default Solaris only allows 256 file handles per process.  For a server application, especially if it&#39;s running on a dedicated server, this is very low.  Figure 50 or more descriptors for opening JRE and library JARs, and then *at least* one descriptor for each incoming request and database query, probably more, and you can see how this just won&#39;t cut the mustard for a serious server.\r\n\r\nHave a look at the `/etc/system` file, for the values of `rlim_fd_cur` and `rlim_fd_max`, to see what your system has set.  Then consider whether this is reasonable (you can see how many file descriptors are open while the server is running with the `lsof` command, ideally with the -p [process ID] parameter.","title":"Too many open file handles","body":"<p>I would double-check the environment settings on your Solaris box.  I believe that by default Solaris only allows 256 file handles per process.  For a server application, especially if it's running on a dedicated server, this is very low.  Figure 50 or more descriptors for opening JRE and library JARs, and then <em>at least</em> one descriptor for each incoming request and database query, probably more, and you can see how this just won't cut the mustard for a serious server.</p>\n\n<p>Have a look at the <code>/etc/system</code> file, for the values of <code>rlim_fd_cur</code> and <code>rlim_fd_max</code>, to see what your system has set.  Then consider whether this is reasonable (you can see how many file descriptors are open while the server is running with the <code>lsof</code> command, ideally with the -p [process ID] parameter.</p>\n"},{"tags":[],"owner":{"account_id":8688,"reputation":2118,"user_id":15768,"display_name":"alasdairg"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1257173207,"creation_date":1257173207,"answer_id":1661714,"question_id":1661322,"body_markdown":"Its worth bearing in mind that **open sockets** also consume file handles on Unix systems. So it could very well be something like a database connection pool leak (e.g. open database connections not being closed and returned to the pool) that is leading to this issue - certainly I have seen this error before caused by a connection pool leak.","title":"Too many open file handles","body":"<p>Its worth bearing in mind that <strong>open sockets</strong> also consume file handles on Unix systems. So it could very well be something like a database connection pool leak (e.g. open database connections not being closed and returned to the pool) that is leading to this issue - certainly I have seen this error before caused by a connection pool leak.</p>\n"},{"tags":[],"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1257175903,"creation_date":1257175903,"answer_id":1661971,"question_id":1661322,"body_markdown":"Google for an app called filemon from system internals.\r\n\r\nBTW, to track this down you may be able to use something like aspectj to log all calls that open and close files and log where they occur.","title":"Too many open file handles","body":"<p>Google for an app called filemon from system internals.</p>\n\n<p>BTW, to track this down you may be able to use something like aspectj to log all calls that open and close files and log where they occur.</p>\n"},{"comments":[{"owner":{"account_id":1749879,"reputation":3381,"user_id":1599213,"accept_rate":33,"display_name":"To Kra"},"score":0,"creation_date":1409754353,"post_id":22412840,"comment_id":40073887,"body_markdown":"Its really bad design to use finalize() http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7","body":"Its really bad design to use finalize() <a href=\"http://www.informit.com/articles/article.aspx?p=1216151&amp;seqNum=7\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1216151&amp;seqNum=7</a>"}],"tags":[],"owner":{"account_id":1617555,"reputation":161,"user_id":1494821,"display_name":"Jack Parsons"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476854287,"creation_date":1394821149,"answer_id":22412840,"question_id":1661322,"body_markdown":"This is a coding pattern that helps find unclosed resources. It closes the resources and also complains in the log about the problem.\r\n\r\n    class\r\n    {\r\n        boolean closed = false;\r\n        File file;\r\n\r\n        close() {\r\n            closed = true;\r\n            file.close();\r\n        }\r\n\r\n        finalize() {\r\n            if (!closed) {\r\n                log error &quot;OI! YOU FORGOT TO CLOSE A FILE!&quot;\r\n            file.close();\r\n        }\r\n    }\r\nWrap the above file.close() calls in try-catch blocks that ignore errors.\r\n\r\nAlso, Java 7 has a new &#39;try-with-resource&#39; feature that can auto-close resources.\r\n","title":"Too many open file handles","body":"<p>This is a coding pattern that helps find unclosed resources. It closes the resources and also complains in the log about the problem.</p>\n\n<pre><code>class\n{\n    boolean closed = false;\n    File file;\n\n    close() {\n        closed = true;\n        file.close();\n    }\n\n    finalize() {\n        if (!closed) {\n            log error \"OI! YOU FORGOT TO CLOSE A FILE!\"\n        file.close();\n    }\n}\n</code></pre>\n\n<p>Wrap the above file.close() calls in try-catch blocks that ignore errors.</p>\n\n<p>Also, Java 7 has a new 'try-with-resource' feature that can auto-close resources.</p>\n"}],"owner":{"account_id":161,"reputation":19368,"user_id":198,"accept_rate":81,"display_name":"dlinsin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35778,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1661423,"answer_count":12,"score":11,"last_activity_date":1667832627,"creation_date":1257168247,"question_id":1661322,"body_markdown":"I&#39;m working on a huge legacy Java application, with a lot of handwritten stuff, which nowadays you&#39;d let a framework handle. \r\n\r\nThe problem I&#39;m facing right now is that we are running out of file handles on our Solaris Server. I&#39;d like to know what&#39;s the best way to track open file handles? Where to look at and what can cause open file handles to run out?\r\n\r\nI cannot debug the application under Solaris, only on my Windows development environment. Is is even reasonable to analyze the open file handles under Windows?","title":"Too many open file handles","body":"<p>I'm working on a huge legacy Java application, with a lot of handwritten stuff, which nowadays you'd let a framework handle. </p>\n\n<p>The problem I'm facing right now is that we are running out of file handles on our Solaris Server. I'd like to know what's the best way to track open file handles? Where to look at and what can cause open file handles to run out?</p>\n\n<p>I cannot debug the application under Solaris, only on my Windows development environment. Is is even reasonable to analyze the open file handles under Windows?</p>\n"},{"tags":["java","android-studio","android-layout","background","toolbar"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1667802278,"post_id":74338470,"comment_id":131245394,"body_markdown":"add an image of that layout for better understanding.","body":"add an image of that layout for better understanding."},{"owner":{"account_id":26848602,"reputation":1,"user_id":20433948,"display_name":"Rouhana Salameh"},"score":0,"creation_date":1667832642,"post_id":74338470,"comment_id":131255514,"body_markdown":"i uploaded an image.","body":"i uploaded an image."}],"answers":[{"tags":[],"owner":{"account_id":14773956,"reputation":21,"user_id":10669505,"display_name":"Fuad Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667759297,"creation_date":1667759297,"answer_id":74338602,"question_id":74338470,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.ui.admin.booking.BookingActivity&quot;&gt;\r\n        &lt;include\r\n            android:id=&quot;@+id/toolbar_layout&quot;\r\n            layout=&quot;@layout/layout_toolbar&quot; /&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/iv_parking&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;?actionBarSize&quot;\r\n            android:background=&quot;@color/black&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/toolbar_layout&quot;&gt;\r\n            \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;","title":"How to set the background image below the toolbar?","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.admin.booking.BookingActivity&quot;&gt;\n    &lt;include\n        android:id=&quot;@+id/toolbar_layout&quot;\n        layout=&quot;@layout/layout_toolbar&quot; /&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/iv_parking&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;?actionBarSize&quot;\n        android:background=&quot;@color/black&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/toolbar_layout&quot;&gt;\n        \n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":26848602,"reputation":1,"user_id":20433948,"display_name":"Rouhana Salameh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667832599,"creation_date":1667758103,"question_id":74338470,"body_markdown":"i am working on android studio, after i set a toolbar i noticed it came over the background and ruining it. is there a way to lower the background ?\r\n\r\ni don&#39;t know what to try. i don&#39;t know what to do\r\n\r\n\r\n```\r\n&lt;include\r\n    android:id=&quot;@+id/toolbar&quot;\r\n    layout=&quot;@layout/toolbar&quot;\r\n    &gt;&lt;/include&gt;\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsnrB.png","title":"How to set the background image below the toolbar?","body":"<p>i am working on android studio, after i set a toolbar i noticed it came over the background and ruining it. is there a way to lower the background ?</p>\n<p>i don't know what to try. i don't know what to do</p>\n<pre><code>&lt;include\n    android:id=&quot;@+id/toolbar&quot;\n    layout=&quot;@layout/toolbar&quot;\n    &gt;&lt;/include&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EsnrB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","heroku","spring-boot","rabbitmq","spring-rabbit"],"answers":[{"comments":[{"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"score":0,"creation_date":1470327278,"post_id":38772359,"comment_id":64916449,"body_markdown":"Hello @rdegges. Thank you for your help. The plan is big enough to handle all the connections. Moreover (that&#39;s my bad, I wasn&#39;t clear enough) the consumers all work initially, but occasionally the consumers of this particular queue stop consuming. If I restart the app then everything works fine and the consumers start working again. I cannot reproduce it though. My app is running on one big machine (PL Web 1). I&#39;m familiar with the nature of heroku infra (restarting etc.) and the application can handle this.","body":"Hello @rdegges. Thank you for your help. The plan is big enough to handle all the connections. Moreover (that&#39;s my bad, I wasn&#39;t clear enough) the consumers all work initially, but occasionally the consumers of this particular queue stop consuming. If I restart the app then everything works fine and the consumers start working again. I cannot reproduce it though. My app is running on one big machine (PL Web 1). I&#39;m familiar with the nature of heroku infra (restarting etc.) and the application can handle this."},{"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"score":0,"creation_date":1470327483,"post_id":38772359,"comment_id":64916581,"body_markdown":"I was thinking that this could be due to overload which combined with the heartbeat configuration causes this. I&#39;m waiting for this to happen again and see if this particular consumer connection is being dropped by rabbit, but the consumer remains unaware (this would explain the absence of any error logs). If this happens, then changing the heartbeat to a bigger value might fix it. But I don&#39;t know if this is possible. Check my update.","body":"I was thinking that this could be due to overload which combined with the heartbeat configuration causes this. I&#39;m waiting for this to happen again and see if this particular consumer connection is being dropped by rabbit, but the consumer remains unaware (this would explain the absence of any error logs). If this happens, then changing the heartbeat to a bigger value might fix it. But I don&#39;t know if this is possible. Check my update."},{"owner":{"account_id":66126,"reputation":33026,"user_id":194175,"accept_rate":71,"display_name":"rdegges"},"score":0,"creation_date":1470327925,"post_id":38772359,"comment_id":64916885,"body_markdown":"Ah, this makes it quite a bit more tricky to diagnose. Especially if it can&#39;t be easily reproduced :( But that consumer should restart the connection if it drops. Your heartbeat config looks fine to me.","body":"Ah, this makes it quite a bit more tricky to diagnose. Especially if it can&#39;t be easily reproduced :( But that consumer should restart the connection if it drops. Your heartbeat config looks fine to me."},{"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"score":0,"creation_date":1470328259,"post_id":38772359,"comment_id":64917132,"body_markdown":"What I&#39;m thinking is that the connection is not dropped, but because of the small heartbeat window (let&#39;s assume that is small because of some unusual load) rabbit thinks that it&#39;s dropped and just discards and stops sending messages there. I believe that rabbit will NOT send some signal to its peer causing the client to be notified about this. Is that correct? That&#39;s why I&#39;m thinking that if I increase the heartbeat interval, the client will have enough time to ping rabbit.","body":"What I&#39;m thinking is that the connection is not dropped, but because of the small heartbeat window (let&#39;s assume that is small because of some unusual load) rabbit thinks that it&#39;s dropped and just discards and stops sending messages there. I believe that rabbit will NOT send some signal to its peer causing the client to be notified about this. Is that correct? That&#39;s why I&#39;m thinking that if I increase the heartbeat interval, the client will have enough time to ping rabbit."},{"owner":{"account_id":66126,"reputation":33026,"user_id":194175,"accept_rate":71,"display_name":"rdegges"},"score":0,"creation_date":1470328623,"post_id":38772359,"comment_id":64917354,"body_markdown":"That is correct, although your heartbeat window seems fine. You said it is set to 60 seconds, correct?","body":"That is correct, although your heartbeat window seems fine. You said it is set to 60 seconds, correct?"},{"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"score":0,"creation_date":1470328869,"post_id":38772359,"comment_id":64917502,"body_markdown":"Yes, that&#39;s the default. It seems fine to me too, but that&#39;s just speculation. If this scenario is possible, then that&#39;s why I&#39;m only seeing this behaviour very rarely and only in this particular consumer (which is doing some heavy lifting). I would like to try increasing the interval but I can&#39;t. See http://stackoverflow.com/questions/38772773/increase-heartbeat-value-in-spring-rabbit.","body":"Yes, that&#39;s the default. It seems fine to me too, but that&#39;s just speculation. If this scenario is possible, then that&#39;s why I&#39;m only seeing this behaviour very rarely and only in this particular consumer (which is doing some heavy lifting). I would like to try increasing the interval but I can&#39;t. See <a href=\"http://stackoverflow.com/questions/38772773/increase-heartbeat-value-in-spring-rabbit\" title=\"increase heartbeat value in spring rabbit\">stackoverflow.com/questions/38772773/&hellip;</a>."},{"owner":{"account_id":66126,"reputation":33026,"user_id":194175,"accept_rate":71,"display_name":"rdegges"},"score":0,"creation_date":1470329346,"post_id":38772359,"comment_id":64917771,"body_markdown":"Another potential workaround (if this happens rarely): use the Herkou platform API to restart your dyno if you notice the consumer is unresponsive after a certain timeout. You could run a one-off script like this via the Heroku scheduler.","body":"Another potential workaround (if this happens rarely): use the Herkou platform API to restart your dyno if you notice the consumer is unresponsive after a certain timeout. You could run a one-off script like this via the Heroku scheduler."},{"owner":{"account_id":7119226,"reputation":531,"user_id":5444394,"display_name":"Anditthas"},"score":0,"creation_date":1576771808,"post_id":38772359,"comment_id":105013887,"body_markdown":"Hi, I got the same issue but in a NodeJs environment. All of the sudden the consumer stops consuming without an error message or something.\nWere you able to reproduce the problem or fix it?","body":"Hi, I got the same issue but in a NodeJs environment. All of the sudden the consumer stops consuming without an error message or something. Were you able to reproduce the problem or fix it?"}],"tags":[],"owner":{"account_id":66126,"reputation":33026,"user_id":194175,"accept_rate":71,"display_name":"rdegges"},"comment_count":8,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1470326808,"creation_date":1470326808,"answer_id":38772359,"question_id":38771664,"body_markdown":"Unfortunately, this seems like a networking issue. This could be due to a few things:\r\n\r\n- The CloudAMQP service is having some issues and is killing your connection (not likely since your other consumers are working OK).\r\n- Your CloudAMQP plan doesn&#39;t allow for as many concurrent connections as you want. Have you checked to ensure you are on a sufficiently high enough plan to support all of your consumers? https://elements.heroku.com/addons/cloudamqp\r\n- Your Heroku dyno with the consumer in question is restarting, which is dropping your connection. Heroku dynos periodically restart. If your dynos can&#39;t gracefully restart, you might want to investigate why.\r\n- One of your Heroku dynos is having network issues (in which case it will likely be restarted on its own without your intervention).\r\n\r\nOne way to force all of your dynos to restart is to run `$ heroku ps:restart`. This will force Heroku to restart your dynos, which frequently means moving them to a new EC2 host. This may help if it is a one off issue.","title":"RabbitMQ java client stops consuming messages","body":"<p>Unfortunately, this seems like a networking issue. This could be due to a few things:</p>\n\n<ul>\n<li>The CloudAMQP service is having some issues and is killing your connection (not likely since your other consumers are working OK).</li>\n<li>Your CloudAMQP plan doesn't allow for as many concurrent connections as you want. Have you checked to ensure you are on a sufficiently high enough plan to support all of your consumers? <a href=\"https://elements.heroku.com/addons/cloudamqp\" rel=\"nofollow\">https://elements.heroku.com/addons/cloudamqp</a></li>\n<li>Your Heroku dyno with the consumer in question is restarting, which is dropping your connection. Heroku dynos periodically restart. If your dynos can't gracefully restart, you might want to investigate why.</li>\n<li>One of your Heroku dynos is having network issues (in which case it will likely be restarted on its own without your intervention).</li>\n</ul>\n\n<p>One way to force all of your dynos to restart is to run <code>$ heroku ps:restart</code>. This will force Heroku to restart your dynos, which frequently means moving them to a new EC2 host. This may help if it is a one off issue.</p>\n"}],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1900,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38772359,"answer_count":1,"score":5,"last_activity_date":1667832318,"creation_date":1470324769,"question_id":38771664,"body_markdown":"My application consumes some messages from RabbitMQ and processes them.\r\nI have about 10 queues and each queue has up to ten consumers (threads). \r\nI have a prefetch of 5. I&#39;m running my setup in Heroku using the CloudAMQP plugin (RabbitMQ as a service).\r\n\r\nI&#39;m running with the default heartbeat and connection timeout settings (60 seconds).\r\n\r\nMy java application is a spring boot application using the spring-rabbit library.\r\n\r\nVersions: \r\n\r\n    RabbitMQ 3.5.3 \r\n    Erlang 17.5.3\r\n    Java 1.8\r\n    Spring boot 1.3.2.RELEASE\r\n    Spring rabbit 1.5.3.RELEASE\r\n\r\nThe problem is that for the consumers of one particular queue stop consuming messages after some time. When I restart my java application everything works fine. The other queues are being consumed normally though. No errors on the application&#39;s side. On the log stream of rabbit&#39;s side I see some entries like\r\n\r\n    = REPORT==== 2016-08-02 15:53:32 UTC ===\r\n    closing AMQP connection &lt;SOMETHING&gt; (SOMETHING_ELSE -&gt; SOMETHING_ELSE_ELSE):\r\n    {heartbeat_timeout,running}\r\n\r\nI can&#39;t reproduce locally or in a testing environment in Heroku.\r\n\r\n**Update**\r\n\r\nThe code below can be found in `AMQConnection.class`\r\n\r\n    int heartbeat = negotiatedMaxValue(this.requestedHeartbeat,\r\n                                       connTune.getHeartbeat());\r\n    \r\n    \r\n    private static int negotiatedMaxValue(int clientValue, int serverValue) {\r\n            return (clientValue == 0 || serverValue == 0) ?\r\n                Math.max(clientValue, serverValue) :\r\n                Math.min(clientValue, serverValue);\r\n    }\r\n\r\nI can&#39;t increase the value of the heartbeat above 60 seconds (which is what I&#39;m getting from the server).","title":"RabbitMQ java client stops consuming messages","body":"<p>My application consumes some messages from RabbitMQ and processes them.\nI have about 10 queues and each queue has up to ten consumers (threads). \nI have a prefetch of 5. I'm running my setup in Heroku using the CloudAMQP plugin (RabbitMQ as a service).</p>\n\n<p>I'm running with the default heartbeat and connection timeout settings (60 seconds).</p>\n\n<p>My java application is a spring boot application using the spring-rabbit library.</p>\n\n<p>Versions: </p>\n\n<pre><code>RabbitMQ 3.5.3 \nErlang 17.5.3\nJava 1.8\nSpring boot 1.3.2.RELEASE\nSpring rabbit 1.5.3.RELEASE\n</code></pre>\n\n<p>The problem is that for the consumers of one particular queue stop consuming messages after some time. When I restart my java application everything works fine. The other queues are being consumed normally though. No errors on the application's side. On the log stream of rabbit's side I see some entries like</p>\n\n<pre><code>= REPORT==== 2016-08-02 15:53:32 UTC ===\nclosing AMQP connection &lt;SOMETHING&gt; (SOMETHING_ELSE -&gt; SOMETHING_ELSE_ELSE):\n{heartbeat_timeout,running}\n</code></pre>\n\n<p>I can't reproduce locally or in a testing environment in Heroku.</p>\n\n<p><strong>Update</strong></p>\n\n<p>The code below can be found in <code>AMQConnection.class</code></p>\n\n<pre><code>int heartbeat = negotiatedMaxValue(this.requestedHeartbeat,\n                                   connTune.getHeartbeat());\n\n\nprivate static int negotiatedMaxValue(int clientValue, int serverValue) {\n        return (clientValue == 0 || serverValue == 0) ?\n            Math.max(clientValue, serverValue) :\n            Math.min(clientValue, serverValue);\n}\n</code></pre>\n\n<p>I can't increase the value of the heartbeat above 60 seconds (which is what I'm getting from the server).</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1667826626,"post_id":74344856,"comment_id":131253169,"body_markdown":"So you say that instead of adding a single document, there are multiple documents added? Is that right? If yes, show us how your `receiveDetections()` is called.","body":"So you say that instead of adding a single document, there are multiple documents added? Is that right? If yes, show us how your <code>receiveDetections()</code> is called."},{"owner":{"account_id":26854474,"reputation":1,"user_id":20438962,"display_name":"Stacy Canencia"},"score":0,"creation_date":1668097021,"post_id":74344856,"comment_id":131328955,"body_markdown":"Hi i have already fixed this problem by using other QR code scanner and its all good now thank you so much for your response :)","body":"Hi i have already fixed this problem by using other QR code scanner and its all good now thank you so much for your response :)"}],"owner":{"account_id":26854474,"reputation":1,"user_id":20438962,"display_name":"Stacy Canencia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667832150,"creation_date":1667815615,"question_id":74344856,"body_markdown":"I need help, im confused why evertime i scan using the scanner i created it saves multiple data on firestore here&#39;s my java code \r\n\r\n```\r\npublic void receiveDetections(Detector.Detections&lt;Barcode&gt; detections) {\r\n\r\n    SparseArray&lt;Barcode&gt; qrcode = detections.getDetectedItems();\r\n    if(qrcode.size()!=0){\r\n        text.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                text.setText(qrcode.valueAt(0).displayValue);\r\n                Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n                data.put(&quot;Data&quot;, text.getText().toString());\r\n                db.collection(&quot;Records&quot;).add(data).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(Scanner.this, &quot;inserted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nIt is successful but it saves multiple data. here is the firestore situation, all documents have the same content \r\n[![enter image description here](https://i.stack.imgur.com/OmebX.png)](https://i.stack.imgur.com/OmebX.png)","title":"QR Code Scanner Using GMS Vision, When i save it to Firebase it saves multiple data","body":"<p>I need help, im confused why evertime i scan using the scanner i created it saves multiple data on firestore here's my java code</p>\n<pre><code>public void receiveDetections(Detector.Detections&lt;Barcode&gt; detections) {\n\n    SparseArray&lt;Barcode&gt; qrcode = detections.getDetectedItems();\n    if(qrcode.size()!=0){\n        text.post(new Runnable() {\n            @Override\n            public void run() {\n                text.setText(qrcode.valueAt(0).displayValue);\n                Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n                data.put(&quot;Data&quot;, text.getText().toString());\n                db.collection(&quot;Records&quot;).add(data).addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                    @Override\n                    public void onSuccess(DocumentReference documentReference) {\n                        Toast.makeText(Scanner.this, &quot;inserted&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n            }\n        });\n    }\n}\n</code></pre>\n<p>It is successful but it saves multiple data. here is the firestore situation, all documents have the same content\n<a href=\"https://i.stack.imgur.com/OmebX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmebX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"score":0,"creation_date":1667814349,"post_id":74344557,"comment_id":131248870,"body_markdown":"What version are you using?","body":"What version are you using?"},{"owner":{"account_id":14902634,"reputation":35,"user_id":10761017,"display_name":"Rustam"},"score":0,"creation_date":1667814427,"post_id":74344557,"comment_id":131248905,"body_markdown":"I am using 10.9.0","body":"I am using 10.9.0"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667831955,"creation_date":1667831955,"answer_id":74348331,"question_id":74344557,"body_markdown":"Following this [`migrate-to-v10`](https://docs.mapbox.com/android/maps/guides/migrate-to-v10/) documentation you should use `Point`: \r\n\r\n&gt;In v10, all the LatLng related methods and parameters are replaced with Point. Remember that the latitude and longitude parameters are reversed between LatLng and Point.\r\n\r\n**pre-v10:**\r\n\r\n    CircleOptions circleOptions = new CircleOptions()\r\n     .withLatLng(new LatLng(6.687337, 0.381457))\r\n**v10:**\r\n\r\n    val circleOptions: CircleOptions = CircleOptions()\r\n     .withPoint(Point.fromLngLat(0.381457, 6.687337))","title":"How I can get LatLng class from Mapbox library?","body":"<p>Following this <a href=\"https://docs.mapbox.com/android/maps/guides/migrate-to-v10/\" rel=\"nofollow noreferrer\"><code>migrate-to-v10</code></a> documentation you should use <code>Point</code>:</p>\n<blockquote>\n<p>In v10, all the LatLng related methods and parameters are replaced with Point. Remember that the latitude and longitude parameters are reversed between LatLng and Point.</p>\n</blockquote>\n<p><strong>pre-v10:</strong></p>\n<pre><code>CircleOptions circleOptions = new CircleOptions()\n .withLatLng(new LatLng(6.687337, 0.381457))\n</code></pre>\n<p><strong>v10:</strong></p>\n<pre><code>val circleOptions: CircleOptions = CircleOptions()\n .withPoint(Point.fromLngLat(0.381457, 6.687337))\n</code></pre>\n"}],"owner":{"account_id":14902634,"reputation":35,"user_id":10761017,"display_name":"Rustam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74348331,"answer_count":1,"score":1,"last_activity_date":1667831955,"creation_date":1667814142,"question_id":74344557,"body_markdown":"I have updated a Mapbox library to the last version. Now I can&#39;t find a LatLng class. \r\n\r\nWith this package (com.mapbox.mapboxsdk.geometry.LatLng) LatLng class isn&#39;t available at all. In the official documentation I cant find this class. Perhaps they replaced this class by another one.","title":"How I can get LatLng class from Mapbox library?","body":"<p>I have updated a Mapbox library to the last version. Now I can't find a LatLng class.</p>\n<p>With this package (com.mapbox.mapboxsdk.geometry.LatLng) LatLng class isn't available at all. In the official documentation I cant find this class. Perhaps they replaced this class by another one.</p>\n"},{"tags":["java","spring","graphql"],"answers":[{"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667831882,"creation_date":1667831882,"answer_id":74348317,"question_id":74345441,"body_markdown":"First you should update your **Children** record with the fields you declare in your schema (initially, the *surname* String):\r\n\r\nThen, I would suggest you included a way to link a **Children** to a **Parent** different to the *surname* (because as I believe from what you ask, that is not an option): for example, a *parentId*.\r\n\r\n    record Children(Long, parentId, String surname) {}\r\n    record Parent(Long id, List&lt;Children&gt; childrens, String surname) {}\r\n\r\n    type Parent {\r\n      id: ID\r\n      children: [Children]\r\n      surname: String\r\n    }\r\n    \r\n    type Children {\r\n      parentId: ID\r\n      surname: String\r\n    }\r\n\r\nThen you could implement your schema mapping with a filter or whichever business method you have: \r\n\r\n    @SchemaMapping\r\n\tString surname(Children children)\r\n\t  return db.stream()\r\n      .filter(aParent -&gt; aParent.id()==children.parentId())\r\n      .findAny()\r\n      .orElseGet(()-&gt;...) //etc\r\n      .surname();\r\n\t}","title":"Spring-GraphQL: source of source in @SchemaMapping","body":"<p>First you should update your <strong>Children</strong> record with the fields you declare in your schema (initially, the <em>surname</em> String):</p>\n<p>Then, I would suggest you included a way to link a <strong>Children</strong> to a <strong>Parent</strong> different to the <em>surname</em> (because as I believe from what you ask, that is not an option): for example, a <em>parentId</em>.</p>\n<pre><code>record Children(Long, parentId, String surname) {}\nrecord Parent(Long id, List&lt;Children&gt; childrens, String surname) {}\n\ntype Parent {\n  id: ID\n  children: [Children]\n  surname: String\n}\n\ntype Children {\n  parentId: ID\n  surname: String\n}\n</code></pre>\n<p>Then you could implement your schema mapping with a filter or whichever business method you have:</p>\n<pre><code>@SchemaMapping\nString surname(Children children)\n  return db.stream()\n  .filter(aParent -&gt; aParent.id()==children.parentId())\n  .findAny()\n  .orElseGet(()-&gt;...) //etc\n  .surname();\n}\n</code></pre>\n"}],"owner":{"account_id":16496581,"reputation":96,"user_id":13349153,"display_name":"Adam Rumiski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667831882,"creation_date":1667818361,"question_id":74345441,"body_markdown":"I&#39;m looking for a way to access source object of the source object used in graphql @SchemaMapping.\r\n\r\n``` java\r\nrecord Children() {}\r\nrecord Parent(List&lt;Children&gt; childrens, String surname) {}\r\n```\r\n\r\n``` java\r\n@SchemaMapping\r\nString surname(Children children) {\r\n  return &quot;&quot; // should access parent.surname()\r\n}\r\n```\r\n\r\n\r\n```\r\ntype Parent {\r\n  children: [Children]\r\n  surname: String\r\n}\r\n\r\ntype Children {\r\n  surname: String\r\n}\r\n```","title":"Spring-GraphQL: source of source in @SchemaMapping","body":"<p>I'm looking for a way to access source object of the source object used in graphql @SchemaMapping.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Children() {}\nrecord Parent(List&lt;Children&gt; childrens, String surname) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SchemaMapping\nString surname(Children children) {\n  return &quot;&quot; // should access parent.surname()\n}\n</code></pre>\n<pre><code>type Parent {\n  children: [Children]\n  surname: String\n}\n\ntype Children {\n  surname: String\n}\n</code></pre>\n"},{"tags":["java","spring","thread-safety","spring-amqp"],"comments":[{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":2,"creation_date":1667746583,"post_id":74336860,"comment_id":131235439,"body_markdown":"I&#39;ve never had any multithreading issues with it, it&#39;d be quite useless if it wasn&#39;t thread safe, no?","body":"I&#39;ve never had any multithreading issues with it, it&#39;d be quite useless if it wasn&#39;t thread safe, no?"},{"owner":{"account_id":2086595,"reputation":365,"user_id":1857436,"accept_rate":88,"display_name":"Micha"},"score":0,"creation_date":1667746983,"post_id":74336860,"comment_id":131235516,"body_markdown":"&quot;Useless&quot;, I don&#39;t know, you could still create a new instance before each conversion. I agree that it *should* be thread-safe, but I&#39;m looking for an &quot;Yes, it is, because x, y, ...&quot; answer. I found that kind of answer for `ObjectMapper`, but unfortunately not for this class.","body":"&quot;Useless&quot;, I don&#39;t know, you could still create a new instance before each conversion. I agree that it <i>should</i> be thread-safe, but I&#39;m looking for an &quot;Yes, it is, because x, y, ...&quot; answer. I found that kind of answer for <code>ObjectMapper</code>, but unfortunately not for this class."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667831657,"creation_date":1667831657,"answer_id":74348274,"question_id":74336860,"body_markdown":"If you don&#39;t change any properties of the `Jackson2JsonMessageConverter` at runtime, then it is indeed thread-safe. It is always unpredictable for the next message to convert if new value for properties are going to have effect not. In general most of components in the framework are thread-safe since they are stateless as long as you don&#39;t change the component configuration at runtime.","title":"Is the Jackson2JsonMessageConverter class thread-safe?","body":"<p>If you don't change any properties of the <code>Jackson2JsonMessageConverter</code> at runtime, then it is indeed thread-safe. It is always unpredictable for the next message to convert if new value for properties are going to have effect not. In general most of components in the framework are thread-safe since they are stateless as long as you don't change the component configuration at runtime.</p>\n"}],"owner":{"account_id":2086595,"reputation":365,"user_id":1857436,"accept_rate":88,"display_name":"Micha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74348274,"answer_count":1,"score":0,"last_activity_date":1667831657,"creation_date":1667745714,"question_id":74336860,"body_markdown":"I&#39;m using this class and I&#39;m wondering whether it&#39;s thread safe:\r\n\r\nhttps://docs.spring.io/spring-amqp/api/org/springframework/amqp/support/converter/Jackson2JsonMessageConverter.html\r\n\r\nThe docs don&#39;t make any claims about this. I skipped through the code and found no signs it&#39;s **not** thread-safe. It&#39;s using an `ObjectMapper` internally, which **is** thread-safe according to docs:\r\n\r\nhttps://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html\r\n\r\n&gt; Mapper instances are fully thread-safe provided that ALL configuration of the instance occurs before ANY read or write calls. \r\n\r\nSo I would *assume* that `Jackson2JsonMessageConverter` is thread-safe, as long as I don&#39;t change any configuration before doing any operation.","title":"Is the Jackson2JsonMessageConverter class thread-safe?","body":"<p>I'm using this class and I'm wondering whether it's thread safe:</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/api/org/springframework/amqp/support/converter/Jackson2JsonMessageConverter.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/api/org/springframework/amqp/support/converter/Jackson2JsonMessageConverter.html</a></p>\n<p>The docs don't make any claims about this. I skipped through the code and found no signs it's <strong>not</strong> thread-safe. It's using an <code>ObjectMapper</code> internally, which <strong>is</strong> thread-safe according to docs:</p>\n<p><a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-databind/javadoc/2.13/com/fasterxml/jackson/databind/ObjectMapper.html</a></p>\n<blockquote>\n<p>Mapper instances are fully thread-safe provided that ALL configuration of the instance occurs before ANY read or write calls.</p>\n</blockquote>\n<p>So I would <em>assume</em> that <code>Jackson2JsonMessageConverter</code> is thread-safe, as long as I don't change any configuration before doing any operation.</p>\n"},{"tags":["java","intellij-idea","boolean"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667830280,"post_id":74347858,"comment_id":131254539,"body_markdown":"&quot;but when I try to update the booleans in another class, it doesnt work.&quot; - please specify.","body":"&quot;but when I try to update the booleans in another class, it doesnt work.&quot; - please specify."}],"answers":[{"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667831601,"post_id":74348250,"comment_id":131255067,"body_markdown":"PS: package names (Launcher) are expected to be lower cased","body":"PS: package names (Launcher) are expected to be lower cased"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667831627,"post_id":74348250,"comment_id":131255083,"body_markdown":"PS: variable names (GP, WP, KH) are expected to be lower case, unless being `static final`","body":"PS: variable names (GP, WP, KH) are expected to be lower case, unless being <code>static final</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667831675,"post_id":74348250,"comment_id":131255101,"body_markdown":"PPS: Avoid naming methods similar to constructor names, had a hard time finding out that windowPanel() in class WindowPanel ist not the constructor.","body":"PPS: Avoid naming methods similar to constructor names, had a hard time finding out that windowPanel() in class WindowPanel ist not the constructor."},{"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"score":1,"creation_date":1667897097,"post_id":74348250,"comment_id":131271020,"body_markdown":"You help me a lot!!!!!!!! Thank you so much!!!!","body":"You help me a lot!!!!!!!! Thank you so much!!!!"},{"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"score":1,"creation_date":1667897356,"post_id":74348250,"comment_id":131271130,"body_markdown":"I have also corrected the comprehension errors, thank you very much!!!! This helps me a lot!","body":"I have also corrected the comprehension errors, thank you very much!!!! This helps me a lot!"},{"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"score":0,"creation_date":1667897921,"post_id":74348250,"comment_id":131271329,"body_markdown":"By the way, do you know a place to look at those rules to have a clearer language? I would like to know the rules  or recomendations for a better coding!","body":"By the way, do you know a place to look at those rules to have a clearer language? I would like to know the rules  or recomendations for a better coding!"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667900580,"post_id":74348250,"comment_id":131272273,"body_markdown":"Java Code Conventions, https://www.oracle.com/technetwork/java/codeconventions-150003.pdf","body":"Java Code Conventions, <a href=\"https://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/codeconventions-150003.pdf</a>"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667831568,"creation_date":1667831568,"answer_id":74348250,"question_id":74347858,"body_markdown":"I had a look at the other classes and the reason is outside the code above, it&#39;s in class Launcher.Main:\r\n\r\n```java\r\npublic static void main(String[] args){\r\n        \r\n WindowPanel WP = new WindowPanel();\r\n WP.windowPanel();\r\n        \r\n GamePanel GP = new GamePanel();\r\n GP.startGameThread();\r\n}\r\n```\r\n\r\nin here you create a new instance of class WindowPanel, which - by itself - create a **another** instance of GamePanel. \r\n\r\n```java\r\npublic void windowPanel(){\r\n\r\n// ...\r\n\r\n        GamePanel gamePanel = new GamePanel();\r\n        window.add(gamePanel);\r\n\r\n        window.pack();\r\n// ...\r\n}\r\n```\r\n\r\nSo, the GamePanel that you created in Main, after you created the WindowPanel is not related to the GamePanel you create afterwards and start threading.\r\n\r\nFix: \r\n* remove the additional GamePanel from Main class\r\n* add to the end of windowPanel() method in WindowPanel class:\r\n\r\n```java\r\n  gamePanel.startGameThread();\r\n```","title":"Trying to update a boolean from a class in another class D:","body":"<p>I had a look at the other classes and the reason is outside the code above, it's in class Launcher.Main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n        \n WindowPanel WP = new WindowPanel();\n WP.windowPanel();\n        \n GamePanel GP = new GamePanel();\n GP.startGameThread();\n}\n</code></pre>\n<p>in here you create a new instance of class WindowPanel, which - by itself - create a <strong>another</strong> instance of GamePanel.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void windowPanel(){\n\n// ...\n\n        GamePanel gamePanel = new GamePanel();\n        window.add(gamePanel);\n\n        window.pack();\n// ...\n}\n</code></pre>\n<p>So, the GamePanel that you created in Main, after you created the WindowPanel is not related to the GamePanel you create afterwards and start threading.</p>\n<p>Fix:</p>\n<ul>\n<li>remove the additional GamePanel from Main class</li>\n<li>add to the end of windowPanel() method in WindowPanel class:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>  gamePanel.startGameThread();\n</code></pre>\n"}],"owner":{"account_id":26856475,"reputation":21,"user_id":20440700,"display_name":"Paula Rodr&#237;guez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74348250,"answer_count":1,"score":1,"last_activity_date":1667831568,"creation_date":1667829855,"question_id":74347858,"body_markdown":"First of all, sorry for my english!\r\n\r\nI have a problem, I&#180;m trying to make a simple java videogame, and I make booleans for the inputs. The inputs works well, but when I try to update the booleans in another class, it doesnt work.\r\n\r\nI put here the important classes\r\n\r\nI put all the classes in this drive.\r\n[Classes](https://drive.google.com/drive/folders/1tJgyOfVh0ShnN-LFNiXiWQ0eHceHzjH-?usp=sharing)\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage Launcher;\r\n\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class KeyHandler implements KeyListener {\r\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\r\n\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        int code = e.getKeyCode();\r\n        if(code == KeyEvent.VK_W){\r\n            upPressed = true;\r\n            System.out.println(upPressed);\r\n\r\n        }\r\n        if(code == KeyEvent.VK_S){\r\n            downPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_A){\r\n            leftPressed = true;\r\n        }\r\n        if(code == KeyEvent.VK_D){\r\n            rightPressed = true;\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        int code = e.getKeyCode();\r\n\r\n        if(code == KeyEvent.VK_W){\r\n            upPressed = false;\r\n\r\n        }\r\n        if(code == KeyEvent.VK_S){\r\n            downPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_A){\r\n            leftPressed = false;\r\n        }\r\n        if(code == KeyEvent.VK_D){\r\n            rightPressed = false;\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\npackage Launcher;\r\n\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.JPanel;\r\n\r\n\r\npublic class GamePanel extends JPanel  implements  Runnable{\r\n\r\n    //Window settings variables\r\n    KeyHandler KH = new KeyHandler();\r\n    final int originalTileSize = 16; //16x16px\r\n    final int scale = 3;\r\n    final int tileSize = originalTileSize * scale; //48x48px\r\n    final int maxScreenCol = 16; //Tiles in a column\r\n    final int maxScreenRow = 12; //Tiles in a row\r\n    final int maxScreenWidth = tileSize * maxScreenCol;\r\n    final int maxScreenHeight = tileSize * maxScreenRow;\r\n\r\n\r\n    Thread gameThread;\r\n\r\n\r\n    //Player pos\r\n    int playerX = 100;\r\n    int playerY = 100;\r\n    int playerSpeed = 4;\r\n    public GamePanel(){\r\n\r\n\r\n\r\n        //Window Settings with variable implementation\r\n        this.setPreferredSize(new Dimension(maxScreenWidth, maxScreenHeight));\r\n        this.setBackground(Color.black);\r\n        this.setDoubleBuffered(true);\r\n        this.addKeyListener(KH);\r\n        this.setFocusable(true);\r\n\r\n\r\n        }\r\n\r\n\r\n    public void startGameThread(){\r\n        gameThread = new Thread(this);\r\n        gameThread.start();\r\n\r\n    }\r\n\r\n    public void update(){\r\n        //System.out.println(playerY);\r\n        boolean upP = KH.upPressed;\r\n        //System.out.println(upP);\r\n        if(upP){\r\n            System.out.println(&quot;Updating&quot;);\r\n            playerY -= playerSpeed;\r\n        }\r\n        else if(KH.downPressed == true){\r\n            playerY += playerSpeed;\r\n        }\r\n        else if(KH.leftPressed == true){\r\n            playerX -= playerSpeed;\r\n        }\r\n        else if(KH.rightPressed){\r\n            playerX += playerSpeed;\r\n        }\r\n\r\n    }\r\n\r\n    public void run(){\r\n        while(gameThread != null){\r\n\r\n            //System.out.println(&quot;Running game&quot;);\r\n\r\n            //1.Update\r\n            update();\r\n            //2Draw screen info\r\n            repaint();\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n```\r\n\r\n\r\nI only want the update function get the boolean variables, for me to be able to move my character. Thank you so much!","title":"Trying to update a boolean from a class in another class D:","body":"<p>First of all, sorry for my english!</p>\n<p>I have a problem, Im trying to make a simple java videogame, and I make booleans for the inputs. The inputs works well, but when I try to update the booleans in another class, it doesnt work.</p>\n<p>I put here the important classes</p>\n<p>I put all the classes in this drive.\n<a href=\"https://drive.google.com/drive/folders/1tJgyOfVh0ShnN-LFNiXiWQ0eHceHzjH-?usp=sharing\" rel=\"nofollow noreferrer\">Classes</a></p>\n<pre><code>package Launcher;\n\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class KeyHandler implements KeyListener {\n    public boolean upPressed, downPressed, leftPressed, rightPressed;\n\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        int code = e.getKeyCode();\n        if(code == KeyEvent.VK_W){\n            upPressed = true;\n            System.out.println(upPressed);\n\n        }\n        if(code == KeyEvent.VK_S){\n            downPressed = false;\n        }\n        if(code == KeyEvent.VK_A){\n            leftPressed = true;\n        }\n        if(code == KeyEvent.VK_D){\n            rightPressed = true;\n        }\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        int code = e.getKeyCode();\n\n        if(code == KeyEvent.VK_W){\n            upPressed = false;\n\n        }\n        if(code == KeyEvent.VK_S){\n            downPressed = false;\n        }\n        if(code == KeyEvent.VK_A){\n            leftPressed = false;\n        }\n        if(code == KeyEvent.VK_D){\n            rightPressed = false;\n        }\n\n    }\n}\n\n</code></pre>\n<pre><code>package Launcher;\n\n\nimport java.awt.*;\nimport java.awt.event.KeyListener;\nimport javax.swing.JPanel;\n\n\npublic class GamePanel extends JPanel  implements  Runnable{\n\n    //Window settings variables\n    KeyHandler KH = new KeyHandler();\n    final int originalTileSize = 16; //16x16px\n    final int scale = 3;\n    final int tileSize = originalTileSize * scale; //48x48px\n    final int maxScreenCol = 16; //Tiles in a column\n    final int maxScreenRow = 12; //Tiles in a row\n    final int maxScreenWidth = tileSize * maxScreenCol;\n    final int maxScreenHeight = tileSize * maxScreenRow;\n\n\n    Thread gameThread;\n\n\n    //Player pos\n    int playerX = 100;\n    int playerY = 100;\n    int playerSpeed = 4;\n    public GamePanel(){\n\n\n\n        //Window Settings with variable implementation\n        this.setPreferredSize(new Dimension(maxScreenWidth, maxScreenHeight));\n        this.setBackground(Color.black);\n        this.setDoubleBuffered(true);\n        this.addKeyListener(KH);\n        this.setFocusable(true);\n\n\n        }\n\n\n    public void startGameThread(){\n        gameThread = new Thread(this);\n        gameThread.start();\n\n    }\n\n    public void update(){\n        //System.out.println(playerY);\n        boolean upP = KH.upPressed;\n        //System.out.println(upP);\n        if(upP){\n            System.out.println(&quot;Updating&quot;);\n            playerY -= playerSpeed;\n        }\n        else if(KH.downPressed == true){\n            playerY += playerSpeed;\n        }\n        else if(KH.leftPressed == true){\n            playerX -= playerSpeed;\n        }\n        else if(KH.rightPressed){\n            playerX += playerSpeed;\n        }\n\n    }\n\n    public void run(){\n        while(gameThread != null){\n\n            //System.out.println(&quot;Running game&quot;);\n\n            //1.Update\n            update();\n            //2Draw screen info\n            repaint();\n\n        }\n\n\n\n\n    }\n\n</code></pre>\n<p>I only want the update function get the boolean variables, for me to be able to move my character. Thank you so much!</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1667476090,"post_id":74302529,"comment_id":131178065,"body_markdown":"Questions about optimizing running code is better asked at [codereview.SE]","body":"Questions about optimizing running code is better asked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"},{"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"score":0,"creation_date":1667476457,"post_id":74302529,"comment_id":131178190,"body_markdown":"Replace the `while` loops with two simple `/` and `%` operations, then extract each return money calculation to one single method. (Oh, and you don&#39;t need `double` if your calculations are in cents and simple (which is the case here)).","body":"Replace the <code>while</code> loops with two simple <code>&#47;</code> and <code>%</code> operations, then extract each return money calculation to one single method. (Oh, and you don&#39;t need <code>double</code> if your calculations are in cents and simple (which is the case here))."},{"owner":{"account_id":4947591,"reputation":19926,"user_id":3982562,"accept_rate":100,"display_name":"3limin4t0r"},"score":0,"creation_date":1667483261,"post_id":74302529,"comment_id":131180790,"body_markdown":"Note that you should probably not use a Double or any other floating point format to represent money. See [Why not use Double or Float to represent currency?](https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency)","body":"Note that you should probably not use a Double or any other floating point format to represent money. See <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Why not use Double or Float to represent currency?</a>"}],"answers":[{"comments":[{"owner":{"account_id":26817123,"reputation":3,"user_id":20406969,"display_name":"Kanukl"},"score":0,"creation_date":1667477834,"post_id":74302781,"comment_id":131178658,"body_markdown":"Thank you very much this works with the rest of mey code perfectly","body":"Thank you very much this works with the rest of mey code perfectly"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667477110,"creation_date":1667477110,"answer_id":74302781,"question_id":74302529,"body_markdown":"You can put it into a own function:\r\n\r\n    public static void Rueckgaberechner(Double geld) {\r\n        System.out.println(&quot;Rueckgeld: &quot;);\r\n        geld = anzahlRueckgeld(200,geld, &quot; mal 2 Euro&quot;);\r\n        geld = anzahlRueckgeld(100,geld, &quot; mal 1 Euro&quot;);\r\n        geld = anzahlRueckgeld(50,geld, &quot; mal 50 cent&quot;);\r\n        geld = anzahlRueckgeld(20,geld, &quot; mal 20 cent&quot;);\r\n        geld = anzahlRueckgeld(10,geld, &quot; mal 10 cent&quot;);\r\n        geld = anzahlRueckgeld(5,geld, &quot; mal 5 cent&quot;);\r\n        geld = anzahlRueckgeld(2,geld, &quot; mal 2 cent&quot;);\r\n        anzahlRueckgeld(1,geld, &quot; mal 1 cent&quot;);\r\n    }\r\n\r\n    public static  double anzahlRueckgeld(int amount, double geld ,String text) {\r\n        int rgeldt =0;\r\n        \r\n        while (geld &gt;= amount) {\r\n            geld = geld - amount;\r\n            rgeldt = rgeldt + 1;\r\n        }\r\n        if (rgeldt &gt;=1) {\r\n            System.out.println(rgeldt +text);\r\n        }\r\n        return geld;\r\n    }\r\n\r\n\r\nBTW: By convention, method names in java should start with lower case character","title":"How can I shorten many while loops?","body":"<p>You can put it into a own function:</p>\n<pre><code>public static void Rueckgaberechner(Double geld) {\n    System.out.println(&quot;Rueckgeld: &quot;);\n    geld = anzahlRueckgeld(200,geld, &quot; mal 2 Euro&quot;);\n    geld = anzahlRueckgeld(100,geld, &quot; mal 1 Euro&quot;);\n    geld = anzahlRueckgeld(50,geld, &quot; mal 50 cent&quot;);\n    geld = anzahlRueckgeld(20,geld, &quot; mal 20 cent&quot;);\n    geld = anzahlRueckgeld(10,geld, &quot; mal 10 cent&quot;);\n    geld = anzahlRueckgeld(5,geld, &quot; mal 5 cent&quot;);\n    geld = anzahlRueckgeld(2,geld, &quot; mal 2 cent&quot;);\n    anzahlRueckgeld(1,geld, &quot; mal 1 cent&quot;);\n}\n\npublic static  double anzahlRueckgeld(int amount, double geld ,String text) {\n    int rgeldt =0;\n    \n    while (geld &gt;= amount) {\n        geld = geld - amount;\n        rgeldt = rgeldt + 1;\n    }\n    if (rgeldt &gt;=1) {\n        System.out.println(rgeldt +text);\n    }\n    return geld;\n}\n</code></pre>\n<p>BTW: By convention, method names in java should start with lower case character</p>\n"},{"tags":[],"owner":{"account_id":26811902,"reputation":103,"user_id":20402396,"display_name":"Stephen Flavin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667831425,"creation_date":1667477362,"answer_id":74302833,"question_id":74302529,"body_markdown":"Assuming I&#39;ve understood correctly and geld is number of cents and the goal is to output the change in as few coins as possible, you can do this without any loops by using division and modulo, e.g. to get the number of 2 euro coins in geld you can do\r\n```java\r\n    int numberOf2Euros = (int) (geld / 200);\r\n    geld = geld % 200;\r\n```\r\n\r\n## Edit:\r\nAdding implementation option for the fun of it:\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\nimport java.util.LinkedHashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.atomic.AtomicReference;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ChangeCalculator {\r\n\r\n    enum EuroDenominations {\r\n        ONE_CENT_COIN(1, &quot;1&#162;&quot;),\r\n        TWO_CENT_COIN(2, &quot;2&#162;&quot;),\r\n        FIVE_CENT_COIN(5, &quot;5&#162;&quot;),\r\n        TEN_CENT_COIN(10, &quot;10&#162;&quot;),\r\n        TWENTY_CENT_COIN(20, &quot;20&#162;&quot;),\r\n        FIFTY_CENT_COIN(50, &quot;50&#162;&quot;),\r\n        ONE_EURO_COIN(100, &quot;1&quot;),\r\n        TWO_EURO_COIN(200, &quot;2&quot;);\r\n        // using an enum like this makes the types of change extensible\r\n        // e.g. you can add a FIVE_EURO_NOTE here and no other changes are \r\n        // required\r\n\r\n        private final int cents;\r\n        private final String symbol;\r\n\r\n        EuroDenominations(int cents,\r\n                          String symbol) {\r\n            this.cents = cents;\r\n            this.symbol = symbol;\r\n        }\r\n\r\n        public int cents() {\r\n            return cents;\r\n        }\r\n\r\n        public String symbol() {\r\n            return symbol;\r\n        }\r\n    }\r\n\r\n    public static Map&lt;EuroDenominations, Integer&gt; rueckgaberechner(double geld) {\r\n        // it&#39;s preferable that methods don&#39;t mutate their input so here\r\n        // we copy it into a temporary variable we can work with\r\n        AtomicReference&lt;Double&gt; atomicGeld = new AtomicReference&lt;&gt;(geld);\r\n        return Arrays.stream(EuroDenominations.values())\r\n                // It&#39;s important that coins are evaluated in order of\r\n                // largest to smallest and that this stream is evaluated \r\n                // sequentially\r\n                .sorted(Comparator.comparing(EuroDenominations::cents).reversed())\r\n                .collect(Collectors.toMap(Function.identity(), v -&gt; {\r\n                            double g = atomicGeld.get();\r\n                            int i = (int) (g / v.cents());\r\n                            atomicGeld.set(g % v.cents());\r\n                            return i;\r\n                        },\r\n                        // merging will never happen, this is required\r\n                        // by the function\r\n                        (a, b) -&gt; a,\r\n                        // using a linked hashmap to retain insertion \r\n                        // order for pretty printing in size order later\r\n                        LinkedHashMap::new)); \r\n        // since we&#39;re talking about money you should decide how you want\r\n        // to handle rounding/remainders\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;EuroDenominations, Integer&gt; rueckgaberechner = rueckgaberechner(388);\r\n        System.out.println(rueckgaberechner);\r\n\r\n        System.out.println(&quot;\\nPretty print:&quot;);\r\n\r\n        rueckgaberechner.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() != 0)\r\n                .forEach(entry -&gt; System.out.printf(&quot;%d mal %s\\n&quot;, entry.getValue(), entry.getKey().symbol()));\r\n    }\r\n}\r\n```\r\nOutput:\r\n```\r\n{TWO_EURO_COIN=1, ONE_EURO_COIN=1, FIFTY_CENT_COIN=1, TWENTY_CENT_COIN=1, TEN_CENT_COIN=1, FIVE_CENT_COIN=1, TWO_CENT_COIN=1, ONE_CENT_COIN=1}\r\n\r\nPretty print:\r\n1 mal 2\r\n1 mal 1\r\n1 mal 50&#162;\r\n1 mal 20&#162;\r\n1 mal 10&#162;\r\n1 mal 5&#162;\r\n1 mal 2&#162;\r\n1 mal 1&#162;\r\n```\r\n\r\nYou could re-order the enum to be in the required order by default to skip the sort step and use an `EnumMap` instead of `LinkedHashMap` for slightly better performance but the code becomes a little less obvious and a little more fragile.\r\n","title":"How can I shorten many while loops?","body":"<p>Assuming I've understood correctly and geld is number of cents and the goal is to output the change in as few coins as possible, you can do this without any loops by using division and modulo, e.g. to get the number of 2 euro coins in geld you can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int numberOf2Euros = (int) (geld / 200);\n    geld = geld % 200;\n</code></pre>\n<h2>Edit:</h2>\n<p>Adding implementation option for the fun of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.concurrent.atomic.AtomicReference;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n\npublic class ChangeCalculator {\n\n    enum EuroDenominations {\n        ONE_CENT_COIN(1, &quot;1&quot;),\n        TWO_CENT_COIN(2, &quot;2&quot;),\n        FIVE_CENT_COIN(5, &quot;5&quot;),\n        TEN_CENT_COIN(10, &quot;10&quot;),\n        TWENTY_CENT_COIN(20, &quot;20&quot;),\n        FIFTY_CENT_COIN(50, &quot;50&quot;),\n        ONE_EURO_COIN(100, &quot;1&quot;),\n        TWO_EURO_COIN(200, &quot;2&quot;);\n        // using an enum like this makes the types of change extensible\n        // e.g. you can add a FIVE_EURO_NOTE here and no other changes are \n        // required\n\n        private final int cents;\n        private final String symbol;\n\n        EuroDenominations(int cents,\n                          String symbol) {\n            this.cents = cents;\n            this.symbol = symbol;\n        }\n\n        public int cents() {\n            return cents;\n        }\n\n        public String symbol() {\n            return symbol;\n        }\n    }\n\n    public static Map&lt;EuroDenominations, Integer&gt; rueckgaberechner(double geld) {\n        // it's preferable that methods don't mutate their input so here\n        // we copy it into a temporary variable we can work with\n        AtomicReference&lt;Double&gt; atomicGeld = new AtomicReference&lt;&gt;(geld);\n        return Arrays.stream(EuroDenominations.values())\n                // It's important that coins are evaluated in order of\n                // largest to smallest and that this stream is evaluated \n                // sequentially\n                .sorted(Comparator.comparing(EuroDenominations::cents).reversed())\n                .collect(Collectors.toMap(Function.identity(), v -&gt; {\n                            double g = atomicGeld.get();\n                            int i = (int) (g / v.cents());\n                            atomicGeld.set(g % v.cents());\n                            return i;\n                        },\n                        // merging will never happen, this is required\n                        // by the function\n                        (a, b) -&gt; a,\n                        // using a linked hashmap to retain insertion \n                        // order for pretty printing in size order later\n                        LinkedHashMap::new)); \n        // since we're talking about money you should decide how you want\n        // to handle rounding/remainders\n    }\n\n    public static void main(String[] args) {\n        Map&lt;EuroDenominations, Integer&gt; rueckgaberechner = rueckgaberechner(388);\n        System.out.println(rueckgaberechner);\n\n        System.out.println(&quot;\\nPretty print:&quot;);\n\n        rueckgaberechner.entrySet().stream()\n                .filter(entry -&gt; entry.getValue() != 0)\n                .forEach(entry -&gt; System.out.printf(&quot;%d mal %s\\n&quot;, entry.getValue(), entry.getKey().symbol()));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{TWO_EURO_COIN=1, ONE_EURO_COIN=1, FIFTY_CENT_COIN=1, TWENTY_CENT_COIN=1, TEN_CENT_COIN=1, FIVE_CENT_COIN=1, TWO_CENT_COIN=1, ONE_CENT_COIN=1}\n\nPretty print:\n1 mal 2\n1 mal 1\n1 mal 50\n1 mal 20\n1 mal 10\n1 mal 5\n1 mal 2\n1 mal 1\n</code></pre>\n<p>You could re-order the enum to be in the required order by default to skip the sort step and use an <code>EnumMap</code> instead of <code>LinkedHashMap</code> for slightly better performance but the code becomes a little less obvious and a little more fragile.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667478237,"creation_date":1667478237,"answer_id":74303038,"question_id":74302529,"body_markdown":"The input of your function should be in cents. This should be a natural number (`int`) vs a real number (`float`).\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class CoinDisplay {\r\n    private static List&lt;CoinDenomination&gt; euroCoinDenominations = List.of(\r\n        new CoinDenomination(200, &quot;2 Euro&quot;),\r\n        new CoinDenomination(100, &quot;1 Euro&quot;),\r\n        new CoinDenomination(50, &quot;50 Cent&quot;),\r\n        new CoinDenomination(20, &quot;20 Cent&quot;),\r\n        new CoinDenomination(10, &quot;10 Cent&quot;),\r\n        new CoinDenomination(5, &quot;5 Cent&quot;),\r\n        new CoinDenomination(2, &quot;2 Cent&quot;),\r\n        new CoinDenomination(1, &quot;1 Cent&quot;)\r\n    );\r\n\r\n    public static void main(String args[]) {\r\n      System.out.println(formatCents(497, euroCoinDenominations));\r\n    }\r\n    \r\n    public static String formatCents(int cents, List&lt;CoinDenomination&gt; coinDenoms) {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        for (CoinDenomination denom : coinDenoms) {\r\n            int count = (int) Math.floor(cents / denom.getAmount());\r\n            if (count &gt; 0) {\r\n                result.add(String.format(&quot;%d &#215; %s&quot;, count, denom.getDisplay()));\r\n            }\r\n            cents %= denom.getAmount();\r\n        }\r\n        return String.join(System.lineSeparator(), result);\r\n    }\r\n\r\n    private static class CoinDenomination {\r\n        private int amount;\r\n        private String display;\r\n        public CoinDenomination(int amount, String display) {\r\n            this.amount = amount;\r\n            this.display = display;\r\n        }\r\n        public int getAmount() { return this.amount; }\r\n        public String getDisplay() { return this.display; }\r\n    }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n2 &#215; 2 Euro\r\n1 &#215; 50 Cent\r\n2 &#215; 20 Cent\r\n1 &#215; 5 Cent\r\n1 &#215; 2 Cent\r\n```\r\n\r\nHere is a JavaScript version that works as a snippet:\r\n\r\n&lt;!-- begin snippet: js hide: true console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const euroCoinDenominations = [\r\n      { amount: 200 , display: &#39;2 Euro&#39;  },\r\n      { amount: 100 , display: &#39;1 Euro&#39;  },\r\n      { amount:  50 , display: &#39;50 Cent&#39; },\r\n      { amount:  20 , display: &#39;20 Cent&#39; },\r\n      { amount:  10 , display: &#39;10 Cent&#39; },\r\n      { amount:   5 , display: &#39;5 Cent&#39;  },\r\n      { amount:   2 , display: &#39;2 Cent&#39;  },\r\n      { amount:   1 , display: &#39;1 Cent&#39;  }\r\n    ];\r\n\r\n    const formatCents = (cents, coinDenominations) =&gt; {\r\n      const result = [];\r\n      for (let { amount, display } of coinDenominations) {\r\n        const count = Math.floor(cents / amount);\r\n        if (count &gt; 0) {\r\n          result.push(`${count} &#215; ${display}`);\r\n        }\r\n        cents %= amount;\r\n      }\r\n      return result.join(&#39;\\n&#39;);\r\n    };\r\n\r\n    console.log(formatCents(497, euroCoinDenominations));\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .as-console-wrapper { top: 0; max-height: 100% !important; }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I shorten many while loops?","body":"<p>The input of your function should be in cents. This should be a natural number (<code>int</code>) vs a real number (<code>float</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class CoinDisplay {\n    private static List&lt;CoinDenomination&gt; euroCoinDenominations = List.of(\n        new CoinDenomination(200, &quot;2 Euro&quot;),\n        new CoinDenomination(100, &quot;1 Euro&quot;),\n        new CoinDenomination(50, &quot;50 Cent&quot;),\n        new CoinDenomination(20, &quot;20 Cent&quot;),\n        new CoinDenomination(10, &quot;10 Cent&quot;),\n        new CoinDenomination(5, &quot;5 Cent&quot;),\n        new CoinDenomination(2, &quot;2 Cent&quot;),\n        new CoinDenomination(1, &quot;1 Cent&quot;)\n    );\n\n    public static void main(String args[]) {\n      System.out.println(formatCents(497, euroCoinDenominations));\n    }\n    \n    public static String formatCents(int cents, List&lt;CoinDenomination&gt; coinDenoms) {\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        for (CoinDenomination denom : coinDenoms) {\n            int count = (int) Math.floor(cents / denom.getAmount());\n            if (count &gt; 0) {\n                result.add(String.format(&quot;%d  %s&quot;, count, denom.getDisplay()));\n            }\n            cents %= denom.getAmount();\n        }\n        return String.join(System.lineSeparator(), result);\n    }\n\n    private static class CoinDenomination {\n        private int amount;\n        private String display;\n        public CoinDenomination(int amount, String display) {\n            this.amount = amount;\n            this.display = display;\n        }\n        public int getAmount() { return this.amount; }\n        public String getDisplay() { return this.display; }\n    }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>2  2 Euro\n1  50 Cent\n2  20 Cent\n1  5 Cent\n1  2 Cent\n</code></pre>\n<p>Here is a JavaScript version that works as a snippet:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const euroCoinDenominations = [\n  { amount: 200 , display: '2 Euro'  },\n  { amount: 100 , display: '1 Euro'  },\n  { amount:  50 , display: '50 Cent' },\n  { amount:  20 , display: '20 Cent' },\n  { amount:  10 , display: '10 Cent' },\n  { amount:   5 , display: '5 Cent'  },\n  { amount:   2 , display: '2 Cent'  },\n  { amount:   1 , display: '1 Cent'  }\n];\n\nconst formatCents = (cents, coinDenominations) =&gt; {\n  const result = [];\n  for (let { amount, display } of coinDenominations) {\n    const count = Math.floor(cents / amount);\n    if (count &gt; 0) {\n      result.push(`${count}  ${display}`);\n    }\n    cents %= amount;\n  }\n  return result.join('\\n');\n};\n\nconsole.log(formatCents(497, euroCoinDenominations));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { top: 0; max-height: 100% !important; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667478855,"creation_date":1667478855,"answer_id":74303166,"question_id":74302529,"body_markdown":"You don&#39;t need to loop.\r\n\r\n    static int Rueckgaberechner(int geld, int unit, String message) {\r\n        int regld = geld / unit;\r\n        if (regld &gt; 0)\r\n            System.out.println(regld + &quot; mal &quot; + message);\r\n        return geld % unit;\r\n    }\r\n\r\n    public static void Rueckgaberechner(int geld) {\r\n        System.out.println(&quot;Rueckgeld: &quot;);\r\n        geld = Rueckgaberechner(geld, 200, &quot;2 Euro&quot;);\r\n        geld = Rueckgaberechner(geld, 100, &quot;1 Euro&quot;);\r\n        geld = Rueckgaberechner(geld, 50, &quot;50 Cent&quot;);\r\n        geld = Rueckgaberechner(geld, 20, &quot;20 Cent&quot;);\r\n        geld = Rueckgaberechner(geld, 10, &quot;10 Cent&quot;);\r\n        geld = Rueckgaberechner(geld, 5, &quot;5 Cent&quot;);\r\n        geld = Rueckgaberechner(geld, 2, &quot;2 Cent&quot;);\r\n        geld = Rueckgaberechner(geld, 1, &quot;1 Cent&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Rueckgaberechner(1498);\r\n    }\r\n\r\noutput:\r\n\r\n    Rueckgeld: \r\n    7 mal 2 Euro\r\n    1 mal 50 Cent\r\n    2 mal 20 Cent\r\n    1 mal 5 Cent\r\n    1 mal 2 Cent\r\n    1 mal 1 Cent\r\n\r\n","title":"How can I shorten many while loops?","body":"<p>You don't need to loop.</p>\n<pre><code>static int Rueckgaberechner(int geld, int unit, String message) {\n    int regld = geld / unit;\n    if (regld &gt; 0)\n        System.out.println(regld + &quot; mal &quot; + message);\n    return geld % unit;\n}\n\npublic static void Rueckgaberechner(int geld) {\n    System.out.println(&quot;Rueckgeld: &quot;);\n    geld = Rueckgaberechner(geld, 200, &quot;2 Euro&quot;);\n    geld = Rueckgaberechner(geld, 100, &quot;1 Euro&quot;);\n    geld = Rueckgaberechner(geld, 50, &quot;50 Cent&quot;);\n    geld = Rueckgaberechner(geld, 20, &quot;20 Cent&quot;);\n    geld = Rueckgaberechner(geld, 10, &quot;10 Cent&quot;);\n    geld = Rueckgaberechner(geld, 5, &quot;5 Cent&quot;);\n    geld = Rueckgaberechner(geld, 2, &quot;2 Cent&quot;);\n    geld = Rueckgaberechner(geld, 1, &quot;1 Cent&quot;);\n}\n\npublic static void main(String[] args) {\n    Rueckgaberechner(1498);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Rueckgeld: \n7 mal 2 Euro\n1 mal 50 Cent\n2 mal 20 Cent\n1 mal 5 Cent\n1 mal 2 Cent\n1 mal 1 Cent\n</code></pre>\n"}],"owner":{"account_id":26817123,"reputation":3,"user_id":20406969,"display_name":"Kanukl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74302781,"answer_count":4,"score":-2,"last_activity_date":1667831425,"creation_date":1667475937,"question_id":74302529,"body_markdown":"This is one of my first attempts to use Java and I tried my best, but I need to shorten it so it&#39;s not so long.\r\n\r\nImportant is that it keeps all the coins of the Euro. It&#39;s a German code so geld means money.\r\n\r\nThis part of the code `System.out.println(rgeldt + &quot; mal 2 Euro&quot;);` just means how often the 2 euros have to be ejected.\r\n\r\n```java\r\npublic static void Rueckgaberechner(Double geld) {\r\n    System.out.println(&quot;Rueckgeld: &quot;);\r\n    int rgeldt = 0;\r\n    while (geld &gt;= 200) {\r\n        geld = geld - 200;\r\n        rgeldt = rgeldt + 1;\r\n    }\r\n    if (rgeldt &gt;= 1) {\r\n        System.out.println(rgeldt + &quot; mal 2 Euro&quot;);\r\n    }\r\n    int rgeldO = 0;\r\n    while (geld &gt;= 100) {\r\n        geld = geld - 100;\r\n        rgeldO = rgeldO + 1;\r\n    }\r\n    if (rgeldO &gt;= 1) {\r\n        System.out.println(rgeldO + &quot; mal 1 Euro&quot;);\r\n    }\r\n    int rgeldf = 0;\r\n    while (geld &gt;= 50) {\r\n        geld = geld - 50;\r\n        rgeldf = rgeldf + 1;\r\n    }\r\n    if (rgeldf &gt;= 1) {\r\n        System.out.println(rgeldf + &quot; mal 50 Cent&quot;);\r\n    }\r\n    int rgeldtw = 0;\r\n    while (geld &gt;= 20) {\r\n        geld = geld - 20;\r\n        rgeldtw = rgeldtw + 1;\r\n    }\r\n    if (rgeldtw &gt;= 1) {\r\n        System.out.println(rgeldtw + &quot; mal 20 Cent&quot;);\r\n    }\r\n    int rgeldten = 0;\r\n    while (geld &gt;= 10) {\r\n        geld = geld - 10;\r\n        rgeldten = rgeldten + 1;\r\n    }\r\n    if (rgeldten &gt;= 1) {\r\n        System.out.println(rgeldten + &quot; mal 10 Cent&quot;);\r\n    }\r\n    int rgeldfive = 0;\r\n    while (geld &gt;= 5) {\r\n        geld = geld - 5;\r\n        rgeldfive = rgeldfive + 1;\r\n    }\r\n    if (rgeldfive &gt;= 1) {\r\n        System.out.println(rgeldfive + &quot; mal 5 Cent&quot;);\r\n    }\r\n    int rgeldtwo = 0;\r\n    while (geld &gt;= 2) {\r\n        geld = geld - 2;\r\n        rgeldtwo = rgeldtwo + 1;\r\n    }\r\n    if (rgeldtwo &gt;= 1) {\r\n        System.out.println(rgeldtwo + &quot; mal 2 Cent&quot;);\r\n    }\r\n    int rgeldone = 0;\r\n    while (geld &gt;= 1) {\r\n        geld = geld - 1;\r\n        rgeldone = rgeldone + 1;\r\n    }\r\n    if (rgeldone &gt;= 1) {\r\n        System.out.println(rgeldone + &quot; mal 1 Cent&quot;);\r\n    }\r\n}\r\n```","title":"How can I shorten many while loops?","body":"<p>This is one of my first attempts to use Java and I tried my best, but I need to shorten it so it's not so long.</p>\n<p>Important is that it keeps all the coins of the Euro. It's a German code so geld means money.</p>\n<p>This part of the code <code>System.out.println(rgeldt + &quot; mal 2 Euro&quot;);</code> just means how often the 2 euros have to be ejected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void Rueckgaberechner(Double geld) {\n    System.out.println(&quot;Rueckgeld: &quot;);\n    int rgeldt = 0;\n    while (geld &gt;= 200) {\n        geld = geld - 200;\n        rgeldt = rgeldt + 1;\n    }\n    if (rgeldt &gt;= 1) {\n        System.out.println(rgeldt + &quot; mal 2 Euro&quot;);\n    }\n    int rgeldO = 0;\n    while (geld &gt;= 100) {\n        geld = geld - 100;\n        rgeldO = rgeldO + 1;\n    }\n    if (rgeldO &gt;= 1) {\n        System.out.println(rgeldO + &quot; mal 1 Euro&quot;);\n    }\n    int rgeldf = 0;\n    while (geld &gt;= 50) {\n        geld = geld - 50;\n        rgeldf = rgeldf + 1;\n    }\n    if (rgeldf &gt;= 1) {\n        System.out.println(rgeldf + &quot; mal 50 Cent&quot;);\n    }\n    int rgeldtw = 0;\n    while (geld &gt;= 20) {\n        geld = geld - 20;\n        rgeldtw = rgeldtw + 1;\n    }\n    if (rgeldtw &gt;= 1) {\n        System.out.println(rgeldtw + &quot; mal 20 Cent&quot;);\n    }\n    int rgeldten = 0;\n    while (geld &gt;= 10) {\n        geld = geld - 10;\n        rgeldten = rgeldten + 1;\n    }\n    if (rgeldten &gt;= 1) {\n        System.out.println(rgeldten + &quot; mal 10 Cent&quot;);\n    }\n    int rgeldfive = 0;\n    while (geld &gt;= 5) {\n        geld = geld - 5;\n        rgeldfive = rgeldfive + 1;\n    }\n    if (rgeldfive &gt;= 1) {\n        System.out.println(rgeldfive + &quot; mal 5 Cent&quot;);\n    }\n    int rgeldtwo = 0;\n    while (geld &gt;= 2) {\n        geld = geld - 2;\n        rgeldtwo = rgeldtwo + 1;\n    }\n    if (rgeldtwo &gt;= 1) {\n        System.out.println(rgeldtwo + &quot; mal 2 Cent&quot;);\n    }\n    int rgeldone = 0;\n    while (geld &gt;= 1) {\n        geld = geld - 1;\n        rgeldone = rgeldone + 1;\n    }\n    if (rgeldone &gt;= 1) {\n        System.out.println(rgeldone + &quot; mal 1 Cent&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","android-cardview"],"comments":[{"owner":{"account_id":1442293,"reputation":459,"user_id":1362041,"accept_rate":94,"display_name":"B. TIger"},"score":0,"creation_date":1456495153,"post_id":35653380,"comment_id":58987482,"body_markdown":"Can you post the xml for your AdapterView(RecliclerView/ListView)","body":"Can you post the xml for your AdapterView(RecliclerView/ListView)"},{"owner":{"account_id":1442293,"reputation":459,"user_id":1362041,"accept_rate":94,"display_name":"B. TIger"},"score":0,"creation_date":1456495195,"post_id":35653380,"comment_id":58987507,"body_markdown":"try changing this atribute card_view:cardUseCompatPadding=&quot;true&quot;","body":"try changing this atribute card_view:cardUseCompatPadding=&quot;true&quot;"},{"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"score":0,"creation_date":1456497539,"post_id":35653380,"comment_id":58989341,"body_markdown":"I edited the question with your suggestions.","body":"I edited the question with your suggestions."}],"answers":[{"tags":[],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1456500928,"creation_date":1456500928,"answer_id":35655760,"question_id":35653380,"body_markdown":"I found a solution for my problem by changing the height of the imageView to 130dp. Apparently since i made the with of the image to match_parent, i had to find the exact height that will suit the image inside the cardview without giving it some extra padding. ","title":"How can i remove unnecessary top padding in cardview?","body":"<p>I found a solution for my problem by changing the height of the imageView to 130dp. Apparently since i made the with of the image to match_parent, i had to find the exact height that will suit the image inside the cardview without giving it some extra padding. </p>\n"},{"tags":[],"owner":{"account_id":19291320,"reputation":71,"user_id":14101292,"display_name":"Alex Zavala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610950937,"creation_date":1610950937,"answer_id":65769698,"question_id":35653380,"body_markdown":"The situation is due to two reasons, the first is that the height property of the **CardView** is in **match_parent** or in a larger size than the components occupy and at the same time the **gravity** property of the layout is in **center**.\r\n\r\nTo fix it just set the gravity of the LinearLayout to center | fill or just to fill.","title":"How can i remove unnecessary top padding in cardview?","body":"<p>The situation is due to two reasons, the first is that the height property of the <strong>CardView</strong> is in <strong>match_parent</strong> or in a larger size than the components occupy and at the same time the <strong>gravity</strong> property of the layout is in <strong>center</strong>.</p>\n<p>To fix it just set the gravity of the LinearLayout to center | fill or just to fill.</p>\n"},{"tags":[],"owner":{"account_id":16547921,"reputation":1090,"user_id":13321079,"display_name":"MohamedHarmoush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667831219,"creation_date":1667829922,"answer_id":74347876,"question_id":35653380,"body_markdown":"I used these below attributes and it works for me.\r\n\r\n    card_view:cardElevation=&quot;0dp&quot;\r\n    card_view:cardMaxElevation=&quot;0dp&quot;\r\n\r\nOr you can just use MaterialCardView instead of legacy CardView","title":"How can i remove unnecessary top padding in cardview?","body":"<p>I used these below attributes and it works for me.</p>\n<pre><code>card_view:cardElevation=&quot;0dp&quot;\ncard_view:cardMaxElevation=&quot;0dp&quot;\n</code></pre>\n<p>Or you can just use MaterialCardView instead of legacy CardView</p>\n"}],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35655760,"answer_count":3,"score":3,"last_activity_date":1667831219,"creation_date":1456494410,"question_id":35653380,"body_markdown":"I managed to implement Cardviews in my app, but the cardview show an unnecessary padding in the top.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat i want to achieve is to get a header image like this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere&#39;s my cardview Layout file : \r\n\r\n    &lt;android.support.v7.widget.CardView\r\n    android:id=&quot;@+id/programCardview&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    card_view:cardUseCompatPadding=&quot;true&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/programHeader&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;160dp&quot;\r\n            android:src=&quot;@drawable/createdprogramviewcard&quot;/&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:paddingBottom=&quot;16dp&quot;\r\n            android:paddingLeft=&quot;16dp&quot;\r\n            android:paddingRight=&quot;16dp&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/programTitle&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:text=&quot;Programme d&#39;endurance&quot;\r\n                android:textSize=&quot;20sp&quot;\r\n                android:textAlignment=&quot;center&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/objectif&quot;\r\n                android:layout_below=&quot;@+id/programTitle&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:text=&quot;Objectif : &quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/programObjectif&quot;\r\n                android:layout_below=&quot;@+id/programTitle&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:text=&quot;6 s&#233;ances&quot;\r\n                android:layout_toRightOf=&quot;@id/objectif&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/programWorkouts&quot;\r\n                android:layout_below=&quot;@+id/programTitle&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:textAlignment=&quot;textEnd&quot;\r\n                android:layout_alignParentRight=&quot;true&quot;\r\n                android:text=&quot;6 s&#233;ances&quot; /&gt;\r\n\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/android.support.v7.widget.CardView&gt;\r\n\r\nThis is the code of the RecyclerView : \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot; \r\nandroid:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;16dp&quot;&gt;\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerViewPrograms&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;/android.support.v7.widget.RecyclerView&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\nI manage to change the attribute cardUseCompatPadding but that not affect the internal form of the cardview, it&#39;s just there to separate them.\r\n\r\nThanks in advance.\r\n\r\n  [1]: http://i.stack.imgur.com/TevOw.png\r\n  [2]: http://i.stack.imgur.com/t4rFH.png","title":"How can i remove unnecessary top padding in cardview?","body":"<p>I managed to implement Cardviews in my app, but the cardview show an unnecessary padding in the top.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TevOw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TevOw.png\" alt=\"enter image description here\"></a></p>\n\n<p>What i want to achieve is to get a header image like this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/t4rFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t4rFH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's my cardview Layout file : </p>\n\n<pre><code>&lt;android.support.v7.widget.CardView\nandroid:id=\"@+id/programCardview\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_height=\"wrap_content\"\nandroid:layout_width=\"match_parent\"\ncard_view:cardUseCompatPadding=\"true\"\nxmlns:card_view=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/programHeader\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"160dp\"\n        android:src=\"@drawable/createdprogramviewcard\"/&gt;\n\n    &lt;RelativeLayout\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\"\n        android:paddingBottom=\"16dp\"\n        android:paddingLeft=\"16dp\"\n        android:paddingRight=\"16dp\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/programTitle\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"\n            android:text=\"Programme d'endurance\"\n            android:textSize=\"20sp\"\n            android:textAlignment=\"center\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/objectif\"\n            android:layout_below=\"@+id/programTitle\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\"\n            android:text=\"Objectif : \" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/programObjectif\"\n            android:layout_below=\"@+id/programTitle\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\"\n            android:text=\"6 sances\"\n            android:layout_toRightOf=\"@id/objectif\"/&gt;\n\n        &lt;TextView\n            android:id=\"@+id/programWorkouts\"\n            android:layout_below=\"@+id/programTitle\"\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"wrap_content\"\n            android:textAlignment=\"textEnd\"\n            android:layout_alignParentRight=\"true\"\n            android:text=\"6 sances\" /&gt;\n\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>This is the code of the RecyclerView : </p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"match_parent\" \n</code></pre>\n\n<p>android:layout_height=\"match_parent\"\n    android:padding=\"16dp\"></p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n    android:id=\"@+id/recyclerViewPrograms\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n&lt;/android.support.v7.widget.RecyclerView&gt;\n</code></pre>\n\n<p></p>\n\n<p>I manage to change the attribute cardUseCompatPadding but that not affect the internal form of the cardview, it's just there to separate them.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","arrays","heap"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667828491,"creation_date":1667828491,"answer_id":74347539,"question_id":74346892,"body_markdown":"The problem is that your function is printing `heapArr[2*pos]`, which evidently means it can only ever print data at **even** indices.\r\n\r\nInstead the function should have as goal to print the value of the *given* `pos` and of its subtrees.\r\n\r\nThis also means you need to change the stop condition: it should just verify that `pos` is a *valid* index (in range).\r\n\r\nSo:\r\n\r\n```\r\npublic void inOrderTraversal(int pos){\r\n    if (pos &gt; currentSize) {\r\n        return;\r\n    } else {\r\n        inOrderTraversal(2 * pos);\r\n        System.out.print(heapArr[pos] + &quot; &quot; );\r\n        inOrderTraversal(2 * pos + 1);\r\n    }\r\n}\r\n```\r\n","title":"Recursion under a heap class","body":"<p>The problem is that your function is printing <code>heapArr[2*pos]</code>, which evidently means it can only ever print data at <strong>even</strong> indices.</p>\n<p>Instead the function should have as goal to print the value of the <em>given</em> <code>pos</code> and of its subtrees.</p>\n<p>This also means you need to change the stop condition: it should just verify that <code>pos</code> is a <em>valid</em> index (in range).</p>\n<p>So:</p>\n<pre><code>public void inOrderTraversal(int pos){\n    if (pos &gt; currentSize) {\n        return;\n    } else {\n        inOrderTraversal(2 * pos);\n        System.out.print(heapArr[pos] + &quot; &quot; );\n        inOrderTraversal(2 * pos + 1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9172113,"reputation":35,"user_id":6819206,"display_name":"Mendax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74347539,"answer_count":1,"score":0,"last_activity_date":1667831083,"creation_date":1667825424,"question_id":74346892,"body_markdown":"I am trying to solve the following problem.\r\n\r\n&quot;Define a recursive method named inOrderTraverse under the Heap class to perform inorder\r\ntraversal over the nodes in the heap.&quot;\r\n\r\nIn the above problem, Do I convert the heap array to BST to run In order Traversal or Can I perform In order traversal over a heap array using recursion? if so How? Any other different insights on the problem will also be helpful.\r\n\r\nIf you want to check the whole code,\r\nhttps://github.com/iaminhri/DSATheoriesAndCodes/blob/main/src/Heap.java\r\n\r\nI am only facing on the following section where I have to traverse a heap using In Order Traversal using recursion.\r\n\r\n```\r\npublic class Heap extends HeapSkeleton&lt;Integer&gt;{\r\n    \r\npublic boolean isLeaf(int pos){\r\n    return pos &gt; currentSize/2;\r\n}\r\n\r\npublic void inOrderTraversal(int pos){\r\n    if(isLeaf(pos))\r\n        return;\r\n    else{\r\n        inOrderTraversal(2 * pos);\r\n        System.out.print(heapArr[2*pos] + &quot; &quot; );\r\n        inOrderTraversal(2 * pos + 1);\r\n    }\r\n}\r\n}\r\n```\r\n\r\n//Main Class\r\n\r\n```\r\npublic class DSAClassDriverList {\r\n    public DSAClassDriverList(){\r\n        Heap newHeap = new Heap(10);\r\n        newHeap.insert(5);\r\n        newHeap.insert(10);\r\n        newHeap.insert(20);\r\n        newHeap.insert(3);\r\n        newHeap.insert(13);\r\n        newHeap.insert(7);\r\n\r\n        newHeap.printHeap();\r\n\r\n        System.out.print(&quot;In Order Sort: &quot;);\r\n        newHeap.inOrderTraversal(1);\r\n    }\r\n\r\n    public static void main(String[] args) { new DSAClassDriverList(); }\r\n}\r\n```\r\n\r\n//The following output of the program which is not correct in terms of In order traversal.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/h6SOm.png)](https://i.stack.imgur.com/h6SOm.png)","title":"Recursion under a heap class","body":"<p>I am trying to solve the following problem.</p>\n<p>&quot;Define a recursive method named inOrderTraverse under the Heap class to perform inorder\ntraversal over the nodes in the heap.&quot;</p>\n<p>In the above problem, Do I convert the heap array to BST to run In order Traversal or Can I perform In order traversal over a heap array using recursion? if so How? Any other different insights on the problem will also be helpful.</p>\n<p>If you want to check the whole code,\n<a href=\"https://github.com/iaminhri/DSATheoriesAndCodes/blob/main/src/Heap.java\" rel=\"nofollow noreferrer\">https://github.com/iaminhri/DSATheoriesAndCodes/blob/main/src/Heap.java</a></p>\n<p>I am only facing on the following section where I have to traverse a heap using In Order Traversal using recursion.</p>\n<pre><code>public class Heap extends HeapSkeleton&lt;Integer&gt;{\n    \npublic boolean isLeaf(int pos){\n    return pos &gt; currentSize/2;\n}\n\npublic void inOrderTraversal(int pos){\n    if(isLeaf(pos))\n        return;\n    else{\n        inOrderTraversal(2 * pos);\n        System.out.print(heapArr[2*pos] + &quot; &quot; );\n        inOrderTraversal(2 * pos + 1);\n    }\n}\n}\n</code></pre>\n<p>//Main Class</p>\n<pre><code>public class DSAClassDriverList {\n    public DSAClassDriverList(){\n        Heap newHeap = new Heap(10);\n        newHeap.insert(5);\n        newHeap.insert(10);\n        newHeap.insert(20);\n        newHeap.insert(3);\n        newHeap.insert(13);\n        newHeap.insert(7);\n\n        newHeap.printHeap();\n\n        System.out.print(&quot;In Order Sort: &quot;);\n        newHeap.inOrderTraversal(1);\n    }\n\n    public static void main(String[] args) { new DSAClassDriverList(); }\n}\n</code></pre>\n<p>//The following output of the program which is not correct in terms of In order traversal.</p>\n<p><a href=\"https://i.stack.imgur.com/h6SOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6SOm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":2470631,"reputation":99,"user_id":3700923,"accept_rate":40,"display_name":"Clemens"},"score":0,"creation_date":1667918774,"post_id":74348094,"comment_id":131279290,"body_markdown":"Yeah, thanks. Unfortunately, there is no way to (re)use the `SearchRequest` class","body":"Yeah, thanks. Unfortunately, there is no way to (re)use the <code>SearchRequest</code> class"}],"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667830937,"creation_date":1667830937,"answer_id":74348094,"question_id":74347036,"body_markdown":"You can use this simple code to test:\r\n\r\n    var response = client.msearch(MsearchRequest.of(ms -&gt; ms.searches(\r\n        List.of(RequestItem.of(ri -&gt; ri\r\n                .header(MultisearchHeader.of(mh -&gt; mh.index(&quot;idx_movies&quot;)))\r\n                .body(MultisearchBody.of(msb -&gt; msb.query(MatchAllQuery.of(ma -&gt; ma)._toQuery()))\r\n                )),\r\n            RequestItem.of(ri -&gt; ri\r\n                .header(MultisearchHeader.of(mh -&gt; mh.index(&quot;idx_cars&quot;)))\r\n                .body(MultisearchBody.of(msb -&gt; msb.query(MatchAllQuery.of(ma -&gt; ma)._toQuery()))\r\n                )))\r\n        )),\r\n        Object.class);","title":"Migrate ElasticsearchClient#Msearch JavaApi (8.5)","body":"<p>You can use this simple code to test:</p>\n<pre><code>var response = client.msearch(MsearchRequest.of(ms -&gt; ms.searches(\n    List.of(RequestItem.of(ri -&gt; ri\n            .header(MultisearchHeader.of(mh -&gt; mh.index(&quot;idx_movies&quot;)))\n            .body(MultisearchBody.of(msb -&gt; msb.query(MatchAllQuery.of(ma -&gt; ma)._toQuery()))\n            )),\n        RequestItem.of(ri -&gt; ri\n            .header(MultisearchHeader.of(mh -&gt; mh.index(&quot;idx_cars&quot;)))\n            .body(MultisearchBody.of(msb -&gt; msb.query(MatchAllQuery.of(ma -&gt; ma)._toQuery()))\n            )))\n    )),\n    Object.class);\n</code></pre>\n"}],"owner":{"account_id":2470631,"reputation":99,"user_id":3700923,"accept_rate":40,"display_name":"Clemens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74348094,"answer_count":1,"score":0,"last_activity_date":1667830937,"creation_date":1667826129,"question_id":74347036,"body_markdown":"I cannot figure out the new ElasticsearchClient#Msearch Java API for Multi-Search Requests.\r\n\r\nIn version 7.17 I used the Multisearch request like this:\r\n\r\n```lang-java\r\n    MultiSearchRequest request = new MultiSearchRequest();\r\n    List&lt;SearchRequest&gt; searchRequests = getSearchRequests();\r\n    MultiSearchResponse multiSearchResponse = restClient.msearch(searchRequests, RequestOptions.DEFAULT);\r\n```\r\n\r\nWith the new API, you have to use `ElasticsearchClient#mSearch(MsearchRequest request, Class&lt;TDocument&gt; tDocumentClass)`. In `MsearchRequest` you can add `RequestItem` with `MsearchRequest.Builder#searches(List&lt;RequestItem&gt; list)`, however the `RequestItem` contains `MultisearchHeader` and `MultisearchBody` but does not implement anything from the `SearchRequest` object.\r\n\r\nAny suggestion on what I have to change, use `ElasticsearchClient#mSearch`?","title":"Migrate ElasticsearchClient#Msearch JavaApi (8.5)","body":"<p>I cannot figure out the new ElasticsearchClient#Msearch Java API for Multi-Search Requests.</p>\n<p>In version 7.17 I used the Multisearch request like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    MultiSearchRequest request = new MultiSearchRequest();\n    List&lt;SearchRequest&gt; searchRequests = getSearchRequests();\n    MultiSearchResponse multiSearchResponse = restClient.msearch(searchRequests, RequestOptions.DEFAULT);\n</code></pre>\n<p>With the new API, you have to use <code>ElasticsearchClient#mSearch(MsearchRequest request, Class&lt;TDocument&gt; tDocumentClass)</code>. In <code>MsearchRequest</code> you can add <code>RequestItem</code> with <code>MsearchRequest.Builder#searches(List&lt;RequestItem&gt; list)</code>, however the <code>RequestItem</code> contains <code>MultisearchHeader</code> and <code>MultisearchBody</code> but does not implement anything from the <code>SearchRequest</code> object.</p>\n<p>Any suggestion on what I have to change, use <code>ElasticsearchClient#mSearch</code>?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","temporary-files"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667831140,"post_id":74348091,"comment_id":131254875,"body_markdown":"[catch (Exception e) {}](https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/94-ignoring-exceptions-is-dangerous\" rel=\"nofollow noreferrer\">catch (Exception e) {}</a>"},{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1667831242,"post_id":74348091,"comment_id":131254919,"body_markdown":"@g00se I kept the code as short as possible","body":"@g00se I kept the code as short as possible"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1667831795,"post_id":74348091,"comment_id":131255144,"body_markdown":"I don&#39;t know this api, so can&#39;t comment. What I can say is that generally speaking, there are few file formats where you can concatenate files successfully with a simple buffer copy owing to the metadata in each applying *only* to each. Whether that&#39;s what&#39;s happening, I don&#39;t know","body":"I don&#39;t know this api, so can&#39;t comment. What I can say is that generally speaking, there are few file formats where you can concatenate files successfully with a simple buffer copy owing to the metadata in each applying <i>only</i> to each. Whether that&#39;s what&#39;s happening, I don&#39;t know"},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1667835332,"post_id":74348091,"comment_id":131256548,"body_markdown":"@g00se seems to be right, you can&#39;t just concat WebM files byte by byte. I found [this](https://stackoverflow.com/questions/35939131/how-can-i-merge-webm-audio-file-and-a-mp4-video-file-using-java) post. It is not exactly what you&#39;re looking for, but you&#39;ll get an idea which tools do you need.","body":"@g00se seems to be right, you can&#39;t just concat WebM files byte by byte. I found <a href=\"https://stackoverflow.com/questions/35939131/how-can-i-merge-webm-audio-file-and-a-mp4-video-file-using-java\">this</a> post. It is not exactly what you&#39;re looking for, but you&#39;ll get an idea which tools do you need."},{"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"score":0,"creation_date":1667839618,"post_id":74348091,"comment_id":131258171,"body_markdown":"@0x1C1B Oh i see. Makes sense. I just hoped it would work, because it is working if you receive payloads with chunked data which is then written into a databuffer which then is beeing wirtten to the file after each chunk, but those chunks probably got the right metadata to be treated as a whole. Fortunately using FFMPEG isn&#39;t much of a problem. Thanks guys :)","body":"@0x1C1B Oh i see. Makes sense. I just hoped it would work, because it is working if you receive payloads with chunked data which is then written into a databuffer which then is beeing wirtten to the file after each chunk, but those chunks probably got the right metadata to be treated as a whole. Fortunately using FFMPEG isn&#39;t much of a problem. Thanks guys :)"}],"owner":{"account_id":8359086,"reputation":81,"user_id":6278171,"display_name":"Macster"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667830920,"creation_date":1667830920,"question_id":74348091,"body_markdown":"I have two video files, which I&#39;m trying to merge into one temporary file. But I always end up having a file which contains only the longer first file &quot;pip.webm&quot;. If I write to `position: 0` instead of `channel.size()` it will obviously override the existing data.\r\n\r\n*pip.webm* &lt;br&gt;\r\nDuration: 5:00 Minutes\r\n\r\n*transparent_short.webm*&lt;br&gt;\r\nDuration: 10 Seconds\r\n\r\n\r\n**What I did so far:**&lt;br&gt;\r\n1. At start, read pip.webm into a DataBuffer.\r\n2. Call `createPipFile()` to create an temporary file, an AsynchroniousFileChannel, and writing the DataBuffer into the temporary file.\r\n3. Calling `override()` to read &quot;transparent_short.webm&quot; into a second Databuffer and then writing the second `DataBuffer` into the same teporary file as before. \r\n\r\nI tried using `StandardOpenOperation.APPEND` for the channel, but this will throw an `APPEND not allowed` Error. \r\n\r\nAnother approach would be, to first merge both DataBuffers into one and then writing to the file at `position: 0`. But I couldn&#39;t figure out how to merge the DataBuffers or how to add data to an DataBuffer which already contains data. Maybe using `DataBufferUtils.join()` but I didn&#39;t get how to do that. \r\n\r\n## Code ##\r\n**OverrideOverlayVideo.java**\r\n```\r\n@Component\r\npublic class OverrideOverlayVideo {\r\n\r\n  private static Log log = LogFactory.getLog(OverrideOverlayVideo.class);\r\n\r\n  final static Path sourceFile = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip.webm&quot;);\r\n  final static int DATABUFFERSIZE = 256*64;\r\n  final static DataBufferFactory dbf = new DefaultDataBufferFactory();\r\n  static Flux&lt;DataBuffer&gt; dataBuffer = DataBufferUtils.read(sourceFile, dbf, DATABUFFERSIZE);\r\n\r\n  public static String newClipPath2;\r\n  public LinkedList&lt;String&gt; clipPathList = new LinkedList&lt;&gt;();\r\n\r\n  public String createPipFile() {\r\n    try {\r\n      Path targetFolder = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip&quot;);\r\n      Path newClipPath = Files.createTempFile(targetFolder,&quot;pip&quot; , &quot;.webm&quot;);\r\n\r\n      String newClipPath2 = newClipPath.normalize().toString();\r\n      \r\n      clipPathList.add(0, newClipPath2);\r\n\r\n      AsynchronousFileChannel channel = AsynchronousFileChannel.open(newClipPath, StandardOpenOption.WRITE);\r\n     \r\n      DataBufferUtils.write(dataBuffer, channel, 0)\r\n                     .subscribe(DataBufferUtils.releaseConsumer()); \r\n     \r\n      return newClipPath2;\r\n    } catch (Exception e) {\r\n    }\r\n\r\n    return newClipPath2;\r\n  }\r\n\r\n  public Mono&lt;Void&gt; override() {\r\n    Path pathToInsertionClip = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip\\\\transparent_short.webm&quot;);\r\n    Flux&lt;DataBuffer&gt; databufferNewClip = DataBufferUtils.read(pathToInsertionClip, dbf, DATABUFFERSIZE);\r\n    Path newClipPath2 = FileSystems.getDefault().getPath(clipPathList.get(0));\r\n\r\n    try {\r\n     AsynchronousFileChannel channel = AsynchronousFileChannel.open(newClipPath2, StandardOpenOption.WRITE);\r\n     \r\n     DataBufferUtils.write(databufferNewClip, channel, channel.size())\r\n                    .subscribe(DataBufferUtils.releaseConsumer());\r\n    \r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    } \r\n\r\n    return Mono.empty();\r\n                                        \r\n  }\r\n\r\n}\r\n```\r\n**SendVideoInController.java**\r\n```\r\n@RestController\r\npublic class SendVideoInController {\r\n    private static Log log = LogFactory.getLog(SendVideoInController.class);\r\n    private final OverrideOverlayVideo overrideOverlayVideo;\r\n\r\n    public SendVideoInController(OverrideOverlayVideo overrideOverlayVideo) {\r\n        this.overrideOverlayVideo = overrideOverlayVideo;\r\n    }\r\n    \r\n    @GetMapping(value = &quot;send/sendVideo&quot;)\r\n    private Mono&lt;Void&gt; sendVideoIn() {\r\n        log.info(&quot;Video received&quot;);\r\n        return overrideOverlayVideo.override();\r\n    }\r\n}\r\n```","title":"Writing additional video data into a temporary file from DataBuffer not working","body":"<p>I have two video files, which I'm trying to merge into one temporary file. But I always end up having a file which contains only the longer first file &quot;pip.webm&quot;. If I write to <code>position: 0</code> instead of <code>channel.size()</code> it will obviously override the existing data.</p>\n<p><em>pip.webm</em> <br>\nDuration: 5:00 Minutes</p>\n<p><em>transparent_short.webm</em><br>\nDuration: 10 Seconds</p>\n<p><strong>What I did so far:</strong><br></p>\n<ol>\n<li>At start, read pip.webm into a DataBuffer.</li>\n<li>Call <code>createPipFile()</code> to create an temporary file, an AsynchroniousFileChannel, and writing the DataBuffer into the temporary file.</li>\n<li>Calling <code>override()</code> to read &quot;transparent_short.webm&quot; into a second Databuffer and then writing the second <code>DataBuffer</code> into the same teporary file as before.</li>\n</ol>\n<p>I tried using <code>StandardOpenOperation.APPEND</code> for the channel, but this will throw an <code>APPEND not allowed</code> Error.</p>\n<p>Another approach would be, to first merge both DataBuffers into one and then writing to the file at <code>position: 0</code>. But I couldn't figure out how to merge the DataBuffers or how to add data to an DataBuffer which already contains data. Maybe using <code>DataBufferUtils.join()</code> but I didn't get how to do that.</p>\n<h2>Code</h2>\n<p><strong>OverrideOverlayVideo.java</strong></p>\n<pre><code>@Component\npublic class OverrideOverlayVideo {\n\n  private static Log log = LogFactory.getLog(OverrideOverlayVideo.class);\n\n  final static Path sourceFile = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip.webm&quot;);\n  final static int DATABUFFERSIZE = 256*64;\n  final static DataBufferFactory dbf = new DefaultDataBufferFactory();\n  static Flux&lt;DataBuffer&gt; dataBuffer = DataBufferUtils.read(sourceFile, dbf, DATABUFFERSIZE);\n\n  public static String newClipPath2;\n  public LinkedList&lt;String&gt; clipPathList = new LinkedList&lt;&gt;();\n\n  public String createPipFile() {\n    try {\n      Path targetFolder = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip&quot;);\n      Path newClipPath = Files.createTempFile(targetFolder,&quot;pip&quot; , &quot;.webm&quot;);\n\n      String newClipPath2 = newClipPath.normalize().toString();\n      \n      clipPathList.add(0, newClipPath2);\n\n      AsynchronousFileChannel channel = AsynchronousFileChannel.open(newClipPath, StandardOpenOption.WRITE);\n     \n      DataBufferUtils.write(dataBuffer, channel, 0)\n                     .subscribe(DataBufferUtils.releaseConsumer()); \n     \n      return newClipPath2;\n    } catch (Exception e) {\n    }\n\n    return newClipPath2;\n  }\n\n  public Mono&lt;Void&gt; override() {\n    Path pathToInsertionClip = FileSystems.getDefault().getPath(&quot;C:\\\\x\\\\pip\\\\transparent_short.webm&quot;);\n    Flux&lt;DataBuffer&gt; databufferNewClip = DataBufferUtils.read(pathToInsertionClip, dbf, DATABUFFERSIZE);\n    Path newClipPath2 = FileSystems.getDefault().getPath(clipPathList.get(0));\n\n    try {\n     AsynchronousFileChannel channel = AsynchronousFileChannel.open(newClipPath2, StandardOpenOption.WRITE);\n     \n     DataBufferUtils.write(databufferNewClip, channel, channel.size())\n                    .subscribe(DataBufferUtils.releaseConsumer());\n    \n    } catch (IOException e) {\n      e.printStackTrace();\n    } \n\n    return Mono.empty();\n                                        \n  }\n\n}\n</code></pre>\n<p><strong>SendVideoInController.java</strong></p>\n<pre><code>@RestController\npublic class SendVideoInController {\n    private static Log log = LogFactory.getLog(SendVideoInController.class);\n    private final OverrideOverlayVideo overrideOverlayVideo;\n\n    public SendVideoInController(OverrideOverlayVideo overrideOverlayVideo) {\n        this.overrideOverlayVideo = overrideOverlayVideo;\n    }\n    \n    @GetMapping(value = &quot;send/sendVideo&quot;)\n    private Mono&lt;Void&gt; sendVideoIn() {\n        log.info(&quot;Video received&quot;);\n        return overrideOverlayVideo.override();\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","method-reference","functional-interface"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667828064,"post_id":74347358,"comment_id":131253695,"body_markdown":"I really don&#39;t understand what you are expecting here. Variable `selector` can&#39;t be of type `FooBarSelector` when you are not assigning a `FooBarSelector` to it and instead are assigning a function reference from `FooBarSelector`. And this kind of function references type is `KProperty&lt;T,K&gt;` in Kotlin. So what&#39;s the problem here?","body":"I really don&#39;t understand what you are expecting here. Variable <code>selector</code> can&#39;t be of type <code>FooBarSelector</code> when you are not assigning a <code>FooBarSelector</code> to it and instead are assigning a function reference from <code>FooBarSelector</code>. And this kind of function references type is <code>KProperty&lt;T,K&gt;</code> in Kotlin. So what&#39;s the problem here?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1667828626,"post_id":74347358,"comment_id":131253904,"body_markdown":"@Tarmo apparently, the OP expects a feature like in Java, where `FooBarSelector selector = Foo::bar;` would work","body":"@Tarmo apparently, the OP expects a feature like in Java, where <code>FooBarSelector selector = Foo::bar;</code> would work"},{"owner":{"account_id":7947274,"reputation":133,"user_id":5999354,"display_name":"Quinteger"},"score":0,"creation_date":1667829838,"post_id":74347358,"comment_id":131254355,"body_markdown":"Yeah, I come from Java and expected similar behavior","body":"Yeah, I come from Java and expected similar behavior"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667829336,"creation_date":1667829336,"answer_id":74347720,"question_id":74347358,"body_markdown":"I am not 100% sure what you are expecting but consider this example:\r\n\r\n```\r\nclass Foo(\r\n  val bar: Bar\r\n)\r\n\r\ndata class Bar(\r\n  val value: String\r\n)\r\n\r\ninterface FooBarSelector {\r\n  fun select(foo: Foo): Bar {\r\n    return foo.bar\r\n  }\r\n}\r\n\r\nclass FooBarCustomSelector: FooBarSelector {\r\n  override fun select(foo: Foo): Bar {\r\n    return Bar(&quot;I don&#39;t care about which Foo was passed. I&#39;ll return my own Bar&quot;)\r\n  }\r\n}\r\n\r\nclass KotlinClass(val selector: (Foo) -&gt; Bar = Foo::bar)\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n  val kotlinClassWithDefaultSelector = KotlinClass()\r\n  val kotlinClassWithCustomSelector = KotlinClass(FooBarCustomSelector()::select)\r\n  val foo = Foo(Bar(&quot;Bar1&quot;))\r\n  println(&quot;kotlinClassWithDefaultSelector: ${kotlinClassWithDefaultSelector.selector(foo)}&quot;)\r\n  println(&quot;kotlinClassWithCustomSelector: ${kotlinClassWithCustomSelector.selector(foo)}&quot;)\r\n}\r\n\r\n```\r\n\r\nThis would print:\r\n\r\n```\r\nkotlinClassWithDefaultSelector: Bar(value=Bar1)\r\nkotlinClassWithCustomSelector: Bar(value=I don&#39;t care about which Foo was passed. I&#39;ll return my own Bar)\r\n```","title":"Use property getter method reference for functional (SAM) interface variables","body":"<p>I am not 100% sure what you are expecting but consider this example:</p>\n<pre><code>class Foo(\n  val bar: Bar\n)\n\ndata class Bar(\n  val value: String\n)\n\ninterface FooBarSelector {\n  fun select(foo: Foo): Bar {\n    return foo.bar\n  }\n}\n\nclass FooBarCustomSelector: FooBarSelector {\n  override fun select(foo: Foo): Bar {\n    return Bar(&quot;I don't care about which Foo was passed. I'll return my own Bar&quot;)\n  }\n}\n\nclass KotlinClass(val selector: (Foo) -&gt; Bar = Foo::bar)\n\nfun main(args: Array&lt;String&gt;) {\n  val kotlinClassWithDefaultSelector = KotlinClass()\n  val kotlinClassWithCustomSelector = KotlinClass(FooBarCustomSelector()::select)\n  val foo = Foo(Bar(&quot;Bar1&quot;))\n  println(&quot;kotlinClassWithDefaultSelector: ${kotlinClassWithDefaultSelector.selector(foo)}&quot;)\n  println(&quot;kotlinClassWithCustomSelector: ${kotlinClassWithCustomSelector.selector(foo)}&quot;)\n}\n\n</code></pre>\n<p>This would print:</p>\n<pre><code>kotlinClassWithDefaultSelector: Bar(value=Bar1)\nkotlinClassWithCustomSelector: Bar(value=I don't care about which Foo was passed. I'll return my own Bar)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7947274,"reputation":133,"user_id":5999354,"display_name":"Quinteger"},"score":1,"creation_date":1667833151,"post_id":74347991,"comment_id":131255717,"body_markdown":"Thanks for your answer. I added an example of passing a function reference to a method and assigning a default value for it if it&#39;s not provided (my original use case). Is this not the same? Why is there no SAM conversion in this case?","body":"Thanks for your answer. I added an example of passing a function reference to a method and assigning a default value for it if it&#39;s not provided (my original use case). Is this not the same? Why is there no SAM conversion in this case?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1667834804,"post_id":74347991,"comment_id":131256354,"body_markdown":"To me, it&#39;s not the same. Each individual default parameter initializer is not a function call. Should they have supported it? Possibly, and maybe it&#39;s just an oversight. Before Kotlin 1.6, there was no `fun interface` and SAM conversions could only be used for Java interfaces. You were expected to always prefer function types instead of interfaces, and functional interfaces were the ugly Java cousin. They eventually realized there were some shortcomings with that restriction, but perhaps all the use cases aren&#39;t fully realized yet. Or there could be some syntax issue it would cause.","body":"To me, it&#39;s not the same. Each individual default parameter initializer is not a function call. Should they have supported it? Possibly, and maybe it&#39;s just an oversight. Before Kotlin 1.6, there was no <code>fun interface</code> and SAM conversions could only be used for Java interfaces. You were expected to always prefer function types instead of interfaces, and functional interfaces were the ugly Java cousin. They eventually realized there were some shortcomings with that restriction, but perhaps all the use cases aren&#39;t fully realized yet. Or there could be some syntax issue it would cause."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1667835157,"post_id":74347991,"comment_id":131256482,"body_markdown":"In general, it&#39;s still recommended that you should prefer using function types instead of functional interfaces, except for specific uses. Read here: https://kotlinlang.org/docs/fun-interfaces.html#functional-interfaces-vs-type-aliases Basically, it&#39;s only if you need the other features of the interface (additional properties and functions with default implementations, or extension functions).","body":"In general, it&#39;s still recommended that you should prefer using function types instead of functional interfaces, except for specific uses. Read here: <a href=\"https://kotlinlang.org/docs/fun-interfaces.html#functional-interfaces-vs-type-aliases\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> Basically, it&#39;s only if you need the other features of the interface (additional properties and functions with default implementations, or extension functions)."},{"owner":{"account_id":7947274,"reputation":133,"user_id":5999354,"display_name":"Quinteger"},"score":0,"creation_date":1668276726,"post_id":74347991,"comment_id":131368043,"body_markdown":"I also just found out that Kotlin&#39;s native function types always perform boxing since they employ generics. So that&#39;s another thing to keep in mind. Functional interfaces allow you to force primitive types as arguments. Waiting for valhalla to release hopefully before year 2050.","body":"I also just found out that Kotlin&#39;s native function types always perform boxing since they employ generics. So that&#39;s another thing to keep in mind. Functional interfaces allow you to force primitive types as arguments. Waiting for valhalla to release hopefully before year 2050."}],"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667830886,"creation_date":1667830446,"answer_id":74347991,"question_id":74347358,"body_markdown":"Your code with the lambda is fine, but you may prefer this syntax for the same thing:\r\n\r\n```\r\nclass KotlinClass() {\r\n    val selector = FooBarSelector(Foo::bar)\r\n}\r\n```\r\n\r\nExplanation:\r\n\r\nKotlin function references are more explicit about types than in Java, because function references are a first-class object type. When you want to use a function reference as a functional interface instance, you must convert it. This can be done automatically by the compiler using SAM conversion. \r\n\r\nSAM conversion only works when passing a function reference as an argument to a function that has a parameter with a functional interface type. So, it doesn&#39;t directly work when assigning to a property.\r\n\r\nBut Kotlin implicitly provides higher order functions for functional interfaces that allow you to pass a function reference that will convert it into an interface instance. The implicit function is named after the interface, so it looks like a constructor call.\r\n\r\nIn the above code, the implicit functional interface &quot;constructor&quot; is `inline`, so there is no intermediate functional object allocated in the compiled code. This compiles to the same thing you would get in Java with a direct method reference.","title":"Use property getter method reference for functional (SAM) interface variables","body":"<p>Your code with the lambda is fine, but you may prefer this syntax for the same thing:</p>\n<pre><code>class KotlinClass() {\n    val selector = FooBarSelector(Foo::bar)\n}\n</code></pre>\n<p>Explanation:</p>\n<p>Kotlin function references are more explicit about types than in Java, because function references are a first-class object type. When you want to use a function reference as a functional interface instance, you must convert it. This can be done automatically by the compiler using SAM conversion.</p>\n<p>SAM conversion only works when passing a function reference as an argument to a function that has a parameter with a functional interface type. So, it doesn't directly work when assigning to a property.</p>\n<p>But Kotlin implicitly provides higher order functions for functional interfaces that allow you to pass a function reference that will convert it into an interface instance. The implicit function is named after the interface, so it looks like a constructor call.</p>\n<p>In the above code, the implicit functional interface &quot;constructor&quot; is <code>inline</code>, so there is no intermediate functional object allocated in the compiled code. This compiles to the same thing you would get in Java with a direct method reference.</p>\n"}],"owner":{"account_id":7947274,"reputation":133,"user_id":5999354,"display_name":"Quinteger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74347991,"answer_count":2,"score":3,"last_activity_date":1667830886,"creation_date":1667827649,"question_id":74347358,"body_markdown":"I want to pass a property getter method reference as one of the function arguments, and have that argument be of my own functional interface type, but ran into an issue.\r\n\r\nHere&#39;s a stripped down minimal reproducible case, I changed the variable from an argument into a property, but the issue is the same.\r\n``` lang-kotlin\r\nclass Foo {\r\n    val bar: Bar? = null\r\n}\r\n\r\nclass Bar\r\n\r\nfun interface FooBarSelector {\r\n    fun select(foo: Foo): Bar?\r\n}\r\n\r\nclass KotlinClass() {\r\n    val selector: FooBarSelector = Foo::bar\r\n}\r\n```\r\nThis doesn&#39;t compile, `Foo::bar` is underlined and the error is\r\n```\r\nType mismatch.\r\nRequired: FooBarSelector\r\nFound: KProperty1&lt;Foo, Bar?&gt;\r\n```\r\nI tried to look this up, found similar questions about SAM conversions, but they were a bit different and I don&#39;t think any of them referred specifically to property getters.\r\n\r\nI found that the issue can be solved by doing one of the following:\r\n\r\n 1. Remove the explicit type, or replace it with the suggested `KProperty1`. Not an option, I want to preserve my type.\r\n 2. Replace the method reference with `FooBarSelector { it.bar }`. Far from ideal, but better than the first option.\r\n\r\nWhy does this happen and are there any other options? I am new to Kotlin, but not Java.\r\n\r\nKotlin version used is 1.7.20\r\n\r\n**EDIT:**\r\n\r\nHere&#39;s my original goal: accept a `FooBarSelector` as an argument, and by default point it at a property getter:\r\n``` lang-kotlin\r\nfun doSomething(\r\n    selector: FooBarSelector = Foo::bar //doesn&#39;t compile\r\n) {\r\n}\r\n```","title":"Use property getter method reference for functional (SAM) interface variables","body":"<p>I want to pass a property getter method reference as one of the function arguments, and have that argument be of my own functional interface type, but ran into an issue.</p>\n<p>Here's a stripped down minimal reproducible case, I changed the variable from an argument into a property, but the issue is the same.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class Foo {\n    val bar: Bar? = null\n}\n\nclass Bar\n\nfun interface FooBarSelector {\n    fun select(foo: Foo): Bar?\n}\n\nclass KotlinClass() {\n    val selector: FooBarSelector = Foo::bar\n}\n</code></pre>\n<p>This doesn't compile, <code>Foo::bar</code> is underlined and the error is</p>\n<pre><code>Type mismatch.\nRequired: FooBarSelector\nFound: KProperty1&lt;Foo, Bar?&gt;\n</code></pre>\n<p>I tried to look this up, found similar questions about SAM conversions, but they were a bit different and I don't think any of them referred specifically to property getters.</p>\n<p>I found that the issue can be solved by doing one of the following:</p>\n<ol>\n<li>Remove the explicit type, or replace it with the suggested <code>KProperty1</code>. Not an option, I want to preserve my type.</li>\n<li>Replace the method reference with <code>FooBarSelector { it.bar }</code>. Far from ideal, but better than the first option.</li>\n</ol>\n<p>Why does this happen and are there any other options? I am new to Kotlin, but not Java.</p>\n<p>Kotlin version used is 1.7.20</p>\n<p><strong>EDIT:</strong></p>\n<p>Here's my original goal: accept a <code>FooBarSelector</code> as an argument, and by default point it at a property getter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun doSomething(\n    selector: FooBarSelector = Foo::bar //doesn't compile\n) {\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":1953821,"reputation":190,"user_id":1757336,"accept_rate":40,"display_name":"Stefano Veloccia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667830604,"creation_date":1667830604,"answer_id":74348031,"question_id":74347831,"body_markdown":"Did you already try with the `@ApiModel` and `@ApiModelProperty` annotations?\r\n\r\nHere&#39;s an example of how to use it:\r\n\r\n    @ApiModel\r\n    public class Employee {\r\n      @ApiModelProperty\r\n      public Role role;\r\n      // standard setters and getters\r\n    }\r\n\r\n    @ApiModel\r\n    public enum Role {\r\n       Engineer, Clerk, Driver, Janitor;\r\n    }\r\n\r\n\r\nRegards","title":"SpringBoot with Swagger for a multipart/form-data, show all enum possible values","body":"<p>Did you already try with the <code>@ApiModel</code> and <code>@ApiModelProperty</code> annotations?</p>\n<p>Here's an example of how to use it:</p>\n<pre><code>@ApiModel\npublic class Employee {\n  @ApiModelProperty\n  public Role role;\n  // standard setters and getters\n}\n\n@ApiModel\npublic enum Role {\n   Engineer, Clerk, Driver, Janitor;\n}\n</code></pre>\n<p>Regards</p>\n"}],"owner":{"account_id":254664,"reputation":11551,"user_id":534218,"accept_rate":54,"display_name":"Safari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667830604,"creation_date":1667829753,"question_id":74347831,"body_markdown":"For a SpringBoot project I defined a multipart/form-data API.\r\n\r\nI configured the Swagger for this.\r\n\r\nAs parameter I&#39;m using an Enum.\r\n\r\nIs it possible to show the possible values about this enum into my Swagger?","title":"SpringBoot with Swagger for a multipart/form-data, show all enum possible values","body":"<p>For a SpringBoot project I defined a multipart/form-data API.</p>\n<p>I configured the Swagger for this.</p>\n<p>As parameter I'm using an Enum.</p>\n<p>Is it possible to show the possible values about this enum into my Swagger?</p>\n"},{"tags":["java","datetime","timezone","email-attachments","invite"],"answers":[{"comments":[{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1667985233,"post_id":74348001,"comment_id":131295980,"body_markdown":"Thank you! But I recently found something very similar that worked, but I accepted your answer. Thanks again.","body":"Thank you! But I recently found something very similar that worked, but I accepted your answer. Thanks again."}],"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667830471,"creation_date":1667830471,"answer_id":74348001,"question_id":74309930,"body_markdown":"The problem is that both `DTSTART` and `DTEND` are being pinned to UTC (as they end with the `Z` character).\r\n\r\nHere&#39;s an excerpt from the [original RFC][1]:\r\n\r\n      Example:  The following represents July 14, 1997, at 1:30 PM in New\r\n      York City in each of the three time formats, using the &quot;DTSTART&quot;\r\n      property.\r\n\r\n       DTSTART:19970714T133000                   ; Local time\r\n       DTSTART:19970714T173000Z                  ; UTC time\r\n       DTSTART;TZID=America/New_York:19970714T133000\r\n                                                 ; Local time and time\r\n                                                 ; zone reference\r\n    \r\n\r\nHere is some Java code for both local and timezone supplied start dates:\r\n\r\n    final var start = ZonedDateTime.of(LocalDate.of(2020, Month.DECEMBER, 8), LocalTime.of(4, 0), ZoneId.of(&quot;Europe/Berlin&quot;));\r\n    final var startDateString = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&#39;T&#39;HHmmss&quot;).format(start);\r\n    \r\n    // local date\r\n    System.out.println(String.format(&quot;DTSTART:%s%n&quot;, startDateString));\r\n    \r\n    // timezone specified\r\n    System.out.println(String.format(&quot;DTSTART;TZID=%s:%s%n&quot;, start.getZone().getId(), startDateString));\r\n\r\n**DISCLAIMER:** I&#39;ve not tested the above, but it provides a starting point.\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5545#section-3.3.5","title":"Java Mail invite attachment issue with time zone","body":"<p>The problem is that both <code>DTSTART</code> and <code>DTEND</code> are being pinned to UTC (as they end with the <code>Z</code> character).</p>\n<p>Here's an excerpt from the <a href=\"https://datatracker.ietf.org/doc/html/rfc5545#section-3.3.5\" rel=\"nofollow noreferrer\">original RFC</a>:</p>\n<pre><code>  Example:  The following represents July 14, 1997, at 1:30 PM in New\n  York City in each of the three time formats, using the &quot;DTSTART&quot;\n  property.\n\n   DTSTART:19970714T133000                   ; Local time\n   DTSTART:19970714T173000Z                  ; UTC time\n   DTSTART;TZID=America/New_York:19970714T133000\n                                             ; Local time and time\n                                             ; zone reference\n</code></pre>\n<p>Here is some Java code for both local and timezone supplied start dates:</p>\n<pre><code>final var start = ZonedDateTime.of(LocalDate.of(2020, Month.DECEMBER, 8), LocalTime.of(4, 0), ZoneId.of(&quot;Europe/Berlin&quot;));\nfinal var startDateString = DateTimeFormatter.ofPattern(&quot;yyyyMMdd'T'HHmmss&quot;).format(start);\n\n// local date\nSystem.out.println(String.format(&quot;DTSTART:%s%n&quot;, startDateString));\n\n// timezone specified\nSystem.out.println(String.format(&quot;DTSTART;TZID=%s:%s%n&quot;, start.getZone().getId(), startDateString));\n</code></pre>\n<p><strong>DISCLAIMER:</strong> I've not tested the above, but it provides a starting point.</p>\n"}],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74348001,"answer_count":1,"score":0,"last_activity_date":1667830471,"creation_date":1667512302,"question_id":74309930,"body_markdown":"beginner here but Im using [this][1] example to send a java email invite. If you look at the last example in that link I have that working in my Spring CRUD app when a User creates a meeting an email gets sent with the meeting details and everything is good. The dateTime that is entered is correct in the database, however, the meeting invite is always 1 hour later than entered. I understand it has something to do with TimeZones but looking at the code I have no idea where to begin. So what do I have to change to set the daylight savings time for Berlin Germany? \r\n\r\nHeres the code:\r\n```\r\npublic class Index {\r\n\r\npublic static void main(String[] args) {\r\n\r\n     try {\r\n            final String username = &quot;sender@mail.com&quot;;\r\n            final String password = &quot;xxxxx&quot;;\r\n            \r\n            String from = &quot;sender@mail.com&quot;;\r\n            String to = &quot;attendee@mail.com&quot;;\r\n            String subject = &quot;Meeting Subject&quot;;\r\n            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\r\n            String startTime = &quot;0400&quot;; // Time Formate: HHMM\r\n            String endTime = &quot;0600&quot;; // Time Formate: HHMM\r\n            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \r\n            \r\n            Properties prop = new Properties();\r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n\r\n            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\r\n                protected PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(username, password);\r\n                }\r\n              });\r\n            \r\n            MimeMessage message = new MimeMessage(session);\r\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\r\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\r\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\r\n\r\n            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\r\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\r\n            message.setSubject(subject);\r\n\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\r\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\r\n                    &quot;VERSION:2.0\\n&quot; +\r\n                    &quot;METHOD:REQUEST\\n&quot; +\r\n                    &quot;BEGIN:VEVENT\\n&quot; +\r\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\r\n                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\r\n                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\r\n                    &quot;LOCATION:Conference room\\n&quot; +\r\n                    &quot;TRANSP:OPAQUE\\n&quot; +\r\n                    &quot;SEQUENCE:0\\n&quot; +\r\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\r\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\r\n                    &quot;CATEGORIES:Meeting\\n&quot; +\r\n                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\r\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\r\n                    &quot;PRIORITY:5\\n&quot; +\r\n                    &quot;CLASS:PUBLIC\\n&quot; +\r\n                    &quot;BEGIN:VALARM\\n&quot; +\r\n                    &quot;TRIGGER:PT1440M\\n&quot; +\r\n                    &quot;ACTION:DISPLAY\\n&quot; +\r\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\r\n                    &quot;END:VALARM\\n&quot; +\r\n                    &quot;END:VEVENT\\n&quot; +\r\n                    &quot;END:VCALENDAR&quot;);\r\n\r\n            // Create the message part\r\n            BodyPart messageBodyPart = new MimeBodyPart();\r\n\r\n            // Fill the message\r\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\r\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\r\n            messageBodyPart.setDataHandler(new DataHandler(\r\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\r\n\r\n            // Create a Multipart\r\n            Multipart multipart = new MimeMultipart();\r\n\r\n            // Add part one\r\n            multipart.addBodyPart(messageBodyPart);\r\n\r\n            // Put parts in message\r\n            message.setContent(multipart);\r\n\r\n            // send message\r\n            Transport.send(message);\r\n            \r\n            System.out.println(&quot;Email sent!&quot;);\r\n        } catch (MessagingException me) {\r\n            me.printStackTrace();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1121715/how-to-send-an-ical-meeting-request-using-java-mail-and-receive-the-response","title":"Java Mail invite attachment issue with time zone","body":"<p>beginner here but Im using <a href=\"https://stackoverflow.com/questions/1121715/how-to-send-an-ical-meeting-request-using-java-mail-and-receive-the-response\">this</a> example to send a java email invite. If you look at the last example in that link I have that working in my Spring CRUD app when a User creates a meeting an email gets sent with the meeting details and everything is good. The dateTime that is entered is correct in the database, however, the meeting invite is always 1 hour later than entered. I understand it has something to do with TimeZones but looking at the code I have no idea where to begin. So what do I have to change to set the daylight savings time for Berlin Germany?</p>\n<p>Heres the code:</p>\n<pre><code>public class Index {\n\npublic static void main(String[] args) {\n\n     try {\n            final String username = &quot;sender@mail.com&quot;;\n            final String password = &quot;xxxxx&quot;;\n            \n            String from = &quot;sender@mail.com&quot;;\n            String to = &quot;attendee@mail.com&quot;;\n            String subject = &quot;Meeting Subject&quot;;\n            String startDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String endDate = &quot;20201208&quot;; // Date Formate: YYYYMMDD\n            String startTime = &quot;0400&quot;; // Time Formate: HHMM\n            String endTime = &quot;0600&quot;; // Time Formate: HHMM\n            String emailBody = &quot;Hi Team, This is meeting description. Thanks&quot;; \n            \n            Properties prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n\n            Session session = Session.getDefaultInstance(prop,  new javax.mail.Authenticator() {\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n              });\n            \n            MimeMessage message = new MimeMessage(session);\n            message.addHeaderLine(&quot;method=REQUEST&quot;);\n            message.addHeaderLine(&quot;charset=UTF-8&quot;);\n            message.addHeaderLine(&quot;component=VEVENT&quot;);\n\n            message.setFrom(new InternetAddress(from, &quot;New Outlook Event&quot;));\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to));\n            message.setSubject(subject);\n\n            StringBuffer sb = new StringBuffer();\n\n            StringBuffer buffer = sb.append(&quot;BEGIN:VCALENDAR\\n&quot; +\n                    &quot;PRODID:-//Microsoft Corporation//Outlook 9.0 MIMEDIR//EN\\n&quot; +\n                    &quot;VERSION:2.0\\n&quot; +\n                    &quot;METHOD:REQUEST\\n&quot; +\n                    &quot;BEGIN:VEVENT\\n&quot; +\n                    &quot;ATTENDEE;ROLE=REQ-PARTICIPANT;RSVP=TRUE:MAILTO:&quot;+ to +&quot;\\n&quot; +\n                    &quot;DTSTART:&quot;+ startDate +&quot;T&quot;+ startTime +&quot;00Z\\n&quot; +\n                    &quot;DTEND:&quot;+ endDate +&quot;T&quot;+ endTime +&quot;00Z\\n&quot; +\n                    &quot;LOCATION:Conference room\\n&quot; +\n                    &quot;TRANSP:OPAQUE\\n&quot; +\n                    &quot;SEQUENCE:0\\n&quot; +\n                    &quot;UID:040000008200E00074C5B7101A82E00800000000002FF466CE3AC5010000000000000000100\\n&quot; +\n                    &quot; 000004377FE5C37984842BF9440448399EB02\\n&quot; +\n                    &quot;CATEGORIES:Meeting\\n&quot; +\n                    &quot;DESCRIPTION:&quot;+ emailBody +&quot;\\n\\n&quot; +\n                    &quot;SUMMARY:Test meeting request\\n&quot; +\n                    &quot;PRIORITY:5\\n&quot; +\n                    &quot;CLASS:PUBLIC\\n&quot; +\n                    &quot;BEGIN:VALARM\\n&quot; +\n                    &quot;TRIGGER:PT1440M\\n&quot; +\n                    &quot;ACTION:DISPLAY\\n&quot; +\n                    &quot;DESCRIPTION:Reminder\\n&quot; +\n                    &quot;END:VALARM\\n&quot; +\n                    &quot;END:VEVENT\\n&quot; +\n                    &quot;END:VCALENDAR&quot;);\n\n            // Create the message part\n            BodyPart messageBodyPart = new MimeBodyPart();\n\n            // Fill the message\n            messageBodyPart.setHeader(&quot;Content-Class&quot;, &quot;urn:content-classes:calendarmessage&quot;);\n            messageBodyPart.setHeader(&quot;Content-ID&quot;, &quot;calendar_message&quot;);\n            messageBodyPart.setDataHandler(new DataHandler(\n                    new ByteArrayDataSource(buffer.toString(), &quot;text/calendar&quot;)));// very important\n\n            // Create a Multipart\n            Multipart multipart = new MimeMultipart();\n\n            // Add part one\n            multipart.addBodyPart(messageBodyPart);\n\n            // Put parts in message\n            message.setContent(multipart);\n\n            // send message\n            Transport.send(message);\n            \n            System.out.println(&quot;Email sent!&quot;);\n        } catch (MessagingException me) {\n            me.printStackTrace();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n}\n}\n</code></pre>\n"},{"tags":["java","list","java-8"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667804977,"creation_date":1667804977,"answer_id":74343031,"question_id":74342990,"body_markdown":"You can use `Collectors.counting` as the downstream collector of `groupingBy` to get the count in each group.\r\n\r\n    Map&lt;String, Long&gt; myData = list.stream()\r\n            .collect(Collectors.groupingBy(d -&gt; d.getCategory(), Collectors.counting()));","title":"grouping list object by attribute using java 8","body":"<p>You can use <code>Collectors.counting</code> as the downstream collector of <code>groupingBy</code> to get the count in each group.</p>\n<pre><code>Map&lt;String, Long&gt; myData = list.stream()\n        .collect(Collectors.groupingBy(d -&gt; d.getCategory(), Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667804991,"creation_date":1667804991,"answer_id":74343032,"question_id":74342990,"body_markdown":"Based on the result you&#39;re after, you&#39;ll need to use a [`groupingBy()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-) collector together with a [`counting()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--) collector:\r\n\r\n    Map&lt;String, Long&gt; soldCopiesStats = list\r\n        .stream() \r\n        .collect(Collectors.groupingBy(MyData::getCategory, Collectors.counting()));","title":"grouping list object by attribute using java 8","body":"<p>Based on the result you're after, you'll need to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>groupingBy()</code></a> collector together with a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#counting--\" rel=\"nofollow noreferrer\"><code>counting()</code></a> collector:</p>\n<pre><code>Map&lt;String, Long&gt; soldCopiesStats = list\n    .stream() \n    .collect(Collectors.groupingBy(MyData::getCategory, Collectors.counting()));\n</code></pre>\n"}],"owner":{"account_id":26816121,"reputation":11,"user_id":20406079,"display_name":"Glad Boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1667829560,"accepted_answer_id":74343032,"answer_count":2,"score":0,"last_activity_date":1667829506,"creation_date":1667804645,"question_id":74342990,"body_markdown":"I have data like this:\r\n\r\n    [\r\n       {\r\n          &quot;category&quot;:&quot;Fruits&quot;,\r\n          &quot;name&quot;:&quot;Apple&quot;\r\n       },\r\n       {\r\n          &quot;category&quot;:&quot;Fruits&quot;,\r\n          &quot;name&quot;:&quot;Manggo&quot;\r\n       },\r\n       {\r\n          &quot;category&quot;:&quot;Vegetables&quot;,\r\n          &quot;name&quot;:&quot;Water Spinach&quot;\r\n       }\r\n    ]\r\n\r\nI want to grouping by java 8, I&#39;ve tried with :\r\n\r\n    Map&lt;String, List&lt;MyData&gt;&gt; myData\r\n        = list.stream().collect(Collectors.groupingBy(d -&gt; d.getCategory()));\r\n\r\nBut the result is not what I need. Because the result I expected was `Fruits = 2, Vegetables = 1`\r\n\r\n","title":"grouping list object by attribute using java 8","body":"<p>I have data like this:</p>\n<pre><code>[\n   {\n      &quot;category&quot;:&quot;Fruits&quot;,\n      &quot;name&quot;:&quot;Apple&quot;\n   },\n   {\n      &quot;category&quot;:&quot;Fruits&quot;,\n      &quot;name&quot;:&quot;Manggo&quot;\n   },\n   {\n      &quot;category&quot;:&quot;Vegetables&quot;,\n      &quot;name&quot;:&quot;Water Spinach&quot;\n   }\n]\n</code></pre>\n<p>I want to grouping by java 8, I've tried with :</p>\n<pre><code>Map&lt;String, List&lt;MyData&gt;&gt; myData\n    = list.stream().collect(Collectors.groupingBy(d -&gt; d.getCategory()));\n</code></pre>\n<p>But the result is not what I need. Because the result I expected was <code>Fruits = 2, Vegetables = 1</code></p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","intellij-idea"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1667798713,"post_id":74342051,"comment_id":131244771,"body_markdown":"Who calls backend controllers?","body":"Who calls backend controllers?"},{"owner":{"account_id":26851850,"reputation":3,"user_id":20436650,"display_name":"lecanardcolvert"},"score":0,"creation_date":1667799050,"post_id":74342051,"comment_id":131244822,"body_markdown":"Hello, I mean: Is it good practice to make two apps, one for web page requests and the other for API REST requests? Sorry if the question isn&#39;t clear enough.","body":"Hello, I mean: Is it good practice to make two apps, one for web page requests and the other for API REST requests? Sorry if the question isn&#39;t clear enough."},{"owner":{"account_id":8564588,"reputation":1250,"user_id":6417470,"display_name":"Humble Bee"},"score":0,"creation_date":1667799452,"post_id":74342051,"comment_id":131244889,"body_markdown":"You can create a single app for Services (API) and one specific for the Web application. The web app would typically represent the front end and the API requests will be served from a separate app.","body":"You can create a single app for Services (API) and one specific for the Web application. The web app would typically represent the front end and the API requests will be served from a separate app."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667801057,"post_id":74342051,"comment_id":131245174,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1667830191,"post_id":74342051,"comment_id":131254506,"body_markdown":"If you connect to a shared database from 2 different projects, you&#39;re going to have problems when you want to use 2nd level caching in JPA. Either use 1 combined project, or have only the REST backend connect to the database, and the webapp connect to the REST backend for data.","body":"If you connect to a shared database from 2 different projects, you&#39;re going to have problems when you want to use 2nd level caching in JPA. Either use 1 combined project, or have only the REST backend connect to the database, and the webapp connect to the REST backend for data."}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667828912,"creation_date":1667801021,"answer_id":74342515,"question_id":74342051,"body_markdown":"I think your question is more about possible architectural approaches than concrete implementation details.\r\nThe answer IMO is &quot;it depends&quot;.\r\n\r\nIf you build something small and easy - there is no point in separation. Keep the code in different packages in the same module, or if you wish to have more &quot;clean&quot; separation - create maven modules for frontend and backend, package them together and you&#39;ll end up running one single application.\r\n\r\nSpring Boot is a &quot;runtime&quot; framework - so it doesn&#39;t really care how do you organize the code as long it follows spring boot&#39;s conventions.\r\n\r\nThe advantage is clear: Less hassle around deployment.\r\n\r\nNow, imagine, your application has grown a lot, so you think about scalability, you need more developers to evolve it. \r\nThen you measure the application performance and come to conclusion that the backend part is way busier than the frontend part. \r\nSo you would like to keep, say, 10 instances (running processes) of the backend and, for example, 3 instances of the frontend server. In this case you might want to start separating to two different servers.\r\n\r\nThen you have two different teams of developers - one is around frontend interaction and another team can write beautiful queries to the Database but do not know much about the frontend. They want to roll the releases separately, use different dependencies, etc. Well - yet another reason to separate these two projects.\r\n\r\nThere are many more arguments of why would you consider separation like that. But bottom line as long as your project is small - keep it simple, sometimes its way more convenient. For bigger projects that have significant load, different performance guarantees, use different technologies under the hood - I would say, consider the decoupling. \r\n\r\nOne technical note about the spring boot. Its a &quot;single-JVM&quot; centric, so it won&#39;t help you to make such a decoupling. Usually you&#39;ll need to maintain two different modules of spring boot applications, list of dependencies, plugged-in technologies and so forth.","title":"Java/Spring Boot : How to separate REST API from webapp","body":"<p>I think your question is more about possible architectural approaches than concrete implementation details.\nThe answer IMO is &quot;it depends&quot;.</p>\n<p>If you build something small and easy - there is no point in separation. Keep the code in different packages in the same module, or if you wish to have more &quot;clean&quot; separation - create maven modules for frontend and backend, package them together and you'll end up running one single application.</p>\n<p>Spring Boot is a &quot;runtime&quot; framework - so it doesn't really care how do you organize the code as long it follows spring boot's conventions.</p>\n<p>The advantage is clear: Less hassle around deployment.</p>\n<p>Now, imagine, your application has grown a lot, so you think about scalability, you need more developers to evolve it.\nThen you measure the application performance and come to conclusion that the backend part is way busier than the frontend part.\nSo you would like to keep, say, 10 instances (running processes) of the backend and, for example, 3 instances of the frontend server. In this case you might want to start separating to two different servers.</p>\n<p>Then you have two different teams of developers - one is around frontend interaction and another team can write beautiful queries to the Database but do not know much about the frontend. They want to roll the releases separately, use different dependencies, etc. Well - yet another reason to separate these two projects.</p>\n<p>There are many more arguments of why would you consider separation like that. But bottom line as long as your project is small - keep it simple, sometimes its way more convenient. For bigger projects that have significant load, different performance guarantees, use different technologies under the hood - I would say, consider the decoupling.</p>\n<p>One technical note about the spring boot. Its a &quot;single-JVM&quot; centric, so it won't help you to make such a decoupling. Usually you'll need to maintain two different modules of spring boot applications, list of dependencies, plugged-in technologies and so forth.</p>\n"}],"owner":{"account_id":26851850,"reputation":3,"user_id":20436650,"display_name":"lecanardcolvert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667802841,"accepted_answer_id":74342515,"answer_count":1,"score":0,"last_activity_date":1667828912,"creation_date":1667796147,"question_id":74342051,"body_markdown":"I am currently learning Spring Boot.\r\nMy project is to create a RESTful API and a webapp at the same time. They both connect to the same database.\r\n\r\nI think that a good practice would be to separate everything that is related to the API service from the webapp. In other words, separate back-end (controllers that send only JSON data) from front-end (controllers that send web pages).  \r\n  \r\nIf so then what would be the proper way to do it? Create two projects and run them simultaneously? Create one project with multiple modules?\r\n\r\nThe tools I am using are: IntelliJ, Maven, Spring Boot, Thymeleaf, H2 database.\r\n\r\n\\--\r\n\r\nCurrently I divided my project by 3 modules : `core`, `service` (for API) and `web` (for webapp).\r\n\r\nI don&#39;t know if I&#39;m going in the right direction with this structure and would like some advice before I continue.\r\n\r\nI hope my question is clear enough and if not, then I will edit it.","title":"Java/Spring Boot : How to separate REST API from webapp","body":"<p>I am currently learning Spring Boot.\nMy project is to create a RESTful API and a webapp at the same time. They both connect to the same database.</p>\n<p>I think that a good practice would be to separate everything that is related to the API service from the webapp. In other words, separate back-end (controllers that send only JSON data) from front-end (controllers that send web pages).</p>\n<p>If so then what would be the proper way to do it? Create two projects and run them simultaneously? Create one project with multiple modules?</p>\n<p>The tools I am using are: IntelliJ, Maven, Spring Boot, Thymeleaf, H2 database.</p>\n<p>--</p>\n<p>Currently I divided my project by 3 modules : <code>core</code>, <code>service</code> (for API) and <code>web</code> (for webapp).</p>\n<p>I don't know if I'm going in the right direction with this structure and would like some advice before I continue.</p>\n<p>I hope my question is clear enough and if not, then I will edit it.</p>\n"},{"tags":["java","bash","shell","sh"],"comments":[{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667819653,"post_id":74344788,"comment_id":131250700,"body_markdown":"What does it mean to **invalidate** a session?","body":"What does it mean to <b>invalidate</b> a session?"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667819785,"post_id":74344788,"comment_id":131250743,"body_markdown":"Also, your tags look odd. You have the _sh_ tag, but there is nothing about sh in your question, but you don&#39;t have a _sdkman_ tag, although the question seems to be related mainly to sdkman!","body":"Also, your tags look odd. You have the <i>sh</i> tag, but there is nothing about sh in your question, but you don&#39;t have a <i>sdkman</i> tag, although the question seems to be related mainly to sdkman!"},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667825594,"post_id":74344788,"comment_id":131252746,"body_markdown":"Well, let me put it this way in a .sh file, I set a new env variable like, for example, JAVA_HOME; in the same sh file a few lines below, I need this JAVA_HOME to be in my env variables, but since I set it in the same, let&#39;s call it shell session I will get an error like &quot;please set JAVA_HOME&quot; This is an example, and sdkman is another example, please tell me if its need more clarification","body":"Well, let me put it this way in a .sh file, I set a new env variable like, for example, JAVA_HOME; in the same sh file a few lines below, I need this JAVA_HOME to be in my env variables, but since I set it in the same, let&#39;s call it shell session I will get an error like &quot;please set JAVA_HOME&quot; This is an example, and sdkman is another example, please tell me if its need more clarification"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1667825793,"post_id":74344788,"comment_id":131252825,"body_markdown":"Once you set an environment variable, it is inherited in all child processes. If you set in in a shell script, it is defined in the **process** executed by the shell script, and in all of its children. If you have an interactive shell (perhaps this is what you call _shell session_?), it is available there and also in all children created by your interactive shell. As long as you observe this simple rule, you can easily ensure that your variable is defined wherever you need it.","body":"Once you set an environment variable, it is inherited in all child processes. If you set in in a shell script, it is defined in the <b>process</b> executed by the shell script, and in all of its children. If you have an interactive shell (perhaps this is what you call <i>shell session</i>?), it is available there and also in all children created by your interactive shell. As long as you observe this simple rule, you can easily ensure that your variable is defined wherever you need it."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1667828044,"post_id":74344788,"comment_id":131253685,"body_markdown":"Please don&#39;t post multiline code in a comment. It is hard to read. Also, I consider it risky to modify your .zshrc by a **script**. Use a text editor for this for maintaining your configuration files. Aside from thsi, in your example  the shell in a new terminal processes .zshrc **in its own process** (and not as a shell script), and of course `SAMPLE_PATH` is available **there**, and in all of its child processes. This is exactly what I pointed out above.","body":"Please don&#39;t post multiline code in a comment. It is hard to read. Also, I consider it risky to modify your .zshrc by a <b>script</b>. Use a text editor for this for maintaining your configuration files. Aside from thsi, in your example  the shell in a new terminal processes .zshrc <b>in its own process</b> (and not as a shell script), and of course <code>SAMPLE_PATH</code> is available <b>there</b>, and in all of its child processes. This is exactly what I pointed out above."},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667828358,"post_id":74344788,"comment_id":131253793,"body_markdown":"Updated the question, yes, but I&#39;m wondering if there is any way to &quot;invalidate&quot; the terminal","body":"Updated the question, yes, but I&#39;m wondering if there is any way to &quot;invalidate&quot; the terminal"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667828648,"post_id":74344788,"comment_id":131253915,"body_markdown":"You still haven&#39;t defined what **to invalidate** means in your context. If you need to remove environment variables from a bash process, you can use the `unset` command.","body":"You still haven&#39;t defined what <b>to invalidate</b> means in your context. If you need to remove environment variables from a bash process, you can use the <code>unset</code> command."},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667828817,"post_id":74344788,"comment_id":131253984,"body_markdown":"no, I mean how can I run the script and get the value of SAMPLE_PATH variable instead of an empty response","body":"no, I mean how can I run the script and get the value of SAMPLE_PATH variable instead of an empty response"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667829485,"post_id":74344788,"comment_id":131254210,"body_markdown":"By setting the variable. In your example, you did not set it. You were just appending some text to the file .zshrc (which, as I have pointed out, is not a good idea anyway).","body":"By setting the variable. In your example, you did not set it. You were just appending some text to the file .zshrc (which, as I have pointed out, is not a good idea anyway)."},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667829859,"post_id":74344788,"comment_id":131254371,"body_markdown":"Yes, I understand, but is there any way for me to force the terminal to read the .zhsrc file again","body":"Yes, I understand, but is there any way for me to force the terminal to read the .zhsrc file again"},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1667830188,"post_id":74344788,"comment_id":131254504,"body_markdown":"Sure: `source ~/.zshrc`.","body":"Sure: <code>source ~&#47;.zshrc</code>."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667830286,"post_id":74344788,"comment_id":131254541,"body_markdown":"Now that you mention it - your posting gets even more confusing: You always talk about .zshrc, but you have tagged your question with `bash`. This kind of contradicts itself, doesn&#39;t it? May I suggest that you first of all clean up the tags for your question, so that one can see at a glance, what topic it is about.","body":"Now that you mention it - your posting gets even more confusing: You always talk about .zshrc, but you have tagged your question with <code>bash</code>. This kind of contradicts itself, doesn&#39;t it? May I suggest that you first of all clean up the tags for your question, so that one can see at a glance, what topic it is about."},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667831177,"post_id":74344788,"comment_id":131254894,"body_markdown":"Awesome, that was what I was looking for, sorry for the confusion. I thought the shell and zsh were more so it wouldn&#39;t have made difference.","body":"Awesome, that was what I was looking for, sorry for the confusion. I thought the shell and zsh were more so it wouldn&#39;t have made difference."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":1,"creation_date":1667831377,"post_id":74344788,"comment_id":131254967,"body_markdown":"I really don&#39;t understand what you want to say here (_shell and zsh were more_), but **please** don&#39;t even touch .zshrc, when you are just using bash. One day you will maybe switch from bash to zsh and then be surprised if things don&#39;t work well. Shell configuration files are tricky, and don&#39;t use a configuration file for shell X for things you are doing in shell Y. This will for sure bite you one day.","body":"I really don&#39;t understand what you want to say here (<i>shell and zsh were more</i>), but <b>please</b> don&#39;t even touch .zshrc, when you are just using bash. One day you will maybe switch from bash to zsh and then be surprised if things don&#39;t work well. Shell configuration files are tricky, and don&#39;t use a configuration file for shell X for things you are doing in shell Y. This will for sure bite you one day."},{"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"score":0,"creation_date":1667875289,"post_id":74344788,"comment_id":131266850,"body_markdown":"Thanks for the advice i consider it :)","body":"Thanks for the advice i consider it :)"}],"owner":{"account_id":1902481,"reputation":6013,"user_id":1718042,"accept_rate":61,"display_name":"max"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667828199,"creation_date":1667815269,"question_id":74344788,"body_markdown":"let say you want to install java with sdkman \r\n\r\ninstall-sdk.sh\r\n\r\n    //.....code that install sdkman\r\n    \r\n    sdk install java\r\n\r\nAt the point that you want to install java, you will receive an error that SDK is not found. Because your terminal session is not invalidated. So my question is, is there any way to invalidate the terminal session and continue installing java?\r\n\r\nanother example \r\nwhat is the output of this script?\r\n\r\n    #!/bin/bash \r\n    echo &quot;export SAMPLE_PATH=/sample/path/value&quot; &gt;&gt; ~/.zshrc\r\n    echo $SAMPLE_PATH \r\n\r\nIt&#39;s nothing. But if you run the &quot;echo $SAMPLE_PATH&quot; in another terminal, you will get the value, so the question is how you can get the value in the first terminal window.\r\n","title":"Invalidating shell script after installing or setting a env variable","body":"<p>let say you want to install java with sdkman</p>\n<p>install-sdk.sh</p>\n<pre><code>//.....code that install sdkman\n\nsdk install java\n</code></pre>\n<p>At the point that you want to install java, you will receive an error that SDK is not found. Because your terminal session is not invalidated. So my question is, is there any way to invalidate the terminal session and continue installing java?</p>\n<p>another example\nwhat is the output of this script?</p>\n<pre><code>#!/bin/bash \necho &quot;export SAMPLE_PATH=/sample/path/value&quot; &gt;&gt; ~/.zshrc\necho $SAMPLE_PATH \n</code></pre>\n<p>It's nothing. But if you run the &quot;echo $SAMPLE_PATH&quot; in another terminal, you will get the value, so the question is how you can get the value in the first terminal window.</p>\n"},{"tags":["java","android","android-fragmentactivity","layout-inflater","setcontentview"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1617114967,"post_id":66872525,"comment_id":118209547,"body_markdown":"try to invalidate cache . from what I see at your xml, looks all fine.","body":"try to invalidate cache . from what I see at your xml, looks all fine."},{"owner":{"account_id":9534903,"reputation":2579,"user_id":7085389,"display_name":"Shay Kin"},"score":0,"creation_date":1617117258,"post_id":66872525,"comment_id":118210628,"body_markdown":"the error is not in your activity but maybe in the xml of your fragment","body":"the error is not in your activity but maybe in the xml of your fragment"},{"owner":{"account_id":21093704,"reputation":31,"user_id":15505102,"display_name":"Ivan Vidussi"},"score":0,"creation_date":1617134196,"post_id":66872525,"comment_id":118217550,"body_markdown":"Nothing changed by invalidating cache.\nMy other activity xml file haven&#39;t got red allert but if you want I can post the code","body":"Nothing changed by invalidating cache. My other activity xml file haven&#39;t got red allert but if you want I can post the code"}],"answers":[{"tags":[],"owner":{"account_id":18092561,"reputation":201,"user_id":13151689,"display_name":"Aleksadnre Bibilashvili"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667828013,"creation_date":1667828013,"answer_id":74347430,"question_id":66872525,"body_markdown":"In my case, I forgot dp after the number in dimen xml file. check that.","title":"android.view.InflateException: Binary XML file line #2","body":"<p>In my case, I forgot dp after the number in dimen xml file. check that.</p>\n"}],"owner":{"account_id":21093704,"reputation":31,"user_id":15505102,"display_name":"Ivan Vidussi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667828013,"creation_date":1617113205,"question_id":66872525,"body_markdown":"```\r\npackage com.example.provafragment;\r\n\r\nimport android.annotation.TargetApi;\r\nimport android.app.Fragment;\r\nimport android.app.FragmentManager;\r\nimport android.app.FragmentTransaction;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button firstFragment, secondFragment;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        // get the reference of Button&#39;s\r\n        firstFragment=(Button) findViewById(R.id.firstFragment);\r\n        secondFragment=(Button) findViewById(R.id.secondFragment);\r\n\r\n        // perform setOnClickListener event on First Button\r\n        firstFragment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // load First Fragment\r\n                loadFragment(new FirstFragment());\r\n            }\r\n        });\r\n        // perform setOnClickListener event on Second Button\r\n        secondFragment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // load Second Fragment\r\n                loadFragment(new SecondFragment());\r\n            }\r\n        });\r\n    }\r\n\r\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n        // create a FragmentManager\r\n        FragmentManager fm=getFragmentManager();\r\n        // create a FragmentTransaction to begin the transaction and replace the Fragment\r\n        FragmentTransaction fragmentTransaction=fm.beginTransaction();\r\n        // replace the FrameLayout with new Fragment\r\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n        fragmentTransaction.commit(); // save the changes\r\n    }\r\n}\r\n```\r\n\r\nThis is the main activity\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/firstFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@color/button_background_color&quot;\r\n        android:text=&quot;First Fragment&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/secondFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:background=&quot;@color/button_background_color&quot;\r\n        android:text=&quot;Second Fragment&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/frameLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;10dp&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nThis is the xml layout\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.provafragment, PID: 6588\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.provafragment/com.example.provafragment.MainActivity}: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\r\n     Caused by: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:774)\r\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\r\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\r\n        at com.example.provafragment.MainActivity.onCreate(MainActivity.java:20)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.UnsupportedOperationException: Can&#39;t convert value at index 15 to dimension: type=0x4\r\nE/AndroidRuntime:     at android.content.res.TypedArray.getDimensionPixelSize(TypedArray.java:787)\r\n        at android.view.View.&lt;init&gt;(View.java:5555)\r\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:697)\r\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:254)\r\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:250)\r\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:246)\r\n        \t... 30 more\r\n```\r\n\r\nThis is the debug console. It crash in setcontenview but my xml seems correct.\r\nInto the other two file i set the view like a very simple oncreate function\r\nI use androidx and if you need more let me know. I&#39;m trying everything to make it work. I already made &quot;clean project&quot; and &quot;rebuild project&quot;\r\nThank you for your help","title":"android.view.InflateException: Binary XML file line #2","body":"<pre><code>package com.example.provafragment;\n\nimport android.annotation.TargetApi;\nimport android.app.Fragment;\nimport android.app.FragmentManager;\nimport android.app.FragmentTransaction;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n    Button firstFragment, secondFragment;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        // get the reference of Button's\n        firstFragment=(Button) findViewById(R.id.firstFragment);\n        secondFragment=(Button) findViewById(R.id.secondFragment);\n\n        // perform setOnClickListener event on First Button\n        firstFragment.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // load First Fragment\n                loadFragment(new FirstFragment());\n            }\n        });\n        // perform setOnClickListener event on Second Button\n        secondFragment.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // load Second Fragment\n                loadFragment(new SecondFragment());\n            }\n        });\n    }\n\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n\n    private void loadFragment(Fragment fragment) {\n        // create a FragmentManager\n        FragmentManager fm=getFragmentManager();\n        // create a FragmentTransaction to begin the transaction and replace the Fragment\n        FragmentTransaction fragmentTransaction=fm.beginTransaction();\n        // replace the FrameLayout with new Fragment\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\n        fragmentTransaction.commit(); // save the changes\n    }\n}\n</code></pre>\n<p>This is the main activity</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/firstFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@color/button_background_color&quot;\n        android:text=&quot;First Fragment&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/secondFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:background=&quot;@color/button_background_color&quot;\n        android:text=&quot;Second Fragment&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/frameLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;10dp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>This is the xml layout</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.provafragment, PID: 6588\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.provafragment/com.example.provafragment.MainActivity}: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\n     Caused by: android.view.InflateException: Binary XML file line #2 in com.example.provafragment:layout/activity_main: Error inflating class &lt;unknown&gt;\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\n        at android.view.LayoutInflater.createView(LayoutInflater.java:774)\n        at com.android.internal.policy.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:58)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:928)\n        at android.view.LayoutInflater.onCreateView(LayoutInflater.java:948)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1002)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:657)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:696)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:170)\n        at com.example.provafragment.MainActivity.onCreate(MainActivity.java:20)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: java.lang.UnsupportedOperationException: Can't convert value at index 15 to dimension: type=0x4\nE/AndroidRuntime:     at android.content.res.TypedArray.getDimensionPixelSize(TypedArray.java:787)\n        at android.view.View.&lt;init&gt;(View.java:5555)\n        at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:697)\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:254)\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:250)\n        at android.widget.LinearLayout.&lt;init&gt;(LinearLayout.java:246)\n            ... 30 more\n</code></pre>\n<p>This is the debug console. It crash in setcontenview but my xml seems correct.\nInto the other two file i set the view like a very simple oncreate function\nI use androidx and if you need more let me know. I'm trying everything to make it work. I already made &quot;clean project&quot; and &quot;rebuild project&quot;\nThank you for your help</p>\n"},{"tags":["java","junit","automation","cucumber","gherkin"],"answers":[{"comments":[{"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"score":0,"creation_date":1449590770,"post_id":31022284,"comment_id":56067781,"body_markdown":"an explanation would be appreciated, also are you Viratan?","body":"an explanation would be appreciated, also are you Viratan?"}],"tags":[],"owner":{"account_id":3894930,"reputation":4026,"user_id":3224238,"display_name":"Paizo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435136760,"creation_date":1435136760,"answer_id":31022284,"question_id":30782803,"body_markdown":"you should to specify the cucumber feature file:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = &quot;classpath:cucumberTest/LogIn_Test.feature&quot;)\r\n    public class TestRunner {\r\n\r\n    }\r\n\r\nmake sure you have placed it on the resource folder under the same path as the package name, ie: `workspace\\project-name\\src\\test\\resources\\cucumberTest\\`","title":"Test class not found in selected project","body":"<p>you should to specify the cucumber feature file:</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features = \"classpath:cucumberTest/LogIn_Test.feature\")\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>make sure you have placed it on the resource folder under the same path as the package name, ie: <code>workspace\\project-name\\src\\test\\resources\\cucumberTest\\</code></p>\n"},{"tags":[],"owner":{"account_id":1362162,"reputation":89,"user_id":1299320,"accept_rate":100,"display_name":"Rick Johnson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468434995,"creation_date":1468434995,"answer_id":38359357,"question_id":30782803,"body_markdown":"I know this is an older question that I&#39;m responding to, but you seem to be missing the glue option in your @CucumberOptions():\r\n\r\n    @CucumberOptions(\r\n\t\tfeatures = &quot;Feature&quot;\r\n\t\t,glue={&quot;stepDefinition&quot;}\r\n\t\t)\r\n","title":"Test class not found in selected project","body":"<p>I know this is an older question that I'm responding to, but you seem to be missing the glue option in your @CucumberOptions():</p>\n\n<pre><code>@CucumberOptions(\n    features = \"Feature\"\n    ,glue={\"stepDefinition\"}\n    )\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659356110,"post_id":73169767,"comment_id":129267884,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73169767/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25928078,"reputation":1,"user_id":19649652,"display_name":"Ashutosh upadhyay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659120496,"creation_date":1659120193,"answer_id":73169767,"question_id":30782803,"body_markdown":"Step1 Add Jackson library jar in pom.xml file and it will resolve the issue.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.13.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nStep 2 update maven project\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f1Hll.png","title":"Test class not found in selected project","body":"<p>Step1 Add Jackson library jar in pom.xml file and it will resolve the issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.13.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Step 2 update maven project</p>\n<p><a href=\"https://i.stack.imgur.com/f1Hll.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":6453146,"reputation":513,"user_id":4999446,"accept_rate":59,"display_name":"Viratan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16702,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1667827968,"creation_date":1434030777,"question_id":30782803,"body_markdown":"Currently I am developing a simple program using Cucumber that will test logging in of a user on a website.\r\n\r\nHere is my TestRunner file:\r\n\r\n    package cucumberTest;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features = &quot;Feature&quot;)\r\n    \r\n    public class TestRunner {\r\n    \r\n    }\r\n\r\nI also have the cucumber file as LogIn_Test.feature as follows:\r\n\r\nFeature: Login Action\r\n \r\n\r\n    Scenario: Successful Login with Valid Credentials\r\n    \tGiven User is on Home Page\r\n    \tWhen User Navigate to LogIn Page\r\n    \tAnd User enters UserName and Password\r\n    \tThen Message displayed Login Successfully\r\n    \t\r\n    Scenario: Successful LogOut\r\n    \tWhen User LogOut from the Application\r\n    \tThen Message displayed LogOut Successfully\r\n\r\nBut whenever I try to run the TestRunner class as a JUnit test, I get the error:\r\n\r\nTest class not found in selected project. ","title":"Test class not found in selected project","body":"<p>Currently I am developing a simple program using Cucumber that will test logging in of a user on a website.</p>\n\n<p>Here is my TestRunner file:</p>\n\n<pre><code>package cucumberTest;\n\nimport org.junit.runner.RunWith;\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features = \"Feature\")\n\npublic class TestRunner {\n\n}\n</code></pre>\n\n<p>I also have the cucumber file as LogIn_Test.feature as follows:</p>\n\n<p>Feature: Login Action</p>\n\n<pre><code>Scenario: Successful Login with Valid Credentials\n    Given User is on Home Page\n    When User Navigate to LogIn Page\n    And User enters UserName and Password\n    Then Message displayed Login Successfully\n\nScenario: Successful LogOut\n    When User LogOut from the Application\n    Then Message displayed LogOut Successfully\n</code></pre>\n\n<p>But whenever I try to run the TestRunner class as a JUnit test, I get the error:</p>\n\n<p>Test class not found in selected project. </p>\n"},{"tags":["java","c#"],"comments":[{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":2,"creation_date":1504238876,"post_id":45993117,"comment_id":78946144,"body_markdown":"Side note: string is not &quot;nullable type&quot; ... It is just regular reference type, nullable type would be `int?`.","body":"Side note: string is not &quot;nullable type&quot; ... It is just regular reference type, nullable type would be <code>int?</code>."}],"answers":[{"tags":[],"owner":{"account_id":359889,"reputation":17040,"user_id":701560,"accept_rate":68,"display_name":"d.moncada"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1596920415,"creation_date":1504238721,"answer_id":45993160,"question_id":45993117,"body_markdown":"You can use the `??` operator.\r\n\r\nYour code will be updated to:\r\n\r\n    string x = null;\r\n    string y = x ?? &quot;NeedToCheckforNull&quot;; \r\n\r\nSee: *[?? Operator (C# Reference)][1]*\r\n\r\n  [1]: https://learn.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2010/ms173224(v=vs.100)\r\n","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>You can use the <code>??</code> operator.</p>\n<p>Your code will be updated to:</p>\n<pre><code>string x = null;\nstring y = x ?? &quot;NeedToCheckforNull&quot;; \n</code></pre>\n<p>See: <em><a href=\"https://learn.microsoft.com/en-us/previous-versions/visualstudio/visual-studio-2010/ms173224(v=vs.100)\" rel=\"nofollow noreferrer\">?? Operator (C# Reference)</a></em></p>\n"},{"tags":[],"owner":{"account_id":5480936,"reputation":41,"user_id":4357429,"display_name":"steven7sheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1623756690,"creation_date":1506334120,"answer_id":46402615,"question_id":45993117,"body_markdown":"C# has the special `Nullable&lt;T&gt;` type which can be declared with `int?`, `decimal?`, etc. These can provide a default value by using `.GetValueOrDefault()`, `T GetValueOrDefault(T defaultValue)`, and the [`??` operator][1].\r\n\r\n```c#\r\nstring x = null;\r\nConsole.WriteLine(x ?? &quot;NeedToCheckforNull&quot;);\r\n```\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator\r\n","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>C# has the special <code>Nullable&lt;T&gt;</code> type which can be declared with <code>int?</code>, <code>decimal?</code>, etc. These can provide a default value by using <code>.GetValueOrDefault()</code>, <code>T GetValueOrDefault(T defaultValue)</code>, and the <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-coalescing-operator\" rel=\"nofollow noreferrer\"><code>??</code> operator</a>.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>string x = null;\nConsole.WriteLine(x ?? &quot;NeedToCheckforNull&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5343876,"reputation":811,"user_id":4259962,"display_name":"jalsh"},"score":1,"creation_date":1595777205,"post_id":59927022,"comment_id":111585282,"body_markdown":"may I suggest you use a struct to provide that instead of a class","body":"may I suggest you use a struct to provide that instead of a class"},{"owner":{"account_id":2365428,"reputation":555,"user_id":2071191,"display_name":"SM Adnan"},"score":0,"creation_date":1595848040,"post_id":59927022,"comment_id":111606160,"body_markdown":"As it is mutable, I prefer using class.","body":"As it is mutable, I prefer using class."},{"owner":{"account_id":2365428,"reputation":555,"user_id":2071191,"display_name":"SM Adnan"},"score":0,"creation_date":1595848069,"post_id":59927022,"comment_id":111606175,"body_markdown":"Another reason of not using struct is it can contain data of larger than 16 bytes. Reference: https://learn.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct","body":"Another reason of not using struct is it can contain data of larger than 16 bytes. Reference: <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/design-guidelines/choosing-between-class-and-struct\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/standard/design-guidelines/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":5343876,"reputation":811,"user_id":4259962,"display_name":"jalsh"},"score":2,"creation_date":1600400775,"post_id":59927022,"comment_id":113082294,"body_markdown":"Optional should be immutable, the doc you&#39;re referencing discourages the use of struct when it has *all* the mentioned characteristics, so the fact that it&#39;s not larger than 16 bytes doesn&#39;t change it. Optional should be a sturct, just like Nullable is","body":"Optional should be immutable, the doc you&#39;re referencing discourages the use of struct when it has <i>all</i> the mentioned characteristics, so the fact that it&#39;s not larger than 16 bytes doesn&#39;t change it. Optional should be a sturct, just like Nullable is"}],"tags":[],"owner":{"account_id":2365428,"reputation":555,"user_id":2071191,"display_name":"SM Adnan"},"comment_count":4,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1580111814,"creation_date":1580111814,"answer_id":59927022,"question_id":45993117,"body_markdown":"I&#39;ve created my own.\r\n\r\n    public class Optional&lt;T&gt; {\r\n\t\tprivate T value;\r\n\t\tpublic bool IsPresent { get; private set; } = false;\r\n\r\n\t\tprivate Optional() { }\r\n\r\n\t\tpublic static Optional&lt;T&gt; Empty() {\r\n\t\t\treturn new Optional&lt;T&gt;();\r\n\t\t}\r\n\r\n\t\tpublic static Optional&lt;T&gt; Of(T value) {\r\n\t\t\tOptional&lt;T&gt; obj = new Optional&lt;T&gt;();\r\n\t\t\tobj.Set(value);\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\tpublic void Set(T value) {\r\n\t\t\tthis.value = value;\r\n\t\t\tIsPresent = true;\r\n\t\t}\r\n\r\n\t\tpublic T Get() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>I've created my own.</p>\n\n<pre><code>public class Optional&lt;T&gt; {\n    private T value;\n    public bool IsPresent { get; private set; } = false;\n\n    private Optional() { }\n\n    public static Optional&lt;T&gt; Empty() {\n        return new Optional&lt;T&gt;();\n    }\n\n    public static Optional&lt;T&gt; Of(T value) {\n        Optional&lt;T&gt; obj = new Optional&lt;T&gt;();\n        obj.Set(value);\n        return obj;\n    }\n\n    public void Set(T value) {\n        this.value = value;\n        IsPresent = true;\n    }\n\n    public T Get() {\n        return value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8232198,"reputation":121,"user_id":6192536,"display_name":"Elazar Neeman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602603291,"creation_date":1602603291,"answer_id":64338410,"question_id":45993117,"body_markdown":"consider using [language extensions](https://github.com/louthy/language-ext) option type \r\n\r\n```\r\nint x = optional.IfNone(&quot;NeedToCheckforNull&quot;);\r\n\r\n```","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>consider using <a href=\"https://github.com/louthy/language-ext\" rel=\"nofollow noreferrer\">language extensions</a> option type</p>\n<pre><code>int x = optional.IfNone(&quot;NeedToCheckforNull&quot;);\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665999163,"post_id":74050491,"comment_id":130822657,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74050491/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"score":0,"creation_date":1666913571,"post_id":74050491,"comment_id":131053775,"body_markdown":"Hey mate, the question was specifically talking about C# Nullable types, and syntax sugar surrounding them, and the reference to Java&#39;s Optionals was only used, because I was a Java developer before I swapped to C# to better communicate my point. It was not asking for a direct replacement for Optional in regards to Stream processing, which is better served by LINQ expressions.","body":"Hey mate, the question was specifically talking about C# Nullable types, and syntax sugar surrounding them, and the reference to Java&#39;s Optionals was only used, because I was a Java developer before I swapped to C# to better communicate my point. It was not asking for a direct replacement for Optional in regards to Stream processing, which is better served by LINQ expressions."},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":1,"creation_date":1668132637,"post_id":74050491,"comment_id":131337800,"body_markdown":"I also switched from Java to C# and miss `Optional`. Now I&#39;m forced to create enumerables with a single element just to unwrap them at the end. Why do people think C# nullable is equivalent?? It is not.","body":"I also switched from Java to C# and miss <code>Optional</code>. Now I&#39;m forced to create enumerables with a single element just to unwrap them at the end. Why do people think C# nullable is equivalent?? It is not."}],"tags":[],"owner":{"account_id":26607197,"reputation":21,"user_id":20227837,"display_name":"Sayid Bahrom"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1665635243,"creation_date":1665635167,"answer_id":74050491,"question_id":45993117,"body_markdown":".Net developers always try to compare C# feature to java. This is their big mistake. Microsoft always teach them like that. But they don&#39;t know how java capable of. Optional&lt;T&gt; is not only nullable type. Nullable type is one of the its feature. But main purpose of Optional&lt;T&gt; is single stream. You can use map(), flatMap() and filter() Lambda expression functions. There is no such alternative in .Net world unfortunately. \r\nHowever there is lambda expression on List&lt;T&gt; if you want to use as Optional&lt;T&gt;. \r\nBut for single item, there is not such feature in .Net","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>.Net developers always try to compare C# feature to java. This is their big mistake. Microsoft always teach them like that. But they don't know how java capable of. Optional is not only nullable type. Nullable type is one of the its feature. But main purpose of Optional is single stream. You can use map(), flatMap() and filter() Lambda expression functions. There is no such alternative in .Net world unfortunately.\nHowever there is lambda expression on List if you want to use as Optional.\nBut for single item, there is not such feature in .Net</p>\n"},{"tags":[],"owner":{"account_id":3721528,"reputation":21,"user_id":3096478,"display_name":"Jorge Takeshi Sato"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667827959,"creation_date":1667778775,"answer_id":74340668,"question_id":45993117,"body_markdown":"Thanks for the inspiration [@sm-adnan][1]\r\n\r\n```\r\nusing System;\r\nusing System.Diagnostics.CodeAnalysis;\r\n\r\nnamespace Common;\r\n\r\npublic readonly struct Optional&lt;T&gt;\r\n{\r\n    private readonly T _value;\r\n\r\n    private Optional(T value)\r\n    {\r\n        _value = value;\r\n    }\r\n\r\n    public static Optional&lt;T&gt; Empty() =&gt; new Optional&lt;T&gt;(default);\r\n\r\n    public static Optional&lt;T&gt; Of([AllowNull] T value)\r\n    {\r\n        return value is null ? Empty() : new Optional&lt;T&gt;(value);\r\n    }\r\n\r\n    public T GetValue()\r\n    {\r\n        if (HasValue()) return _value;\r\n        throw new InvalidOperationException(&quot;No value present&quot;);\r\n    }\r\n\r\n    public bool HasValue()\r\n    {\r\n        return _value is not null;\r\n    }\r\n\r\n    public void HasValue(Action&lt;T&gt; method)\r\n    {\r\n        if (HasValue()) method.Invoke(_value);\r\n    }\r\n\r\n    public void HasValue(Func&lt;object&gt; method)\r\n    {\r\n        if (HasValue()) method.Invoke();\r\n    }\r\n\r\n    public T OrElse(T other)\r\n    {\r\n        return HasValue() ? _value : other;\r\n    }\r\n\r\n    public T OrElseGet(Func&lt;T&gt; method)\r\n    {\r\n        return HasValue() ? _value : method.Invoke();\r\n    }\r\n\r\n    public T OrElseThrow(Func&lt;Exception&gt; method)\r\n    {\r\n        return HasValue() ? _value : throw method.Invoke();\r\n    }\r\n\r\n    public Optional&lt;TU&gt; Map&lt;TU&gt;(Func&lt;T, TU&gt; method)\r\n    {\r\n        return HasValue() ? new Optional&lt;TU&gt;(method.Invoke(_value)) : default;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2071191/sm-adnan","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>Thanks for the inspiration <a href=\"https://stackoverflow.com/users/2071191/sm-adnan\">@sm-adnan</a></p>\n<pre><code>using System;\nusing System.Diagnostics.CodeAnalysis;\n\nnamespace Common;\n\npublic readonly struct Optional&lt;T&gt;\n{\n    private readonly T _value;\n\n    private Optional(T value)\n    {\n        _value = value;\n    }\n\n    public static Optional&lt;T&gt; Empty() =&gt; new Optional&lt;T&gt;(default);\n\n    public static Optional&lt;T&gt; Of([AllowNull] T value)\n    {\n        return value is null ? Empty() : new Optional&lt;T&gt;(value);\n    }\n\n    public T GetValue()\n    {\n        if (HasValue()) return _value;\n        throw new InvalidOperationException(&quot;No value present&quot;);\n    }\n\n    public bool HasValue()\n    {\n        return _value is not null;\n    }\n\n    public void HasValue(Action&lt;T&gt; method)\n    {\n        if (HasValue()) method.Invoke(_value);\n    }\n\n    public void HasValue(Func&lt;object&gt; method)\n    {\n        if (HasValue()) method.Invoke();\n    }\n\n    public T OrElse(T other)\n    {\n        return HasValue() ? _value : other;\n    }\n\n    public T OrElseGet(Func&lt;T&gt; method)\n    {\n        return HasValue() ? _value : method.Invoke();\n    }\n\n    public T OrElseThrow(Func&lt;Exception&gt; method)\n    {\n        return HasValue() ? _value : throw method.Invoke();\n    }\n\n    public Optional&lt;TU&gt; Map&lt;TU&gt;(Func&lt;T, TU&gt; method)\n    {\n        return HasValue() ? new Optional&lt;TU&gt;(method.Invoke(_value)) : default;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":116752,"reputation":4310,"user_id":306036,"accept_rate":85,"display_name":"Ryan Leach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11250,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":45993160,"answer_count":6,"score":11,"last_activity_date":1667827959,"creation_date":1504238340,"question_id":45993117,"body_markdown":"I&#39;m looking for nice syntax for providing a default value in the case of null. I&#39;ve been used to using Optional&#39;s instead of null in Java where API&#39;s are concerned, and was wondering if C#&#39;s nicer nullable types have an equivalent?\r\n\r\nOptionals\r\n\r\n    Optional&lt;String&gt; x = Optional&lt;String&gt;.absent();\r\n    String y = x.orElse(&quot;NeedToCheckforNull&quot;); //y = NeedToCheckforNull\r\n\r\n@nullable\r\n\r\n    String x = null;\r\n    String y = x == null ? &quot;NeedToCheckforNull&quot; : x ; //y = NeedToCheckforNull\r\n\r\nHow would I make the above more readable in C#?\r\n\r\nJavaScript would allow y = x | &quot;NeedToCheckforNull&quot;\r\n","title":"Equivalent to Java&#39;s Optional.orElse in C#","body":"<p>I'm looking for nice syntax for providing a default value in the case of null. I've been used to using Optional's instead of null in Java where API's are concerned, and was wondering if C#'s nicer nullable types have an equivalent?</p>\n<p>Optionals</p>\n<pre><code>Optional&lt;String&gt; x = Optional&lt;String&gt;.absent();\nString y = x.orElse(&quot;NeedToCheckforNull&quot;); //y = NeedToCheckforNull\n</code></pre>\n<p>@nullable</p>\n<pre><code>String x = null;\nString y = x == null ? &quot;NeedToCheckforNull&quot; : x ; //y = NeedToCheckforNull\n</code></pre>\n<p>How would I make the above more readable in C#?</p>\n<p>JavaScript would allow y = x | &quot;NeedToCheckforNull&quot;</p>\n"},{"tags":["java","algorithm","data-structures","avl-tree","treeset"],"answers":[{"comments":[{"owner":{"account_id":1787103,"reputation":901,"user_id":1628340,"accept_rate":48,"display_name":"user1628340"},"score":0,"creation_date":1358428050,"post_id":14379571,"comment_id":19999645,"body_markdown":"@PeterSmith - are they all O(ln n) in terms of node search time? (n= number of nodes)?","body":"@PeterSmith - are they all O(ln n) in terms of node search time? (n= number of nodes)?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1358428199,"post_id":14379571,"comment_id":19999712,"body_markdown":"Correct. As comparisons can be *much* more expensive than skipping from one node to another this can more useful to consider. e.g. a first/last() on a TreeSet with 2 billion elements (the largest) can be faster than one comparison e.g. in a Set with one element.","body":"Correct. As comparisons can be <i>much</i> more expensive than skipping from one node to another this can more useful to consider. e.g. a first/last() on a TreeSet with 2 billion elements (the largest) can be faster than one comparison e.g. in a Set with one element."},{"owner":{"account_id":450442,"reputation":780,"user_id":845762,"accept_rate":62,"display_name":"xudifsd"},"score":0,"creation_date":1512614149,"post_id":14379571,"comment_id":82332988,"body_markdown":"@PeterLawrey How about the time complexity of removing element from iterator of TreeSet? Still O(ln n) or O(1)?","body":"@PeterLawrey How about the time complexity of removing element from iterator of TreeSet? Still O(ln n) or O(1)?"},{"owner":{"account_id":5693300,"reputation":1666,"user_id":4500633,"accept_rate":50,"display_name":"Ahmed Gamal"},"score":0,"creation_date":1539786143,"post_id":14379571,"comment_id":92629404,"body_markdown":"I think not all are o(logn) the implementation provides guaranteed log(n) time cost for the basic operations (add, remove and contains).","body":"I think not all are o(logn) the implementation provides guaranteed log(n) time cost for the basic operations (add, remove and contains)."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1539796377,"post_id":14379571,"comment_id":92635068,"body_markdown":"@AhmedGamal Thank you for the correction. As a percentage, most methods are not O(ln N), the operations which work on one element are.","body":"@AhmedGamal Thank you for the correction. As a percentage, most methods are not O(ln N), the operations which work on one element are."},{"owner":{"account_id":16777577,"reputation":411,"user_id":12128483,"display_name":"Kevin Sheng"},"score":0,"creation_date":1605936945,"post_id":14379571,"comment_id":114811941,"body_markdown":"Why are `add()`, `remove()`, etc. O(ln n) instead of the usual O(log_2 n)? Is there some special optimization that allows it to be executed base e instead of base 2?","body":"Why are <code>add()</code>, <code>remove()</code>, etc. O(ln n) instead of the usual O(log_2 n)? Is there some special optimization that allows it to be executed base e instead of base 2?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1606139552,"post_id":14379571,"comment_id":114862109,"body_markdown":"@KevinSheng Scale doesn&#39;t matter so O(ln N) and O(log2 N) are the same, the first is simpler.","body":"@KevinSheng Scale doesn&#39;t matter so O(ln N) and O(log2 N) are the same, the first is simpler."},{"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"score":2,"creation_date":1657922509,"post_id":14379571,"comment_id":128933210,"body_markdown":"This is wrong. first(), last() can not be O(1) as they are implemented as red black balanced BST. It&#39;s O(log n)","body":"This is wrong. first(), last() can not be O(1) as they are implemented as red black balanced BST. It&#39;s O(log n)"},{"owner":{"account_id":11341402,"reputation":975,"user_id":8315348,"display_name":"Andrew Puglionesi"},"score":1,"creation_date":1667733379,"post_id":14379571,"comment_id":131232604,"body_markdown":"I agree with @voidMainReturn. In the actual implementation, first() and last() have logarithmic runtime. They could have cached the min and max values, but they didnt.","body":"I agree with @voidMainReturn. In the actual implementation, first() and last() have logarithmic runtime. They could have cached the min and max values, but they didnt."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1667826314,"post_id":14379571,"comment_id":131253033,"body_markdown":"@AndrewPuglionesi Generally, the time complexity is the number of comparisons required to find an entry. This is O(1). In terms of the number of indirections, I agree it would be O(log N)","body":"@AndrewPuglionesi Generally, the time complexity is the number of comparisons required to find an entry. This is O(1). In terms of the number of indirections, I agree it would be O(log N)"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":10,"down_vote_count":1,"up_vote_count":48,"is_accepted":true,"score":47,"last_activity_date":1667827900,"creation_date":1358427137,"answer_id":14379571,"question_id":14379515,"body_markdown":"EDIT: It should be clarified that the time order usually refers to the number of comparisons. Some operations have no comparisons, so the time order could be taken from the number of sub-tasks\r\n\r\nThe code below prints the following in Java 8\r\n\r\n    O(1) comparisons, however the number of indirections could be O(ln N)\r\n    Performing 10,000 first operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 last operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 size operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 isEmpty operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 comparator operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 pollFirst operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 pollLast operations -&gt; 0.0 comparisons/operation\r\n    Performing 10,000 headSet operations -&gt; 1.0 comparisons/operation\r\n    O(ln N) comparisons\r\n    Performing 10,000 add operations -&gt; 12.9 comparisons/operation\r\n    Performing 10,000 ceiling operations -&gt; 12.9 comparisons/operation\r\n    Performing 10,000 contains operations -&gt; 12.9 comparisons/operation\r\n    Performing 10,000 floor operations -&gt; 12.9 comparisons/operation\r\n    Performing 10,000 higher operations -&gt; 13.9 comparisons/operation\r\n    Performing 10,000 lower operations -&gt; 13.9 comparisons/operation\r\n    Performing 10,000 remove operations -&gt; 10.9 comparisons/operation\r\n    O(N ln N) comparisons\r\n    Performing 10,000 equals operations -&gt; 128853.0 comparisons/operation\r\n\r\nthe code\r\n\r\n    public class TreeSetOrderMain {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;O(1) comparisons, however the number of indirections could be O(ln N)&quot;);\r\n            testOrder(&quot;first&quot;, (s, i) -&gt; s.first());\r\n            testOrder(&quot;last&quot;, (s, i) -&gt; s.last());\r\n            testOrder(&quot;size&quot;, (s, i) -&gt; s.size());\r\n            testOrder(&quot;isEmpty&quot;, (s, i) -&gt; s.isEmpty());\r\n            testOrder(&quot;comparator&quot;, (s, i) -&gt; s.comparator());\r\n            testOrder(&quot;pollFirst&quot;, (s, i) -&gt; s.pollFirst());\r\n            testOrder(&quot;pollLast&quot;, (s, i) -&gt; s.pollLast());\r\n            testOrder(&quot;headSet&quot;, TreeSet::headSet);\r\n    \r\n            System.out.println(&quot;O(ln N) comparisons&quot;);\r\n            testOrder(&quot;add&quot;, TreeSet::add);\r\n            testOrder(&quot;ceiling&quot;, TreeSet::ceiling);\r\n            testOrder(&quot;contains&quot;, TreeSet::contains);\r\n            testOrder(&quot;floor&quot;, TreeSet::floor);\r\n            testOrder(&quot;higher&quot;, TreeSet::higher);\r\n            testOrder(&quot;lower&quot;, TreeSet::lower);\r\n            testOrder(&quot;remove&quot;, TreeSet::remove);\r\n    \r\n            System.out.println(&quot;O(N ln N) comparisons&quot;);\r\n            Set&lt;Long&gt; set = LongStream.range(0, 10_000).mapToObj(i -&gt; i).collect(Collectors.toSet());\r\n            testOrder(&quot;equals&quot;, (s, i) -&gt; s.equals(set));\r\n        }\r\n    \r\n        static void testOrder(String desc, BiConsumer&lt;TreeSet&lt;Long&gt;, Long&gt; op) {\r\n            final LongComparator comparator = new LongComparator();\r\n            TreeSet&lt;Long&gt; longs = new TreeSet&lt;&gt;(comparator);\r\n            final int count = 10_000;\r\n            for (long i = 0; i &lt; count; i++)\r\n                longs.add(i);\r\n            comparator.count = 0;\r\n            for (long i = 0; i &lt; count; i++)\r\n                op.accept(longs, i);\r\n            System.out.printf(&quot;Performing %,d %s operations -&gt; %.1f comparisons/operation%n&quot;,\r\n                    count, desc, (double) comparator.count / count);\r\n        }\r\n    \r\n        static class LongComparator implements Comparator&lt;Long&gt; {\r\n            long count = 0;\r\n    \r\n            @Override\r\n            public int compare(Long o1, Long o2) {\r\n                count++;\r\n                return Long.compare(o1, o2);\r\n            }\r\n        }\r\n    }\r\n\r\n----\r\n\r\nOperations which work on a single element are all O(ln n) comparisons except first and last which are O(1) comparisons or O(ln N) node search time.\r\n\r\ncomparator(), iterator(), clear(), first(), isEMpty(), size(), last(),  pollFirst(), pollLast(), headSet() are O(1)\r\n\r\nadd(), ceiling(), contains(), floor(), higher(), lower(), remove(), subSet(), tailSet() are O(ln N)\r\n\r\nclone(), hashCode(), toArray() and toString() are O(n) for operations, but no comaprisons\r\n\r\n\r\n\r\n\r\n","title":"Computational Complexity of TreeSet methods in Java","body":"<p>EDIT: It should be clarified that the time order usually refers to the number of comparisons. Some operations have no comparisons, so the time order could be taken from the number of sub-tasks</p>\n<p>The code below prints the following in Java 8</p>\n<pre><code>O(1) comparisons, however the number of indirections could be O(ln N)\nPerforming 10,000 first operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 last operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 size operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 isEmpty operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 comparator operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 pollFirst operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 pollLast operations -&gt; 0.0 comparisons/operation\nPerforming 10,000 headSet operations -&gt; 1.0 comparisons/operation\nO(ln N) comparisons\nPerforming 10,000 add operations -&gt; 12.9 comparisons/operation\nPerforming 10,000 ceiling operations -&gt; 12.9 comparisons/operation\nPerforming 10,000 contains operations -&gt; 12.9 comparisons/operation\nPerforming 10,000 floor operations -&gt; 12.9 comparisons/operation\nPerforming 10,000 higher operations -&gt; 13.9 comparisons/operation\nPerforming 10,000 lower operations -&gt; 13.9 comparisons/operation\nPerforming 10,000 remove operations -&gt; 10.9 comparisons/operation\nO(N ln N) comparisons\nPerforming 10,000 equals operations -&gt; 128853.0 comparisons/operation\n</code></pre>\n<p>the code</p>\n<pre><code>public class TreeSetOrderMain {\n    public static void main(String[] args) {\n        System.out.println(&quot;O(1) comparisons, however the number of indirections could be O(ln N)&quot;);\n        testOrder(&quot;first&quot;, (s, i) -&gt; s.first());\n        testOrder(&quot;last&quot;, (s, i) -&gt; s.last());\n        testOrder(&quot;size&quot;, (s, i) -&gt; s.size());\n        testOrder(&quot;isEmpty&quot;, (s, i) -&gt; s.isEmpty());\n        testOrder(&quot;comparator&quot;, (s, i) -&gt; s.comparator());\n        testOrder(&quot;pollFirst&quot;, (s, i) -&gt; s.pollFirst());\n        testOrder(&quot;pollLast&quot;, (s, i) -&gt; s.pollLast());\n        testOrder(&quot;headSet&quot;, TreeSet::headSet);\n\n        System.out.println(&quot;O(ln N) comparisons&quot;);\n        testOrder(&quot;add&quot;, TreeSet::add);\n        testOrder(&quot;ceiling&quot;, TreeSet::ceiling);\n        testOrder(&quot;contains&quot;, TreeSet::contains);\n        testOrder(&quot;floor&quot;, TreeSet::floor);\n        testOrder(&quot;higher&quot;, TreeSet::higher);\n        testOrder(&quot;lower&quot;, TreeSet::lower);\n        testOrder(&quot;remove&quot;, TreeSet::remove);\n\n        System.out.println(&quot;O(N ln N) comparisons&quot;);\n        Set&lt;Long&gt; set = LongStream.range(0, 10_000).mapToObj(i -&gt; i).collect(Collectors.toSet());\n        testOrder(&quot;equals&quot;, (s, i) -&gt; s.equals(set));\n    }\n\n    static void testOrder(String desc, BiConsumer&lt;TreeSet&lt;Long&gt;, Long&gt; op) {\n        final LongComparator comparator = new LongComparator();\n        TreeSet&lt;Long&gt; longs = new TreeSet&lt;&gt;(comparator);\n        final int count = 10_000;\n        for (long i = 0; i &lt; count; i++)\n            longs.add(i);\n        comparator.count = 0;\n        for (long i = 0; i &lt; count; i++)\n            op.accept(longs, i);\n        System.out.printf(&quot;Performing %,d %s operations -&gt; %.1f comparisons/operation%n&quot;,\n                count, desc, (double) comparator.count / count);\n    }\n\n    static class LongComparator implements Comparator&lt;Long&gt; {\n        long count = 0;\n\n        @Override\n        public int compare(Long o1, Long o2) {\n            count++;\n            return Long.compare(o1, o2);\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Operations which work on a single element are all O(ln n) comparisons except first and last which are O(1) comparisons or O(ln N) node search time.</p>\n<p>comparator(), iterator(), clear(), first(), isEMpty(), size(), last(),  pollFirst(), pollLast(), headSet() are O(1)</p>\n<p>add(), ceiling(), contains(), floor(), higher(), lower(), remove(), subSet(), tailSet() are O(ln N)</p>\n<p>clone(), hashCode(), toArray() and toString() are O(n) for operations, but no comaprisons</p>\n"},{"tags":[],"owner":{"account_id":4052391,"reputation":71,"user_id":3331481,"display_name":"Ast15"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1656950130,"creation_date":1656950130,"answer_id":72859367,"question_id":14379515,"body_markdown":"first(), last(), pollFirst(), pollLast(): O(lgn), not O(1).","title":"Computational Complexity of TreeSet methods in Java","body":"<p>first(), last(), pollFirst(), pollLast(): O(lgn), not O(1).</p>\n"},{"tags":[],"owner":{"account_id":5995510,"reputation":872,"user_id":4710264,"display_name":"Xinyi Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663186024,"creation_date":1663186024,"answer_id":73722636,"question_id":14379515,"body_markdown":"At least in the current version of JDK, no special handles are applied on `first` or `last` (see source code in [`openjdk/jdk`](https://github.com/openjdk/jdk/blob/7e0203980582c47e53f8851998138e13913bd28a/src/java.base/share/classes/java/util/TreeMap.java#L2456). The code looks like:\r\n\r\n```java\r\n    final Entry&lt;K,V&gt; getLastEntry() {\r\n        Entry&lt;K,V&gt; p = root;\r\n        if (p != null)\r\n            while (p.right != null)\r\n                p = p.right;\r\n        return p;\r\n    }\r\n```\r\n\r\nIt should be `O(logN)`, not an exception.\r\n\r\n\r\n\r\n","title":"Computational Complexity of TreeSet methods in Java","body":"<p>At least in the current version of JDK, no special handles are applied on <code>first</code> or <code>last</code> (see source code in <a href=\"https://github.com/openjdk/jdk/blob/7e0203980582c47e53f8851998138e13913bd28a/src/java.base/share/classes/java/util/TreeMap.java#L2456\" rel=\"nofollow noreferrer\"><code>openjdk/jdk</code></a>. The code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final Entry&lt;K,V&gt; getLastEntry() {\n        Entry&lt;K,V&gt; p = root;\n        if (p != null)\n            while (p.right != null)\n                p = p.right;\n        return p;\n    }\n</code></pre>\n<p>It should be <code>O(logN)</code>, not an exception.</p>\n"}],"owner":{"account_id":1787103,"reputation":901,"user_id":1628340,"accept_rate":48,"display_name":"user1628340"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27310,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":14379571,"answer_count":3,"score":28,"last_activity_date":1667827900,"creation_date":1358426940,"question_id":14379515,"body_markdown":"Is the computational complexity of TreeSet methods in Java, same as that of an AVLTree? \r\n\r\nSpecifically, I want to know the computational complexity of the following methods:\r\n1.add\r\n2.remove\r\n3.first\r\n4.last\r\n5. floor\r\n6. higher\r\n\r\nJava Doc for method description: http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\r\n\r\nFor an AVL Tree, there are all O(logn)? Whats the complexity of the above TreeSet Methods?","title":"Computational Complexity of TreeSet methods in Java","body":"<p>Is the computational complexity of TreeSet methods in Java, same as that of an AVLTree? </p>\n\n<p>Specifically, I want to know the computational complexity of the following methods:\n1.add\n2.remove\n3.first\n4.last\n5. floor\n6. higher</p>\n\n<p>Java Doc for method description: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/api/java/util/TreeSet.html</a></p>\n\n<p>For an AVL Tree, there are all O(logn)? Whats the complexity of the above TreeSet Methods?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667828301,"post_id":74347387,"comment_id":131253775,"body_markdown":"Yeah, I use `spring.jpa.hibernate.ddl-auto=none` and sometimes when I prefer to use Hibernate table creation, I set it update. At this stage, if I should use one of them, then what is your suggestion about the following issues?","body":"Yeah, I use <code>spring.jpa.hibernate.ddl-auto=none</code> and sometimes when I prefer to use Hibernate table creation, I set it update. At this stage, if I should use one of them, then what is your suggestion about the following issues?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667828414,"post_id":74347387,"comment_id":131253815,"body_markdown":"**1.** Assume that I use Flyway and set `spring.jpa.hibernate.ddl-auto=none`. Then in case I may need to use Hibernate in the future, I think it is good idea to also implement Hibernate entities by all the necessary index, constraint, etc definitions that are exactly I use in my Flyway scripts. What do you think?","body":"<b>1.</b> Assume that I use Flyway and set <code>spring.jpa.hibernate.ddl-auto=none</code>. Then in case I may need to use Hibernate in the future, I think it is good idea to also implement Hibernate entities by all the necessary index, constraint, etc definitions that are exactly I use in my Flyway scripts. What do you think?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667828499,"post_id":74347387,"comment_id":131253850,"body_markdown":"**2.** I also think that first I make entity implementations properly and then run the app and see the SQL clauses on console. Then I use this sql table, index, constraint creation clauses in my Flyway scripts. Is it a good idea?","body":"<b>2.</b> I also think that first I make entity implementations properly and then run the app and see the SQL clauses on console. Then I use this sql table, index, constraint creation clauses in my Flyway scripts. Is it a good idea?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667828705,"post_id":74347387,"comment_id":131253938,"body_markdown":"**3.** If a developer uses Hibernate and make all the necessary implementations on Entities, then is there any need to use Flyway except from adding data to database? In this situation, I had troubles as I cannot execute both Hibernate table creation and Flyway. I also used `data.sql`, instead of Flyway, but the problem with that when I run the app second time, it tries to insert the same records. But with flyway, there is not such kind of problems and as the tables are changed, it helps developer to update database. Right?","body":"<b>3.</b> If a developer uses Hibernate and make all the necessary implementations on Entities, then is there any need to use Flyway except from adding data to database? In this situation, I had troubles as I cannot execute both Hibernate table creation and Flyway. I also used <code>data.sql</code>, instead of Flyway, but the problem with that when I run the app second time, it tries to insert the same records. But with flyway, there is not such kind of problems and as the tables are changed, it helps developer to update database. Right?"}],"tags":[],"owner":{"account_id":3009750,"reputation":757,"user_id":2553521,"display_name":"edwgiz"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667827809,"creation_date":1667827809,"answer_id":74347387,"question_id":74347075,"body_markdown":"That&#39;s right the Hibernate and Flyway are mutually independent and have duplicated constraint definitions which is certainly redundant.\r\n\r\nIn case the using Flyway the Hibernate annotations should omit DDL-related declarations.\r\n\r\nMoreover the database modification via hibrnate must be supressed with following Spring configuration property\r\n```\r\nspring.jpa.hibernate.ddl-auto=none\r\n```\r\n\r\n\r\n","title":"Do I need to use Hibernate annotations when using Flyway?","body":"<p>That's right the Hibernate and Flyway are mutually independent and have duplicated constraint definitions which is certainly redundant.</p>\n<p>In case the using Flyway the Hibernate annotations should omit DDL-related declarations.</p>\n<p>Moreover the database modification via hibrnate must be supressed with following Spring configuration property</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667827809,"creation_date":1667826313,"question_id":74347075,"body_markdown":"In my Spring Boot apps, I am using Hibernate and there are several annotations for index, constraint, unique_key, etc. On the other hand, I am also using Flyway for migration in order to create tables besides populating data in the database. In the flyway table creation scripts, I am also using index, constraint creations, etc. \r\n\r\nAt this stage, I am very confused and feel that I am making one of these operations as redundant. So, what is the most proper way when using Hibernate and Flyway? Because I have also seen some projects where people uses both of them and creating all these elements (index, etc.) on Hibernate Entity definitions and Flyway migration scripts. \r\n\r\nCould you clarify me for this issue? Any help would be appreciated. ","title":"Do I need to use Hibernate annotations when using Flyway?","body":"<p>In my Spring Boot apps, I am using Hibernate and there are several annotations for index, constraint, unique_key, etc. On the other hand, I am also using Flyway for migration in order to create tables besides populating data in the database. In the flyway table creation scripts, I am also using index, constraint creations, etc.</p>\n<p>At this stage, I am very confused and feel that I am making one of these operations as redundant. So, what is the most proper way when using Hibernate and Flyway? Because I have also seen some projects where people uses both of them and creating all these elements (index, etc.) on Hibernate Entity definitions and Flyway migration scripts.</p>\n<p>Could you clarify me for this issue? Any help would be appreciated.</p>\n"},{"tags":["java","data-structures","java-8","linked-list"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1667808445,"post_id":74343461,"comment_id":131247019,"body_markdown":"Probably the best way to understand this is to step through the code with a debugger for a small list so that you can see what&#39;s happening step by step. Or maybe even physically draw the algorithm at each step (again, for a small list).","body":"Probably the best way to understand this is to step through the code with a debugger for a small list so that you can see what&#39;s happening step by step. Or maybe even physically draw the algorithm at each step (again, for a small list)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667817925,"creation_date":1667817925,"answer_id":74345351,"question_id":74343461,"body_markdown":"In order to reverse a Linked List, you need to walk through all its Nodes and change the links between them in such a way so that for every Node, its previous Node becomes the next one.\r\n\r\n```none\r\n[Node1] =&gt; [Node2] =&gt; [Node3] - initial list\r\n        &lt;-         &lt;-         - new links\r\n```\r\n\r\nThere are two actions need to be done at each iteration step:\r\n\r\n* swap the link to the next Node of the current Node by assigning previous to it;\r\n\r\n* advance forward by reassigning the `current` Node to the reference that has been initially stored in its `next` property, which would point either to a subsequent Node or `null` if the end of the List is reached. \r\n\r\nNote that in order to be able to iterate through the list, the reference to the `current` Node at the **beginning** of each iteration should be **unchanged** (*otherwise you&#39;ll not be able to move forward*). Whilst it&#39;s being altered by swapping its link to the `next` Node changed, we&#39;re reassigning it to the reference pointing to the subsequent Node that has not been altered yet. And the cycle repeats.","title":"Reverse a linked list in java","body":"<p>In order to reverse a Linked List, you need to walk through all its Nodes and change the links between them in such a way so that for every Node, its previous Node becomes the next one.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Node1] =&gt; [Node2] =&gt; [Node3] - initial list\n        &lt;-         &lt;-         - new links\n</code></pre>\n<p>There are two actions need to be done at each iteration step:</p>\n<ul>\n<li><p>swap the link to the next Node of the current Node by assigning previous to it;</p>\n</li>\n<li><p>advance forward by reassigning the <code>current</code> Node to the reference that has been initially stored in its <code>next</code> property, which would point either to a subsequent Node or <code>null</code> if the end of the List is reached.</p>\n</li>\n</ul>\n<p>Note that in order to be able to iterate through the list, the reference to the <code>current</code> Node at the <strong>beginning</strong> of each iteration should be <strong>unchanged</strong> (<em>otherwise you'll not be able to move forward</em>). Whilst it's being altered by swapping its link to the <code>next</code> Node changed, we're reassigning it to the reference pointing to the subsequent Node that has not been altered yet. And the cycle repeats.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667827634,"creation_date":1667827634,"answer_id":74347354,"question_id":74343461,"body_markdown":"It may help to visualise this with an example input. Let&#39;s say we have a list with three nodes with 1, 2, and 3 as values, then at the start of the loop we have this state:\r\n\r\n```none\r\nprevious: null\r\nnext: null\r\n\r\n         current\r\n           \r\n            \r\n       data: 1        data: 2        data: 3        \r\n       nextNode:   nextNode:   nextNode: null \r\n            \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nAfter the first assignment in the loop body, we can understand that `previous` points to the node *before* `current` (if any) and `next` to the node *after* `current` (if any). Although not really accurate, it helps to visualise `null` as if it is a virtual node. So we may picture that as follows:\r\n\r\n```none\r\nprevious  current            next\r\n                            \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null    nextNode:   nextNode:   nextNode:  null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nEvery time we arrive at the second statement in the loop&#39;s body, we&#39;ll have this invariant: `previous` - `current` - `next` reference successive nodes or are null.\r\n\r\nNow a rewiring takes place with `current.nextNode = previous`. The current node&#39;s `nextNode` reference will no longer point to `next` but to `previous`:\r\n\r\n```none\r\nprevious  current            next\r\n                            \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode     nextNode:   nextNode:  null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nThe last two statements of the loop body, and the first one in the next iteration, together shift the 3 node references to the right:\r\n\r\n```none\r\n          previous         current            next\r\n                                             \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode     nextNode:   nextNode:  null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nAnd again the `nextNode` member of `current` is redirected with `current.nextNode = previous`:\r\n\r\n```none\r\n          previous         current            next\r\n                                             \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode   :nextNode     nextNode:  null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nAnother invariant to highlight: *after* that rewiring assignment, `current` is the head of a *reversed* list, while `next` is the head of the unaltered part of the list.\r\n\r\nAgain we iterate further, and perform the shift:\r\n\r\n```none\r\n                           previous         current        next\r\n                                                          \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode   :nextNode     nextNode:  null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nAnd again, `current.nextNode` is mutated to point &quot;backwards&quot;:\r\n\r\n```none\r\n                           previous         current        next\r\n                                                          \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode   :nextNode   :nextNode    null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nAt this point the reversal is complete, and we could in theory stop here, but two more instructions are executed in this last iteration of the loop, which shift 2 out of 3 references:\r\n\r\n```none\r\n                                                         current\r\n                                            previous       next\r\n                                                           \r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode   :nextNode   :nextNode    null\r\n              \r\n             \r\n \r\n  headNode:  \r\n \r\n        \r\n       list\r\n```\r\n\r\nThe loop condition is no longer true (cf `current`), and luckily we still have `previous` referencing the last node of the original list, which is now the head of the reversed list. So it is assigned to `list.headNode`. The function returns and its local variables are disposed:\r\n\r\n```none\r\n              \r\n         data: 1        data: 2        data: 3    \r\n null  :nextNode   :nextNode   :nextNode \r\n              \r\n                                               \r\n                                \r\n  headNode: \r\n \r\n        \r\n       list\r\n```\r\n\r\nI hope this clarifies it.","title":"Reverse a linked list in java","body":"<p>It may help to visualise this with an example input. Let's say we have a list with three nodes with 1, 2, and 3 as values, then at the start of the loop we have this state:</p>\n<pre class=\"lang-none prettyprint-override\"><code>previous: null\nnext: null\n\n         current\n           \n            \n       data: 1        data: 2        data: 3        \n       nextNode:   nextNode:   nextNode: null \n            \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>After the first assignment in the loop body, we can understand that <code>previous</code> points to the node <em>before</em> <code>current</code> (if any) and <code>next</code> to the node <em>after</em> <code>current</code> (if any). Although not really accurate, it helps to visualise <code>null</code> as if it is a virtual node. So we may picture that as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>previous  current            next\n                            \n              \n         data: 1        data: 2        data: 3    \n null    nextNode:   nextNode:   nextNode:  null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>Every time we arrive at the second statement in the loop's body, we'll have this invariant: <code>previous</code> - <code>current</code> - <code>next</code> reference successive nodes or are null.</p>\n<p>Now a rewiring takes place with <code>current.nextNode = previous</code>. The current node's <code>nextNode</code> reference will no longer point to <code>next</code> but to <code>previous</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>previous  current            next\n                            \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode     nextNode:   nextNode:  null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>The last two statements of the loop body, and the first one in the next iteration, together shift the 3 node references to the right:</p>\n<pre class=\"lang-none prettyprint-override\"><code>          previous         current            next\n                                             \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode     nextNode:   nextNode:  null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>And again the <code>nextNode</code> member of <code>current</code> is redirected with <code>current.nextNode = previous</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>          previous         current            next\n                                             \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode   :nextNode     nextNode:  null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>Another invariant to highlight: <em>after</em> that rewiring assignment, <code>current</code> is the head of a <em>reversed</em> list, while <code>next</code> is the head of the unaltered part of the list.</p>\n<p>Again we iterate further, and perform the shift:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                           previous         current        next\n                                                          \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode   :nextNode     nextNode:  null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>And again, <code>current.nextNode</code> is mutated to point &quot;backwards&quot;:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                           previous         current        next\n                                                          \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode   :nextNode   :nextNode    null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>At this point the reversal is complete, and we could in theory stop here, but two more instructions are executed in this last iteration of the loop, which shift 2 out of 3 references:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                                                         current\n                                            previous       next\n                                                           \n              \n         data: 1        data: 2        data: 3    \n null  :nextNode   :nextNode   :nextNode    null\n              \n             \n \n  headNode:  \n \n        \n       list\n</code></pre>\n<p>The loop condition is no longer true (cf <code>current</code>), and luckily we still have <code>previous</code> referencing the last node of the original list, which is now the head of the reversed list. So it is assigned to <code>list.headNode</code>. The function returns and its local variables are disposed:</p>\n<pre class=\"lang-none prettyprint-override\"><code>              \n         data: 1        data: 2        data: 3    \n null  :nextNode   :nextNode   :nextNode \n              \n                                               \n                                \n  headNode: \n \n        \n       list\n</code></pre>\n<p>I hope this clarifies it.</p>\n"}],"owner":{"account_id":14194543,"reputation":361,"user_id":10254216,"display_name":"isilia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667827634,"creation_date":1667807707,"question_id":74343461,"body_markdown":"I was reading the solution to reverse a linked list. It mentions to use swapping the links but I can&#39;t get an intuition as how author have come up with previous and next pointer approach. It feels like I have to memorize this order. Can some one give me the intuition of the below piece of code.\r\n\r\n\r\n```\r\npublic static &lt;T&gt; void reverse(SinglyLinkedList&lt;T&gt; list){\r\n\tSinglyLinkedList&lt;T&gt;.Node previous = null; //To keep track of the previous element, will be used in swapping links\r\n\t\t\tSinglyLinkedList&lt;T&gt;.Node current = list.headNode; //firstElement\r\n\t\t\tSinglyLinkedList&lt;T&gt;.Node next = null;\r\n\r\n\t\t\t//While Traversing the list, swap links\r\n\t\t\twhile (current != null) {\r\n\t\t\t\t\tnext = current.nextNode;\r\n\t\t\t\t\tcurrent.nextNode = previous;\r\n\t\t\t\t\tprevious = current;\r\n\t\t\t\t\tcurrent = next;\r\n\t\t\t}\r\n\t\t\t//Linking Head Node with the new First Element\r\n\t\t\tlist.headNode = previous;\r\n\t}\r\n\r\n```\r\n\r\n","title":"Reverse a linked list in java","body":"<p>I was reading the solution to reverse a linked list. It mentions to use swapping the links but I can't get an intuition as how author have come up with previous and next pointer approach. It feels like I have to memorize this order. Can some one give me the intuition of the below piece of code.</p>\n<pre><code>public static &lt;T&gt; void reverse(SinglyLinkedList&lt;T&gt; list){\n    SinglyLinkedList&lt;T&gt;.Node previous = null; //To keep track of the previous element, will be used in swapping links\n            SinglyLinkedList&lt;T&gt;.Node current = list.headNode; //firstElement\n            SinglyLinkedList&lt;T&gt;.Node next = null;\n\n            //While Traversing the list, swap links\n            while (current != null) {\n                    next = current.nextNode;\n                    current.nextNode = previous;\n                    previous = current;\n                    current = next;\n            }\n            //Linking Head Node with the new First Element\n            list.headNode = previous;\n    }\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667827544,"creation_date":1667827240,"answer_id":74347271,"question_id":74347216,"body_markdown":"Both the dates are in format [`ISO_ZONED_DATE_TIME`][1], so can parse them using `ZonedDateTime`:\r\n\r\n    ZonedDateTime user1 = ZonedDateTime.parse(&quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;);\r\n    ZonedDateTime user2 = ZonedDateTime.parse(&quot;2022-10-02T13:55:50.283+05:30[+05:30]&quot;);\r\n\r\nOr if you want to use `OffsetDateTime`, then you have to use the `DateTimeFormatter`:\r\n\r\n    OffsetDateTime user1 = OffsetDateTime.parse(\r\n            &quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;,\r\n            DateTimeFormatter.ISO_ZONED_DATE_TIME\r\n    );\r\n    OffsetDateTime user2 = OffsetDateTime.parse(\r\n            &quot;2022-10-02T13:55:50.283+05:30[+05:30]&quot;,\r\n            DateTimeFormatter.ISO_ZONED_DATE_TIME\r\n    );\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME","title":"Parse different date with same format","body":"<p>Both the dates are in format <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_ZONED_DATE_TIME\" rel=\"nofollow noreferrer\"><code>ISO_ZONED_DATE_TIME</code></a>, so can parse them using <code>ZonedDateTime</code>:</p>\n<pre><code>ZonedDateTime user1 = ZonedDateTime.parse(&quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;);\nZonedDateTime user2 = ZonedDateTime.parse(&quot;2022-10-02T13:55:50.283+05:30[+05:30]&quot;);\n</code></pre>\n<p>Or if you want to use <code>OffsetDateTime</code>, then you have to use the <code>DateTimeFormatter</code>:</p>\n<pre><code>OffsetDateTime user1 = OffsetDateTime.parse(\n        &quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;,\n        DateTimeFormatter.ISO_ZONED_DATE_TIME\n);\nOffsetDateTime user2 = OffsetDateTime.parse(\n        &quot;2022-10-02T13:55:50.283+05:30[+05:30]&quot;,\n        DateTimeFormatter.ISO_ZONED_DATE_TIME\n);\n</code></pre>\n"}],"owner":{"account_id":8383866,"reputation":1152,"user_id":6294875,"accept_rate":32,"display_name":"aj0822ArpitJoshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667827544,"creation_date":1667826983,"question_id":74347216,"body_markdown":"In Api response getting date format :\r\n**for user 1-\r\n\r\n     &quot;date&quot;: &quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;.\r\n\r\nfor user 2-\r\n\r\n    &quot;date&quot;: &quot;2022-10-02T13:55:50.283+05:30[+05:30]**\r\n\r\nHow can we parse both date with single format?\r\n\r\n","title":"Parse different date with same format","body":"<p>In Api response getting date format :\n**for user 1-</p>\n<pre><code> &quot;date&quot;: &quot;2022-10-13T00:00:00+02:00[Africa/Johannesburg]&quot;.\n</code></pre>\n<p>for user 2-</p>\n<pre><code>&quot;date&quot;: &quot;2022-10-02T13:55:50.283+05:30[+05:30]**\n</code></pre>\n<p>How can we parse both date with single format?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1424941736,"post_id":28738234,"comment_id":45760370,"body_markdown":"seems like your settings.xml has issues with the proxy","body":"seems like your settings.xml has issues with the proxy"},{"owner":{"account_id":5163206,"reputation":138,"user_id":4134155,"accept_rate":50,"display_name":"Code Chieftain"},"score":0,"creation_date":1424941886,"post_id":28738234,"comment_id":45760445,"body_markdown":"@OhadR i have suspected that and try it on another project but it works fine","body":"@OhadR i have suspected that and try it on another project but it works fine"},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1424942483,"post_id":28738234,"comment_id":45760825,"body_markdown":"please give more info about your system - firewall, repo etc. and post your settings.xml and pom.xml","body":"please give more info about your system - firewall, repo etc. and post your settings.xml and pom.xml"},{"owner":{"account_id":5163206,"reputation":138,"user_id":4134155,"accept_rate":50,"display_name":"Code Chieftain"},"score":0,"creation_date":1424943581,"post_id":28738234,"comment_id":45761508,"body_markdown":"@OhadR thanks for tiring to help i got my answer","body":"@OhadR thanks for tiring to help i got my answer"}],"answers":[{"tags":[],"owner":{"account_id":277179,"reputation":3086,"user_id":571007,"display_name":"Jeroen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424941905,"creation_date":1424941905,"answer_id":28738323,"question_id":28738234,"body_markdown":"The 502 error message indicates that the server **behind** the proxy is not available. Now from the stacktrace it&#39;s hard to figure out if that is the server behind http://121.0.0.44:8080 or that it&#39;s another maven repository which is being questioned for a an artifact.","title":"response code 502 is given by maven install","body":"<p>The 502 error message indicates that the server <strong>behind</strong> the proxy is not available. Now from the stacktrace it's hard to figure out if that is the server behind <a href=\"http://121.0.0.44:8080\" rel=\"nofollow\">http://121.0.0.44:8080</a> or that it's another maven repository which is being questioned for a an artifact.</p>\n"},{"tags":[],"owner":{"account_id":14776192,"reputation":77,"user_id":10671056,"display_name":"arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667827203,"creation_date":1667827203,"answer_id":74347262,"question_id":28738234,"body_markdown":"In my case the proxy setting were different between IntelliJ-HTTP_Proxy &amp; setting.xml under .m2 folder.\r\n\r\nI cleared proxy setting on my m2 and kept IntelliJ proxy setting and issue got resolved. ","title":"response code 502 is given by maven install","body":"<p>In my case the proxy setting were different between IntelliJ-HTTP_Proxy &amp; setting.xml under .m2 folder.</p>\n<p>I cleared proxy setting on my m2 and kept IntelliJ proxy setting and issue got resolved.</p>\n"}],"owner":{"account_id":5163206,"reputation":138,"user_id":4134155,"accept_rate":50,"display_name":"Code Chieftain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28738323,"answer_count":2,"score":0,"last_activity_date":1667827203,"creation_date":1424941593,"question_id":28738234,"body_markdown":"i have a project with its pom file and i am tring to build it with mvn install command but its failed &lt;/br&gt;\r\n\r\ni got the following error\r\n\r\n    INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 01:17 min\r\n    [INFO] Finished at: 2015-02-26T09:32:31+03:00\r\n    [INFO] Final Memory: 7M/112M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project PROJECT-web: Could not resolve dependencies for project co\r\n    m.prod.PROJECT:PROJECT-web:war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.prod.comp:PROJECT\r\n    -web:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.prod.comp:comp-web:jar:0.0.1-S\r\n    NAPSHOT: Could not transfer artifact com.prod.comp:comp-web:pom:0.0.1-SNAPSHOT from/to prodLocalRe\r\n    p (http://121.0.0.44:8080/artifactory/prod-repo): Error transferring file: Server returned HTTP res\r\n    ponse code: 502 for URL: http://121.0.0.44:8080/artifactory/prod-repo/com/prod/comp/comp-web/0.0.1\r\n    -SNAPSHOT/comp-web-0.0.1-SNAPSHOT.pom from http://121.0.0.44:8080/artifactory/prod-repo/com/prod/G\r\n    ACA/comp-web/0.0.1-SNAPSHOT/comp-web-0.0.1-SNAPSHOT.pom with proxyInfo ProxyInfo{host=&#39;compproxy&#39;, u\r\n    serName=&#39;null&#39;, port=8080, type=&#39;http&#39;, nonProxyHosts=&#39;null&#39;} -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project PROJECT-we\r\n    b: Could not resolve dependencies for project com.prod.PROJECT:PROJECT-web:war:0.0.1-SNAPSHOT: Fail\r\n    ed to collect dependencies at com.prod.comp:comp-web:jar:0.0.1-SNAPSHOT\r\n\r\n\r\n**note that:** maven downloaded many jars but stopped with this error\r\n\r\n**so my question is** if i understood the error right are there some jars that prod-repo is running on their own reprository and servers?\r\n\r\n\r\n**the pom.xml**\r\n\r\n   \r\n","title":"response code 502 is given by maven install","body":"<p>i have a project with its pom file and i am tring to build it with mvn install command but its failed </p>\n\n<p>i got the following error</p>\n\n<pre><code>INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 01:17 min\n[INFO] Finished at: 2015-02-26T09:32:31+03:00\n[INFO] Final Memory: 7M/112M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project PROJECT-web: Could not resolve dependencies for project co\nm.prod.PROJECT:PROJECT-web:war:0.0.1-SNAPSHOT: Failed to collect dependencies at com.prod.comp:PROJECT\n-web:jar:0.0.1-SNAPSHOT: Failed to read artifact descriptor for com.prod.comp:comp-web:jar:0.0.1-S\nNAPSHOT: Could not transfer artifact com.prod.comp:comp-web:pom:0.0.1-SNAPSHOT from/to prodLocalRe\np (http://121.0.0.44:8080/artifactory/prod-repo): Error transferring file: Server returned HTTP res\nponse code: 502 for URL: http://121.0.0.44:8080/artifactory/prod-repo/com/prod/comp/comp-web/0.0.1\n-SNAPSHOT/comp-web-0.0.1-SNAPSHOT.pom from http://121.0.0.44:8080/artifactory/prod-repo/com/prod/G\nACA/comp-web/0.0.1-SNAPSHOT/comp-web-0.0.1-SNAPSHOT.pom with proxyInfo ProxyInfo{host='compproxy', u\nserName='null', port=8080, type='http', nonProxyHosts='null'} -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project PROJECT-we\nb: Could not resolve dependencies for project com.prod.PROJECT:PROJECT-web:war:0.0.1-SNAPSHOT: Fail\ned to collect dependencies at com.prod.comp:comp-web:jar:0.0.1-SNAPSHOT\n</code></pre>\n\n<p><strong>note that:</strong> maven downloaded many jars but stopped with this error</p>\n\n<p><strong>so my question is</strong> if i understood the error right are there some jars that prod-repo is running on their own reprository and servers?</p>\n\n<p><strong>the pom.xml</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-sns"],"answers":[{"comments":[{"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"score":0,"creation_date":1667980953,"post_id":74347244,"comment_id":131294590,"body_markdown":"it is still problem since, I need to register all cell phone numbers with AWS service, since my case it is registration process, is it great idea ?","body":"it is still problem since, I need to register all cell phone numbers with AWS service, since my case it is registration process, is it great idea ?"},{"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"score":0,"creation_date":1667984351,"post_id":74347244,"comment_id":131295632,"body_markdown":"The reason is because you are using sandbox, you will need to move the Pinpoint account to production https://docs.aws.amazon.com/pinpoint/latest/userguide/channels-sms-awssupport-sandbox.html","body":"The reason is because you are using sandbox, you will need to move the Pinpoint account to production <a href=\"https://docs.aws.amazon.com/pinpoint/latest/userguide/channels-sms-awssupport-sandbox.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/pinpoint/latest/userguide/&hellip;</a>"}],"tags":[],"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667827079,"creation_date":1667827079,"answer_id":74347244,"question_id":74345587,"body_markdown":"You can use the PinPoint send messages api instead of SNS.\r\n\r\nhttps://docs.aws.amazon.com/pinpoint/latest/developerguide/send-messages-sms.html\r\n","title":"What is Ideal ways to use AWS SNS to send OTP during Registration?","body":"<p>You can use the PinPoint send messages api instead of SNS.</p>\n<p><a href=\"https://docs.aws.amazon.com/pinpoint/latest/developerguide/send-messages-sms.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/pinpoint/latest/developerguide/send-messages-sms.html</a></p>\n"}],"owner":{"account_id":20002023,"reputation":277,"user_id":14660815,"display_name":"Dnyaneshwar Jadhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1667832640,"answer_count":1,"score":-1,"last_activity_date":1667827079,"creation_date":1667819118,"question_id":74345587,"body_markdown":"I am trying to understand how efficiently I can use AWS SNS service to send OTP for the first time registration person.\r\n\r\nWhat I have understood till now is in SNS I have to register the Mobile no and then only AWS can send text to that subscriber.\r\n\r\nHowever my case I wanted to create registration page where user will enter its cell phone contact number and I will have to send text OTP on the same.\r\n\r\nIn current architecture of AWS SNS first I will have to register each and every cell phone number in my AWS account, and then only it is possible to send messages.\r\n\r\nIs this the right approach ?","title":"What is Ideal ways to use AWS SNS to send OTP during Registration?","body":"<p>I am trying to understand how efficiently I can use AWS SNS service to send OTP for the first time registration person.</p>\n<p>What I have understood till now is in SNS I have to register the Mobile no and then only AWS can send text to that subscriber.</p>\n<p>However my case I wanted to create registration page where user will enter its cell phone contact number and I will have to send text OTP on the same.</p>\n<p>In current architecture of AWS SNS first I will have to register each and every cell phone number in my AWS account, and then only it is possible to send messages.</p>\n<p>Is this the right approach ?</p>\n"},{"tags":["java","math"],"answers":[{"comments":[{"owner":{"account_id":26652030,"reputation":15,"user_id":20266188,"display_name":"Edmund"},"score":0,"creation_date":1667654291,"post_id":74319285,"comment_id":131220385,"body_markdown":"This code doesn&#39;t work for some reason. That while (--pow) is trying to convert a double into a boolean :/","body":"This code doesn&#39;t work for some reason. That while (--pow) is trying to convert a double into a boolean :/"},{"owner":{"account_id":6853811,"reputation":61,"user_id":5270117,"display_name":"Jackhein Teodre&#239;"},"score":0,"creation_date":1667826946,"post_id":74319285,"comment_id":131253289,"body_markdown":"my bad, I checked again, should be ook now. (forgot that numeric value aren&#39;t well interpreted in loop condition statement)","body":"my bad, I checked again, should be ook now. (forgot that numeric value aren&#39;t well interpreted in loop condition statement)"}],"tags":[],"owner":{"account_id":6853811,"reputation":61,"user_id":5270117,"display_name":"Jackhein Teodre&#239;"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667826870,"creation_date":1667575246,"answer_id":74319285,"question_id":74318690,"body_markdown":"1/\r\n\r\n```(2*x)*x/2 == 2*x*x/2 == x*x```\r\n\r\nsame ```(2*x)*x == 2*x*x``` no need of parenthesis.\r\n\r\n2/\r\n\r\n&#39;a&#39; isn&#39;t lowering if &#39;x&#39; is greater or equal 0.5 so he won&#39;t meet the condition to exit the loop.\r\n\r\n3/\r\nI guess the loop condition is that the current power division by factorial is less than 0.001.\r\n\r\n    double i = 2; // double for getting the rest too in the division\r\n    int neg = -1;\r\n    double pow;\r\n    double pow_res;\r\n    double res = 0;\r\n    double loop_check = 1;\r\n    while (loop_check &gt; 0.001 || i &lt; 99999) {\r\n        pow = i - 1;\r\n        pow_res = 2 * x;\r\n        while (--pow != 0)  // get power result for 2X^n\r\n            pow_res = pow_res *(2 * x);\r\n        loop_check = pow_res / (i * ((i + 1) / 2)); // save the result for loop check and used after for calculation\r\n        res = res + neg * loop_check;\r\n        i = i + 2;\r\n        neg = -neg;\r\n    }","title":"How to find the sum of an infinite fractional equation on an interval?","body":"<p>1/</p>\n<p><code>(2*x)*x/2 == 2*x*x/2 == x*x</code></p>\n<p>same <code>(2*x)*x == 2*x*x</code> no need of parenthesis.</p>\n<p>2/</p>\n<p>'a' isn't lowering if 'x' is greater or equal 0.5 so he won't meet the condition to exit the loop.</p>\n<p>3/\nI guess the loop condition is that the current power division by factorial is less than 0.001.</p>\n<pre><code>double i = 2; // double for getting the rest too in the division\nint neg = -1;\ndouble pow;\ndouble pow_res;\ndouble res = 0;\ndouble loop_check = 1;\nwhile (loop_check &gt; 0.001 || i &lt; 99999) {\n    pow = i - 1;\n    pow_res = 2 * x;\n    while (--pow != 0)  // get power result for 2X^n\n        pow_res = pow_res *(2 * x);\n    loop_check = pow_res / (i * ((i + 1) / 2)); // save the result for loop check and used after for calculation\n    res = res + neg * loop_check;\n    i = i + 2;\n    neg = -neg;\n}\n</code></pre>\n"}],"owner":{"account_id":26652030,"reputation":15,"user_id":20266188,"display_name":"Edmund"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667826870,"creation_date":1667572495,"question_id":74318690,"body_markdown":"i am trying to find the summ of an equation:\r\nS = -(2x)^2/2! + (2x)^4/4! - (2x)^6/6! + (2x)^8/8!....\r\n \r\nthe interval of x is [0.1;1.5]\r\n\r\n\r\nThere is another equation that is in this code 2(cos^2 &#119909;  1) however this outputs the correct answer.\r\nWhat is wrong in this code?\r\n\r\n```\r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.print(&quot;x=&quot;);\r\n    double x = sc.nextDouble();\r\n    sc.close();\r\n    if (x &lt; 0.1 || x &gt; 1.5) {\r\n      System.out.println(&quot;error&quot;);\r\n      return;\r\n    }\r\n\r\n    double s = -((2*x)*x/2) ;\r\n    double a = (2*x)*x ;  \r\n    int i = 2;    \r\n\r\n    while (Math.abs(a) &gt; 0.001) {\r\n      a = -a*4*(x*x) ;   \r\n      s = s + a/(i*(i-1));  \r\n      i = i + 2;  \r\n    }\r\n    System.out.printf(&quot;function=%.4f%n&quot;, 2*(Math.cos(x)*Math.cos(x)-1));\r\n    System.out.printf(&quot;summa=%.4f&quot;, s);\r\n  }\r\n}\r\n```","title":"How to find the sum of an infinite fractional equation on an interval?","body":"<p>i am trying to find the summ of an equation:\nS = -(2x)^2/2! + (2x)^4/4! - (2x)^6/6! + (2x)^8/8!....</p>\n<p>the interval of x is [0.1;1.5]</p>\n<p>There is another equation that is in this code 2(cos^2   1) however this outputs the correct answer.\nWhat is wrong in this code?</p>\n<pre><code>    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;x=&quot;);\n    double x = sc.nextDouble();\n    sc.close();\n    if (x &lt; 0.1 || x &gt; 1.5) {\n      System.out.println(&quot;error&quot;);\n      return;\n    }\n\n    double s = -((2*x)*x/2) ;\n    double a = (2*x)*x ;  \n    int i = 2;    \n\n    while (Math.abs(a) &gt; 0.001) {\n      a = -a*4*(x*x) ;   \n      s = s + a/(i*(i-1));  \n      i = i + 2;  \n    }\n    System.out.printf(&quot;function=%.4f%n&quot;, 2*(Math.cos(x)*Math.cos(x)-1));\n    System.out.printf(&quot;summa=%.4f&quot;, s);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","using"],"answers":[{"comments":[{"owner":{"account_id":10052736,"reputation":15,"user_id":7431999,"display_name":"PRAVAS DAS"},"score":0,"creation_date":1569412889,"post_id":58097869,"comment_id":102587633,"body_markdown":"HICredits credits = new HICredits();\n\n    credits.setEnabled(false);\n\n    options.setCredits(credits);","body":"HICredits credits = new HICredits();      credits.setEnabled(false);      options.setCredits(credits);"},{"owner":{"account_id":10052736,"reputation":15,"user_id":7431999,"display_name":"PRAVAS DAS"},"score":0,"creation_date":1569412941,"post_id":58097869,"comment_id":102587672,"body_markdown":"use this solution","body":"use this solution"},{"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"score":0,"creation_date":1663075091,"post_id":58097869,"comment_id":130150041,"body_markdown":"not working bro. still showing that water mark","body":"not working bro. still showing that water mark"}],"tags":[],"owner":{"account_id":10052736,"reputation":15,"user_id":7431999,"display_name":"PRAVAS DAS"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1569417010,"creation_date":1569412828,"answer_id":58097869,"question_id":58097868,"body_markdown":" \r\n\r\n    HICredits credits = new HICredits();\r\n    credits.setEnabled(false);\r\n    options.setCredits(credits);\r\n","title":"How to remove Highcharts.com?","body":"<pre><code>HICredits credits = new HICredits();\ncredits.setEnabled(false);\noptions.setCredits(credits);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653392938,"post_id":72362092,"comment_id":127836415,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72362092/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":10205333,"reputation":11,"user_id":7534239,"display_name":"Sundar JavaD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653391774,"creation_date":1653391774,"answer_id":72362092,"question_id":58097868,"body_markdown":"credits: {\r\n    enabled: false\r\n},\r\n\r\nUse this in script file.","title":"How to remove Highcharts.com?","body":"<p>credits: {\nenabled: false\n},</p>\n<p>Use this in script file.</p>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1667829344,"post_id":74347124,"comment_id":131254168,"body_markdown":"Hello, please see https://meta.stackoverflow.com/editing-help Thanks!","body":"Hello, please see <a href=\"https://meta.stackoverflow.com/editing-help\">meta.stackoverflow.com/editing-help</a> Thanks!"}],"tags":[],"owner":{"account_id":14670647,"reputation":9,"user_id":10595206,"display_name":"rajesh Gaddam"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667826536,"creation_date":1667826536,"answer_id":74347124,"question_id":58097868,"body_markdown":"\r\nlet credits = HICredits() credits.enabled = false options.credits = credits","title":"How to remove Highcharts.com?","body":"<p>let credits = HICredits() credits.enabled = false options.credits = credits</p>\n"}],"owner":{"account_id":10052736,"reputation":15,"user_id":7431999,"display_name":"PRAVAS DAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"answer_count":3,"score":-6,"last_activity_date":1667826536,"creation_date":1569412828,"question_id":58097868,"body_markdown":"I have gone through many solution to remove the Highcharts.com watermark from Piechart,Barchart while implementing HighChart SDK.But,sorry say that no one worte the proper solution.How to write code inside the Java Class.See below solution,it might help you out.....Correct me if i&#39;m wrong..\r\nThank You!!!","title":"How to remove Highcharts.com?","body":"<p>I have gone through many solution to remove the Highcharts.com watermark from Piechart,Barchart while implementing HighChart SDK.But,sorry say that no one worte the proper solution.How to write code inside the Java Class.See below solution,it might help you out.....Correct me if i'm wrong..\nThank You!!!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667823480,"post_id":74346367,"comment_id":131252017,"body_markdown":"You can either use [String.replace(char,char)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(char,char)) and replace every &quot;space&quot;-character by a &quot;newline&quot; character or [String.replaceAll(String,String)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)). The later would use a regular expression of &quot;\\s+&quot; and replace every matching occurence with the newline mark.","body":"You can either use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replace(char,char)\" rel=\"nofollow noreferrer\">String.replace(char,char)</a> and replace every &quot;space&quot;-character by a &quot;newline&quot; character or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String.replaceAll(String,String)</a>. The later would use a regular expression of &quot;\\s+&quot; and replace every matching occurence with the newline mark."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":1,"creation_date":1667825887,"post_id":74346367,"comment_id":131252856,"body_markdown":"`phr = phr.replaceAll(&quot;\\\\s+&quot;, System.lineSeaparator());`.","body":"<code>phr = phr.replaceAll(&quot;\\\\s+&quot;, System.lineSeaparator());</code>."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667823591,"creation_date":1667823591,"answer_id":74346495,"question_id":74346367,"body_markdown":"You are currently checking weither the input line contains any spaces at all, but you have to react to every space instead.\r\n\r\nOne way would be to split `phr` by spaces and concatenating it with newlines.\r\n\r\n```java\r\nString result = String.join(System.lineSeparator(), phr.split(&quot; &quot;))\r\n```","title":"How do I make a program insert a new line every time it finds a space (or whitespace) within a string (in java)?","body":"<p>You are currently checking weither the input line contains any spaces at all, but you have to react to every space instead.</p>\n<p>One way would be to split <code>phr</code> by spaces and concatenating it with newlines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = String.join(System.lineSeparator(), phr.split(&quot; &quot;))\n</code></pre>\n"}],"owner":{"account_id":26855537,"reputation":1,"user_id":20439901,"display_name":"Yuujin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667826528,"creation_date":1667822984,"question_id":74346367,"body_markdown":"I&#39;m a first year IT student and we recently had an activity that asks the programmer to create a program that will accept a sentence or a phrase, then detect if there is a space in that string and add a newline in between words that have a space after it.\r\n\r\nFor clarification, here&#39;s what the prompt should look like:\r\nEnter a sentence or phrase: I am a student\r\n\r\nthen the output would be:\r\nI\r\nam\r\na\r\nstudent\r\n\r\nI tried to actually finish the code, but I was hit by a roadblock and got stuck. Here&#39;s my attempt though: \r\n\r\n```\r\nimport java.util.*;\r\npublic class NumTwo{\r\n\tpublic static void main (String[] args){\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString phr;\r\n\r\n\t\tSystem.out.print(&quot;Enter a phrase: &quot;);\r\n\t\tphr = in.nextLine();\r\n\r\n\t\tif(phr.contains(&quot; &quot;)){\r\n\t\t\tSystem.out.print(phr + &quot;\\n&quot;);\r\n\t\t}\r\n\t\telse{\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nany comments to what i might have done wrong will be very much appreciated\r\n\r\nEDIT:\r\nI tried using sir Christoph Dahlen&#39;s solution which was to use String.replace, and it worked! Thank you very much. ","title":"How do I make a program insert a new line every time it finds a space (or whitespace) within a string (in java)?","body":"<p>I'm a first year IT student and we recently had an activity that asks the programmer to create a program that will accept a sentence or a phrase, then detect if there is a space in that string and add a newline in between words that have a space after it.</p>\n<p>For clarification, here's what the prompt should look like:\nEnter a sentence or phrase: I am a student</p>\n<p>then the output would be:\nI\nam\na\nstudent</p>\n<p>I tried to actually finish the code, but I was hit by a roadblock and got stuck. Here's my attempt though:</p>\n<pre><code>import java.util.*;\npublic class NumTwo{\n    public static void main (String[] args){\n        Scanner in = new Scanner(System.in);\n        String phr;\n\n        System.out.print(&quot;Enter a phrase: &quot;);\n        phr = in.nextLine();\n\n        if(phr.contains(&quot; &quot;)){\n            System.out.print(phr + &quot;\\n&quot;);\n        }\n        else{\n\n        }\n    }\n}\n</code></pre>\n<p>any comments to what i might have done wrong will be very much appreciated</p>\n<p>EDIT:\nI tried using sir Christoph Dahlen's solution which was to use String.replace, and it worked! Thank you very much.</p>\n"},{"tags":["java","sql-server","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1667825480,"post_id":74346534,"comment_id":131252707,"body_markdown":"See https://www.baeldung.com/hibernate-naming-strategy","body":"See <a href=\"https://www.baeldung.com/hibernate-naming-strategy\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-naming-strategy</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user9409705"},"score":0,"creation_date":1667885300,"post_id":74346993,"comment_id":131268130,"body_markdown":"Not working still facing the same error.","body":"Not working still facing the same error."},{"owner":{"account_id":22415407,"reputation":171,"user_id":16623556,"display_name":"Arie"},"score":0,"creation_date":1667990591,"post_id":74346993,"comment_id":131297816,"body_markdown":"And when you use `@Column(name = &quot;\\&quot;empCode\\&quot;&quot;)` ?","body":"And when you use <code>@Column(name = &quot;\\&quot;empCode\\&quot;&quot;)</code> ?"}],"tags":[],"owner":{"account_id":22415407,"reputation":171,"user_id":16623556,"display_name":"Arie"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667825999,"creation_date":1667825999,"answer_id":74346993,"question_id":74346534,"body_markdown":"Surround your column name with backticks:\r\n\r\n    @Column(name = &quot;`empCode`&quot;)\r\n\r\n\r\nThis way hibernate will use the specific name instead of renaming it according to its own convention\r\n","title":"Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name","body":"<p>Surround your column name with backticks:</p>\n<pre><code>@Column(name = &quot;`empCode`&quot;)\n</code></pre>\n<p>This way hibernate will use the specific name instead of renaming it according to its own convention</p>\n"}],"owner":{"display_name":"user9409705"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667825999,"creation_date":1667823777,"question_id":74346534,"body_markdown":"Table name in Databse is: empCode\r\n\r\nSpring boot table mapping : \r\n```\r\n@Column(name=&quot;empCode&quot;)\r\n\tString empCode;\r\n```\r\ngetting error this: \r\n\r\n&gt; Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name &#39;emp_code&#39;.\r\n\r\nRestController: \r\n\r\n\r\n```\r\n@GetMapping(&quot;/employee&quot;)\r\n\tpublic List&lt;Employee&gt; findAll() {\r\n\t\treturn employeeService.findAll();\r\n\t}\r\n```\r\n\r\n\r\nI didn&#39;t define this emp_code anywhere, please assist why?\r\n\r\nI changed the name in table from empCode to empCODE then it is working but in my office project I am facing same error but there I can&#39;t change column name because other organisation also using same database.","title":"Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name","body":"<p>Table name in Databse is: empCode</p>\n<p>Spring boot table mapping :</p>\n<pre><code>@Column(name=&quot;empCode&quot;)\n    String empCode;\n</code></pre>\n<p>getting error this:</p>\n<blockquote>\n<p>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: Invalid column name 'emp_code'.</p>\n</blockquote>\n<p>RestController:</p>\n<pre><code>@GetMapping(&quot;/employee&quot;)\n    public List&lt;Employee&gt; findAll() {\n        return employeeService.findAll();\n    }\n</code></pre>\n<p>I didn't define this emp_code anywhere, please assist why?</p>\n<p>I changed the name in table from empCode to empCODE then it is working but in my office project I am facing same error but there I can't change column name because other organisation also using same database.</p>\n"},{"tags":["java","spring","database","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1667837085,"post_id":74345688,"comment_id":131257215,"body_markdown":"There might be conflicting behavior because the same column is referenced by two POJO properties, and both cause an update of the entry. Only one should cause a write access, the others should be read-only. Maybe I&#39;m wrong, but calling `setRatingId` and `setUser` at the same time with different values for `RatingId.userId` and `User.id` should cause problems because of the missing `@JoinColumn(insertable = false, updatable = false)` annotation. See [here](https://stackoverflow.com/questions/3669883/hibernate-where-do-insertable-false-updatable-false-belong-in-composite-pr) for details.","body":"There might be conflicting behavior because the same column is referenced by two POJO properties, and both cause an update of the entry. Only one should cause a write access, the others should be read-only. Maybe I&#39;m wrong, but calling <code>setRatingId</code> and <code>setUser</code> at the same time with different values for <code>RatingId.userId</code> and <code>User.id</code> should cause problems because of the missing <code>@JoinColumn(insertable = false, updatable = false)</code> annotation. See <a href=\"https://stackoverflow.com/questions/3669883/hibernate-where-do-insertable-false-updatable-false-belong-in-composite-pr\">here</a> for details."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667837816,"post_id":74345688,"comment_id":131257498,"body_markdown":"Thanks a lot, I fixed the problem using `@JoinColumn(name=&quot;movie_id&quot;, referencedColumnName=&quot;id&quot;, insertable = false, updatable = false)`","body":"Thanks a lot, I fixed the problem using <code>@JoinColumn(name=&quot;movie_id&quot;, referencedColumnName=&quot;id&quot;, insertable = false, updatable = false)</code>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667837868,"post_id":74345688,"comment_id":131257511,"body_markdown":"@0x1C1B What about the Entity definitions? Are they correct? SHould I add some annotations for constraint, foreign key and maybe indexes? Could you check please?","body":"@0x1C1B What about the Entity definitions? Are they correct? SHould I add some annotations for constraint, foreign key and maybe indexes? Could you check please?"},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667838544,"post_id":74345688,"comment_id":131257769,"body_markdown":"I&#39;m sorry but the [SO](https://stackoverflow.com) comment section isn&#39;t intended for answering further questions or doing code reviews... If you&#39;re requesting a code review, please use [Code Review](https://codereview.stackexchange.com/)","body":"I&#39;m sorry but the <a href=\"https://stackoverflow.com\">SO</a> comment section isn&#39;t intended for answering further questions or doing code reviews... If you&#39;re requesting a code review, please use <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667840817,"post_id":74345688,"comment_id":131258639,"body_markdown":"@0x1C1B That forum was generally full of homeworks and it would only takes - minutes such a  kind of experienced user.","body":"@0x1C1B That forum was generally full of homeworks and it would only takes - minutes such a  kind of experienced user."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667825926,"post_id":74346071,"comment_id":131252872,"body_markdown":"Thanks a lot for help, could you have a look at my implementations on Update section? Is it correct based on this scenario? Do I need constraint annotation, etc for my entity definitions?","body":"Thanks a lot for help, could you have a look at my implementations on Update section? Is it correct based on this scenario? Do I need constraint annotation, etc for my entity definitions?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1667826638,"post_id":74346071,"comment_id":131253176,"body_markdown":"It gives Table [rating] contains physical column name [movie_id] referred to by multiple logical column names","body":"It gives Table [rating] contains physical column name [movie_id] referred to by multiple logical column names"}],"tags":[],"owner":{"account_id":15042541,"reputation":35,"user_id":10856658,"display_name":"Devanshu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667821502,"creation_date":1667821502,"answer_id":74346071,"question_id":74345688,"body_markdown":"&gt; A user can only rate the same movie once. I think I should make\r\n&gt; user_id - movie_id pairs in the rating table Primary Key.\r\n\r\nYes you are right. You need them as primary key\r\n\r\n&gt; And use one-to many relationships between user - rating and movie -\r\n&gt; rating entities. Is that true?\r\n\r\nYes that&#39;s correct.\r\n\r\n&gt; So, is there an example for this scenario?\r\n\r\nYou can use `@IdClass` or `@EmbeddedId`. You can find example and differences between them at:\r\nhttps://www.baeldung.com/jpa-composite-primary-keys\r\n\r\n","title":"Hibernate @OneToMany relation with composite keys in Spring Boot","body":"<blockquote>\n<p>A user can only rate the same movie once. I think I should make\nuser_id - movie_id pairs in the rating table Primary Key.</p>\n</blockquote>\n<p>Yes you are right. You need them as primary key</p>\n<blockquote>\n<p>And use one-to many relationships between user - rating and movie -\nrating entities. Is that true?</p>\n</blockquote>\n<p>Yes that's correct.</p>\n<blockquote>\n<p>So, is there an example for this scenario?</p>\n</blockquote>\n<p>You can use <code>@IdClass</code> or <code>@EmbeddedId</code>. You can find example and differences between them at:\n<a href=\"https://www.baeldung.com/jpa-composite-primary-keys\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-composite-primary-keys</a></p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667825861,"creation_date":1667819635,"question_id":74345688,"body_markdown":"I am trying to build a structure as shown below:\r\n\r\n```\r\nUser:\r\n\r\nid   | username  |\r\n------------------\r\n1    | Mary      |\r\n2    | George    |\r\n3    | Candy     |\r\n```\r\n\r\n```\r\nMovie:\r\n\r\nid   | name                |\r\n----------------------------\r\n1    | Slumdog Millionaire |\r\n2    | Avatar              |\r\n3    | Star Trek           |\r\n```\r\n\r\n```\r\nRating:\r\n\r\nuser_id   | movie_id  | rate |\r\n------------------------------\r\n1         | 1         |   6  |\r\n2         | 3         |   8  |\r\n3         | 2         |   9  |\r\n```\r\n\r\nA user can only rate the same movie once. I think I should make `user_id` - `movie_id` pairs in the `rating` table Primary Key. \r\n\r\nAnd use one-to many relationships between `user` - `rating` and `movie` - `rating` entities. Is that true?\r\n\r\nI have not enough experience for Hibernate and the examples are generally shows default one-to many relationships. But I think I need a composite key relationship. So, is there an example for this scenario? I searched many of them but I need to find the correct approach and follow it. Thanks in advance.\r\n\r\n\r\n**Update:** By using `@Embeddedable` I updated related entities as shown below:\r\n\r\n***User:***\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String username;\r\n\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\r\n\r\n    public void addRating(Rating rating) {\r\n        ratings.add(rating);\r\n    }\r\n\r\n    public void removeRating(Rating rating) {\r\n        ratings.remove(rating);\r\n    }\r\n\r\n    // Getters, setters, constructors and equals methods\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***Movie:***\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;movie&quot;)\r\npublic class Movie {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    private String title;\r\n    \r\n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\r\n    \r\n    public void addRating(Rating rating) {\r\n        ratings.add(rating);\r\n    }\r\n\r\n    public void removeRating(Rating rating) {\r\n        ratings.remove(rating);\r\n    }\r\n    \r\n    // ...\r\n}\r\n```\r\n\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;rating&quot;)\r\npublic class Rating {\r\n\r\n    @EmbeddedId\r\n    private RatingId ratingId;\r\n    \r\n    private int rate;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private User user;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    private Movie movie;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***RatingId:***\r\n\r\n```\r\n@Embeddable\r\npublic class RatingId implements Serializable {\r\n\r\n    private Long userId;\r\n\r\n    private Long movieId;\r\n    \r\n    // ...\r\n}\r\n```","title":"Hibernate @OneToMany relation with composite keys in Spring Boot","body":"<p>I am trying to build a structure as shown below:</p>\n<pre><code>User:\n\nid   | username  |\n------------------\n1    | Mary      |\n2    | George    |\n3    | Candy     |\n</code></pre>\n<pre><code>Movie:\n\nid   | name                |\n----------------------------\n1    | Slumdog Millionaire |\n2    | Avatar              |\n3    | Star Trek           |\n</code></pre>\n<pre><code>Rating:\n\nuser_id   | movie_id  | rate |\n------------------------------\n1         | 1         |   6  |\n2         | 3         |   8  |\n3         | 2         |   9  |\n</code></pre>\n<p>A user can only rate the same movie once. I think I should make <code>user_id</code> - <code>movie_id</code> pairs in the <code>rating</code> table Primary Key.</p>\n<p>And use one-to many relationships between <code>user</code> - <code>rating</code> and <code>movie</code> - <code>rating</code> entities. Is that true?</p>\n<p>I have not enough experience for Hibernate and the examples are generally shows default one-to many relationships. But I think I need a composite key relationship. So, is there an example for this scenario? I searched many of them but I need to find the correct approach and follow it. Thanks in advance.</p>\n<p><strong>Update:</strong> By using <code>@Embeddedable</code> I updated related entities as shown below:</p>\n<p><em><strong>User:</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String username;\n\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\n\n    public void addRating(Rating rating) {\n        ratings.add(rating);\n    }\n\n    public void removeRating(Rating rating) {\n        ratings.remove(rating);\n    }\n\n    // Getters, setters, constructors and equals methods\n}\n</code></pre>\n<br/>\n<p><em><strong>Movie:</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;movie&quot;)\npublic class Movie {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String title;\n    \n    @OneToMany(mappedBy = &quot;movie&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Rating&gt; ratings = new HashSet&lt;&gt;();\n    \n    public void addRating(Rating rating) {\n        ratings.add(rating);\n    }\n\n    public void removeRating(Rating rating) {\n        ratings.remove(rating);\n    }\n    \n    // ...\n}\n</code></pre>\n<br/>\n<pre><code>@Entity\n@Table(name = &quot;rating&quot;)\npublic class Rating {\n\n    @EmbeddedId\n    private RatingId ratingId;\n    \n    private int rate;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Movie movie;\n}\n</code></pre>\n<br/>\n<p><em><strong>RatingId:</strong></em></p>\n<pre><code>@Embeddable\npublic class RatingId implements Serializable {\n\n    private Long userId;\n\n    private Long movieId;\n    \n    // ...\n}\n</code></pre>\n"},{"tags":["java","spring","transactions","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667825429,"creation_date":1667803029,"answer_id":74342782,"question_id":74290583,"body_markdown":"I have investigated it. \r\nAs `@Transactional` is an inhereted annotation then if we mark a base class by `@Transactional` then all its subclasses will be also `@Transactional` automatically.\r\n\r\n    @Target({ElementType.TYPE, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    public @interface Transactional {\r\n    ...\r\n    }\r\n\r\nThe inhereted annotation [documentation][1]:\r\n\r\n&gt; Indicates that an annotation type is automatically inherited. If an\r\n&gt; Inherited meta-annotation is present on an annotation type\r\n&gt; declaration, and the user queries the annotation type on a class\r\n&gt; declaration, and the class declaration has no annotation for this\r\n&gt; type, then the class&#39;s superclass will automatically be queried for\r\n&gt; the annotation type. This process will be repeated until an annotation\r\n&gt; for this type is found, or the top of the class hierarchy (Object) is\r\n&gt; reached. If no superclass has an annotation for this type, then the\r\n&gt; query will indicate that the class in question has no such annotation.\r\n&gt; Note that this meta-annotation type has no effect if the annotated\r\n&gt; type is used to annotate anything other than a class. \r\n&gt;\r\n&gt; Note also that\r\n&gt; this meta-annotation only causes annotations to be inherited from\r\n&gt; superclasses; annotations on implemented interfaces have no effect.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html","title":"Spring @Transactional with base and subclasses","body":"<p>I have investigated it.\nAs <code>@Transactional</code> is an inhereted annotation then if we mark a base class by <code>@Transactional</code> then all its subclasses will be also <code>@Transactional</code> automatically.</p>\n<pre><code>@Target({ElementType.TYPE, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface Transactional {\n...\n}\n</code></pre>\n<p>The inhereted annotation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/annotation/Inherited.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Indicates that an annotation type is automatically inherited. If an\nInherited meta-annotation is present on an annotation type\ndeclaration, and the user queries the annotation type on a class\ndeclaration, and the class declaration has no annotation for this\ntype, then the class's superclass will automatically be queried for\nthe annotation type. This process will be repeated until an annotation\nfor this type is found, or the top of the class hierarchy (Object) is\nreached. If no superclass has an annotation for this type, then the\nquery will indicate that the class in question has no such annotation.\nNote that this meta-annotation type has no effect if the annotated\ntype is used to annotate anything other than a class.</p>\n<p>Note also that\nthis meta-annotation only causes annotations to be inherited from\nsuperclasses; annotations on implemented interfaces have no effect.</p>\n</blockquote>\n"}],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74342782,"answer_count":1,"score":1,"last_activity_date":1667825429,"creation_date":1667398327,"question_id":74290583,"body_markdown":"I am confused about `@Transactional` annotation with base and subclasses. I have the following code with several generic subclasses derived from the base class `CustomRepository&lt;T&gt;` which implements `ICustomRepository&lt;T&gt;`. I want all the methods of the interface `ICustomRepository&lt;T&gt;` be transactional. \r\n\r\n    // class ActivityCustomRepository.java\r\n    @Repository\r\n    public class ActivityCustomRepository extends CustomRepository&lt;Activity&gt; {\r\n    private static final String TABLE_NAME = &quot;activity&quot;;\r\n    public ActivityCustomRepositoryImpl(ActivityRowMapperImpl rowMapper, JdbcTemplate jdbcTemplate) {\r\n        super(TABLE_NAME, rowMapper, jdbcTemplate);\r\n    }\r\n\r\n    // class PersonCustomRepository.java\r\n    @Repository\r\n    public class PersonCustomRepository extends CustomRepository&lt;Person&gt; {\r\n    private static final String TABLE_NAME = &quot;person&quot;;\r\n    public PersonCustomRepository(PersonRowMapperImpl rowMapper, JdbcTemplate jdbcTemplate) {\r\n        super(TABLE_NAME, rowMapper, jdbcTemplate);\r\n    }   \r\n\r\n    // CustomRepository.java\r\n    @Transactional\r\n    public class CustomRepository&lt;T&gt; implements ICustomRepository&lt;T&gt; {\r\n        private final String tableName;\r\n        private final RowMapper&lt;T&gt; rowMapper;\r\n        private final JdbcTemplate jdbcTemplate;\r\n        @Override\r\n        public List&lt;T&gt; findAll() {\r\n            return jdbcTemplate.batchUpdate(&quot;... &quot;, rowMapper);\r\n        }\r\n    }\r\n\r\n    // ICustomRepository.java\r\n    public interface ICustomRepository&lt;T&gt; {\r\n         List&lt;T&gt; findAll();\r\n    }\r\n\r\nIs it enough to put `@Transactional` just in the base class so that the call `findAll()` from sublasses also become transactional. Or it is better to place `@Transactional` on subclasses and not put it on base class?\r\n","title":"Spring @Transactional with base and subclasses","body":"<p>I am confused about <code>@Transactional</code> annotation with base and subclasses. I have the following code with several generic subclasses derived from the base class <code>CustomRepository&lt;T&gt;</code> which implements <code>ICustomRepository&lt;T&gt;</code>. I want all the methods of the interface <code>ICustomRepository&lt;T&gt;</code> be transactional.</p>\n<pre><code>// class ActivityCustomRepository.java\n@Repository\npublic class ActivityCustomRepository extends CustomRepository&lt;Activity&gt; {\nprivate static final String TABLE_NAME = &quot;activity&quot;;\npublic ActivityCustomRepositoryImpl(ActivityRowMapperImpl rowMapper, JdbcTemplate jdbcTemplate) {\n    super(TABLE_NAME, rowMapper, jdbcTemplate);\n}\n\n// class PersonCustomRepository.java\n@Repository\npublic class PersonCustomRepository extends CustomRepository&lt;Person&gt; {\nprivate static final String TABLE_NAME = &quot;person&quot;;\npublic PersonCustomRepository(PersonRowMapperImpl rowMapper, JdbcTemplate jdbcTemplate) {\n    super(TABLE_NAME, rowMapper, jdbcTemplate);\n}   \n\n// CustomRepository.java\n@Transactional\npublic class CustomRepository&lt;T&gt; implements ICustomRepository&lt;T&gt; {\n    private final String tableName;\n    private final RowMapper&lt;T&gt; rowMapper;\n    private final JdbcTemplate jdbcTemplate;\n    @Override\n    public List&lt;T&gt; findAll() {\n        return jdbcTemplate.batchUpdate(&quot;... &quot;, rowMapper);\n    }\n}\n\n// ICustomRepository.java\npublic interface ICustomRepository&lt;T&gt; {\n     List&lt;T&gt; findAll();\n}\n</code></pre>\n<p>Is it enough to put <code>@Transactional</code> just in the base class so that the call <code>findAll()</code> from sublasses also become transactional. Or it is better to place <code>@Transactional</code> on subclasses and not put it on base class?</p>\n"},{"tags":["java","spring","mybatis","spring-mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1667844294,"post_id":74346885,"comment_id":131259891,"body_markdown":"Apparently, Spring is trying to create the `ProductMapper` bean in the standard way probably because there is some misconfiguration. The executable [demo project](https://github.com/dldiehl77/mybatis-issues/tree/master/so-62409666) created by another user shows you the entire setup. The `@MockBean` test will pass if you changed the version of &#39;mybatis-spring-boot-starter&#39; from 2.1.3 to 2.1.4. `@TestConfiguration` + `@Autowired` should also work if you prefer that way. If you still need help, please share a similar executable project on your GitHub repo.","body":"Apparently, Spring is trying to create the <code>ProductMapper</code> bean in the standard way probably because there is some misconfiguration. The executable <a href=\"https://github.com/dldiehl77/mybatis-issues/tree/master/so-62409666\" rel=\"nofollow noreferrer\">demo project</a> created by another user shows you the entire setup. The <code>@MockBean</code> test will pass if you changed the version of &#39;mybatis-spring-boot-starter&#39; from 2.1.3 to 2.1.4. <code>@TestConfiguration</code> + <code>@Autowired</code> should also work if you prefer that way. If you still need help, please share a similar executable project on your GitHub repo."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1668851446,"post_id":74346885,"comment_id":131509777,"body_markdown":"If you are using Spring Boot 3, try mybatis-spring-boot-starter-2.3.0-SNAPSHOT.","body":"If you are using Spring Boot 3, try mybatis-spring-boot-starter-2.3.0-SNAPSHOT."}],"owner":{"account_id":1315495,"reputation":17293,"user_id":1262477,"accept_rate":74,"display_name":"Patan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667825385,"creation_date":1667825385,"question_id":74346885,"body_markdown":"I am trying to mock my batis mapper. \r\n\r\n    @SpringBootTest(classes = ApiApplication.class, webEnvironment = WebEnvironment.DEFINED_PORT)\r\n    @AutoConfigureMockMvc\r\n    @TestPropertySource(&quot;classpath:test-application.properties&quot;)\r\n    public class SpringGlue {\r\n    \r\n      @TestConfiguration\r\n      public static class TestConfig {\r\n    \r\n    \r\n        @Bean\r\n        @Primary\r\n        ProductMapper productMapper(){\r\n    \r\n          ProductMapper productMapper = mock(ProductMapper.class);\r\n    \r\n          doAnswer(i -&gt; {\r\n            String id = i.getArgument(0);\r\n            return Product.builder().id(id).name(id + &quot;hello&quot;).build();\r\n          }).when(productMapper).getProductById(any());\r\n    \r\n    \r\n    \r\n          return productMapper;\r\n        }\r\n    \r\n       \r\n    \r\n      }\r\n    }\r\n\r\n\r\nBut this is not getting mocked\r\n\r\n    nsatisfied dependency expressed through field &#39;productMapper&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productMapper&#39;\r\n    \r\n    Caused by: java.lang.IllegalArgumentException: Property &#39;sqlSessionFactory&#39; or &#39;sqlSessionTemplate&#39; are required\r\n    \tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n    \tat org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\r\n    \tat org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\r\n    \tat org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)","title":"Mocking Mybatis Mapper Not working in Spring boot integration tests","body":"<p>I am trying to mock my batis mapper.</p>\n<pre><code>@SpringBootTest(classes = ApiApplication.class, webEnvironment = WebEnvironment.DEFINED_PORT)\n@AutoConfigureMockMvc\n@TestPropertySource(&quot;classpath:test-application.properties&quot;)\npublic class SpringGlue {\n\n  @TestConfiguration\n  public static class TestConfig {\n\n\n    @Bean\n    @Primary\n    ProductMapper productMapper(){\n\n      ProductMapper productMapper = mock(ProductMapper.class);\n\n      doAnswer(i -&gt; {\n        String id = i.getArgument(0);\n        return Product.builder().id(id).name(id + &quot;hello&quot;).build();\n      }).when(productMapper).getProductById(any());\n\n\n\n      return productMapper;\n    }\n\n   \n\n  }\n}\n</code></pre>\n<p>But this is not getting mocked</p>\n<pre><code>nsatisfied dependency expressed through field 'productMapper'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productMapper'\n\nCaused by: java.lang.IllegalArgumentException: Property 'sqlSessionFactory' or 'sqlSessionTemplate' are required\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.mybatis.spring.support.SqlSessionDaoSupport.checkDaoConfig(SqlSessionDaoSupport.java:122)\n    at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:73)\n    at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n</code></pre>\n"},{"tags":["java","regex","string","loops"],"answers":[{"comments":[{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667395623,"post_id":74289913,"comment_id":131156533,"body_markdown":"thanks, I still get false for both cases, is it something that has to do with my code?","body":"thanks, I still get false for both cases, is it something that has to do with my code?"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1667395990,"post_id":74289913,"comment_id":131156684,"body_markdown":"@PlusUltra I suggest trimming the line first, then check. Note that in `matches`, the first anchor is redundant since the whole string must match the regex.","body":"@PlusUltra I suggest trimming the line first, then check. Note that in <code>matches</code>, the first anchor is redundant since the whole string must match the regex."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1667396358,"post_id":74289913,"comment_id":131156848,"body_markdown":"Same behavior can be archieved without any lookbehind to be more readable:\n`^[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]$`","body":"Same behavior can be archieved without any lookbehind to be more readable: <code>^[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]$</code>"},{"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"score":0,"creation_date":1667397075,"post_id":74289913,"comment_id":131157169,"body_markdown":"thanks but still not working, it switched from false to true","body":"thanks but still not working, it switched from false to true"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1667398381,"post_id":74289913,"comment_id":131157709,"body_markdown":"If you literally input `&quot;u__hello_world123&quot;` in the console it results in false because of the quotation marks. They are not necessary since the input on the console is always interpreted as a string. When omitting them works perfectly fine for me. If that&#39;s not the case for you, you need to post more of your code.","body":"If you literally input <code>&quot;u__hello_world123&quot;</code> in the console it results in false because of the quotation marks. They are not necessary since the input on the console is always interpreted as a string. When omitting them works perfectly fine for me. If that&#39;s not the case for you, you need to post more of your code."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1667398945,"post_id":74289913,"comment_id":131157945,"body_markdown":"@PlusUltra I added testing demo code to the answer, please check. Note that trimming helps get rid of any trailing line breaks you may get when scanning for lines. It should work.","body":"@PlusUltra I added testing demo code to the answer, please check. Note that trimming helps get rid of any trailing line breaks you may get when scanning for lines. It should work."}],"tags":[],"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"comment_count":6,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1667397083,"creation_date":1667395433,"answer_id":74289913,"question_id":74289881,"body_markdown":"You can use\r\n```none\r\n^[a-zA-Z][a-zA-Z0-9_]{3,24}$(?&lt;!_)\r\n^[a-zA-Z]\\w{3,24}$(?&lt;!_)\r\n^[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]$\r\n^\\p{Alpha}[a-zA-Z0-9_]{2,23}\\p{Alnum}$\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `^` - start of string\r\n - `[a-zA-Z]` - an ASCII letter\r\n - `[a-zA-Z0-9_]{3,24}` / `\\w{3,24}` - three to twenty four ASCII letters, digits or underscores\r\n - `$` - end of string\r\n - `(?&lt;!_)` - a negative lookbehind that makes sure there is no `_` (at the end of string).\r\n\r\nNote that `{3,24}` is used and not `{4,25}` because the first `[a-zA-Z]` pattern already matches a single char.\r\n\r\nUsage:\r\n```java\r\npublic static String username(String str) {\r\n    return Boolean.toString( str.trim().matches(&quot;[a-zA-Z]\\\\w{3,24}$(?&lt;!_)&quot;) );\r\n    // return Boolean.toString( str.trim().matches(&quot;\\\\p{Alpha}[a-zA-Z0-9_]{2,23}\\\\p{Alnum}&quot;) );\r\n    // return Boolean.toString( str.trim().matches(&quot;[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]&quot;) );\r\n}\r\n```\r\nSee [Java demo][2]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Ideone\r\n{\r\n\tpublic static String username(String str) {\r\n\t    return Boolean.toString( str.trim().matches(&quot;[a-zA-Z]\\\\w{3,24}$(?&lt;!_)&quot;) );\r\n\t}\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tSystem.out.println(username(&quot;u__hello_world123&quot;)); // =&gt; true\r\n\t\tSystem.out.println(username(&quot;aa_&quot;)); // =&gt; false\r\n\t}\r\n}\r\n````\r\n\r\n\r\n  [1]: https://regex101.com/r/g7jOeV/1\r\n  [2]: https://ideone.com/FcGISJ","title":"Regex for letters and numbers with any underscores in between","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^[a-zA-Z][a-zA-Z0-9_]{3,24}$(?&lt;!_)\n^[a-zA-Z]\\w{3,24}$(?&lt;!_)\n^[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]$\n^\\p{Alpha}[a-zA-Z0-9_]{2,23}\\p{Alnum}$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/g7jOeV/1\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>[a-zA-Z]</code> - an ASCII letter</li>\n<li><code>[a-zA-Z0-9_]{3,24}</code> / <code>\\w{3,24}</code> - three to twenty four ASCII letters, digits or underscores</li>\n<li><code>$</code> - end of string</li>\n<li><code>(?&lt;!_)</code> - a negative lookbehind that makes sure there is no <code>_</code> (at the end of string).</li>\n</ul>\n<p>Note that <code>{3,24}</code> is used and not <code>{4,25}</code> because the first <code>[a-zA-Z]</code> pattern already matches a single char.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String username(String str) {\n    return Boolean.toString( str.trim().matches(&quot;[a-zA-Z]\\\\w{3,24}$(?&lt;!_)&quot;) );\n    // return Boolean.toString( str.trim().matches(&quot;\\\\p{Alpha}[a-zA-Z0-9_]{2,23}\\\\p{Alnum}&quot;) );\n    // return Boolean.toString( str.trim().matches(&quot;[a-zA-Z][a-zA-Z0-9_]{2,23}[a-zA-Z0-9]&quot;) );\n}\n</code></pre>\n<p>See <a href=\"https://ideone.com/FcGISJ\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Ideone\n{\n    public static String username(String str) {\n        return Boolean.toString( str.trim().matches(&quot;[a-zA-Z]\\\\w{3,24}$(?&lt;!_)&quot;) );\n    }\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        System.out.println(username(&quot;u__hello_world123&quot;)); // =&gt; true\n        System.out.println(username(&quot;aa_&quot;)); // =&gt; false\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1667402480,"post_id":74290847,"comment_id":131159424,"body_markdown":"Is this not good? Seems ok right.. https://ideone.com/KyCWhZ","body":"Is this not good? Seems ok right.. <a href=\"https://ideone.com/KyCWhZ\" rel=\"nofollow noreferrer\">ideone.com/KyCWhZ</a>"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1667403329,"post_id":74290847,"comment_id":131159744,"body_markdown":"@Thefourthbird Thank you, I included your demo, hope that&#39;s ok!","body":"@Thefourthbird Thank you, I included your demo, hope that&#39;s ok!"},{"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1667403356,"post_id":74290847,"comment_id":131159752,"body_markdown":"But of course it is","body":"But of course it is"}],"tags":[],"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1667477791,"creation_date":1667399259,"answer_id":74290847,"question_id":74289881,"body_markdown":"Sounds like [`\\p{L}`][1] any letter at the start, `\\w` [word characters][2] between and `\\p{Alnum}` in the end.\r\n\r\n    (?U)^\\p{L}\\w{2,23}\\p{Alnum}$\r\n\r\nAs a Java String:\r\n\r\n    final String regex = &quot;(?U)^\\\\p{L}\\\\w{2,23}\\\\p{Alnum}$&quot;;\r\n\r\n[See this demo at regex101][3] - Thank you @Thefourthbird for providing [a Java demo at ideone.com][4]\r\n\r\n---\r\n\r\nThe [`(?U)` modifier][5] will turn on [unicode support][6] for predefined character classes, e.g. for `\\w`. Instead of the embedded flag also `Pattern.UNICODE_CHARACTER_CLASS` can be used to enable.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://www.regular-expressions.info/shorthand.html\r\n  [3]: https://regex101.com/r/J4YgLH/2\r\n  [4]: https://ideone.com/dkizXF\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\r\n  [6]: https://stackoverflow.com/a/10894689/5527985","title":"Regex for letters and numbers with any underscores in between","body":"<p>Sounds like <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>\\p{L}</code></a> any letter at the start, <code>\\w</code> <a href=\"https://www.regular-expressions.info/shorthand.html\" rel=\"nofollow noreferrer\">word characters</a> between and <code>\\p{Alnum}</code> in the end.</p>\n<pre><code>(?U)^\\p{L}\\w{2,23}\\p{Alnum}$\n</code></pre>\n<p>As a Java String:</p>\n<pre><code>final String regex = &quot;(?U)^\\\\p{L}\\\\w{2,23}\\\\p{Alnum}$&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/J4YgLH/2\" rel=\"nofollow noreferrer\">See this demo at regex101</a> - Thank you @Thefourthbird for providing <a href=\"https://ideone.com/dkizXF\" rel=\"nofollow noreferrer\">a Java demo at ideone.com</a></p>\n<hr />\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#UNICODE_CHARACTER_CLASS\" rel=\"nofollow noreferrer\"><code>(?U)</code> modifier</a> will turn on <a href=\"https://stackoverflow.com/a/10894689/5527985\">unicode support</a> for predefined character classes, e.g. for <code>\\w</code>. Instead of the embedded flag also <code>Pattern.UNICODE_CHARACTER_CLASS</code> can be used to enable.</p>\n"}],"owner":{"account_id":23166977,"reputation":61,"user_id":17266758,"display_name":"Plus Ultra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74289913,"answer_count":2,"score":1,"last_activity_date":1667825203,"creation_date":1667395277,"question_id":74289881,"body_markdown":"I&#39;m trying to create a Regex String with the following rules \r\n\r\n 1. The username is between 4 and 25 characters.\r\n 2. It must start with a letter.\r\n 3. It can only contain letters, numbers, and the underscore character.\r\n 4. It cannot end with an underscore character.\r\n \r\nwhen it meets this criterion I want the output to be true otherwise false, but I only get false for my test cases, here is my code\r\n\r\n```\r\npublic class Profile {\r\n    public static String username(String str) {\r\n\r\n\r\n        String regularExpression = &quot;^[a-zA-Z][a-zA-Z0-9_](?&lt;=@)\\\\w+\\\\b(?!\\\\_){4,25}$&quot;;\r\n\r\n        if (str.matches(regularExpression)) {\r\n            str = &quot;true&quot;;\r\n        }\r\n        else if (!str.matches(regularExpression)) {\r\n            str = &quot;false&quot;;\r\n\r\n        }\r\n        return str;\r\n    }\r\n\r\n```\r\nMain class\r\n```\r\nProfile profile = new profile();\r\n\r\nScanner s = new Scanner(System.in);\r\n        System.out.print(profile.username(s.nextLine()));\r\n```\r\ninput\r\n```\r\n&quot;aa_&quot;\r\n&quot;u__hello_world123&quot;\r\n```\r\noutput\r\n```\r\nfalse\r\nfalse\r\n```\r\nFixed: thanks to everyone who contributed","title":"Regex for letters and numbers with any underscores in between","body":"<p>I'm trying to create a Regex String with the following rules</p>\n<ol>\n<li>The username is between 4 and 25 characters.</li>\n<li>It must start with a letter.</li>\n<li>It can only contain letters, numbers, and the underscore character.</li>\n<li>It cannot end with an underscore character.</li>\n</ol>\n<p>when it meets this criterion I want the output to be true otherwise false, but I only get false for my test cases, here is my code</p>\n<pre><code>public class Profile {\n    public static String username(String str) {\n\n\n        String regularExpression = &quot;^[a-zA-Z][a-zA-Z0-9_](?&lt;=@)\\\\w+\\\\b(?!\\\\_){4,25}$&quot;;\n\n        if (str.matches(regularExpression)) {\n            str = &quot;true&quot;;\n        }\n        else if (!str.matches(regularExpression)) {\n            str = &quot;false&quot;;\n\n        }\n        return str;\n    }\n\n</code></pre>\n<p>Main class</p>\n<pre><code>Profile profile = new profile();\n\nScanner s = new Scanner(System.in);\n        System.out.print(profile.username(s.nextLine()));\n</code></pre>\n<p>input</p>\n<pre><code>&quot;aa_&quot;\n&quot;u__hello_world123&quot;\n</code></pre>\n<p>output</p>\n<pre><code>false\nfalse\n</code></pre>\n<p>Fixed: thanks to everyone who contributed</p>\n"},{"tags":["java","user-interface","websphere"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667825273,"post_id":74346838,"comment_id":131252627,"body_markdown":"is your WebSphere box a server with no gui?","body":"is your WebSphere box a server with no gui?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667825381,"post_id":74346838,"comment_id":131252665,"body_markdown":"The Linux installation WebSphere runs on, is probably not using a graphical user interface and therefore running a &quot;headless&quot; JVM. See https://www.oracle.com/technical-resources/articles/javase/headless.html","body":"The Linux installation WebSphere runs on, is probably not using a graphical user interface and therefore running a &quot;headless&quot; JVM. See <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\">oracle.com/technical-resources/articles/javase/headless.html</a>"},{"owner":{"account_id":16938932,"reputation":1,"user_id":12251270,"display_name":"MIX 21"},"score":0,"creation_date":1667825499,"post_id":74346838,"comment_id":131252711,"body_markdown":"I access websphere   through 192.168.xx.xx so it should have gui","body":"I access websphere   through 192.168.xx.xx so it should have gui"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1667825745,"post_id":74346838,"comment_id":131252808,"body_markdown":"The fact that it&#39;s got a LAN ip address is not relevant","body":"The fact that it&#39;s got a LAN ip address is not relevant"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1667826038,"post_id":74346838,"comment_id":131252927,"body_markdown":"So why on earth would you want to display PDFs on the servers display, if you are not even sure it has X11 and all the stuff installed (where you usually dont want that on a server...)?","body":"So why on earth would you want to display PDFs on the servers display, if you are not even sure it has X11 and all the stuff installed (where you usually dont want that on a server...)?"},{"owner":{"account_id":16938932,"reputation":1,"user_id":12251270,"display_name":"MIX 21"},"score":0,"creation_date":1667826070,"post_id":74346838,"comment_id":131252941,"body_markdown":"How to install non headless JVM","body":"How to install non headless JVM"},{"owner":{"account_id":16938932,"reputation":1,"user_id":12251270,"display_name":"MIX 21"},"score":0,"creation_date":1667826169,"post_id":74346838,"comment_id":131252977,"body_markdown":"When the user click on the document I need to allow to view the pdf instead of downloading it I am using jsf framework","body":"When the user click on the document I need to allow to view the pdf instead of downloading it I am using jsf framework"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667826169,"post_id":74346838,"comment_id":131252978,"body_markdown":"You need to avoid asking XY questions and instead [state your goal](https://technojeeves.com/index.php/aliasjava1/15-smart-questions)","body":"You need to avoid asking XY questions and instead <a href=\"https://technojeeves.com/index.php/aliasjava1/15-smart-questions\" rel=\"nofollow noreferrer\">state your goal</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667826230,"post_id":74346838,"comment_id":131253004,"body_markdown":"Then you need to convert it &#39;to html&#39;","body":"Then you need to convert it &#39;to html&#39;"},{"owner":{"account_id":16938932,"reputation":1,"user_id":12251270,"display_name":"MIX 21"},"score":0,"creation_date":1667826336,"post_id":74346838,"comment_id":131253042,"body_markdown":"How to convert it where the pdf is located on the server and i need to retrieve it first then after click show it","body":"How to convert it where the pdf is located on the server and i need to retrieve it first then after click show it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667826522,"post_id":74346838,"comment_id":131253125,"body_markdown":"It might be easier to get the browser to display it [inline](https://stackoverflow.com/questions/32476706/how-to-display-pdf-file-in-browser)","body":"It might be easier to get the browser to display it <a href=\"https://stackoverflow.com/questions/32476706/how-to-display-pdf-file-in-browser\">inline</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1667826615,"post_id":74346838,"comment_id":131253162,"body_markdown":"Easier ... and you will probably get a more accurate rendering of the original PDF.","body":"Easier ... and you will probably get a more accurate rendering of the original PDF."}],"owner":{"account_id":16938932,"reputation":1,"user_id":12251270,"display_name":"MIX 21"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667825157,"creation_date":1667825157,"question_id":74346838,"body_markdown":"I am trying to view PDF using but I am getting the following error:\r\n java.awt.HeadlessException\r\n \r\n\r\n\r\n\r\n\r\nWhen I try It on local it works and the code is the following :\r\n\r\n```\r\n\r\n\t\t\t \r\n\t\t\r\n\t\t\t  String filePath = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\name.pdf&quot;;\r\n\r\n\t\t\t\t// build a controller\r\n\t\t\t\tSwingController controller = new SwingController();\r\n\r\n\t\t\t\t// Build a SwingViewFactory configured with the controller\r\n\t\t\t\tSwingViewBuilder factory = new SwingViewBuilder(controller);\r\n\r\n\t\t\t\t// Use the factory to build a JPanel that is pre-configured\r\n\t\t\t\t//with a complete, active Viewer UI.\r\n\t\t\t\tJPanel viewerComponentPanel = factory.buildViewerPanel();\r\n\r\n\t\t\t\t// add copy keyboard command\r\n\t\t\t\tComponentKeyBinding.install(controller, viewerComponentPanel);\r\n\r\n\t\t\t\t// add interactive mouse link annotation support via callback\r\n\t\t\t\tcontroller.getDocumentViewController().setAnnotationCallback(\r\n\t\t\t\t      new org.icepdf.ri.common.MyAnnotationCallback(\r\n\t\t\t\t             controller.getDocumentViewController()));\r\n\r\n\t\t\t\t// Create a JFrame to display the panel in\r\n\t\t\t\tJFrame window = new JFrame(&quot;Using the Viewer Component&quot;);\r\n\t\t\t\twindow.getContentPane().add(viewerComponentPanel);\r\n\t\t\t\twindow.pack();\r\n\t\t\t\twindow.setVisible(true);\r\n\r\n\t\t\t\t// Open a PDF document to view\r\n\t\t\t\tcontroller.openDocument(filePath);\r\n\t\t    \r\n```\r\nbut when i compile and install the war file on web sphere i get the above error .\r\nNote that WebSphere is installed on linux VM\r\n\r\n","title":"Unable to use view PDF in java","body":"<p>I am trying to view PDF using but I am getting the following error:\njava.awt.HeadlessException</p>\n<p>When I try It on local it works and the code is the following :</p>\n<pre><code>\n             \n        \n              String filePath = &quot;C:\\\\Users\\\\user\\\\Desktop\\\\name.pdf&quot;;\n\n                // build a controller\n                SwingController controller = new SwingController();\n\n                // Build a SwingViewFactory configured with the controller\n                SwingViewBuilder factory = new SwingViewBuilder(controller);\n\n                // Use the factory to build a JPanel that is pre-configured\n                //with a complete, active Viewer UI.\n                JPanel viewerComponentPanel = factory.buildViewerPanel();\n\n                // add copy keyboard command\n                ComponentKeyBinding.install(controller, viewerComponentPanel);\n\n                // add interactive mouse link annotation support via callback\n                controller.getDocumentViewController().setAnnotationCallback(\n                      new org.icepdf.ri.common.MyAnnotationCallback(\n                             controller.getDocumentViewController()));\n\n                // Create a JFrame to display the panel in\n                JFrame window = new JFrame(&quot;Using the Viewer Component&quot;);\n                window.getContentPane().add(viewerComponentPanel);\n                window.pack();\n                window.setVisible(true);\n\n                // Open a PDF document to view\n                controller.openDocument(filePath);\n            \n</code></pre>\n<p>but when i compile and install the war file on web sphere i get the above error .\nNote that WebSphere is installed on linux VM</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":1,"creation_date":1646643138,"post_id":71378457,"comment_id":126165408,"body_markdown":"What does &quot;Fails&quot; mean in this context? Does it fail to compile? Does it give an exception? If so what is the exception/error message?","body":"What does &quot;Fails&quot; mean in this context? Does it fail to compile? Does it give an exception? If so what is the exception/error message?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1646643187,"post_id":71378457,"comment_id":126165423,"body_markdown":"I mean it fails to compile, I do not seem to get how to pass boolean values to the variable","body":"I mean it fails to compile, I do not seem to get how to pass boolean values to the variable"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1646643251,"post_id":71378457,"comment_id":126165438,"body_markdown":"Shouldn&#39;t you be passing the primitives `true`/`false` ? What are those variables `FALSE` and `TRUE` ?","body":"Shouldn&#39;t you be passing the primitives <code>true</code>/<code>false</code> ? What are those variables <code>FALSE</code> and <code>TRUE</code> ?"},{"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"score":0,"creation_date":1646643452,"post_id":71378457,"comment_id":126165490,"body_markdown":"Please see update","body":"Please see update"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1646643791,"post_id":71378457,"comment_id":126165609,"body_markdown":"The [documentation](http://www.singularsys.com/jep/doc/html/types.html) doesn&#39;t mention the boolean type, so it&#39;s probably not supported.","body":"The <a href=\"http://www.singularsys.com/jep/doc/html/types.html\" rel=\"nofollow noreferrer\">documentation</a> doesn&#39;t mention the boolean type, so it&#39;s probably not supported."}],"answers":[{"tags":[],"owner":{"account_id":26095900,"reputation":1,"user_id":19792037,"display_name":"justus64234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667824760,"creation_date":1667824679,"answer_id":74346732,"question_id":71378457,"body_markdown":"The comments are wrong, JEP Java supports boolean: http://www.singularsys.com/jep/doc/html/operators.html\r\n\r\nI&#39;m confused where did you found the functions addVariableAsObject, getValueAsObject? In the documentation they doesn&#39;t exist.\r\n\r\nThis works fine:\r\n\r\n    \tString formula = &quot;(A || B )&quot; ;\r\n\t\tJep jep = new Jep();\r\n\t\ttry {\r\n\t\t\tjep.addVariable(&quot;A&quot;, Boolean.TRUE); \r\n\t\t\tjep.addVariable(&quot;B&quot;, Boolean.TRUE);\r\n\t\t\tjep.parse(formula);\r\n\t\t\tObject result = jep.evaluate();\r\n\t\t\tSystem.out.println(&quot;result = &quot; + result);\r\n\t\t} catch (JepException e) {\r\n\t\t\tSystem.out.println(&quot;An error occurred: &quot; + e.getMessage());\r\n\t\t}\t","title":"Evaluating expressions in Java using JEP","body":"<p>The comments are wrong, JEP Java supports boolean: <a href=\"http://www.singularsys.com/jep/doc/html/operators.html\" rel=\"nofollow noreferrer\">http://www.singularsys.com/jep/doc/html/operators.html</a></p>\n<p>I'm confused where did you found the functions addVariableAsObject, getValueAsObject? In the documentation they doesn't exist.</p>\n<p>This works fine:</p>\n<pre><code>    String formula = &quot;(A || B )&quot; ;\n    Jep jep = new Jep();\n    try {\n        jep.addVariable(&quot;A&quot;, Boolean.TRUE); \n        jep.addVariable(&quot;B&quot;, Boolean.TRUE);\n        jep.parse(formula);\n        Object result = jep.evaluate();\n        System.out.println(&quot;result = &quot; + result);\n    } catch (JepException e) {\n        System.out.println(&quot;An error occurred: &quot; + e.getMessage());\n    }   \n</code></pre>\n"}],"owner":{"account_id":24273531,"reputation":481,"user_id":18221164,"display_name":"RCB"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667824760,"creation_date":1646642918,"question_id":71378457,"body_markdown":"I am using [JEP](http://www.singularsys.com/jep/) (Java expression parser) for a requirement. When there is a expression of the following format and the variables are replaced by numerical values, everything works smooth.\r\n\r\nFor eg: \r\n```\r\nString formula = &quot;(A || B )&quot; ;\r\nJEP jep = new JEP();\r\njep.addVariable(&quot;A&quot;, -1.0);\r\njep.addVariable(&quot;B&quot;, 0.0);\r\njep.parseExpression(formula);\r\nNumber value = jep.getValue();\r\nSystem.out.println(&quot;Value: &quot; +value);\r\n\r\n\r\n-----------------------------\r\n\r\nValue : 0.0\r\n```\r\nBut what when the value of A and B are booleans, eg (TRUE or FALSE) this fails. Could anyone suggest how JEP supports the boolean inputs scenario?\r\n\r\n```\r\nString formula = &quot;(A || B )&quot; ;\r\nJEP jep = new JEP();\r\njep.addVariableAsObject(&quot;A&quot;, Boolean.TRUE); \r\njep.addVariableAsObject(&quot;B&quot;, Boolean.TRUE); \r\n\r\njep.parseExpression(formula);\r\nObject val = jep.getValueAsObject();\r\nSystem.out.println(&quot;Value: &quot; +val); // gives null\r\n```\r\n","title":"Evaluating expressions in Java using JEP","body":"<p>I am using <a href=\"http://www.singularsys.com/jep/\" rel=\"nofollow noreferrer\">JEP</a> (Java expression parser) for a requirement. When there is a expression of the following format and the variables are replaced by numerical values, everything works smooth.</p>\n<p>For eg:</p>\n<pre><code>String formula = &quot;(A || B )&quot; ;\nJEP jep = new JEP();\njep.addVariable(&quot;A&quot;, -1.0);\njep.addVariable(&quot;B&quot;, 0.0);\njep.parseExpression(formula);\nNumber value = jep.getValue();\nSystem.out.println(&quot;Value: &quot; +value);\n\n\n-----------------------------\n\nValue : 0.0\n</code></pre>\n<p>But what when the value of A and B are booleans, eg (TRUE or FALSE) this fails. Could anyone suggest how JEP supports the boolean inputs scenario?</p>\n<pre><code>String formula = &quot;(A || B )&quot; ;\nJEP jep = new JEP();\njep.addVariableAsObject(&quot;A&quot;, Boolean.TRUE); \njep.addVariableAsObject(&quot;B&quot;, Boolean.TRUE); \n\njep.parseExpression(formula);\nObject val = jep.getValueAsObject();\nSystem.out.println(&quot;Value: &quot; +val); // gives null\n</code></pre>\n"},{"tags":["java","spring-jms","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"score":0,"creation_date":1666686428,"post_id":74184090,"comment_id":130990038,"body_markdown":"Hi, \n\nThx for your feedback first.\n\nyou are right on the fact that i don&#39;t really need a cluster for performance reasons.  The thing is i&#39;m deploying in an HA environment with 3 fault domains &#39;containing&#39; one node of the cluster each. \n\nI&#39;m also not the only app using it.\n\nThat being said, i should be able to consume messages directly on the node where it comes even if the topology is able to redistribute the messages between the nodes (Here, it&#39;s a Network of broker topology) in order to avoid network overhead.  \n\nThat said, it may be i&#39;m totally wrong in my approach :D","body":"Hi,   Thx for your feedback first.  you are right on the fact that i don&#39;t really need a cluster for performance reasons.  The thing is i&#39;m deploying in an HA environment with 3 fault domains &#39;containing&#39; one node of the cluster each.   I&#39;m also not the only app using it.  That being said, i should be able to consume messages directly on the node where it comes even if the topology is able to redistribute the messages between the nodes (Here, it&#39;s a Network of broker topology) in order to avoid network overhead.    That said, it may be i&#39;m totally wrong in my approach :D"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666700641,"post_id":74184090,"comment_id":130994845,"body_markdown":"If you&#39;re not using a cluster for performance reasons then why do you need to &quot;consume messages directly on the node where it comes...in order to avoid network overhead&quot;? In order to do this you&#39;d have to manually create and manage a connection to every node in the cluster. There&#39;s nothing in the client that would do this for you. As noted previously, the cluster is designed so that it can redistribute and re-route messages to consumers to avoid starvation specifically so that clients *don&#39;t* have to care about the cluster topology. I don&#39;t think what you&#39;re suggesting is a good approach.","body":"If you&#39;re not using a cluster for performance reasons then why do you need to &quot;consume messages directly on the node where it comes...in order to avoid network overhead&quot;? In order to do this you&#39;d have to manually create and manage a connection to every node in the cluster. There&#39;s nothing in the client that would do this for you. As noted previously, the cluster is designed so that it can redistribute and re-route messages to consumers to avoid starvation specifically so that clients <i>don&#39;t</i> have to care about the cluster topology. I don&#39;t think what you&#39;re suggesting is a good approach."},{"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"score":0,"creation_date":1666706439,"post_id":74184090,"comment_id":130996986,"body_markdown":"The thing is i&#39;m not the only one using this cluster.  The recommandation comes from our infra team saying we should produce/listen on all nodes...i suppose to spread the load of all apps.\nIf some producers, for any reason (failvover...), stick on node B and the consumers listen only on node A, i can imagine it&#39;s not a very healthy situation because messages should constantly be transfered from node B to node A.","body":"The thing is i&#39;m not the only one using this cluster.  The recommandation comes from our infra team saying we should produce/listen on all nodes...i suppose to spread the load of all apps. If some producers, for any reason (failvover...), stick on node B and the consumers listen only on node A, i can imagine it&#39;s not a very healthy situation because messages should constantly be transfered from node B to node A."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666710966,"post_id":74184090,"comment_id":130998809,"body_markdown":"As noted previously, there&#39;s nothing in the client that will automatically create a connection to each cluster node. The broker&#39;s clustering functionality was designed so that this isn&#39;t required. If you want this functionality you&#39;ll have to implement it yourself. The simplest solution probably would be to have an instance of your application to correspond with each node in the cluster. Any solution you implement will, of course, increase complexity on the client in order to deal with a situation the cluster will handle on its own. Again, I don&#39;t think this is a good approach.","body":"As noted previously, there&#39;s nothing in the client that will automatically create a connection to each cluster node. The broker&#39;s clustering functionality was designed so that this isn&#39;t required. If you want this functionality you&#39;ll have to implement it yourself. The simplest solution probably would be to have an instance of your application to correspond with each node in the cluster. Any solution you implement will, of course, increase complexity on the client in order to deal with a situation the cluster will handle on its own. Again, I don&#39;t think this is a good approach."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666711032,"post_id":74184090,"comment_id":130998837,"body_markdown":"Does your infra team understand that the broker&#39;s clustering functionality is designed so that it can redistribute and re-route messages to consumers to avoid starvation specifically so that clients don&#39;t have to care about the cluster topology?","body":"Does your infra team understand that the broker&#39;s clustering functionality is designed so that it can redistribute and re-route messages to consumers to avoid starvation specifically so that clients don&#39;t have to care about the cluster topology?"},{"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"score":0,"creation_date":1666733637,"post_id":74184090,"comment_id":131005635,"body_markdown":"Let me challenge this a bit further :)\n- If i check the Artemis doc, there is a whole chapter about client-side load balancing ==&gt;[Artemis doc](https://activemq.apache.org/components/artemis/documentation/).  It contradicts what you say when you say there is nothing in the client that will handle that.\n- If i disable caching on the container listener, the connections spreads between all nodes but the connections are constantly closed/open and that&#39;s a problem.","body":"Let me challenge this a bit further :) - If i check the Artemis doc, there is a whole chapter about client-side load balancing ==&gt;<a href=\"https://activemq.apache.org/components/artemis/documentation/\" rel=\"nofollow noreferrer\">Artemis doc</a>.  It contradicts what you say when you say there is nothing in the client that will handle that. - If i disable caching on the container listener, the connections spreads between all nodes but the connections are constantly closed/open and that&#39;s a problem."},{"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"score":0,"creation_date":1666734232,"post_id":74184090,"comment_id":131005769,"body_markdown":"- I eventually managed to get a situation with stable connections accoss all nodes using a JmsPoolConnectionFactory and disabling caching on DefaultMessageListenerContainer but i&#39;m definitively not sure it&#39;s the right approach.\n- the parameter useTopologyForLoadBalancing you can set in the connection string speaks by itself. The client is able to do load balancing by receiving the topology at the first connection (useTopologyForLoadBalancing=true) or by using the server list in the initial connection string (useTopologyForLoadBalancing=false). But it should be able to handle load balancing..","body":"- I eventually managed to get a situation with stable connections accoss all nodes using a JmsPoolConnectionFactory and disabling caching on DefaultMessageListenerContainer but i&#39;m definitively not sure it&#39;s the right approach. - the parameter useTopologyForLoadBalancing you can set in the connection string speaks by itself. The client is able to do load balancing by receiving the topology at the first connection (useTopologyForLoadBalancing=true) or by using the server list in the initial connection string (useTopologyForLoadBalancing=false). But it should be able to handle load balancing.."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666756353,"post_id":74184090,"comment_id":131009256,"body_markdown":"I think we&#39;re really talking about 2 different things. You can certainly use client-side connection load-balancing (i.e. CSLB) to spread connections created from the same JMS `ConnectionFactory` across different cluster nodes. I&#39;m well aware of this feature given I implemented the `useTopologyForLoadBalancing` functionality. However, that&#39;s _not_ the kind of client ability I&#39;m talking about, and it&#39;s _not_ the kind of thing that it seems to me that you really want. Using CSLB may provide you with something of a satisfactory &quot;hack,&quot; but it&#39;s not designed for this use-case.","body":"I think we&#39;re really talking about 2 different things. You can certainly use client-side connection load-balancing (i.e. CSLB) to spread connections created from the same JMS <code>ConnectionFactory</code> across different cluster nodes. I&#39;m well aware of this feature given I implemented the <code>useTopologyForLoadBalancing</code> functionality. However, that&#39;s <i>not</i> the kind of client ability I&#39;m talking about, and it&#39;s <i>not</i> the kind of thing that it seems to me that you really want. Using CSLB may provide you with something of a satisfactory &quot;hack,&quot; but it&#39;s not designed for this use-case."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666756448,"post_id":74184090,"comment_id":131009269,"body_markdown":"CSLB was designed with lots of individual clients in mind that would all be connecting to and disconnecting from the cluster throughout their life-cycles. By using CSLB these clients would receive the cluster topology and, by default, would create their next connection to a random node and thereafter would create connections in a round-robin fashion among the rest of the nodes in the topology. Given enough clients and enough connections everything should be relatively balanced across all the nodes. CSLB wasn&#39;t made for a single app to create individual connections to every node in the cluster.","body":"CSLB was designed with lots of individual clients in mind that would all be connecting to and disconnecting from the cluster throughout their life-cycles. By using CSLB these clients would receive the cluster topology and, by default, would create their next connection to a random node and thereafter would create connections in a round-robin fashion among the rest of the nodes in the topology. Given enough clients and enough connections everything should be relatively balanced across all the nodes. CSLB wasn&#39;t made for a single app to create individual connections to every node in the cluster."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666756472,"post_id":74184090,"comment_id":131009274,"body_markdown":"The main trouble is that you have no clear visibility about what node you&#39;re connecting to or how many nodes the cluster even has. With CSLB you don&#39;t even know how many connections to actually create to get a connection to every node in the cluster. Keep in mind that clusters can grow and shrink dynamically. Perhaps that&#39;s not an issue in your case, but it&#39;s a problem in the general case and one that CSLB doesn&#39;t solve.","body":"The main trouble is that you have no clear visibility about what node you&#39;re connecting to or how many nodes the cluster even has. With CSLB you don&#39;t even know how many connections to actually create to get a connection to every node in the cluster. Keep in mind that clusters can grow and shrink dynamically. Perhaps that&#39;s not an issue in your case, but it&#39;s a problem in the general case and one that CSLB doesn&#39;t solve."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666756478,"post_id":74184090,"comment_id":131009275,"body_markdown":"Furthermore, each application will have to create and manage their own connections to each node in the cluster which is significantly more complex than having a single connection or a node-agnostic pool of connections. Again, this is why the cluster is designed to redistribute and re-route messages so that clients don&#39;t have to deal with this complexity.","body":"Furthermore, each application will have to create and manage their own connections to each node in the cluster which is significantly more complex than having a single connection or a node-agnostic pool of connections. Again, this is why the cluster is designed to redistribute and re-route messages so that clients don&#39;t have to deal with this complexity."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666756490,"post_id":74184090,"comment_id":131009276,"body_markdown":"If, for some reason, you decide to just create a connection every time you receive a message as a kind of brute force way to use CSLB to consume all the messages on all the nodes then you can get into a particularly pathological situation where the messages are redistributed among nodes following the consumer as it hops around the cluster resulting in more total redistribution than if the consumer just stayed connected to a single node.","body":"If, for some reason, you decide to just create a connection every time you receive a message as a kind of brute force way to use CSLB to consume all the messages on all the nodes then you can get into a particularly pathological situation where the messages are redistributed among nodes following the consumer as it hops around the cluster resulting in more total redistribution than if the consumer just stayed connected to a single node."},{"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"score":0,"creation_date":1666785823,"post_id":74184090,"comment_id":131017215,"body_markdown":"Lol, if i knew you were an Artemis dev, i wouldn&#39;t have challenged you :D\nQuite interresting anyway. Thx for your explanations that make things more clear!\n\nAnyway, i&#39;ve got a last question.  My app runs in a K8S(Openshift) cluster. So,it&#39;s very easy for me to scale horizontally.  Doing so, i noticed that if i spawn a new instance of my app, the connections of the new app instance will, each time, target the other node of the Artemis cluster (in test env, cluster is made out of 2 nodes).  Is it by chance? or is it that the cluster can provide some infos to the client to target another node?","body":"Lol, if i knew you were an Artemis dev, i wouldn&#39;t have challenged you :D Quite interresting anyway. Thx for your explanations that make things more clear!  Anyway, i&#39;ve got a last question.  My app runs in a K8S(Openshift) cluster. So,it&#39;s very easy for me to scale horizontally.  Doing so, i noticed that if i spawn a new instance of my app, the connections of the new app instance will, each time, target the other node of the Artemis cluster (in test env, cluster is made out of 2 nodes).  Is it by chance? or is it that the cluster can provide some infos to the client to target another node?"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":13,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666635407,"creation_date":1666628638,"answer_id":74184090,"question_id":74183427,"body_markdown":"The cluster can be configured so that any consumer on any node can consume messages sent to any node. Therefore, you shouldn&#39;t strictly need to &quot;target all nodes&quot; of the cluster with your consumer. Message redistribution and re-routing in the cluster should be transparent to your application. As you said, as a developer you shouldn&#39;t care about the topology of the cluster.\r\n\r\nThat said, the goal of clustering is to increase overall message throughput (i.e. performance) via horizontal scaling. Furthermore, every node in the cluster should ideally have sufficient producers and consumers so that messages aren&#39;t being redistributed or re-routed between cluster nodes as that&#39;s not optimal for performance. If you&#39;re in a situation where you have just a few consumers connected to your cluster then it&#39;s likely you don&#39;t actually _need_ a cluster in the first place. A single ActiveMQ Artemis broker can handle millions of messages per second in certain use-cases.","title":"How to target all nodes of an ActiveMQ Artemis cluster with Spring&#39;s DefaultMessageListenerContainer","body":"<p>The cluster can be configured so that any consumer on any node can consume messages sent to any node. Therefore, you shouldn't strictly need to &quot;target all nodes&quot; of the cluster with your consumer. Message redistribution and re-routing in the cluster should be transparent to your application. As you said, as a developer you shouldn't care about the topology of the cluster.</p>\n<p>That said, the goal of clustering is to increase overall message throughput (i.e. performance) via horizontal scaling. Furthermore, every node in the cluster should ideally have sufficient producers and consumers so that messages aren't being redistributed or re-routed between cluster nodes as that's not optimal for performance. If you're in a situation where you have just a few consumers connected to your cluster then it's likely you don't actually <em>need</em> a cluster in the first place. A single ActiveMQ Artemis broker can handle millions of messages per second in certain use-cases.</p>\n"}],"owner":{"account_id":26690717,"reputation":3,"user_id":20299331,"display_name":"Bidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74184090,"answer_count":1,"score":0,"last_activity_date":1667824303,"creation_date":1666625175,"question_id":74183427,"body_markdown":"I&#39;ve got an issue connecting to an ActiveMQ Artemis cluster (AMQ from Red Hat in fact) through Spring&#39;s `DefaultJmsListenerContainerFactory`.\r\n\r\n`DefaultMessageListenerContainer` makes use of only one connection, regardless of the number of consumers you specify through the concurrency parameter. The problem is that, in the cluster, there are 3 brokers configured at the moment (and, as a dev, I shouldn&#39;t care about the topology of the cluster).  Since here is only one connection consumers are only listening to one broker.\r\n\r\nTo solve the issue I disabled the cache (i.e. `setCacheLevel(CACHE_NONE)` in the factory).\r\nIt &quot;solved&quot; the problem because now I can see the connections distributing on all the nodes of the cluster but it&#39;s not a good solution because connections are perpetually dropped and recreated and that makes a lot of overhead at the broker side (it makes me think of a Christmas Tree :D).\r\n\r\nCan you guys tell me what&#39;s the correct approach to handle this?\r\nI trie using a `JmsPoolConnectionFactory`, but I didn&#39;t get any good results till now. I still have only one connection.\r\n\r\nI&#39;m using Spring Boot 2.7.4 with Artemis Starter.\r\nYou can find below a code snippet of the actual config.\r\n\r\n(Side note, I don&#39;t use Spring autoconfig because i need to be able to switch between ActiveMQ Artemis and the old ActiveMQ &quot;Classic&quot; implementation).\r\n```java\r\n@Bean\r\nDefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\r\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n    factory.setConnectionFactory(connectionFactory());\r\n    factory.setDestinationResolver(destinationResolver());\r\n    factory.setSessionTransacted(true);\r\n    factory.setConcurrency(config.getConcurrency());\r\n    //Set this to allow load balancing of connections to all members of the cluster\r\n    factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_NONE);\r\n\r\n    final ExponentialBackOff backOff = new ExponentialBackOff(\r\n    config.getRetry().getInitialInterval(), config.getRetry().getMultiplier());\r\n    backOff.setMaxInterval(config.getRetry().getMaxDuration());\r\n\r\n    factory.setBackOff(backOff);\r\n\r\n    return factory;\r\n}\r\n\r\nConnectionFactory connectionFactory() {\r\n    return new ActiveMQJMSConnectionFactory(\r\n    config.getUrl(), config.getUser(), config.getPassword());\r\n}\r\n\r\nDestinationResolver destinationResolver() {\r\n    final ActiveMQQueue activeMQQueue = new ActiveMQQueue(config.getQueue());\r\n    return (session, destinationName, pubSubDomain) -&gt; activeMQQueue;\r\n}\r\n\r\n\r\n@JmsListener(destination = &quot;${slp.amq.queue}&quot;)\r\npublic void processLog(String log) {\r\n    final SecurityLog securityLog = SecurityLog.parse(log);\r\n\r\n    fileWriter.write(securityLog);\r\n    logsCountByApplicationId.increment(securityLog.getApplicationId());\r\n\r\n    if (elasticClient != null) {\r\n        elasticClient.write(securityLog);\r\n    }\r\n}\r\n```\r\n\r\nThe connection URL is: \r\n```\r\n(tcp://broker1:port,tcp://broker2:port,tcp://broker3:port)?useTopologyForLoadBalancing=true\r\n```","title":"How to target all nodes of an ActiveMQ Artemis cluster with Spring&#39;s DefaultMessageListenerContainer","body":"<p>I've got an issue connecting to an ActiveMQ Artemis cluster (AMQ from Red Hat in fact) through Spring's <code>DefaultJmsListenerContainerFactory</code>.</p>\n<p><code>DefaultMessageListenerContainer</code> makes use of only one connection, regardless of the number of consumers you specify through the concurrency parameter. The problem is that, in the cluster, there are 3 brokers configured at the moment (and, as a dev, I shouldn't care about the topology of the cluster).  Since here is only one connection consumers are only listening to one broker.</p>\n<p>To solve the issue I disabled the cache (i.e. <code>setCacheLevel(CACHE_NONE)</code> in the factory).\nIt &quot;solved&quot; the problem because now I can see the connections distributing on all the nodes of the cluster but it's not a good solution because connections are perpetually dropped and recreated and that makes a lot of overhead at the broker side (it makes me think of a Christmas Tree :D).</p>\n<p>Can you guys tell me what's the correct approach to handle this?\nI trie using a <code>JmsPoolConnectionFactory</code>, but I didn't get any good results till now. I still have only one connection.</p>\n<p>I'm using Spring Boot 2.7.4 with Artemis Starter.\nYou can find below a code snippet of the actual config.</p>\n<p>(Side note, I don't use Spring autoconfig because i need to be able to switch between ActiveMQ Artemis and the old ActiveMQ &quot;Classic&quot; implementation).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nDefaultJmsListenerContainerFactory jmsListenerContainerFactory() {\n    DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n    factory.setConnectionFactory(connectionFactory());\n    factory.setDestinationResolver(destinationResolver());\n    factory.setSessionTransacted(true);\n    factory.setConcurrency(config.getConcurrency());\n    //Set this to allow load balancing of connections to all members of the cluster\n    factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_NONE);\n\n    final ExponentialBackOff backOff = new ExponentialBackOff(\n    config.getRetry().getInitialInterval(), config.getRetry().getMultiplier());\n    backOff.setMaxInterval(config.getRetry().getMaxDuration());\n\n    factory.setBackOff(backOff);\n\n    return factory;\n}\n\nConnectionFactory connectionFactory() {\n    return new ActiveMQJMSConnectionFactory(\n    config.getUrl(), config.getUser(), config.getPassword());\n}\n\nDestinationResolver destinationResolver() {\n    final ActiveMQQueue activeMQQueue = new ActiveMQQueue(config.getQueue());\n    return (session, destinationName, pubSubDomain) -&gt; activeMQQueue;\n}\n\n\n@JmsListener(destination = &quot;${slp.amq.queue}&quot;)\npublic void processLog(String log) {\n    final SecurityLog securityLog = SecurityLog.parse(log);\n\n    fileWriter.write(securityLog);\n    logsCountByApplicationId.increment(securityLog.getApplicationId());\n\n    if (elasticClient != null) {\n        elasticClient.write(securityLog);\n    }\n}\n</code></pre>\n<p>The connection URL is:</p>\n<pre><code>(tcp://broker1:port,tcp://broker2:port,tcp://broker3:port)?useTopologyForLoadBalancing=true\n</code></pre>\n"},{"tags":["java","sockets","user-interface","server","client"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667825351,"post_id":74346614,"comment_id":131252655,"body_markdown":"You have a try-catch block in your client that swallows all exceptions silently, so of course you haven&#39;t got any error messages. Fix your exception handling and then try again.","body":"You have a try-catch block in your client that swallows all exceptions silently, so of course you haven&#39;t got any error messages. Fix your exception handling and then try again."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667825661,"post_id":74346614,"comment_id":131252767,"body_markdown":"Your code doesn&#39;t really make a lot of sense in some areas: why are you opening a `Reader` on `System.in` in a loop. And why are you reading `System.in` *at all* if you have a gui?","body":"Your code doesn&#39;t really make a lot of sense in some areas: why are you opening a <code>Reader</code> on <code>System.in</code> in a loop. And why are you reading <code>System.in</code> <i>at all</i> if you have a gui?"},{"owner":{"account_id":26855767,"reputation":1,"user_id":20440104,"display_name":"Prerna Sharma"},"score":0,"creation_date":1667836610,"post_id":74346614,"comment_id":131257022,"body_markdown":"@PresidentJamesK.Polk  could you please suggest some changes in the code that are relevant","body":"@PresidentJamesK.Polk  could you please suggest some changes in the code that are relevant"},{"owner":{"account_id":26855767,"reputation":1,"user_id":20440104,"display_name":"Prerna Sharma"},"score":0,"creation_date":1667836635,"post_id":74346614,"comment_id":131257026,"body_markdown":"@g00se could you please suggest some changes in the code that are relevant","body":"@g00se could you please suggest some changes in the code that are relevant"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667838189,"post_id":74346614,"comment_id":131257635,"body_markdown":"If you&#39;ve got a gui app, you need to send data to the other side via a gui component, not via stdin","body":"If you&#39;ve got a gui app, you need to send data to the other side via a gui component, not via stdin"}],"owner":{"account_id":26855767,"reputation":1,"user_id":20440104,"display_name":"Prerna Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667824146,"creation_date":1667824146,"question_id":74346614,"body_markdown":"I have coded the following code for Client Server program in Java, client and server are running on different machines and the server is running fine, but the client starts running for sometime and then terminates, there&#39;s no error in both the codes, also tried with IP address and ports, it ran only for a single time in beginning. Kindly help!!\r\n\r\nThe server code is:\r\n\r\n```\r\nimport java.net.*;\r\nimport java.io.*;\r\nclass Server\r\n{\r\n    ServerSocket server;\r\n    Socket socket;\r\n    BufferedReader br;\r\n    PrintWriter out;\r\n    //Constructor..\r\n    public Server()\r\n    {\r\n        try {\r\n            server=new ServerSocket(56473);\r\n            System.out.println(&quot;Server is ready to accept connection!&quot;);\r\n            System.out.println(&quot;Waiting...&quot;);\r\n            socket=server.accept();\r\n\r\n            br = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            out = new PrintWriter(socket. getOutputStream());\r\n\r\n            startReading();\r\n            startWriting();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void startReading()\r\n    {\r\n        //will read and deliver the thread\r\n        Runnable r1=()-&gt;{\r\n            System.out.println(&quot;Reader Started...&quot;);\r\n            try{\r\n            while(true)\r\n            {\r\n                String msg= br.readLine();\r\n                if(msg.equals(&quot;exit&quot;))\r\n                {\r\n                    System.out.println(&quot;Client terminated the chat!&quot;);\r\n                    socket.close();\r\n                    break;\r\n                }\r\n                    System.out.println(&quot;Client: &quot;+ msg);                \r\n            }\r\n        } catch (Exception e){\r\n            //e.printStackTrace();\r\n            System.out.println(&quot;Connection Closed!&quot;);\r\n        }\r\n        };\r\n        new Thread(r1).start();\r\n    }\r\n\r\n    public void startWriting()\r\n    {\r\n        Runnable r2=()-&gt;{\r\n            System.out.println(&quot;Writer Started....&quot;);\r\n            try{\r\n            while(!socket.isClosed())\r\n            {\r\n                BufferedReader br1= new BufferedReader(new InputStreamReader(System.in));\r\n                String content=br1.readLine();\r\n                out.println(content);\r\n                out.flush();\r\n                if(content.equals(&quot;exit&quot;))\r\n                {\r\n                    socket.close();\r\n                    break;\r\n                }\r\n            }\r\n         } catch(Exception e){\r\n            //e.printStackTrace();\r\n            System.out.println(&quot;Connection Closed!&quot;);\r\n        }\r\n    };\r\n        new Thread(r2).start();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This is Server...Going to start Server!&quot;);\r\n        new Server();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAnd the client code is as follows:\r\n\r\n```\r\nimport java.net.*;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.JTextField;\r\nimport javax.swing.SwingConstants;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Font;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.io.*;\r\n\r\npublic class Client extends JFrame {\r\n\r\n    Socket socket;\r\n    BufferedReader br;\r\n    PrintWriter out;\r\n\r\n    //Declare components\r\n    private JLabel heading = new JLabel(&quot;Client Area&quot;);\r\n    private JTextArea messageArea= new JTextArea();\r\n    private JTextField messageInput= new JTextField();\r\n    private Font font= new Font(&quot;Roboto&quot;,Font.PLAIN,20);\r\n\r\n    //constructor\r\n    public Client()\r\n    {\r\n        try {\r\n            System.out.println(&quot;Sending Request to Server&quot;);\r\n            socket= new Socket(&quot;192.168.43.245&quot;,56473);\r\n            System.out.println(&quot;Connection Done!&quot;);\r\n\r\n            br = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            out = new PrintWriter(socket. getOutputStream());\r\n\r\n\r\n            createGUI();\r\n            handleEvents();\r\n            startReading();\r\n            //startWriting();\r\n\r\n        } catch (Exception e) {\r\n            // TODO: handle exception\r\n        }\r\n    }\r\n\r\n    private void handleEvents()\r\n    {\r\n       messageInput.addKeyListener(new KeyListener(){\r\n\r\n        @Override\r\n        public void keyTyped(KeyEvent e) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            // TODO Auto-generated method stub\r\n            \r\n        }\r\n\r\n        @Override\r\n        public void keyReleased(KeyEvent e) {\r\n            // TODO Auto-generated method stub\r\n            //System.out.println(&quot;Key Released! &quot;+e.getKeyCode());\r\n            if(e.getKeyCode() == 10) {\r\n                //System.out.println(&quot;You have pressed Enter Button&quot;);\r\n                String contentToSend=messageInput.getText();\r\n                messageArea.append(&quot;Me :&quot;+contentToSend+&quot;\\n&quot;);\r\n                out.println(contentToSend);\r\n                out.flush();\r\n                messageInput.setText(&quot;&quot;);\r\n                messageInput.requestFocus();\r\n            }\r\n        }\r\n        \r\n       });\r\n    }\r\n\r\n    private void createGUI()\r\n    {\r\n        //GUI code..\r\n        this.setTitle(&quot;Client Messenger[END]&quot;);\r\n        this.setSize(700,700);\r\n        this.setLocationRelativeTo(null);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setVisible(true);\r\n\r\n        //coding for component\r\n        heading.setFont(font);\r\n        messageArea.setFont(font);\r\n        messageInput.setFont(font);\r\n        heading.setIcon(new ImageIcon(&quot;clogo.jpg&quot;));\r\n        heading.setHorizontalTextPosition(SwingConstants.CENTER);\r\n        heading.setVerticalTextPosition(SwingConstants.BOTTOM);\r\n        heading.setHorizontalAlignment(SwingConstants.CENTER);\r\n        heading.setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\r\n        messageArea.setEditable(false);\r\n        messageInput.setHorizontalAlignment(SwingConstants.CENTER);\r\n\r\n        //setting the layout\r\n        this.setLayout(new BorderLayout());\r\n\r\n        this.add(heading,BorderLayout.NORTH);\r\n        JScrollPane jScrollPane= new JScrollPane(messageArea);\r\n        this.add(jScrollPane,BorderLayout.CENTER);\r\n        this.add(messageInput,BorderLayout.SOUTH);\r\n\r\n    }\r\n\r\n\r\n    //starts reading[METHOD]\r\n    public void startReading()\r\n    {\r\n        //will read and deliver the thread\r\n        Runnable r1=()-&gt;{\r\n            System.out.println(&quot;Reader Started...&quot;);\r\n            try{\r\n            while(true)\r\n            {\r\n                String msg= br.readLine();\r\n                if(msg.equals(&quot;exit&quot;))\r\n                {\r\n                    System.out.println(&quot;Server terminated the chat!&quot;);\r\n                    JOptionPane.showMessageDialog(this, &quot;Server Terminated the Chat!&quot;);\r\n                    messageInput.setEnabled(false);\r\n                    socket.close();\r\n                    break;\r\n                }\r\n                    //System.out.println(&quot;Server: &quot;+ msg);\r\n                    messageArea.append(&quot;Server : &quot; + msg+&quot;\\n&quot;); \r\n            }\r\n            } catch (Exception e)\r\n            {\r\n                //e.printStackTrace();\r\n                System.out.println(&quot;Connection Closed!&quot;);\r\n            }\r\n        };\r\n        new Thread(r1).start();\r\n    }\r\n\r\n    //starts writing[METHOD]\r\n    public void startWriting()\r\n    {\r\n        Runnable r2=()-&gt;{\r\n            System.out.println(&quot;Writer Started...&quot;);\r\n            try{\r\n            while(!socket.isClosed())\r\n            {\r\n                    BufferedReader br1= new BufferedReader(new InputStreamReader(System.in));\r\n                    String content=br1.readLine();\r\n                    out.println(content);\r\n                    out.flush();\r\n                    if(content.equals(&quot;exit&quot;))\r\n                {\r\n                    socket.close();\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(&quot;Connection is Closed!&quot;);\r\n            } catch (Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            } \r\n        };\r\n        new Thread(r2).start();\r\n    }\r\n\r\n     \r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;This is Client...&quot;);\r\n        new Client();\r\n    }\r\n    \r\n}\r\n```\r\n I expect a GUI window at client side to open but the program is terminating after sometime.","title":"Issue with following client server program in Java","body":"<p>I have coded the following code for Client Server program in Java, client and server are running on different machines and the server is running fine, but the client starts running for sometime and then terminates, there's no error in both the codes, also tried with IP address and ports, it ran only for a single time in beginning. Kindly help!!</p>\n<p>The server code is:</p>\n<pre><code>import java.net.*;\nimport java.io.*;\nclass Server\n{\n    ServerSocket server;\n    Socket socket;\n    BufferedReader br;\n    PrintWriter out;\n    //Constructor..\n    public Server()\n    {\n        try {\n            server=new ServerSocket(56473);\n            System.out.println(&quot;Server is ready to accept connection!&quot;);\n            System.out.println(&quot;Waiting...&quot;);\n            socket=server.accept();\n\n            br = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            out = new PrintWriter(socket. getOutputStream());\n\n            startReading();\n            startWriting();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void startReading()\n    {\n        //will read and deliver the thread\n        Runnable r1=()-&gt;{\n            System.out.println(&quot;Reader Started...&quot;);\n            try{\n            while(true)\n            {\n                String msg= br.readLine();\n                if(msg.equals(&quot;exit&quot;))\n                {\n                    System.out.println(&quot;Client terminated the chat!&quot;);\n                    socket.close();\n                    break;\n                }\n                    System.out.println(&quot;Client: &quot;+ msg);                \n            }\n        } catch (Exception e){\n            //e.printStackTrace();\n            System.out.println(&quot;Connection Closed!&quot;);\n        }\n        };\n        new Thread(r1).start();\n    }\n\n    public void startWriting()\n    {\n        Runnable r2=()-&gt;{\n            System.out.println(&quot;Writer Started....&quot;);\n            try{\n            while(!socket.isClosed())\n            {\n                BufferedReader br1= new BufferedReader(new InputStreamReader(System.in));\n                String content=br1.readLine();\n                out.println(content);\n                out.flush();\n                if(content.equals(&quot;exit&quot;))\n                {\n                    socket.close();\n                    break;\n                }\n            }\n         } catch(Exception e){\n            //e.printStackTrace();\n            System.out.println(&quot;Connection Closed!&quot;);\n        }\n    };\n        new Thread(r2).start();\n    }\n\n\n    public static void main(String[] args) {\n        System.out.println(&quot;This is Server...Going to start Server!&quot;);\n        new Server();\n    }\n}\n\n</code></pre>\n<p>And the client code is as follows:</p>\n<pre><code>import java.net.*;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.SwingConstants;\n\nimport java.awt.BorderLayout;\nimport java.awt.Font;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.*;\n\npublic class Client extends JFrame {\n\n    Socket socket;\n    BufferedReader br;\n    PrintWriter out;\n\n    //Declare components\n    private JLabel heading = new JLabel(&quot;Client Area&quot;);\n    private JTextArea messageArea= new JTextArea();\n    private JTextField messageInput= new JTextField();\n    private Font font= new Font(&quot;Roboto&quot;,Font.PLAIN,20);\n\n    //constructor\n    public Client()\n    {\n        try {\n            System.out.println(&quot;Sending Request to Server&quot;);\n            socket= new Socket(&quot;192.168.43.245&quot;,56473);\n            System.out.println(&quot;Connection Done!&quot;);\n\n            br = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            out = new PrintWriter(socket. getOutputStream());\n\n\n            createGUI();\n            handleEvents();\n            startReading();\n            //startWriting();\n\n        } catch (Exception e) {\n            // TODO: handle exception\n        }\n    }\n\n    private void handleEvents()\n    {\n       messageInput.addKeyListener(new KeyListener(){\n\n        @Override\n        public void keyTyped(KeyEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n\n        @Override\n        public void keyPressed(KeyEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n            // TODO Auto-generated method stub\n            //System.out.println(&quot;Key Released! &quot;+e.getKeyCode());\n            if(e.getKeyCode() == 10) {\n                //System.out.println(&quot;You have pressed Enter Button&quot;);\n                String contentToSend=messageInput.getText();\n                messageArea.append(&quot;Me :&quot;+contentToSend+&quot;\\n&quot;);\n                out.println(contentToSend);\n                out.flush();\n                messageInput.setText(&quot;&quot;);\n                messageInput.requestFocus();\n            }\n        }\n        \n       });\n    }\n\n    private void createGUI()\n    {\n        //GUI code..\n        this.setTitle(&quot;Client Messenger[END]&quot;);\n        this.setSize(700,700);\n        this.setLocationRelativeTo(null);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n\n        //coding for component\n        heading.setFont(font);\n        messageArea.setFont(font);\n        messageInput.setFont(font);\n        heading.setIcon(new ImageIcon(&quot;clogo.jpg&quot;));\n        heading.setHorizontalTextPosition(SwingConstants.CENTER);\n        heading.setVerticalTextPosition(SwingConstants.BOTTOM);\n        heading.setHorizontalAlignment(SwingConstants.CENTER);\n        heading.setBorder(BorderFactory.createEmptyBorder(20,20,20,20));\n        messageArea.setEditable(false);\n        messageInput.setHorizontalAlignment(SwingConstants.CENTER);\n\n        //setting the layout\n        this.setLayout(new BorderLayout());\n\n        this.add(heading,BorderLayout.NORTH);\n        JScrollPane jScrollPane= new JScrollPane(messageArea);\n        this.add(jScrollPane,BorderLayout.CENTER);\n        this.add(messageInput,BorderLayout.SOUTH);\n\n    }\n\n\n    //starts reading[METHOD]\n    public void startReading()\n    {\n        //will read and deliver the thread\n        Runnable r1=()-&gt;{\n            System.out.println(&quot;Reader Started...&quot;);\n            try{\n            while(true)\n            {\n                String msg= br.readLine();\n                if(msg.equals(&quot;exit&quot;))\n                {\n                    System.out.println(&quot;Server terminated the chat!&quot;);\n                    JOptionPane.showMessageDialog(this, &quot;Server Terminated the Chat!&quot;);\n                    messageInput.setEnabled(false);\n                    socket.close();\n                    break;\n                }\n                    //System.out.println(&quot;Server: &quot;+ msg);\n                    messageArea.append(&quot;Server : &quot; + msg+&quot;\\n&quot;); \n            }\n            } catch (Exception e)\n            {\n                //e.printStackTrace();\n                System.out.println(&quot;Connection Closed!&quot;);\n            }\n        };\n        new Thread(r1).start();\n    }\n\n    //starts writing[METHOD]\n    public void startWriting()\n    {\n        Runnable r2=()-&gt;{\n            System.out.println(&quot;Writer Started...&quot;);\n            try{\n            while(!socket.isClosed())\n            {\n                    BufferedReader br1= new BufferedReader(new InputStreamReader(System.in));\n                    String content=br1.readLine();\n                    out.println(content);\n                    out.flush();\n                    if(content.equals(&quot;exit&quot;))\n                {\n                    socket.close();\n                    break;\n                }\n            }\n            System.out.println(&quot;Connection is Closed!&quot;);\n            } catch (Exception e)\n            {\n                e.printStackTrace();\n            } \n        };\n        new Thread(r2).start();\n    }\n\n     \n    public static void main(String[] args) {\n        System.out.println(&quot;This is Client...&quot;);\n        new Client();\n    }\n    \n}\n</code></pre>\n<p>I expect a GUI window at client side to open but the program is terminating after sometime.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9320,"page":903,"page_size":100}
