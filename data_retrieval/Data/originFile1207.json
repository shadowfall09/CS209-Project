{"items":[{"tags":["java","spring","spring-boot","redis"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657108756,"creation_date":1657108756,"answer_id":72883211,"question_id":72883027,"body_markdown":"You already use `@Autowired`, `@Bean` and some more, so you definitely need `spring-core` artifact.\r\n\r\nBut for those type of examples like what you mention in your question (a simple command line java program with just a `main` method), spring has created another approach.\r\n\r\nRead [this article][1] on how to creat a simple command line program with features of spring available.\r\n\r\nImportant to note. The use of property `spring.main.web-application-type=NONE` is a must, so that spring does not start any embedded web server like tomcat when the jar file is executed.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-console-app","title":"How to use spring-data-redis without spring boot java project","body":"<p>You already use <code>@Autowired</code>, <code>@Bean</code> and some more, so you definitely need <code>spring-core</code> artifact.</p>\n<p>But for those type of examples like what you mention in your question (a simple command line java program with just a <code>main</code> method), spring has created another approach.</p>\n<p>Read <a href=\"https://www.baeldung.com/spring-boot-console-app\" rel=\"nofollow noreferrer\">this article</a> on how to creat a simple command line program with features of spring available.</p>\n<p>Important to note. The use of property <code>spring.main.web-application-type=NONE</code> is a must, so that spring does not start any embedded web server like tomcat when the jar file is executed.</p>\n"}],"owner":{"account_id":8581069,"reputation":233,"user_id":6428642,"display_name":"Dattatray Satpute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72883211,"answer_count":1,"score":0,"last_activity_date":1657108756,"creation_date":1657107830,"question_id":72883027,"body_markdown":"Want to use spring-data-redis with standalone maven java project\r\n\r\n\r\n    e.g \r\n\r\n    package com.test.mvn.redis.test_redis;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\n    import org.springframework.data.redis.core.RedisTemplate;\r\n    \r\n    /**\r\n     * Hello world!\r\n     *\r\n     */\r\n    public class App \r\n    {\r\n    \t@Autowired\r\n        private StudentRepository studentRepository;\r\n    \t\r\n    \t@Bean\r\n    \tJedisConnectionFactory jedisConnectionFactory() {\r\n    \t    JedisConnectionFactory jedisConFactory\r\n    \t      = new JedisConnectionFactory();\r\n    \t    jedisConFactory.setHostName(&quot;localhost&quot;);\r\n    \t    jedisConFactory.setPort(6379);\r\n    \t    return jedisConFactory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n    \t    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n    \t    template.setConnectionFactory(jedisConnectionFactory());\r\n    \t    return template;\r\n    \t}\r\n    \t\r\n    \tpublic void saveData()\r\n    \t{\r\n    \t\tStudent student = new Student(\r\n      \t\t\t  &quot;Eng2015001&quot;, &quot;John Doe&quot;, Student.Gender.MALE, 1);\r\n      \t\t\tstudentRepository.save(student);\r\n      \t\t\tSystem.out.println(&quot;Data saved successfully&quot;);\r\n    \t}\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( &quot;Hello World!&quot; );\r\n            App app =new App();\r\n            app.saveData();\r\n        }\r\n    }\r\n\r\n        package com.test.mvn.redis.test_redis;\r\n    \r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface StudentRepository extends CrudRepository&lt;Student, String&gt; {\r\n    }\r\n\r\nMy pom.xml\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.test.mvn.redis&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-redis&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;test-redis&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- source code support dependencies --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nPlease let me know is it correct approach or do i need to use different redis java library for standalone java project. Want to add data from java to redis without rest controller.Basic requirement is to add data from java plain (maven) project to redis.","title":"How to use spring-data-redis without spring boot java project","body":"<p>Want to use spring-data-redis with standalone maven java project</p>\n<pre><code>e.g \n\npackage com.test.mvn.redis.test_redis;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    @Autowired\n    private StudentRepository studentRepository;\n    \n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() {\n        JedisConnectionFactory jedisConFactory\n          = new JedisConnectionFactory();\n        jedisConFactory.setHostName(&quot;localhost&quot;);\n        jedisConFactory.setPort(6379);\n        return jedisConFactory;\n    }\n\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        return template;\n    }\n    \n    public void saveData()\n    {\n        Student student = new Student(\n              &quot;Eng2015001&quot;, &quot;John Doe&quot;, Student.Gender.MALE, 1);\n            studentRepository.save(student);\n            System.out.println(&quot;Data saved successfully&quot;);\n    }\n    public static void main( String[] args )\n    {\n        System.out.println( &quot;Hello World!&quot; );\n        App app =new App();\n        app.saveData();\n    }\n}\n\n    package com.test.mvn.redis.test_redis;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt; {\n}\n</code></pre>\n<p>My pom.xml\n\n4.0.0</p>\n<pre><code>    &lt;groupId&gt;com.test.mvn.redis&lt;/groupId&gt;\n    &lt;artifactId&gt;test-redis&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;test-redis&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- source code support dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Please let me know is it correct approach or do i need to use different redis java library for standalone java project. Want to add data from java to redis without rest controller.Basic requirement is to add data from java plain (maven) project to redis.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1657102399,"post_id":72881672,"comment_id":128727884,"body_markdown":"`.*(cn=.*?,ou=tged,ou=groupes,o=choregie,c=fr)` or `cn=(?:(?!cn=).)*?,ou=tged,ou=groupes,o=choregie,c=fr`","body":"<code>.*(cn=.*?,ou=tged,ou=groupes,o=choregie,c=fr)</code> or <code>cn=(?:(?!cn=).)*?,ou=tged,ou=groupes,o=choregie,c=fr</code>"},{"owner":{"account_id":17418961,"reputation":485,"user_id":12624874,"display_name":"Philippe B."},"score":0,"creation_date":1657107567,"post_id":72881672,"comment_id":128729785,"body_markdown":"@WiktorStribiżew the first one doesn&#39;t work, the second one gives me the whole string `cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr` (and the second one) whereas I would only like `doc_medical` and `doc_confidentiel`.","body":"@WiktorStribiżew the first one doesn&#39;t work, the second one gives me the whole string <code>cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr</code> (and the second one) whereas I would only like <code>doc_medical</code> and <code>doc_confidentiel</code>."},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1657108076,"post_id":72881672,"comment_id":128729967,"body_markdown":"Then use `(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)`, see https://regex101.com/r/RUjCRp/3 and https://regex101.com/r/RUjCRp/3/codegen?language=java","body":"Then use <code>(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)</code>, see <a href=\"https://regex101.com/r/RUjCRp/3\" rel=\"nofollow noreferrer\">regex101.com/r/RUjCRp/3</a> and <a href=\"https://regex101.com/r/RUjCRp/3/codegen?language=java\" rel=\"nofollow noreferrer\">regex101.com/r/RUjCRp/3/codegen?language=java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657102544,"creation_date":1657102544,"answer_id":72881731,"question_id":72881672,"body_markdown":"We can use a regex replacement approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\r\n    String cn = input.replaceAll(&quot;.*\\\\bcn=([^,]+),ou=tged,ou=groupes,o=choregie,c=fr.*&quot;, &quot;$1&quot;);\r\n    System.out.println(cn);  // doc_confidentiel\r\n\r\nNote that in your current regex pattern, which uses lookarounds, you seemed to be confusing lookbehinds with lookaheads.  But, the approach I gave above doesn&#39;t even need lookarounds.","title":"Regex, match anything between two strings","body":"<p>We can use a regex replacement approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\nString cn = input.replaceAll(&quot;.*\\\\bcn=([^,]+),ou=tged,ou=groupes,o=choregie,c=fr.*&quot;, &quot;$1&quot;);\nSystem.out.println(cn);  // doc_confidentiel\n</code></pre>\n<p>Note that in your current regex pattern, which uses lookarounds, you seemed to be confusing lookbehinds with lookaheads.  But, the approach I gave above doesn't even need lookarounds.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657108682,"creation_date":1657107871,"answer_id":72883043,"question_id":72881672,"body_markdown":"You could use a capture group, and for example not cross matching a pipe `|` char\r\n\r\n    \\bcn=([^|]*),ou=tged,ou=groupes,o=choregie,c=fr\\b\r\n\r\n[Regex demo](https://regex101.com/r/xn8S4K/1)\r\n\r\nIf it is the first value after the cn= then not matching a comma could also work:\r\n\r\n    \\bcn=([^,]*),ou=tged,ou=groupes,o=choregie,c=fr\\b\r\n\r\n**Explanation**\r\n\r\n- `\\bcn=` Match the word `cn` and then =\r\n- `([^,]*)` Capture group 1, optionally match any char that you do not allow\r\n- `,ou=tged,ou=groupes,o=choregie,c=fr\\b` Match the string\r\n\r\n[Regex demo](https://regex101.com/r/sArFtZ/1) | [Java demo](https://ideone.com/GKSpB0)\r\n\r\nFor example\r\n\r\n\tString regex = &quot;\\\\bcn=([^,]*),ou=tged,ou=groupes,o=choregie,c=fr\\\\b&quot;;\r\n    String string = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\r\n    Matcher matcher = pattern.matcher(string);\r\n\r\n    while (matcher.find()) {\r\n        System.out.println(matcher.group(1));\r\n    }\r\n\r\nOutput\r\n\r\n    doc_medical\r\n    doc_confidentiel","title":"Regex, match anything between two strings","body":"<p>You could use a capture group, and for example not cross matching a pipe <code>|</code> char</p>\n<pre><code>\\bcn=([^|]*),ou=tged,ou=groupes,o=choregie,c=fr\\b\n</code></pre>\n<p><a href=\"https://regex101.com/r/xn8S4K/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>If it is the first value after the cn= then not matching a comma could also work:</p>\n<pre><code>\\bcn=([^,]*),ou=tged,ou=groupes,o=choregie,c=fr\\b\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>\\bcn=</code> Match the word <code>cn</code> and then =</li>\n<li><code>([^,]*)</code> Capture group 1, optionally match any char that you do not allow</li>\n<li><code>,ou=tged,ou=groupes,o=choregie,c=fr\\b</code> Match the string</li>\n</ul>\n<p><a href=\"https://regex101.com/r/sArFtZ/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/GKSpB0\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>For example</p>\n<pre><code>String regex = &quot;\\\\bcn=([^,]*),ou=tged,ou=groupes,o=choregie,c=fr\\\\b&quot;;\nString string = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\n\nPattern pattern = Pattern.compile(regex, Pattern.MULTILINE);\nMatcher matcher = pattern.matcher(string);\n\nwhile (matcher.find()) {\n    System.out.println(matcher.group(1));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>doc_medical\ndoc_confidentiel\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657108392,"creation_date":1657108392,"answer_id":72883137,"question_id":72881672,"body_markdown":"You can use\r\n```none\r\n(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)\r\n```\r\nSee the [regex demo][1].\r\n\r\n*Details*:\r\n\r\n - `(?&lt;=cn=)` - a location immediately preceded with `cn=`\r\n - `[^,|]+` - one or more chars other than `|` and `,`\r\n - `(?=,ou=tged,ou=groupes,o=choregie,c=fr)` - a positive lookahead that requires a `,ou=tged,ou=groupes,o=choregie,c=fr` string to appear immediately to the right of the current location.\r\n\r\nSee the [Java demo][2]:\r\n```java\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\tString regex = &quot;(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)&quot;;\r\n        String string = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\r\n        Pattern pattern = Pattern.compile(regex);\r\n        Matcher matcher = pattern.matcher(string);\r\n        while (matcher.find()) {\r\n            System.out.println(matcher.group(0));\r\n        }\r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\ndoc_medical\r\ndoc_confidentiel\r\n```\r\n**NOTE**: If there is a value other than `cn` that can contain more chars on the left, use a word boundary: `(?&lt;=\\bcn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)`. In Java, `String regex = &quot;(?&lt;=\\\\bcn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)&quot;;`.\r\n\r\n  [1]: https://regex101.com/r/RUjCRp/3\r\n  [2]: https://ideone.com/77WGnW","title":"Regex, match anything between two strings","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/RUjCRp/3\" rel=\"nofollow noreferrer\">regex demo</a>.</p>\n<p><em>Details</em>:</p>\n<ul>\n<li><code>(?&lt;=cn=)</code> - a location immediately preceded with <code>cn=</code></li>\n<li><code>[^,|]+</code> - one or more chars other than <code>|</code> and <code>,</code></li>\n<li><code>(?=,ou=tged,ou=groupes,o=choregie,c=fr)</code> - a positive lookahead that requires a <code>,ou=tged,ou=groupes,o=choregie,c=fr</code> string to appear immediately to the right of the current location.</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/77WGnW\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String regex = &quot;(?&lt;=cn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)&quot;;\n        String string = &quot;cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr&quot;;\n        Pattern pattern = Pattern.compile(regex);\n        Matcher matcher = pattern.matcher(string);\n        while (matcher.find()) {\n            System.out.println(matcher.group(0));\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>doc_medical\ndoc_confidentiel\n</code></pre>\n<p><strong>NOTE</strong>: If there is a value other than <code>cn</code> that can contain more chars on the left, use a word boundary: <code>(?&lt;=\\bcn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)</code>. In Java, <code>String regex = &quot;(?&lt;=\\\\bcn=)[^,|]+(?=,ou=tged,ou=groupes,o=choregie,c=fr)&quot;;</code>.</p>\n"}],"owner":{"account_id":17418961,"reputation":485,"user_id":12624874,"display_name":"Philippe B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72883137,"answer_count":3,"score":1,"last_activity_date":1657108682,"creation_date":1657102329,"question_id":72881672,"body_markdown":"I feel like this is trivial but can&#39;t find any solution that works for me.\r\n\r\nI have a string of this sort : \r\n\r\n`cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr`\r\n\r\nWhere I need to to find the value between `cn=` and `,ou=tged,ou=groupes,o=choregie,c=fr`, in this case I should only match `doc_medical` first and `doc_confidentiel` then.\r\n\r\nI have this regex : `(?=cn=)(.*?)(?&lt;=,ou=tged,ou=groupes,o=choregie,c=fr)` but the problem is that it obviously matches everything after the second `cn=` of the global string until the next `,ou=tged,ou=groupes,o=choregie,c=fr`. So my second group is wrong because it contains `cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr` instead of only `doc_confidentiel`.\r\n\r\nI don&#39;t know the number of character there can be between the two strings, and I can&#39;t seem to figure out how to force the regex to match the first `cn=` previous to the `,ou=tged,ou=groupes,o=choregie,c=fr` string instead of the first one it encounters after it.","title":"Regex, match anything between two strings","body":"<p>I feel like this is trivial but can't find any solution that works for me.</p>\n<p>I have a string of this sort :</p>\n<p><code>cn=doc_medical,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr|cn=test,ou=test,ou=test,o=choregie,c=fr</code></p>\n<p>Where I need to to find the value between <code>cn=</code> and <code>,ou=tged,ou=groupes,o=choregie,c=fr</code>, in this case I should only match <code>doc_medical</code> first and <code>doc_confidentiel</code> then.</p>\n<p>I have this regex : <code>(?=cn=)(.*?)(?&lt;=,ou=tged,ou=groupes,o=choregie,c=fr)</code> but the problem is that it obviously matches everything after the second <code>cn=</code> of the global string until the next <code>,ou=tged,ou=groupes,o=choregie,c=fr</code>. So my second group is wrong because it contains <code>cn=test,ou=test,ou=test,o=choregie,c=fr|cn=doc_confidentiel,ou=tged,ou=groupes,o=choregie,c=fr</code> instead of only <code>doc_confidentiel</code>.</p>\n<p>I don't know the number of character there can be between the two strings, and I can't seem to figure out how to force the regex to match the first <code>cn=</code> previous to the <code>,ou=tged,ou=groupes,o=choregie,c=fr</code> string instead of the first one it encounters after it.</p>\n"},{"tags":["java","android","sql"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1657023679,"post_id":72869300,"comment_id":128706414,"body_markdown":"You didn&#39;t attach any code that reads from your database at all. Does that exist anywhere?","body":"You didn&#39;t attach any code that reads from your database at all. Does that exist anywhere?"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":0,"creation_date":1657023721,"post_id":72869300,"comment_id":128706435,"body_markdown":"when the programmers are programmers :-)","body":"when the programmers are programmers :-)"},{"owner":{"account_id":13089940,"reputation":133,"user_id":10491111,"display_name":"Carlos No&#233;"},"score":0,"creation_date":1657023759,"post_id":72869300,"comment_id":128706443,"body_markdown":"do you need read data from database?","body":"do you need read data from database?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1657023968,"post_id":72869300,"comment_id":128706509,"body_markdown":"Creating a database table does not populate it with data. You usually add rows to a database table by executing one (or more) INSERT statements. You usually retrieve data from a database table by executing a query, i.e. SELECT statement.","body":"Creating a database table does not populate it with data. You usually add rows to a database table by executing one (or more) INSERT statements. You usually retrieve data from a database table by executing a query, i.e. SELECT statement."},{"owner":{"account_id":10329025,"reputation":1640,"user_id":7619578,"accept_rate":67,"display_name":"Int&#39;l Man Of Coding Mystery"},"score":0,"creation_date":1657027807,"post_id":72869300,"comment_id":128708017,"body_markdown":"https://stackoverflow.com/a/1966870/7619578","body":"<a href=\"https://stackoverflow.com/a/1966870/7619578\">stackoverflow.com/a/1966870/7619578</a>"}],"owner":{"account_id":19656906,"reputation":3,"user_id":14389335,"display_name":"bnbored"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657108355,"creation_date":1657023460,"question_id":72869300,"body_markdown":"I am struggling to find an anwser to this question : how do I create a List with data from a SQL database in Java ? (I am using Android Studio)\r\n\r\nI need to create :\r\n- lists for dropdown menus and autoCompleteTextView. For these, I need all the values of a specific column, not the whole line (&quot;what are the different brands that exist in my table ?&quot;)\r\n\r\n- lists for all objects sharing the same attribute (&quot;which objects have the same brand ?&quot;)\r\n\r\nHere is my constructor for the database :\r\n\r\n```\r\n    public void onCreate(SQLiteDatabase db) {\r\n        db.execSQL(&quot;create table &quot; + TABLE_NAME + &quot;(id INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                &quot;favori TEXT, &quot; +\r\n                &quot;type TEXT, &quot; +\r\n                &quot;marque TEXT, &quot; +\r\n                &quot;nom TEXT, &quot; +\r\n                &quot;nomGenerique TEXT, &quot; +\r\n                &quot;image BLOB, &quot; +\r\n                &quot;prix TEXT, &quot; +\r\n                &quot;codeBarres TEXT, &quot; +\r\n                &quot;quantite TEXT, &quot; +\r\n                &quot;quantiteRestante TEXT, &quot; +\r\n                &quot;notes TEXT)&quot;);\r\n\r\n    }\r\n\r\n```\r\n\r\nAnd this is my data model (in a Modele.class) - I have all the getters and setters after this - :\r\n\r\n```\r\npublic InventaireAlcool(int id, Boolean favori, String type, String marque,\r\n                            String nom, String nomGenerique, byte[] image, int prix,\r\n                            int codeBarres, int quantite, int quantiteRestante, String notes) {\r\n        this.id = id;\r\n        this.favori = favori;\r\n        this.type = type;\r\n        this.marque = marque;\r\n        this.nom = nom;\r\n        this.nomGenerique = nomGenerique;\r\n        this.image = image;\r\n        this.prix = prix;\r\n        this.codeBarres = codeBarres;\r\n        this.quantite = quantite;\r\n        this.quantiteRestante = quantiteRestante;\r\n        this.notes = notes;\r\n    }\r\n\r\n```\r\n\r\nI have an activity (AjoutReference) where I fill a form and when I click on the save button, this is what it does :\r\n\r\n\r\n```\r\nBoolean get_favori = favori.isChecked();\r\n                    String get_type = autoCompleteType.getText().toString();\r\n                    String get_marque = autoCompleteMarque.getText().toString();\r\n                    String get_nom = editTextNom.getText().toString();\r\n                    String get_nomGenerique = editTextNomGenerique.getText().toString();\r\n                    String get_prix = editTextPrix.getText().toString();\r\n                    String get_code = editTextCode.getText().toString();\r\n                    String get_quantite = quantite.getText().toString();\r\n                    String get_quantiteRestante = String.valueOf(sliderQuantite.getValue());\r\n                    String get_notes = editTextNotes.getText().toString();\r\n                    boolean res = inventaireDb.ajoutInventaire(get_favori, get_type, get_marque,\r\n                            get_nom, get_nomGenerique, ImageToByte(imageView), get_prix, get_code, get_quantite, get_quantiteRestante, get_notes);\r\n                    if (res == true){\r\n                        Toast.makeText(AjoutReference.this, &quot;Reference added&quot;, Toast.LENGTH_SHORT).show();\r\n                        Intent intent = new Intent(AjoutReference.this, MainActivity.class);\r\n                        startActivity(intent);\r\n                    }\r\n                    else {\r\n                        Toast.makeText(AjoutReference.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n```\r\nThe data from the database is then displayed on a RecyclerView with this code (in a RecyclerViewAdapter class):\r\n\r\n\r\n```\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n        holder.nomGenerique.setText(inventaireAlcoolList.get(position).getNomGenerique());\r\n        holder.marque.setText(inventaireAlcoolList.get(position).getMarque());\r\n        holder.type.setText(inventaireAlcoolList.get(position).getType());\r\n        Glide.with(this.context).load(inventaireAlcoolList.get(position).getImage()).into(holder.image);\r\n        holder.quantite.setText(String.valueOf(inventaireAlcoolList.get(position).getQuantite()));\r\n\r\n\r\n```\r\n\r\nI could not find any specific documentation or answer clear enough to help :-(\r\n\r\nAny advice would be very much welcome!\r\n\r\nAnd if you wonder what I will use this app for : it is to handle my alcohol stock. I currently have an excel table with more than 120 lines and it is a pain to maintain and keep updated (and, no, I&#39;m not a bartender, just a whisky, gin and rhum enthusiast).\r\nThe app should allow me to know how many bottles I have, in which condition (&quot;remaining quantity&quot; is a slider that lets me specify how much is left in a bottle and, when I&#39;m out shopping, I can make sure I buy a refill :-)  ), the lowest price I got, to create a &quot;favorites&quot; list...\r\n\r\n\r\nEdit : \r\nI found the solution thanks to the link provided by Int&#39;l Man of Coding Mystery.\r\nI created methods inside my database class to provide me with lists of column contents. Here is the code, hoping it might help someone else.\r\n\r\n```\r\n    public ArrayList getTypeExtract(){\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\r\n        Cursor cursor = db.rawQuery(&quot;SELECT type FROM &quot; + TABLE_NAME, null);\r\n        while (cursor.moveToNext()){\r\n            String typeExtract = cursor.getString(0);\r\n\r\n            arrayList.add(typeExtract);\r\n        }\r\n        return arrayList;\r\n    }\r\n```\r\n\r\nI also learned that :\r\n - `&quot;SELECT type FROM &quot;` returns the `type` column from the database. I can add other columns just by adding their name : `&quot;SELECT type, marque FROM &quot;` for instance.\r\n - `cursor.getString(0)` the `0` is the column index for the extraction. I have only one column in my example so it has to be `0` (and not column 2, the column index inside the database)...\r\n\r\nThanks for the help!\r\n\r\n","title":"How to create a List from data in a SQL database using java?","body":"<p>I am struggling to find an anwser to this question : how do I create a List with data from a SQL database in Java ? (I am using Android Studio)</p>\n<p>I need to create :</p>\n<ul>\n<li><p>lists for dropdown menus and autoCompleteTextView. For these, I need all the values of a specific column, not the whole line (&quot;what are the different brands that exist in my table ?&quot;)</p>\n</li>\n<li><p>lists for all objects sharing the same attribute (&quot;which objects have the same brand ?&quot;)</p>\n</li>\n</ul>\n<p>Here is my constructor for the database :</p>\n<pre><code>    public void onCreate(SQLiteDatabase db) {\n        db.execSQL(&quot;create table &quot; + TABLE_NAME + &quot;(id INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                &quot;favori TEXT, &quot; +\n                &quot;type TEXT, &quot; +\n                &quot;marque TEXT, &quot; +\n                &quot;nom TEXT, &quot; +\n                &quot;nomGenerique TEXT, &quot; +\n                &quot;image BLOB, &quot; +\n                &quot;prix TEXT, &quot; +\n                &quot;codeBarres TEXT, &quot; +\n                &quot;quantite TEXT, &quot; +\n                &quot;quantiteRestante TEXT, &quot; +\n                &quot;notes TEXT)&quot;);\n\n    }\n\n</code></pre>\n<p>And this is my data model (in a Modele.class) - I have all the getters and setters after this - :</p>\n<pre><code>public InventaireAlcool(int id, Boolean favori, String type, String marque,\n                            String nom, String nomGenerique, byte[] image, int prix,\n                            int codeBarres, int quantite, int quantiteRestante, String notes) {\n        this.id = id;\n        this.favori = favori;\n        this.type = type;\n        this.marque = marque;\n        this.nom = nom;\n        this.nomGenerique = nomGenerique;\n        this.image = image;\n        this.prix = prix;\n        this.codeBarres = codeBarres;\n        this.quantite = quantite;\n        this.quantiteRestante = quantiteRestante;\n        this.notes = notes;\n    }\n\n</code></pre>\n<p>I have an activity (AjoutReference) where I fill a form and when I click on the save button, this is what it does :</p>\n<pre><code>Boolean get_favori = favori.isChecked();\n                    String get_type = autoCompleteType.getText().toString();\n                    String get_marque = autoCompleteMarque.getText().toString();\n                    String get_nom = editTextNom.getText().toString();\n                    String get_nomGenerique = editTextNomGenerique.getText().toString();\n                    String get_prix = editTextPrix.getText().toString();\n                    String get_code = editTextCode.getText().toString();\n                    String get_quantite = quantite.getText().toString();\n                    String get_quantiteRestante = String.valueOf(sliderQuantite.getValue());\n                    String get_notes = editTextNotes.getText().toString();\n                    boolean res = inventaireDb.ajoutInventaire(get_favori, get_type, get_marque,\n                            get_nom, get_nomGenerique, ImageToByte(imageView), get_prix, get_code, get_quantite, get_quantiteRestante, get_notes);\n                    if (res == true){\n                        Toast.makeText(AjoutReference.this, &quot;Reference added&quot;, Toast.LENGTH_SHORT).show();\n                        Intent intent = new Intent(AjoutReference.this, MainActivity.class);\n                        startActivity(intent);\n                    }\n                    else {\n                        Toast.makeText(AjoutReference.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                    }\n\n</code></pre>\n<p>The data from the database is then displayed on a RecyclerView with this code (in a RecyclerViewAdapter class):</p>\n<pre><code>    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        holder.nomGenerique.setText(inventaireAlcoolList.get(position).getNomGenerique());\n        holder.marque.setText(inventaireAlcoolList.get(position).getMarque());\n        holder.type.setText(inventaireAlcoolList.get(position).getType());\n        Glide.with(this.context).load(inventaireAlcoolList.get(position).getImage()).into(holder.image);\n        holder.quantite.setText(String.valueOf(inventaireAlcoolList.get(position).getQuantite()));\n\n\n</code></pre>\n<p>I could not find any specific documentation or answer clear enough to help :-(</p>\n<p>Any advice would be very much welcome!</p>\n<p>And if you wonder what I will use this app for : it is to handle my alcohol stock. I currently have an excel table with more than 120 lines and it is a pain to maintain and keep updated (and, no, I'm not a bartender, just a whisky, gin and rhum enthusiast).\nThe app should allow me to know how many bottles I have, in which condition (&quot;remaining quantity&quot; is a slider that lets me specify how much is left in a bottle and, when I'm out shopping, I can make sure I buy a refill :-)  ), the lowest price I got, to create a &quot;favorites&quot; list...</p>\n<p>Edit :\nI found the solution thanks to the link provided by Int'l Man of Coding Mystery.\nI created methods inside my database class to provide me with lists of column contents. Here is the code, hoping it might help someone else.</p>\n<pre><code>    public ArrayList getTypeExtract(){\n        SQLiteDatabase db = this.getReadableDatabase();\n        ArrayList&lt;String&gt; arrayList = new ArrayList&lt;&gt;();\n        Cursor cursor = db.rawQuery(&quot;SELECT type FROM &quot; + TABLE_NAME, null);\n        while (cursor.moveToNext()){\n            String typeExtract = cursor.getString(0);\n\n            arrayList.add(typeExtract);\n        }\n        return arrayList;\n    }\n</code></pre>\n<p>I also learned that :</p>\n<ul>\n<li><code>&quot;SELECT type FROM &quot;</code> returns the <code>type</code> column from the database. I can add other columns just by adding their name : <code>&quot;SELECT type, marque FROM &quot;</code> for instance.</li>\n<li><code>cursor.getString(0)</code> the <code>0</code> is the column index for the extraction. I have only one column in my example so it has to be <code>0</code> (and not column 2, the column index inside the database)...</li>\n</ul>\n<p>Thanks for the help!</p>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":116306,"reputation":8518,"user_id":305020,"accept_rate":83,"display_name":"Pavel Tupitsyn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657107029,"creation_date":1657107029,"answer_id":72882843,"question_id":72882492,"body_markdown":"Yes, affinity colocation works in Ignite Thin Client the same way it does in thick client.\r\n\r\nThin client also supports [Partition Awareness][1] - sends requests directly to the primary node for the given cache entry. It is enabled by default.\r\n\r\n&gt; I tried to simply make AffinityKey as a key of for my put/get operations, but performance testing didn&#39;t show any improvements with timings.\r\n\r\n`AffinityKey` does not improve the performance of `put` operation. `AffinityKey` controls data distribution and allows things like *&quot;put all orders for the client on the same node where the client entry is stored&quot;*, so that related data can be processed together (with Compute or SQL) - this is  where you can achieve performance improvement.\r\n\r\n\r\n  [1]: https://ignite.apache.org/docs/2.11.1/thin-clients/getting-started-with-thin-clients#partition-awareness","title":"Does affinity colocation work with Ignite Thin client?","body":"<p>Yes, affinity colocation works in Ignite Thin Client the same way it does in thick client.</p>\n<p>Thin client also supports <a href=\"https://ignite.apache.org/docs/2.11.1/thin-clients/getting-started-with-thin-clients#partition-awareness\" rel=\"nofollow noreferrer\">Partition Awareness</a> - sends requests directly to the primary node for the given cache entry. It is enabled by default.</p>\n<blockquote>\n<p>I tried to simply make AffinityKey as a key of for my put/get operations, but performance testing didn't show any improvements with timings.</p>\n</blockquote>\n<p><code>AffinityKey</code> does not improve the performance of <code>put</code> operation. <code>AffinityKey</code> controls data distribution and allows things like <em>&quot;put all orders for the client on the same node where the client entry is stored&quot;</em>, so that related data can be processed together (with Compute or SQL) - this is  where you can achieve performance improvement.</p>\n"}],"owner":{"account_id":4947874,"reputation":3,"user_id":3982779,"display_name":"Ramil Izmaylov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72882843,"answer_count":1,"score":0,"last_activity_date":1657108137,"creation_date":1657105581,"question_id":72882492,"body_markdown":"In [the docs][1] I could find examples of the affinity colocation config only for thick client. Does this feature works with thin client? Any config examples, please? \r\n\r\nIn my app I use key-value API to work with Ignite Cache. \r\n\r\nI tried to simply make AffinityKey as a key of for my put/get operations (see code below). I used clientId to store values of a particular client on the same node. But performance testing didn&#39;t show any improvements with `getAll` timings.\r\n\r\nI suspect that something is wrong with my configuration:\r\n\r\n```\r\n@Bean\r\n    ClientConfiguration igniteThinClientConfiguration(IgniteProperties igniteProperties) {\r\n        ClientConfiguration clientConfiguration = new ClientConfiguration();\r\n        clientConfiguration.setTimeout(igniteProperties.getTimeout());\r\n        clientConfiguration.setAddresses(igniteProperties.getAddresses());\r\n        clientConfiguration.setPartitionAwarenessEnabled(igniteProperties.isPartitionAwareness());\r\n        return clientConfiguration;\r\n    }\r\n```\r\n\r\n\r\n```\r\nprivate static ClientCacheConfiguration cacheConfig(String cacheName, String cacheGroup, String dataRegion) {\r\n        ClientCacheConfiguration cfg = new ClientCacheConfiguration();\r\n        cfg.setName(cacheName);\r\n        cfg.setCacheMode(CacheMode.PARTITIONED);\r\n        cfg.setBackups(0);\r\n        cfg.setExpiryPolicy(new TouchedExpiryPolicy(new Duration(TimeUnit.HOURS, 6)));\r\n        cfg.setStatisticsEnabled(true);\r\n        cfg.setDefaultLockTimeout(3000L);\r\n        cfg.setGroupName(cacheGroup);\r\n        cfg.setDataRegionName(dataRegion);\r\n        return cfg;\r\n    }\r\n```\r\n\r\n\r\n```\r\nIgniteClient igniteClient = Ignition.startClient(igniteConfiguration);\r\nClientCache&lt;AffinityKey&lt;Long&gt;, PaymentReceiptResponse&gt; receiptCache = igniteClient.getOrCreateCache(cacheConfig(...));\r\n...\r\nreceiptCache.put(new AffinityKey&lt;&gt;(123L, &quot;clientId&quot;), value)\r\n...\r\nSet&lt;AffinityKey&lt;String&gt;&gt; keys = ...;\r\nreceiptCache.getAll(keys)\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://ignite.apache.org/docs/2.11.1/data-modeling/affinity-collocation","title":"Does affinity colocation work with Ignite Thin client?","body":"<p>In <a href=\"https://ignite.apache.org/docs/2.11.1/data-modeling/affinity-collocation\" rel=\"nofollow noreferrer\">the docs</a> I could find examples of the affinity colocation config only for thick client. Does this feature works with thin client? Any config examples, please?</p>\n<p>In my app I use key-value API to work with Ignite Cache.</p>\n<p>I tried to simply make AffinityKey as a key of for my put/get operations (see code below). I used clientId to store values of a particular client on the same node. But performance testing didn't show any improvements with <code>getAll</code> timings.</p>\n<p>I suspect that something is wrong with my configuration:</p>\n<pre><code>@Bean\n    ClientConfiguration igniteThinClientConfiguration(IgniteProperties igniteProperties) {\n        ClientConfiguration clientConfiguration = new ClientConfiguration();\n        clientConfiguration.setTimeout(igniteProperties.getTimeout());\n        clientConfiguration.setAddresses(igniteProperties.getAddresses());\n        clientConfiguration.setPartitionAwarenessEnabled(igniteProperties.isPartitionAwareness());\n        return clientConfiguration;\n    }\n</code></pre>\n<pre><code>private static ClientCacheConfiguration cacheConfig(String cacheName, String cacheGroup, String dataRegion) {\n        ClientCacheConfiguration cfg = new ClientCacheConfiguration();\n        cfg.setName(cacheName);\n        cfg.setCacheMode(CacheMode.PARTITIONED);\n        cfg.setBackups(0);\n        cfg.setExpiryPolicy(new TouchedExpiryPolicy(new Duration(TimeUnit.HOURS, 6)));\n        cfg.setStatisticsEnabled(true);\n        cfg.setDefaultLockTimeout(3000L);\n        cfg.setGroupName(cacheGroup);\n        cfg.setDataRegionName(dataRegion);\n        return cfg;\n    }\n</code></pre>\n<pre><code>IgniteClient igniteClient = Ignition.startClient(igniteConfiguration);\nClientCache&lt;AffinityKey&lt;Long&gt;, PaymentReceiptResponse&gt; receiptCache = igniteClient.getOrCreateCache(cacheConfig(...));\n...\nreceiptCache.put(new AffinityKey&lt;&gt;(123L, &quot;clientId&quot;), value)\n...\nSet&lt;AffinityKey&lt;String&gt;&gt; keys = ...;\nreceiptCache.getAll(keys)\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10850257,"reputation":661,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657107879,"creation_date":1657107879,"answer_id":72883046,"question_id":72882895,"body_markdown":"You can use one of optimization algorithms like simulated annealing, ruin and recreate principle, Monte Carlo method, bruteforce etc.\r\nIf you need to solve such problems in Java you can write your own implementation or use libraries. \r\n\r\nFor example:\r\n* [optaplanner][1]\r\n* [chip-n-salsa][2]\r\n* [java simulated annealing package][3]\r\n\r\n\r\n  [1]: https://www.optaplanner.org/\r\n  [2]: https://github.com/cicirello/Chips-n-Salsa\r\n  [3]: https://sourceforge.net/projects/jannealer/","title":"Which approach to use for bin merging either Bin packing algorithm or Knapsack?","body":"<p>You can use one of optimization algorithms like simulated annealing, ruin and recreate principle, Monte Carlo method, bruteforce etc.\nIf you need to solve such problems in Java you can write your own implementation or use libraries.</p>\n<p>For example:</p>\n<ul>\n<li><a href=\"https://www.optaplanner.org/\" rel=\"nofollow noreferrer\">optaplanner</a></li>\n<li><a href=\"https://github.com/cicirello/Chips-n-Salsa\" rel=\"nofollow noreferrer\">chip-n-salsa</a></li>\n<li><a href=\"https://sourceforge.net/projects/jannealer/\" rel=\"nofollow noreferrer\">java simulated annealing package</a></li>\n</ul>\n"}],"owner":{"account_id":25740079,"reputation":11,"user_id":19494217,"display_name":"shravya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657107879,"creation_date":1657107247,"question_id":72882895,"body_markdown":"I am merging bins with one target bin, say I have List of objects with weights {50,30,20,60,35,25,65}. I want to merge with the bin which is least occupied i,e 20 in this case. The max capacity of the bin is 80 . I want to get the combination of weights which should not exceed max capacity 80. Which algorithm I should use to solve this problem?","title":"Which approach to use for bin merging either Bin packing algorithm or Knapsack?","body":"<p>I am merging bins with one target bin, say I have List of objects with weights {50,30,20,60,35,25,65}. I want to merge with the bin which is least occupied i,e 20 in this case. The max capacity of the bin is 80 . I want to get the combination of weights which should not exceed max capacity 80. Which algorithm I should use to solve this problem?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7662109,"reputation":404,"user_id":5807064,"accept_rate":60,"display_name":"Zombie"},"score":0,"creation_date":1529426722,"post_id":50932518,"comment_id":88865136,"body_markdown":"take a look at this: https://dzone.com/articles/using-spring-interceptors-your","body":"take a look at this: <a href=\"https://dzone.com/articles/using-spring-interceptors-your\" rel=\"nofollow noreferrer\">dzone.com/articles/using-spring-interceptors-your</a>"},{"owner":{"account_id":12369973,"reputation":533,"user_id":9020593,"display_name":"BlueCloud"},"score":0,"creation_date":1529427189,"post_id":50932518,"comment_id":88865345,"body_markdown":"I think is only allow to set request parameter zombie. In my case modify the request body.","body":"I think is only allow to set request parameter zombie. In my case modify the request body."}],"answers":[{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1581524582,"creation_date":1529427743,"answer_id":50933530,"question_id":50932518,"body_markdown":"**Short Answer**  \r\nYes, but not easily.\r\n\r\n**Details**  \r\nI know of three options to change the body of a request\r\n&quot;before&quot; it arrives at the handler method in the controller;\r\n\r\n 1. Use AOP to change the request before the method is called.\r\n 1. Create an HTTP filter.\r\n 1. Create a custom Spring HandlerInterceptor.\r\n\r\nSince you are already using spring-boot,\r\noption 3, custom Spring HandlerInterceptor,\r\nseems like the best option for you.\r\n\r\nHere is a link to a [Baeldung Article][1] covering spring HandlerInterceptors.\r\n\r\nThe Baeldung article is not the full answer for your problem\r\nbecause you can only read the `InputStrem` returned by `HttpServletRequest` one time.\r\n\r\nYou will need to create a wrapper class that extends `HttpServletRequest`\r\nand wrap every request in your wrapper class within your custom HandlerInterceptor or in a custom Filter (Filter might be the way to go here).\r\n\r\n***Wrapper Class***\r\n\r\n  1. Read the `HttpServletRequest` InputStream in the wrapper class constructor\r\n  2. Modify the body per your requirements.\r\n  3. Write the modified body to a `ByteArrayOutputStream`.\r\n  4. Use `toByteArray` to retrieve the actual `byte[]` from the stream.\r\n  5. Close the ByteArrayOutputStream (try-with-resources is good for this).\r\n  6. Override the `getInputStream` method.\r\n  7. Wrap the `byte[]` in a ByteArrayInputStream every time the `getInputStream` is called.  Return this stream.\r\n\r\n**How To Wrap the Request**\r\n\r\n  1. In your Filter, instantiate your wrapper class and pass in the original request (which is a parameter to the doFilter method).\r\n  2. Pass the wrapper to the chain.doFilter method (not the original request).\r\n\r\n[1]:http://www.baeldung.com/spring-mvc-handlerinterceptor","title":"How to modify request body before reaching controller in spring boot","body":"<p><strong>Short Answer</strong><br>\nYes, but not easily.</p>\n\n<p><strong>Details</strong><br>\nI know of three options to change the body of a request\n\"before\" it arrives at the handler method in the controller;</p>\n\n<ol>\n<li>Use AOP to change the request before the method is called.</li>\n<li>Create an HTTP filter.</li>\n<li>Create a custom Spring HandlerInterceptor.</li>\n</ol>\n\n<p>Since you are already using spring-boot,\noption 3, custom Spring HandlerInterceptor,\nseems like the best option for you.</p>\n\n<p>Here is a link to a <a href=\"http://www.baeldung.com/spring-mvc-handlerinterceptor\" rel=\"noreferrer\">Baeldung Article</a> covering spring HandlerInterceptors.</p>\n\n<p>The Baeldung article is not the full answer for your problem\nbecause you can only read the <code>InputStrem</code> returned by <code>HttpServletRequest</code> one time.</p>\n\n<p>You will need to create a wrapper class that extends <code>HttpServletRequest</code>\nand wrap every request in your wrapper class within your custom HandlerInterceptor or in a custom Filter (Filter might be the way to go here).</p>\n\n<p><strong><em>Wrapper Class</em></strong></p>\n\n<ol>\n<li>Read the <code>HttpServletRequest</code> InputStream in the wrapper class constructor</li>\n<li>Modify the body per your requirements.</li>\n<li>Write the modified body to a <code>ByteArrayOutputStream</code>.</li>\n<li>Use <code>toByteArray</code> to retrieve the actual <code>byte[]</code> from the stream.</li>\n<li>Close the ByteArrayOutputStream (try-with-resources is good for this).</li>\n<li>Override the <code>getInputStream</code> method.</li>\n<li>Wrap the <code>byte[]</code> in a ByteArrayInputStream every time the <code>getInputStream</code> is called.  Return this stream.</li>\n</ol>\n\n<p><strong>How To Wrap the Request</strong></p>\n\n<ol>\n<li>In your Filter, instantiate your wrapper class and pass in the original request (which is a parameter to the doFilter method).</li>\n<li>Pass the wrapper to the chain.doFilter method (not the original request).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3102613,"reputation":189,"user_id":2626345,"display_name":"Abhinay Dronavally"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1553504333,"creation_date":1553504333,"answer_id":55334241,"question_id":50932518,"body_markdown":"Another alternative would be adding an attribute to the **HttpServletRequest** object. And after that you can read that attribute in the Controller class with **@RequestAttribute** annotation.\r\n\r\n\r\nIn the Interceptor\r\n\r\n    @Component\r\n        public class SimpleInterceptor extends HandlerInterceptorAdapter {\r\n   \r\n            @Override\r\n            public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n                    throws ServletException, IOException {\r\n                String parameter = request.getParameter(&quot;parameter&quot;);\r\n                if (parameter == &quot;somevalue&quot;) {\r\n                    request.setAttribute(&quot;customAttribute&quot;, &quot;value&quot;);\r\n                }\r\n                \r\n                return true;\r\n            }\r\n    \r\n        }\r\n\r\nIn the Controller\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;&quot;)\r\n    public class SampleController {\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/sample&quot;,method = RequestMethod.POST)\r\n        public String work(@RequestBody SampleRequest sampleRequest, @RequestAttribute(&quot;customAttribute&quot;) String customAttribute) {\r\n            System.out.println(customAttribute);\r\n            return &quot;This works&quot;;\r\n        }\r\n    }\r\n\r\n\r\nThis has advantage of not modifying the request body. ","title":"How to modify request body before reaching controller in spring boot","body":"<p>Another alternative would be adding an attribute to the <strong>HttpServletRequest</strong> object. And after that you can read that attribute in the Controller class with <strong>@RequestAttribute</strong> annotation.</p>\n\n<p>In the Interceptor</p>\n\n<pre><code>@Component\n    public class SimpleInterceptor extends HandlerInterceptorAdapter {\n\n        @Override\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n                throws ServletException, IOException {\n            String parameter = request.getParameter(\"parameter\");\n            if (parameter == \"somevalue\") {\n                request.setAttribute(\"customAttribute\", \"value\");\n            }\n\n            return true;\n        }\n\n    }\n</code></pre>\n\n<p>In the Controller</p>\n\n<pre><code>@RestController\n@RequestMapping(\"\")\npublic class SampleController {\n\n\n    @RequestMapping(value = \"/sample\",method = RequestMethod.POST)\n    public String work(@RequestBody SampleRequest sampleRequest, @RequestAttribute(\"customAttribute\") String customAttribute) {\n        System.out.println(customAttribute);\n        return \"This works\";\n    }\n}\n</code></pre>\n\n<p>This has advantage of not modifying the request body. </p>\n"},{"tags":[],"owner":{"account_id":7557581,"reputation":913,"user_id":5736574,"display_name":"Bijaya Bhaskar Swain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1595594456,"creation_date":1595594456,"answer_id":63073783,"question_id":50932518,"body_markdown":"My answer using **HTTP Filter**.\r\n\r\n**RequestFilter.java**\r\n\r\n    @Component\r\n    public class RequestFilter implements Filter {\r\n    \r\n    \t@Override\r\n    \tpublic void init(FilterConfig filterConfig) throws ServletException {\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \t\tRequestWrapper wrappedRequest = new RequestWrapper((HttpServletRequest) request);\r\n    \t\tchain.doFilter(wrappedRequest, response);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void destroy() {\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**RequestWrapper.java**\r\n\r\n     public class RequestWrapper extends HttpServletRequestWrapper {\r\n        \tprivate final String body;\r\n        \tprivate ObjectMapper objectMapper = new ObjectMapper();\r\n        \r\n        \tpublic RequestWrapper(HttpServletRequest request) throws IOException {\r\n        \t\t// So that other request method behave just like before\r\n        \t\tsuper(request);\r\n        \r\n        \t\tStringBuilder stringBuilder = new StringBuilder();\r\n        \t\tBufferedReader bufferedReader = null;\r\n        \t\ttry {\r\n        \t\t\tInputStream inputStream = request.getInputStream();\r\n        \t\t\tif (inputStream != null) {\r\n        \t\t\t\tbufferedReader = new BufferedReader(new InputStreamReader(inputStream));\r\n        \t\t\t\tchar[] charBuffer = new char[128];\r\n        \t\t\t\tint bytesRead = -1;\r\n        \t\t\t\twhile ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\r\n        \t\t\t\t\tstringBuilder.append(charBuffer, 0, bytesRead);\r\n        \t\t\t\t}\r\n        \r\n        \t\t\t} else {\r\n        \t\t\t\tstringBuilder.append(&quot;&quot;);\r\n        \t\t\t}\r\n        \t\t} catch (IOException ex) {\r\n        \t\t\tthrow ex;\r\n        \t\t} finally {\r\n        \t\t\tif (bufferedReader != null) {\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\tbufferedReader.close();\r\n        \t\t\t\t} catch (IOException ex) {\r\n        \t\t\t\t\tthrow ex;\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\t// Store request body content in &#39;requestBody&#39; variable\r\n        \t\tString requestBody = stringBuilder.toString();\r\n        \t\tJsonNode jsonNode = objectMapper.readTree(requestBody);\r\n        \t\t//TODO -- Update your request body here \r\n                //Sample\r\n                ((ObjectNode) jsonNode).remove(&quot;key&quot;);\r\n        \t\t// Finally store updated request body content in &#39;body&#39; variable\r\n        \t\tbody = jsonNode.toString();\r\n        \r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic ServletInputStream getInputStream() throws IOException {\r\n        \t\tfinal ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\r\n        \t\tServletInputStream servletInputStream = new ServletInputStream() {\r\n        \t\t\tpublic int read() throws IOException {\r\n        \t\t\t\treturn byteArrayInputStream.read();\r\n        \t\t\t}\r\n        \r\n        \t\t\t@Override\r\n        \t\t\tpublic boolean isFinished() {\r\n        \t\t\t\treturn false;\r\n        \t\t\t}\r\n        \r\n        \t\t\t@Override\r\n        \t\t\tpublic boolean isReady() {\r\n        \t\t\t\treturn false;\r\n        \t\t\t}\r\n        \r\n        \t\t\t@Override\r\n        \t\t\tpublic void setReadListener(ReadListener listener) {\r\n        \r\n        \t\t\t}\r\n        \t\t};\r\n        \t\treturn servletInputStream;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic BufferedReader getReader() throws IOException {\r\n        \t\treturn new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n        \t}\r\n    }","title":"How to modify request body before reaching controller in spring boot","body":"<p>My answer using <strong>HTTP Filter</strong>.</p>\n<p><strong>RequestFilter.java</strong></p>\n<pre><code>@Component\npublic class RequestFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        RequestWrapper wrappedRequest = new RequestWrapper((HttpServletRequest) request);\n        chain.doFilter(wrappedRequest, response);\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n\n}\n</code></pre>\n<p><strong>RequestWrapper.java</strong></p>\n<pre><code> public class RequestWrapper extends HttpServletRequestWrapper {\n        private final String body;\n        private ObjectMapper objectMapper = new ObjectMapper();\n    \n        public RequestWrapper(HttpServletRequest request) throws IOException {\n            // So that other request method behave just like before\n            super(request);\n    \n            StringBuilder stringBuilder = new StringBuilder();\n            BufferedReader bufferedReader = null;\n            try {\n                InputStream inputStream = request.getInputStream();\n                if (inputStream != null) {\n                    bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n                    char[] charBuffer = new char[128];\n                    int bytesRead = -1;\n                    while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                        stringBuilder.append(charBuffer, 0, bytesRead);\n                    }\n    \n                } else {\n                    stringBuilder.append(&quot;&quot;);\n                }\n            } catch (IOException ex) {\n                throw ex;\n            } finally {\n                if (bufferedReader != null) {\n                    try {\n                        bufferedReader.close();\n                    } catch (IOException ex) {\n                        throw ex;\n                    }\n                }\n            }\n            // Store request body content in 'requestBody' variable\n            String requestBody = stringBuilder.toString();\n            JsonNode jsonNode = objectMapper.readTree(requestBody);\n            //TODO -- Update your request body here \n            //Sample\n            ((ObjectNode) jsonNode).remove(&quot;key&quot;);\n            // Finally store updated request body content in 'body' variable\n            body = jsonNode.toString();\n    \n        }\n    \n        @Override\n        public ServletInputStream getInputStream() throws IOException {\n            final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes());\n            ServletInputStream servletInputStream = new ServletInputStream() {\n                public int read() throws IOException {\n                    return byteArrayInputStream.read();\n                }\n    \n                @Override\n                public boolean isFinished() {\n                    return false;\n                }\n    \n                @Override\n                public boolean isReady() {\n                    return false;\n                }\n    \n                @Override\n                public void setReadListener(ReadListener listener) {\n    \n                }\n            };\n            return servletInputStream;\n        }\n    \n        @Override\n        public BufferedReader getReader() throws IOException {\n            return new BufferedReader(new InputStreamReader(this.getInputStream()));\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15449919,"reputation":29,"user_id":14050321,"display_name":"Rodrigo Pereira"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1596573933,"creation_date":1596573933,"answer_id":63254798,"question_id":50932518,"body_markdown":"One way to this is by reflection. ProceedingJoinPoint contains the args object passed to method\r\n\r\n    @Aspect\r\n    @Component\r\n    public class AopInterceptor {\r\n    \r\n        @Around(value = &quot;@annotation(xyz.rpolnx.spring.web.poc.annotation.AopIntercepExample)&quot;)\r\n        public Object handler(final ProceedingJoinPoint joinPoint) throws Throwable {\r\n            HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\r\n    \r\n            Object[] args = joinPoint.getArgs();\r\n    \r\n            Class&lt;?&gt; someClass = args[0].getClass();\r\n    \r\n            Field field = someClass.getDeclaredField(&quot;custom&quot;);\r\n            field.setAccessible(true);\r\n            field.set(args[0], &quot;custom&quot;);\r\n            field.setAccessible(false);\r\n    \r\n            return joinPoint.proceed();\r\n        }\r\n    }\r\n    \r\n    @RestController\r\n    public class SimpleController {\r\n    \r\n        @PostMapping(&quot;/aop&quot;)\r\n        @AopIntercepExample\r\n        public Person handleAopIntercept(@RequestBody Person nodes) {\r\n            return nodes;\r\n        }\r\n    }\r\n    \r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface AopIntercepExample {\r\n    }\r\n    \r\n    public class Person {\r\n        private String name;\r\n        private String id;\r\n        private String custom;\r\n    }","title":"How to modify request body before reaching controller in spring boot","body":"<p>One way to this is by reflection. ProceedingJoinPoint contains the args object passed to method</p>\n<pre><code>@Aspect\n@Component\npublic class AopInterceptor {\n\n    @Around(value = &quot;@annotation(xyz.rpolnx.spring.web.poc.annotation.AopIntercepExample)&quot;)\n    public Object handler(final ProceedingJoinPoint joinPoint) throws Throwable {\n        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();\n\n        Object[] args = joinPoint.getArgs();\n\n        Class&lt;?&gt; someClass = args[0].getClass();\n\n        Field field = someClass.getDeclaredField(&quot;custom&quot;);\n        field.setAccessible(true);\n        field.set(args[0], &quot;custom&quot;);\n        field.setAccessible(false);\n\n        return joinPoint.proceed();\n    }\n}\n\n@RestController\npublic class SimpleController {\n\n    @PostMapping(&quot;/aop&quot;)\n    @AopIntercepExample\n    public Person handleAopIntercept(@RequestBody Person nodes) {\n        return nodes;\n    }\n}\n\n@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface AopIntercepExample {\n}\n\npublic class Person {\n    private String name;\n    private String id;\n    private String custom;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10558379,"reputation":569,"user_id":7778833,"display_name":"Amy Doxy"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1600976053,"creation_date":1600976053,"answer_id":64053218,"question_id":50932518,"body_markdown":"Here&#39;s how I achieved it using the RequestBodyAdvice:\r\n\r\n1. Create a class that implements RequestBodyAdvice and annotate it with @ControllerAdvice\r\n\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @ControllerAdvice\r\n    public class CustomRequestBodyAdvice implements RequestBodyAdvice {\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n2. You will have to implements 4 methods:\r\n\r\na. support: here, you can control which controller you are targeting, and better which request body by specifying the type of the request body\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n        public boolean supports(MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\r\n            log.info(&quot;In supports() method of {}&quot;, getClass().getSimpleName());\r\n            return methodParameter.getContainingClass() == AuthorController.class &amp;&amp; type.getTypeName() == AuthorDTO.class.getTypeName();\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nb. beforeBodyReady\r\n\t\r\n\t&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n    public HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) throws IOException {\r\n        log.info(&quot;In beforeBodyRead() method of {}&quot;, getClass().getSimpleName());\r\n        return httpInputMessage;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  c. afterBodyRead: here it is where you can modify the request body\r\n\t\r\n\t&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n    public Object afterBodyRead(Object body, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\r\n        log.info(&quot;In afterBodyRead() method of {}&quot;, getClass().getSimpleName());\r\n        if (body instanceof AuthorDTO) {\r\n            AuthorDTO authorDTO = (AuthorDTO) body;\r\n            authorDTO.setName(&quot;Test&quot;);\r\n            return authorDTO;\r\n        }\r\n\r\n        return body;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nd. handleEmptyBody\r\n\t\r\n\t&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n    public Object handleEmptyBody(Object body, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\r\n        log.info(&quot;In handleEmptyBody() method of {}&quot;, getClass().getSimpleName());\r\n        return body;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\t\r\nSource: http://www.javabyexamples.com/quick-guide-to-requestbodyadvice-in-spring-mvc","title":"How to modify request body before reaching controller in spring boot","body":"<p>Here's how I achieved it using the RequestBodyAdvice:</p>\n<ol>\n<li>Create a class that implements RequestBodyAdvice and annotate it with @ControllerAdvice</li>\n</ol>\n<pre class=\"lang-js prettyprint-override\"><code>@ControllerAdvice\npublic class CustomRequestBodyAdvice implements RequestBodyAdvice {\n</code></pre>\n\n<ol start=\"2\">\n<li>You will have to implements 4 methods:</li>\n</ol>\n<p>a. support: here, you can control which controller you are targeting, and better which request body by specifying the type of the request body</p>\n<pre class=\"lang-js prettyprint-override\"><code>@Override\n    public boolean supports(MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\n        log.info(&quot;In supports() method of {}&quot;, getClass().getSimpleName());\n        return methodParameter.getContainingClass() == AuthorController.class &amp;&amp; type.getTypeName() == AuthorDTO.class.getTypeName();\n    }\n</code></pre>\n\n<p>b. beforeBodyReady</p>\n<pre><code>&lt;!-- language: lang-js --&gt;\n\n@Override\npublic HttpInputMessage beforeBodyRead(HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) throws IOException {\n    log.info(&quot;In beforeBodyRead() method of {}&quot;, getClass().getSimpleName());\n    return httpInputMessage;\n}\n</code></pre>\n\n<p>c. afterBodyRead: here it is where you can modify the request body</p>\n<pre><code>&lt;!-- language: lang-js --&gt;\n\n@Override\npublic Object afterBodyRead(Object body, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\n    log.info(&quot;In afterBodyRead() method of {}&quot;, getClass().getSimpleName());\n    if (body instanceof AuthorDTO) {\n        AuthorDTO authorDTO = (AuthorDTO) body;\n        authorDTO.setName(&quot;Test&quot;);\n        return authorDTO;\n    }\n\n    return body;\n}\n</code></pre>\n\n<p>d. handleEmptyBody</p>\n<pre><code>&lt;!-- language: lang-js --&gt;\n\n@Override\npublic Object handleEmptyBody(Object body, HttpInputMessage httpInputMessage, MethodParameter methodParameter, Type type, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\n    log.info(&quot;In handleEmptyBody() method of {}&quot;, getClass().getSimpleName());\n    return body;\n}\n</code></pre>\n\n<p>Source: <a href=\"http://www.javabyexamples.com/quick-guide-to-requestbodyadvice-in-spring-mvc\" rel=\"noreferrer\">http://www.javabyexamples.com/quick-guide-to-requestbodyadvice-in-spring-mvc</a></p>\n"},{"tags":[],"owner":{"account_id":7037033,"reputation":119,"user_id":5390751,"display_name":"D. O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657107864,"creation_date":1657107864,"answer_id":72883039,"question_id":50932518,"body_markdown":"I had this this issue too. This thread helped me a bit and I wanted to post a simpler solution than Bijaya Bhaskar Swain.\r\n\r\n    package com.thebois.inpassering.adapters.merchant.staffrestrepo;\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.thebois.inpassering.adapters.merchant.FilterOrders;\r\n    import com.thebois.inpassering.adapters.merchant.facilityownerrestrepo.FacilityOwner;\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.stream.Collectors;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    import org.springframework.web.util.ContentCachingRequestWrapper;\r\n    \r\n    \r\n    @Component\r\n    @AllArgsConstructor\r\n    @Order(value = FilterOrders.STAFF_REQUEST_ORDER)\r\n    public class StaffCreationFilter extends OncePerRequestFilter  {\r\n    \r\n      ObjectMapper objectMapper;\r\n    \r\n      @Override\r\n      protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n          throws ServletException, IOException {\r\n        RequestWrapper modifiedRequest = new RequestWrapper(request);\r\n        filterChain.doFilter(modifiedRequest, response);\r\n      }\r\n    \r\n      @Override\r\n      protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        return !(request.getServletPath().contains(&quot;/staff&quot;) &amp;&amp; request.getMethod().equals(&quot;POST&quot;));\r\n      }\r\n    \r\n      private class RequestWrapper extends HttpServletRequestWrapper {\r\n    \r\n        String body;\r\n    \r\n        public RequestWrapper(HttpServletRequest request) throws IOException {\r\n          super(request);\r\n          String body = new ContentCachingRequestWrapper(request).getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n          //get your dto\r\n          Staff staff = objectMapper.readValue(body, Staff.class);\r\n    \r\n          //edit your dto\r\n          long facilityOwnerId = ((Number) request.getAttribute(&quot;facilityOwnerId&quot;)).longValue();\r\n          FacilityOwner facilityOwner = FacilityOwner.builder()\r\n              .facilityOwnerId(facilityOwnerId)\r\n              .build();\r\n    \r\n          Staff modifiedStaff = Staff.builder()\r\n              .facilityOwner(facilityOwner)\r\n              .username(staff.getUsername())\r\n              .password(new BCryptPasswordEncoder().encode(staff.getPassword()))\r\n              .build();\r\n    \r\n          //save your changes to body\r\n          this.body = objectMapper.writeValueAsString(modifiedStaff);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() {\r\n          final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes(StandardCharsets.UTF_8));\r\n          ServletInputStream servletInputStream = new ServletInputStream() {\r\n            public int read() {\r\n              return byteArrayInputStream.read();\r\n            }\r\n    \r\n            @Override\r\n            public boolean isFinished() {\r\n              return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isReady() {\r\n              return true;\r\n            }\r\n    \r\n            @Override\r\n            public void setReadListener(ReadListener listener) {\r\n    \r\n            }\r\n          };\r\n          return servletInputStream;\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n          return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"How to modify request body before reaching controller in spring boot","body":"<p>I had this this issue too. This thread helped me a bit and I wanted to post a simpler solution than Bijaya Bhaskar Swain.</p>\n<pre><code>package com.thebois.inpassering.adapters.merchant.staffrestrepo;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.thebois.inpassering.adapters.merchant.FilterOrders;\nimport com.thebois.inpassering.adapters.merchant.facilityownerrestrepo.FacilityOwner;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.stream.Collectors;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ReadListener;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport javax.servlet.http.HttpServletResponse;\nimport lombok.AllArgsConstructor;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\n\n\n@Component\n@AllArgsConstructor\n@Order(value = FilterOrders.STAFF_REQUEST_ORDER)\npublic class StaffCreationFilter extends OncePerRequestFilter  {\n\n  ObjectMapper objectMapper;\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n    RequestWrapper modifiedRequest = new RequestWrapper(request);\n    filterChain.doFilter(modifiedRequest, response);\n  }\n\n  @Override\n  protected boolean shouldNotFilter(HttpServletRequest request) {\n    return !(request.getServletPath().contains(&quot;/staff&quot;) &amp;&amp; request.getMethod().equals(&quot;POST&quot;));\n  }\n\n  private class RequestWrapper extends HttpServletRequestWrapper {\n\n    String body;\n\n    public RequestWrapper(HttpServletRequest request) throws IOException {\n      super(request);\n      String body = new ContentCachingRequestWrapper(request).getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n      //get your dto\n      Staff staff = objectMapper.readValue(body, Staff.class);\n\n      //edit your dto\n      long facilityOwnerId = ((Number) request.getAttribute(&quot;facilityOwnerId&quot;)).longValue();\n      FacilityOwner facilityOwner = FacilityOwner.builder()\n          .facilityOwnerId(facilityOwnerId)\n          .build();\n\n      Staff modifiedStaff = Staff.builder()\n          .facilityOwner(facilityOwner)\n          .username(staff.getUsername())\n          .password(new BCryptPasswordEncoder().encode(staff.getPassword()))\n          .build();\n\n      //save your changes to body\n      this.body = objectMapper.writeValueAsString(modifiedStaff);\n    }\n\n\n    @Override\n    public ServletInputStream getInputStream() {\n      final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(body.getBytes(StandardCharsets.UTF_8));\n      ServletInputStream servletInputStream = new ServletInputStream() {\n        public int read() {\n          return byteArrayInputStream.read();\n        }\n\n        @Override\n        public boolean isFinished() {\n          return false;\n        }\n\n        @Override\n        public boolean isReady() {\n          return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener listener) {\n\n        }\n      };\n      return servletInputStream;\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n      return new BufferedReader(new InputStreamReader(this.getInputStream()));\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":12369973,"reputation":533,"user_id":9020593,"display_name":"BlueCloud"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58857,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":50933530,"answer_count":6,"score":28,"last_activity_date":1657107864,"creation_date":1529423912,"question_id":50932518,"body_markdown":"I have a spring boot application.\r\nI change the request body of every post request.\r\nIs it possible to modify the request body before the request reaches the controller.\r\nPlease include an example.\r\n","title":"How to modify request body before reaching controller in spring boot","body":"<p>I have a spring boot application.\nI change the request body of every post request.\nIs it possible to modify the request body before the request reaches the controller.\nPlease include an example.</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1657106804,"post_id":72882725,"comment_id":128729485,"body_markdown":"can you post more details like stack trace or what is the Url you are calling. What is the error you are facing? Instead of having multiple try catch block , have you checked for `ResponseErrorHandler`","body":"can you post more details like stack trace or what is the Url you are calling. What is the error you are facing? Instead of having multiple try catch block , have you checked for <code>ResponseErrorHandler</code>"},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1657107220,"post_id":72882725,"comment_id":128729663,"body_markdown":"I have checked about it, however, as you see that when I got the 500, I need to send the result as it&#39;s normal, because it&#39;s really normal (just negative case, not really server error). I cannot throw exception for it because it should just be ignored..","body":"I have checked about it, however, as you see that when I got the 500, I need to send the result as it&#39;s normal, because it&#39;s really normal (just negative case, not really server error). I cannot throw exception for it because it should just be ignored.."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1657108110,"post_id":72882725,"comment_id":128729979,"body_markdown":"Can you post error stacktrace?","body":"Can you post error stacktrace?"},{"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"score":0,"creation_date":1657111358,"post_id":72882725,"comment_id":128731238,"body_markdown":"The error is actually NullPointerException... That try catch chain was actually just passed through without being caught as if there wasn&#39;t HTTP Response 500 occured, when the InternalServerError Exception should catch it","body":"The error is actually NullPointerException... That try catch chain was actually just passed through without being caught as if there wasn&#39;t HTTP Response 500 occured, when the InternalServerError Exception should catch it"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1657618260,"post_id":72882725,"comment_id":128847800,"body_markdown":"As requested by others also , Please post your stacktrace and debug results to get more idea about what exactly happening.","body":"As requested by others also , Please post your stacktrace and debug results to get more idea about what exactly happening."}],"owner":{"account_id":19965141,"reputation":1690,"user_id":14631885,"display_name":"Dhana D."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":467,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657107789,"creation_date":1657106501,"question_id":72882725,"body_markdown":"I am currently working on a service that hit another service from another team, which gives the response code 500 when the service has no data to be sent. At first, I can utilize the `HttpServerErrorException.InternalServerError` to catch the exception and get the response body. However, this did not work as it used to. That error was not caught by that Exception and when I tried using `catch (Exception e)`, it also caught nothing and let it through that  makes the service not running correctly..\r\n\r\nBelow is the code, what is actually wrong from my code below? How should I handle that 500 response code? \r\n\r\n```\r\n        Map resultMap1;\r\n        try {\r\n            resultMap1 = restTemplate.postForEntity(url, request, Map.class);\r\n        } catch (HttpServerErrorException.InternalServerError e) {\r\n            resultMap1 = new HashMap();\r\n            resultMap1.put(&quot;errorMessage&quot;, e.getMessage());\r\n            return resultMap1;\r\n        } catch (HttpServerErrorException.GatewayTimeout e) {\r\n            throw new AppException(\r\n                    GATEWAY_TIMEOUT_CD,\r\n                    GATEWAY_TIMEOUT_MSG +&quot;: &quot;+ url,\r\n                    null\r\n            );\r\n        } catch (HttpServerErrorException.BadGateway e) {\r\n            throw new AppException(\r\n                    BAD_GATEWAY_CD,\r\n                    BAD_GATEWAY_MSG +&quot;: &quot;+ url,\r\n                    null\r\n            );\r\n        } catch (HttpServerErrorException.ServiceUnavailable e) {\r\n            throw new AppException(\r\n                    SERVICE_UNAVAILABLE_CD,\r\n                    &quot;The service &quot;+ url +&quot; was unavailable.&quot;,\r\n                    null\r\n            );\r\n        }\r\n        Map returnMap = new HashMap(); // this is to be the result from my service\r\n        switch (resultMap.get(&quot;content_type&quot;)){      // In this one, I get NullPointerException      \r\n            // Here would be selection how the content should be treated, different content have different treatment            \r\n        }\r\n```\r\n\r\nI know that the NullPointerException can actually be handled by adding ELSE or another case, However, I curious about why the Exception wasn&#39;t caught well as it supposed to be.","title":"HttpServerErrorException.InternalServerError does not catch the Error 500 from the Http Request Resttemplate","body":"<p>I am currently working on a service that hit another service from another team, which gives the response code 500 when the service has no data to be sent. At first, I can utilize the <code>HttpServerErrorException.InternalServerError</code> to catch the exception and get the response body. However, this did not work as it used to. That error was not caught by that Exception and when I tried using <code>catch (Exception e)</code>, it also caught nothing and let it through that  makes the service not running correctly..</p>\n<p>Below is the code, what is actually wrong from my code below? How should I handle that 500 response code?</p>\n<pre><code>        Map resultMap1;\n        try {\n            resultMap1 = restTemplate.postForEntity(url, request, Map.class);\n        } catch (HttpServerErrorException.InternalServerError e) {\n            resultMap1 = new HashMap();\n            resultMap1.put(&quot;errorMessage&quot;, e.getMessage());\n            return resultMap1;\n        } catch (HttpServerErrorException.GatewayTimeout e) {\n            throw new AppException(\n                    GATEWAY_TIMEOUT_CD,\n                    GATEWAY_TIMEOUT_MSG +&quot;: &quot;+ url,\n                    null\n            );\n        } catch (HttpServerErrorException.BadGateway e) {\n            throw new AppException(\n                    BAD_GATEWAY_CD,\n                    BAD_GATEWAY_MSG +&quot;: &quot;+ url,\n                    null\n            );\n        } catch (HttpServerErrorException.ServiceUnavailable e) {\n            throw new AppException(\n                    SERVICE_UNAVAILABLE_CD,\n                    &quot;The service &quot;+ url +&quot; was unavailable.&quot;,\n                    null\n            );\n        }\n        Map returnMap = new HashMap(); // this is to be the result from my service\n        switch (resultMap.get(&quot;content_type&quot;)){      // In this one, I get NullPointerException      \n            // Here would be selection how the content should be treated, different content have different treatment            \n        }\n</code></pre>\n<p>I know that the NullPointerException can actually be handled by adding ELSE or another case, However, I curious about why the Exception wasn't caught well as it supposed to be.</p>\n"},{"tags":["java","get","null","garbage-collection","weak-references"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657090115,"post_id":72878904,"comment_id":128723490,"body_markdown":"`String string = new String(&quot;abc&quot;);` - reference to string is still on the stack.","body":"<code>String string = new String(&quot;abc&quot;);</code> - reference to string is still on the stack."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657107702,"creation_date":1657090226,"answer_id":72879026,"question_id":72878904,"body_markdown":"A weak reference is a reference that does not protect the referenced object from collection by a garbage collector, unlike a strong reference.\r\n\r\nBecause `abc` is held by the strong reference `string`, the object will not be eligible to GC it as there is an existing living reference to it and thus the weak reference still refers to it. In the second case, the only reference to `another` is `sr` a weak reference and GC is then free to make what it refers to as eligible to deletion.\r\n\r\nDeletion may be &quot;virtual&quot;, that depends on the Garbage Collector used.\r\n\r\n","title":"Java: WeakReference.get() returns differently after System.gc()","body":"<p>A weak reference is a reference that does not protect the referenced object from collection by a garbage collector, unlike a strong reference.</p>\n<p>Because <code>abc</code> is held by the strong reference <code>string</code>, the object will not be eligible to GC it as there is an existing living reference to it and thus the weak reference still refers to it. In the second case, the only reference to <code>another</code> is <code>sr</code> a weak reference and GC is then free to make what it refers to as eligible to deletion.</p>\n<p>Deletion may be &quot;virtual&quot;, that depends on the Garbage Collector used.</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72879026,"answer_count":1,"score":2,"last_activity_date":1657107702,"creation_date":1657089546,"question_id":72878904,"body_markdown":"I tried to see when weak reference returns ```null``` by ```get()```:\r\n\r\n```\r\nString string = new String(&quot;abc&quot;);\r\nWeakReference&lt;String&gt; wi = new WeakReference&lt;&gt;(string);\r\nWeakReference&lt;String&gt; sr = new WeakReference&lt;&gt;(new String(&quot;another&quot;));\r\nSystem.out.println(wi.get());\r\nSystem.out.println(sr.get());\r\nSystem.gc();\r\nSystem.out.println(&quot;After gc() wi = &quot; + wi.get());\r\nSystem.out.println(&quot;After gc() sr =: &quot; + sr.get());\r\n```\r\nIt prints:\r\n```\r\nabc\r\nanother\r\nAfter gc() wi = abc\r\nAfter gc() sr =: null\r\n```\r\n\r\nWhy after ```gc()```, wi still holds reference, and sr is holding ```null```? I changed ```String``` type into ```Integer``` or my own class, same result.\r\n\r\nWhat makes the core difference here?\r\n","title":"Java: WeakReference.get() returns differently after System.gc()","body":"<p>I tried to see when weak reference returns <code>null</code> by <code>get()</code>:</p>\n<pre><code>String string = new String(&quot;abc&quot;);\nWeakReference&lt;String&gt; wi = new WeakReference&lt;&gt;(string);\nWeakReference&lt;String&gt; sr = new WeakReference&lt;&gt;(new String(&quot;another&quot;));\nSystem.out.println(wi.get());\nSystem.out.println(sr.get());\nSystem.gc();\nSystem.out.println(&quot;After gc() wi = &quot; + wi.get());\nSystem.out.println(&quot;After gc() sr =: &quot; + sr.get());\n</code></pre>\n<p>It prints:</p>\n<pre><code>abc\nanother\nAfter gc() wi = abc\nAfter gc() sr =: null\n</code></pre>\n<p>Why after <code>gc()</code>, wi still holds reference, and sr is holding <code>null</code>? I changed <code>String</code> type into <code>Integer</code> or my own class, same result.</p>\n<p>What makes the core difference here?</p>\n"},{"tags":["java","android","algorithm","optimization","carriage-return"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1657103046,"post_id":72881395,"comment_id":128728130,"body_markdown":"&quot;It also creates a new line&quot;: no it doesn&#39;t. Examine your assumptions, and your output, which shows no evidence of this claim. The string `ghid` does not appear in your source code: *ergo* either it wasn&#39;t produced or this isn&#39;t the real code. `\\n\\r` is not a valid line terminator. Apart from `ghid` the output is exactly as expected. CR returns the carriage to the left, and LF advances it one line. There is no problem here to solve.","body":"&quot;It also creates a new line&quot;: no it doesn&#39;t. Examine your assumptions, and your output, which shows no evidence of this claim. The string <code>ghid</code> does not appear in your source code: <i>ergo</i> either it wasn&#39;t produced or this isn&#39;t the real code. <code>\\n\\r</code> is not a valid line terminator. Apart from <code>ghid</code> the output is exactly as expected. CR returns the carriage to the left, and LF advances it one line. There is no problem here to solve."},{"owner":{"account_id":25739033,"reputation":21,"user_id":19493299,"display_name":"CSicking"},"score":0,"creation_date":1657103623,"post_id":72881395,"comment_id":128728338,"body_markdown":"Try it in an online compiler before saying things. When you write any string, doesn&#39;t matter if `\\n\\r` is switched or not. Should not matter in case of receiving a byte stream. Besides that, the operating system of android translates a `\\r` to `\\r\\n` automatically when converting to a string, doesn&#39;t fill the empty spaces which is required. Check this tutorial point: http://tpcg.io/_KWYJTX totally wrong output :). Again, check before you comment or downvote. @user207421 and ofcourse the string ghid doesn&#39;t appear in my source, that is the effect of `\\r`. Check the link I provided","body":"Try it in an online compiler before saying things. When you write any string, doesn&#39;t matter if <code>\\n\\r</code> is switched or not. Should not matter in case of receiving a byte stream. Besides that, the operating system of android translates a <code>\\r</code> to <code>\\r\\n</code> automatically when converting to a string, doesn&#39;t fill the empty spaces which is required. Check this tutorial point: <a href=\"http://tpcg.io/_KWYJTX\" rel=\"nofollow noreferrer\">tpcg.io/_KWYJTX</a> totally wrong output :). Again, check before you comment or downvote. @user207421 and ofcourse the string ghid doesn&#39;t appear in my source, that is the effect of <code>\\r</code>. Check the link I provided"},{"owner":{"account_id":25739033,"reputation":21,"user_id":19493299,"display_name":"CSicking"},"score":0,"creation_date":1657106985,"post_id":72881395,"comment_id":128729576,"body_markdown":"@user207421 I recommend for you to read the full theory behind the original workings of `CR` and `LF`. I linked it in my post. `CR` (13 or `\\r`) stands for carriage return. Returns the carriage to the left. So this doesn&#39;t add any new line feed. Which means if you have `abcd\\rghi` it should result in: `ghid` when compiled. Not on a new line.","body":"@user207421 I recommend for you to read the full theory behind the original workings of <code>CR</code> and <code>LF</code>. I linked it in my post. <code>CR</code> (13 or <code>\\r</code>) stands for carriage return. Returns the carriage to the left. So this doesn&#39;t add any new line feed. Which means if you have <code>abcd\\rghi</code> it should result in: <code>ghid</code> when compiled. Not on a new line."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1657111346,"post_id":72881395,"comment_id":128731230,"body_markdown":"*Returns the carriage to the left. So this doesn&#39;t add any new line feed.* Sounds logical and possibly correct historically. The only thing is, on old Macs the line separator was ... `&#39;\\r&#39;`","body":"<i>Returns the carriage to the left. So this doesn&#39;t add any new line feed.</i> Sounds logical and possibly correct historically. The only thing is, on old Macs the line separator was ... <code>&#39;\\r&#39;</code>"},{"owner":{"account_id":25739033,"reputation":21,"user_id":19493299,"display_name":"CSicking"},"score":0,"creation_date":1657112061,"post_id":72881395,"comment_id":128731569,"body_markdown":"@g00se exactly, and that makes the proper `\\r` and `\\n` implementation more difficult to do it &#39;historically&#39; proper. Now it feels like they work the same without any differences except for the name and byte when converted to a string. Sure there might be some differences depending on platforms / text readers.","body":"@g00se exactly, and that makes the proper <code>\\r</code> and <code>\\n</code> implementation more difficult to do it &#39;historically&#39; proper. Now it feels like they work the same without any differences except for the name and byte when converted to a string. Sure there might be some differences depending on platforms / text readers."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1657153827,"post_id":72881395,"comment_id":128745256,"body_markdown":"@Clicking I already know the full theory behind the original workings of CR and LF, and that&#39;s how I know that LF CR is invalid. Teletypes were built to allow processing of LF while a CR was in progress, but not the other way around. I have seen this for myself in 1971. As to the CR causing `abcd` to be overwritten by `ghi`, that is exactly what is happening here. I don&#39;t know why you mention it. As I said, I don&#39;t see anything here that departs from the &#39;full theory behind the original workings of CR and LF&#39;.","body":"@Clicking I already know the full theory behind the original workings of CR and LF, and that&#39;s how I know that LF CR is invalid. Teletypes were built to allow processing of LF while a CR was in progress, but not the other way around. I have seen this for myself in 1971. As to the CR causing <code>abcd</code> to be overwritten by <code>ghi</code>, that is exactly what is happening here. I don&#39;t know why you mention it. As I said, I don&#39;t see anything here that departs from the &#39;full theory behind the original workings of CR and LF&#39;."}],"answers":[{"tags":[],"owner":{"account_id":920922,"reputation":22064,"user_id":952648,"display_name":"tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657107355,"creation_date":1657107355,"answer_id":72882925,"question_id":72881395,"body_markdown":"This is a fun little challenge. It&#39;s pretty easy to improve the algorithm to avoid the useless spaces at the end of each line (see implementation below). For dynamically resizing the output buffer, there are a couple of options:\r\n\r\n - Continue to use `byte[]` and manually realloc+copy for each line.  \r\n   *Con:* Inefficient (copying is O(n), and if you do this for each line the overall time complexity is O(n^2)).\r\n\r\n - Calculate the output buffer size using a separate pass over the input.  \r\n   *Con:* Complicated, will probably result in code duplication.\r\n\r\n - Use `byte[]` and manually realloc+copy, but double the size each time for efficiency (see [Dynamic array](https://en.wikipedia.org/wiki/Dynamic_array)).  \r\n   *Con:* A little tedious. (Though [Arrays.copyOf()](https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#copyOf-byte:A-int-) helps a lot.)\r\n\r\n - Use [ArrayList\\&lt;Byte\\&gt;](https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html) (Java&#39;s dynamic array implementation).  \r\n   *Con:* High overhead due to Java&#39;s [boxing](https://docs.oracle.com/javase/8/docs/technotes/guides/language/autoboxing.html) (each byte must be wrapped in an object).\r\n\r\n - Use [ByteArrayOutputStream](https://docs.oracle.com/javase/9/docs/api/java/io/ByteArrayOutputStream.html), which resizes automatically.  \r\n   *Problem:* Does not support seeking (which is required for handling `\\r`).  \r\n   *Solution (implemented below):* Subclass ByteArrayOutputStream to get access to the underlying buffer.\r\n\r\n - Use [ByteBuffer](https://docs.oracle.com/javase/9/docs/api/java/nio/ByteBuffer.html), which supports absolute writes.  \r\n   *Con:* Capacity is fixed, so you&#39;d have to manually realloc.\r\n\r\nHere is an implementation that uses a custom ByteArrayOutputStream.\r\n\r\n```\r\nimport java.io.ByteArrayOutputStream;\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        byte[] input = &quot;abcd\\rghi\\njklmnop\\r\\nqr\\n\\rHello world!\\rByeee&quot;.getBytes();\r\n        byte[] output = processCRLF(input);\r\n        System.out.write(output, 0, output.length);\r\n    }\r\n\r\n    public static byte[] processCRLF(byte[] input) {\r\n        RandomAccessByteArrayOutputStream output = new RandomAccessByteArrayOutputStream(input.length);\r\n        int pos = 0; // the offset in the output at which characters will be written (normally equal to output.size(), but will be less after &#39;\\r&#39;)\r\n        int col = 0; // the position of the cursor within the current line (used to determine how far back to go on &#39;\\r&#39;, and how many spaces to insert on &#39;\\n&#39;)\r\n        for (byte b : input) {\r\n            if (b == &#39;\\r&#39;) {\r\n                // go back to the start of the line (future characters will overwrite the line)\r\n                pos -= col;\r\n                col = 0;\r\n            } else if (b == &#39;\\n&#39;) {\r\n                // start a new line\r\n                pos = output.size();\r\n                output.putOrWrite(pos++, (byte) &#39;\\n&#39;);\r\n                // if the cursor wasn&#39;t in column 0, insert spaces to stay in the same column\r\n                for (int i = 0; i &lt; col; i++) {\r\n                    output.putOrWrite(pos++, (byte) &#39; &#39;);\r\n                }\r\n            } else {\r\n                // normal character\r\n                output.putOrWrite(pos++, b);\r\n                col++;\r\n            }\r\n        }\r\n        return output.toByteArray();\r\n    }\r\n}\r\n\r\nclass RandomAccessByteArrayOutputStream extends ByteArrayOutputStream {\r\n    public RandomAccessByteArrayOutputStream() {}\r\n\r\n    public RandomAccessByteArrayOutputStream(int size) {\r\n        super(size);\r\n    }\r\n\r\n    public void put(int index, byte b) {\r\n        if (index &lt; 0 || index &gt;= size()) {\r\n            throw new IndexOutOfBoundsException();\r\n        }\r\n        buf[index] = b;\r\n    }\r\n\r\n    public void putOrWrite(int index, byte b) {\r\n        // like put(), but allows appending by setting &#39;index&#39; to the current size\r\n        if (index == size()) {\r\n            write(b);\r\n        } else {\r\n            put(index, b);\r\n        }\r\n    }\r\n}\r\n```","title":"How to handle CR and LF in the proper way in Java (android)","body":"<p>This is a fun little challenge. It's pretty easy to improve the algorithm to avoid the useless spaces at the end of each line (see implementation below). For dynamically resizing the output buffer, there are a couple of options:</p>\n<ul>\n<li><p>Continue to use <code>byte[]</code> and manually realloc+copy for each line.<br />\n<em>Con:</em> Inefficient (copying is O(n), and if you do this for each line the overall time complexity is O(n^2)).</p>\n</li>\n<li><p>Calculate the output buffer size using a separate pass over the input.<br />\n<em>Con:</em> Complicated, will probably result in code duplication.</p>\n</li>\n<li><p>Use <code>byte[]</code> and manually realloc+copy, but double the size each time for efficiency (see <a href=\"https://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\">Dynamic array</a>).<br />\n<em>Con:</em> A little tedious. (Though <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Arrays.html#copyOf-byte:A-int-\" rel=\"nofollow noreferrer\">Arrays.copyOf()</a> helps a lot.)</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList&lt;Byte&gt;</a> (Java's dynamic array implementation).<br />\n<em>Con:</em> High overhead due to Java's <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/autoboxing.html\" rel=\"nofollow noreferrer\">boxing</a> (each byte must be wrapped in an object).</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow noreferrer\">ByteArrayOutputStream</a>, which resizes automatically.<br />\n<em>Problem:</em> Does not support seeking (which is required for handling <code>\\r</code>).<br />\n<em>Solution (implemented below):</em> Subclass ByteArrayOutputStream to get access to the underlying buffer.</p>\n</li>\n<li><p>Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a>, which supports absolute writes.<br />\n<em>Con:</em> Capacity is fixed, so you'd have to manually realloc.</p>\n</li>\n</ul>\n<p>Here is an implementation that uses a custom ByteArrayOutputStream.</p>\n<pre><code>import java.io.ByteArrayOutputStream;\n\nclass Main {\n    public static void main(String[] args) {\n        byte[] input = &quot;abcd\\rghi\\njklmnop\\r\\nqr\\n\\rHello world!\\rByeee&quot;.getBytes();\n        byte[] output = processCRLF(input);\n        System.out.write(output, 0, output.length);\n    }\n\n    public static byte[] processCRLF(byte[] input) {\n        RandomAccessByteArrayOutputStream output = new RandomAccessByteArrayOutputStream(input.length);\n        int pos = 0; // the offset in the output at which characters will be written (normally equal to output.size(), but will be less after '\\r')\n        int col = 0; // the position of the cursor within the current line (used to determine how far back to go on '\\r', and how many spaces to insert on '\\n')\n        for (byte b : input) {\n            if (b == '\\r') {\n                // go back to the start of the line (future characters will overwrite the line)\n                pos -= col;\n                col = 0;\n            } else if (b == '\\n') {\n                // start a new line\n                pos = output.size();\n                output.putOrWrite(pos++, (byte) '\\n');\n                // if the cursor wasn't in column 0, insert spaces to stay in the same column\n                for (int i = 0; i &lt; col; i++) {\n                    output.putOrWrite(pos++, (byte) ' ');\n                }\n            } else {\n                // normal character\n                output.putOrWrite(pos++, b);\n                col++;\n            }\n        }\n        return output.toByteArray();\n    }\n}\n\nclass RandomAccessByteArrayOutputStream extends ByteArrayOutputStream {\n    public RandomAccessByteArrayOutputStream() {}\n\n    public RandomAccessByteArrayOutputStream(int size) {\n        super(size);\n    }\n\n    public void put(int index, byte b) {\n        if (index &lt; 0 || index &gt;= size()) {\n            throw new IndexOutOfBoundsException();\n        }\n        buf[index] = b;\n    }\n\n    public void putOrWrite(int index, byte b) {\n        // like put(), but allows appending by setting 'index' to the current size\n        if (index == size()) {\n            write(b);\n        } else {\n            put(index, b);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25739033,"reputation":21,"user_id":19493299,"display_name":"CSicking"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72882925,"answer_count":1,"score":1,"last_activity_date":1657107355,"creation_date":1657101192,"question_id":72881395,"body_markdown":"So I have noticed that the bytes `CR` (13) and `LF` (10) are not fully being respected in Java. When there is a `CR` byte it doesn&#39;t just return the carriage but it also creates a new line. Which is weird cause `CR` literally stands for Carriage Return and `LF` stand for Line Feed, thus two seperate things. Anyways, I have accepted this part. Which means I have to write my own algorhythm to implement the support for real `CR` and `LF` actions ([see this post for details about][1] `CR` &amp; `LF`). \r\n\r\nBasically I have a terminal that is connected to a bluetooth device and I retrieve a stream of bytes. I add the stream of bytes to the previously received bytes and store them in a byte array. But to visualize what is going on for the user I convert this to a string type and put this in a TextView in Android as a terminal view. So this means when there is a `CR` byte it means it has to show text starting the previous `LF`. For example (in this example I use a string and convert it to bytes to visually show it easier than a series of bytes):\r\n\r\n```\r\nbyte[] text = &quot;abcd\\rghi\\njklmnop\\r\\nqr\\n\\rHello world!\\rByeee&quot;.getBytes();\r\n```\r\n\r\nResults in output:\r\n\r\n```\r\nghid\r\n   jklmnop\r\nqr\r\nByeee world!\r\n```\r\n\r\nFor this I have created the following algorhythm that works ...-ish:\r\n\r\n    public static byte[] handleCRLF(byte[] text, int lineBuffer) {\r\n        // Make a byte array for the new text with the size of the line buffer\r\n        byte[] newText = new byte[lineBuffer];\r\n\r\n        int writingPointer = 0;\r\n        int lfPointer = 0;\r\n\r\n        // Loop through the contents of the text\r\n        for (int i = 0; i &lt; text.length; i++) {\r\n\r\n            // Check if byte text[i] is equal to 13 which is CR\r\n            if (text[i] == 13) {\r\n                // Write a pointer of the text to the last LF position to start at a new line\r\n                writingPointer = lfPointer;\r\n\r\n            }\r\n            // Check if byte text[i] is equal to 10 which is LF\r\n            else if (text[i] == 10) {\r\n                // Calculate the size of the new text when there is an LF\r\n                int size = newText.length + lineBuffer;\r\n\r\n                // Make a temporary byte array with the new size\r\n                byte[] tmp = new byte[size];\r\n\r\n                // Fill the temporary byte array with the new text\r\n                for (int j = 0; j &lt; newText.length; j++) {\r\n                    tmp[j] = newText[j];\r\n                }\r\n\r\n                // End the temporary byte array with an LF\r\n                tmp[newText.length - 1] = 10;\r\n\r\n                // Set the temporary byte array as the new Text contents\r\n                newText = tmp;\r\n\r\n                // Move the writing pointer forward\r\n                writingPointer += lineBuffer;\r\n\r\n                // Set the lf pointer based on the size minus the line buffer\r\n                lfPointer = size - lineBuffer;\r\n\r\n            }\r\n            else {\r\n                // Check if the writing pointer is not bigger, should not be the case but just in case\r\n                if (writingPointer &gt;= newText.length) continue;\r\n\r\n                // Write text[i] on the position of the writing pointer\r\n                newText[writingPointer] = text[i];\r\n\r\n                // Increase the writing pointer to the next\r\n                writingPointer++;\r\n            }\r\n        }\r\n\r\n        // Replacing null with empty spaces\r\n        for (int i = 0; i &lt; newText.length; i++) {\r\n            if (newText[i] != 0) continue;\r\n\r\n            newText[i] = 32;\r\n        }\r\n\r\n        return newText;\r\n    }\r\n\r\nThis does work great in a way but it makes use of a so called &quot;line buffer&quot;. So this means that every line is the size of a certain amount and thus results in a very big byte array with a lot of empty spaces... \r\n\r\nExample of the `text` when replacing the empty space with `*` and a `lineBuffer` of 128:\r\n```\r\nghid***************************************************************************************************************************\r\n***jklmnop*********************************************************************************************************************\r\nqr*****************************************************************************************************************************\r\nByeee world!********************************************************************************************************************\r\n```\r\n\r\nAs you can see there are quite some `*` symbols...\r\n\r\n**My question is:** is this a proper way of dealing with CR LF in a custom way? If so, how can I improve this in a way that there is no space being wasted? Currently I solved this in a cracky way by converting it to a string then read over every line and trim the end of the lines but this seems.. awkward.. and not efficient at all.\r\n\r\nI have tried avoiding using the linebuffer and instead continue building it up but every time the result was wrong.\r\n\r\n*For my question I have searched quite a lot but couldn&#39;t find the answer, apologies if this is a duplicate question which has a proper solution. Couldn&#39;t find it sadly.*\r\n\r\nThank you in advance!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1552775/19493299","title":"How to handle CR and LF in the proper way in Java (android)","body":"<p>So I have noticed that the bytes <code>CR</code> (13) and <code>LF</code> (10) are not fully being respected in Java. When there is a <code>CR</code> byte it doesn't just return the carriage but it also creates a new line. Which is weird cause <code>CR</code> literally stands for Carriage Return and <code>LF</code> stand for Line Feed, thus two seperate things. Anyways, I have accepted this part. Which means I have to write my own algorhythm to implement the support for real <code>CR</code> and <code>LF</code> actions (<a href=\"https://stackoverflow.com/a/1552775/19493299\">see this post for details about</a> <code>CR</code> &amp; <code>LF</code>).</p>\n<p>Basically I have a terminal that is connected to a bluetooth device and I retrieve a stream of bytes. I add the stream of bytes to the previously received bytes and store them in a byte array. But to visualize what is going on for the user I convert this to a string type and put this in a TextView in Android as a terminal view. So this means when there is a <code>CR</code> byte it means it has to show text starting the previous <code>LF</code>. For example (in this example I use a string and convert it to bytes to visually show it easier than a series of bytes):</p>\n<pre><code>byte[] text = &quot;abcd\\rghi\\njklmnop\\r\\nqr\\n\\rHello world!\\rByeee&quot;.getBytes();\n</code></pre>\n<p>Results in output:</p>\n<pre><code>ghid\n   jklmnop\nqr\nByeee world!\n</code></pre>\n<p>For this I have created the following algorhythm that works ...-ish:</p>\n<pre><code>public static byte[] handleCRLF(byte[] text, int lineBuffer) {\n    // Make a byte array for the new text with the size of the line buffer\n    byte[] newText = new byte[lineBuffer];\n\n    int writingPointer = 0;\n    int lfPointer = 0;\n\n    // Loop through the contents of the text\n    for (int i = 0; i &lt; text.length; i++) {\n\n        // Check if byte text[i] is equal to 13 which is CR\n        if (text[i] == 13) {\n            // Write a pointer of the text to the last LF position to start at a new line\n            writingPointer = lfPointer;\n\n        }\n        // Check if byte text[i] is equal to 10 which is LF\n        else if (text[i] == 10) {\n            // Calculate the size of the new text when there is an LF\n            int size = newText.length + lineBuffer;\n\n            // Make a temporary byte array with the new size\n            byte[] tmp = new byte[size];\n\n            // Fill the temporary byte array with the new text\n            for (int j = 0; j &lt; newText.length; j++) {\n                tmp[j] = newText[j];\n            }\n\n            // End the temporary byte array with an LF\n            tmp[newText.length - 1] = 10;\n\n            // Set the temporary byte array as the new Text contents\n            newText = tmp;\n\n            // Move the writing pointer forward\n            writingPointer += lineBuffer;\n\n            // Set the lf pointer based on the size minus the line buffer\n            lfPointer = size - lineBuffer;\n\n        }\n        else {\n            // Check if the writing pointer is not bigger, should not be the case but just in case\n            if (writingPointer &gt;= newText.length) continue;\n\n            // Write text[i] on the position of the writing pointer\n            newText[writingPointer] = text[i];\n\n            // Increase the writing pointer to the next\n            writingPointer++;\n        }\n    }\n\n    // Replacing null with empty spaces\n    for (int i = 0; i &lt; newText.length; i++) {\n        if (newText[i] != 0) continue;\n\n        newText[i] = 32;\n    }\n\n    return newText;\n}\n</code></pre>\n<p>This does work great in a way but it makes use of a so called &quot;line buffer&quot;. So this means that every line is the size of a certain amount and thus results in a very big byte array with a lot of empty spaces...</p>\n<p>Example of the <code>text</code> when replacing the empty space with <code>*</code> and a <code>lineBuffer</code> of 128:</p>\n<pre><code>ghid***************************************************************************************************************************\n***jklmnop*********************************************************************************************************************\nqr*****************************************************************************************************************************\nByeee world!********************************************************************************************************************\n</code></pre>\n<p>As you can see there are quite some <code>*</code> symbols...</p>\n<p><strong>My question is:</strong> is this a proper way of dealing with CR LF in a custom way? If so, how can I improve this in a way that there is no space being wasted? Currently I solved this in a cracky way by converting it to a string then read over every line and trim the end of the lines but this seems.. awkward.. and not efficient at all.</p>\n<p>I have tried avoiding using the linebuffer and instead continue building it up but every time the result was wrong.</p>\n<p><em>For my question I have searched quite a lot but couldn't find the answer, apologies if this is a duplicate question which has a proper solution. Couldn't find it sadly.</em></p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring","spring-boot","cron","quartz"],"answers":[{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656493557,"creation_date":1656493214,"answer_id":72798601,"question_id":72798491,"body_markdown":"Spring has the `@Scheduled` annotation. There a several ways to configure it, one way is to configure it like unix cron job.\r\n\r\nFor example like this:\r\n~~~\r\n@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\r\npublic void scheduleTaskUsingCronExpression() {\r\n \r\n    long now = System.currentTimeMillis() / 1000;\r\n    System.out.println(\r\n      &quot;schedule tasks using cron jobs - &quot; + now);\r\n}\r\n~~~\r\n\r\nThe task here is scheduled to be executed at 10:15 AM on the 15th day of every month.\r\n\r\nBut there a also ways to configure the delay or rate dynamically at Runtime, for example like this (taken from baeldung.com):\r\n\r\n~~~\r\n@Configuration\r\n@EnableScheduling\r\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\r\n\r\n    @Autowired\r\n    private TickService tickService;\r\n\r\n    @Bean\r\n    public Executor taskExecutor() {\r\n        return Executors.newSingleThreadScheduledExecutor();\r\n    }\r\n\r\n    @Override\r\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n        taskRegistrar.setScheduler(taskExecutor());\r\n        taskRegistrar.addTriggerTask(\r\n          new Runnable() {\r\n              @Override\r\n              public void run() {\r\n                  tickService.tick();\r\n              }\r\n          },\r\n          new Trigger() {\r\n              @Override\r\n              public Date nextExecutionTime(TriggerContext context) {\r\n                  Optional&lt;Date&gt; lastCompletionTime =\r\n                    Optional.ofNullable(context.lastCompletionTime());\r\n                  Instant nextExecutionTime =\r\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\r\n                      .plusMillis(tickService.getDelay());\r\n                  return Date.from(nextExecutionTime);\r\n              }\r\n          }\r\n        );\r\n    }\r\n\r\n}\r\n~~~\r\n\r\nThe line `Instant nextExecutionTime = ...` could be replaced with your own logic for setting the next execution time, like parsing the times from your array.\r\n\r\nTake look at this baeldung tutorial about it: https://www.baeldung.com/spring-scheduled-tasks\r\n\r\nAlso take look here for the cron notation: https://www.netiq.com/documentation/cloud-manager-2-5/ncm-reference/data/bexyssf.html","title":"How to run methods in certain time windows","body":"<p>Spring has the <code>@Scheduled</code> annotation. There a several ways to configure it, one way is to configure it like unix cron job.</p>\n<p>For example like this:</p>\n<pre><code>@Scheduled(cron = &quot;0 15 10 15 * ?&quot;)\npublic void scheduleTaskUsingCronExpression() {\n \n    long now = System.currentTimeMillis() / 1000;\n    System.out.println(\n      &quot;schedule tasks using cron jobs - &quot; + now);\n}\n</code></pre>\n<p>The task here is scheduled to be executed at 10:15 AM on the 15th day of every month.</p>\n<p>But there a also ways to configure the delay or rate dynamically at Runtime, for example like this (taken from baeldung.com):</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class DynamicSchedulingConfig implements SchedulingConfigurer {\n\n    @Autowired\n    private TickService tickService;\n\n    @Bean\n    public Executor taskExecutor() {\n        return Executors.newSingleThreadScheduledExecutor();\n    }\n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.setScheduler(taskExecutor());\n        taskRegistrar.addTriggerTask(\n          new Runnable() {\n              @Override\n              public void run() {\n                  tickService.tick();\n              }\n          },\n          new Trigger() {\n              @Override\n              public Date nextExecutionTime(TriggerContext context) {\n                  Optional&lt;Date&gt; lastCompletionTime =\n                    Optional.ofNullable(context.lastCompletionTime());\n                  Instant nextExecutionTime =\n                    lastCompletionTime.orElseGet(Date::new).toInstant()\n                      .plusMillis(tickService.getDelay());\n                  return Date.from(nextExecutionTime);\n              }\n          }\n        );\n    }\n\n}\n</code></pre>\n<p>The line <code>Instant nextExecutionTime = ...</code> could be replaced with your own logic for setting the next execution time, like parsing the times from your array.</p>\n<p>Take look at this baeldung tutorial about it: <a href=\"https://www.baeldung.com/spring-scheduled-tasks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-scheduled-tasks</a></p>\n<p>Also take look here for the cron notation: <a href=\"https://www.netiq.com/documentation/cloud-manager-2-5/ncm-reference/data/bexyssf.html\" rel=\"nofollow noreferrer\">https://www.netiq.com/documentation/cloud-manager-2-5/ncm-reference/data/bexyssf.html</a></p>\n"},{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656494196,"creation_date":1656494196,"answer_id":72798851,"question_id":72798491,"body_markdown":"The best solution depends (as almost always) on the context in which your infrastructure will have to work.\r\n\r\nYou can use `@Scheduled` (i.e. https://stackoverflow.com/questions/31288810/spring-scheduled-task-running-in-clustered-environment ) but it does not perform well in clusters (there is usually only one node running jobs).\r\n\r\nI am going to suggest a solution with a good balance between simplicity, efficiency and reliability. I will discuss some of its properties later.\r\n\r\nSuggested solution:\r\n\r\n1. uses an ordered list with guaranteed atomicity (message queue, redis sorted list, db table, ...).\r\n1. a request from a customer, it will simply add an item to that list.\r\n1. you will raise as many workers as you need, they can be one, several or with auto-scaling as needed.\r\n1. each worker will check (atomically) if he has to process a job. NOTE: the optimal way is to have a hook against the list, so that they get a push when there are changes in the list, so that recurring reads on the list are not necessary (the workers simply wait for the nearest moment).\r\n\r\nNoteworthy properties of this approach:\r\n\r\n1. there may be one or more nodes running jobs simultaneously.\r\n1. a node can become corrupted, take a long time, etc... without affecting the pending jobs (you can do autoscaling just by seeing that there are no idle workers).\r\n1. you can easily check if a job was lost (e.g. the node running it got corrupted), if it has been tried to run several times without success, etc...\r\n1. the status is persistent and you can check if jobs were missed, resume them, etc...\r\n1. depending on how efficient you need your solution to be, it can be very elaborate (hooks, auto-scaling state, etc...) or very simple (a simple `begin trans; select 1 id from jobs where time &gt;= now and running = 0 order by time limit 1; ... update jobs set running = 1 where id = ?; ...; commit trans`).","title":"How to run methods in certain time windows","body":"<p>The best solution depends (as almost always) on the context in which your infrastructure will have to work.</p>\n<p>You can use <code>@Scheduled</code> (i.e. <a href=\"https://stackoverflow.com/questions/31288810/spring-scheduled-task-running-in-clustered-environment\">Spring Scheduled Task running in clustered environment</a> ) but it does not perform well in clusters (there is usually only one node running jobs).</p>\n<p>I am going to suggest a solution with a good balance between simplicity, efficiency and reliability. I will discuss some of its properties later.</p>\n<p>Suggested solution:</p>\n<ol>\n<li>uses an ordered list with guaranteed atomicity (message queue, redis sorted list, db table, ...).</li>\n<li>a request from a customer, it will simply add an item to that list.</li>\n<li>you will raise as many workers as you need, they can be one, several or with auto-scaling as needed.</li>\n<li>each worker will check (atomically) if he has to process a job. NOTE: the optimal way is to have a hook against the list, so that they get a push when there are changes in the list, so that recurring reads on the list are not necessary (the workers simply wait for the nearest moment).</li>\n</ol>\n<p>Noteworthy properties of this approach:</p>\n<ol>\n<li>there may be one or more nodes running jobs simultaneously.</li>\n<li>a node can become corrupted, take a long time, etc... without affecting the pending jobs (you can do autoscaling just by seeing that there are no idle workers).</li>\n<li>you can easily check if a job was lost (e.g. the node running it got corrupted), if it has been tried to run several times without success, etc...</li>\n<li>the status is persistent and you can check if jobs were missed, resume them, etc...</li>\n<li>depending on how efficient you need your solution to be, it can be very elaborate (hooks, auto-scaling state, etc...) or very simple (a simple <code>begin trans; select 1 id from jobs where time &gt;= now and running = 0 order by time limit 1; ... update jobs set running = 1 where id = ?; ...; commit trans</code>).</li>\n</ol>\n"}],"owner":{"account_id":23902843,"reputation":39,"user_id":17900785,"display_name":"Evgeniy Zelenskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72798601,"answer_count":2,"score":1,"last_activity_date":1657107277,"creation_date":1656492644,"question_id":72798491,"body_markdown":"I have a microservice that will receive a message, something like this:\r\n\r\n    [&quot;00:12&quot;, &quot;12:20&quot;, &quot;15:40&quot;]\r\nAre there any out-of-the-box solutions to allow methods to run at a given time each day?\r\nUsing cron from Spring does not involve changing the time at runtime. I need to use a more flexible option (change in runtime, multiple launch starts)\r\n\r\nThanks!","title":"How to run methods in certain time windows","body":"<p>I have a microservice that will receive a message, something like this:</p>\n<pre><code>[&quot;00:12&quot;, &quot;12:20&quot;, &quot;15:40&quot;]\n</code></pre>\n<p>Are there any out-of-the-box solutions to allow methods to run at a given time each day?\nUsing cron from Spring does not involve changing the time at runtime. I need to use a more flexible option (change in runtime, multiple launch starts)</p>\n<p>Thanks!</p>\n"},{"tags":["java","maven","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":0,"creation_date":1547096260,"post_id":54121894,"comment_id":95076168,"body_markdown":"is there a public static void main(String[] args)  method in the quark-common project and is this class public ?","body":"is there a public static void main(String[] args)  method in the quark-common project and is this class public ?"},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1547096367,"post_id":54121894,"comment_id":95076193,"body_markdown":"Remove packing tag of Jar and look how it works","body":"Remove packing tag of Jar and look how it works"},{"owner":{"account_id":3004149,"reputation":711,"user_id":2548990,"accept_rate":29,"display_name":"abhilash_goyal"},"score":0,"creation_date":1547097945,"post_id":54121894,"comment_id":95076598,"body_markdown":"can you show your SpringBootApplication class ??","body":"can you show your SpringBootApplication class ??"}],"answers":[{"tags":[],"owner":{"account_id":3276675,"reputation":1246,"user_id":2758470,"display_name":"rxn1d"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547099963,"creation_date":1547097236,"answer_id":54122297,"question_id":54121894,"body_markdown":"So I&#39;ve build you project locally and manifest in `quark-common.jar` is something like that:\r\n\r\n        Manifest-Version: 1.0\r\n        Archiver-Version: Plexus Archiver\r\n        Created-By: Apache Maven 3.5.2\r\n        Built-By: ...\r\n        Build-Jdk: 10.0.2\r\nIt has no main class and other properties are also lacking.\r\nThe reason is that you dont have needed configuration for `spring-boot-maven-plugin`. It should be something like:\r\n\r\n      . . .\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;repackage&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;classifier&gt;exec&lt;/classifier&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    . . .\r\nResult `MANIFEST.MF` would be something like:\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Created-By: Apache Maven 3.5.2\r\n    Built-By: ...\r\n    Build-Jdk: 10.0.2\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: com.quark.common.CommonApplication\r\n    Spring-Boot-Version: 1.5.6.RELEASE\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib\r\n\r\nAnd then you run your app with `java -jar quark-common-exec.jar` (it creates an additional executable artifact with `exec` extension).\r\n\r\nHope this would help you.\r\n\r\n**Update**\r\n\r\nAnswering you question:\r\n\r\nI suppose this happen because you are using `spring-boot-dependencies` bom (it provides). And in your other project u have used `spring-boot-starter-parent` as a parent to your module. Like that:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nSo it has all required plugin configs. And `spring-boot-dependencies` bom doesnt, it just provides versions of dependencies and plugins.","title":"Executing Springboot application as jar gives &quot;no main manifest attribute&quot;","body":"<p>So I've build you project locally and manifest in <code>quark-common.jar</code> is something like that:</p>\n\n<pre><code>    Manifest-Version: 1.0\n    Archiver-Version: Plexus Archiver\n    Created-By: Apache Maven 3.5.2\n    Built-By: ...\n    Build-Jdk: 10.0.2\n</code></pre>\n\n<p>It has no main class and other properties are also lacking.\nThe reason is that you dont have needed configuration for <code>spring-boot-maven-plugin</code>. It should be something like:</p>\n\n<pre><code>  . . .\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;repackage&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;repackage&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;classifier&gt;exec&lt;/classifier&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n. . .\n</code></pre>\n\n<p>Result <code>MANIFEST.MF</code> would be something like:</p>\n\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nCreated-By: Apache Maven 3.5.2\nBuilt-By: ...\nBuild-Jdk: 10.0.2\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: com.quark.common.CommonApplication\nSpring-Boot-Version: 1.5.6.RELEASE\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib\n</code></pre>\n\n<p>And then you run your app with <code>java -jar quark-common-exec.jar</code> (it creates an additional executable artifact with <code>exec</code> extension).</p>\n\n<p>Hope this would help you.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Answering you question:</p>\n\n<p>I suppose this happen because you are using <code>spring-boot-dependencies</code> bom (it provides). And in your other project u have used <code>spring-boot-starter-parent</code> as a parent to your module. Like that:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n\n<p>So it has all required plugin configs. And <code>spring-boot-dependencies</code> bom doesnt, it just provides versions of dependencies and plugins.</p>\n"},{"tags":[],"owner":{"account_id":2802343,"reputation":621,"user_id":2410353,"display_name":"Deepak Nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657107234,"creation_date":1657107234,"answer_id":72882891,"question_id":54121894,"body_markdown":"I have faced a similar issue and the problem with my pom was, spring-boot-maven-plugin was inside pluginManagement node\r\n\r\n    &lt;build&gt;\r\n    \t&lt;pluginManagement&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    \t&lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\nI changed pom configuration as given below and it started working and generated correct MANIFEST.MF\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Executing Springboot application as jar gives &quot;no main manifest attribute&quot;","body":"<p>I have faced a similar issue and the problem with my pom was, spring-boot-maven-plugin was inside pluginManagement node</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I changed pom configuration as given below and it started working and generated correct MANIFEST.MF</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":12100093,"reputation":21,"user_id":8841716,"display_name":"zhang_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657107234,"creation_date":1547093694,"question_id":54121894,"body_markdown":"I use different ways to get jar by idea.But when I input `java -jar ****.jar`.It is tell me `no main manifest attribute, in quark-common.jar`\r\n\r\nIt&#39;s url of my project:`https://github.com/ZYao123/JavaQuarkBBS`.The project has 5 modules.They can work on my idea,but when I want to package a jar for linux. The problems arise.\r\nThe module is depend on `quark-parent`.`quark-parent` just has a `pom.xml` for public package.\r\nI have added this on `pom.xml` of `quark-common`,but they cann&#39;t work.\r\nI know it happend because it&#39;s cann&#39;t find main method,but how am I supposed to fix it?\r\n\r\n   \r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;quark-parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.quark&lt;/groupId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../quark-parent/pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.quark&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quark-common&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;quark-common&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n    META-INF/MANIFEST.MF:\r\n\r\n    Manifest-Version: 1.0\r\n    Class-Path: spring-tx-4.3.10.RELEASE.jar guava-19.0.jar hibernate-jpa-\r\n     2.1-api-1.0.0.Final.jar spring-expression-4.3.10.RELEASE.jar tools.ja\r\n     r dom4j-1.6.1.jar spring-boot-starter-data-jpa-1.5.6.RELEASE.jar spri\r\n     ng-boot-starter-cache-1.5.6.RELEASE.jar spring-aspects-4.3.10.RELEASE\r\n     .jar druid-1.0.29.jar spring-orm-4.3.10.RELEASE.jar spring-context-4.\r\n     3.10.RELEASE.jar javassist-3.21.0-GA.jar slf4j-api-1.7.25.jar spring-\r\n     boot-starter-aop-1.5.6.RELEASE.jar nekohtml-1.9.22.jar spring-boot-st\r\n     arter-jdbc-1.5.6.RELEASE.jar spring-data-jpa-1.11.6.RELEASE.jar antlr\r\n     -2.7.7.jar log4j-over-slf4j-1.7.25.jar jackson-annotations-2.8.0.jar \r\n     jul-to-slf4j-1.7.25.jar jconsole.jar javax.transaction-api-1.2.jar sp\r\n     ring-boot-starter-1.5.6.RELEASE.jar spring-boot-1.5.6.RELEASE.jar log\r\n     back-classic-1.1.11.jar spring-data-commons-1.13.6.RELEASE.jar fastjs\r\n     on-1.2.16.jar spring-aop-4.3.10.RELEASE.jar spring-beans-4.3.10.RELEA\r\n     SE.jar spring-core-4.3.10.RELEASE.jar xercesImpl-2.11.0.jar spring-co\r\n     ntext-support-4.3.10.RELEASE.jar snakeyaml-1.17.jar hibernate-commons\r\n     -annotations-5.0.1.Final.jar xml-apis-1.4.01.jar jboss-logging-3.3.1.\r\n     Final.jar logback-core-1.1.11.jar aspectjweaver-1.8.10.jar ehcache-2.\r\n     10.4.jar jandex-2.0.0.Final.jar hibernate-entitymanager-5.0.12.Final.\r\n     jar jcl-over-slf4j-1.7.25.jar spring-boot-autoconfigure-1.5.6.RELEASE\r\n     .jar tomcat-jdbc-8.5.16.jar spring-boot-starter-logging-1.5.6.RELEASE\r\n     .jar hibernate-core-5.0.12.Final.jar mysql-connector-java-5.1.43.jar \r\n     spring-jdbc-4.3.10.RELEASE.jar tomcat-juli-8.5.16.jar\r\n    Main-Class: com.quark.common.CommonApplication\r\n\r\n","title":"Executing Springboot application as jar gives &quot;no main manifest attribute&quot;","body":"<p>I use different ways to get jar by idea.But when I input <code>java -jar ****.jar</code>.It is tell me <code>no main manifest attribute, in quark-common.jar</code></p>\n\n<p>It's url of my project:<code>https://github.com/ZYao123/JavaQuarkBBS</code>.The project has 5 modules.They can work on my idea,but when I want to package a jar for linux. The problems arise.\nThe module is depend on <code>quark-parent</code>.<code>quark-parent</code> just has a <code>pom.xml</code> for public package.\nI have added this on <code>pom.xml</code> of <code>quark-common</code>,but they cann't work.\nI know it happend because it's cann't find main method,but how am I supposed to fix it?</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;artifactId&gt;quark-parent&lt;/artifactId&gt;\n    &lt;groupId&gt;com.quark&lt;/groupId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;relativePath&gt;../quark-parent/pom.xml&lt;/relativePath&gt;\n&lt;/parent&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.quark&lt;/groupId&gt;\n&lt;artifactId&gt;quark-common&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;quark-common&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>META-INF/MANIFEST.MF:\n\nManifest-Version: 1.0\nClass-Path: spring-tx-4.3.10.RELEASE.jar guava-19.0.jar hibernate-jpa-\n 2.1-api-1.0.0.Final.jar spring-expression-4.3.10.RELEASE.jar tools.ja\n r dom4j-1.6.1.jar spring-boot-starter-data-jpa-1.5.6.RELEASE.jar spri\n ng-boot-starter-cache-1.5.6.RELEASE.jar spring-aspects-4.3.10.RELEASE\n .jar druid-1.0.29.jar spring-orm-4.3.10.RELEASE.jar spring-context-4.\n 3.10.RELEASE.jar javassist-3.21.0-GA.jar slf4j-api-1.7.25.jar spring-\n boot-starter-aop-1.5.6.RELEASE.jar nekohtml-1.9.22.jar spring-boot-st\n arter-jdbc-1.5.6.RELEASE.jar spring-data-jpa-1.11.6.RELEASE.jar antlr\n -2.7.7.jar log4j-over-slf4j-1.7.25.jar jackson-annotations-2.8.0.jar \n jul-to-slf4j-1.7.25.jar jconsole.jar javax.transaction-api-1.2.jar sp\n ring-boot-starter-1.5.6.RELEASE.jar spring-boot-1.5.6.RELEASE.jar log\n back-classic-1.1.11.jar spring-data-commons-1.13.6.RELEASE.jar fastjs\n on-1.2.16.jar spring-aop-4.3.10.RELEASE.jar spring-beans-4.3.10.RELEA\n SE.jar spring-core-4.3.10.RELEASE.jar xercesImpl-2.11.0.jar spring-co\n ntext-support-4.3.10.RELEASE.jar snakeyaml-1.17.jar hibernate-commons\n -annotations-5.0.1.Final.jar xml-apis-1.4.01.jar jboss-logging-3.3.1.\n Final.jar logback-core-1.1.11.jar aspectjweaver-1.8.10.jar ehcache-2.\n 10.4.jar jandex-2.0.0.Final.jar hibernate-entitymanager-5.0.12.Final.\n jar jcl-over-slf4j-1.7.25.jar spring-boot-autoconfigure-1.5.6.RELEASE\n .jar tomcat-jdbc-8.5.16.jar spring-boot-starter-logging-1.5.6.RELEASE\n .jar hibernate-core-5.0.12.Final.jar mysql-connector-java-5.1.43.jar \n spring-jdbc-4.3.10.RELEASE.jar tomcat-juli-8.5.16.jar\nMain-Class: com.quark.common.CommonApplication\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka-test"],"comments":[{"owner":{"account_id":17569529,"reputation":95,"user_id":12745498,"display_name":"SDB"},"score":0,"creation_date":1585096646,"post_id":60841391,"comment_id":107644144,"body_markdown":"@Gary Russell your input is appreciated.","body":"@Gary Russell your input is appreciated."},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1585496605,"post_id":60841391,"comment_id":107773621,"body_markdown":"Maybe best to use  email if you are asking a question to one specific person","body":"Maybe best to use  email if you are asking a question to one specific person"}],"answers":[{"tags":[],"owner":{"account_id":17569529,"reputation":95,"user_id":12745498,"display_name":"SDB"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1585698285,"creation_date":1585698285,"answer_id":60961582,"question_id":60841391,"body_markdown":"After going through the documentation of spring-kafka [spring-kafka-official-documentation](https://docs.spring.io/spring-kafka/reference/html/#spring-messaging-message-conversion)! I could find this code which replaced the whole boilerplate code. I have simplified my  KafkaConsumerConfig class and it looks like below now.\r\n\r\n    package com.foo\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.springframework.boot.autoconfigure.kafka.KafkaProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    \r\n    import com.foo.FooKafkaDTO;\r\n    \r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Bean\r\n        public DefaultKafkaConsumerFactory fooDTOConsumerFactory(KafkaProperties properties) {\r\n    \r\n            Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\r\n            return new DefaultKafkaConsumerFactory(props,\r\n                    new JsonDeserializer&lt;&gt;(String.class)\r\n                            .forKeys()\r\n                            .ignoreTypeHeaders(),\r\n                    new JsonDeserializer&lt;&gt;(FooKafkaDTO.class)\r\n                            .ignoreTypeHeaders());\r\n    \r\n        }\r\n    }","title":"spring kafka properties not auto loaded when writing customConsumerFactory and customKafkaListenerContainerFactory","body":"<p>After going through the documentation of spring-kafka <a href=\"https://docs.spring.io/spring-kafka/reference/html/#spring-messaging-message-conversion\" rel=\"nofollow noreferrer\">spring-kafka-official-documentation</a>! I could find this code which replaced the whole boilerplate code. I have simplified my  KafkaConsumerConfig class and it looks like below now.</p>\n\n<pre><code>package com.foo\n\nimport java.util.Map;\n\nimport org.springframework.boot.autoconfigure.kafka.KafkaProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport com.foo.FooKafkaDTO;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public DefaultKafkaConsumerFactory fooDTOConsumerFactory(KafkaProperties properties) {\n\n        Map&lt;String, Object&gt; props = properties.buildConsumerProperties();\n        return new DefaultKafkaConsumerFactory(props,\n                new JsonDeserializer&lt;&gt;(String.class)\n                        .forKeys()\n                        .ignoreTypeHeaders(),\n                new JsonDeserializer&lt;&gt;(FooKafkaDTO.class)\n                        .ignoreTypeHeaders());\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17569529,"reputation":95,"user_id":12745498,"display_name":"SDB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60961582,"answer_count":1,"score":3,"last_activity_date":1657107071,"creation_date":1585096444,"question_id":60841391,"body_markdown":"I want to load my spring-kafka properties from application.properties and that must be loaded using spring auto configuration. My problem is Caused by: java.lang.IllegalStateException: No Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment however I have already set it in properties file spring.kafka.listener.ack-mode=manual-immediate in this properties however because it&#39;s my custom fooKafkaListenerContainerFactory It&#39;s not able to pick this settings. What I want is without setting it manually it should be picked up from my application.properies. @Gary Russell your help is appreciated.\r\n\r\nMy code looks like below\r\n    \r\n    package com.foo;\r\n    \r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\n    import org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\r\n    import org.springframework.boot.autoconfigure.kafka.KafkaProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    \r\n    import com.foo.FooKafkaDTO;\r\n    \r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \r\n        @Autowired\r\n        private KafkaProperties kafkaProperties;\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(ConsumerFactory.class)\r\n        public ConsumerFactory&lt;?, ?&gt; kafkaConsumerFactory() {\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties());\r\n        }\r\n    \r\n        @Bean\r\n        @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\r\n        public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\r\n                ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n                ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n    \r\n            ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt;();\r\n            configurer.configure(factory, kafkaConsumerFactory);\r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;String, FooKafkaDTO&gt; fooConsumerFactory() {\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(\r\n                    kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(FooKafkaDTO.class));\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, FooKafkaDTO&gt; fooKafkaListenerContainerFactory(\r\n                ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\r\n                ConsumerFactory&lt;String, FooKafkaDTO&gt; fooConsumerFactory) {\r\n    \r\n            ConcurrentKafkaListenerContainerFactory&lt;String, FooKafkaDTO&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(fooConsumerFactory());\r\n            return factory;\r\n        }\r\n    } \r\n    \r\nHere are my properties \r\n    \r\n    spring.kafka.bootstrap-servers=localhost:9092\r\n    spring.kafka.listener.ack-mode=manual-immediate\r\n    spring.kafka.consumer.group-id=group_id\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.enable.auto.commit=false\r\n    spring.kafka.consumer.key-deserialize=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    spring.kafka.consumer.value-deserialize=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    \r\nHere is my listener\r\n    \r\n    @Service\r\n    public class Consumer {\r\n    \r\n        private static final Log LOG = LogFactory.getLog(Consumer.class);\r\n    \r\n        @KafkaListener(\r\n                topicPartitions = {@TopicPartition(topic = &quot;outbox.foo&quot;,\r\n                        partitionOffsets = @PartitionOffset(partition = &quot;0&quot;, initialOffset = &quot;0&quot;))},\r\n                groupId = &quot;group_id&quot;,\r\n                containerFactory = &quot;fooKafkaListenerContainerFactory&quot;)\r\n        public void consume(@Payload FooKafkaDTO fooKafkaDTO, Acknowledgment acknowledgment,\r\n                @Headers MessageHeaders headers) {\r\n    \r\n            LOG.info(&quot;offset:::&quot; + Long.valueOf(headers.get(KafkaHeaders.OFFSET).toString()));\r\n            LOG.info(String.format(&quot;$$ -&gt; Consumed Message -&gt; %s&quot;, fooKafkaDTO));\r\n            acknowledgment.acknowledge();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"spring kafka properties not auto loaded when writing customConsumerFactory and customKafkaListenerContainerFactory","body":"<p>I want to load my spring-kafka properties from application.properties and that must be loaded using spring auto configuration. My problem is Caused by: java.lang.IllegalStateException: No Acknowledgment available as an argument, the listener container must have a MANUAL AckMode to populate the Acknowledgment however I have already set it in properties file spring.kafka.listener.ack-mode=manual-immediate in this properties however because it's my custom fooKafkaListenerContainerFactory It's not able to pick this settings. What I want is without setting it manually it should be picked up from my application.properies. @Gary Russell your help is appreciated.</p>\n<p>My code looks like below</p>\n<pre><code>package com.foo;\n\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.boot.autoconfigure.kafka.ConcurrentKafkaListenerContainerFactoryConfigurer;\nimport org.springframework.boot.autoconfigure.kafka.KafkaProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport com.foo.FooKafkaDTO;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Autowired\n    private KafkaProperties kafkaProperties;\n\n    @Bean\n    @ConditionalOnMissingBean(ConsumerFactory.class)\n    public ConsumerFactory&lt;?, ?&gt; kafkaConsumerFactory() {\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties());\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n            ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt;();\n        configurer.configure(factory, kafkaConsumerFactory);\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, FooKafkaDTO&gt; fooConsumerFactory() {\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(\n                kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(FooKafkaDTO.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, FooKafkaDTO&gt; fooKafkaListenerContainerFactory(\n            ConcurrentKafkaListenerContainerFactoryConfigurer configurer,\n            ConsumerFactory&lt;String, FooKafkaDTO&gt; fooConsumerFactory) {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, FooKafkaDTO&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(fooConsumerFactory());\n        return factory;\n    }\n} \n</code></pre>\n<p>Here are my properties</p>\n<pre><code>spring.kafka.bootstrap-servers=localhost:9092\nspring.kafka.listener.ack-mode=manual-immediate\nspring.kafka.consumer.group-id=group_id\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.enable.auto.commit=false\nspring.kafka.consumer.key-deserialize=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.value-deserialize=org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n<p>Here is my listener</p>\n<pre><code>@Service\npublic class Consumer {\n\n    private static final Log LOG = LogFactory.getLog(Consumer.class);\n\n    @KafkaListener(\n            topicPartitions = {@TopicPartition(topic = &quot;outbox.foo&quot;,\n                    partitionOffsets = @PartitionOffset(partition = &quot;0&quot;, initialOffset = &quot;0&quot;))},\n            groupId = &quot;group_id&quot;,\n            containerFactory = &quot;fooKafkaListenerContainerFactory&quot;)\n    public void consume(@Payload FooKafkaDTO fooKafkaDTO, Acknowledgment acknowledgment,\n            @Headers MessageHeaders headers) {\n\n        LOG.info(&quot;offset:::&quot; + Long.valueOf(headers.get(KafkaHeaders.OFFSET).toString()));\n        LOG.info(String.format(&quot;$$ -&gt; Consumed Message -&gt; %s&quot;, fooKafkaDTO));\n        acknowledgment.acknowledge();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","bash"],"comments":[{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":2,"creation_date":1346949988,"post_id":12304647,"comment_id":16509582,"body_markdown":"before you run java do `echo $MESSAGE` to make sure that the environment variable is defined.","body":"before you run java do <code>echo $MESSAGE</code> to make sure that the environment variable is defined."}],"answers":[{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346950159,"creation_date":1346950159,"answer_id":12304752,"question_id":12304647,"body_markdown":"I would recommend you to test if your environment variable is indeed &quot;defined&quot; by using echo $MESSAGE as suggested above. &lt;BR&gt;\r\nIn addition, changing the bash_profile file will not effect your current shell, &lt;BR&gt; you must use &quot;source&quot; in order for it to effect your current shell. &lt;BR&gt;\r\nI would also recommend reading [this][1] article about differences between bashrc and bash_profile. &lt;BR&gt;\r\nMaybe you should define the EXPORT at bashrc? &lt;BR&gt;\r\n\r\n\r\n  [1]: http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p>I would recommend you to test if your environment variable is indeed \"defined\" by using echo $MESSAGE as suggested above. <BR>\nIn addition, changing the bash_profile file will not effect your current shell, <BR> you must use \"source\" in order for it to effect your current shell. <BR>\nI would also recommend reading <a href=\"http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html\" rel=\"nofollow\">this</a> article about differences between bashrc and bash_profile. <BR>\nMaybe you should define the EXPORT at bashrc? <BR></p>\n"},{"tags":[],"owner":{"account_id":5820,"reputation":11815,"user_id":9555,"display_name":"Andy Ross"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1346950237,"creation_date":1346950237,"answer_id":12304775,"question_id":12304647,"body_markdown":"The .bash_profile file is only sourced for login shells.  If your java process is spawned from a shell that is not a login shell (for example a script with a `#!/bin/sh` at the top) then it will not read it (though it may still inherit MESSAGE from the environment depending on how you run it).\r\n\r\nNote also that .bash_profile is also not run for interactive shells that are not &quot;login&quot; shells, so you can&#39;t rely on it being run even when you have a shell prompt.  People usually use .bashrc, which is sourced for all interactive shells, for that purpose.\r\n\r\nIf you want a variable to be set in all Bourne shell derivatives regardless of whether they are interactive or not, put it in both .profile and .bashrc.","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p>The .bash_profile file is only sourced for login shells.  If your java process is spawned from a shell that is not a login shell (for example a script with a <code>#!/bin/sh</code> at the top) then it will not read it (though it may still inherit MESSAGE from the environment depending on how you run it).</p>\n\n<p>Note also that .bash_profile is also not run for interactive shells that are not \"login\" shells, so you can't rely on it being run even when you have a shell prompt.  People usually use .bashrc, which is sourced for all interactive shells, for that purpose.</p>\n\n<p>If you want a variable to be set in all Bourne shell derivatives regardless of whether they are interactive or not, put it in both .profile and .bashrc.</p>\n"},{"tags":[],"owner":{"account_id":1372161,"reputation":4210,"user_id":1306959,"display_name":"Alex North-Keys"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346952191,"creation_date":1346952191,"answer_id":12305268,"question_id":12304647,"body_markdown":"This actually gets even more interesting for users who have a .profile (for the old Bourne shell), that gets read in by .bash_profile automatically (providing compatability).  In either case, the environment variables are read in once only at *login* shell startup, and all subshells inherit those variables for free.  The .bashrc is for tty-dependent things and unheritables like functions (the old sh used $ENV, I think, if it were set, for something similar).\r\n\r\nYour use of ~/.bash_profile looks fine (although single quotes are more reliable than double quotes, which allow some substitutions).  Make sure you&#39;ve logged out and back in between editing that file and trying your test, or use &quot;. ~/.bash_profile&quot; (no quotes and note the leading dot and space, since the dot is the command here).\r\n\r\nThe article at http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html covers some good things, like using &quot;. ~/.bashrc&quot; at then end of your ~/.bash_profile (excepth that you should use -r, not -f).  The comment about using export in your .bashrc is wrong, you should *not* do this, for two reasons (1) an pretty insignificant performance penalty, (2) a pretty high chance that some command you execute won&#39;t get the environment variable - particularly things spawned from your window manager menus and other places where an actual command prompt didn&#39;t appear in any of their parents.\r\n\r\nLastly, make sure the $MESSAGE actually exists in your environment - look at the output of the &quot;env&quot; command - if it isn&#39;t there, the Java process won&#39;t see it unless it&#39;s internally creating it and storing it in its own internal copy of the environment variables.\r\n\r\nAnother note, if you set env variables in the .profile, use this syntax:\r\n\r\n   VAR=VALUE ; export VAR\r\n\r\n...since the old sh shell doesn&#39;t support &quot;export VAR=VALUE&quot;.  Using set -e before a bunch of these and set +e after can remove the need to use &quot;export&quot; at all, if I remember correctly.\r\n\r\n\r\n\r\n","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p>This actually gets even more interesting for users who have a .profile (for the old Bourne shell), that gets read in by .bash_profile automatically (providing compatability).  In either case, the environment variables are read in once only at <em>login</em> shell startup, and all subshells inherit those variables for free.  The .bashrc is for tty-dependent things and unheritables like functions (the old sh used $ENV, I think, if it were set, for something similar).</p>\n\n<p>Your use of ~/.bash_profile looks fine (although single quotes are more reliable than double quotes, which allow some substitutions).  Make sure you've logged out and back in between editing that file and trying your test, or use \". ~/.bash_profile\" (no quotes and note the leading dot and space, since the dot is the command here).</p>\n\n<p>The article at <a href=\"http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html\" rel=\"nofollow\">http://www.joshstaiger.org/archives/2005/07/bash_profile_vs.html</a> covers some good things, like using \". ~/.bashrc\" at then end of your ~/.bash_profile (excepth that you should use -r, not -f).  The comment about using export in your .bashrc is wrong, you should <em>not</em> do this, for two reasons (1) an pretty insignificant performance penalty, (2) a pretty high chance that some command you execute won't get the environment variable - particularly things spawned from your window manager menus and other places where an actual command prompt didn't appear in any of their parents.</p>\n\n<p>Lastly, make sure the $MESSAGE actually exists in your environment - look at the output of the \"env\" command - if it isn't there, the Java process won't see it unless it's internally creating it and storing it in its own internal copy of the environment variables.</p>\n\n<p>Another note, if you set env variables in the .profile, use this syntax:</p>\n\n<p>VAR=VALUE ; export VAR</p>\n\n<p>...since the old sh shell doesn't support \"export VAR=VALUE\".  Using set -e before a bunch of these and set +e after can remove the need to use \"export\" at all, if I remember correctly.</p>\n"},{"tags":[],"owner":{"account_id":2324982,"reputation":890,"user_id":2039709,"display_name":"user2039709"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440761142,"creation_date":1440761142,"answer_id":32269997,"question_id":12304647,"body_markdown":"Another place to look at: */etc/environment* (this may overrule/replace your .bashrc or .bash_profile in shells opened via your IDE)","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p>Another place to look at: <em>/etc/environment</em> (this may overrule/replace your .bashrc or .bash_profile in shells opened via your IDE)</p>\n"},{"tags":[],"owner":{"account_id":6320331,"reputation":814,"user_id":4908657,"accept_rate":57,"display_name":"Johnny Alpha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657106739,"creation_date":1657106739,"answer_id":72882778,"question_id":12304647,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nVariables in your bash profile only get used in the terminal session you are in, so IntelliJ won&#39;t pick them up.\r\n\r\nInstead, go to `Edit Configurations` in your `Run Configurations` box, and add your environment variables in a semi-colon separated list in the `environment variables` box!\r\n\r\n  [1]: https://i.stack.imgur.com/4Xw5N.png","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p><a href=\"https://i.stack.imgur.com/4Xw5N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Xw5N.png\" alt=\"enter image description here\" /></a></p>\n<p>Variables in your bash profile only get used in the terminal session you are in, so IntelliJ won't pick them up.</p>\n<p>Instead, go to <code>Edit Configurations</code> in your <code>Run Configurations</code> box, and add your environment variables in a semi-colon separated list in the <code>environment variables</code> box!</p>\n"}],"owner":{"account_id":411299,"reputation":5580,"user_id":783663,"accept_rate":88,"display_name":"Patrick Lorio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9424,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1657106739,"creation_date":1346949775,"question_id":12304647,"body_markdown":"Here is a line in file ~/.bash_profile\r\n\r\n`export MESSAGE=&quot;Hello World&quot;`\r\n\r\nI want to access system variable `MESSAGE` in java.\r\n\r\n`System.getenv(&quot;MESSAGE&quot;);` doesn&#39;t work.","title":"System.getenv doesn&#39;t get variables defined in ~/.bash_profile","body":"<p>Here is a line in file ~/.bash_profile</p>\n\n<p><code>export MESSAGE=\"Hello World\"</code></p>\n\n<p>I want to access system variable <code>MESSAGE</code> in java.</p>\n\n<p><code>System.getenv(\"MESSAGE\");</code> doesn't work.</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":1015767,"reputation":2808,"user_id":1027359,"accept_rate":71,"display_name":"dotvav"},"score":6,"creation_date":1439198883,"post_id":31915959,"comment_id":51744861,"body_markdown":"Are you saying nothing happens when you double-click the _.jar_ ? What happens when you start it from the command line with `java -jar yourjar.jar`?","body":"Are you saying nothing happens when you double-click the <i>.jar</i> ? What happens when you start it from the command line with <code>java -jar yourjar.jar</code>?"},{"owner":{"account_id":4376203,"reputation":2070,"user_id":3569165,"display_name":"Jan"},"score":1,"creation_date":1439199055,"post_id":31915959,"comment_id":51744952,"body_markdown":"Is the JVM in the `path` of the other computers?","body":"Is the JVM in the <code>path</code> of the other computers?"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1657108729,"post_id":31915959,"comment_id":128730198,"body_markdown":"I advise you to create a bundle containing both your JARs and a JVM, either use JPackage or my tool JNDT: https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html https://tuer.sourceforge.io/en/documentation/#jndt","body":"I advise you to create a bundle containing both your JARs and a JVM, either use JPackage or my tool JNDT: <a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.ht&zwnj;&#8203;ml</a> <a href=\"https://tuer.sourceforge.io/en/documentation/#jndt\" rel=\"nofollow noreferrer\">tuer.sourceforge.io/en/documentation/#jndt</a>"}],"answers":[{"tags":[],"owner":{"account_id":6765324,"reputation":13,"user_id":5210508,"display_name":"nick85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439205527,"creation_date":1439198988,"answer_id":31916070,"question_id":31915959,"body_markdown":"When the Java Runtime Environment (JRE) is not installed, the JAR won&#39;t be open and won&#39;t show you any message. Try installing JRE into the other computer and try again.","title":"Executable jar not working on other computers","body":"<p>When the Java Runtime Environment (JRE) is not installed, the JAR won't be open and won't show you any message. Try installing JRE into the other computer and try again.</p>\n"},{"tags":[],"owner":{"account_id":4868030,"reputation":1930,"user_id":3925552,"accept_rate":40,"display_name":"HassanUsman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1439206147,"creation_date":1439199937,"answer_id":31916358,"question_id":31915959,"body_markdown":"You need to install a [Java Runtime Environment (JRE)][1] first, then you can directly run the `.jar` files on your computer. The Java Development Kit (JDK) download package contains it&#39;s corresponding JRE, so that&#39;s fine to install too.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html","title":"Executable jar not working on other computers","body":"<p>You need to install a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html\" rel=\"nofollow\">Java Runtime Environment (JRE)</a> first, then you can directly run the <code>.jar</code> files on your computer. The Java Development Kit (JDK) download package contains it's corresponding JRE, so that's fine to install too.</p>\n"},{"tags":[],"owner":{"account_id":5357823,"reputation":1831,"user_id":4270033,"accept_rate":73,"display_name":"Maslor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439204294,"creation_date":1439203812,"answer_id":31917605,"question_id":31915959,"body_markdown":"That happened to me a lot of times when I started writing java distributed applications. \r\n\r\nCheck your project build path (since you&#39;re using eclipse, right-button click on your project&#39;s folder, then Build Path &gt; Configure Build Path). If any of the paths that are specified there are custom *ie `C:\\User\\daMachineMaster\\Java\\jre\\bin` or whatever, it **won&#39;t** work on any other machine because the application will always look for that path, which won&#39;t exist in no other machine than `daMachineMaster`&#39;s computer. You could use a *wrapper* to fix this issue, since it encapsulates all needed information in a .exe, for example.\r\n\r\nIf that still isn&#39;t your issue, search your code for any links to your local directories. For example, \r\n\r\n    String style = main.screens.ScreenFramework.class.getResource(&quot;C:\\Users\\Dwayne\\Music\\cool\\DarkTheme.css&quot;);\r\n\r\nAfter you&#39;ve located these kinds of hard links, the solution is changing them to be *relative* links. Check https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java\r\n\r\nIn the above case, it would mean changing to something like:\r\n\r\n    String style = main.screens.ScreenFramework.class.getResource(&quot;DarkTheme.css&quot;).toExternalForm();\r\n\r\nAlso, as mentioned in other answers, check if the other computers hava java installed. I don&#39;t think that they need any environment variables defined to run a runnable jar but if you want to run your app in the cmdline with something like `java -jar yourapp.jar`then you need to go to the windows explorer (assuming you&#39;re using windows), right-click Computer, then click Advanced System Settings &gt; Environment Variables &gt; New... &gt; Variable Name = JAVA_HOME; Variable Value = *directory where java is installed* &gt; OK &gt; Click on PATH &gt; Edit... &gt; add JAVA_HOME\\bin to PATH &gt; OK\r\n","title":"Executable jar not working on other computers","body":"<p>That happened to me a lot of times when I started writing java distributed applications. </p>\n\n<p>Check your project build path (since you're using eclipse, right-button click on your project's folder, then Build Path > Configure Build Path). If any of the paths that are specified there are custom *ie <code>C:\\User\\daMachineMaster\\Java\\jre\\bin</code> or whatever, it <strong>won't</strong> work on any other machine because the application will always look for that path, which won't exist in no other machine than <code>daMachineMaster</code>'s computer. You could use a <em>wrapper</em> to fix this issue, since it encapsulates all needed information in a .exe, for example.</p>\n\n<p>If that still isn't your issue, search your code for any links to your local directories. For example, </p>\n\n<pre><code>String style = main.screens.ScreenFramework.class.getResource(\"C:\\Users\\Dwayne\\Music\\cool\\DarkTheme.css\");\n</code></pre>\n\n<p>After you've located these kinds of hard links, the solution is changing them to be <em>relative</em> links. Check <a href=\"https://stackoverflow.com/questions/14209085/how-to-define-a-relative-path-in-java\">How to define a relative path in java</a></p>\n\n<p>In the above case, it would mean changing to something like:</p>\n\n<pre><code>String style = main.screens.ScreenFramework.class.getResource(\"DarkTheme.css\").toExternalForm();\n</code></pre>\n\n<p>Also, as mentioned in other answers, check if the other computers hava java installed. I don't think that they need any environment variables defined to run a runnable jar but if you want to run your app in the cmdline with something like <code>java -jar yourapp.jar</code>then you need to go to the windows explorer (assuming you're using windows), right-click Computer, then click Advanced System Settings > Environment Variables > New... > Variable Name = JAVA_HOME; Variable Value = <em>directory where java is installed</em> > OK > Click on PATH > Edit... > add JAVA_HOME\\bin to PATH > OK</p>\n"},{"tags":[],"owner":{"account_id":2644520,"reputation":49,"user_id":2781551,"display_name":"user37292"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439830304,"creation_date":1439830304,"answer_id":32055754,"question_id":31915959,"body_markdown":"Sorry for the late reply. Thanks for all your answers, but it turned out there was an error in my code that simply stopped it running without showing any errors.","title":"Executable jar not working on other computers","body":"<p>Sorry for the late reply. Thanks for all your answers, but it turned out there was an error in my code that simply stopped it running without showing any errors.</p>\n"},{"tags":[],"owner":{"account_id":22229891,"reputation":9,"user_id":16466250,"display_name":"Daudi Mabula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657106180,"creation_date":1657106180,"answer_id":72882650,"question_id":31915959,"body_markdown":"I got this problem several times. The issue was the jar file runs on the computer where I have packaged. But in another computer it is not running, some time it shows running if I check the javaw.exe process in cmd but nothing is served.\r\nThe solution here is to make sure the following are set correctly.\r\n\r\n 1. Make sure the version of java in another computer match the jar file. In some case if you defined java16 in the pom file, make sure the computer has java16 or higher installed and the JAVA_HOME environment is set correct to point to this version.\r\n 2. Make sure the dependent variables are set correctly. For example if the package depends on database driver or database connection consider installing and creating database\r\n\r\nFor me it worked after changing the java version in the pom file to the oddest ie.the second computer use java 16 then packaged jar file to use java 11.","title":"Executable jar not working on other computers","body":"<p>I got this problem several times. The issue was the jar file runs on the computer where I have packaged. But in another computer it is not running, some time it shows running if I check the javaw.exe process in cmd but nothing is served.\nThe solution here is to make sure the following are set correctly.</p>\n<ol>\n<li>Make sure the version of java in another computer match the jar file. In some case if you defined java16 in the pom file, make sure the computer has java16 or higher installed and the JAVA_HOME environment is set correct to point to this version.</li>\n<li>Make sure the dependent variables are set correctly. For example if the package depends on database driver or database connection consider installing and creating database</li>\n</ol>\n<p>For me it worked after changing the java version in the pom file to the oddest ie.the second computer use java 16 then packaged jar file to use java 11.</p>\n"}],"owner":{"account_id":2644520,"reputation":49,"user_id":2781551,"display_name":"user37292"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11262,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1657106180,"creation_date":1439198664,"question_id":31915959,"body_markdown":"I&#39;ve created a program using `Eclipse` and exported as an `executable jar` (I&#39;ve tried all 3 library handling options). It runs perfectly on the computer it was written and exported on, but when I try and run it on other machines it does nothing at all. It brings up no errors, nothing at all. I&#39;ve got several people to try it for my with no luck, and I&#39;ve tried running it on my laptop (ensuring that Java is the latest version, the same as the machine that it was written on). The `MANIFEST` file points to the Main class correctly.\r\n\r\nDoes anyone know how I can solve this issue?\r\n\r\nIt&#39;s incredibly frustrating!\r\nIf any more info is needed, I can supply it.","title":"Executable jar not working on other computers","body":"<p>I've created a program using <code>Eclipse</code> and exported as an <code>executable jar</code> (I've tried all 3 library handling options). It runs perfectly on the computer it was written and exported on, but when I try and run it on other machines it does nothing at all. It brings up no errors, nothing at all. I've got several people to try it for my with no luck, and I've tried running it on my laptop (ensuring that Java is the latest version, the same as the machine that it was written on). The <code>MANIFEST</code> file points to the Main class correctly.</p>\n\n<p>Does anyone know how I can solve this issue?</p>\n\n<p>It's incredibly frustrating!\nIf any more info is needed, I can supply it.</p>\n"},{"tags":["java","eclipse","selenium","automation"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1657106955,"post_id":72882638,"comment_id":128729563,"body_markdown":"How are you deleting the element? Is it from the UI?","body":"How are you deleting the element? Is it from the UI?"},{"owner":{"account_id":25579088,"reputation":1,"user_id":19357988,"display_name":"Tarun Kumar Srikonda"},"score":0,"creation_date":1657195831,"post_id":72882638,"comment_id":128756154,"body_markdown":"Yes deleting from the UI","body":"Yes deleting from the UI"}],"owner":{"account_id":25579088,"reputation":1,"user_id":19357988,"display_name":"Tarun Kumar Srikonda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657106141,"creation_date":1657106141,"question_id":72882638,"body_markdown":"   \r\n\r\n    class HelloWorld {\r\n            public static void main(String[] args) {\r\n                String orders=&quot;6 orders&quot;;\r\n        \t\t\tString[] orderstextsplit= orders.split(&quot; &quot;); //6 | orders\r\n        \t\t    String order_count = orderstextsplit[0]; //6\r\n        \t\t\tint actualcount = Integer.parseInt(order_count); //6\r\n        \t\t\tSystem.out.println(&quot;Actual count is:&quot; +actualcount);\r\n                \r\n//code for deleting an element (not included here)            \r\n//code after deleting an element (below)\r\n   \r\n\r\n     int expected count= actual count -1;\r\n                    if(actualcount==expectedcount)\r\n                    {\r\n                     System.out.println(&quot;Bookmarks count is &quot; +driver.findElement(orderscount));\r\n            }\r\n        }\r\n        }","title":"what logic is needed for validating before and after count of elements after deleting one element. I have written the below logic which doesn&#39;t work","body":"<pre><code>class HelloWorld {\n        public static void main(String[] args) {\n            String orders=&quot;6 orders&quot;;\n                String[] orderstextsplit= orders.split(&quot; &quot;); //6 | orders\n                String order_count = orderstextsplit[0]; //6\n                int actualcount = Integer.parseInt(order_count); //6\n                System.out.println(&quot;Actual count is:&quot; +actualcount);\n            \n</code></pre>\n<p>//code for deleting an element (not included here)<br />\n//code after deleting an element (below)</p>\n<pre><code> int expected count= actual count -1;\n                if(actualcount==expectedcount)\n                {\n                 System.out.println(&quot;Bookmarks count is &quot; +driver.findElement(orderscount));\n        }\n    }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","sqlresultsetmapping"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1657110695,"post_id":72882539,"comment_id":128730941,"body_markdown":"That&#39;s not possible. Transient fields are ignored by JPA","body":"That&#39;s not possible. Transient fields are ignored by JPA"},{"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"score":0,"creation_date":1657117651,"post_id":72882539,"comment_id":128734157,"body_markdown":"@SimonMartinelli thanks for your response,\noh...what should I do in this situation? how to get unread from my native query and map to my entity?\nselect c.*,count(m.id) as unread from chat c left join chat_message m where....","body":"@SimonMartinelli thanks for your response, oh...what should I do in this situation? how to get unread from my native query and map to my entity? select c.*,count(m.id) as unread from chat c left join chat_message m where...."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657118642,"post_id":72882539,"comment_id":128734652,"body_markdown":"You can do it yourself with a JPQL query similar to &quot;Select c, size(c.messages) from Chat c where ...&quot;. Assuming you have a OneToMany to chat_messages mapped as messages, this will return Chat instances with the count(m.id) value - you then have to loop through the returned list and set the transient with the count, or just use the value and keep your Entity as is. Alternatively, you can map it as a DTO https://smarterco.de/spring-data-jpa-query-result-to-dto/","body":"You can do it yourself with a JPQL query similar to &quot;Select c, size(c.messages) from Chat c where ...&quot;. Assuming you have a OneToMany to chat_messages mapped as messages, this will return Chat instances with the count(m.id) value - you then have to loop through the returned list and set the transient with the count, or just use the value and keep your Entity as is. Alternatively, you can map it as a DTO <a href=\"https://smarterco.de/spring-data-jpa-query-result-to-dto/\" rel=\"nofollow noreferrer\">smarterco.de/spring-data-jpa-query-result-to-dto</a>"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1657121251,"post_id":72882539,"comment_id":128735875,"body_markdown":"You shouldn&#39;t map it to an Entity but a DTO","body":"You shouldn&#39;t map it to an Entity but a DTO"},{"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"score":0,"creation_date":1657610758,"post_id":72882539,"comment_id":128845314,"body_markdown":"@Chris thanks,\nwhen map the result as a DTO, how to manage fileds of DTO that related to manyToOne fileds of entity ? I get null for userFrom and userTo of my DTO  because there is no manyToOne annotation in DTO.\ncan you explain me how to create query and DTO for my scenario?","body":"@Chris thanks, when map the result as a DTO, how to manage fileds of DTO that related to manyToOne fileds of entity ? I get null for userFrom and userTo of my DTO  because there is no manyToOne annotation in DTO. can you explain me how to create query and DTO for my scenario?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657631731,"post_id":72882539,"comment_id":128852757,"body_markdown":"Using SQL &#39;native&#39; queries means JPA won&#39;t build mappings for you unless you are defining exactly how (an SQLResultSetMapping can define how to build and return multiple entities), but you are on your own to work out the joins.. Use a (JPQL) constructor query and pass in the Chat mappings to the constructor to let JPA do it all for you - you are likely better off with returning managed Chat instance and have the count data external though, as the Chat will have all references managed as well.","body":"Using SQL &#39;native&#39; queries means JPA won&#39;t build mappings for you unless you are defining exactly how (an SQLResultSetMapping can define how to build and return multiple entities), but you are on your own to work out the joins.. Use a (JPQL) constructor query and pass in the Chat mappings to the constructor to let JPA do it all for you - you are likely better off with returning managed Chat instance and have the count data external though, as the Chat will have all references managed as well."}],"owner":{"account_id":16348003,"reputation":11,"user_id":11807260,"display_name":"samaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657106093,"creation_date":1657105768,"question_id":72882539,"body_markdown":"I work on a spring boot, data jpa web application and have a problem with an entity that has a @transient field and I want to bind result of my native query to this entity (all fields even @transient field)\r\n\r\nsuppose Chat entity class in brief :\r\n\r\n        @entity\r\n    public class Chat  implements  Serializable{\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy =  GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;user_from&quot;)\r\n\tprivate User userFrom;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;user_to&quot;)\r\n\tprivate User userTo;\r\n\t\r\n\t@Transient\r\n\tprivate int unread;\r\n\r\n//getter and setter\r\n}\r\n\r\n\r\nI have a native query that get chat list of user by left joining of chat table with chat_message table,\r\nin my select statement I have something like this:\r\n\r\n    select c.*,count(m.id) as unread from chat c left join chat_message m where ...\r\n\r\n\r\nI need to bind result of this query to my chat entity, and it is important to value of unread field of above query set to my @transient unread field of chat class,\r\n\r\nbut this @transient field ignored by data jpa\r\nI tried more and more by using @SqlResultSetMapping and data jpa projection and ..., but there was no result for me.\r\nby using @SqlResultSetMapping, @transient filed still ignored,\r\nby using jpa projection, @transient filed is ok, but UserFrom and UserTo fields are null.\r\n\r\nplease guide me to overcome this problem if you had a similar experience or have any idea about this,\r\n\r\nthanks","title":"how to bind result of native query in data jpa to an entity with a @transient field","body":"<p>I work on a spring boot, data jpa web application and have a problem with an entity that has a @transient field and I want to bind result of my native query to this entity (all fields even @transient field)</p>\n<p>suppose Chat entity class in brief :</p>\n<pre><code>    @entity\npublic class Chat  implements  Serializable{\n\n@Id\n@GeneratedValue(strategy =  GenerationType.IDENTITY)\nprivate long id;\n\n@ManyToOne\n@JoinColumn(name=&quot;user_from&quot;)\nprivate User userFrom;\n\n@ManyToOne\n@JoinColumn(name=&quot;user_to&quot;)\nprivate User userTo;\n\n@Transient\nprivate int unread;\n</code></pre>\n<p>//getter and setter\n}</p>\n<p>I have a native query that get chat list of user by left joining of chat table with chat_message table,\nin my select statement I have something like this:</p>\n<pre><code>select c.*,count(m.id) as unread from chat c left join chat_message m where ...\n</code></pre>\n<p>I need to bind result of this query to my chat entity, and it is important to value of unread field of above query set to my @transient unread field of chat class,</p>\n<p>but this @transient field ignored by data jpa\nI tried more and more by using @SqlResultSetMapping and data jpa projection and ..., but there was no result for me.\nby using @SqlResultSetMapping, @transient filed still ignored,\nby using jpa projection, @transient filed is ok, but UserFrom and UserTo fields are null.</p>\n<p>please guide me to overcome this problem if you had a similar experience or have any idea about this,</p>\n<p>thanks</p>\n"},{"tags":["java","spring","spring-boot","redis"],"answers":[{"tags":[],"owner":{"account_id":5771069,"reputation":1644,"user_id":4554496,"display_name":"Chris Tanner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471603515,"creation_date":1471603515,"answer_id":39037078,"question_id":39027747,"body_markdown":"[Pipelining][1] should solve your problem; you create a pipeline, fill it with all the commands you want to perform, and then send those in bulk to redis. Using SET with EX you should be able to send 10,000 or more at a time.\r\n\r\n\r\n  [1]: http://redis.io/topics/pipelining","title":"Redis MSET with TTL in Spring RedisTemplate","body":"<p><a href=\"http://redis.io/topics/pipelining\" rel=\"nofollow\">Pipelining</a> should solve your problem; you create a pipeline, fill it with all the commands you want to perform, and then send those in bulk to redis. Using SET with EX you should be able to send 10,000 or more at a time.</p>\n"},{"tags":[],"owner":{"account_id":6399090,"reputation":710,"user_id":4962464,"display_name":"Dev Gosain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657105965,"creation_date":1657105965,"answer_id":72882587,"question_id":39027747,"body_markdown":"I was facing the same issue and finally solved it with Redis transaction. All the operations between `operations.multi()` and `operations.exec()` will be executed as one transaction, saves lot of network calls. You can implement rollback also with `operations.discard()`\r\n\r\n    List&lt;Object&gt; txResults = redisTemplate.execute(new SessionCallback&lt;List&lt;Object&gt;&gt;() {\r\n            \t\t\t\t  public List&lt;Object&gt; execute(RedisOperations operations) throws DataAccessException {\r\n            \t\t\t\t    operations.multi();\r\n            \t\t\t\t    for (Map.Entry&lt;String, Integer&gt; entry : toUpsert.entrySet()) {\r\n            \t\t\t\t    \toperations.opsForValue().set(entry.getKey(), entry.getValue(), expirySeconds, TimeUnit.SECONDS);\r\n            \t\t\t\t    }\r\n            \t\t\t\t    return operations.exec();\r\n            \t\t\t\t  }\r\n            \t\t\t\t});\r\n\r\nSpring Doc: [Redis Transaction][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#tx","title":"Redis MSET with TTL in Spring RedisTemplate","body":"<p>I was facing the same issue and finally solved it with Redis transaction. All the operations between <code>operations.multi()</code> and <code>operations.exec()</code> will be executed as one transaction, saves lot of network calls. You can implement rollback also with <code>operations.discard()</code></p>\n<pre><code>List&lt;Object&gt; txResults = redisTemplate.execute(new SessionCallback&lt;List&lt;Object&gt;&gt;() {\n                          public List&lt;Object&gt; execute(RedisOperations operations) throws DataAccessException {\n                            operations.multi();\n                            for (Map.Entry&lt;String, Integer&gt; entry : toUpsert.entrySet()) {\n                                operations.opsForValue().set(entry.getKey(), entry.getValue(), expirySeconds, TimeUnit.SECONDS);\n                            }\n                            return operations.exec();\n                          }\n                        });\n</code></pre>\n<p>Spring Doc: <a href=\"https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#tx\" rel=\"nofollow noreferrer\">Redis Transaction</a></p>\n"}],"owner":{"account_id":1301299,"reputation":5633,"user_id":1251137,"accept_rate":65,"display_name":"ptimson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5396,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1657105965,"creation_date":1471555524,"question_id":39027747,"body_markdown":"I have got a Spring Boot application that needs to take millions of key value pairs and insert them into Redis.\r\n\r\nCurrently I&#39;m using the `multiSet` method 1,000 key value pairs at a time. \r\n\r\n  \r\n\r\n    @Autowired\r\n    private final StringRedisTemplate template;\r\n    \r\n    ...\r\n      \r\n    Map&lt;String, String&gt; keyValuePairs = new HashMap&lt;&gt;();\r\n    template.opsForValue().multiSet(keyValuePairs);\r\n\r\nHowever we also need to set a TTL for each pair. There doesn&#39;t seem to be a way to do this with `multiSet`. There is a way with `set` but this would have to be called millions of times so may not be efficient.\r\n\r\n    // For each key value pair\r\n    template.opsForValue().set(key, value, timeout, unit);\r\n  \r\nDoes anyone know a way of doing this or using the `set` in a performant way?\r\n\r\nThanks","title":"Redis MSET with TTL in Spring RedisTemplate","body":"<p>I have got a Spring Boot application that needs to take millions of key value pairs and insert them into Redis.</p>\n\n<p>Currently I'm using the <code>multiSet</code> method 1,000 key value pairs at a time. </p>\n\n<pre><code>@Autowired\nprivate final StringRedisTemplate template;\n\n...\n\nMap&lt;String, String&gt; keyValuePairs = new HashMap&lt;&gt;();\ntemplate.opsForValue().multiSet(keyValuePairs);\n</code></pre>\n\n<p>However we also need to set a TTL for each pair. There doesn't seem to be a way to do this with <code>multiSet</code>. There is a way with <code>set</code> but this would have to be called millions of times so may not be efficient.</p>\n\n<pre><code>// For each key value pair\ntemplate.opsForValue().set(key, value, timeout, unit);\n</code></pre>\n\n<p>Does anyone know a way of doing this or using the <code>set</code> in a performant way?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","rocksdb"],"answers":[{"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502007966,"creation_date":1502007966,"answer_id":45530079,"question_id":45510290,"body_markdown":"You can use these two options to create larger SST files: `target_file_size_base` and `target_file_size_multiplier`. See [the doc][1] for details.\r\n\r\nAlso, you can use the `max_open_files` option to limit the number of files that RocksDB can open. However, in order to get good performance, I suggest you increasing the system limitation on the max number of open files, and configure `max_open_files` to be `-1`.\r\n\r\n  [1]: https://github.com/facebook/rocksdb/wiki/RocksDB-Tuning-Guide","title":"RocksDB: Too many SST files of very small size","body":"<p>You can use these two options to create larger SST files: <code>target_file_size_base</code> and <code>target_file_size_multiplier</code>. See <a href=\"https://github.com/facebook/rocksdb/wiki/RocksDB-Tuning-Guide\" rel=\"nofollow noreferrer\">the doc</a> for details.</p>\n\n<p>Also, you can use the <code>max_open_files</code> option to limit the number of files that RocksDB can open. However, in order to get good performance, I suggest you increasing the system limitation on the max number of open files, and configure <code>max_open_files</code> to be <code>-1</code>.</p>\n"},{"tags":[],"owner":{"account_id":7563250,"reputation":171,"user_id":5739882,"display_name":"Eric Fu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1532574132,"creation_date":1532574132,"answer_id":51530376,"question_id":45510290,"body_markdown":"By default, when you call `RocksDB.open()` the RocksDB reads all WAL to recover the memtable, then do a `flush()` writing the memtable as an SST file. That&#39;s why you got so many small SST files.\r\n\r\nTo avoid this behaviour set option `avoid_flush_during_recovery` to true when openning DB. The Java version is named `avoidFlushDuringRecovery()`. Also, never call flush or do implicitly flush (such as createCheckpoint etc.) in your code.\r\n\r\nSee the code [here]( https://github.com/facebook/rocksdb/blob/master/include/rocksdb/options.h#L892-L899).","title":"RocksDB: Too many SST files of very small size","body":"<p>By default, when you call <code>RocksDB.open()</code> the RocksDB reads all WAL to recover the memtable, then do a <code>flush()</code> writing the memtable as an SST file. That's why you got so many small SST files.</p>\n\n<p>To avoid this behaviour set option <code>avoid_flush_during_recovery</code> to true when openning DB. The Java version is named <code>avoidFlushDuringRecovery()</code>. Also, never call flush or do implicitly flush (such as createCheckpoint etc.) in your code.</p>\n\n<p>See the code <a href=\"https://github.com/facebook/rocksdb/blob/master/include/rocksdb/options.h#L892-L899\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":20197193,"reputation":45,"user_id":16175442,"display_name":"Naman Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657105956,"creation_date":1657105956,"answer_id":72882581,"question_id":45510290,"body_markdown":"You can also try setting a higher value for ```write_buffer_size```\r\n that should create fewer and larger SST files.","title":"RocksDB: Too many SST files of very small size","body":"<p>You can also try setting a higher value for <code>write_buffer_size</code>\nthat should create fewer and larger SST files.</p>\n"}],"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5433,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1657105956,"creation_date":1501859687,"question_id":45510290,"body_markdown":"I am using RocksDBJava after running the service for sometime I can see the &quot;Too many open files&quot; exception. Digging through the previous issue mentioned on the portal I found out that it is because of system limitation of opening a maximum number of files.\r\nWhen I check the directory, which the rocksDB is using, I noticed there is over 100K sst files of 1KB size, and this can be the reason of the given error.\r\nI wanted to know is there any way by which we can configure the rocksDB to generate SST files of large size, so that the total number of files created is minimum and we can avoid this error.\r\n\r\nAlso in my current project there are many read threads and one write thread, and I open and close the connection (using `RocksDB.open()` and `RocksDB.close()`) before reading or writing to the rocksDB.","title":"RocksDB: Too many SST files of very small size","body":"<p>I am using RocksDBJava after running the service for sometime I can see the \"Too many open files\" exception. Digging through the previous issue mentioned on the portal I found out that it is because of system limitation of opening a maximum number of files.\nWhen I check the directory, which the rocksDB is using, I noticed there is over 100K sst files of 1KB size, and this can be the reason of the given error.\nI wanted to know is there any way by which we can configure the rocksDB to generate SST files of large size, so that the total number of files created is minimum and we can avoid this error.</p>\n\n<p>Also in my current project there are many read threads and one write thread, and I open and close the connection (using <code>RocksDB.open()</code> and <code>RocksDB.close()</code>) before reading or writing to the rocksDB.</p>\n"},{"tags":["java","excel-formula","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1657106948,"post_id":72882469,"comment_id":128729561,"body_markdown":"The  exception `org.apache.poi.ss.formula.eval.NotImplementedFunctionException` means that the function is not implemented by `apache poi`. That&#39;s why evaluating using `apache poi` is not possible until you implement the function. But using `wb.setForceFormulaRecalculation(true);`, as told in [Recalculation of Formulas](https://poi.apache.org/components/spreadsheet/eval.html#recalculation), delegates re-calculation to Excel. The application will perform a full recalculation when the workbook is opened.","body":"The  exception <code>org.apache.poi.ss.formula.eval.NotImplementedFunctionExcepti&zwnj;&#8203;on</code> means that the function is not implemented by <code>apache poi</code>. That&#39;s why evaluating using <code>apache poi</code> is not possible until you implement the function. But using <code>wb.setForceFormulaRecalculation(true);</code>, as told in <a href=\"https://poi.apache.org/components/spreadsheet/eval.html#recalculation\" rel=\"nofollow noreferrer\">Recalculation of Formulas</a>, delegates re-calculation to Excel. The application will perform a full recalculation when the workbook is opened."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1657107541,"post_id":72882469,"comment_id":128729773,"body_markdown":"_I&#39;m trying to validate the formulas_ Do you mean that you are trying to **evaluate** the formulas? Refer to this Web page: https://poi.apache.org/components/spreadsheet/eval.html","body":"<i>I&#39;m trying to validate the formulas</i> Do you mean that you are trying to <b>evaluate</b> the formulas? Refer to this Web page: <a href=\"https://poi.apache.org/components/spreadsheet/eval.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/eval.html</a>"},{"owner":{"account_id":23189239,"reputation":23,"user_id":17285855,"display_name":"Olivier Choquet"},"score":0,"creation_date":1657109144,"post_id":72882469,"comment_id":128730359,"body_markdown":"Axel Richter was right: forcing the validation at opening works well. Thanks Axel.","body":"Axel Richter was right: forcing the validation at opening works well. Thanks Axel."}],"owner":{"account_id":23189239,"reputation":23,"user_id":17285855,"display_name":"Olivier Choquet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657105885,"creation_date":1657105478,"question_id":72882469,"body_markdown":"I&#39;m trying to feed an Excel spreadsheet with a Java program, using Apache POI (XSSF).\r\nAfter having injected the data, I&#39;m trying to validate the formulas, already coded in the spreadsheet.\r\n\r\nThe issue is that this validation (sheet-global or cell by cell) fails when it comes to the &quot;AGGREGATE&quot; function.\r\n\r\n&gt; Error evaluating cell &#39;MS Roadmap&#39;!WC1\r\n&gt; \r\n&gt; Caused by:\r\n&gt; org.apache.poi.ss.formula.eval.NotImplementedFunctionException:\r\n&gt; _xlfn.AGGREGATE\r\n\r\nWhere the WC1&#39;s formula is:\r\n\r\n    =AGREGAT(9;2;WD1:WG1) (here in French ;-))\r\n\r\nI&#39;ve tried as well to not validate the formulas, but, when opening the file, even the F9 key doesn&#39;t work to force updating the formulas ... so this is not an option.\r\n\r\nAny ideas on how to solve this ?\r\n\r\nO.\r\n","title":"How to validate AGGREGATE with Apache POI","body":"<p>I'm trying to feed an Excel spreadsheet with a Java program, using Apache POI (XSSF).\nAfter having injected the data, I'm trying to validate the formulas, already coded in the spreadsheet.</p>\n<p>The issue is that this validation (sheet-global or cell by cell) fails when it comes to the &quot;AGGREGATE&quot; function.</p>\n<blockquote>\n<p>Error evaluating cell 'MS Roadmap'!WC1</p>\n<p>Caused by:\norg.apache.poi.ss.formula.eval.NotImplementedFunctionException:\n_xlfn.AGGREGATE</p>\n</blockquote>\n<p>Where the WC1's formula is:</p>\n<pre><code>=AGREGAT(9;2;WD1:WG1) (here in French ;-))\n</code></pre>\n<p>I've tried as well to not validate the formulas, but, when opening the file, even the F9 key doesn't work to force updating the formulas ... so this is not an option.</p>\n<p>Any ideas on how to solve this ?</p>\n<p>O.</p>\n"},{"tags":["java","jpa","secondary-table"],"answers":[{"tags":[],"owner":{"account_id":18483213,"reputation":31,"user_id":13464814,"display_name":"Daniel Haak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657105766,"creation_date":1657105766,"answer_id":72882538,"question_id":72879483,"body_markdown":"Ok so i figured it out. \r\nThe Error was caused by the missing &quot;referencedColumnName = &quot; statement in the secondarytable annotation. The fixed code looks like this: \r\n\r\n```@Table(name = &quot;annotation_table&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@SecondaryTables({\r\n        @SecondaryTable(name = &quot;commit_table&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name=&quot;Id&quot;, referencedColumnName = &quot;Id&quot;), @PrimaryKeyJoinColumn(name=&quot;Hash&quot;, referencedColumnName = &quot;Hash&quot;)})\r\n})\r\n@IdClass(Key.class)\r\npublic class Annotation {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    private String id;\r\n\r\n    @Id\r\n    @Column(name = &quot;Hash&quot;)\r\n    private String hash;\r\n\r\n    @Column(name = &quot;commit_id&quot;, table = &quot;commit_table&quot;)\r\n    private String commitHash;\r\n\r\n}","title":"JPA Secondary table causes error cause of Foreign Key restriction","body":"<p>Ok so i figured it out.\nThe Error was caused by the missing &quot;referencedColumnName = &quot; statement in the secondarytable annotation. The fixed code looks like this:</p>\n<pre><code>@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@SecondaryTables({\n        @SecondaryTable(name = &quot;commit_table&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name=&quot;Id&quot;, referencedColumnName = &quot;Id&quot;), @PrimaryKeyJoinColumn(name=&quot;Hash&quot;, referencedColumnName = &quot;Hash&quot;)})\n})\n@IdClass(Key.class)\npublic class Annotation {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    private String id;\n\n    @Id\n    @Column(name = &quot;Hash&quot;)\n    private String hash;\n\n    @Column(name = &quot;commit_id&quot;, table = &quot;commit_table&quot;)\n    private String commitHash;\n\n}\n</code></pre>\n"}],"owner":{"account_id":18483213,"reputation":31,"user_id":13464814,"display_name":"Daniel Haak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657105766,"creation_date":1657092666,"question_id":72879483,"body_markdown":"So I have two tables: \r\n\r\n```\r\nCreate Table annotation_table (Id varchar(255), Hash varchar(255), PRIMARY KEY (Id, Hash));\r\n\r\nCreate Table commit_table (Id varchar(255), Hash varchar(255), commit_Id varchar(255), PRIMARY KEY (Id, Hash), FOREIGN KEY (Id, Hash) references annotation_table (Id, Hash));\r\n```\r\n\r\nNote that both tables have been reduced to their basic values for simplification reasons.\r\nBoth tables are mapped to a single Entity (also simplified):\r\n\r\n```@Entity\r\n@Table(name = &quot;annotation_table&quot;)\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@SecondaryTables({\r\n        @SecondaryTable(name = &quot;commit_table&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name=&quot;Id&quot;), @PrimaryKeyJoinColumn(name=&quot;Hash&quot;)})\r\n})\r\n@IdClass(Key.class)\r\npublic class Annotation {\r\n\r\n    @Id\r\n    @Column(name = &quot;Id&quot;)\r\n    private String id;\r\n\r\n    @Id\r\n    @Column(name = &quot;Hash&quot;)\r\n    private String hash;\r\n\r\n    @Column(name = &quot;commit_id&quot;, table = &quot;commit_table&quot;)\r\n    private String commitHash;\r\n\r\n}\r\n```\r\nI Use a repository that incorporates following save method: \r\n\r\n```\r\n    @Override\r\n    public void save(Annotation annot) {\r\n        em.getTransaction().begin();\r\n        annot = em.merge(annot);\r\n        em.persist(annot);\r\n        em.getTransaction().commit();\r\n\r\n    }\r\n\r\n```\r\nEverytime I try to create an Annotation and save it, I get following error: \r\n\r\n**ERROR: Cannot add or update a child row: a foreign key constraint fails (`db_schema`.`commit_table`, CONSTRAINT `commit_table_ibfk_1` FOREIGN KEY (`Id`, `Hash`) REFERENCES `annotation_table` (`Id`, `Hash`))**\r\n\r\nThe error is caused because JPA tries to insert first into &quot;commit_table&quot; and then into &quot;annotation_table&quot;. \r\n\r\n**How can I tell JPA to flip the query order or to automatically do its job?**\r\n","title":"JPA Secondary table causes error cause of Foreign Key restriction","body":"<p>So I have two tables:</p>\n<pre><code>Create Table annotation_table (Id varchar(255), Hash varchar(255), PRIMARY KEY (Id, Hash));\n\nCreate Table commit_table (Id varchar(255), Hash varchar(255), commit_Id varchar(255), PRIMARY KEY (Id, Hash), FOREIGN KEY (Id, Hash) references annotation_table (Id, Hash));\n</code></pre>\n<p>Note that both tables have been reduced to their basic values for simplification reasons.\nBoth tables are mapped to a single Entity (also simplified):</p>\n<pre><code>@Table(name = &quot;annotation_table&quot;)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@SecondaryTables({\n        @SecondaryTable(name = &quot;commit_table&quot;, pkJoinColumns = {@PrimaryKeyJoinColumn(name=&quot;Id&quot;), @PrimaryKeyJoinColumn(name=&quot;Hash&quot;)})\n})\n@IdClass(Key.class)\npublic class Annotation {\n\n    @Id\n    @Column(name = &quot;Id&quot;)\n    private String id;\n\n    @Id\n    @Column(name = &quot;Hash&quot;)\n    private String hash;\n\n    @Column(name = &quot;commit_id&quot;, table = &quot;commit_table&quot;)\n    private String commitHash;\n\n}\n</code></pre>\n<p>I Use a repository that incorporates following save method:</p>\n<pre><code>    @Override\n    public void save(Annotation annot) {\n        em.getTransaction().begin();\n        annot = em.merge(annot);\n        em.persist(annot);\n        em.getTransaction().commit();\n\n    }\n\n</code></pre>\n<p>Everytime I try to create an Annotation and save it, I get following error:</p>\n<p><strong>ERROR: Cannot add or update a child row: a foreign key constraint fails (<code>db_schema</code>.<code>commit_table</code>, CONSTRAINT <code>commit_table_ibfk_1</code> FOREIGN KEY (<code>Id</code>, <code>Hash</code>) REFERENCES <code>annotation_table</code> (<code>Id</code>, <code>Hash</code>))</strong></p>\n<p>The error is caused because JPA tries to insert first into &quot;commit_table&quot; and then into &quot;annotation_table&quot;.</p>\n<p><strong>How can I tell JPA to flip the query order or to automatically do its job?</strong></p>\n"},{"tags":["java","regex","csv","replace"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1279906611,"post_id":3315053,"comment_id":3442604,"body_markdown":"You want to allow unbalanced quotes *and* use quotes to escape commas within a cell?  It is not possible to do both at once.","body":"You want to allow unbalanced quotes <i>and</i> use quotes to escape commas within a cell?  It is not possible to do both at once."},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":0,"creation_date":1279922839,"post_id":3315053,"comment_id":3444926,"body_markdown":"Yes, you can combine them quite easily.  Have another look at @Josiah&#39;s answer, now that he&#39;s using the correct method.","body":"Yes, you can combine them quite easily.  Have another look at @Josiah&#39;s answer, now that he&#39;s using the correct method."}],"answers":[{"tags":[],"owner":{"account_id":158465,"reputation":4774,"user_id":377142,"display_name":"Josiah"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1279902403,"creation_date":1279853373,"answer_id":3315061,"question_id":3315053,"body_markdown":"You could use the __or__ operator.\r\n\r\n    updateString = theString.replaceAll(&quot;(^&#39;)|(&#39;$)&quot;,&quot;&quot;);\r\n\r\nSee if that works for you :)","title":"Java Regex to remove start/end single quotes but leave inside quotes","body":"<p>You could use the <strong>or</strong> operator.</p>\n\n<pre><code>updateString = theString.replaceAll(\"(^')|('$)\",\"\");\n</code></pre>\n\n<p>See if that works for you :)</p>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1279853963,"creation_date":1279853491,"answer_id":3315067,"question_id":3315053,"body_markdown":"    updateString = theString.replaceFirst(&quot;^&#39;(.*)&#39;$&quot;, &quot;$1&quot;);\r\n\r\nNote that the form you have no won&#39;t work because [`replace`][1] uses literal strings, not regexes.\r\n\r\nThis works by using a capturing group `(.*)`, which is referred to with `$1` in the replacement text.  You could also do something like:\r\n\r\n    Pattern patt = Pattern.compile(&quot;^&#39;(.*)&#39;$&quot;); // could be stored in a static final field.\r\n    Matcher matcher = patt.matcher(theString);\r\n    boolean matches = matcher.matches();\r\n    updateString = matcher.group(1);\r\n\r\nOf course, if you&#39;re certain there&#39;s a single quote at the beginning and end, the simplest solution is:\r\n\r\n    updateString = theString.substring(1, theString.length() - 1);\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29","title":"Java Regex to remove start/end single quotes but leave inside quotes","body":"<pre><code>updateString = theString.replaceFirst(\"^'(.*)'$\", \"$1\");\n</code></pre>\n\n<p>Note that the form you have no won't work because <a href=\"http://download.oracle.com/docs/cd/E17476_01/javase/1.5.0/docs/api/java/lang/String.html#replace%28java.lang.CharSequence,%20java.lang.CharSequence%29\" rel=\"nofollow noreferrer\"><code>replace</code></a> uses literal strings, not regexes.</p>\n\n<p>This works by using a capturing group <code>(.*)</code>, which is referred to with <code>$1</code> in the replacement text.  You could also do something like:</p>\n\n<pre><code>Pattern patt = Pattern.compile(\"^'(.*)'$\"); // could be stored in a static final field.\nMatcher matcher = patt.matcher(theString);\nboolean matches = matcher.matches();\nupdateString = matcher.group(1);\n</code></pre>\n\n<p>Of course, if you're certain there's a single quote at the beginning and end, the simplest solution is:</p>\n\n<pre><code>updateString = theString.substring(1, theString.length() - 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5178132,"reputation":3269,"user_id":4144572,"accept_rate":43,"display_name":"Prakash Palnati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657105253,"creation_date":1657105253,"answer_id":72882409,"question_id":3315053,"body_markdown":"You can use regex to remove double quotes around digits/numbers.\r\n\r\n    jsonString.replaceAll(&quot;\\&quot;(\\\\d+)\\&quot;&quot;,&quot;$1&quot;);\r\n\r\nabove will not work if negative numbers are present.\r\n\r\nfor negative numbers, the regex will be a little complex like below. But I haven&#39;t tried it.\r\n\r\n    &quot;([0-9]+\\.{0,1}[0-9]*)&quot;\r\n\r\n","title":"Java Regex to remove start/end single quotes but leave inside quotes","body":"<p>You can use regex to remove double quotes around digits/numbers.</p>\n<pre><code>jsonString.replaceAll(&quot;\\&quot;(\\\\d+)\\&quot;&quot;,&quot;$1&quot;);\n</code></pre>\n<p>above will not work if negative numbers are present.</p>\n<p>for negative numbers, the regex will be a little complex like below. But I haven't tried it.</p>\n<pre><code>&quot;([0-9]+\\.{0,1}[0-9]*)&quot;\n</code></pre>\n"}],"owner":{"account_id":633954,"reputation":81,"user_id":399831,"display_name":"George"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13400,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1657105253,"creation_date":1279853220,"question_id":3315053,"body_markdown":"I have data from a CSV file that is enclosed in single quotes, like:\r\n\r\n    &#39;Company name&#39;\r\n    &#39;Price: $43.50&#39;\r\n    &#39;New York, New York&#39;\r\n\r\nI want to be able to replace the single quotes at the start/end of the value but leave quotes in the data, like:\r\n\r\n    &#39;Joe&#39;s Diner&#39;  should become Joe&#39;s Diner\r\n\r\nI can do \r\n\r\n    updateString = theString.replace(&quot;^&#39;&quot;, &quot;&quot;).replace(&quot;&#39;$&quot;, &quot;&quot;);\r\n\r\nbut I wanted to know if I could combine it to only do one replace.","title":"Java Regex to remove start/end single quotes but leave inside quotes","body":"<p>I have data from a CSV file that is enclosed in single quotes, like:</p>\n\n<pre><code>'Company name'\n'Price: $43.50'\n'New York, New York'\n</code></pre>\n\n<p>I want to be able to replace the single quotes at the start/end of the value but leave quotes in the data, like:</p>\n\n<pre><code>'Joe's Diner'  should become Joe's Diner\n</code></pre>\n\n<p>I can do </p>\n\n<pre><code>updateString = theString.replace(\"^'\", \"\").replace(\"'$\", \"\");\n</code></pre>\n\n<p>but I wanted to know if I could combine it to only do one replace.</p>\n"},{"tags":["java","hibernate","lazy-loading","hql","hibernate-session"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657100446,"post_id":72879096,"comment_id":128727104,"body_markdown":"Use proper transactional boundaries and let spring manage them and the session (use `getCurrentSession` instead of `openSession`).","body":"Use proper transactional boundaries and let spring manage them and the session (use <code>getCurrentSession</code> instead of <code>openSession</code>)."},{"owner":{"account_id":11988405,"reputation":167,"user_id":8772301,"display_name":"Shaik Bajivali"},"score":0,"creation_date":1657104457,"post_id":72879096,"comment_id":128728647,"body_markdown":"@Deinum, if we use &quot;getCurrentSession()&quot; too many times on a busy server, doesn&#39;t it affect the performance of the application entirely..? \nBecause i tried it and it didn&#39;t made any difference on performance.","body":"@Deinum, if we use &quot;getCurrentSession()&quot; too many times on a busy server, doesn&#39;t it affect the performance of the application entirely..?  Because i tried it and it didn&#39;t made any difference on performance."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657106679,"post_id":72879096,"comment_id":128729448,"body_markdown":"Read... You should use the combination of Spring managing the transaction and thus the session. If you only use `getCurrentSession` without spring managing things for you you are only hiding the `openSession`. Don&#39;t take the only part that suits you you will need both. However you asked for the best solution which is a dedicated query which gets everything in one go instead of using lazy loading (which is basically leading you to an 1+N select problem).","body":"Read... You should use the combination of Spring managing the transaction and thus the session. If you only use <code>getCurrentSession</code> without spring managing things for you you are only hiding the <code>openSession</code>. Don&#39;t take the only part that suits you you will need both. However you asked for the best solution which is a dedicated query which gets everything in one go instead of using lazy loading (which is basically leading you to an 1+N select problem)."}],"answers":[{"tags":[],"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657105134,"creation_date":1657102163,"answer_id":72881625,"question_id":72879096,"body_markdown":"As already mentioned by Deinum, you should use `sessionFactory.getCurrentSession()` instead of `sessionFactory.openSession()`.\r\n\r\nFor a detailed comparison between this methods, read [here][1].\r\n\r\nIf you really don&#39;t want to let your sessions managed by Hibernate directly and want to close it yourself have a look [here][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8046662/hibernate-opensession-vs-getcurrentsession\r\n  [2]: https://stackoverflow.com/questions/30096416/where-to-open-and-where-to-close-sessionfactory-in-my-application","title":"Unable to close the Hibernate Session for loading Lazily loaded fields","body":"<p>As already mentioned by Deinum, you should use <code>sessionFactory.getCurrentSession()</code> instead of <code>sessionFactory.openSession()</code>.</p>\n<p>For a detailed comparison between this methods, read <a href=\"https://stackoverflow.com/questions/8046662/hibernate-opensession-vs-getcurrentsession\">here</a>.</p>\n<p>If you really don't want to let your sessions managed by Hibernate directly and want to close it yourself have a look <a href=\"https://stackoverflow.com/questions/30096416/where-to-open-and-where-to-close-sessionfactory-in-my-application\">here</a>.</p>\n"}],"owner":{"account_id":11988405,"reputation":167,"user_id":8772301,"display_name":"Shaik Bajivali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657105134,"creation_date":1657090581,"question_id":72879096,"body_markdown":"We are using `Hibernate`+`Spring` for a module and we used `@ManyToOne(fetch = FetchType.LAZY)` on multiple fields in multiple POJOs.\r\nWhile querying for these POJOs through `HQL`, I am opening a `HibernateSession` and returning the result from the DAO method. I wasn&#39;t closing these HibernateSesions because i couldn&#39;t get the FK objects through getter methods.\r\n\r\nHere is one of the simplest methods we implemented : \r\n\r\n    public List&lt;QmsCapaWfUserDetails&gt; getCapaWfUserDetailsesByWfIdsList(List&lt;Integer&gt; wfIdsList) {\r\n            logger.debug(&quot;QmsCapaDao getCapaWfUserDetailsesByWfIdsList() Start&quot;);\r\n            List&lt;QmsCapaWfUserDetails&gt; capaWfUserDetailses = null;\r\n            if (!Utilities.IsEmpty(wfIdsList)) {\r\n                StringBuffer hqlQuery = null;\r\n                Query query = null;\r\n                Session hibernateSession = sessionFactory.openSession();\r\n                hqlQuery = new StringBuffer();\r\n                hqlQuery.append(&quot;From QmsCapaWfUserDetails capaWfUserDetails where capaWfUserDetails.capaWfDetails.id in (:wfIdsList) &quot;);\r\n                query = hibernateSession.createQuery(hqlQuery.toString());\r\n                if (query != null) {\r\n                    query.setParameterList(&quot;wfIdsList&quot;, wfIdsList);\r\n                }\r\n                capaWfUserDetailses = query.list();\r\n                hibernateSession.flush();\r\n            }\r\n            logger.debug(&quot;QmsCapaDao getCapaWfUserDetailsesByWfIdsList() End&quot;);\r\n            return capaWfUserDetailses;\r\n        }\r\nI thought flushing these sessions could do something. But it appears not.\r\n\r\n**I know that because of these too many open sessions, our application has frozen. If i close these sessions, i can&#39;t access the lazily loaded FKs.**\r\n\r\n What could be the best solution..!?","title":"Unable to close the Hibernate Session for loading Lazily loaded fields","body":"<p>We are using <code>Hibernate</code>+<code>Spring</code> for a module and we used <code>@ManyToOne(fetch = FetchType.LAZY)</code> on multiple fields in multiple POJOs.\nWhile querying for these POJOs through <code>HQL</code>, I am opening a <code>HibernateSession</code> and returning the result from the DAO method. I wasn't closing these HibernateSesions because i couldn't get the FK objects through getter methods.</p>\n<p>Here is one of the simplest methods we implemented :</p>\n<pre><code>public List&lt;QmsCapaWfUserDetails&gt; getCapaWfUserDetailsesByWfIdsList(List&lt;Integer&gt; wfIdsList) {\n        logger.debug(&quot;QmsCapaDao getCapaWfUserDetailsesByWfIdsList() Start&quot;);\n        List&lt;QmsCapaWfUserDetails&gt; capaWfUserDetailses = null;\n        if (!Utilities.IsEmpty(wfIdsList)) {\n            StringBuffer hqlQuery = null;\n            Query query = null;\n            Session hibernateSession = sessionFactory.openSession();\n            hqlQuery = new StringBuffer();\n            hqlQuery.append(&quot;From QmsCapaWfUserDetails capaWfUserDetails where capaWfUserDetails.capaWfDetails.id in (:wfIdsList) &quot;);\n            query = hibernateSession.createQuery(hqlQuery.toString());\n            if (query != null) {\n                query.setParameterList(&quot;wfIdsList&quot;, wfIdsList);\n            }\n            capaWfUserDetailses = query.list();\n            hibernateSession.flush();\n        }\n        logger.debug(&quot;QmsCapaDao getCapaWfUserDetailsesByWfIdsList() End&quot;);\n        return capaWfUserDetailses;\n    }\n</code></pre>\n<p>I thought flushing these sessions could do something. But it appears not.</p>\n<p><strong>I know that because of these too many open sessions, our application has frozen. If i close these sessions, i can't access the lazily loaded FKs.</strong></p>\n<p>What could be the best solution..!?</p>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":147382,"reputation":18008,"user_id":358464,"accept_rate":93,"display_name":"Bob Fincheimer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1280751569,"creation_date":1280751569,"answer_id":3387645,"question_id":3387622,"body_markdown":"The split must be taking regex as a an argument...  Simply change `&quot;.&quot;` to `&quot;\\\\.&quot;`","title":"Split string with dot as delimiter","body":"<p>The split must be taking regex as a an argument...  Simply change <code>\".\"</code> to <code>\"\\\\.\"</code></p>\n"},{"tags":[],"owner":{"account_id":152839,"reputation":13216,"user_id":367649,"accept_rate":88,"display_name":"Marimuthu Madasamy"},"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1593546142,"creation_date":1280751577,"answer_id":3387646,"question_id":3387622,"body_markdown":"`split()` accepts a regular expression, so you need to escape `.` to not consider it as a regex meta character. Here&#39;s an example :\r\n\r\n    String[] fn = filename.split(&quot;\\\\.&quot;); \r\n    return fn[0];\r\n","title":"Split string with dot as delimiter","body":"<p><code>split()</code> accepts a regular expression, so you need to escape <code>.</code> to not consider it as a regex meta character. Here's an example :</p>\n<pre><code>String[] fn = filename.split(&quot;\\\\.&quot;); \nreturn fn[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45309,"reputation":26847,"user_id":133520,"accept_rate":79,"display_name":"Vijay Mathew"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1525917043,"creation_date":1280751659,"answer_id":3387665,"question_id":3387622,"body_markdown":"`split` takes a regex as argument. So you should pass `&quot;\\.&quot;` instead of `&quot;.&quot;` because `&quot;.&quot;` is a metacharacter in regex.","title":"Split string with dot as delimiter","body":"<p><code>split</code> takes a regex as argument. So you should pass <code>\"\\.\"</code> instead of <code>\".\"</code> because <code>\".\"</code> is a metacharacter in regex.</p>\n"},{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1280751683,"creation_date":1280751683,"answer_id":3387669,"question_id":3387622,"body_markdown":"the String#split(String) method uses regular expressions.\r\nIn regular expressions, the &quot;.&quot; character means &quot;any character&quot;.\r\nYou can avoid this behavior by either escaping the &quot;.&quot;\r\n\r\n    filename.split(&quot;\\\\.&quot;);\r\nor telling the split method to split at at a character class:\r\n\r\n    filename.split(&quot;[.]&quot;);\r\n\r\nCharacter classes are collections of characters. You could write\r\n\r\n    filename.split(&quot;[-.;ld7]&quot;);\r\nand filename would be split at every &quot;-&quot;, &quot;.&quot;, &quot;;&quot;, &quot;l&quot;, &quot;d&quot; or &quot;7&quot;. Inside character classes, the &quot;.&quot; is not a special character (&quot;metacharacter&quot;).\r\n\r\n","title":"Split string with dot as delimiter","body":"<p>the String#split(String) method uses regular expressions.\nIn regular expressions, the \".\" character means \"any character\".\nYou can avoid this behavior by either escaping the \".\"</p>\n\n<pre><code>filename.split(\"\\\\.\");\n</code></pre>\n\n<p>or telling the split method to split at at a character class:</p>\n\n<pre><code>filename.split(\"[.]\");\n</code></pre>\n\n<p>Character classes are collections of characters. You could write</p>\n\n<pre><code>filename.split(\"[-.;ld7]\");\n</code></pre>\n\n<p>and filename would be split at every \"-\", \".\", \";\", \"l\", \"d\" or \"7\". Inside character classes, the \".\" is not a special character (\"metacharacter\").</p>\n"},{"tags":[],"owner":{"account_id":27657,"reputation":442143,"user_id":73226,"accept_rate":100,"display_name":"Martin Smith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1280751755,"creation_date":1280751755,"answer_id":3387679,"question_id":3387622,"body_markdown":"Wouldn&#39;t it be more efficient to use\r\n\r\n     filename.substring(0, filename.indexOf(&quot;.&quot;))\r\n\r\nif you only want what&#39;s up to the first dot?","title":"Split string with dot as delimiter","body":"<p>Wouldn't it be more efficient to use</p>\n\n<pre><code> filename.substring(0, filename.indexOf(\".\"))\n</code></pre>\n\n<p>if you only want what's up to the first dot?</p>\n"},{"tags":[],"owner":{"account_id":129236,"reputation":7706,"user_id":327679,"accept_rate":80,"display_name":"Andrei Fierbinteanu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1280751773,"creation_date":1280751773,"answer_id":3387683,"question_id":3387622,"body_markdown":"Split uses regular expressions, where &#39;.&#39; is a special character meaning anything. You need to escape it if you actually want it to match the &#39;.&#39; character:\r\n\r\n    String[] fn = filename.split(&quot;\\\\.&quot;);\r\n\r\n(one &#39;\\&#39; to escape the &#39;.&#39; in the regular expression, and the other to escape the first one in the Java string)\r\n\r\nAlso I wouldn&#39;t suggest returning fn[0] since if you have a file named `something.blabla.txt`, which is a valid name you won&#39;t be returning the actual file name. Instead I think it&#39;s better if you use:\r\n\r\n    int idx = filename.lastIndexOf(&#39;.&#39;);\r\n    return filename.subString(0, idx);\r\n","title":"Split string with dot as delimiter","body":"<p>Split uses regular expressions, where '.' is a special character meaning anything. You need to escape it if you actually want it to match the '.' character:</p>\n\n<pre><code>String[] fn = filename.split(\"\\\\.\");\n</code></pre>\n\n<p>(one '\\' to escape the '.' in the regular expression, and the other to escape the first one in the Java string)</p>\n\n<p>Also I wouldn't suggest returning fn[0] since if you have a file named <code>something.blabla.txt</code>, which is a valid name you won't be returning the actual file name. Instead I think it's better if you use:</p>\n\n<pre><code>int idx = filename.lastIndexOf('.');\nreturn filename.subString(0, idx);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173952,"reputation":429,"user_id":402989,"accept_rate":100,"display_name":"Neel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1280752004,"creation_date":1280752004,"answer_id":3387720,"question_id":3387622,"body_markdown":"As DOT( . ) is considered as a special character and split method of String expects a regular expression you need to do like this - \r\n\r\n    String[] fn = filename.split(&quot;\\\\.&quot;);\r\n    return fn[0];\r\n\r\nIn java the special characters need to be escaped with a &quot;\\&quot; but since &quot;\\&quot; is also a special character in Java, you need to escape it again with another &quot;\\&quot; !","title":"Split string with dot as delimiter","body":"<p>As DOT( . ) is considered as a special character and split method of String expects a regular expression you need to do like this - </p>\n\n<pre><code>String[] fn = filename.split(\"\\\\.\");\nreturn fn[0];\n</code></pre>\n\n<p>In java the special characters need to be escaped with a \"\\\" but since \"\\\" is also a special character in Java, you need to escape it again with another \"\\\" !</p>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1280754405,"creation_date":1280754405,"answer_id":3388024,"question_id":3387622,"body_markdown":"Usually its NOT a good idea to unmask it by hand. There is a method in the Pattern class for this task:\r\n\r\n    java.util.regex\r\n    static String quote(String s) ","title":"Split string with dot as delimiter","body":"<p>Usually its NOT a good idea to unmask it by hand. There is a method in the Pattern class for this task:</p>\n\n<pre><code>java.util.regex\nstatic String quote(String s) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1474738765,"creation_date":1452022899,"answer_id":34619937,"question_id":3387622,"body_markdown":"&lt;sup&gt;I see only solutions here but no full explanation of the problem so I decided to post this answer&lt;/sup&gt;\r\n\r\nProblem\r\n-------\r\n\r\nYou need to know few things about `text.split(delim)`. `split` method:\r\n\r\n1. accepts as argument ***regular expression*** (regex) which describes delimiter on which we want to split, \r\n2. if `delim` exists at end of `text` like in `a,b,c,,` (where delimiter is `,`) `split` at first will create array like `[&quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;&quot; &quot;&quot;]` but since in most cases we don&#39;t really need these trailing empty strings it also removes them automatically for us. So it creates *another array without these trailing empty strings and returns it*.\r\n\r\nYou also need to know that [dot `.`][1] is [special character][2] in *regex*. It represents ***any character*** (except line separators but this can be changed with `Pattern.DOTALL` flag).\r\n\r\nSo for string like `&quot;abc&quot;` if we split on `&quot;.&quot;` `split` method will \r\n\r\n 1. create array like `[&quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot;]`, \r\n 2. but since this array contains only empty strings and they all are trailing they will be removed (like shown in previous second point) \r\n\r\nwhich means we will get as result empty array `[]` (with no elements, not even empty string), so we can&#39;t use `fn[0]` because there is no index 0.\r\n\r\nSolution\r\n--------\r\n\r\nTo solve this problem you simply need to create regex which will represents dot. To do so we need to escape that `.`. There are few ways to do it, but simplest is probably by using `\\` (which in String needs to be written as `&quot;\\\\&quot;` because `\\` is also special there and requires another `\\` to be escaped).\r\n\r\nSo solution to your problem may look like\r\n\r\n    String[] fn = filename.split(&quot;\\\\.&quot;);\r\n\r\n**Bonus**\r\n\r\nYou can also use other ways to escape that dot like \r\n\r\n - using character class `split(&quot;[.]&quot;)`\r\n - wrapping it in *quote* `split(&quot;\\\\Q.\\\\E&quot;)`\r\n - using proper Pattern instance with `Pattern.LITERAL` flag\r\n - or simply use `split(Pattern.quote(&quot;.&quot;))` and let regex do escaping for you.\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/dot.html\r\n  [2]: http://www.regular-expressions.info/characters.html#special","title":"Split string with dot as delimiter","body":"<p><sup>I see only solutions here but no full explanation of the problem so I decided to post this answer</sup></p>\n\n<h2>Problem</h2>\n\n<p>You need to know few things about <code>text.split(delim)</code>. <code>split</code> method:</p>\n\n<ol>\n<li>accepts as argument <strong><em>regular expression</em></strong> (regex) which describes delimiter on which we want to split, </li>\n<li>if <code>delim</code> exists at end of <code>text</code> like in <code>a,b,c,,</code> (where delimiter is <code>,</code>) <code>split</code> at first will create array like <code>[\"a\" \"b\" \"c\" \"\" \"\"]</code> but since in most cases we don't really need these trailing empty strings it also removes them automatically for us. So it creates <em>another array without these trailing empty strings and returns it</em>.</li>\n</ol>\n\n<p>You also need to know that <a href=\"http://www.regular-expressions.info/dot.html\" rel=\"noreferrer\">dot <code>.</code></a> is <a href=\"http://www.regular-expressions.info/characters.html#special\" rel=\"noreferrer\">special character</a> in <em>regex</em>. It represents <strong><em>any character</em></strong> (except line separators but this can be changed with <code>Pattern.DOTALL</code> flag).</p>\n\n<p>So for string like <code>\"abc\"</code> if we split on <code>\".\"</code> <code>split</code> method will </p>\n\n<ol>\n<li>create array like <code>[\"\" \"\" \"\" \"\"]</code>, </li>\n<li>but since this array contains only empty strings and they all are trailing they will be removed (like shown in previous second point) </li>\n</ol>\n\n<p>which means we will get as result empty array <code>[]</code> (with no elements, not even empty string), so we can't use <code>fn[0]</code> because there is no index 0.</p>\n\n<h2>Solution</h2>\n\n<p>To solve this problem you simply need to create regex which will represents dot. To do so we need to escape that <code>.</code>. There are few ways to do it, but simplest is probably by using <code>\\</code> (which in String needs to be written as <code>\"\\\\\"</code> because <code>\\</code> is also special there and requires another <code>\\</code> to be escaped).</p>\n\n<p>So solution to your problem may look like</p>\n\n<pre><code>String[] fn = filename.split(\"\\\\.\");\n</code></pre>\n\n<p><strong>Bonus</strong></p>\n\n<p>You can also use other ways to escape that dot like </p>\n\n<ul>\n<li>using character class <code>split(\"[.]\")</code></li>\n<li>wrapping it in <em>quote</em> <code>split(\"\\\\Q.\\\\E\")</code></li>\n<li>using proper Pattern instance with <code>Pattern.LITERAL</code> flag</li>\n<li>or simply use <code>split(Pattern.quote(\".\"))</code> and let regex do escaping for you.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10996660,"reputation":11,"user_id":10143086,"display_name":"avl42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532678034,"creation_date":1532678034,"answer_id":51553326,"question_id":3387622,"body_markdown":"Note: Further care should be taken with this snippet, even after the dot is escaped!\r\n\r\nIf filename is just the string &quot;.&quot;, then fn will still end up to be of 0 length and fn[0] will still throw an exception!\r\n\r\nThis is, because if the pattern matches at least once, then split will **discard all trailing empty strings** (thus also the one *before* the dot!) from the array, leaving an empty array to be returned.","title":"Split string with dot as delimiter","body":"<p>Note: Further care should be taken with this snippet, even after the dot is escaped!</p>\n\n<p>If filename is just the string \".\", then fn will still end up to be of 0 length and fn[0] will still throw an exception!</p>\n\n<p>This is, because if the pattern matches at least once, then split will <strong>discard all trailing empty strings</strong> (thus also the one <em>before</em> the dot!) from the array, leaving an empty array to be returned.</p>\n"},{"tags":[],"owner":{"account_id":12424395,"reputation":101,"user_id":9049681,"display_name":"Magnus Persson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541329964,"creation_date":1541329673,"answer_id":53140162,"question_id":3387622,"body_markdown":"    String str=&quot;1.2.3&quot;;\r\n    String[] cats = str.split(Pattern.quote(&quot;.&quot;));","title":"Split string with dot as delimiter","body":"<pre><code>String str=\"1.2.3\";\nString[] cats = str.split(Pattern.quote(\".\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9529951,"reputation":405,"user_id":7827977,"display_name":"Jorge Santos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657104887,"creation_date":1567736331,"answer_id":57814950,"question_id":3387622,"body_markdown":"The solution that worked for me is the following\r\n\r\n```java\r\nString[] fn = filename.split(&quot;[.]&quot;);\r\n```\r\n","title":"Split string with dot as delimiter","body":"<p>The solution that worked for me is the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] fn = filename.split(&quot;[.]&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10241233,"reputation":129,"user_id":7558585,"display_name":"Nikita Zamalyutdinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573656082,"creation_date":1573656082,"answer_id":58839545,"question_id":3387622,"body_markdown":"Using **ApacheCommons** it&#39;s simplest:\r\n\r\n    File file = ...\r\n    FilenameUtils.getBaseName(file.getName());\r\n\r\nNote, it also extracts a filename from full path.","title":"Split string with dot as delimiter","body":"<p>Using <strong>ApacheCommons</strong> it's simplest:</p>\n\n<pre><code>File file = ...\nFilenameUtils.getBaseName(file.getName());\n</code></pre>\n\n<p>Note, it also extracts a filename from full path.</p>\n"}],"owner":{"account_id":48763,"reputation":8708,"user_id":144983,"accept_rate":91,"display_name":"Dean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97302,"favorite_count":0,"down_vote_count":0,"up_vote_count":121,"accepted_answer_id":3387646,"answer_count":13,"score":121,"last_activity_date":1657104887,"creation_date":1280751421,"question_id":3387622,"body_markdown":"I am wondering if I am going about splitting a string on a `.` the right way? My code is: \r\n\r\n    String[] fn = filename.split(&quot;.&quot;);\r\n    return fn[0];\r\n\r\nI only need the first part of the string, that&#39;s why I return the first item. I ask because I noticed in the API that `.` means any character, so now I&#39;m stuck.","title":"Split string with dot as delimiter","body":"<p>I am wondering if I am going about splitting a string on a <code>.</code> the right way? My code is: </p>\n\n<pre><code>String[] fn = filename.split(\".\");\nreturn fn[0];\n</code></pre>\n\n<p>I only need the first part of the string, that's why I return the first item. I ask because I noticed in the API that <code>.</code> means any character, so now I'm stuck.</p>\n"},{"tags":["java","sql","database","h2"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1657101794,"post_id":72881491,"comment_id":128727655,"body_markdown":"Does this answer your question? [H2 in-memory database. Table not found](https://stackoverflow.com/questions/5763747/h2-in-memory-database-table-not-found)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5763747/h2-in-memory-database-table-not-found\">H2 in-memory database. Table not found</a>"},{"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"score":0,"creation_date":1657102900,"post_id":72881491,"comment_id":128728064,"body_markdown":"No. I tried doing it, and it doesn&#39;t work.","body":"No. I tried doing it, and it doesn&#39;t work."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1657104135,"post_id":72881491,"comment_id":128728536,"body_markdown":"Where is the SportEvent class ??","body":"Where is the SportEvent class ??"},{"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"score":0,"creation_date":1657104568,"post_id":72881491,"comment_id":128728686,"body_markdown":"Added FootballSportEventClass. Its just a domain tho.","body":"Added FootballSportEventClass. Its just a domain tho."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1657104877,"post_id":72881491,"comment_id":128728803,"body_markdown":"How exactly you are creating your DB tables ? if you are using an ORM like Hibernate you should add the Annotation @Entity to the SportEvent class","body":"How exactly you are creating your DB tables ? if you are using an ORM like Hibernate you should add the Annotation @Entity to the SportEvent class"},{"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"score":0,"creation_date":1657264998,"post_id":72881491,"comment_id":128774127,"body_markdown":"its a pre-configured Database. The app runs in the background with DB after I use catalina start in its bin folder. I cant see how the tables are created.","body":"its a pre-configured Database. The app runs in the background with DB after I use catalina start in its bin folder. I cant see how the tables are created."}],"owner":{"account_id":19621526,"reputation":11,"user_id":18420645,"display_name":"Mate23"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657104548,"creation_date":1657101653,"question_id":72881491,"body_markdown":"Im using h2 database for my application, and my task is to create and read queries as practice. The connection works fine, but the table is not found no matter what I try to do. My classes look like the following: \r\n\r\nDB connection:\r\n\r\n    package database;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Properties;\r\n\r\n    public class DatabaseConnectionManager {\r\n\r\n    private final String url;\r\n    private final Properties properties;\r\n\r\n    public DatabaseConnectionManager(String host, String databaseName, String username,String password){\r\n        this.url = &quot;jdbc:h2:mem://&quot;+host+&quot;/&quot;+databaseName;\r\n        this.properties = new Properties();\r\n        this.properties.setProperty(&quot;username&quot;,username);\r\n        this.properties.setProperty(&quot;password&quot;,password);\r\n    }\r\n    public Connection getConnection() throws SQLException{\r\n        return DriverManager.getConnection(this.url,this.properties);\r\n    }\r\n    }\r\n\r\nJDBCExecutor:\r\n\r\n    package database;\r\n\r\n\r\n\r\n    import dataaccess.SporteventDAO;\r\n    import domain.FootballSportEvent;\r\n    \r\n    import java.sql.*;\r\n    import java.time.LocalDateTime;\r\n    \r\n    public class JDBCExecutor {\r\n        public static void main(String[] args) {\r\n    \r\n          DatabaseConnectionManager databaseConnectionManager= new DatabaseConnectionManager(&quot;localhost&quot;,&quot;jdbc:h2:mem:sports_betting&quot;,&quot;sa&quot;,&quot;&quot;);\r\n            try{\r\n                Connection connection = databaseConnectionManager.getConnection();\r\n                SporteventDAO sporteventDAO = new SporteventDAO(connection);\r\n                FootballSportEvent footballSportEvent = new FootballSportEvent();\r\n                footballSportEvent.setType(&quot;FootballSportEvent&quot;);\r\n                footballSportEvent.setId(2);\r\n                Date start = new Date(2022-07-06);\r\n                Date end = new Date(2022-07-07);\r\n                footballSportEvent.setStart(start);\r\n                footballSportEvent.setEnd(end);\r\n                footballSportEvent.setResultId(2);\r\n    \r\n                sporteventDAO.create(footballSportEvent);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nSporteventDAO:\r\n\r\n        package dataaccess;\r\n    \r\n    import domain.FootballSportEvent;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.Date;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    \r\n    public class SporteventDAO extends DataAccessObject&lt;FootballSportEvent&gt; {\r\n        private static final String INSERT = &quot;INSERT INTO SPORTEVENT (DTYPE, ID, START, END, TITLE, RESULT_ID) VALUES (?,?,?,?,?,?)&quot;;\r\n    \r\n        public SporteventDAO(Connection connection){\r\n            super(connection);\r\n        }\r\n        @Override\r\n        public FootballSportEvent findById(long id) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;FootballSportEvent&gt; findAll() {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public FootballSportEvent update(FootballSportEvent dto) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public FootballSportEvent create(FootballSportEvent dto) throws SQLException {\r\n            try(PreparedStatement statement = this.connection.prepareStatement(INSERT);){\r\n                statement.setString(1,dto.getType());\r\n                statement.setInt(2,dto.getId());\r\n                statement.setDate(3, (Date) dto.getStart());\r\n                statement.setDate(4, (Date) dto.getEnd());\r\n                statement.setInt(5, dto.getResultId());\r\n                statement.execute();\r\n            }catch (SQLException e){\r\n                e.printStackTrace();\r\n                throw new RuntimeException(e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public void delete(long id) {\r\n    \r\n        }\r\n    }\r\n    \r\n\r\nDataTransferObject:\r\n\r\n    package dataaccess;\r\n\r\n    public interface DataTransferObject {\r\n        int getId();\r\n    }\r\n\r\nDataAccessObject:\r\n\r\n        package dataaccess;\r\n    \r\n    import org.h2.jdbc.JdbcConnectionBackwardsCompat;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    import java.util.List;\r\n    \r\n    public abstract class DataAccessObject &lt;T extends DataTransferObject&gt;{\r\n        protected final Connection connection;\r\n        protected final static String LAST_VAL = &quot;SELECT last_value FROM&quot;;\r\n        protected final static String CUSTOMER_SEQUENCE = &quot;hp_customer_seq&quot;;\r\n    \r\n        public DataAccessObject(Connection connection){\r\n            super();\r\n            this.connection =connection;\r\n        }\r\n        public abstract T findById(long id);\r\n        public abstract List&lt;T&gt; findAll();\r\n        public abstract T update(T dto);\r\n        public abstract T create(T dto) throws SQLException;\r\n        public abstract void delete(long id);\r\n    \r\n        protected int getLastVal(String sequence){\r\n            int key = 0;\r\n            String sql = LAST_VAL + sequence;\r\n            try(Statement statement = connection.createStatement()) {\r\n                ResultSet rs = statement.executeQuery(sql);\r\n                while (rs.next()) {\r\n                    key = rs.getInt(1);\r\n                }\r\n                return key;\r\n            }catch (SQLException e){\r\n                e.printStackTrace();\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\nFootballSportEventClass:\r\n\r\n  \r\n\r\n      package domain;\r\n    \r\n    \r\n    import dataaccess.DataTransferObject;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class FootballSportEvent implements DataTransferObject \r\n        {\r\n        private String type;\r\n        private String name;\r\n        private int id;\r\n        private Date end;\r\n        private Date start;\r\n        private String title;\r\n        private int resultId;\r\n    \r\n        public FootballSportEvent(){\r\n    \r\n        }\r\n    \r\n        public FootballSportEvent(String type, String name, int id, Date end, Date start, String title, int resultId) {\r\n            this.type = type;\r\n            this.name = name;\r\n            this.id = id;\r\n            this.end = end;\r\n            this.start = start;\r\n            this.title = title;\r\n            this.resultId = resultId;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Date getEnd() {\r\n            return end;\r\n        }\r\n    \r\n        public void setEnd(Date end) {\r\n            this.end = end;\r\n        }\r\n    \r\n        public Date getStart() {\r\n            return start;\r\n        }\r\n    \r\n        public void setStart(Date start) {\r\n            this.start = start;\r\n        }\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public int getResultId() {\r\n            return resultId;\r\n        }\r\n    \r\n        public void setResultId(int resultId) {\r\n            this.resultId = resultId;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;FootballSportEvent{&quot; +\r\n                    &quot;type=&#39;&quot; + type + &#39;\\&#39;&#39; +\r\n                    &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, id=&quot; + id +\r\n                    &quot;, end=&quot; + end +\r\n                    &quot;, start=&quot; + start +\r\n                    &quot;, title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                    &quot;, resultId=&quot; + resultId +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nAnd the following exception it thrown:\r\n\r\n        org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;SPORTEVENT&quot; not found; SQL statement:\r\n    INSERT INTO SPORTEVENT (DTYPE, ID, START, END, TITLE, RESULT_ID) VALUES (?,?,?,?,?,?) \r\n\r\nEdit:\r\nI also tried using:\r\n        this.url = `&quot;jdbc:h2:mem://&quot;+host+&quot;/&quot;+databaseName+&quot;;DB_CLOSE_DELAY=-1&quot;;`\r\nbut it doesn&#39;t work.","title":"JdbcSQLSyntaxErrorException: Table &quot;SPORTEVENT&quot; not found; SQL statement, but why?","body":"<p>Im using h2 database for my application, and my task is to create and read queries as practice. The connection works fine, but the table is not found no matter what I try to do. My classes look like the following:</p>\n<p>DB connection:</p>\n<pre><code>package database;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Properties;\n\npublic class DatabaseConnectionManager {\n\nprivate final String url;\nprivate final Properties properties;\n\npublic DatabaseConnectionManager(String host, String databaseName, String username,String password){\n    this.url = &quot;jdbc:h2:mem://&quot;+host+&quot;/&quot;+databaseName;\n    this.properties = new Properties();\n    this.properties.setProperty(&quot;username&quot;,username);\n    this.properties.setProperty(&quot;password&quot;,password);\n}\npublic Connection getConnection() throws SQLException{\n    return DriverManager.getConnection(this.url,this.properties);\n}\n}\n</code></pre>\n<p>JDBCExecutor:</p>\n<pre><code>package database;\n\n\n\nimport dataaccess.SporteventDAO;\nimport domain.FootballSportEvent;\n\nimport java.sql.*;\nimport java.time.LocalDateTime;\n\npublic class JDBCExecutor {\n    public static void main(String[] args) {\n\n      DatabaseConnectionManager databaseConnectionManager= new DatabaseConnectionManager(&quot;localhost&quot;,&quot;jdbc:h2:mem:sports_betting&quot;,&quot;sa&quot;,&quot;&quot;);\n        try{\n            Connection connection = databaseConnectionManager.getConnection();\n            SporteventDAO sporteventDAO = new SporteventDAO(connection);\n            FootballSportEvent footballSportEvent = new FootballSportEvent();\n            footballSportEvent.setType(&quot;FootballSportEvent&quot;);\n            footballSportEvent.setId(2);\n            Date start = new Date(2022-07-06);\n            Date end = new Date(2022-07-07);\n            footballSportEvent.setStart(start);\n            footballSportEvent.setEnd(end);\n            footballSportEvent.setResultId(2);\n\n            sporteventDAO.create(footballSportEvent);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>SporteventDAO:</p>\n<pre><code>    package dataaccess;\n\nimport domain.FootballSportEvent;\n\nimport java.sql.Connection;\nimport java.sql.Date;\nimport java.sql.PreparedStatement;\nimport java.sql.SQLException;\nimport java.util.List;\n\npublic class SporteventDAO extends DataAccessObject&lt;FootballSportEvent&gt; {\n    private static final String INSERT = &quot;INSERT INTO SPORTEVENT (DTYPE, ID, START, END, TITLE, RESULT_ID) VALUES (?,?,?,?,?,?)&quot;;\n\n    public SporteventDAO(Connection connection){\n        super(connection);\n    }\n    @Override\n    public FootballSportEvent findById(long id) {\n        return null;\n    }\n\n    @Override\n    public List&lt;FootballSportEvent&gt; findAll() {\n        return null;\n    }\n\n    @Override\n    public FootballSportEvent update(FootballSportEvent dto) {\n        return null;\n    }\n\n    @Override\n    public FootballSportEvent create(FootballSportEvent dto) throws SQLException {\n        try(PreparedStatement statement = this.connection.prepareStatement(INSERT);){\n            statement.setString(1,dto.getType());\n            statement.setInt(2,dto.getId());\n            statement.setDate(3, (Date) dto.getStart());\n            statement.setDate(4, (Date) dto.getEnd());\n            statement.setInt(5, dto.getResultId());\n            statement.execute();\n        }catch (SQLException e){\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n\n    @Override\n    public void delete(long id) {\n\n    }\n}\n</code></pre>\n<p>DataTransferObject:</p>\n<pre><code>package dataaccess;\n\npublic interface DataTransferObject {\n    int getId();\n}\n</code></pre>\n<p>DataAccessObject:</p>\n<pre><code>    package dataaccess;\n\nimport org.h2.jdbc.JdbcConnectionBackwardsCompat;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.List;\n\npublic abstract class DataAccessObject &lt;T extends DataTransferObject&gt;{\n    protected final Connection connection;\n    protected final static String LAST_VAL = &quot;SELECT last_value FROM&quot;;\n    protected final static String CUSTOMER_SEQUENCE = &quot;hp_customer_seq&quot;;\n\n    public DataAccessObject(Connection connection){\n        super();\n        this.connection =connection;\n    }\n    public abstract T findById(long id);\n    public abstract List&lt;T&gt; findAll();\n    public abstract T update(T dto);\n    public abstract T create(T dto) throws SQLException;\n    public abstract void delete(long id);\n\n    protected int getLastVal(String sequence){\n        int key = 0;\n        String sql = LAST_VAL + sequence;\n        try(Statement statement = connection.createStatement()) {\n            ResultSet rs = statement.executeQuery(sql);\n            while (rs.next()) {\n                key = rs.getInt(1);\n            }\n            return key;\n        }catch (SQLException e){\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>FootballSportEventClass:</p>\n<pre><code>  package domain;\n\n\nimport dataaccess.DataTransferObject;\n\nimport java.util.Date;\n\npublic class FootballSportEvent implements DataTransferObject \n    {\n    private String type;\n    private String name;\n    private int id;\n    private Date end;\n    private Date start;\n    private String title;\n    private int resultId;\n\n    public FootballSportEvent(){\n\n    }\n\n    public FootballSportEvent(String type, String name, int id, Date end, Date start, String title, int resultId) {\n        this.type = type;\n        this.name = name;\n        this.id = id;\n        this.end = end;\n        this.start = start;\n        this.title = title;\n        this.resultId = resultId;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Date getEnd() {\n        return end;\n    }\n\n    public void setEnd(Date end) {\n        this.end = end;\n    }\n\n    public Date getStart() {\n        return start;\n    }\n\n    public void setStart(Date start) {\n        this.start = start;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public int getResultId() {\n        return resultId;\n    }\n\n    public void setResultId(int resultId) {\n        this.resultId = resultId;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;FootballSportEvent{&quot; +\n                &quot;type='&quot; + type + '\\'' +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, id=&quot; + id +\n                &quot;, end=&quot; + end +\n                &quot;, start=&quot; + start +\n                &quot;, title='&quot; + title + '\\'' +\n                &quot;, resultId=&quot; + resultId +\n                '}';\n    }\n}\n</code></pre>\n<p>And the following exception it thrown:</p>\n<pre><code>    org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;SPORTEVENT&quot; not found; SQL statement:\nINSERT INTO SPORTEVENT (DTYPE, ID, START, END, TITLE, RESULT_ID) VALUES (?,?,?,?,?,?) \n</code></pre>\n<p>Edit:\nI also tried using:\nthis.url = <code>&quot;jdbc:h2:mem://&quot;+host+&quot;/&quot;+databaseName+&quot;;DB_CLOSE_DELAY=-1&quot;;</code>\nbut it doesn't work.</p>\n"},{"tags":["java","swing","jfilechooser"],"comments":[{"owner":{"account_id":6245992,"reputation":4168,"user_id":4857909,"accept_rate":100,"display_name":"Lukas Rotter"},"score":0,"creation_date":1447018352,"post_id":33599014,"comment_id":54973891,"body_markdown":"If you mean that the `JFileChooser` doesn&#39;t show up until you press OK, Cancel or Exit in the input dialog - Then that&#39;s the expected behaviour. The `JOptionPane` creates a modal dialog that prevents the next line in the program from being called until the dialog closes. But if you don&#39;t mean that, I can&#39;t reproduce your problem. The program &quot;works&quot; for me :/","body":"If you mean that the <code>JFileChooser</code> doesn&#39;t show up until you press OK, Cancel or Exit in the input dialog - Then that&#39;s the expected behaviour. The <code>JOptionPane</code> creates a modal dialog that prevents the next line in the program from being called until the dialog closes. But if you don&#39;t mean that, I can&#39;t reproduce your problem. The program &quot;works&quot; for me :/"},{"owner":{"account_id":7265252,"reputation":368,"user_id":5540232,"accept_rate":86,"display_name":"samtob"},"score":0,"creation_date":1447018783,"post_id":33599014,"comment_id":54974025,"body_markdown":"This is not what I mean, the window is not showing after pressing OK, Cancel or Exit. For some odd reason it seems the JFileChooser does not show when I use a JOptionPane before it...","body":"This is not what I mean, the window is not showing after pressing OK, Cancel or Exit. For some odd reason it seems the JFileChooser does not show when I use a JOptionPane before it..."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1447019374,"post_id":33599014,"comment_id":54974193,"body_markdown":"Swing GUIs should be created and updated on the EDT.","body":"Swing GUIs should be created and updated on the EDT."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1447019498,"post_id":33599014,"comment_id":54974229,"body_markdown":"The example code works fine for me, Windows 7/Java 8","body":"The example code works fine for me, Windows 7/Java 8"},{"owner":{"account_id":7265252,"reputation":368,"user_id":5540232,"accept_rate":86,"display_name":"samtob"},"score":0,"creation_date":1447019751,"post_id":33599014,"comment_id":54974294,"body_markdown":"I&#39;m running Mac OS X Yosemite 10.10.3/ Java 8","body":"I&#39;m running Mac OS X Yosemite 10.10.3/ Java 8"}],"answers":[{"tags":[],"owner":{"account_id":7140962,"reputation":65,"user_id":5458637,"accept_rate":67,"display_name":"Lezorical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447027213,"creation_date":1447027213,"answer_id":33600525,"question_id":33599014,"body_markdown":" Here is some code, a JFileChooser needs a child, in this case I use a JDialog\r\n\r\n    JFileChooser fileChooser = new JFileChooser();\r\n\tJDialog dialog = new JDialog();  \r\n\t\t\t\t  \r\n\t\t\t\t  fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.dir&quot;)));\r\n\t\t\t\t  int result = fileChooser.showOpenDialog(dialog);\r\n\t\t\t\t  if (result == JFileChooser.APPROVE_OPTION) {\r\n\t\t\t\t      File selectedFile = fileChooser.getSelectedFile();\r\n\t\t\t\t      System.out.println(&quot;Selected file: &quot; + selectedFile.getAbsolutePath());\r\n\t\t\t\t  }else{\r\n\t\t\t\t\t  System.out.println(&quot;Cancelled&quot;);\r\n\t\t\t\t  }","title":"JFileChooser not showing","body":"<p>Here is some code, a JFileChooser needs a child, in this case I use a JDialog</p>\n\n<pre><code>JFileChooser fileChooser = new JFileChooser();\nJDialog dialog = new JDialog();  \n\n              fileChooser.setCurrentDirectory(new File(System.getProperty(\"user.dir\")));\n              int result = fileChooser.showOpenDialog(dialog);\n              if (result == JFileChooser.APPROVE_OPTION) {\n                  File selectedFile = fileChooser.getSelectedFile();\n                  System.out.println(\"Selected file: \" + selectedFile.getAbsolutePath());\n              }else{\n                  System.out.println(\"Cancelled\");\n              }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1602359520,"creation_date":1447035216,"answer_id":33601489,"question_id":33599014,"body_markdown":"Java on the Mac is really picky about Swing things _only_ occurring in the Event Dispatch Thread.  Try this.\r\n\r\n    import java.awt.EventQueue;\r\n    import javax.swing.JFileChooser;\r\n\r\n    public class Test {\r\n        private static int result;\r\n        public static void main(String[] args) throws Exception {\r\n            EventQueue.invokeAndWait(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    String folder = System.getProperty(&quot;user.dir&quot;);\r\n                    JFileChooser fc = new JFileChooser(folder);\r\n                    result = fc.showOpenDialog(null);\r\n                }\r\n            });\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nDocumentation for InvokeAndWait is [here][1]. But basically, you pass it a Runnable that does Swing stuff, and it will execute that in the right thread. There&#39;s also InvokeLater if you don&#39;t want to wait.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/EventQueue.html#invokeAndWait%28java.lang.Runnable%29 &quot;here&quot;","title":"JFileChooser not showing","body":"<p>Java on the Mac is really picky about Swing things <em>only</em> occurring in the Event Dispatch Thread.  Try this.</p>\n<pre><code>import java.awt.EventQueue;\nimport javax.swing.JFileChooser;\n\npublic class Test {\n    private static int result;\n    public static void main(String[] args) throws Exception {\n        EventQueue.invokeAndWait(new Runnable() {\n            @Override\n            public void run() {\n                String folder = System.getProperty(&quot;user.dir&quot;);\n                JFileChooser fc = new JFileChooser(folder);\n                result = fc.showOpenDialog(null);\n            }\n        });\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>Documentation for InvokeAndWait is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/EventQueue.html#invokeAndWait%28java.lang.Runnable%29\" rel=\"nofollow noreferrer\" title=\"here\">here</a>. But basically, you pass it a Runnable that does Swing stuff, and it will execute that in the right thread. There's also InvokeLater if you don't want to wait.</p>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657104347,"creation_date":1657104347,"answer_id":72882185,"question_id":33599014,"body_markdown":"I just have a situation, where a JFileChooser should be displayed right away at startup (not on EDT), or after a user input on GUI (therefore on EDT). In this case you cant simply put everything inside a `EventQueue.inwokeAndWait()` because it will cause an Exception when already running on the EDT. I came up with this solution which was inspired by [this Blog entry][2].\r\n    \r\n  \r\n\r\n    ...\r\n    private File chosenFile = null;\r\n\r\n    ...\r\n    Runnable selectFile = new Runnable() {\r\n      public void run(){\r\n        JFileChooser jfc = new JFileChooser();\r\n        if (jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\r\n          chosenFile = jfc.getSelectedFile();\r\n        }\r\n      }\r\n    }\r\n    if (SwingUtilities.isEventDispatchThread()) {\r\n      selectFile.run();\r\n    }\r\n    else {\r\n      SwingUtilities.invokeLater(selectFile);\r\n    }\r\n    // Now use the private variable chosenFile\r\n    ...\r\n\r\nThe drawback of this solution is that you have to define &quot;global&quot; variables to retrieve the result from the JFileChooser. Unless you are running Java 10 or higher, where you could implement the anonymous `Runnable`, give it some additional features (like a `public File chosenFile;`) and access it later. See [this discussion][3].\r\n\r\n  [2]: https://alvinalexander.com/blog/post/jfc-swing/how-determine-java-swing-code-running-on-edt/\r\n  [3]: https://stackoverflow.com/a/57932930/9064287","title":"JFileChooser not showing","body":"<p>I just have a situation, where a JFileChooser should be displayed right away at startup (not on EDT), or after a user input on GUI (therefore on EDT). In this case you cant simply put everything inside a <code>EventQueue.inwokeAndWait()</code> because it will cause an Exception when already running on the EDT. I came up with this solution which was inspired by <a href=\"https://alvinalexander.com/blog/post/jfc-swing/how-determine-java-swing-code-running-on-edt/\" rel=\"nofollow noreferrer\">this Blog entry</a>.</p>\n<pre><code>...\nprivate File chosenFile = null;\n\n...\nRunnable selectFile = new Runnable() {\n  public void run(){\n    JFileChooser jfc = new JFileChooser();\n    if (jfc.showOpenDialog(null) == JFileChooser.APPROVE_OPTION) {\n      chosenFile = jfc.getSelectedFile();\n    }\n  }\n}\nif (SwingUtilities.isEventDispatchThread()) {\n  selectFile.run();\n}\nelse {\n  SwingUtilities.invokeLater(selectFile);\n}\n// Now use the private variable chosenFile\n...\n</code></pre>\n<p>The drawback of this solution is that you have to define &quot;global&quot; variables to retrieve the result from the JFileChooser. Unless you are running Java 10 or higher, where you could implement the anonymous <code>Runnable</code>, give it some additional features (like a <code>public File chosenFile;</code>) and access it later. See <a href=\"https://stackoverflow.com/a/57932930/9064287\">this discussion</a>.</p>\n"}],"owner":{"account_id":7265252,"reputation":368,"user_id":5540232,"accept_rate":86,"display_name":"samtob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5471,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33601489,"answer_count":3,"score":7,"last_activity_date":1657104347,"creation_date":1447016581,"question_id":33599014,"body_markdown":"I have had a problem concerning the JFileChooser for a long while now and haven&#39;t been able to find help... The problem is that the file window is not showing up. I have tried to find the cause of this problem and I have tested the following:\r\n\r\n    public class Test {\r\n       public static void main (String[] args) {   \r\n       load();     \r\n       }\r\n       public static void load () {\r\n          String folder = System.getProperty(&quot;user.dir&quot;);\r\n          JFileChooser fc = new JFileChooser(folder);\r\n          int resultat = fc.showOpenDialog(null);  \r\n       }\r\n    }\r\n\r\nWhen running this code I do get the window to show.\r\n\r\nBut, when I try this:\r\n\r\n\r\n    public class Test {\r\n        public static void main (String[] args) {   \r\n        String input = JOptionPane.showInputDialog(null, &quot;Make your choice!\\n&quot; +\r\n                                                         &quot;1. load file&quot;);      \r\n        load();   \r\n      \r\n        }\r\n    }\r\n\r\nthe window is not showing however, the programming is still running...\r\nI have no clue what might be causing this problem\r\n\r\n\r\n","title":"JFileChooser not showing","body":"<p>I have had a problem concerning the JFileChooser for a long while now and haven't been able to find help... The problem is that the file window is not showing up. I have tried to find the cause of this problem and I have tested the following:</p>\n\n<pre><code>public class Test {\n   public static void main (String[] args) {   \n   load();     \n   }\n   public static void load () {\n      String folder = System.getProperty(\"user.dir\");\n      JFileChooser fc = new JFileChooser(folder);\n      int resultat = fc.showOpenDialog(null);  \n   }\n}\n</code></pre>\n\n<p>When running this code I do get the window to show.</p>\n\n<p>But, when I try this:</p>\n\n<pre><code>public class Test {\n    public static void main (String[] args) {   \n    String input = JOptionPane.showInputDialog(null, \"Make your choice!\\n\" +\n                                                     \"1. load file\");      \n    load();   \n\n    }\n}\n</code></pre>\n\n<p>the window is not showing however, the programming is still running...\nI have no clue what might be causing this problem</p>\n"},{"tags":["java","list","duplicates"],"comments":[{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1657099775,"post_id":72880991,"comment_id":128726834,"body_markdown":"@luk2302 The time aspect. I don&#39;t know how to deduplicate on hourly basis.","body":"@luk2302 The time aspect. I don&#39;t know how to deduplicate on hourly basis."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657099842,"post_id":72880991,"comment_id":128726856,"body_markdown":"Maybe I misunderstood: do you want a process to run every hour or do you want the objects with timestamps within an hour of each other to not have duplicate descriptions?","body":"Maybe I misunderstood: do you want a process to run every hour or do you want the objects with timestamps within an hour of each other to not have duplicate descriptions?"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1657100012,"post_id":72880991,"comment_id":128726919,"body_markdown":"@luk2302 No no, I don&#39;t want the process to run every hour. I just want to take the list and based on the timestamp field of the objects in the list I want to only keep one of each unique item for every hour.","body":"@luk2302 No no, I don&#39;t want the process to run every hour. I just want to take the list and based on the timestamp field of the objects in the list I want to only keep one of each unique item for every hour."},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1657100328,"post_id":72880991,"comment_id":128727054,"body_markdown":"@luk2302 I&#39;ve updated the post with an example.","body":"@luk2302 I&#39;ve updated the post with an example."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1657101016,"post_id":72880991,"comment_id":128727311,"body_markdown":"@Ben does your `MyObject` have to specifically work with `java.util.Date` or it could also be `java.time.LocalDateTime`?","body":"@Ben does your <code>MyObject</code> have to specifically work with <code>java.util.Date</code> or it could also be <code>java.time.LocalDateTime</code>?"},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1657101251,"post_id":72880991,"comment_id":128727418,"body_markdown":"@Dan The objects in the list is actually a gRPC object, I just tried to simplify it. The real data type for the time is actually `google.protobuf.Timestamp`. Don&#39;t know if that helps or makes it worse.","body":"@Dan The objects in the list is actually a gRPC object, I just tried to simplify it. The real data type for the time is actually <code>google.protobuf.Timestamp</code>. Don&#39;t know if that helps or makes it worse."}],"answers":[{"tags":[],"owner":{"account_id":6721640,"reputation":120,"user_id":16963686,"display_name":"CampingCow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657100559,"creation_date":1657100559,"answer_id":72881242,"question_id":72880991,"body_markdown":"A quiet simple solution would be a HashMap. You use description as key and timestamp as value. So you always save only the last timestamp to given description and overwrite it automaticly.\r\n\r\nIf you want to hold your Object I would just sort the list by date, then fill in a HashMap and transform the HashMap to List again. It has not the best Performance, but its easy. You can Sort by Date with functional https://stackoverflow.com/questions/65089022/java-sorting-a-collection-in-functional-style","title":"How do I deduplicate a list based on hourly intervals in Java?","body":"<p>A quiet simple solution would be a HashMap. You use description as key and timestamp as value. So you always save only the last timestamp to given description and overwrite it automaticly.</p>\n<p>If you want to hold your Object I would just sort the list by date, then fill in a HashMap and transform the HashMap to List again. It has not the best Performance, but its easy. You can Sort by Date with functional <a href=\"https://stackoverflow.com/questions/65089022/java-sorting-a-collection-in-functional-style\">Java sorting a Collection in functional style</a></p>\n"},{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657101475,"creation_date":1657101475,"answer_id":72881463,"question_id":72880991,"body_markdown":"You could define an equality calculating class (or do it in the `MyObject` class, depending on what it actually represents) and use it to find unique values based on the equality definition. In this case equality would mean: same description and same timestamp with hourly precision.\r\n\r\nHere&#39;s an example (might need some tweaking, just a concept presentation):\r\n```java\r\n\r\nclass UniqueDescriptionWithinHourIdentifier {\r\n\r\n    // equals and hashCode could also be implemented in MyObject\r\n    // if it&#39;s only purpose is data representation\r\n    // but a separate class defines a more concrete abstraction\r\n\r\n    private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;yyyyMMddHH&quot;);\r\n\r\n    private Date timestamp;\r\n    private String description;\r\n\r\n    UniqueDescriptionWithinHourIdentifier(MyObject object) {\r\n        timestamp = object.timestamp;\r\n        description = object.description;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object object) {\r\n        if (this == object) {\r\n            return true;\r\n        }\r\n        if (object == null || getClass() != object.getClass()) {\r\n            return false;\r\n        }\r\n        var other = (UniqueDescriptionWithinHourIdentifier) object;\r\n        return description.equals(other.description)\r\n               // compare the timestamps however you want - format used for simplicity\r\n               &amp;&amp; DATE_FORMAT.format(timestamp)\r\n                             .equals(DATE_FORMAT.format(other.timestamp));\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        // cannot contain timestamp - a single hash bucket will contain multiple elements \r\n        // with the same definition and the equals method will filter them out\r\n        return Objects.hashCode(description);\r\n    }\r\n}\r\n\r\nclass MyObjectService {\r\n\r\n    // here a new list without duplicates is calculated  \r\n\r\n    List&lt;MyObject&gt; withoutDuplicates(List&lt;MyObject&gt; objects) {\r\n        return List.copyOf(objects.stream()\r\n                                  .collect(toMap(UniqueDescriptionWithinHourIdentifier::new,\r\n                                                 identity(),\r\n                                                 (e1, e2) -&gt; e1,\r\n                                                 LinkedHashMap::new))\r\n                                  .values());\r\n    }\r\n\r\n}\r\n```","title":"How do I deduplicate a list based on hourly intervals in Java?","body":"<p>You could define an equality calculating class (or do it in the <code>MyObject</code> class, depending on what it actually represents) and use it to find unique values based on the equality definition. In this case equality would mean: same description and same timestamp with hourly precision.</p>\n<p>Here's an example (might need some tweaking, just a concept presentation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass UniqueDescriptionWithinHourIdentifier {\n\n    // equals and hashCode could also be implemented in MyObject\n    // if it's only purpose is data representation\n    // but a separate class defines a more concrete abstraction\n\n    private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;yyyyMMddHH&quot;);\n\n    private Date timestamp;\n    private String description;\n\n    UniqueDescriptionWithinHourIdentifier(MyObject object) {\n        timestamp = object.timestamp;\n        description = object.description;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        if (this == object) {\n            return true;\n        }\n        if (object == null || getClass() != object.getClass()) {\n            return false;\n        }\n        var other = (UniqueDescriptionWithinHourIdentifier) object;\n        return description.equals(other.description)\n               // compare the timestamps however you want - format used for simplicity\n               &amp;&amp; DATE_FORMAT.format(timestamp)\n                             .equals(DATE_FORMAT.format(other.timestamp));\n    }\n\n    @Override\n    public int hashCode() {\n        // cannot contain timestamp - a single hash bucket will contain multiple elements \n        // with the same definition and the equals method will filter them out\n        return Objects.hashCode(description);\n    }\n}\n\nclass MyObjectService {\n\n    // here a new list without duplicates is calculated  \n\n    List&lt;MyObject&gt; withoutDuplicates(List&lt;MyObject&gt; objects) {\n        return List.copyOf(objects.stream()\n                                  .collect(toMap(UniqueDescriptionWithinHourIdentifier::new,\n                                                 identity(),\n                                                 (e1, e2) -&gt; e1,\n                                                 LinkedHashMap::new))\n                                  .values());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102073,"creation_date":1657101573,"answer_id":72881478,"question_id":72880991,"body_markdown":"Add `equals` &amp; `hashcode` method to your MyObject class with `equals` has some logic like below:\r\n\r\n    @Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tMyObject other = (MyObject) obj;\r\n    \t\t   \t\t\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.setTime(timestamp);\r\n    \t\tint hour1=calendar.HOUR;\r\n    \t\tint date1 = calendar.DATE;\r\n    \t\tcalendar.setTime(other.timestamp);\r\n    \t\tint hour2 = calendar.HOUR;\r\n            int date2  =calendar.DATE;\r\n    \t\treturn Objects.equals(hour1, hour2) &amp;&amp; Objects.equals(date1, date2);\r\n    \t}\r\n\r\n\r\nHere, basically I am checking if 2 objects has same hour &amp; date &amp; if so, just ignore another object.\r\n\r\nOnce you do that, you can just use :\r\n\r\n    List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;();\r\n    myList.stream().distinct().collect(Collectors.toList()); // returns you new distinct objects list.\r\n\r\n\r\nPlease note, you can use default implementation of `hashCode` generated via your editor for this case. `distinct()` method of stream is checking if you have `equals` &amp; `hashcode` available for underlying streams class.\r\n\r\nNote: you can extend `equals` to check day , date, month, year etc. for verifying exact date.\r\n","title":"How do I deduplicate a list based on hourly intervals in Java?","body":"<p>Add <code>equals</code> &amp; <code>hashcode</code> method to your MyObject class with <code>equals</code> has some logic like below:</p>\n<pre><code>@Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        MyObject other = (MyObject) obj;\n                \n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(timestamp);\n        int hour1=calendar.HOUR;\n        int date1 = calendar.DATE;\n        calendar.setTime(other.timestamp);\n        int hour2 = calendar.HOUR;\n        int date2  =calendar.DATE;\n        return Objects.equals(hour1, hour2) &amp;&amp; Objects.equals(date1, date2);\n    }\n</code></pre>\n<p>Here, basically I am checking if 2 objects has same hour &amp; date &amp; if so, just ignore another object.</p>\n<p>Once you do that, you can just use :</p>\n<pre><code>List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;();\nmyList.stream().distinct().collect(Collectors.toList()); // returns you new distinct objects list.\n</code></pre>\n<p>Please note, you can use default implementation of <code>hashCode</code> generated via your editor for this case. <code>distinct()</code> method of stream is checking if you have <code>equals</code> &amp; <code>hashcode</code> available for underlying streams class.</p>\n<p>Note: you can extend <code>equals</code> to check day , date, month, year etc. for verifying exact date.</p>\n"},{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657104182,"creation_date":1657103000,"answer_id":72881846,"question_id":72880991,"body_markdown":"Based on the clarifications you&#39;ve given in the comments I&#39;ve used a `LocalDateTime` to simplify the sample entry and retrieve the hour, but I&#39;m sure that `google.protobuf.Timestamp` can be converted to a proper date and extract its hour.\r\n\r\nTo keep only one object according to description, date and hour, I&#39;ve added a helper method to your POJO to get a concatenation of these fields and then group by their result value in order to get a `Map` where to each key (description, date and hour) there is only one object associated. Lastly, I&#39;ve collected the `Map`&#39;s values into a `List`.\r\n\r\n```\r\nList&lt;MyObject&gt; list = new ArrayList&lt;&gt;(List.of(\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T01:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T01:35:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T03:20:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T04:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description2&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T04:35:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description2&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T06:20:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description2&quot;),\r\n        new MyObject(LocalDateTime.parse(&quot;08-07-2022T01:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;)), &quot;some random description&quot;)\r\n));\r\n\r\nList&lt;MyObject&gt; listRes = list.stream()\r\n        .collect(Collectors.toMap(\r\n                obj -&gt; obj.getDescrDateHour(),\r\n                Function.identity(),\r\n                (obj1, obj2) -&gt; obj1\r\n        ))\r\n        .values()\r\n        .stream().\r\n        collect(Collectors.toList());\r\n```\r\n\r\n&lt;h4&gt;POJO Class&lt;/h4&gt;\r\n\r\n```\r\nclass MyObject {\r\n    private LocalDateTime timestamp;\r\n    private String description;\r\n\r\n    public MyObject(LocalDateTime timestamp, String description) {\r\n        this.timestamp = timestamp;\r\n        this.description = description;\r\n    }\r\n\r\n    public LocalDateTime getTimestamp() {\r\n        return timestamp;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public String getDescrDateHour() {\r\n        return description + timestamp.toLocalDate().toString() + timestamp.getHour();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return timestamp + &quot; - &quot; + description;\r\n    }\r\n}\r\n```\r\n\r\nHere is a link to test the code\r\n\r\nhttps://www.jdoodle.com/iembed/v0/sZV\r\n\r\n&lt;h4&gt;Output&lt;/h4&gt;\r\n\r\n```\r\nInput: \r\n2022-07-06T01:30 - some random description\r\n2022-07-06T01:35 - some random description\r\n2022-07-06T03:20 - some random description\r\n2022-07-06T04:30 - some random description2\r\n2022-07-06T04:35 - some random description2\r\n2022-07-06T06:20 - some random description2\r\n2022-07-08T01:30 - some random description\r\n\r\nOutput: \r\n2022-07-06T04:30 - some random description2\r\n2022-07-08T01:30 - some random description\r\n2022-07-06T06:20 - some random description2\r\n2022-07-06T03:20 - some random description\r\n2022-07-06T01:30 - some random description\r\n```","title":"How do I deduplicate a list based on hourly intervals in Java?","body":"<p>Based on the clarifications you've given in the comments I've used a <code>LocalDateTime</code> to simplify the sample entry and retrieve the hour, but I'm sure that <code>google.protobuf.Timestamp</code> can be converted to a proper date and extract its hour.</p>\n<p>To keep only one object according to description, date and hour, I've added a helper method to your POJO to get a concatenation of these fields and then group by their result value in order to get a <code>Map</code> where to each key (description, date and hour) there is only one object associated. Lastly, I've collected the <code>Map</code>'s values into a <code>List</code>.</p>\n<pre><code>List&lt;MyObject&gt; list = new ArrayList&lt;&gt;(List.of(\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T01:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description&quot;),\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T01:35:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description&quot;),\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T03:20:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description&quot;),\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T04:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description2&quot;),\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T04:35:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description2&quot;),\n        new MyObject(LocalDateTime.parse(&quot;06-07-2022T06:20:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description2&quot;),\n        new MyObject(LocalDateTime.parse(&quot;08-07-2022T01:30:00&quot;, DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy'T'HH:mm:ss&quot;)), &quot;some random description&quot;)\n));\n\nList&lt;MyObject&gt; listRes = list.stream()\n        .collect(Collectors.toMap(\n                obj -&gt; obj.getDescrDateHour(),\n                Function.identity(),\n                (obj1, obj2) -&gt; obj1\n        ))\n        .values()\n        .stream().\n        collect(Collectors.toList());\n</code></pre>\n<h4>POJO Class</h4>\n<pre><code>class MyObject {\n    private LocalDateTime timestamp;\n    private String description;\n\n    public MyObject(LocalDateTime timestamp, String description) {\n        this.timestamp = timestamp;\n        this.description = description;\n    }\n\n    public LocalDateTime getTimestamp() {\n        return timestamp;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public String getDescrDateHour() {\n        return description + timestamp.toLocalDate().toString() + timestamp.getHour();\n    }\n\n    @Override\n    public String toString() {\n        return timestamp + &quot; - &quot; + description;\n    }\n}\n</code></pre>\n<p>Here is a link to test the code</p>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/sZV\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/iembed/v0/sZV</a></p>\n<h4>Output</h4>\n<pre><code>Input: \n2022-07-06T01:30 - some random description\n2022-07-06T01:35 - some random description\n2022-07-06T03:20 - some random description\n2022-07-06T04:30 - some random description2\n2022-07-06T04:35 - some random description2\n2022-07-06T06:20 - some random description2\n2022-07-08T01:30 - some random description\n\nOutput: \n2022-07-06T04:30 - some random description2\n2022-07-08T01:30 - some random description\n2022-07-06T06:20 - some random description2\n2022-07-06T03:20 - some random description\n2022-07-06T01:30 - some random description\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72881846,"answer_count":4,"score":0,"last_activity_date":1657104182,"creation_date":1657099576,"question_id":72880991,"body_markdown":"First of all, I have this object that I call **MyObject**;\r\n\r\n    public class MyObject{\r\n        private google.protobuf.Timestamp timestamp;\r\n        private String description;\r\n    }\r\n\r\nThen I have this list:\r\n\r\n    List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;();\r\n\r\nNow let&#39;s imagine that `myList` contains 500 items. What I want, is to eliminate duplicates (identical descriptions) that occur within the same hour.\r\n\r\nSo two different items with identical descriptions should not both exist in the list within the same hour. If they do, we want to only keep one and delete the other. \r\n\r\nExample:\r\n\r\nIf the list contains the following two items:\r\n\r\n`06-07-2022T01:30:00, &quot;some random description&quot;` and `06-07-2022T01:35:00, &quot;some random description&quot;`\r\n\r\nThen we want to delete one of them because they have identical description and are within the same hour.\r\n\r\nBut if we have this:\r\n\r\n`06-07-2022T01:30:00, &quot;some random description&quot;` and `06-07-2022T03:20:00, &quot;some random description&quot;`\r\n\r\nThen we don&#39;t want to delete any of them as they are not within the same hour.\r\n\r\nHow do I do that? ","title":"How do I deduplicate a list based on hourly intervals in Java?","body":"<p>First of all, I have this object that I call <strong>MyObject</strong>;</p>\n<pre><code>public class MyObject{\n    private google.protobuf.Timestamp timestamp;\n    private String description;\n}\n</code></pre>\n<p>Then I have this list:</p>\n<pre><code>List&lt;MyObject&gt; myList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>Now let's imagine that <code>myList</code> contains 500 items. What I want, is to eliminate duplicates (identical descriptions) that occur within the same hour.</p>\n<p>So two different items with identical descriptions should not both exist in the list within the same hour. If they do, we want to only keep one and delete the other.</p>\n<p>Example:</p>\n<p>If the list contains the following two items:</p>\n<p><code>06-07-2022T01:30:00, &quot;some random description&quot;</code> and <code>06-07-2022T01:35:00, &quot;some random description&quot;</code></p>\n<p>Then we want to delete one of them because they have identical description and are within the same hour.</p>\n<p>But if we have this:</p>\n<p><code>06-07-2022T01:30:00, &quot;some random description&quot;</code> and <code>06-07-2022T03:20:00, &quot;some random description&quot;</code></p>\n<p>Then we don't want to delete any of them as they are not within the same hour.</p>\n<p>How do I do that?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1349845839,"post_id":12812307,"comment_id":17328232,"body_markdown":"You needed to copy to a new array if you want the length to reduce also. Use ArrayList if you want dynamic size array","body":"You needed to copy to a new array if you want the length to reduce also. Use ArrayList if you want dynamic size array"},{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":0,"creation_date":1349845866,"post_id":12812307,"comment_id":17328238,"body_markdown":"You have to iterate the Array and compare your value","body":"You have to iterate the Array and compare your value"},{"owner":{"account_id":1473683,"reputation":293,"user_id":1384623,"accept_rate":33,"display_name":"Vicky"},"score":0,"creation_date":1349846089,"post_id":12812307,"comment_id":17328296,"body_markdown":"i know remove value from arraylist we use &quot;list.remove()&quot; but i need is there any property to remove string in string array","body":"i know remove value from arraylist we use &quot;list.remove()&quot; but i need is there any property to remove string in string array"},{"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"score":0,"creation_date":1349846176,"post_id":12812307,"comment_id":17328322,"body_markdown":"@Vicky: No. There is no such property.","body":"@Vicky: No. There is no such property."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1349846185,"post_id":12812307,"comment_id":17328324,"body_markdown":"The arrays by themselves don&#39;t have these methods. If you want to do it in a single and effective line, you should follow PeterLawrey&#39;s advice: http://stackoverflow.com/a/644719/1065197","body":"The arrays by themselves don&#39;t have these methods. If you want to do it in a single and effective line, you should follow PeterLawrey&#39;s advice: <a href=\"http://stackoverflow.com/a/644719/1065197\">stackoverflow.com/a/644719/1065197</a>"}],"answers":[{"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1585855098,"creation_date":1349846024,"answer_id":12812355,"question_id":12812307,"body_markdown":"I would do it as follows:\r\n\r\n    String[] str_array = {&quot;item1&quot;,&quot;item2&quot;,&quot;item3&quot;};\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(str_array));\r\n    list.remove(&quot;item2&quot;);\r\n    str_array = list.toArray(new String[0]);\r\n","title":"How to remove specific value from string array in java?","body":"<p>I would do it as follows:</p>\n\n<pre><code>String[] str_array = {\"item1\",\"item2\",\"item3\"};\nList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(str_array));\nlist.remove(\"item2\");\nstr_array = list.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1726435,"reputation":387,"user_id":1580974,"accept_rate":89,"display_name":"R H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1349846900,"creation_date":1349846900,"answer_id":12812497,"question_id":12812307,"body_markdown":"Other Option is to copy array to other array accept than remove item.\r\n\r\n     public static String[] removeItemFromArray(String[] input, String item) {\r\n        if (input == null) {\r\n            return null;\r\n        } else if (input.length &lt;= 0) {\r\n            return input;\r\n        } else {\r\n            String[] output = new String[input.length - 1];\r\n            int count = 0;\r\n            for (String i : input) {\r\n                if (!i.equals(item)) {\r\n                    output[count++] = i;\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n    }","title":"How to remove specific value from string array in java?","body":"<p>Other Option is to copy array to other array accept than remove item.</p>\n\n<pre><code> public static String[] removeItemFromArray(String[] input, String item) {\n    if (input == null) {\n        return null;\n    } else if (input.length &lt;= 0) {\n        return input;\n    } else {\n        String[] output = new String[input.length - 1];\n        int count = 0;\n        for (String i : input) {\n            if (!i.equals(item)) {\n                output[count++] = i;\n            }\n        }\n        return output;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1349850421,"creation_date":1349847684,"answer_id":12812638,"question_id":12812307,"body_markdown":"If you *must* use arrays, `System.arraycopy` is the most efficient, scalable solution.  However, if you must remove one element from an array several times, you should use an implementation of List rather than an array.\r\n\r\nThe following utilizes `System.arraycopy` in order to achieve the desired effect.\r\n\r\n    public static Object[] remove(Object[] array, Object element) {\r\n        if (array.length &gt; 0) {\r\n            int index = -1;\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i].equals(element)) {\r\n                    index = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (index &gt;= 0) {\r\n                Object[] copy = (Object[]) Array.newInstance(array.getClass()\r\n                        .getComponentType(), array.length - 1);\r\n                if (copy.length &gt; 0) {\r\n                    System.arraycopy(array, 0, copy, 0, index);\r\n                    System.arraycopy(array, index + 1, copy, index, copy.length - index);\r\n                }\r\n                return copy;\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\nAlso, you can increase the method&#39;s efficiency if you know that your array consists of only `Comparable` objects. You can use `Arrays.sort` to sort them before passing them through the `remove` method, modified to use `Arrays.binarySearch` to find index rather than a for loop, raising that portion of the method&#39;s efficiency from O(n) to O(nlogn).","title":"How to remove specific value from string array in java?","body":"<p>If you <em>must</em> use arrays, <code>System.arraycopy</code> is the most efficient, scalable solution.  However, if you must remove one element from an array several times, you should use an implementation of List rather than an array.</p>\n\n<p>The following utilizes <code>System.arraycopy</code> in order to achieve the desired effect.</p>\n\n<pre><code>public static Object[] remove(Object[] array, Object element) {\n    if (array.length &gt; 0) {\n        int index = -1;\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i].equals(element)) {\n                index = i;\n                break;\n            }\n        }\n        if (index &gt;= 0) {\n            Object[] copy = (Object[]) Array.newInstance(array.getClass()\n                    .getComponentType(), array.length - 1);\n            if (copy.length &gt; 0) {\n                System.arraycopy(array, 0, copy, 0, index);\n                System.arraycopy(array, index + 1, copy, index, copy.length - index);\n            }\n            return copy;\n        }\n    }\n    return array;\n}\n</code></pre>\n\n<p>Also, you can increase the method's efficiency if you know that your array consists of only <code>Comparable</code> objects. You can use <code>Arrays.sort</code> to sort them before passing them through the <code>remove</code> method, modified to use <code>Arrays.binarySearch</code> to find index rather than a for loop, raising that portion of the method's efficiency from O(n) to O(nlogn).</p>\n"}],"owner":{"account_id":1473683,"reputation":293,"user_id":1384623,"accept_rate":33,"display_name":"Vicky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128651,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1350287690,"accepted_answer_id":12812355,"answer_count":3,"score":14,"last_activity_date":1657104045,"creation_date":1349845712,"question_id":12812307,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [Removing an element from an Array (Java)](https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nHow to remove specific String array value for example  \r\n \r\n`String[] str_array = {&quot;item1&quot;,&quot;item2&quot;,&quot;item3&quot;};`   \r\n\r\ni want to remove &quot;item2&quot; from str_array pls help me i want output like   \r\n\r\n`String[] str_array = {&quot;item1&quot;,&quot;item3&quot;};`","title":"How to remove specific value from string array in java?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/642897/removing-an-element-from-an-array-java\">Removing an element from an Array (Java)</a>  </p>\n</blockquote>\n\n\n\n<p>How to remove specific String array value for example  </p>\n\n<p><code>String[] str_array = {\"item1\",\"item2\",\"item3\"};</code>   </p>\n\n<p>i want to remove \"item2\" from str_array pls help me i want output like   </p>\n\n<p><code>String[] str_array = {\"item1\",\"item3\"};</code></p>\n"},{"tags":["java","spring-boot","openapi"],"comments":[{"owner":{"account_id":4260941,"reputation":306,"user_id":3485316,"display_name":"Pradyskumar"},"score":0,"creation_date":1657104899,"post_id":72882070,"comment_id":128728816,"body_markdown":"I don&#39;t think there is an annotation to handle this because `@RequestBody` refers to the Object and not internal elements. Also `@RequestBody` is responsible for deserializing everything from JSON to java object unless you add `@JsonIgnore`. That&#39;s why it is overriding &quot;ba&quot; with null. I think checking foo for null is the way. Another solution is to create custom annotation something like `@Default(&quot;ba&quot;)`. But it&#39;s a lot of work","body":"I don&#39;t think there is an annotation to handle this because <code>@RequestBody</code> refers to the Object and not internal elements. Also <code>@RequestBody</code> is responsible for deserializing everything from JSON to java object unless you add <code>@JsonIgnore</code>. That&#39;s why it is overriding &quot;ba&quot; with null. I think checking foo for null is the way. Another solution is to create custom annotation something like <code>@Default(&quot;ba&quot;)</code>. But it&#39;s a lot of work"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1657118979,"post_id":72882070,"comment_id":128734812,"body_markdown":"Agreed with @Pradyskumar","body":"Agreed with @Pradyskumar"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657103958,"creation_date":1657103958,"question_id":72882070,"body_markdown":"I have an endpoint that receives a request body with opptional fields that I want to specify a default value for:\r\n\r\n```\r\n  @PostMapping(value = &quot;/pass-obj&quot;, consumes = &quot;application/json&quot;)\r\n  public MyResponse getResponse(@RequestBody MyRequest myRequest) { ... }\r\n```\r\nwith\r\n```\r\npublic class MyRequest {\r\n  @Schema\r\n  String foo;\r\n}\r\n```\r\nIf the caller doesn&#39;t specify `foo`, its default value should be `&quot;ba&quot;`. \r\nFor `@RequestParameter` I know you can use `@RequestParameter(defaultValue = &quot;ba&quot;), so I figured, since `@Schema` offers a property of the same name, that I could just  use:\r\n\r\n```\r\npublic class MyRequest {\r\n  @Schema(defaultValue = &quot;ba&quot;)\r\n  String foo;\r\n}\r\n```\r\nhowever, this default value gets completely ignored. Why is that?\r\n\r\nI can of course check `foo` for `null` in `getResponse` and modify its value.\r\nI can also initialize the field with my desired default value:\r\n```\r\npublic class MyRequest {\r\n  @Schema\r\n  String foo = &quot;ba&quot;;\r\n}\r\n```\r\nbut I&#39;m not sure if this is the &quot;right way&quot; as it would e.g. not work with final fields and I would have expected there to be an annotation for it. Is there a better, recommended way of specifying the default value?\r\n","title":"How to properly define default values in a Request Body?","body":"<p>I have an endpoint that receives a request body with opptional fields that I want to specify a default value for:</p>\n<pre><code>  @PostMapping(value = &quot;/pass-obj&quot;, consumes = &quot;application/json&quot;)\n  public MyResponse getResponse(@RequestBody MyRequest myRequest) { ... }\n</code></pre>\n<p>with</p>\n<pre><code>public class MyRequest {\n  @Schema\n  String foo;\n}\n</code></pre>\n<p>If the caller doesn't specify <code>foo</code>, its default value should be <code>&quot;ba&quot;</code>.\nFor <code>@RequestParameter</code> I know you can use <code>@RequestParameter(defaultValue = &quot;ba&quot;), so I figured, since </code>@Schema` offers a property of the same name, that I could just  use:</p>\n<pre><code>public class MyRequest {\n  @Schema(defaultValue = &quot;ba&quot;)\n  String foo;\n}\n</code></pre>\n<p>however, this default value gets completely ignored. Why is that?</p>\n<p>I can of course check <code>foo</code> for <code>null</code> in <code>getResponse</code> and modify its value.\nI can also initialize the field with my desired default value:</p>\n<pre><code>public class MyRequest {\n  @Schema\n  String foo = &quot;ba&quot;;\n}\n</code></pre>\n<p>but I'm not sure if this is the &quot;right way&quot; as it would e.g. not work with final fields and I would have expected there to be an annotation for it. Is there a better, recommended way of specifying the default value?</p>\n"},{"tags":["java","spring-boot","hibernate","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":14047221,"reputation":61,"user_id":10147096,"display_name":"Shankar Ghimire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644763749,"creation_date":1644763749,"answer_id":71101777,"question_id":71101007,"body_markdown":"This is a bug on hibernate and specific to h2 database.\r\nhttps://hibernate.atlassian.net/browse/HHH-14985\r\n\r\nyou can use `id BIGINT GENERATED BY DEFAULT AS IDENTITY DEFAULT ON NULL PRIMARY KEY` column definition as a fix.\r\n\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(columnDefinition = &quot;id BIGINT GENERATED BY DEFAULT AS IDENTITY DEFAULT ON NULL PRIMARY KEY&quot;)\r\n    private Long id;","title":"JdbcSQLIntegrityConstraintViolationException when inserting new entry after schema generated from class and initial data loaded from file","body":"<p>This is a bug on hibernate and specific to h2 database.\n<a href=\"https://hibernate.atlassian.net/browse/HHH-14985\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-14985</a></p>\n<p>you can use <code>id BIGINT GENERATED BY DEFAULT AS IDENTITY DEFAULT ON NULL PRIMARY KEY</code> column definition as a fix.</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(columnDefinition = &quot;id BIGINT GENERATED BY DEFAULT AS IDENTITY DEFAULT ON NULL PRIMARY KEY&quot;)\nprivate Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17216718,"reputation":376,"user_id":12464560,"display_name":"Lookslikeitsnot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1644827199,"creation_date":1644775784,"answer_id":71103543,"question_id":71101007,"body_markdown":"@Shankar Ghimire is partially correct. This is both a Hibernate bug and a data.sql issue. Update your Hibernate version to 5.6.5:\r\n```\r\nimplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;){\r\n  exclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-core&#39;\r\n}\r\nimplementation &#39;org.hibernate:hibernate-core:5.6.5.Final&#39;\r\n```\r\n\r\nand since you are using the h2 auto_increment, you should remove the id in your data.sql\r\n\r\n```sql\r\ninsert into names (name)\r\nvalues (&#39;Alex&#39;),(&#39;Bob&#39;);\r\n```\r\nThe sequence won&#39;t increment otherwise leading to Unique index or primary key violation.\r\n___\r\n\r\nBy the way, your repository uses Integer as your PK whereas your entity uses Long. And since the question is tagged as JPA, use :\r\n```Java\r\npublic interface NameRepository extends JpaRepository&lt;Name,Long&gt; {}\r\n```\r\n\r\nAnd you insert data in a table named &quot;scores&quot; but I assume it&#39;s a typo.","title":"JdbcSQLIntegrityConstraintViolationException when inserting new entry after schema generated from class and initial data loaded from file","body":"<p>@Shankar Ghimire is partially correct. This is both a Hibernate bug and a data.sql issue. Update your Hibernate version to 5.6.5:</p>\n<pre><code>implementation('org.springframework.boot:spring-boot-starter-data-jpa'){\n  exclude group: 'org.hibernate', module: 'hibernate-core'\n}\nimplementation 'org.hibernate:hibernate-core:5.6.5.Final'\n</code></pre>\n<p>and since you are using the h2 auto_increment, you should remove the id in your data.sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into names (name)\nvalues ('Alex'),('Bob');\n</code></pre>\n<p>The sequence won't increment otherwise leading to Unique index or primary key violation.</p>\n<hr />\n<p>By the way, your repository uses Integer as your PK whereas your entity uses Long. And since the question is tagged as JPA, use :</p>\n<pre><code>public interface NameRepository extends JpaRepository&lt;Name,Long&gt; {}\n</code></pre>\n<p>And you insert data in a table named &quot;scores&quot; but I assume it's a typo.</p>\n"},{"tags":[],"owner":{"account_id":21106485,"reputation":11,"user_id":15515363,"display_name":"Tatyana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657103714,"creation_date":1656732385,"answer_id":72836236,"question_id":71101007,"body_markdown":"It helped me:\r\n\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(columnDefinition = &quot;bigint not null constraint user_pkey primary key&quot;)\r\n    private Long id;","title":"JdbcSQLIntegrityConstraintViolationException when inserting new entry after schema generated from class and initial data loaded from file","body":"<p>It helped me:</p>\n<pre><code>@Id\n@GeneratedValue\n@Column(columnDefinition = &quot;bigint not null constraint user_pkey primary key&quot;)\nprivate Long id;\n</code></pre>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71103543,"answer_count":3,"score":0,"last_activity_date":1657103714,"creation_date":1644758374,"question_id":71101007,"body_markdown":"I have a spring boot project with an h2 database.\r\n\r\nI have an entity class from which the schema is to be generated:\r\n```\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;NAMES&quot;)\r\npublic class Name {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(nullable = false)\r\n    public String name;\r\n\r\n    public Name(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n}\r\n```\r\nAnd I have a `data.sql` file:\r\n```\r\ninsert into names (id, name) values (1, &#39;Alex&#39;);\r\ninsert into names (id, name) values (2, &#39;Bob&#39;);\r\n```\r\n\r\nmy application.properties is:\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=password\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.show-sql=true\r\n```\r\n\r\nThe application starts up just fine, I can confirm with localhost:8080/h2-console that the data is loaded into the database.\r\nBut I cannot save new data into the table with\r\n```\r\n//public interface NameRepository extends CrudRepository&lt;Name,Long&gt; {}\r\n\r\n@RestController\r\n@Service\r\npublic class MyController {\r\n\r\n  @Autowired\r\n  private final NameRepository nameRepository;\r\n\r\n  @PostMapping(&quot;/triggerError&quot;)\r\n  public ResponseEntity&lt;Void&gt; trigger() {\r\n\r\n    Name newName = new Name(&quot;Chris&quot;);\r\n    nameRepository.save(newName);\r\n    return ResponseEntity.ok().build();\r\n  }\r\n}\r\n```\r\n\r\nThe error message is:\r\n```\r\ncould not execute statement; SQL [n/a]; constraint [\\&quot;PRIMARY KEY ON PUBLIC.NAMES(ID) ( /* key:1 */ CAST(1 AS BIGINT), &#39;Alex&#39;)\\&quot;; SQL statement:\r\ninsert into names (name, id) values (?, ?) [23505-210]];\r\n```\r\n\r\nI assume that this means that spring wants to insert the new name at id=1, not realizing that ids 1 and 2 are already in use. I guess the right parameters to `@GeneratedValue` could fix it but I do not understand what they mean and which one to choose. \r\n\r\n# Trial and error:\r\n\r\n`@GeneratedValue(strategy = GenerationType.AUTO)` is the default, see above.  \r\n`@GeneratedValue(strategy = GenerationType.TABLE)` same error  \r\n`@GeneratedValue(strategy = GenerationType.SEQUENCE)` same error  \r\n`@GeneratedValue(strategy = GenerationType.IDENTITY)` different error:  \r\n```\r\n...\r\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column \\&quot;ID\\&quot;; SQL statement:\\ninsert into names (id, name) values (null, ?) [23502-210]\r\n...\r\ncould not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n```\r\nSo apparently it is not the annotation, but something else.\r\n\r\nI&#39;m giving up, heres my MRE: https://github.com/timo-a/duckpond-spring-backend/tree/debug/saving","title":"JdbcSQLIntegrityConstraintViolationException when inserting new entry after schema generated from class and initial data loaded from file","body":"<p>I have a spring boot project with an h2 database.</p>\n<p>I have an entity class from which the schema is to be generated:</p>\n<pre><code>@NoArgsConstructor\n@Entity\n@Table(name = &quot;NAMES&quot;)\npublic class Name {\n\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(nullable = false)\n    public String name;\n\n    public Name(String name) {\n        this.name = name;\n    }\n\n}\n</code></pre>\n<p>And I have a <code>data.sql</code> file:</p>\n<pre><code>insert into names (id, name) values (1, 'Alex');\ninsert into names (id, name) values (2, 'Bob');\n</code></pre>\n<p>my application.properties is:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.show-sql=true\n</code></pre>\n<p>The application starts up just fine, I can confirm with localhost:8080/h2-console that the data is loaded into the database.\nBut I cannot save new data into the table with</p>\n<pre><code>//public interface NameRepository extends CrudRepository&lt;Name,Long&gt; {}\n\n@RestController\n@Service\npublic class MyController {\n\n  @Autowired\n  private final NameRepository nameRepository;\n\n  @PostMapping(&quot;/triggerError&quot;)\n  public ResponseEntity&lt;Void&gt; trigger() {\n\n    Name newName = new Name(&quot;Chris&quot;);\n    nameRepository.save(newName);\n    return ResponseEntity.ok().build();\n  }\n}\n</code></pre>\n<p>The error message is:</p>\n<pre><code>could not execute statement; SQL [n/a]; constraint [\\&quot;PRIMARY KEY ON PUBLIC.NAMES(ID) ( /* key:1 */ CAST(1 AS BIGINT), 'Alex')\\&quot;; SQL statement:\ninsert into names (name, id) values (?, ?) [23505-210]];\n</code></pre>\n<p>I assume that this means that spring wants to insert the new name at id=1, not realizing that ids 1 and 2 are already in use. I guess the right parameters to <code>@GeneratedValue</code> could fix it but I do not understand what they mean and which one to choose.</p>\n<h1>Trial and error:</h1>\n<p><code>@GeneratedValue(strategy = GenerationType.AUTO)</code> is the default, see above.<br />\n<code>@GeneratedValue(strategy = GenerationType.TABLE)</code> same error<br />\n<code>@GeneratedValue(strategy = GenerationType.SEQUENCE)</code> same error<br />\n<code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> different error:</p>\n<pre><code>...\nCaused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: NULL not allowed for column \\&quot;ID\\&quot;; SQL statement:\\ninsert into names (id, name) values (null, ?) [23502-210]\n...\ncould not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>So apparently it is not the annotation, but something else.</p>\n<p>I'm giving up, heres my MRE: <a href=\"https://github.com/timo-a/duckpond-spring-backend/tree/debug/saving\" rel=\"nofollow noreferrer\">https://github.com/timo-a/duckpond-spring-backend/tree/debug/saving</a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","logging"],"comments":[{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1643980476,"post_id":70930478,"comment_id":125489406,"body_markdown":"Have you tried `AwsSdkMetrics.isDefaultMetricsEnabled()` to check if its enabled after you have setup those? Also, is there any application logs that can given an input about it getting connected?","body":"Have you tried <code>AwsSdkMetrics.isDefaultMetricsEnabled()</code> to check if its enabled after you have setup those? Also, is there any application logs that can given an input about it getting connected?"},{"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"score":0,"creation_date":1644169271,"post_id":70930478,"comment_id":125528904,"body_markdown":"AwsSdkMetrics.isDefaultMetricsEnabled() is giving false. Application logs are there and SNS is getting connected and able to publish to SNS. It&#39;s just that metrics is not coming.","body":"AwsSdkMetrics.isDefaultMetricsEnabled() is giving false. Application logs are there and SNS is getting connected and able to publish to SNS. It&#39;s just that metrics is not coming."},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1644195487,"post_id":70930478,"comment_id":125533438,"body_markdown":"If your `AwsSdkMetrics.isDefaultMetricsEnabled()` is returning false, then it could mean you have not set the command line property for was credential files? The code for `isDefaultMetricsEnabled()` is [here](https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/metrics/AwsSdkMetrics.java#L290), that states, to read the property. Did you follow this: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/generating-sdk-metrics.html ?","body":"If your <code>AwsSdkMetrics.isDefaultMetricsEnabled()</code> is returning false, then it could mean you have not set the command line property for was credential files? The code for <code>isDefaultMetricsEnabled()</code> is <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/metrics/AwsSdkMetrics.java#L290\" rel=\"nofollow noreferrer\">here</a>, that states, to read the property. Did you follow this: <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/generating-sdk-metrics.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/v1/developer-guide/&hellip;</a> ?"},{"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"score":0,"creation_date":1644244673,"post_id":70930478,"comment_id":125546534,"body_markdown":"Using env variable AwsSdkMetrics.isDefaultMetricsEnabled() is giving true. But the latency metrics logs are still not visible","body":"Using env variable AwsSdkMetrics.isDefaultMetricsEnabled() is giving true. But the latency metrics logs are still not visible"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1644318351,"post_id":70930478,"comment_id":125569170,"body_markdown":"How frequently are you checking the metrics and is your application running continuously? According to this link: https://aws.amazon.com/blogs/developer/enabling-metrics-with-the-aws-sdk-for-java/, `metric data points will get generated, queued for statistical summary, and then uploaded asynchronously to Amazon CloudWatch about once every minute`","body":"How frequently are you checking the metrics and is your application running continuously? According to this link: <a href=\"https://aws.amazon.com/blogs/developer/enabling-metrics-with-the-aws-sdk-for-java/\" rel=\"nofollow noreferrer\">aws.amazon.com/blogs/developer/&hellip;</a>, <code>metric data points will get generated, queued for statistical summary, and then uploaded asynchronously to Amazon CloudWatch about once every minute</code>"}],"owner":{"account_id":13313741,"reputation":805,"user_id":9610893,"display_name":"Arun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657103583,"creation_date":1643651038,"question_id":70930478,"body_markdown":"I am trying to log aws latency metrics on the application server. I have tried implementing the last **Latency Metrics Logging** section of https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-logging.html \r\n\r\nAs mentioned in the instructions there:\r\n\r\nI am setting the following while initializing ApplicationContext:\r\n```\r\nAwsSdkMetrics.enableDefaultMetrics();\r\nAwsSdkMetrics.setMetricNameSpace(&quot;SNSMetricsLog&quot;);\r\nAwsSdkMetrics.setCredentialProvider(credentialsProvider);\r\n```\r\n\r\nI am using the following in log.properties:\r\n```\r\nlog.folder=log\r\nlog.app.fileName=application.log\r\nlog.metric.fileName=metric.json\r\nlog.level=DEBUG\r\nlog.app.batch.fileName=batch.log\r\nlog.app.skippedMsg.fileName=skipped.log\r\nlog.logger.com.amazonaws.latency=DEBUG\r\n```\r\nEven after making these changes, the AWS latency metrics are not coming although I am able to see other DEBUG logs.","title":"AWS Latency Metrics Logging Issue Spring Boot","body":"<p>I am trying to log aws latency metrics on the application server. I have tried implementing the last <strong>Latency Metrics Logging</strong> section of <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-logging.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/java-dg-logging.html</a></p>\n<p>As mentioned in the instructions there:</p>\n<p>I am setting the following while initializing ApplicationContext:</p>\n<pre><code>AwsSdkMetrics.enableDefaultMetrics();\nAwsSdkMetrics.setMetricNameSpace(&quot;SNSMetricsLog&quot;);\nAwsSdkMetrics.setCredentialProvider(credentialsProvider);\n</code></pre>\n<p>I am using the following in log.properties:</p>\n<pre><code>log.folder=log\nlog.app.fileName=application.log\nlog.metric.fileName=metric.json\nlog.level=DEBUG\nlog.app.batch.fileName=batch.log\nlog.app.skippedMsg.fileName=skipped.log\nlog.logger.com.amazonaws.latency=DEBUG\n</code></pre>\n<p>Even after making these changes, the AWS latency metrics are not coming although I am able to see other DEBUG logs.</p>\n"},{"tags":["java","android","flutter","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":11846084,"reputation":176,"user_id":8668579,"display_name":"Michael Jones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657103513,"creation_date":1657057795,"answer_id":72875911,"question_id":72866145,"body_markdown":"You can use a visibility widget to show/hide a textfield.  This will be controlled by a state variable, which we will call isVisible.  So we have\r\n\r\n    bool isVisible = false;\r\n\r\n    .....\r\n\r\n    Visibility(\r\n        visible: isVisible,\r\n        child: TextField(),\r\n    );\r\n\r\nBy default, the textfield won&#39;t be shown, but we can make it visible when a dropdown list value is selected.\r\n\r\n    DropdownButtonHideUnderline(\r\n        ....\r\n    onChanged: (value) =&gt;\r\n              setState(() {\r\n                  this.value = value;\r\n                  if (this.value == &quot;Unhealthy&quot;) {\r\n                      isVisible = true;\r\n                   } else {\r\n                      isVisible = false;\r\n                          }\r\n                    })\r\n               );\r\n            \r\n            \r\n\r\n","title":"Flutter - Dropdown list on click display Textfield","body":"<p>You can use a visibility widget to show/hide a textfield.  This will be controlled by a state variable, which we will call isVisible.  So we have</p>\n<pre><code>bool isVisible = false;\n\n.....\n\nVisibility(\n    visible: isVisible,\n    child: TextField(),\n);\n</code></pre>\n<p>By default, the textfield won't be shown, but we can make it visible when a dropdown list value is selected.</p>\n<pre><code>DropdownButtonHideUnderline(\n    ....\nonChanged: (value) =&gt;\n          setState(() {\n              this.value = value;\n              if (this.value == &quot;Unhealthy&quot;) {\n                  isVisible = true;\n               } else {\n                  isVisible = false;\n                      }\n                })\n           );\n        \n        \n</code></pre>\n"}],"owner":{"account_id":24656493,"reputation":25,"user_id":18553124,"display_name":"Jasmirulnaim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72875911,"answer_count":1,"score":0,"last_activity_date":1657103513,"creation_date":1657009066,"question_id":72866145,"body_markdown":"I&#39;m quite new in Flutter, so how do I show a textfield widget below right after an user click one of the dropdown list value?\r\n\r\nHere is the codes for my Dropdown button\r\n\r\n    final items = [&#39;Healthy&#39;, &#39;Unhealthy&#39;];\r\n     ...\r\n\r\n        DropdownMenuItem&lt;String&gt; buildMenuItem(String item) =&gt; DropdownMenuItem(\r\n              value: item,\r\n              child: Text(\r\n                item,\r\n                style: const TextStyle(\r\n                  fontSize: 16,\r\n                  // fontWeight: FontWeight.bold,\r\n                  fontFamily: &quot;Ubuntu&quot;,\r\n                  color: Colors.black54,\r\n                ),\r\n              ),\r\n            );\r\n\r\n         ...\r\n\r\n          Container(\r\n            width: scrwidth * 0.8,\r\n            height: scrheight / 14,\r\n            padding: const EdgeInsets.symmetric(\r\n                horizontal: 12, vertical: 4),\r\n            decoration: BoxDecoration(\r\n              borderRadius: BorderRadius.circular(10),\r\n              border: Border.all(color: Colors.black54, width: 1),\r\n            ),\r\n            child: DropdownButtonHideUnderline(\r\n              child: DropdownButton&lt;String&gt;(\r\n                icon: const Icon(\r\n                  Icons.arrow_drop_down,\r\n                  color: Colors.black54,\r\n                ),\r\n                hint: const Text(\r\n                  &quot;Health&quot;,\r\n                  style: TextStyle(\r\n                    fontFamily: &quot;Ubuntu&quot;,\r\n                    fontWeight: FontWeight.bold,\r\n                  ),\r\n                ),\r\n                isExpanded: true,\r\n                value: value,\r\n                items: items.map(buildMenuItem).toList(),\r\n                onChanged: (value) =&gt;\r\n                    setState(() =&gt; this.value = value),\r\n              ),\r\n            ),\r\n          ),\r\n\r\nHere&#39;s how it&#39;s look now (without the textfield):\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4HsWc.png\r\n\r\nI&#39;ve been looking for the solution on the internet but none seems to help me understand.\r\n\r\n**Thank you in advance!**","title":"Flutter - Dropdown list on click display Textfield","body":"<p>I'm quite new in Flutter, so how do I show a textfield widget below right after an user click one of the dropdown list value?</p>\n<p>Here is the codes for my Dropdown button</p>\n<pre><code>final items = ['Healthy', 'Unhealthy'];\n ...\n\n    DropdownMenuItem&lt;String&gt; buildMenuItem(String item) =&gt; DropdownMenuItem(\n          value: item,\n          child: Text(\n            item,\n            style: const TextStyle(\n              fontSize: 16,\n              // fontWeight: FontWeight.bold,\n              fontFamily: &quot;Ubuntu&quot;,\n              color: Colors.black54,\n            ),\n          ),\n        );\n\n     ...\n\n      Container(\n        width: scrwidth * 0.8,\n        height: scrheight / 14,\n        padding: const EdgeInsets.symmetric(\n            horizontal: 12, vertical: 4),\n        decoration: BoxDecoration(\n          borderRadius: BorderRadius.circular(10),\n          border: Border.all(color: Colors.black54, width: 1),\n        ),\n        child: DropdownButtonHideUnderline(\n          child: DropdownButton&lt;String&gt;(\n            icon: const Icon(\n              Icons.arrow_drop_down,\n              color: Colors.black54,\n            ),\n            hint: const Text(\n              &quot;Health&quot;,\n              style: TextStyle(\n                fontFamily: &quot;Ubuntu&quot;,\n                fontWeight: FontWeight.bold,\n              ),\n            ),\n            isExpanded: true,\n            value: value,\n            items: items.map(buildMenuItem).toList(),\n            onChanged: (value) =&gt;\n                setState(() =&gt; this.value = value),\n          ),\n        ),\n      ),\n</code></pre>\n<p>Here's how it's look now (without the textfield):\n<a href=\"https://i.stack.imgur.com/4HsWc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4HsWc.png\" alt=\"enter image description here\" /></a></p>\n<p>I've been looking for the solution on the internet but none seems to help me understand.</p>\n<p><strong>Thank you in advance!</strong></p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"score":0,"creation_date":1425031432,"post_id":12286662,"comment_id":45804039,"body_markdown":"this is also helpful: http://thinktibits.blogspot.com/2012/12/Java-POI-Format-Excel-Cell-Bold-Example-Program.html","body":"this is also helpful: <a href=\"http://thinktibits.blogspot.com/2012/12/Java-POI-Format-Excel-Cell-Bold-Example-Program.html\" rel=\"nofollow noreferrer\">thinktibits.blogspot.com/2012/12/&hellip;</a>"},{"owner":{"account_id":346512,"reputation":855,"user_id":680085,"accept_rate":38,"display_name":"Peter"},"score":0,"creation_date":1463117746,"post_id":12286662,"comment_id":61935875,"body_markdown":"This link might help you. [http://stackoverflow.com/questions/37188540/java-code-for-excel-row-in-bold-text-style-with-background-color](http://stackoverflow.com/questions/37188540/java-code-for-excel-row-in-bold-text-style-with-background-color)","body":"This link might help you. <a href=\"http://stackoverflow.com/questions/37188540/java-code-for-excel-row-in-bold-text-style-with-background-color\">http://stackoverflow.com/questions/37188540/java-code-for-ex&zwnj;&#8203;cel-row-in-bold-text&zwnj;&#8203;-style-with-backgrou&zwnj;&#8203;nd-color</a>"}],"answers":[{"tags":[],"owner":{"account_id":1584937,"reputation":2229,"user_id":1469523,"accept_rate":75,"display_name":"ArtiBucco"},"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1540641549,"creation_date":1346915281,"answer_id":12294694,"question_id":12286662,"body_markdown":"This should work fine. \r\n\r\n        Workbook wb = new XSSFWorkbook(&quot;myWorkbook.xlsx&quot;);\r\n        Row row=sheet.getRow(0);\r\n\t\tCellStyle style=null;\r\n\t\t\r\n\t\tXSSFFont defaultFont= wb.createFont();\r\n\t\tdefaultFont.setFontHeightInPoints((short)10);\r\n\t\tdefaultFont.setFontName(&quot;Arial&quot;);\r\n\t\tdefaultFont.setColor(IndexedColors.BLACK.getIndex());\r\n\t\tdefaultFont.setBold(false);\r\n\t\tdefaultFont.setItalic(false);\r\n\t\t\r\n\t\tXSSFFont font= wb.createFont();\r\n\t\tfont.setFontHeightInPoints((short)10);\r\n\t\tfont.setFontName(&quot;Arial&quot;);\r\n\t\tfont.setColor(IndexedColors.WHITE.getIndex());\r\n\t\tfont.setBold(true);\r\n\t\tfont.setItalic(false);\r\n\t\t\r\n\t\tstyle=row.getRowStyle();\r\n\t\tstyle.setFillBackgroundColor(IndexedColors.DARK_BLUE.getIndex());\r\n\t    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\r\n\t\tstyle.setAlignment(CellStyle.ALIGN_CENTER);\r\n\t\tstyle.setFont(font);\r\n\t\t\r\nIf you do not create `defaultFont` all your workbook will be using the other one as default. \r\n","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p>This should work fine. </p>\n\n<pre><code>    Workbook wb = new XSSFWorkbook(\"myWorkbook.xlsx\");\n    Row row=sheet.getRow(0);\n    CellStyle style=null;\n\n    XSSFFont defaultFont= wb.createFont();\n    defaultFont.setFontHeightInPoints((short)10);\n    defaultFont.setFontName(\"Arial\");\n    defaultFont.setColor(IndexedColors.BLACK.getIndex());\n    defaultFont.setBold(false);\n    defaultFont.setItalic(false);\n\n    XSSFFont font= wb.createFont();\n    font.setFontHeightInPoints((short)10);\n    font.setFontName(\"Arial\");\n    font.setColor(IndexedColors.WHITE.getIndex());\n    font.setBold(true);\n    font.setItalic(false);\n\n    style=row.getRowStyle();\n    style.setFillBackgroundColor(IndexedColors.DARK_BLUE.getIndex());\n    style.setFillPattern(CellStyle.SOLID_FOREGROUND);\n    style.setAlignment(CellStyle.ALIGN_CENTER);\n    style.setFont(font);\n</code></pre>\n\n<p>If you do not create <code>defaultFont</code> all your workbook will be using the other one as default. </p>\n"},{"tags":[],"owner":{"account_id":4279385,"reputation":131,"user_id":3499242,"display_name":"Adhamo"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1421190784,"creation_date":1421187921,"answer_id":27932634,"question_id":12286662,"body_markdown":"**This work for me**\r\n\r\nI set style&#39;s font before and make rowheader normally then i set in loop for the style with font bolded on each cell of rowhead. Et voil&#224; first row is bolded.\r\n\r\n    HSSFWorkbook wb = new HSSFWorkbook();\r\n    HSSFSheet sheet = wb.createSheet(&quot;FirstSheet&quot;);\r\n    HSSFRow rowhead = sheet.createRow(0); \r\n    HSSFCellStyle style = wb.createCellStyle();\r\n    HSSFFont font = wb.createFont();\r\n    font.setFontName(HSSFFont.FONT_ARIAL);\r\n    font.setFontHeightInPoints((short)10);\r\n    font.setBold(true);\r\n    style.setFont(font);\r\n    rowhead.createCell(0).setCellValue(&quot;ID&quot;);\r\n    rowhead.createCell(1).setCellValue(&quot;First&quot;);\r\n    rowhead.createCell(2).setCellValue(&quot;Second&quot;);\r\n    rowhead.createCell(3).setCellValue(&quot;Third&quot;);\r\n    for(int j = 0; j&lt;=3; j++)\r\n    rowhead.getCell(j).setCellStyle(style);","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p><strong>This work for me</strong></p>\n\n<p>I set style's font before and make rowheader normally then i set in loop for the style with font bolded on each cell of rowhead. Et voilà first row is bolded.</p>\n\n<pre><code>HSSFWorkbook wb = new HSSFWorkbook();\nHSSFSheet sheet = wb.createSheet(\"FirstSheet\");\nHSSFRow rowhead = sheet.createRow(0); \nHSSFCellStyle style = wb.createCellStyle();\nHSSFFont font = wb.createFont();\nfont.setFontName(HSSFFont.FONT_ARIAL);\nfont.setFontHeightInPoints((short)10);\nfont.setBold(true);\nstyle.setFont(font);\nrowhead.createCell(0).setCellValue(\"ID\");\nrowhead.createCell(1).setCellValue(\"First\");\nrowhead.createCell(2).setCellValue(\"Second\");\nrowhead.createCell(3).setCellValue(\"Third\");\nfor(int j = 0; j&lt;=3; j++)\nrowhead.getCell(j).setCellStyle(style);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2864980,"reputation":1209,"user_id":2459476,"display_name":"satender"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1468948331,"creation_date":1430923522,"answer_id":30080089,"question_id":12286662,"body_markdown":"Please find below the easy way :\r\n\r\n\tXSSFCellStyle style = workbook.createCellStyle();\r\n\tstyle.setBorderTop((short) 6); // double lines border\r\n\tstyle.setBorderBottom((short) 1); // single line border\r\n\tXSSFFont font = workbook.createFont();\r\n\tfont.setFontHeightInPoints((short) 15);\r\n\tfont.setBoldweight(XSSFFont.BOLDWEIGHT_BOLD);\r\n\tstyle.setFont(font);                 \r\n\t\r\n\tRow row = sheet.createRow(0);   \r\n\tCell cell0 = row.createCell(0);\r\n\tcell0.setCellValue(&quot;Nav Value&quot;);\r\n\tcell0.setCellStyle(style);  \r\n\tfor(int j = 0; j&lt;=3; j++)\r\n\trow.getCell(j).setCellStyle(style);","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p>Please find below the easy way :</p>\n\n<pre><code>XSSFCellStyle style = workbook.createCellStyle();\nstyle.setBorderTop((short) 6); // double lines border\nstyle.setBorderBottom((short) 1); // single line border\nXSSFFont font = workbook.createFont();\nfont.setFontHeightInPoints((short) 15);\nfont.setBoldweight(XSSFFont.BOLDWEIGHT_BOLD);\nstyle.setFont(font);                 \n\nRow row = sheet.createRow(0);   \nCell cell0 = row.createCell(0);\ncell0.setCellValue(\"Nav Value\");\ncell0.setCellStyle(style);  \nfor(int j = 0; j&lt;=3; j++)\nrow.getCell(j).setCellStyle(style);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7008090,"reputation":696,"user_id":5371862,"accept_rate":57,"display_name":"omkar sirra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469602302,"creation_date":1469602302,"answer_id":38605703,"question_id":12286662,"body_markdown":"**This worked for me**\r\n\r\n\r\n\t\tObject[][] bookData = { { &quot;col1&quot;, &quot;col2&quot;, 3 }, { &quot;col1&quot;, &quot;col2&quot;, 3 }, { &quot;col1&quot;, &quot;col2&quot;, 3 },\r\n\t\t\t\t{ &quot;col1&quot;, &quot;col2&quot;, 3 }, { &quot;col1&quot;, &quot;col2&quot;, 3 }, { &quot;col1&quot;, &quot;col2&quot;, 3 } };\r\n\r\n\t\tString[] headers = new String[] { &quot;HEader 1&quot;, &quot;HEader 2&quot;, &quot;HEader 3&quot; };\r\n\t\t\r\n\t\tint noOfColumns = headers.length;\r\n\t\tint rowCount = 0;\r\n\r\n\t\tRow rowZero = sheet.createRow(rowCount++);\r\n\t\tCellStyle style = workbook.createCellStyle();\r\n\t\tFont font = workbook.createFont();\r\n\t\tfont.setBoldweight(Font.BOLDWEIGHT_BOLD);\r\n\t\tstyle.setFont(font);\r\n\t\tfor (int col = 1; col &lt;= noOfColumns; col++) {\r\n\t\t\tCell cell = rowZero.createCell(col);\r\n\t\t\tcell.setCellValue(headers[col - 1]);\r\n\t\t\tcell.setCellStyle(style);\r\n\t\t}\r\n","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p><strong>This worked for me</strong></p>\n\n<pre><code>    Object[][] bookData = { { \"col1\", \"col2\", 3 }, { \"col1\", \"col2\", 3 }, { \"col1\", \"col2\", 3 },\n            { \"col1\", \"col2\", 3 }, { \"col1\", \"col2\", 3 }, { \"col1\", \"col2\", 3 } };\n\n    String[] headers = new String[] { \"HEader 1\", \"HEader 2\", \"HEader 3\" };\n\n    int noOfColumns = headers.length;\n    int rowCount = 0;\n\n    Row rowZero = sheet.createRow(rowCount++);\n    CellStyle style = workbook.createCellStyle();\n    Font font = workbook.createFont();\n    font.setBoldweight(Font.BOLDWEIGHT_BOLD);\n    style.setFont(font);\n    for (int col = 1; col &lt;= noOfColumns; col++) {\n        Cell cell = rowZero.createCell(col);\n        cell.setCellValue(headers[col - 1]);\n        cell.setCellStyle(style);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1575604538,"creation_date":1575604538,"answer_id":59206629,"question_id":12286662,"body_markdown":"A worked, completed and simple example:\r\n\r\n    package io.github.baijifeilong.excel;\r\n\r\n    import lombok.SneakyThrows;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    import java.io.FileOutputStream;\r\n\r\n    /**\r\n     * Created by BaiJiFeiLong@gmail.com at 2019/12/6 11:41\r\n     */\r\n    public class ExcelBoldTextDemo {\r\n\r\n        @SneakyThrows\r\n        public static void main(String[] args) {\r\n\r\n            new XSSFWorkbook() {{\r\n                XSSFRow row = createSheet().createRow(0);\r\n                row.setRowStyle(createCellStyle());\r\n                row.getRowStyle().getFont().setBold(true);\r\n                row.createCell(0).setCellValue(&quot;Alpha&quot;);\r\n                row.createCell(1).setCellValue(&quot;Beta&quot;);\r\n                row.createCell(2).setCellValue(&quot;Gamma&quot;);\r\n            }}.write(new FileOutputStream(&quot;demo.xlsx&quot;));\r\n        }\r\n    }\r\n","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p>A worked, completed and simple example:</p>\n\n<pre><code>package io.github.baijifeilong.excel;\n\nimport lombok.SneakyThrows;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.FileOutputStream;\n\n/**\n * Created by BaiJiFeiLong@gmail.com at 2019/12/6 11:41\n */\npublic class ExcelBoldTextDemo {\n\n    @SneakyThrows\n    public static void main(String[] args) {\n\n        new XSSFWorkbook() {{\n            XSSFRow row = createSheet().createRow(0);\n            row.setRowStyle(createCellStyle());\n            row.getRowStyle().getFont().setBold(true);\n            row.createCell(0).setCellValue(\"Alpha\");\n            row.createCell(1).setCellValue(\"Beta\");\n            row.createCell(2).setCellValue(\"Gamma\");\n        }}.write(new FileOutputStream(\"demo.xlsx\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25704427,"reputation":1,"user_id":19463978,"display_name":"Macarena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657103454,"creation_date":1656717772,"answer_id":72835402,"question_id":12286662,"body_markdown":"~~~\r\npublic class ExcelReader {\r\n\r\n    private XSSFWorkbook workBook;\r\n    private XSSFSheet workSheet;\r\n\r\n\r\n    public ExcelReader(String path, String sheetName){\r\n        File file = new File(path);\r\n        try {\r\n            FileInputStream inputStream = new FileInputStream(file);\r\n            workBook = new XSSFWorkbook(inputStream);\r\n            workSheet = workBook.getSheet(sheetName);\r\n            workBook.close();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public Object[][] getData(){\r\n\r\n        int rows = workSheet.getLastRowNum(); // returns number of rows\r\n        int cols = workSheet.getRow(0).getLastCellNum(); //returns number of cols\r\n\r\n        Object[][] data = new Object[rows][1];\r\n\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                //each column name is a key\r\n                XSSFCell cell = workSheet.getRow(i + 1).getCell(j);// might be null sometimes if the cell is empty\r\n\r\n                if (cell == null){\r\n                    System.out.println();\r\n                }\r\n\r\n                map.put(workSheet.getRow(0).getCell(j).toString(),\r\n                        // each cell under column name will be value\r\n                        cell == null  ? &quot;&quot; : cell.toString() );\r\n            }\r\n            data[i][0] = map;\r\n        }\r\n        return data;\r\n    }\r\n\r\n}\r\n~~~","title":"How to apply bold text style for an entire row using Apache POI?","body":"<pre><code>public class ExcelReader {\n\n    private XSSFWorkbook workBook;\n    private XSSFSheet workSheet;\n\n\n    public ExcelReader(String path, String sheetName){\n        File file = new File(path);\n        try {\n            FileInputStream inputStream = new FileInputStream(file);\n            workBook = new XSSFWorkbook(inputStream);\n            workSheet = workBook.getSheet(sheetName);\n            workBook.close();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n\n\n    public Object[][] getData(){\n\n        int rows = workSheet.getLastRowNum(); // returns number of rows\n        int cols = workSheet.getRow(0).getLastCellNum(); //returns number of cols\n\n        Object[][] data = new Object[rows][1];\n\n        for (int i = 0; i &lt; rows; i++) {\n            Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n\n            for (int j = 0; j &lt; cols; j++) {\n                //each column name is a key\n                XSSFCell cell = workSheet.getRow(i + 1).getCell(j);// might be null sometimes if the cell is empty\n\n                if (cell == null){\n                    System.out.println();\n                }\n\n                map.put(workSheet.getRow(0).getCell(j).toString(),\n                        // each cell under column name will be value\n                        cell == null  ? &quot;&quot; : cell.toString() );\n            }\n            data[i][0] = map;\n        }\n        return data;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1762420,"reputation":671,"user_id":1609148,"display_name":"Krishnamachary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205660,"favorite_count":0,"down_vote_count":0,"up_vote_count":67,"answer_count":6,"score":67,"last_activity_date":1657103454,"creation_date":1346865745,"question_id":12286662,"body_markdown":"How to make an entire excel row cells bold text using Apache POI?\r\n\r\n*E.g:*  \r\nColumn headings should be in bold. Instead of applying style for each and every cell of heading row, how can I apply some style to an entire row?","title":"How to apply bold text style for an entire row using Apache POI?","body":"<p>How to make an entire excel row cells bold text using Apache POI?</p>\n\n<p><em>E.g:</em><br>\nColumn headings should be in bold. Instead of applying style for each and every cell of heading row, how can I apply some style to an entire row?</p>\n"},{"tags":["java","resources","try-catch","httpurlconnection"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1657017526,"post_id":72866480,"comment_id":128704253,"body_markdown":"No, you can try `con.disconnect();` but it doesn&#39;t guaranty that the connection will actually be disconnected.","body":"No, you can try <code>con.disconnect();</code> but it doesn&#39;t guaranty that the connection will actually be disconnected."},{"owner":{"account_id":25600142,"reputation":1,"user_id":19375276,"display_name":"hatchi"},"score":0,"creation_date":1657023426,"post_id":72866480,"comment_id":128706330,"body_markdown":"I tried it, but it didn&#39;t work :(","body":"I tried it, but it didn&#39;t work :("}],"owner":{"account_id":25600142,"reputation":1,"user_id":19375276,"display_name":"hatchi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657103239,"creation_date":1657010728,"question_id":72866480,"body_markdown":"when retrieving a file I can&#39;t close the connection in case of timeout, when the timeout exception throws, i want to skip the file and pass to the next file.\r\n.... java.net.sockettimeoutexception : connect timed out... which is repeated on the same file,\r\nI want to ignore the file when the first error is thrown\r\n``` \r\nHttpsURLConnection con = (HttpsURLConnection) new URL(url).openConnection();\r\n       \r\n    try{  con.addRequestProperty(&quot;Accept&quot;, &quot;app/json&quot;);\r\n\r\n      con.addRequestProperty(&quot;Authorization&quot;, jsonParams);\r\n\r\n      con.setConnectTimeout(timeoutConnection); \r\n\r\n      int repCode = con.getResponseCode(); \r\n\r\n      String output= IOUtils.toString(con.getInputStream(), &quot;UTF-8&quot;);\r\n\r\n      return new file(repCode, output);\r\n\r\n      } catch (SocketTimeoutException e) {\r\n\r\n                        System.err.print(e.getMessage());\r\n\r\n                        con.getInputStream().close(); //close the connection\r\n\r\n                        throw new ConnectTimeoutException(e.getMessage());\r\n}\r\n\r\n \r\n```","title":"connection not closed after timeout exception","body":"<p>when retrieving a file I can't close the connection in case of timeout, when the timeout exception throws, i want to skip the file and pass to the next file.\n.... java.net.sockettimeoutexception : connect timed out... which is repeated on the same file,\nI want to ignore the file when the first error is thrown</p>\n<pre><code>HttpsURLConnection con = (HttpsURLConnection) new URL(url).openConnection();\n       \n    try{  con.addRequestProperty(&quot;Accept&quot;, &quot;app/json&quot;);\n\n      con.addRequestProperty(&quot;Authorization&quot;, jsonParams);\n\n      con.setConnectTimeout(timeoutConnection); \n\n      int repCode = con.getResponseCode(); \n\n      String output= IOUtils.toString(con.getInputStream(), &quot;UTF-8&quot;);\n\n      return new file(repCode, output);\n\n      } catch (SocketTimeoutException e) {\n\n                        System.err.print(e.getMessage());\n\n                        con.getInputStream().close(); //close the connection\n\n                        throw new ConnectTimeoutException(e.getMessage());\n}\n\n \n</code></pre>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":6678116,"reputation":7029,"user_id":5152146,"display_name":"Ramesh R"},"score":1,"creation_date":1489820945,"post_id":42871528,"comment_id":72848280,"body_markdown":"Are you displaying in logcat?","body":"Are you displaying in logcat?"},{"owner":{"account_id":8445341,"reputation":63,"user_id":6336216,"display_name":"Vipin"},"score":0,"creation_date":1489820999,"post_id":42871528,"comment_id":72848295,"body_markdown":"yes  but it showing few data not more than 50 data","body":"yes  but it showing few data not more than 50 data"},{"owner":{"account_id":6678116,"reputation":7029,"user_id":5152146,"display_name":"Ramesh R"},"score":2,"creation_date":1489821139,"post_id":42871528,"comment_id":72848323,"body_markdown":"It&#39;s not the problem with Volley!, it&#39;s the problem(limitation) of logcat for displaying limited size of data.","body":"It&#39;s not the problem with Volley!, it&#39;s the problem(limitation) of logcat for displaying limited size of data."}],"answers":[{"tags":[],"owner":{"account_id":6678116,"reputation":7029,"user_id":5152146,"display_name":"Ramesh R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1655117298,"creation_date":1489821127,"answer_id":42871606,"question_id":42871528,"body_markdown":"This is not a problem with Volley. It&#39;s a limitation of Logcat.\r\n\r\nI hope [the answer to this question][1] will help you to display the whole response data in Logcat.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7606077/how-to-display-long-messages-in-logcat","title":"Is there any limit in Volley library to get number of data on Android?","body":"<p>This is not a problem with Volley. It's a limitation of Logcat.</p>\n<p>I hope <a href=\"https://stackoverflow.com/questions/7606077/how-to-display-long-messages-in-logcat\">the answer to this question</a> will help you to display the whole response data in Logcat.</p>\n"},{"tags":[],"owner":{"account_id":8445341,"reputation":63,"user_id":6336216,"display_name":"Vipin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511500914,"creation_date":1511500914,"answer_id":47466805,"question_id":42871528,"body_markdown":"No limits of response in volley library\r\nbut if you are using log-cat then it will show a limited data \r\nlog-cat show only limited data only ","title":"Is there any limit in Volley library to get number of data on Android?","body":"<p>No limits of response in volley library\nbut if you are using log-cat then it will show a limited data \nlog-cat show only limited data only </p>\n"}],"owner":{"account_id":8445341,"reputation":63,"user_id":6336216,"display_name":"Vipin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42871606,"answer_count":2,"score":1,"last_activity_date":1657103033,"creation_date":1489820449,"question_id":42871528,"body_markdown":"Is there any limit that Volley supports to JSON files?  \r\nI have more than 700 lines of data in JSON.\r\nbut I&#39;m getting not the whole list of data.\r\nPlease tell me how can I get all data in response.","title":"Is there any limit in Volley library to get number of data on Android?","body":"<p>Is there any limit that Volley supports to JSON files?<br />\nI have more than 700 lines of data in JSON.\nbut I'm getting not the whole list of data.\nPlease tell me how can I get all data in response.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657088482,"post_id":72878616,"comment_id":128723052,"body_markdown":"Are you sure you know what you are doing when disabling CSRF while allowing session authentication?","body":"Are you sure you know what you are doing when disabling CSRF while allowing session authentication?"},{"owner":{"account_id":3673467,"reputation":73,"user_id":4690425,"display_name":"sinsanarya"},"score":0,"creation_date":1657089010,"post_id":72878616,"comment_id":128723183,"body_markdown":"This is an application which is for internal use only, it&#39;s not exposed to web.","body":"This is an application which is for internal use only, it&#39;s not exposed to web."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657089530,"post_id":72878616,"comment_id":128723337,"body_markdown":"If the application allows access to critical resources and someone from outside knows where the application is accessible internally, they could still attack it. But if not, it should be fine. You need to know what you are doing.","body":"If the application allows access to critical resources and someone from outside knows where the application is accessible internally, they could still attack it. But if not, it should be fine. You need to know what you are doing."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1657102653,"post_id":72878616,"comment_id":128727970,"body_markdown":"@sinsanarya The logs are clear: *Failed to authorize filter invocation [POST /error] with attributes [fullyAuthenticated]*. Are you loggged in?","body":"@sinsanarya The logs are clear: <i>Failed to authorize filter invocation [POST /error] with attributes [fullyAuthenticated]</i>. Are you loggged in?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657105504,"post_id":72878616,"comment_id":128729037,"body_markdown":"Have you checked all the release notes and migration guides from Spring Boot 1.5 to 2.7?","body":"Have you checked all the release notes and migration guides from Spring Boot 1.5 to 2.7?"}],"owner":{"account_id":3673467,"reputation":73,"user_id":4690425,"display_name":"sinsanarya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657103027,"creation_date":1657087537,"question_id":72878616,"body_markdown":"I am migrating my application from Spring Boot 1.5.21 to 2.7.1. and Java from 8 to 17.\r\n\r\nI am facing issues with displaying error message from controller.\r\nExisting Spring Boot controller does not accept any media type apart from `application/json`. It is supposed to throw a 415 unsupported media type exception for all input other than JSON. \r\n\r\nThe request looks this: `http://localhost:8080/test/ghsahgs/submitinfo`. I am passing a body which is not JSON and expect this controller to throw an error.\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(path = &quot;/test&quot;)\r\npublic class SubmissionController {\r\n    @PostMapping(value = &quot;/{name}/submitinfo&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity submit(@PathVariable(&quot;name&quot;) final String name, @RequestBody final String data) {\r\n```\r\n\r\nThis works as expected and throws 415 error but what happens is that instead of getting this massage in Postman, I get HTML login page. This is because of `WebSecurityConfig` which looks like below.\r\n\r\n```java \r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true, proxyTargetClass = true)\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable();\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/Demo/**&quot;).permitAll()\r\n                .anyRequest().fullyAuthenticated()\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/Demo/login&quot;)\r\n                .usernameParameter(USERNAME)\r\n                .passwordParameter(PASSWORD)\r\n                .successHandler(authSuccessHandler)\r\n                .failureHandler(authFailureHandler)\r\n                .permitAll()\r\n                .and()\r\n            .logout()\r\n                .logoutUrl(&quot;/Demo/logout&quot;)\r\n                .invalidateHttpSession(true)\r\n                .deleteCookies(JSESSIONID)\r\n                .logoutSuccessHandler(logoutSuccessHandler)\r\n                .and()\r\n            .exceptionHandling()\r\n                .accessDeniedPage(ACCESS_DENIED);\r\n}\r\n    @Override\r\n    public void configure(final WebSecurity web) throws Exception {\r\n        web.ignoring().antMatchers(&quot;/test/**&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSeems like controller throws the exception but `webSecurityConfig` does not know how to handle it?\r\n\r\nStackTrace:\r\n```\r\n2022-07-06 05:53:40 36119 [http-nio-8080-exec-5] DEBUG o.s.w.s.DispatcherServlet correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Completed 415 UNSUPPORTED_MEDIA_TYPE\r\n2022-07-06 05:53:40 36121 [http-nio-8080-exec-5] DEBUG o.s.s.web.FilterChainProxy correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Securing POST /error\r\n2022-07-06 05:53:40 36122 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Set SecurityContextHolder to empty SecurityContext\r\n2022-07-06 05:53:40 36123 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Set SecurityContextHolder to anonymous SecurityContext\r\n2022-07-06 05:53:40 36127 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Failed to authorize filter invocation [POST /error] with attributes [fullyAuthenticated]\r\n2022-07-06 05:53:40 36129 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Saved request http://localhost:8080/error to session\r\n2022-07-06 05:53:40 36129 [http-nio-8080-exec-5] DEBUG o.s.s.w.DefaultRedirectStrategy correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Redirecting to http://localhost:8080/Demo/login\r\n```\r\nI need the error message to be displayed as below instead of a webpage\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-07-06T06:08:30.894+00:00&quot;,\r\n    &quot;status&quot;: 415,\r\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n    &quot;path&quot;: &quot;/test/ghsahgs/submitinfo&quot;\r\n}\r\n```\r\n\r\nThis was working in the Spring version 1.5.21 but has stopped working in the new Spring version. Also, it works, if I comment out the `configure(final HttpSecurity http)` method in the `WebSecurityConfig` class. Any body knows how to fix this?","title":"Migrating from Spring Boot 1.5.21 to 2.7.1","body":"<p>I am migrating my application from Spring Boot 1.5.21 to 2.7.1. and Java from 8 to 17.</p>\n<p>I am facing issues with displaying error message from controller.\nExisting Spring Boot controller does not accept any media type apart from <code>application/json</code>. It is supposed to throw a 415 unsupported media type exception for all input other than JSON.</p>\n<p>The request looks this: <code>http://localhost:8080/test/ghsahgs/submitinfo</code>. I am passing a body which is not JSON and expect this controller to throw an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(path = &quot;/test&quot;)\npublic class SubmissionController {\n    @PostMapping(value = &quot;/{name}/submitinfo&quot;,\n            consumes = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity submit(@PathVariable(&quot;name&quot;) final String name, @RequestBody final String data) {\n</code></pre>\n<p>This works as expected and throws 415 error but what happens is that instead of getting this massage in Postman, I get HTML login page. This is because of <code>WebSecurityConfig</code> which looks like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, proxyTargetClass = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http\n            .csrf().disable();\n        http\n            .authorizeRequests()\n                .antMatchers(&quot;/Demo/**&quot;).permitAll()\n                .anyRequest().fullyAuthenticated()\n                .and()\n            .formLogin()\n                .loginPage(&quot;/Demo/login&quot;)\n                .usernameParameter(USERNAME)\n                .passwordParameter(PASSWORD)\n                .successHandler(authSuccessHandler)\n                .failureHandler(authFailureHandler)\n                .permitAll()\n                .and()\n            .logout()\n                .logoutUrl(&quot;/Demo/logout&quot;)\n                .invalidateHttpSession(true)\n                .deleteCookies(JSESSIONID)\n                .logoutSuccessHandler(logoutSuccessHandler)\n                .and()\n            .exceptionHandling()\n                .accessDeniedPage(ACCESS_DENIED);\n}\n    @Override\n    public void configure(final WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/test/**&quot;);\n    }\n}\n</code></pre>\n<p>Seems like controller throws the exception but <code>webSecurityConfig</code> does not know how to handle it?</p>\n<p>StackTrace:</p>\n<pre><code>2022-07-06 05:53:40 36119 [http-nio-8080-exec-5] DEBUG o.s.w.s.DispatcherServlet correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Completed 415 UNSUPPORTED_MEDIA_TYPE\n2022-07-06 05:53:40 36121 [http-nio-8080-exec-5] DEBUG o.s.s.web.FilterChainProxy correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Securing POST /error\n2022-07-06 05:53:40 36122 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Set SecurityContextHolder to empty SecurityContext\n2022-07-06 05:53:40 36123 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Set SecurityContextHolder to anonymous SecurityContext\n2022-07-06 05:53:40 36127 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Failed to authorize filter invocation [POST /error] with attributes [fullyAuthenticated]\n2022-07-06 05:53:40 36129 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Saved request http://localhost:8080/error to session\n2022-07-06 05:53:40 36129 [http-nio-8080-exec-5] DEBUG o.s.s.w.DefaultRedirectStrategy correlationId= sessionid=E0DC60ECB2E5D0A87E6E8A25131279DD  - Redirecting to http://localhost:8080/Demo/login\n</code></pre>\n<p>I need the error message to be displayed as below instead of a webpage</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2022-07-06T06:08:30.894+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;path&quot;: &quot;/test/ghsahgs/submitinfo&quot;\n}\n</code></pre>\n<p>This was working in the Spring version 1.5.21 but has stopped working in the new Spring version. Also, it works, if I comment out the <code>configure(final HttpSecurity http)</code> method in the <code>WebSecurityConfig</code> class. Any body knows how to fix this?</p>\n"},{"tags":["java","concurrency","visibility"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657088147,"post_id":72877673,"comment_id":128722959,"body_markdown":"What is your definition of a visibility _problem_? `private` basically means visible from.the same source file only. Or are you talking about visibility from multiple threads?","body":"What is your definition of a visibility <i>problem</i>? <code>private</code> basically means visible from.the same source file only. Or are you talking about visibility from multiple threads?"},{"owner":{"account_id":25736823,"reputation":3,"user_id":19491409,"display_name":"TiaJiang"},"score":0,"creation_date":1657088517,"post_id":72877673,"comment_id":128723060,"body_markdown":"Sorry for the confusion. When multiple threads call method handle(), is the variable redisTemplate the initialized value, or is it null due to visibility problems?","body":"Sorry for the confusion. When multiple threads call method handle(), is the variable redisTemplate the initialized value, or is it null due to visibility problems?"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657102322,"creation_date":1657089430,"answer_id":72878883,"question_id":72877673,"body_markdown":"### A small problem with your code\r\n\r\nIf you just have that code, it is probably not thread-safe if your `redisTemplate` does not contain a `volatile` modifier. This is because other code accessing `redisTemplate` could still see the `redisTemplate` being `null` **if** they have not called `Initializer.init` before. Just adding `volatile` should fix it: \r\n\r\n```java\r\npublic class InnerStaticClassExample {\r\n    private volatile static RedisTemplate&lt;String, Object&gt; redisTemplate;//This is volatile\r\n\r\n    private static class Initializer {\r\n        static {\r\n            redisTemplate = new RedisTemplate&lt;&gt;();\r\n        }\r\n\r\n        private static void init(){\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Multithread concurrent call\r\n     */\r\n    public static void handle(String key, long time, TimeUnit timeUnit) {\r\n        Initializer.init();\r\n        redisTemplate.expire(key, time, timeUnit);\r\n    }\r\n}\r\n```\r\n\r\n### Your code is still risky\r\n\r\n`static` blocks are thread safe but what you are doing is a bit risky.\r\n\r\nNormally, one would have the variable to initialize (`redisTemplate`) in the nested class and make it `private static final`. As class initialization is thread safe, this pattern would not result in unexpected behaviour.\r\n\r\nIn your case, you cannot make the variable `final` so other methods would be able to change it. You need to make sure that this is not done anywhere (except the `static` block of the nested class) because the compiler doesn&#39;t ensure that. Also make sure this is not changed in the future (neither by you nor by others).\r\n\r\nThere is a similar situation for the `init` method. While the `static` block is thread-safe, the `init` method is not. If you or somebody else puts code there (now or in the future), it will not be synchronized in any way and potentially accessed by multiple threads. It should not access unguarded state (Ideally, it should stay empty). You should not initialize the variable to initialize in `init`.\r\n\r\n\r\nAside from this, the variable to initialize will be `null` until you call `init` for the first time. You need to make sure to call `init` before any access to the variable to initialize. If you forget that, you might get unexpected errors that are not caught immediately.\r\n\r\nTo sum up, your way of initializing `redisTemplate` is thread-safe but that thread-safety can easily be undermined by other code.\r\n\r\n### Just use the standard approach\r\n\r\nPersonally, I would recommend having the variable to initialize in the nested class. This has been proved to be thread-safe, simple and performant. If you want to access `redisTemplate` without explicitly mentioning the nested class everywhere, you can add a getter.\r\n\r\n```java\r\npublic class InnerStaticClassExample {\r\n    private static class Initializer {\r\n        private static final RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n        static {\r\n            redisTemplate = new RedisTemplate&lt;&gt;();\r\n            //or initialize it directly \r\n        }\r\n    }\r\n\r\n    private static RedisTemplate&lt;String, Object&gt; getRedisTemplate(){\r\n        //optional getter\r\n        return Initializer.redisTemplate;\r\n    }\r\n\r\n    /**\r\n     * Multithread concurrent call\r\n     */\r\n    public static void handle(String key, long time, TimeUnit timeUnit) {\r\n        //with getter\r\n        getRedisTemplate().expire(key, time, timeUnit);\r\n        //without getter\r\n        //Initializer.redisTemplate.expire(key, time, timeUnit);\r\n    }\r\n}\r\n```","title":"Is there a visibility problem with this initialization method?","body":"<h3>A small problem with your code</h3>\n<p>If you just have that code, it is probably not thread-safe if your <code>redisTemplate</code> does not contain a <code>volatile</code> modifier. This is because other code accessing <code>redisTemplate</code> could still see the <code>redisTemplate</code> being <code>null</code> <strong>if</strong> they have not called <code>Initializer.init</code> before. Just adding <code>volatile</code> should fix it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InnerStaticClassExample {\n    private volatile static RedisTemplate&lt;String, Object&gt; redisTemplate;//This is volatile\n\n    private static class Initializer {\n        static {\n            redisTemplate = new RedisTemplate&lt;&gt;();\n        }\n\n        private static void init(){\n        }\n    }\n\n    /**\n     * Multithread concurrent call\n     */\n    public static void handle(String key, long time, TimeUnit timeUnit) {\n        Initializer.init();\n        redisTemplate.expire(key, time, timeUnit);\n    }\n}\n</code></pre>\n<h3>Your code is still risky</h3>\n<p><code>static</code> blocks are thread safe but what you are doing is a bit risky.</p>\n<p>Normally, one would have the variable to initialize (<code>redisTemplate</code>) in the nested class and make it <code>private static final</code>. As class initialization is thread safe, this pattern would not result in unexpected behaviour.</p>\n<p>In your case, you cannot make the variable <code>final</code> so other methods would be able to change it. You need to make sure that this is not done anywhere (except the <code>static</code> block of the nested class) because the compiler doesn't ensure that. Also make sure this is not changed in the future (neither by you nor by others).</p>\n<p>There is a similar situation for the <code>init</code> method. While the <code>static</code> block is thread-safe, the <code>init</code> method is not. If you or somebody else puts code there (now or in the future), it will not be synchronized in any way and potentially accessed by multiple threads. It should not access unguarded state (Ideally, it should stay empty). You should not initialize the variable to initialize in <code>init</code>.</p>\n<p>Aside from this, the variable to initialize will be <code>null</code> until you call <code>init</code> for the first time. You need to make sure to call <code>init</code> before any access to the variable to initialize. If you forget that, you might get unexpected errors that are not caught immediately.</p>\n<p>To sum up, your way of initializing <code>redisTemplate</code> is thread-safe but that thread-safety can easily be undermined by other code.</p>\n<h3>Just use the standard approach</h3>\n<p>Personally, I would recommend having the variable to initialize in the nested class. This has been proved to be thread-safe, simple and performant. If you want to access <code>redisTemplate</code> without explicitly mentioning the nested class everywhere, you can add a getter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class InnerStaticClassExample {\n    private static class Initializer {\n        private static final RedisTemplate&lt;String, Object&gt; redisTemplate;\n        static {\n            redisTemplate = new RedisTemplate&lt;&gt;();\n            //or initialize it directly \n        }\n    }\n\n    private static RedisTemplate&lt;String, Object&gt; getRedisTemplate(){\n        //optional getter\n        return Initializer.redisTemplate;\n    }\n\n    /**\n     * Multithread concurrent call\n     */\n    public static void handle(String key, long time, TimeUnit timeUnit) {\n        //with getter\n        getRedisTemplate().expire(key, time, timeUnit);\n        //without getter\n        //Initializer.redisTemplate.expire(key, time, timeUnit);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25736823,"reputation":3,"user_id":19491409,"display_name":"TiaJiang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72878883,"answer_count":1,"score":0,"last_activity_date":1657102322,"creation_date":1657078439,"question_id":72877673,"body_markdown":"Visibility problem: When multiple threads call method handle(), is the variable redisTemplate the initialized value, or is it null in some cases? \r\nExample here: \r\n```\r\npublic class InnerStaticClassExample {\r\n    private static RedisTemplate&lt;String, Object&gt; redisTemplate;\r\n\r\n    private static class Initializer {\r\n        static {\r\n            redisTemplate = new RedisTemplate&lt;&gt;();\r\n        }\r\n\r\n        private static void init(){\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Multithread concurrent call\r\n     */\r\n    public static void handle(String key, long time, TimeUnit timeUnit) {\r\n        Initializer.init();\r\n        redisTemplate.expire(key, time, timeUnit);\r\n    }\r\n}\r\n```","title":"Is there a visibility problem with this initialization method?","body":"<p>Visibility problem: When multiple threads call method handle(), is the variable redisTemplate the initialized value, or is it null in some cases?\nExample here:</p>\n<pre><code>public class InnerStaticClassExample {\n    private static RedisTemplate&lt;String, Object&gt; redisTemplate;\n\n    private static class Initializer {\n        static {\n            redisTemplate = new RedisTemplate&lt;&gt;();\n        }\n\n        private static void init(){\n        }\n    }\n\n    /**\n     * Multithread concurrent call\n     */\n    public static void handle(String key, long time, TimeUnit timeUnit) {\n        Initializer.init();\n        redisTemplate.expire(key, time, timeUnit);\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","jenkins"],"answers":[{"tags":[],"owner":{"account_id":4872208,"reputation":1786,"user_id":3928295,"accept_rate":80,"display_name":"Manmohan_singh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1511273298,"creation_date":1511273298,"answer_id":47415097,"question_id":47414929,"body_markdown":"Seems like a JAVA issue. Just make sure you are using Java 8 on you MAC. Currently Jenkins does not support Java 9. ","title":"Jenkins configuration Error in running the jar file","body":"<p>Seems like a JAVA issue. Just make sure you are using Java 8 on you MAC. Currently Jenkins does not support Java 9. </p>\n"},{"tags":[],"owner":{"account_id":5392968,"reputation":1,"user_id":4294931,"display_name":"aldir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517235727,"creation_date":1517235315,"answer_id":48503302,"question_id":47414929,"body_markdown":"Temporary solution:\r\n\r\n 1.Change Java version to 8. Maybe you need also change javac version to 8, but I&#39;m not absolutely sure:\r\n\r\n    sudo update-alternatives --config java\r\n    sudo update-alternatives --config javac\r\n\r\n2.Go to **Jenkins-&gt;Manage Jenkins-&gt;Global Tool Configuration-&gt;JDK**, remove JDK 8 installation and add new one for JDK 9. Check JAVA_HOME in your system:\r\n\r\n    echo $JAVA_HOME\r\n\r\nYou will open &quot;Global Tool Configuration&quot; only if JAVA_HOME point to the Java 8.\r\n\r\n3.Save configuration.\r\n\r\n4.Go to the terminal and upgrade Java/Javac version to 9 again (see №1).\r\n\r\nConfigure Global Security, Configure Credentials, Global Tool Configuration now works with Java 9.\r\n\r\nHere is such a workaround, hopefully help!\r\n\r\n\r\n","title":"Jenkins configuration Error in running the jar file","body":"<p>Temporary solution:</p>\n\n<p>1.Change Java version to 8. Maybe you need also change javac version to 8, but I'm not absolutely sure:</p>\n\n<pre><code>sudo update-alternatives --config java\nsudo update-alternatives --config javac\n</code></pre>\n\n<p>2.Go to <strong>Jenkins->Manage Jenkins->Global Tool Configuration->JDK</strong>, remove JDK 8 installation and add new one for JDK 9. Check JAVA_HOME in your system:</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n\n<p>You will open \"Global Tool Configuration\" only if JAVA_HOME point to the Java 8.</p>\n\n<p>3.Save configuration.</p>\n\n<p>4.Go to the terminal and upgrade Java/Javac version to 9 again (see №1).</p>\n\n<p>Configure Global Security, Configure Credentials, Global Tool Configuration now works with Java 9.</p>\n\n<p>Here is such a workaround, hopefully help!</p>\n"},{"tags":[],"owner":{"account_id":14162916,"reputation":1,"user_id":10236021,"display_name":"Satheesh kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657102030,"creation_date":1657102030,"answer_id":72881586,"question_id":47414929,"body_markdown":"changing the JAVA version to jdk1.8.0_11 fixed the issue","title":"Jenkins configuration Error in running the jar file","body":"<p>changing the JAVA version to jdk1.8.0_11 fixed the issue</p>\n"}],"owner":{"account_id":10160426,"reputation":300,"user_id":7504076,"accept_rate":36,"display_name":"ShdwKnght333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47415097,"answer_count":3,"score":2,"last_activity_date":1657102030,"creation_date":1511272788,"question_id":47414929,"body_markdown":"I&#39;m trying to setup Jenkins on my Mac. I&#39;ve downloaded the package file from their website and have successfully installed it. I also installed the necessary plugins and created my first admin user. \r\n\r\nWhen I now go over to Manage Jenkins and try any of the following: \r\n\r\n - Configure Global Security\r\n - Configure Credentials\r\n - Global Tool Configuration\r\n \r\nI get the following error:\r\n\r\n**Stack trace**\r\n\r\n    java.lang.AssertionError: InstanceIdentity is missing its singleton\r\n    \tat\r\n    org.jenkinsci.main.modules.instance_identity.InstanceIdentity.get(InstanceIdentity.java:133)\r\n    \tat org.jenkinsci.main.modules.instance_identity.InstanceIdentityRSAProvider.getKeyPair(InstanceIdentityRSAProvider.java:23)\r\n    \tat jenkins.model.identity.InstanceIdentityProvider$KeyTypes.get(InstanceIdentityProvider.java:157)\r\n    \tat jenkins.model.identity.InstanceIdentityProvider$KeyTypes.getKeyPair(InstanceIdentityProvider.java:206)\r\n    \tat jenkins.model.identity.IdentityRootAction.getUrlName(IdentityRootAction.java:42)\r\n    \tat jenkins.model.Jenkins.getDynamic(Jenkins.java:3642)\r\n    \tat java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:638)\r\n    \tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:343)\r\n    \tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:184)\r\n    \tat org.kohsuke.stapler.MetaClass$10.dispatch(MetaClass.java:372)\r\n    \tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:715)\r\n    Caused: javax.servlet.ServletException\r\n    \tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:765)\r\n    \tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:845)\r\n    \tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:649)\r\n    \tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\r\n    \tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:135)\r\n    \tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:138)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:86)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\r\n    \tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:117)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:92)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\r\n    \tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\r\n    \tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\r\n    \tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\r\n    \tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    \tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:190)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)\r\n    \tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:166)\r\n    \tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)\r\n    \tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    \tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n    \tat org.eclipse.jetty.server.Server.handle(Server.java:564)\r\n    \tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)\r\n    \tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\r\n    \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)\r\n    \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)\r\n    \tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\r\n    \tat org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\r\n    \tat org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\r\n    \tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:199)\r\n    \tat winstone.BoundedExecutorService$1.run(BoundedExecutorService.java:77)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n\r\nSorry for the entire stack trace but all I could make from it was that there is some error with jetty or InstanceIndentity or something to do with Servelets.\r\n\r\nAny idea what I might have done wrong in the installation process.","title":"Jenkins configuration Error in running the jar file","body":"<p>I'm trying to setup Jenkins on my Mac. I've downloaded the package file from their website and have successfully installed it. I also installed the necessary plugins and created my first admin user. </p>\n\n<p>When I now go over to Manage Jenkins and try any of the following: </p>\n\n<ul>\n<li>Configure Global Security</li>\n<li>Configure Credentials</li>\n<li>Global Tool Configuration</li>\n</ul>\n\n<p>I get the following error:</p>\n\n<p><strong>Stack trace</strong></p>\n\n<pre><code>java.lang.AssertionError: InstanceIdentity is missing its singleton\n    at\norg.jenkinsci.main.modules.instance_identity.InstanceIdentity.get(InstanceIdentity.java:133)\n    at org.jenkinsci.main.modules.instance_identity.InstanceIdentityRSAProvider.getKeyPair(InstanceIdentityRSAProvider.java:23)\n    at jenkins.model.identity.InstanceIdentityProvider$KeyTypes.get(InstanceIdentityProvider.java:157)\n    at jenkins.model.identity.InstanceIdentityProvider$KeyTypes.getKeyPair(InstanceIdentityProvider.java:206)\n    at jenkins.model.identity.IdentityRootAction.getUrlName(IdentityRootAction.java:42)\n    at jenkins.model.Jenkins.getDynamic(Jenkins.java:3642)\n    at java.base/java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:638)\n    at org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:343)\n    at org.kohsuke.stapler.Function.bindAndInvoke(Function.java:184)\n    at org.kohsuke.stapler.MetaClass$10.dispatch(MetaClass.java:372)\n    at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:715)\nCaused: javax.servlet.ServletException\n    at org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:765)\n    at org.kohsuke.stapler.Stapler.invoke(Stapler.java:845)\n    at org.kohsuke.stapler.Stapler.invoke(Stapler.java:649)\n    at org.kohsuke.stapler.Stapler.service(Stapler.java:238)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:841)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\n    at hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:135)\n    at hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:138)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:86)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\n    at hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:117)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:92)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\n    at hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\n    at hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\n    at hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\n    at hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:524)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:190)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:166)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n    at org.eclipse.jetty.server.Server.handle(Server.java:564)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n    at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\n    at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:199)\n    at winstone.BoundedExecutorService$1.run(BoundedExecutorService.java:77)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.base/java.lang.Thread.run(Thread.java:844)\n</code></pre>\n\n<p>Sorry for the entire stack trace but all I could make from it was that there is some error with jetty or InstanceIndentity or something to do with Servelets.</p>\n\n<p>Any idea what I might have done wrong in the installation process.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657101760,"creation_date":1657101425,"question_id":72881454,"body_markdown":"I&#39;m using spark in java and I want to store java objects in spark dataframe. I&#39;ve searched many blogs and links but couldn&#39;t find a way to do this. Let&#39;s say my object class is - \r\n```\r\nclass Temporary{\r\n    Integer id;\r\n    String name;\r\n    String another;\r\n\r\n    public Temporary(Integer id, String name, String another){\r\n        this.id = id;\r\n        this.name = name;\r\n        this.another = another;\r\n    }\r\n}\r\n```\r\n\r\nI have a dataframe df and I want to store an object of this Temporary class in a column. Assume I am adding a column `Temporary` of array type that will have objects of Temporary class. I want to do something like-\r\n\r\n```\r\ndf = df.withColumn(&quot;Temporary&quot;, functions.array(\r\n                               functions.expr(&quot;CASE WHEN something_is_true THEN Temporary(1,&quot;john&quot;,&quot;tempstring&quot;) ELSE empty_object END&quot;),\r\n                               functions.expr(&quot;CASE WHEN something_else_is_true THEN Temporary(2,&quot;johny&quot;,&quot;tempstring&quot;) ELSE empty_object END&quot;)\r\n                              ));\r\n\r\n// expected result would be \r\n\r\n+------------------------------------------+\r\n|                Temprorary                |\r\n+------------------------------------------+\r\n|  [Temproary_class_object, empty_object]  |\r\n+------------------------------------------+\r\n\r\n```\r\n\r\nI know this will not work because expr only accepts a SQL string and not objects. Any way to do this? Any help would be appreciated.","title":"Spark java - How to store java object in spark dataframe?","body":"<p>I'm using spark in java and I want to store java objects in spark dataframe. I've searched many blogs and links but couldn't find a way to do this. Let's say my object class is -</p>\n<pre><code>class Temporary{\n    Integer id;\n    String name;\n    String another;\n\n    public Temporary(Integer id, String name, String another){\n        this.id = id;\n        this.name = name;\n        this.another = another;\n    }\n}\n</code></pre>\n<p>I have a dataframe df and I want to store an object of this Temporary class in a column. Assume I am adding a column <code>Temporary</code> of array type that will have objects of Temporary class. I want to do something like-</p>\n<pre><code>df = df.withColumn(&quot;Temporary&quot;, functions.array(\n                               functions.expr(&quot;CASE WHEN something_is_true THEN Temporary(1,&quot;john&quot;,&quot;tempstring&quot;) ELSE empty_object END&quot;),\n                               functions.expr(&quot;CASE WHEN something_else_is_true THEN Temporary(2,&quot;johny&quot;,&quot;tempstring&quot;) ELSE empty_object END&quot;)\n                              ));\n\n// expected result would be \n\n+------------------------------------------+\n|                Temprorary                |\n+------------------------------------------+\n|  [Temproary_class_object, empty_object]  |\n+------------------------------------------+\n\n</code></pre>\n<p>I know this will not work because expr only accepts a SQL string and not objects. Any way to do this? Any help would be appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebaseui"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656603923,"creation_date":1656603923,"answer_id":72818610,"question_id":72813151,"body_markdown":"When deserializing the JSON from the database into a Java object, the FirebaseUI adapter takes the direct child nodes of the path that you load data from and tries to load the Java class that you told it to from that. \r\n\r\nSo in your code, it tries to populate the properties/fields of the `retailer_model_datewise_detailsdisp` objects from the data at `/Retailer/$username/r_history/$datenew/Items`. Under that path it finds a single key `0`, so it tries to create a `retailer_model_datewise_detailsdisp` from that. Then it finds a single property `Khara Mixture`, so it looks for a field with that name on the `retailer_model_datewise_detailsdisp` object, and doesn&#39;t find it.\r\n\r\nI recommend removing the `Khara Mixture` level from your JSON structure, as you already have that value in the `name` property too. Once you update the data model to have the `name`, `date`, and other properties directly under `0`, the adapter will be able to load the object from it.","title":"How to display child values of Firebase Database in RecyclerView for this case?","body":"<p>When deserializing the JSON from the database into a Java object, the FirebaseUI adapter takes the direct child nodes of the path that you load data from and tries to load the Java class that you told it to from that.</p>\n<p>So in your code, it tries to populate the properties/fields of the <code>retailer_model_datewise_detailsdisp</code> objects from the data at <code>/Retailer/$username/r_history/$datenew/Items</code>. Under that path it finds a single key <code>0</code>, so it tries to create a <code>retailer_model_datewise_detailsdisp</code> from that. Then it finds a single property <code>Khara Mixture</code>, so it looks for a field with that name on the <code>retailer_model_datewise_detailsdisp</code> object, and doesn't find it.</p>\n<p>I recommend removing the <code>Khara Mixture</code> level from your JSON structure, as you already have that value in the <code>name</code> property too. Once you update the data model to have the <code>name</code>, <code>date</code>, and other properties directly under <code>0</code>, the adapter will be able to load the object from it.</p>\n"}],"owner":{"account_id":25462318,"reputation":11,"user_id":19261871,"display_name":"Akash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657101678,"creation_date":1656580233,"question_id":72813151,"body_markdown":"This is the Firebase Database structure, where we are trying to access child values from Retailer&gt;Amritha Stores&gt;r_history&gt;30-06-2022&gt;items&gt;0&gt;Khara Mixture.\r\n\r\n![ ][1]\r\n\r\nThis is the screenshot of the application&#39;s recycler view where we want to display data from Retailer&gt;Amritha Stores&gt;r_history&gt;30-06-2022&gt;items&gt;0&gt;Khara Mixture&gt;, but it&#39;s displaying null.\r\n\r\n![screenshot][2]\r\n\r\n\r\n[Just to give clarity to our intention in the data model][3]\r\n\r\n\r\nThis is the part of our Fragment.java where we populate RecyclerView.\r\n  \r\n\r\n    FirebaseRecyclerOptions&lt;retailer_model_datewise_detailsdisp&gt; options =\r\n            new FirebaseRecyclerOptions.Builder&lt;retailer_model_datewise_detailsdisp&gt;()\r\n                    .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Retailer&quot;).child(username).child(&quot;r_history&quot;).child(datenew).child(&quot;Items&quot;),retailer_model_datewise_detailsdisp.class)\r\n                    .build();\r\n\r\n    adapter=new adapter_retailerside_datewise_dispoforder(options);\r\n    adapter.startListening();\r\n\r\n    recyclerView.setAdapter(adapter);\r\n    \r\nAdapterClass (adapter_retailerside_datewise_dispoforder):\r\n    \r\n    public class adapter_retailerside_datewise_dispoforder extends FirebaseRecyclerAdapter&lt;retailer_model_datewise_detailsdisp,adapter_retailerside_datewise_dispoforder.myviewholder&gt; {\r\n    \r\n        public adapter_retailerside_datewise_dispoforder(@NonNull FirebaseRecyclerOptions&lt;retailer_model_datewise_detailsdisp&gt; options) {\r\n            super(options);\r\n        }\r\n    \r\n        @Override\r\n        protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull retailer_model_datewise_detailsdisp model) {\r\n    \r\n          holder.name.setText(&quot;Name: &quot;+model.getName());\r\n          holder.price.setText(&quot;Price: &quot;+model.getPrice());\r\n          holder.quan.setText(&quot;Quan: &quot;+model.getQuan());\r\n          holder.weight.setText(&quot;Weight: &quot;+model.getWeight());\r\n          holder.totprice.setText(model.getTotal());\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n    \r\n            View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerow_design_retailerside_datewise_detailsdisp,parent,false);\r\n            return new myviewholder(view);\r\n        }\r\n    \r\n        public class myviewholder extends RecyclerView.ViewHolder {\r\n            TextView name,price,quan,weight,totprice;\r\n    \r\n            public myviewholder(@NonNull View itemView) {\r\n                super(itemView);\r\n                name=itemView.findViewById(R.id.datewisename);\r\n                price=itemView.findViewById(R.id.datewiseprice);\r\n                quan=itemView.findViewById(R.id.datewisequan);\r\n                weight=itemView.findViewById(R.id.datewiseweight);\r\n                totprice=itemView.findViewById(R.id.totalpricehere);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nModel Class (retailer_model_datewise_detailsdisp):\r\n\r\n    public class retailer_model_datewise_detailsdisp {\r\n        String name,price,quan,weight,total;\r\n    \r\n        public retailer_model_datewise_detailsdisp() {\r\n        }\r\n    \r\n        public retailer_model_datewise_detailsdisp(String name, String price, String quan, String weight,String total) {\r\n            this.name = name;\r\n            this.price = price;\r\n            this.quan = quan;\r\n            this.weight = weight;\r\n            this.total=total;\r\n        }\r\n    \r\n        public String getTotal() {\r\n            return total;\r\n        }\r\n    \r\n        public void setTotal(String total) {\r\n            this.total = total;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(String price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public String getQuan() {\r\n            return quan;\r\n        }\r\n    \r\n        public void setQuan(String quan) {\r\n            this.quan = quan;\r\n        }\r\n    \r\n        public String getWeight() {\r\n            return weight;\r\n        }\r\n    \r\n        public void setWeight(String weight) {\r\n            this.weight = weight;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FHqaB.png\r\n  [2]: https://i.stack.imgur.com/MdxPH.png\r\n  [3]: https://i.stack.imgur.com/NcHh3.png","title":"How to display child values of Firebase Database in RecyclerView for this case?","body":"<p>This is the Firebase Database structure, where we are trying to access child values from Retailer&gt;Amritha Stores&gt;r_history&gt;30-06-2022&gt;items&gt;0&gt;Khara Mixture.</p>\n<p><img src=\"https://i.stack.imgur.com/FHqaB.png\" alt=\" \" /></p>\n<p>This is the screenshot of the application's recycler view where we want to display data from Retailer&gt;Amritha Stores&gt;r_history&gt;30-06-2022&gt;items&gt;0&gt;Khara Mixture&gt;, but it's displaying null.</p>\n<p><img src=\"https://i.stack.imgur.com/MdxPH.png\" alt=\"screenshot\" /></p>\n<p><a href=\"https://i.stack.imgur.com/NcHh3.png\" rel=\"nofollow noreferrer\">Just to give clarity to our intention in the data model</a></p>\n<p>This is the part of our Fragment.java where we populate RecyclerView.</p>\n<pre><code>FirebaseRecyclerOptions&lt;retailer_model_datewise_detailsdisp&gt; options =\n        new FirebaseRecyclerOptions.Builder&lt;retailer_model_datewise_detailsdisp&gt;()\n                .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Retailer&quot;).child(username).child(&quot;r_history&quot;).child(datenew).child(&quot;Items&quot;),retailer_model_datewise_detailsdisp.class)\n                .build();\n\nadapter=new adapter_retailerside_datewise_dispoforder(options);\nadapter.startListening();\n\nrecyclerView.setAdapter(adapter);\n</code></pre>\n<p>AdapterClass (adapter_retailerside_datewise_dispoforder):</p>\n<pre><code>public class adapter_retailerside_datewise_dispoforder extends FirebaseRecyclerAdapter&lt;retailer_model_datewise_detailsdisp,adapter_retailerside_datewise_dispoforder.myviewholder&gt; {\n\n    public adapter_retailerside_datewise_dispoforder(@NonNull FirebaseRecyclerOptions&lt;retailer_model_datewise_detailsdisp&gt; options) {\n        super(options);\n    }\n\n    @Override\n    protected void onBindViewHolder(@NonNull myviewholder holder, int position, @NonNull retailer_model_datewise_detailsdisp model) {\n\n      holder.name.setText(&quot;Name: &quot;+model.getName());\n      holder.price.setText(&quot;Price: &quot;+model.getPrice());\n      holder.quan.setText(&quot;Quan: &quot;+model.getQuan());\n      holder.weight.setText(&quot;Weight: &quot;+model.getWeight());\n      holder.totprice.setText(model.getTotal());\n\n    }\n\n    @NonNull\n    @Override\n    public myviewholder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view= LayoutInflater.from(parent.getContext()).inflate(R.layout.singlerow_design_retailerside_datewise_detailsdisp,parent,false);\n        return new myviewholder(view);\n    }\n\n    public class myviewholder extends RecyclerView.ViewHolder {\n        TextView name,price,quan,weight,totprice;\n\n        public myviewholder(@NonNull View itemView) {\n            super(itemView);\n            name=itemView.findViewById(R.id.datewisename);\n            price=itemView.findViewById(R.id.datewiseprice);\n            quan=itemView.findViewById(R.id.datewisequan);\n            weight=itemView.findViewById(R.id.datewiseweight);\n            totprice=itemView.findViewById(R.id.totalpricehere);\n\n        }\n    }\n}\n</code></pre>\n<p>Model Class (retailer_model_datewise_detailsdisp):</p>\n<pre><code>public class retailer_model_datewise_detailsdisp {\n    String name,price,quan,weight,total;\n\n    public retailer_model_datewise_detailsdisp() {\n    }\n\n    public retailer_model_datewise_detailsdisp(String name, String price, String quan, String weight,String total) {\n        this.name = name;\n        this.price = price;\n        this.quan = quan;\n        this.weight = weight;\n        this.total=total;\n    }\n\n    public String getTotal() {\n        return total;\n    }\n\n    public void setTotal(String total) {\n        this.total = total;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public void setPrice(String price) {\n        this.price = price;\n    }\n\n    public String getQuan() {\n        return quan;\n    }\n\n    public void setQuan(String quan) {\n        this.quan = quan;\n    }\n\n    public String getWeight() {\n        return weight;\n    }\n\n    public void setWeight(String weight) {\n        this.weight = weight;\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","collections","stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1657098430,"post_id":72880614,"comment_id":128726360,"body_markdown":"In your example, each item in each list has a corresponding element in the other list with the same id. What if there is no matching element for a particular element in the other list? Let&#39;s say there is an extra `LastNameModel(&quot;abcdef&quot;, &quot;Jones&quot;)` and `FirstNameModel(&quot;ghijkl&quot;, &quot;Claire&quot;)`. How will that affect the output map?","body":"In your example, each item in each list has a corresponding element in the other list with the same id. What if there is no matching element for a particular element in the other list? Let&#39;s say there is an extra <code>LastNameModel(&quot;abcdef&quot;, &quot;Jones&quot;)</code> and <code>FirstNameModel(&quot;ghijkl&quot;, &quot;Claire&quot;)</code>. How will that affect the output map?"}],"answers":[{"tags":[],"owner":{"account_id":23110408,"reputation":6937,"user_id":17218429,"display_name":"lukas.j"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657101386,"creation_date":1657098834,"answer_id":72880810,"question_id":72880614,"body_markdown":"This would work including the cases mentioned in @Sweeper&#39;s (thanks!) comment below the question:\r\n\r\n    val map: Map&lt;FirstNameModel, LastNameModel&gt; = randomFirstNameList.map { it.idNumber }\r\n      .plus(randomLastNameList.map { it.idNumber })\r\n      .distinct()\r\n      .associate { idNumber -&gt;\r\n        (randomFirstNameList.firstOrNull { it.idNumber == idNumber } ?: FirstNameModel(idNumber, &quot;&quot;)) to\r\n        (randomLastNameList.firstOrNull { it.idNumber == idNumber } ?: LastNameModel(idNumber, &quot;&quot;))\r\n      }\r\n\r\nBut it probably would make sense to introduce a data class to hold the result:\r\n\r\n    data class NameModel(val idNumber: String, val firstName: String, val lastName: String)\r\n    \r\n    val map: List&lt;NameModel&gt; = randomFirstNameList.map { it.idNumber }\r\n      .plus(randomLastNameList.map { it.idNumber })\r\n      .distinct()\r\n      .map { idNumber -&gt;\r\n        NameModel(\r\n          idNumber,\r\n          randomFirstNameList.firstOrNull { it.idNumber == idNumber }?.firstName ?: &quot;&quot;,\r\n          randomLastNameList.firstOrNull { it.idNumber == idNumber }?.lastName ?: &quot;&quot;\r\n        )\r\n      }\r\n\r\nOutput (including one last name entry without corresponding first name entry):\r\n\r\n    NameModel(idNumber=5631ab, firstName=Bob, lastName=Johnson)\r\n    NameModel(idNumber=ca790a, firstName=George, lastName=Takai)\r\n    NameModel(idNumber=j8f1sa, firstName=Alice, lastName=Smith)\r\n    NameModel(idNumber=999999, firstName=, lastName=NoFirstName)\r\n\r\nAdditional remark:\r\n\r\nIf the two lists are very large, the repeated _firstOrNull_ calls could increase time consumption. In such a case it would make sense to create lookup maps for first and last names:\r\n\r\n    val firstNameMap = randomFirstNameList.associate { it.idNumber to it.firstName }\r\n    val lastNameMap = randomLastNameList.associate { it.idNumber to it.lastName }\r\n    \r\n    val map: List&lt;NameModel&gt; = randomFirstNameList.map { it.idNumber }\r\n      .plus(randomLastNameList.map { it.idNumber })\r\n      .distinct()\r\n      .map { idNumber -&gt;\r\n        NameModel(\r\n          idNumber,\r\n          firstNameMap.getOrElse(idNumber) { &quot;&quot; },\r\n          lastNameMap.getOrElse(idNumber) { &quot;&quot; }\r\n        )\r\n      }\r\n","title":"Stream two collections and collect a map based on common property","body":"<p>This would work including the cases mentioned in @Sweeper's (thanks!) comment below the question:</p>\n<pre><code>val map: Map&lt;FirstNameModel, LastNameModel&gt; = randomFirstNameList.map { it.idNumber }\n  .plus(randomLastNameList.map { it.idNumber })\n  .distinct()\n  .associate { idNumber -&gt;\n    (randomFirstNameList.firstOrNull { it.idNumber == idNumber } ?: FirstNameModel(idNumber, &quot;&quot;)) to\n    (randomLastNameList.firstOrNull { it.idNumber == idNumber } ?: LastNameModel(idNumber, &quot;&quot;))\n  }\n</code></pre>\n<p>But it probably would make sense to introduce a data class to hold the result:</p>\n<pre><code>data class NameModel(val idNumber: String, val firstName: String, val lastName: String)\n\nval map: List&lt;NameModel&gt; = randomFirstNameList.map { it.idNumber }\n  .plus(randomLastNameList.map { it.idNumber })\n  .distinct()\n  .map { idNumber -&gt;\n    NameModel(\n      idNumber,\n      randomFirstNameList.firstOrNull { it.idNumber == idNumber }?.firstName ?: &quot;&quot;,\n      randomLastNameList.firstOrNull { it.idNumber == idNumber }?.lastName ?: &quot;&quot;\n    )\n  }\n</code></pre>\n<p>Output (including one last name entry without corresponding first name entry):</p>\n<pre><code>NameModel(idNumber=5631ab, firstName=Bob, lastName=Johnson)\nNameModel(idNumber=ca790a, firstName=George, lastName=Takai)\nNameModel(idNumber=j8f1sa, firstName=Alice, lastName=Smith)\nNameModel(idNumber=999999, firstName=, lastName=NoFirstName)\n</code></pre>\n<p>Additional remark:</p>\n<p>If the two lists are very large, the repeated <em>firstOrNull</em> calls could increase time consumption. In such a case it would make sense to create lookup maps for first and last names:</p>\n<pre><code>val firstNameMap = randomFirstNameList.associate { it.idNumber to it.firstName }\nval lastNameMap = randomLastNameList.associate { it.idNumber to it.lastName }\n\nval map: List&lt;NameModel&gt; = randomFirstNameList.map { it.idNumber }\n  .plus(randomLastNameList.map { it.idNumber })\n  .distinct()\n  .map { idNumber -&gt;\n    NameModel(\n      idNumber,\n      firstNameMap.getOrElse(idNumber) { &quot;&quot; },\n      lastNameMap.getOrElse(idNumber) { &quot;&quot; }\n    )\n  }\n</code></pre>\n"}],"owner":{"account_id":10319982,"reputation":317,"user_id":7613187,"display_name":"Bowerick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72880810,"answer_count":1,"score":0,"last_activity_date":1657101386,"creation_date":1657097964,"question_id":72880614,"body_markdown":"I have looked around a bit but have not found a elegant solution. What I am trying to do is have a nice streamlined (pun intended) solution to create a map from two collections who have 1 shared property (an id of sorts). The map should be key-value of the matching objects. How I have done it for now is a forEach on collection1 and within a foreEach on collection 2 to get the matching model and then do an operation on it. I would like to create the map and then separately just do the operation on every pair in the map. I have tried to come up with a simple example to make it a bit more clear.\r\n\r\n ```\r\ndata class FirstNameModel(val idNumber: String, val firstName: String)\r\ndata class LastNameModel(val idNumber: String, val lastName: String)\r\n\r\nval randomFirstNameList = listOf(\r\n    FirstNameModel(&quot;5631ab&quot;, &quot;Bob&quot;),\r\n    FirstNameModel(&quot;ca790a&quot;, &quot;George&quot;),\r\n    FirstNameModel(&quot;j8f1sa&quot;, &quot;Alice&quot;)\r\n)\r\n\r\nval randomLastNameList = listOf(\r\n    LastNameModel(&quot;j8f1sa&quot;, &quot;Smith&quot;),\r\n    LastNameModel(&quot;5631ab&quot;, &quot;Johnson&quot;),\r\n    LastNameModel(&quot;ca790a&quot;, &quot;Takai&quot;)\r\n)\r\n\r\n// stream function to correctly create map (not just a null one like below).\r\n\r\nval map: Map&lt;FirstNameModel, LastNameModel&gt;? = null\r\n\r\nfun printIt() {\r\n    map?.forEach {\r\n        println(&quot;Name for id ${it.key.idNumber} is ${it.key.firstName} ${it.value.lastName}&quot;)\r\n    }\r\n//    should print something like:\r\n//            Name for id 5631ab is Bob Johnson\r\n//            Name for id ca790a is George Takai\r\n//            Name for id j8f1sa is Alice Smith\r\n}\r\n\r\n```\r\n\r\nI have been trying this in Kotlin for now but its a usecase I sometimes also have in Java, so am curios for both.","title":"Stream two collections and collect a map based on common property","body":"<p>I have looked around a bit but have not found a elegant solution. What I am trying to do is have a nice streamlined (pun intended) solution to create a map from two collections who have 1 shared property (an id of sorts). The map should be key-value of the matching objects. How I have done it for now is a forEach on collection1 and within a foreEach on collection 2 to get the matching model and then do an operation on it. I would like to create the map and then separately just do the operation on every pair in the map. I have tried to come up with a simple example to make it a bit more clear.</p>\n<pre><code>data class FirstNameModel(val idNumber: String, val firstName: String)\ndata class LastNameModel(val idNumber: String, val lastName: String)\n\nval randomFirstNameList = listOf(\n   FirstNameModel(&quot;5631ab&quot;, &quot;Bob&quot;),\n   FirstNameModel(&quot;ca790a&quot;, &quot;George&quot;),\n   FirstNameModel(&quot;j8f1sa&quot;, &quot;Alice&quot;)\n)\n\nval randomLastNameList = listOf(\n   LastNameModel(&quot;j8f1sa&quot;, &quot;Smith&quot;),\n   LastNameModel(&quot;5631ab&quot;, &quot;Johnson&quot;),\n   LastNameModel(&quot;ca790a&quot;, &quot;Takai&quot;)\n)\n\n// stream function to correctly create map (not just a null one like below).\n\nval map: Map&lt;FirstNameModel, LastNameModel&gt;? = null\n\nfun printIt() {\n   map?.forEach {\n       println(&quot;Name for id ${it.key.idNumber} is ${it.key.firstName} ${it.value.lastName}&quot;)\n   }\n//    should print something like:\n//            Name for id 5631ab is Bob Johnson\n//            Name for id ca790a is George Takai\n//            Name for id j8f1sa is Alice Smith\n}\n\n</code></pre>\n<p>I have been trying this in Kotlin for now but its a usecase I sometimes also have in Java, so am curios for both.</p>\n"},{"tags":["java","encryption","coldfusion","coldfusion-8","diffie-hellman"],"answers":[{"tags":[],"owner":{"account_id":5714,"reputation":110760,"user_id":9360,"accept_rate":60,"display_name":"Peter Boughton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1283534428,"creation_date":1283534428,"answer_id":3638055,"question_id":3637995,"body_markdown":"The Diffie-Hellman algorithm is only supported by Enterprise edition.  \r\n*(this is documented in the page you linked to, but it&#39;s not entirely clear)*\r\n\r\nIf you only have Standard edition then you&#39;ll need to find an [existing Java implementation][1] you can use with `createObject(&#39;java&#39;,&#39;...&#39;)`, or maybe reimplement one with pure CFML.\r\n\r\nIf you do the latter, it would be great to share the code on [riaforge][2]/[github][3]/wherever, so other CFML users can benefit.\r\n\r\n\r\n  [1]: http://www.google.com/search?q=Diffie-Hellman%20java\r\n  [2]: http://riaforge.org/\r\n  [3]: http://github.com/","title":"ColdFusion 8 Diffie-Hellman Encryption","body":"<p>The Diffie-Hellman algorithm is only supported by Enterprise edition.<br>\n<em>(this is documented in the page you linked to, but it's not entirely clear)</em></p>\n\n<p>If you only have Standard edition then you'll need to find an <a href=\"http://www.google.com/search?q=Diffie-Hellman%20java\" rel=\"nofollow noreferrer\">existing Java implementation</a> you can use with <code>createObject('java','...')</code>, or maybe reimplement one with pure CFML.</p>\n\n<p>If you do the latter, it would be great to share the code on <a href=\"http://riaforge.org/\" rel=\"nofollow noreferrer\">riaforge</a>/<a href=\"http://github.com/\" rel=\"nofollow noreferrer\">github</a>/wherever, so other CFML users can benefit.</p>\n"}],"owner":{"account_id":138997,"reputation":76,"user_id":344293,"display_name":"Howie Ross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657101323,"creation_date":1283533921,"question_id":3637995,"body_markdown":"I am integrating with a 3rd party that requires I use the Diffie-Hellman encryption algorithm. The CF docs [indicate that this is a supported algorithm](http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=functions_e-g_01.html).\r\n\r\nWhen I attempt to call `Encrypt()` with either &quot;Diffie-Hellman&quot; or &quot;DH&quot; I get the error message: &quot;The Diffie-Hellman algorithm is not supported by the Security Provider you have chosen.&quot;\r\n\r\nIs it possible to configure CF to use a different Security Provider that would include DH? Or, Is it possible to use java objects directly to accomplish this?","title":"ColdFusion 8 Diffie-Hellman Encryption","body":"<p>I am integrating with a 3rd party that requires I use the Diffie-Hellman encryption algorithm. The CF docs <a href=\"http://livedocs.adobe.com/coldfusion/8/htmldocs/help.html?content=functions_e-g_01.html\" rel=\"nofollow noreferrer\">indicate that this is a supported algorithm</a>.</p>\n<p>When I attempt to call <code>Encrypt()</code> with either &quot;Diffie-Hellman&quot; or &quot;DH&quot; I get the error message: &quot;The Diffie-Hellman algorithm is not supported by the Security Provider you have chosen.&quot;</p>\n<p>Is it possible to configure CF to use a different Security Provider that would include DH? Or, Is it possible to use java objects directly to accomplish this?</p>\n"},{"tags":["java","schema","database-schema","auto-generate","telosys"],"answers":[{"tags":[],"owner":{"account_id":2360942,"reputation":2352,"user_id":2067631,"display_name":"lgu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657101069,"creation_date":1657101069,"answer_id":72881371,"question_id":72874881,"body_markdown":"If your database schema is the same for all entities you can just define a specific **project global variable** in the file &quot;**telosys-tools.cfg**&quot;.  \r\nSee : https://doc.telosys.org/configuration-and-variables  \r\nIn your case:  `ProjectVariable.DBSCHEMA  = yourschema`  \r\nYou can use it directly in the templates with `${DBSCHEMA}`: \r\n\r\nIf you have specific schema only for certain entities you can use the `@DbSchema(your-schema-name)` annotation (at entity level) in the &quot;.entity&quot; files  \r\nSee : https://doc.telosys.org/dsl-model/annotations#dbschema-string  \r\nAnnotations like `@DbSchema` and `@DbCatalog` are automatically used by `$jpa` object in the templates.  \r\n","title":"Change schema name for different environment in JPA annotation in Telosys generated code","body":"<p>If your database schema is the same for all entities you can just define a specific <strong>project global variable</strong> in the file &quot;<strong>telosys-tools.cfg</strong>&quot;.<br />\nSee : <a href=\"https://doc.telosys.org/configuration-and-variables\" rel=\"nofollow noreferrer\">https://doc.telosys.org/configuration-and-variables</a><br />\nIn your case:  <code>ProjectVariable.DBSCHEMA  = yourschema</code><br />\nYou can use it directly in the templates with <code>${DBSCHEMA}</code>:</p>\n<p>If you have specific schema only for certain entities you can use the <code>@DbSchema(your-schema-name)</code> annotation (at entity level) in the &quot;.entity&quot; files<br />\nSee : <a href=\"https://doc.telosys.org/dsl-model/annotations#dbschema-string\" rel=\"nofollow noreferrer\">https://doc.telosys.org/dsl-model/annotations#dbschema-string</a><br />\nAnnotations like <code>@DbSchema</code> and <code>@DbCatalog</code> are automatically used by <code>$jpa</code> object in the templates.</p>\n"}],"owner":{"account_id":903413,"reputation":446,"user_id":938909,"accept_rate":29,"display_name":"Sandiip Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657101069,"creation_date":1657050944,"question_id":72874881,"body_markdown":"I am generating my classes using spring jpa template in Telosys generator tool. It works as expected, however, my project has different database schemas for different environment which I can&#39;t handle. So my entity classes need to have respective schema name which will mean me connecting each database schema and generating environment specific classes.  \r\nI am trying to pass the schema name from gradle variable and use that in entity class\r\n\r\n    schema = &quot;${property.schema.name}&quot;\r\n\r\nBut since these are generated classes by Telosys, all JPA annotations are handled by the template. \r\nIs there a way to set the schema name in the annotation like above? or any alternate solution to the problem of different schemas is appreciated","title":"Change schema name for different environment in JPA annotation in Telosys generated code","body":"<p>I am generating my classes using spring jpa template in Telosys generator tool. It works as expected, however, my project has different database schemas for different environment which I can't handle. So my entity classes need to have respective schema name which will mean me connecting each database schema and generating environment specific classes.<br />\nI am trying to pass the schema name from gradle variable and use that in entity class</p>\n<pre><code>schema = &quot;${property.schema.name}&quot;\n</code></pre>\n<p>But since these are generated classes by Telosys, all JPA annotations are handled by the template.\nIs there a way to set the schema name in the annotation like above? or any alternate solution to the problem of different schemas is appreciated</p>\n"},{"tags":["java","logging","logback","slf4j"],"comments":[{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":0,"creation_date":1657101362,"post_id":72881353,"comment_id":128727470,"body_markdown":"Maybe use a service that does it for you like Elastic Search with Kibana, or DataDog...","body":"Maybe use a service that does it for you like Elastic Search with Kibana, or DataDog..."},{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":1,"creation_date":1657101592,"post_id":72881353,"comment_id":128727570,"body_markdown":"Another option is to use the same log on both servers using Network Log or it might be called Socket Log.   In LogBack that is called ServerSocketAppender: https://logback.qos.ch/manual/appenders.html#serverSocketAppender","body":"Another option is to use the same log on both servers using Network Log or it might be called Socket Log.   In LogBack that is called ServerSocketAppender: <a href=\"https://logback.qos.ch/manual/appenders.html#serverSocketAppender\" rel=\"nofollow noreferrer\">logback.qos.ch/manual/appenders.html#serverSocketAppender</a>"},{"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"score":0,"creation_date":1657206520,"post_id":72881353,"comment_id":128760797,"body_markdown":"Regarding the serverSocketAppender I&#39;m trying to understand how it works. In the doc is written: &quot;start SimpleSocketServer with the following command:\njava ch.qos.logback.classic.net.SimpleSocketServer 6000 \\\n  src/main/java/chapters/appenders/socket/server1.xml&quot;\nIf I run it I get: &quot;Error: Could not find or load main class ch.qos.logback.classic.net.SimpleSocketServer&quot; I don&#39;t understand the command...","body":"Regarding the serverSocketAppender I&#39;m trying to understand how it works. In the doc is written: &quot;start SimpleSocketServer with the following command: java ch.qos.logback.classic.net.SimpleSocketServer 6000 \\   src/main/java/chapters/appenders/socket/server1.xml&quot; If I run it I get: &quot;Error: Could not find or load main class ch.qos.logback.classic.net.SimpleSocketServer&quot; I don&#39;t understand the command..."},{"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"score":0,"creation_date":1657206680,"post_id":72881353,"comment_id":128760856,"body_markdown":"ch.qos.logback.classic.net.SimpleSocketServer what should it be ? a URL ? or should I download the logback repository and find that class? cause it&#39;s seem to me that my bash can&#39;t find it","body":"ch.qos.logback.classic.net.SimpleSocketServer what should it be ? a URL ? or should I download the logback repository and find that class? cause it&#39;s seem to me that my bash can&#39;t find it"},{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":0,"creation_date":1657277932,"post_id":72881353,"comment_id":128778211,"body_markdown":"About the class not found, it means you need to set the classpath like this: java -cp LOGBACK.jar  ch.qos.logback.classic.net.Simple...     just need to know what the path+filename of the logback jar.   See here how to run java with classpath in this answer: https://stackoverflow.com/questions/5474666/how-to-run-a-class-from-jar-which-is-not-the-main-class-in-its-manifest-file","body":"About the class not found, it means you need to set the classpath like this: java -cp LOGBACK.jar  ch.qos.logback.classic.net.Simple...     just need to know what the path+filename of the logback jar.   See here how to run java with classpath in this answer: <a href=\"https://stackoverflow.com/questions/5474666/how-to-run-a-class-from-jar-which-is-not-the-main-class-in-its-manifest-file\" title=\"how to run a class from jar which is not the main class in its manifest file\">stackoverflow.com/questions/5474666/&hellip;</a>"},{"owner":{"account_id":11008792,"reputation":176,"user_id":8086910,"display_name":"Pam Stums"},"score":0,"creation_date":1657278083,"post_id":72881353,"comment_id":128778243,"body_markdown":"Another option - but not sure it fits all cases...  is the write a small service that its function is only to write logs.   and any server that wants to write a log simply calls this &quot;microservice&quot; using REST.","body":"Another option - but not sure it fits all cases...  is the write a small service that its function is only to write logs.   and any server that wants to write a log simply calls this &quot;microservice&quot; using REST."}],"owner":{"account_id":2658349,"reputation":582,"user_id":2298581,"accept_rate":43,"display_name":"user2298581"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657100996,"creation_date":1657100996,"question_id":72881353,"body_markdown":"I have a need to centralize the 2 logs file of my application deployed in 2 different server in prod environment. \r\n\r\nIf possible I would like to use logback and not logstash cause we already support it in the java app. \r\n\r\nI did some research but I found lot of solutions for generate more log files but not to unite the ones I already have.\r\n\r\nWhat I would like to achieve is **the merge of this 2 logs file either into a new log file or in a database** because then I need to send the union of this 2 logs  through a REST Service.\r\n\r\nCould you help me?\r\nThanks","title":"centralize logs from different instances of a java application","body":"<p>I have a need to centralize the 2 logs file of my application deployed in 2 different server in prod environment.</p>\n<p>If possible I would like to use logback and not logstash cause we already support it in the java app.</p>\n<p>I did some research but I found lot of solutions for generate more log files but not to unite the ones I already have.</p>\n<p>What I would like to achieve is <strong>the merge of this 2 logs file either into a new log file or in a database</strong> because then I need to send the union of this 2 logs  through a REST Service.</p>\n<p>Could you help me?\nThanks</p>\n"},{"tags":["java","android","admob"],"answers":[{"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508035828,"creation_date":1508035828,"answer_id":46751224,"question_id":46751179,"body_markdown":"You&#39;ve used \r\n\r\n    AdRequest.Builder().addTestDevice(&quot;8E99D553D3E0F7C7F7AAD92A33DCD0C3&quot;)\r\n\r\nEither remove the test device or use another device.","title":"Still get test ads with real ad unit Id","body":"<p>You've used </p>\n\n<pre><code>AdRequest.Builder().addTestDevice(\"8E99D553D3E0F7C7F7AAD92A33DCD0C3\")\n</code></pre>\n\n<p>Either remove the test device or use another device.</p>\n"},{"tags":[],"owner":{"account_id":10121011,"reputation":2708,"user_id":7477922,"display_name":"Akhilesh Awasthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508042024,"creation_date":1508042024,"answer_id":46751723,"question_id":46751179,"body_markdown":"If you want to see how real ads look, try to run it one any other device. If you want to see it on youurs, you can remove that addTestDevice Method. If you want both, do one thing. Check your build config while creating the AdRequest. If it is debug build, create AdRequest with AddTestDevice method and remove that method in release build. ","title":"Still get test ads with real ad unit Id","body":"<p>If you want to see how real ads look, try to run it one any other device. If you want to see it on youurs, you can remove that addTestDevice Method. If you want both, do one thing. Check your build config while creating the AdRequest. If it is debug build, create AdRequest with AddTestDevice method and remove that method in release build. </p>\n"}],"owner":{"account_id":5493926,"reputation":1215,"user_id":4365711,"accept_rate":39,"display_name":"Nyein Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657100949,"creation_date":1508035172,"question_id":46751179,"body_markdown":"I am testing and running my app on real device with real ad mob id from my ad mob account. The section of &quot;Enable test devices&quot; in google developer website say &quot;When a device is configured as a test device, the Google Mobile Ads SDK automatically substitutes in sample ad unit ID, limiting that device to receiving test ads.&quot;. [Here is the link.][1] But I get only test ads. I have following code, layout file\r\n\r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/adView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            ads:adSize=&quot;BANNER&quot;\r\n            ads:adUnitId=&quot;my_admob_real_unitid&quot;&gt; &lt;/com.google.android.gms.ads.AdView&gt;  \r\n\r\nJava code,\r\n  \r\n    @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_screentest);\r\n            adView = (AdView) findViewById(R.id.adView);\r\n            AdRequest adRequest = new AdRequest.Builder().addTestDevice(&quot;8E99D553D3E0F7C7F7AAD92A33DCD0C3&quot;).build();\r\n            adView.loadAd(adRequest);\r\n            adView.setAdListener(new MAdListener());\r\n            if(adRequest.isTestDevice(this)){\r\n                Log.i(&quot;Info&quot;,&quot;Test device&quot;);\r\n            }else{\r\n                Log.i(&quot;Info&quot;,&quot;Not a test device, beware..&quot;);\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/test-ads#enable_test_devices","title":"Still get test ads with real ad unit Id","body":"<p>I am testing and running my app on real device with real ad mob id from my ad mob account. The section of \"Enable test devices\" in google developer website say \"When a device is configured as a test device, the Google Mobile Ads SDK automatically substitutes in sample ad unit ID, limiting that device to receiving test ads.\". <a href=\"https://developers.google.com/admob/android/test-ads#enable_test_devices\" rel=\"nofollow noreferrer\">Here is the link.</a> But I get only test ads. I have following code, layout file</p>\n\n<pre><code>&lt;com.google.android.gms.ads.AdView xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/adView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        ads:adSize=\"BANNER\"\n        ads:adUnitId=\"my_admob_real_unitid\"&gt; &lt;/com.google.android.gms.ads.AdView&gt;  \n</code></pre>\n\n<p>Java code,</p>\n\n<pre><code>@Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_screentest);\n        adView = (AdView) findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().addTestDevice(\"8E99D553D3E0F7C7F7AAD92A33DCD0C3\").build();\n        adView.loadAd(adRequest);\n        adView.setAdListener(new MAdListener());\n        if(adRequest.isTestDevice(this)){\n            Log.i(\"Info\",\"Test device\");\n        }else{\n            Log.i(\"Info\",\"Not a test device, beware..\");\n        }\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22993177,"reputation":1,"user_id":17118363,"display_name":"Rathod Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657100719,"creation_date":1656576187,"answer_id":72812274,"question_id":72812165,"body_markdown":"**Add intent filters for incoming links**\r\n\r\n```\r\n  &lt;intent-filter android:label=&quot;@string/filter_view_http_gizmos&quot;&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;!-- Accepts URIs that begin with &quot;http://www.example.com/gizmos” --&gt;\r\n        &lt;data android:scheme=&quot;http&quot;\r\n              android:host=&quot;www.example.com&quot;\r\n              android:pathPrefix=&quot;/gizmos&quot; /&gt;\r\n        &lt;!-- note that the leading &quot;/&quot; is required for pathPrefix--&gt;\r\n    &lt;/intent-filter&gt;\r\n```\r\n\r\n**Read data from incoming intents**\r\n\r\n```\r\noverride fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    setContentView(R.layout.main)\r\n\r\n    val action: String? = intent?.action\r\n    val data: Uri? = intent?.data\r\n}\r\n```\r\n\r\nJust change your link in the intent filter you want to accept for your application.","title":"Get Url from other apps android Studio","body":"<p><strong>Add intent filters for incoming links</strong></p>\n<pre><code>  &lt;intent-filter android:label=&quot;@string/filter_view_http_gizmos&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;!-- Accepts URIs that begin with &quot;http://www.example.com/gizmos” --&gt;\n        &lt;data android:scheme=&quot;http&quot;\n              android:host=&quot;www.example.com&quot;\n              android:pathPrefix=&quot;/gizmos&quot; /&gt;\n        &lt;!-- note that the leading &quot;/&quot; is required for pathPrefix--&gt;\n    &lt;/intent-filter&gt;\n</code></pre>\n<p><strong>Read data from incoming intents</strong></p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.main)\n\n    val action: String? = intent?.action\n    val data: Uri? = intent?.data\n}\n</code></pre>\n<p>Just change your link in the intent filter you want to accept for your application.</p>\n"},{"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656577259,"creation_date":1656576429,"answer_id":72812313,"question_id":72812165,"body_markdown":"Try this, In you manifest, put this in the first activity that will be open when your app launch like your SplashActivity\r\n\r\n     &lt;intent-filter android:label=&quot;testing&quot;&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data android:scheme=&quot;https&quot; android:host=&quot;www.youtube.com&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n    \r\nAnd retrieve the data from the your by putting the below in the onCreateView() of the Activity\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n     super.onCreate(savedInstanceState)\r\n       setContentView(R.layout.splash_activity)\r\n        \r\n        //this is what you need here\r\n        val action: String? = intent?.action\r\n        val data: Uri? = intent?.data\r\n       }\r\n\r\n\r\nFor more clarification. check [deep-linking][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/app-links/deep-linking","title":"Get Url from other apps android Studio","body":"<p>Try this, In you manifest, put this in the first activity that will be open when your app launch like your SplashActivity</p>\n<pre><code> &lt;intent-filter android:label=&quot;testing&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; android:host=&quot;www.youtube.com&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>And retrieve the data from the your by putting the below in the onCreateView() of the Activity</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n super.onCreate(savedInstanceState)\n   setContentView(R.layout.splash_activity)\n    \n    //this is what you need here\n    val action: String? = intent?.action\n    val data: Uri? = intent?.data\n   }\n</code></pre>\n<p>For more clarification. check <a href=\"https://developer.android.com/training/app-links/deep-linking\" rel=\"nofollow noreferrer\">deep-linking</a></p>\n"}],"owner":{"account_id":25688078,"reputation":3,"user_id":19449862,"display_name":"Rohit Kushvaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72812313,"answer_count":2,"score":0,"last_activity_date":1657100719,"creation_date":1656575687,"question_id":72812165,"body_markdown":"Get Url from other  sources/apps. \r\nlike when you click share button on YouTube you see a bunch of apps.\r\n\r\n\r\nHow can I implement this ability in my app .\r\n\r\nExample -\r\nopen url with x app .\r\n\r\nI have searched on internet but found nothing .","title":"Get Url from other apps android Studio","body":"<p>Get Url from other  sources/apps.\nlike when you click share button on YouTube you see a bunch of apps.</p>\n<p>How can I implement this ability in my app .</p>\n<p>Example -\nopen url with x app .</p>\n<p>I have searched on internet but found nothing .</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1656952300,"post_id":72859337,"comment_id":128690488,"body_markdown":"show us the codes of the `campusService` please","body":"show us the codes of the <code>campusService</code> please"},{"owner":{"account_id":25091822,"reputation":13,"user_id":18943383,"display_name":"Luis Abraham Sanabria Melecio"},"score":0,"creation_date":1656957092,"post_id":72859337,"comment_id":128691598,"body_markdown":"I just added the code to the question","body":"I just added the code to the question"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1657018875,"post_id":72859337,"comment_id":128704723,"body_markdown":"Do you happen to have any Mockito related annotations on your test class?","body":"Do you happen to have any Mockito related annotations on your test class?"},{"owner":{"account_id":25091822,"reputation":13,"user_id":18943383,"display_name":"Luis Abraham Sanabria Melecio"},"score":0,"creation_date":1657027040,"post_id":72859337,"comment_id":128707711,"body_markdown":"@Lesiak Only Mock and InjectMocks","body":"@Lesiak Only Mock and InjectMocks"},{"owner":{"account_id":22065172,"reputation":93,"user_id":16327180,"display_name":"Angela Lopez"},"score":0,"creation_date":1657055452,"post_id":72859337,"comment_id":128717551,"body_markdown":"Can you please post the full code for your test class, service class and repository class ( including class level annotations.) in order to reproduce the error ?","body":"Can you please post the full code for your test class, service class and repository class ( including class level annotations.) in order to reproduce the error ?"},{"owner":{"account_id":14429279,"reputation":130,"user_id":10423076,"display_name":"Govil Kumar"},"score":0,"creation_date":1657104359,"post_id":72859337,"comment_id":128728610,"body_markdown":"when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\nThis statement is the issue, you are returning the entire list in your mock. better return a filtered list which will contain only active records. then your test will pass.","body":"when(campusRepository.findAllActiveCampus()).thenReturn(camp&zwnj;&#8203;usList); This statement is the issue, you are returning the entire list in your mock. better return a filtered list which will contain only active records. then your test will pass."}],"answers":[{"tags":[],"owner":{"account_id":4905548,"reputation":81,"user_id":3952407,"display_name":"Bodo Teichmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657037513,"creation_date":1657037488,"answer_id":72872556,"question_id":72859337,"body_markdown":"There is something off: When you write\r\n\r\n```java\r\nwhen(campusRepository.findAllActiveCampus()).thenReturn(campusList);\r\nassertEquals(2, campusService.listAllActiveCampus().size());\r\n```\r\nand your `setUp()` is as shown, then you should get the Error:\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :2\r\nActual   :3\r\n```\r\nbecause you configured your &#180;campusRepository&#180; so that when called with &#180;findAllActiveCampus()&#180; it should return &#180;campusList&#180; which in turn contains **3** not **2** elements , even if only **2** elements are &quot;ACTIVE&quot;. \r\n\r\nRemember that the `@Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)` is not executed at all in this test, because the repository is just a mock!","title":"Testing array length with Mockito","body":"<p>There is something off: When you write</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\nassertEquals(2, campusService.listAllActiveCampus().size());\n</code></pre>\n<p>and your <code>setUp()</code> is as shown, then you should get the Error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2\nActual   :3\n</code></pre>\n<p>because you configured your ´campusRepository´ so that when called with ´findAllActiveCampus()´ it should return ´campusList´ which in turn contains <strong>3</strong> not <strong>2</strong> elements , even if only <strong>2</strong> elements are &quot;ACTIVE&quot;.</p>\n<p>Remember that the <code>@Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)</code> is not executed at all in this test, because the repository is just a mock!</p>\n"}],"owner":{"account_id":25091822,"reputation":13,"user_id":18943383,"display_name":"Luis Abraham Sanabria Melecio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657100483,"creation_date":1656949963,"question_id":72859337,"body_markdown":"I&#39;m trying to implement unit test for a Spring boot project.\r\n\r\nI&#39;m new with unit testing in Java and I learned that I can test my project in the service layer. So I have this:\r\n\r\n```\r\n    @Mock\r\n    private ICampusRepository campusRepository;\r\n\r\n    @InjectMocks\r\n    private CampusServiceImplementation campusService;\r\n\r\n    private List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\r\n    }\r\n```\r\nThen, for testing I have some very basic test:\r\n```\r\n    @Test\r\n    void getAllCampus() {\r\n        when(campusRepository.findAll()).thenReturn(campusList);\r\n        assertNotNull(campusService.getAllCampus());\r\n    }\r\n```\r\nI want to make a test to verify if certain method returns a list of campus with &quot;ACTIVE&quot; attribute only, I&#39;m trying to do this:\r\n```\r\n    @Test\r\n    void listAllActiveCampus() {\r\n        when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\r\n        assertEquals(2, campusService.listAllActiveCampus().size());\r\n    }\r\n```\r\nBut the test result is:\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :2\r\nActual   :0\r\n```\r\nThe question is: Should I create a new array with 2 values only? Is there a better way to create better conclusive test?\r\n\r\n**EDIT**\r\n\r\ncampusService code:\r\n```\r\n    @Override\r\n    public List&lt;Campus&gt; getAllCampus() {\r\n        return campusRepository.findAll();\r\n    }\r\n\r\n...\r\n\r\n    @Override\r\n    public List&lt;Campus&gt; listAllActiveCampus() {\r\n        return campusRepository.findAllActiveCampus();\r\n    }\r\n```\r\nThe repository:\r\n```\r\npublic interface ICampusRepository extends JpaRepository&lt;Campus, Integer&gt; {\r\n\r\n    @Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)\r\n    List&lt;Campus&gt; findAllActiveCampus();\r\n}\r\n```\r\n\r\n**EDIT 2**\r\n\r\nFull test Class:\r\n```\r\n@SpringBootTest\r\nclass CampusServiceImplementationTest {\r\n\r\n    @Mock\r\n    private ICampusRepository campusRepository;\r\n\r\n    @InjectMocks\r\n    private CampusServiceImplementation campusService;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        MockitoAnnotations.openMocks(this);\r\n\r\n    }\r\n\r\n    @Test\r\n    void getAllCampus() {\r\n        List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\r\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\r\n        when(campusRepository.findAll()).thenReturn(campusList);\r\n\r\n        List&lt;Campus&gt; result = campusRepository.findAll();\r\n        assertNotNull(result);\r\n        assertEquals(3, result.size());\r\n        verify(campusRepository, times(1)).findAll();\r\n    }\r\n\r\n    @Test\r\n    void listAllActiveCampus() {\r\n        List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\r\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\r\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\r\n\r\n        when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\r\n\r\n        List&lt;Campus&gt; result = campusRepository.findAllActiveCampus();\r\n        assertNotNull(result);\r\n        assertEquals(2, result.size());\r\n        verify(campusRepository, times(1)).findAllActiveCampus();\r\n    }\r\n}\r\n```\r\nService class:\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CampusServiceImplementation implements ICampusService {\r\n\r\n    private final ICampusRepository campusRepository;\r\n\r\n    @Override\r\n    public List&lt;Campus&gt; getAllCampus() {\r\n        return campusRepository.findAll();\r\n    }\r\n\r\n\r\n    @Override\r\n    public List&lt;Campus&gt; listAllActiveCampus() {\r\n        return campusRepository.findAllActiveCampus();\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\npublic interface ICampusRepository extends JpaRepository&lt;Campus, Integer&gt; {\r\n    @Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)\r\n    List&lt;Campus&gt; findAllActiveCampus();\r\n}\r\n```\r\n","title":"Testing array length with Mockito","body":"<p>I'm trying to implement unit test for a Spring boot project.</p>\n<p>I'm new with unit testing in Java and I learned that I can test my project in the service layer. So I have this:</p>\n<pre><code>    @Mock\n    private ICampusRepository campusRepository;\n\n    @InjectMocks\n    private CampusServiceImplementation campusService;\n\n    private List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\n    }\n</code></pre>\n<p>Then, for testing I have some very basic test:</p>\n<pre><code>    @Test\n    void getAllCampus() {\n        when(campusRepository.findAll()).thenReturn(campusList);\n        assertNotNull(campusService.getAllCampus());\n    }\n</code></pre>\n<p>I want to make a test to verify if certain method returns a list of campus with &quot;ACTIVE&quot; attribute only, I'm trying to do this:</p>\n<pre><code>    @Test\n    void listAllActiveCampus() {\n        when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\n        assertEquals(2, campusService.listAllActiveCampus().size());\n    }\n</code></pre>\n<p>But the test result is:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2\nActual   :0\n</code></pre>\n<p>The question is: Should I create a new array with 2 values only? Is there a better way to create better conclusive test?</p>\n<p><strong>EDIT</strong></p>\n<p>campusService code:</p>\n<pre><code>    @Override\n    public List&lt;Campus&gt; getAllCampus() {\n        return campusRepository.findAll();\n    }\n\n...\n\n    @Override\n    public List&lt;Campus&gt; listAllActiveCampus() {\n        return campusRepository.findAllActiveCampus();\n    }\n</code></pre>\n<p>The repository:</p>\n<pre><code>public interface ICampusRepository extends JpaRepository&lt;Campus, Integer&gt; {\n\n    @Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)\n    List&lt;Campus&gt; findAllActiveCampus();\n}\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>Full test Class:</p>\n<pre><code>@SpringBootTest\nclass CampusServiceImplementationTest {\n\n    @Mock\n    private ICampusRepository campusRepository;\n\n    @InjectMocks\n    private CampusServiceImplementation campusService;\n\n    @BeforeEach\n    void setUp() {\n        MockitoAnnotations.openMocks(this);\n\n    }\n\n    @Test\n    void getAllCampus() {\n        List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\n        when(campusRepository.findAll()).thenReturn(campusList);\n\n        List&lt;Campus&gt; result = campusRepository.findAll();\n        assertNotNull(result);\n        assertEquals(3, result.size());\n        verify(campusRepository, times(1)).findAll();\n    }\n\n    @Test\n    void listAllActiveCampus() {\n        List&lt;Campus&gt; campusList = new ArrayList&lt;&gt;();\n        campusList.add(new Campus(1, &quot;Campus Name 1&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(2, &quot;Campus Name 2&quot;, &quot;ACTIVE&quot;));\n        campusList.add(new Campus(3, &quot;Campus Name 3&quot;, &quot;INACTIVE&quot;));\n\n        when(campusRepository.findAllActiveCampus()).thenReturn(campusList);\n\n        List&lt;Campus&gt; result = campusRepository.findAllActiveCampus();\n        assertNotNull(result);\n        assertEquals(2, result.size());\n        verify(campusRepository, times(1)).findAllActiveCampus();\n    }\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CampusServiceImplementation implements ICampusService {\n\n    private final ICampusRepository campusRepository;\n\n    @Override\n    public List&lt;Campus&gt; getAllCampus() {\n        return campusRepository.findAll();\n    }\n\n\n    @Override\n    public List&lt;Campus&gt; listAllActiveCampus() {\n        return campusRepository.findAllActiveCampus();\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface ICampusRepository extends JpaRepository&lt;Campus, Integer&gt; {\n    @Query(value = &quot;SELECT * FROM catSede WHERE sedeEstatusId = 3&quot;, nativeQuery = true)\n    List&lt;Campus&gt; findAllActiveCampus();\n}\n</code></pre>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"display_name":"user1805212"},"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1352704888,"creation_date":1352704888,"answer_id":13339688,"question_id":11951685,"body_markdown":"PDF forms does not support 2 fields with the same name. requirement is invalid","title":"Itext to update PDF form with multiple fields with same Field Name","body":"<p>PDF forms does not support 2 fields with the same name. requirement is invalid</p>\n"},{"tags":[],"owner":{"account_id":153908,"reputation":72,"user_id":369496,"display_name":"Akhena"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1370871004,"creation_date":1370871004,"answer_id":17025106,"question_id":11951685,"body_markdown":"Actually you **can** have several fields with the same name inside one only pdf form, as long as the fields are on separate pages.\r\nI&#39;m currently looking for a solution for this problem...","title":"Itext to update PDF form with multiple fields with same Field Name","body":"<p>Actually you <strong>can</strong> have several fields with the same name inside one only pdf form, as long as the fields are on separate pages.\nI'm currently looking for a solution for this problem...</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1377251918,"creation_date":1377246303,"answer_id":18398179,"question_id":11951685,"body_markdown":"What you probably want to do is use the &#39;autofill&#39; functionality of pdf form fields? So you fill one field and all other fields with that fieldname are automatically filled with the same content. **That is perfectly possible.** (You probably tried that in adobe reader / acrobat) \r\n\r\nBut what you must differentiate (technically): Those formfields have one &quot;data&quot; representation and several widgets (several visual representations). Thus what you only need to do is fill that one field (which has several coordinates for its widgets) with a certain value:\r\n\r\n    boolean successful = stamper.getAcroFields().setField(&quot;TextBox&quot;, &quot;some value&quot;);\r\n\r\nIf you then open that PDF in a PDF viewer software (like adobe reader) all fields have the same content. Out of curiosity why do you flatten the fields with `setFormFlattening(true)`? Then all your fields will be removed and flattened.\r\n\r\n    ","title":"Itext to update PDF form with multiple fields with same Field Name","body":"<p>What you probably want to do is use the 'autofill' functionality of pdf form fields? So you fill one field and all other fields with that fieldname are automatically filled with the same content. <strong>That is perfectly possible.</strong> (You probably tried that in adobe reader / acrobat) </p>\n\n<p>But what you must differentiate (technically): Those formfields have one \"data\" representation and several widgets (several visual representations). Thus what you only need to do is fill that one field (which has several coordinates for its widgets) with a certain value:</p>\n\n<pre><code>boolean successful = stamper.getAcroFields().setField(\"TextBox\", \"some value\");\n</code></pre>\n\n<p>If you then open that PDF in a PDF viewer software (like adobe reader) all fields have the same content. Out of curiosity why do you flatten the fields with <code>setFormFlattening(true)</code>? Then all your fields will be removed and flattened.</p>\n"},{"tags":[],"owner":{"account_id":2716440,"reputation":139,"user_id":2343711,"accept_rate":25,"display_name":"kamlesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499161831,"creation_date":1499161831,"answer_id":44902610,"question_id":11951685,"body_markdown":"itext is using widget annotation, for multiple field with same name..means for duplicate field , name will one but co ordinate will be multiple.\r\n\r\n bellow code will help you..\r\n\r\n\r\n     InputStream pdfFileStream = new FileInputStream(file);\r\n\t\t\tPdfReader reader = new PdfReader(pdfFileStream);\r\n\t\t\tPdfStamper stamper = null;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tstamper = new PdfStamper(reader, tempOS, &#39;\\0&#39;);\r\n\r\n\t\t\t} catch (DocumentException e1) {\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tAcroFields form = stamper.getAcroFields();\r\n\t\t\tObject[] keys = form.getFields().keySet().toArray();\r\n\t\t\t\r\n\t\t\tfor (Entry&lt;String, AcroFields.Item&gt; entry : fields.entrySet()) {\r\n\t\t\t\r\n\t\t\tString docFieldName = entry.getKey();\r\n\t\t\t\tList&lt;FieldPosition&gt; fieldPosition = form.getFieldPositions(docFieldName); // for multiple filed with same name  size and co ordinate  will more then 1..\r\n\t\t\t\tfor(int i=0;i&lt;fieldPosition.size();i++) {\r\n\t\t\t\tRectangle position = fieldPosition.get(i).position;\r\n\t\t\t\tfloat left = position.getLeft();\r\n\t\t\t\tfloat top = position.getTop();\r\n\t\t\t\tfloat width = position.getWidth();\r\n\t\t\t\tfloat height = position.getHeight();\r\n\t\t\t\tint currentPage = fieldPosition.get(i).page;\r\n\t\t\t\t........................here you can set value to list..\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\r\n","title":"Itext to update PDF form with multiple fields with same Field Name","body":"<p>itext is using widget annotation, for multiple field with same name..means for duplicate field , name will one but co ordinate will be multiple.</p>\n\n<p>bellow code will help you..</p>\n\n<pre><code> InputStream pdfFileStream = new FileInputStream(file);\n        PdfReader reader = new PdfReader(pdfFileStream);\n        PdfStamper stamper = null;\n\n        try {\n            stamper = new PdfStamper(reader, tempOS, '\\0');\n\n        } catch (DocumentException e1) {\n            e1.printStackTrace();\n        }\n\n\n        AcroFields form = stamper.getAcroFields();\n        Object[] keys = form.getFields().keySet().toArray();\n\n        for (Entry&lt;String, AcroFields.Item&gt; entry : fields.entrySet()) {\n\n        String docFieldName = entry.getKey();\n            List&lt;FieldPosition&gt; fieldPosition = form.getFieldPositions(docFieldName); // for multiple filed with same name  size and co ordinate  will more then 1..\n            for(int i=0;i&lt;fieldPosition.size();i++) {\n            Rectangle position = fieldPosition.get(i).position;\n            float left = position.getLeft();\n            float top = position.getTop();\n            float width = position.getWidth();\n            float height = position.getHeight();\n            int currentPage = fieldPosition.get(i).page;\n            ........................here you can set value to list..\n\n            }\n\n\n        }\n</code></pre>\n"}],"owner":{"account_id":1038747,"reputation":1943,"user_id":1150282,"accept_rate":87,"display_name":"Fr_nkenstien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2995,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13339688,"answer_count":4,"score":1,"last_activity_date":1657100481,"creation_date":1344945110,"question_id":11951685,"body_markdown":"I have a requirement where i have to populate values in a PDF Form using Itext.\r\n\r\nthe Form i have has multiple fields with the same field names.\r\nThe Concept is to populate same value in case the PDF form field name is common.\r\n\r\nso if there is are 2 or more fields with the name txtSysTime, then the code should fill the system time in all the fields.\r\n\r\nMy question is basically\r\n\r\n 1. Is this kind of functionality supported at all by Itext?\r\n 2. If it is Possible then how can we do the same.\r\n\r\nI am using the below code for attempting the same:\r\n\r\n    PdfReader pdfTemplate = new PdfReader(inputFilePath);\r\n    FileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    PdfStamper stamper = new PdfStamper(pdfTemplate, fileOutputStream);\r\n    stamper.setFormFlattening(true);\r\n    stamper.getAcroFields().setField(&quot;TextBox&quot;, &quot;value filled&quot;);\r\n\r\nWith this code the value in the first field with the same name is populated correctly but the rest of it is left blank.\r\n\r\nPlease help","title":"Itext to update PDF form with multiple fields with same Field Name","body":"<p>I have a requirement where i have to populate values in a PDF Form using Itext.</p>\n\n<p>the Form i have has multiple fields with the same field names.\nThe Concept is to populate same value in case the PDF form field name is common.</p>\n\n<p>so if there is are 2 or more fields with the name txtSysTime, then the code should fill the system time in all the fields.</p>\n\n<p>My question is basically</p>\n\n<ol>\n<li>Is this kind of functionality supported at all by Itext?</li>\n<li>If it is Possible then how can we do the same.</li>\n</ol>\n\n<p>I am using the below code for attempting the same:</p>\n\n<pre><code>PdfReader pdfTemplate = new PdfReader(inputFilePath);\nFileOutputStream fileOutputStream = new FileOutputStream(outputFilePath);\nByteArrayOutputStream out = new ByteArrayOutputStream();\nPdfStamper stamper = new PdfStamper(pdfTemplate, fileOutputStream);\nstamper.setFormFlattening(true);\nstamper.getAcroFields().setField(\"TextBox\", \"value filled\");\n</code></pre>\n\n<p>With this code the value in the first field with the same name is populated correctly but the rest of it is left blank.</p>\n\n<p>Please help</p>\n"},{"tags":["java","mule","overwrite","dataweave"],"answers":[{"tags":[],"owner":{"account_id":1716998,"reputation":11546,"user_id":1573861,"display_name":"Ryan Carter"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1560699225,"creation_date":1560699225,"answer_id":56620282,"question_id":56619153,"body_markdown":"The dataweave script needs to match your output structure and you are only outputting a single gender field.\r\n\r\nOne quick way yo just modify the current payload is using `payload ++`.\r\n\r\nIf your payload is a map/object it will just replace the key if it exists or adds it if not. Example:\r\n\r\n    %dw 2.0\r\n    output application/java\r\n    ---\r\n    payload ++ {gender: (if (payload.gender == &quot;male&quot;) &quot;&quot;  else payload.gender)}","title":"Dataweave - Replace value of a field in an object","body":"<p>The dataweave script needs to match your output structure and you are only outputting a single gender field.</p>\n\n<p>One quick way yo just modify the current payload is using <code>payload ++</code>.</p>\n\n<p>If your payload is a map/object it will just replace the key if it exists or adds it if not. Example:</p>\n\n<pre><code>%dw 2.0\noutput application/java\n---\npayload ++ {gender: (if (payload.gender == \"male\") \"\"  else payload.gender)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657100418,"creation_date":1657099861,"answer_id":72881065,"question_id":56619153,"body_markdown":"The dataweave script can be simplified since 4.3.0 Runtime version with the followed way:\r\n\r\n    %dw 2.0\r\n    output application/java\r\n    ---\r\n    payload update {\r\n           case .gender -&gt; if(payload.gender == &quot;Male&quot;) &quot;&quot; else payload.gender\r\n           \r\n    }\r\n\r\n\r\nExample: [example changing field value Mule 4.3][1]\r\n\r\nLink doc: [change value Mule 4.3][2]\r\n\r\n\r\n  [1]: https://blogs.mulesoft.com/news/anypoint-platform/update-fields-with-dataweave/\r\n  [2]: https://docs.mulesoft.com/dataweave/2.3/dataweave-cookbook-change-value-of-a-field","title":"Dataweave - Replace value of a field in an object","body":"<p>The dataweave script can be simplified since 4.3.0 Runtime version with the followed way:</p>\n<pre><code>%dw 2.0\noutput application/java\n---\npayload update {\n       case .gender -&gt; if(payload.gender == &quot;Male&quot;) &quot;&quot; else payload.gender\n       \n}\n</code></pre>\n<p>Example: <a href=\"https://blogs.mulesoft.com/news/anypoint-platform/update-fields-with-dataweave/\" rel=\"nofollow noreferrer\">example changing field value Mule 4.3</a></p>\n<p>Link doc: <a href=\"https://docs.mulesoft.com/dataweave/2.3/dataweave-cookbook-change-value-of-a-field\" rel=\"nofollow noreferrer\">change value Mule 4.3</a></p>\n"}],"owner":{"account_id":7773175,"reputation":1209,"user_id":5882056,"accept_rate":78,"display_name":"gtx911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4240,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56620282,"answer_count":2,"score":3,"last_activity_date":1657100418,"creation_date":1560690711,"question_id":56619153,"body_markdown":"I have a `Java Object` as **input** payload:\r\n\r\n    {\r\n    &quot;name&quot;=&quot;Michael&quot;,\r\n    &quot;surname&quot;=&quot;Alpha&quot;,\r\n    &quot;mail&quot;=&quot;demo@gmail.com&quot;,\r\n    &quot;gender&quot;=&quot;Male&quot;\r\n    }\r\n\r\nI want change the gender value **keeping the rest of the message**:\r\n\r\n    %dw 2.0\r\n    output application/java\r\n    ---\r\n    gender: if(payload.gender == &quot;Male&quot;) &quot;&quot; else payload.gender\r\n\r\nBut it return only the gender field. \r\n**How can I solve that?**","title":"Dataweave - Replace value of a field in an object","body":"<p>I have a <code>Java Object</code> as <strong>input</strong> payload:</p>\n\n<pre><code>{\n\"name\"=\"Michael\",\n\"surname\"=\"Alpha\",\n\"mail\"=\"demo@gmail.com\",\n\"gender\"=\"Male\"\n}\n</code></pre>\n\n<p>I want change the gender value <strong>keeping the rest of the message</strong>:</p>\n\n<pre><code>%dw 2.0\noutput application/java\n---\ngender: if(payload.gender == \"Male\") \"\" else payload.gender\n</code></pre>\n\n<p>But it return only the gender field. \n<strong>How can I solve that?</strong></p>\n"},{"tags":["java","android","xml","datepicker"],"answers":[{"tags":[],"owner":{"account_id":22993177,"reputation":1,"user_id":17118363,"display_name":"Rathod Vishal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657100412,"creation_date":1656576617,"answer_id":72812349,"question_id":72811662,"body_markdown":"Use the custom date piker library to do this using this library you can do any type of custom layout for a single date.\r\n\r\nLibrary link: https://github.com/kizitonwose/CalendarView\r\n\r\nNote: you can not change the custom single date layout in ```DatePicker```","title":"How do I insert text into the datePicker?","body":"<p>Use the custom date piker library to do this using this library you can do any type of custom layout for a single date.</p>\n<p>Library link: <a href=\"https://github.com/kizitonwose/CalendarView\" rel=\"nofollow noreferrer\">https://github.com/kizitonwose/CalendarView</a></p>\n<p>Note: you can not change the custom single date layout in <code>DatePicker</code></p>\n"}],"owner":{"account_id":25687934,"reputation":1,"user_id":19449734,"display_name":"WestMac-water"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657100412,"creation_date":1656573172,"question_id":72811662,"body_markdown":"I need to insert text into the native Android `DatePicker`. How do I do this?\r\n\r\nHere is my layout code:\r\n\r\n    &lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;700px&quot;\r\n        android:layout_height=&quot;300px&quot;\r\n        android:background=&quot;@drawable/time_format_24&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;TableRow&gt;\r\n            &lt;!-- define a TimePicker module --&gt;\r\n            &lt;DatePicker\r\n                android:id=&quot;@+id/datePicker&quot;\r\n                android:layout_width=&quot;420px&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:calendarViewShown=&quot;false&quot;\r\n                android:datePickerMode=&quot;spinner&quot;\r\n                android:endYear=&quot;2200&quot;\r\n                android:spinnersShown=&quot;true&quot;\r\n                android:startYear=&quot;2010&quot;\r\n                android:theme=&quot;@style/Theme.picker&quot; /&gt;\r\n            &lt;TimePicker\r\n                android:id=&quot;@+id/timePicker&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center_horizontal&quot;\r\n                android:theme=&quot;@style/Theme.picker&quot;\r\n                android:timePickerMode=&quot;spinner&quot; /&gt;\r\n        &lt;/TableRow&gt;\r\n    &lt;/TableLayout&gt;\r\n\r\nThe final effect to be achieved is this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QtU9p.png","title":"How do I insert text into the datePicker?","body":"<p>I need to insert text into the native Android <code>DatePicker</code>. How do I do this?</p>\n<p>Here is my layout code:</p>\n<pre><code>&lt;TableLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;700px&quot;\n    android:layout_height=&quot;300px&quot;\n    android:background=&quot;@drawable/time_format_24&quot;\n    android:gravity=&quot;center&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TableRow&gt;\n        &lt;!-- define a TimePicker module --&gt;\n        &lt;DatePicker\n            android:id=&quot;@+id/datePicker&quot;\n            android:layout_width=&quot;420px&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:calendarViewShown=&quot;false&quot;\n            android:datePickerMode=&quot;spinner&quot;\n            android:endYear=&quot;2200&quot;\n            android:spinnersShown=&quot;true&quot;\n            android:startYear=&quot;2010&quot;\n            android:theme=&quot;@style/Theme.picker&quot; /&gt;\n        &lt;TimePicker\n            android:id=&quot;@+id/timePicker&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center_horizontal&quot;\n            android:theme=&quot;@style/Theme.picker&quot;\n            android:timePickerMode=&quot;spinner&quot; /&gt;\n    &lt;/TableRow&gt;\n&lt;/TableLayout&gt;\n</code></pre>\n<p>The final effect to be achieved is this:</p>\n<p><a href=\"https://i.stack.imgur.com/QtU9p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QtU9p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1657047481,"post_id":72874245,"comment_id":128715263,"body_markdown":"Is it guaranteed, that arrays in different entries always have the same length?","body":"Is it guaranteed, that arrays in different entries always have the same length?"},{"owner":{"account_id":799704,"reputation":32385,"user_id":902885,"accept_rate":82,"display_name":"frazman"},"score":0,"creation_date":1657047535,"post_id":72874245,"comment_id":128715289,"body_markdown":"its guaranteed to be same length.","body":"its guaranteed to be same length."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1657047545,"post_id":72874245,"comment_id":128715294,"body_markdown":"`[1.1+0, 2.2+4, 3.3+2] / 2` - can you please specify what should be the result, an array `Double[]`? Arrays are of equal length? If you share your code, it&#39;ll add more context to the problem.","body":"<code>[1.1+0, 2.2+4, 3.3+2] &#47; 2</code> - can you please specify what should be the result, an array <code>Double[]</code>? Arrays are of equal length? If you share your code, it&#39;ll add more context to the problem."},{"owner":{"account_id":799704,"reputation":32385,"user_id":902885,"accept_rate":82,"display_name":"frazman"},"score":0,"creation_date":1657047668,"post_id":72874245,"comment_id":128715334,"body_markdown":"I updated the post.. the answer should be `[0.55, 3.1, 2.65]` just an element-wise average. (like element-wise vector average)","body":"I updated the post.. the answer should be <code>[0.55, 3.1, 2.65]</code> just an element-wise average. (like element-wise vector average)"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1657048231,"post_id":72874245,"comment_id":128715506,"body_markdown":"If you have a solution, can you add it to your question?","body":"If you have a solution, can you add it to your question?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1657050708,"post_id":72874245,"comment_id":128716211,"body_markdown":"Is there a specific reason you&#39;re using `Double[]` instead of `double[]`?","body":"Is there a specific reason you&#39;re using <code>Double[]</code> instead of <code>double[]</code>?"}],"answers":[{"tags":[],"owner":{"account_id":23166040,"reputation":11,"user_id":17265959,"display_name":"Luke Harwood"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657048846,"creation_date":1657048601,"answer_id":72874498,"question_id":72874245,"body_markdown":"Unless you want to use an external Math library, you&#39;re gonna wanna just write the extra function.\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\tdouble[] arr1 = { 1.0, 2.0, 3.0 };\r\n\t\tdouble[] arr2 = { 1.0, 1.0, 1.0 };\r\n\t\tdouble[] avg = elementWiseAvg(arr1, arr2);\r\n\t}\r\n\r\n\tpublic static double[] elementWiseAvg(double[] arr1, double[] arr2) {\r\n\t\tif (arr1.length != arr2.length) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Arrays must be the same length.&quot;);\r\n\t\t}\r\n\t\tdouble[] ret = new double[arr1.length];\r\n\t\tfor (int i = 0; i &lt; arr1.length; ++i) {\r\n\t\t\tret[i] = (arr1[i] + arr2[i]) / 2;\r\n\t\t}\r\n\t\treturn ret;\r\n\t}","title":"How to take average of Double[] in java","body":"<p>Unless you want to use an external Math library, you're gonna wanna just write the extra function.</p>\n<pre><code>public static void main(String[] args) {\n    double[] arr1 = { 1.0, 2.0, 3.0 };\n    double[] arr2 = { 1.0, 1.0, 1.0 };\n    double[] avg = elementWiseAvg(arr1, arr2);\n}\n\npublic static double[] elementWiseAvg(double[] arr1, double[] arr2) {\n    if (arr1.length != arr2.length) {\n        throw new IllegalArgumentException(&quot;Arrays must be the same length.&quot;);\n    }\n    double[] ret = new double[arr1.length];\n    for (int i = 0; i &lt; arr1.length; ++i) {\n        ret[i] = (arr1[i] + arr2[i]) / 2;\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657050161,"creation_date":1657050161,"answer_id":72874726,"question_id":72874245,"body_markdown":"You have a two-loop approach, but that&#39;s not necessarily ugly.  What you are effectively doing is summing two matrices of a single dimension.  Like was pointed out in another answer unless you want to import a math library, you&#39;re going to have to roll your own.\r\n\r\nIf you would like to explore an external library, look to jblas, it&#39;s a linear algebra library for Java.  Here&#39;s an example of summing and averaging those two vectors using jblas.\r\n\r\n\r\n    DoubleMatrix matrix1 = new DoubleMatrix(3, 1, 1.1, 2.2, 3.3);\r\n    DoubleMatrix matrix2 = new DoubleMatrix(3, 1, 0, 4, 2);\r\n\r\n    DoubleMatrix sum = matrix1.addColumnVector(matrix2).div(2);\r\n\r\n    log.info(sum);\r\n\r\nThe output is `[0.550000; 3.100000; 2.650000]`\r\n","title":"How to take average of Double[] in java","body":"<p>You have a two-loop approach, but that's not necessarily ugly.  What you are effectively doing is summing two matrices of a single dimension.  Like was pointed out in another answer unless you want to import a math library, you're going to have to roll your own.</p>\n<p>If you would like to explore an external library, look to jblas, it's a linear algebra library for Java.  Here's an example of summing and averaging those two vectors using jblas.</p>\n<pre><code>DoubleMatrix matrix1 = new DoubleMatrix(3, 1, 1.1, 2.2, 3.3);\nDoubleMatrix matrix2 = new DoubleMatrix(3, 1, 0, 4, 2);\n\nDoubleMatrix sum = matrix1.addColumnVector(matrix2).div(2);\n\nlog.info(sum);\n</code></pre>\n<p>The output is <code>[0.550000; 3.100000; 2.650000]</code></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657051203,"creation_date":1657050569,"answer_id":72874806,"question_id":72874245,"body_markdown":"Here is one way. It presumes the arrays are all the same length. \r\n- declare a `sum` array of the proper length.\r\n- iterate over the map values and add them via `Arrays.setAll()`\r\n- then find the average using `userVecs.size()` and `Arrays.setAll()`\r\n```\r\nMap&lt;String, double[]&gt; userVecs = new HashMap&lt;&gt;();;\r\nuserVecs.put(&quot;foo&quot;, new double[]{1.1, 2.2, 3.3});\r\nuserVecs.put(&quot;bar&quot;, new double[]{0, 4, 2});\r\n\r\ndouble[] sums = new double[userVecs.get(&quot;foo&quot;).length];\r\n\r\nfor (double[] dar : userVecs.values()) {\r\n     Arrays.setAll(sums, i-&gt;sums[i]+dar[i]);\r\n}\r\n\r\nArrays.setAll(sums, i-&gt;sums[i]/userVecs.size());\r\n\r\nSystem.out.println(Arrays.toString(sums));\r\n```\r\nprints\r\n```\r\n[0.55, 3.1, 2.65]\r\n```\r\nThe [Arrays](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html) class has many useful features you may want to get familiar with.","title":"How to take average of Double[] in java","body":"<p>Here is one way. It presumes the arrays are all the same length.</p>\n<ul>\n<li>declare a <code>sum</code> array of the proper length.</li>\n<li>iterate over the map values and add them via <code>Arrays.setAll()</code></li>\n<li>then find the average using <code>userVecs.size()</code> and <code>Arrays.setAll()</code></li>\n</ul>\n<pre><code>Map&lt;String, double[]&gt; userVecs = new HashMap&lt;&gt;();;\nuserVecs.put(&quot;foo&quot;, new double[]{1.1, 2.2, 3.3});\nuserVecs.put(&quot;bar&quot;, new double[]{0, 4, 2});\n\ndouble[] sums = new double[userVecs.get(&quot;foo&quot;).length];\n\nfor (double[] dar : userVecs.values()) {\n     Arrays.setAll(sums, i-&gt;sums[i]+dar[i]);\n}\n\nArrays.setAll(sums, i-&gt;sums[i]/userVecs.size());\n\nSystem.out.println(Arrays.toString(sums));\n</code></pre>\n<p>prints</p>\n<pre><code>[0.55, 3.1, 2.65]\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html\" rel=\"nofollow noreferrer\">Arrays</a> class has many useful features you may want to get familiar with.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657051456,"creation_date":1657050853,"answer_id":72874863,"question_id":72874245,"body_markdown":"Here is a solution with Java 8 Streams.\r\n\r\nThe approach is to create a stream over the values of the given map, i.e. a stream of arrays `Double[]`. Then inside a *collector*, created using `Collector.of()` sum up array values for every index and as a final step divide each the value at each index by the map size.\r\n\r\nIn order to preserve arrays in the source map intact, we need to find out the length of these array and collect the data into a newly created array.\r\n\r\n    public static Double[] getAverage(Map&lt;String, Double[]&gt; userVecs) {\r\n        if (userVecs.isEmpty()) {\r\n            return new Double[0]; // throw an exception depending on your needs\r\n        }\r\n        \r\n        int size = userVecs.values().iterator().next().length; // the map is proved to be non-empty, we can safely access one of its elements to find out the size of the resulting array\r\n        \r\n        return userVecs.values().stream()\r\n            .collect(Collector.of(\r\n                () -&gt; Stream.generate(() -&gt; 0d).limit(size).toArray(Double[]::new), // mutable container\r\n                (Double[] res, Double[] next) -&gt; mergeArrays(res, next),            // accumulator - populating the container\r\n                (left, right) -&gt; mergeArrays(left, right),                          // combiner - merging containers while executing in parallel\r\n                res -&gt; toAverage(res, userVecs.size())                              // finisher - transforming the container into a final result\r\n            ));\r\n    }\r\n    \r\n    public static Double[] mergeArrays(Double[] res, Double[] next) {\r\n        for (int i = 0; i &lt; res.length; i++) res[i] += next[i];\r\n        return res;\r\n    }\r\n    \r\n    public static Double[] toAverage(Double[] res, int mapSize) {\r\n        for (int i = 0; i &lt; res.length; i++) res[i] /= mapSize;\r\n        return res;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Double[]&gt; userVecs = new HashMap&lt;&gt;();\r\n        \r\n        userVecs.put(&quot;foo&quot;, new Double[]{1.1, 2.2, 3.3});\r\n        userVecs.put(&quot;bar&quot;, new Double[]{0d, 4d, 2d});\r\n\r\n        System.out.println(Arrays.toString(getAverage(userVecs)));\r\n    }\r\n\r\n*Output:*\r\n```\r\n[0.55, 3.1, 2.65]\r\n```","title":"How to take average of Double[] in java","body":"<p>Here is a solution with Java 8 Streams.</p>\n<p>The approach is to create a stream over the values of the given map, i.e. a stream of arrays <code>Double[]</code>. Then inside a <em>collector</em>, created using <code>Collector.of()</code> sum up array values for every index and as a final step divide each the value at each index by the map size.</p>\n<p>In order to preserve arrays in the source map intact, we need to find out the length of these array and collect the data into a newly created array.</p>\n<pre><code>public static Double[] getAverage(Map&lt;String, Double[]&gt; userVecs) {\n    if (userVecs.isEmpty()) {\n        return new Double[0]; // throw an exception depending on your needs\n    }\n    \n    int size = userVecs.values().iterator().next().length; // the map is proved to be non-empty, we can safely access one of its elements to find out the size of the resulting array\n    \n    return userVecs.values().stream()\n        .collect(Collector.of(\n            () -&gt; Stream.generate(() -&gt; 0d).limit(size).toArray(Double[]::new), // mutable container\n            (Double[] res, Double[] next) -&gt; mergeArrays(res, next),            // accumulator - populating the container\n            (left, right) -&gt; mergeArrays(left, right),                          // combiner - merging containers while executing in parallel\n            res -&gt; toAverage(res, userVecs.size())                              // finisher - transforming the container into a final result\n        ));\n}\n\npublic static Double[] mergeArrays(Double[] res, Double[] next) {\n    for (int i = 0; i &lt; res.length; i++) res[i] += next[i];\n    return res;\n}\n\npublic static Double[] toAverage(Double[] res, int mapSize) {\n    for (int i = 0; i &lt; res.length; i++) res[i] /= mapSize;\n    return res;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, Double[]&gt; userVecs = new HashMap&lt;&gt;();\n    \n    userVecs.put(&quot;foo&quot;, new Double[]{1.1, 2.2, 3.3});\n    userVecs.put(&quot;bar&quot;, new Double[]{0d, 4d, 2d});\n\n    System.out.println(Arrays.toString(getAverage(userVecs)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[0.55, 3.1, 2.65]\n</code></pre>\n"}],"owner":{"account_id":799704,"reputation":32385,"user_id":902885,"accept_rate":82,"display_name":"frazman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72874806,"answer_count":4,"score":1,"last_activity_date":1657100081,"creation_date":1657047081,"question_id":72874245,"body_markdown":"I have a map like following \r\n\r\n    Map&lt;String, Double[]&gt; userVecs;\r\n    userVecs.put(&quot;foo&quot;, [1.1, 2.2, 3.3]);\r\n    userVecs.put(&quot;bar&quot;, [0, 4, 2]);\r\n\r\nI want an average vec which in this case is:\r\n\r\n    [1.1+0, 2.2+4, 3.3+2] / 2;\r\n   \r\n\r\n    = [0.55, 3.1, 2.65]\r\n\r\nI have an ugly two loop approach. I was wondering if there is a better way to do this.\r\n\r\n","title":"How to take average of Double[] in java","body":"<p>I have a map like following</p>\n<pre><code>Map&lt;String, Double[]&gt; userVecs;\nuserVecs.put(&quot;foo&quot;, [1.1, 2.2, 3.3]);\nuserVecs.put(&quot;bar&quot;, [0, 4, 2]);\n</code></pre>\n<p>I want an average vec which in this case is:</p>\n<pre><code>[1.1+0, 2.2+4, 3.3+2] / 2;\n\n\n= [0.55, 3.1, 2.65]\n</code></pre>\n<p>I have an ugly two loop approach. I was wondering if there is a better way to do this.</p>\n"},{"tags":["java","design-patterns","interface","factory"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657100002,"creation_date":1657100002,"answer_id":72881105,"question_id":72880737,"body_markdown":"You could add the `getKeyword()` method to the interface:\r\n```java\r\npublic interface Action {\r\n    void invoke();\r\n\r\n    String getKeyword();\r\n}\r\n```\r\nthanks to that you could register all the implementations in a static map:\r\n```java\r\nprivate static final Map&lt;String, Action&gt; ACTION_BY_KEYWORD = Stream.of(\r\n        new ActionOpen(),\r\n        new ActionClose()\r\n).collect(toMap(Action::getKeyword,\r\n                identity()));\r\n```\r\n*(`toMap` imported statically from `Collectors` and `identity` from `Function`)*\r\n\r\nand the `getInstance()` method would simplify to:\r\n```java\r\npublic static Action getInstance(String action) {\r\n    return ACTION_BY_KEYWORD.get(action);\r\n}\r\n```\r\n\r\n---\r\n\r\nAdditional note: if you&#39;re using a dependency injection framework (e.g. Spring), it could be done more automatically - the framework could find all the implementations of the interface and inject them into the configuration class as a collection, where you could map it to a `Map` the same as in the example above. Thanks to that when new implementations are added, they would be automatically loaded after being scanned by the framework.","title":"Select appropriate class depending on keyword without a serie of &quot;if&quot; in factory (java)","body":"<p>You could add the <code>getKeyword()</code> method to the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Action {\n    void invoke();\n\n    String getKeyword();\n}\n</code></pre>\n<p>thanks to that you could register all the implementations in a static map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;String, Action&gt; ACTION_BY_KEYWORD = Stream.of(\n        new ActionOpen(),\n        new ActionClose()\n).collect(toMap(Action::getKeyword,\n                identity()));\n</code></pre>\n<p><em>(<code>toMap</code> imported statically from <code>Collectors</code> and <code>identity</code> from <code>Function</code>)</em></p>\n<p>and the <code>getInstance()</code> method would simplify to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Action getInstance(String action) {\n    return ACTION_BY_KEYWORD.get(action);\n}\n</code></pre>\n<hr />\n<p>Additional note: if you're using a dependency injection framework (e.g. Spring), it could be done more automatically - the framework could find all the implementations of the interface and inject them into the configuration class as a collection, where you could map it to a <code>Map</code> the same as in the example above. Thanks to that when new implementations are added, they would be automatically loaded after being scanned by the framework.</p>\n"}],"owner":{"account_id":1731618,"reputation":311,"user_id":1585114,"accept_rate":30,"display_name":"morbac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72881105,"answer_count":1,"score":1,"last_activity_date":1657100002,"creation_date":1657098540,"question_id":72880737,"body_markdown":"I&#39;m trying to write a basic sample of interface implementation in java. The idea is to select an instance depending on a keyword. Here is an example:\r\n\r\nI have a basic `Action` interface which declares a method `invoke`&lt;br/&gt;\r\nI wrote two different implementations of the interface: `ActionOpen` and `ActionClose` which implements the method `invoke` and have a static method `getKeyword()` which returns the keyword associated with object&lt;br/&gt;\r\nThen I wrote a factory that returns me the appropriate action instance depending on a keyword.\r\n\r\n    // Action interface\r\n\r\n    public interface Action {\r\n      void invoke();\r\n    }\r\n\r\n    // Action implementations\r\n\r\n    public class ActionOpen implements Action {\r\n      public static String getKeyword() { \r\n        return &quot;open&quot;;\r\n      }\r\n      @Override\r\n      public void invoke() {\r\n        // ...\r\n      }\r\n    }\r\n\r\n    public class ActionClose implements Action {\r\n      public static String getKeyword() { \r\n        return &quot;close&quot;;\r\n      }\r\n      @Override\r\n      public void invoke() {\r\n        // ...\r\n      }\r\n    }\r\n\r\n    // Action factory\r\n\r\n    public class ActionFactory {\r\n      public static Action getInstance(String action) {\r\n        if (ActionOpen.getKeyword().equals(action)) return new ActionOpen();\r\n        if (ActionClose.getKeyword().equals(action)) return new ActionClose();\r\n        return null;\r\n      }\r\n    }\r\n\r\nI&#39;m not happy with the serie of &quot;if&quot; in `ActionFactory` because it&#39;s not dynamic and I&#39;ll have to add new &quot;if&quot; in that factory everytime I create new action classes (for instance if I want to create a &quot;save&quot; action)\r\n\r\nIt would be better if action classes could register themselves in the factory automatically. I tried this using a `static{ }` block in order to do this, but unfortunately static block is not evaluated until I instantiate the action class (or if the class is abstract).\r\n\r\nI couldn&#39;t find a design pattern that resolves such situation. Any idea ?","title":"Select appropriate class depending on keyword without a serie of &quot;if&quot; in factory (java)","body":"<p>I'm trying to write a basic sample of interface implementation in java. The idea is to select an instance depending on a keyword. Here is an example:</p>\n<p>I have a basic <code>Action</code> interface which declares a method <code>invoke</code><br/>\nI wrote two different implementations of the interface: <code>ActionOpen</code> and <code>ActionClose</code> which implements the method <code>invoke</code> and have a static method <code>getKeyword()</code> which returns the keyword associated with object<br/>\nThen I wrote a factory that returns me the appropriate action instance depending on a keyword.</p>\n<pre><code>// Action interface\n\npublic interface Action {\n  void invoke();\n}\n\n// Action implementations\n\npublic class ActionOpen implements Action {\n  public static String getKeyword() { \n    return &quot;open&quot;;\n  }\n  @Override\n  public void invoke() {\n    // ...\n  }\n}\n\npublic class ActionClose implements Action {\n  public static String getKeyword() { \n    return &quot;close&quot;;\n  }\n  @Override\n  public void invoke() {\n    // ...\n  }\n}\n\n// Action factory\n\npublic class ActionFactory {\n  public static Action getInstance(String action) {\n    if (ActionOpen.getKeyword().equals(action)) return new ActionOpen();\n    if (ActionClose.getKeyword().equals(action)) return new ActionClose();\n    return null;\n  }\n}\n</code></pre>\n<p>I'm not happy with the serie of &quot;if&quot; in <code>ActionFactory</code> because it's not dynamic and I'll have to add new &quot;if&quot; in that factory everytime I create new action classes (for instance if I want to create a &quot;save&quot; action)</p>\n<p>It would be better if action classes could register themselves in the factory automatically. I tried this using a <code>static{ }</code> block in order to do this, but unfortunately static block is not evaluated until I instantiate the action class (or if the class is abstract).</p>\n<p>I couldn't find a design pattern that resolves such situation. Any idea ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25678038,"reputation":144,"user_id":19441175,"display_name":"Jay Limbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657099612,"creation_date":1657099612,"answer_id":72880996,"question_id":72880875,"body_markdown":"You are trying to get data from kids table which is not exist so it&#39;s error of it.\r\nso first ofall create table called kids then fire select query your error must be solved","title":"E/SQLiteLog: (1) no such table: kids (DatabaseHelper)","body":"<p>You are trying to get data from kids table which is not exist so it's error of it.\nso first ofall create table called kids then fire select query your error must be solved</p>\n"}],"owner":{"account_id":25599542,"reputation":1,"user_id":19374759,"display_name":"chandan pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657099612,"creation_date":1657099099,"question_id":72880875,"body_markdown":"I have an error message with my app and do not know what to do with the code.\r\n\r\n```\r\npackage com.own.babyfirstword.database\r\n\r\nimport android.content.Context\r\nimport android.database.sqlite.SQLiteDatabase\r\nimport android.database.sqlite.SQLiteOpenHelper\r\nimport com.own.babyfirstword.customclasses.Constant\r\nimport com.own.babyfirstword.model.ModelVideo\r\nimport java.io.File\r\nimport java.io.FileOutputStream\r\nimport java.io.IOException\r\n\r\n\r\nclass DatabaseHelper(internal var context: Context) : SQLiteOpenHelper(context, Constant.DATABASE_NAME, null, Constant.DATABASE_VERSION) {\r\n\r\n    val videoDetails: ArrayList&lt;ModelVideo&gt;\r\n        get() {\r\n            var arrPfVideoDetails = ArrayList&lt;ModelVideo&gt;()\r\n            val db = this.writableDatabase\r\n            val cursor = db.rawQuery(&quot;SELECT * FROM kids WHERE id=&quot; + Constant.VIDEO_CATEGORY_ID, null)\r\n            cursor.moveToFirst()\r\n            while (!cursor.isAfterLast) {\r\n                var modelVideo = ModelVideo()\r\n                var videoDescription = cursor.getString(cursor.getColumnIndexOrThrow(Constant.VIDEO))\r\n                modelVideo.videoId = videoDescription.split(&quot;#&quot;)[0]\r\n                modelVideo.videoTitle = videoDescription.split(&quot;#&quot;)[1]\r\n                modelVideo.videoThumb = &quot;https://i3.ytimg.com/vi/&quot; + videoDescription.split(&quot;#&quot;)[0]+&quot;/hqdefault.jpg&quot;\r\n                arrPfVideoDetails.add(modelVideo)\r\n                cursor.moveToNext()\r\n            }\r\n            return arrPfVideoDetails\r\n        }\r\n\r\n    override fun onCreate(db: SQLiteDatabase) {\r\n    }\r\n\r\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\r\n    }\r\n\r\n    @Throws(IOException::class)\r\n    fun createDataBase() {\r\n        val databaseExist = checkDataBase()\r\n        if (databaseExist) {\r\n        } else {\r\n            this.writableDatabase\r\n            copyDataBase()\r\n        }\r\n    }\r\n\r\n    private fun checkDataBase(): Boolean {\r\n        val databaseFile = File(Constant.DB_PATH + Constant.DATABASE_NAME)\r\n        return databaseFile.exists()\r\n    }\r\n\r\n    @Throws(IOException::class)\r\n    private fun copyDataBase() {\r\n        val myInput = context.assets.open(&quot;databases/&quot; + Constant.DATABASE_NAME)\r\n        val outFileName = Constant.DB_PATH + Constant.DATABASE_NAME\r\n        val myOutput = FileOutputStream(outFileName)\r\n        val buffer = ByteArray(1024)\r\n        while (myInput.read(buffer) &gt; 0) {\r\n            myOutput.write(buffer)\r\n        }\r\n        myOutput.flush()\r\n        myOutput.close()\r\n        myInput.close()\r\n    }\r\n\r\n}\r\n```\r\nThis is the Error I am getting.\r\n\r\n\r\n```\r\n2022-07-06 14:10:50.929 22310-22310/com.own.babyfirstword E/SQLiteLog: (1) no such table: kids\r\n2022-07-06 14:10:50.930 22310-22310/com.own.babyfirstword D/AndroidRuntime: Shutting down VM\r\n2022-07-06 14:10:50.955 22310-22310/com.own.babyfirstword E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.own.babyfirstword, PID: 22310\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.own.babyfirstword/com.own.babyfirstword.activity.video.ListVideoActivity}: android.database.sqlite.SQLiteException: no such table: kids (code 1): , while compiling: SELECT * FROM kids WHERE id=0\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2895)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1616)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:176)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6651)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\r\n     Caused by: android.database.sqlite.SQLiteException: no such table: kids (code 1): , while compiling: SELECT * FROM kids WHERE id=0\r\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:890)\r\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:501)\r\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\r\n        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\r\n        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\r\n        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1392)\r\n        at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1331)\r\n        at com.own.babyfirstword.database.DatabaseHelper.getVideoDetails(DatabaseHelper.kt:19)\r\n        at com.own.babyfirstword.activity.video.ListVideoActivity.setRvVideoListAdapter(ListVideoActivity.java:58)\r\n        at com.own.babyfirstword.activity.video.ListVideoActivity.initDefine(ListVideoActivity.java:47)\r\n        at com.own.babyfirstword.activity.video.ListVideoActivity.onCreate(ListVideoActivity.java:37)\r\n        at android.app.Activity.performCreate(Activity.java:7088)\r\n        at android.app.Activity.performCreate(Activity.java:7079)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1215)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2895)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1616)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:176)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6651)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)&#160;\r\n```","title":"E/SQLiteLog: (1) no such table: kids (DatabaseHelper)","body":"<p>I have an error message with my app and do not know what to do with the code.</p>\n<pre><code>package com.own.babyfirstword.database\n\nimport android.content.Context\nimport android.database.sqlite.SQLiteDatabase\nimport android.database.sqlite.SQLiteOpenHelper\nimport com.own.babyfirstword.customclasses.Constant\nimport com.own.babyfirstword.model.ModelVideo\nimport java.io.File\nimport java.io.FileOutputStream\nimport java.io.IOException\n\n\nclass DatabaseHelper(internal var context: Context) : SQLiteOpenHelper(context, Constant.DATABASE_NAME, null, Constant.DATABASE_VERSION) {\n\n    val videoDetails: ArrayList&lt;ModelVideo&gt;\n        get() {\n            var arrPfVideoDetails = ArrayList&lt;ModelVideo&gt;()\n            val db = this.writableDatabase\n            val cursor = db.rawQuery(&quot;SELECT * FROM kids WHERE id=&quot; + Constant.VIDEO_CATEGORY_ID, null)\n            cursor.moveToFirst()\n            while (!cursor.isAfterLast) {\n                var modelVideo = ModelVideo()\n                var videoDescription = cursor.getString(cursor.getColumnIndexOrThrow(Constant.VIDEO))\n                modelVideo.videoId = videoDescription.split(&quot;#&quot;)[0]\n                modelVideo.videoTitle = videoDescription.split(&quot;#&quot;)[1]\n                modelVideo.videoThumb = &quot;https://i3.ytimg.com/vi/&quot; + videoDescription.split(&quot;#&quot;)[0]+&quot;/hqdefault.jpg&quot;\n                arrPfVideoDetails.add(modelVideo)\n                cursor.moveToNext()\n            }\n            return arrPfVideoDetails\n        }\n\n    override fun onCreate(db: SQLiteDatabase) {\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n    }\n\n    @Throws(IOException::class)\n    fun createDataBase() {\n        val databaseExist = checkDataBase()\n        if (databaseExist) {\n        } else {\n            this.writableDatabase\n            copyDataBase()\n        }\n    }\n\n    private fun checkDataBase(): Boolean {\n        val databaseFile = File(Constant.DB_PATH + Constant.DATABASE_NAME)\n        return databaseFile.exists()\n    }\n\n    @Throws(IOException::class)\n    private fun copyDataBase() {\n        val myInput = context.assets.open(&quot;databases/&quot; + Constant.DATABASE_NAME)\n        val outFileName = Constant.DB_PATH + Constant.DATABASE_NAME\n        val myOutput = FileOutputStream(outFileName)\n        val buffer = ByteArray(1024)\n        while (myInput.read(buffer) &gt; 0) {\n            myOutput.write(buffer)\n        }\n        myOutput.flush()\n        myOutput.close()\n        myInput.close()\n    }\n\n}\n</code></pre>\n<p>This is the Error I am getting.</p>\n<pre><code>2022-07-06 14:10:50.929 22310-22310/com.own.babyfirstword E/SQLiteLog: (1) no such table: kids\n2022-07-06 14:10:50.930 22310-22310/com.own.babyfirstword D/AndroidRuntime: Shutting down VM\n2022-07-06 14:10:50.955 22310-22310/com.own.babyfirstword E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.own.babyfirstword, PID: 22310\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.own.babyfirstword/com.own.babyfirstword.activity.video.ListVideoActivity}: android.database.sqlite.SQLiteException: no such table: kids (code 1): , while compiling: SELECT * FROM kids WHERE id=0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2895)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1616)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:176)\n        at android.app.ActivityThread.main(ActivityThread.java:6651)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824)\n     Caused by: android.database.sqlite.SQLiteException: no such table: kids (code 1): , while compiling: SELECT * FROM kids WHERE id=0\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:890)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:501)\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n        at android.database.sqlite.SQLiteQuery.&lt;init&gt;(SQLiteQuery.java:37)\n        at android.database.sqlite.SQLiteDirectCursorDriver.query(SQLiteDirectCursorDriver.java:46)\n        at android.database.sqlite.SQLiteDatabase.rawQueryWithFactory(SQLiteDatabase.java:1392)\n        at android.database.sqlite.SQLiteDatabase.rawQuery(SQLiteDatabase.java:1331)\n        at com.own.babyfirstword.database.DatabaseHelper.getVideoDetails(DatabaseHelper.kt:19)\n        at com.own.babyfirstword.activity.video.ListVideoActivity.setRvVideoListAdapter(ListVideoActivity.java:58)\n        at com.own.babyfirstword.activity.video.ListVideoActivity.initDefine(ListVideoActivity.java:47)\n        at com.own.babyfirstword.activity.video.ListVideoActivity.onCreate(ListVideoActivity.java:37)\n        at android.app.Activity.performCreate(Activity.java:7088)\n        at android.app.Activity.performCreate(Activity.java:7079)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1215)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2895) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1616) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:176) \n        at android.app.ActivityThread.main(ActivityThread.java:6651) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:824) \n</code></pre>\n"},{"tags":["java","android","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654683900,"post_id":72541365,"comment_id":128147858,"body_markdown":"`have already succeeded with this operation` ? Which operation?","body":"<code>have already succeeded with this operation</code> ? Which operation?"},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1654684489,"post_id":72541365,"comment_id":128148042,"body_markdown":"For images, I wrote it at the beginning and then I have given the code for the images ? Should I modify my post to be clearer ?","body":"For images, I wrote it at the beginning and then I have given the code for the images ? Should I modify my post to be clearer ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1654685334,"post_id":72541365,"comment_id":128148392,"body_markdown":"Yes. We cannot read in your post what kind of operation you wanna do. Dont refer to a title please.","body":"Yes. We cannot read in your post what kind of operation you wanna do. Dont refer to a title please."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1656326910,"post_id":72541365,"comment_id":128536195,"body_markdown":"&quot;This function above is not working&quot; -- please explain in detail what you mean by this. For example, are you crashing? If so, use Logcat to examine the stack trace. Also, you need to tell us how you are getting the value of `databasesFolder`.","body":"&quot;This function above is not working&quot; -- please explain in detail what you mean by this. For example, are you crashing? If so, use Logcat to examine the stack trace. Also, you need to tell us how you are getting the value of <code>databasesFolder</code>."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1656333201,"post_id":72541365,"comment_id":128538568,"body_markdown":"Unless you are the developer of `com.mydb.orca`, you have no read or write access to that location on Android 11+. Have you tried copying your database to a more conventional location?","body":"Unless you are the developer of <code>com.mydb.orca</code>, you have no read or write access to that location on Android 11+. Have you tried copying your database to a more conventional location?"},{"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"score":0,"creation_date":1656336092,"post_id":72541365,"comment_id":128539741,"body_markdown":"This location was created in my application package before android 11, it looked something like this : &quot;Android/data/com.data.myApp/com.myd.orca/databases/myfiles&quot;","body":"This location was created in my application package before android 11, it looked something like this : &quot;Android/data/com.data.myApp/com.myd.orca/databases/myfiles&quot;"},{"owner":{"account_id":11400684,"reputation":300,"user_id":8357735,"display_name":"farid"},"score":0,"creation_date":1656400400,"post_id":72541365,"comment_id":128555966,"body_markdown":"add this and try again :  `contentValues.put(MediaStore.MediaColumns.MIME_TYPE,&quot;image/jpeg&quot;);`","body":"add this and try again :  <code>contentValues.put(MediaStore.MediaColumns.MIME_TYPE,&quot;image&#47;j&zwnj;&#8203;peg&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657099378,"creation_date":1657098769,"answer_id":72880791,"question_id":72541365,"body_markdown":"I finally find a solution, I pretty sure it&#39;s not the best way but it work.\r\nI give me access to all files acccess by this way :\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\r\n      try {\r\n            Intent intentFiles = new Intent();\r\n            intentFiles.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            Uri uriFiles = Uri.fromParts(&quot;package&quot;, myContext.getPackageName(), null);\r\n            intentFiles.setData(uriFiles);\r\n            myContext.startActivity(intentFiles);\r\n           } catch (Exception e)\r\n           {\r\n            Intent intentFiles = new Intent();\r\n            intentFiles.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n            myContext.startActivity(intentFiles);\r\n           }\r\n\r\nadd this line to your manifest:\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nafter that, this code below work :\r\n\r\n    AssetManager assetManager = Objects.requireNonNull(requireContext()).getAssets();\r\n    Context myContext = requireContext();\r\n    //Essential for creating the external storage directory for the first launch\r\n    myContext.getExternalFilesDir(null);\r\n    File databasesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;com.mydb.orca/databases&quot;);\r\n    databasesFolder.mkdirs();\r\n\r\n     if (files!= null) {\r\n        for (String filename : files) {\r\n            InputStream in;\r\n            OutputStream out;\r\n            try {\r\n                in = assetManager.open(&quot;database/test/&quot; + filename);\r\n                File outFile = new File(databasesFolder, filename);\r\n                out = new FileOutputStream(outFile);\r\n                copyFile(in, out);\r\n                in.close();\r\n                out.flush();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + filename, e);\r\n            }\r\n        }\r\n    } else {\r\n        Log.e(&quot;Error NPE&quot;, &quot;files is null&quot;);\r\n    }\r\n\r\n\r\n\r\n    private void copyFile(InputStream in, OutputStream out) throws IOException {\r\n    byte[] buffer = new byte[1024];\r\n    int read;\r\n    while ((read = in.read(buffer)) != -1) {\r\n        out.write(buffer, 0, read);\r\n    }\r\n}\r\n\r\nif someone have a best solution it should be nice\r\n\r\nI tested on android 11 and it work\r\n\r\n","title":"How to move/copy any type of file from asset file to scoped storage ANDROID Q in JAVA?","body":"<p>I finally find a solution, I pretty sure it's not the best way but it work.\nI give me access to all files acccess by this way :</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R){\n  try {\n        Intent intentFiles = new Intent();\n        intentFiles.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n        Uri uriFiles = Uri.fromParts(&quot;package&quot;, myContext.getPackageName(), null);\n        intentFiles.setData(uriFiles);\n        myContext.startActivity(intentFiles);\n       } catch (Exception e)\n       {\n        Intent intentFiles = new Intent();\n        intentFiles.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n        myContext.startActivity(intentFiles);\n       }\n</code></pre>\n<p>add this line to your manifest:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>after that, this code below work :</p>\n<pre><code>AssetManager assetManager = Objects.requireNonNull(requireContext()).getAssets();\nContext myContext = requireContext();\n//Essential for creating the external storage directory for the first launch\nmyContext.getExternalFilesDir(null);\nFile databasesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;com.mydb.orca/databases&quot;);\ndatabasesFolder.mkdirs();\n\n if (files!= null) {\n    for (String filename : files) {\n        InputStream in;\n        OutputStream out;\n        try {\n            in = assetManager.open(&quot;database/test/&quot; + filename);\n            File outFile = new File(databasesFolder, filename);\n            out = new FileOutputStream(outFile);\n            copyFile(in, out);\n            in.close();\n            out.flush();\n            out.close();\n        } catch (IOException e) {\n            Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + filename, e);\n        }\n    }\n} else {\n    Log.e(&quot;Error NPE&quot;, &quot;files is null&quot;);\n}\n\n\n\nprivate void copyFile(InputStream in, OutputStream out) throws IOException {\nbyte[] buffer = new byte[1024];\nint read;\nwhile ((read = in.read(buffer)) != -1) {\n    out.write(buffer, 0, read);\n}\n</code></pre>\n<p>}</p>\n<p>if someone have a best solution it should be nice</p>\n<p>I tested on android 11 and it work</p>\n"}],"owner":{"account_id":23214944,"reputation":375,"user_id":17307978,"display_name":"Louis Chabert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72880791,"answer_count":1,"score":3,"last_activity_date":1657099378,"creation_date":1654671688,"question_id":72541365,"body_markdown":"I have already succeeded with this operation with images, but I cannot do it with other type of file, in my case I try to insert a database.\r\n\r\nHere is an example of the code for the images: \r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\r\n            try {\r\n                try {\r\n                    pictures = assetManager.list(&quot;photos/dataset1&quot;);\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\r\n                }\r\n                if (pictures != null) {\r\n                    for (String filename : pictures) {\r\n                        InputStream in;\r\n                        OutputStream out;\r\n                        InputStream inputStream = assetManager.open(&quot;photos/dataset1/&quot;+filename);\r\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                        saveImageToGallery(bitmap);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\nThis method below works for the images : \r\n\r\n    public void saveImageToGallery(Bitmap bitmap) {\r\n        OutputStream outputStream;\r\n        Context myContext = requireContext();\r\n        try {\r\n            if(Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.Q){\r\n                ContentResolver contentResolver = requireContext().getContentResolver();\r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME,&quot;Image_&quot;+&quot;.jpg&quot;);\r\n                contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\r\n                Uri imageUri = contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\r\n                outputStream = contentResolver.openOutputStream(Objects.requireNonNull(imageUri));\r\n                bitmap.compress(Bitmap.CompressFormat.JPEG,100, outputStream);\r\n                Objects.requireNonNull(outputStream);\r\n\r\n            }\r\n        }catch (FileNotFoundException e) {\r\n\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nand there my try for the other type of file : \r\n\r\n            AssetManager assetManager = Objects.requireNonNull(requireContext()).getAssets();\r\n        Context myContext = requireContext();\r\n        //Essential for creating the external storage directory for the first launch\r\n        myContext.getExternalFilesDir(null);\r\n        File databasesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;com.mydb.orca/databases&quot;);\r\n        databasesFolder.mkdirs();\r\n\r\n     if (files!= null) {\r\n            for (String filename : files) {\r\n                InputStream in;\r\n                OutputStream out;\r\n                try {\r\n                    in = assetManager.open(&quot;database/test/&quot; + filename);\r\n                    File outFile = new File(databasesFolder, filename);\r\n                    out = new FileOutputStream(outFile);\r\n                    copyFile(in, out);\r\n                    in.close();\r\n                    out.flush();\r\n                    out.close();\r\n                } catch (IOException e) {\r\n                    Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + filename, e);\r\n                }\r\n            }\r\n        } else {\r\n            Log.e(&quot;Error NPE&quot;, &quot;files is null&quot;);\r\n        }\r\n\r\n\r\n\r\n        private void copyFile(InputStream in, OutputStream out) throws IOException {\r\n        byte[] buffer = new byte[1024];\r\n        int read;\r\n        while ((read = in.read(buffer)) != -1) {\r\n            out.write(buffer, 0, read);\r\n        }\r\n    }\r\nThis code above is not working, I mean, I don&#39;t get any errors or the desired result. I want something like this or a function similary as the function for my images but for any type of file.\r\nWhen I run my application I have no error however nothing happens","title":"How to move/copy any type of file from asset file to scoped storage ANDROID Q in JAVA?","body":"<p>I have already succeeded with this operation with images, but I cannot do it with other type of file, in my case I try to insert a database.</p>\n<p>Here is an example of the code for the images:</p>\n<pre><code> if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\n        try {\n            try {\n                pictures = assetManager.list(&quot;photos/dataset1&quot;);\n            } catch (IOException e) {\n                Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\n            }\n            if (pictures != null) {\n                for (String filename : pictures) {\n                    InputStream in;\n                    OutputStream out;\n                    InputStream inputStream = assetManager.open(&quot;photos/dataset1/&quot;+filename);\n                    Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                    saveImageToGallery(bitmap);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This method below works for the images :</p>\n<pre><code>public void saveImageToGallery(Bitmap bitmap) {\n    OutputStream outputStream;\n    Context myContext = requireContext();\n    try {\n        if(Build.VERSION.SDK_INT &gt;=Build.VERSION_CODES.Q){\n            ContentResolver contentResolver = requireContext().getContentResolver();\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME,&quot;Image_&quot;+&quot;.jpg&quot;);\n            contentValues.put(MediaStore.MediaColumns.RELATIVE_PATH, Environment.DIRECTORY_PICTURES);\n            Uri imageUri = contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, contentValues);\n            outputStream = contentResolver.openOutputStream(Objects.requireNonNull(imageUri));\n            bitmap.compress(Bitmap.CompressFormat.JPEG,100, outputStream);\n            Objects.requireNonNull(outputStream);\n\n        }\n    }catch (FileNotFoundException e) {\n\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>and there my try for the other type of file :</p>\n<pre><code>        AssetManager assetManager = Objects.requireNonNull(requireContext()).getAssets();\n    Context myContext = requireContext();\n    //Essential for creating the external storage directory for the first launch\n    myContext.getExternalFilesDir(null);\n    File databasesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;com.mydb.orca/databases&quot;);\n    databasesFolder.mkdirs();\n\n if (files!= null) {\n        for (String filename : files) {\n            InputStream in;\n            OutputStream out;\n            try {\n                in = assetManager.open(&quot;database/test/&quot; + filename);\n                File outFile = new File(databasesFolder, filename);\n                out = new FileOutputStream(outFile);\n                copyFile(in, out);\n                in.close();\n                out.flush();\n                out.close();\n            } catch (IOException e) {\n                Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + filename, e);\n            }\n        }\n    } else {\n        Log.e(&quot;Error NPE&quot;, &quot;files is null&quot;);\n    }\n\n\n\n    private void copyFile(InputStream in, OutputStream out) throws IOException {\n    byte[] buffer = new byte[1024];\n    int read;\n    while ((read = in.read(buffer)) != -1) {\n        out.write(buffer, 0, read);\n    }\n}\n</code></pre>\n<p>This code above is not working, I mean, I don't get any errors or the desired result. I want something like this or a function similary as the function for my images but for any type of file.\nWhen I run my application I have no error however nothing happens</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":4341785,"reputation":12857,"user_id":3544839,"accept_rate":62,"display_name":"Moinkhan"},"score":0,"creation_date":1497071020,"post_id":44438467,"comment_id":75935452,"body_markdown":"In my case it&#39;s working.\nDouble check may be you forgot something.","body":"In my case it&#39;s working. Double check may be you forgot something."},{"owner":{"account_id":537205,"reputation":211,"user_id":905831,"display_name":"stevenwood"},"score":0,"creation_date":1497256187,"post_id":44438467,"comment_id":75982789,"body_markdown":"I was rechecking, and finally the issue seems to be linked with the use of groovy. The annotation processor is not getting called when I put my code under groovy/ directory. I dont know how to fix it.\n    `|____app\n     | |____build.gradle\n     | |____src\n     | | |____main\n     | | | |____java\n     |____MyLibraryName\n     | |____build.gradle\n     | |____src\n     | | |____main\n     | | | |____groovy   &lt;= not working if code is put under groovy/ \n     | | | |____java &lt;= working if code put under java/`","body":"I was rechecking, and finally the issue seems to be linked with the use of groovy. The annotation processor is not getting called when I put my code under groovy/ directory. I dont know how to fix it.     <code>|____app      | |____build.gradle      | |____src      | | |____main      | | | |____java      |____MyLibraryName      | |____build.gradle      | |____src      | | |____main      | | | |____groovy   &lt;= not working if code is put under groovy&#47;       | | | |____java &lt;= working if code put under java&#47;</code>"}],"answers":[{"tags":[],"owner":{"account_id":896324,"reputation":213,"user_id":951533,"accept_rate":20,"display_name":"Abhinav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501661369,"creation_date":1501661369,"answer_id":45455074,"question_id":44438467,"body_markdown":"@stevenwood It seems you&#39;re right about groovy/ \r\n\r\nI had the same project structure. But in my case, I had no real Groovy code inside groovy/. Only plain old Java code. Hence, perhaps it was easier for me to get the project working again by making the following changes \r\n\r\nRemoving / commenting-out &lt;code&gt;classpath &#39;org.codehaus.groovy:gradle-groovy-android-plugin:0.3.8&#39; from the project&#39;s build.gradle &lt;/code&gt;\r\n\r\nRemoving / commenting-out &lt;code&gt;apply plugin: &#39;groovyx.grooid.groovy-android&#39; from the module&#39;s build.gradle&lt;/code&gt; \r\n\r\n&lt;code&gt;git mv groovy/ java/&lt;/code&gt; \r\n\r\nThereafter at least, I stopped getting the &lt;code&gt;missing Database_Impl&lt;/code&gt; message from Room. ","title":"Android Room Persistence Library not working inside library project","body":"<p>@stevenwood It seems you're right about groovy/ </p>\n\n<p>I had the same project structure. But in my case, I had no real Groovy code inside groovy/. Only plain old Java code. Hence, perhaps it was easier for me to get the project working again by making the following changes </p>\n\n<p>Removing / commenting-out <code>classpath 'org.codehaus.groovy:gradle-groovy-android-plugin:0.3.8' from the project's build.gradle </code></p>\n\n<p>Removing / commenting-out <code>apply plugin: 'groovyx.grooid.groovy-android' from the module's build.gradle</code> </p>\n\n<p><code>git mv groovy/ java/</code> </p>\n\n<p>Thereafter at least, I stopped getting the <code>missing Database_Impl</code> message from Room. </p>\n"},{"tags":[],"owner":{"account_id":3786527,"reputation":40,"user_id":3144323,"display_name":"RaminBoodaghi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579695128,"creation_date":1579695128,"answer_id":59859517,"question_id":44438467,"body_markdown":"This can happen when you use `annotationProcessor` in a kotlin project.\r\nif so, do these\r\n\r\n    apply plugin: &#39;kotlin-kapt&#39;    \r\nand use `kapt` instead of `annotationProcessor`","title":"Android Room Persistence Library not working inside library project","body":"<p>This can happen when you use <code>annotationProcessor</code> in a kotlin project.\nif so, do these</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'    \n</code></pre>\n\n<p>and use <code>kapt</code> instead of <code>annotationProcessor</code></p>\n"}],"owner":{"account_id":537205,"reputation":211,"user_id":905831,"display_name":"stevenwood"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2034,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1657099163,"creation_date":1496932004,"question_id":44438467,"body_markdown":"I&#39;m developing an Android library, and want to use the new Android Room persistence library inside it. However, when launching I got this error :\r\n\r\n``` \r\nCaused by: java.lang.RuntimeException: cannot find implementation for\r\nMyLibraryName.Database.QSDatabase. QSDatabase_Impl does not exist\r\nat android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\r\n``` \r\n\r\nwhich means that the **annotationProcessor** is not generating the extra code during compilation.\r\n\r\nBtw, everything is working fine when I put my _@Database_ code inside the app module.\r\n\r\nMy gradle file (library module) :\r\n```\r\napply plugin: &#39;com.android.library&#39;\r\napply plugin: &#39;groovyx.android&#39;\r\n\r\nbuildscript {\r\nrepositories {\r\n    jcenter()\r\n    maven { url &#39;https://maven.google.com&#39; }\r\n}\r\n\r\ndependencies {\r\n    classpath &#39;com.android.tools.build:gradle:2.3.2&#39;\r\n    classpath &#39;org.codehaus.groovy:groovy-android-gradle-plugin:1.1.0&#39;\r\n}\r\n}\r\n\r\nandroid {\r\ncompileSdkVersion 25\r\nbuildToolsVersion &quot;25.0.3&quot;\r\n\r\ndefaultConfig {\r\n    minSdkVersion 15\r\n    targetSdkVersion 25\r\n    versionCode 1\r\n    versionName &quot;1.0&quot;\r\n    configurations.all {\r\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n            def requested = details.requested\r\n            if (requested.group == &#39;com.android.support&#39;) {\r\n                if (!requested.name.startsWith(&quot;multidex&quot;)) {\r\n                    details.useVersion &#39;25.3.0&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nbuildTypes {\r\n    release {\r\n        minifyEnabled false\r\n        proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    }\r\n}\r\nsourceSets { main { java.srcDirs = [&#39;src/main/java&#39;, &#39;src/main/groovy&#39;] } }\r\n}\r\n\r\ndependencies {\r\n// google Room persistence library\r\ncompile &quot;android.arch.persistence.room:runtime:1.0.0-alpha1&quot;\r\nannotationProcessor &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;\r\ncompile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\nandroidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, \r\n{\r\n    exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n})\r\n// google location service\r\ncompile &#39;com.google.android.gms:play-services-location:10.2.4&#39;\r\nandroidTestCompile &#39;junit:junit:4.12&#39;\r\n// Http\r\ncompile &#39;com.squareup.retrofit2:retrofit:2.3.0&#39;\r\ncompile &#39;com.google.code.gson:gson:2.6.2&#39;\r\ncompile &#39;com.squareup.retrofit2:converter-gson:2.3.0&#39;\r\ncompile &#39;com.squareup.okhttp3:logging-interceptor:3.8.0&#39;\r\ncompile &#39;com.squareup.retrofit2:converter-scalars:2.1.0&#39;\r\n// groovy\r\ncompile group: &#39;org.codehaus.groovy&#39;, name: &#39;groovy-all&#39;, version: &#39;2.4.4&#39;\r\n}\r\n```","title":"Android Room Persistence Library not working inside library project","body":"<p>I'm developing an Android library, and want to use the new Android Room persistence library inside it. However, when launching I got this error :</p>\n<pre><code>Caused by: java.lang.RuntimeException: cannot find implementation for\nMyLibraryName.Database.QSDatabase. QSDatabase_Impl does not exist\nat android.arch.persistence.room.Room.getGeneratedImplementation(Room.java:90)\n</code></pre>\n<p>which means that the <strong>annotationProcessor</strong> is not generating the extra code during compilation.</p>\n<p>Btw, everything is working fine when I put my <em>@Database</em> code inside the app module.</p>\n<p>My gradle file (library module) :</p>\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'groovyx.android'\n\nbuildscript {\nrepositories {\n    jcenter()\n    maven { url 'https://maven.google.com' }\n}\n\ndependencies {\n    classpath 'com.android.tools.build:gradle:2.3.2'\n    classpath 'org.codehaus.groovy:groovy-android-gradle-plugin:1.1.0'\n}\n}\n\nandroid {\ncompileSdkVersion 25\nbuildToolsVersion &quot;25.0.3&quot;\n\ndefaultConfig {\n    minSdkVersion 15\n    targetSdkVersion 25\n    versionCode 1\n    versionName &quot;1.0&quot;\n    configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n            def requested = details.requested\n            if (requested.group == 'com.android.support') {\n                if (!requested.name.startsWith(&quot;multidex&quot;)) {\n                    details.useVersion '25.3.0'\n                }\n            }\n        }\n    }\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\nsourceSets { main { java.srcDirs = ['src/main/java', 'src/main/groovy'] } }\n}\n\ndependencies {\n// google Room persistence library\ncompile &quot;android.arch.persistence.room:runtime:1.0.0-alpha1&quot;\nannotationProcessor &quot;android.arch.persistence.room:compiler:1.0.0-alpha1&quot;\ncompile fileTree(include: ['*.jar'], dir: 'libs')\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', \n{\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\n// google location service\ncompile 'com.google.android.gms:play-services-location:10.2.4'\nandroidTestCompile 'junit:junit:4.12'\n// Http\ncompile 'com.squareup.retrofit2:retrofit:2.3.0'\ncompile 'com.google.code.gson:gson:2.6.2'\ncompile 'com.squareup.retrofit2:converter-gson:2.3.0'\ncompile 'com.squareup.okhttp3:logging-interceptor:3.8.0'\ncompile 'com.squareup.retrofit2:converter-scalars:2.1.0'\n// groovy\ncompile group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.4.4'\n}\n</code></pre>\n"},{"tags":["java","android","request","sdk","chipmunk"],"comments":[{"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"score":0,"creation_date":1656570350,"post_id":72809829,"comment_id":128606067,"body_markdown":"I suggest you to use easy permission now its recomnded by alots of people","body":"I suggest you to use easy permission now its recomnded by alots of people"}],"answers":[{"tags":[],"owner":{"account_id":25686482,"reputation":30,"user_id":19448489,"display_name":"Puad Hamdani"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657099095,"creation_date":1656558617,"answer_id":72809908,"question_id":72809829,"body_markdown":"You declare a need for a background location when an app requests the `ACCESS_COARSE_LOCATION` permission or the `ACCESS_FINE_LOCATION` permission.\r\n\r\n```lang-xml\r\n&lt;manifest ... &gt;\r\n  &lt;!-- Always include this permission --&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n\r\n  &lt;!-- Include only if your app benefits from precise location access. --&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n&lt;/manifest&gt;\r\n```","title":"RequestPermissions isn&#39;t giving a prompt Android Studio API 32","body":"<p>You declare a need for a background location when an app requests the <code>ACCESS_COARSE_LOCATION</code> permission or the <code>ACCESS_FINE_LOCATION</code> permission.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest ... &gt;\n  &lt;!-- Always include this permission --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n  &lt;!-- Include only if your app benefits from precise location access. --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":24980060,"reputation":15,"user_id":18842365,"display_name":"Ali Abdullah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72809908,"answer_count":1,"score":0,"last_activity_date":1657099095,"creation_date":1656557592,"question_id":72809829,"body_markdown":"I&#39;m working on Android Studio chipmunk using java language.\r\nI&#39;m trying to request permission for Nearby devices. So far I have already tried the AppCompat and regular requestpermissions method but none seems to work.\r\nThe app is not prompting the user to allow the device to access any of the required permissions including Bluetooth, location, and nearby devices.\r\n\r\nI am using Pixel 3 device to run my code with Android 12.\r\n\r\n```\r\npublic void getpermissions(){\r\n     \r\n            if ((ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) !=\r\n                    PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) || (\r\n                    ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) !=\r\n                            PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.BLUETOOTH_ADVERTISE) != PackageManager.PERMISSION_GRANTED) ||\r\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) !=\r\n                            PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\r\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) !=\r\n                            PackageManager.PERMISSION_GRANTED)||\r\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) !=\r\n                            PackageManager.PERMISSION_GRANTED)||\r\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACTIVITY_RECOGNITION) !=\r\n                            PackageManager.PERMISSION_GRANTED)||\r\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission_group.NEARBY_DEVICES) !=\r\n                            PackageManager.PERMISSION_GRANTED))  {\r\n                requestPermissions(new String[]{Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_ADMIN\r\n                        , Manifest.permission.BLUETOOTH_ADVERTISE, Manifest.permission.BLUETOOTH_CONNECT, Manifest.permission.BLUETOOTH_CONNECT,Manifest.permission.ACTIVITY_RECOGNITION,\r\n                        Manifest.permission.BLUETOOTH_SCAN, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION,\r\n                        Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission_group.NEARBY_DEVICES}, 1);\r\n                //requestPermissions(new String[]{Manifest.permission_group.NEARBY_DEVICES}, 1);\r\n                return;\r\n            }\r\n      \r\n    }\r\n```\r\n\r\nThis is my manifest file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.navigation&quot; &gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission-group.NEARBY_DEVICES&quot; /&gt;\r\n    &quot;android.permission-group.NEARBY_DEVICES&quot;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.bluetooth&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.bluetooth_le&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Navigation&quot;\r\n        tools:targetApi=&quot;32&quot; &gt;\r\n        &lt;activity\r\n            android:name=&quot;.DeviceScanActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTop&quot; &gt;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"RequestPermissions isn&#39;t giving a prompt Android Studio API 32","body":"<p>I'm working on Android Studio chipmunk using java language.\nI'm trying to request permission for Nearby devices. So far I have already tried the AppCompat and regular requestpermissions method but none seems to work.\nThe app is not prompting the user to allow the device to access any of the required permissions including Bluetooth, location, and nearby devices.</p>\n<p>I am using Pixel 3 device to run my code with Android 12.</p>\n<pre><code>public void getpermissions(){\n     \n            if ((ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH) !=\n                    PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\n                    Manifest.permission.BLUETOOTH_ADMIN) != PackageManager.PERMISSION_GRANTED) || (\n                    ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_SCAN) !=\n                            PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\n                    Manifest.permission.BLUETOOTH_ADVERTISE) != PackageManager.PERMISSION_GRANTED) ||\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) !=\n                            PackageManager.PERMISSION_GRANTED) || (ActivityCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) !=\n                            PackageManager.PERMISSION_GRANTED)||\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_BACKGROUND_LOCATION) !=\n                            PackageManager.PERMISSION_GRANTED)||\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACTIVITY_RECOGNITION) !=\n                            PackageManager.PERMISSION_GRANTED)||\n                    (ActivityCompat.checkSelfPermission(this, Manifest.permission_group.NEARBY_DEVICES) !=\n                            PackageManager.PERMISSION_GRANTED))  {\n                requestPermissions(new String[]{Manifest.permission.BLUETOOTH, Manifest.permission.BLUETOOTH_ADMIN\n                        , Manifest.permission.BLUETOOTH_ADVERTISE, Manifest.permission.BLUETOOTH_CONNECT, Manifest.permission.BLUETOOTH_CONNECT,Manifest.permission.ACTIVITY_RECOGNITION,\n                        Manifest.permission.BLUETOOTH_SCAN, Manifest.permission.ACCESS_FINE_LOCATION, Manifest.permission.ACCESS_BACKGROUND_LOCATION,\n                        Manifest.permission.ACCESS_COARSE_LOCATION,Manifest.permission_group.NEARBY_DEVICES}, 1);\n                //requestPermissions(new String[]{Manifest.permission_group.NEARBY_DEVICES}, 1);\n                return;\n            }\n      \n    }\n</code></pre>\n<p>This is my manifest file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.navigation&quot; &gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADVERTISE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission-group.NEARBY_DEVICES&quot; /&gt;\n    &quot;android.permission-group.NEARBY_DEVICES&quot;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.bluetooth&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.bluetooth_le&quot;\n        android:required=&quot;false&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Navigation&quot;\n        tools:targetApi=&quot;32&quot; &gt;\n        &lt;activity\n            android:name=&quot;.DeviceScanActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTop&quot; &gt;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","java-8","maven-3","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657108120,"post_id":72880838,"comment_id":128729985,"body_markdown":"It would be helpful to have much more information...for example which JUnit Jupiter version are you using? The whole pom file also which versions of surefire-plugin you are using and which JDK version exactly..also do you use a module-info file? etc. a full log output etc..","body":"It would be helpful to have much more information...for example which JUnit Jupiter version are you using? The whole pom file also which versions of surefire-plugin you are using and which JDK version exactly..also do you use a module-info file? etc. a full log output etc.."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657195626,"post_id":72880838,"comment_id":128756055,"body_markdown":"You are *not* using jdk 1.8  when you run into this problem. Neither does your attempted solution match the specified version, as jdk 1.8 \n doesn’t have the `--add-opens` option. Worth reading: https://github.com/webcompere/system-stubs/blob/main/README.md","body":"You are <i>not</i> using jdk 1.8  when you run into this problem. Neither does your attempted solution match the specified version, as jdk 1.8   doesn’t have the <code>--add-opens</code> option. Worth reading: <a href=\"https://github.com/webcompere/system-stubs/blob/main/README.md\" rel=\"nofollow noreferrer\">github.com/webcompere/system-stubs/blob/main/README.md</a>"}],"owner":{"account_id":3738809,"reputation":157,"user_id":3109073,"display_name":"DieDen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4403,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657098946,"creation_date":1657098946,"question_id":72880838,"body_markdown":"I am new to java and maven so bare with me :)\r\nUsing jdk 1.8 along with maven 3.8.5 on intellij IDE. Trying to run a test method where I set my unit test environment variables using Systemstubs like this:\r\n\r\n    @ExtendWith(SystemStubsExtension.class)\r\n\r\n    class myClass {\r\n    @SystemStub\r\n    private static EnvironmentVariables variables = Helper.getEnvironmentVariables();\r\n\r\nand the Helper class function is:\r\n\r\n    public static EnvironmentVariables getEnvironmentVariables() {\r\n            return new EnvironmentVariables()\r\n                    .and(&quot;username&quot;, &quot;admin&quot;)\r\n                    .and(&quot;password&quot;, &quot;qwerty&quot;)\r\n\r\nUnfortunately I keep getting the following error:\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field\r\n&gt; private final java.util.Map java.util.Collections$UnmodifiableMap.m\r\n&gt; accessible: module java.base does not &quot;opens java.util&quot; to unnamed\r\n&gt; module @15d0c81b\r\n&gt; \r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n&gt; \tat\r\n&gt; java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n&gt; \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:243)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:205)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.setEnvironmentVariables(EnvironmentVariables.java:162)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.doSetup(EnvironmentVariables.java:153)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.resource.SingularTestResource.setup(SingularTestResource.java:17)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.setup(SystemStubsExtension.java:88)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.setupFields(SystemStubsExtension.java:110)\r\n&gt; \tat\r\n&gt; uk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.postProcessTestInstance(SystemStubsExtension.java:31)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n&gt; \tat\r\n&gt; java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n&gt; \tat\r\n&gt; java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n&gt; \tat java.base/java.util.Optional.orElseGet(Optional.java:364) \tat\r\n&gt; org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n&gt; \tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n&gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n&gt; \tat\r\n&gt; org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n&gt; \tat\r\n&gt; org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n&gt; \tat\r\n&gt; com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n&gt; \tat\r\n&gt; com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n&gt; \tat\r\n&gt; com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n&gt; \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n&gt; \tSuppressed: java.lang.reflect.InaccessibleObjectException: Unable to\r\n&gt; make field private final java.util.Map\r\n&gt; java.util.Collections$UnmodifiableMap.m accessible: module java.base\r\n&gt; does not &quot;opens java.util&quot; to unnamed module @15d0c81b \t\tat\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n&gt; \t\tat\r\n&gt; java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n&gt; \t\tat\r\n&gt; java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\r\n&gt; \t\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:243)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:205)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.restoreOriginalVariables(EnvironmentVariables.java:187)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.environment.EnvironmentVariables.doTeardown(EnvironmentVariables.java:158)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.resource.SingularTestResource.teardown(SingularTestResource.java:26)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.resource.Resources.executeCleanup(Resources.java:59)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.cleanupFields(SystemStubsExtension.java:124)\r\n&gt; \t\tat\r\n&gt; uk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.preDestroyTestInstance(SystemStubsExtension.java:38)\r\n&gt; \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)\r\n&gt; \t\tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)\r\n&gt; \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)\r\n&gt; \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestInstancePreDestroyCallbacks(TestMethodTestDescriptor.java:257)\r\n&gt; \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:146)\r\n&gt; \t\tat\r\n&gt; org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\r\n&gt; \t\tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\r\n&gt; \t\tat\r\n&gt; org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n&gt; \t\tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\r\n&gt; \t\tat\r\n&gt; org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\r\n&gt; \t\t... 36 more\r\n\r\n\r\n                    \r\nAs the stack trace states, it has something to do with systemstubs. I have tried to add the following parameters to intellij vm parameters and to surefire in pom.xml with no luck\r\n\r\n    --add-opens java.base/java.util=ALL-UNNAMED\r\n\r\n\r\nany suggestion how to solve this?\r\n\r\n\r\n\r\n\r\n","title":"InaccessibleObjectException: module java.base does not &quot;opens java.util&quot; to unnamed module @61443d8f","body":"<p>I am new to java and maven so bare with me :)\nUsing jdk 1.8 along with maven 3.8.5 on intellij IDE. Trying to run a test method where I set my unit test environment variables using Systemstubs like this:</p>\n<pre><code>@ExtendWith(SystemStubsExtension.class)\n\nclass myClass {\n@SystemStub\nprivate static EnvironmentVariables variables = Helper.getEnvironmentVariables();\n</code></pre>\n<p>and the Helper class function is:</p>\n<pre><code>public static EnvironmentVariables getEnvironmentVariables() {\n        return new EnvironmentVariables()\n                .and(&quot;username&quot;, &quot;admin&quot;)\n                .and(&quot;password&quot;, &quot;qwerty&quot;)\n</code></pre>\n<p>Unfortunately I keep getting the following error:</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field\nprivate final java.util.Map java.util.Collections$UnmodifiableMap.m\naccessible: module java.base does not &quot;opens java.util&quot; to unnamed\nmodule @15d0c81b</p>\n<p>at\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat\njava.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:243)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:205)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.setEnvironmentVariables(EnvironmentVariables.java:162)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.doSetup(EnvironmentVariables.java:153)\nat\nuk.org.webcompere.systemstubs.resource.SingularTestResource.setup(SingularTestResource.java:17)\nat\nuk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.setup(SystemStubsExtension.java:88)\nat\nuk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.setupFields(SystemStubsExtension.java:110)\nat\nuk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.postProcessTestInstance(SystemStubsExtension.java:31)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\nat\njava.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\nat\njava.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\nat\njava.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\nat\njava.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\nat\njava.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\nat\njava.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\nat\njava.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\nat\njava.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\nat\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\nat java.base/java.util.Optional.orElseGet(Optional.java:364)    at\norg.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\nat\norg.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)   at\norg.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat\norg.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)   at\norg.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\nat\norg.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\nat\norg.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\nat\norg.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat\norg.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\nat\norg.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\nat\norg.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat\norg.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat\norg.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat\norg.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat\norg.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat\norg.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\nat\ncom.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat\ncom.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat\ncom.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat\ncom.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat\ncom.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nSuppressed: java.lang.reflect.InaccessibleObjectException: Unable to\nmake field private final java.util.Map\njava.util.Collections$UnmodifiableMap.m accessible: module java.base\ndoes not &quot;opens java.util&quot; to unnamed module @15d0c81b        at\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat\njava.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat\njava.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:180)\nat java.base/java.lang.reflect.Field.setAccessible(Field.java:174)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.getFieldValue(EnvironmentVariables.java:243)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.getEditableMapOfVariables(EnvironmentVariables.java:205)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.restoreOriginalVariables(EnvironmentVariables.java:187)\nat\nuk.org.webcompere.systemstubs.environment.EnvironmentVariables.doTeardown(EnvironmentVariables.java:158)\nat\nuk.org.webcompere.systemstubs.resource.SingularTestResource.teardown(SingularTestResource.java:26)\nat\nuk.org.webcompere.systemstubs.resource.Resources.executeCleanup(Resources.java:59)\nat\nuk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.cleanupFields(SystemStubsExtension.java:124)\nat\nuk.org.webcompere.systemstubs.jupiter.SystemStubsExtension.preDestroyTestInstance(SystemStubsExtension.java:38)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:269)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:269)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)       at\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:268)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestInstancePreDestroyCallbacks(TestMethodTestDescriptor.java:257)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:146)\nat\norg.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.cleanUp(TestMethodTestDescriptor.java:65)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$cleanUp$9(NodeTestTask.java:155)\nat\norg.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.cleanUp(NodeTestTask.java:155)\nat\norg.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:87)\n... 36 more</p>\n</blockquote>\n<p>As the stack trace states, it has something to do with systemstubs. I have tried to add the following parameters to intellij vm parameters and to surefire in pom.xml with no luck</p>\n<pre><code>--add-opens java.base/java.util=ALL-UNNAMED\n</code></pre>\n<p>any suggestion how to solve this?</p>\n"},{"tags":["java","json","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4125279,"reputation":145,"user_id":3384604,"display_name":"Shubham Pathak"},"score":0,"creation_date":1656915281,"post_id":72851850,"comment_id":128678091,"body_markdown":"Please refer this answer - https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable","body":"Please refer this answer - <a href=\"https://stackoverflow.com/questions/4486787/jackson-with-json-unrecognized-field-not-marked-as-ignorable\" title=\"jackson with json unrecognized field not marked as ignorable\">stackoverflow.com/questions/4486787/&hellip;</a>"},{"owner":{"account_id":25481526,"reputation":336,"user_id":19277782,"display_name":"CaptainPyscho"},"score":0,"creation_date":1656917799,"post_id":72851850,"comment_id":128678711,"body_markdown":"Try removing `@Embbeded` annotation","body":"Try removing <code>@Embbeded</code> annotation"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1656942589,"post_id":72851850,"comment_id":128687120,"body_markdown":"Try add @JsonProperty(&quot;price&quot;) over the field price","body":"Try add @JsonProperty(&quot;price&quot;) over the field price"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656956022,"post_id":72851850,"comment_id":128691355,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":19650145,"reputation":11,"user_id":14384165,"display_name":"Melek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657098829,"creation_date":1657098829,"answer_id":72880807,"question_id":72851850,"body_markdown":"Can you try the below?\r\n\r\n    @Embedded @AttributeOverrides({   @AttributeOverride( name = &quot;GST&quot;, column = @Column(name = &quot;price_gst&quot;)),   @AttributeOverride( name = &quot;MRP&quot;, column = @Column(name = &quot;price_mrp&quot;)) })","title":"Unable to save users: Unrecognized field class not marked as ignorable","body":"<p>Can you try the below?</p>\n<pre><code>@Embedded @AttributeOverrides({   @AttributeOverride( name = &quot;GST&quot;, column = @Column(name = &quot;price_gst&quot;)),   @AttributeOverride( name = &quot;MRP&quot;, column = @Column(name = &quot;price_mrp&quot;)) })\n</code></pre>\n"}],"owner":{"account_id":25718964,"reputation":11,"user_id":19476219,"display_name":"shashikanth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657098829,"creation_date":1656909717,"question_id":72851850,"body_markdown":"```[\r\n\t{\r\n\t\t&quot;id&quot;: 1,\r\n\t\t&quot;name&quot;: &quot;pen&quot;,\r\n\t\t&quot;quantity&quot;: 10,\r\n\t\t&quot;price&quot;: \r\n\t\t\t{\r\n\t\t\t\t&quot;MRP&quot;: 56,\r\n\t\t\t\t&quot;GST&quot;: 33\r\n\t\t\t}\r\n\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 2,\r\n\t\t&quot;name&quot;: &quot;pencil&quot;,\r\n\t\t&quot;quantity&quot;: 12,\r\n\t\t&quot;price&quot;: \r\n\t\t\t{\r\n\t\t\t\t&quot;MRP&quot;: 34,\r\n\t\t\t\t&quot;GST&quot;: 12\r\n\t\t\t}\r\n\t\t\r\n\t},\r\n\t{\r\n\t\t&quot;id&quot;: 3,\r\n\t\t&quot;name&quot;: &quot;penpencil&quot;,\r\n\t\t&quot;quantity&quot;: 40,\r\n\t\t&quot;price&quot;: \r\n\t\t\t{\r\n\t\t\t\t&quot;MRP&quot;: 456,\r\n\t\t\t\t&quot;GST&quot;: 33\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n]\r\nthis is the json file which is to be mapped to an object\r\n```\r\n\r\n```\r\npackage com.shashikanth.curd.eg.entity;\r\nimport javax.persistence.Embedded;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n//@NoArgsConstructor\r\n@Entity\r\n//@Table(name=&quot;PRODUCT_TABLE&quot;)\r\npublic class Product {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue \r\n\tprivate int id;\r\n\tprivate String name;\r\n\tprivate int quantity;\r\n\t@Embedded\r\n\tprivate Price price;\r\n\tpublic Product() {}\r\n}\r\n\r\n```\r\n```\r\npackage com.shashikanth.curd.eg.entity;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Embeddable;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@Embeddable\r\npublic class Price {\r\n\t@JsonIgnoreProperties(ignoreUnknown=true)\r\n\tprivate double GST;\r\n\tprivate double MRP;\r\n\tpublic Price() {}\r\n}\r\n```\r\nthe main application :\r\n\r\n```\r\npackage com.shashikanth.curd.eg;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.shashikanth.curd.eg.entity.Product;\r\nimport com.shashikanth.curd.eg.service.ProductService;\r\n\r\n@SpringBootApplication\r\npublic class CurdingApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CurdingApplication.class, args);\r\n\t}\r\n\t@Bean\r\n\tCommandLineRunner runner(ProductService productService) {\r\n\t\treturn args -&gt; {\r\n\t\t\t// read json and write to db\r\n\t\t\tObjectMapper mapper = new ObjectMapper();\r\n//\t\t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\t\t\tTypeReference&lt;List&lt;Product&gt;&gt; typeReference = new TypeReference&lt;List&lt;Product&gt;&gt;(){};\r\n\t\t\tInputStream inputStream = TypeReference.class.getResourceAsStream(&quot;/json/users.json&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tList&lt;Product&gt; products = mapper.readValue(inputStream,typeReference);\r\n\t\t\t\tproductService.saveProducts(products);\r\n\t\t\t\tSystem.out.println(&quot;Users Saved!&quot;);\r\n\t\t\t} catch (IOException e){\r\n\t\t\t\tSystem.out.println(&quot;Unable to save users: &quot; + e.getMessage());\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n&gt;Unable to save users: Unrecognized field &quot;price&quot; (class com.shashikanth.curd.eg.entity.Product), not marked as ignorable (3 known properties: &quot;id&quot;, &quot;name&quot;, &quot;quantity&quot;])\r\n at [Source: (BufferedInputStream); line: 7, column: 5] (through reference chain: java.util.ArrayList[0]-&gt;com.shashikanth.curd.eg.entity.Product[&quot;price&quot;])\r\n\t&gt;\r\n\r\nim new to springboot.\r\nim trying to map the json to an objcet and save it in mysql. it work fine without the &quot;embedded&quot; part(\r\n```{\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;pen&quot;,\r\n        &quot;quantity&quot;: 10,\r\n        &quot;price&quot;: 4\r\n\r\n    }```\r\n,)","title":"Unable to save users: Unrecognized field class not marked as ignorable","body":"<pre><code>    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;pen&quot;,\n        &quot;quantity&quot;: 10,\n        &quot;price&quot;: \n            {\n                &quot;MRP&quot;: 56,\n                &quot;GST&quot;: 33\n            }\n        \n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;pencil&quot;,\n        &quot;quantity&quot;: 12,\n        &quot;price&quot;: \n            {\n                &quot;MRP&quot;: 34,\n                &quot;GST&quot;: 12\n            }\n        \n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;penpencil&quot;,\n        &quot;quantity&quot;: 40,\n        &quot;price&quot;: \n            {\n                &quot;MRP&quot;: 456,\n                &quot;GST&quot;: 33\n            }\n        \n    }\n]\nthis is the json file which is to be mapped to an object\n</code></pre>\n<pre><code>package com.shashikanth.curd.eg.entity;\nimport javax.persistence.Embedded;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n//@NoArgsConstructor\n@Entity\n//@Table(name=&quot;PRODUCT_TABLE&quot;)\npublic class Product {\n    \n    @Id\n    @GeneratedValue \n    private int id;\n    private String name;\n    private int quantity;\n    @Embedded\n    private Price price;\n    public Product() {}\n}\n\n</code></pre>\n<pre><code>package com.shashikanth.curd.eg.entity;\n\nimport javax.persistence.Column;\nimport javax.persistence.Embeddable;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@Embeddable\npublic class Price {\n    @JsonIgnoreProperties(ignoreUnknown=true)\n    private double GST;\n    private double MRP;\n    public Price() {}\n}\n</code></pre>\n<p>the main application :</p>\n<pre><code>package com.shashikanth.curd.eg;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\n\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.shashikanth.curd.eg.entity.Product;\nimport com.shashikanth.curd.eg.service.ProductService;\n\n@SpringBootApplication\npublic class CurdingApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CurdingApplication.class, args);\n    }\n    @Bean\n    CommandLineRunner runner(ProductService productService) {\n        return args -&gt; {\n            // read json and write to db\n            ObjectMapper mapper = new ObjectMapper();\n//          mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n            TypeReference&lt;List&lt;Product&gt;&gt; typeReference = new TypeReference&lt;List&lt;Product&gt;&gt;(){};\n            InputStream inputStream = TypeReference.class.getResourceAsStream(&quot;/json/users.json&quot;);\n            try {\n                List&lt;Product&gt; products = mapper.readValue(inputStream,typeReference);\n                productService.saveProducts(products);\n                System.out.println(&quot;Users Saved!&quot;);\n            } catch (IOException e){\n                System.out.println(&quot;Unable to save users: &quot; + e.getMessage());\n            }\n        };\n    }\n}\n</code></pre>\n<blockquote>\n<p>Unable to save users: Unrecognized field &quot;price&quot; (class com.shashikanth.curd.eg.entity.Product), not marked as ignorable (3 known properties: &quot;id&quot;, &quot;name&quot;, &quot;quantity&quot;])\nat [Source: (BufferedInputStream); line: 7, column: 5] (through reference chain: java.util.ArrayList[0]-&gt;com.shashikanth.curd.eg.entity.Product[&quot;price&quot;])\n&gt;</p>\n</blockquote>\n<p>im new to springboot.\nim trying to map the json to an objcet and save it in mysql. it work fine without the &quot;embedded&quot; part(</p>\n<pre><code>        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;pen&quot;,\n        &quot;quantity&quot;: 10,\n        &quot;price&quot;: 4\n\n    }```\n,)\n</code></pre>\n"},{"tags":["java","spring","netflix-eureka","spring-cloud-config-server"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657098683,"creation_date":1657098683,"answer_id":72880771,"question_id":72876809,"body_markdown":"Looks like your eureka-server is not picking up the bootstrapping config.\r\n\r\nFirst cause might be that this config file should be named `bootstrap.yml`, not `bootstrap.yaml`.\r\n\r\nAlso, since Spring Boot 2.4 bootstrapping via `bootstrap.yml` is disabled by default and the usual `application.yml` should be used instead or it can be enabled back by adding the `org.springframework.cloud:spring-cloud-starter-bootstrap` dependency to your project.\r\n","title":"Eureka service not reading its config file in Git repository using ConfigServer","body":"<p>Looks like your eureka-server is not picking up the bootstrapping config.</p>\n<p>First cause might be that this config file should be named <code>bootstrap.yml</code>, not <code>bootstrap.yaml</code>.</p>\n<p>Also, since Spring Boot 2.4 bootstrapping via <code>bootstrap.yml</code> is disabled by default and the usual <code>application.yml</code> should be used instead or it can be enabled back by adding the <code>org.springframework.cloud:spring-cloud-starter-bootstrap</code> dependency to your project.</p>\n"}],"owner":{"account_id":21960741,"reputation":5,"user_id":16238672,"display_name":"Jules"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72880771,"answer_count":1,"score":0,"last_activity_date":1657098683,"creation_date":1657067597,"question_id":72876809,"body_markdown":"I&#39;m trying trying to write some basic microservices examples. Firstly, I&#39;m using a ConfigServer application using Spring, with this resources/application.yaml file:\r\n\r\n```\r\nserver:\r\n  port: 8081\r\nspring:\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          default-label: main\r\n          uri: https://github.com/mguzm4n/microservices-data\r\n          search-paths: config-data\r\n  application:\r\n    name: config-server\r\n```\r\n\r\nYou can see the repo: https://github.com/mguzm4n/microservices-data\r\n\r\nFor Eureka, in resources/bootstrap.yaml:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: eureka-server\r\n  cloud:\r\n    config:\r\n      enabled: true\r\n      uri: http://localhost:8081\r\n```\r\nI build first ConfigServer App and then Eureka service, so it can load its config on Git, but I can&#39;t manage it to work. Eureka ends up running on localhost:8080 instead of port 8761 as shown in https://github.com/mguzm4n/microservices-data/blob/main/config-data/eureka-server.yaml.\r\n\r\nCould anyone help me?\r\nI&#39;m new using this concepts like a config server and eureka for registering other services, so I&#39;m sorry if it&#39;s something simple.","title":"Eureka service not reading its config file in Git repository using ConfigServer","body":"<p>I'm trying trying to write some basic microservices examples. Firstly, I'm using a ConfigServer application using Spring, with this resources/application.yaml file:</p>\n<pre><code>server:\n  port: 8081\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          default-label: main\n          uri: https://github.com/mguzm4n/microservices-data\n          search-paths: config-data\n  application:\n    name: config-server\n</code></pre>\n<p>You can see the repo: <a href=\"https://github.com/mguzm4n/microservices-data\" rel=\"nofollow noreferrer\">https://github.com/mguzm4n/microservices-data</a></p>\n<p>For Eureka, in resources/bootstrap.yaml:</p>\n<pre><code>spring:\n  application:\n    name: eureka-server\n  cloud:\n    config:\n      enabled: true\n      uri: http://localhost:8081\n</code></pre>\n<p>I build first ConfigServer App and then Eureka service, so it can load its config on Git, but I can't manage it to work. Eureka ends up running on localhost:8080 instead of port 8761 as shown in <a href=\"https://github.com/mguzm4n/microservices-data/blob/main/config-data/eureka-server.yaml\" rel=\"nofollow noreferrer\">https://github.com/mguzm4n/microservices-data/blob/main/config-data/eureka-server.yaml</a>.</p>\n<p>Could anyone help me?\nI'm new using this concepts like a config server and eureka for registering other services, so I'm sorry if it's something simple.</p>\n"},{"tags":["java","jsp","arraylist","struts2","struts"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657050229,"post_id":72827696,"comment_id":128716083,"body_markdown":"What is null, why is null? Did you check `createIfNull` option? The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem.","body":"What is null, why is null? Did you check <code>createIfNull</code> option? The question should be updated to include desired behavior, a specific problem or error, and the shortest code necessary to reproduce the problem."},{"owner":{"account_id":15421832,"reputation":70,"user_id":11125655,"display_name":"Shambhavi R"},"score":0,"creation_date":1657098457,"post_id":72827696,"comment_id":128726370,"body_markdown":"I mean to say that, generally having getters and setters would work to get the values from one Action Class to another using hidden properties. But, in case of Array of Objects, it does not work the same, and the values are null. In this case I want to get the Array of Object values for user 1 and user 2 in Try2.java.","body":"I mean to say that, generally having getters and setters would work to get the values from one Action Class to another using hidden properties. But, in case of Array of Objects, it does not work the same, and the values are null. In this case I want to get the Array of Object values for user 1 and user 2 in Try2.java."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657101672,"post_id":72827696,"comment_id":128727605,"body_markdown":"I don&#39;t know what you mean. It looks like you don&#39;t understand what I&#39;m talking. I will give you a [link](https://stackoverflow.com/a/23829108/573032) to read. Don&#39;t forget to upvote it if it helped.","body":"I don&#39;t know what you mean. It looks like you don&#39;t understand what I&#39;m talking. I will give you a <a href=\"https://stackoverflow.com/a/23829108/573032\">link</a> to read. Don&#39;t forget to upvote it if it helped."},{"owner":{"account_id":15421832,"reputation":70,"user_id":11125655,"display_name":"Shambhavi R"},"score":0,"creation_date":1657695633,"post_id":72827696,"comment_id":128868719,"body_markdown":"Yeah the scenario is kind of similar in this link as well. But in my case, instead of having 2 actions mapped to one Action CLass, I have 2 different Action Classes. And the annotations solution does not work for me. So how to get the Array of Object values in the 2nd Action class from the JSP redirection of the 1st Action class?","body":"Yeah the scenario is kind of similar in this link as well. But in my case, instead of having 2 actions mapped to one Action CLass, I have 2 different Action Classes. And the annotations solution does not work for me. So how to get the Array of Object values in the 2nd Action class from the JSP redirection of the 1st Action class?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657707216,"post_id":72827696,"comment_id":128872586,"body_markdown":"If it doesn&#39;t work for you then your option to find a solution yourself. l can&#39;t help you in any way.","body":"If it doesn&#39;t work for you then your option to find a solution yourself. l can&#39;t help you in any way."},{"owner":{"account_id":15421832,"reputation":70,"user_id":11125655,"display_name":"Shambhavi R"},"score":0,"creation_date":1657735418,"post_id":72827696,"comment_id":128883527,"body_markdown":"Thank you for the help. I did find a solution. Using session to store objects works. I&#39;m now able to get the required Array of Object values using session.","body":"Thank you for the help. I did find a solution. Using session to store objects works. I&#39;m now able to get the required Array of Object values using session."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1657817573,"post_id":72827696,"comment_id":128906120,"body_markdown":"Using session to store objects is not good for the workflow design. Especially in struts2 where the model is used on the view layer. And these model objects are lived in the action scope. Using a session in this case is not appropriate. You also said that on the view you have used hidden properties, but in your JSP there&#39;s no such properties. You have not stored them anyware neither you submitted them to the action. So your question has no sense from the basic MVC interaction with the client. When you submit a list of properties basically a type conversion involved under the box and indexing.","body":"Using session to store objects is not good for the workflow design. Especially in struts2 where the model is used on the view layer. And these model objects are lived in the action scope. Using a session in this case is not appropriate. You also said that on the view you have used hidden properties, but in your JSP there&#39;s no such properties. You have not stored them anyware neither you submitted them to the action. So your question has no sense from the basic MVC interaction with the client. When you submit a list of properties basically a type conversion involved under the box and indexing."},{"owner":{"account_id":15421832,"reputation":70,"user_id":11125655,"display_name":"Shambhavi R"},"score":0,"creation_date":1658379644,"post_id":72827696,"comment_id":129037912,"body_markdown":"Oh okay yeah I missed adding the hidden properties part since it was not working. Okay I get what you are saying. Thanks.","body":"Oh okay yeah I missed adding the hidden properties part since it was not working. Okay I get what you are saying. Thanks."}],"owner":{"account_id":15421832,"reputation":70,"user_id":11125655,"display_name":"Shambhavi R"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657098641,"creation_date":1656670259,"question_id":72827696,"body_markdown":"I&#39;m working an a project where I need the Array of Objects values from One Action Class to another.\r\n\r\nThe flow goes something like this:\r\n**Try1.java --&gt; first.jsp --&gt; Try2.java**\r\n\r\nI&#39;m not able to get the Array of Objects values in Try2.java.\r\nIt&#39;s always null.\r\n\r\n**User.java**\r\n```\r\npackage com.sham;\r\n\r\npublic class User {\r\n\tprivate int id;  \r\n\tprivate String name;\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\n**Try1.java**\r\n```\r\npackage com.sham;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\npublic class Try1 extends ActionSupport{\r\n\t\r\n\tArrayList&lt;User&gt; list=new ArrayList&lt;User&gt;();  \r\n\t  \r\n\tpublic ArrayList&lt;User&gt; getList() {  \r\n\t    return list;  \r\n\t}  \r\n\tpublic void setList(ArrayList&lt;User&gt; list) {  \r\n\t    this.list = list;  \r\n\t}  \r\n\t \r\n   \r\n\tpublic String execute(){\r\n\t\t\r\n\t    User user1=new User();  \r\n\t    user1.setId(123);  \r\n\t    user1.setName(&quot;John&quot;);  \r\n\t    list.add(user1); \r\n\t    \r\n\t    User user2=new User();\r\n\t    user2.setId(345);  \r\n\t    user2.setName(&quot;Jen&quot;);  \r\n\t    list.add(user2);  \r\n\t    \r\n\t    System.out.println(&quot;List &quot; + list);\r\n\t    return &quot;success&quot;;\r\n\t\t\t\r\n\t\t}\r\n\r\n}\r\n\r\n```\r\n**struts.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!DOCTYPE struts PUBLIC\r\n&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\r\n&quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\r\n \r\n&lt;struts&gt;\r\n \t \r\n\t&lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\r\n\t\r\n\t\t&lt;action name=&quot;click&quot; class=&quot;com.sham.Try1&quot; &gt;\r\n\t\t\t&lt;result name=&quot;success&quot;&gt;first.jsp&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t\t&lt;action name=&quot;next&quot; class=&quot;com.sham.Try2&quot; &gt;\t\t \r\n\t\t\t&lt;result name=&quot;success&quot;&gt;second.jsp&lt;/result&gt;\t\r\n\t\t&lt;/action&gt;\r\n\t\t\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n```\r\n\r\n**first.jsp**\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;    \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Insert title here&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;s:form action=&quot;next&quot;&gt;\r\nHello\r\n &lt;s:submit value=&quot;submit&quot;/&gt;\r\n&lt;/s:form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n**Try2.java**\r\n```\r\npackage com.sham;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport com.opensymphony.xwork2.ActionSupport;\r\n\r\npublic class Try2 extends ActionSupport {\r\n\tArrayList&lt;User&gt; list;  \r\n\t  \r\n\tpublic ArrayList&lt;User&gt; getList() {  \r\n\t    return list;  \r\n\t}  \r\n\tpublic void setList(ArrayList&lt;User&gt; list) {  \r\n\t    this.list = list;  \r\n\t}  \r\n\t\r\n\t\r\n\tpublic String execute(){\r\n\t\t\r\n\t    System.out.println(&quot;List from Action class 2 &quot; + getList());\r\n\t   \r\n\t\t\treturn &quot;success&quot;;\r\n\t\t\r\n\t\t}\r\n\r\n}\r\n\r\n```\r\n\r\nOn clicking the submit button in first.jsp, the control goes to the Try2.java action class.\r\n\r\nIn Try2.java, I get null in getList().\r\n\r\n**I mean to say that, generally having getters and setters would work to get the values from one Action Class to another using hidden properties. But, in case of Array of Objects, it does not work the same, and the values are null.**\r\n\r\n**In this case I want to get the Array of Object values for user 1 and user 2 in Try2.java.**\r\n\r\n**I want to know how to get the same Array of Objects in the Try2.java from Try1.java action class.**\r\n\r\n","title":"How to get Array of Objects values from one Action Class to another Action Class in Struts 2?","body":"<p>I'm working an a project where I need the Array of Objects values from One Action Class to another.</p>\n<p>The flow goes something like this:\n<strong>Try1.java --&gt; first.jsp --&gt; Try2.java</strong></p>\n<p>I'm not able to get the Array of Objects values in Try2.java.\nIt's always null.</p>\n<p><strong>User.java</strong></p>\n<pre><code>package com.sham;\n\npublic class User {\n    private int id;  \n    private String name;\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n}\n</code></pre>\n<p><strong>Try1.java</strong></p>\n<pre><code>package com.sham;\n\nimport java.util.ArrayList;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class Try1 extends ActionSupport{\n    \n    ArrayList&lt;User&gt; list=new ArrayList&lt;User&gt;();  \n      \n    public ArrayList&lt;User&gt; getList() {  \n        return list;  \n    }  \n    public void setList(ArrayList&lt;User&gt; list) {  \n        this.list = list;  \n    }  \n     \n   \n    public String execute(){\n        \n        User user1=new User();  \n        user1.setId(123);  \n        user1.setName(&quot;John&quot;);  \n        list.add(user1); \n        \n        User user2=new User();\n        user2.setId(345);  \n        user2.setName(&quot;Jen&quot;);  \n        list.add(user2);  \n        \n        System.out.println(&quot;List &quot; + list);\n        return &quot;success&quot;;\n            \n        }\n\n}\n\n</code></pre>\n<p><strong>struts.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!DOCTYPE struts PUBLIC\n&quot;-//Apache Software Foundation//DTD Struts Configuration 2.0//EN&quot;\n&quot;http://struts.apache.org/dtds/struts-2.0.dtd&quot;&gt;\n \n&lt;struts&gt;\n     \n    &lt;package name=&quot;default&quot; extends=&quot;struts-default&quot;&gt;\n    \n        &lt;action name=&quot;click&quot; class=&quot;com.sham.Try1&quot; &gt;\n            &lt;result name=&quot;success&quot;&gt;first.jsp&lt;/result&gt;\n        &lt;/action&gt;\n        \n        &lt;action name=&quot;next&quot; class=&quot;com.sham.Try2&quot; &gt;      \n            &lt;result name=&quot;success&quot;&gt;second.jsp&lt;/result&gt;  \n        &lt;/action&gt;\n        \n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p><strong>first.jsp</strong></p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;%@ taglib prefix=&quot;s&quot; uri=&quot;/struts-tags&quot;%&gt;    \n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;s:form action=&quot;next&quot;&gt;\nHello\n &lt;s:submit value=&quot;submit&quot;/&gt;\n&lt;/s:form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p><strong>Try2.java</strong></p>\n<pre><code>package com.sham;\n\nimport java.util.ArrayList;\n\nimport com.opensymphony.xwork2.ActionSupport;\n\npublic class Try2 extends ActionSupport {\n    ArrayList&lt;User&gt; list;  \n      \n    public ArrayList&lt;User&gt; getList() {  \n        return list;  \n    }  \n    public void setList(ArrayList&lt;User&gt; list) {  \n        this.list = list;  \n    }  \n    \n    \n    public String execute(){\n        \n        System.out.println(&quot;List from Action class 2 &quot; + getList());\n       \n            return &quot;success&quot;;\n        \n        }\n\n}\n\n</code></pre>\n<p>On clicking the submit button in first.jsp, the control goes to the Try2.java action class.</p>\n<p>In Try2.java, I get null in getList().</p>\n<p><strong>I mean to say that, generally having getters and setters would work to get the values from one Action Class to another using hidden properties. But, in case of Array of Objects, it does not work the same, and the values are null.</strong></p>\n<p><strong>In this case I want to get the Array of Object values for user 1 and user 2 in Try2.java.</strong></p>\n<p><strong>I want to know how to get the same Array of Objects in the Try2.java from Try1.java action class.</strong></p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data"],"comments":[{"owner":{"account_id":18998244,"reputation":537,"user_id":13866126,"display_name":"JavaLearner"},"score":0,"creation_date":1610867639,"post_id":65757777,"comment_id":116264179,"body_markdown":"`I need to decide in execution time which children I want to fetch` You will still be having different method per each unique combination of elements in `attributePaths` right?","body":"<code>I need to decide in execution time which children I want to fetch</code> You will still be having different method per each unique combination of elements in <code>attributePaths</code> right?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":1,"creation_date":1610869717,"post_id":65757777,"comment_id":116264481,"body_markdown":"Does this answer your question? [Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags](https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl\">Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags</a>"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1610880721,"post_id":65757777,"comment_id":116266893,"body_markdown":"@JavaLearner Yes, one different query per use-case","body":"@JavaLearner Yes, one different query per use-case"},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":0,"creation_date":1610880770,"post_id":65757777,"comment_id":116266899,"body_markdown":"@silentsudo No. That doesn&#39;t apply to Entity Graphs.","body":"@silentsudo No. That doesn&#39;t apply to Entity Graphs."},{"owner":{"account_id":18998244,"reputation":537,"user_id":13866126,"display_name":"JavaLearner"},"score":0,"creation_date":1610901427,"post_id":65757777,"comment_id":116273002,"body_markdown":"Have you explored the option of fetching directly from `Foo` and `Bar` based on FK id to store?","body":"Have you explored the option of fetching directly from <code>Foo</code> and <code>Bar</code> based on FK id to store?"},{"owner":{"account_id":390029,"reputation":575,"user_id":1122308,"display_name":"SLyHuy"},"score":0,"creation_date":1656519686,"post_id":65757777,"comment_id":128594794,"body_markdown":"@CarlosL&#243;pezMar&#237; Do you have any update for this problem?","body":"@CarlosL&#243;pezMar&#237; Do you have any update for this problem?"},{"owner":{"account_id":3020336,"reputation":1584,"user_id":2561541,"display_name":"Nathan"},"score":0,"creation_date":1656520318,"post_id":65757777,"comment_id":128595039,"body_markdown":"I realize that you explicitly say that you don&#39;t want to consider lazy-loading the collections, but in your question / explanation, you say that part of the purpose of this is to avoid the N+1 problem. I assume that by this, you mean that you have a collection of Store objects, and you need to load Foo or Bar from each item. This can be avoided by using the BatchSize() annotation. Then if you specify a BatchSize -&gt; 5000 then you only execute a query to load Foo (or Bar) every 5000 elements. (I realize this is a slight simplification, but only slight...)","body":"I realize that you explicitly say that you don&#39;t want to consider lazy-loading the collections, but in your question / explanation, you say that part of the purpose of this is to avoid the N+1 problem. I assume that by this, you mean that you have a collection of Store objects, and you need to load Foo or Bar from each item. This can be avoided by using the BatchSize() annotation. Then if you specify a BatchSize -&gt; 5000 then you only execute a query to load Foo (or Bar) every 5000 elements. (I realize this is a slight simplification, but only slight...)"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1657029177,"post_id":65757777,"comment_id":128708627,"body_markdown":"You should try Perism which doesn&#39;t have these problems.","body":"You should try Perism which doesn&#39;t have these problems."}],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1657098325,"creation_date":1656723835,"answer_id":72835780,"question_id":65757777,"body_markdown":"The main goal of the [Entity Graph][1] is to improve the runtime performance when loading the entity&#39;s related associations and basic fields. It is solving N+1 problem. Hibernate loads all the graph in one select query and then avoids fetching association with more `SELECT` queries. \r\n\r\nIt needs to be understood that by the current implementation, Entity Graph generating for execution only **one** `SELECT` query, because there is no possibility to specify other Fetch Mode than defined by default [FetchMode.JOIN][2] for all attribute paths in the graph.\r\n\r\nIt is perfect for relations like `ManyToOne`, `OneToOne`, and for single `OneToMany` because all of them can be loaded by one query.\r\n\r\nBut if an entity has multiple `OneToMany` relations it is a problem to load full data by one query, because of Cartesian join. If we have 50 `Store` rows associated with 20 `Foo` and 10 `Bar` rows, the final result set will contain 10_000 records (e.g., 50 x 20 x 10). It is terrible for performance!\r\n\r\nThis is the main reason for `MultipleBagFetchException`. Hibernate protects you from Cartesian join.\r\n\r\nSo we can load two collections only thru separated select queries.\r\n\r\nFor now, Entity Graph does not support such loading.\r\n\r\nThere is a pending not resolved [issue][3] and [discussion][4].\r\n\r\nThe same thing is also with [Fetch Profiles][5]. Only [FetchMode.JOIN][2] is currently supported.\r\n\r\nSee good explanation [The best way to fix the Hibernate MultipleBagFetchException][6] \r\n\r\n**Solution 1: two JPQL queries**\r\n\r\nInstead of executing a single query that fetches two associations, we can execute two JPQL queries:\r\n```java\r\npublic interface StoreRepository extends JpaRepository&lt;Store, Long&gt; {\r\n\r\n    default List&lt;Store&gt; findStoresByNameWithCollections(String name) {\r\n        List&lt;Store&gt; stores = findByName(name);\r\n        if (stores != null &amp;&amp; !stores.isEmpty()) {\r\n            stores = loadStoreBars(stores);\r\n        }\r\n        return stores;\r\n    }\r\n\r\n    @Query(value = &quot;select DISTINCT st from Store st LEFT JOIN FETCH st.foos where st.name like :name&quot;)\r\n    @QueryHints(value = { @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot; )}, forCounting = false)\r\n    List&lt;Store&gt; findByName(String name);\r\n\r\n    @Query(value = &quot;select DISTINCT st from Store st LEFT JOIN FETCH st.bars where st in (:stores)&quot;)\r\n    @QueryHints(value = { @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot; )}, forCounting = false)\r\n    List&lt;Store&gt; loadStoreBars(List&lt;Store&gt; stores);\r\n}\r\n```\r\n`hibernate.query.passDistinctThrough` JPA query hint we used to instruct Hibernate to prevent passing the JPQL DISTINCT keyword to the underlying SQL query. Unique of parent entities will be performed on the server-side.\r\n\r\nGenerated queries:\r\n```sql\r\n--Parent entity with Foos collection\r\n    select\r\n        store0_.id as id1_36_0_,\r\n        foos1_.id as id1_15_1_,\r\n        store0_.name as name2_36_0_,\r\n        foos1_.store_id as store_id2_15_1_,\r\n        foos1_.store_id as store_id2_15_0__,\r\n        foos1_.id as id1_15_0__ \r\n    from\r\n        store store0_ \r\n    left outer join\r\n        foo foos1_ \r\n            on store0_.id=foos1_.store_id \r\n    where\r\n        store0_.name like ?\r\n\r\n--Bars collection\r\n    select\r\n        store0_.id as id1_36_0_,\r\n        bars1_.id as id1_5_1_,\r\n        store0_.name as name2_36_0_,\r\n        bars1_.store_id as store_id2_5_1_,\r\n        bars1_.store_id as store_id2_5_0__,\r\n        bars1_.id as id1_5_0__ \r\n    from\r\n        store store0_ \r\n    left outer join\r\n        bar bars1_ \r\n            on store0_.id=bars1_.store_id \r\n    where\r\n        store0_.id in (\r\n            ? , ?\r\n        )\r\n```\r\n\r\n**Solution 2: [FetchMode.SUBSELECT][7]**\r\n```java\r\n@Entity\r\npublic class Store {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private List&lt;Foo&gt; foos;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n```\r\nHibernate is going to avoid the N + 1 query issue by generating a single SQL statement to initialize all collections for all `Store` entities that were previously fetched. Instead of passing all entity identifiers, Hibernate simply reruns the previous query that fetched the `Store` entities.\r\n\r\nGenerated queries:\r\n```sql\r\n--Parent entities\r\n    select\r\n        store0_.id as id1_36_,\r\n        store0_.name as name2_36_ \r\n    from\r\n        store store0_ \r\n    where\r\n        store0_.name like ?\r\n\r\n--Foos collection\r\n    select\r\n        foos0_.store_id as store_id2_15_1_,\r\n        foos0_.id as id1_15_1_,\r\n        foos0_.id as id1_15_0_,\r\n        foos0_.store_id as store_id2_15_0_ \r\n    from\r\n        foo foos0_ \r\n    where\r\n        foos0_.store_id in (\r\n            select\r\n                store0_.id \r\n            from\r\n                store store0_ \r\n            where\r\n                store0_.name like ?\r\n        )\r\n\r\n--Bars collection\r\n    select\r\n        bars0_.store_id as store_id2_5_1_,\r\n        bars0_.id as id1_5_1_,\r\n        bars0_.id as id1_5_0_,\r\n        bars0_.store_id as store_id2_5_0_ \r\n    from\r\n        bar bars0_ \r\n    where\r\n        bars0_.store_id in (\r\n            select\r\n                store0_.id \r\n            from\r\n                store store0_ \r\n            where\r\n                store0_.name like ?\r\n        )\r\n```\r\n**Solution 3: FetchMode.SUBSELECT + EntityGraph.EntityGraphType.LOAD**\r\n\r\nWhen the `javax.persistence.loadgraph` property is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as `FetchType.EAGER` and attributes that are not specified are treated according to their specified or default FetchType.\r\n\r\nCollections that are not specified in graph will use their own Fetch Mode.\r\n```java\r\npublic interface StoreRepository extends JpaRepository&lt;Store, Long&gt; {\r\n    @EntityGraph(attributePaths = {&quot;foos&quot;}, type = EntityGraph.EntityGraphType.LOAD)\r\n    List&lt;Store&gt; findByName(String name);\r\n}\r\n\r\npublic class Store {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;)\r\n    private List&lt;Foo&gt; foos;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n```\r\n\r\nGenerated queries:\r\n```sql\r\n    select\r\n        store0_.id as id1_36_0_,\r\n        foos1_.id as id1_15_1_,\r\n        store0_.name as name2_36_0_,\r\n        foos1_.store_id as store_id2_15_1_,\r\n        foos1_.store_id as store_id2_15_0__,\r\n        foos1_.id as id1_15_0__ \r\n    from\r\n        store store0_ \r\n    left outer join\r\n        foo foos1_ \r\n            on store0_.id=foos1_.store_id \r\n    where\r\n        store0_.name=?\r\n\r\n    select\r\n        bars0_.store_id as store_id2_5_1_,\r\n        bars0_.id as id1_5_1_,\r\n        bars0_.id as id1_5_0_,\r\n        bars0_.store_id as store_id2_5_0_ \r\n    from\r\n        bar bars0_ \r\n    where\r\n        bars0_.store_id in (\r\n            select\r\n                store0_.id \r\n            from\r\n                store store0_ \r\n            left outer join\r\n                foo foos1_ \r\n                    on store0_.id=foos1_.store_id \r\n            where\r\n                store0_.name=?\r\n        )\r\n```\r\n**Solution 4, [BatchSize][8]**\r\n\r\nHowever, although `@BatchSize` is better than running into an N+1 query issue, most of the time, Solution 1 and Solution 2 is a much better alternative since it allows you to fetch all the required data with minimum queries count.\r\n\r\nBatch size is tricky. It is a coefficient to determine the count of collections for loading in one query, it is not an exact collections count.\r\n\r\nFor example if you have 20 parent records and collection with batch size 50, hibernate will generate 1 query for loading parent entities and then 2 queries for initializing collections(First: 12 collections and Second:8 collections).\r\n```java\r\npublic class Store {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @BatchSize(size = 50)\r\n    @OneToMany(mappedBy = &quot;store&quot;)\r\n    private List&lt;Foo&gt; foos;\r\n\r\n    @BatchSize(size = 50)\r\n    @OneToMany(mappedBy = &quot;store&quot;)\r\n    private List&lt;Bar&gt; bars;\r\n}\r\n```\r\n\r\nGenerated queries:\r\n```sql\r\n--Parent entities\r\n    select\r\n        store0_.id as id1_36_,\r\n        store0_.name as name2_36_ \r\n    from\r\n        store store0_ \r\n    where\r\n        store0_.name=?\r\n\r\n--Bar collections\r\n    select\r\n        bars0_.store_id as store_id2_5_1_,\r\n        bars0_.id as id1_5_1_,\r\n        bars0_.id as id1_5_0_,\r\n        bars0_.store_id as store_id2_5_0_ \r\n    from\r\n        bar bars0_ \r\n    where\r\n        bars0_.store_id in (\r\n            ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?\r\n        )\r\n\r\n    select\r\n        bars0_.store_id as store_id2_5_1_,\r\n        bars0_.id as id1_5_1_,\r\n        bars0_.id as id1_5_0_,\r\n        bars0_.store_id as store_id2_5_0_ \r\n    from\r\n        bar bars0_ \r\n    where\r\n        bars0_.store_id in (\r\n            ?, ?, ?, ?, ?, ?, ?, ?\r\n        )\r\n\r\n--Foo collections\r\n    select\r\n        foos0_.store_id as store_id2_15_1_,\r\n        foos0_.id as id1_15_1_,\r\n        foos0_.id as id1_15_0_,\r\n        foos0_.store_id as store_id2_15_0_ \r\n    from\r\n        foo foos0_ \r\n    where\r\n        foos0_.store_id in (\r\n            ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?\r\n        )\r\n\r\n\r\n    select\r\n        foos0_.store_id as store_id2_15_1_,\r\n        foos0_.id as id1_15_1_,\r\n        foos0_.id as id1_15_0_,\r\n        foos0_.store_id as store_id2_15_0_ \r\n    from\r\n        foo foos0_ \r\n    where\r\n        foos0_.store_id in (\r\n            ?, ?, ?, ?, ?, ?, ?, ?\r\n        )\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/EntityGraph.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/FetchMode.html#JOIN\r\n  [3]: https://hibernate.atlassian.net/browse/HHH-10485?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true\r\n  [4]: https://discourse.hibernate.org/t/jpa-entity-graphs-and-hibernate-fetch-fetchmode-select-mode/1928\r\n  [5]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-strategies-dynamic-fetching-profile\r\n  [6]: https://vladmihalcea.com/hibernate-multiplebagfetchexception/\r\n  [7]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-fetchmode-subselect\r\n  [8]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-batch","title":"How to fetch multiple lists with EntityGraph","body":"<p>The main goal of the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/EntityGraph.html\" rel=\"noreferrer\">Entity Graph</a> is to improve the runtime performance when loading the entity's related associations and basic fields. It is solving N+1 problem. Hibernate loads all the graph in one select query and then avoids fetching association with more <code>SELECT</code> queries.</p>\n<p>It needs to be understood that by the current implementation, Entity Graph generating for execution only <strong>one</strong> <code>SELECT</code> query, because there is no possibility to specify other Fetch Mode than defined by default <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/FetchMode.html#JOIN\" rel=\"noreferrer\">FetchMode.JOIN</a> for all attribute paths in the graph.</p>\n<p>It is perfect for relations like <code>ManyToOne</code>, <code>OneToOne</code>, and for single <code>OneToMany</code> because all of them can be loaded by one query.</p>\n<p>But if an entity has multiple <code>OneToMany</code> relations it is a problem to load full data by one query, because of Cartesian join. If we have 50 <code>Store</code> rows associated with 20 <code>Foo</code> and 10 <code>Bar</code> rows, the final result set will contain 10_000 records (e.g., 50 x 20 x 10). It is terrible for performance!</p>\n<p>This is the main reason for <code>MultipleBagFetchException</code>. Hibernate protects you from Cartesian join.</p>\n<p>So we can load two collections only thru separated select queries.</p>\n<p>For now, Entity Graph does not support such loading.</p>\n<p>There is a pending not resolved <a href=\"https://hibernate.atlassian.net/browse/HHH-10485?page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel&amp;showAll=true\" rel=\"noreferrer\">issue</a> and <a href=\"https://discourse.hibernate.org/t/jpa-entity-graphs-and-hibernate-fetch-fetchmode-select-mode/1928\" rel=\"noreferrer\">discussion</a>.</p>\n<p>The same thing is also with <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-strategies-dynamic-fetching-profile\" rel=\"noreferrer\">Fetch Profiles</a>. Only <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/annotations/FetchMode.html#JOIN\" rel=\"noreferrer\">FetchMode.JOIN</a> is currently supported.</p>\n<p>See good explanation <a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"noreferrer\">The best way to fix the Hibernate MultipleBagFetchException</a></p>\n<p><strong>Solution 1: two JPQL queries</strong></p>\n<p>Instead of executing a single query that fetches two associations, we can execute two JPQL queries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StoreRepository extends JpaRepository&lt;Store, Long&gt; {\n\n    default List&lt;Store&gt; findStoresByNameWithCollections(String name) {\n        List&lt;Store&gt; stores = findByName(name);\n        if (stores != null &amp;&amp; !stores.isEmpty()) {\n            stores = loadStoreBars(stores);\n        }\n        return stores;\n    }\n\n    @Query(value = &quot;select DISTINCT st from Store st LEFT JOIN FETCH st.foos where st.name like :name&quot;)\n    @QueryHints(value = { @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot; )}, forCounting = false)\n    List&lt;Store&gt; findByName(String name);\n\n    @Query(value = &quot;select DISTINCT st from Store st LEFT JOIN FETCH st.bars where st in (:stores)&quot;)\n    @QueryHints(value = { @QueryHint(name = org.hibernate.jpa.QueryHints.HINT_PASS_DISTINCT_THROUGH, value = &quot;false&quot; )}, forCounting = false)\n    List&lt;Store&gt; loadStoreBars(List&lt;Store&gt; stores);\n}\n</code></pre>\n<p><code>hibernate.query.passDistinctThrough</code> JPA query hint we used to instruct Hibernate to prevent passing the JPQL DISTINCT keyword to the underlying SQL query. Unique of parent entities will be performed on the server-side.</p>\n<p>Generated queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--Parent entity with Foos collection\n    select\n        store0_.id as id1_36_0_,\n        foos1_.id as id1_15_1_,\n        store0_.name as name2_36_0_,\n        foos1_.store_id as store_id2_15_1_,\n        foos1_.store_id as store_id2_15_0__,\n        foos1_.id as id1_15_0__ \n    from\n        store store0_ \n    left outer join\n        foo foos1_ \n            on store0_.id=foos1_.store_id \n    where\n        store0_.name like ?\n\n--Bars collection\n    select\n        store0_.id as id1_36_0_,\n        bars1_.id as id1_5_1_,\n        store0_.name as name2_36_0_,\n        bars1_.store_id as store_id2_5_1_,\n        bars1_.store_id as store_id2_5_0__,\n        bars1_.id as id1_5_0__ \n    from\n        store store0_ \n    left outer join\n        bar bars1_ \n            on store0_.id=bars1_.store_id \n    where\n        store0_.id in (\n            ? , ?\n        )\n</code></pre>\n<p><strong>Solution 2: <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-fetchmode-subselect\" rel=\"noreferrer\">FetchMode.SUBSELECT</a></strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Store {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\n    @Fetch(FetchMode.SUBSELECT)\n    private List&lt;Foo&gt; foos;\n\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\n    @Fetch(FetchMode.SUBSELECT)\n    private List&lt;Bar&gt; bars;\n}\n</code></pre>\n<p>Hibernate is going to avoid the N + 1 query issue by generating a single SQL statement to initialize all collections for all <code>Store</code> entities that were previously fetched. Instead of passing all entity identifiers, Hibernate simply reruns the previous query that fetched the <code>Store</code> entities.</p>\n<p>Generated queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--Parent entities\n    select\n        store0_.id as id1_36_,\n        store0_.name as name2_36_ \n    from\n        store store0_ \n    where\n        store0_.name like ?\n\n--Foos collection\n    select\n        foos0_.store_id as store_id2_15_1_,\n        foos0_.id as id1_15_1_,\n        foos0_.id as id1_15_0_,\n        foos0_.store_id as store_id2_15_0_ \n    from\n        foo foos0_ \n    where\n        foos0_.store_id in (\n            select\n                store0_.id \n            from\n                store store0_ \n            where\n                store0_.name like ?\n        )\n\n--Bars collection\n    select\n        bars0_.store_id as store_id2_5_1_,\n        bars0_.id as id1_5_1_,\n        bars0_.id as id1_5_0_,\n        bars0_.store_id as store_id2_5_0_ \n    from\n        bar bars0_ \n    where\n        bars0_.store_id in (\n            select\n                store0_.id \n            from\n                store store0_ \n            where\n                store0_.name like ?\n        )\n</code></pre>\n<p><strong>Solution 3: FetchMode.SUBSELECT + EntityGraph.EntityGraphType.LOAD</strong></p>\n<p>When the <code>javax.persistence.loadgraph</code> property is used to specify an entity graph, attributes that are specified by attribute nodes of the entity graph are treated as <code>FetchType.EAGER</code> and attributes that are not specified are treated according to their specified or default FetchType.</p>\n<p>Collections that are not specified in graph will use their own Fetch Mode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface StoreRepository extends JpaRepository&lt;Store, Long&gt; {\n    @EntityGraph(attributePaths = {&quot;foos&quot;}, type = EntityGraph.EntityGraphType.LOAD)\n    List&lt;Store&gt; findByName(String name);\n}\n\npublic class Store {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @OneToMany(mappedBy = &quot;store&quot;)\n    private List&lt;Foo&gt; foos;\n\n    @OneToMany(mappedBy = &quot;store&quot;, fetch = FetchType.EAGER)\n    @Fetch(FetchMode.SUBSELECT)\n    private List&lt;Bar&gt; bars;\n}\n</code></pre>\n<p>Generated queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    select\n        store0_.id as id1_36_0_,\n        foos1_.id as id1_15_1_,\n        store0_.name as name2_36_0_,\n        foos1_.store_id as store_id2_15_1_,\n        foos1_.store_id as store_id2_15_0__,\n        foos1_.id as id1_15_0__ \n    from\n        store store0_ \n    left outer join\n        foo foos1_ \n            on store0_.id=foos1_.store_id \n    where\n        store0_.name=?\n\n    select\n        bars0_.store_id as store_id2_5_1_,\n        bars0_.id as id1_5_1_,\n        bars0_.id as id1_5_0_,\n        bars0_.store_id as store_id2_5_0_ \n    from\n        bar bars0_ \n    where\n        bars0_.store_id in (\n            select\n                store0_.id \n            from\n                store store0_ \n            left outer join\n                foo foos1_ \n                    on store0_.id=foos1_.store_id \n            where\n                store0_.name=?\n        )\n</code></pre>\n<p><strong>Solution 4, <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#fetching-batch\" rel=\"noreferrer\">BatchSize</a></strong></p>\n<p>However, although <code>@BatchSize</code> is better than running into an N+1 query issue, most of the time, Solution 1 and Solution 2 is a much better alternative since it allows you to fetch all the required data with minimum queries count.</p>\n<p>Batch size is tricky. It is a coefficient to determine the count of collections for loading in one query, it is not an exact collections count.</p>\n<p>For example if you have 20 parent records and collection with batch size 50, hibernate will generate 1 query for loading parent entities and then 2 queries for initializing collections(First: 12 collections and Second:8 collections).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Store {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @BatchSize(size = 50)\n    @OneToMany(mappedBy = &quot;store&quot;)\n    private List&lt;Foo&gt; foos;\n\n    @BatchSize(size = 50)\n    @OneToMany(mappedBy = &quot;store&quot;)\n    private List&lt;Bar&gt; bars;\n}\n</code></pre>\n<p>Generated queries:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>--Parent entities\n    select\n        store0_.id as id1_36_,\n        store0_.name as name2_36_ \n    from\n        store store0_ \n    where\n        store0_.name=?\n\n--Bar collections\n    select\n        bars0_.store_id as store_id2_5_1_,\n        bars0_.id as id1_5_1_,\n        bars0_.id as id1_5_0_,\n        bars0_.store_id as store_id2_5_0_ \n    from\n        bar bars0_ \n    where\n        bars0_.store_id in (\n            ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?\n        )\n\n    select\n        bars0_.store_id as store_id2_5_1_,\n        bars0_.id as id1_5_1_,\n        bars0_.id as id1_5_0_,\n        bars0_.store_id as store_id2_5_0_ \n    from\n        bar bars0_ \n    where\n        bars0_.store_id in (\n            ?, ?, ?, ?, ?, ?, ?, ?\n        )\n\n--Foo collections\n    select\n        foos0_.store_id as store_id2_15_1_,\n        foos0_.id as id1_15_1_,\n        foos0_.id as id1_15_0_,\n        foos0_.store_id as store_id2_15_0_ \n    from\n        foo foos0_ \n    where\n        foos0_.store_id in (\n            ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?\n        )\n\n\n    select\n        foos0_.store_id as store_id2_15_1_,\n        foos0_.id as id1_15_1_,\n        foos0_.id as id1_15_0_,\n        foos0_.store_id as store_id2_15_0_ \n    from\n        foo foos0_ \n    where\n        foos0_.store_id in (\n            ?, ?, ?, ?, ?, ?, ?, ?\n        )\n</code></pre>\n"}],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5709,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1657098325,"creation_date":1610863077,"question_id":65757777,"body_markdown":"I&#39;ve been too much time trying to do something that seems simple at first look:\r\n\r\nLet&#39;s say I have a `Store` entity with two `@OneToMany` relationships:\r\n```java\r\n@Entity\r\npublic class Store {\r\n\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;)\r\n    private List&lt;Foo&gt; foos;\r\n\r\n    @OneToMany(mappedBy = &quot;store&quot;)\r\n    private List&lt;Bar&gt; bars;\r\n\r\n}\r\n```\r\n\r\nI want to fetch both lists with the same query. I want to use Entity Graphs, because I need to decide in execution time which children I want to fetch.\r\n\r\n    @EntityGraph(attributePaths = {&quot;foos&quot;, &quot;bars&quot;})\r\n    Store findByName(String name);\r\n\r\n\r\nThis causes:\r\n\r\n    MultipleBagFetchException: cannot simultaneously fetch multiple bags.\r\n\r\nI don&#39;t want to use `Set` instead of `List`, because the purpose of this approach is to avoid the N+1 query problem **and** the Cartesian product problem (the entity hierarchy is much bigger than the example), so no `lazy fetching` or changing `List` into `Set` do help in this case.\r\n\r\nAlso, the first answer proposed [here][1] does not work with Entity Graphs.\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]:https://stackoverflow.com/questions/4334970\r\n  [2]: https://stackoverflow.com/users/1025118/vlad-mihalcea","title":"How to fetch multiple lists with EntityGraph","body":"<p>I've been too much time trying to do something that seems simple at first look:</p>\n<p>Let's say I have a <code>Store</code> entity with two <code>@OneToMany</code> relationships:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Store {\n\n    private String name;\n\n    @OneToMany(mappedBy = &quot;store&quot;)\n    private List&lt;Foo&gt; foos;\n\n    @OneToMany(mappedBy = &quot;store&quot;)\n    private List&lt;Bar&gt; bars;\n\n}\n</code></pre>\n<p>I want to fetch both lists with the same query. I want to use Entity Graphs, because I need to decide in execution time which children I want to fetch.</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;foos&quot;, &quot;bars&quot;})\nStore findByName(String name);\n</code></pre>\n<p>This causes:</p>\n<pre><code>MultipleBagFetchException: cannot simultaneously fetch multiple bags.\n</code></pre>\n<p>I don't want to use <code>Set</code> instead of <code>List</code>, because the purpose of this approach is to avoid the N+1 query problem <strong>and</strong> the Cartesian product problem (the entity hierarchy is much bigger than the example), so no <code>lazy fetching</code> or changing <code>List</code> into <code>Set</code> do help in this case.</p>\n<p>Also, the first answer proposed <a href=\"https://stackoverflow.com/questions/4334970\">here</a> does not work with Entity Graphs.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring","spring-boot","lombok"],"comments":[{"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"score":1,"creation_date":1657094910,"post_id":72879816,"comment_id":128725142,"body_markdown":"you need to set the following property in your lombok.config file lombok.anyConstructor.addConstructorProperties=true","body":"you need to set the following property in your lombok.config file lombok.anyConstructor.addConstructorProperties=true"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1657094921,"post_id":72879816,"comment_id":128725147,"body_markdown":"You could try `@Jacksonized @Builder`.","body":"You could try <code>@Jacksonized @Builder</code>."}],"answers":[{"tags":[],"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657098313,"creation_date":1657098313,"answer_id":72880678,"question_id":72879816,"body_markdown":"I am using combination of\r\n\r\n    @Value\r\n    @NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\r\n    @AllArgsConstructor(staticName = &quot;of&quot;)\r\n\r\nbecause I create those requests in tests using static `of`\r\n\r\n","title":"Java Spring deserialize object with @Value annotation","body":"<p>I am using combination of</p>\n<pre><code>@Value\n@NoArgsConstructor(force = true, access = AccessLevel.PRIVATE)\n@AllArgsConstructor(staticName = &quot;of&quot;)\n</code></pre>\n<p>because I create those requests in tests using static <code>of</code></p>\n"}],"owner":{"account_id":21978200,"reputation":25,"user_id":16253680,"display_name":"Adrian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72880678,"answer_count":1,"score":0,"last_activity_date":1657098313,"creation_date":1657094337,"question_id":72879816,"body_markdown":"I have a class that represents request from front end to backend, and i want to annotate it with @Value so it can&#39;t be changed, but then I can&#39;t have NoArgsConstructor and when server is processing such request it fails with &quot;cannot deserialize from Object value (no delegate- or property-based Creator)&quot;.\r\nI tried to use &quot;lombok.noArgsConstructor.extraPrivate=true&quot; but providing default value for each entry in class is not what I want. \r\nIs there any way to fix deserialization issue and keep @Value annotation instead of using @Data and @NoArgsConstructor?","title":"Java Spring deserialize object with @Value annotation","body":"<p>I have a class that represents request from front end to backend, and i want to annotate it with @Value so it can't be changed, but then I can't have NoArgsConstructor and when server is processing such request it fails with &quot;cannot deserialize from Object value (no delegate- or property-based Creator)&quot;.\nI tried to use &quot;lombok.noArgsConstructor.extraPrivate=true&quot; but providing default value for each entry in class is not what I want.\nIs there any way to fix deserialization issue and keep @Value annotation instead of using @Data and @NoArgsConstructor?</p>\n"},{"tags":["java","validation","junit","reflection"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1656426855,"post_id":72787974,"comment_id":128566401,"body_markdown":"It would be better not to permit construction of invalid objects in the first place. How are this objects created, and why can&#39;t you validate the data used to create them?","body":"It would be better not to permit construction of invalid objects in the first place. How are this objects created, and why can&#39;t you validate the data used to create them?"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1656427736,"post_id":72787974,"comment_id":128566818,"body_markdown":"I need this for the JUnit test, to test the output. @erickson","body":"I need this for the JUnit test, to test the output. @erickson"}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656427171,"creation_date":1656425604,"answer_id":72788057,"question_id":72787974,"body_markdown":"You can use reflection to obtain all the getters from your objects that do return a reference (instead of a primitive). Then iterate over that list (or array, your choice) and execute them; when the return value for any of these is `null`, return `false` or throw an appropriate exception.\r\n\r\nA little bit like this:\r\n\r\n```java\r\npublic final void validateNonNull( final Object candidate ) throws ValidationException\r\n{\r\n  if( isNull( candidate ) throw new ValidationException( &quot;candidate is null&quot; );\r\n\r\n  final var candidateClass = candidate.getClass();\r\n  final List&lt;Method&gt; getters = Arrays.stream( candidateClass.getMethods() ) // getters are always public!\r\n    .filter( m -&gt; !m.getName().equals( &quot;getClass&quot; ) )\r\n    .filter( m -&gt; m.getName().startsWith( &quot;get&quot; ) )\r\n    .filter( m -&gt; m.getParameterCount() == 0 )\r\n    .filter( m -&gt; !m.getReturnType().isPrimitive() )\r\n    .collect( Collectors.toList() );\r\n\r\n  for( var method : methods )\r\n  {\r\n    if( isNull( method.invoke( candidate ) ) throw new ValidationException( &quot;candidate.%s() returned null&quot;.formatted( method.getName() ) );\r\n  }\r\n}\r\n```\r\n\r\n`ValidationException` is a custom exception, and you need to declare the checked exceptions that are declared for `Method::invoke`.\r\n\r\nTo check for empty Strings, too, change the `for` loop like this:\r\n```java\r\n…\r\nfor( var method : methods )\r\n{\r\n  var retValue = method.invoke( candidate );\r\n  if( retValue instanceof String aString &amp;&amp; aString.isEmpty() ) throw new ValidationException( &quot;candidate.%s() returned the empty String&quot;.formatted( method.getName() ) ); \r\n  if( isNull( retValue ) throw new ValidationException( &quot;candidate.%s() returned null&quot;.formatted( method.getName() ) );\r\n}\r\n```\r\n","title":"How to search for null values inside a java object?","body":"<p>You can use reflection to obtain all the getters from your objects that do return a reference (instead of a primitive). Then iterate over that list (or array, your choice) and execute them; when the return value for any of these is <code>null</code>, return <code>false</code> or throw an appropriate exception.</p>\n<p>A little bit like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void validateNonNull( final Object candidate ) throws ValidationException\n{\n  if( isNull( candidate ) throw new ValidationException( &quot;candidate is null&quot; );\n\n  final var candidateClass = candidate.getClass();\n  final List&lt;Method&gt; getters = Arrays.stream( candidateClass.getMethods() ) // getters are always public!\n    .filter( m -&gt; !m.getName().equals( &quot;getClass&quot; ) )\n    .filter( m -&gt; m.getName().startsWith( &quot;get&quot; ) )\n    .filter( m -&gt; m.getParameterCount() == 0 )\n    .filter( m -&gt; !m.getReturnType().isPrimitive() )\n    .collect( Collectors.toList() );\n\n  for( var method : methods )\n  {\n    if( isNull( method.invoke( candidate ) ) throw new ValidationException( &quot;candidate.%s() returned null&quot;.formatted( method.getName() ) );\n  }\n}\n</code></pre>\n<p><code>ValidationException</code> is a custom exception, and you need to declare the checked exceptions that are declared for <code>Method::invoke</code>.</p>\n<p>To check for empty Strings, too, change the <code>for</code> loop like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>…\nfor( var method : methods )\n{\n  var retValue = method.invoke( candidate );\n  if( retValue instanceof String aString &amp;&amp; aString.isEmpty() ) throw new ValidationException( &quot;candidate.%s() returned the empty String&quot;.formatted( method.getName() ) ); \n  if( isNull( retValue ) throw new ValidationException( &quot;candidate.%s() returned null&quot;.formatted( method.getName() ) );\n}\n</code></pre>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72788057,"answer_count":1,"score":1,"last_activity_date":1657098183,"creation_date":1656425265,"question_id":72787974,"body_markdown":"I&#39;m writing a JUnit test to assert that my algorithm&#39;s output object does not present any null value or empty strings.\r\n\r\nFor simplicity imagine 3 classes : Parent, Child, Car, where Parent is the object that I have to validate.\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    @Builder\r\n    public class Child {\r\n    \tString name;\r\n    \tint age;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    @Builder\r\n    public class Car {\r\n    \tString brand;\r\n    \tString model;\r\n    }\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    @Builder\r\n    public class Parent {\r\n    \tString name;\r\n    \tint age;\r\n    \tList&lt;Child&gt; children;\r\n    \tCar car;\r\n    }\r\n\r\nwhat is the best and easy way to search for null values or empty strings?\r\n\r\nI&#39;m currently using the following method as a validator, checking field by field for null values and empty strings.\r\n\r\n    private boolean isValid(Parent parent) {\r\n        if(parent == null) return false;\r\n\r\n        boolean isObjectNull = Stream.of(parent.getName(), parent.getChildren(), parent.getCar()).anyMatch(Objects::isNull);\r\n\r\n        if(isObjectNull) return false;\r\n \r\n        isObjectNull = Stream.of(parent.getCar().getBrand(), parent.getCar().getModel()).anyMatch(Objects::isNull);\r\n\r\n        if(isObjectNull) return false;\r\n        \r\n        for(Child child : parent.getChildren()){\r\n            isObjectNull = Stream.of(child.getName()).anyMatch(Objects::isNull);\r\n            \r\n            if(isObjectNull) return false;\r\n\r\n            if(!isValidString(child.getName())) return false;\r\n        }\r\n        \r\n        return isValidString(parent.getName(), parent.getCar().getBrand(), parent.getCar().getModel());\r\n    }\r\n\r\n    private boolean isValidString(String... values){\r\n        for(String s : values){\r\n            if(s.isEmpty())\r\n        }\r\n    }\r\n\r\nBut I would love something I can also use for other objects I will create in the future.","title":"How to search for null values inside a java object?","body":"<p>I'm writing a JUnit test to assert that my algorithm's output object does not present any null value or empty strings.</p>\n<p>For simplicity imagine 3 classes : Parent, Child, Car, where Parent is the object that I have to validate.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Builder\npublic class Child {\n    String name;\n    int age;\n}\n\n@Data\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Builder\npublic class Car {\n    String brand;\n    String model;\n}\n\n@Data\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\n@Builder\npublic class Parent {\n    String name;\n    int age;\n    List&lt;Child&gt; children;\n    Car car;\n}\n</code></pre>\n<p>what is the best and easy way to search for null values or empty strings?</p>\n<p>I'm currently using the following method as a validator, checking field by field for null values and empty strings.</p>\n<pre><code>private boolean isValid(Parent parent) {\n    if(parent == null) return false;\n\n    boolean isObjectNull = Stream.of(parent.getName(), parent.getChildren(), parent.getCar()).anyMatch(Objects::isNull);\n\n    if(isObjectNull) return false;\n\n    isObjectNull = Stream.of(parent.getCar().getBrand(), parent.getCar().getModel()).anyMatch(Objects::isNull);\n\n    if(isObjectNull) return false;\n    \n    for(Child child : parent.getChildren()){\n        isObjectNull = Stream.of(child.getName()).anyMatch(Objects::isNull);\n        \n        if(isObjectNull) return false;\n\n        if(!isValidString(child.getName())) return false;\n    }\n    \n    return isValidString(parent.getName(), parent.getCar().getBrand(), parent.getCar().getModel());\n}\n\nprivate boolean isValidString(String... values){\n    for(String s : values){\n        if(s.isEmpty())\n    }\n}\n</code></pre>\n<p>But I would love something I can also use for other objects I will create in the future.</p>\n"},{"tags":["java","spring-boot","docker","testcontainers","r2dbc"],"comments":[{"owner":{"account_id":12937672,"reputation":1290,"user_id":9354495,"display_name":"yuppie-flu"},"score":2,"creation_date":1657041469,"post_id":72872636,"comment_id":128713552,"body_markdown":"Looking at the stacktrace, it&#39;s not about your code or the JDBC connection string, but rather the Testcontainers library failed to connect to your local docker installation. Did you customize any Testcontainers settings? Which operation system do you use? You can also check this link https://www.testcontainers.org/features/configuration/#customizing-docker-host-detection","body":"Looking at the stacktrace, it&#39;s not about your code or the JDBC connection string, but rather the Testcontainers library failed to connect to your local docker installation. Did you customize any Testcontainers settings? Which operation system do you use? You can also check this link <a href=\"https://www.testcontainers.org/features/configuration/#customizing-docker-host-detection\" rel=\"nofollow noreferrer\">testcontainers.org/features/configuration/&hellip;</a>"},{"owner":{"account_id":25733039,"reputation":1,"user_id":19488313,"display_name":"stripes137"},"score":0,"creation_date":1657098091,"post_id":72872636,"comment_id":128726227,"body_markdown":"It appears you&#39;re right. I had DOCKER_HOST set as 127.0.0.1:2375 in my Environment Variables. I&#39;m in IntelliJ on Windows. I&#39;m now trying to use testcontainers.properties to set docker properties but I&#39;m probably doing it wrong since I&#39;m now getting: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration","body":"It appears you&#39;re right. I had DOCKER_HOST set as 127.0.0.1:2375 in my Environment Variables. I&#39;m in IntelliJ on Windows. I&#39;m now trying to use testcontainers.properties to set docker properties but I&#39;m probably doing it wrong since I&#39;m now getting: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration"},{"owner":{"account_id":12937672,"reputation":1290,"user_id":9354495,"display_name":"yuppie-flu"},"score":0,"creation_date":1657098486,"post_id":72872636,"comment_id":128726387,"body_markdown":"I can only recommend this page: https://www.testcontainers.org/supported_docker_environment/windows/, because I don&#39;t have any personal experience with Testcontainers on Windows. Good luck.","body":"I can only recommend this page: <a href=\"https://www.testcontainers.org/supported_docker_environment/windows/\" rel=\"nofollow noreferrer\">testcontainers.org/supported_docker_environment/windows</a>, because I don&#39;t have any personal experience with Testcontainers on Windows. Good luck."},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1657176815,"post_id":72872636,"comment_id":128749045,"body_markdown":"Are you using Docker Desktop on Windows? This should work out of the box, so please remove the further configuration. Feel free to drop into our Slack, so we can look at it together: https://slack.testcontainers.org/","body":"Are you using Docker Desktop on Windows? This should work out of the box, so please remove the further configuration. Feel free to drop into our Slack, so we can look at it together: <a href=\"https://slack.testcontainers.org/\" rel=\"nofollow noreferrer\">slack.testcontainers.org</a>"},{"owner":{"account_id":25733039,"reputation":1,"user_id":19488313,"display_name":"stripes137"},"score":0,"creation_date":1657187401,"post_id":72872636,"comment_id":128752944,"body_markdown":"@KevinWittek I&#39;m actually not using Docker Desktop. I&#39;m running dockerd in wsl2. I also stumbled upon this https://github.com/testcontainers/testcontainers-java/issues/4958 Does this mean that what I&#39;m trying to do is a no-go? I can&#39;t use Docker Desktop","body":"@KevinWittek I&#39;m actually not using Docker Desktop. I&#39;m running dockerd in wsl2. I also stumbled upon this <a href=\"https://github.com/testcontainers/testcontainers-java/issues/4958\" rel=\"nofollow noreferrer\">github.com/testcontainers/testcontainers-java/issues/4958</a> Does this mean that what I&#39;m trying to do is a no-go? I can&#39;t use Docker Desktop"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1657307825,"post_id":72872636,"comment_id":128787961,"body_markdown":"It is not a no-go, it is just simply not supported automatically, since this is quite an advanced setup, if you want to use the Docker daemon inside WSL from within a Windows process (if you use it with a Linux process, it will work automatically OOTB).\n\nAs you can find in the issue you linked, there are different examples of working configurations.","body":"It is not a no-go, it is just simply not supported automatically, since this is quite an advanced setup, if you want to use the Docker daemon inside WSL from within a Windows process (if you use it with a Linux process, it will work automatically OOTB).  As you can find in the issue you linked, there are different examples of working configurations."}],"owner":{"account_id":25733039,"reputation":1,"user_id":19488313,"display_name":"stripes137"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":821,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657098142,"creation_date":1657037887,"question_id":72872636,"body_markdown":"I&#39;m trying to write some database integration tests in my first Spring Webflux application. I liked the idea behind @Testcontainers and I&#39;m attempting to launch a Postgresql container instead of going the H2 route. I&#39;m going by the official documentation here : https://www.testcontainers.org/modules/databases/r2dbc/\r\n\r\nI&#39;ve tried to set this up in two ways, using a tc profile and creating the container programmatically. Both give me the same nested error:\r\n\r\n```\r\nCaused by: java.net.URISyntaxException: Illegal character in scheme name at index 0: 127.0.0.1:2375\r\n\tat java.base/java.net.URI$Parser.fail(URI.java:2974)\r\n\tat java.base/java.net.URI$Parser.checkChars(URI.java:3145)\r\n\tat java.base/java.net.URI$Parser.checkChar(URI.java:3155)\r\n\tat java.base/java.net.URI$Parser.parse(URI.java:3170)\r\n\tat java.base/java.net.URI.&lt;init&gt;(URI.java:623)\r\n\tat java.base/java.net.URI.create(URI.java:904)\r\n\t... 81 more\r\n```\r\nSo that&#39;s not a complete URL but I was expecting testcontainers to handle the url based on the schema below.\r\n\r\napplication-tc.properties\r\n```\r\nspring.r2dbc.url=r2dbc:tc:postgresql:///mydb?TC_IMAGE_TAG=14.4-alpine\r\n```\r\nTest class\r\n```\r\npackage com.rxjava.babybank.repository;\r\n\r\nimport com.rxjava.babybank.model.Account;\r\nimport org.junit.Test;\r\nimport org.junit.jupiter.api.AfterEach;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.r2dbc.DataR2dbcTest;\r\nimport org.springframework.test.context.ActiveProfiles;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\nimport reactor.test.StepVerifier;\r\n\r\nimport java.util.List;\r\n\r\n@RunWith(SpringRunner.class)\r\n@DataR2dbcTest\r\n@Testcontainers\r\n@ActiveProfiles(&quot;tc&quot;)\r\npublic class AccountRepositoryTest {\r\n\r\n    @Autowired\r\n    AccountRepository repository;\r\n\r\n//    private static PostgreSQLContainer&lt;BabyPostgresqlContainer&gt; container = BabyPostgresqlContainer.getInstance();\r\n//\r\n//    @DynamicPropertySource\r\n//    public static void overrideProps(DynamicPropertyRegistry registry) {\r\n//        registry.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:postgresql://&quot;\r\n//                + container.getHost() + &quot;:&quot; + container.getFirstMappedPort()\r\n//                + &quot;/&quot; + container.getDatabaseName());\r\n//        registry.add(&quot;spring.r2dbc.username&quot;, container::getUsername);\r\n//        registry.add(&quot;spring.r2dbc.password&quot;, container::getPassword);\r\n//    }\r\n\r\n    @AfterEach\r\n    public void emptyRepository() {\r\n        repository.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    public void shouldBeEmpty() {\r\n        repository.findAll().as(StepVerifier::create).expectNextCount(0).verifyComplete();\r\n    }\r\n\r\n    @Test\r\n    public void shouldGetInsertedValues() {\r\n        Account acc1 = new Account(&quot;acc1&quot;, &quot;cust1&quot;, 2000L, &quot;RON&quot;);\r\n        Account acc2 = new Account(&quot;acc2&quot;, &quot;cust2&quot;, 200000L, &quot;EUR&quot;);\r\n        Account acc3 = new Account(&quot;acc3&quot;, &quot;cust1&quot;, 3000L, &quot;EUR&quot;);\r\n\r\n        repository.saveAll(List.of(acc1, acc2, acc3));\r\n\r\n        repository.findAll().as(StepVerifier::create).expectNextCount(3).verifyComplete();\r\n    }\r\n}\r\n\r\n```\r\nBabyPostgresqlContainer\r\n```\r\npackage com.rxjava.babybank.integration;\r\n\r\nimport org.testcontainers.containers.PostgreSQLContainer;\r\n\r\npublic class BabyPostgresqlContainer extends PostgreSQLContainer&lt;BabyPostgresqlContainer&gt; {\r\n    private static final String IMAGE_VERSION = &quot;postgres:14.4-alpine&quot;;\r\n    public static final String DATABASE_NAME = &quot;mydb&quot;;\r\n    private static BabyPostgresqlContainer container;\r\n\r\n    private BabyPostgresqlContainer() {\r\n        super(IMAGE_VERSION);\r\n    }\r\n\r\n    public static BabyPostgresqlContainer getInstance() {\r\n        if (container == null) {\r\n            container = new BabyPostgresqlContainer().withDatabaseName(DATABASE_NAME);\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        //do nothing, JVM handles shut down\r\n    }\r\n}\r\n\r\n```\r\nWhat am I doing wrong?\r\n\r\nPS: I know those aren&#39;t useful unit tests, just trying to figure out how to write them using the default @R2dbcRepository methods.\r\n\r\nPPS: Full error\r\n```\r\njava.lang.AssertionError: expectation &quot;expectNextCount(3)&quot; failed (expected: count = 3; actual: counted = 0; signal: onError(org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated))\r\n\r\n\tat reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\r\n\tat reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\r\n\tat reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\r\n\tat reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.checkCountMismatch(DefaultStepVerifierBuilder.java:1372)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignalCount(DefaultStepVerifierBuilder.java:1609)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1466)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\r\n\tat reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4397)\r\n\tat reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:842)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\r\n\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onError(FluxFlatMap.java:451)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8466)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.FluxUsingWhen$ResourceSubscriber.onError(FluxUsingWhen.java:220)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4397)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.onError(FluxRetry.java:95)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475)\r\n\tat reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431)\r\n\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitFutureCompletionSubscriptionState.lambda$enter$0(ConnectionPublisher.java:86)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\r\n\tat java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\r\n\tat java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2325)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitFutureCompletionSubscriptionState.enter(ConnectionPublisher.java:83)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription.transitionTo(ConnectionPublisher.java:55)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitRequestSubscriptionState.request(ConnectionPublisher.java:67)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription.request(ConnectionPublisher.java:45)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\n\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.request(FluxDoOnEach.java:108)\r\n\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74)\r\n\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\r\n\tat reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onSubscribe(FluxDoOnEach.java:121)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\n\tat org.testcontainers.r2dbc.ConnectionPublisher.subscribe(ConnectionPublisher.java:29)\r\n\tat reactor.core.publisher.MonoFromPublisher.subscribe(MonoFromPublisher.java:63)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4397)\r\n\tat reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\r\n\tat reactor.core.publisher.FluxConcatArray.subscribe(FluxConcatArray.java:78)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8466)\r\n\tat reactor.core.publisher.Flux.subscribeWith(Flux.java:8639)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8436)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8360)\r\n\tat reactor.pool.SimpleDequePool.drainLoop(SimpleDequePool.java:453)\r\n\tat reactor.pool.SimpleDequePool.pendingOffer(SimpleDequePool.java:600)\r\n\tat reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:296)\r\n\tat reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:430)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\r\n\tat reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:720)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n\tat reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\r\n\tat reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4382)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\r\n\tat reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\r\n\tat reactor.core.publisher.Operators.error(Operators.java:198)\r\n\tat reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.core.publisher.Mono.subscribe(Mono.java:4397)\r\n\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8466)\r\n\tat reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8466)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)\r\n\tat reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\r\n\tat reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)\r\n\tat com.rxjava.babybank.repository.AccountRepositoryTest.shouldGetInsertedValues(AccountRepositoryTest.java:54)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\tSuppressed: org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\r\n\t\tat org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88)\r\n\t\tat reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3730)\r\n\t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\r\n\t\t... 95 more\r\n\tCaused by: java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\r\n\t\tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n\t\tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tCaused by: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\r\n\t\tat java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\r\n\t\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\r\n\t\tat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\r\n\t\tat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\r\n\t\tat java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n\t\tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:133)\r\n\t\tat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:176)\r\n\t\tat org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:90)\r\n\t\tat com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:108)\r\n\t\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:325)\r\n\t\tat org.testcontainers.containers.PostgreSQLR2DBCDatabaseContainer.start(PostgreSQLR2DBCDatabaseContainer.java:12)\r\n\t\tat org.testcontainers.r2dbc.TestcontainersR2DBCConnectionFactory.lambda$null$3(TestcontainersR2DBCConnectionFactory.java:54)\r\n\t\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\t\t... 3 more\r\n\tCaused by: java.lang.IllegalArgumentException: Illegal character in scheme name at index 0: 127.0.0.1:2375\r\n\t\tat java.base/java.net.URI.create(URI.java:906)\r\n\t\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig$Builder.withDockerHost(DefaultDockerClientConfig.java:360)\r\n\t\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig$Builder.withProperties(DefaultDockerClientConfig.java:342)\r\n\t\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig.createDefaultConfigBuilder(DefaultDockerClientConfig.java:221)\r\n\t\tat org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig.createDefaultConfigBuilder(DefaultDockerClientConfig.java:210)\r\n\t\tat org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy.&lt;init&gt;(EnvironmentAndSystemPropertyClientProviderStrategy.java:34)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\t\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\t\tat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\r\n\t\t... 14 more\r\n\tCaused by: java.net.URISyntaxException: Illegal character in scheme name at index 0: 127.0.0.1:2375\r\n\t\tat java.base/java.net.URI$Parser.fail(URI.java:2974)\r\n\t\tat java.base/java.net.URI$Parser.checkChars(URI.java:3145)\r\n\t\tat java.base/java.net.URI$Parser.checkChar(URI.java:3155)\r\n\t\tat java.base/java.net.URI$Parser.parse(URI.java:3170)\r\n\t\tat java.base/java.net.URI.&lt;init&gt;(URI.java:623)\r\n\t\tat java.base/java.net.URI.create(URI.java:904)\r\n\t\t... 25 more\r\n\r\n```","title":"Spring Webflux and Testcontainers - Database container launched via R2DBC URL scheme error","body":"<p>I'm trying to write some database integration tests in my first Spring Webflux application. I liked the idea behind @Testcontainers and I'm attempting to launch a Postgresql container instead of going the H2 route. I'm going by the official documentation here : <a href=\"https://www.testcontainers.org/modules/databases/r2dbc/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/databases/r2dbc/</a></p>\n<p>I've tried to set this up in two ways, using a tc profile and creating the container programmatically. Both give me the same nested error:</p>\n<pre><code>Caused by: java.net.URISyntaxException: Illegal character in scheme name at index 0: 127.0.0.1:2375\n    at java.base/java.net.URI$Parser.fail(URI.java:2974)\n    at java.base/java.net.URI$Parser.checkChars(URI.java:3145)\n    at java.base/java.net.URI$Parser.checkChar(URI.java:3155)\n    at java.base/java.net.URI$Parser.parse(URI.java:3170)\n    at java.base/java.net.URI.&lt;init&gt;(URI.java:623)\n    at java.base/java.net.URI.create(URI.java:904)\n    ... 81 more\n</code></pre>\n<p>So that's not a complete URL but I was expecting testcontainers to handle the url based on the schema below.</p>\n<p>application-tc.properties</p>\n<pre><code>spring.r2dbc.url=r2dbc:tc:postgresql:///mydb?TC_IMAGE_TAG=14.4-alpine\n</code></pre>\n<p>Test class</p>\n<pre><code>package com.rxjava.babybank.repository;\n\nimport com.rxjava.babybank.model.Account;\nimport org.junit.Test;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.r2dbc.DataR2dbcTest;\nimport org.springframework.test.context.ActiveProfiles;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.testcontainers.junit.jupiter.Testcontainers;\nimport reactor.test.StepVerifier;\n\nimport java.util.List;\n\n@RunWith(SpringRunner.class)\n@DataR2dbcTest\n@Testcontainers\n@ActiveProfiles(&quot;tc&quot;)\npublic class AccountRepositoryTest {\n\n    @Autowired\n    AccountRepository repository;\n\n//    private static PostgreSQLContainer&lt;BabyPostgresqlContainer&gt; container = BabyPostgresqlContainer.getInstance();\n//\n//    @DynamicPropertySource\n//    public static void overrideProps(DynamicPropertyRegistry registry) {\n//        registry.add(&quot;spring.r2dbc.url&quot;, () -&gt; &quot;r2dbc:postgresql://&quot;\n//                + container.getHost() + &quot;:&quot; + container.getFirstMappedPort()\n//                + &quot;/&quot; + container.getDatabaseName());\n//        registry.add(&quot;spring.r2dbc.username&quot;, container::getUsername);\n//        registry.add(&quot;spring.r2dbc.password&quot;, container::getPassword);\n//    }\n\n    @AfterEach\n    public void emptyRepository() {\n        repository.deleteAll();\n    }\n\n    @Test\n    public void shouldBeEmpty() {\n        repository.findAll().as(StepVerifier::create).expectNextCount(0).verifyComplete();\n    }\n\n    @Test\n    public void shouldGetInsertedValues() {\n        Account acc1 = new Account(&quot;acc1&quot;, &quot;cust1&quot;, 2000L, &quot;RON&quot;);\n        Account acc2 = new Account(&quot;acc2&quot;, &quot;cust2&quot;, 200000L, &quot;EUR&quot;);\n        Account acc3 = new Account(&quot;acc3&quot;, &quot;cust1&quot;, 3000L, &quot;EUR&quot;);\n\n        repository.saveAll(List.of(acc1, acc2, acc3));\n\n        repository.findAll().as(StepVerifier::create).expectNextCount(3).verifyComplete();\n    }\n}\n\n</code></pre>\n<p>BabyPostgresqlContainer</p>\n<pre><code>package com.rxjava.babybank.integration;\n\nimport org.testcontainers.containers.PostgreSQLContainer;\n\npublic class BabyPostgresqlContainer extends PostgreSQLContainer&lt;BabyPostgresqlContainer&gt; {\n    private static final String IMAGE_VERSION = &quot;postgres:14.4-alpine&quot;;\n    public static final String DATABASE_NAME = &quot;mydb&quot;;\n    private static BabyPostgresqlContainer container;\n\n    private BabyPostgresqlContainer() {\n        super(IMAGE_VERSION);\n    }\n\n    public static BabyPostgresqlContainer getInstance() {\n        if (container == null) {\n            container = new BabyPostgresqlContainer().withDatabaseName(DATABASE_NAME);\n        }\n        return container;\n    }\n\n    @Override\n    public void start() {\n        super.start();\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\n    }\n\n    @Override\n    public void stop() {\n        //do nothing, JVM handles shut down\n    }\n}\n\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>PS: I know those aren't useful unit tests, just trying to figure out how to write them using the default @R2dbcRepository methods.</p>\n<p>PPS: Full error</p>\n<pre><code>java.lang.AssertionError: expectation &quot;expectNextCount(3)&quot; failed (expected: count = 3; actual: counted = 0; signal: onError(org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated))\n\n    at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)\n    at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)\n    at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)\n    at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.checkCountMismatch(DefaultStepVerifierBuilder.java:1372)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignalCount(DefaultStepVerifierBuilder.java:1609)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1466)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onError(DefaultStepVerifierBuilder.java:1129)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.deferredError(FluxUsingWhen.java:398)\n    at reactor.core.publisher.FluxUsingWhen$RollbackInner.onComplete(FluxUsingWhen.java:475)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:46)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4397)\n    at reactor.core.publisher.FluxUsingWhen$UsingWhenSubscriber.onError(FluxUsingWhen.java:364)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.checkTerminated(FluxFlatMap.java:842)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drainLoop(FluxFlatMap.java:608)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.drain(FluxFlatMap.java:588)\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.onError(FluxFlatMap.java:451)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.FluxError.subscribe(FluxError.java:43)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8466)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.FluxUsingWhen$ResourceSubscriber.onError(FluxUsingWhen.java:220)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4397)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)\n    at reactor.core.publisher.FluxRetry$RetrySubscriber.onError(FluxRetry.java:95)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\n    at reactor.pool.AbstractPool$Borrower.fail(AbstractPool.java:475)\n    at reactor.pool.SimpleDequePool.lambda$drainLoop$9(SimpleDequePool.java:431)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:186)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onError(MonoNext.java:93)\n    at org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitFutureCompletionSubscriptionState.lambda$enter$0(ConnectionPublisher.java:86)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)\n    at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:887)\n    at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2325)\n    at org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitFutureCompletionSubscriptionState.enter(ConnectionPublisher.java:83)\n    at org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription.transitionTo(ConnectionPublisher.java:55)\n    at org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription$WaitRequestSubscriptionState.request(ConnectionPublisher.java:67)\n    at org.testcontainers.r2dbc.ConnectionPublisher$StateMachineSubscription.request(ConnectionPublisher.java:45)\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.request(FluxDoOnEach.java:108)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.request(FluxContextWrite.java:136)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2194)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onSubscribe(FluxOnErrorResume.java:74)\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onSubscribe(FluxContextWrite.java:101)\n    at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onSubscribe(FluxDoOnEach.java:121)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\n    at org.testcontainers.r2dbc.ConnectionPublisher.subscribe(ConnectionPublisher.java:29)\n    at reactor.core.publisher.MonoFromPublisher.subscribe(MonoFromPublisher.java:63)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4397)\n    at reactor.core.publisher.FluxConcatArray$ConcatArraySubscriber.onComplete(FluxConcatArray.java:258)\n    at reactor.core.publisher.FluxConcatArray.subscribe(FluxConcatArray.java:78)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8466)\n    at reactor.core.publisher.Flux.subscribeWith(Flux.java:8639)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8436)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8360)\n    at reactor.pool.SimpleDequePool.drainLoop(SimpleDequePool.java:453)\n    at reactor.pool.SimpleDequePool.pendingOffer(SimpleDequePool.java:600)\n    at reactor.pool.SimpleDequePool.doAcquire(SimpleDequePool.java:296)\n    at reactor.pool.AbstractPool$Borrower.request(AbstractPool.java:430)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:110)\n    at reactor.pool.SimpleDequePool$QueueBorrowerMono.subscribe(SimpleDequePool.java:720)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n    at reactor.core.publisher.FluxRetry$RetrySubscriber.resubscribe(FluxRetry.java:117)\n    at reactor.core.publisher.MonoRetry.subscribeOrReturn(MonoRetry.java:50)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4382)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)\n    at reactor.core.publisher.FluxMap$MapSubscriber.onError(FluxMap.java:134)\n    at reactor.core.publisher.Operators.error(Operators.java:198)\n    at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4397)\n    at reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:104)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8466)\n    at reactor.core.publisher.FluxUsingWhen.subscribe(FluxUsingWhen.java:94)\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8466)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)\n    at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)\n    at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)\n    at com.rxjava.babybank.repository.AccountRepositoryTest.shouldGetInsertedValues(AccountRepositoryTest.java:54)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: org.springframework.dao.DataAccessResourceFailureException: Failed to obtain R2DBC Connection; nested exception is java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\n        at org.springframework.r2dbc.connection.ConnectionFactoryUtils.lambda$getConnection$0(ConnectionFactoryUtils.java:88)\n        at reactor.core.publisher.Mono.lambda$onErrorMap$31(Mono.java:3730)\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)\n        ... 95 more\n    Caused by: java.util.concurrent.CompletionException: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n        at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1770)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: java.util.ServiceConfigurationError: org.testcontainers.dockerclient.DockerClientProviderStrategy: Provider org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy could not be instantiated\n        at java.base/java.util.ServiceLoader.fail(ServiceLoader.java:586)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:813)\n        at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:729)\n        at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1403)\n        at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:133)\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:176)\n        at org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:90)\n        at com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:108)\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:325)\n        at org.testcontainers.containers.PostgreSQLR2DBCDatabaseContainer.start(PostgreSQLR2DBCDatabaseContainer.java:12)\n        at org.testcontainers.r2dbc.TestcontainersR2DBCConnectionFactory.lambda$null$3(TestcontainersR2DBCConnectionFactory.java:54)\n        at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n        ... 3 more\n    Caused by: java.lang.IllegalArgumentException: Illegal character in scheme name at index 0: 127.0.0.1:2375\n        at java.base/java.net.URI.create(URI.java:906)\n        at org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig$Builder.withDockerHost(DefaultDockerClientConfig.java:360)\n        at org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig$Builder.withProperties(DefaultDockerClientConfig.java:342)\n        at org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig.createDefaultConfigBuilder(DefaultDockerClientConfig.java:221)\n        at org.testcontainers.shaded.com.github.dockerjava.core.DefaultDockerClientConfig.createDefaultConfigBuilder(DefaultDockerClientConfig.java:210)\n        at org.testcontainers.dockerclient.EnvironmentAndSystemPropertyClientProviderStrategy.&lt;init&gt;(EnvironmentAndSystemPropertyClientProviderStrategy.java:34)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:789)\n        ... 14 more\n    Caused by: java.net.URISyntaxException: Illegal character in scheme name at index 0: 127.0.0.1:2375\n        at java.base/java.net.URI$Parser.fail(URI.java:2974)\n        at java.base/java.net.URI$Parser.checkChars(URI.java:3145)\n        at java.base/java.net.URI$Parser.checkChar(URI.java:3155)\n        at java.base/java.net.URI$Parser.parse(URI.java:3170)\n        at java.base/java.net.URI.&lt;init&gt;(URI.java:623)\n        at java.base/java.net.URI.create(URI.java:904)\n        ... 25 more\n\n</code></pre>\n"},{"tags":["java","ubuntu","cron"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1656664751,"post_id":72826488,"comment_id":128632421,"body_markdown":"crontab starts at root, so indeed you need a `cd &lt;right-folder&gt;` in the crontab command, something like `@reboot sleep 60 &amp;&amp; cd expectedFolder &amp;&amp; java -jar...`","body":"crontab starts at root, so indeed you need a <code>cd &lt;right-folder&gt;</code> in the crontab command, something like <code>@reboot sleep 60 &amp;&amp; cd expectedFolder &amp;&amp; java -jar...</code>"},{"owner":{"account_id":15269905,"reputation":327,"user_id":11017412,"display_name":"Mr. Nielzom"},"score":0,"creation_date":1657095790,"post_id":72826488,"comment_id":128725426,"body_markdown":"That works! Amazing. If you post as an answer, I can accept it.","body":"That works! Amazing. If you post as an answer, I can accept it."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1657097921,"post_id":72826488,"comment_id":128726168,"body_markdown":"Posted as an answer :)","body":"Posted as an answer :)"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657367458,"post_id":72826488,"comment_id":128796612,"body_markdown":"In Java you are not guaranteed anything about the current directory.   Either use resources (which can be done in the manifest for files outside the jar) or have your code locate itself and resolve relative paths from that.","body":"In Java you are not guaranteed anything about the current directory.   Either use resources (which can be done in the manifest for files outside the jar) or have your code locate itself and resolve relative paths from that."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657097903,"creation_date":1657097903,"answer_id":72880605,"question_id":72826488,"body_markdown":"`crontab` always starts at root, so you need a `cd &lt;right-folder&gt;` in the crontab command, something like: \r\n\r\n    @reboot sleep 60 &amp;&amp; cd expectedFolder &amp;&amp; java -jar ... ","title":"Crontab -e messing up paths in jar-file","body":"<p><code>crontab</code> always starts at root, so you need a <code>cd &lt;right-folder&gt;</code> in the crontab command, something like:</p>\n<pre><code>@reboot sleep 60 &amp;&amp; cd expectedFolder &amp;&amp; java -jar ... \n</code></pre>\n"}],"owner":{"account_id":15269905,"reputation":327,"user_id":11017412,"display_name":"Mr. Nielzom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657097903,"creation_date":1656664235,"question_id":72826488,"body_markdown":"I am running a jar-file through crontab -e with paths such as &quot;../folder/dbfile.db&quot;.\r\n\r\nIf I run that jar-file through the terminal in Ubuntu, it works.\r\n\r\nHowever, if I run it in crontab -e, the paths start from /home/myUser/ or something like that.\r\n\r\nHow would I go about solving it?\r\n\r\nHere is my crontab -e\r\n\r\n    @reboot sleep 60 &amp;&amp; java -jar Desktop/IP/server.jar &gt; Desktop/IP/logs/server.log 2&gt;&amp;1\r\n    @reboot sleep 120 &amp;&amp; java -jar Desktop/IP/backup.jar &gt; Desktop/IP/logs/backup.log 2&gt;&amp;1\r\n\r\n\r\n","title":"Crontab -e messing up paths in jar-file","body":"<p>I am running a jar-file through crontab -e with paths such as &quot;../folder/dbfile.db&quot;.</p>\n<p>If I run that jar-file through the terminal in Ubuntu, it works.</p>\n<p>However, if I run it in crontab -e, the paths start from /home/myUser/ or something like that.</p>\n<p>How would I go about solving it?</p>\n<p>Here is my crontab -e</p>\n<pre><code>@reboot sleep 60 &amp;&amp; java -jar Desktop/IP/server.jar &gt; Desktop/IP/logs/server.log 2&gt;&amp;1\n@reboot sleep 120 &amp;&amp; java -jar Desktop/IP/backup.jar &gt; Desktop/IP/logs/backup.log 2&gt;&amp;1\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":19361393,"reputation":144,"user_id":14156581,"display_name":"Kau&#234; Oliveira"},"score":0,"creation_date":1656996858,"post_id":72864155,"comment_id":128698234,"body_markdown":"@mkl pinging you for your experience with pdfbox","body":"@mkl pinging you for your experience with pdfbox"},{"owner":{"account_id":251246,"reputation":5249,"user_id":528481,"display_name":"iPDFdev"},"score":2,"creation_date":1657013018,"post_id":72864155,"comment_id":128702663,"body_markdown":"Please post a sample PDF file for investigation","body":"Please post a sample PDF file for investigation"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1657015639,"post_id":72864155,"comment_id":128703628,"body_markdown":"Indeed, please share a sample PDF. Also tell us the Adobe Acrobat Reader version you use.","body":"Indeed, please share a sample PDF. Also tell us the Adobe Acrobat Reader version you use."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1657022280,"post_id":72864155,"comment_id":128705891,"body_markdown":"Do you have the asian fonts package in your Adobe Reader? https://helpx.adobe.com/acrobat/kb/font-pack-spelling-dictionary-64-bit-windows.html","body":"Do you have the asian fonts package in your Adobe Reader? <a href=\"https://helpx.adobe.com/acrobat/kb/font-pack-spelling-dictionary-64-bit-windows.html\" rel=\"nofollow noreferrer\">helpx.adobe.com/acrobat/kb/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19361393,"reputation":144,"user_id":14156581,"display_name":"Kau&#234; Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657096798,"creation_date":1657096798,"answer_id":72880340,"question_id":72864155,"body_markdown":"Solved by using both `fs.setFile()` and `fs.setFileUnicode()`, plus `fs.setEmbeddedFile()`","title":"Java PDFBox - Change attachment font","body":"<p>Solved by using both <code>fs.setFile()</code> and <code>fs.setFileUnicode()</code>, plus <code>fs.setEmbeddedFile()</code></p>\n"}],"owner":{"account_id":19361393,"reputation":144,"user_id":14156581,"display_name":"Kau&#234; Oliveira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657097756,"creation_date":1656996803,"question_id":72864155,"body_markdown":"I have a service that attaches files to pdf, and a requirement to support attaching files with name in Thai alphabet. However, I get a strange name in the attached file when doing so:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthis is done using `fs.setFileUnicode()`. using `fs.setFile()` generates an even stranger name:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow can I preserve the Thai file name? \r\n\r\n  [1]: https://i.stack.imgur.com/fnx5K.png\r\n  [2]: https://i.stack.imgur.com/Nnb2M.png","title":"Java PDFBox - Change attachment font","body":"<p>I have a service that attaches files to pdf, and a requirement to support attaching files with name in Thai alphabet. However, I get a strange name in the attached file when doing so:</p>\n<p><a href=\"https://i.stack.imgur.com/fnx5K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fnx5K.png\" alt=\"enter image description here\" /></a></p>\n<p>this is done using <code>fs.setFileUnicode()</code>. using <code>fs.setFile()</code> generates an even stranger name:</p>\n<p><a href=\"https://i.stack.imgur.com/Nnb2M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nnb2M.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I preserve the Thai file name?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":3,"creation_date":1544747859,"post_id":53771961,"comment_id":94395902,"body_markdown":"This is not about efficiency : it&#39;s about what you want ? Keep only the first and never overwrite OR overwrite each time you find the key again OR compute something between existing value and new one","body":"This is not about efficiency : it&#39;s about what you want ? Keep only the first and never overwrite OR overwrite each time you find the key again OR compute something between existing value and new one"},{"owner":{"account_id":2069557,"reputation":445,"user_id":1844324,"accept_rate":43,"display_name":"tom"},"score":0,"creation_date":1544813535,"post_id":53771961,"comment_id":94422214,"body_markdown":"@azro the key/value pairs are duplicates as in existing value and new value for a particular key is always the same, I am just not sure if the `put` method is heavy enough to make checking for existing key worth it.","body":"@azro the key/value pairs are duplicates as in existing value and new value for a particular key is always the same, I am just not sure if the <code>put</code> method is heavy enough to make checking for existing key worth it."}],"answers":[{"tags":[],"owner":{"account_id":4880211,"reputation":220,"user_id":3934270,"accept_rate":75,"display_name":"craftxbox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544747796,"creation_date":1544747372,"answer_id":53771972,"question_id":53771961,"body_markdown":"`Map::put` overwrites entries with the same key, so it would be more efficient to `.put` without checking if the map already contains the key.","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p><code>Map::put</code> overwrites entries with the same key, so it would be more efficient to <code>.put</code> without checking if the map already contains the key.</p>\n"},{"tags":[],"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544747380,"creation_date":1544747380,"answer_id":53771973,"question_id":53771961,"body_markdown":"If you don&#39;t care about the dupes, just do `map.put(key, value);`. That way, you don&#39;t do an extra O(1) lookup (which includes hashing the `key` and then checking if it exists).\r\n\r\nIn the worst case, this can save you about `n-1` extra lookups for the case where the exact same `(key, value)` pair is inserted repeatedly.","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>If you don't care about the dupes, just do <code>map.put(key, value);</code>. That way, you don't do an extra O(1) lookup (which includes hashing the <code>key</code> and then checking if it exists).</p>\n\n<p>In the worst case, this can save you about <code>n-1</code> extra lookups for the case where the exact same <code>(key, value)</code> pair is inserted repeatedly.</p>\n"},{"tags":[],"owner":{"account_id":8220084,"reputation":692,"user_id":6184960,"display_name":"Mr.Yellow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544747508,"creation_date":1544747508,"answer_id":53771986,"question_id":53771961,"body_markdown":"Both `put` and `contain` have the same asymptotic runtime so using both will at max be an 2x increase, which is constant. So your asymptotic runtime will not change. But since `put` will just override any existing value (and even return the old value, and `null` if it is new), it is this 2x factor faster.","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>Both <code>put</code> and <code>contain</code> have the same asymptotic runtime so using both will at max be an 2x increase, which is constant. So your asymptotic runtime will not change. But since <code>put</code> will just override any existing value (and even return the old value, and <code>null</code> if it is new), it is this 2x factor faster.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544750577,"creation_date":1544750577,"answer_id":53772328,"question_id":53771961,"body_markdown":"Almost certainly the answer is it makes no real difference. First get the code correct. The profile it (which you don&#39;t seem to have done or you&#39;d know for this case). Don&#39;t go around randomly optimising/obfuscating stuff because it seemed like a good idea.\r\n\r\nTypically the biggest performance hit will be in loading and compiling the code. Therefore, the shortest, simplest code is probably already optimal.","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>Almost certainly the answer is it makes no real difference. First get the code correct. The profile it (which you don't seem to have done or you'd know for this case). Don't go around randomly optimising/obfuscating stuff because it seemed like a good idea.</p>\n\n<p>Typically the biggest performance hit will be in loading and compiling the code. Therefore, the shortest, simplest code is probably already optimal.</p>\n"},{"tags":[],"owner":{"account_id":1282025,"reputation":8750,"user_id":1235935,"accept_rate":88,"display_name":"Saptarshi Basu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1544761986,"creation_date":1544761422,"answer_id":53773489,"question_id":53771961,"body_markdown":"You should use the method `putIfAbsent`. if you are concerned about overwriting the value. This method is available Java 8 onwards.\r\n\r\nIt has the same time complexity as `put`.\r\n\r\nIf you are okay with overwriting with the latest value, just go for `put`.","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>You should use the method <code>putIfAbsent</code>. if you are concerned about overwriting the value. This method is available Java 8 onwards.</p>\n\n<p>It has the same time complexity as <code>put</code>.</p>\n\n<p>If you are okay with overwriting with the latest value, just go for <code>put</code>.</p>\n"},{"tags":[],"owner":{"account_id":24270885,"reputation":31,"user_id":18218952,"display_name":"espial"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657097714,"creation_date":1657097714,"answer_id":72880555,"question_id":53771961,"body_markdown":"I am in similar situation, decided to code up a quick little test to definitively decide:\r\n\r\n\tprivate static void TestMapAccess(int loops) {\r\n\t\tHashMap&lt;Integer, Integer&gt; mapA = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tHashMap&lt;Integer, Integer&gt; mapB = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tHashMap&lt;Integer, Integer&gt; mapC = new HashMap&lt;Integer, Integer&gt;();\r\n\t\t\r\n\t\tfor (int i=0; i&lt;10000; i++) {\r\n\t\t\tmapA.put(i, 1);\r\n\t\t\tmapB.put(i, 1);\r\n\t\t\tmapC.put(i, 1);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;=====&quot; + loops + &quot;=====&quot;);\r\n\t\tSystem.out.println(&quot;-----------------------------------------------------------&quot;);\r\n        System.out.println(&quot;run: containsKey()&quot;);\r\n        long startTime = System.nanoTime();\r\n        \r\n        for (int i=0; i&lt;loops; i++) {\r\n        \tint rand = ThreadLocalRandom.current().nextInt(0,10050);\r\n        \tif (!mapA.containsKey(rand)) {\r\n        \t\tmapA.put(rand, 1);\r\n        \t}\r\n        }\r\n        long estimatedTime = System.nanoTime() - startTime;\r\n        System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\r\n        \r\n        System.out.println(&quot;-----------------------------------------------------------&quot;);\r\n        System.out.println(&quot;run: just put it&quot;);\r\n        startTime = System.nanoTime();\r\n        \r\n        for (int i=0; i&lt;loops; i++) {\r\n        \tint rand = ThreadLocalRandom.current().nextInt(0,10050);\r\n        \tmapB.put(rand, 1);\r\n        }\r\n        estimatedTime = System.nanoTime() - startTime;\r\n        System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\r\n        \r\n        \r\n        System.out.println(&quot;-----------------------------------------------------------&quot;);\r\n        System.out.println(&quot;run: put if absent&quot;);\r\n        startTime = System.nanoTime();\r\n        \r\n        for (int i=0; i&lt;loops; i++) {\r\n        \tint rand = ThreadLocalRandom.current().nextInt(0,10050);\r\n        \tmapC.putIfAbsent(rand, 1);\r\n        }\r\n        estimatedTime = System.nanoTime() - startTime;\r\n        System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\r\n\t}\r\n\r\nOutput for running at various loops parameter values:\r\n\r\n    =====100000=====\r\n    -----------------------------------------------------------\r\n    run: containsKey()\r\n    estimatedTime: 0.019388125\r\n    -----------------------------------------------------------\r\n    run: just put it\r\n    estimatedTime: 0.011162\r\n    -----------------------------------------------------------\r\n    run: put if absent\r\n    estimatedTime: 0.012437\r\n    =====1000000=====\r\n    -----------------------------------------------------------\r\n    run: containsKey()\r\n    estimatedTime: 0.03442175\r\n    -----------------------------------------------------------\r\n    run: just put it\r\n    estimatedTime: 0.030184333\r\n    -----------------------------------------------------------\r\n    run: put if absent\r\n    estimatedTime: 0.01281975\r\n    =====100000000=====\r\n    -----------------------------------------------------------\r\n    run: containsKey()\r\n    estimatedTime: 1.734175125\r\n    -----------------------------------------------------------\r\n    run: just put it\r\n    estimatedTime: 0.855194542\r\n    -----------------------------------------------------------\r\n    run: put if absent\r\n    estimatedTime: 0.798932875\r\n    =====2000000000=====\r\n    -----------------------------------------------------------\r\n    run: containsKey()\r\n    estimatedTime: 14.871508583\r\n    -----------------------------------------------------------\r\n    run: just put it\r\n    estimatedTime: 17.005798667\r\n    -----------------------------------------------------------\r\n    run: put if absent\r\n    estimatedTime: 15.617718958\r\n\r\nI ran this multiple times with only slight variations in results. actually, most of the time, when loops is only 100000, containsKey is the slowest by a factor of 2 or more. As you increase loops by several magnitudes, it slowly evens out and even becomes more efficient. Originally I was testing only the first 2 cases, not put if absent, and my guess was it was due to java garbage collection. From what I could find online, when you put() overwrite an existing value it drops it and the garbage collector needs to clean it up, which seems to negate any efficiency from not doing a containsKey check\r\n\r\nWhat&#39;s interesting is that with putIfAbsent, we see a mix between containsKey and put. I suppose at the end of the day, its only a matter of seconds between the 3 cases at the highest loops value, but it is consistently this way. \r\n\r\n","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>I am in similar situation, decided to code up a quick little test to definitively decide:</p>\n<pre><code>private static void TestMapAccess(int loops) {\n    HashMap&lt;Integer, Integer&gt; mapA = new HashMap&lt;Integer, Integer&gt;();\n    HashMap&lt;Integer, Integer&gt; mapB = new HashMap&lt;Integer, Integer&gt;();\n    HashMap&lt;Integer, Integer&gt; mapC = new HashMap&lt;Integer, Integer&gt;();\n    \n    for (int i=0; i&lt;10000; i++) {\n        mapA.put(i, 1);\n        mapB.put(i, 1);\n        mapC.put(i, 1);\n    }\n    \n    System.out.println(&quot;=====&quot; + loops + &quot;=====&quot;);\n    System.out.println(&quot;-----------------------------------------------------------&quot;);\n    System.out.println(&quot;run: containsKey()&quot;);\n    long startTime = System.nanoTime();\n    \n    for (int i=0; i&lt;loops; i++) {\n        int rand = ThreadLocalRandom.current().nextInt(0,10050);\n        if (!mapA.containsKey(rand)) {\n            mapA.put(rand, 1);\n        }\n    }\n    long estimatedTime = System.nanoTime() - startTime;\n    System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\n    \n    System.out.println(&quot;-----------------------------------------------------------&quot;);\n    System.out.println(&quot;run: just put it&quot;);\n    startTime = System.nanoTime();\n    \n    for (int i=0; i&lt;loops; i++) {\n        int rand = ThreadLocalRandom.current().nextInt(0,10050);\n        mapB.put(rand, 1);\n    }\n    estimatedTime = System.nanoTime() - startTime;\n    System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\n    \n    \n    System.out.println(&quot;-----------------------------------------------------------&quot;);\n    System.out.println(&quot;run: put if absent&quot;);\n    startTime = System.nanoTime();\n    \n    for (int i=0; i&lt;loops; i++) {\n        int rand = ThreadLocalRandom.current().nextInt(0,10050);\n        mapC.putIfAbsent(rand, 1);\n    }\n    estimatedTime = System.nanoTime() - startTime;\n    System.out.println(&quot;estimatedTime: &quot; + estimatedTime / 1_000_000_000.);\n}\n</code></pre>\n<p>Output for running at various loops parameter values:</p>\n<pre><code>=====100000=====\n-----------------------------------------------------------\nrun: containsKey()\nestimatedTime: 0.019388125\n-----------------------------------------------------------\nrun: just put it\nestimatedTime: 0.011162\n-----------------------------------------------------------\nrun: put if absent\nestimatedTime: 0.012437\n=====1000000=====\n-----------------------------------------------------------\nrun: containsKey()\nestimatedTime: 0.03442175\n-----------------------------------------------------------\nrun: just put it\nestimatedTime: 0.030184333\n-----------------------------------------------------------\nrun: put if absent\nestimatedTime: 0.01281975\n=====100000000=====\n-----------------------------------------------------------\nrun: containsKey()\nestimatedTime: 1.734175125\n-----------------------------------------------------------\nrun: just put it\nestimatedTime: 0.855194542\n-----------------------------------------------------------\nrun: put if absent\nestimatedTime: 0.798932875\n=====2000000000=====\n-----------------------------------------------------------\nrun: containsKey()\nestimatedTime: 14.871508583\n-----------------------------------------------------------\nrun: just put it\nestimatedTime: 17.005798667\n-----------------------------------------------------------\nrun: put if absent\nestimatedTime: 15.617718958\n</code></pre>\n<p>I ran this multiple times with only slight variations in results. actually, most of the time, when loops is only 100000, containsKey is the slowest by a factor of 2 or more. As you increase loops by several magnitudes, it slowly evens out and even becomes more efficient. Originally I was testing only the first 2 cases, not put if absent, and my guess was it was due to java garbage collection. From what I could find online, when you put() overwrite an existing value it drops it and the garbage collector needs to clean it up, which seems to negate any efficiency from not doing a containsKey check</p>\n<p>What's interesting is that with putIfAbsent, we see a mix between containsKey and put. I suppose at the end of the day, its only a matter of seconds between the 3 cases at the highest loops value, but it is consistently this way.</p>\n"}],"owner":{"account_id":2069557,"reputation":445,"user_id":1844324,"accept_rate":43,"display_name":"tom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":885,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53771973,"answer_count":6,"score":2,"last_activity_date":1657097714,"creation_date":1544747264,"question_id":53771961,"body_markdown":"If I have a HashMap and I want to insert key value pairs with a lot of duplicates, is it better to do: \r\n`if (!map.containsKey(key)) map.put(key, value);` or simply do `map.put(key,value);` regardless of if the key/value pair already exists?","title":"Efficiency: HashMap check containsKey() vs always put()","body":"<p>If I have a HashMap and I want to insert key value pairs with a lot of duplicates, is it better to do: \n<code>if (!map.containsKey(key)) map.put(key, value);</code> or simply do <code>map.put(key,value);</code> regardless of if the key/value pair already exists?</p>\n"},{"tags":["java","sum","sub-array"],"comments":[{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":1,"creation_date":1657089250,"post_id":72878645,"comment_id":128723258,"body_markdown":"Hi and welcome to stackoverflow. Please make sure to take the [tour] and read [ask] to get started with this community. How is the code related to that screenshot? Could you please come up with an example of what you want to achieve?","body":"Hi and welcome to stackoverflow. Please make sure to take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to get started with this community. How is the code related to that screenshot? Could you please come up with an example of what you want to achieve?"},{"owner":{"account_id":25737506,"reputation":7,"user_id":19491999,"display_name":"Shabbir Katlariwala"},"score":0,"creation_date":1657089922,"post_id":72878645,"comment_id":128723447,"body_markdown":"First-line contains T, no of test cases.\n\nFirst-line of each test case contains N, the size of the array, and K.\n\nSecond-line of each test case contains N spaced integers, elements of an array.\nsample input\n3\n5 3\n1 2 1 3 4\n4 5\n1 2 1 3\n3 2\n1 2 1\nsample output\nYes\nNo\nYes\nand this screenshot givng runtime error in some cases","body":"First-line contains T, no of test cases.  First-line of each test case contains N, the size of the array, and K.  Second-line of each test case contains N spaced integers, elements of an array. sample input 3 5 3 1 2 1 3 4 4 5 1 2 1 3 3 2 1 2 1 sample output Yes No Yes and this screenshot givng runtime error in some cases"},{"owner":{"account_id":1195619,"reputation":3630,"user_id":1167428,"accept_rate":93,"display_name":"lupz"},"score":1,"creation_date":1657090426,"post_id":72878645,"comment_id":128723587,"body_markdown":"There are no linebreaks in comments. Please [edit] your question and add your inputs with proper formating. That screenshot shows that you are on some kind of learning platform. Can you ask your tutor/teacher?","body":"There are no linebreaks in comments. Please <a href=\"https://stackoverflow.com/posts/72878645/edit\">edit</a> your question and add your inputs with proper formating. That screenshot shows that you are on some kind of learning platform. Can you ask your tutor/teacher?"}],"answers":[{"tags":[],"owner":{"account_id":24349313,"reputation":7,"user_id":18285375,"display_name":"codingShit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657088394,"creation_date":1657088394,"answer_id":72878726,"question_id":72878645,"body_markdown":"```java\r\n    int sum = 0, count = 0;\r\n\r\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n        hm.put(0, 1);\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            sum += arr[i];\r\n            if (hm.containsKey(sum - k)) {\r\n                count = hm.get(sum - k);\r\n                count++;\r\n                // i think the problem is here\r\n                hm.put(sum - k, count);\r\n            } else {\r\n                hm.put(sum, 1);\r\n            }\r\n\r\n        }\r\n\r\n        if (count &gt; 0) {\r\n            System.out.println(&quot;Yes&quot;);\r\n        } else {\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n```","title":"I am trying to find out if there is a subarray, which has the sum exactly as K","body":"<pre class=\"lang-java prettyprint-override\"><code>    int sum = 0, count = 0;\n\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\n        hm.put(0, 1);\n\n        for (int i = 0; i &lt; n; i++) {\n            sum += arr[i];\n            if (hm.containsKey(sum - k)) {\n                count = hm.get(sum - k);\n                count++;\n                // i think the problem is here\n                hm.put(sum - k, count);\n            } else {\n                hm.put(sum, 1);\n            }\n\n        }\n\n        if (count &gt; 0) {\n            System.out.println(&quot;Yes&quot;);\n        } else {\n            System.out.println(&quot;No&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657089755,"creation_date":1657089235,"answer_id":72878857,"question_id":72878645,"body_markdown":"Well, I believe the idea of algorithm should be following:\r\n\r\n```\r\n[a1, a2, a3, ... a4, a5, a6]\r\n\r\nsum[a3,..,a4] = sum[a1,..,a4] - sum[a1,..,a2] = k\r\n                \\_ current _/   \\__ stored__/\r\n\r\ncurrent - k = stored\r\n```\r\n\r\nso, we are traversing array from left to right, incrementing sum of elements, checking whether (how many) we have already stored `sum - k`, and storing current sum in set. If that is true...\r\n\r\n```java\r\n    int sum = 0, count = 0;\r\n\r\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n        hm.put(0, 1);\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            sum += arr[i];\r\n            count += hm.getOrDefault(sum - k, 0);\r\n            hm.merge(sum, 1, Integer::sum);\r\n        }\r\n\r\n        if (count &gt; 0) {\r\n            System.out.println(&quot;Yes&quot;);\r\n        } else {\r\n            System.out.println(&quot;No&quot;);\r\n        }\r\n\r\n```\r\n","title":"I am trying to find out if there is a subarray, which has the sum exactly as K","body":"<p>Well, I believe the idea of algorithm should be following:</p>\n<pre><code>[a1, a2, a3, ... a4, a5, a6]\n\nsum[a3,..,a4] = sum[a1,..,a4] - sum[a1,..,a2] = k\n                \\_ current _/   \\__ stored__/\n\ncurrent - k = stored\n</code></pre>\n<p>so, we are traversing array from left to right, incrementing sum of elements, checking whether (how many) we have already stored <code>sum - k</code>, and storing current sum in set. If that is true...</p>\n<pre class=\"lang-java prettyprint-override\"><code>    int sum = 0, count = 0;\n\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\n        hm.put(0, 1);\n\n        for (int i = 0; i &lt; n; i++) {\n            sum += arr[i];\n            count += hm.getOrDefault(sum - k, 0);\n            hm.merge(sum, 1, Integer::sum);\n        }\n\n        if (count &gt; 0) {\n            System.out.println(&quot;Yes&quot;);\n        } else {\n            System.out.println(&quot;No&quot;);\n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3311809,"reputation":148,"user_id":2785137,"accept_rate":25,"display_name":"ZingAju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657097433,"creation_date":1657097433,"answer_id":72880485,"question_id":72878645,"body_markdown":"I see that you&#39;re using some sort of online platform to compile and run the code. Possibly, runtime error could be coming from the way you get the input. I don&#39;t see how you get the input for your code in the sample you shared. So I just compiled your logic and I get the expected output.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Scanner;\r\n\r\n    public class SubArrayTest {\r\n\r\n        public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int n = scanner.nextInt();\r\n        scanner.nextLine();\r\n        boolean doesSumExist = false;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            String[] arrAndK = scanner.nextLine().split(&quot; &quot;);\r\n            int k = Integer.parseInt(arrAndK[1]);\r\n            String[] inputArr = scanner.nextLine().split(&quot; &quot;);\r\n            doesSumExist = findSubArraySumExists(inputArr, k);\r\n            if (doesSumExist) {\r\n                System.out.println(&quot;YES&quot;);\r\n            } else {\r\n                System.out.println(&quot;NO&quot;);\r\n            }\r\n        }\r\n        scanner.close();\r\n    }\r\n\r\n    private static boolean findSubArraySumExists(String[] inputArr, int k) {\r\n        int sum = 0, count = 0;\r\n        HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n        hm.put(0, 1);\r\n\r\n        for (int i = 0; i &lt; inputArr.length; i++) {\r\n            sum += Integer.parseInt(inputArr[i]);\r\n            if (hm.containsKey(sum - k)) {\r\n                count = hm.get(sum - k);\r\n                count++;\r\n                hm.put(sum, count);\r\n            } else {\r\n                hm.put(sum, 1);\r\n            }\r\n        }\r\n        if (count &gt; 0) {\r\n            return true;\r\n        }\r\n        return false;\r\n    } \r\n    }\r\n\r\nOutput as below\r\n\r\n    3\r\n    5 3\r\n    1 2 1 3 4\r\n    YES\r\n    4 5 \r\n    1 2 1 3\r\n    NO\r\n    3 2 \r\n    1 2 1\r\n    YES\r\n\r\nNot sure if it helps, if not, share full code, so that we can help.","title":"I am trying to find out if there is a subarray, which has the sum exactly as K","body":"<p>I see that you're using some sort of online platform to compile and run the code. Possibly, runtime error could be coming from the way you get the input. I don't see how you get the input for your code in the sample you shared. So I just compiled your logic and I get the expected output.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\npublic class SubArrayTest {\n\n    public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int n = scanner.nextInt();\n    scanner.nextLine();\n    boolean doesSumExist = false;\n    for (int i = 0; i &lt; n; i++) {\n        String[] arrAndK = scanner.nextLine().split(&quot; &quot;);\n        int k = Integer.parseInt(arrAndK[1]);\n        String[] inputArr = scanner.nextLine().split(&quot; &quot;);\n        doesSumExist = findSubArraySumExists(inputArr, k);\n        if (doesSumExist) {\n            System.out.println(&quot;YES&quot;);\n        } else {\n            System.out.println(&quot;NO&quot;);\n        }\n    }\n    scanner.close();\n}\n\nprivate static boolean findSubArraySumExists(String[] inputArr, int k) {\n    int sum = 0, count = 0;\n    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\n    hm.put(0, 1);\n\n    for (int i = 0; i &lt; inputArr.length; i++) {\n        sum += Integer.parseInt(inputArr[i]);\n        if (hm.containsKey(sum - k)) {\n            count = hm.get(sum - k);\n            count++;\n            hm.put(sum, count);\n        } else {\n            hm.put(sum, 1);\n        }\n    }\n    if (count &gt; 0) {\n        return true;\n    }\n    return false;\n} \n}\n</code></pre>\n<p>Output as below</p>\n<pre><code>3\n5 3\n1 2 1 3 4\nYES\n4 5 \n1 2 1 3\nNO\n3 2 \n1 2 1\nYES\n</code></pre>\n<p>Not sure if it helps, if not, share full code, so that we can help.</p>\n"}],"owner":{"account_id":25737506,"reputation":7,"user_id":19491999,"display_name":"Shabbir Katlariwala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1657097433,"creation_date":1657087752,"question_id":72878645,"body_markdown":"I am  trying find out if there is a subarray, which has the sum exactly as K. But in some its giving runtime error\r\n\r\n![this is some issue ][1]\r\n\r\n    int sum = 0, count = 0;\r\n\r\n    HashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\r\n    hm.put(0, 1);\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        sum += arr[i];\r\n        if (hm.containsKey(sum - k)) {\r\n            count = hm.get(sum - k);\r\n            count++;\r\n            hm.put(sum, count);\r\n        }\r\n        else {\r\n            hm.put(sum, 1);\r\n        }\r\n    }\r\n\r\n    if (count &gt; 0) {\r\n        System.out.println(&quot;Yes&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;No&quot;);\r\n    }\r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7rVDD.png","title":"I am trying to find out if there is a subarray, which has the sum exactly as K","body":"<p>I am  trying find out if there is a subarray, which has the sum exactly as K. But in some its giving runtime error</p>\n<p><img src=\"https://i.stack.imgur.com/7rVDD.png\" alt=\"this is some issue \" /></p>\n<pre><code>int sum = 0, count = 0;\n\nHashMap&lt;Integer, Integer&gt; hm = new HashMap&lt;&gt;();\nhm.put(0, 1);\n\nfor (int i = 0; i &lt; n; i++) {\n    sum += arr[i];\n    if (hm.containsKey(sum - k)) {\n        count = hm.get(sum - k);\n        count++;\n        hm.put(sum, count);\n    }\n    else {\n        hm.put(sum, 1);\n    }\n}\n\nif (count &gt; 0) {\n    System.out.println(&quot;Yes&quot;);\n}\nelse {\n    System.out.println(&quot;No&quot;);\n}\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657096361,"creation_date":1657096361,"answer_id":72880260,"question_id":72880060,"body_markdown":"The purpose of the `clone` method is returning a copy of the instance object. They correct meaning of copy is delegated to the implementor class, but main requirement is when\r\n`object.clone() != x`, it returns **true**.\r\n\r\nIn the case of the Java `LinkedList`, it returns a shallow copy of the elements, but not a copy of the elements theirslef. In this case the `list.clone() != list`, it&#39;s still **true**, but when you check their **elements** is going to return **false** (example `list.get(0) != list.clone().get(0)`).\r\n\r\nThe purpose of the copied list is to be not linked to the original one, so you could add/insert/delete elements without modify the original list. \r\n\r\nExample (pseudo-code):\r\n\r\n    original.add(1);\r\n    original.add(2);\r\n    original.size(); // 2\r\n    \r\n    clonedList = original.clone();\r\n    \r\n    clonedList.size(); // 2\r\n    \r\n    clonedList.add(3);\r\n    clonedList.size(); //3\r\n    originalList.size(); //2","title":"Why LinkedList clone method implementation needs to store the copyied list into virgin state?","body":"<p>The purpose of the <code>clone</code> method is returning a copy of the instance object. They correct meaning of copy is delegated to the implementor class, but main requirement is when\n<code>object.clone() != x</code>, it returns <strong>true</strong>.</p>\n<p>In the case of the Java <code>LinkedList</code>, it returns a shallow copy of the elements, but not a copy of the elements theirslef. In this case the <code>list.clone() != list</code>, it's still <strong>true</strong>, but when you check their <strong>elements</strong> is going to return <strong>false</strong> (example <code>list.get(0) != list.clone().get(0)</code>).</p>\n<p>The purpose of the copied list is to be not linked to the original one, so you could add/insert/delete elements without modify the original list.</p>\n<p>Example (pseudo-code):</p>\n<pre><code>original.add(1);\noriginal.add(2);\noriginal.size(); // 2\n\nclonedList = original.clone();\n\nclonedList.size(); // 2\n\nclonedList.add(3);\nclonedList.size(); //3\noriginalList.size(); //2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657097212,"creation_date":1657096393,"answer_id":72880264,"question_id":72880060,"body_markdown":"The way that a `java.util.LinkedList` is implemented, is that it uses `Node&lt;E&gt;` objects to link elements together. And a `LinkedList` object has a reference to the `first` and `last` `Node&lt;E&gt;` in the list. \r\n\r\nIf you scroll around a bit you&#39;ll find this declaration:\r\n\r\n    private static class Node&lt;E&gt; {\r\n        E item;\r\n        Node&lt;E&gt; next;\r\n        Node&lt;E&gt; prev;\r\n\r\n        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\r\n            this.item = element;\r\n            this.next = next;\r\n            this.prev = prev;\r\n        }\r\n    }\r\n\r\nVisually, a `LinkedList` with 4 elements can be thought of like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen cloning a linked list, what we would expect to happen is that the entire chain of `Node`s is copied. Like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHowever, `superClone` just calls `super.clone`, which does *not* make copies of these `Node` objects. It only copies the `LinkedList` object. Therefore, it would be incorrect to implement `LinkedList.clone` by just calling `super.clone`, because then the cloned list would use the same chain of `Node`s as the original:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis would mean that adding something in the middle of the chain would add that thing to both the cloned list, and the original list!\r\n\r\nBy resetting the cloned list to its initial state, and then re-adding all the elements from the original list, we create a new chain of `Node` objects for the cloned list. This is because `add` creates new `Node` objects:\r\n\r\n    public boolean add(E e) {\r\n        linkLast(e);\r\n        return true;\r\n    }\r\n\r\n    void linkLast(E e) {\r\n        final Node&lt;E&gt; l = last;\r\n        final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);\r\n        last = newNode;\r\n        if (l == null)\r\n            first = newNode;\r\n        else\r\n            l.next = newNode;\r\n        size++;\r\n        modCount++;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PY4s5.png\r\n  [2]: https://i.stack.imgur.com/iqDUv.png\r\n  [3]: https://i.stack.imgur.com/7XGzi.png","title":"Why LinkedList clone method implementation needs to store the copyied list into virgin state?","body":"<p>The way that a <code>java.util.LinkedList</code> is implemented, is that it uses <code>Node&lt;E&gt;</code> objects to link elements together. And a <code>LinkedList</code> object has a reference to the <code>first</code> and <code>last</code> <code>Node&lt;E&gt;</code> in the list.</p>\n<p>If you scroll around a bit you'll find this declaration:</p>\n<pre><code>private static class Node&lt;E&gt; {\n    E item;\n    Node&lt;E&gt; next;\n    Node&lt;E&gt; prev;\n\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) {\n        this.item = element;\n        this.next = next;\n        this.prev = prev;\n    }\n}\n</code></pre>\n<p>Visually, a <code>LinkedList</code> with 4 elements can be thought of like this:</p>\n<p><a href=\"https://i.stack.imgur.com/PY4s5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PY4s5.png\" alt=\"enter image description here\" /></a></p>\n<p>When cloning a linked list, what we would expect to happen is that the entire chain of <code>Node</code>s is copied. Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/iqDUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iqDUv.png\" alt=\"enter image description here\" /></a></p>\n<p>However, <code>superClone</code> just calls <code>super.clone</code>, which does <em>not</em> make copies of these <code>Node</code> objects. It only copies the <code>LinkedList</code> object. Therefore, it would be incorrect to implement <code>LinkedList.clone</code> by just calling <code>super.clone</code>, because then the cloned list would use the same chain of <code>Node</code>s as the original:</p>\n<p><a href=\"https://i.stack.imgur.com/7XGzi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7XGzi.png\" alt=\"enter image description here\" /></a></p>\n<p>This would mean that adding something in the middle of the chain would add that thing to both the cloned list, and the original list!</p>\n<p>By resetting the cloned list to its initial state, and then re-adding all the elements from the original list, we create a new chain of <code>Node</code> objects for the cloned list. This is because <code>add</code> creates new <code>Node</code> objects:</p>\n<pre><code>public boolean add(E e) {\n    linkLast(e);\n    return true;\n}\n\nvoid linkLast(E e) {\n    final Node&lt;E&gt; l = last;\n    final Node&lt;E&gt; newNode = new Node&lt;&gt;(l, e, null);\n    last = newNode;\n    if (l == null)\n        first = newNode;\n    else\n        l.next = newNode;\n    size++;\n    modCount++;\n}\n</code></pre>\n"}],"owner":{"account_id":18859026,"reputation":103,"user_id":13756311,"display_name":"cnidaye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72880264,"answer_count":2,"score":2,"last_activity_date":1657097212,"creation_date":1657095499,"question_id":72880060,"body_markdown":"```java\r\n    public Object clone() {\r\n        LinkedList&lt;E&gt; clone = superClone();\r\n\r\n        // Put clone into &quot;virgin&quot; state\r\n        clone.first = clone.last = null;\r\n        clone.size = 0;\r\n        clone.modCount = 0;\r\n\r\n        // Initialize clone with our elements\r\n        for (Node&lt;E&gt; x = first; x != null; x = x.next)\r\n            clone.add(x.item);\r\n\r\n        return clone;\r\n    }\r\n```\r\nThis is the source code of `LinkedList`. The `clone` already has the elements in the original list, what is the purpose of making it empty and assigning the elements again?","title":"Why LinkedList clone method implementation needs to store the copyied list into virgin state?","body":"<pre class=\"lang-java prettyprint-override\"><code>    public Object clone() {\n        LinkedList&lt;E&gt; clone = superClone();\n\n        // Put clone into &quot;virgin&quot; state\n        clone.first = clone.last = null;\n        clone.size = 0;\n        clone.modCount = 0;\n\n        // Initialize clone with our elements\n        for (Node&lt;E&gt; x = first; x != null; x = x.next)\n            clone.add(x.item);\n\n        return clone;\n    }\n</code></pre>\n<p>This is the source code of <code>LinkedList</code>. The <code>clone</code> already has the elements in the original list, what is the purpose of making it empty and assigning the elements again?</p>\n"},{"tags":["java","for-loop","arraylist","while-loop"],"comments":[{"owner":{"account_id":6170834,"reputation":1988,"user_id":4809143,"display_name":"moreON"},"score":3,"creation_date":1657077124,"post_id":72877512,"comment_id":128721102,"body_markdown":"What&#39;s the purpose the `index &lt; myList.get(index);` comparison?","body":"What&#39;s the purpose the <code>index &lt; myList.get(index);</code> comparison?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1657078188,"post_id":72877512,"comment_id":128721260,"body_markdown":"Your exit conditions are different.","body":"Your exit conditions are different."}],"answers":[{"tags":[],"owner":{"account_id":17116621,"reputation":61,"user_id":12385945,"display_name":"lbndvs"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657093122,"creation_date":1657078297,"answer_id":72877665,"question_id":72877512,"body_markdown":" The limit of the `for` loop you have set was not right. Same like `while` loop it should iterate till the last element for getting the min value, for that we set its limit less than size of list.\r\n\r\n    for (index = 0; index &lt; myList.size(); index++)\r\n\r\n  \r\n\r\n","title":"For loop returns different results compared to While loop","body":"<p>The limit of the <code>for</code> loop you have set was not right. Same like <code>while</code> loop it should iterate till the last element for getting the min value, for that we set its limit less than size of list.</p>\n<pre><code>for (index = 0; index &lt; myList.size(); index++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6330346,"reputation":604,"user_id":4915439,"accept_rate":100,"display_name":"haxor789"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657097202,"creation_date":1657097202,"answer_id":72880445,"question_id":72877512,"body_markdown":"    for (index = 0; index &lt; myList.get(index); index++) {\r\n\r\nAs others have mentioned the problem is in this line specifically the `myList.get(index)` part. Instead of checking the size of myList it takes the current elements index as size. So for the first 3 you get lucky as `0 (index) &lt; 5 (myList.get(index)`, `1 &lt; 4` and `2 &lt; 3`, but starting with the 4th element (index 3) you get `3 &lt; 1`, which is obviously false and so the loop is stopped here.\r\n\r\nAlso just as a side note, if you don&#39;t use that first part of the for loop you can usually omit it:\r\n\r\n    for (; index &lt; myList.size(); index++) {","title":"For loop returns different results compared to While loop","body":"<pre><code>for (index = 0; index &lt; myList.get(index); index++) {\n</code></pre>\n<p>As others have mentioned the problem is in this line specifically the <code>myList.get(index)</code> part. Instead of checking the size of myList it takes the current elements index as size. So for the first 3 you get lucky as <code>0 (index) &lt; 5 (myList.get(index)</code>, <code>1 &lt; 4</code> and <code>2 &lt; 3</code>, but starting with the 4th element (index 3) you get <code>3 &lt; 1</code>, which is obviously false and so the loop is stopped here.</p>\n<p>Also just as a side note, if you don't use that first part of the for loop you can usually omit it:</p>\n<pre><code>for (; index &lt; myList.size(); index++) {\n</code></pre>\n"}],"owner":{"account_id":24662697,"reputation":11,"user_id":18558746,"display_name":"SkyCowie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657097202,"creation_date":1657076524,"question_id":72877512,"body_markdown":"Can someone explain why I&#39;m getting incorrect results when I use a `for` loop?\r\n\r\n**WORKING CODE:** \r\n\r\n    int smallest = myList.get(0);\r\n    int index = 0;\r\n    while (index &lt; myList.size()) {\r\n        if (myList.get(index) &lt; smallest) {\r\n            smallest = myList.get(index);\r\n        }\r\n        index++;\r\n    }\r\n\r\n&gt; 5 4 3 1 1 7\r\n&gt; \r\n&gt; Smallest number: 1 Found at index: 3 Found at index: 4\r\n\r\n**INCORRECT CODE:**\r\n\r\n    int smallest = myList.get(0);\r\n    int index = 0;\r\n    for (index = 0; index &lt; myList.get(index); index++) {\r\n        if (myList.get(index) &lt; smallest) {\r\n            smallest = myList.get(index);\r\n        }\r\n    }\r\n\r\n&gt; 5 4 3 1 1 7\r\n&gt; \r\n&gt; Smallest number: 3 Found at index: 2\r\n\r\n","title":"For loop returns different results compared to While loop","body":"<p>Can someone explain why I'm getting incorrect results when I use a <code>for</code> loop?</p>\n<p><strong>WORKING CODE:</strong></p>\n<pre><code>int smallest = myList.get(0);\nint index = 0;\nwhile (index &lt; myList.size()) {\n    if (myList.get(index) &lt; smallest) {\n        smallest = myList.get(index);\n    }\n    index++;\n}\n</code></pre>\n<blockquote>\n<p>5 4 3 1 1 7</p>\n<p>Smallest number: 1 Found at index: 3 Found at index: 4</p>\n</blockquote>\n<p><strong>INCORRECT CODE:</strong></p>\n<pre><code>int smallest = myList.get(0);\nint index = 0;\nfor (index = 0; index &lt; myList.get(index); index++) {\n    if (myList.get(index) &lt; smallest) {\n        smallest = myList.get(index);\n    }\n}\n</code></pre>\n<blockquote>\n<p>5 4 3 1 1 7</p>\n<p>Smallest number: 3 Found at index: 2</p>\n</blockquote>\n"},{"tags":["java","stream","map-function"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657097179,"creation_date":1657097179,"answer_id":72880438,"question_id":72879340,"body_markdown":"The differences here come from the fact that the `map` method in the `Stream` class actually uses the **type of the object** returned from the mapping function - in this case it&#39;s `DonkeyResponseEntity`. The `filter` method does not operate in any way on the actual type, only on the **object instance** (verifies if the reference points to `null` and **returns a boolean**). When getting the first element from the list you also do not refer to the **type**, because the reference is of type `Object`:\r\n```java\r\n// no error\r\nObject d = previousDonkeyList.get(0).toResponseEntity();\r\n```\r\nIf you were to use reference of type `DonkeyResponseEntity`, the compiler would mark it as an error as well:\r\n```java\r\n// error\r\nDonkeyResponseEntity d = previousDonkeyList.get(0).toResponseEntity();\r\n```\r\nInterestingly if you used `var`, the compiler would not mark it as an error, because no explicit private type is used:\r\n```java\r\n// no error\r\nvar d = previousDonkeyList.get(0).toResponseEntity();\r\n```\r\nbut even if the private class had public methods, you wouldn&#39;t be able to access them.\r\n\r\nIf you casted the returned object in the `map` method, the compiler would not mark it as an error, because it doesn&#39;t need to know (&quot;see&quot; - have access to) the actual type of the object:\r\n```java\r\n// no error\r\n.map(donkey -&gt; (Object) donkey.toResponseEntity())\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/genTypes.html","title":"Java Streams Map Function with Private Inner Class Error","body":"<p>The differences here come from the fact that the <code>map</code> method in the <code>Stream</code> class actually uses the <strong>type of the object</strong> returned from the mapping function - in this case it's <code>DonkeyResponseEntity</code>. The <code>filter</code> method does not operate in any way on the actual type, only on the <strong>object instance</strong> (verifies if the reference points to <code>null</code> and <strong>returns a boolean</strong>). When getting the first element from the list you also do not refer to the <strong>type</strong>, because the reference is of type <code>Object</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// no error\nObject d = previousDonkeyList.get(0).toResponseEntity();\n</code></pre>\n<p>If you were to use reference of type <code>DonkeyResponseEntity</code>, the compiler would mark it as an error as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// error\nDonkeyResponseEntity d = previousDonkeyList.get(0).toResponseEntity();\n</code></pre>\n<p>Interestingly if you used <code>var</code>, the compiler would not mark it as an error, because no explicit private type is used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// no error\nvar d = previousDonkeyList.get(0).toResponseEntity();\n</code></pre>\n<p>but even if the private class had public methods, you wouldn't be able to access them.</p>\n<p>If you casted the returned object in the <code>map</code> method, the compiler would not mark it as an error, because it doesn't need to know (&quot;see&quot; - have access to) the actual type of the object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// no error\n.map(donkey -&gt; (Object) donkey.toResponseEntity())\n</code></pre>\n"}],"owner":{"account_id":17131157,"reputation":496,"user_id":12397235,"display_name":"Chaos_Is_Harmony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72880438,"answer_count":1,"score":0,"last_activity_date":1657097179,"creation_date":1657091932,"question_id":72879340,"body_markdown":"**In short:**\r\n\r\nI am trying to use a Java stream + map function to create a list of objects to return as response entities. But the compiler complains about private access for an inner class (despite not doing so in other circumstances).\r\n\r\n**Code:**\r\n\r\n```\r\npublic class Donkey {\r\n...\r\n\r\n   public DonkeyResponseEntity toResponseEntity() {\r\n      DonkeyResponseEntity dre = new DonkeyResponseEntity();\r\n      dre.id = this.id;\r\n      dre.name = this.name;\r\n      dre.numDonkeysInPossee = this.numDonkeysInPossee;\r\n\r\n      return dre;\r\n   }\r\n\r\n   private class DonkeyResponseEntity {\r\n      public Long id;\r\n      public String name;\r\n      public Integer numDonkeysInPossee;\r\n   }\r\n}\r\n\r\npublic class DonkeyService {\r\n...\r\n   public ResponseEntity&lt;?&gt; getDonkeys(List&lt;Donkey&gt; previousDonkeyList) {\r\n   ...\r\n      List&lt;Object&gt; donkeyPossee = previousDonkeyList.stream()\r\n         .map(donkey -&gt; donkey.toResponseEntity()).collect(Collectors.toList()); // !!ERROR HERE!!\r\n\r\n      return new ResponseEntity&lt;&gt;(donkeyPossee, HttpStatus.OK);\r\n   }\r\n...\r\n}\r\n```\r\n\r\nThe error happens on the line with ```.map(donkey -&gt; donkey.toResponseEntity())```.\r\n\r\n**Why I&#39;m Confused:**\r\n\r\nIf I wrote something like the following, there is no access error:\r\n\r\n```\r\nObject d = previousDonkeyList.get(0).toResponseEntity();\r\n```\r\n\r\nor even\r\n\r\n```\r\nList&lt;Object&gt; donkeyPossee = previousDonkeyList.stream()\r\n   .filter(donkey -&gt; donkey.toResponseEntity() == null);\r\n```\r\n\r\n**Request:**\r\n\r\nCan someone please explain why this happens? I&#39;m not quite sure why ```map``` would take issue with this.\r\n\r\n**Clarification:**\r\n\r\nI&#39;m not looking for alternative ways to accomplish this (using ```forEach``` and manually adding to a ```List``` works); I just want to know why ```map``` doesn&#39;t approve.","title":"Java Streams Map Function with Private Inner Class Error","body":"<p><strong>In short:</strong></p>\n<p>I am trying to use a Java stream + map function to create a list of objects to return as response entities. But the compiler complains about private access for an inner class (despite not doing so in other circumstances).</p>\n<p><strong>Code:</strong></p>\n<pre><code>public class Donkey {\n...\n\n   public DonkeyResponseEntity toResponseEntity() {\n      DonkeyResponseEntity dre = new DonkeyResponseEntity();\n      dre.id = this.id;\n      dre.name = this.name;\n      dre.numDonkeysInPossee = this.numDonkeysInPossee;\n\n      return dre;\n   }\n\n   private class DonkeyResponseEntity {\n      public Long id;\n      public String name;\n      public Integer numDonkeysInPossee;\n   }\n}\n\npublic class DonkeyService {\n...\n   public ResponseEntity&lt;?&gt; getDonkeys(List&lt;Donkey&gt; previousDonkeyList) {\n   ...\n      List&lt;Object&gt; donkeyPossee = previousDonkeyList.stream()\n         .map(donkey -&gt; donkey.toResponseEntity()).collect(Collectors.toList()); // !!ERROR HERE!!\n\n      return new ResponseEntity&lt;&gt;(donkeyPossee, HttpStatus.OK);\n   }\n...\n}\n</code></pre>\n<p>The error happens on the line with <code>.map(donkey -&gt; donkey.toResponseEntity())</code>.</p>\n<p><strong>Why I'm Confused:</strong></p>\n<p>If I wrote something like the following, there is no access error:</p>\n<pre><code>Object d = previousDonkeyList.get(0).toResponseEntity();\n</code></pre>\n<p>or even</p>\n<pre><code>List&lt;Object&gt; donkeyPossee = previousDonkeyList.stream()\n   .filter(donkey -&gt; donkey.toResponseEntity() == null);\n</code></pre>\n<p><strong>Request:</strong></p>\n<p>Can someone please explain why this happens? I'm not quite sure why <code>map</code> would take issue with this.</p>\n<p><strong>Clarification:</strong></p>\n<p>I'm not looking for alternative ways to accomplish this (using <code>forEach</code> and manually adding to a <code>List</code> works); I just want to know why <code>map</code> doesn't approve.</p>\n"},{"tags":["java","string","character-encoding"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1657034952,"post_id":72871822,"comment_id":128711012,"body_markdown":"See [java.text.Normalizer](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html).","body":"See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">java.text.Normalizer</a>."},{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":1,"creation_date":1657035016,"post_id":72871822,"comment_id":128711052,"body_markdown":"Regarding the root cause, there&#39;s some information here on how the Greek encodings got to be that way: https://www.unicode.org/faq/greek.html","body":"Regarding the root cause, there&#39;s some information here on how the Greek encodings got to be that way: <a href=\"https://www.unicode.org/faq/greek.html\" rel=\"nofollow noreferrer\">unicode.org/faq/greek.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657036843,"creation_date":1657034771,"answer_id":72871948,"question_id":72871822,"body_markdown":"The root cause: Sometime there is many different ways to represent the same glyph with Unicode. Usually we convert to a canonical form, but there is two canonical/normalization form (decomposed: NFD and composed: NFC). Apple prefers the first (and it was the original prefered way of Unicode), most of the other operating systems prefer the second. And each font has own preference (but shaper library will handle it).\r\n\r\nYou can transform your text into the canonical composed form (NFC), but not all glyphs can be transformed into one single characters: some combination of accent and base character requires two codepoints (or more if you have multiple accents).","title":"Greek vowels with accents shown as two characters instead of a single one","body":"<p>The root cause: Sometime there is many different ways to represent the same glyph with Unicode. Usually we convert to a canonical form, but there is two canonical/normalization form (decomposed: NFD and composed: NFC). Apple prefers the first (and it was the original prefered way of Unicode), most of the other operating systems prefer the second. And each font has own preference (but shaper library will handle it).</p>\n<p>You can transform your text into the canonical composed form (NFC), but not all glyphs can be transformed into one single characters: some combination of accent and base character requires two codepoints (or more if you have multiple accents).</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657036172,"creation_date":1657036172,"answer_id":72872270,"question_id":72871822,"body_markdown":"Due to the complexity of Unicode, there are multiple ways of encoding the same text. You can encode ε with an acute accent as the single character &quot;GREEK SMALL LETTER EPSILON WITH TONOS&quot; (U+03AD), or as &quot;GREEK SMALL LETTER EPSILON&quot; (U+03B5) followed by &quot;COMBINING ACUTE ACCENT&quot; (U+0301). And different people and software *do* encode these differently sometimes.\r\n\r\nTo convert to the &quot;more compact&quot; encoding, you can use the [`java.text.Normalizer`][1] class, and [Normalisation Form][2] C (NFC). \r\n\r\n    // you can pass the entire string into this:\r\n    Normalizer.normalize(&quot;ε\\u0301&quot;, Normalizer.Form.NFC) // produces a string with a \\u03AD char\r\n\r\nThe less compact encoding is called NFD.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\r\n  [2]: https://unicode.org/reports/tr15/#Norm_Forms","title":"Greek vowels with accents shown as two characters instead of a single one","body":"<p>Due to the complexity of Unicode, there are multiple ways of encoding the same text. You can encode ε with an acute accent as the single character &quot;GREEK SMALL LETTER EPSILON WITH TONOS&quot; (U+03AD), or as &quot;GREEK SMALL LETTER EPSILON&quot; (U+03B5) followed by &quot;COMBINING ACUTE ACCENT&quot; (U+0301). And different people and software <em>do</em> encode these differently sometimes.</p>\n<p>To convert to the &quot;more compact&quot; encoding, you can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/Normalizer.html\" rel=\"noreferrer\"><code>java.text.Normalizer</code></a> class, and <a href=\"https://unicode.org/reports/tr15/#Norm_Forms\" rel=\"noreferrer\">Normalisation Form</a> C (NFC).</p>\n<pre><code>// you can pass the entire string into this:\nNormalizer.normalize(&quot;ε\\u0301&quot;, Normalizer.Form.NFC) // produces a string with a \\u03AD char\n</code></pre>\n<p>The less compact encoding is called NFD.</p>\n"}],"owner":{"account_id":8494000,"reputation":1108,"user_id":6454838,"display_name":"NickAth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72871948,"answer_count":2,"score":0,"last_activity_date":1657096538,"creation_date":1657034255,"question_id":72871822,"body_markdown":"I am handling input in **Greek** language, where vowels can have **accents**. \r\n\r\nI noticed some strange input in words that contain vowels with accents, sometimes the same vowel with accent seems to be **two separate characters** while other times the same vowel with accent seems to be **one character**, I guess a **different charset encoding** is guilty about that behaviour. \r\n\r\nExample shown below\r\n\r\n**έ** -----&gt; is two separate characters, **ε** and the **́** \r\n\r\n**έ** -----&gt; is a single character **έ**\r\n\r\nMy **questions** regarding the behaviour described above are the following:\r\n\r\n 1. What is the **root cause** of this phenomenon?\r\n 2. How could I possibly convert all these **two characters** toned vowels into **single character** toned vowel? (for example convert έ into έ), is there any &quot;global way&quot; to deal with that kind of encoding problems?\r\n\r\nCurrently as a solution what I do is **replace any possible two characters vowel into single character** as following:\r\n\r\n    text = text.replaceAll(&quot;ά&quot;, &quot;ά&quot;)\r\n            .replaceAll(&quot;έ&quot;, &quot;έ&quot;)\r\n            .replaceAll(&quot;ή&quot;, &quot;ή&quot;)\r\n            .replaceAll(&quot;ί&quot;, &quot;ί&quot;)\r\n            .replaceAll(&quot;ύ&quot;, &quot;ύ&quot;)\r\n            .replaceAll(&quot;ό&quot;, &quot;ό&quot;)\r\n            .replaceAll(&quot;ώ&quot;, &quot;ώ&quot;)\r\n            .replaceAll(&quot;Ά&quot;, &quot;Ά&quot;)\r\n            .replaceAll(&quot;Έ&quot;, &quot;Έ&quot;)\r\n            .replaceAll(&quot;Ή&quot;, &quot;Ή&quot;)\r\n            .replaceAll(&quot;Ί&quot;, &quot;Ί&quot;)\r\n            .replaceAll(&quot;Ύ&quot;, &quot;Ύ&quot;)\r\n            .replaceAll(&quot;Ό&quot;, &quot;Ό&quot;)\r\n            .replaceAll(&quot;Ώ&quot;, &quot;Ώ&quot;);\r\n\r\nbut There should be a better way to achieve that, I use **Java** for this text handling\r\n\r\n\r\n","title":"Greek vowels with accents shown as two characters instead of a single one","body":"<p>I am handling input in <strong>Greek</strong> language, where vowels can have <strong>accents</strong>.</p>\n<p>I noticed some strange input in words that contain vowels with accents, sometimes the same vowel with accent seems to be <strong>two separate characters</strong> while other times the same vowel with accent seems to be <strong>one character</strong>, I guess a <strong>different charset encoding</strong> is guilty about that behaviour.</p>\n<p>Example shown below</p>\n<p><strong>έ</strong> -----&gt; is two separate characters, <strong>ε</strong> and the <strong>́</strong></p>\n<p><strong>έ</strong> -----&gt; is a single character <strong>έ</strong></p>\n<p>My <strong>questions</strong> regarding the behaviour described above are the following:</p>\n<ol>\n<li>What is the <strong>root cause</strong> of this phenomenon?</li>\n<li>How could I possibly convert all these <strong>two characters</strong> toned vowels into <strong>single character</strong> toned vowel? (for example convert έ into έ), is there any &quot;global way&quot; to deal with that kind of encoding problems?</li>\n</ol>\n<p>Currently as a solution what I do is <strong>replace any possible two characters vowel into single character</strong> as following:</p>\n<pre><code>text = text.replaceAll(&quot;ά&quot;, &quot;ά&quot;)\n        .replaceAll(&quot;έ&quot;, &quot;έ&quot;)\n        .replaceAll(&quot;ή&quot;, &quot;ή&quot;)\n        .replaceAll(&quot;ί&quot;, &quot;ί&quot;)\n        .replaceAll(&quot;ύ&quot;, &quot;ύ&quot;)\n        .replaceAll(&quot;ό&quot;, &quot;ό&quot;)\n        .replaceAll(&quot;ώ&quot;, &quot;ώ&quot;)\n        .replaceAll(&quot;Ά&quot;, &quot;Ά&quot;)\n        .replaceAll(&quot;Έ&quot;, &quot;Έ&quot;)\n        .replaceAll(&quot;Ή&quot;, &quot;Ή&quot;)\n        .replaceAll(&quot;Ί&quot;, &quot;Ί&quot;)\n        .replaceAll(&quot;Ύ&quot;, &quot;Ύ&quot;)\n        .replaceAll(&quot;Ό&quot;, &quot;Ό&quot;)\n        .replaceAll(&quot;Ώ&quot;, &quot;Ώ&quot;);\n</code></pre>\n<p>but There should be a better way to achieve that, I use <strong>Java</strong> for this text handling</p>\n"},{"tags":["java","spring","gradle","visual-studio-code","classpath"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657096495,"creation_date":1657096495,"answer_id":72880287,"question_id":72875793,"body_markdown":"Based on your error message, please add the following configuration to your `launchjson` file:\r\n\r\n```json\r\n            &quot;classPaths&quot;: [your_path_here],\r\n            &quot;modulePaths&quot;: [your_path_here]\r\n```\r\n","title":"Spring + Gradle does not found classpath in VSCode [Its not a duplicate, already checked the similar ones]","body":"<p>Based on your error message, please add the following configuration to your <code>launchjson</code> file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>            &quot;classPaths&quot;: [your_path_here],\n            &quot;modulePaths&quot;: [your_path_here]\n</code></pre>\n"}],"owner":{"account_id":18101898,"reputation":71,"user_id":13159633,"display_name":"FUNKYBAT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657096495,"creation_date":1657056892,"question_id":72875793,"body_markdown":"First of all, yes, I tried clean java language server workspace and all other answers present here: [https://stackoverflow.com/questions/67302573/java-vscode-errorcannot-resolve-the-modulepaths-classpaths-automatically-pleas][1] , it doesn&#39;t work!\r\n\r\nDON&#39;T VOTE TO CLOSE BASED ON THIS QUESTION, PLEASE!\r\n\r\nIn trying to run a spring boot + gradle application, but it gives the following error:\r\n\r\n&gt; Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json.\r\n&gt; \r\n&gt; Source: Debugger for Java (Extension)\r\n\r\nHere is my launch.json:\r\n\r\n    {\r\n        &quot;configurations&quot;: [\r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Spring Boot-SigprojApplication&lt;sigproj-backend&gt;&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\r\n                &quot;mainClass&quot;: &quot;com.sti.sigproj.SigprojApplication&quot;,\r\n                &quot;projectName&quot;: &quot;sigproj-backend&quot;,\r\n                &quot;args&quot;: &quot;&quot;,\r\n                &quot;envFile&quot;: &quot;${workspaceFolder}/.env&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nHere is my .classpath:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;classpath&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/java&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/resources&quot;&gt;\r\n    \t\t&lt;attributes&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n    \t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n    \t\t&lt;/attributes&gt;\r\n    \t&lt;/classpathentry&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8/&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;/&gt;\r\n    \t&lt;classpathentry kind=&quot;output&quot; path=&quot;bin/default&quot;/&gt;\r\n    &lt;/classpath&gt;\r\n\r\nHere is my build.gradle:\r\n\r\n    /*\r\n     * This file was generated by the Gradle &#39;init&#39; task.\r\n     */\r\n    \r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;2.5.2&quot;\r\n        id &quot;io.spring.dependency-management&quot; version &quot;1.0.12.RELEASE&quot;\r\n    }\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                &#39;Main-Class&#39;: &#39;com.sti.sigproj.SigprojApplication&#39;\r\n            )\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n        maven {\r\n            url = uri(&#39;https://repo.maven.apache.org/maven2/&#39;)\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa:2.5.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation:2.5.2&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web:2.5.2&#39;\r\n        implementation &#39;org.flywaydb:flyway-core:7.7.3&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security:2.5.2&#39;\r\n        implementation &#39;org.springframework.security.oauth:spring-security-oauth2:2.5.1.RELEASE&#39;\r\n        implementation &#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.6.6&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-oauth2-client:2.5.2&#39;\r\n        implementation &#39;org.modelmapper.extensions:modelmapper-spring:2.3.0&#39;\r\n        implementation &#39;commons-codec:commons-codec:1.15&#39;\r\n        implementation &#39;io.jsonwebtoken:jjwt:0.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-mail:2.5.2&#39;\r\n        implementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n        implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n        implementation(&#39;com.github.javafaker:javafaker:1.0.2&#39;) { exclude module: &#39;snakeyaml&#39; }\r\n        runtimeOnly &#39;com.h2database:h2:1.4.200&#39;\r\n        runtimeOnly &#39;org.springframework.boot:spring-boot-devtools:2.5.2&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql:42.2.22&#39;\r\n        testImplementation &#39;org.flywaydb.flyway-test-extensions:flyway-spring-test:5.0.0&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test:2.5.2&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test:5.5.1&#39;\r\n        testImplementation &#39;org.junit.vintage:junit-vintage-engine:5.7.2&#39;\r\n    }\r\n    \r\n    group = &#39;com.sti.sigproj&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    description = &#39;sigproj-backend&#39;\r\n    java.sourceCompatibility = JavaVersion.VERSION_1_8\r\n    \r\n    publishing {\r\n        publications {\r\n            maven(MavenPublication) {\r\n                from(components.java)\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n    \r\n    test.testLogging {\r\n        exceptionFormat &#39;full&#39;\r\n    }\r\n    \r\n    task stage(type: Copy, dependsOn: [clean, build]) {\r\n        from jar.archivePath\r\n        into project.rootDir \r\n        rename {\r\n            &#39;app.jar&#39;\r\n        }\r\n    }\r\n    stage.mustRunAfter(clean)\r\n\r\nHere is the tree of directories and the place where SigprojApplication is found:\r\n\r\n    src/\r\n    ├── main\r\n    │   ├── docker\r\n    │   ├── java\r\n    │   │   └── com\r\n    │   │       └── sti\r\n    │   │           └── sigproj\r\n    │   │               ├── api\r\n    │   │               │   ├── controller\r\n    │   │               │   ├── exceptionhandler\r\n    │   │               │   └── generaldtos\r\n    │   │               ├── configs\r\n    │   │               │   └── security\r\n    │   │               ├── domain\r\n    │   │               │   ├── arquivos\r\n    │   │               │   ├── edital\r\n    │   │               │   ├── modalidade\r\n    │   │               │   ├── proposta\r\n    │   │               │   └── usuario\r\n    │   │               ├── SigprojApplication.java\r\n    │   │               └── support\r\n    │   │                   ├── date\r\n    │   │                   ├── faker\r\n    │   │                   ├── json\r\n    │   │                   ├── validations\r\n    │   │                   └── verificacoes\r\n    │   └── resources\r\n    │       └── db\r\n    │           └── migration\r\n    └── test\r\n        └── java\r\n            └── com\r\n                └── sti\r\n                    └── sigproj\r\n                        ├── api\r\n                        │   └── controllers\r\n                        └── support\r\n                            └── tests\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67302573/java-vscode-errorcannot-resolve-the-modulepaths-classpaths-automatically-pleas","title":"Spring + Gradle does not found classpath in VSCode [Its not a duplicate, already checked the similar ones]","body":"<p>First of all, yes, I tried clean java language server workspace and all other answers present here: <a href=\"https://stackoverflow.com/questions/67302573/java-vscode-errorcannot-resolve-the-modulepaths-classpaths-automatically-pleas\">Java-VSCode error:Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json</a> , it doesn't work!</p>\n<p>DON'T VOTE TO CLOSE BASED ON THIS QUESTION, PLEASE!</p>\n<p>In trying to run a spring boot + gradle application, but it gives the following error:</p>\n<blockquote>\n<p>Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json.</p>\n<p>Source: Debugger for Java (Extension)</p>\n</blockquote>\n<p>Here is my launch.json:</p>\n<pre><code>{\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Spring Boot-SigprojApplication&lt;sigproj-backend&gt;&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\n            &quot;mainClass&quot;: &quot;com.sti.sigproj.SigprojApplication&quot;,\n            &quot;projectName&quot;: &quot;sigproj-backend&quot;,\n            &quot;args&quot;: &quot;&quot;,\n            &quot;envFile&quot;: &quot;${workspaceFolder}/.env&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is my .classpath:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot; path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot; path=&quot;src/main/resources&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-1.8/&quot;/&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;/&gt;\n    &lt;classpathentry kind=&quot;output&quot; path=&quot;bin/default&quot;/&gt;\n&lt;/classpath&gt;\n</code></pre>\n<p>Here is my build.gradle:</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n */\n\n\nplugins {\n    id 'java'\n    id 'maven-publish'\n    id &quot;org.springframework.boot&quot; version &quot;2.5.2&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.0.12.RELEASE&quot;\n}\n\njar {\n    manifest {\n        attributes(\n            'Main-Class': 'com.sti.sigproj.SigprojApplication'\n        )\n    }\n}\n\nrepositories {\n    mavenLocal()\n    maven {\n        url = uri('https://repo.maven.apache.org/maven2/')\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa:2.5.2'\n    implementation 'org.springframework.boot:spring-boot-starter-validation:2.5.2'\n    implementation 'org.springframework.boot:spring-boot-starter-web:2.5.2'\n    implementation 'org.flywaydb:flyway-core:7.7.3'\n    implementation 'org.springframework.boot:spring-boot-starter-security:2.5.2'\n    implementation 'org.springframework.security.oauth:spring-security-oauth2:2.5.1.RELEASE'\n    implementation 'org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.6.6'\n    implementation 'org.springframework.boot:spring-boot-starter-oauth2-client:2.5.2'\n    implementation 'org.modelmapper.extensions:modelmapper-spring:2.3.0'\n    implementation 'commons-codec:commons-codec:1.15'\n    implementation 'io.jsonwebtoken:jjwt:0.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter-mail:2.5.2'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n    implementation('com.github.javafaker:javafaker:1.0.2') { exclude module: 'snakeyaml' }\n    runtimeOnly 'com.h2database:h2:1.4.200'\n    runtimeOnly 'org.springframework.boot:spring-boot-devtools:2.5.2'\n    runtimeOnly 'org.postgresql:postgresql:42.2.22'\n    testImplementation 'org.flywaydb.flyway-test-extensions:flyway-spring-test:5.0.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test:2.5.2'\n    testImplementation 'org.springframework.security:spring-security-test:5.5.1'\n    testImplementation 'org.junit.vintage:junit-vintage-engine:5.7.2'\n}\n\ngroup = 'com.sti.sigproj'\nversion = '0.0.1-SNAPSHOT'\ndescription = 'sigproj-backend'\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\npublishing {\n    publications {\n        maven(MavenPublication) {\n            from(components.java)\n        }\n    }\n}\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\ntest.testLogging {\n    exceptionFormat 'full'\n}\n\ntask stage(type: Copy, dependsOn: [clean, build]) {\n    from jar.archivePath\n    into project.rootDir \n    rename {\n        'app.jar'\n    }\n}\nstage.mustRunAfter(clean)\n</code></pre>\n<p>Here is the tree of directories and the place where SigprojApplication is found:</p>\n<pre><code>src/\n├── main\n│   ├── docker\n│   ├── java\n│   │   └── com\n│   │       └── sti\n│   │           └── sigproj\n│   │               ├── api\n│   │               │   ├── controller\n│   │               │   ├── exceptionhandler\n│   │               │   └── generaldtos\n│   │               ├── configs\n│   │               │   └── security\n│   │               ├── domain\n│   │               │   ├── arquivos\n│   │               │   ├── edital\n│   │               │   ├── modalidade\n│   │               │   ├── proposta\n│   │               │   └── usuario\n│   │               ├── SigprojApplication.java\n│   │               └── support\n│   │                   ├── date\n│   │                   ├── faker\n│   │                   ├── json\n│   │                   ├── validations\n│   │                   └── verificacoes\n│   └── resources\n│       └── db\n│           └── migration\n└── test\n    └── java\n        └── com\n            └── sti\n                └── sigproj\n                    ├── api\n                    │   └── controllers\n                    └── support\n                        └── tests\n</code></pre>\n"},{"tags":["java","scala","encryption","aes"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1656939072,"post_id":72856975,"comment_id":128685805,"body_markdown":"Doe this help? https://stackoverflow.com/questions/29354133/how-to-fix-invalid-aes-key-length","body":"Doe this help? <a href=\"https://stackoverflow.com/questions/29354133/how-to-fix-invalid-aes-key-length\" title=\"how to fix invalid aes key length\">stackoverflow.com/questions/29354133/&hellip;</a>"},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656939600,"post_id":72856975,"comment_id":128685974,"body_markdown":"@stefanobaghino No I referred your code to read the key file and use it but i am getting the same error when reading the file","body":"@stefanobaghino No I referred your code to read the key file and use it but i am getting the same error when reading the file"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1656940127,"post_id":72856975,"comment_id":128686189,"body_markdown":"`-k` means that `s_key` is interpreted as password and the actual key and an IV are derived from it using a key derivation function (KDF) in combination with a random (8 bytes) salt (`-aes256` means AES-256 in CBC mode). The output is in OpenSSL format: *&lt;ASCII encoding of __Salted&gt;|&lt;salt&gt;|&lt;ciphertext&gt;*. The code is missing the key derivation (`EVP_BytesToKey`) and the formatting of the result. [Here](https://stackoverflow.com/a/11786924) you can find an implementation of the KDF for Java.","body":"<code>-k</code> means that <code>s_key</code> is interpreted as password and the actual key and an IV are derived from it using a key derivation function (KDF) in combination with a random (8 bytes) salt (<code>-aes256</code> means AES-256 in CBC mode). The output is in OpenSSL format: <i>&lt;ASCII encoding of __Salted&gt;|&lt;salt&gt;|&lt;ciphertext&gt;</i>. The code is missing the key derivation (<code>EVP_BytesToKey</code>) and the formatting of the result. <a href=\"https://stackoverflow.com/a/11786924\">Here</a> you can find an implementation of the KDF for Java."},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656964367,"post_id":72856975,"comment_id":128693333,"body_markdown":"@Topaco  I was trying to follow the link Provided I have few doubts what is the ARG_INDEX_PASSWORD and ARG_INDEX_FILENAME in the example","body":"@Topaco  I was trying to follow the link Provided I have few doubts what is the ARG_INDEX_PASSWORD and ARG_INDEX_FILENAME in the example"},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656964811,"post_id":72856975,"comment_id":128693436,"body_markdown":"@Topaco I want to first use the file to encrypt aswell","body":"@Topaco I want to first use the file to encrypt aswell"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1656966096,"post_id":72856975,"comment_id":128693780,"body_markdown":"You should just copy the `EVP_BytesToKey()` method from the linked answer to derive key and IV (you don&#39;t need the constants `ARG_...` at all, they don&#39;t appear anywhere in `EVP_BytesToKey`). After encryption, concatenate salt and ciphertext in OpenSSL format. If necessary, add the file I/O. That&#39;s all.","body":"You should just copy the <code>EVP_BytesToKey()</code> method from the linked answer to derive key and IV (you don&#39;t need the constants <code>ARG_...</code> at all, they don&#39;t appear anywhere in <code>EVP_BytesToKey</code>). After encryption, concatenate salt and ciphertext in OpenSSL format. If necessary, add the file I/O. That&#39;s all."},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656967327,"post_id":72856975,"comment_id":128694055,"body_markdown":"@Topaco Ok. what will be the values for these parameters required by EVP_BytesToKey() ---- int key_len, int iv_len, MessageDigest md,\n            byte[] salt, byte[] data, int count","body":"@Topaco Ok. what will be the values for these parameters required by EVP_BytesToKey() ---- int key_len, int iv_len, MessageDigest md,             byte[] salt, byte[] data, int count"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1656968478,"post_id":72856975,"comment_id":128694330,"body_markdown":"The BouncyCastle class `OpenSSLPBEParametersGenerator` used in your other question also implements `EVP_BytesToKey()`. Instead of the linked implementation in my comment you can of course also use `OpenSSLPBEParametersGenerator`. Note that OpenSSL originally used MD5 as default digest and since v1.1.0 SHA256. Depending on your OpenSSL version you may have to change the digest in your code accordingly.","body":"The BouncyCastle class <code>OpenSSLPBEParametersGenerator</code> used in your other question also implements <code>EVP_BytesToKey()</code>. Instead of the linked implementation in my comment you can of course also use <code>OpenSSLPBEParametersGenerator</code>. Note that OpenSSL originally used MD5 as default digest and since v1.1.0 SHA256. Depending on your OpenSSL version you may have to change the digest in your code accordingly."},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656969895,"post_id":72856975,"comment_id":128694645,"body_markdown":"@Topoco using some changes to this code I was able to encrypt and decrypt a String. I am reposting my code can you review the same and let me know if i need to do any changes to encryption and decryption part of the code","body":"@Topoco using some changes to this code I was able to encrypt and decrypt a String. I am reposting my code can you review the same and let me know if i need to do any changes to encryption and decryption part of the code"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1656970538,"post_id":72856975,"comment_id":128694749,"body_markdown":"For compatibility with OpenSSL, 1. also the IV must be derived with `EVP_BytesToKey` (the first 32 bytes are the key, the following 16 bytes the IV), 2. a random 8 bytes salt must be generated and used, and 3. the OpenSSL format must be applied. Note that for code review https://codereview.stackexchange.com/ is more appropriate.","body":"For compatibility with OpenSSL, 1. also the IV must be derived with <code>EVP_BytesToKey</code> (the first 32 bytes are the key, the following 16 bytes the IV), 2. a random 8 bytes salt must be generated and used, and 3. the OpenSSL format must be applied. Note that for code review <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> is more appropriate."},{"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"score":0,"creation_date":1656999844,"post_id":72856975,"comment_id":128698742,"body_markdown":"@Topaco how to derive salt from key using OpenSSLPBEParametersGenerator? can you help me with a code","body":"@Topaco how to derive salt from key using OpenSSLPBEParametersGenerator? can you help me with a code"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1657014104,"post_id":72856975,"comment_id":128703088,"body_markdown":"See my answer please.","body":"See my answer please."}],"answers":[{"tags":[],"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656971203,"creation_date":1656971203,"answer_id":72862288,"question_id":72856975,"body_markdown":"I was able to achive my result with the below code. The code can indeed be written in a better way and remove the unnecessary initialisation. I will be doing the same in my practical Implementation\r\n\r\n    public class test2 {\r\n        public static void main(String[] args) throws IOException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, InvalidAlgorithmParameterException {\r\n    \r\n            Path path = Paths.get(&quot;/home/debashishd/Downloads/key&quot;);\r\n            String Test_message = FileUtils.readFileToString(new File(&quot;/home/debashishd/Downloads/sample.txt&quot;), StandardCharsets.UTF_8);\r\n    \r\n            /**\r\n             * Read the keyfile provided to encrypt\r\n             */\r\n            byte[] keyValue = Files.readAllBytes(path);\r\n            OpenSSLPBEParametersGenerator gen = new OpenSSLPBEParametersGenerator();\r\n            OpenSSLPBEParametersGenerator gen1 = gen;\r\n            final String salt = &quot;&quot;;\r\n            byte[] saltBytes = Hex.decode(salt.getBytes());\r\n            gen1.init(keyValue,saltBytes);\r\n            CipherParameters cp = gen1.generateDerivedParameters(256);\r\n            byte[] keyBytes = ((KeyParameter)cp).getKey();\r\n            SecretKeySpec secretKey = new SecretKeySpec(keyBytes,&quot;AES&quot;);\r\n    \r\n            /**\r\n             * Initialize the Encrypt Ciphers and encrypt the data from input file\r\n             */\r\n            Cipher encryptcipher;\r\n            Cipher decryptCipher;\r\n            encryptcipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            encryptcipher.init(Cipher.ENCRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\r\n            String encrypt_value = getEncoder().encodeToString(encryptcipher.doFinal(Test_message.getBytes(StandardCharsets.UTF_8)));\r\n            System.out.println(&quot;Encrypted value: &quot; + encrypt_value);\r\n    \r\n            /**\r\n             * Initialize the Decrypt Ciphers and decrypt the encrypted data\r\n             */\r\n            decryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n            decryptCipher.init(Cipher.DECRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\r\n            String Decrypt_result = new String(decryptCipher.doFinal(getDecoder().decode(encrypt_value)));\r\n            System.out.println(&quot;Decrypted value: &quot; + Decrypt_result);\r\n    \r\n        }\r\n    }","title":"Java AES encryption with keyFile using BouncyCastle SSL","body":"<p>I was able to achive my result with the below code. The code can indeed be written in a better way and remove the unnecessary initialisation. I will be doing the same in my practical Implementation</p>\n<pre><code>public class test2 {\n    public static void main(String[] args) throws IOException, NoSuchPaddingException, NoSuchAlgorithmException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException, InvalidAlgorithmParameterException {\n\n        Path path = Paths.get(&quot;/home/debashishd/Downloads/key&quot;);\n        String Test_message = FileUtils.readFileToString(new File(&quot;/home/debashishd/Downloads/sample.txt&quot;), StandardCharsets.UTF_8);\n\n        /**\n         * Read the keyfile provided to encrypt\n         */\n        byte[] keyValue = Files.readAllBytes(path);\n        OpenSSLPBEParametersGenerator gen = new OpenSSLPBEParametersGenerator();\n        OpenSSLPBEParametersGenerator gen1 = gen;\n        final String salt = &quot;&quot;;\n        byte[] saltBytes = Hex.decode(salt.getBytes());\n        gen1.init(keyValue,saltBytes);\n        CipherParameters cp = gen1.generateDerivedParameters(256);\n        byte[] keyBytes = ((KeyParameter)cp).getKey();\n        SecretKeySpec secretKey = new SecretKeySpec(keyBytes,&quot;AES&quot;);\n\n        /**\n         * Initialize the Encrypt Ciphers and encrypt the data from input file\n         */\n        Cipher encryptcipher;\n        Cipher decryptCipher;\n        encryptcipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        encryptcipher.init(Cipher.ENCRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\n        String encrypt_value = getEncoder().encodeToString(encryptcipher.doFinal(Test_message.getBytes(StandardCharsets.UTF_8)));\n        System.out.println(&quot;Encrypted value: &quot; + encrypt_value);\n\n        /**\n         * Initialize the Decrypt Ciphers and decrypt the encrypted data\n         */\n        decryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\n        String Decrypt_result = new String(decryptCipher.doFinal(getDecoder().decode(encrypt_value)));\n        System.out.println(&quot;Decrypted value: &quot; + Decrypt_result);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657014554,"creation_date":1657014088,"answer_id":72867226,"question_id":72856975,"body_markdown":"For compatibility with the OpenSSL statement:\r\n- a random 8 bytes of salt must be generated\r\n- a 32 bytes key and 16 bytes IV must be derived using `EVP_BytesToKey()` and the salt\r\n- the result must be given in OpenSSL format:&lt;br&gt;\r\n`&lt;ASCII Encoding of Salted__&gt;|&lt;salt&gt;|&lt;ciphertext&gt;`\r\n\r\nFor `EVP_BytesToKey()` you can apply the `OpenSSLPBEParametersGenerator` class you already suggested. \r\n\r\n`EVP_BytesToKey()` uses a digest. In earlier versions of OpenSSL MD5 was applied by default, from v1.1.0 SHA256. The digest can be set with the *-md5* option. Code and OpenSSL statement must both use the same digest to be compatible. `OpenSSLPBEParametersGenerator` allows the specification of the digest in the constructor, default is MD5.  \r\n\r\nThe following code, is based on your code, i.e. uses `OpenSSLPBEParametersGenerator` for `EVP_BytesToKey()` but additionally considers above points. Instead of encrypting the entire data, streams are applied and the data is encrypted chunk by chunk, so that even large files can be processed:\r\n\r\n```java\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.SecureRandom;\r\nimport org.bouncycastle.crypto.digests.MD5Digest;\r\nimport org.bouncycastle.crypto.engines.AESEngine;\r\nimport org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\r\nimport org.bouncycastle.crypto.io.CipherOutputStream;\r\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\r\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\r\nimport org.bouncycastle.crypto.params.ParametersWithIV;\r\n\r\n...\r\n\r\nString inputPath = &quot;...&quot;;\r\nString outputPath = &quot;...&quot;;\r\nString passwordStr = &quot;...&quot;;\r\n\r\n// Generate random 8 bytes salt\r\nSecureRandom random = new SecureRandom();\r\nbyte salt[] = new byte[8];\r\nrandom.nextBytes(salt);\r\n\r\n// Derive 32 bytes key (AES_256) and 16 bytes IV\r\nbyte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\r\nOpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\r\npbeGenerator.init(password, salt);\r\nParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128); // keySize, ivSize in bits\r\n\r\n// Encrypt with AES-256, CBC using streams\r\ntry (FileOutputStream fos = new FileOutputStream(outputPath)) {\r\n\r\n\t// Apply OpenSSL format\r\n\tfos.write(&quot;Salted__&quot;.getBytes(StandardCharsets.UTF_8));\r\n\tfos.write(salt);\r\n\r\n\t// Encrypt chunkwise (for large data)\r\n\tPaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\r\n\tcipher.init(true, parameters);\r\n\ttry (FileInputStream fis = new FileInputStream(inputPath);\r\n\t\t CipherOutputStream cos = new CipherOutputStream(fos, cipher)) {\r\n        int bytesRead = -1;\r\n\t\tbyte[] buffer = new byte[64 * 1024 * 1024]; // chunksize, e.g. 64 MiB\r\n\t\twhile ((bytesRead = fis.read(buffer)) != -1) {\r\n            cos.write(buffer, 0, bytesRead);\r\n        }\t \r\n\t}\r\n}\r\n``` \r\n  \r\nA file encrypted with this code can be decrypted with OpenSSL as follows:\r\n\r\n```none\r\nopenssl enc -d -aes256 -k &lt;passpharse&gt; -in &lt;enc file&gt; -out &lt;dec file&gt;\r\n```\r\n\r\nTherefore the code is the programmatic analogue of the OpenSSL statement posted at the beginning of your question (whereby the ambiguity regarding the digest still has to be taken into account, i.e. for an OpenSSL version from v1.1.0 SHA256 has to be used instead of MD5).\r\n\r\nNote that because of the random salt, different key/IV pairs are generated for each encryption, so there is no reuse, which also removes the vulnerability mentioned in the comment.","title":"Java AES encryption with keyFile using BouncyCastle SSL","body":"<p>For compatibility with the OpenSSL statement:</p>\n<ul>\n<li>a random 8 bytes of salt must be generated</li>\n<li>a 32 bytes key and 16 bytes IV must be derived using <code>EVP_BytesToKey()</code> and the salt</li>\n<li>the result must be given in OpenSSL format:<br>\n<code>&lt;ASCII Encoding of Salted__&gt;|&lt;salt&gt;|&lt;ciphertext&gt;</code></li>\n</ul>\n<p>For <code>EVP_BytesToKey()</code> you can apply the <code>OpenSSLPBEParametersGenerator</code> class you already suggested.</p>\n<p><code>EVP_BytesToKey()</code> uses a digest. In earlier versions of OpenSSL MD5 was applied by default, from v1.1.0 SHA256. The digest can be set with the <em>-md5</em> option. Code and OpenSSL statement must both use the same digest to be compatible. <code>OpenSSLPBEParametersGenerator</code> allows the specification of the digest in the constructor, default is MD5.</p>\n<p>The following code, is based on your code, i.e. uses <code>OpenSSLPBEParametersGenerator</code> for <code>EVP_BytesToKey()</code> but additionally considers above points. Instead of encrypting the entire data, streams are applied and the data is encrypted chunk by chunk, so that even large files can be processed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.security.SecureRandom;\nimport org.bouncycastle.crypto.digests.MD5Digest;\nimport org.bouncycastle.crypto.engines.AESEngine;\nimport org.bouncycastle.crypto.generators.OpenSSLPBEParametersGenerator;\nimport org.bouncycastle.crypto.io.CipherOutputStream;\nimport org.bouncycastle.crypto.modes.CBCBlockCipher;\nimport org.bouncycastle.crypto.paddings.PaddedBufferedBlockCipher;\nimport org.bouncycastle.crypto.params.ParametersWithIV;\n\n...\n\nString inputPath = &quot;...&quot;;\nString outputPath = &quot;...&quot;;\nString passwordStr = &quot;...&quot;;\n\n// Generate random 8 bytes salt\nSecureRandom random = new SecureRandom();\nbyte salt[] = new byte[8];\nrandom.nextBytes(salt);\n\n// Derive 32 bytes key (AES_256) and 16 bytes IV\nbyte[] password = passwordStr.getBytes(StandardCharsets.UTF_8);\nOpenSSLPBEParametersGenerator pbeGenerator = new OpenSSLPBEParametersGenerator(new MD5Digest()); // SHA256 as of v1.1.0 (if in OpenSSL the default digest is applied)\npbeGenerator.init(password, salt);\nParametersWithIV parameters = (ParametersWithIV) pbeGenerator.generateDerivedParameters(256, 128); // keySize, ivSize in bits\n\n// Encrypt with AES-256, CBC using streams\ntry (FileOutputStream fos = new FileOutputStream(outputPath)) {\n\n    // Apply OpenSSL format\n    fos.write(&quot;Salted__&quot;.getBytes(StandardCharsets.UTF_8));\n    fos.write(salt);\n\n    // Encrypt chunkwise (for large data)\n    PaddedBufferedBlockCipher cipher = new PaddedBufferedBlockCipher(new CBCBlockCipher(new AESEngine()));\n    cipher.init(true, parameters);\n    try (FileInputStream fis = new FileInputStream(inputPath);\n         CipherOutputStream cos = new CipherOutputStream(fos, cipher)) {\n        int bytesRead = -1;\n        byte[] buffer = new byte[64 * 1024 * 1024]; // chunksize, e.g. 64 MiB\n        while ((bytesRead = fis.read(buffer)) != -1) {\n            cos.write(buffer, 0, bytesRead);\n        }    \n    }\n}\n</code></pre>\n<p>A file encrypted with this code can be decrypted with OpenSSL as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl enc -d -aes256 -k &lt;passpharse&gt; -in &lt;enc file&gt; -out &lt;dec file&gt;\n</code></pre>\n<p>Therefore the code is the programmatic analogue of the OpenSSL statement posted at the beginning of your question (whereby the ambiguity regarding the digest still has to be taken into account, i.e. for an OpenSSL version from v1.1.0 SHA256 has to be used instead of MD5).</p>\n<p>Note that because of the random salt, different key/IV pairs are generated for each encryption, so there is no reuse, which also removes the vulnerability mentioned in the comment.</p>\n"}],"owner":{"account_id":23152949,"reputation":47,"user_id":17254654,"display_name":"Roxane Felton"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72867226,"answer_count":2,"score":3,"last_activity_date":1657096339,"creation_date":1656938580,"question_id":72856975,"body_markdown":"**I am trying to convert the below Command in SSL to Java**\r\n\r\n```none\r\nopenssl enc -in &lt;inputfilename&gt; -out &lt;file_to_encrypt&gt; -e -aes256 -k s_key\r\n```\r\n\r\n**s_key is the file provided which contains the key that will be used to encrypt and decrypt**\r\n\r\nSteps to be done:\r\n1 - Read the key file\r\n2 - Use it to AES encryption to encrypt file inputfilename\r\n3 - Use the key to  decrypt the same.\r\n\r\n I am new to encryption and below is the code i have written so far to encrypt but I am getting issue.\r\n\r\n```java\r\nPath path = Paths.get(&quot;/home/debashishd/Downloads/s_key&quot;);\r\nString content = new String(Files.readAllBytes(Paths.get(&quot;/home/debashishd/Downloads/s_key&quot;)));\r\n    \r\nString Test_message = &quot;Hello this is Roxane&quot;;\r\n    \r\nbyte[] keyValue = Files.readAllBytes(path);\r\nByteArrayInputStream byteIS = new ByteArrayInputStream(keyValue);\r\n    \r\nOpenSSLPBEParametersGenerator gen = new OpenSSLPBEParametersGenerator();\r\nOpenSSLPBEParametersGenerator gen1 = gen;\r\nbyte[] saltBytes = Hex.decode(salt.getBytes());\r\ngen1.init(keyValue);\r\nCipherParameters cp = gen1.generateDerivedParameters(256);\r\n\r\nbyte[] keyBytes = ((KeyParameter)cp);           \r\nSecretKeySpec secretKey = new SecretKeySpec(keyBytes,&quot;AES&quot;);\r\nSystem.out.println(secretKey);\r\n    \r\nCipher cipher;\r\nCipher decryptCipher;\r\ncipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\r\n\r\nString encrypt_value = getEncoder().encodeToString(cipher.doFinal(Test_message.getBytes(StandardCharsets.UTF_8)));\r\n    \r\nSystem.out.println(&quot;Encrypted value: &quot; + encrypt_value);\r\n    \r\ndecryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\ndecryptCipher.init(Cipher.DECRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\r\nString Decrypt_result = new String(decryptCipher.doFinal(getDecoder().decode(encrypt_value)));\r\nSystem.out.println(&quot;Decrypted value: &quot; + Decrypt_result);\r\n```\r\n\r\nIs there any changes need to be done to achieve the above encrypt and decrypt\r\n\r\nExpected output:\r\n\r\n```none\r\nEncrypted value: jvggHDPa58+/zQ+HyGUEk/ypndXbatE+b+hBBqiinABOIwxJ7FXqnDb5j813fPwwm/D6d2Y2uh+k4qD77QMqOg==\r\nDecrypted value: Hello this is Roxane\r\n```","title":"Java AES encryption with keyFile using BouncyCastle SSL","body":"<p><strong>I am trying to convert the below Command in SSL to Java</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>openssl enc -in &lt;inputfilename&gt; -out &lt;file_to_encrypt&gt; -e -aes256 -k s_key\n</code></pre>\n<p><strong>s_key is the file provided which contains the key that will be used to encrypt and decrypt</strong></p>\n<p>Steps to be done:\n1 - Read the key file\n2 - Use it to AES encryption to encrypt file inputfilename\n3 - Use the key to  decrypt the same.</p>\n<p>I am new to encryption and below is the code i have written so far to encrypt but I am getting issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Paths.get(&quot;/home/debashishd/Downloads/s_key&quot;);\nString content = new String(Files.readAllBytes(Paths.get(&quot;/home/debashishd/Downloads/s_key&quot;)));\n    \nString Test_message = &quot;Hello this is Roxane&quot;;\n    \nbyte[] keyValue = Files.readAllBytes(path);\nByteArrayInputStream byteIS = new ByteArrayInputStream(keyValue);\n    \nOpenSSLPBEParametersGenerator gen = new OpenSSLPBEParametersGenerator();\nOpenSSLPBEParametersGenerator gen1 = gen;\nbyte[] saltBytes = Hex.decode(salt.getBytes());\ngen1.init(keyValue);\nCipherParameters cp = gen1.generateDerivedParameters(256);\n\nbyte[] keyBytes = ((KeyParameter)cp);           \nSecretKeySpec secretKey = new SecretKeySpec(keyBytes,&quot;AES&quot;);\nSystem.out.println(secretKey);\n    \nCipher cipher;\nCipher decryptCipher;\ncipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\n\nString encrypt_value = getEncoder().encodeToString(cipher.doFinal(Test_message.getBytes(StandardCharsets.UTF_8)));\n    \nSystem.out.println(&quot;Encrypted value: &quot; + encrypt_value);\n    \ndecryptCipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\ndecryptCipher.init(Cipher.DECRYPT_MODE, secretKey,new IvParameterSpec(new byte[16]));\nString Decrypt_result = new String(decryptCipher.doFinal(getDecoder().decode(encrypt_value)));\nSystem.out.println(&quot;Decrypted value: &quot; + Decrypt_result);\n</code></pre>\n<p>Is there any changes need to be done to achieve the above encrypt and decrypt</p>\n<p>Expected output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Encrypted value: jvggHDPa58+/zQ+HyGUEk/ypndXbatE+b+hBBqiinABOIwxJ7FXqnDb5j813fPwwm/D6d2Y2uh+k4qD77QMqOg==\nDecrypted value: Hello this is Roxane\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1371834450,"post_id":17240708,"comment_id":24982246,"body_markdown":"Sounds like an installation problem. The code is obviously fine.","body":"Sounds like an installation problem. The code is obviously fine."},{"owner":{"account_id":350538,"reputation":26874,"user_id":688653,"accept_rate":100,"display_name":"zw324"},"score":1,"creation_date":1371834495,"post_id":17240708,"comment_id":24982268,"body_markdown":"http://stackoverflow.com/questions/14466323/gson-serialized-name-implicit-super-constructor-object-is-undefined-for-defa Is this similar to the question?","body":"<a href=\"http://stackoverflow.com/questions/14466323/gson-serialized-name-implicit-super-constructor-object-is-undefined-for-defa\" title=\"gson serialized name implicit super constructor object is undefined for defa\">stackoverflow.com/questions/14466323/&hellip;</a> Is this similar to the question?"},{"owner":{"account_id":2367596,"reputation":14579,"user_id":2073001,"accept_rate":91,"display_name":"Steve P."},"score":2,"creation_date":1371834886,"post_id":17240708,"comment_id":24982455,"body_markdown":"Reinstall everything.","body":"Reinstall everything."},{"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"score":0,"creation_date":1371835147,"post_id":17240708,"comment_id":24982577,"body_markdown":"@ZiyaoWei Not quite. But thanks for the link. I have used the notes there for some research.","body":"@ZiyaoWei Not quite. But thanks for the link. I have used the notes there for some research."},{"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"score":1,"creation_date":1371835567,"post_id":17240708,"comment_id":24982782,"body_markdown":"I am finding that the problem happens if I set `execution environment` to `javaSE-1.7`. I will edit to add image, in case it&#39;s necessary.","body":"I am finding that the problem happens if I set <code>execution environment</code> to <code>javaSE-1.7</code>. I will edit to add image, in case it&#39;s necessary."},{"owner":{"account_id":440855,"reputation":6392,"user_id":830663,"display_name":"Tap"},"score":2,"creation_date":1371836151,"post_id":17240708,"comment_id":24983063,"body_markdown":"Yes, sounds like a eclipse can&#39;t find a valid JRE.  In eclipse preferences/java/installed JREs, check that you have the directory of a valid JRE.  You can verify by using the shell to cd to that directory, and run bin/javac against your source file.  If you get the same result there, reinstall java.","body":"Yes, sounds like a eclipse can&#39;t find a valid JRE.  In eclipse preferences/java/installed JREs, check that you have the directory of a valid JRE.  You can verify by using the shell to cd to that directory, and run bin/javac against your source file.  If you get the same result there, reinstall java."}],"answers":[{"tags":[],"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"down_vote_count":0,"up_vote_count":154,"is_accepted":false,"score":154,"last_activity_date":1460044278,"creation_date":1382629915,"answer_id":19570719,"question_id":17240708,"body_markdown":"This problem occurs if your `JRE` is not configured in project `built path.`\r\n\r\nTo configure `JRE:`\r\n\r\n**In Eclipse:** \r\n\r\n - Right click on your project and select `Build Path` -&gt; `Configure Build Path`\r\n - Go to `Libraries tab` click `Add Library`.\r\n - Select `JRE System Library` click `Next`\r\n - Then select `JRE` from options as per your requirement. Click `Finish`\r\n\r\n**In Netbeans:** \r\n\r\n - Right Click on the Project and select `Properties`.\r\n - In the Library category select `Java Platform` as per your requirement. \r\n - Then go to Source category select `Source/Binary Format` and select JDK as per your requirement.\r\n\r\n**Explanation:**\r\n\r\nThe error was because you did not include System libraries in your project and your class was not able to find `Object()` constructor which is called first in the hierarchy when you create an object.\r\n\r\nExample:\r\n\r\n    package com.my.ok;\r\n\r\n    public class First {\r\n\r\n    }\r\n\r\nwhat happens is `compiler` extends by default your `First` class to `Object` class \r\n\r\n    package com.my.ok;\r\n\r\n    public class First extends Object {\r\n\r\n    }\r\n\r\nbut `Object` class was not found in your case and you were getting this error.","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>This problem occurs if your <code>JRE</code> is not configured in project <code>built path.</code></p>\n\n<p>To configure <code>JRE:</code></p>\n\n<p><strong>In Eclipse:</strong> </p>\n\n<ul>\n<li>Right click on your project and select <code>Build Path</code> -> <code>Configure Build Path</code></li>\n<li>Go to <code>Libraries tab</code> click <code>Add Library</code>.</li>\n<li>Select <code>JRE System Library</code> click <code>Next</code></li>\n<li>Then select <code>JRE</code> from options as per your requirement. Click <code>Finish</code></li>\n</ul>\n\n<p><strong>In Netbeans:</strong> </p>\n\n<ul>\n<li>Right Click on the Project and select <code>Properties</code>.</li>\n<li>In the Library category select <code>Java Platform</code> as per your requirement. </li>\n<li>Then go to Source category select <code>Source/Binary Format</code> and select JDK as per your requirement.</li>\n</ul>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The error was because you did not include System libraries in your project and your class was not able to find <code>Object()</code> constructor which is called first in the hierarchy when you create an object.</p>\n\n<p>Example:</p>\n\n<pre><code>package com.my.ok;\n\npublic class First {\n\n}\n</code></pre>\n\n<p>what happens is <code>compiler</code> extends by default your <code>First</code> class to <code>Object</code> class </p>\n\n<pre><code>package com.my.ok;\n\npublic class First extends Object {\n\n}\n</code></pre>\n\n<p>but <code>Object</code> class was not found in your case and you were getting this error.</p>\n"},{"tags":[],"owner":{"account_id":7635211,"reputation":81,"user_id":5788964,"display_name":"Pekmezli D&#252;r&#252;m"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466576730,"creation_date":1466576730,"answer_id":37960137,"question_id":17240708,"body_markdown":"if your project is a maven project try **mvn clean install** command. It worked for me. ","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>if your project is a maven project try <strong>mvn clean install</strong> command. It worked for me. </p>\n"},{"tags":[],"owner":{"account_id":8185545,"reputation":41,"user_id":6161476,"display_name":"abhinai raj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533704586,"creation_date":1533704586,"answer_id":51738936,"question_id":17240708,"body_markdown":"Go to buildPath and in libraries double click on JRE System Libraries and select workspace Default workspace.  ","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>Go to buildPath and in libraries double click on JRE System Libraries and select workspace Default workspace.  </p>\n"},{"tags":[],"owner":{"account_id":1250516,"reputation":141,"user_id":1211017,"display_name":"Pratap Kumar Panda"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1572327800,"creation_date":1572327800,"answer_id":58601961,"question_id":17240708,"body_markdown":"This is a typical issue with JRE configuration in the java web project.  Right-click on your project select &quot;Build Path&quot; and &quot;Configure Build path&quot;. In the &quot;Libraries&quot; tab double click on &quot;JRE System Libraries&quot; and select workspace Default workspace. If you do not have one installed, please install it and follow the above process. ","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>This is a typical issue with JRE configuration in the java web project.  Right-click on your project select \"Build Path\" and \"Configure Build path\". In the \"Libraries\" tab double click on \"JRE System Libraries\" and select workspace Default workspace. If you do not have one installed, please install it and follow the above process. </p>\n"},{"tags":[],"owner":{"account_id":13790539,"reputation":701,"user_id":9953131,"display_name":"Sumit Rane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613845178,"creation_date":1613845178,"answer_id":66295042,"question_id":17240708,"body_markdown":"I was facing the same issue then I change changed my installed JRE and point to jdk and it worked for me. \r\n\r\nEclipse -&gt; Windows -&gt; Preferences -&gt; Java -&gt; Installed JRE -&gt; Add new (gave the path of installed java jdk)","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>I was facing the same issue then I change changed my installed JRE and point to jdk and it worked for me.</p>\n<p>Eclipse -&gt; Windows -&gt; Preferences -&gt; Java -&gt; Installed JRE -&gt; Add new (gave the path of installed java jdk)</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657096321,"creation_date":1657096321,"answer_id":72880252,"question_id":17240708,"body_markdown":"I had this problem in IntelliJ. I was using JDK version 1.8.0_333, but my Maven runner version was 11.0.1. When I changed that to 1.8.0_333, the errors went away.\r\n\r\nThe Maven Runner version can be set under Preferences-&gt;Build, Execution, Deployment-&gt;Build Tools-&gt;Maven-&gt;Runner.\r\n\r\nI&#39;m still mystified by the error, because that Maven runner works fine with all my other projects.","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>I had this problem in IntelliJ. I was using JDK version 1.8.0_333, but my Maven runner version was 11.0.1. When I changed that to 1.8.0_333, the errors went away.</p>\n<p>The Maven Runner version can be set under Preferences-&gt;Build, Execution, Deployment-&gt;Build Tools-&gt;Maven-&gt;Runner.</p>\n<p>I'm still mystified by the error, because that Maven runner works fine with all my other projects.</p>\n"}],"owner":{"account_id":2926576,"reputation":13827,"user_id":2507741,"accept_rate":38,"display_name":"Cote Mounyo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154591,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":6,"score":55,"last_activity_date":1657096321,"creation_date":1371834353,"question_id":17240708,"body_markdown":"Is this a new bug? I got a new mac computer and [install eclipse on it][1]. The checksum matches fine. But when I try to create a simple class, just for basic testing, I get the error mentioned in the title. Never before have I seen java complaining about `object()` constructor. Here is the class:\r\n\r\n\r\n    package com.my.ok;\r\n    \r\n    public class First {\r\n    \r\n    }\r\n\r\n\r\nEDIT:\r\n\r\nI am finding that the problem happens if I set `execution environment` to `javaSE-1.7`\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/juno/SR2/eclipse-jee-juno-SR2-macosx-cocoa-x86_64.tar.gz\r\n  [2]: http://i.stack.imgur.com/XheRo.png","title":"implicit super constructor object() is undefined. must explicitly invoke another constructor","body":"<p>Is this a new bug? I got a new mac computer and <a href=\"http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/juno/SR2/eclipse-jee-juno-SR2-macosx-cocoa-x86_64.tar.gz\">install eclipse on it</a>. The checksum matches fine. But when I try to create a simple class, just for basic testing, I get the error mentioned in the title. Never before have I seen java complaining about <code>object()</code> constructor. Here is the class:</p>\n\n<pre><code>package com.my.ok;\n\npublic class First {\n\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I am finding that the problem happens if I set <code>execution environment</code> to <code>javaSE-1.7</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/XheRo.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","picocli"],"answers":[{"tags":[],"owner":{"account_id":20001564,"reputation":31,"user_id":14660421,"display_name":"LTB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657095728,"creation_date":1657062048,"answer_id":72876352,"question_id":72876351,"body_markdown":"Here&#39;s my solution; maybe it&#39;s useful to someone. The basic approach is to use a new `CommandLine` instance for each nested config file. \r\n\r\nAll code snippets below are from the annotated class; project-specific housekeeping, error checking, path construction etc. were removed.\r\n\r\n**Problem #1** is solved by the `parseConfigFile(...)` method:\r\n```\r\n@Option(names = { &quot;configfile&quot;, &quot;cf&quot; } )\r\npublic void parseConfigfile(final List&lt;String&gt; accumulatedCfgFiles) {\r\n    // prune the list, keeping only &quot;new&quot; entries that haven&#39;t been seen yet:\r\n    List&lt;String&gt; newCfgFiles = this.cfgfileHelper.retainNewOptionValuesOnly(\r\n        accumulatedCfgFiles, &quot;configfile&quot;);\r\n    if(newCfgFiles.isEmpty()) {\r\n        // another picoCLI quirk: this happens even if there always are values \r\n        return; \r\n    } else if(newCfgFiles.size() &gt; 1) {\r\n        // loop over the files if you want to allow this, or report an error\r\n    }\r\n    // some path tinkering left out\r\n    File cfgFile = new File(newCfgFiles.get(0));\r\n    if(this.stackOfConfigFiles.contains(cfgFile)) {\r\n        // report error because of cyclic reference\r\n    } else {\r\n        this.stackOfConfigFiles.push(cfgFile);\r\n        // task a new CommandLine instance with processing that file:\r\n        CommandLine cmd = new CommandLine(this);\r\n        String[] optionsFromFile = FileUtils.readLines(cfgFile); // Apache Commons               \r\n        this.cfgfileHelper.wrapParseArgsCall(cmd, optionsFromFile);\r\n        this.stackOfConfigFiles.pop();\r\n    }\r\n}\r\n```\r\nThe method uses an instance of `NestedCfgfileHelper` (see source below) which does all the nested-config-specific housekeeping to **solve problem #2**. Your annotated class needs one helper instance as a public attribute. Call the constructor with the names of all &quot;problem&quot; options (those that the helper class should take care of):\r\n```\r\n...\r\npublic final NestedCfgfileHelper cfgfileHelper = \r\n    new NestedCfgfileHelper(new String[] { &quot;configfile&quot;, &quot;section&quot; });\r\n...\r\n```\r\n\r\nThe following steps make all this work:\r\n- Identify those options that are sensitive to &quot;spurious setter method calls&quot; (most are not);\r\n- If there are any, paste `NestedCfgfileHelper`&#39;s source to your annotated class as an inner class;\r\n- Create an instance of `NestedCfgfileHelper` as a public member of your annotated class, telling the constructor the names of all those &quot;problematic&quot; options;\r\n- Never call `yourInstanceOfCommandLine.parseArgs(...)` directly. Instead, instantiate and initialize it, but pass it to the helper using `instanceOfYourAnnotatedClass.cfgfileHelper.wrapParseArgs(...)`\r\n- Let the setter method(s) for those &quot;difficult&quot; options...\r\n  - ... first get rid of &quot;old&quot; values from previous invocations by calling `retainNewOptionValuesOnly`, passing the name of the option;\r\n  - ... then process the remaining option value(s) normally.\r\n\r\nFinally, here&#39;s the source of `NestedCfgfileHelper`:\r\n```\r\n/** NestedCfgfileHelper ensures that the values of certain options are \r\n * processed just once, despite the picoCLI quirk.     */\r\npublic final class NestedCfgfileHelper {\r\n    /** Maps an (option name|CommandLine instance) pair to the number of \r\n     * option values that instance has so far passed for that option. \r\n     * Because Java doesn&#39;t have Maps with two keys, it&#39;s implemented as \r\n     * a Map of Maps:         */\r\n    private Map&lt;String, Map&lt;CommandLine, Integer&gt;&gt; mapOptionAndCLToCount =\r\n            new HashMap&lt;&gt;();\r\n\r\n    /** Constructs a helper instance and prepares it to handle the options \r\n     * given as parameters. \r\n     * \r\n     * @param optionNames any number of Strings, with each String denoting\r\n     * one option whose values should be protected against being processed\r\n     * multiple times */\r\n    public NestedCfgfileHelper(String... optionNames) {\r\n        // make one mapping for each option name given:\r\n        for(String optionName: optionNames) {\r\n            mapOptionAndCLToCount.put(optionName, new HashMap&lt;CommandLine, Integer&gt;());\r\n        }\r\n    }\r\n        \r\n    /** This stack keeps track of CommandLine instances that are currently \r\n     * working on this annotated class instance. A stack is needed because \r\n     * config files can be nested. */\r\n   private Stack&lt;CommandLine&gt; stackOfCmdLineInstances = new Stack&lt;&gt;();\r\n\r\n    /** Wraps the call to {@link CommandLine#parseArgs(String...)} with some\r\n     * housekeeping so that when an annotated setter method is being called\r\n     * during option parsing, the helper method can look up from which \r\n     * CommandLine instance the call is coming.\r\n     * Because parseArg invocations will be nested recursively for nested config\r\n     * files, the respective CommandLine instances are kept on a stack.\r\n     * @param cl CommandLine instance that&#39;s been about to start parsing\r\n     * @param args options that are to be parsed     */\r\n    public void wrapParseArgsCall(final CommandLine cl, final String[] args) {\r\n        // the brand new CommandLine instance hasn&#39;t passed any values yet,\r\n        // so put 0 in all maps: \r\n        mapOptionAndCLToCount.forEach(\r\n            (String s, Map&lt;CommandLine, Integer&gt; m) -&gt; m.put(cl, 0));\r\n        this.stackOfCmdLineInstances.push(cl);\r\n        cl.parseArgs(args);\r\n        this.stackOfCmdLineInstances.pop();\r\n    }\r\n\r\n    /** This method filters its list parameter, discarding the first n \r\n     * entries (assuming they&#39;ve already been processed), where n is retrieved\r\n     * from a Map instance kept for each option name.\r\n     * As a side effect, the updated number of option values is stored. \r\n     * This method should be called exactly once per invocation of an annotated \r\n     * setter method, and only by setter methods whose options values shouldn&#39;t\r\n     * be set multiple times.\r\n     * \r\n     * @param accumulated List containing all values (old and new ones \r\n     * accumulated) of the option named in the other parameter.\r\n     * @param optionName describes the option that&#39;s being parsed.\r\n     * @return pruned list containing only the &quot;new&quot; values that haven&#39;t\r\n     * been seen before.     */\r\n    private List&lt;String&gt; retainNewOptionValuesOnly(\r\n        final List&lt;String&gt; accumulated, \r\n        final String optionName) {\r\n\r\n        // get the CommandLine instance currently working on this TFConfig instance:\r\n        CommandLine currentCL = this.stackOfCmdLineInstances.peek();\r\n\r\n        // get the CommandLine-&gt;int map for the option name passed:\r\n        Map&lt;CommandLine, Integer&gt; map = mapOptionAndCLToCount.get(optionName);\r\n        if(map == null) {\r\n            throw new IllegalArgumentException(&quot;unknown option: &quot; + optionName);\r\n        }\r\n            \r\n        /* Find out how many option values it has already passed to the setter. */\r\n        int n = map.get(currentCL);\r\n            \r\n        /* discard the first n entries (they have already been processed) of\r\n         * accumulated, keeping only the &quot;new&quot; ones: */ \r\n        List&lt;String&gt; optionValuesNewThisTime = \r\n            accumulated.subList(n, accumulated.size());\r\n        // associate the new number of patterns with the current CommandLine:\r\n        int newNumber = n + optionValuesNewThisTime.size();\r\n        map.put(currentCL, newNumber);\r\n        return optionValuesNewThisTime;\r\n    }\r\n}\r\n```","title":"Using picoCLI to recursively parse configuration files?","body":"<p>Here's my solution; maybe it's useful to someone. The basic approach is to use a new <code>CommandLine</code> instance for each nested config file.</p>\n<p>All code snippets below are from the annotated class; project-specific housekeeping, error checking, path construction etc. were removed.</p>\n<p><strong>Problem #1</strong> is solved by the <code>parseConfigFile(...)</code> method:</p>\n<pre><code>@Option(names = { &quot;configfile&quot;, &quot;cf&quot; } )\npublic void parseConfigfile(final List&lt;String&gt; accumulatedCfgFiles) {\n    // prune the list, keeping only &quot;new&quot; entries that haven't been seen yet:\n    List&lt;String&gt; newCfgFiles = this.cfgfileHelper.retainNewOptionValuesOnly(\n        accumulatedCfgFiles, &quot;configfile&quot;);\n    if(newCfgFiles.isEmpty()) {\n        // another picoCLI quirk: this happens even if there always are values \n        return; \n    } else if(newCfgFiles.size() &gt; 1) {\n        // loop over the files if you want to allow this, or report an error\n    }\n    // some path tinkering left out\n    File cfgFile = new File(newCfgFiles.get(0));\n    if(this.stackOfConfigFiles.contains(cfgFile)) {\n        // report error because of cyclic reference\n    } else {\n        this.stackOfConfigFiles.push(cfgFile);\n        // task a new CommandLine instance with processing that file:\n        CommandLine cmd = new CommandLine(this);\n        String[] optionsFromFile = FileUtils.readLines(cfgFile); // Apache Commons               \n        this.cfgfileHelper.wrapParseArgsCall(cmd, optionsFromFile);\n        this.stackOfConfigFiles.pop();\n    }\n}\n</code></pre>\n<p>The method uses an instance of <code>NestedCfgfileHelper</code> (see source below) which does all the nested-config-specific housekeeping to <strong>solve problem #2</strong>. Your annotated class needs one helper instance as a public attribute. Call the constructor with the names of all &quot;problem&quot; options (those that the helper class should take care of):</p>\n<pre><code>...\npublic final NestedCfgfileHelper cfgfileHelper = \n    new NestedCfgfileHelper(new String[] { &quot;configfile&quot;, &quot;section&quot; });\n...\n</code></pre>\n<p>The following steps make all this work:</p>\n<ul>\n<li>Identify those options that are sensitive to &quot;spurious setter method calls&quot; (most are not);</li>\n<li>If there are any, paste <code>NestedCfgfileHelper</code>'s source to your annotated class as an inner class;</li>\n<li>Create an instance of <code>NestedCfgfileHelper</code> as a public member of your annotated class, telling the constructor the names of all those &quot;problematic&quot; options;</li>\n<li>Never call <code>yourInstanceOfCommandLine.parseArgs(...)</code> directly. Instead, instantiate and initialize it, but pass it to the helper using <code>instanceOfYourAnnotatedClass.cfgfileHelper.wrapParseArgs(...)</code></li>\n<li>Let the setter method(s) for those &quot;difficult&quot; options...\n<ul>\n<li>... first get rid of &quot;old&quot; values from previous invocations by calling <code>retainNewOptionValuesOnly</code>, passing the name of the option;</li>\n<li>... then process the remaining option value(s) normally.</li>\n</ul>\n</li>\n</ul>\n<p>Finally, here's the source of <code>NestedCfgfileHelper</code>:</p>\n<pre><code>/** NestedCfgfileHelper ensures that the values of certain options are \n * processed just once, despite the picoCLI quirk.     */\npublic final class NestedCfgfileHelper {\n    /** Maps an (option name|CommandLine instance) pair to the number of \n     * option values that instance has so far passed for that option. \n     * Because Java doesn't have Maps with two keys, it's implemented as \n     * a Map of Maps:         */\n    private Map&lt;String, Map&lt;CommandLine, Integer&gt;&gt; mapOptionAndCLToCount =\n            new HashMap&lt;&gt;();\n\n    /** Constructs a helper instance and prepares it to handle the options \n     * given as parameters. \n     * \n     * @param optionNames any number of Strings, with each String denoting\n     * one option whose values should be protected against being processed\n     * multiple times */\n    public NestedCfgfileHelper(String... optionNames) {\n        // make one mapping for each option name given:\n        for(String optionName: optionNames) {\n            mapOptionAndCLToCount.put(optionName, new HashMap&lt;CommandLine, Integer&gt;());\n        }\n    }\n        \n    /** This stack keeps track of CommandLine instances that are currently \n     * working on this annotated class instance. A stack is needed because \n     * config files can be nested. */\n   private Stack&lt;CommandLine&gt; stackOfCmdLineInstances = new Stack&lt;&gt;();\n\n    /** Wraps the call to {@link CommandLine#parseArgs(String...)} with some\n     * housekeeping so that when an annotated setter method is being called\n     * during option parsing, the helper method can look up from which \n     * CommandLine instance the call is coming.\n     * Because parseArg invocations will be nested recursively for nested config\n     * files, the respective CommandLine instances are kept on a stack.\n     * @param cl CommandLine instance that's been about to start parsing\n     * @param args options that are to be parsed     */\n    public void wrapParseArgsCall(final CommandLine cl, final String[] args) {\n        // the brand new CommandLine instance hasn't passed any values yet,\n        // so put 0 in all maps: \n        mapOptionAndCLToCount.forEach(\n            (String s, Map&lt;CommandLine, Integer&gt; m) -&gt; m.put(cl, 0));\n        this.stackOfCmdLineInstances.push(cl);\n        cl.parseArgs(args);\n        this.stackOfCmdLineInstances.pop();\n    }\n\n    /** This method filters its list parameter, discarding the first n \n     * entries (assuming they've already been processed), where n is retrieved\n     * from a Map instance kept for each option name.\n     * As a side effect, the updated number of option values is stored. \n     * This method should be called exactly once per invocation of an annotated \n     * setter method, and only by setter methods whose options values shouldn't\n     * be set multiple times.\n     * \n     * @param accumulated List containing all values (old and new ones \n     * accumulated) of the option named in the other parameter.\n     * @param optionName describes the option that's being parsed.\n     * @return pruned list containing only the &quot;new&quot; values that haven't\n     * been seen before.     */\n    private List&lt;String&gt; retainNewOptionValuesOnly(\n        final List&lt;String&gt; accumulated, \n        final String optionName) {\n\n        // get the CommandLine instance currently working on this TFConfig instance:\n        CommandLine currentCL = this.stackOfCmdLineInstances.peek();\n\n        // get the CommandLine-&gt;int map for the option name passed:\n        Map&lt;CommandLine, Integer&gt; map = mapOptionAndCLToCount.get(optionName);\n        if(map == null) {\n            throw new IllegalArgumentException(&quot;unknown option: &quot; + optionName);\n        }\n            \n        /* Find out how many option values it has already passed to the setter. */\n        int n = map.get(currentCL);\n            \n        /* discard the first n entries (they have already been processed) of\n         * accumulated, keeping only the &quot;new&quot; ones: */ \n        List&lt;String&gt; optionValuesNewThisTime = \n            accumulated.subList(n, accumulated.size());\n        // associate the new number of patterns with the current CommandLine:\n        int newNumber = n + optionValuesNewThisTime.size();\n        map.put(currentCL, newNumber);\n        return optionValuesNewThisTime;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20001564,"reputation":31,"user_id":14660421,"display_name":"LTB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657095728,"creation_date":1657062048,"question_id":72876351,"body_markdown":"**Im answering this question below**; I opened it because it is more general than what I originally asked in an [earlier question](https://stackoverflow.com/questions/72139834/possible-side-effects-when-several-commandline-instance-work-on-the-same-insta), so it wouldn&#39;t really fit there. It took me quite some tinkering, so I thought I&#39;d share the solution here.\r\n\r\nMy situation:\r\n\r\nI use picoCLI to parse multiple configuration files that in turn can &quot;include&quot; other config files, to arbitrary depth. Unfortunately, for some of my options the order in which they are parsed does also matter.\r\n\r\nIn my application, there are &quot;section&quot; options like `section=A:teacher` that request section `A` and cause it to be processed (I&#39;ll leave out what that exactly means) for teachers, students or other groups. Among a number of other options, there is also one called `configfile=` that &quot;includes&quot; another option file. That situation can be described by a &quot;tree&quot; of configuration details:\r\n```\r\n# options given on actual command line (&quot;root of tree&quot;)\r\n    section=A:teacher\r\n    configfile=cf-1.txt  # include options from cf-1.txt\r\n        section=A:student # this indentation: options read from cf-1.txt\r\n        section=B:principal\r\n        configfile=cf-2.txt  # read options from cf-2.txt\r\n            section=A:parent # this indentation: options read from cf-2.txt\r\n            section=C:parent\r\n        section=C:teacher  # back in cf-1.txt\r\n    section=D:admin  # back to actual command line\r\n```\r\nI want this tree to be traversed depth-first, with &quot;later&quot; options overwriting &quot;earlier&quot; ones if they refer to the same section name: In the end, section `A` should get `parent` and `C` should get `teacher`.\r\n\r\nFor parsing `configfile=` options, I can&#39;t use picoCLI&#39;s @-syntax because these files are not necessarily in the &quot;current&quot; folder, so I want to control where the application looks for them. That&#39;s **problem #1**. It is solved by the `parseConfigfile` method listed below.\r\n\r\nUnfortunately, picoCLI has a peculiar quirk when an option occurs multiple times in the same file (as `section` does with `A`, `B` and `C`): It does call the annotated setter method each time *but with accumulating option values in the list parameter* of that method. The first call only gets `(A:student)`, the second `(A:student,B:prof)`, the third `(A:student,B:prof,C:teacher)` etc. \r\n\r\nI learned [here](https://github.com/remkop/picocli/issues/438) that this behaviour is intended but for me it is **problem #2** because the repeated evaluation of `section=A:student` messes up my later-options-overwrite-earlier-ones semantics: In the end, `A` is incorrectly configured for `teacher`. For many options (those with &quot;one-dimensional&quot; values), that&#39;s not a problem, but it is for `section=` and, somewhat ironically, also for `configfile=`.","title":"Using picoCLI to recursively parse configuration files?","body":"<p><strong>Im answering this question below</strong>; I opened it because it is more general than what I originally asked in an <a href=\"https://stackoverflow.com/questions/72139834/possible-side-effects-when-several-commandline-instance-work-on-the-same-insta\">earlier question</a>, so it wouldn't really fit there. It took me quite some tinkering, so I thought I'd share the solution here.</p>\n<p>My situation:</p>\n<p>I use picoCLI to parse multiple configuration files that in turn can &quot;include&quot; other config files, to arbitrary depth. Unfortunately, for some of my options the order in which they are parsed does also matter.</p>\n<p>In my application, there are &quot;section&quot; options like <code>section=A:teacher</code> that request section <code>A</code> and cause it to be processed (I'll leave out what that exactly means) for teachers, students or other groups. Among a number of other options, there is also one called <code>configfile=</code> that &quot;includes&quot; another option file. That situation can be described by a &quot;tree&quot; of configuration details:</p>\n<pre><code># options given on actual command line (&quot;root of tree&quot;)\n    section=A:teacher\n    configfile=cf-1.txt  # include options from cf-1.txt\n        section=A:student # this indentation: options read from cf-1.txt\n        section=B:principal\n        configfile=cf-2.txt  # read options from cf-2.txt\n            section=A:parent # this indentation: options read from cf-2.txt\n            section=C:parent\n        section=C:teacher  # back in cf-1.txt\n    section=D:admin  # back to actual command line\n</code></pre>\n<p>I want this tree to be traversed depth-first, with &quot;later&quot; options overwriting &quot;earlier&quot; ones if they refer to the same section name: In the end, section <code>A</code> should get <code>parent</code> and <code>C</code> should get <code>teacher</code>.</p>\n<p>For parsing <code>configfile=</code> options, I can't use picoCLI's @-syntax because these files are not necessarily in the &quot;current&quot; folder, so I want to control where the application looks for them. That's <strong>problem #1</strong>. It is solved by the <code>parseConfigfile</code> method listed below.</p>\n<p>Unfortunately, picoCLI has a peculiar quirk when an option occurs multiple times in the same file (as <code>section</code> does with <code>A</code>, <code>B</code> and <code>C</code>): It does call the annotated setter method each time <em>but with accumulating option values in the list parameter</em> of that method. The first call only gets <code>(A:student)</code>, the second <code>(A:student,B:prof)</code>, the third <code>(A:student,B:prof,C:teacher)</code> etc.</p>\n<p>I learned <a href=\"https://github.com/remkop/picocli/issues/438\" rel=\"nofollow noreferrer\">here</a> that this behaviour is intended but for me it is <strong>problem #2</strong> because the repeated evaluation of <code>section=A:student</code> messes up my later-options-overwrite-earlier-ones semantics: In the end, <code>A</code> is incorrectly configured for <code>teacher</code>. For many options (those with &quot;one-dimensional&quot; values), that's not a problem, but it is for <code>section=</code> and, somewhat ironically, also for <code>configfile=</code>.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657073994,"creation_date":1657073994,"answer_id":72877283,"question_id":72876417,"body_markdown":"\r\n\r\n - Path of the chrome driver exe should be full from drive name.\r\n - You can keep driver exe in project folder and use it by giving path as &quot;./FolderName/chromeDriver.exe&quot;);\r\n\r\n          System.setProperty(&quot;webdriver.chrome.driver, &quot;C//chromedriver.exe);","title":"Unable to find ChromeDriver class with Selenium","body":"<ul>\n<li><p>Path of the chrome driver exe should be full from drive name.</p>\n</li>\n<li><p>You can keep driver exe in project folder and use it by giving path as &quot;./FolderName/chromeDriver.exe&quot;);</p>\n<pre><code>   System.setProperty(&quot;webdriver.chrome.driver, &quot;C//chromedriver.exe);\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":22153768,"reputation":49,"user_id":16401875,"display_name":"Cassie Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657095545,"creation_date":1657062888,"question_id":72876417,"body_markdown":"I have my chromedriver executable file in my MacOS Downloads directory. Here&#39;s my code when I&#39;m setting up for using Selenium\r\n```\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    \r\n    public class Scraper {\r\n        public static void main(String[] args) {\r\n           beforeTest();\r\n            }\r\n         public static void beforeTest() {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/ngan.nguyen/Downloads/chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.navigate().to(&quot;https://www.indeed.com/&quot;);\r\n            driver.manage().window().maximize();\r\n        }\r\n    }\r\n```\r\n\r\nAnd I got this exception: cannot found the ChromeDriver class\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/http/HttpClient$Factory\r\n    \tat Scraper.beforeTest(Scraper.java:39)\r\n    \tat Scraper.main(Scraper.java:32)\r\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.http.HttpClient$Factory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 2 more\r\n\r\nI think it was because my path to chromedriver is not correct in the setProperty method. Chromedriver and Chrome versions are compatible. I also downloaded all needed jar files. How do I get the correct path or is it because of something else? (I&#39;m using IntelliJ)","title":"Unable to find ChromeDriver class with Selenium","body":"<p>I have my chromedriver executable file in my MacOS Downloads directory. Here's my code when I'm setting up for using Selenium</p>\n<pre><code>    import java.lang.*;\n    import java.io.*;\n    import java.util.*;\n    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    \n    \n    public class Scraper {\n        public static void main(String[] args) {\n           beforeTest();\n            }\n         public static void beforeTest() {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/Users/ngan.nguyen/Downloads/chromedriver.exe&quot;);\n            WebDriver driver = new ChromeDriver();\n            driver.navigate().to(&quot;https://www.indeed.com/&quot;);\n            driver.manage().window().maximize();\n        }\n    }\n</code></pre>\n<p>And I got this exception: cannot found the ChromeDriver class</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/remote/http/HttpClient$Factory\n    at Scraper.beforeTest(Scraper.java:39)\n    at Scraper.main(Scraper.java:32)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.http.HttpClient$Factory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 2 more\n</code></pre>\n<p>I think it was because my path to chromedriver is not correct in the setProperty method. Chromedriver and Chrome versions are compatible. I also downloaded all needed jar files. How do I get the correct path or is it because of something else? (I'm using IntelliJ)</p>\n"},{"tags":["java","collections","reference"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657094342,"creation_date":1657094342,"answer_id":72879817,"question_id":72879777,"body_markdown":"Instead of adding the list directly to your dequeue, you could add a copy:\r\n\r\n```java\r\nDeque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\r\ndeque.addLast(new ArrayList&lt;&gt;(list));\r\nlist.add(11);\r\ndeque.addLast(new ArrayList&lt;&gt;(list));\r\nlist.add(13);\r\ndeque.addLast(new ArrayList&lt;&gt;(list));\r\n```","title":"Setting values to collection but not reference","body":"<p>Instead of adding the list directly to your dequeue, you could add a copy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Deque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\ndeque.addLast(new ArrayList&lt;&gt;(list));\nlist.add(11);\ndeque.addLast(new ArrayList&lt;&gt;(list));\nlist.add(13);\ndeque.addLast(new ArrayList&lt;&gt;(list));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657095110,"creation_date":1657094611,"answer_id":72879865,"question_id":72879777,"body_markdown":"You can add new copy of list to your deque everytime.:\r\n\r\n\r\n\tDeque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\r\n\tdeque.addLast(list.stream().toList());\r\n\tlist.add(11);\r\n\tdeque.addLast(list.stream().toList());\r\n\tlist.add(13);\r\n\tdeque.addLast(list.stream().toList());\r\n\tdeque.stream().forEach(System.out::println);\r\n\r\nnote : `toList()` is available from java16. \r\n\r\nYou can replace `list.stream().toList()` call with `list.stream().collect(Collectors.toList())` if you use java8+.","title":"Setting values to collection but not reference","body":"<p>You can add new copy of list to your deque everytime.:</p>\n<pre><code>Deque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\ndeque.addLast(list.stream().toList());\nlist.add(11);\ndeque.addLast(list.stream().toList());\nlist.add(13);\ndeque.addLast(list.stream().toList());\ndeque.stream().forEach(System.out::println);\n</code></pre>\n<p>note : <code>toList()</code> is available from java16.</p>\n<p>You can replace <code>list.stream().toList()</code> call with <code>list.stream().collect(Collectors.toList())</code> if you use java8+.</p>\n"}],"owner":{"account_id":25228306,"reputation":35,"user_id":19119664,"display_name":"Ensei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72879865,"answer_count":2,"score":1,"last_activity_date":1657095110,"creation_date":1657094115,"question_id":72879777,"body_markdown":"I would be grateful if you help me with next problem.\r\n\r\nI have such code:\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(5);\r\nlist.add(7);\r\nlist.add(9);\r\nDeque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\r\ndeque.addLast(list);\r\nlist.add(11);\r\ndeque.addLast(list);\r\nlist.add(13);\r\ndeque.addLast(list);\r\ndeque.stream().forEach(System.out::println)\r\n```\r\nI need to get next result:\r\n```\r\n[5, 7, 9]\r\n[5, 7, 9, 11]\r\n[5, 7, 9, 11, 13]\r\n```\r\nHowever, real result is:\r\n```\r\n[5, 7, 9, 11, 13]\r\n[5, 7, 9, 11, 13]\r\n[5, 7, 9, 11, 13]\r\n```\r\nI researched this issue and found that the core problem is that collections in Java save not values but references so modifying objects after setting its to collections causes their modification in collections. \r\n\r\nIs there a way to solve this problem and get result as I mentioned above? ","title":"Setting values to collection but not reference","body":"<p>I would be grateful if you help me with next problem.</p>\n<p>I have such code:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\nlist.add(5);\nlist.add(7);\nlist.add(9);\nDeque&lt;List&lt;Integer&gt;&gt; deque = new ArrayDeque&lt;&gt;();\ndeque.addLast(list);\nlist.add(11);\ndeque.addLast(list);\nlist.add(13);\ndeque.addLast(list);\ndeque.stream().forEach(System.out::println)\n</code></pre>\n<p>I need to get next result:</p>\n<pre><code>[5, 7, 9]\n[5, 7, 9, 11]\n[5, 7, 9, 11, 13]\n</code></pre>\n<p>However, real result is:</p>\n<pre><code>[5, 7, 9, 11, 13]\n[5, 7, 9, 11, 13]\n[5, 7, 9, 11, 13]\n</code></pre>\n<p>I researched this issue and found that the core problem is that collections in Java save not values but references so modifying objects after setting its to collections causes their modification in collections.</p>\n<p>Is there a way to solve this problem and get result as I mentioned above?</p>\n"},{"tags":["java","user-interface","intellij-idea","user-experience"],"answers":[{"tags":[],"owner":{"account_id":1112584,"reputation":629,"user_id":1102761,"display_name":"jtonic"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1443727390,"creation_date":1443727390,"answer_id":32895308,"question_id":32886132,"body_markdown":"Usually I use the Scopes support for filtering out/in elements. \r\nI like this support and it can be use as the scope for other tool windows such as Hierarchy Call, and Find in path dialog. Moreover you can have many scopes and easily switch between them. The support for scratch files and version control - change sets - benefits from scopes support.\r\n\r\nIn order to create a new Scope:\r\n\r\n1. open Settings &gt; Appearance &amp; Behavior &gt; Scopes\r\n\r\n2. Create a new scope by clicking on + icon\r\n \r\n3. and then use include/exclude (recursively)\r\n\r\nKind regards","title":"How to hide unnecessary files from intellij project view?","body":"<p>Usually I use the Scopes support for filtering out/in elements. \nI like this support and it can be use as the scope for other tool windows such as Hierarchy Call, and Find in path dialog. Moreover you can have many scopes and easily switch between them. The support for scratch files and version control - change sets - benefits from scopes support.</p>\n\n<p>In order to create a new Scope:</p>\n\n<ol>\n<li><p>open Settings > Appearance &amp; Behavior > Scopes</p></li>\n<li><p>Create a new scope by clicking on + icon</p></li>\n<li><p>and then use include/exclude (recursively)</p></li>\n</ol>\n\n<p>Kind regards</p>\n"},{"tags":[],"owner":{"account_id":1133503,"reputation":3630,"user_id":1119043,"accept_rate":0,"display_name":"belgoros"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1657095061,"creation_date":1657095061,"answer_id":72879959,"question_id":32886132,"body_markdown":"In IntelliJ, version 2022.1.3 Ultimate Edition:\r\n- Settings -&gt; Editor-&gt; File types\r\n- select &quot;Ignored Files and Folders&quot; tab\r\n- Click on the &quot;+&quot; sign to add the file extension to be ignored (files with this extension will not be displayed in the &quot;Project&quot; view).","title":"How to hide unnecessary files from intellij project view?","body":"<p>In IntelliJ, version 2022.1.3 Ultimate Edition:</p>\n<ul>\n<li>Settings -&gt; Editor-&gt; File types</li>\n<li>select &quot;Ignored Files and Folders&quot; tab</li>\n<li>Click on the &quot;+&quot; sign to add the file extension to be ignored (files with this extension will not be displayed in the &quot;Project&quot; view).</li>\n</ul>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4120,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":32895308,"answer_count":2,"score":8,"last_activity_date":1657095061,"creation_date":1443697874,"question_id":32886132,"body_markdown":"Given a sample gradle project with project structure as shown:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see there are bunch of stuff you actually dont ever need to see in idea but you need them to exist...\r\n\r\nI know about ignored file/folder types under `Editor/File Types` but those are affecting the libs and projects, idea will ignore them everywhere while i only need to hide few unnecessary entries in project view.\r\n\r\n**Primary question : how do we hide them from project view?**\r\n\r\nAlso for very big projects somethimes it is easy if some related modules are shown one after another... but do not do like that alphabeticaly.\r\n\r\n**Secondary question : is it possible to have customized order in project view?**\r\n\r\nI&#39;m using `Intellij 15 EAP IU-142.5047.6`\r\n\r\n  [1]: http://i.stack.imgur.com/rxt6B.png","title":"How to hide unnecessary files from intellij project view?","body":"<p>Given a sample gradle project with project structure as shown:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rxt6B.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rxt6B.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see there are bunch of stuff you actually dont ever need to see in idea but you need them to exist...</p>\n\n<p>I know about ignored file/folder types under <code>Editor/File Types</code> but those are affecting the libs and projects, idea will ignore them everywhere while i only need to hide few unnecessary entries in project view.</p>\n\n<p><strong>Primary question : how do we hide them from project view?</strong></p>\n\n<p>Also for very big projects somethimes it is easy if some related modules are shown one after another... but do not do like that alphabeticaly.</p>\n\n<p><strong>Secondary question : is it possible to have customized order in project view?</strong></p>\n\n<p>I'm using <code>Intellij 15 EAP IU-142.5047.6</code></p>\n"},{"tags":["java","angular","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657044270,"creation_date":1657044270,"answer_id":72873756,"question_id":72873733,"body_markdown":"You need import `CommonModule` into your module, or component if you are using v14 standalone components. Share a stackblitz example of the error to better understand. ","title":"issue in using ngfor, Error : No directive is matched on attribute ngFor Angular 14 used","body":"<p>You need import <code>CommonModule</code> into your module, or component if you are using v14 standalone components. Share a stackblitz example of the error to better understand.</p>\n"},{"tags":[],"owner":{"account_id":7459583,"reputation":1362,"user_id":5671595,"accept_rate":67,"display_name":"Abdul Basit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657045101,"creation_date":1657045101,"answer_id":72873891,"question_id":72873733,"body_markdown":"Please import CommonModule inside your custom module. After that include it inside the imports array.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n\r\n    import {CommonModule} from &#39;@angular/common&#39;;\r\n\r\n    imports: [\r\n      CommonModule\r\n    ]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"issue in using ngfor, Error : No directive is matched on attribute ngFor Angular 14 used","body":"<p>Please import CommonModule inside your custom module. After that include it inside the imports array.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {CommonModule} from '@angular/common';\n\nimports: [\n  CommonModule\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657094929,"creation_date":1657094388,"answer_id":72879826,"question_id":72873733,"body_markdown":"I found the problem. After importing **CommonModule** If it doesn&#39;t work after doing that, then check the **CORS** policy. Give Access to **Access-Control-Allow-Origin**.\r\n\r\n`Access-Control-Allow-Origin: * `  \r\n`Access-Control-Allow-Origin: http://example.com:8080`","title":"issue in using ngfor, Error : No directive is matched on attribute ngFor Angular 14 used","body":"<p>I found the problem. After importing <strong>CommonModule</strong> If it doesn't work after doing that, then check the <strong>CORS</strong> policy. Give Access to <strong>Access-Control-Allow-Origin</strong>.</p>\n<p><code>Access-Control-Allow-Origin: * </code><br />\n<code>Access-Control-Allow-Origin: http://example.com:8080</code></p>\n"}],"owner":{"account_id":20471625,"reputation":11,"user_id":15021895,"display_name":"Thushan kavinda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1657094929,"creation_date":1657044157,"question_id":72873733,"body_markdown":"```    \r\n &lt;tbody&gt;\r\n   &lt;tr *ngFor=&quot;let employee of employees&quot;&gt;\r\n     &lt;td&gt;{{ employee.firstName }}&lt;/td&gt;\r\n     &lt;td&gt;{{ employee.lastName }}&lt;/td&gt;\r\n     &lt;td&gt;{{ employee.emailId }}&lt;/td&gt;\r\n   &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n```\r\n\r\nim using ngfor But Error sshowing like No directive is matched on attribute ngFor","title":"issue in using ngfor, Error : No directive is matched on attribute ngFor Angular 14 used","body":"<pre><code> &lt;tbody&gt;\n   &lt;tr *ngFor=&quot;let employee of employees&quot;&gt;\n     &lt;td&gt;{{ employee.firstName }}&lt;/td&gt;\n     &lt;td&gt;{{ employee.lastName }}&lt;/td&gt;\n     &lt;td&gt;{{ employee.emailId }}&lt;/td&gt;\n   &lt;/tr&gt;\n  &lt;/tbody&gt;\n</code></pre>\n<p>im using ngfor But Error sshowing like No directive is matched on attribute ngFor</p>\n"},{"tags":["java","reflection","annotations","reflections"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656953896,"post_id":72828406,"comment_id":128690878,"body_markdown":"Is the code to process the annotation at runtime under your control?","body":"Is the code to process the annotation at runtime under your control?"},{"owner":{"account_id":25699344,"reputation":46,"user_id":19459591,"display_name":"DaFinishGames"},"score":0,"creation_date":1657048792,"post_id":72828406,"comment_id":128715674,"body_markdown":"Yes it is, consider that all the code is in the same project","body":"Yes it is, consider that all the code is in the same project"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657094887,"creation_date":1657094887,"answer_id":72879921,"question_id":72828406,"body_markdown":"There is no way to specify a custom logic in an annotation, so you have to leave it to the code processing the annotation at runtime, however, you can’t use `null` as a marker value either.\r\n\r\nThe only way to tell your annotation processing tool that custom processing is required, is by choosing a dedicated marker type as default value. This might be a type that would otherwise never occur as a regular annotation value, e.g. `void.class`, or you create a class solely for serving as the marker.\r\n\r\nTo show a similar real life example, [JUnit’s `@Test` annotation] has an `expected` element denoting an expected type to be thrown. The default, supposed to express that no exception is expected, can’t be `null` nor a type outside the `Throwable` hierarchy as the value must conform to the declared type `Class&lt;? extends Throwable&gt;`. Therefore, the default value is a dedicated type [`Test.None`] that is never thrown and treated specially by the framework when processing the annotation.\r\n\r\nFor your case, you have to decide for a suitable marker type or create a dedicated type and adapt the processing code to check for the type. E.g.\r\n\r\n```java\r\npublic final class UseFieldType {\r\n    private UseFieldType() {}\r\n}\r\n\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface YourAnnotation {\r\n    Class&lt;?&gt; className() default UseFieldType.class;\r\n}\r\nclass YourCodeUsedAtRuntime {\r\n    public static Optional&lt;Class&lt;?&gt;&gt; getAnnotationValue(Field f) {\r\n       YourAnnotation a = f.getAnnotation(YourAnnotation.class);\r\n       if(a == null) return Optional.empty();\r\n\r\n       Class&lt;?&gt; type = a.className();\r\n       if(type == UseFieldType.class) type = f.getType();\r\n       return Optional.of(type);\r\n    }\r\n}\r\nclass Example {\r\n    @YourAnnotation String string;\r\n    @YourAnnotation(className = Pattern.class) String regEx;\r\n    String none;\r\n\r\n    public static void main(String[] args) {\r\n        for(Field f: Example.class.getDeclaredFields()) {\r\n            System.out.println(f.getName() + &quot;: &quot;\r\n                + YourCodeUsedAtRuntime.getAnnotationValue(f)\r\n                      .map(Class::getName).orElse(&quot;No annotation&quot;));\r\n        }\r\n    }\r\n}\r\n```\r\n```none\r\nstring: java.lang.String\r\nregEx: java.util.regex.Pattern\r\nnone: No annotation\r\n```\r\n\r\n[JUnit’s `@Test` annotation]: https://junit.org/junit4/javadoc/latest/org/junit/Test.html\r\n\r\n[`Test.None`]: https://junit.org/junit4/javadoc/latest/org/junit/Test.None.html","title":"How to set default value to annotation variable as the class type of the variable annotated?","body":"<p>There is no way to specify a custom logic in an annotation, so you have to leave it to the code processing the annotation at runtime, however, you can’t use <code>null</code> as a marker value either.</p>\n<p>The only way to tell your annotation processing tool that custom processing is required, is by choosing a dedicated marker type as default value. This might be a type that would otherwise never occur as a regular annotation value, e.g. <code>void.class</code>, or you create a class solely for serving as the marker.</p>\n<p>To show a similar real life example, <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/Test.html\" rel=\"nofollow noreferrer\">JUnit’s <code>@Test</code> annotation</a> has an <code>expected</code> element denoting an expected type to be thrown. The default, supposed to express that no exception is expected, can’t be <code>null</code> nor a type outside the <code>Throwable</code> hierarchy as the value must conform to the declared type <code>Class&lt;? extends Throwable&gt;</code>. Therefore, the default value is a dedicated type <a href=\"https://junit.org/junit4/javadoc/latest/org/junit/Test.None.html\" rel=\"nofollow noreferrer\"><code>Test.None</code></a> that is never thrown and treated specially by the framework when processing the annotation.</p>\n<p>For your case, you have to decide for a suitable marker type or create a dedicated type and adapt the processing code to check for the type. E.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class UseFieldType {\n    private UseFieldType() {}\n}\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface YourAnnotation {\n    Class&lt;?&gt; className() default UseFieldType.class;\n}\nclass YourCodeUsedAtRuntime {\n    public static Optional&lt;Class&lt;?&gt;&gt; getAnnotationValue(Field f) {\n       YourAnnotation a = f.getAnnotation(YourAnnotation.class);\n       if(a == null) return Optional.empty();\n\n       Class&lt;?&gt; type = a.className();\n       if(type == UseFieldType.class) type = f.getType();\n       return Optional.of(type);\n    }\n}\nclass Example {\n    @YourAnnotation String string;\n    @YourAnnotation(className = Pattern.class) String regEx;\n    String none;\n\n    public static void main(String[] args) {\n        for(Field f: Example.class.getDeclaredFields()) {\n            System.out.println(f.getName() + &quot;: &quot;\n                + YourCodeUsedAtRuntime.getAnnotationValue(f)\n                      .map(Class::getName).orElse(&quot;No annotation&quot;));\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>string: java.lang.String\nregEx: java.util.regex.Pattern\nnone: No annotation\n</code></pre>\n"}],"owner":{"account_id":25699344,"reputation":46,"user_id":19459591,"display_name":"DaFinishGames"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72879921,"answer_count":1,"score":3,"last_activity_date":1657094887,"creation_date":1656674047,"question_id":72828406,"body_markdown":"I have a custom annotation with a single variable.\r\n\r\nI use it to annotate attributes in a class and what i need is that the annotation default value for the variable, be the type of the attribute declared. Here the example:\r\n\r\nAnnotation:\r\n\r\n```\r\n@Target(ElementType.FIELD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface Annotation{\r\n    Class&lt;?&gt; className() default ???????; // &lt;- here i need to set something that tells my annotation to take the class of the attribute annotated\r\n}\r\n```\r\n\r\nClass using Annotation:\r\n\r\n```\r\npublic class Main {\r\n\r\n    @Annotation\r\n    private AnotherClass annotatedAttribute;\r\n\r\n    //other code\r\n}\r\n```\r\n\r\nAnd so what i need is that when i get the annotatedAttribute field and i get its annotation and its value of the className() variable, the default value should be the equivalent to AnotherClass.class unless i state otherwise in the declaration of the @Annotation\r\n\r\nE.g:\r\n```\r\n@Annotation(classname= YetAnotherClass.class)\r\n```\r\n\r\nIs there a way to do this?\r\n\r\nI saw some posts talking about an annotation processor, but in my case i don&#39;t want to generate new classes files since my class already exist and i&#39;m fetching the field and the annotation through reflection (so i&#39;m at runtime level)\r\n\r\n","title":"How to set default value to annotation variable as the class type of the variable annotated?","body":"<p>I have a custom annotation with a single variable.</p>\n<p>I use it to annotate attributes in a class and what i need is that the annotation default value for the variable, be the type of the attribute declared. Here the example:</p>\n<p>Annotation:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Annotation{\n    Class&lt;?&gt; className() default ???????; // &lt;- here i need to set something that tells my annotation to take the class of the attribute annotated\n}\n</code></pre>\n<p>Class using Annotation:</p>\n<pre><code>public class Main {\n\n    @Annotation\n    private AnotherClass annotatedAttribute;\n\n    //other code\n}\n</code></pre>\n<p>And so what i need is that when i get the annotatedAttribute field and i get its annotation and its value of the className() variable, the default value should be the equivalent to AnotherClass.class unless i state otherwise in the declaration of the @Annotation</p>\n<p>E.g:</p>\n<pre><code>@Annotation(classname= YetAnotherClass.class)\n</code></pre>\n<p>Is there a way to do this?</p>\n<p>I saw some posts talking about an annotation processor, but in my case i don't want to generate new classes files since my class already exist and i'm fetching the field and the annotation through reflection (so i'm at runtime level)</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":16585247,"reputation":541,"user_id":11984843,"display_name":"Ketan Pardeshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657093934,"creation_date":1657093934,"answer_id":72879750,"question_id":72878783,"body_markdown":"You cannot perform concatination in the property file, You have to handle the concatination in code where you are using it like below. \r\n\r\n    appHostIP = 172.22.XX.XX\r\n    adminAppURL = :9049/adminApp\r\n\r\n    String url = &quot;http://&quot; + &quot;prop.getProperty(&quot;appHostIP&quot;)+ prop.getProperty(&quot;appURL&quot;);","title":"reuse parameters defined within config.parmeters file in java","body":"<p>You cannot perform concatination in the property file, You have to handle the concatination in code where you are using it like below.</p>\n<pre><code>appHostIP = 172.22.XX.XX\nadminAppURL = :9049/adminApp\n\nString url = &quot;http://&quot; + &quot;prop.getProperty(&quot;appHostIP&quot;)+ prop.getProperty(&quot;appURL&quot;);\n</code></pre>\n"}],"owner":{"account_id":22490916,"reputation":303,"user_id":16688654,"display_name":"rino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657093934,"creation_date":1657088748,"question_id":72878783,"body_markdown":"I have a config properties file in a java project created in eclipse.\r\n\r\nBelow are the contents in the properties file.\r\n\r\n    adminApp= testAdminDemo\r\n    customerApp = testCustDemo\r\n    appHostIP = 172.22.XX.XX\r\n    adminAppURL = http://appHostIP:9049/adminApp\r\n    customerAppURL = http://appHostIP:9049/customerApp\r\n\r\nWhen the appURL parameter is read from a Java class, \r\n\r\n    Properties prop = new Properties();\r\n    FileInputStream f = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\config.properties&quot;);\r\n    \t\t\tprop.load(f);\r\n    \t\t\tString url = prop.getProperty(&quot;appURL&quot;);\r\n    System.out.println(&quot;URL: &quot; + url);\r\n\r\nthe output is the same value mentioned for parameter &#39;url&#39; in config.parameters file:\r\n\r\n    http://appHostIP:9049/adminApp\r\n\r\nActually, I expected the output to be like:\r\n\r\n    http://172.22.XX.XX:9049/testAdminDemo\r\n\r\nIs there anything wrong in this approach? \r\n\r\nI don&#39;t want to read host ip and app name in the java class file and then form a string. Instead, the required URl should get formed in the properties file as need to deal with different apps - admin, customer, etc.\r\n\r\n\r\n","title":"reuse parameters defined within config.parmeters file in java","body":"<p>I have a config properties file in a java project created in eclipse.</p>\n<p>Below are the contents in the properties file.</p>\n<pre><code>adminApp= testAdminDemo\ncustomerApp = testCustDemo\nappHostIP = 172.22.XX.XX\nadminAppURL = http://appHostIP:9049/adminApp\ncustomerAppURL = http://appHostIP:9049/customerApp\n</code></pre>\n<p>When the appURL parameter is read from a Java class,</p>\n<pre><code>Properties prop = new Properties();\nFileInputStream f = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\config.properties&quot;);\n            prop.load(f);\n            String url = prop.getProperty(&quot;appURL&quot;);\nSystem.out.println(&quot;URL: &quot; + url);\n</code></pre>\n<p>the output is the same value mentioned for parameter 'url' in config.parameters file:</p>\n<pre><code>http://appHostIP:9049/adminApp\n</code></pre>\n<p>Actually, I expected the output to be like:</p>\n<pre><code>http://172.22.XX.XX:9049/testAdminDemo\n</code></pre>\n<p>Is there anything wrong in this approach?</p>\n<p>I don't want to read host ip and app name in the java class file and then form a string. Instead, the required URl should get formed in the properties file as need to deal with different apps - admin, customer, etc.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":20084784,"reputation":85,"user_id":14726617,"display_name":"MrLegendGaming"},"score":0,"creation_date":1657083247,"post_id":72878069,"comment_id":128722019,"body_markdown":"I don&#39;t get what&#39;s wrong?","body":"I don&#39;t get what&#39;s wrong?"},{"owner":{"account_id":10150295,"reputation":1257,"user_id":7497127,"accept_rate":67,"display_name":"JAMSHAID"},"score":0,"creation_date":1657113296,"post_id":72878069,"comment_id":128732150,"body_markdown":"Where are you getting the error? Any error logs?","body":"Where are you getting the error? Any error logs?"}],"owner":{"account_id":25737106,"reputation":1,"user_id":19491651,"display_name":"KingBennyBoy87"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657093781,"creation_date":1657082816,"question_id":72878069,"body_markdown":"This is my first class and first time using Java. I also need to display &#39;Employee Name, Rate of Pay, Hours Worked, Overtime Worked, Gross Pay, Total amount of deductions, &amp; Net Pay in the program as well.\r\n\r\n```\r\npackage calculatepayprogram;\r\n\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * Calculate Pay Program\r\n * CPT 307: Data Structures &amp; Algorithms\r\n * 7/5/2022\r\n */\r\npublic class CalculatePayProgram{\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        Scanner reader = new Scanner(System.in);\r\n        \r\n        double RateOfPay;\r\n        int HoursWorked;\r\n        double GrossPay;\r\n        double OvertimeHours;\r\n        double OvertimePay;\r\n        double NetPay;\r\n        double TotalDeductions;\r\n        String name;\r\n        \r\n        System.out.println(&quot;Enter Your Name: &quot;);\r\n        name = reader.nextLine();\r\n        \r\n        System.out.print(&quot;Enter Your Pay Per Hour: &quot;);\r\n        RateOfPay = reader.nextDouble();\r\n        \r\n        System.out.print(&quot;Enter Your Hours Worked: &quot;);\r\n        HoursWorked = reader.nextInt();\r\n        \r\n        System.out.print(&quot;Enter Your Overtime Hours Worked: &quot;);\r\n        OvertimeHours = reader.nextDouble();\r\n        \r\n        GrossPay = RateOfPay * HoursWorked;\r\n        \r\n        OvertimePay = OvertimeHours * 1.5 * RateOfPay;\r\n        \r\n        double Pay = OvertimePay + GrossPay;\r\n        \r\n        System.out.println(&quot;Your Gross Pay For This Week Will Be $&quot; + Pay);\r\n        \r\n        double FederalTax = .15 * Pay;\r\n        double StateTax = .0307 * Pay;\r\n        double Medicare = .0145 * Pay;\r\n        double SocialSecurity = .062 * Pay;\r\n        double Unemployment = .0007 * Pay;\r\n        double TotalDeduct = FederalTax + StateTax + Medicare + SocialSecurity + Unemployment;\r\n        \r\n        System.out.println(&quot;Your Total Deductions For This Week Will Be $&quot; + TotalDeduct);\r\n        \r\n        NetPay = Pay - TotalDeduct;\r\n        \r\n        System.out.println(&quot;Your Net Pay For This Week Will Be $&quot; + NetPay);\r\n    }   \r\n}\r\n```","title":"How to fix program and NOT receive &quot;Command Execution Failed&quot; error message in Java?","body":"<p>This is my first class and first time using Java. I also need to display 'Employee Name, Rate of Pay, Hours Worked, Overtime Worked, Gross Pay, Total amount of deductions, &amp; Net Pay in the program as well.</p>\n<pre><code>package calculatepayprogram;\n\nimport java.util.Scanner;\n\n/**\n * Calculate Pay Program\n * CPT 307: Data Structures &amp; Algorithms\n * 7/5/2022\n */\npublic class CalculatePayProgram{\n    \n    \n    public static void main(String[] args) {\n        Scanner reader = new Scanner(System.in);\n        \n        double RateOfPay;\n        int HoursWorked;\n        double GrossPay;\n        double OvertimeHours;\n        double OvertimePay;\n        double NetPay;\n        double TotalDeductions;\n        String name;\n        \n        System.out.println(&quot;Enter Your Name: &quot;);\n        name = reader.nextLine();\n        \n        System.out.print(&quot;Enter Your Pay Per Hour: &quot;);\n        RateOfPay = reader.nextDouble();\n        \n        System.out.print(&quot;Enter Your Hours Worked: &quot;);\n        HoursWorked = reader.nextInt();\n        \n        System.out.print(&quot;Enter Your Overtime Hours Worked: &quot;);\n        OvertimeHours = reader.nextDouble();\n        \n        GrossPay = RateOfPay * HoursWorked;\n        \n        OvertimePay = OvertimeHours * 1.5 * RateOfPay;\n        \n        double Pay = OvertimePay + GrossPay;\n        \n        System.out.println(&quot;Your Gross Pay For This Week Will Be $&quot; + Pay);\n        \n        double FederalTax = .15 * Pay;\n        double StateTax = .0307 * Pay;\n        double Medicare = .0145 * Pay;\n        double SocialSecurity = .062 * Pay;\n        double Unemployment = .0007 * Pay;\n        double TotalDeduct = FederalTax + StateTax + Medicare + SocialSecurity + Unemployment;\n        \n        System.out.println(&quot;Your Total Deductions For This Week Will Be $&quot; + TotalDeduct);\n        \n        NetPay = Pay - TotalDeduct;\n        \n        System.out.println(&quot;Your Net Pay For This Week Will Be $&quot; + NetPay);\n    }   \n}\n</code></pre>\n"},{"tags":["java","algorithm","math","floating-point","fractions"],"comments":[{"owner":{"account_id":51389,"reputation":14858,"user_id":153545,"accept_rate":92,"display_name":"pavium"},"score":1,"creation_date":1257076217,"post_id":1656945,"comment_id":1528683,"body_markdown":"245/78 is a better approximation to PI with byte-sized numerator and denominator.","body":"245/78 is a better approximation to PI with byte-sized numerator and denominator."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":1,"creation_date":1257076732,"post_id":1656945,"comment_id":1528704,"body_markdown":"Note that Java bytes are signed, so 245 isn&#39;t a byte value in Java.","body":"Note that Java bytes are signed, so 245 isn&#39;t a byte value in Java."},{"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"score":0,"creation_date":1257082026,"post_id":1656945,"comment_id":1528915,"body_markdown":"This should probably be tagged &quot;math&quot;. I&#39;d do it myself, but I don&#39;t have sufficient reputation yet.","body":"This should probably be tagged &quot;math&quot;. I&#39;d do it myself, but I don&#39;t have sufficient reputation yet."},{"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"score":1,"creation_date":1257093828,"post_id":1656945,"comment_id":1529413,"body_markdown":"&quot;Note that Java bytes are signed, so 245 isn&#39;t a byte value in Java&quot; - Oops. Guess I wanted unsigned bytes","body":"&quot;Note that Java bytes are signed, so 245 isn&#39;t a byte value in Java&quot; - Oops. Guess I wanted unsigned bytes"},{"owner":{"account_id":164450,"reputation":63033,"user_id":387194,"accept_rate":82,"display_name":"jcubic"},"score":0,"creation_date":1585209516,"post_id":1656945,"comment_id":107682612,"body_markdown":"Check rosetta code it have implementation in different languages https://rosettacode.org/wiki/Convert_decimal_number_to_rational","body":"Check rosetta code it have implementation in different languages <a href=\"https://rosettacode.org/wiki/Convert_decimal_number_to_rational\" rel=\"nofollow noreferrer\">rosettacode.org/wiki/Convert_decimal_number_to_rational</a>"}],"answers":[{"tags":[],"owner":{"account_id":49939,"reputation":511957,"user_id":148870,"display_name":"Amber"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1257075557,"creation_date":1257075557,"answer_id":1656955,"question_id":1656945,"body_markdown":"How worried are you about efficiency? If you&#39;re not calling this conversion function 100s of times per second or more, then it probably wouldn&#39;t be all that hard to brute-force through every possible denominator (most likely only 255 of them) and find which one gives the closest approximation (computing the numerator to go with the denominator is constant time).","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>How worried are you about efficiency? If you're not calling this conversion function 100s of times per second or more, then it probably wouldn't be all that hard to brute-force through every possible denominator (most likely only 255 of them) and find which one gives the closest approximation (computing the numerator to go with the denominator is constant time).</p>\n"},{"tags":[],"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1393360254,"creation_date":1257081774,"answer_id":1657162,"question_id":1656945,"body_markdown":"I&#39;ve written some code (in Java, even) to do just the thing you&#39;re asking for. In my case, I needed to display a scaling factor as both a percentage and a ratio. The most familiar example of this is the zoom dialog you see in image editors, such as the GIMP.\r\n\r\nYou can find my code &lt;a href=&quot;http://sourceforge.net/p/vassalengine/svn/9019/tree/VASSAL-src/branches/3.1/src/VASSAL/build/module/map/Zoomer.java#1167&quot;&gt;here&lt;/a&gt;, in the updateRatio() method starting at line 1161. You can simply use it, so long as the LGPL license works for you. What I did essentially follows what&#39;s done in the GIMP---this is one of those things where there&#39;s pretty much only one efficient, sensible way to do it.","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>I've written some code (in Java, even) to do just the thing you're asking for. In my case, I needed to display a scaling factor as both a percentage and a ratio. The most familiar example of this is the zoom dialog you see in image editors, such as the GIMP.</p>\n\n<p>You can find my code <a href=\"http://sourceforge.net/p/vassalengine/svn/9019/tree/VASSAL-src/branches/3.1/src/VASSAL/build/module/map/Zoomer.java#1167\" rel=\"nofollow noreferrer\">here</a>, in the updateRatio() method starting at line 1161. You can simply use it, so long as the LGPL license works for you. What I did essentially follows what's done in the GIMP---this is one of those things where there's pretty much only one efficient, sensible way to do it.</p>\n"},{"tags":[],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1257097202,"creation_date":1257095312,"answer_id":1657688,"question_id":1656945,"body_markdown":"Here&#39;s the code I used in the end (based on uckelman&#39;s code)\r\n\r\n    public static int[] GetFraction(double input)\r\n    {\r\n    \tint p0 = 1;\r\n    \tint q0 = 0;\r\n    \tint p1 = (int) Math.floor(input);\r\n    \tint q1 = 1;\r\n    \tint p2;\r\n    \tint q2;\r\n    \r\n    \tdouble r = input - p1;\r\n    \tdouble next_cf;\r\n    \twhile(true)\r\n    \t{\r\n    \t\tr = 1.0 / r;\r\n    \t\tnext_cf = Math.floor(r);\r\n    \t\tp2 = (int) (next_cf * p1 + p0);\r\n    \t\tq2 = (int) (next_cf * q1 + q0);\r\n    \r\n    \t\t// Limit the numerator and denominator to be 256 or less\r\n    \t\tif(p2 &gt; 256 || q2 &gt; 256)\r\n    \t\t\tbreak;\r\n    \r\n    \t\t// remember the last two fractions\r\n    \t\tp0 = p1;\r\n    \t\tp1 = p2;\r\n    \t\tq0 = q1;\r\n    \t\tq1 = q2;\r\n    \r\n    \t\tr -= next_cf;\r\n    \t}\r\n    \r\n    \tinput = (double) p1 / q1;\r\n    \t// hard upper and lower bounds for ratio\r\n    \tif(input &gt; 256.0)\r\n    \t{\r\n    \t\tp1 = 256;\r\n    \t\tq1 = 1;\r\n    \t}\r\n    \telse if(input &lt; 1.0 / 256.0)\r\n    \t{\r\n    \t\tp1 = 1;\r\n    \t\tq1 = 256;\r\n    \t}\r\n    \treturn new int[] {p1, q1};\r\n    }\r\n\r\nThanks for those who helped","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>Here's the code I used in the end (based on uckelman's code)</p>\n\n<pre><code>public static int[] GetFraction(double input)\n{\n    int p0 = 1;\n    int q0 = 0;\n    int p1 = (int) Math.floor(input);\n    int q1 = 1;\n    int p2;\n    int q2;\n\n    double r = input - p1;\n    double next_cf;\n    while(true)\n    {\n        r = 1.0 / r;\n        next_cf = Math.floor(r);\n        p2 = (int) (next_cf * p1 + p0);\n        q2 = (int) (next_cf * q1 + q0);\n\n        // Limit the numerator and denominator to be 256 or less\n        if(p2 &gt; 256 || q2 &gt; 256)\n            break;\n\n        // remember the last two fractions\n        p0 = p1;\n        p1 = p2;\n        q0 = q1;\n        q1 = q2;\n\n        r -= next_cf;\n    }\n\n    input = (double) p1 / q1;\n    // hard upper and lower bounds for ratio\n    if(input &gt; 256.0)\n    {\n        p1 = 256;\n        q1 = 1;\n    }\n    else if(input &lt; 1.0 / 256.0)\n    {\n        p1 = 1;\n        q1 = 256;\n    }\n    return new int[] {p1, q1};\n}\n</code></pre>\n\n<p>Thanks for those who helped</p>\n"},{"tags":[],"owner":{"account_id":80851,"reputation":169,"user_id":228342,"display_name":"LZM"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1261005917,"creation_date":1261005917,"answer_id":1918526,"question_id":1656945,"body_markdown":"I would comment, but I don&#39;t have rep yet...\r\n\r\nEric&#39;s answer above doesn&#39;t consider the case where an exact result is possible. For example, if you use 0.4 as input, then the representation should be 2/5, in which case you end up with a division by zero in the third iteration of the loop (r=0 on second loop =&gt; r = 1/r error on third).\r\n\r\nSo you want to modify the while loop to exclude that option:\r\n\r\n    while(true)\r\n\r\nshould be\r\n\r\n    while(r != 0)","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>I would comment, but I don't have rep yet...</p>\n\n<p>Eric's answer above doesn't consider the case where an exact result is possible. For example, if you use 0.4 as input, then the representation should be 2/5, in which case you end up with a division by zero in the third iteration of the loop (r=0 on second loop => r = 1/r error on third).</p>\n\n<p>So you want to modify the while loop to exclude that option:</p>\n\n<pre><code>while(true)\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>while(r != 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":154083,"reputation":10284,"user_id":369775,"accept_rate":92,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320710705,"creation_date":1320710705,"answer_id":8044409,"question_id":1656945,"body_markdown":"You should look at the Farey Sequence.&lt;br&gt;\r\nGiven a limit on the denominator d, the Farey Sequence is every fraction having denominator &lt;= d.&lt;br&gt;\r\n\r\n\r\n\r\nThen, you would simply take your float and compare it to the resolved value of the Farey fraction. This will allow you to represent your float in terms of repeating-decimal reals.\r\n\r\nHere is a page on its implementation in java:&lt;br&gt;\r\nhttp://www.merriampark.com/fractions.htm\r\n\r\nHere is a good demonstration of their use:&lt;br&gt;\r\nhttp://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fractions/fareySB.html","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>You should look at the Farey Sequence.<br>\nGiven a limit on the denominator d, the Farey Sequence is every fraction having denominator &lt;= d.<br></p>\n\n<p>Then, you would simply take your float and compare it to the resolved value of the Farey fraction. This will allow you to represent your float in terms of repeating-decimal reals.</p>\n\n<p>Here is a page on its implementation in java:<br>\n<a href=\"http://www.merriampark.com/fractions.htm\" rel=\"nofollow\">http://www.merriampark.com/fractions.htm</a></p>\n\n<p>Here is a good demonstration of their use:<br>\n<a href=\"http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fractions/fareySB.html\" rel=\"nofollow\">http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fractions/fareySB.html</a></p>\n"},{"tags":[],"owner":{"account_id":143948,"reputation":43,"user_id":1948812,"display_name":"YOKA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357308755,"creation_date":1357308755,"answer_id":14158763,"question_id":1656945,"body_markdown":"What about using Apache&#39;s BigFraction:\r\n\r\n    import org.apache.commons.math3.fraction.BigFraction;\r\n\r\n    public static BigFraction GetBigFraction(double input)\r\n    {\r\n    \tint precision = 1000000000;\r\n     \treturn new BigFraction((int)(input * (double)precision), precision);\r\n    }","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>What about using Apache's BigFraction:</p>\n\n<pre><code>import org.apache.commons.math3.fraction.BigFraction;\n\npublic static BigFraction GetBigFraction(double input)\n{\n    int precision = 1000000000;\n    return new BigFraction((int)(input * (double)precision), precision);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11339579,"reputation":774,"user_id":8314145,"display_name":"Bi Ao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657093752,"creation_date":1657093752,"answer_id":72879718,"question_id":1656945,"body_markdown":"I reached out here out of curiosity, but I remembered there&#39;s such feature in  Python standard library [fractions](https://docs.python.org/3/library/fractions.html).\r\n\r\nMaybe, we can look into the source code of the two functions:\r\n\r\n- [Fraction.from_float](https://docs.python.org/3/library/fractions.html#fractions.Fraction.from_float)\r\n- [Fraction.limit_denominator](https://docs.python.org/3/library/fractions.html#fractions)","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>I reached out here out of curiosity, but I remembered there's such feature in  Python standard library <a href=\"https://docs.python.org/3/library/fractions.html\" rel=\"nofollow noreferrer\">fractions</a>.</p>\n<p>Maybe, we can look into the source code of the two functions:</p>\n<ul>\n<li><a href=\"https://docs.python.org/3/library/fractions.html#fractions.Fraction.from_float\" rel=\"nofollow noreferrer\">Fraction.from_float</a></li>\n<li><a href=\"https://docs.python.org/3/library/fractions.html#fractions\" rel=\"nofollow noreferrer\">Fraction.limit_denominator</a></li>\n</ul>\n"}],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5334,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1657162,"answer_count":7,"score":5,"last_activity_date":1657093752,"creation_date":1257075330,"question_id":1656945,"body_markdown":"How can I write an algorithm that given a floating point number, and attempts to represent is as accurately as possible using a numerator and a denominator, both restricted to the range of a Java byte?\r\n\r\nThe reason for this is that an I2C device wants a numerator and denominator, while it would make sense to give it a float.\r\n\r\nFor example, `3.1415926535...` would result in `245/78`, rather than `314/100` or `22/7`.\r\n\r\nIn terms of efficiency, this would be called around three times at the start of the program, but after that not at all. So a slow algorithm isn&#39;t _too_ bad.","title":"How can I turn a floating point number into the closest fraction represented by a byte numerator and denominator?","body":"<p>How can I write an algorithm that given a floating point number, and attempts to represent is as accurately as possible using a numerator and a denominator, both restricted to the range of a Java byte?</p>\n\n<p>The reason for this is that an I2C device wants a numerator and denominator, while it would make sense to give it a float.</p>\n\n<p>For example, <code>3.1415926535...</code> would result in <code>245/78</code>, rather than <code>314/100</code> or <code>22/7</code>.</p>\n\n<p>In terms of efficiency, this would be called around three times at the start of the program, but after that not at all. So a slow algorithm isn't <em>too</em> bad.</p>\n"},{"tags":["java","byte","bit"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1657091279,"post_id":72879202,"comment_id":128723870,"body_markdown":"Well, `ByteBuffer` addresses everything in whole bytes.","body":"Well, <code>ByteBuffer</code> addresses everything in whole bytes."},{"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"score":0,"creation_date":1657091412,"post_id":72879202,"comment_id":128723918,"body_markdown":"Yeah,, so I mean why not create a BitBuffer?","body":"Yeah,, so I mean why not create a BitBuffer?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1657091459,"post_id":72879202,"comment_id":128723923,"body_markdown":"could you check: java.util.BitSet#toByteArray, java.util.BitSet#valueOf?","body":"could you check: java.util.BitSet#toByteArray, java.util.BitSet#valueOf?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1657096053,"post_id":72879202,"comment_id":128725496,"body_markdown":"*So I think the only way doing that is &quot;store eight booleans into a byte and write&quot;...* What&#39;s going to happen if you have a list of *nine* booleans (or indeed *any* &#39;word-odd&#39; length)?","body":"<i>So I think the only way doing that is &quot;store eight booleans into a byte and write&quot;...</i> What&#39;s going to happen if you have a list of <i>nine</i> booleans (or indeed <i>any</i> &#39;word-odd&#39; length)?"},{"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"score":0,"creation_date":1657096424,"post_id":72879202,"comment_id":128725620,"body_markdown":"Why care about how to implement with byte? just record a length of nine and write two bytes :) ? My point is why I cannot just save 9 bits rather than 16 bits ?","body":"Why care about how to implement with byte? just record a length of nine and write two bytes :) ? My point is why I cannot just save 9 bits rather than 16 bits ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1657105022,"post_id":72879202,"comment_id":128728862,"body_markdown":"*My point is why I cannot just save 9 bits rather than 16 bits ?* How are you going to do that? How would the receiver know that it needs to inspect just nine bits of the sixteen (the granular minimum) it has just received?","body":"<i>My point is why I cannot just save 9 bits rather than 16 bits ?</i> How are you going to do that? How would the receiver know that it needs to inspect just nine bits of the sixteen (the granular minimum) it has just received?"},{"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"score":0,"creation_date":1657107004,"post_id":72879202,"comment_id":128729581,"body_markdown":"why can&#39;t? just transfer a meta(int : 9) and data( 16bit, but 9 bit representing 9 booleans) . I only need 4 byte(meta) + 2 byte to save 9 booleans, rather than using 9 bytes( 9 boolean)","body":"why can&#39;t? just transfer a meta(int : 9) and data( 16bit, but 9 bit representing 9 booleans) . I only need 4 byte(meta) + 2 byte to save 9 booleans, rather than using 9 bytes( 9 boolean)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657093640,"creation_date":1657093241,"answer_id":72879598,"question_id":72879202,"body_markdown":"&gt; Yeah, so I mean why not create a `BitBuffer`? \r\n\r\nThat would be a question for the Java / OpenJDK development team, if you want a definitive answer.  However I *expect* they would make these points:\r\n\r\n  1.  Such a class would have extremely limited utility in real applications.\r\n\r\n  2.  Such a class is unnecessary given that an application doing (notionally) bit-oriented I/O can be implemented using `ByteBuffer` and a small amount of &quot;bit-twiddling&quot;\r\n\r\n  3.  There is the technical issue that main-stream operating systems, and main-stream network protocols only support I/O down to the granularity of a byte&lt;sup&gt;1&lt;/sup&gt;.  So, for example, file lengths are recorded in bytes, and creating a file containing precisely 42 bits of data (for example) is problematic.\r\n\r\nAnyway, there is nothing stopping you from designing and writing your own `BitBuffer` class; e.g. as a wrapper for `ByteBuffer`.  And sharing it with other people who need such a thing.\r\n\r\nOr looking on (say) Github for a Java class called `BitBuffer`.\r\n\r\n---------------------\r\n\r\n&lt;sup&gt;1 - Indeed I don&#39;t know of *any* operating system, file system or network protocol that has a smaller granularity than this.&lt;/sup&gt;\r\n\r\n","title":"Why java doesn&#39;t give a bit read api?","body":"<blockquote>\n<p>Yeah, so I mean why not create a <code>BitBuffer</code>?</p>\n</blockquote>\n<p>That would be a question for the Java / OpenJDK development team, if you want a definitive answer.  However I <em>expect</em> they would make these points:</p>\n<ol>\n<li><p>Such a class would have extremely limited utility in real applications.</p>\n</li>\n<li><p>Such a class is unnecessary given that an application doing (notionally) bit-oriented I/O can be implemented using <code>ByteBuffer</code> and a small amount of &quot;bit-twiddling&quot;</p>\n</li>\n<li><p>There is the technical issue that main-stream operating systems, and main-stream network protocols only support I/O down to the granularity of a byte<sup>1</sup>.  So, for example, file lengths are recorded in bytes, and creating a file containing precisely 42 bits of data (for example) is problematic.</p>\n</li>\n</ol>\n<p>Anyway, there is nothing stopping you from designing and writing your own <code>BitBuffer</code> class; e.g. as a wrapper for <code>ByteBuffer</code>.  And sharing it with other people who need such a thing.</p>\n<p>Or looking on (say) Github for a Java class called <code>BitBuffer</code>.</p>\n<hr />\n<p><sup>1 - Indeed I don't know of <em>any</em> operating system, file system or network protocol that has a smaller granularity than this.</sup></p>\n"}],"owner":{"account_id":17778645,"reputation":103,"user_id":12910300,"display_name":"SJZ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72879598,"answer_count":1,"score":-1,"last_activity_date":1657093640,"creation_date":1657091130,"question_id":72879202,"body_markdown":"I am using java ByteBuffer to save some basic data into streams. One situation is that I must transfer a &quot;Boolean list&quot; from one machine to another through the internet, so I want the buffer to be as small as possible.   \r\nI know the normal way of doing this is using buffer like this:\r\n```java\r\n    public final void writeBool(boolean b) throws IOException {\r\n        writeByte(b ? 1 : 0);\r\n    }\r\n    public final void writeByte(int b) throws IOException {\r\n        if (buffer.remaining() &lt; Byte.BYTES) {\r\n            flush();\r\n        }\r\n        buffer.put((byte) b);\r\n    }\r\n\r\n\r\n    public boolean readBool(long pos) {\r\n        return readByte(pos) == 1;\r\n    }\r\n\r\n    public int readByte(long pos) {\r\n        return buffer.get((int)pos) &amp; 0xff;\r\n    }\r\n```\r\nThis is a way of converting a boolean into byte and store into buffer.\r\nBut I&#39;m wandering, why not just putting a bit into buffer, so that a a byte can represent eight booleans, right?  \r\nThe code maybe like this? But java doesn&#39;t have a ```writeBit``` function.\r\n``` java\r\n    public final void writeBool(boolean b) throws IOException {\r\n        // java doesn&#39;t have it.\r\n        buffer.writeBit(b ? 0x1 : 0x0);\r\n    }\r\n    public final boolean readBool(long pos) throws IOException {\r\n        // java doesn&#39;t have it\r\n        return buffer.getBit(pos) == 0x01;\r\n    }\r\n```\r\nSo I think the only way doing that is &quot;store eight booleans into a byte and write&quot;,like ```((0x01f &gt;&gt;&gt; 4) &amp; 0x01) == 1``` to check if the fifth boolean is true. But if I can get a byte, why not just let me get a bit?   \r\nIs there some other reason that java cannot let us operate bit?","title":"Why java doesn&#39;t give a bit read api?","body":"<p>I am using java ByteBuffer to save some basic data into streams. One situation is that I must transfer a &quot;Boolean list&quot; from one machine to another through the internet, so I want the buffer to be as small as possible.<br />\nI know the normal way of doing this is using buffer like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public final void writeBool(boolean b) throws IOException {\n        writeByte(b ? 1 : 0);\n    }\n    public final void writeByte(int b) throws IOException {\n        if (buffer.remaining() &lt; Byte.BYTES) {\n            flush();\n        }\n        buffer.put((byte) b);\n    }\n\n\n    public boolean readBool(long pos) {\n        return readByte(pos) == 1;\n    }\n\n    public int readByte(long pos) {\n        return buffer.get((int)pos) &amp; 0xff;\n    }\n</code></pre>\n<p>This is a way of converting a boolean into byte and store into buffer.\nBut I'm wandering, why not just putting a bit into buffer, so that a a byte can represent eight booleans, right?<br />\nThe code maybe like this? But java doesn't have a <code>writeBit</code> function.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public final void writeBool(boolean b) throws IOException {\n        // java doesn't have it.\n        buffer.writeBit(b ? 0x1 : 0x0);\n    }\n    public final boolean readBool(long pos) throws IOException {\n        // java doesn't have it\n        return buffer.getBit(pos) == 0x01;\n    }\n</code></pre>\n<p>So I think the only way doing that is &quot;store eight booleans into a byte and write&quot;,like <code>((0x01f &gt;&gt;&gt; 4) &amp; 0x01) == 1</code> to check if the fifth boolean is true. But if I can get a byte, why not just let me get a bit?<br />\nIs there some other reason that java cannot let us operate bit?</p>\n"},{"tags":["java","selenium","selenium-iedriver"],"answers":[{"tags":[],"owner":{"account_id":4598916,"reputation":783,"user_id":3730224,"display_name":"mutt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493969155,"creation_date":1488922824,"answer_id":42658849,"question_id":42658344,"body_markdown":"I found the answer.  The actions class was unbound to the driver.  So I could use the driver all I wanted, but the actions initiation couldn&#39;t find the browser to execute the actions on.  I had a sub-class named Action that I was working with which confused me with the &quot;Actions&quot; class that was selenium.\r\n\r\nOops, but if anyone runs into that `InvocationTargetException` with a null value while trying to utilize selenium, be sure that each selenium class is properly instantiated and associated with the active driver instance.","title":"InvocationTargetException thrown with java/selenium webdriver action class","body":"<p>I found the answer.  The actions class was unbound to the driver.  So I could use the driver all I wanted, but the actions initiation couldn't find the browser to execute the actions on.  I had a sub-class named Action that I was working with which confused me with the \"Actions\" class that was selenium.</p>\n\n<p>Oops, but if anyone runs into that <code>InvocationTargetException</code> with a null value while trying to utilize selenium, be sure that each selenium class is properly instantiated and associated with the active driver instance.</p>\n"},{"tags":[],"owner":{"account_id":14406598,"reputation":1,"user_id":10406495,"display_name":"Chirag Chudasama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537772831,"creation_date":1537772460,"answer_id":52474129,"question_id":42658344,"body_markdown":"I used below code which works for me.\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].click();&quot;, element);\r\n","title":"InvocationTargetException thrown with java/selenium webdriver action class","body":"<p>I used below code which works for me.</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"return arguments[0].click();\", element);\n</code></pre>\n"}],"owner":{"account_id":4598916,"reputation":783,"user_id":3730224,"display_name":"mutt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42658849,"answer_count":2,"score":0,"last_activity_date":1657093382,"creation_date":1488920814,"question_id":42658344,"body_markdown":"I&#39;m using IE driver with java.  I&#39;ve done this fine in c# but trying java and hitting a snag.  I instantiate the driver with a singleton pattern at the class level and then begin a junit test with the @Test.  I separated the finding of the element out from the action and the finding of the element works great identifying the element with id=69 and the hexidecimal code the browser auto-assigns it.  So far so good.\r\n\r\nThen I take that variable for the WebElement and pass it into the `action.click(element);`  At this point an `InvocationTargetException` is thrown with a null.  Researching I have found where the driver null is causing an issue, but like I said driver is not null and has an element variable that populates accurately.\r\n\r\nI&#39;m wondering if there is something wrong with the selenium reference or something behind the scenes that may be throwing null when trying to utilize the library.  Any ideas where I might look to get this to work?  This is technically a java.lang.reflect exception and not a selenium specific exception, which if it was a null variable I would expect it to throw a selenium exception.\r\n\r\nAny pointers or thoughts would be appreciated.","title":"InvocationTargetException thrown with java/selenium webdriver action class","body":"<p>I'm using IE driver with java.  I've done this fine in c# but trying java and hitting a snag.  I instantiate the driver with a singleton pattern at the class level and then begin a junit test with the @Test.  I separated the finding of the element out from the action and the finding of the element works great identifying the element with id=69 and the hexidecimal code the browser auto-assigns it.  So far so good.</p>\n\n<p>Then I take that variable for the WebElement and pass it into the <code>action.click(element);</code>  At this point an <code>InvocationTargetException</code> is thrown with a null.  Researching I have found where the driver null is causing an issue, but like I said driver is not null and has an element variable that populates accurately.</p>\n\n<p>I'm wondering if there is something wrong with the selenium reference or something behind the scenes that may be throwing null when trying to utilize the library.  Any ideas where I might look to get this to work?  This is technically a java.lang.reflect exception and not a selenium specific exception, which if it was a null variable I would expect it to throw a selenium exception.</p>\n\n<p>Any pointers or thoughts would be appreciated.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":16863911,"reputation":59,"user_id":12194075,"display_name":"sunil kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657093110,"creation_date":1600226793,"question_id":63912672,"body_markdown":"Is it possible to download part of the youtube video in java android?\r\n\r\nEx: out of 6 min length video, download only first 2 min or any time frame ?\r\n\r\nwe can use start and end params in this url &lt;https://www.youtube.com/embed/BmOpD46eZoA?start=28&amp;amp;end=49&gt; to play specific part of the video, in the same way is it possible to download some part of the video?\r\n\r\ni am using this type of url for download **https://r1---sn-gwpa-itql.googlevideo.com/videoplayback?expire=1600242984...** but this will downloads entire video.\r\n\r\nis there any query param to specify the range to download?\r\nis there any other solution if query param not exists?","title":"Download part of the youtube video in java android","body":"<p>Is it possible to download part of the youtube video in java android?</p>\n<p>Ex: out of 6 min length video, download only first 2 min or any time frame ?</p>\n<p>we can use start and end params in this url <a href=\"https://www.youtube.com/embed/BmOpD46eZoA?start=28&amp;amp;end=49\" rel=\"nofollow noreferrer\">https://www.youtube.com/embed/BmOpD46eZoA?start=28&amp;amp;end=49</a> to play specific part of the video, in the same way is it possible to download some part of the video?</p>\n<p>i am using this type of url for download <strong><a href=\"https://r1---sn-gwpa-itql.googlevideo.com/videoplayback?expire=1600242984...\" rel=\"nofollow noreferrer\">https://r1---sn-gwpa-itql.googlevideo.com/videoplayback?expire=1600242984...</a></strong> but this will downloads entire video.</p>\n<p>is there any query param to specify the range to download?\nis there any other solution if query param not exists?</p>\n"},{"tags":["java","apache-kafka","google-cloud-storage","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1657178855,"post_id":72879416,"comment_id":128749683,"body_markdown":"For your requirement, you can try [KafkaIO](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/kafka/KafkaIO.html) class which can be used to read multiple topics.For updating the dataflow pipeline, you can use [REST API](https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs/update).Let me know if that helps.","body":"For your requirement, you can try <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/kafka/KafkaIO.html\" rel=\"nofollow noreferrer\">KafkaIO</a> class which can be used to read multiple topics.For updating the dataflow pipeline, you can use <a href=\"https://cloud.google.com/dataflow/docs/reference/rest/v1b3/projects.jobs/update\" rel=\"nofollow noreferrer\">REST API</a>.Let me know if that helps."},{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":0,"creation_date":1657238504,"post_id":72879416,"comment_id":128769872,"body_markdown":"KafkaIO can read multiple topics, but that doesn&#39;t support adding or deleting topics from a running pipeline. My first instinct seeing this requirement is maybe it&#39;s possible to have some kind of script that manages starting up new pipelines with updated topics (using Dataflow templates to have the topics as a pipeline option). I.e. when the list changes, shut down the old pipeline and drain it (so it finishes reading what it claimed), while starting a new pipeline with the new set of topics. Maybe Cloud Functions could help?","body":"KafkaIO can read multiple topics, but that doesn&#39;t support adding or deleting topics from a running pipeline. My first instinct seeing this requirement is maybe it&#39;s possible to have some kind of script that manages starting up new pipelines with updated topics (using Dataflow templates to have the topics as a pipeline option). I.e. when the list changes, shut down the old pipeline and drain it (so it finishes reading what it claimed), while starting a new pipeline with the new set of topics. Maybe Cloud Functions could help?"}],"owner":{"account_id":19190555,"reputation":33,"user_id":14020362,"display_name":"Marcel Neumann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657093079,"creation_date":1657092321,"question_id":72879416,"body_markdown":"We use Dataflow on Google Cloud Platform to ingest messages from Kafka into Google Cloud Storage. The objects uploaded are hourly partitioned and have the following format:\r\n\r\n```\r\ngs://output-bucket/topics/&lt;topic&gt;/year=YYYY/month=MM/day=dd/hour=HH/&lt;windowStart&gt;-&lt;windowEnd&gt;-&lt;pane&gt;.&lt;format&gt;\r\n```\r\n\r\nThere is also the possibility for late data to arrive which would land in additional panes.\r\n\r\nThe idea was to use one Dataflow job to ingest multiple Kafka topics using [KafkaIO][1]. This works fine, however, now and then we also have to add and/or delete topics on our ingestion list and update our job with this information. It is important to not loose any data in the update process (e.g. data  in windows that have not been written out to Cloud Storage) and also keep the information about late data. \r\n\r\nThe behaviour we wish for is:\r\n\r\n 1. We add and/or delete topics on our list\r\n 2. We update the Dataflow job with the new topics parameter\r\n 3. The job keeps ingesting old topics with their current offset and starts ingesting new topics from the earliest offset.\r\n\r\nSo we tried [updating the existing pipeline][2] by changing the input topics parameter only and get the following error:\r\n\r\n```\r\nCESTError message from worker: java.lang.IllegalStateException: checkPointMark and assignedPartitions should match\r\n```\r\n\r\nIt seems like it can&#39;t handle this type of update but we feel there must be a way to achieve our goal.\r\n\r\nQuestion: What is the right way to read multiple Kafka topics with one Dataflow job and be able to update the topics parameter for an existing pipeline?\r\n\r\nThis is a code snippet of the basic pipeline:\r\n```java\r\npipeline\r\n        .apply(\r\n            &quot;ReadFromKafka&quot;,\r\n            KafkaIO.&lt;String, String&gt;read()\r\n                .withBootstrapServers(options.getBootstrapServers())\r\n                .withTopics(parseTopics(options.getInputTopics()))\r\n                .withCreateTime(Duration.standardMinutes(10))\r\n                .withReadCommitted()\r\n                .commitOffsetsInFinalize()\r\n                .withKeyDeserializer(StringDeserializer.class)\r\n                .withValueDeserializer(StringDeserializer.class)\r\n                .withConsumerConfigUpdates(parseConsumerConfig(options)))\r\n        .apply(&quot;CreateWindows&quot;, HourlyWindowsWithAllowedLateness.of(Duration.standardDays(7)))\r\n        .apply(\r\n            &quot;WriteFileOutput&quot;,\r\n             FileIO.&lt;String, KafkaRecord&lt;String, String&gt;&gt;writeDynamic()\r\n                .by(DestinationFunction.of())\r\n                .via(\r\n                    Contextful.fn(KafkaRecordToGenericRecordFunction.of()),\r\n                    AvroIO.sink(KafkaRecordToGenericRecordFunction.SCHEMA))\r\n                .withDestinationCoder(StringUtf8Coder.of())\r\n                .withNumShards(1)\r\n                .withTempDirectory(options.getTempDirectory())\r\n                .to(options.getOutputDirectory())\r\n                .withNaming(NamingFunction.avro()));\r\n```\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/kafka/KafkaIO.html\r\n  [2]: https://cloud.google.com/dataflow/docs/guides/updating-a-pipeline","title":"Updating an ongoing Apache Beam / Dataflow job with new Kafka topics","body":"<p>We use Dataflow on Google Cloud Platform to ingest messages from Kafka into Google Cloud Storage. The objects uploaded are hourly partitioned and have the following format:</p>\n<pre><code>gs://output-bucket/topics/&lt;topic&gt;/year=YYYY/month=MM/day=dd/hour=HH/&lt;windowStart&gt;-&lt;windowEnd&gt;-&lt;pane&gt;.&lt;format&gt;\n</code></pre>\n<p>There is also the possibility for late data to arrive which would land in additional panes.</p>\n<p>The idea was to use one Dataflow job to ingest multiple Kafka topics using <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/io/kafka/KafkaIO.html\" rel=\"nofollow noreferrer\">KafkaIO</a>. This works fine, however, now and then we also have to add and/or delete topics on our ingestion list and update our job with this information. It is important to not loose any data in the update process (e.g. data  in windows that have not been written out to Cloud Storage) and also keep the information about late data.</p>\n<p>The behaviour we wish for is:</p>\n<ol>\n<li>We add and/or delete topics on our list</li>\n<li>We update the Dataflow job with the new topics parameter</li>\n<li>The job keeps ingesting old topics with their current offset and starts ingesting new topics from the earliest offset.</li>\n</ol>\n<p>So we tried <a href=\"https://cloud.google.com/dataflow/docs/guides/updating-a-pipeline\" rel=\"nofollow noreferrer\">updating the existing pipeline</a> by changing the input topics parameter only and get the following error:</p>\n<pre><code>CESTError message from worker: java.lang.IllegalStateException: checkPointMark and assignedPartitions should match\n</code></pre>\n<p>It seems like it can't handle this type of update but we feel there must be a way to achieve our goal.</p>\n<p>Question: What is the right way to read multiple Kafka topics with one Dataflow job and be able to update the topics parameter for an existing pipeline?</p>\n<p>This is a code snippet of the basic pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>pipeline\n        .apply(\n            &quot;ReadFromKafka&quot;,\n            KafkaIO.&lt;String, String&gt;read()\n                .withBootstrapServers(options.getBootstrapServers())\n                .withTopics(parseTopics(options.getInputTopics()))\n                .withCreateTime(Duration.standardMinutes(10))\n                .withReadCommitted()\n                .commitOffsetsInFinalize()\n                .withKeyDeserializer(StringDeserializer.class)\n                .withValueDeserializer(StringDeserializer.class)\n                .withConsumerConfigUpdates(parseConsumerConfig(options)))\n        .apply(&quot;CreateWindows&quot;, HourlyWindowsWithAllowedLateness.of(Duration.standardDays(7)))\n        .apply(\n            &quot;WriteFileOutput&quot;,\n             FileIO.&lt;String, KafkaRecord&lt;String, String&gt;&gt;writeDynamic()\n                .by(DestinationFunction.of())\n                .via(\n                    Contextful.fn(KafkaRecordToGenericRecordFunction.of()),\n                    AvroIO.sink(KafkaRecordToGenericRecordFunction.SCHEMA))\n                .withDestinationCoder(StringUtf8Coder.of())\n                .withNumShards(1)\n                .withTempDirectory(options.getTempDirectory())\n                .to(options.getOutputDirectory())\n                .withNaming(NamingFunction.avro()));\n</code></pre>\n"},{"tags":["java","mule","nosuchmethoderror"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657093210,"post_id":72879530,"comment_id":128724514,"body_markdown":"Where are you deploying the fat jar?","body":"Where are you deploying the fat jar?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1657093836,"post_id":72879530,"comment_id":128724745,"body_markdown":"Seems not as if the old version get loaded. Seems as if your `Enterprise library A` tries to call the `void` method which does not exist in new version. That&#39;s why the `NoSuchMethodError`. In byte code the return type is part of the method signature. So your `Enterprise library A` is not compatible with the `mule-core 3.9`.","body":"Seems not as if the old version get loaded. Seems as if your <code>Enterprise library A</code> tries to call the <code>void</code> method which does not exist in new version. That&#39;s why the <code>NoSuchMethodError</code>. In byte code the return type is part of the method signature. So your <code>Enterprise library A</code> is not compatible with the <code>mule-core 3.9</code>."},{"owner":{"account_id":333595,"reputation":103,"user_id":659527,"accept_rate":25,"display_name":"Ionut"},"score":0,"creation_date":1657093961,"post_id":72879530,"comment_id":128724791,"body_markdown":"@AxelRichter That would explain it, indeed. So, the only solution that I have is to upgrade the Enterprise library A to use Mule 3.9 ?","body":"@AxelRichter That would explain it, indeed. So, the only solution that I have is to upgrade the Enterprise library A to use Mule 3.9 ?"},{"owner":{"account_id":333595,"reputation":103,"user_id":659527,"accept_rate":25,"display_name":"Ionut"},"score":0,"creation_date":1657094180,"post_id":72879530,"comment_id":128724879,"body_markdown":"@pringi The application is a spring boot application, so it has Tomcat embedded.","body":"@pringi The application is a spring boot application, so it has Tomcat embedded."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1657094211,"post_id":72879530,"comment_id":128724891,"body_markdown":"Re compiling of `Enterprise library A` against the new  `mule-core 3.9` leads to use the new `public AttributeEvaluator initialize(final ExpressionManager expressionManager)` as each method can be used as it it would return `void`.","body":"Re compiling of <code>Enterprise library A</code> against the new  <code>mule-core 3.9</code> leads to use the new <code>public AttributeEvaluator initialize(final ExpressionManager expressionManager)</code> as each method can be used as it it would return <code>void</code>."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1657115135,"post_id":72879530,"comment_id":128732920,"body_markdown":"Why is the application using that internal method? What is it using it for?","body":"Why is the application using that internal method? What is it using it for?"}],"owner":{"account_id":333595,"reputation":103,"user_id":659527,"accept_rate":25,"display_name":"Ionut"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657092897,"creation_date":1657092897,"question_id":72879530,"body_markdown":"I need to migrate a third party library in a project - let&#39;s call it ``MyProject``.\r\n\r\n```MyProject ---uses---&gt; Enterprise library A ---uses---&gt; mule-core v3.4```\r\n\r\nI&#39;m using Maven and I excluded all mule dependencies from library A, replacing it with ```mule-core``` v3.9 instead. Still, even if the fat jar that&#39;s generated contains only ```mule-core``` v3.9, I still see that the application loads an old version of the ```org.mule.util.AttributeEvaluator``` class. \r\n\r\nIt seems that this class, in ``mule-core v3.4`` used to contain the following method:\r\n\r\n```\r\npublic void initialize(final ExpressionManager expressionManager)\r\n```\r\n\r\nIn mule-core 3.9, the method changed its signature to the following:\r\n\r\n```\r\npublic AttributeEvaluator initialize(final ExpressionManager expressionManager)\r\n```\r\n\r\nBecause of this change, the enterprise library A fails with the following error:\r\n```\r\nCaused by: java.lang.NoSuchMethodError: org.mule.util.AttributeEvaluator.initialize(\r\n   Lorg/mule/api/expression/ExpressionManager;)V\r\n```\r\n\r\nThe only solution that I found to be working was to bring the source code of Enterprise Library A into the source code of my project and to compile it again with the correct dependency to ``mule-core v3.9``, but I&#39;m sure that there is a better way.\r\n\r\nDo you have any suggestions ?","title":"why Java still finds old method even though I updated the transitive library to a newer version?","body":"<p>I need to migrate a third party library in a project - let's call it <code>MyProject</code>.</p>\n<p><code>MyProject ---uses---&gt; Enterprise library A ---uses---&gt; mule-core v3.4</code></p>\n<p>I'm using Maven and I excluded all mule dependencies from library A, replacing it with <code>mule-core</code> v3.9 instead. Still, even if the fat jar that's generated contains only <code>mule-core</code> v3.9, I still see that the application loads an old version of the <code>org.mule.util.AttributeEvaluator</code> class.</p>\n<p>It seems that this class, in <code>mule-core v3.4</code> used to contain the following method:</p>\n<pre><code>public void initialize(final ExpressionManager expressionManager)\n</code></pre>\n<p>In mule-core 3.9, the method changed its signature to the following:</p>\n<pre><code>public AttributeEvaluator initialize(final ExpressionManager expressionManager)\n</code></pre>\n<p>Because of this change, the enterprise library A fails with the following error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: org.mule.util.AttributeEvaluator.initialize(\n   Lorg/mule/api/expression/ExpressionManager;)V\n</code></pre>\n<p>The only solution that I found to be working was to bring the source code of Enterprise Library A into the source code of my project and to compile it again with the correct dependency to <code>mule-core v3.9</code>, but I'm sure that there is a better way.</p>\n<p>Do you have any suggestions ?</p>\n"},{"tags":["java","spring-boot","timeout","spring-webflux","webclient"],"answers":[{"tags":[],"owner":{"account_id":7357018,"reputation":356,"user_id":5601435,"display_name":"Fabien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657092853,"creation_date":1657092853,"answer_id":72879522,"question_id":72878803,"body_markdown":"You need to instantiate one webclient per url. For each webclient, you can set the connection timeout : \r\n\r\n    HttpClient httpClient = HttpClient.create()\r\n      .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000);\r\n    WebClient client = WebClient.builder()\r\n      .baseUrl(&quot;http://yourendpoint:8080&quot;)\r\n      .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n      .build();\r\n\r\nThen reuse this webclient for all the calls to the configured url.\r\n","title":"Java Specific webclient connect timeout per request","body":"<p>You need to instantiate one webclient per url. For each webclient, you can set the connection timeout :</p>\n<pre><code>HttpClient httpClient = HttpClient.create()\n  .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 10000);\nWebClient client = WebClient.builder()\n  .baseUrl(&quot;http://yourendpoint:8080&quot;)\n  .clientConnector(new ReactorClientHttpConnector(httpClient))\n  .build();\n</code></pre>\n<p>Then reuse this webclient for all the calls to the configured url.</p>\n"}],"owner":{"account_id":25737471,"reputation":3,"user_id":19491967,"display_name":"user19491967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72879522,"answer_count":1,"score":0,"last_activity_date":1657092853,"creation_date":1657088866,"question_id":72878803,"body_markdown":"I have to call different urls with different connection timeout with webclient. But i found that we can set connect timeout globally only and not per resquest .. what to do please to set this timeout on a request without creating a new weblient each time.\r\n","title":"Java Specific webclient connect timeout per request","body":"<p>I have to call different urls with different connection timeout with webclient. But i found that we can set connect timeout globally only and not per resquest .. what to do please to set this timeout on a request without creating a new weblient each time.</p>\n"},{"tags":["java","date-conversion"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1657090749,"post_id":72878949,"comment_id":128723706,"body_markdown":"Can you please post your code? I mean the one that changed the time…","body":"Can you please post your code? I mean the one that changed the time…"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":4,"creation_date":1657090942,"post_id":72878949,"comment_id":128723767,"body_markdown":"Please stay away from those outdated legacy classes. Use the classes from `java.time` instead and your life will be easier (`Instant`, `ZonedDateTime`, `LocalDateTime`, ...).","body":"Please stay away from those outdated legacy classes. Use the classes from <code>java.time</code> instead and your life will be easier (<code>Instant</code>, <code>ZonedDateTime</code>, <code>LocalDateTime</code>, ...)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1657090967,"post_id":72878949,"comment_id":128723771,"body_markdown":"Your terminology is kinda off. Please share your real code and elaborate on the situation. Downvoted because unclear, voting to close because needs details.","body":"Your terminology is kinda off. Please share your real code and elaborate on the situation. Downvoted because unclear, voting to close because needs details."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657092251,"creation_date":1657092251,"answer_id":72879403,"question_id":72878949,"body_markdown":"It does not change the time. `Timestamp` and `Date` don&#39;t have a concept of a timezone, they represent an instant of time since the Epoch(1970-01-01T00:00:00Z).\r\n\r\nTheir `.toString()` methods on the other hand, have the bad habit of applying the default timezone of the JVM, when generating the string representation. I would advise to stay away from those classes, and instead use [java.time][1], the modern java datetime API, it&#39;s available since java 8.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Date to Timestamp with UTC in Java","body":"<p>It does not change the time. <code>Timestamp</code> and <code>Date</code> don't have a concept of a timezone, they represent an instant of time since the Epoch(1970-01-01T00:00:00Z).</p>\n<p>Their <code>.toString()</code> methods on the other hand, have the bad habit of applying the default timezone of the JVM, when generating the string representation. I would advise to stay away from those classes, and instead use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>, the modern java datetime API, it's available since java 8.</p>\n"}],"owner":{"account_id":7735619,"reputation":1,"user_id":5857294,"display_name":"fissipeda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657092817,"creation_date":1657089802,"question_id":72878949,"body_markdown":"I have to convert a date (that is already in UTC) to a [`java.sql.Timestamp`][1]. \r\n\r\n### Issue\r\nBut when doing that, the time is changed to machine time:\r\n```java\r\nnew Timestamp(date.getTime());\r\n```\r\nSo I get another date on the server.\r\n\r\n### Expected\r\nWhen I convert back to `Date` I want to have the same date as before conversion.\r\nI want to keep the same date (in UTC). \r\n\r\nHow could I do that?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html","title":"Date to Timestamp with UTC in Java","body":"<p>I have to convert a date (that is already in UTC) to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><code>java.sql.Timestamp</code></a>.</p>\n<h3>Issue</h3>\n<p>But when doing that, the time is changed to machine time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new Timestamp(date.getTime());\n</code></pre>\n<p>So I get another date on the server.</p>\n<h3>Expected</h3>\n<p>When I convert back to <code>Date</code> I want to have the same date as before conversion.\nI want to keep the same date (in UTC).</p>\n<p>How could I do that?</p>\n"},{"tags":["java","c++"],"comments":[{"owner":{"account_id":1200411,"reputation":19297,"user_id":1171191,"display_name":"BoBTFish"},"score":4,"creation_date":1537254183,"post_id":52380680,"comment_id":91705681,"body_markdown":"Uhm, I don&#39;t really know how to answer this... because they are completely different languages? C++ gives you a lot more control over the memory than Java does, they are just different choices in how the languages are designed, better suited for different uses. That control also means you have to be more careful. Be careful, just because some of the syntax and keywords are similar, they can mean completely different things. With your example code you actually don&#39;t need the `nullptr` check in C++ anyway, as it will throw an exception if it fails, rather than returning `nullptr`.","body":"Uhm, I don&#39;t really know how to answer this... because they are completely different languages? C++ gives you a lot more control over the memory than Java does, they are just different choices in how the languages are designed, better suited for different uses. That control also means you have to be more careful. Be careful, just because some of the syntax and keywords are similar, they can mean completely different things. With your example code you actually don&#39;t need the <code>nullptr</code> check in C++ anyway, as it will throw an exception if it fails, rather than returning <code>nullptr</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1537254237,"post_id":52380680,"comment_id":91705713,"body_markdown":"Because in Java, the `new` operator can never ever return `null`.","body":"Because in Java, the <code>new</code> operator can never ever return <code>null</code>."},{"owner":{"account_id":182974,"reputation":6286,"user_id":418066,"display_name":"Biffen"},"score":0,"creation_date":1537254397,"post_id":52380680,"comment_id":91705819,"body_markdown":"https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case","body":"<a href=\"https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case\" title=\"will new return null in any case\">stackoverflow.com/questions/550451/&hellip;</a>"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":5,"creation_date":1537254416,"post_id":52380680,"comment_id":91705829,"body_markdown":"You don&#39;t. If the new operator is unable to allocate memory, it will throw an exception in both languages.","body":"You don&#39;t. If the new operator is unable to allocate memory, it will throw an exception in both languages."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1537255037,"post_id":52380680,"comment_id":91706152,"body_markdown":"Possible duplicate of [Will new return NULL in any case?](https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case\">Will new return NULL in any case?</a>"},{"owner":{"account_id":5140045,"reputation":112591,"user_id":4117728,"accept_rate":91,"display_name":"463035818_is_not_an_ai"},"score":4,"creation_date":1537255682,"post_id":52380680,"comment_id":91706537,"body_markdown":"your premise is wrong in two ways. First in C++  after `RequestType* requestType = new RequestType();` the pointer `requestType` cannot be `null`. Second in Java as well as in C++ you do need to check for null (for pointers in C++ and for references in java) when you dont know if there is a valid object. And last but not least, C++ and Java are two completely different languages, their similarities in syntax are just to confuse ppl to believe they would have similarities beyond that","body":"your premise is wrong in two ways. First in C++  after <code>RequestType* requestType = new RequestType();</code> the pointer <code>requestType</code> cannot be <code>null</code>. Second in Java as well as in C++ you do need to check for null (for pointers in C++ and for references in java) when you dont know if there is a valid object. And last but not least, C++ and Java are two completely different languages, their similarities in syntax are just to confuse ppl to believe they would have similarities beyond that"},{"owner":{"account_id":226699,"reputation":10545,"user_id":487892,"display_name":"drescherjm"},"score":1,"creation_date":1537258354,"post_id":52380680,"comment_id":91708097,"body_markdown":"***the pointer requestType cannot be null*** Maybe @JosanSun is using an old compiler. I remember VS used to return NULL on allocation failure a 2 \n decades ago.. https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case","body":"<b><i>the pointer requestType cannot be null</i></b> Maybe @JosanSun is using an old compiler. I remember VS used to return NULL on allocation failure a 2   decades ago.. <a href=\"https://stackoverflow.com/questions/550451/will-new-return-null-in-any-case\" title=\"will new return null in any case\">stackoverflow.com/questions/550451/&hellip;</a>"},{"owner":{"account_id":5990583,"reputation":35949,"user_id":4706785,"display_name":"Peter"},"score":2,"creation_date":1537264279,"post_id":52380680,"comment_id":91711597,"body_markdown":"@drescherjm - All C++ standards require a new expression to throw an exception on failure, so it cannot yield NULL. Pre-standard C++ (e.g. while the standard was in evolving draft before being ratified in 1998) did not have that requirement. That&#39;s why older compilers did support that behaviour  (VC6 was a bit controversial, as it was released in 1998, and notable for incomplete support of the standard).   There is also a `new (std::nothrow)` variant which CAN yield a null pointer, but that wasn&#39;t part of the question.","body":"@drescherjm - All C++ standards require a new expression to throw an exception on failure, so it cannot yield NULL. Pre-standard C++ (e.g. while the standard was in evolving draft before being ratified in 1998) did not have that requirement. That&#39;s why older compilers did support that behaviour  (VC6 was a bit controversial, as it was released in 1998, and notable for incomplete support of the standard).   There is also a <code>new (std::nothrow)</code> variant which CAN yield a null pointer, but that wasn&#39;t part of the question."},{"owner":{"account_id":10283217,"reputation":339,"user_id":7587493,"display_name":"JosanSun"},"score":0,"creation_date":1537287275,"post_id":52380680,"comment_id":91726525,"body_markdown":"@drescherjm Yeah. I learned C++ using VC6.0 in 2009. Then I usally new an Object and then check whether the pointer is NULL or not? Even, I am using VS2015, I still keep the check. Recently, I learned JAVA. I found no one did that check. Because, the check makes my project ugly. So I also want to drop the check. Now, I know the check is useless. ^_^","body":"@drescherjm Yeah. I learned C++ using VC6.0 in 2009. Then I usally new an Object and then check whether the pointer is NULL or not? Even, I am using VS2015, I still keep the check. Recently, I learned JAVA. I found no one did that check. Because, the check makes my project ugly. So I also want to drop the check. Now, I know the check is useless. ^_^"}],"answers":[{"tags":[],"owner":{"account_id":2096654,"reputation":351,"user_id":3036311,"accept_rate":33,"display_name":"Incredible"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1537254514,"creation_date":1537254514,"answer_id":52380806,"question_id":52380680,"body_markdown":"In Java, following statement creates object explicitly and it will never be `null` until or unless it is a default constructor.\r\n\r\n    RequestType requestType = new RequestType();\r\n\r\nHowever, if you are receiving this object as a method parameter, or in a `return` statement or your constructor is doing some logic while creating this object, then there is a possibility, it can be `null`.\r\n\r\nSo, In java as well, You need to check if your object is `null` or not.","title":"Why do we need to check null pointer in C++, but not in Java?","body":"<p>In Java, following statement creates object explicitly and it will never be <code>null</code> until or unless it is a default constructor.</p>\n\n<pre><code>RequestType requestType = new RequestType();\n</code></pre>\n\n<p>However, if you are receiving this object as a method parameter, or in a <code>return</code> statement or your constructor is doing some logic while creating this object, then there is a possibility, it can be <code>null</code>.</p>\n\n<p>So, In java as well, You need to check if your object is <code>null</code> or not.</p>\n"},{"tags":[],"owner":{"account_id":6229027,"reputation":28469,"user_id":4850040,"accept_rate":62,"display_name":"Toby Speight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657092743,"creation_date":1537344675,"answer_id":52401141,"question_id":52380680,"body_markdown":"Your premise is mistaken (perhaps informed by mediocre samples).\r\n\r\nIn both languages, the `new` operator will either succeed or throw an exception (`java.​lang.​OutOfMemoryError` or `std::​bad_alloc`, respectively).  So there&#39;s never a need to check a newly-allocated object like that.  (Note here that I&#39;m talking about Standard C++ - some ancient pre-Standard compilers would return null instead of throwing).\r\n\r\nWhen a function receives an argument outside of its control, a defensive programmer will normally check Java references and C++ pointers, both of which can be null.  It&#39;s less common to be so defensive with C++ references, as the implicit contract is that we don&#39;t create null references in C++.\r\n\r\n---\r\n## Summary\r\n\r\n* A newly allocated object can never be null in Java:\r\n    ```java\r\n    Request request = new Request();\r\n    // request cannot be null\r\n    ```\r\n\r\n  Nor in C++:\r\n    ```c++\r\n    Request* request = new Request();\r\n    // request cannot be null\r\n    ```\r\n\r\n* A function argument or return value might be null in Java:\r\n    ```java\r\n    void processRequest(Request request) {\r\n         // request might be null\r\n         String body = request.body();\r\n         // body might be null\r\n    ```\r\n    \r\n   And in C++:\r\n    ```c++\r\n    void processRequest(const Request *request) {\r\n         // request might be null\r\n         const char *body = request-&gt;body();\r\n         // body might be null\r\n    ```\r\n\r\n    ```c++\r\n    void processRequest(const Request&amp; request) {\r\n         // &amp;request assumed non-null\r\n         std::string body = request.body();\r\n         // body can&#39;t be null (it&#39;s not a pointer)\r\n    ```\r\n\r\n\r\n","title":"Why do we need to check null pointer in C++, but not in Java?","body":"<p>Your premise is mistaken (perhaps informed by mediocre samples).</p>\n<p>In both languages, the <code>new</code> operator will either succeed or throw an exception (<code>java.​lang.​OutOfMemoryError</code> or <code>std::​bad_alloc</code>, respectively).  So there's never a need to check a newly-allocated object like that.  (Note here that I'm talking about Standard C++ - some ancient pre-Standard compilers would return null instead of throwing).</p>\n<p>When a function receives an argument outside of its control, a defensive programmer will normally check Java references and C++ pointers, both of which can be null.  It's less common to be so defensive with C++ references, as the implicit contract is that we don't create null references in C++.</p>\n<hr />\n<h2>Summary</h2>\n<ul>\n<li><p>A newly allocated object can never be null in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Request request = new Request();\n// request cannot be null\n</code></pre>\n<p>Nor in C++:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>Request* request = new Request();\n// request cannot be null\n</code></pre>\n</li>\n<li><p>A function argument or return value might be null in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void processRequest(Request request) {\n     // request might be null\n     String body = request.body();\n     // body might be null\n</code></pre>\n<p>And in C++:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void processRequest(const Request *request) {\n     // request might be null\n     const char *body = request-&gt;body();\n     // body might be null\n</code></pre>\n<pre class=\"lang-cpp prettyprint-override\"><code>void processRequest(const Request&amp; request) {\n     // &amp;request assumed non-null\n     std::string body = request.body();\n     // body can't be null (it's not a pointer)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":10283217,"reputation":339,"user_id":7587493,"display_name":"JosanSun"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":11,"up_vote_count":2,"accepted_answer_id":52401141,"answer_count":2,"score":-9,"last_activity_date":1657092743,"creation_date":1537254046,"question_id":52380680,"body_markdown":"Supposed that, I have a class named of `RequestType`.  In Java, code tends not to have any check for a new object being a null reference:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    RequestType request = new RequestType();\r\n    // if (request == null)   // missing\r\n\r\nBut C++ code tends to check the allocation:\r\n\r\n&lt;!-- language: lang-c++ --&gt;\r\n\r\n    RequestType* request = new RequestType();\r\n    if (nullptr == request)      // check\r\n\r\nWhy do we need to check whether requestType is `nullptr` in C++, but can just use it without such a check in Java?\r\n\r\n","title":"Why do we need to check null pointer in C++, but not in Java?","body":"<p>Supposed that, I have a class named of <code>RequestType</code>.  In Java, code tends not to have any check for a new object being a null reference:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RequestType request = new RequestType();\n// if (request == null)   // missing\n</code></pre>\n\n<p>But C++ code tends to check the allocation:</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>RequestType* request = new RequestType();\nif (nullptr == request)      // check\n</code></pre>\n\n<p>Why do we need to check whether requestType is <code>nullptr</code> in C++, but can just use it without such a check in Java?</p>\n"},{"tags":["java","inputstream","openapi","java-io","zipstream"],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657092471,"creation_date":1657092471,"answer_id":72879441,"question_id":72879343,"body_markdown":"Just use ZipOutputStream, and wrap it around a ByteArrayOutputStream:\r\n\r\n```\r\nByteArrayOutputStream bStream = new ByteArrayOutputStream();\r\nZipOutputStream zipStream = new ZipOutputStream(bStream);\r\n\r\nZipEntry myEntry = ZipEntry(&quot;my/awesome/folder/file.txt&quot;);\r\n\r\nzipStream.addEntry(myEntry);\r\nzipStream.write(myAwesomeData);\r\n//add and write more entries\r\nzipStream.close();\r\n\r\nbyte[] result = bStream.toByteArray();\r\n```\r\n","title":"Create structured archive with files in java","body":"<p>Just use ZipOutputStream, and wrap it around a ByteArrayOutputStream:</p>\n<pre><code>ByteArrayOutputStream bStream = new ByteArrayOutputStream();\nZipOutputStream zipStream = new ZipOutputStream(bStream);\n\nZipEntry myEntry = ZipEntry(&quot;my/awesome/folder/file.txt&quot;);\n\nzipStream.addEntry(myEntry);\nzipStream.write(myAwesomeData);\n//add and write more entries\nzipStream.close();\n\nbyte[] result = bStream.toByteArray();\n</code></pre>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72879441,"answer_count":1,"score":0,"last_activity_date":1657092471,"creation_date":1657091961,"question_id":72879343,"body_markdown":"I want to implement GET api that returns ZIP file.\r\n\r\nI defined api using openapi \r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: xxx\r\n      description: xxx\r\n      version: 2.0.0\r\n    tags:\r\n      - name: xxxx\r\n    servers:\r\n      - url: /cc/api/v3\r\n    paths:\r\n      /path/{param}:\r\n        get:\r\n          tags:\r\n            - xxxx\r\n          operationId: getMyZip\r\n          responses:\r\n            200:\r\n              description: file with zipped reports\r\n              content:\r\n                application/octet-stream:\r\n                  schema:\r\n                    type: string\r\n                    format: binary\r\n          security: []\r\n\r\nAs far as I understand my api should return byte[], so my controller looks like below\r\n\r\n    @Override\r\n      public ResponseEntity&lt;Resource&gt; getMyZip(String param) {\r\n        return ResponseEntity\r\n          .ok()\r\n          .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n          .body(new ByteArrayResource(myService.getMyZip(param)));\r\n      }\r\n\r\nIs it ok to return byte[] or it should be some stream, end user will get the zip? \r\n\r\n**Implementation.**\r\n\r\nI have map of objects that I am parsing using Jackson object mapper.\r\n\r\nHow I could create folder structure and place files with json outputs from object mapper. Zip it and return to the caller.  \r\n\r\n**Example:**\r\n\r\n    myZip.zip\r\n       File1.json\r\n       File2.json\r\n       folder1\r\n       folder2\r\n         File3.json","title":"Create structured archive with files in java","body":"<p>I want to implement GET api that returns ZIP file.</p>\n<p>I defined api using openapi</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: xxx\n  description: xxx\n  version: 2.0.0\ntags:\n  - name: xxxx\nservers:\n  - url: /cc/api/v3\npaths:\n  /path/{param}:\n    get:\n      tags:\n        - xxxx\n      operationId: getMyZip\n      responses:\n        200:\n          description: file with zipped reports\n          content:\n            application/octet-stream:\n              schema:\n                type: string\n                format: binary\n      security: []\n</code></pre>\n<p>As far as I understand my api should return byte[], so my controller looks like below</p>\n<pre><code>@Override\n  public ResponseEntity&lt;Resource&gt; getMyZip(String param) {\n    return ResponseEntity\n      .ok()\n      .contentType(MediaType.APPLICATION_OCTET_STREAM)\n      .body(new ByteArrayResource(myService.getMyZip(param)));\n  }\n</code></pre>\n<p>Is it ok to return byte[] or it should be some stream, end user will get the zip?</p>\n<p><strong>Implementation.</strong></p>\n<p>I have map of objects that I am parsing using Jackson object mapper.</p>\n<p>How I could create folder structure and place files with json outputs from object mapper. Zip it and return to the caller.</p>\n<p><strong>Example:</strong></p>\n<pre><code>myZip.zip\n   File1.json\n   File2.json\n   folder1\n   folder2\n     File3.json\n</code></pre>\n"},{"tags":["java","arrays","arraylist","slice"],"comments":[{"owner":{"display_name":"user177800"},"score":5,"creation_date":1466448550,"post_id":37929671,"comment_id":63310157,"body_markdown":"short answer is **no**; long answer is **noooooooooo**","body":"short answer is <b>no</b>; long answer is <b>noooooooooo</b>"},{"owner":{"account_id":1753064,"reputation":1709,"user_id":1601729,"accept_rate":93,"display_name":"Ironcache"},"score":1,"creation_date":1466449001,"post_id":37929671,"comment_id":63310410,"body_markdown":"Is the duplicate really applicable?  This question is asking about slicing at a set interval, whereas the linked question is more so tailored towards getting a general subset of the array (which is doable if it&#39;s in one continuous section), with mention of slicing only in the comments of one answer.  Either way, I agree with the conclusion; there&#39;s no in-house way to do this, but you could easily write a helper function for it.","body":"Is the duplicate really applicable?  This question is asking about slicing at a set interval, whereas the linked question is more so tailored towards getting a general subset of the array (which is doable if it&#39;s in one continuous section), with mention of slicing only in the comments of one answer.  Either way, I agree with the conclusion; there&#39;s no in-house way to do this, but you could easily write a helper function for it."},{"owner":{"account_id":6308881,"reputation":3006,"user_id":4901098,"display_name":"Arpit Ratan"},"score":0,"creation_date":1466449266,"post_id":37929671,"comment_id":63310559,"body_markdown":"Ohh I thought he is trying to get the first few elements for the Array. sorry wrong answer for this question. Will remove the comment. Thankyou @Ironcache for pointing that out.","body":"Ohh I thought he is trying to get the first few elements for the Array. sorry wrong answer for this question. Will remove the comment. Thankyou @Ironcache for pointing that out."}],"answers":[{"tags":[],"owner":{"account_id":1184810,"reputation":4239,"user_id":1158990,"accept_rate":89,"display_name":"gbtimmon"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1466450494,"creation_date":1466450494,"answer_id":37930237,"question_id":37929671,"body_markdown":"There is a method in Arrays that might help.     \r\n\r\n     int[] newArr = Arrays.copyOfRange(arr, 5,10); \r\n\r\nIt is obviously far less powerful the the python implementation. ","title":"Java - Slice any array at steps","body":"<p>There is a method in Arrays that might help.     </p>\n\n<pre><code> int[] newArr = Arrays.copyOfRange(arr, 5,10); \n</code></pre>\n\n<p>It is obviously far less powerful the the python implementation. </p>\n"},{"tags":[],"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1466452184,"creation_date":1466450783,"answer_id":37930317,"question_id":37929671,"body_markdown":"If you are using Java 8, then you can make use of streams and do the following:\r\n\r\n    int [] a = new int [] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\r\n\r\n\t// filter out all indices that evenly divide 3\r\n\tint [] sliceArr = IntStream.range(0, a.length).filter(i -&gt; i % 3 == 0)\r\n\t    .map(i -&gt; a[i]).toArray();\r\n\r\n\tSystem.out.println(Arrays.toString(sliceArr));\r\n\r\n**Outputs**:\r\n[0, 3, 6, 9]\r\n\r\n","title":"Java - Slice any array at steps","body":"<p>If you are using Java 8, then you can make use of streams and do the following:</p>\n\n<pre><code>int [] a = new int [] {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n\n// filter out all indices that evenly divide 3\nint [] sliceArr = IntStream.range(0, a.length).filter(i -&gt; i % 3 == 0)\n    .map(i -&gt; a[i]).toArray();\n\nSystem.out.println(Arrays.toString(sliceArr));\n</code></pre>\n\n<p><strong>Outputs</strong>:\n[0, 3, 6, 9]</p>\n"},{"tags":[],"owner":{"account_id":1753064,"reputation":1709,"user_id":1601729,"accept_rate":93,"display_name":"Ironcache"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466453360,"creation_date":1466452033,"answer_id":37930638,"question_id":37929671,"body_markdown":"Java has no built-in mechanism for this.  You could write a helper function:\r\n\r\n    public static int[] sliceArray(int[] arr, int spacing) {\r\n        int curr = 0;\r\n        int[] newArr = new int[((arr.length - 1) / spacing) + 1];\r\n        for (int i = 0; i &lt; newArr.length; ++i) {\r\n            newArr[i] = arr[curr];\r\n            curr += spacing;\r\n        }\r\n        return newArr;\r\n    }\r\n\r\n[Example](https://ideone.com/h8KdY8)\r\n\r\nNote that Michael&#39;s answer is better (or at least less verbose) if you can utilize Java 8.","title":"Java - Slice any array at steps","body":"<p>Java has no built-in mechanism for this.  You could write a helper function:</p>\n\n<pre><code>public static int[] sliceArray(int[] arr, int spacing) {\n    int curr = 0;\n    int[] newArr = new int[((arr.length - 1) / spacing) + 1];\n    for (int i = 0; i &lt; newArr.length; ++i) {\n        newArr[i] = arr[curr];\n        curr += spacing;\n    }\n    return newArr;\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/h8KdY8\" rel=\"nofollow\">Example</a></p>\n\n<p>Note that Michael's answer is better (or at least less verbose) if you can utilize Java 8.</p>\n"},{"tags":[],"owner":{"account_id":12901780,"reputation":117,"user_id":9330353,"display_name":"sai surya madhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657092382,"creation_date":1657092382,"answer_id":72879428,"question_id":37929671,"body_markdown":"We can simply loop over array and collect values on every step\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; sliceArray(List&lt;T&gt; arr,int start, int stop ,int step){\r\n        System.out.println(&quot;slice with step initial = &quot; + arr);\r\n        List&lt;T&gt; res = new ArrayList&lt;T&gt;();\r\n        for(int i=0;i&lt;arr.size();i++){\r\n            if(i%step==0) res.add(arr.get(i));\r\n        }\r\n        return res;\r\n    }","title":"Java - Slice any array at steps","body":"<p>We can simply loop over array and collect values on every step</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; sliceArray(List&lt;T&gt; arr,int start, int stop ,int step){\n    System.out.println(&quot;slice with step initial = &quot; + arr);\n    List&lt;T&gt; res = new ArrayList&lt;T&gt;();\n    for(int i=0;i&lt;arr.size();i++){\n        if(i%step==0) res.add(arr.get(i));\n    }\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":8217611,"reputation":73,"user_id":6462092,"accept_rate":75,"display_name":"robman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13487,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":37930317,"answer_count":4,"score":4,"last_activity_date":1657092382,"creation_date":1466448384,"question_id":37929671,"body_markdown":"In python we are able to do the following: \r\n     \r\n\r\n     array = [0,1,2,3,4,5,6,7,8,9,10]\r\n     new_array= array[::3]\r\n     print(new_array)\r\n    &gt;&gt;&gt;[0,3,6,9]\r\n\r\nIs there an equivalent to this in Java? I have been looking for this type of array slicing, but I have had no luck. Any help would be great, Thanks!","title":"Java - Slice any array at steps","body":"<p>In python we are able to do the following: </p>\n\n<pre><code> array = [0,1,2,3,4,5,6,7,8,9,10]\n new_array= array[::3]\n print(new_array)\n&gt;&gt;&gt;[0,3,6,9]\n</code></pre>\n\n<p>Is there an equivalent to this in Java? I have been looking for this type of array slicing, but I have had no luck. Any help would be great, Thanks!</p>\n"},{"tags":["java","android","kotlin","exoplayer","android-viewpager2"],"comments":[{"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"score":0,"creation_date":1657093153,"post_id":72879407,"comment_id":128724498,"body_markdown":"Does this answer your question? [How to remove the space between two fragments in android view pager?](https://stackoverflow.com/questions/24908071/how-to-remove-the-space-between-two-fragments-in-android-view-pager)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24908071/how-to-remove-the-space-between-two-fragments-in-android-view-pager\">How to remove the space between two fragments in android view pager?</a>"}],"owner":{"account_id":24429427,"reputation":172,"user_id":18354566,"display_name":"Muzammal Abdul Ghafoor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657092291,"creation_date":1657092291,"question_id":72879407,"body_markdown":"**XML**\r\nI&#39;m trying to remove the margin between viewPager2 items when I scroll the page.\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:layout_margin=&quot;0dp&quot;\r\n    android:padding=&quot;0dp&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n    &lt;VideoView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;0dp&quot;\r\n        android:padding=&quot;0dp&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/video_view&quot;&gt;\r\n    &lt;/VideoView&gt;\r\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_margin=&quot;0dp&quot;\r\n        android:padding=&quot;0dp&quot;\r\n        android:id=&quot;@+id/exo_player&quot;&gt;\r\n\r\n    &lt;/com.google.android.exoplayer2.ui.StyledPlayerView&gt;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        android:src=&quot;@drawable/img&quot;&gt;&lt;/ImageView&gt;\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progress&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;&lt;/ProgressBar&gt;\r\n&lt;/RelativeLayout&gt; \r\n```\r\n\r\n[![When I run the code it looks like this][1]][1]\r\n[![I want to make like this TikTok, no margin between items][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qkmxt.jpg\r\n  [2]: https://i.stack.imgur.com/zGsop.jpg\r\nI&#39; trying to make simple application like tiktok but this an issue I&#39;m facing while scrolling my videos.","title":"How I can Remove the margin between two item in ViewPager2","body":"<p><strong>XML</strong>\nI'm trying to remove the margin between viewPager2 items when I scroll the page.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:layout_margin=&quot;0dp&quot;\n    android:padding=&quot;0dp&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;VideoView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_margin=&quot;0dp&quot;\n        android:padding=&quot;0dp&quot;\n        android:visibility=&quot;gone&quot;\n        android:id=&quot;@+id/video_view&quot;&gt;\n    &lt;/VideoView&gt;\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_margin=&quot;0dp&quot;\n        android:padding=&quot;0dp&quot;\n        android:id=&quot;@+id/exo_player&quot;&gt;\n\n    &lt;/com.google.android.exoplayer2.ui.StyledPlayerView&gt;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/img&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:src=&quot;@drawable/img&quot;&gt;&lt;/ImageView&gt;\n    &lt;ProgressBar\n        android:id=&quot;@+id/progress&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;&lt;/ProgressBar&gt;\n&lt;/RelativeLayout&gt; \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qkmxt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qkmxt.jpg\" alt=\"When I run the code it looks like this\" /></a>\n<a href=\"https://i.stack.imgur.com/zGsop.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zGsop.jpg\" alt=\"I want to make like this TikTok, no margin between items\" /></a></p>\n<p>I' trying to make simple application like tiktok but this an issue I'm facing while scrolling my videos.</p>\n"},{"tags":["java","spring-boot","java-8","executable-jar"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648638802,"post_id":71675823,"comment_id":126673974,"body_markdown":"You can check that your jar is valid and contains the class file you expect by opening it as a zip. On linux use `unzip -l /pathToJarFile/Report.jar`, on windows rename it into `/pathToJarFile/Report.zip` then open it from the file explorer","body":"You can check that your jar is valid and contains the class file you expect by opening it as a zip. On linux use <code>unzip -l &#47;pathToJarFile&#47;Report.jar</code>, on windows rename it into <code>&#47;pathToJarFile&#47;Report.zip</code> then open it from the file explorer"},{"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"score":0,"creation_date":1648639938,"post_id":71675823,"comment_id":126674398,"body_markdown":"@Aaron yes i did that and i can see .class file in jar - BOOT-INF/classes/com.job.MainClass2.class","body":"@Aaron yes i did that and i can see .class file in jar - BOOT-INF/classes/com.job.MainClass2.class"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648640258,"post_id":71675823,"comment_id":126674517,"body_markdown":"the path inside the jar is weird. I&#39;d have expected com/job/MainClass2.class. How did you package your jar?","body":"the path inside the jar is weird. I&#39;d have expected com/job/MainClass2.class. How did you package your jar?"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648640433,"post_id":71675823,"comment_id":126674574,"body_markdown":"Ah, is it a Spring Boot application ? If so, I think you&#39;re supposed to run it using java -Xmx1024m -jar /pathToJarFile/Report.jar","body":"Ah, is it a Spring Boot application ? If so, I think you&#39;re supposed to run it using java -Xmx1024m -jar /pathToJarFile/Report.jar"},{"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"score":0,"creation_date":1648640711,"post_id":71675823,"comment_id":126674698,"body_markdown":"Yeah its a spring boot application. Incase of -jar how can specify which MainClass to invoke since i cannot change Manifest file to mention exact main class, because the same jar is used from other script and there i have used -jar which is working fine as MainClass1 is mentioned in manifest file.","body":"Yeah its a spring boot application. Incase of -jar how can specify which MainClass to invoke since i cannot change Manifest file to mention exact main class, because the same jar is used from other script and there i have used -jar which is working fine as MainClass1 is mentioned in manifest file."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648641060,"post_id":71675823,"comment_id":126674836,"body_markdown":"I&#39;m not familiar with Spring Boot apps, but I think it&#39;s in the application configuration/code that this should be set up, rather than as a command line option. Maybe an application.properties, or something like that?","body":"I&#39;m not familiar with Spring Boot apps, but I think it&#39;s in the application configuration/code that this should be set up, rather than as a command line option. Maybe an application.properties, or something like that?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648642922,"post_id":71675823,"comment_id":126675568,"body_markdown":"Please post the result of `unzip -l /pathToJarFile/Report.jar | grep MainClass2` or `jar tf /pathToJarFile/Report.jar | grep MainClass2`","body":"Please post the result of <code>unzip -l &#47;pathToJarFile&#47;Report.jar | grep MainClass2</code> or <code>jar tf &#47;pathToJarFile&#47;Report.jar | grep MainClass2</code>"},{"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"score":0,"creation_date":1648643141,"post_id":71675823,"comment_id":126675672,"body_markdown":"@g00se \nBOOT-INF/classes/com/job/MainClass2.class","body":"@g00se  BOOT-INF/classes/com/job/MainClass2.class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648643821,"post_id":71675823,"comment_id":126675989,"body_markdown":"That&#39;s not going to load. It would have to be `com/job/MainClass2.class`","body":"That&#39;s not going to load. It would have to be <code>com&#47;job&#47;MainClass2.class</code>"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1648644346,"post_id":71675823,"comment_id":126676204,"body_markdown":"@g00se it&#39;s a spring boot app, it looks like that&#39;s how application classes are packaged inside it ([source](https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure))","body":"@g00se it&#39;s a spring boot app, it looks like that&#39;s how application classes are packaged inside it (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/executable-jar.html#appendix.executable-jar.nested-jars.jar-structure\" rel=\"nofollow noreferrer\">source</a>)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648646002,"post_id":71675823,"comment_id":126676916,"body_markdown":"`pathtojavabin/java -Xmx1024m -cp /pathToJarFile/Report.jar -Xbootclasspath/a:BOOT-INF/classes com.job.MainClass2`","body":"<code>pathtojavabin&#47;java -Xmx1024m -cp &#47;pathToJarFile&#47;Report.jar -Xbootclasspath&#47;a:BOOT-INF&#47;classes com.job.MainClass2</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1648647181,"post_id":71675823,"comment_id":126677417,"body_markdown":"@Aaron Yes, I guessed so. The above should be a workaround","body":"@Aaron Yes, I guessed so. The above should be a workaround"},{"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"score":0,"creation_date":1648648112,"post_id":71675823,"comment_id":126677897,"body_markdown":"@g00se it did not work.. got same error","body":"@g00se it did not work.. got same error"}],"answers":[{"tags":[],"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657092082,"creation_date":1657092082,"answer_id":72879372,"question_id":71675823,"body_markdown":"Below worked for me,\r\n\r\npathtojavabin/java -Xmx1024m -cp /pathToJarFile/Report.jar -Dloader=com.job.MainClass2 org.springframework.boot.loader.PropertiesLauncher ","title":"Issue loading Main class from shell script Java","body":"<p>Below worked for me,</p>\n<p>pathtojavabin/java -Xmx1024m -cp /pathToJarFile/Report.jar -Dloader=com.job.MainClass2 org.springframework.boot.loader.PropertiesLauncher</p>\n"}],"owner":{"account_id":7725635,"reputation":63,"user_id":5850346,"display_name":"NewBie"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657092082,"creation_date":1648637311,"question_id":71675823,"body_markdown":"I want to invoke a Main class from jar file - Report.jar\r\nThere are 2 classes with main method in the jar file and both class in the same package - com.job\r\n\r\nI am using below command from .csh to invoke main class\r\n\r\npathtojavabin/java -Xmx1024m -cp /pathToJarFile/Report.jar com.job.MainClass2\r\n\r\nBut its giving me error -\r\ncannot find or load com.job.MainClass2\r\n\r\nI am unable to understand where i am making mistake.","title":"Issue loading Main class from shell script Java","body":"<p>I want to invoke a Main class from jar file - Report.jar\nThere are 2 classes with main method in the jar file and both class in the same package - com.job</p>\n<p>I am using below command from .csh to invoke main class</p>\n<p>pathtojavabin/java -Xmx1024m -cp /pathToJarFile/Report.jar com.job.MainClass2</p>\n<p>But its giving me error -\ncannot find or load com.job.MainClass2</p>\n<p>I am unable to understand where i am making mistake.</p>\n"},{"tags":["java","hibernate","hibernate-mapping","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657092772,"post_id":72879348,"comment_id":128724379,"body_markdown":"So, do you use `hibernate.cfg.xml` or java based configuration now?","body":"So, do you use <code>hibernate.cfg.xml</code> or java based configuration now?"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1657093852,"post_id":72879348,"comment_id":128724749,"body_markdown":"`new Configuration().configure()` will automatically load `hibernate.cfg.xml`. I have already added the statement on how I am creating `SessionFactory`","body":"<code>new Configuration().configure()</code> will automatically load <code>hibernate.cfg.xml</code>. I have already added the statement on how I am creating <code>SessionFactory</code>"}],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657091978,"creation_date":1657091978,"question_id":72879348,"body_markdown":"I am using a `5.4.15.Final` version of hibernate. When I am running my application in create mode it is not dropped and create the tables. Is there any way I can do it? I remember I was able to do the same in older version(don&#39;t exactly remember the version). My `hibernate.cfg.xml` file is below:\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration SYSTEM &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/test&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;5&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;output.record.batch.size&quot;&gt;10&lt;/property&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.create-source&quot;&gt;metadata&lt;/property&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot;&gt;create&lt;/property&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot;&gt;create&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.hbm2dll.create_namespaces&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot;&gt;sql/executors_create.sql&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL81Dialect&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nI am creating the sessionFactory object as below:\r\n\r\n    SessionFactory sessionFactory = new Configuration().configure().addAnnotatedClass(Test.class).buildSessionFactory();\r\n\r\n\r\nIs there any way to solve this?\r\n","title":"Hibernate `create` not dropping table on `5.4.15.Final` version","body":"<p>I am using a <code>5.4.15.Final</code> version of hibernate. When I am running my application in create mode it is not dropped and create the tables. Is there any way I can do it? I remember I was able to do the same in older version(don't exactly remember the version). My <code>hibernate.cfg.xml</code> file is below:</p>\n<p><strong>hibernate.cfg.xml</strong></p>\n<pre><code>&lt;?xml version = &quot;1.0&quot; encoding = &quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-configuration SYSTEM &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.postgresql.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:postgresql://localhost:5432/test&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;postgres&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.pool_size&quot;&gt;5&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\n        &lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;output.record.batch.size&quot;&gt;10&lt;/property&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.create-source&quot;&gt;metadata&lt;/property&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot;&gt;create&lt;/property&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot;&gt;create&lt;/property&gt;\n        &lt;property name=&quot;hibernate.hbm2dll.create_namespaces&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot;&gt;sql/executors_create.sql&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.PostgreSQL81Dialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>I am creating the sessionFactory object as below:</p>\n<pre><code>SessionFactory sessionFactory = new Configuration().configure().addAnnotatedClass(Test.class).buildSessionFactory();\n</code></pre>\n<p>Is there any way to solve this?</p>\n"},{"tags":["java","android","xml","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657091248,"creation_date":1657091248,"answer_id":72879225,"question_id":72878695,"body_markdown":"When you create your dialog, you can pass theme as a second param \r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity(), R.style.MyDialogTheme);\r\n\r\nand set the custom theme to override anything you need. For background color something like this should work:\r\n\r\n```\r\n&lt;style name=&quot;MyDialogTheme&quot; parent=&quot;Theme.AppCompat.Light.Dialog.Alert&quot;&gt;\r\n    &lt;item name=&quot;android:background&quot;&gt;@color/customBG&lt;/item&gt;\r\n&lt;/style&gt;\r\n```","title":"Trying to change custom dialog Background color","body":"<p>When you create your dialog, you can pass theme as a second param</p>\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getActivity(), R.style.MyDialogTheme);\n</code></pre>\n<p>and set the custom theme to override anything you need. For background color something like this should work:</p>\n<pre><code>&lt;style name=&quot;MyDialogTheme&quot; parent=&quot;Theme.AppCompat.Light.Dialog.Alert&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@color/customBG&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657091643,"creation_date":1657091643,"answer_id":72879289,"question_id":72878695,"body_markdown":"I think you should use Dialog instead of AlertDialog.\r\nAlert Dialog has its own Title and Button. \r\n\r\nWith Dialog you will have the benefit of defining your Title and Buttons.\r\n\r\nCreate a Layout as your design needs and set it in Dialog.\r\n\r\n    class ABC(context: Context) : Dialog(context) {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        setContentView(R.layout.your_custom_layout)\r\n    }\r\n    }","title":"Trying to change custom dialog Background color","body":"<p>I think you should use Dialog instead of AlertDialog.\nAlert Dialog has its own Title and Button.</p>\n<p>With Dialog you will have the benefit of defining your Title and Buttons.</p>\n<p>Create a Layout as your design needs and set it in Dialog.</p>\n<pre><code>class ABC(context: Context) : Dialog(context) {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    setContentView(R.layout.your_custom_layout)\n}\n}\n</code></pre>\n"}],"owner":{"account_id":14225859,"reputation":53,"user_id":10276592,"display_name":"Pedro Malavet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72879289,"answer_count":2,"score":1,"last_activity_date":1657091643,"creation_date":1657088141,"question_id":72878695,"body_markdown":"Ok so I am trying change my background of my dialog box from white to a dark blue. However when I long press on one of the grid elements the dialog box looks like this: \r\n\r\n[![How it looks][1]][1]\r\n\r\n\r\nI am trying to make it look something like this (this is a photoshop):\r\n\r\n[![PhotoShop of how I want it to look like][2]][2]\r\n\r\nHere is snipet of my XML code for the edit dialog\r\n\r\n    &lt;RelativeLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot; \r\n    android:layout_height=&quot;match_parent&quot; \r\n    android:padding=&quot;16dp&quot;\r\n    android:background=&quot;@color/customBG&quot;&gt;\r\n\r\nJava code for custom dialog\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState)\r\n    {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.edit_game_dialog,null);\r\n\r\n        editTitle = view.findViewById(R.id.editTitle);\r\n        editTitle.setText(currentTitle);\r\n        imageView = view.findViewById(R.id.item_image_dialog);\r\n        imageView.setImageResource(currentImage);\r\n        changeImageBt = view.findViewById(R.id.change_image);\r\n\r\n        changeImageBt.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n\r\n            }\r\n        });\r\n\r\n        builder.setView(view).setTitle(&quot;Edit game&quot;)\r\n                .setPositiveButton(&quot;Apply Changes&quot;, new DialogInterface.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i)\r\n                    {\r\n                        String title = editTitle.getText().toString();\r\n                        int image = R.drawable.blank; //PLACE HOLDER CODE\r\n                        editGameDialogListener.applyChanges(pos,title,image);\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener()\r\n                {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i)\r\n                    {\r\n\r\n                    }\r\n                });\r\n\r\n        return builder.create();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgJcP.jpg\r\n  [2]: https://i.stack.imgur.com/zNoXo.jpg","title":"Trying to change custom dialog Background color","body":"<p>Ok so I am trying change my background of my dialog box from white to a dark blue. However when I long press on one of the grid elements the dialog box looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/wgJcP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgJcP.jpg\" alt=\"How it looks\" /></a></p>\n<p>I am trying to make it look something like this (this is a photoshop):</p>\n<p><a href=\"https://i.stack.imgur.com/zNoXo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zNoXo.jpg\" alt=\"PhotoShop of how I want it to look like\" /></a></p>\n<p>Here is snipet of my XML code for the edit dialog</p>\n<pre><code>&lt;RelativeLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot; \nandroid:layout_height=&quot;match_parent&quot; \nandroid:padding=&quot;16dp&quot;\nandroid:background=&quot;@color/customBG&quot;&gt;\n</code></pre>\n<p>Java code for custom dialog</p>\n<pre><code>@Override\npublic Dialog onCreateDialog(Bundle savedInstanceState)\n{\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n\n    LayoutInflater inflater = getActivity().getLayoutInflater();\n    View view = inflater.inflate(R.layout.edit_game_dialog,null);\n\n    editTitle = view.findViewById(R.id.editTitle);\n    editTitle.setText(currentTitle);\n    imageView = view.findViewById(R.id.item_image_dialog);\n    imageView.setImageResource(currentImage);\n    changeImageBt = view.findViewById(R.id.change_image);\n\n    changeImageBt.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n\n        }\n    });\n\n    builder.setView(view).setTitle(&quot;Edit game&quot;)\n            .setPositiveButton(&quot;Apply Changes&quot;, new DialogInterface.OnClickListener()\n            {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i)\n                {\n                    String title = editTitle.getText().toString();\n                    int image = R.drawable.blank; //PLACE HOLDER CODE\n                    editGameDialogListener.applyChanges(pos,title,image);\n                }\n            })\n            .setNegativeButton(&quot;Cancel&quot;, new DialogInterface.OnClickListener()\n            {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i)\n                {\n\n                }\n            });\n\n    return builder.create();\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","cloud","amazon-cloudwatch"],"comments":[{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551358835,"post_id":54926003,"comment_id":96617211,"body_markdown":"How do you plan executing 1K messages at a time? SQS only allows consumers to fetch 10 messages at once.","body":"How do you plan executing 1K messages at a time? SQS only allows consumers to fetch 10 messages at once."},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551358992,"post_id":54926003,"comment_id":96617302,"body_markdown":"For the lambda we don&#39;t want to process 1000 messages at a time, we would like to have 1 SQS event which its body is the content of 1.000 messages.","body":"For the lambda we don&#39;t want to process 1000 messages at a time, we would like to have 1 SQS event which its body is the content of 1.000 messages."},{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551359188,"post_id":54926003,"comment_id":96617404,"body_markdown":"Whatever you are trying to achieve seems to be conflicting. If you are sending ONE message and this message has a body of 1000 attributes, for SQS it still is one message, so you&#39;ll never be able to configure an Alarm like that. Also keep in mind that your message has a limit of 256KB, depending on your objects size, this limit is going to be exceeded and you&#39;ll lose the message. Am I still missing something?","body":"Whatever you are trying to achieve seems to be conflicting. If you are sending ONE message and this message has a body of 1000 attributes, for SQS it still is one message, so you&#39;ll never be able to configure an Alarm like that. Also keep in mind that your message has a limit of 256KB, depending on your objects size, this limit is going to be exceeded and you&#39;ll lose the message. Am I still missing something?"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551360247,"post_id":54926003,"comment_id":96618028,"body_markdown":"Hi @Thales, maybe my explanation is not good enough. I have copied here the same comment I put to Chris.  We have a process (process A) which keep generate files in S3. And the process (process B) we are trying to build is to group 1000 of files together to perform another business logic. After the process A generated a file to S3, they send a SQS message. And the process B must work as a batch of 1000 of files, we don&#39;t want to process B processes single single file","body":"Hi @Thales, maybe my explanation is not good enough. I have copied here the same comment I put to Chris.  We have a process (process A) which keep generate files in S3. And the process (process B) we are trying to build is to group 1000 of files together to perform another business logic. After the process A generated a file to S3, they send a SQS message. And the process B must work as a batch of 1000 of files, we don&#39;t want to process B processes single single file"},{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551360394,"post_id":54926003,"comment_id":96618107,"body_markdown":"So, from what I understand, it&#39;s not one message with 1000 attributes. It would be 1000 messages and you want to process them at once, correct?","body":"So, from what I understand, it&#39;s not one message with 1000 attributes. It would be 1000 messages and you want to process them at once, correct?"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551361230,"post_id":54926003,"comment_id":96618604,"body_markdown":"Yes you are correct","body":"Yes you are correct"},{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551361300,"post_id":54926003,"comment_id":96618656,"body_markdown":"This is impossible to achieve with SQS, because you can only poll up to 10 messages at once.","body":"This is impossible to achieve with SQS, because you can only poll up to 10 messages at once."},{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551361496,"post_id":54926003,"comment_id":96618775,"body_markdown":"Do you mind explaining why you need to process these files when it reaches the number of a thousand?","body":"Do you mind explaining why you need to process these files when it reaches the number of a thousand?"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551363718,"post_id":54926003,"comment_id":96620146,"body_markdown":"We need to merge 1000 files together and then send the consolidated file to another system. That system requires a file which its content is a concatenation of1000 files","body":"We need to merge 1000 files together and then send the consolidated file to another system. That system requires a file which its content is a concatenation of1000 files"},{"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"score":0,"creation_date":1551364856,"post_id":54926003,"comment_id":96620841,"body_markdown":"I have added an answer. Should you need more things let me know","body":"I have added an answer. Should you need more things let me know"},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551368845,"post_id":54926003,"comment_id":96623374,"body_markdown":"Thanks a lot. I&#39;m taking a look on your answers now.","body":"Thanks a lot. I&#39;m taking a look on your answers now."},{"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"score":0,"creation_date":1551484030,"post_id":54926003,"comment_id":96670205,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/189284/discussion-between-nghia-do-and-thales-minussi).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/189284/discussion-between-nghia-do-and-thales-minussi\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":3767468,"reputation":1635,"user_id":5354009,"display_name":"Chris Pollard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551358613,"creation_date":1551358613,"answer_id":54926296,"question_id":54926003,"body_markdown":"You can add alarms at 1k, 2k, 3k, etc...but that seems clunky. \r\n\r\nIs there a reason you&#39;re letting the messages batch up? You can make this trigger event-based (when a queue message is added fire my lambda) and get rid of the complications of batching them. ","title":"Trigger Lambda by number of SQS messages","body":"<p>You can add alarms at 1k, 2k, 3k, etc...but that seems clunky. </p>\n\n<p>Is there a reason you're letting the messages batch up? You can make this trigger event-based (when a queue message is added fire my lambda) and get rid of the complications of batching them. </p>\n"},{"tags":[],"owner":{"account_id":15176193,"reputation":7075,"user_id":10950867,"display_name":"Thales Minussi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1551364831,"creation_date":1551364831,"answer_id":54928159,"question_id":54926003,"body_markdown":"So after going through some clarifications on the comments section with the OP, here&#39;s my answer (combined with @ChrisPollard&#39;s comment):\r\n\r\nAchieving what you want with SQS is impossible, because every batch can only contain up to 10 messages. Since you need to process 1000 messages at once, this is definitely a no-go. \r\n\r\n@ChrisPollard suggested to create a new record in DynamoDB every time a new file is pushed to S3. This is a very good approach. Increment the partition key by 1 every time and trigger a lambda through [DynamoDB Streams][1]. On your function, run a check against your partition key and, if it equals 1000, you run a query against your DynamoDB table filtering the last 1000 updated items (you&#39;ll need a Global Secondary Index on your CreatedAt field). Map these items (or use [Projections][2]) to create a very minimal JSON that contains only the necessary information. Something like:\r\n\r\n    [\r\n        {\r\n         &quot;key&quot;: &quot;my-amazing-key&quot;,\r\n         &quot;bucket&quot;: &quot;my-super-cool-bucket&quot;\r\n        },\r\n        ...\r\n    ]\r\n\r\nA JSON like this is only 87 bytes long (if you take the square brackets out of the game  because they won&#39;t be repeated, you&#39;re left out with 83 bytes). If you round it up to 100 bytes, you can still successfully send it as one event to SQS, as it will only be around 100KB of data.\r\n\r\nThen have one Lambda function subscribe to your SQS queue and then finally concatenate the 1 thousand files. \r\n\r\nThings to keep in mind:\r\n\r\n1. Make sure you really create the createdAt field in DynamoDB. By the time it hits one thousand, new items could have been inserted, so this way you make sure you are reading the 1000 items that you expected.\r\n\r\n2. On your Lambda check, just run batchId % 1000 = 0, this way you don&#39;t need to delete anything, saving DynamoDB operations.\r\n\r\n3. Watch out for the execution time of your Lambda. Concatenating 1000 files at once may take a while to run, so I&#39;d run a couple of tests and put 1 min overhead on top of it. I.e, if it usually takes 5 mins, set your function&#39;s timeout to 6 mins.\r\n\r\nIf you have new info to share I am happy to edit my answer.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.html\r\n  [2]: https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Projection.html","title":"Trigger Lambda by number of SQS messages","body":"<p>So after going through some clarifications on the comments section with the OP, here's my answer (combined with @ChrisPollard's comment):</p>\n\n<p>Achieving what you want with SQS is impossible, because every batch can only contain up to 10 messages. Since you need to process 1000 messages at once, this is definitely a no-go. </p>\n\n<p>@ChrisPollard suggested to create a new record in DynamoDB every time a new file is pushed to S3. This is a very good approach. Increment the partition key by 1 every time and trigger a lambda through <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.html\" rel=\"nofollow noreferrer\">DynamoDB Streams</a>. On your function, run a check against your partition key and, if it equals 1000, you run a query against your DynamoDB table filtering the last 1000 updated items (you'll need a Global Secondary Index on your CreatedAt field). Map these items (or use <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Projection.html\" rel=\"nofollow noreferrer\">Projections</a>) to create a very minimal JSON that contains only the necessary information. Something like:</p>\n\n<pre><code>[\n    {\n     \"key\": \"my-amazing-key\",\n     \"bucket\": \"my-super-cool-bucket\"\n    },\n    ...\n]\n</code></pre>\n\n<p>A JSON like this is only 87 bytes long (if you take the square brackets out of the game  because they won't be repeated, you're left out with 83 bytes). If you round it up to 100 bytes, you can still successfully send it as one event to SQS, as it will only be around 100KB of data.</p>\n\n<p>Then have one Lambda function subscribe to your SQS queue and then finally concatenate the 1 thousand files. </p>\n\n<p>Things to keep in mind:</p>\n\n<ol>\n<li><p>Make sure you really create the createdAt field in DynamoDB. By the time it hits one thousand, new items could have been inserted, so this way you make sure you are reading the 1000 items that you expected.</p></li>\n<li><p>On your Lambda check, just run batchId % 1000 = 0, this way you don't need to delete anything, saving DynamoDB operations.</p></li>\n<li><p>Watch out for the execution time of your Lambda. Concatenating 1000 files at once may take a while to run, so I'd run a couple of tests and put 1 min overhead on top of it. I.e, if it usually takes 5 mins, set your function's timeout to 6 mins.</p></li>\n</ol>\n\n<p>If you have new info to share I am happy to edit my answer.</p>\n"},{"tags":[],"owner":{"account_id":14502510,"reputation":42,"user_id":10475249,"display_name":"Sumanth Pandugula "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586966038,"creation_date":1586966038,"answer_id":61233089,"question_id":54926003,"body_markdown":"I handled a very similar situation recently, process-A puts objects in an S3 bucket and every time it does it puts a message in the SQS, with the key and bucket details, I have a lambda which is triggered every hour, but it can be any trigger like your cloud watch alarm. Here is what you can do on every trigger:\r\n\r\n-  Read the messages from the queue, SQS allows you to read only 10 messages at a time, and every time you read the messages, keep adding them to some list in your lambda, you also get a receipt handle for every message , you can use it to delete the messages and repeat this process until you read all 1000 messages in your queue. Now you can perform whatever operations are required on your list and feed it to process B in a number of different ways , like a file in S3 and/or a new queue that process B can read from.\r\n\r\n-  Alternate approach to reading messages: SQS allows you to read only 10 messages at a time, you can send an optional parameter &#39;VisibilityTimeout&#39;:60 that hides the messages from the queue for 60 seconds and you can recursively read all the messages until you dont see any messages in the queue, all while adding them to a list in lambda to process them, this can be tricky since you have to try out different values for visibility time out based on how long it takes to read 1000 messages. Once you know you read all the messages, you can simply have the receipt handles and delete all of them. You can also purge the queue but , you may delete some of the messages that came in during this process that are not read at least once.  ","title":"Trigger Lambda by number of SQS messages","body":"<p>I handled a very similar situation recently, process-A puts objects in an S3 bucket and every time it does it puts a message in the SQS, with the key and bucket details, I have a lambda which is triggered every hour, but it can be any trigger like your cloud watch alarm. Here is what you can do on every trigger:</p>\n\n<ul>\n<li><p>Read the messages from the queue, SQS allows you to read only 10 messages at a time, and every time you read the messages, keep adding them to some list in your lambda, you also get a receipt handle for every message , you can use it to delete the messages and repeat this process until you read all 1000 messages in your queue. Now you can perform whatever operations are required on your list and feed it to process B in a number of different ways , like a file in S3 and/or a new queue that process B can read from.</p></li>\n<li><p>Alternate approach to reading messages: SQS allows you to read only 10 messages at a time, you can send an optional parameter 'VisibilityTimeout':60 that hides the messages from the queue for 60 seconds and you can recursively read all the messages until you dont see any messages in the queue, all while adding them to a list in lambda to process them, this can be tricky since you have to try out different values for visibility time out based on how long it takes to read 1000 messages. Once you know you read all the messages, you can simply have the receipt handles and delete all of them. You can also purge the queue but , you may delete some of the messages that came in during this process that are not read at least once.  </p></li>\n</ul>\n"}],"owner":{"account_id":2369279,"reputation":2588,"user_id":2074257,"display_name":"Nghia Do"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2560,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54928159,"answer_count":3,"score":2,"last_activity_date":1657091566,"creation_date":1551357682,"question_id":54926003,"body_markdown":"I have a SQS which will receive a huge number of messages. The messages keep coming to the queue.\r\n\r\nAnd I have a use case where if the number of messages in a queue reaches X number (such as 1,000), the system needs to trigger an event to process 1,000 at a time.\r\n\r\nAnd the system will make a chunk of triggers. Each trigger has a thousand messages.\r\n\r\nFor example, if we have 2300 messages in a queue, we expect 3 triggers to a lambda function, the first 2 triggers corresponding to 1,000 messages, and the last one will contain 300 messages.\r\n\r\nI&#39;m researching and see CloudWatch Alarm can hook up to SQS metric on &quot;NumberOfMessageReceived&quot; to send to SNS. But I don&#39;t know how can I configure a chunk of alarms for each 1,000 messages.\r\n\r\nPlease advice me if AWS can support this use case or any customize we can make to achieve this.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wyYwW.png","title":"Trigger Lambda by number of SQS messages","body":"<p>I have a SQS which will receive a huge number of messages. The messages keep coming to the queue.</p>\n<p>And I have a use case where if the number of messages in a queue reaches X number (such as 1,000), the system needs to trigger an event to process 1,000 at a time.</p>\n<p>And the system will make a chunk of triggers. Each trigger has a thousand messages.</p>\n<p>For example, if we have 2300 messages in a queue, we expect 3 triggers to a lambda function, the first 2 triggers corresponding to 1,000 messages, and the last one will contain 300 messages.</p>\n<p>I'm researching and see CloudWatch Alarm can hook up to SQS metric on &quot;NumberOfMessageReceived&quot; to send to SNS. But I don't know how can I configure a chunk of alarms for each 1,000 messages.</p>\n<p>Please advice me if AWS can support this use case or any customize we can make to achieve this.</p>\n<p><a href=\"https://i.stack.imgur.com/wyYwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wyYwW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","quartz"],"comments":[{"owner":{"account_id":2751815,"reputation":667,"user_id":2381424,"accept_rate":25,"display_name":"Roshan"},"score":0,"creation_date":1655894020,"post_id":72713489,"comment_id":128438408,"body_markdown":"In our product design we use JDBC job store when running app in a cluster, but for other purpose a RAM job store should be ok. Also there error seems to with connecting to DB , check this out :https://stackoverflow.com/questions/42073194/unable-to-detect-database-type","body":"In our product design we use JDBC job store when running app in a cluster, but for other purpose a RAM job store should be ok. Also there error seems to with connecting to DB , check this out :<a href=\"https://stackoverflow.com/questions/42073194/unable-to-detect-database-type\" title=\"unable to detect database type\">stackoverflow.com/questions/42073194/&hellip;</a>"},{"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"score":0,"creation_date":1655900981,"post_id":72713489,"comment_id":128441069,"body_markdown":"i add my application and quartz porteries","body":"i add my application and quartz porteries"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1656686350,"post_id":72713489,"comment_id":128639904,"body_markdown":"Have a look at this: https://github.com/quartz-scheduler/quartz/wiki/How-to-Setup-Databases","body":"Have a look at this: <a href=\"https://github.com/quartz-scheduler/quartz/wiki/How-to-Setup-Databases\" rel=\"nofollow noreferrer\">github.com/quartz-scheduler/quartz/wiki/How-to-Setup-Databas&zwnj;&#8203;es</a>"},{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":1,"creation_date":1656686387,"post_id":72713489,"comment_id":128639915,"body_markdown":"Look at this example: https://github.com/hawk1234/spring-quartz-example","body":"Look at this example: <a href=\"https://github.com/hawk1234/spring-quartz-example\" rel=\"nofollow noreferrer\">github.com/hawk1234/spring-quartz-example</a>"},{"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"score":0,"creation_date":1656938067,"post_id":72713489,"comment_id":128685498,"body_markdown":"it&#39;s a conflict with spring-boot-starter-quartz , I managed to start my applcation but it doesn&#39;t call my job","body":"it&#39;s a conflict with spring-boot-starter-quartz , I managed to start my applcation but it doesn&#39;t call my job"}],"answers":[{"tags":[],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657091439,"creation_date":1657091439,"answer_id":72879262,"question_id":72713489,"body_markdown":"``````java\r\n @Bean\r\n    public Scheduler scheduler(Trigger trigger, JobDetail job, SchedulerFactoryBean factory) throws SchedulerException {\r\n        log.debug(&quot;Getting a handle to the Scheduler&quot;);\r\n        Scheduler scheduler = factory.getScheduler();\r\n        if (scheduler.checkExists(job.getKey())){\r\n            scheduler.deleteJob(job.getKey());\r\n        }\r\n        scheduler.scheduleJob(job, trigger);\r\n\r\n        log.debug(&quot;Starting Scheduler threads&quot;);\r\n        scheduler.start();\r\n        return scheduler;\r\n    }\r\n``````\r\n``````\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.jdbc.initialize-schema=always\r\norg.quartz.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\norg.quartz.quartz.threadPool.threadCount=2\r\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate\r\norg.quartz.jobStore.dataSource=quartzDataSource\r\norg.quartz.jobStore.tablePrefix=qrtz_\r\n# change value dataSource\r\norg.quartz.dataSource.quartzDataSource.URL=jdbc:mariadb://localhost:3306/quartzData\r\norg.quartz.dataSource.quartzDataSource.driver=org.mariadb.jdbc.Driver\r\norg.quartz.dataSource.quartzDataSource.user=root\r\norg.quartz.dataSource.quartzDataSource.password=root\r\norg.quartz.dataSource.quartzDataSource.provider=hikaricp\r\norg.quartz.scheduler.rmi.export=true\r\norg.quartz.scheduler.rmi.registryHost=localhost\r\norg.quartz.scheduler.rmi.registryPort=1099\r\norg.quartz.scheduler.rmi.createRegistry=true\r\n``````","title":"How creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39;","body":"<pre class=\"lang-java prettyprint-override\"><code> @Bean\n    public Scheduler scheduler(Trigger trigger, JobDetail job, SchedulerFactoryBean factory) throws SchedulerException {\n        log.debug(&quot;Getting a handle to the Scheduler&quot;);\n        Scheduler scheduler = factory.getScheduler();\n        if (scheduler.checkExists(job.getKey())){\n            scheduler.deleteJob(job.getKey());\n        }\n        scheduler.scheduleJob(job, trigger);\n\n        log.debug(&quot;Starting Scheduler threads&quot;);\n        scheduler.start();\n        return scheduler;\n    }\n</code></pre>\n<pre><code>spring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=always\norg.quartz.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\norg.quartz.quartz.threadPool.threadCount=2\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate\norg.quartz.jobStore.dataSource=quartzDataSource\norg.quartz.jobStore.tablePrefix=qrtz_\n# change value dataSource\norg.quartz.dataSource.quartzDataSource.URL=jdbc:mariadb://localhost:3306/quartzData\norg.quartz.dataSource.quartzDataSource.driver=org.mariadb.jdbc.Driver\norg.quartz.dataSource.quartzDataSource.user=root\norg.quartz.dataSource.quartzDataSource.password=root\norg.quartz.dataSource.quartzDataSource.provider=hikaricp\norg.quartz.scheduler.rmi.export=true\norg.quartz.scheduler.rmi.registryHost=localhost\norg.quartz.scheduler.rmi.registryPort=1099\norg.quartz.scheduler.rmi.createRegistry=true\n</code></pre>\n"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657091439,"creation_date":1655892365,"question_id":72713489,"body_markdown":"I try to use quartz , in first time to run mi API every days so i following this example\r\n[Scheduling in Spring with Quartz][1]\r\nand i have chose Quartz and and JDBC jobStore but i can&#39;t run my application, i&#39;m not sure this useful at this step i use MariaDB.\r\nAnd in my application.properties i have &#233;clipse error The word &#39;jdbc&#39; is not correctly spelled \r\n``````\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-06-22 11:00:33.923 ERROR 27332 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.myp.BatchListDomApplication.main(BatchListeBlancheApplication.java:39) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method &#39;quartzDataSourceScriptDatabaseInitializer&#39; threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Unable to detect database type\r\n\tat org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:96) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:121) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:96) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.resolveSchemaLocations(QuartzDataSourceScriptDatabaseInitializer.java:105) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.getSettings(QuartzDataSourceScriptDatabaseInitializer.java:89) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.&lt;init&gt;(QuartzDataSourceScriptDatabaseInitializer.java:51) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration$JdbcStoreTypeConfiguration.quartzDataSourceScriptDatabaseInitializer(QuartzAutoConfiguration.java:143) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 22 common frames omitted\r\n``````\r\n``````\r\nspring.datasource.url=jdbc:mariadb://localhost:3306/listeBlanche?useSSL=false\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nuseSSL=false\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\nspring.datasource.testWhileIdle = true\r\nspring.datasource.validationQuery = SELECT 1\r\nspring.jpa.show-sql = true\r\nspring.jpa.hibernate.ddl-auto = create\r\nspring.jpa.database = MYSQL\r\nserver.port=8089\r\nspring.quartz.job-store-type=jdbc\r\nspring.batch.initialize-schema=never\r\n\r\n\r\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\norg.quartz.threadPool.threadCount=2\r\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate\r\norg.quartz.jobStore.dataSource=quartzDataSource\r\n# change value dataSource\r\norg.quartz.dataSource.quartzDataSource.URL=jdbc:h2:mem:spring-quartz;INIT=RUNSCRIPT FROM &#39;classpath:/org/quartz/impl/jdbcjobstore/tables_h2.sql&#39;\r\norg.quartz.dataSource.quartzDataSource.driver=org.h2.Driver\r\norg.quartz.dataSource.quartzDataSource.user=root\r\norg.quartz.dataSource.quartzDataSource.password=root\r\norg.quartz.jdbc.initialize-schema=never\r\n``````\r\nI try to change and remove org.quartz.dataSource and spring shema but same error\r\n\r\nPom.xml\r\n``````xml\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;org.projectlombok.version&gt;1.18.6&lt;/org.projectlombok.version&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.2.0.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n``````\r\nI try to include 3 file from the example\r\n[Depot git spring-quartz][2]\r\nend  i only change some import and sp&#233;ciale job using  my web services\r\n[QrtzScheduler.java][3],[SampleJob.java][4] change for call my api, [AutoWiringSpringBeanJobFactory.java][5] exactly the same\r\n``````java\r\npackage com.mypackage.hexa.infrastructure.domain;\r\n\r\nimport com.mypackage.hexa.domain.UpdateListeBlancheJob;\r\nimport com.mypackage.hexa.infrastructure.domain.AutoWiringSpringBeanJobFactory;\r\nimport org.quartz file.*;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.PropertiesFactoryBean;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.scheduling.quartz.SchedulerFactoryBean;\r\nimport org.springframework.scheduling.quartz.SpringBeanJobFactory;\r\n\r\nimport javax.annotation.PostConstruct;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\nimport static org.quartz.JobBuilder.newJob;\r\nimport static org.quartz.SimpleScheduleBuilder.simpleSchedule;\r\nimport static org.quartz.TriggerBuilder.newTrigger;\r\n\r\n@Configuration\r\n@PropertySource(&quot;classpath:quartz.properties&quot;)\r\npublic class QrtzScheduler {}\r\n``````\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-quartz-schedule\r\n  [2]: https://github.com/eugenp/tutorials/tree/master/spring-quartz\r\n  [3]: https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/basics/scheduler/QrtzScheduler.java\r\n  [4]: https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/basics/scheduler/SampleJob.java\r\n  [5]: https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/config/AutoWiringSpringBeanJobFactory.java\r\n\r\n\r\nI change `propertiesFactoryBean.setLocation(new ClassPathResource(&quot;/quartz.properties&quot;));` to `application.properties` and change org.quartz to spring.quartz and now my application start call my job,\r\nBut I have nothing in my Quartz database.","title":"How creating bean with name &#39;quartzDataSourceScriptDatabaseInitializer&#39;","body":"<p>I try to use quartz , in first time to run mi API every days so i following this example\n<a href=\"https://www.baeldung.com/spring-quartz-schedule\" rel=\"nofollow noreferrer\">Scheduling in Spring with Quartz</a>\nand i have chose Quartz and and JDBC jobStore but i can't run my application, i'm not sure this useful at this step i use MariaDB.\nAnd in my application.properties i have éclipse error The word 'jdbc' is not correctly spelled</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-06-22 11:00:33.923 ERROR 27332 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'quartzDataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/quartz/QuartzAutoConfiguration$JdbcStoreTypeConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.myp.BatchListDomApplication.main(BatchListeBlancheApplication.java:39) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer]: Factory method 'quartzDataSourceScriptDatabaseInitializer' threw exception; nested exception is java.lang.IllegalStateException: Unable to detect database type\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 21 common frames omitted\nCaused by: java.lang.IllegalStateException: Unable to detect database type\n    at org.springframework.util.Assert.state(Assert.java:76) ~[spring-core-5.3.20.jar:5.3.20]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.determinePlatform(PlatformPlaceholderDatabaseDriverResolver.java:132) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.lambda$resolveAll$0(PlatformPlaceholderDatabaseDriverResolver.java:96) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:121) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.jdbc.init.PlatformPlaceholderDatabaseDriverResolver.resolveAll(PlatformPlaceholderDatabaseDriverResolver.java:96) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.resolveSchemaLocations(QuartzDataSourceScriptDatabaseInitializer.java:105) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\n    at org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.getSettings(QuartzDataSourceScriptDatabaseInitializer.java:89) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\n    at org.springframework.boot.autoconfigure.quartz.QuartzDataSourceScriptDatabaseInitializer.&lt;init&gt;(QuartzDataSourceScriptDatabaseInitializer.java:51) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\n    at org.springframework.boot.autoconfigure.quartz.QuartzAutoConfiguration$JdbcStoreTypeConfiguration.quartzDataSourceScriptDatabaseInitializer(QuartzAutoConfiguration.java:143) ~[spring-boot-autoconfigure-2.7.0.jar:2.7.0]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 22 common frames omitted\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:mariadb://localhost:3306/listeBlanche?useSSL=false\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nuseSSL=false\nspring.datasource.username = root\nspring.datasource.password = root\nspring.datasource.testWhileIdle = true\nspring.datasource.validationQuery = SELECT 1\nspring.jpa.show-sql = true\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.database = MYSQL\nserver.port=8089\nspring.quartz.job-store-type=jdbc\nspring.batch.initialize-schema=never\n\n\norg.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\norg.quartz.threadPool.threadCount=2\norg.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\norg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.StdJDBCDelegate\norg.quartz.jobStore.dataSource=quartzDataSource\n# change value dataSource\norg.quartz.dataSource.quartzDataSource.URL=jdbc:h2:mem:spring-quartz;INIT=RUNSCRIPT FROM 'classpath:/org/quartz/impl/jdbcjobstore/tables_h2.sql'\norg.quartz.dataSource.quartzDataSource.driver=org.h2.Driver\norg.quartz.dataSource.quartzDataSource.user=root\norg.quartz.dataSource.quartzDataSource.password=root\norg.quartz.jdbc.initialize-schema=never\n</code></pre>\n<p>I try to change and remove org.quartz.dataSource and spring shema but same error</p>\n<p>Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.6&lt;/org.projectlombok.version&gt;\n        &lt;org.mapstruct.version&gt;1.2.0.Final&lt;/org.mapstruct.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I try to include 3 file from the example\n<a href=\"https://github.com/eugenp/tutorials/tree/master/spring-quartz\" rel=\"nofollow noreferrer\">Depot git spring-quartz</a>\nend  i only change some import and spéciale job using  my web services\n<a href=\"https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/basics/scheduler/QrtzScheduler.java\" rel=\"nofollow noreferrer\">QrtzScheduler.java</a>,<a href=\"https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/basics/scheduler/SampleJob.java\" rel=\"nofollow noreferrer\">SampleJob.java</a> change for call my api, <a href=\"https://github.com/eugenp/tutorials/blob/master/spring-quartz/src/main/java/org/baeldung/springquartz/config/AutoWiringSpringBeanJobFactory.java\" rel=\"nofollow noreferrer\">AutoWiringSpringBeanJobFactory.java</a> exactly the same</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mypackage.hexa.infrastructure.domain;\n\nimport com.mypackage.hexa.domain.UpdateListeBlancheJob;\nimport com.mypackage.hexa.infrastructure.domain.AutoWiringSpringBeanJobFactory;\nimport org.quartz file.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.PropertiesFactoryBean;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.scheduling.quartz.SchedulerFactoryBean;\nimport org.springframework.scheduling.quartz.SpringBeanJobFactory;\n\nimport javax.annotation.PostConstruct;\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport static org.quartz.JobBuilder.newJob;\nimport static org.quartz.SimpleScheduleBuilder.simpleSchedule;\nimport static org.quartz.TriggerBuilder.newTrigger;\n\n@Configuration\n@PropertySource(&quot;classpath:quartz.properties&quot;)\npublic class QrtzScheduler {}\n</code></pre>\n<p>I change <code>propertiesFactoryBean.setLocation(new ClassPathResource(&quot;/quartz.properties&quot;));</code> to <code>application.properties</code> and change org.quartz to spring.quartz and now my application start call my job,\nBut I have nothing in my Quartz database.</p>\n"},{"tags":["java","session","web.xml","shiro"],"answers":[{"tags":[],"owner":{"account_id":13367628,"reputation":3141,"user_id":9647266,"display_name":"UnlikePluto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1526340432,"creation_date":1526340432,"answer_id":50340367,"question_id":50337049,"body_markdown":"You can leave your `web.xml` as it is since Shiro has nothing to do with the configruation in this file. There is a difference in the `HttpSession` used by the `HttpServletRequest` of your servlet and the Shiro `Session`. They are completely different things. So don&#39;t get confused by the session configuration by the servlet and the one by  Shiro. We let Shiro handle your session in this case.\r\n \r\n**Problems with your shiro.ini**    \r\nYou are overriding the settings you are writing to the `DefaultWebSessionManager`:\r\n\r\n    sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager // Define a sessionManager variable\r\n    securityManager.sessionMode=native\r\n    securityManager.sessionManager.globalSessionTimeout = 60000 // set a securityManager.sessionManager property\r\n    securityManager.sessionManager = $sessionManager // override the property by setting the object\r\n\r\nYou have to set the object first:\r\n\r\n    sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\r\n    securityManager.sessionManager = $sessionManager\r\n    securityManager.sessionMode=native\r\n    securityManager.sessionManager.globalSessionTimeout = 60000\r\n\r\nYou don&#39;t need the `ExecutorServiceSessionValidationScheduler` since a valdiator is provided by the `DefaultWebSessionManager` already. A working example could look like the following:\r\n\r\n    sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\r\n    # Session timeout token_ttl_ms = 14 days\r\n    sessionManager.globalSessionTimeout = 1209600000\r\n    # Session valdiation = 15 minutes\r\n    sessionManager.sessionValidationInterval = 900000\r\n\r\n    securityManager = org.apache.shiro.web.mgt.DefaultWebSecurityManager\r\n    securityManager.sessionManager = $sessionManager\r\n\r\n**DefaultWebSessionManager**\r\n\r\nThe [DefaultWebSessionManager][1] provides all the functionality you are looking for out of the box (basically). When a session expires the `DefaultWebSessionManager` calls `onExpiration` on its [super][2] which notifys all its listeners about the expiration in the [SessionManager][3]. You simply could register a [SessionListener][4] to your `SessionManager` and trigger a reload or redirect at its `onExpiration` method. Maybe this approach is rather suitable for jsp/jspx applications.   \r\nAnyway, read how to register a session listener [here][5] in the official docs.\r\n\r\n**Alternative approach**\r\n\r\nA different approach could be to have your client manage the session state and let it continuously check for expiration by calling your service. This could be done by a timer or in a loop in JavaScript.\r\n\r\n**Note**\r\n\r\n`org.apache.shiro.authc.credential.Sha256CredentialsMatcher` is deprecated since 2010.    \r\nUse the [HashedCredentialsMatcher][6] directly and set its hashAlgorithmName property.\r\n\r\n  [1]: https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/web/session/mgt/DefaultWebSessionManager.html\r\n  [2]: https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/mgt/AbstractValidatingSessionManager.html\r\n  [3]: https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/mgt/AbstractNativeSessionManager.html\r\n  [4]: https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/SessionListener.html\r\n  [5]: https://shiro.apache.org/session-management.html#SessionManagement-SessionListeners\r\n  [6]: https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/authc/credential/HashedCredentialsMatcher.html\r\n","title":"Shiro - redirect to login page after session timeout","body":"<p>You can leave your <code>web.xml</code> as it is since Shiro has nothing to do with the configruation in this file. There is a difference in the <code>HttpSession</code> used by the <code>HttpServletRequest</code> of your servlet and the Shiro <code>Session</code>. They are completely different things. So don't get confused by the session configuration by the servlet and the one by  Shiro. We let Shiro handle your session in this case.</p>\n\n<p><strong>Problems with your shiro.ini</strong><br>\nYou are overriding the settings you are writing to the <code>DefaultWebSessionManager</code>:</p>\n\n<pre><code>sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager // Define a sessionManager variable\nsecurityManager.sessionMode=native\nsecurityManager.sessionManager.globalSessionTimeout = 60000 // set a securityManager.sessionManager property\nsecurityManager.sessionManager = $sessionManager // override the property by setting the object\n</code></pre>\n\n<p>You have to set the object first:</p>\n\n<pre><code>sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\nsecurityManager.sessionManager = $sessionManager\nsecurityManager.sessionMode=native\nsecurityManager.sessionManager.globalSessionTimeout = 60000\n</code></pre>\n\n<p>You don't need the <code>ExecutorServiceSessionValidationScheduler</code> since a valdiator is provided by the <code>DefaultWebSessionManager</code> already. A working example could look like the following:</p>\n\n<pre><code>sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\n# Session timeout token_ttl_ms = 14 days\nsessionManager.globalSessionTimeout = 1209600000\n# Session valdiation = 15 minutes\nsessionManager.sessionValidationInterval = 900000\n\nsecurityManager = org.apache.shiro.web.mgt.DefaultWebSecurityManager\nsecurityManager.sessionManager = $sessionManager\n</code></pre>\n\n<p><strong>DefaultWebSessionManager</strong></p>\n\n<p>The <a href=\"https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/web/session/mgt/DefaultWebSessionManager.html\" rel=\"nofollow noreferrer\">DefaultWebSessionManager</a> provides all the functionality you are looking for out of the box (basically). When a session expires the <code>DefaultWebSessionManager</code> calls <code>onExpiration</code> on its <a href=\"https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/mgt/AbstractValidatingSessionManager.html\" rel=\"nofollow noreferrer\">super</a> which notifys all its listeners about the expiration in the <a href=\"https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/mgt/AbstractNativeSessionManager.html\" rel=\"nofollow noreferrer\">SessionManager</a>. You simply could register a <a href=\"https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/session/SessionListener.html\" rel=\"nofollow noreferrer\">SessionListener</a> to your <code>SessionManager</code> and trigger a reload or redirect at its <code>onExpiration</code> method. Maybe this approach is rather suitable for jsp/jspx applications.<br>\nAnyway, read how to register a session listener <a href=\"https://shiro.apache.org/session-management.html#SessionManagement-SessionListeners\" rel=\"nofollow noreferrer\">here</a> in the official docs.</p>\n\n<p><strong>Alternative approach</strong></p>\n\n<p>A different approach could be to have your client manage the session state and let it continuously check for expiration by calling your service. This could be done by a timer or in a loop in JavaScript.</p>\n\n<p><strong>Note</strong></p>\n\n<p><code>org.apache.shiro.authc.credential.Sha256CredentialsMatcher</code> is deprecated since 2010.<br>\nUse the <a href=\"https://shiro.apache.org/static/1.4.0/apidocs/org/apache/shiro/authc/credential/HashedCredentialsMatcher.html\" rel=\"nofollow noreferrer\">HashedCredentialsMatcher</a> directly and set its hashAlgorithmName property.</p>\n"},{"tags":[],"owner":{"account_id":9761041,"reputation":617,"user_id":7236133,"accept_rate":40,"display_name":"zbeedatm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526467905,"creation_date":1526467905,"answer_id":50368965,"question_id":50337049,"body_markdown":"At the end I implemented a time out solution on my client side using @ng-idle/core angular package:\r\n\r\nhttps://www.npmjs.com/package/@ng-idle/core\r\n\r\nhttps://hackedbychinese.github.io/ng2-idle/\r\n\r\nI used the @ng-idle/keepalive as well to ping the server continuously and keep it alive:\r\n\r\n \r\n\r\n    handleIdle(){\r\n      // sets an idle timeout of x seconds, for testing purposes.\r\n     this.idle.setIdle(/*Config.SESSION_IDLE*/ this.sessionIdle);\r\n     // sets a timeout period of y seconds. after x+y seconds of inactivity, the user will be considered timed out.\r\n     this.idle.setTimeout(/*Config.SESSION_TIMEOUT*/ this.sessionTimeout);\r\n     // sets the default interrupts, in this case, things like clicks, scrolls, touches to the document\r\n     this.idle.setInterrupts(DEFAULT_INTERRUPTSOURCES);\r\n\r\n     this.idle.onIdleEnd.subscribe(() =&gt; this.idleState = &#39;No longer idle.&#39;);\r\n     this.idle.onTimeout.subscribe(() =&gt; {\r\n       this.idleState = &#39;Timed out!&#39;;\r\n       this.timedOut = true;\r\n     });\r\n     this.idle.onIdleStart.subscribe(() =&gt; {\r\n             this.idleState = &#39;You\\&#39;ve gone idle!&#39;\r\n             this.idleModal.open();\r\n         }    \r\n     );\r\n     this.idle.onTimeoutWarning.subscribe((countdown) =&gt; {\r\n         this.idleState = &#39;You\\&#39;ve gone idle! Your session will be timed out in &#39; + countdown + &#39; seconds!&#39;;\r\n         \r\n         if (countdown == 1){\r\n             window.location.href = &quot;../logout&quot;;\r\n         }\r\n     });\r\n\r\n     // sets the ping interval to z seconds\r\n     this.keepalive.interval(/*Config.KEEP_ALIVE_INTERVAL*/this.keepAliveInterval);\r\n\r\n     this.keepalive.onPing.subscribe(() =&gt; {\r\n         this.lastPing = new Date();\r\n         this.resourcesService.ping();\r\n     });\r\n\r\n     this.reset(); }\r\n","title":"Shiro - redirect to login page after session timeout","body":"<p>At the end I implemented a time out solution on my client side using @ng-idle/core angular package:</p>\n\n<p><a href=\"https://www.npmjs.com/package/@ng-idle/core\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@ng-idle/core</a></p>\n\n<p><a href=\"https://hackedbychinese.github.io/ng2-idle/\" rel=\"nofollow noreferrer\">https://hackedbychinese.github.io/ng2-idle/</a></p>\n\n<p>I used the @ng-idle/keepalive as well to ping the server continuously and keep it alive:</p>\n\n<pre><code>handleIdle(){\n  // sets an idle timeout of x seconds, for testing purposes.\n this.idle.setIdle(/*Config.SESSION_IDLE*/ this.sessionIdle);\n // sets a timeout period of y seconds. after x+y seconds of inactivity, the user will be considered timed out.\n this.idle.setTimeout(/*Config.SESSION_TIMEOUT*/ this.sessionTimeout);\n // sets the default interrupts, in this case, things like clicks, scrolls, touches to the document\n this.idle.setInterrupts(DEFAULT_INTERRUPTSOURCES);\n\n this.idle.onIdleEnd.subscribe(() =&gt; this.idleState = 'No longer idle.');\n this.idle.onTimeout.subscribe(() =&gt; {\n   this.idleState = 'Timed out!';\n   this.timedOut = true;\n });\n this.idle.onIdleStart.subscribe(() =&gt; {\n         this.idleState = 'You\\'ve gone idle!'\n         this.idleModal.open();\n     }    \n );\n this.idle.onTimeoutWarning.subscribe((countdown) =&gt; {\n     this.idleState = 'You\\'ve gone idle! Your session will be timed out in ' + countdown + ' seconds!';\n\n     if (countdown == 1){\n         window.location.href = \"../logout\";\n     }\n });\n\n // sets the ping interval to z seconds\n this.keepalive.interval(/*Config.KEEP_ALIVE_INTERVAL*/this.keepAliveInterval);\n\n this.keepalive.onPing.subscribe(() =&gt; {\n     this.lastPing = new Date();\n     this.resourcesService.ping();\n });\n\n this.reset(); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7003676,"reputation":507,"user_id":5368856,"display_name":"Kasthuri Shravankumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657091314,"creation_date":1657091314,"answer_id":72879239,"question_id":50337049,"body_markdown":"Just increase the **globalSessionTimeout**\r\n\r\nThe path is **WEB-INF/classes/shiro.ini**\r\n\r\n    sessionManager.globalSessionTimeout = 18000000\r\n\r\nIt will make the session last longer.\r\n","title":"Shiro - redirect to login page after session timeout","body":"<p>Just increase the <strong>globalSessionTimeout</strong></p>\n<p>The path is <strong>WEB-INF/classes/shiro.ini</strong></p>\n<pre><code>sessionManager.globalSessionTimeout = 18000000\n</code></pre>\n<p>It will make the session last longer.</p>\n"}],"owner":{"account_id":9761041,"reputation":617,"user_id":7236133,"accept_rate":40,"display_name":"zbeedatm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50340367,"answer_count":3,"score":0,"last_activity_date":1657091314,"creation_date":1526323526,"question_id":50337049,"body_markdown":"I need to redirect my webapp (Java + angular) to login page when session is timed out.\r\nDoes shiro do the redirection automatically or shall this be handled by code?\r\n\r\nI tried several hacks but didn&#39;t work for me.\r\nI tried adding session timeout to my web.xml but it simply didn&#39;t take affect.\r\nI tried updating my shiro.ini, but then couldn&#39;t login to my app anymore!\r\n\r\nCan you please help to find what&#39;s wrong in these files or advice what sould be done in such a case.\r\n\r\nThanks in advance.\r\n\r\nweb.xml:\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;ResourceManager&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      \r\n      &lt;!-- session-config&gt;\r\n        &lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n      &lt;/session-config&gt;\r\n\r\n      &lt;error-page&gt;\r\n        &lt;exception-type&gt;javax.faces.application.ViewExpiredException&lt;/exception-type&gt;\r\n        &lt;location&gt;/Login.html&lt;/location&gt;\r\n      &lt;/error-page--&gt;\r\n      \r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;\r\n        \tcom.&lt;our customized package&gt;.logging.AppLifeCircleListener\r\n        \t&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\r\n      &lt;/listener&gt;\r\n      &lt;filter&gt;\r\n        &lt;filter-name&gt;shiro-filter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.shiro.web.servlet.ShiroFilter&lt;/filter-class&gt;\r\n      &lt;/filter&gt;\r\n      &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;shiro-filter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n        &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\r\n      &lt;/filter-mapping&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/Login.jsp&lt;/jsp-file&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;\r\n      \t\t\torg.springframework.web.servlet.DispatcherServlet\r\n     \t\t&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n          &lt;param-value&gt;/WEB-INF/rest-servlet.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/management/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/privilege/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/file-explorer/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/Login.html&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nshiro.ini :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    [main]\r\n\r\n    # LDAP Settinng\r\n    contextFactory = com.ibm.datafabrication.web.server.security.JndiLdapContextFactoryExt\r\n    contextFactory.url = ldap://&lt;host&gt;:389\r\n    contextFactory.systemUsername = &lt;...&gt;\r\n    contextFactory.keyPath = &lt;&gt;\r\n    contextFactory.encodedSystemPassword = ...\r\n\r\n    ldapRealm = com.&lt;&gt;.ActiveDirectoryRealm\r\n    ldapRealm.ldapContextFactory = $contextFactory\r\n    ldapRealm.userSearchFilter = (sAMAccountName={0})\r\n    ldapRealm.groupNameAttribute = cn\r\n    ldapRealm.searchBase = DC=&lt;...&gt;,DC=&lt;...&gt;,DC=com\r\n    ldapRealm.groupRolesMap = dfp_users:user,dfp_admins:admin\r\n\r\n    # SQLite Setting\r\n    ds = org.sqlite.SQLiteDataSource\r\n    ds.url = jdbc:sqlite:&lt;&gt;.db\r\n    jdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm\r\n    jdbcRealm.dataSource = $ds\r\n    jdbcRealm.permissionsLookupEnabled = false\r\n    jdbcRealm.authenticationQuery = SELECT Password FROM Users WHERE Name=?\r\n    jdbcRealm.userRolesQuery = WITH uname(name) AS (VALUES(?)) SELECT &#39;user&#39; FROM Users, uname WHERE Users.Name=uname.name UNION ALL SELECT &#39;admin&#39; FROM (SELECT Id FROM Users, uname WHERE Users.Name=uname.name) LEFT JOIN Admins on Id = Admins.UserId WHERE UserId NOT NULL\r\n    credentialsMatcher = org.apache.shiro.authc.credential.Sha256CredentialsMatcher\r\n    credentialsMatcher.storedCredentialsHexEncoded = true\r\n    jdbcRealm.credentialsMatcher = $credentialsMatcher\r\n\r\n    authc.loginUrl = /Login.html\r\n    securityManager.realms = $jdbcRealm\r\n\r\n    authcStrategy = org.apache.shiro.authc.pam.FirstSuccessfulStrategy\r\n    securityManager.authenticator.authenticationStrategy = $authcStrategy\r\n\r\n    &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; What I tired\r\n\r\n    # session timeout\r\n    sessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\r\n    securityManager.sessionMode=native\r\n    securityManager.sessionManager.globalSessionTimeout = 60000\r\n    securityManager.sessionManager = $sessionManager\r\n\r\n    sessionValidationScheduler = org.apache.shiro.session.mgt.ExecutorServiceSessionValidationScheduler\r\n    sessionValidationScheduler.interval = 30000\r\n    securityManager.sessionManager.sessionValidationScheduler = $sessionValidationScheduler\r\n\r\n    &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n\r\n    [urls]\r\n    /logout = logout\r\n    /css/** = anon\r\n    /images/** = anon\r\n    /plugins/** = anon\r\n    /favicon.ico = anon\r\n    /tdf.ico = anon\r\n    /Login.html = authc\r\n    ...\r\n    /** = authc, roles[user]\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n","title":"Shiro - redirect to login page after session timeout","body":"<p>I need to redirect my webapp (Java + angular) to login page when session is timed out.\nDoes shiro do the redirection automatically or shall this be handled by code?</p>\n\n<p>I tried several hacks but didn't work for me.\nI tried adding session timeout to my web.xml but it simply didn't take affect.\nI tried updating my shiro.ini, but then couldn't login to my app anymore!</p>\n\n<p>Can you please help to find what's wrong in these files or advice what sould be done in such a case.</p>\n\n<p>Thanks in advance.</p>\n\n<p>web.xml:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\r\n  &lt;display-name&gt;ResourceManager&lt;/display-name&gt;\r\n  &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n  &lt;/welcome-file-list&gt;\r\n  \r\n  &lt;!-- session-config&gt;\r\n    &lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n  &lt;/session-config&gt;\r\n\r\n  &lt;error-page&gt;\r\n    &lt;exception-type&gt;javax.faces.application.ViewExpiredException&lt;/exception-type&gt;\r\n    &lt;location&gt;/Login.html&lt;/location&gt;\r\n  &lt;/error-page--&gt;\r\n  \r\n  &lt;listener&gt;\r\n    &lt;listener-class&gt;\r\n    \tcom.&lt;our customized package&gt;.logging.AppLifeCircleListener\r\n    \t&lt;/listener-class&gt;\r\n  &lt;/listener&gt;\r\n  &lt;listener&gt;\r\n    &lt;listener-class&gt;org.apache.shiro.web.env.EnvironmentLoaderListener&lt;/listener-class&gt;\r\n  &lt;/listener&gt;\r\n  &lt;filter&gt;\r\n    &lt;filter-name&gt;shiro-filter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.apache.shiro.web.servlet.ShiroFilter&lt;/filter-class&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;shiro-filter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\r\n    &lt;dispatcher&gt;ERROR&lt;/dispatcher&gt;\r\n  &lt;/filter-mapping&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n    &lt;jsp-file&gt;/Login.jsp&lt;/jsp-file&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet&gt;\r\n    &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;\r\n  \t\t\torg.springframework.web.servlet.DispatcherServlet\r\n \t\t&lt;/servlet-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n      &lt;param-value&gt;/WEB-INF/rest-servlet.xml&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n  &lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/management/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/privilege/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;rest&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/file-explorer/*&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n  &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;login&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/Login.html&lt;/url-pattern&gt;\r\n  &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>shiro.ini :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>[main]\r\n\r\n# LDAP Settinng\r\ncontextFactory = com.ibm.datafabrication.web.server.security.JndiLdapContextFactoryExt\r\ncontextFactory.url = ldap://&lt;host&gt;:389\r\ncontextFactory.systemUsername = &lt;...&gt;\r\ncontextFactory.keyPath = &lt;&gt;\r\ncontextFactory.encodedSystemPassword = ...\r\n\r\nldapRealm = com.&lt;&gt;.ActiveDirectoryRealm\r\nldapRealm.ldapContextFactory = $contextFactory\r\nldapRealm.userSearchFilter = (sAMAccountName={0})\r\nldapRealm.groupNameAttribute = cn\r\nldapRealm.searchBase = DC=&lt;...&gt;,DC=&lt;...&gt;,DC=com\r\nldapRealm.groupRolesMap = dfp_users:user,dfp_admins:admin\r\n\r\n# SQLite Setting\r\nds = org.sqlite.SQLiteDataSource\r\nds.url = jdbc:sqlite:&lt;&gt;.db\r\njdbcRealm = org.apache.shiro.realm.jdbc.JdbcRealm\r\njdbcRealm.dataSource = $ds\r\njdbcRealm.permissionsLookupEnabled = false\r\njdbcRealm.authenticationQuery = SELECT Password FROM Users WHERE Name=?\r\njdbcRealm.userRolesQuery = WITH uname(name) AS (VALUES(?)) SELECT 'user' FROM Users, uname WHERE Users.Name=uname.name UNION ALL SELECT 'admin' FROM (SELECT Id FROM Users, uname WHERE Users.Name=uname.name) LEFT JOIN Admins on Id = Admins.UserId WHERE UserId NOT NULL\r\ncredentialsMatcher = org.apache.shiro.authc.credential.Sha256CredentialsMatcher\r\ncredentialsMatcher.storedCredentialsHexEncoded = true\r\njdbcRealm.credentialsMatcher = $credentialsMatcher\r\n\r\nauthc.loginUrl = /Login.html\r\nsecurityManager.realms = $jdbcRealm\r\n\r\nauthcStrategy = org.apache.shiro.authc.pam.FirstSuccessfulStrategy\r\nsecurityManager.authenticator.authenticationStrategy = $authcStrategy\r\n\r\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; What I tired\r\n\r\n# session timeout\r\nsessionManager = org.apache.shiro.web.session.mgt.DefaultWebSessionManager\r\nsecurityManager.sessionMode=native\r\nsecurityManager.sessionManager.globalSessionTimeout = 60000\r\nsecurityManager.sessionManager = $sessionManager\r\n\r\nsessionValidationScheduler = org.apache.shiro.session.mgt.ExecutorServiceSessionValidationScheduler\r\nsessionValidationScheduler.interval = 30000\r\nsecurityManager.sessionManager.sessionValidationScheduler = $sessionValidationScheduler\r\n\r\n&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n\r\n[urls]\r\n/logout = logout\r\n/css/** = anon\r\n/images/** = anon\r\n/plugins/** = anon\r\n/favicon.ico = anon\r\n/tdf.ico = anon\r\n/Login.html = authc\r\n...\r\n/** = authc, roles[user]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8785,"page":1207,"page_size":100}
