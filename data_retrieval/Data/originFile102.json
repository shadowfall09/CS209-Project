{"items":[{"tags":["java","android","firebase","android-permissions"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698304489,"post_id":77364683,"comment_id":136388794,"body_markdown":"`trying to request a permission from the user to access the device images so the users can pick and image and upload it to firebase. ` You do not need any permission to do so. Further you did not tell which permission.","body":"<code>trying to request a permission from the user to access the device images so the users can pick and image and upload it to firebase. </code> You do not need any permission to do so. Further you did not tell which permission."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698305086,"post_id":77364683,"comment_id":136388931,"body_markdown":"Wasn&#39;t there a requirement by google to do so? to ask the user about anything related to internal storage. this is the permission &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;. it included in the code section as well","body":"Wasn&#39;t there a requirement by google to do so? to ask the user about anything related to internal storage. this is the permission &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;. it included in the code section as well"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698306230,"post_id":77364683,"comment_id":136389124,"body_markdown":"@blackapps I tagged you just incase you haven&#39;t been notified","body":"@blackapps I tagged you just incase you haven&#39;t been notified"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698306270,"post_id":77364683,"comment_id":136389136,"body_markdown":"You need to request a permission to access arbitrary files. You don&#39;t need a permission to let the user select a file your app gets access to.","body":"You need to request a permission to access arbitrary files. You don&#39;t need a permission to let the user select a file your app gets access to."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698306388,"post_id":77364683,"comment_id":136389171,"body_markdown":"You were asked to mention that permission at the fist lines of your post. Not afterwards.","body":"You were asked to mention that permission at the fist lines of your post. Not afterwards."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698306407,"post_id":77364683,"comment_id":136389172,"body_markdown":"Can you please clarify what you mean by arbitrary files. @dan1st","body":"Can you please clarify what you mean by arbitrary files. @dan1st"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698306440,"post_id":77364683,"comment_id":136389182,"body_markdown":"Yes, I edited the question. Thanks for pointing that out","body":"Yes, I edited the question. Thanks for pointing that out"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698306462,"post_id":77364683,"comment_id":136389185,"body_markdown":"You just dont need any permission for what you want to do. Thats all.","body":"You just dont need any permission for what you want to do. Thats all."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1698306552,"post_id":77364683,"comment_id":136389205,"body_markdown":"If you want to access a file on the storage that is not part of your app storage in any way _and_ you don&#39;t use a file picker (i.e. the app decides which file to access), you need a permission to access the file. Otherwise (in your case), you don&#39;t need it (because you are using a file picker).","body":"If you want to access a file on the storage that is not part of your app storage in any way <i>and</i> you don&#39;t use a file picker (i.e. the app decides which file to access), you need a permission to access the file. Otherwise (in your case), you don&#39;t need it (because you are using a file picker)."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698306625,"post_id":77364683,"comment_id":136389228,"body_markdown":"I see. Thank you. if it its possible to write an answer so I can mark it as solved so the other developers can benefit from it.","body":"I see. Thank you. if it its possible to write an answer so I can mark it as solved so the other developers can benefit from it."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698306772,"post_id":77364683,"comment_id":136389252,"body_markdown":"I see, when we use file picker we already define the type, meaning it will only access that part and that what the app needs. @dan1st","body":"I see, when we use file picker we already define the type, meaning it will only access that part and that what the app needs. @dan1st"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1698307631,"post_id":77364683,"comment_id":136389400,"body_markdown":"actually https://stackoverflow.com/questions/72586826/is-permission-needed-when-choosing-image-from-gallery-on-android is a better one","body":"actually <a href=\"https://stackoverflow.com/questions/72586826/is-permission-needed-when-choosing-image-from-gallery-on-android\" title=\"is permission needed when choosing image from gallery on android\">stackoverflow.com/questions/72586826/&hellip;</a> is a better one"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698310644,"post_id":77364683,"comment_id":136389981,"body_markdown":"yes, will that still be valid for the new changes google released yesterday for the developers? &quot; For a more privacy preserving experience for users, we’re introducing the Photo and Video Permissions policy to reduce the number of apps permitted to request broad photo/video permissions (READ_MEDIA_IMAGES and READ_MEDIA_VIDEO). Apps may only access photos and videos for purposes directly related to app functionality. Apps that have a one-time or infrequent need to access these files are requested to use a system picker, such as the Android photo picker.   &quot;@dan1st","body":"yes, will that still be valid for the new changes google released yesterday for the developers? &quot; For a more privacy preserving experience for users, we’re introducing the Photo and Video Permissions policy to reduce the number of apps permitted to request broad photo/video permissions (READ_MEDIA_IMAGES and READ_MEDIA_VIDEO). Apps may only access photos and videos for purposes directly related to app functionality. Apps that have a one-time or infrequent need to access these files are requested to use a system picker, such as the Android photo picker.   &quot;@dan1st"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1698311735,"post_id":77364683,"comment_id":136390215,"body_markdown":"Those new permissions also have nothing to do with picking fies with any of the many file pickers there are. Sadly you did not even tell which one you use. Although we could guess which one.","body":"Those new permissions also have nothing to do with picking fies with any of the many file pickers there are. Sadly you did not even tell which one you use. Although we could guess which one."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698311902,"post_id":77364683,"comment_id":136390251,"body_markdown":"I see, I used to let users pick images without permission but when I read the policy changes I implemented the solution in the question thinking that I have to do it. from what I understand not its not needed","body":"I see, I used to let users pick images without permission but when I read the policy changes I implemented the solution in the question thinking that I have to do it. from what I understand not its not needed"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698311906,"post_id":77364683,"comment_id":136390253,"body_markdown":"`the new changes google released yesterday` Please post a link.","body":"<code>the new changes google released yesterday</code> Please post a link."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698311969,"post_id":77364683,"comment_id":136390263,"body_markdown":"it was an email for the new policies for android developers. That&#39;s why I didn&#39;t provide an email.","body":"it was an email for the new policies for android developers. That&#39;s why I didn&#39;t provide an email."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698312435,"post_id":77364683,"comment_id":136390359,"body_markdown":"just found it. \nhttps://support.google.com/googleplay/android-developer/answer/14016515?sjid=12091823039127482684-EU @blackapps","body":"just found it.  <a href=\"https://support.google.com/googleplay/android-developer/answer/14016515?sjid=12091823039127482684-EU\" rel=\"nofollow noreferrer\">support.google.com/googleplay/android-developer/answer/&hellip;</a> @blackapps"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698316309,"post_id":77364683,"comment_id":136391112,"body_markdown":"check it out please. I forgot to tag you @blackapps","body":"check it out please. I forgot to tag you @blackapps"},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698316318,"post_id":77364683,"comment_id":136391114,"body_markdown":"check it out please. I forgot to tag you @dan1st","body":"check it out please. I forgot to tag you @dan1st"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698317509,"post_id":77364683,"comment_id":136391365,"body_markdown":"I already read that an hour ago. There is nothing to say exept that it is pretty clear told there that if using an image picker you dont have to bother.","body":"I already read that an hour ago. There is nothing to say exept that it is pretty clear told there that if using an image picker you dont have to bother."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698317820,"post_id":77364683,"comment_id":136391425,"body_markdown":"Okayy, thank you so much. I&#39;m double checking with you and @dan1st to make sure everything is correct which is. I&#39;m still a new developer things like that do confuse me sometimes.","body":"Okayy, thank you so much. I&#39;m double checking with you and @dan1st to make sure everything is correct which is. I&#39;m still a new developer things like that do confuse me sometimes."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1698332133,"post_id":77364683,"comment_id":136394550,"body_markdown":"I think that new policy is saying that apps (on Google Play) shouldn&#39;t request access to the entire storage for accessing some images.","body":"I think that new policy is saying that apps (on Google Play) shouldn&#39;t request access to the entire storage for accessing some images."},{"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"score":0,"creation_date":1698522332,"post_id":77364683,"comment_id":136417429,"body_markdown":"Sorry the late reply. My app is on the play store","body":"Sorry the late reply. My app is on the play store"}],"owner":{"account_id":23647963,"reputation":237,"user_id":17677301,"display_name":"M&#227;Ĵď"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698317945,"answer_count":0,"score":0,"last_activity_date":1698305197,"creation_date":1698302858,"question_id":77364683,"body_markdown":"I&#39;m trying to request a permission from the user to access the device images so the users can pick and image and upload it to firebase. the issue is nothing is showing. I tried to add some logs but cant seem to understand why. I want to be able to use the default android dialogs. check the code. Note my app support version from android 8 Oreo to Android 14.  Thank you\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n\r\n        private static final int PERMISSION_REQUEST_READ_IMAGES = 1;\r\n     btnBrowse.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                checkAndRequestReadImagesPermission();\r\n                Image_Request_Code);\r\n\r\n            }\r\n        });\r\n        btnUpload.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n\r\n                UploadImage();\r\n\r\n            }\r\n        });\r\n    }\r\n    private void checkAndRequestReadImagesPermission() {\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n               \r\n                Log.d(&quot;Debug&quot;, &quot;Permission rationale should be shown.&quot;);\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_READ_IMAGES);\r\n            } else {\r\n                // Permission has not been granted yet, and rationale does not need to be shown.\r\n                Log.d(&quot;Debug&quot;, &quot;Requesting permission without showing rationale.&quot;);\r\n                ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_READ_IMAGES);\r\n            }\r\n        } else {\r\n            Log.d(&quot;Debug&quot;, &quot;Permission is already granted. Proceeding with image selection.&quot;);\r\n            // Permission is already granted, proceed with image selection.\r\n            selectImage();\r\n        }\r\n    }\r\n\r\n    private void selectImage() {\r\n        imagePickerLauncher.launch(&quot;image/*&quot;);\r\n    }","title":"Image permission dialog not showing","body":"<p>I'm trying to request a permission from the user to access the device images so the users can pick and image and upload it to firebase. the issue is nothing is showing. I tried to add some logs but cant seem to understand why. I want to be able to use the default android dialogs. check the code. Note my app support version from android 8 Oreo to Android 14.  Thank you</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n\n    private static final int PERMISSION_REQUEST_READ_IMAGES = 1;\n btnBrowse.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            checkAndRequestReadImagesPermission();\n            Image_Request_Code);\n\n        }\n    });\n    btnUpload.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n\n            UploadImage();\n\n        }\n    });\n}\nprivate void checkAndRequestReadImagesPermission() {\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n           \n            Log.d(&quot;Debug&quot;, &quot;Permission rationale should be shown.&quot;);\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_READ_IMAGES);\n        } else {\n            // Permission has not been granted yet, and rationale does not need to be shown.\n            Log.d(&quot;Debug&quot;, &quot;Requesting permission without showing rationale.&quot;);\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE}, PERMISSION_REQUEST_READ_IMAGES);\n        }\n    } else {\n        Log.d(&quot;Debug&quot;, &quot;Permission is already granted. Proceeding with image selection.&quot;);\n        // Permission is already granted, proceed with image selection.\n        selectImage();\n    }\n}\n\nprivate void selectImage() {\n    imagePickerLauncher.launch(&quot;image/*&quot;);\n}\n</code></pre>\n"},{"tags":["java","macos","gradle","intellij-idea","terminal"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1698308935,"post_id":77364772,"comment_id":136389643,"body_markdown":"Is cache disabled in MAC?","body":"Is cache disabled in MAC?"},{"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"score":0,"creation_date":1698383008,"post_id":77364772,"comment_id":136400870,"body_markdown":"enabled it but same result","body":"enabled it but same result"},{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":0,"creation_date":1698396618,"post_id":77364772,"comment_id":136402890,"body_markdown":"Might be worth running gradle clean build --info to try and see which exact step of the process takes the longest and go from there. How long does gradlew clean build takes to run from the console?","body":"Might be worth running gradle clean build --info to try and see which exact step of the process takes the longest and go from there. How long does gradlew clean build takes to run from the console?"}],"owner":{"account_id":11301263,"reputation":49,"user_id":8287126,"display_name":"sleepy_soul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698304884,"creation_date":1698303810,"question_id":77364772,"body_markdown":"When trying to execute the command `gradle clean build` from my mac terminal it takes around **1.5 hours** to complete successfully.\r\n\r\nI&#39;ve the following gradle versionon my mac:\r\n```\r\ngradle -v\r\n\r\n------------------------------------------------------------\r\nGradle 8.4\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-10-04 20:52:13 UTC\r\nRevision:     e9251e572c9bd1d01e503a0dfdf43aedaeecdc3f\r\n\r\nKotlin:       1.9.10\r\nGroovy:       3.0.17\r\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\r\nJVM:          17.0.7 (Oracle Corporation 17.0.7+8-LTS-224)\r\nOS:           Mac OS X 14.0 x86_64\r\n\r\n```\r\n\r\nI also have the `gradle.properties` file in my gradle home with the following contents:\r\n```\r\norg.gradle.jvmargs=-Xmx8192m\r\n# org.gradle.parallel=true\r\norg.gradle.daemon=true\r\n# org.gradle.configuration-cache=true\r\n# org.gradle.caching=true\r\n```\r\n\r\nI&#39;ve commented caching part as the build fails when executing from the terminal.\r\n\r\n\r\nWhereas when building the project from intellij ide by using the option `build project` it takes **4 mins** to complete.\r\nI&#39;ve a `gradle-wrapper.properties` in the project folder with the following contents:\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.2-bin.zip\r\nnetworkTimeout=10000\r\nvalidateDistributionUrl=true\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n\r\n```\r\n\r\nIs there any difference in the execution of those builds?\r\n\r\nHow can I reduce the build time from my terminal as it hampers productivity?\r\n\r\n\r\nCan anyone help in this regard?\r\nThanks","title":"Gradle build for Java is taking huge amount of time to complete when executing gradle clean build from mac terminal","body":"<p>When trying to execute the command <code>gradle clean build</code> from my mac terminal it takes around <strong>1.5 hours</strong> to complete successfully.</p>\n<p>I've the following gradle versionon my mac:</p>\n<pre><code>gradle -v\n\n------------------------------------------------------------\nGradle 8.4\n------------------------------------------------------------\n\nBuild time:   2023-10-04 20:52:13 UTC\nRevision:     e9251e572c9bd1d01e503a0dfdf43aedaeecdc3f\n\nKotlin:       1.9.10\nGroovy:       3.0.17\nAnt:          Apache Ant(TM) version 1.10.13 compiled on January 4 2023\nJVM:          17.0.7 (Oracle Corporation 17.0.7+8-LTS-224)\nOS:           Mac OS X 14.0 x86_64\n\n</code></pre>\n<p>I also have the <code>gradle.properties</code> file in my gradle home with the following contents:</p>\n<pre><code>org.gradle.jvmargs=-Xmx8192m\n# org.gradle.parallel=true\norg.gradle.daemon=true\n# org.gradle.configuration-cache=true\n# org.gradle.caching=true\n</code></pre>\n<p>I've commented caching part as the build fails when executing from the terminal.</p>\n<p>Whereas when building the project from intellij ide by using the option <code>build project</code> it takes <strong>4 mins</strong> to complete.\nI've a <code>gradle-wrapper.properties</code> in the project folder with the following contents:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-8.2-bin.zip\nnetworkTimeout=10000\nvalidateDistributionUrl=true\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n\n</code></pre>\n<p>Is there any difference in the execution of those builds?</p>\n<p>How can I reduce the build time from my terminal as it hampers productivity?</p>\n<p>Can anyone help in this regard?\nThanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5909013,"reputation":1410,"user_id":4649860,"display_name":"Chirag Thummar"},"score":0,"creation_date":1698302444,"post_id":77364521,"comment_id":136388431,"body_markdown":"You are doing it the wrong way. Here is Google recommended way you can refer https://developer.android.com/training/permissions/requesting","body":"You are doing it the wrong way. Here is Google recommended way you can refer <a href=\"https://developer.android.com/training/permissions/requesting\" rel=\"nofollow noreferrer\">developer.android.com/training/permissions/requesting</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698303556,"post_id":77364521,"comment_id":136388604,"body_markdown":"Upload into your app? What would that be? Further you could tell the scenario the code/user follows.","body":"Upload into your app? What would that be? Further you could tell the scenario the code/user follows."},{"owner":{"account_id":26218499,"reputation":1,"user_id":19896320,"display_name":"Eaio"},"score":0,"creation_date":1698304721,"post_id":77364521,"comment_id":136388842,"body_markdown":"My bad, it&#39;s a coctail recipes app\n1) you can login or register into it\n2) in the home screen you can see some recipes\n3) if you want you can search by categories in other screen\n4) you can upload your recipe with an image (HERE IS THE PROBLEM) in other screen, but when i try to upload the image into the database, the field of the image stay as &quot;null&quot; so i tried to ask for permissions in the app but the windows asking for permissions to the user never appears so i got stucked there.","body":"My bad, it&#39;s a coctail recipes app 1) you can login or register into it 2) in the home screen you can see some recipes 3) if you want you can search by categories in other screen 4) you can upload your recipe with an image (HERE IS THE PROBLEM) in other screen, but when i try to upload the image into the database, the field of the image stay as &quot;null&quot; so i tried to ask for permissions in the app but the windows asking for permissions to the user never appears so i got stucked there."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698313709,"post_id":77364521,"comment_id":136390593,"body_markdown":"Only nr 4 is relevant. And you should not have told that in a comment but in your post to inform the reader before he dives in your code. Please also avoid the word upload as you are uploading nothing to a server but just try to put some data in a local database. Please write -in your post- the scenario for nr 4 as we still dont know the steps that should be done in the code. You can also remove all imports.","body":"Only nr 4 is relevant. And you should not have told that in a comment but in your post to inform the reader before he dives in your code. Please also avoid the word upload as you are uploading nothing to a server but just try to put some data in a local database. Please write -in your post- the scenario for nr 4 as we still dont know the steps that should be done in the code. You can also remove all imports."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1698314036,"post_id":77364521,"comment_id":136390665,"body_markdown":"Probably the user picked a .jpg file. You could put that file in your database. What i see is that you first make a bitmap out of it (you should have told that in your post, the scenario we wanna know before we deep in the code) and also the reason the made a bitmap. Realise that a bitmap can be 50 times more bytes then a jpg file and it is strange that you would put a bitmap in your database. We cannot see if you do as that important part of the code is lacking.","body":"Probably the user picked a .jpg file. You could put that file in your database. What i see is that you first make a bitmap out of it (you should have told that in your post, the scenario we wanna know before we deep in the code) and also the reason the made a bitmap. Realise that a bitmap can be 50 times more bytes then a jpg file and it is strange that you would put a bitmap in your database. We cannot see if you do as that important part of the code is lacking."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698342464,"post_id":77364521,"comment_id":136396649,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":26218499,"reputation":1,"user_id":19896320,"display_name":"Eaio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698304757,"creation_date":1698301023,"question_id":77364521,"body_markdown":"Hi need to upload images into my app but can&#39;t display the window of permission for it, so I tried to upload the image without permission but the database gets null field in the image field and it seems that no permission is needed for the application cause it doesn&#39;t appears into the application settings anyway, need help please: \r\nIt&#39;s a coctail recipes app\r\n1) you can login or register into it\r\n2) in the home screen you can see some recipes\r\n3) if you want you can search by categories in other screen\r\n4) you can upload your recipe with an image (HERE IS THE PROBLEM) in other screen, but when i try to upload the image into the database, the field of the image stay as &quot;null&quot; so i tried to ask for permissions in the app but the windows asking for permissions to the user never appears so i got stucked there.\r\n\r\n```\r\npackage com.example.asd;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Spinner;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\n\r\npublic class SubirRecetas extends AppCompatActivity {\r\n\r\n    private EditText edtNombre, edtIngredientes, edtInstrucciones;\r\n    private ImageButton btnImagen;\r\n    private String imagenPath;\r\n    private Button SubirRecetas;\r\n    private Spinner spinnerCategoria;\r\n    private int idUsuario; // Asigna el valor que corresponda\r\n    private daoUsuario dao;\r\n\r\n    private final ActivityResultLauncher&lt;Intent&gt; galleryLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == AppCompatActivity.RESULT_OK) {\r\n                    Intent data = result.getData();\r\n                    if (data != null) {\r\n                        Uri uri = data.getData();\r\n                        imagenPath = getPathFromUri(uri);\r\n                        btnImagen.setImageURI(uri);\r\n                    }\r\n                }\r\n            }\r\n    );\r\n\r\n    private static final int REQUEST_READ_EXTERNAL_STORAGE_PERMISSION = 1;\r\n\r\n    @Override\r\n    public boolean onSupportNavigateUp() {\r\n        onBackPressed();\r\n        return super.onSupportNavigateUp();\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_subir_recetas);\r\n\r\n        // Solicitar permisos\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\r\n                checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                    REQUEST_READ_EXTERNAL_STORAGE_PERMISSION);\r\n        } else {\r\n            // Continuar con la inicializaci&#243;n de la actividad\r\n            initializeActivity();\r\n        }\r\n\r\n        // Obtener el ID de usuario (de alguna manera, puede ser desde la actividad anterior)\r\n        Intent intento = getIntent();\r\n        if (intento != null) {\r\n            idUsuario = intento.getIntExtra(&quot;idUsuario&quot;, -1);  // Asumiendo que &quot;idUsuario&quot; es la clave utilizada para pasar el ID\r\n        }\r\n\r\n        Bundle b = getIntent().getExtras();\r\n        if (b != null) {\r\n            idUsuario = b.getInt(&quot;id&quot;);\r\n\r\n        }\r\n        Toolbar toolbar = findViewById(R.id.toolbarB);\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBar actionBar = getSupportActionBar();\r\n        assert actionBar != null;\r\n        actionBar.setTitle(&quot;Subir Recetas&quot;);\r\n        actionBar.setDisplayShowHomeEnabled(true);\r\n        actionBar.setDisplayHomeAsUpEnabled(true);\r\n\r\n        dao = new daoUsuario(this);\r\n\r\n        List&lt;String&gt; categoriasList = dao.selectCategorias();\r\n\r\n        if (categoriasList.isEmpty()) {\r\n            Toast.makeText(this, &quot;No se encontraron categor&#237;as en la base de datos.&quot;, Toast.LENGTH_SHORT).show();\r\n            // Manejar el caso en que no hay categor&#237;as disponibles\r\n            return;\r\n        }\r\n\r\n        spinnerCategoria = findViewById(R.id.spinnerCategoria);\r\n        ArrayAdapter&lt;String&gt; adapterSpinner = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, categoriasList);\r\n        adapterSpinner.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinnerCategoria.setAdapter(adapterSpinner);\r\n\r\n        edtNombre = findViewById(R.id.NombreReceta);\r\n        edtIngredientes = findViewById(R.id.Ingrediente);\r\n        edtInstrucciones = findViewById(R.id.Descripcion);\r\n        btnImagen = findViewById(R.id.imagen);\r\n        SubirRecetas = findViewById(R.id.SubirRecetas);\r\n\r\n        btnImagen.setOnClickListener(v -&gt; {\r\n            // Verificar el permiso antes de abrir la galer&#237;a\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\r\n                    checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n                Intent intent = new Intent(Intent.ACTION_PICK);\r\n                intent.setType(&quot;image/*&quot;);\r\n                galleryLauncher.launch(intent);\r\n            } else {\r\n                // Solicitar permiso si no est&#225; concedido\r\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                        REQUEST_READ_EXTERNAL_STORAGE_PERMISSION);\r\n                Log.d(&quot;Permission&quot;, &quot;Permission not granted. Requesting permission.&quot;);\r\n            }\r\n\r\n        });\r\n\r\n        SubirRecetas.setOnClickListener(v -&gt; {\r\n            String nombre = edtNombre.getText().toString();\r\n            String ingredientes = edtIngredientes.getText().toString();\r\n            String instrucciones = edtInstrucciones.getText().toString();\r\n\r\n            if (imagenPath == null || imagenPath.isEmpty()) {\r\n                Toast.makeText(this, &quot;Seleccione una imagen&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            byte[] imagenBytes = convertirImagenBytes(Uri.parse(imagenPath));\r\n\r\n            if (idUsuario == 0) {\r\n                Toast.makeText(this, &quot;Debe autenticarse antes de subir una receta&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            String categoria = spinnerCategoria.getSelectedItem().toString();\r\n            agregarReceta(nombre, ingredientes, instrucciones, imagenBytes, categoria);\r\n\r\n            // Limpiar los campos despu&#233;s de subir la receta con &#233;xito\r\n            limpiarCampos();\r\n\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if (requestCode == REQUEST_READ_EXTERNAL_STORAGE_PERMISSION) {\r\n            // Verificar si el permiso fue concedido\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                // Permiso concedido, continuar con la inicializaci&#243;n de la actividad\r\n                initializeActivity();\r\n            } else {\r\n                // Permiso no concedido, mostrar un mensaje o tomar alguna acci&#243;n\r\n                Toast.makeText(this, &quot;Permiso de almacenamiento no concedido&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void initializeActivity() {\r\n        // Obtener el ID de usuario (de alguna manera, puede ser desde la actividad anterior)\r\n        Intent intento = getIntent();\r\n        if (intento != null) {\r\n            idUsuario = intento.getIntExtra(&quot;idUsuario&quot;, -1);  // Asumiendo que &quot;idUsuario&quot; es la clave utilizada para pasar el ID\r\n        }\r\n    }\r\n        private void limpiarCampos () {\r\n            edtNombre.getText().clear();\r\n            edtIngredientes.getText().clear();\r\n            edtInstrucciones.getText().clear();\r\n            btnImagen.setImageURI(null);\r\n            spinnerCategoria.setSelection(0);\r\n        }\r\n\r\n        private String getPathFromUri (Uri uri){\r\n            String[] projection = {MediaStore.Images.Media.DATA};\r\n            Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\r\n            if (cursor != null) {\r\n                cursor.moveToFirst();\r\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n                String filePath = cursor.getString(column_index);\r\n                cursor.close();\r\n                return filePath;\r\n            } else {\r\n                return uri.getPath();\r\n            }\r\n        }\r\n\r\n        private byte[] convertirImagenBytes (Uri uri){\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(uri);\r\n                if (inputStream != null) {\r\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n                    byte[] buffer = new byte[1024];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                    inputStream.close();\r\n                    return byteArrayOutputStream.toByteArray();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Error al abrir el flujo de entrada&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error al convertir la imagen a bytes&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        private void agregarReceta (String nombre, String ingredientes, String instrucciones,\r\n        byte[] imagenBytes, String categoria){\r\n            if (nombre.isEmpty()) {\r\n                Toast.makeText(this, &quot;El nombre de la receta no puede estar vac&#237;o&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n\r\n            try {\r\n                int idCategoria = dao.obtenerIdCategoria(categoria);\r\n                if (idCategoria != -1) {\r\n                    dao.insertarReceta(idCategoria, idUsuario, nombre, ingredientes, instrucciones, imagenBytes);\r\n                    Toast.makeText(this, &quot;La receta ha sido subida con &#233;xito&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Categor&#237;a no encontrada en la base de datos&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error al subir la receta&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\n\r\nTried without permission but the database gets null in img field","title":"How to get permission to upload images in my app?","body":"<p>Hi need to upload images into my app but can't display the window of permission for it, so I tried to upload the image without permission but the database gets null field in the image field and it seems that no permission is needed for the application cause it doesn't appears into the application settings anyway, need help please:\nIt's a coctail recipes app</p>\n<ol>\n<li>you can login or register into it</li>\n<li>in the home screen you can see some recipes</li>\n<li>if you want you can search by categories in other screen</li>\n<li>you can upload your recipe with an image (HERE IS THE PROBLEM) in other screen, but when i try to upload the image into the database, the field of the image stay as &quot;null&quot; so i tried to ask for permissions in the app but the windows asking for permissions to the user never appears so i got stucked there.</li>\n</ol>\n<pre><code>package com.example.asd;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.Spinner;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.List;\n\npublic class SubirRecetas extends AppCompatActivity {\n\n    private EditText edtNombre, edtIngredientes, edtInstrucciones;\n    private ImageButton btnImagen;\n    private String imagenPath;\n    private Button SubirRecetas;\n    private Spinner spinnerCategoria;\n    private int idUsuario; // Asigna el valor que corresponda\n    private daoUsuario dao;\n\n    private final ActivityResultLauncher&lt;Intent&gt; galleryLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == AppCompatActivity.RESULT_OK) {\n                    Intent data = result.getData();\n                    if (data != null) {\n                        Uri uri = data.getData();\n                        imagenPath = getPathFromUri(uri);\n                        btnImagen.setImageURI(uri);\n                    }\n                }\n            }\n    );\n\n    private static final int REQUEST_READ_EXTERNAL_STORAGE_PERMISSION = 1;\n\n    @Override\n    public boolean onSupportNavigateUp() {\n        onBackPressed();\n        return super.onSupportNavigateUp();\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_subir_recetas);\n\n        // Solicitar permisos\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\n                checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n            requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                    REQUEST_READ_EXTERNAL_STORAGE_PERMISSION);\n        } else {\n            // Continuar con la inicialización de la actividad\n            initializeActivity();\n        }\n\n        // Obtener el ID de usuario (de alguna manera, puede ser desde la actividad anterior)\n        Intent intento = getIntent();\n        if (intento != null) {\n            idUsuario = intento.getIntExtra(&quot;idUsuario&quot;, -1);  // Asumiendo que &quot;idUsuario&quot; es la clave utilizada para pasar el ID\n        }\n\n        Bundle b = getIntent().getExtras();\n        if (b != null) {\n            idUsuario = b.getInt(&quot;id&quot;);\n\n        }\n        Toolbar toolbar = findViewById(R.id.toolbarB);\n        setSupportActionBar(toolbar);\n\n        ActionBar actionBar = getSupportActionBar();\n        assert actionBar != null;\n        actionBar.setTitle(&quot;Subir Recetas&quot;);\n        actionBar.setDisplayShowHomeEnabled(true);\n        actionBar.setDisplayHomeAsUpEnabled(true);\n\n        dao = new daoUsuario(this);\n\n        List&lt;String&gt; categoriasList = dao.selectCategorias();\n\n        if (categoriasList.isEmpty()) {\n            Toast.makeText(this, &quot;No se encontraron categorías en la base de datos.&quot;, Toast.LENGTH_SHORT).show();\n            // Manejar el caso en que no hay categorías disponibles\n            return;\n        }\n\n        spinnerCategoria = findViewById(R.id.spinnerCategoria);\n        ArrayAdapter&lt;String&gt; adapterSpinner = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_item, categoriasList);\n        adapterSpinner.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinnerCategoria.setAdapter(adapterSpinner);\n\n        edtNombre = findViewById(R.id.NombreReceta);\n        edtIngredientes = findViewById(R.id.Ingrediente);\n        edtInstrucciones = findViewById(R.id.Descripcion);\n        btnImagen = findViewById(R.id.imagen);\n        SubirRecetas = findViewById(R.id.SubirRecetas);\n\n        btnImagen.setOnClickListener(v -&gt; {\n            // Verificar el permiso antes de abrir la galería\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M &amp;&amp;\n                    checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n                Intent intent = new Intent(Intent.ACTION_PICK);\n                intent.setType(&quot;image/*&quot;);\n                galleryLauncher.launch(intent);\n            } else {\n                // Solicitar permiso si no está concedido\n                requestPermissions(new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                        REQUEST_READ_EXTERNAL_STORAGE_PERMISSION);\n                Log.d(&quot;Permission&quot;, &quot;Permission not granted. Requesting permission.&quot;);\n            }\n\n        });\n\n        SubirRecetas.setOnClickListener(v -&gt; {\n            String nombre = edtNombre.getText().toString();\n            String ingredientes = edtIngredientes.getText().toString();\n            String instrucciones = edtInstrucciones.getText().toString();\n\n            if (imagenPath == null || imagenPath.isEmpty()) {\n                Toast.makeText(this, &quot;Seleccione una imagen&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            byte[] imagenBytes = convertirImagenBytes(Uri.parse(imagenPath));\n\n            if (idUsuario == 0) {\n                Toast.makeText(this, &quot;Debe autenticarse antes de subir una receta&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            String categoria = spinnerCategoria.getSelectedItem().toString();\n            agregarReceta(nombre, ingredientes, instrucciones, imagenBytes, categoria);\n\n            // Limpiar los campos después de subir la receta con éxito\n            limpiarCampos();\n\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if (requestCode == REQUEST_READ_EXTERNAL_STORAGE_PERMISSION) {\n            // Verificar si el permiso fue concedido\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permiso concedido, continuar con la inicialización de la actividad\n                initializeActivity();\n            } else {\n                // Permiso no concedido, mostrar un mensaje o tomar alguna acción\n                Toast.makeText(this, &quot;Permiso de almacenamiento no concedido&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private void initializeActivity() {\n        // Obtener el ID de usuario (de alguna manera, puede ser desde la actividad anterior)\n        Intent intento = getIntent();\n        if (intento != null) {\n            idUsuario = intento.getIntExtra(&quot;idUsuario&quot;, -1);  // Asumiendo que &quot;idUsuario&quot; es la clave utilizada para pasar el ID\n        }\n    }\n        private void limpiarCampos () {\n            edtNombre.getText().clear();\n            edtIngredientes.getText().clear();\n            edtInstrucciones.getText().clear();\n            btnImagen.setImageURI(null);\n            spinnerCategoria.setSelection(0);\n        }\n\n        private String getPathFromUri (Uri uri){\n            String[] projection = {MediaStore.Images.Media.DATA};\n            Cursor cursor = getContentResolver().query(uri, projection, null, null, null);\n            if (cursor != null) {\n                cursor.moveToFirst();\n                int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n                String filePath = cursor.getString(column_index);\n                cursor.close();\n                return filePath;\n            } else {\n                return uri.getPath();\n            }\n        }\n\n        private byte[] convertirImagenBytes (Uri uri){\n            try {\n                InputStream inputStream = getContentResolver().openInputStream(uri);\n                if (inputStream != null) {\n                    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                    byte[] buffer = new byte[1024];\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\n                    }\n                    inputStream.close();\n                    return byteArrayOutputStream.toByteArray();\n                } else {\n                    Toast.makeText(this, &quot;Error al abrir el flujo de entrada&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n                Toast.makeText(this, &quot;Error al convertir la imagen a bytes&quot;, Toast.LENGTH_SHORT).show();\n            }\n            return null;\n        }\n\n        private void agregarReceta (String nombre, String ingredientes, String instrucciones,\n        byte[] imagenBytes, String categoria){\n            if (nombre.isEmpty()) {\n                Toast.makeText(this, &quot;El nombre de la receta no puede estar vacío&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            try {\n                int idCategoria = dao.obtenerIdCategoria(categoria);\n                if (idCategoria != -1) {\n                    dao.insertarReceta(idCategoria, idUsuario, nombre, ingredientes, instrucciones, imagenBytes);\n                    Toast.makeText(this, &quot;La receta ha sido subida con éxito&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(this, &quot;Categoría no encontrada en la base de datos&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                Toast.makeText(this, &quot;Error al subir la receta&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n\n</code></pre>\n<p>Tried without permission but the database gets null in img field</p>\n"},{"tags":["java","android","tomcat","ssl"],"answers":[{"comments":[{"owner":{"account_id":1120840,"reputation":6465,"user_id":1109179,"accept_rate":62,"display_name":"Sohan"},"score":5,"creation_date":1440167406,"post_id":23087752,"comment_id":52175291,"body_markdown":"This never works, exporting keys does not work this way","body":"This never works, exporting keys does not work this way"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":0,"creation_date":1440199554,"post_id":23087752,"comment_id":52190460,"body_markdown":"Do you mind explaining why it does not work for you?","body":"Do you mind explaining why it does not work for you?"},{"owner":{"account_id":1120840,"reputation":6465,"user_id":1109179,"accept_rate":62,"display_name":"Sohan"},"score":0,"creation_date":1440401251,"post_id":23087752,"comment_id":52239003,"body_markdown":"For apache this is not the way you export. First you need to export key in .p12 format\nThen ,export only certs to create .crt files and export only  key or create .key file using openSSL. Doing this gives error , certificate in not valid PEM file.\n\nSee,\nhttp://serverfault.com/questions/715827/how-to-generate-key-and-crt-file-from-jks-file-for-httpd-apache-server","body":"For apache this is not the way you export. First you need to export key in .p12 format Then ,export only certs to create .crt files and export only  key or create .key file using openSSL. Doing this gives error , certificate in not valid PEM file.  See, <a href=\"http://serverfault.com/questions/715827/how-to-generate-key-and-crt-file-from-jks-file-for-httpd-apache-server\" title=\"how to generate key and crt file from jks file for httpd apache server\">serverfault.com/questions/715827/&hellip;</a>"},{"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"score":1,"creation_date":1440439706,"post_id":23087752,"comment_id":52262878,"body_markdown":"The question was how to export key file. Converting to PEM is already explained in question itself","body":"The question was how to export key file. Converting to PEM is already explained in question itself"},{"owner":{"account_id":1120840,"reputation":6465,"user_id":1109179,"accept_rate":62,"display_name":"Sohan"},"score":1,"creation_date":1440495217,"post_id":23087752,"comment_id":52285303,"body_markdown":"Key file is exported in .p12 format but later on it is not clear how to store that to .key file using openSSL","body":"Key file is exported in .p12 format but later on it is not clear how to store that to .key file using openSSL"},{"owner":{"account_id":518468,"reputation":534,"user_id":2897386,"display_name":"DustWolf"},"score":0,"creation_date":1690444536,"post_id":23087752,"comment_id":135355485,"body_markdown":"https://security.stackexchange.com/a/66865/130215 this is a more complete answer.","body":"<a href=\"https://security.stackexchange.com/a/66865/130215\">security.stackexchange.com/a/66865/130215</a> this is a more complete answer."}],"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"comment_count":6,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1397574620,"creation_date":1397574620,"answer_id":23087752,"question_id":23087537,"body_markdown":"Keytool (available in JDK) allows you to export certificates to a file:\r\n\r\n    keytool -exportcert -keystore [keystore] -alias [alias] -file [cert_file]\r\n\r\nTo export regular keys you should use -importkeystore command (surprise):\r\n\r\n    keytool -importkeystore -srckeystore [keystore] -destkeystore [target-keystore] -deststoretype PKCS12","title":"How to export .key and .crt from keystore","body":"<p>Keytool (available in JDK) allows you to export certificates to a file:</p>\n\n<pre><code>keytool -exportcert -keystore [keystore] -alias [alias] -file [cert_file]\n</code></pre>\n\n<p>To export regular keys you should use -importkeystore command (surprise):</p>\n\n<pre><code>keytool -importkeystore -srckeystore [keystore] -destkeystore [target-keystore] -deststoretype PKCS12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6228669,"reputation":1059,"user_id":4846151,"display_name":"vishy dewangan"},"comment_count":0,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1666685802,"creation_date":1556726136,"answer_id":55939038,"question_id":23087537,"body_markdown":"You can create new set of key and self signed certificate using the following steps:\r\n\r\n1. Creation of key and certificate signing request:\r\n   ```\r\n   openssl req -newkey rsa:2048 -out cert.csr -keyout cert.key\r\n   ```\r\n2. Creation of pem \r\n   ```\r\n   openssl x509 -req -signkey cert.key -in cert.csr -out cert.pem\r\n   ```","title":"How to export .key and .crt from keystore","body":"<p>You can create new set of key and self signed certificate using the following steps:</p>\n<ol>\n<li>Creation of key and certificate signing request:\n<pre><code>openssl req -newkey rsa:2048 -out cert.csr -keyout cert.key\n</code></pre>\n</li>\n<li>Creation of pem\n<pre><code>openssl x509 -req -signkey cert.key -in cert.csr -out cert.pem\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2863020,"reputation":312,"user_id":2457861,"display_name":"Kevin Yue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698304705,"creation_date":1698304705,"answer_id":77364861,"question_id":23087537,"body_markdown":"Just write a script to streamline the process.\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\n# Extracts the private key and certificate from a Java keystore and saves them\r\n#\r\n# Ouputs:\r\n#   &lt;keystore&gt;.p12: private key and certificate in PKCS12 format\r\n#   &lt;keystore&gt;.pem: private key and certificate in PEM format\r\n#   &lt;keystore&gt;.crt: certificate only\r\n#   &lt;keystore&gt;.key: private key only\r\n\r\n# Usage:\r\n#   jks2pem.sh &lt;keystore&gt;\r\n\r\n# Example:\r\n#   jks2pem.sh keystore.jks\r\n\r\nif [ -z &quot;$1&quot; ]; then\r\n    echo &quot;Usage: jks2pem.sh &lt;keystore&gt;.jks&quot;\r\n    exit 1\r\nfi\r\n\r\nbase_name=$(basename &quot;$1&quot; .jks)\r\ntemp_password=&quot;changeit&quot;\r\n\r\nkeytool -importkeystore -srckeystore &quot;$1&quot; -srcstoretype jks \\\r\n    -destkeystore &quot;$base_name.p12&quot; -deststoretype PKCS12 \\\r\n    -deststorepass &quot;$temp_password&quot;\r\n\r\n# Export the private key and certificate as a PEM file without a password\r\nopenssl pkcs12 -nodes -in &quot;$base_name.p12&quot; -out &quot;$base_name.pem&quot; -passin pass:&quot;$temp_password&quot;\r\n\r\n# Export the certificate as a PEM file\r\nopenssl pkcs12 -nokeys -in &quot;$base_name.p12&quot; -out &quot;$base_name.crt&quot; -passin pass:&quot;$temp_password&quot;\r\n\r\n# Export the private key as a PEM file\r\nopenssl pkcs12 -nocerts -nodes -in &quot;$base_name.p12&quot; -out &quot;$base_name.key&quot; -passin pass:&quot;$temp_password&quot;\r\n```","title":"How to export .key and .crt from keystore","body":"<p>Just write a script to streamline the process.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\n\n# Extracts the private key and certificate from a Java keystore and saves them\n#\n# Ouputs:\n#   &lt;keystore&gt;.p12: private key and certificate in PKCS12 format\n#   &lt;keystore&gt;.pem: private key and certificate in PEM format\n#   &lt;keystore&gt;.crt: certificate only\n#   &lt;keystore&gt;.key: private key only\n\n# Usage:\n#   jks2pem.sh &lt;keystore&gt;\n\n# Example:\n#   jks2pem.sh keystore.jks\n\nif [ -z &quot;$1&quot; ]; then\n    echo &quot;Usage: jks2pem.sh &lt;keystore&gt;.jks&quot;\n    exit 1\nfi\n\nbase_name=$(basename &quot;$1&quot; .jks)\ntemp_password=&quot;changeit&quot;\n\nkeytool -importkeystore -srckeystore &quot;$1&quot; -srcstoretype jks \\\n    -destkeystore &quot;$base_name.p12&quot; -deststoretype PKCS12 \\\n    -deststorepass &quot;$temp_password&quot;\n\n# Export the private key and certificate as a PEM file without a password\nopenssl pkcs12 -nodes -in &quot;$base_name.p12&quot; -out &quot;$base_name.pem&quot; -passin pass:&quot;$temp_password&quot;\n\n# Export the certificate as a PEM file\nopenssl pkcs12 -nokeys -in &quot;$base_name.p12&quot; -out &quot;$base_name.crt&quot; -passin pass:&quot;$temp_password&quot;\n\n# Export the private key as a PEM file\nopenssl pkcs12 -nocerts -nodes -in &quot;$base_name.p12&quot; -out &quot;$base_name.key&quot; -passin pass:&quot;$temp_password&quot;\n</code></pre>\n"}],"owner":{"account_id":253900,"reputation":1466,"user_id":532907,"accept_rate":91,"display_name":"Dusean Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96285,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":23087752,"answer_count":3,"score":18,"last_activity_date":1698304705,"creation_date":1397574092,"question_id":23087537,"body_markdown":"When I was building android app on development machine, I was required to have SSL certificate for app so I generated a keystore with keytool for Tomcat. I extracted the cert from keystore and put it into .bks for using android, and all went well.\r\n\r\nNow we have to shift all server-side code to server which required Apache HTTP and Tomcat. Apache HTTP SSL requires .key and .crt files and I cannot find a way to export .key and .crt file from the keystore \r\n\r\nCan anyone help with this? I found that you can generate .crt from .pem\r\n\r\n    openssl x509 -outform der -in your-cert.pem -out your-cert.crt\r\n\r\nBut how can i get .key file?","title":"How to export .key and .crt from keystore","body":"<p>When I was building android app on development machine, I was required to have SSL certificate for app so I generated a keystore with keytool for Tomcat. I extracted the cert from keystore and put it into .bks for using android, and all went well.</p>\n\n<p>Now we have to shift all server-side code to server which required Apache HTTP and Tomcat. Apache HTTP SSL requires .key and .crt files and I cannot find a way to export .key and .crt file from the keystore </p>\n\n<p>Can anyone help with this? I found that you can generate .crt from .pem</p>\n\n<pre><code>openssl x509 -outform der -in your-cert.pem -out your-cert.crt\n</code></pre>\n\n<p>But how can i get .key file?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1698271962,"post_id":77363146,"comment_id":136385842,"body_markdown":"Why do you have 2 Java versions tagged?","body":"Why do you have 2 Java versions tagged?"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698272132,"post_id":77363146,"comment_id":136385859,"body_markdown":"@shmosel I removed java-8 tag","body":"@shmosel I removed java-8 tag"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1698272642,"post_id":77363146,"comment_id":136385917,"body_markdown":"&quot;I need to return this value only if only available.&quot; only what is available?","body":"&quot;I need to return this value only if only available.&quot; only what is available?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1698272783,"post_id":77363146,"comment_id":136385931,"body_markdown":"That&#39;s what `orElseNull()`, `orElseThrow()`, `orElseGet()` are for. Choose which one you need.","body":"That&#39;s what <code>orElseNull()</code>, <code>orElseThrow()</code>, <code>orElseGet()</code> are for. Choose which one you need."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1698273564,"post_id":77363146,"comment_id":136386015,"body_markdown":"What&#39;s the point of calling `getOptionalString()` again in the `orElse()`?","body":"What&#39;s the point of calling <code>getOptionalString()</code> again in the <code>orElse()</code>?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698275050,"post_id":77363146,"comment_id":136386163,"body_markdown":"AFAICT `isPresent()` will never be true, unless the second call to `getOptionalString()` returns something, but the first call doesn&#39;t.","body":"AFAICT <code>isPresent()</code> will never be true, unless the second call to <code>getOptionalString()</code> returns something, but the first call doesn&#39;t."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1698280396,"post_id":77363146,"comment_id":136386595,"body_markdown":"It&#39;s unclear what you&#39;re trying to accomplish here. If the optional string isn&#39;t present you can&#39;t map it at all, and if it is present you&#39;re mapping it twice. But surely you need to at least *remove* the `isPresent()` call?","body":"It&#39;s unclear what you&#39;re trying to accomplish here. If the optional string isn&#39;t present you can&#39;t map it at all, and if it is present you&#39;re mapping it twice. But surely you need to at least <i>remove</i> the <code>isPresent()</code> call?"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698302108,"post_id":77363146,"comment_id":136388369,"body_markdown":"@shmosel.       I have updated the `getOptionalString()` method now. It takes a map and a key and return the value. So in the first time if it cannot find, it try again with another key in the `orElse()`","body":"@shmosel.       I have updated the <code>getOptionalString()</code> method now. It takes a map and a key and return the value. So in the first time if it cannot find, it try again with another key in the <code>orElse()</code>"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698302258,"post_id":77363146,"comment_id":136388399,"body_markdown":"@user207421 I have updated the code now. The each time method call it takes different arguments. So `orElse()` should return a different value. But sometimes &#180;orElse` can return null. So I want to know how to check that before use `get()`","body":"@user207421 I have updated the code now. The each time method call it takes different arguments. So <code>orElse()</code> should return a different value. But sometimes &#180;orElse` can return null. So I want to know how to check that before use <code>get()</code>"},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698302531,"post_id":77363146,"comment_id":136388438,"body_markdown":"@Bohemian       I have updated the method with parameters. Sorry for not updating the methods properly. In the first call, it sends one argument. In the second call it sends a different argument. So the second time it may return null sometimes.","body":"@Bohemian       I have updated the method with parameters. Sorry for not updating the methods properly. In the first call, it sends one argument. In the second call it sends a different argument. So the second time it may return null sometimes."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698302673,"post_id":77363146,"comment_id":136388454,"body_markdown":"`Optional.map()` is only called if a value is present. It says so in the Javadoc. Does that answer your question? Otherwise you have more explaining to do.","body":"<code>Optional.map()</code> is only called if a value is present. It says so in the Javadoc. Does that answer your question? Otherwise you have more explaining to do."},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698306467,"post_id":77363146,"comment_id":136389187,"body_markdown":"@user207421   if you see, the map executes another method `map(tUrl -&gt; findFullUrl(tUrl))`. This `findFullUrl`  can return `Optional`. So I want to know how to get this value if it is available. This is why I tried to use `isPresent()` to see if the value available before use &#180;get()&#180;","body":"@user207421   if you see, the map executes another method <code>map(tUrl -&gt; findFullUrl(tUrl))</code>. This <code>findFullUrl</code>  can return <code>Optional</code>. So I want to know how to get this value if it is available. This is why I tried to use <code>isPresent()</code> to see if the value available before use &#180;get()&#180;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1698360974,"post_id":77363146,"comment_id":136399320,"body_markdown":"So you need `.map(tUrl -&gt; findFullUrl(tUrl).orElse(tURL))`?","body":"So you need <code>.map(tUrl -&gt; findFullUrl(tUrl).orElse(tURL))</code>?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698493341,"post_id":77363146,"comment_id":136414530,"body_markdown":"If `findFullUrl` returns an optional, you need `flatMap` instead of `map`. Besides that, your goal is incomplete “I only want to use the value if present” is understood and already implied by `Optional`’s API. But you have to define what should happen if no value is present. Side note: instead of `String.format(&quot;%s/ABC&quot;, param)` you can simply write `param + &quot;/ABC&quot;` which is easier to read *and* more efficient.","body":"If <code>findFullUrl</code> returns an optional, you need <code>flatMap</code> instead of <code>map</code>. Besides that, your goal is incomplete “I only want to use the value if present” is understood and already implied by <code>Optional</code>’s API. But you have to define what should happen if no value is present. Side note: instead of <code>String.format(&quot;%s&#47;ABC&quot;, param)</code> you can simply write <code>param + &quot;&#47;ABC&quot;</code> which is easier to read <i>and</i> more efficient."}],"answers":[{"comments":[{"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"score":0,"creation_date":1698304711,"post_id":77364793,"comment_id":136388836,"body_markdown":"Your first example has a bug. Since you&#39;re using `orElse`, the value of its argument is always evaluated (though perhaps ignored), meaning that it will crash if the second `Optional` is empty, regardless of whether the first has a value or not. This is the difference between `orElse` and `orElseGet`; the former eagerly evaluates the fallback, the latter doesn&#39;t.","body":"Your first example has a bug. Since you&#39;re using <code>orElse</code>, the value of its argument is always evaluated (though perhaps ignored), meaning that it will crash if the second <code>Optional</code> is empty, regardless of whether the first has a value or not. This is the difference between <code>orElse</code> and <code>orElseGet</code>; the former eagerly evaluates the fallback, the latter doesn&#39;t."},{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698307831,"post_id":77364793,"comment_id":136389448,"body_markdown":"@BambooleanLogic  Why the second `Optional` will crash? Isn&#39;t it why it has  another `.orElse(&#39;Default String&#39;)` to return a default string if the first on is empty ? Do you mean then we can never have &#180;orElse&#180; if it returns empty and it will throw exceptions?","body":"@BambooleanLogic  Why the second <code>Optional</code> will crash? Isn&#39;t it why it has  another <code>.orElse(&#39;Default String&#39;)</code> to return a default string if the first on is empty ? Do you mean then we can never have &#180;orElse&#180; if it returns empty and it will throw exceptions?"}],"tags":[],"owner":{"account_id":28677842,"reputation":11,"user_id":21959607,"display_name":"Noah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698304038,"creation_date":1698304038,"answer_id":77364793,"question_id":77363146,"body_markdown":"I think this might suit your goal.\r\n\r\nNow the second map operation returns the value, and if value is empty or null `map()` returns an empty `Optional` so the call to `orElseThrow()` throws an exception.\r\n\r\nIf the second call to `getOptionalString()` returns an empty `Optional` works the same way as if the `Optional` is not empty but the call to `findFullUrl()` returns `null` or an empty `String`, so it covers all posibilities.\r\n\r\n    private String getFinalString() {\r\n        return getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\r\n                .orElse( getOptionalString(map, constant.key2) \r\n                     .map(tUrl -&gt; return findFullUrl(tUrl))\r\n                         .orElseThrow(CustomException::new)\r\n             );\r\n    }\r\nIf you dont want to throw an `Exception`:\r\n\r\n    private String getFinalString() {\r\n        return getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\r\n                .orElse( getOptionalString(map, constant.key2) \r\n                     .map(tUrl -&gt; return findFullUrl(tUrl))\r\n                         .orElse(&#39;Default String&#39;)\r\n             );\r\n    }","title":"Java Optional - After map operation, return the value from optional object only if IsPresent() is true","body":"<p>I think this might suit your goal.</p>\n<p>Now the second map operation returns the value, and if value is empty or null <code>map()</code> returns an empty <code>Optional</code> so the call to <code>orElseThrow()</code> throws an exception.</p>\n<p>If the second call to <code>getOptionalString()</code> returns an empty <code>Optional</code> works the same way as if the <code>Optional</code> is not empty but the call to <code>findFullUrl()</code> returns <code>null</code> or an empty <code>String</code>, so it covers all posibilities.</p>\n<pre><code>private String getFinalString() {\n    return getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\n            .orElse( getOptionalString(map, constant.key2) \n                 .map(tUrl -&gt; return findFullUrl(tUrl))\n                     .orElseThrow(CustomException::new)\n         );\n}\n</code></pre>\n<p>If you dont want to throw an <code>Exception</code>:</p>\n<pre><code>private String getFinalString() {\n    return getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\n            .orElse( getOptionalString(map, constant.key2) \n                 .map(tUrl -&gt; return findFullUrl(tUrl))\n                     .orElse('Default String')\n         );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698308474,"post_id":77364828,"comment_id":136389566,"body_markdown":"why I cannot use `orElse()` instead of `or()` ?","body":"why I cannot use <code>orElse()</code> instead of <code>or()</code> ?"}],"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698304432,"creation_date":1698304432,"answer_id":77364828,"question_id":77363146,"body_markdown":"This is why `or` and `flatMap` are useful:\r\n\r\n```java\r\nreturn getOptionalString(map, constant.key1)\r\n        .map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\r\n        .or(() -&gt; getOptionalString(map, constant.key2)\r\n                .flatMap(tUrl -&gt; findFullUrl(tUrl))\r\n        )\r\n        .orElseThrow(); // Or whatever else you want in the case neither has a value\r\n```\r\n\r\nHere, I&#39;ve made two changes. Instead of `orElse`, which supplies a `String`, I&#39;m using `or` which supplies an `Optional&lt;String&gt;` and flattens it out into a single `Optional`.\r\n\r\nLikewise, inside the `or`, I&#39;m using `flatMap` instead of `map` to make the result an `Optional&lt;String&gt;` instead of an `Optional&lt;Optional&lt;String&gt;&gt;`.","title":"Java Optional - After map operation, return the value from optional object only if IsPresent() is true","body":"<p>This is why <code>or</code> and <code>flatMap</code> are useful:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return getOptionalString(map, constant.key1)\n        .map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\n        .or(() -&gt; getOptionalString(map, constant.key2)\n                .flatMap(tUrl -&gt; findFullUrl(tUrl))\n        )\n        .orElseThrow(); // Or whatever else you want in the case neither has a value\n</code></pre>\n<p>Here, I've made two changes. Instead of <code>orElse</code>, which supplies a <code>String</code>, I'm using <code>or</code> which supplies an <code>Optional&lt;String&gt;</code> and flattens it out into a single <code>Optional</code>.</p>\n<p>Likewise, inside the <code>or</code>, I'm using <code>flatMap</code> instead of <code>map</code> to make the result an <code>Optional&lt;String&gt;</code> instead of an <code>Optional&lt;Optional&lt;String&gt;&gt;</code>.</p>\n"},{"comments":[{"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"score":0,"creation_date":1698307417,"post_id":77364856,"comment_id":136389367,"body_markdown":"if the `getOptionalString(map, constant.key1)` value is not present then it goes to &#180;or()&#180;? and execute the `getOptionalString(map, constant.key2)` ? Why we cannot use `orElse()` instead of `or()`?\nCould you little bit explain why you had to use `flatMap` instead `map()`. Appreciate your reply to these questions. Thank you!","body":"if the <code>getOptionalString(map, constant.key1)</code> value is not present then it goes to &#180;or()&#180;? and execute the <code>getOptionalString(map, constant.key2)</code> ? Why we cannot use <code>orElse()</code> instead of <code>or()</code>? Could you little bit explain why you had to use <code>flatMap</code> instead <code>map()</code>. Appreciate your reply to these questions. Thank you!"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698310189,"post_id":77364856,"comment_id":136389888,"body_markdown":"You can use `orElse()` but then it&#39;s calling the second variation unnecessarily when the first is available. A better alternative would be `orElseGet()`, but `or()` is even cleaner here.","body":"You can use <code>orElse()</code> but then it&#39;s calling the second variation unnecessarily when the first is available. A better alternative would be <code>orElseGet()</code>, but <code>or()</code> is even cleaner here."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1698310276,"post_id":77364856,"comment_id":136389911,"body_markdown":"`flatMap()` is necessary when you&#39;re mapping to a method that itself returns Optional. Otherwise you end up with `Optional&lt;Optional&lt;String&gt;&gt;`.","body":"<code>flatMap()</code> is necessary when you&#39;re mapping to a method that itself returns Optional. Otherwise you end up with <code>Optional&lt;Optional&lt;String&gt;&gt;</code>."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698304656,"creation_date":1698304656,"answer_id":77364856,"question_id":77363146,"body_markdown":"You can use `or()` to load the second variation lazily in the same chain. You&#39;ll also need a nested `flatMap()` because `findFullUrl()` itself returns Optional. Then end the chain with a `orElseNull()` for when there&#39;s no result:\r\n\r\n    private String getFinalString() {\r\n        return getOptionalString(map, constant.key1)\r\n                .map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\r\n                .or(() -&gt; getOptionalString(map, constant.key2).flatMap(this::findFullUrl))\r\n                .orElseNull();\r\n    }","title":"Java Optional - After map operation, return the value from optional object only if IsPresent() is true","body":"<p>You can use <code>or()</code> to load the second variation lazily in the same chain. You'll also need a nested <code>flatMap()</code> because <code>findFullUrl()</code> itself returns Optional. Then end the chain with a <code>orElseNull()</code> for when there's no result:</p>\n<pre><code>private String getFinalString() {\n    return getOptionalString(map, constant.key1)\n            .map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\n            .or(() -&gt; getOptionalString(map, constant.key2).flatMap(this::findFullUrl))\n            .orElseNull();\n}\n</code></pre>\n"}],"owner":{"account_id":5449054,"reputation":1020,"user_id":4334502,"accept_rate":30,"display_name":"ever alian"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1698304656,"creation_date":1698271861,"question_id":77363146,"body_markdown":"I need to return a String value after the map operation that returns an `Optional` object. The `map` operation in line 4 returns an `Optional&lt;String&gt;` object. I want to return the value in this Optional object, but I should not directly use `get()` to return the value because it can be empty sometimes. I want to check `isPresent()` or something similar before returning the value.\r\n\r\nJust so you know, the below code is not completed. I am stuck at line 5 and unsure how to get the returned value from `findFullUrl()` only if available.\r\n\r\n    private String getFinalString() {\r\n    \treturn getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\r\n    \t\t\t.orElse( getOptionalString(map, constant.key2) \r\n                         .map(tUrl -&gt; findFullUrl(tUrl)) // I need to return this value only if only available.\r\n    \t\t\t\t\t .isPresent() // I am stuck here. This line is incomplete. Might need to modify.\r\n                 );\r\n        }\r\n\r\n\r\n    private Optional&lt;String&gt; getOptionalString(Map&lt;String, string&gt; map, String key){\r\n       //Some code goes here to get the value from a map.\r\n       return Optional.ofNullable(....);\r\n    }\r\n\r\n    private Optional&lt;String&gt; findFullUrl(String val){\r\n       // some logic goes here to build a url\r\n       return Optional.ofNullable(....);\r\n    }","title":"Java Optional - After map operation, return the value from optional object only if IsPresent() is true","body":"<p>I need to return a String value after the map operation that returns an <code>Optional</code> object. The <code>map</code> operation in line 4 returns an <code>Optional&lt;String&gt;</code> object. I want to return the value in this Optional object, but I should not directly use <code>get()</code> to return the value because it can be empty sometimes. I want to check <code>isPresent()</code> or something similar before returning the value.</p>\n<p>Just so you know, the below code is not completed. I am stuck at line 5 and unsure how to get the returned value from <code>findFullUrl()</code> only if available.</p>\n<pre><code>private String getFinalString() {\n    return getOptionalString(map, constant.key1).map(param -&gt; String.format(&quot;%s/ABC&quot;, param))\n            .orElse( getOptionalString(map, constant.key2) \n                     .map(tUrl -&gt; findFullUrl(tUrl)) // I need to return this value only if only available.\n                     .isPresent() // I am stuck here. This line is incomplete. Might need to modify.\n             );\n    }\n\n\nprivate Optional&lt;String&gt; getOptionalString(Map&lt;String, string&gt; map, String key){\n   //Some code goes here to get the value from a map.\n   return Optional.ofNullable(....);\n}\n\nprivate Optional&lt;String&gt; findFullUrl(String val){\n   // some logic goes here to build a url\n   return Optional.ofNullable(....);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","google-app-engine"],"owner":{"account_id":1844888,"reputation":747,"user_id":1673458,"accept_rate":62,"display_name":"Doctor Who"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698304494,"creation_date":1698304494,"question_id":77364835,"body_markdown":"I have a springboot application which was working fine until yesterday, now after deployement which was only code to `Google App Engine` it stopped working and started throwing 404 not found for every api exposed.\r\nwhen I try to access to default api like `https://project.com/` then its giving the result from mapped api, but when I try to access any other api like `https://project.com/test` it throws `404 not found` even api exists.\r\nwhile everything is running in my local\r\n\r\nBelow is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;API&lt;/name&gt;\r\n\t&lt;description&gt; APIs&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;swagger.springdoc.openapi&gt;1.4.1&lt;/swagger.springdoc.openapi&gt;\r\n\t\t&lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;&lt;!-- {x-version-update:google-cloud-storage:current} --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${swagger.springdoc.openapi}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&amp;lt;!&amp;ndash;&lt;scope&gt;provided&lt;/scope&gt;&amp;ndash;&amp;gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t &lt;!--&lt;dependency&gt;\r\n\t\t\t &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t &lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;!-- uncomment for server connection --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-socket-factory&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;                        &lt;!-- Google Cloud Client Library for Java --&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-cloud&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.47.0-alpha&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.opencensus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencensus-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.24.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.13&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;9.3.7.v20160115&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nAny help would be appriciated\r\n\r\n\r\n","title":"Springboot Service throwing 404 after deployment in google app engine","body":"<p>I have a springboot application which was working fine until yesterday, now after deployement which was only code to <code>Google App Engine</code> it stopped working and started throwing 404 not found for every api exposed.\nwhen I try to access to default api like <code>https://project.com/</code> then its giving the result from mapped api, but when I try to access any other api like <code>https://project.com/test</code> it throws <code>404 not found</code> even api exists.\nwhile everything is running in my local</p>\n<p>Below is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;name&gt;API&lt;/name&gt;\n&lt;description&gt; APIs&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;swagger.springdoc.openapi&gt;1.4.1&lt;/swagger.springdoc.openapi&gt;\n    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud-storage&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;&lt;!-- {x-version-update:google-cloud-storage:current} --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;${swagger.springdoc.openapi}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &amp;lt;!&amp;ndash;&lt;scope&gt;provided&lt;/scope&gt;&amp;ndash;&amp;gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n     &lt;!--&lt;dependency&gt;\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n     &lt;/dependency&gt;--&gt;\n\n    &lt;!-- uncomment for server connection --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.cloud.sql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-socket-factory&lt;/artifactId&gt;\n        &lt;version&gt;1.0.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;                        &lt;!-- Google Cloud Client Library for Java --&gt;\n        &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;google-cloud&lt;/artifactId&gt;\n        &lt;version&gt;0.47.0-alpha&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;6.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.opencensus&lt;/groupId&gt;\n        &lt;artifactId&gt;opencensus-api&lt;/artifactId&gt;\n        &lt;version&gt;0.24.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.5.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;version&gt;1&lt;/version&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;9.3.7.v20160115&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Any help would be appriciated</p>\n"},{"tags":["java","environment-variables","centos","windows-subsystem-for-linux","wsl-2"],"answers":[{"comments":[{"owner":{"account_id":29756430,"reputation":3,"user_id":22805004,"display_name":"Akmal Narendra Sakti"},"score":0,"creation_date":1698310236,"post_id":77364807,"comment_id":136389899,"body_markdown":"Thanks this solve the problems. However, It still unable to connect to the internet. I guess it&#39;s another problem I need to figure out. Thank you!","body":"Thanks this solve the problems. However, It still unable to connect to the internet. I guess it&#39;s another problem I need to figure out. Thank you!"}],"tags":[],"owner":{"account_id":24557191,"reputation":101,"user_id":18465532,"display_name":"Mina-"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698304183,"creation_date":1698304183,"answer_id":77364807,"question_id":77364225,"body_markdown":"It is because java won&#39;t understand your PATH variable as one command(or arguemtns), but as multiple arguments because of space.\r\n\r\nfor example, the part of the path makes error occured:\r\n`:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR`\r\n\r\nthe command JVM understand will look like:\r\n`java_vm -Xmx128m -classpath &quot;$CLASSPATH&quot;  -DDISPLAY=$DISPLAY -DPATH=:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR`\r\nwhich JVM will only recognize `:/mnt/c/Program Files/NVIDIA` as the only path you entered, and `Files/NVIDIA` becomes the single argument, which indicates main class&#39;s name.\r\n\r\n\r\nTo solve this, add `&quot;` when using variable, like &quot;$PATH&quot;, and this will prevent space to be parsed from command parser.","title":"Cannot Run Java in CentOS WSL2: Error load main class Files.NVIDIA","body":"<p>It is because java won't understand your PATH variable as one command(or arguemtns), but as multiple arguments because of space.</p>\n<p>for example, the part of the path makes error occured:\n<code>:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR</code></p>\n<p>the command JVM understand will look like:\n<code>java_vm -Xmx128m -classpath &quot;$CLASSPATH&quot;  -DDISPLAY=$DISPLAY -DPATH=:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR</code>\nwhich JVM will only recognize <code>:/mnt/c/Program Files/NVIDIA</code> as the only path you entered, and <code>Files/NVIDIA</code> becomes the single argument, which indicates main class's name.</p>\n<p>To solve this, add <code>&quot;</code> when using variable, like &quot;$PATH&quot;, and this will prevent space to be parsed from command parser.</p>\n"}],"owner":{"account_id":29756430,"reputation":3,"user_id":22805004,"display_name":"Akmal Narendra Sakti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77364807,"answer_count":1,"score":0,"last_activity_date":1698304183,"creation_date":1698296586,"question_id":77364225,"body_markdown":"I tried to run a shell script to run an application in Java. I cannot post the whole script due to copyright. But the line executing Java is the following (with some modification)\r\n\r\n`$java_vm -Xmx128m -classpath &quot;$CLASSPATH&quot;  -DDISPLAY=$DISPLAY -DPATH=$PATH -Djava.library.path=. -DEXEC_PLAT=$plat -jar $kp_dir/lib/SomeJAR.jar $args 2&gt;&amp;1`\r\n\r\nwhere $java_vm is the path to java\r\n\r\nWhen executing the script, I got the following error:\r\n\r\n&gt; Error: Could not find or load main class Files.NVIDIA\r\n&gt; Caused by: java.lang.ClassNotFoundException: Files.NVIDIA\r\n\r\nI run this in WSL2 CentOS system. I found that this error could be fixed by removing `-DPATH=$PATH` option altogether. However, doing so will remove the application ability to access the internet (maybe because some important path for networking is removed)\r\n\r\nHere is my PATH variable\r\n\r\n\r\n```\r\n/usr/lib/jvm/java-17-openjdk-17.0.1.0.12-2.el8_5.x86_64/bin:/usr/lib/jvm/jre-17-openjdk-17.0.1.0.12-2.el8_5.x86_64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/WireGuard/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/usbipd-win/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Users/myName/AppData/Local/Programs/Python/Python312/Scripts/:/mnt/c/Users/myName/AppData/Local/Programs/Python/Python312/:/mnt/c/Users/myName/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/myName/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/myName/AppData/Local/GitHubDesktop/bin:/mnt/c/Program Files/KS-Wireshark:/root/bin\r\n```\r\n\r\n\r\nI tried to run a shell script in WSL2 CentOS system. I expect it to run normally but I got this error which can be solved by removing -DPATH option. But doing so will remove the application networking capability","title":"Cannot Run Java in CentOS WSL2: Error load main class Files.NVIDIA","body":"<p>I tried to run a shell script to run an application in Java. I cannot post the whole script due to copyright. But the line executing Java is the following (with some modification)</p>\n<p><code>$java_vm -Xmx128m -classpath &quot;$CLASSPATH&quot;  -DDISPLAY=$DISPLAY -DPATH=$PATH -Djava.library.path=. -DEXEC_PLAT=$plat -jar $kp_dir/lib/SomeJAR.jar $args 2&gt;&amp;1</code></p>\n<p>where $java_vm is the path to java</p>\n<p>When executing the script, I got the following error:</p>\n<blockquote>\n<p>Error: Could not find or load main class Files.NVIDIA\nCaused by: java.lang.ClassNotFoundException: Files.NVIDIA</p>\n</blockquote>\n<p>I run this in WSL2 CentOS system. I found that this error could be fixed by removing <code>-DPATH=$PATH</code> option altogether. However, doing so will remove the application ability to access the internet (maybe because some important path for networking is removed)</p>\n<p>Here is my PATH variable</p>\n<pre><code>/usr/lib/jvm/java-17-openjdk-17.0.1.0.12-2.el8_5.x86_64/bin:/usr/lib/jvm/jre-17-openjdk-17.0.1.0.12-2.el8_5.x86_64/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/NVIDIA Corporation/NVIDIA NvDLISR:/mnt/c/WINDOWS/system32:/mnt/c/WINDOWS:/mnt/c/WINDOWS/System32/Wbem:/mnt/c/WINDOWS/System32/WindowsPowerShell/v1.0/:/mnt/c/WINDOWS/System32/OpenSSH/:/mnt/c/Program Files/WireGuard/:/mnt/c/Program Files (x86)/NVIDIA Corporation/PhysX/Common:/mnt/c/Program Files/usbipd-win/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Users/myName/AppData/Local/Programs/Python/Python312/Scripts/:/mnt/c/Users/myName/AppData/Local/Programs/Python/Python312/:/mnt/c/Users/myName/AppData/Local/Microsoft/WindowsApps:/mnt/c/Users/myName/AppData/Local/Programs/Microsoft VS Code/bin:/mnt/c/Users/myName/AppData/Local/GitHubDesktop/bin:/mnt/c/Program Files/KS-Wireshark:/root/bin\n</code></pre>\n<p>I tried to run a shell script in WSL2 CentOS system. I expect it to run normally but I got this error which can be solved by removing -DPATH option. But doing so will remove the application networking capability</p>\n"},{"tags":["java","swing","keylistener"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1698307371,"post_id":77364795,"comment_id":136389359,"body_markdown":"Your `Board` class extends a `JPanel` and implements a separate `JPanel`.  Quit using `static` fields.  The `JPanel` must be in focus for a `KeyListener` to work.  Read this [StackOverflow answer](https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365) about a different Snake game to see some of the things you consider doing when creating a game.","body":"Your <code>Board</code> class extends a <code>JPanel</code> and implements a separate <code>JPanel</code>.  Quit using <code>static</code> fields.  The <code>JPanel</code> must be in focus for a <code>KeyListener</code> to work.  Read this <a href=\"https://stackoverflow.com/questions/70701646/snake-game-in-java-but-my-restart-button-does-not-work/70711365#70711365\">StackOverflow answer</a> about a different Snake game to see some of the things you consider doing when creating a game."},{"owner":{"account_id":16456344,"reputation":13,"user_id":11888440,"display_name":"Simon J&#228;ggi"},"score":0,"creation_date":1698395584,"post_id":77364795,"comment_id":136402709,"body_markdown":"Your Board class extends a JPanel and implements a separate JPanel. - Why shouldnt I do that?\nQuit using static fields. Why and where do I use static fields?\nThe JPanel must be in focus for a KeyListener to work. - I tried requesting focus, but that didnt change the outcome.\n\nThanks :)","body":"Your Board class extends a JPanel and implements a separate JPanel. - Why shouldnt I do that? Quit using static fields. Why and where do I use static fields? The JPanel must be in focus for a KeyListener to work. - I tried requesting focus, but that didnt change the outcome.  Thanks :)"}],"owner":{"account_id":16456344,"reputation":13,"user_id":11888440,"display_name":"Simon J&#228;ggi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698304051,"creation_date":1698304051,"question_id":77364795,"body_markdown":"Firstly, I apologize if this has been asked a lot. I have found a lot of solution possibilities, but I don&#39;t want to copy paste a whole approach, as I&#39;m trying to understand what I&#39;m doing.\r\n\r\nI&#39;m rather new to programming and trying out some things by creating a very basic snake game. So far, I have defined a couple of classes, of which &quot;Board&quot; creates the necessary graphical interface and handles refreshing, and &quot;Game&quot; that handles all the game logic and catches keyboard inputs.\r\n\r\nMy current classes:\r\n\r\n\r\n```\r\npackage src.lecture._10_snake;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class Game implements KeyListener {\r\n    private static Snake snake;\r\n    private Board board;\r\n    public Game(Board board){\r\n        snake = new Snake();\r\n        this.board = board;\r\n    }\r\n    public void run(){\r\n//        while(true){\r\n//\r\n//        }\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        System.out.println(&quot;keypressed event&quot;);\r\n        int keyCode = e.getKeyCode();\r\n        switch (keyCode) {\r\n            case KeyEvent.VK_UP:\r\n                // Move the snake up\r\n                snake.moveUp();\r\n                break;\r\n            case KeyEvent.VK_DOWN:\r\n                // Move the snake down\r\n                snake.moveDown();\r\n                break;\r\n            case KeyEvent.VK_LEFT:\r\n                // Move the snake left\r\n                snake.moveLeft();\r\n                break;\r\n            case KeyEvent.VK_RIGHT:\r\n                // Move the snake right\r\n                snake.moveRight();\r\n                break;\r\n        }\r\n        board.refresh();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Board board = new Board(snake);\r\n        Game game = new Game(board);\r\n        board.addKeyListener(game);\r\n        game.run();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage src.lecture._10_snake;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\n\r\npublic class Board extends JPanel{\r\n    private JFrame frame = new JFrame(&quot;Snake game&quot;);\r\n    private JPanel panel = new JPanel();\r\n    private final int height = 35;\r\n    private final int width = 35;\r\n    private Snake snake;\r\n\r\n    public Board(Snake snake){\r\n        this.snake = snake;\r\n        panel.setLayout(new GridLayout(height, width));\r\n        for (int i = 0; i &lt; height*width; i++) {\r\n            JLabel cell = new JLabel(&quot;x&quot;);\r\n            panel.add(cell);\r\n        }\r\n        frame.add(panel);\r\n        frame.setSize(800, 800); // Set the desired size\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // Close the application when the frame is closed\r\n        frame.setVisible(true);\r\n\r\n    }\r\n    public void refresh(){\r\n        int[] snakePosition = snake.getPosition();\r\n        for (int i = 0; i &lt; snakePosition.length; i++) {\r\n            JLabel currentCell = (JLabel) panel.getComponent(snakePosition[i] * width + snakePosition[i+1]);\r\n            currentCell.setText(&quot;o&quot;);\r\n        }\r\n\r\n        repaint();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nFor now, I simply want to be able to trigger the &quot;KeyPressed&quot; method in &quot;Game&quot;. I can&#39;t figure out what I&#39;m doing wrong. I tried a bunch of things with window selection, but nothing seemed to work. \r\n\r\nCan someone help me figure this out? Appreciate any help.","title":"Java KeyPressed Event not recognised by seperate logic class","body":"<p>Firstly, I apologize if this has been asked a lot. I have found a lot of solution possibilities, but I don't want to copy paste a whole approach, as I'm trying to understand what I'm doing.</p>\n<p>I'm rather new to programming and trying out some things by creating a very basic snake game. So far, I have defined a couple of classes, of which &quot;Board&quot; creates the necessary graphical interface and handles refreshing, and &quot;Game&quot; that handles all the game logic and catches keyboard inputs.</p>\n<p>My current classes:</p>\n<pre><code>package src.lecture._10_snake;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Game implements KeyListener {\n    private static Snake snake;\n    private Board board;\n    public Game(Board board){\n        snake = new Snake();\n        this.board = board;\n    }\n    public void run(){\n//        while(true){\n//\n//        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        System.out.println(&quot;keypressed event&quot;);\n        int keyCode = e.getKeyCode();\n        switch (keyCode) {\n            case KeyEvent.VK_UP:\n                // Move the snake up\n                snake.moveUp();\n                break;\n            case KeyEvent.VK_DOWN:\n                // Move the snake down\n                snake.moveDown();\n                break;\n            case KeyEvent.VK_LEFT:\n                // Move the snake left\n                snake.moveLeft();\n                break;\n            case KeyEvent.VK_RIGHT:\n                // Move the snake right\n                snake.moveRight();\n                break;\n        }\n        board.refresh();\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n\n    }\n\n    public static void main(String[] args) {\n        Board board = new Board(snake);\n        Game game = new Game(board);\n        board.addKeyListener(game);\n        game.run();\n    }\n}\n\n</code></pre>\n<pre><code>package src.lecture._10_snake;\n\nimport javax.swing.*;\nimport java.awt.*;\n\n\npublic class Board extends JPanel{\n    private JFrame frame = new JFrame(&quot;Snake game&quot;);\n    private JPanel panel = new JPanel();\n    private final int height = 35;\n    private final int width = 35;\n    private Snake snake;\n\n    public Board(Snake snake){\n        this.snake = snake;\n        panel.setLayout(new GridLayout(height, width));\n        for (int i = 0; i &lt; height*width; i++) {\n            JLabel cell = new JLabel(&quot;x&quot;);\n            panel.add(cell);\n        }\n        frame.add(panel);\n        frame.setSize(800, 800); // Set the desired size\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // Close the application when the frame is closed\n        frame.setVisible(true);\n\n    }\n    public void refresh(){\n        int[] snakePosition = snake.getPosition();\n        for (int i = 0; i &lt; snakePosition.length; i++) {\n            JLabel currentCell = (JLabel) panel.getComponent(snakePosition[i] * width + snakePosition[i+1]);\n            currentCell.setText(&quot;o&quot;);\n        }\n\n        repaint();\n    }\n}\n\n</code></pre>\n<p>For now, I simply want to be able to trigger the &quot;KeyPressed&quot; method in &quot;Game&quot;. I can't figure out what I'm doing wrong. I tried a bunch of things with window selection, but nothing seemed to work.</p>\n<p>Can someone help me figure this out? Appreciate any help.</p>\n"},{"tags":["java","maven","netbeans","ireport"],"answers":[{"comments":[{"owner":{"account_id":2864952,"reputation":797,"user_id":2459452,"accept_rate":42,"display_name":"Cold"},"score":0,"creation_date":1676449204,"post_id":74284049,"comment_id":133136781,"body_markdown":"This is crazy, but I&#39;ve solved using this approach. OI can not understand why this solves the problem. I will look further.\n\nThanks","body":"This is crazy, but I&#39;ve solved using this approach. OI can not understand why this solves the problem. I will look further.  Thanks"}],"tags":[],"owner":{"account_id":26801847,"reputation":11,"user_id":20393697,"display_name":"Hans Christian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667359782,"creation_date":1667359782,"answer_id":74284049,"question_id":60348357,"body_markdown":"i dont know how to explain, but this work for me.\r\ngo to report properties then change the language to groovy. before i change my language to java then error like that.","title":"iReport compile error (java.lang.String&#160;cannot&#160;be&#160;resolved) in maven NetBeans project","body":"<p>i dont know how to explain, but this work for me.\ngo to report properties then change the language to groovy. before i change my language to java then error like that.</p>\n"}],"owner":{"account_id":17623379,"reputation":41,"user_id":12788838,"display_name":"Yuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3875,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1698303844,"creation_date":1582336788,"question_id":60348357,"body_markdown":"Maybe somebody can help me to solve this issue.\r\nI am trying to integrate iReport in my NetBeans project and can&#39;t solve the following issue.\r\nWhen I create new report from &quot;MyProject ---&gt; New ---&gt; Empty report&quot; it won&#39;t compile and show me Preview from report Designer Tab it gives me the following error:\r\n\r\nCompilation&#160;exceptions:&#160;com.jaspersoft.ireport.designer.compiler.ErrorsCollector@3d50d9ef  net.sf.jasperreports.engine.JRException:&#160;Errors&#160;were&#160;encountered&#160;when&#160;compiling&#160;report&#160;expressions&#160;class&#160;file: 1.&#160;**The&#160;type&#160;java.lang.String&#160;cannot&#160;be&#160;resolved.&#160;It&#160;is&#160;indirectly&#160;referenced&#160;from&#160;required&#160;.class&#160;files** /* ^ 1&#160;errors  &#160;&#160;&#160;&#160;at&#160;net.sf.jasperreports.engine.design.JRAbstractCompiler.compileReport(JRAbstractCompiler.java:204) &#160;&#160;&#160;&#160;at&#160;com.jaspersoft.ireport.designer.compiler.IReportCompiler.run(IReportCompiler.java:512) &#160;&#160;&#160;&#160;at&#160;org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418) &#160;&#160;&#160;&#160;at&#160;org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45) &#160;&#160;&#160;&#160;at&#160;org.openide.util.lookup.Lookups.executeWith(Lookups.java:278) &#160;&#160;&#160;&#160;at&#160;org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)\r\n\r\nAt the same time everything looks fine if I create new report from iReport Welcome Screen in NetBeans.\r\nThis my Pom file.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    \r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\r\n            &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\r\n            &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Jasper Reports&lt;/id&gt;\r\n            &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jr-ce-releases&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.19&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mchange-commons-java&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.5.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.toedter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcalendar&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\r\n            &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE112&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt; &lt;!-- needed by jasperreports to build--&gt;\r\n            &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itext&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n            &lt;version&gt;${jasperreports.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\r\n            &lt;version&gt;${jasperreports.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n            &lt;version&gt;6.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xalan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xalan&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client-jre7&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;Jasper Reports&lt;/id&gt;\r\n            &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jr-ce-releases&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;13&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;13&lt;/maven.compiler.target&gt;\r\n        &lt;jasperreports.version&gt;6.11.0&lt;/jasperreports.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;-Djava.awt.headless=true&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-resources&lt;/id&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${basedir}/target/TechInfo&lt;/outputDirectory&gt;\r\n                            &lt;resources&gt;\r\n                                &lt;resource&gt;\r\n                                    &lt;directory&gt;resources&lt;/directory&gt;\r\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                                &lt;/resource&gt;\r\n                            &lt;/resources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt; \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;techinfo1.MainPage&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                        &lt;manifestEntries&gt;\r\n                            &lt;Class-Path&gt;.&lt;/Class-Path&gt;\r\n                        &lt;/manifestEntries&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;finalName&gt;TechInfo_1.0&lt;/finalName&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;  \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.alexnederlof&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jasperreports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectory&gt;${project.build.sourceDirectory}/../resources&lt;/sourceDirectory&gt;\r\n                    &lt;outputDirectory&gt;${project.build.outputDirectory}/jrxml&lt;/outputDirectory&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\r\n                        &lt;version&gt;6.11.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n                        &lt;version&gt;6.11.0&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jasper&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n                    \r\n        &lt;/plugins&gt;            \r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI also downgraded JRE from 8 to JRE 7.\r\nAdded whole bunch of files in Libraries for iReport.\r\nFrom Report query it gives me same error. It connects to database but can&#39;t read from it.\r\n\r\n[![Report query error][1]][1]\r\n\r\nAny ideas what am I missing in my project? \r\n\r\nThank you in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N818m.jpg","title":"iReport compile error (java.lang.String&#160;cannot&#160;be&#160;resolved) in maven NetBeans project","body":"<p>Maybe somebody can help me to solve this issue.\nI am trying to integrate iReport in my NetBeans project and can't solve the following issue.\nWhen I create new report from \"MyProject ---> New ---> Empty report\" it won't compile and show me Preview from report Designer Tab it gives me the following error:</p>\n\n<p>Compilation exceptions: com.jaspersoft.ireport.designer.compiler.ErrorsCollector@3d50d9ef  net.sf.jasperreports.engine.JRException: Errors were encountered when compiling report expressions class file: 1. <strong>The type java.lang.String cannot be resolved. It is indirectly referenced from required .class files</strong> /* ^ 1 errors      at net.sf.jasperreports.engine.design.JRAbstractCompiler.compileReport(JRAbstractCompiler.java:204)     at com.jaspersoft.ireport.designer.compiler.IReportCompiler.run(IReportCompiler.java:512)     at org.openide.util.RequestProcessor$Task.run(RequestProcessor.java:1418)     at org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)     at org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)     at org.openide.util.RequestProcessor$Processor.run(RequestProcessor.java:2033)</p>\n\n<p>At the same time everything looks fine if I create new report from iReport Welcome Screen in NetBeans.\nThis my Pom file.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;unknown-jars-temp-repo&lt;/id&gt;\n        &lt;name&gt;A temporary repository created by NetBeans for libraries and jars it could not identify. Please replace the dependencies in this repository with correct ones and delete this repository.&lt;/name&gt;\n        &lt;url&gt;file:${project.basedir}/lib&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;Jasper Reports&lt;/id&gt;\n        &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jr-ce-releases&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.19&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n                &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n        &lt;artifactId&gt;mchange-commons-java&lt;/artifactId&gt;\n        &lt;version&gt;0.2.20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n        &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n        &lt;version&gt;0.9.5.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.toedter&lt;/groupId&gt;\n        &lt;artifactId&gt;jcalendar&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.netbeans.external&lt;/groupId&gt;\n        &lt;artifactId&gt;AbsoluteLayout&lt;/artifactId&gt;\n        &lt;version&gt;RELEASE112&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- needed by jasperreports to build--&gt;\n        &lt;groupId&gt;com.lowagie&lt;/groupId&gt;\n        &lt;artifactId&gt;itext&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n        &lt;version&gt;${jasperreports.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\n        &lt;version&gt;${jasperreports.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n        &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n        &lt;version&gt;6.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;xalan&lt;/groupId&gt;\n        &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;version&gt;2.5.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;mariadb-java-client-jre7&lt;/artifactId&gt;\n        &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;Jasper Reports&lt;/id&gt;\n        &lt;url&gt;http://jaspersoft.artifactoryonline.com/jaspersoft/jr-ce-releases&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;13&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;13&lt;/maven.compiler.target&gt;\n    &lt;jasperreports.version&gt;6.11.0&lt;/jasperreports.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;-Djava.awt.headless=true&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-resources&lt;/id&gt;\n                    &lt;phase&gt;validate&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-resources&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${basedir}/target/TechInfo&lt;/outputDirectory&gt;\n                        &lt;resources&gt;\n                            &lt;resource&gt;\n                                &lt;directory&gt;resources&lt;/directory&gt;\n                                &lt;filtering&gt;true&lt;/filtering&gt;\n                            &lt;/resource&gt;\n                        &lt;/resources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;copy-dependencies&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                        &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                        &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt; \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;mainClass&gt;techinfo1.MainPage&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Class-Path&gt;.&lt;/Class-Path&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;finalName&gt;TechInfo_1.0&lt;/finalName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;  \n        &lt;plugin&gt;\n            &lt;groupId&gt;com.alexnederlof&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sourceDirectory&gt;${project.build.sourceDirectory}/../resources&lt;/sourceDirectory&gt;\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/jrxml&lt;/outputDirectory&gt;\n                &lt;verbose&gt;true&lt;/verbose&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n                    &lt;artifactId&gt;jasperreports-functions&lt;/artifactId&gt;\n                    &lt;version&gt;6.11.0&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n                    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n                    &lt;version&gt;6.11.0&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-resources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jasper&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n    &lt;/plugins&gt;            \n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>I also downgraded JRE from 8 to JRE 7.\nAdded whole bunch of files in Libraries for iReport.\nFrom Report query it gives me same error. It connects to database but can't read from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/N818m.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N818m.jpg\" alt=\"Report query error\"></a></p>\n\n<p>Any ideas what am I missing in my project? </p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","redis","locking","redisson","distributed-lock"],"owner":{"account_id":24969164,"reputation":66,"user_id":18832481,"display_name":"n1nja88888"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698303666,"creation_date":1698303666,"question_id":77364756,"body_markdown":"In the implementation of the watchdog in Redisson, if the renewal fails, it will just release the lock and do nothing:\r\n\r\n[![][1]][1]\r\n\r\nThat means the main thread doesn&#39;t know if it has lost the lock and will continue its relevant process. This may lead to inconsistency or non-idempotent.\r\n\r\nHow to solve this situation?\r\n\r\n  [1]: https://i.stack.imgur.com/vYhgg.png","title":"how to notify the main thread when Redisson failed to renew a lock?","body":"<p>In the implementation of the watchdog in Redisson, if the renewal fails, it will just release the lock and do nothing:</p>\n<p><a href=\"https://i.stack.imgur.com/vYhgg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vYhgg.png\" alt=\"\" /></a></p>\n<p>That means the main thread doesn't know if it has lost the lock and will continue its relevant process. This may lead to inconsistency or non-idempotent.</p>\n<p>How to solve this situation?</p>\n"},{"tags":["java","performance","ubuntu","intellij-idea","ide"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1413121972,"post_id":26325851,"comment_id":41315956,"body_markdown":"I find the IntelliJ community and support to be far more focused and responsive.  Try again.  I haven&#39;t seen that error in &gt; 10 years of using the product.","body":"I find the IntelliJ community and support to be far more focused and responsive.  Try again.  I haven&#39;t seen that error in &gt; 10 years of using the product."},{"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"score":0,"creation_date":1413122290,"post_id":26325851,"comment_id":41316039,"body_markdown":"I&#39;ll try them again too, it can&#39;t hurt. Just curious if anyone else has other ideas.","body":"I&#39;ll try them again too, it can&#39;t hurt. Just curious if anyone else has other ideas."},{"owner":{"account_id":1230894,"reputation":2364,"user_id":1195507,"accept_rate":100,"display_name":"rvazquezglez"},"score":1,"creation_date":1564775808,"post_id":26325851,"comment_id":101155396,"body_markdown":"If you are on Mac and getting the same error, here is how to increase the open files limit https://superuser.com/questions/433746/is-there-a-fix-for-the-too-many-open-files-in-system-error-on-os-x-10-7-1/1171028#1171028 or find the culprit https://superuser.com/a/1180084/204758 (same question but different answers)","body":"If you are on Mac and getting the same error, here is how to increase the open files limit <a href=\"https://superuser.com/questions/433746/is-there-a-fix-for-the-too-many-open-files-in-system-error-on-os-x-10-7-1/1171028#1171028\" title=\"is there a fix for the too many open files in system error on os x 10 7 1\">superuser.com/questions/433746/&hellip;</a> or find the culprit <a href=\"https://superuser.com/a/1180084/204758\">superuser.com/a/1180084/204758</a> (same question but different answers)"}],"answers":[{"tags":[],"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1413385973,"creation_date":1413385973,"answer_id":26386012,"question_id":26325851,"body_markdown":"I spoke to IntelliJ support. They suggested that part 2 that I mentioned was not taking effect. I tried these steps:\r\n\r\n1) sudo vi /etc/security/limits.conf and add these lines (take a backup too):\r\n\r\n    *       soft    nofile  380180\r\n    *       hard    nofile  380180\r\n\r\n2) sudo vi /etc/pam.d/common-session add this line (take a backup too):\r\n\r\n    session required pam_limits.so\r\n3) sudo vi /etc/pam.d/common-session-noninteractive add this line (take a backup too):\r\n\r\n    session required pam_limits.so\r\n\r\n4) Reboot your machine\r\n\r\n5) Confirm this took effect by running this command, you should see this result\r\n\r\n    ~$ ulimit -n\r\n    380180\r\n\r\n\r\nI reopened my large project after that and I haven&#39;t seen the &quot;too many files open&quot; message since then.","title":"IntelliJ too many files open error","body":"<p>I spoke to IntelliJ support. They suggested that part 2 that I mentioned was not taking effect. I tried these steps:</p>\n\n<p>1) sudo vi /etc/security/limits.conf and add these lines (take a backup too):</p>\n\n<pre><code>*       soft    nofile  380180\n*       hard    nofile  380180\n</code></pre>\n\n<p>2) sudo vi /etc/pam.d/common-session add this line (take a backup too):</p>\n\n<pre><code>session required pam_limits.so\n</code></pre>\n\n<p>3) sudo vi /etc/pam.d/common-session-noninteractive add this line (take a backup too):</p>\n\n<pre><code>session required pam_limits.so\n</code></pre>\n\n<p>4) Reboot your machine</p>\n\n<p>5) Confirm this took effect by running this command, you should see this result</p>\n\n<pre><code>~$ ulimit -n\n380180\n</code></pre>\n\n<p>I reopened my large project after that and I haven't seen the \"too many files open\" message since then.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1698314604,"post_id":77364737,"comment_id":136390777,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77364737/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28969967,"reputation":1,"user_id":22190513,"display_name":"Abhishek Pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698303453,"creation_date":1698303453,"answer_id":77364737,"question_id":26325851,"body_markdown":"CONTEXT -&gt; \r\nIn my case the issue was that in one of my projects maven couldn&#39;t identify couple of packages.\r\nSo if I opened a new project it would give this error &quot;too many open files error intellij error=24&quot;.\r\n\r\nSOLUTION (that worked for me) -&gt; *&quot;reload&quot; maven project* ","title":"IntelliJ too many files open error","body":"<p>CONTEXT -&gt;\nIn my case the issue was that in one of my projects maven couldn't identify couple of packages.\nSo if I opened a new project it would give this error &quot;too many open files error intellij error=24&quot;.</p>\n<p>SOLUTION (that worked for me) -&gt; <em>&quot;reload&quot; maven project</em></p>\n"}],"owner":{"account_id":3576183,"reputation":8143,"user_id":2985377,"accept_rate":75,"display_name":"Jason D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10640,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26386012,"answer_count":2,"score":7,"last_activity_date":1698303453,"creation_date":1413121819,"question_id":26325851,"body_markdown":"In IntelliJ IDEA 13.1.5 on Ubuntu 14.04 LTS I see an occasional error in large projects that says &quot;too many files open&quot;. Interestingly, this refuses to go away and freezes the IDE completely.\r\nI&#39;ve tried the following things to fix it.\r\n\r\n1) Modify my /etc/sysctl.conf to have this line as shown in this article [here][1]. Made the error less frequent:\r\n\r\n    fs.inotify.max_user_watches = 524288    \r\n    fs.file-max = 380180 \r\n\r\n2) Raise the ulimit -n setting on the IntelliJ process to 64k. I don&#39;t notice any difference in performance with this, but the article that I mentioned above claims that it will help.\r\n\r\n3) Add this to my idea64.vmoptions file (helps with speed of indexing, but not with this problem)\r\n\r\n    -Xms128m\r\n    -Xmx8192m\r\n    -XX:MaxPermSize=1024m\r\n\r\n\r\nHas anyone else seen this error and do you have any other suggestions of what I can do to fix it?\r\n\r\nI&#39;ve considering asking IntelliJ support, but I&#39;ve found I need to go back and forth with them a few times before I get a helpful answer. Any advice from the community on this would be appreciated.\r\n\r\n\r\n  [1]: http://qupera.blogspot.com/2012/07/solving-too-many-open-files-under-linux.html","title":"IntelliJ too many files open error","body":"<p>In IntelliJ IDEA 13.1.5 on Ubuntu 14.04 LTS I see an occasional error in large projects that says \"too many files open\". Interestingly, this refuses to go away and freezes the IDE completely.\nI've tried the following things to fix it.</p>\n\n<p>1) Modify my /etc/sysctl.conf to have this line as shown in this article <a href=\"http://qupera.blogspot.com/2012/07/solving-too-many-open-files-under-linux.html\" rel=\"noreferrer\">here</a>. Made the error less frequent:</p>\n\n<pre><code>fs.inotify.max_user_watches = 524288    \nfs.file-max = 380180 \n</code></pre>\n\n<p>2) Raise the ulimit -n setting on the IntelliJ process to 64k. I don't notice any difference in performance with this, but the article that I mentioned above claims that it will help.</p>\n\n<p>3) Add this to my idea64.vmoptions file (helps with speed of indexing, but not with this problem)</p>\n\n<pre><code>-Xms128m\n-Xmx8192m\n-XX:MaxPermSize=1024m\n</code></pre>\n\n<p>Has anyone else seen this error and do you have any other suggestions of what I can do to fix it?</p>\n\n<p>I've considering asking IntelliJ support, but I've found I need to go back and forth with them a few times before I get a helpful answer. Any advice from the community on this would be appreciated.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1698263007,"post_id":77362320,"comment_id":136384586,"body_markdown":"You don&#39;t appear to be assigning the `parent` property of the children.  You need to do, because `Child` is the owning side of that relationship.  Adding the children to the parent&#39;s set of children does not suffice.  In fact,  under some circumstances you can get away without modifying the parent&#39;s `children` property on the Java side at all.  See [Do I have to set both sides for a bidirectional relationship?](https://stackoverflow.com/q/48754783/2402272)","body":"You don&#39;t appear to be assigning the <code>parent</code> property of the children.  You need to do, because <code>Child</code> is the owning side of that relationship.  Adding the children to the parent&#39;s set of children does not suffice.  In fact,  under some circumstances you can get away without modifying the parent&#39;s <code>children</code> property on the Java side at all.  See <a href=\"https://stackoverflow.com/q/48754783/2402272\">Do I have to set both sides for a bidirectional relationship?</a>"}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698303156,"creation_date":1698303156,"answer_id":77364716,"question_id":77362320,"body_markdown":"You should always provide these methods whenever you are working with a bidirectional association as, otherwise, you risk very [subtle state propagation issues](https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/)\r\n```\r\npublic class Parent {\r\n    public void addChild(Child child) {\r\n        children.add(child);\r\n        child.setParent(this);\r\n    }\r\n}\r\n```\r\nYour saving class\r\n```\r\n    var child1 = new Child();\r\n    var child2 = new Child();\r\n\r\n    var parent = new Parent();\r\n    parent.addChild(child1);\r\n    parent.addChild(child2);\r\n\r\n    parentRepository.save(parent);\r\n```","title":"JPA persists Child Entity without composite key","body":"<p>You should always provide these methods whenever you are working with a bidirectional association as, otherwise, you risk very <a href=\"https://vladmihalcea.com/jpa-hibernate-synchronize-bidirectional-entity-associations/\" rel=\"nofollow noreferrer\">subtle state propagation issues</a></p>\n<pre><code>public class Parent {\n    public void addChild(Child child) {\n        children.add(child);\n        child.setParent(this);\n    }\n}\n</code></pre>\n<p>Your saving class</p>\n<pre><code>    var child1 = new Child();\n    var child2 = new Child();\n\n    var parent = new Parent();\n    parent.addChild(child1);\n    parent.addChild(child2);\n\n    parentRepository.save(parent);\n</code></pre>\n"}],"owner":{"account_id":7367586,"reputation":147,"user_id":5608881,"accept_rate":80,"display_name":"Apatus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77364716,"answer_count":1,"score":0,"last_activity_date":1698303156,"creation_date":1698261223,"question_id":77362320,"body_markdown":"I have two entities let&#39;s call them Parent and Child.\r\n\r\nParent:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @IdClass(ParentId.class)\r\n    public class Parent {\r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;external1_id&quot;, nullable = false)\r\n        private External1 external1;\r\n\r\n        @Id\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;external2_id&quot;, nullable = false)\r\n        private External2 external2;\r\n\r\n        @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL, orphanRemoval = true)\r\n        private Set&lt;Child&gt; children = new LinkedHashSet&lt;&gt;();\r\n    }\r\n\r\nChild:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    public class Child {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @ManyToOne(optional = false)\r\n        @JoinColumn(name = &quot;parent_external1_id&quot;, referencedColumnName = &quot;external1_id&quot;)\r\n        @JoinColumn(name = &quot;parent_external2_id&quot;, referencedColumnName = &quot;external2_id&quot;)\r\n        private Parent parent;\r\n    }\r\n\r\nSaving:\r\n\r\n        var external1 = ...\r\n        var external2 = ...\r\n        \r\n        var child1 = new Child();\r\n        var child2 = new Child();\r\n\r\n        var list = List.of(child1,child2);\r\n\r\n\r\n        var parent = new Parent();\r\n        parent.setExternal1(external1);\r\n        parent.setExternal2(external2);\r\n        parent.setChildren(list);\r\n\r\n        parentRepository.save(parent);\r\n\r\nAs you can see here I try to automatically insert the children into their respective table, but since it has a reference to the parent it needs to automatically insert the composite key of the parent into the child. This works just fine with a simple primary key (Long). Here it creates a ```DataIntegrityViolationException```, because it tries to insert the child as a row (null,null).\r\n\r\nI slightly abstracted away the other properties to make the example more clear. How can I fix this?\r\n","title":"JPA persists Child Entity without composite key","body":"<p>I have two entities let's call them Parent and Child.</p>\n<p>Parent:</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@IdClass(ParentId.class)\npublic class Parent {\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;external1_id&quot;, nullable = false)\n    private External1 external1;\n\n    @Id\n    @ManyToOne\n    @JoinColumn(name = &quot;external2_id&quot;, nullable = false)\n    private External2 external2;\n\n    @OneToMany(mappedBy = &quot;parent&quot;,cascade = CascadeType.ALL, orphanRemoval = true)\n    private Set&lt;Child&gt; children = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n<p>Child:</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class Child {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;parent_external1_id&quot;, referencedColumnName = &quot;external1_id&quot;)\n    @JoinColumn(name = &quot;parent_external2_id&quot;, referencedColumnName = &quot;external2_id&quot;)\n    private Parent parent;\n}\n</code></pre>\n<p>Saving:</p>\n<pre><code>    var external1 = ...\n    var external2 = ...\n    \n    var child1 = new Child();\n    var child2 = new Child();\n\n    var list = List.of(child1,child2);\n\n\n    var parent = new Parent();\n    parent.setExternal1(external1);\n    parent.setExternal2(external2);\n    parent.setChildren(list);\n\n    parentRepository.save(parent);\n</code></pre>\n<p>As you can see here I try to automatically insert the children into their respective table, but since it has a reference to the parent it needs to automatically insert the composite key of the parent into the child. This works just fine with a simple primary key (Long). Here it creates a <code>DataIntegrityViolationException</code>, because it tries to insert the child as a row (null,null).</p>\n<p>I slightly abstracted away the other properties to make the example more clear. How can I fix this?</p>\n"},{"tags":["java"],"owner":{"account_id":9859929,"reputation":1,"user_id":7303279,"display_name":"Pritam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698303055,"creation_date":1698303055,"question_id":77364705,"body_markdown":"can anyone please let me know how to extract colour format text from pdf into excel in same colour format using java ? PFA snap \r\n\r\nI am using java 17 but not able to extract same colour text pdf into excel the output in excel coming in black colour only not in coloured format text.\r\n[enter image description here](https://i.stack.imgur.com/u67I6.png)\r\n\r\nI need java code of above problem","title":"Extract colour format pdf into excel in same color","body":"<p>can anyone please let me know how to extract colour format text from pdf into excel in same colour format using java ? PFA snap</p>\n<p>I am using java 17 but not able to extract same colour text pdf into excel the output in excel coming in black colour only not in coloured format text.\n<a href=\"https://i.stack.imgur.com/u67I6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I need java code of above problem</p>\n"},{"tags":["java","spring-boot","spring-mvc","tomcat8"],"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1594066758,"post_id":54290263,"comment_id":110991285,"body_markdown":"Seems this is a change introduced in tomcat 7.0.93 FWIW...","body":"Seems this is a change introduced in tomcat 7.0.93 FWIW..."},{"owner":{"account_id":9500469,"reputation":328,"user_id":7061796,"display_name":"Umer Khalid"},"score":0,"creation_date":1606039236,"post_id":54290263,"comment_id":114832952,"body_markdown":"If you use JAVA configuration, find your answer at https://stackoverflow.com/questions/57626140/spring-boot-java-lang-illegalargumentexception-more-than-one-fragment-with-th/64952792#64952792.","body":"If you use JAVA configuration, find your answer at <a href=\"https://stackoverflow.com/questions/57626140/spring-boot-java-lang-illegalargumentexception-more-than-one-fragment-with-th/64952792#64952792\" title=\"spring boot java lang illegalargumentexception more than one fragment with th\">stackoverflow.com/questions/57626140/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1566146520,"post_id":54322409,"comment_id":101556228,"body_markdown":"what is the use of mvn dependency:tree -Dverbose -Dincludes=groupId:artifactId . Where should i use this ??","body":"what is the use of mvn dependency:tree -Dverbose -Dincludes=groupId:artifactId . Where should i use this ??"},{"owner":{"account_id":1161129,"reputation":442,"user_id":1140598,"display_name":"David Simonsbacka"},"score":0,"creation_date":1566235950,"post_id":54322409,"comment_id":101584665,"body_markdown":"Run it in your terminal at Maven project root to locate conflicting dependencies.\n[Official Maven documentation](https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html)","body":"Run it in your terminal at Maven project root to locate conflicting dependencies. <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/examples/resolving-conflicts-using-the-dependency-tree.html\" rel=\"nofollow noreferrer\">Official Maven documentation</a>"},{"owner":{"account_id":1161129,"reputation":442,"user_id":1140598,"display_name":"David Simonsbacka"},"score":0,"creation_date":1566799994,"post_id":54322409,"comment_id":101755314,"body_markdown":"For gradle you can use the dependencyInsight option, more found in the [documentation](https://docs.gradle.org/current/userguide/inspecting_dependencies.html).","body":"For gradle you can use the dependencyInsight option, more found in the <a href=\"https://docs.gradle.org/current/userguide/inspecting_dependencies.html\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1601966051,"post_id":54322409,"comment_id":113562293,"body_markdown":"How to use dependencyInsight option in gradle,where should i find it?? That link is not working","body":"How to use dependencyInsight option in gradle,where should i find it?? That link is not working"},{"owner":{"account_id":978967,"reputation":1738,"user_id":999264,"accept_rate":39,"display_name":"John Donn"},"score":2,"creation_date":1649145232,"post_id":54322409,"comment_id":126795070,"body_markdown":"had this bug in IntelliJ (it did not remove the previous Spring version which was indicated in pom.xml after an upgrade)","body":"had this bug in IntelliJ (it did not remove the previous Spring version which was indicated in pom.xml after an upgrade)"},{"owner":{"account_id":3187454,"reputation":75,"user_id":2692703,"display_name":"jayaneetha"},"score":0,"creation_date":1654556669,"post_id":54322409,"comment_id":128114206,"body_markdown":"According to @JohnDonn comment, \n1. removed spring artifacts from .m2.\n2. invalidate and cleared cache from InteliJ\nWorked for me !","body":"According to @JohnDonn comment,  1. removed spring artifacts from .m2. 2. invalidate and cleared cache from InteliJ Worked for me !"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1675185359,"post_id":54322409,"comment_id":132872625,"body_markdown":"this will also happen if you reference a shaded jar with spring dependencies and also reference the same spring dependencies in your main application. well shading spring dependencies is an awful idea, i guess. [note to self] [see some of the below answers too]","body":"this will also happen if you reference a shaded jar with spring dependencies and also reference the same spring dependencies in your main application. well shading spring dependencies is an awful idea, i guess. [note to self] [see some of the below answers too]"}],"tags":[],"owner":{"account_id":1161129,"reputation":442,"user_id":1140598,"display_name":"David Simonsbacka"},"comment_count":7,"down_vote_count":2,"up_vote_count":27,"is_accepted":true,"score":25,"last_activity_date":1548230169,"creation_date":1548230169,"answer_id":54322409,"question_id":54290263,"body_markdown":"Sounds like you have two different versions of Spring, check your dependencies to see if you have a dependency to another Spring-version.\r\n```\r\nmvn dependency:tree -Dverbose -Dincludes=groupId:artifactId\r\n```","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Sounds like you have two different versions of Spring, check your dependencies to see if you have a dependency to another Spring-version.</p>\n\n<pre><code>mvn dependency:tree -Dverbose -Dincludes=groupId:artifactId\n</code></pre>\n"},{"comments":[{"owner":{"account_id":462668,"reputation":6135,"user_id":865107,"display_name":"Selaron"},"score":4,"creation_date":1552635586,"post_id":54676270,"comment_id":97093323,"body_markdown":"Really added to `pom.xml` instead of `web.xml`?","body":"Really added to <code>pom.xml</code> instead of <code>web.xml</code>?"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1566576420,"post_id":54676270,"comment_id":101713021,"body_markdown":"@Pardha Saradhi I have the same error, but i can&#39;t use your solution bcos it&#39;s on my spring boot application where i don&#39;t need to use a web.xml.Then what will i do to solve this.","body":"@Pardha Saradhi I have the same error, but i can&#39;t use your solution bcos it&#39;s on my spring boot application where i don&#39;t need to use a web.xml.Then what will i do to solve this."},{"owner":{"account_id":11789812,"reputation":117,"user_id":8626320,"display_name":"Pardha Saradhi"},"score":0,"creation_date":1568110722,"post_id":54676270,"comment_id":102162284,"body_markdown":"@KJEjava48 I have no idea how we can achieve it on spring. I have done it with the help of process followed from the attached link. If you find any solution to it, post it. It&#39;ll be helpful to others.","body":"@KJEjava48 I have no idea how we can achieve it on spring. I have done it with the help of process followed from the attached link. If you find any solution to it, post it. It&#39;ll be helpful to others."}],"tags":[],"owner":{"account_id":11789812,"reputation":117,"user_id":8626320,"display_name":"Pardha Saradhi"},"comment_count":3,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1568110215,"creation_date":1550079388,"answer_id":54676270,"question_id":54290263,"body_markdown":"This problem was solved by adding absolute ordering of deployment descriptors.\r\n\r\nThe tag `&lt;absolute-ordering/&gt;` was added to the web.xml\r\n\r\nReference:\r\n\r\nhttps://www.oracle.com/technetwork/articles/javaee/javaee6overview-part2-136353.html\r\n","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>This problem was solved by adding absolute ordering of deployment descriptors.</p>\n\n<p>The tag <code>&lt;absolute-ordering/&gt;</code> was added to the web.xml</p>\n\n<p>Reference:</p>\n\n<p><a href=\"https://www.oracle.com/technetwork/articles/javaee/javaee6overview-part2-136353.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/articles/javaee/javaee6overview-part2-136353.html</a></p>\n"},{"tags":[],"owner":{"account_id":14917432,"reputation":151,"user_id":10770818,"display_name":"rohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552732186,"creation_date":1552732186,"answer_id":55195753,"question_id":54290263,"body_markdown":"I had the same problem and solved it. Got similar errors but not used spring boot. I have used spring 3.x with java 8. If above solutions are not working change the jars and search whether those jars are compatible with the java version you are using or not. spring 3.x is not compatible with java 8.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I had the same problem and solved it. Got similar errors but not used spring boot. I have used spring 3.x with java 8. If above solutions are not working change the jars and search whether those jars are compatible with the java version you are using or not. spring 3.x is not compatible with java 8.</p>\n"},{"comments":[{"owner":{"account_id":167329,"reputation":604,"user_id":392061,"accept_rate":43,"display_name":"DavesPlanet"},"score":0,"creation_date":1564776737,"post_id":55445720,"comment_id":101155724,"body_markdown":"Excellent! It was a critical part of the solution we needed and we could not have done it without you. I posted our full solution at https://stackoverflow.com/questions/57332888","body":"Excellent! It was a critical part of the solution we needed and we could not have done it without you. I posted our full solution at <a href=\"https://stackoverflow.com/questions/57332888\">stackoverflow.com/questions/57332888</a>"},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1566146564,"post_id":55445720,"comment_id":101556245,"body_markdown":"I am using java based configuration and i don&#39;t have any xml files, then what should i do??","body":"I am using java based configuration and i don&#39;t have any xml files, then what should i do??"},{"owner":{"account_id":7731891,"reputation":576,"user_id":5854732,"display_name":"Michael Stalcup"},"score":0,"creation_date":1566313291,"post_id":55445720,"comment_id":101613166,"body_markdown":"For anyone wanting more information, I had the same exception which also said &quot;See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.&quot;... here is that section:\n\nc. Duplicate name exception: if, when traversing the web-fragments, multiple\nmembers with the same &lt;name&gt; element are encountered, the application must\nlog an informative error message including information to help fix the\nproblem, and must fail to deploy. For example, one way to fix this problem is\nfor the user to use absolute ordering, in which case relative ordering is ignored.","body":"For anyone wanting more information, I had the same exception which also said &quot;See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.&quot;... here is that section:  c. Duplicate name exception: if, when traversing the web-fragments, multiple members with the same &lt;name&gt; element are encountered, the application must log an informative error message including information to help fix the problem, and must fail to deploy. For example, one way to fix this problem is for the user to use absolute ordering, in which case relative ordering is ignored."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1566576463,"post_id":55445720,"comment_id":101713047,"body_markdown":"@Roman Sterlin I have the same error, but i can&#39;t use your solution bcos it&#39;s on my spring boot application where i don&#39;t need to use a web.xml.Then what will i do to solve this.","body":"@Roman Sterlin I have the same error, but i can&#39;t use your solution bcos it&#39;s on my spring boot application where i don&#39;t need to use a web.xml.Then what will i do to solve this."}],"tags":[],"owner":{"account_id":15641924,"reputation":1505,"user_id":11285069,"display_name":"Roman Sterlin"},"comment_count":4,"down_vote_count":1,"up_vote_count":100,"is_accepted":false,"score":99,"last_activity_date":1554068563,"creation_date":1554068563,"answer_id":55445720,"question_id":54290263,"body_markdown":"add `&lt;absolute-ordering /&gt;` tag to your `web.xml` just under the `&lt;display-name&gt;` tag.\r\nshould work.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>add <code>&lt;absolute-ordering /&gt;</code> tag to your <code>web.xml</code> just under the <code>&lt;display-name&gt;</code> tag.\nshould work.</p>\n"},{"comments":[{"owner":{"account_id":168123,"reputation":2196,"user_id":1467976,"display_name":"Robert Watkins"},"score":0,"creation_date":1571363639,"post_id":56803575,"comment_id":103225060,"body_markdown":"Yeah, this worked for me as well. Esp. in development, the WEB-INF/lib directory of the deployed webapp isn&#39;t emptied just because of a redeploy - you need to clean it. So if you upgrade Spring, you can get multiple versions in the lib dir temporarily.","body":"Yeah, this worked for me as well. Esp. in development, the WEB-INF/lib directory of the deployed webapp isn&#39;t emptied just because of a redeploy - you need to clean it. So if you upgrade Spring, you can get multiple versions in the lib dir temporarily."},{"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"score":0,"creation_date":1608206404,"post_id":56803575,"comment_id":115515157,"body_markdown":"I get that errors updating Spring 2.3.1 to any upper version. Also cleaning webapp folder did not make the trick for me.","body":"I get that errors updating Spring 2.3.1 to any upper version. Also cleaning webapp folder did not make the trick for me."}],"tags":[],"owner":{"account_id":1978951,"reputation":121,"user_id":1776024,"display_name":"Charles"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1561718259,"creation_date":1561710972,"answer_id":56803575,"question_id":54290263,"body_markdown":"This error seems to happen after project&#39;s spring framework update, clearing the project history file in tomcat `webapps` may solve the problem.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>This error seems to happen after project's spring framework update, clearing the project history file in tomcat <code>webapps</code> may solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"score":3,"creation_date":1653963229,"post_id":57280267,"comment_id":127972777,"body_markdown":"I didn&#39;t find the icon to click, while a `mvn clean install` solve the issue for me as well.","body":"I didn&#39;t find the icon to click, while a <code>mvn clean install</code> solve the issue for me as well."},{"owner":{"account_id":10959500,"reputation":210,"user_id":8053244,"display_name":"Buda Sergiu Flavius"},"score":0,"creation_date":1692859855,"post_id":57280267,"comment_id":135681721,"body_markdown":"./gradlew clean worked for me","body":"./gradlew clean worked for me"}],"tags":[],"owner":{"account_id":6729855,"reputation":518,"user_id":5186621,"display_name":"Lehar Bhandari"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1564522123,"creation_date":1564522123,"answer_id":57280267,"question_id":54290263,"body_markdown":"Cleaning the server worked for me. Just do the following :\r\n\r\nRight click on the server -&gt; Clean.\r\n\r\nThen redeploy the app on the server.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Cleaning the server worked for me. Just do the following :</p>\n\n<p>Right click on the server -> Clean.</p>\n\n<p>Then redeploy the app on the server.</p>\n"},{"tags":[],"owner":{"account_id":9063471,"reputation":21,"user_id":6749220,"display_name":"Raghu Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572419795,"creation_date":1572419795,"answer_id":58620245,"question_id":54290263,"body_markdown":"\r\nMy project is Springboot based version (1.5.21.RELEASE) and generating war and deploying in physical tomcat.\r\nI had gotten the same issue and got resolved with below approach.\r\n\r\nSolution: Exclude tomcat-embed-websocket dependency from spring-boot-starter-web in the pom.xml\r\n\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                \t**&lt;exclusion&gt;\r\n                \t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                \t\t&lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                \t&lt;/exclusion&gt;**\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>My project is Springboot based version (1.5.21.RELEASE) and generating war and deploying in physical tomcat.\nI had gotten the same issue and got resolved with below approach.</p>\n\n<p>Solution: Exclude tomcat-embed-websocket dependency from spring-boot-starter-web in the pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                **&lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;/exclusion&gt;**\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2004750,"reputation":8566,"user_id":1795426,"display_name":"user11153"},"score":0,"creation_date":1643198372,"post_id":60037738,"comment_id":125274610,"body_markdown":"Correct answer for my case. This happens if you have two copies of same library - one in `WEB-INF/lib` inside WAR, other one inside Tomcat shared lib catalog.","body":"Correct answer for my case. This happens if you have two copies of same library - one in <code>WEB-INF&#47;lib</code> inside WAR, other one inside Tomcat shared lib catalog."}],"tags":[],"owner":{"account_id":4834830,"reputation":113,"user_id":3901894,"display_name":"Anuj Panwar"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580727116,"creation_date":1580727116,"answer_id":60037738,"question_id":54290263,"body_markdown":"This error generally comes from that if we have two copy of spring in our container, which get loaded by different class loaders(in my case shared class loader and webapp class loader).\r\n\r\nCheck effective pom, if you have any bundle embed spring jars/classes, if so remove it, you should use the one installed as bundle from container.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>This error generally comes from that if we have two copy of spring in our container, which get loaded by different class loaders(in my case shared class loader and webapp class loader).</p>\n\n<p>Check effective pom, if you have any bundle embed spring jars/classes, if so remove it, you should use the one installed as bundle from container.</p>\n"},{"tags":[],"owner":{"account_id":9782615,"reputation":560,"user_id":7250020,"display_name":"Kacper Cichecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587250131,"creation_date":1587250131,"answer_id":61297313,"question_id":54290263,"body_markdown":"I solved similar problem by removing all my apps (I had there two different apps) from webapps folder and then redeployed my war file.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I solved similar problem by removing all my apps (I had there two different apps) from webapps folder and then redeployed my war file.</p>\n"},{"tags":[],"owner":{"account_id":1095979,"reputation":171,"user_id":1089570,"display_name":"Joe Hunt"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1589209366,"creation_date":1589209366,"answer_id":61732845,"question_id":54290263,"body_markdown":"I had the same problem when building a war file with maven because I did not clean before packaging and maven was including multiple versions of spring jar files from previous builds.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I had the same problem when building a war file with maven because I did not clean before packaging and maven was including multiple versions of spring jar files from previous builds.</p>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":1,"creation_date":1594221317,"post_id":61950696,"comment_id":111052216,"body_markdown":"It should &quot;end up&quot; in `your_tomcat/webapps/your_webapp_name/WEB-INF/web.xml` FWIW","body":"It should &quot;end up&quot; in <code>your_tomcat&#47;webapps&#47;your_webapp_name&#47;WEB-INF&#47;web.xml</code> FWIW"}],"tags":[],"owner":{"account_id":18008265,"reputation":115,"user_id":13088555,"display_name":"Carlos"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590135633,"creation_date":1590135633,"answer_id":61950696,"question_id":54290263,"body_markdown":"Just an answer from newbbie to newbbies:\r\n\r\nMake sure you place web.xml inside /WebContent/WEB-INF.\r\n\r\nI placed it inadvertently in /WebContent (not /WEB-INF), and almost got crazy trying to unsuccessfully apply some of the proposed solutions, the error message was exactly the same.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Just an answer from newbbie to newbbies:</p>\n\n<p>Make sure you place web.xml inside /WebContent/WEB-INF.</p>\n\n<p>I placed it inadvertently in /WebContent (not /WEB-INF), and almost got crazy trying to unsuccessfully apply some of the proposed solutions, the error message was exactly the same.</p>\n"},{"comments":[{"owner":{"account_id":84830,"reputation":5737,"user_id":236896,"accept_rate":50,"display_name":"Manoj"},"score":0,"creation_date":1610119251,"post_id":62798161,"comment_id":116039403,"body_markdown":"This method helped me to identify easily","body":"This method helped me to identify easily"},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":1,"creation_date":1675185217,"post_id":62798161,"comment_id":132872571,"body_markdown":"if too lazy to unjar everything, just grep for &quot;spring&quot; in your lib folder and you are in for some surprises","body":"if too lazy to unjar everything, just grep for &quot;spring&quot; in your lib folder and you are in for some surprises"}],"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675317213,"creation_date":1594221602,"answer_id":62798161,"question_id":54290263,"body_markdown":"For me this meant that I was including some &quot;shaded jars&quot; that bundled copies of spring within them.  So all the same &quot;spring version&quot; but multiple copies of spring causes this.\r\n\r\nYou can check if this is the case by going to `tomcat/webapps/your_webapp/WEB-INF/lib`, unjarring all the jars, and searching for &quot;spring_web&quot; \r\n\r\nex:\r\n\r\n    # first unjar everything then\r\n\r\n    WEB-INF/lib $ grep spring_web . -r\r\n\r\n    spring-web-4.3.12.RELEASE/META-INF/web-fragment.xml\r\n    7:\t&lt;name&gt;spring_web&lt;/name&gt;\r\n\r\n    some_other_shaded_jar/META-INF/web-fragment.xml\r\n    7:\t&lt;name&gt;spring_web&lt;/name&gt;\r\n\r\nIf this is the case you&#39;d need to use the absolute fix of the other answers or not include multiple copies of spring somehow.\r\n\r\nSeems this is a change introduced in tomcat 7.0.93 FWIW (so it didn&#39;t throw this failure in earlier versions of tomcat 7)","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>For me this meant that I was including some &quot;shaded jars&quot; that bundled copies of spring within them.  So all the same &quot;spring version&quot; but multiple copies of spring causes this.</p>\n<p>You can check if this is the case by going to <code>tomcat/webapps/your_webapp/WEB-INF/lib</code>, unjarring all the jars, and searching for &quot;spring_web&quot;</p>\n<p>ex:</p>\n<pre><code># first unjar everything then\n\nWEB-INF/lib $ grep spring_web . -r\n\nspring-web-4.3.12.RELEASE/META-INF/web-fragment.xml\n7:  &lt;name&gt;spring_web&lt;/name&gt;\n\nsome_other_shaded_jar/META-INF/web-fragment.xml\n7:  &lt;name&gt;spring_web&lt;/name&gt;\n</code></pre>\n<p>If this is the case you'd need to use the absolute fix of the other answers or not include multiple copies of spring somehow.</p>\n<p>Seems this is a change introduced in tomcat 7.0.93 FWIW (so it didn't throw this failure in earlier versions of tomcat 7)</p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1596054376,"creation_date":1595973033,"answer_id":63143311,"question_id":54290263,"body_markdown":"I had to add this in web.xml to make it work :\r\n\r\n    &lt;absolute-ordering&gt;\r\n\t\t&lt;name&gt;fragment_name_if_required&lt;/name&gt;\r\n\t\t&lt;others&gt;&lt;/others&gt;\r\n    &lt;/absolute-ordering&gt;","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I had to add this in web.xml to make it work :</p>\n<pre><code>&lt;absolute-ordering&gt;\n    &lt;name&gt;fragment_name_if_required&lt;/name&gt;\n    &lt;others&gt;&lt;/others&gt;\n&lt;/absolute-ordering&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14901157,"reputation":81,"user_id":10759937,"display_name":"Andrew Steffey"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1597757317,"creation_date":1597757317,"answer_id":63469686,"question_id":54290263,"body_markdown":"I had this occur after I updated the Spring Framework version in a Maven project. I was finally able to resolve the issue by running `mvn clean`, apparently the old Spring JARs were being picked up somewhere under target.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I had this occur after I updated the Spring Framework version in a Maven project. I was finally able to resolve the issue by running <code>mvn clean</code>, apparently the old Spring JARs were being picked up somewhere under target.</p>\n"},{"tags":[],"owner":{"account_id":2045133,"reputation":440,"user_id":1825381,"display_name":"Mauricio Z&#225;rate"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597942700,"creation_date":1597942700,"answer_id":63509862,"question_id":54290263,"body_markdown":"All these answers are great but also check if &quot;Apache CXF&quot; lib is in your classpath, it apparently conflicts with Spring Web 5.2.3, for me I temporary removed because I&#39;m actually not using it and now my project is running okay.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>All these answers are great but also check if &quot;Apache CXF&quot; lib is in your classpath, it apparently conflicts with Spring Web 5.2.3, for me I temporary removed because I'm actually not using it and now my project is running okay.</p>\n"},{"tags":[],"owner":{"account_id":10506713,"reputation":71,"user_id":7743639,"display_name":"Koushik ruidas"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1616240774,"creation_date":1616240774,"answer_id":66721174,"question_id":54290263,"body_markdown":"If you manually adds all the Jars then you have to delete **WEB-INF/lib/spring-web-5.2.9.RELEASE-sources.jar** or similar jar file (may be your jar version will be different). Once you delete that jar tomcat will start working.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>If you manually adds all the Jars then you have to delete <strong>WEB-INF/lib/spring-web-5.2.9.RELEASE-sources.jar</strong> or similar jar file (may be your jar version will be different). Once you delete that jar tomcat will start working.</p>\n"},{"tags":[],"owner":{"account_id":3849137,"reputation":1,"user_id":3189713,"display_name":"user3189713"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624390339,"creation_date":1624294719,"answer_id":68071907,"question_id":54290263,"body_markdown":"For me, this issue happened when Tomcat was not properly installed .I have reinstalled and updated the installation path at:\r\n\r\n```\r\neclipse window-&gt;preferences-&gt;runtime ENV -&gt; path of the newly installed tomcat \r\n```\r\n\r\nAfter setting the correct path, it worked fine.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>For me, this issue happened when Tomcat was not properly installed .I have reinstalled and updated the installation path at:</p>\n<pre><code>eclipse window-&gt;preferences-&gt;runtime ENV -&gt; path of the newly installed tomcat \n</code></pre>\n<p>After setting the correct path, it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":15337987,"reputation":29,"user_id":11065763,"display_name":"Sumit Paswan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658354724,"creation_date":1628939312,"answer_id":68782705,"question_id":54290263,"body_markdown":"See the below Line in error log:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.   \r\n\r\nwhich says to use absolute ordering.\r\nSo, you have to add `&lt;absolute-ordering/&gt;` tag in your `web.xml` file inside `&lt;web-app&gt;` tag.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>See the below Line in error log:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.   \n</code></pre>\n<p>which says to use absolute ordering.\nSo, you have to add <code>&lt;absolute-ordering/&gt;</code> tag in your <code>web.xml</code> file inside <code>&lt;web-app&gt;</code> tag.</p>\n"},{"tags":[],"owner":{"account_id":14810352,"reputation":11,"user_id":10696204,"display_name":"Rajan Sonvane"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632580238,"creation_date":1632580238,"answer_id":69327094,"question_id":54290263,"body_markdown":"For me , it was because of 2 spring-web jars i.e. spring-web-5.02-release.jar and spring-web-sources-5.02-release.jar in build path. By removing spring-web-sources-5.02-release.jar, issue is solved. ","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>For me , it was because of 2 spring-web jars i.e. spring-web-5.02-release.jar and spring-web-sources-5.02-release.jar in build path. By removing spring-web-sources-5.02-release.jar, issue is solved.</p>\n"},{"tags":[],"owner":{"account_id":479549,"reputation":195,"user_id":892270,"display_name":"Bass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636396415,"creation_date":1636396415,"answer_id":69888330,"question_id":54290263,"body_markdown":"Had the same issue and wanted to get to the root cause. I knew spring-web jar&#39;s fragment is called &#39;spring_web&#39;. However my source code did not have &#39;spring_web&#39; fragment anywhere else. So I used a tool (jfind) to search for &#39;spring_web&#39; through an expanded form of my EAR that was generated at build time. Surprisingly, &#39;spring_web&#39; was found in another project&#39;s web-fragment jar that was generated at build time. On resolving this second occurrence, the issue was gone. So it seems to be due to duplicate &#39;spring_web&#39; fragment and we need to have just one.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Had the same issue and wanted to get to the root cause. I knew spring-web jar's fragment is called 'spring_web'. However my source code did not have 'spring_web' fragment anywhere else. So I used a tool (jfind) to search for 'spring_web' through an expanded form of my EAR that was generated at build time. Surprisingly, 'spring_web' was found in another project's web-fragment jar that was generated at build time. On resolving this second occurrence, the issue was gone. So it seems to be due to duplicate 'spring_web' fragment and we need to have just one.</p>\n"},{"tags":[],"owner":{"account_id":24729225,"reputation":11,"user_id":18617391,"display_name":"Jayant Sadhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653551667,"creation_date":1653551667,"answer_id":72388537,"question_id":54290263,"body_markdown":"Your web.xml should look like this (added `&lt;absolute-ordering/&gt;` inside the tag web-app tag)\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC\r\n     &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n     &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n    &lt;web-app&gt;\r\n      &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n      &lt;absolute-ordering/&gt;\r\n    &lt;/web-app&gt;","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Your web.xml should look like this (added <code>&lt;absolute-ordering/&gt;</code> inside the tag web-app tag)</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  &lt;absolute-ordering/&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1658461888,"post_id":73048500,"comment_id":129061966,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73048500/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19056018,"reputation":11,"user_id":13913174,"display_name":"grandfree"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658480025,"creation_date":1658306714,"answer_id":73048500,"question_id":54290263,"body_markdown":"If you have previously built the project with another version and then changed the version and tried to build again, this exception is thrown. You can delete the **target** folder in your application. If you still get an exception, you can go to the project directory from the terminal and type `mvn clean install`","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>If you have previously built the project with another version and then changed the version and tried to build again, this exception is thrown. You can delete the <strong>target</strong> folder in your application. If you still get an exception, you can go to the project directory from the terminal and type <code>mvn clean install</code></p>\n"},{"tags":[],"owner":{"account_id":20738647,"reputation":1,"user_id":15228897,"display_name":"Adarsh Pathak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667195460,"creation_date":1667195460,"answer_id":74259211,"question_id":54290263,"body_markdown":"Remove all the unused dependencies from the lib folder.\r\nNow try to rerun the application on the server.\r\nHope it will work now.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>Remove all the unused dependencies from the lib folder.\nNow try to rerun the application on the server.\nHope it will work now.</p>\n"},{"tags":[],"owner":{"account_id":4728988,"reputation":442,"user_id":3825134,"display_name":"lord5et"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675379317,"creation_date":1675379317,"answer_id":75329837,"question_id":54290263,"body_markdown":"I was fighting with this few hours. Solution for me was to invalidate IntelliJ cache.\r\nThis problem showed up when I was in the process of upgrading spring framework.\r\nIntellij was packaging two versions of the same library and that&#39;s why I was getting an error. ","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I was fighting with this few hours. Solution for me was to invalidate IntelliJ cache.\nThis problem showed up when I was in the process of upgrading spring framework.\nIntellij was packaging two versions of the same library and that's why I was getting an error.</p>\n"},{"tags":[],"owner":{"account_id":19964900,"reputation":107,"user_id":17101279,"display_name":"Overdrowsed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675612898,"creation_date":1675612898,"answer_id":75353620,"question_id":54290263,"body_markdown":"This happened to me when I changed the version of one of the dependencies in ```pom.xml```, undeploying and deploying the webapp fixed it for me","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>This happened to me when I changed the version of one of the dependencies in <code>pom.xml</code>, undeploying and deploying the webapp fixed it for me</p>\n"},{"tags":[],"owner":{"account_id":8382731,"reputation":11,"user_id":6294082,"display_name":"edwin.s.zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698302016,"creation_date":1698302016,"answer_id":77364613,"question_id":54290263,"body_markdown":"In my case, it is caused by duplicated spring-web lib. When I read the error stack, It contains a message like below: \r\n\r\n&gt; Consider using absolute ordering. Duplicate fragments found in [..spring-web-5.2.12.RELEASE.jar, ..my_submodule.jar]\r\n\r\n[..] indicates that I need check conflicts in these jars.\r\n\r\nFinally I change spring-web scope as provided in my my_submodule.jar to resolve this issue.","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>In my case, it is caused by duplicated spring-web lib. When I read the error stack, It contains a message like below:</p>\n<blockquote>\n<p>Consider using absolute ordering. Duplicate fragments found in [..spring-web-5.2.12.RELEASE.jar, ..my_submodule.jar]</p>\n</blockquote>\n<p>[..] indicates that I need check conflicts in these jars.</p>\n<p>Finally I change spring-web scope as provided in my my_submodule.jar to resolve this issue.</p>\n"}],"owner":{"account_id":2344141,"reputation":2135,"user_id":2054833,"accept_rate":63,"display_name":"user2054833"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107242,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":54322409,"answer_count":26,"score":60,"last_activity_date":1698302016,"creation_date":1548074633,"question_id":54290263,"body_markdown":"I have a spring boot application that works fine when I run it using the embedded server from Intellj. However, when I package it into .war file and deploy it on tomcat I get the following error:\r\n\r\n        org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/file-upload-0.0.1-SNAPSHOT]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\r\n    \tat \r\n      \r\n         org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\r\n    \tat \r\n       org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat  \r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.\r\n    \tat org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2200)\r\n    \tat \r\n      org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2159)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1124)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\r\n    \tat \r\n      \r\n     org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 10 more\r\n    \r\n    21-Jan-2019 01:51:04.709 SEVERE [localhost-startStop-1] \r\n         org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [C:\\Users\\dennismo\\Dev\\Projects\\Production Prep\\file-upload-module\\webapps\\file-upload-0.0.1-SNAPSHOT.war]\r\n     java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/file-upload-0.0.1-SNAPSHOT]]\r\n    \tat \r\n      \r\n     org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\r\n    \tat \r\n           \r\n    \r\n          org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)  \r\n\r\nMy project does not contain multiple web-fragment so I don&#39;t know what could be causing this problem.\r\n\r\npom.xml\r\n\r\n    &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from salaryPaymentRequestRepo --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;akka.version&gt;2.5.17&lt;/akka.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;default&lt;/id&gt;\r\n                &lt;url&gt;http://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.197&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.univocity&lt;/groupId&gt;\r\n                &lt;artifactId&gt;univocity-parsers&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;26.0-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ma.glasnost.orika&lt;/groupId&gt;\r\n                &lt;artifactId&gt;orika-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.2&lt;/version&gt;&lt;!-- or latest version --&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;\r\n                &lt;version&gt;${akka.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;akka-stream_2.12&lt;/artifactId&gt;\r\n                &lt;version&gt;${akka.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;akka-persistence_2.12&lt;/artifactId&gt;\r\n                &lt;version&gt;${akka.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;akka-testkit_2.12&lt;/artifactId&gt;\r\n                &lt;version&gt;${akka.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n                &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n                &lt;scope&gt;system&lt;/scope&gt;\r\n                &lt;systemPath&gt;${basedir}/src/main/resources/lib/ojdbc7-12.1.0.jar&lt;/systemPath&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;","title":"More than one fragment with the name [spring_web] was found. This is not legal with relative ordering","body":"<p>I have a spring boot application that works fine when I run it using the embedded server from Intellj. However, when I package it into .war file and deploy it on tomcat I get the following error:</p>\n\n<pre><code>    org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/file-upload-0.0.1-SNAPSHOT]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:167)\n    at \n\n     org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\n    at \n   org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at  \n java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalArgumentException: More than one fragment with the name [spring_web] was found. This is not legal with relative ordering. See section 8.2.2 2c of the Servlet specification for details. Consider using absolute ordering.\n    at org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2200)\n    at \n  org.apache.tomcat.util.descriptor.web.WebXml.orderWebFragments(WebXml.java:2159)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1124)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:769)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:299)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:94)\n    at \n\n org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5176)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 10 more\n\n21-Jan-2019 01:51:04.709 SEVERE [localhost-startStop-1] \n     org.apache.catalina.startup.HostConfig.deployWAR Error deploying web application archive [C:\\Users\\dennismo\\Dev\\Projects\\Production Prep\\file-upload-module\\webapps\\file-upload-0.0.1-SNAPSHOT.war]\n java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/file-upload-0.0.1-SNAPSHOT]]\n    at \n\n org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:758)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:985)\n    at \n\n\n      org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)  \n</code></pre>\n\n<p>My project does not contain multiple web-fragment so I don't know what could be causing this problem.</p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from salaryPaymentRequestRepo --&gt;\n    &lt;/parent&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;akka.version&gt;2.5.17&lt;/akka.version&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;url&gt;http://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.197&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.univocity&lt;/groupId&gt;\n            &lt;artifactId&gt;univocity-parsers&lt;/artifactId&gt;\n            &lt;version&gt;2.7.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;26.0-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.23.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ma.glasnost.orika&lt;/groupId&gt;\n            &lt;artifactId&gt;orika-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2&lt;/version&gt;&lt;!-- or latest version --&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n            &lt;artifactId&gt;akka-actor_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${akka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n            &lt;artifactId&gt;akka-stream_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${akka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n            &lt;artifactId&gt;akka-persistence_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${akka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n            &lt;artifactId&gt;akka-testkit_2.12&lt;/artifactId&gt;\n            &lt;version&gt;${akka.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n            &lt;version&gt;12.1.0.2&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${basedir}/src/main/resources/lib/ojdbc7-12.1.0.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","permutation","random-seed","random"],"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":21,"creation_date":1533829790,"post_id":51771206,"comment_id":90501289,"body_markdown":"*&quot;how can I surely generate a **real random number** over 52!&quot;* The numbers from `Random` are never **real** random numbers. It&#39;s a PRNG, where P stands for &quot;pseudo.&quot; For **real** random numbers, you need a source of randomness (such as random.org).","body":"<i>&quot;how can I surely generate a <b>real random number</b> over 52!&quot;</i> The numbers from <code>Random</code> are never <b>real</b> random numbers. It&#39;s a PRNG, where P stands for &quot;pseudo.&quot; For <b>real</b> random numbers, you need a source of randomness (such as random.org)."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1533829801,"post_id":51771206,"comment_id":90501294,"body_markdown":"How are you shuffling the deck of cards? (`Collections.shuffle`, or something else?)","body":"How are you shuffling the deck of cards? (<code>Collections.shuffle</code>, or something else?)"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":7,"creation_date":1533829832,"post_id":51771206,"comment_id":90501319,"body_markdown":"@JimGarrison That is not what OP&#39;s after. He&#39;s talking about 10^68 possible sequences. Since each pseudo-random sequence is identified by its seed, OP says there could be at the most 2^64 different sequences.","body":"@JimGarrison That is not what OP&#39;s after. He&#39;s talking about 10^68 possible sequences. Since each pseudo-random sequence is identified by its seed, OP says there could be at the most 2^64 different sequences."},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1533830651,"post_id":51771206,"comment_id":90501781,"body_markdown":"@Radiodef - Yes, exactly that I was doing so far","body":"@Radiodef - Yes, exactly that I was doing so far"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1533830820,"post_id":51771206,"comment_id":90501881,"body_markdown":"OP: I&#39;ve reworded your question substantially, but I believe it accurately reflects the concern you have and the problem you&#39;re trying to solve. If I misunderstood, feel free to re-edit or roll back.","body":"OP: I&#39;ve reworded your question substantially, but I believe it accurately reflects the concern you have and the problem you&#39;re trying to solve. If I misunderstood, feel free to re-edit or roll back."},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1533831149,"post_id":51771206,"comment_id":90502063,"body_markdown":"@chrylis -Yes, that&#39;s exactly what I meant to say, thank you!","body":"@chrylis -Yes, that&#39;s exactly what I meant to say, thank you!"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":6,"creation_date":1533831592,"post_id":51771206,"comment_id":90502310,"body_markdown":"I think it&#39;s an interesting question, and is worth thinking about. But I can&#39;t help wondering about your problem context: what it is exactly that&#39;s leading to the requirement to be able to generate all 52! permutations? For example, in real-world bridge we can shuffle the deck and deal one card at a time, yet there are only ~6e11 different hands since many different permutations result in the same hand. Thinking in the other direction, do you need a solution specifically for 52!, or do you need one that generalizes to, say, two decks shuffled together (104!/(2**52) possibilities, or ~2e150)?","body":"I think it&#39;s an interesting question, and is worth thinking about. But I can&#39;t help wondering about your problem context: what it is exactly that&#39;s leading to the requirement to be able to generate all 52! permutations? For example, in real-world bridge we can shuffle the deck and deal one card at a time, yet there are only ~6e11 different hands since many different permutations result in the same hand. Thinking in the other direction, do you need a solution specifically for 52!, or do you need one that generalizes to, say, two decks shuffled together (104!/(2**52) possibilities, or ~2e150)?"},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":9,"creation_date":1533831811,"post_id":51771206,"comment_id":90502426,"body_markdown":"@NPE - Take Solitaire (Klondike) for instance, 52! is exactly the number of possible hands..","body":"@NPE - Take Solitaire (Klondike) for instance, 52! is exactly the number of possible hands.."},{"owner":{"account_id":413618,"reputation":5364,"user_id":787366,"accept_rate":82,"display_name":"Shmoopy"},"score":1,"creation_date":1533835542,"post_id":51771206,"comment_id":90504331,"body_markdown":"Can&#39;t you choose a random position for each card instead of generatiing a random sequence at one go? Meaning, pick a random position for the first card (1..52) and then pick a random position for the second card (1..52 minus the first card&#39;s position) and so on..","body":"Can&#39;t you choose a random position for each card instead of generatiing a random sequence at one go? Meaning, pick a random position for the first card (1..52) and then pick a random position for the second card (1..52 minus the first card&#39;s position) and so on.."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1533836020,"post_id":51771206,"comment_id":90504549,"body_markdown":"@Shmoopy That generates a sequence. (1/52, 1/51, 1/50, ..., 1/1.) It&#39;s also what the OP is already doing. See their comment replying to mine confirming that they used `Collections.shuffle`, which is a Fisher-Yates shuffle.","body":"@Shmoopy That generates a sequence. (1/52, 1/51, 1/50, ..., 1/1.) It&#39;s also what the OP is already doing. See their comment replying to mine confirming that they used <code>Collections.shuffle</code>, which is a Fisher-Yates shuffle."},{"owner":{"account_id":11914502,"reputation":2439,"user_id":8718773,"display_name":"Giacomo Alzetta"},"score":0,"creation_date":1533886123,"post_id":51771206,"comment_id":90519914,"body_markdown":"Note that factorial grows strictly faster than exponential. This means that even using `SecureRandom` with a `byte[]` will not work if you increase the number of cards enough... sure you can increase the size of the seed, but unfortunately you need to increase the seed size asymptotically more to be able to keep generating all possible permutations, and hence even for &quot;&quot;&quot;relatively small N number&quot;&quot;&quot; you will not be able to generate all permutations of N cards even using all memory storage on earth.","body":"Note that factorial grows strictly faster than exponential. This means that even using <code>SecureRandom</code> with a <code>byte[]</code> will not work if you increase the number of cards enough... sure you can increase the size of the seed, but unfortunately you need to increase the seed size asymptotically more to be able to keep generating all possible permutations, and hence even for &quot;&quot;&quot;relatively small N number&quot;&quot;&quot; you will not be able to generate all permutations of N cards even using all memory storage on earth."},{"owner":{"account_id":3062054,"reputation":8791,"user_id":2594485,"display_name":"Dennis_E"},"score":3,"creation_date":1533909931,"post_id":51771206,"comment_id":90533808,"body_markdown":"I think this is an interesting read: https://superuser.com/a/712583","body":"I think this is an interesting read: <a href=\"https://superuser.com/a/712583\">superuser.com/a/712583</a>"},{"owner":{"account_id":7170336,"reputation":1,"user_id":5478014,"display_name":"caitlin lopez"},"score":0,"creation_date":1534032735,"post_id":51771206,"comment_id":91012463,"body_markdown":"nope, the java random is not secure nor random. SecureRandom is a little more random but I will trust more to bouncy castle random generators or openssh","body":"nope, the java random is not secure nor random. SecureRandom is a little more random but I will trust more to bouncy castle random generators or openssh"},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":1,"creation_date":1534226968,"post_id":51771206,"comment_id":90623112,"body_markdown":"BTW, why would you want it to generate all 52! possibilities? I guess from the standpoint of a user all that matters is that it&#39;s not predictable, and that&#39;s something different, entirely. After all, the game could just enumerate all 52! possibilities, and be *very* predictable...","body":"BTW, why would you want it to generate all 52! possibilities? I guess from the standpoint of a user all that matters is that it&#39;s not predictable, and that&#39;s something different, entirely. After all, the game could just enumerate all 52! possibilities, and be <i>very</i> predictable..."}],"answers":[{"tags":[],"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1698301875,"creation_date":1533830657,"answer_id":51771563,"question_id":51771206,"body_markdown":"In general, a pseudorandom number generator (PRNG) can&#39;t choose from among all permutations of a 52-item list if it admits fewer than 52 factorial seeds (for example, if its state size is 225 bits or less). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG _can_ choose have an equal probability of occurring, as opposed to an ideal process of generating _perfectly_ independent uniform random integers.\r\n\r\n`java.util.Random` implements an algorithm with a modulus of 2&lt;sup&gt;48&lt;/sup&gt; and admits no more than that many seeds, so much less than 52 factorial. An application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).\r\n\r\nSee also &quot;Shuffling&quot; in my [article on random number generators](https://peteroupc.github.io/random.html#Shuffling).\r\n\r\nThis consideration is independent of the nature of the PRNG; it applies equally to cryptographic and noncryptographic PRNGs (of course, noncryptographic PRNGs are inappropriate whenever information security is involved).\r\n\r\n-----------\r\n\r\nAlthough `java.security.SecureRandom` allows seeds of virtually unlimited length to be passed in, the `SecureRandom` implementation could use an underlying PRNG (e.g., &quot;SHA1PRNG&quot; or &quot;DRBG&quot;). And it depends on the number of seeds _that_ underlying PRNG admits whether it&#39;s capable of choosing from among 52 factorial permutations, unless, for example, the PRNG is reseeded using independent randomness in a manner that&#39;s opaque to the application.","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>In general, a pseudorandom number generator (PRNG) can't choose from among all permutations of a 52-item list if it admits fewer than 52 factorial seeds (for example, if its state size is 225 bits or less). Nothing is said here about PRNGs that admit as many or more seeds than the number of permutations or whether the permutations the PRNG <em>can</em> choose have an equal probability of occurring, as opposed to an ideal process of generating <em>perfectly</em> independent uniform random integers.</p>\n<p><code>java.util.Random</code> implements an algorithm with a modulus of 2<sup>48</sup> and admits no more than that many seeds, so much less than 52 factorial. An application that needs to shuffle a 52-item list would be well advised to avoid PRNGs that admit fewer than 52-factorial seeds (although even if a PRNG admits as many or more than 52-factorial seeds, that is not enough, by itself, to ensure the PRNG can choose from among all permutations with equal probability).</p>\n<p>See also &quot;Shuffling&quot; in my <a href=\"https://peteroupc.github.io/random.html#Shuffling\" rel=\"nofollow noreferrer\">article on random number generators</a>.</p>\n<p>This consideration is independent of the nature of the PRNG; it applies equally to cryptographic and noncryptographic PRNGs (of course, noncryptographic PRNGs are inappropriate whenever information security is involved).</p>\n<hr />\n<p>Although <code>java.security.SecureRandom</code> allows seeds of virtually unlimited length to be passed in, the <code>SecureRandom</code> implementation could use an underlying PRNG (e.g., &quot;SHA1PRNG&quot; or &quot;DRBG&quot;). And it depends on the number of seeds <em>that</em> underlying PRNG admits whether it's capable of choosing from among 52 factorial permutations, unless, for example, the PRNG is reseeded using independent randomness in a manner that's opaque to the application.</p>\n"},{"comments":[{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1533831037,"post_id":51771629,"comment_id":90501993,"body_markdown":"Am I right to think that byte[] should be another random seed which I should get from entropy measurement (function of temperature, location, time)?","body":"Am I right to think that byte[] should be another random seed which I should get from entropy measurement (function of temperature, location, time)?"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":8,"creation_date":1533831118,"post_id":51771629,"comment_id":90502044,"body_markdown":"Surely, a large seed isn&#39;t a guarantee that all 52! possibilities would be produced (which is what this question is specifically about)? As a thought experiment, consider a pathological PRNG that takes an arbitrarily large seed and generates an infinitely long series of zeroes. It seems pretty clear that the PRNG needs to satisfy more requirements than just taking a large enough seed.","body":"Surely, a large seed isn&#39;t a guarantee that all 52! possibilities would be produced (which is what this question is specifically about)? As a thought experiment, consider a pathological PRNG that takes an arbitrarily large seed and generates an infinitely long series of zeroes. It seems pretty clear that the PRNG needs to satisfy more requirements than just taking a large enough seed."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1533831141,"post_id":51771629,"comment_id":90502059,"body_markdown":"@SerjArdovic Yes, any seed material passed to a SecureRandom object must be unpredictable, as per Java documentation.","body":"@SerjArdovic Yes, any seed material passed to a SecureRandom object must be unpredictable, as per Java documentation."},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1533831303,"post_id":51771629,"comment_id":90502146,"body_markdown":"@dasblinkenlight - Now I have to answer another question: how many bytes, i.e. what should be the length of the byte[] to make sure that I can eventually generate every single possibility of the 52!","body":"@dasblinkenlight - Now I have to answer another question: how many bytes, i.e. what should be the length of the byte[] to make sure that I can eventually generate every single possibility of the 52!"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":10,"creation_date":1533831380,"post_id":51771629,"comment_id":90502182,"body_markdown":"@NPE You are right, although a too-small seed is a guarantee of the upper limit, a large enough seed is not a guaranteed on the lower limit. All this does is removing of a theoretical upper limit, making it possible for the RNG to generate all 52! combinations.","body":"@NPE You are right, although a too-small seed is a guarantee of the upper limit, a large enough seed is not a guaranteed on the lower limit. All this does is removing of a theoretical upper limit, making it possible for the RNG to generate all 52! combinations."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":5,"creation_date":1533831743,"post_id":51771629,"comment_id":90502376,"body_markdown":"@SerjArdovic The smallest number of bytes required for that is 29 (you need 226 bits to represent 52! possible bit combinations, which is 28.25 bytes, so we must round it up). Note that using 29 bytes of seed material removes the theoretical upper limit on the number of shuffles you could get, without establishing the lower limit (see NPE&#39;s comment about a crappy RNG that takes a very large seed and generates a sequence of all zeros).","body":"@SerjArdovic The smallest number of bytes required for that is 29 (you need 226 bits to represent 52! possible bit combinations, which is 28.25 bytes, so we must round it up). Note that using 29 bytes of seed material removes the theoretical upper limit on the number of shuffles you could get, without establishing the lower limit (see NPE&#39;s comment about a crappy RNG that takes a very large seed and generates a sequence of all zeros)."},{"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"score":0,"creation_date":1533831950,"post_id":51771629,"comment_id":90502497,"body_markdown":"@dasblinkenlight - What do you mean by saying _&#39;without establishing the lower limit&#39;_? Isn&#39;t it going to provide me with all 52! possibilities all the way from 0 to maximum?","body":"@dasblinkenlight - What do you mean by saying <i>&#39;without establishing the lower limit&#39;</i>? Isn&#39;t it going to provide me with all 52! possibilities all the way from 0 to maximum?"},{"owner":{"account_id":10309471,"reputation":364,"user_id":7605753,"display_name":"Stephen S"},"score":2,"creation_date":1533832400,"post_id":51771629,"comment_id":90502725,"body_markdown":"@SerjArdovic that&#39;s not how RNGs work, they are formulas that generate random numbers from one number (the seed), they don&#39;t iterate through every possible sequence of numbers","body":"@SerjArdovic that&#39;s not how RNGs work, they are formulas that generate random numbers from one number (the seed), they don&#39;t iterate through every possible sequence of numbers"},{"owner":{"account_id":431570,"reputation":32368,"user_id":815724,"display_name":"Peter O."},"score":8,"creation_date":1533832629,"post_id":51771629,"comment_id":90502838,"body_markdown":"The `SecureRandom` implementation will almost surely use an underlying PRNG.  And it depends on that PRNG&#39;s period (and to a lesser extent, state length) whether it&#39;s capable of choosing from among 52 factorial permutations.  (Note that the documentation says the `SecureRandom` implementation &quot;minimally complies with&quot; certain statistical tests and generates outputs that &quot;must be cryptographically strong&quot;, but places no explicit lower limit on the underlying PRNG&#39;s state length or on its period.)","body":"The <code>SecureRandom</code> implementation will almost surely use an underlying PRNG.  And it depends on that PRNG&#39;s period (and to a lesser extent, state length) whether it&#39;s capable of choosing from among 52 factorial permutations.  (Note that the documentation says the <code>SecureRandom</code> implementation &quot;minimally complies with&quot; certain statistical tests and generates outputs that &quot;must be cryptographically strong&quot;, but places no explicit lower limit on the underlying PRNG&#39;s state length or on its period.)"},{"owner":{"account_id":2488885,"reputation":18917,"user_id":2166798,"accept_rate":50,"display_name":"pjs"},"score":2,"creation_date":1533840009,"post_id":51771629,"comment_id":90506388,"body_markdown":"@SerjArdovic The number of permutations available to you is a function of the size of the PRNG&#39;s state space, not its seed value.  The seed is just an entry or starting point into the state space.  See the second paragraph of [this answer](https://stackoverflow.com/a/46835720/2166798) to another post.","body":"@SerjArdovic The number of permutations available to you is a function of the size of the PRNG&#39;s state space, not its seed value.  The seed is just an entry or starting point into the state space.  See the second paragraph of <a href=\"https://stackoverflow.com/a/46835720/2166798\">this answer</a> to another post."},{"owner":{"account_id":8252,"reputation":41559,"user_id":14768,"accept_rate":82,"display_name":"Joshua"},"score":1,"creation_date":1533916704,"post_id":51771629,"comment_id":90537736,"body_markdown":"A new enough SecureRandom should have at least 256 bits of internal state as the 128 bit hashes are all broken now.","body":"A new enough SecureRandom should have at least 256 bits of internal state as the 128 bit hashes are all broken now."},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":0,"creation_date":1534002856,"post_id":51771629,"comment_id":90559084,"body_markdown":"@PeterO. See my answer.","body":"@PeterO. See my answer."}],"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":12,"down_vote_count":5,"up_vote_count":65,"is_accepted":false,"score":60,"last_activity_date":1533830883,"creation_date":1533830883,"answer_id":51771629,"question_id":51771206,"body_markdown":"Your analysis is correct: seeding a pseudo-random number generator with any specific seed must yield the same sequence after a shuffle, limiting the number of permutations that you could obtain to 2&lt;sup&gt;64&lt;/sup&gt;. This assertion is [easy to verify experimentally][1] by calling `Collection.shuffle` twice, passing a `Random` object initialized with the same seed, and observing that the two random shuffles are identical.\r\n\r\nA solution to this, then, is to use a random number generator that allows for a larger seed. Java provides [`SecureRandom`][2] class that could be initialized with `byte[]` array of virtually unlimited size. You could then pass an instance of `SecureRandom` to `Collections.shuffle` to complete the task:\r\n\r\n    byte seed[] = new byte[...];\r\n    Random rnd = new SecureRandom(seed);\r\n    Collections.shuffle(deck, rnd);\r\n\r\n  [1]: https://ideone.com/YgzHxD\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>Your analysis is correct: seeding a pseudo-random number generator with any specific seed must yield the same sequence after a shuffle, limiting the number of permutations that you could obtain to 2<sup>64</sup>. This assertion is <a href=\"https://ideone.com/YgzHxD\" rel=\"noreferrer\">easy to verify experimentally</a> by calling <code>Collection.shuffle</code> twice, passing a <code>Random</code> object initialized with the same seed, and observing that the two random shuffles are identical.</p>\n\n<p>A solution to this, then, is to use a random number generator that allows for a larger seed. Java provides <a href=\"https://docs.oracle.com/javase/7/docs/api/java/security/SecureRandom.html\" rel=\"noreferrer\"><code>SecureRandom</code></a> class that could be initialized with <code>byte[]</code> array of virtually unlimited size. You could then pass an instance of <code>SecureRandom</code> to <code>Collections.shuffle</code> to complete the task:</p>\n\n<pre><code>byte seed[] = new byte[...];\nRandom rnd = new SecureRandom(seed);\nCollections.shuffle(deck, rnd);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14124725,"reputation":57,"user_id":10204386,"display_name":"IvanK"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1536321355,"creation_date":1533830966,"answer_id":51771663,"question_id":51771206,"body_markdown":"If you consider the number as just an array of bits (or bytes) then maybe you could use the (Secure)`Random.nextBytes` solutions suggested in this [Stack Overflow][1] question, and then map the array into a `new BigInteger(byte[])`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5683206/how-to-create-an-array-of-20-random-bytes","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>If you consider the number as just an array of bits (or bytes) then maybe you could use the (Secure)<code>Random.nextBytes</code> solutions suggested in this <a href=\"https://stackoverflow.com/questions/5683206/how-to-create-an-array-of-20-random-bytes\">Stack Overflow</a> question, and then map the array into a <code>new BigInteger(byte[])</code>.</p>\n"},{"comments":[{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":7,"creation_date":1533900145,"post_id":51772168,"comment_id":90527702,"body_markdown":"Heh, and I was sure the link at the end would be [New Math](https://www.youtube.com/watch?v=W6OaYPVueW4). :-)","body":"Heh, and I was sure the link at the end would be <a href=\"https://www.youtube.com/watch?v=W6OaYPVueW4\" rel=\"nofollow noreferrer\">New Math</a>. :-)"},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":5,"creation_date":1533900162,"post_id":51772168,"comment_id":90527712,"body_markdown":"@T.J.Crowder: It very nearly was! It was the infinitely differentiable Riemannian manifolds that swung it. :-)","body":"@T.J.Crowder: It very nearly was! It was the infinitely differentiable Riemannian manifolds that swung it. :-)"},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1533900429,"post_id":51772168,"comment_id":90527879,"body_markdown":"Good to see people appreciating the classics. :-)","body":"Good to see people appreciating the classics. :-)"},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":3,"creation_date":1533989322,"post_id":51772168,"comment_id":90555402,"body_markdown":"Where do you get the random 226 bits in **Java**? Sorry, your code does not answer that.","body":"Where do you get the random 226 bits in <b>Java</b>? Sorry, your code does not answer that."},{"owner":{"account_id":919833,"reputation":12209,"user_id":2142055,"display_name":"Stop harming Monica"},"score":0,"creation_date":1534002768,"post_id":51772168,"comment_id":90559051,"body_markdown":"@ThorstenS. &quot;There is already an implicit assumption in your question that you can somehow generate 64 bits, so just do whatever you were going to do, only four times&quot;","body":"@ThorstenS. &quot;There is already an implicit assumption in your question that you can somehow generate 64 bits, so just do whatever you were going to do, only four times&quot;"},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":0,"creation_date":1534003550,"post_id":51772168,"comment_id":90559229,"body_markdown":"@Goyo Does not work if you have not a &quot;true&quot; random number generator. The problem is that the next state is dependent on the former state, **the output is determined**. Some PRNGs like the Mersenne Twister have not this problem because they have 624 independent elements, but they also need a truly random seed. Java Random() has effectively always 48bits, it does not matter how many bits you are extracting. You can extract thousand of bits from the sequence 12345678... or 23456789..., but the effective information is only the bitlength of 1 or 2.","body":"@Goyo Does not work if you have not a &quot;true&quot; random number generator. The problem is that the next state is dependent on the former state, <b>the output is determined</b>. Some PRNGs like the Mersenne Twister have not this problem because they have 624 independent elements, but they also need a truly random seed. Java Random() has effectively always 48bits, it does not matter how many bits you are extracting. You can extract thousand of bits from the sequence 12345678... or 23456789..., but the effective information is only the bitlength of 1 or 2."},{"owner":{"account_id":919833,"reputation":12209,"user_id":2142055,"display_name":"Stop harming Monica"},"score":5,"creation_date":1534007356,"post_id":51772168,"comment_id":90560172,"body_markdown":"I don&#39;t understand what you mean, Java Random() won&#39;t provide 64 bits of entropy either. The OP implies an unspecified source that can produce 64 bits to seed the PRNG. It makes sense to assume that you can ask the same source for 226 bits.","body":"I don&#39;t understand what you mean, Java Random() won&#39;t provide 64 bits of entropy either. The OP implies an unspecified source that can produce 64 bits to seed the PRNG. It makes sense to assume that you can ask the same source for 226 bits."},{"owner":{"account_id":540166,"reputation":15708,"user_id":1663383,"accept_rate":54,"display_name":"Draco18s no longer trusts SE"},"score":0,"creation_date":1534046081,"post_id":51772168,"comment_id":90566714,"body_markdown":"Thought: what if you shuffled the deck using a `new Random()` and then shuffled the result *again* using a second `new Random()`? Would that contain a sufficient number of random bits?","body":"Thought: what if you shuffled the deck using a <code>new Random()</code> and then shuffled the result <i>again</i> using a second <code>new Random()</code>? Would that contain a sufficient number of random bits?"}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":8,"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1533929672,"creation_date":1533833004,"answer_id":51772168,"question_id":51771206,"body_markdown":"Selecting a random permutation requires simultaneously more and less randomness than what your question implies. Let me explain.\r\n\r\n**The bad news: need more randomness.**\r\n\r\nThe fundamental flaw in your approach is that it&#39;s trying to choose between ~2&lt;sup&gt;226&lt;/sup&gt; possibilities using 64 bits of entropy (the random seed). To fairly choose between ~2&lt;sup&gt;226&lt;/sup&gt; possibilities you&#39;re going to have to find a way to generate 226 bits of entropy instead of 64.\r\n\r\nThere are several ways to generate random bits: [dedicated hardware][1], [CPU instructions][2], [OS interfaces][3], [online services][4]. There is already an implicit assumption in your question that you can somehow generate 64 bits, so just do whatever you were going to do, only four times, and donate the excess bits to charity. :)\r\n\r\n**The good news: need less randomness.**\r\n\r\nOnce you have those 226 random bits, the rest can be done deterministically and so *the properties of `java.util.Random` can be made irrelevant*. Here is how.\r\n\r\nLet&#39;s say we generate all 52! permutations (bear with me) and sort them lexicographically.\r\n\r\nTo choose one of the permutations all we need is a single random integer between `0` and `52!-1`. That integer is our 226 bits of entropy. We&#39;ll use it as an index into our sorted list of permutations. If the random index is uniformly distributed, not only are you guaranteed that all permutations can be chosen, they will be chosen _equiprobably_ (which is a stronger guarantee than what the question is asking).\r\n\r\nNow, you don&#39;t actually need to generate all those permutations. You can produce one directly, given its randomly chosen position in our hypothetical sorted list. This can be done in O(n&lt;sup&gt;2&lt;/sup&gt;) time using the [Lehmer&lt;sup&gt;\\[1\\]&lt;/sup&gt; code][5] (also see [numbering permutations][6] and [factoriadic number system][7]). The n here is the size of your deck, i.e. 52.\r\n\r\nThere is a C implementation in this [StackOverflow answer][8]. There are several integer variables there that would overflow for n=52, but luckily in Java you can use `java.math.BigInteger`. The rest of the computations can be transcribed almost as-is:\r\n\r\n\tpublic static int[] shuffle(int n, BigInteger random_index) {\r\n\t\tint[] perm = new int[n];\r\n\t\tBigInteger[] fact = new BigInteger[n];\r\n\t\tfact[0] = BigInteger.ONE;\r\n\t\tfor (int k = 1; k &lt; n; ++k) {\r\n    \t\tfact[k] = fact[k - 1].multiply(BigInteger.valueOf(k));\r\n\t\t}\r\n\r\n\t\t// compute factorial code\r\n\t\tfor (int k = 0; k &lt; n; ++k) {\r\n\t\t\tBigInteger[] divmod = random_index.divideAndRemainder(fact[n - 1 - k]);\r\n\t\t\tperm[k] = divmod[0].intValue();\r\n\t\t\trandom_index = divmod[1];\r\n\t\t}\r\n\r\n\t\t// readjust values to obtain the permutation\r\n\t\t// start from the end and check if preceding values are lower\r\n\t\tfor (int k = n - 1; k &gt; 0; --k) {\r\n\t\t\tfor (int j = k - 1; j &gt;= 0; --j) {\r\n\t\t\t\tif (perm[j] &lt;= perm[k]) {\r\n\t\t\t\t\tperm[k]++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn perm;\r\n\t}\r\n\r\n\tpublic static void main (String[] args) {\r\n\t\tSystem.out.printf(&quot;%s\\n&quot;, Arrays.toString(\r\n\t\t\tshuffle(52, new BigInteger(\r\n\t\t\t\t&quot;7890123456789012345678901234567890123456789012345678901234567890&quot;))));\r\n\t}\r\n\r\n&lt;sup&gt;\\[1\\]&lt;/sup&gt; Not to be confused with [Lehrer][9]. :)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hardware_random_number_generator\r\n  [2]: https://en.wikipedia.org/wiki/RdRand\r\n  [3]: https://en.wikipedia.org/wiki//dev/random\r\n  [4]: https://www.random.org/\r\n  [5]: https://en.wikipedia.org/wiki/Lehmer_code\r\n  [6]: https://en.wikipedia.org/wiki/Permutation#Numbering_permutations\r\n  [7]: https://en.wikipedia.org/wiki/Factorial_number_system\r\n  [8]: https://stackoverflow.com/a/7919887/367273\r\n  [9]: https://www.youtube.com/watch?v=gXlfXirQF3A","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>Selecting a random permutation requires simultaneously more and less randomness than what your question implies. Let me explain.</p>\n\n<p><strong>The bad news: need more randomness.</strong></p>\n\n<p>The fundamental flaw in your approach is that it's trying to choose between ~2<sup>226</sup> possibilities using 64 bits of entropy (the random seed). To fairly choose between ~2<sup>226</sup> possibilities you're going to have to find a way to generate 226 bits of entropy instead of 64.</p>\n\n<p>There are several ways to generate random bits: <a href=\"https://en.wikipedia.org/wiki/Hardware_random_number_generator\" rel=\"noreferrer\">dedicated hardware</a>, <a href=\"https://en.wikipedia.org/wiki/RdRand\" rel=\"noreferrer\">CPU instructions</a>, <a href=\"https://en.wikipedia.org/wiki//dev/random\" rel=\"noreferrer\">OS interfaces</a>, <a href=\"https://www.random.org/\" rel=\"noreferrer\">online services</a>. There is already an implicit assumption in your question that you can somehow generate 64 bits, so just do whatever you were going to do, only four times, and donate the excess bits to charity. :)</p>\n\n<p><strong>The good news: need less randomness.</strong></p>\n\n<p>Once you have those 226 random bits, the rest can be done deterministically and so <em>the properties of <code>java.util.Random</code> can be made irrelevant</em>. Here is how.</p>\n\n<p>Let's say we generate all 52! permutations (bear with me) and sort them lexicographically.</p>\n\n<p>To choose one of the permutations all we need is a single random integer between <code>0</code> and <code>52!-1</code>. That integer is our 226 bits of entropy. We'll use it as an index into our sorted list of permutations. If the random index is uniformly distributed, not only are you guaranteed that all permutations can be chosen, they will be chosen <em>equiprobably</em> (which is a stronger guarantee than what the question is asking).</p>\n\n<p>Now, you don't actually need to generate all those permutations. You can produce one directly, given its randomly chosen position in our hypothetical sorted list. This can be done in O(n<sup>2</sup>) time using the <a href=\"https://en.wikipedia.org/wiki/Lehmer_code\" rel=\"noreferrer\">Lehmer<sup>[1]</sup> code</a> (also see <a href=\"https://en.wikipedia.org/wiki/Permutation#Numbering_permutations\" rel=\"noreferrer\">numbering permutations</a> and <a href=\"https://en.wikipedia.org/wiki/Factorial_number_system\" rel=\"noreferrer\">factoriadic number system</a>). The n here is the size of your deck, i.e. 52.</p>\n\n<p>There is a C implementation in this <a href=\"https://stackoverflow.com/a/7919887/367273\">StackOverflow answer</a>. There are several integer variables there that would overflow for n=52, but luckily in Java you can use <code>java.math.BigInteger</code>. The rest of the computations can be transcribed almost as-is:</p>\n\n<pre><code>public static int[] shuffle(int n, BigInteger random_index) {\n    int[] perm = new int[n];\n    BigInteger[] fact = new BigInteger[n];\n    fact[0] = BigInteger.ONE;\n    for (int k = 1; k &lt; n; ++k) {\n        fact[k] = fact[k - 1].multiply(BigInteger.valueOf(k));\n    }\n\n    // compute factorial code\n    for (int k = 0; k &lt; n; ++k) {\n        BigInteger[] divmod = random_index.divideAndRemainder(fact[n - 1 - k]);\n        perm[k] = divmod[0].intValue();\n        random_index = divmod[1];\n    }\n\n    // readjust values to obtain the permutation\n    // start from the end and check if preceding values are lower\n    for (int k = n - 1; k &gt; 0; --k) {\n        for (int j = k - 1; j &gt;= 0; --j) {\n            if (perm[j] &lt;= perm[k]) {\n                perm[k]++;\n            }\n        }\n    }\n\n    return perm;\n}\n\npublic static void main (String[] args) {\n    System.out.printf(\"%s\\n\", Arrays.toString(\n        shuffle(52, new BigInteger(\n            \"7890123456789012345678901234567890123456789012345678901234567890\"))));\n}\n</code></pre>\n\n<p><sup>[1]</sup> Not to be confused with <a href=\"https://www.youtube.com/watch?v=gXlfXirQF3A\" rel=\"noreferrer\">Lehrer</a>. :)</p>\n"},{"comments":[{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":0,"creation_date":1533988012,"post_id":51775536,"comment_id":90555097,"body_markdown":"Wrong, wrong, wrong. *If you didn&#39;t know which initializer was which, could you write any kind of test to distinguish them?* **Yes, you can. In the 64 bit case there are possible card combinations which can never come up**. I think you did not understand the magnitude of the problem. The OP wants a **working system**, not something which looks like random and is inherently flawed.","body":"Wrong, wrong, wrong. <i>If you didn&#39;t know which initializer was which, could you write any kind of test to distinguish them?</i> <b>Yes, you can. In the 64 bit case there are possible card combinations which can never come up</b>. I think you did not understand the magnitude of the problem. The OP wants a <b>working system</b>, not something which looks like random and is inherently flawed."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":6,"creation_date":1533992592,"post_id":51775536,"comment_id":90556250,"body_markdown":"@ThorstenS, how could you write any kind of test that could determine that there are card combinations that can never come up?","body":"@ThorstenS, how could you write any kind of test that could determine that there are card combinations that can never come up?"},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":2,"creation_date":1533998201,"post_id":51775536,"comment_id":90557748,"body_markdown":"There are several random number test suites like Diehard from George Marsaglia or TestU01 from Pierre L’Ecuyer/Richard Simard which easily find statistical anomalies in random output. For card checking you can use two squares. You determine the card order. The first square shows the position of the first two cards as xy pair: The first card as x and the difference(!) position (-26-25) of the second card as y. The second square shows 3rd and 4th card with (-25-25) relative to the 2nd/3rd. **This will show immediately gaps and clusters in your distribution** if you run it for a time.","body":"There are several random number test suites like Diehard from George Marsaglia or TestU01 from Pierre L’Ecuyer/Richard Simard which easily find statistical anomalies in random output. For card checking you can use two squares. You determine the card order. The first square shows the position of the first two cards as xy pair: The first card as x and the difference(!) position (-26-25) of the second card as y. The second square shows 3rd and 4th card with (-25-25) relative to the 2nd/3rd. <b>This will show immediately gaps and clusters in your distribution</b> if you run it for a time."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":4,"creation_date":1534002542,"post_id":51775536,"comment_id":90558995,"body_markdown":"Well, that&#39;s not the test you said you could write, but it also doesn&#39;t apply. Why do you assume that there are gaps and clusters in the distribution that such tests would uncover?  That would imply a &quot;specific weakness in the PRNG implementation&quot; as I mentioned, and has nothing at all to do with the number of possible seeds.  Such tests don&#39;t even require you to reseed the generator. I did warn at the start that this was hard to understand.","body":"Well, that&#39;s not the test you said you could write, but it also doesn&#39;t apply. Why do you assume that there are gaps and clusters in the distribution that such tests would uncover?  That would imply a &quot;specific weakness in the PRNG implementation&quot; as I mentioned, and has nothing at all to do with the number of possible seeds.  Such tests don&#39;t even require you to reseed the generator. I did warn at the start that this was hard to understand."},{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":3,"creation_date":1534100616,"post_id":51775536,"comment_id":90578864,"body_markdown":"@ThorstenS. Those test suites absolutely will *not* determine whether your source is a 64-bit-seeded cryptographically secure PRNG or a true RNG. (Testing PRNGs is what those suites are for, after all.) Even if you knew the algorithm in use, a good PRNG makes it infeasible to determine the state without a brute force search of the state space.","body":"@ThorstenS. Those test suites absolutely will <i>not</i> determine whether your source is a 64-bit-seeded cryptographically secure PRNG or a true RNG. (Testing PRNGs is what those suites are for, after all.) Even if you knew the algorithm in use, a good PRNG makes it infeasible to determine the state without a brute force search of the state space."},{"owner":{"account_id":160089,"reputation":210407,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":1,"creation_date":1534113960,"post_id":51775536,"comment_id":90581682,"body_markdown":"@ThorstenS.: In a real deck of cards, the vast majority of combinations will never come up. You just don&#39;t know which ones those are. For a half-decent PRNG it&#39;s the same - if you can test whether a given output sequence that long is in its image, that&#39;s a flaw in the PRNG. Ridiculously huge state/period like 52! is not needed; 128-bit should suffice.","body":"@ThorstenS.: In a real deck of cards, the vast majority of combinations will never come up. You just don&#39;t know which ones those are. For a half-decent PRNG it&#39;s the same - if you can test whether a given output sequence that long is in its image, that&#39;s a flaw in the PRNG. Ridiculously huge state/period like 52! is not needed; 128-bit should suffice."},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":0,"creation_date":1534183995,"post_id":51775536,"comment_id":90610859,"body_markdown":"@MattTimmermans I wrote a small program to demonstrate what I am talking about, the only problem is that Random() of Java (which implements an linear congruential generator) uses an algorithm of Knuth and it is astonishingly stubborn. My idea of running through all permutations to show that some are not reachable did not work so far for 52*51*50 = 132 000. That sounds not much, but it is a coupon collectior problem meaning 1.5 million iterations are needed. I need to rethink how to demonstrate the problem.","body":"@MattTimmermans I wrote a small program to demonstrate what I am talking about, the only problem is that Random() of Java (which implements an linear congruential generator) uses an algorithm of Knuth and it is astonishingly stubborn. My idea of running through all permutations to show that some are not reachable did not work so far for 52*51*50 = 132 000. That sounds not much, but it is a coupon collectior problem meaning 1.5 million iterations are needed. I need to rethink how to demonstrate the problem."},{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1534187560,"post_id":51775536,"comment_id":90612597,"body_markdown":"@ThorstenS. Consider what the difficulty you&#39;ve experienced tells you about the tractability of what you&#39;ve suggested is an easy test. Note that with three cards you&#39;ve still only used up about 17 bits of pure entropy.","body":"@ThorstenS. Consider what the difficulty you&#39;ve experienced tells you about the tractability of what you&#39;ve suggested is an easy test. Note that with three cards you&#39;ve still only used up about 17 bits of pure entropy."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1534187562,"post_id":51775536,"comment_id":90612598,"body_markdown":"@ThorstenS. I did mention that that particular generator was not very good.  Something good with a 64 bit seed would be:  Each block of 256 bits returned from the generator is SHA-256(concat(&quot;MyRng&quot;, seed, N)), where N is the number of blocks returned since the generator was seeded.","body":"@ThorstenS. I did mention that that particular generator was not very good.  Something good with a 64 bit seed would be:  Each block of 256 bits returned from the generator is SHA-256(concat(&quot;MyRng&quot;, seed, N)), where N is the number of blocks returned since the generator was seeded."},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":0,"creation_date":1534189184,"post_id":51775536,"comment_id":90613278,"body_markdown":"@Sneftel It does say exactly nothing about that because there are broken RNGs which easily display such traits (see RANDU). Please wait until I can demonstrate the weakness.","body":"@Sneftel It does say exactly nothing about that because there are broken RNGs which easily display such traits (see RANDU). Please wait until I can demonstrate the weakness."},{"owner":{"account_id":413689,"reputation":40197,"user_id":787480,"accept_rate":69,"display_name":"Sneftel"},"score":0,"creation_date":1534192223,"post_id":51775536,"comment_id":90614564,"body_markdown":"@ThorstenS. If you&#39;re trying to demonstrate patterns in a LCG PRNG in generating permutations, I&#39;d suggest that you go in the other direction, with a Fisher-Yates shuffle.","body":"@ThorstenS. If you&#39;re trying to demonstrate patterns in a LCG PRNG in generating permutations, I&#39;d suggest that you go in the other direction, with a Fisher-Yates shuffle."},{"owner":{"account_id":5513230,"reputation":3625,"user_id":4378853,"accept_rate":100,"display_name":"GotoFinal"},"score":0,"creation_date":1535105384,"post_id":51775536,"comment_id":90953393,"body_markdown":"Random in java actually only uses 48 bits","body":"Random in java actually only uses 48 bits"}],"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":12,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1534327877,"creation_date":1533847683,"answer_id":51775536,"question_id":51771206,"body_markdown":"Let me apologize in advance, because this is a little tough to understand...\r\n\r\nFirst of all, you already know that `java.util.Random` is not completely random at all.  It generates sequences in a perfectly predictable way from the seed.  You are completely correct that, since the seed is only 64 bits long, it can only generate 2^64 different sequences.  If you were to somehow generate 64 real random bits and use them to select a seed, you could not use that seed to randomly choose between *all* of the 52! possible sequences with equal probability.\r\n\r\nHowever, this fact is *of no consequence* as long as you&#39;re not actually going to generate more than 2^64 sequences, as long as there is nothing &#39;special&#39; or &#39;noticeably special&#39; about the 2^64 sequences that it *can* generate.\r\n\r\nLets say you had a much better PRNG that used 1000-bit seeds.  Imagine you had two ways to initialize it -- one way would initialize it using the whole seed, and one way would hash the seed down to 64 bits before initializing it.\r\n\r\nIf you didn&#39;t know which initializer was which, could you write any kind of test to distinguish them?  Unless you were (un)lucky enough to end up initializing the bad one with the *same* 64 bits twice, then the answer is no.  You could not distinguish between the two initializers without some detailed knowledge of some weakness in the specific PRNG implementation.\r\n\r\nAlternatively, imagine that the `Random` class had an array of 2^64 sequences that were selected completely and random at some time in the distant past, and that the seed was just an index into this array.\r\n\r\nSo the fact that `Random` uses only 64 bits for its seed is actually *not* necessarily a problem statistically, as long as there is no significant chance that you will use the same seed twice.\r\n\r\nOf course, for *cryptographic* purposes, a 64 bit seed is just not enough, because getting a system to use the same seed twice is computationally feasible.\r\n\r\nEDIT: \r\n\r\nI should add that, even though all of the above is correct, that the actual implementation of `java.util.Random` is not awesome.  If you are writing a card game,  maybe use the `MessageDigest` API to generate the SHA-256 hash of `&quot;MyGameName&quot;+System.currentTimeMillis()`, and use those bits to shuffle the deck.  By the above argument, as long as your users are not really gambling, you don&#39;t have to worry that `currentTimeMillis` returns a long.  If your users *are* really gambling, then use `SecureRandom` with no seed.","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>Let me apologize in advance, because this is a little tough to understand...</p>\n\n<p>First of all, you already know that <code>java.util.Random</code> is not completely random at all.  It generates sequences in a perfectly predictable way from the seed.  You are completely correct that, since the seed is only 64 bits long, it can only generate 2^64 different sequences.  If you were to somehow generate 64 real random bits and use them to select a seed, you could not use that seed to randomly choose between <em>all</em> of the 52! possible sequences with equal probability.</p>\n\n<p>However, this fact is <em>of no consequence</em> as long as you're not actually going to generate more than 2^64 sequences, as long as there is nothing 'special' or 'noticeably special' about the 2^64 sequences that it <em>can</em> generate.</p>\n\n<p>Lets say you had a much better PRNG that used 1000-bit seeds.  Imagine you had two ways to initialize it -- one way would initialize it using the whole seed, and one way would hash the seed down to 64 bits before initializing it.</p>\n\n<p>If you didn't know which initializer was which, could you write any kind of test to distinguish them?  Unless you were (un)lucky enough to end up initializing the bad one with the <em>same</em> 64 bits twice, then the answer is no.  You could not distinguish between the two initializers without some detailed knowledge of some weakness in the specific PRNG implementation.</p>\n\n<p>Alternatively, imagine that the <code>Random</code> class had an array of 2^64 sequences that were selected completely and random at some time in the distant past, and that the seed was just an index into this array.</p>\n\n<p>So the fact that <code>Random</code> uses only 64 bits for its seed is actually <em>not</em> necessarily a problem statistically, as long as there is no significant chance that you will use the same seed twice.</p>\n\n<p>Of course, for <em>cryptographic</em> purposes, a 64 bit seed is just not enough, because getting a system to use the same seed twice is computationally feasible.</p>\n\n<p>EDIT: </p>\n\n<p>I should add that, even though all of the above is correct, that the actual implementation of <code>java.util.Random</code> is not awesome.  If you are writing a card game,  maybe use the <code>MessageDigest</code> API to generate the SHA-256 hash of <code>\"MyGameName\"+System.currentTimeMillis()</code>, and use those bits to shuffle the deck.  By the above argument, as long as your users are not really gambling, you don't have to worry that <code>currentTimeMillis</code> returns a long.  If your users <em>are</em> really gambling, then use <code>SecureRandom</code> with no seed.</p>\n"},{"tags":[],"owner":{"account_id":8423075,"reputation":2163,"user_id":6321291,"accept_rate":75,"display_name":"Kevin"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1533929959,"creation_date":1533929959,"answer_id":51793122,"question_id":51771206,"body_markdown":"I&#39;m going to take a bit of a different tack on this.  You&#39;re right on your assumptions - your PRNG isn&#39;t going to be able to hit all 52! possibilities.\r\n\r\nThe question is: what&#39;s the scale of your card game?\r\n\r\n**If you&#39;re making a simple klondike-style game?**  Then you definitely don&#39;t *need* all 52! possibilities.  Instead, look at it like this: a player will have 18 *quintillion* distinct games.  Even accounting for the &#39;Birthday Problem&#39;, they&#39;d have to play billions of hands before they&#39;d run into the first duplicate game.\r\n\r\n**If you&#39;re making a monte-carlo simulation?**  Then you&#39;re *probably* okay.  You might have to deal with artifacts due to the &#39;P&#39; in PRNG, but you&#39;re probably not going to run into problems simply due to a low seed space (again, you&#39;re looking at quintillions of unique possibilities.)  On the flip side, if you&#39;re working with large iteration count, then, yeah, your low seed space might be a deal-breaker.\r\n\r\n**If you&#39;re making a multiplayer card game, particularly if there&#39;s money on the line?**  Then you&#39;re going to need to do some googling on how the online poker sites handled the same problem you&#39;re asking about.  Because while the low seed space issue isn&#39;t *noticeable* to the average player, it is *exploitable* if it&#39;s worth the time investment.  (The poker sites all went through a phase where their PRNGs were &#39;hacked&#39;, letting someone see the hole cards of all the other players, simply by deducing the seed from exposed cards.)  If this is the situation you&#39;re in, *don&#39;t* simply find a better PRNG - you&#39;ll need to treat it as seriously as a Crypto problem.","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>I'm going to take a bit of a different tack on this.  You're right on your assumptions - your PRNG isn't going to be able to hit all 52! possibilities.</p>\n\n<p>The question is: what's the scale of your card game?</p>\n\n<p><strong>If you're making a simple klondike-style game?</strong>  Then you definitely don't <em>need</em> all 52! possibilities.  Instead, look at it like this: a player will have 18 <em>quintillion</em> distinct games.  Even accounting for the 'Birthday Problem', they'd have to play billions of hands before they'd run into the first duplicate game.</p>\n\n<p><strong>If you're making a monte-carlo simulation?</strong>  Then you're <em>probably</em> okay.  You might have to deal with artifacts due to the 'P' in PRNG, but you're probably not going to run into problems simply due to a low seed space (again, you're looking at quintillions of unique possibilities.)  On the flip side, if you're working with large iteration count, then, yeah, your low seed space might be a deal-breaker.</p>\n\n<p><strong>If you're making a multiplayer card game, particularly if there's money on the line?</strong>  Then you're going to need to do some googling on how the online poker sites handled the same problem you're asking about.  Because while the low seed space issue isn't <em>noticeable</em> to the average player, it is <em>exploitable</em> if it's worth the time investment.  (The poker sites all went through a phase where their PRNGs were 'hacked', letting someone see the hole cards of all the other players, simply by deducing the seed from exposed cards.)  If this is the situation you're in, <em>don't</em> simply find a better PRNG - you'll need to treat it as seriously as a Crypto problem.</p>\n"},{"tags":[],"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1534323203,"creation_date":1533990111,"answer_id":51799625,"question_id":51771206,"body_markdown":"Short solution which is essentially the same of dasblinkenlight:\r\n\r\n    // Java 7\r\n    SecureRandom random = new SecureRandom();\r\n    // Java 8\r\n    SecureRandom random = SecureRandom.getInstanceStrong();\r\n\r\n    Collections.shuffle(deck, random);\r\n\r\n\r\n**You don&#39;t need to worry about the internal state. Long explanation why:**\r\n\r\nWhen you create a `SecureRandom` instance this way, it accesses an OS specific\r\ntrue random number generator. This is either an entropy pool where values are\r\naccessed which contain random bits (e.g. for a nanosecond timer the nanosecond\r\nprecision is essentially random) or an internal hardware number generator.\r\n\r\nThis input (!) which may still contain spurious traces are fed into a\r\ncryptographically strong hash which removes those traces. That is the reason those CSPRNGs are used, not for creating those numbers themselves! The `SecureRandom` has a counter which traces how many bits were used (`getBytes()`, `getLong()` etc.) and **refills the `SecureRandom` with entropy bits when necessary**.\r\n\r\nIn short: Simply forget objections and use `SecureRandom` as true random number generator. \r\n\r\n","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>Short solution which is essentially the same of dasblinkenlight:</p>\n\n<pre><code>// Java 7\nSecureRandom random = new SecureRandom();\n// Java 8\nSecureRandom random = SecureRandom.getInstanceStrong();\n\nCollections.shuffle(deck, random);\n</code></pre>\n\n<p><strong>You don't need to worry about the internal state. Long explanation why:</strong></p>\n\n<p>When you create a <code>SecureRandom</code> instance this way, it accesses an OS specific\ntrue random number generator. This is either an entropy pool where values are\naccessed which contain random bits (e.g. for a nanosecond timer the nanosecond\nprecision is essentially random) or an internal hardware number generator.</p>\n\n<p>This input (!) which may still contain spurious traces are fed into a\ncryptographically strong hash which removes those traces. That is the reason those CSPRNGs are used, not for creating those numbers themselves! The <code>SecureRandom</code> has a counter which traces how many bits were used (<code>getBytes()</code>, <code>getLong()</code> etc.) and <strong>refills the <code>SecureRandom</code> with entropy bits when necessary</strong>.</p>\n\n<p>In short: Simply forget objections and use <code>SecureRandom</code> as true random number generator. </p>\n"},{"tags":[],"owner":{"account_id":15220,"reputation":48515,"user_id":31945,"display_name":"Artelius"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1534136218,"creation_date":1534136218,"answer_id":51815431,"question_id":51771206,"body_markdown":"A very simple algorithm is to apply SHA-256 to a sequence of integers incrementing from 0 upwards. (A salt can be appended if desired to &quot;get a different sequence&quot;.) If we assume that the output of SHA-256 is &quot;as good as&quot; uniformly distributed integers between 0 and 2&lt;sup&gt;256&lt;/sup&gt; - 1 then we have enough entropy for the task.\r\n\r\nTo get a permutation from the output of SHA256 (when expressed as an integer) one simply needs to reduce it modulo 52, 51, 50... as in this pseudocode:\r\n\r\n    deck = [0..52]\r\n    shuffled = []\r\n    r = SHA256(i)\r\n\r\n    while deck.size &gt; 0:\r\n        pick = r % deck.size\r\n        r = floor(r / deck.size)\r\n\r\n        shuffled.append(deck[pick])\r\n        delete deck[pick]\r\n    ","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>A very simple algorithm is to apply SHA-256 to a sequence of integers incrementing from 0 upwards. (A salt can be appended if desired to \"get a different sequence\".) If we assume that the output of SHA-256 is \"as good as\" uniformly distributed integers between 0 and 2<sup>256</sup> - 1 then we have enough entropy for the task.</p>\n\n<p>To get a permutation from the output of SHA256 (when expressed as an integer) one simply needs to reduce it modulo 52, 51, 50... as in this pseudocode:</p>\n\n<pre><code>deck = [0..52]\nshuffled = []\nr = SHA256(i)\n\nwhile deck.size &gt; 0:\n    pick = r % deck.size\n    r = floor(r / deck.size)\n\n    shuffled.append(deck[pick])\n    delete deck[pick]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4438438,"reputation":563,"user_id":3613622,"accept_rate":0,"display_name":"Jere_Sumell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595264651,"creation_date":1595264651,"answer_id":63000436,"question_id":51771206,"body_markdown":"My Empirical research results are Java.Random is not totally truly random. If you try yourself by using Random class &quot;nextGaussian()&quot;-method and generate enough big sample population for numbers between -1 and 1, the graph is normal distbruted field know as Gaussian Model. \r\n\r\nFinnish goverment owned gambling-bookmarker have a once per day whole year around every day drawn lottery-game where winning table shows that the Bookmarker gives winnings in normal distrbuted way. My Java Simulation with 5 million draws shows me that with nextInt() -methdod used number draw, winnings are normally distributed same kind of like the my Bookmarker deals the winnings in each draw. \r\n\r\nMy best picks are avoiding numbers 3 and 7 in each of ending ones and that&#39;s true that they are rarely in winning results. Couple of times won five out of five picks by avoiding 3 and 7 numbers in ones column in Integer between 1-70 (Keno).\r\n\r\nFinnish Lottery drawn once per week Saturday evenings If you play System with 12 numbers out of 39, perhaps you get 5 or 6 right picks in your coupon by avoiding 3 and 7 values. \r\n\r\nFinnish Lottery have numbers 1-40 to choose and it takes 4 coupon to cover all the nnumbers with 12 number system. The total cost is 240 euros and in long term it&#39;s too expensive for the regural gambler to play without going broke. Even if you share coupons to other customers available to buy still you have to be quite a lucky if you want to make profit. ","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>My Empirical research results are Java.Random is not totally truly random. If you try yourself by using Random class &quot;nextGaussian()&quot;-method and generate enough big sample population for numbers between -1 and 1, the graph is normal distbruted field know as Gaussian Model.</p>\n<p>Finnish goverment owned gambling-bookmarker have a once per day whole year around every day drawn lottery-game where winning table shows that the Bookmarker gives winnings in normal distrbuted way. My Java Simulation with 5 million draws shows me that with nextInt() -methdod used number draw, winnings are normally distributed same kind of like the my Bookmarker deals the winnings in each draw.</p>\n<p>My best picks are avoiding numbers 3 and 7 in each of ending ones and that's true that they are rarely in winning results. Couple of times won five out of five picks by avoiding 3 and 7 numbers in ones column in Integer between 1-70 (Keno).</p>\n<p>Finnish Lottery drawn once per week Saturday evenings If you play System with 12 numbers out of 39, perhaps you get 5 or 6 right picks in your coupon by avoiding 3 and 7 values.</p>\n<p>Finnish Lottery have numbers 1-40 to choose and it takes 4 coupon to cover all the nnumbers with 12 number system. The total cost is 240 euros and in long term it's too expensive for the regural gambler to play without going broke. Even if you share coupons to other customers available to buy still you have to be quite a lucky if you want to make profit.</p>\n"}],"owner":{"account_id":9615566,"reputation":5188,"user_id":7138492,"accept_rate":100,"display_name":"Sergey Emeliyanov"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14285,"favorite_count":0,"down_vote_count":0,"up_vote_count":205,"accepted_answer_id":51772168,"answer_count":9,"score":205,"last_activity_date":1698301875,"creation_date":1533829532,"question_id":51771206,"body_markdown":"I&#39;ve been using `Random (java.util.Random)` to shuffle a deck of 52 cards. There are 52! (8.0658175e+67) possibilities. Yet, I&#39;ve found out that the seed for `java.util.Random` is a `long`, which is much smaller at 2^64 (1.8446744e+19). \r\n\r\nFrom here, I&#39;m suspicious whether `java.util.Random` *is really that random*; is it actually capable of generating all 52! possibilities?\r\n\r\nIf not, how can I reliably generate a better random sequence that can produce all 52! possibilities?","title":"Is java.util.Random really that random? How can I generate 52! (factorial) possible sequences?","body":"<p>I've been using <code>Random (java.util.Random)</code> to shuffle a deck of 52 cards. There are 52! (8.0658175e+67) possibilities. Yet, I've found out that the seed for <code>java.util.Random</code> is a <code>long</code>, which is much smaller at 2^64 (1.8446744e+19). </p>\n\n<p>From here, I'm suspicious whether <code>java.util.Random</code> <em>is really that random</em>; is it actually capable of generating all 52! possibilities?</p>\n\n<p>If not, how can I reliably generate a better random sequence that can produce all 52! possibilities?</p>\n"},{"tags":["java","android","android-intent"],"answers":[{"comments":[{"owner":{"account_id":16340769,"reputation":3,"user_id":11801733,"display_name":"Dominik Horvath"},"score":0,"creation_date":1563444183,"post_id":57091024,"comment_id":100705616,"body_markdown":"It gives me this error at the line with startActivity(i): Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n     Caused by: android.content.ActivityNotFoundException: No Activity found to handle Intent","body":"It gives me this error at the line with startActivity(i): Caused by: java.lang.reflect.InvocationTargetException         at java.lang.reflect.Method.invoke(Native Method)      Caused by: android.content.ActivityNotFoundException: No Activity found to handle Intent"},{"owner":{"account_id":16340769,"reputation":3,"user_id":11801733,"display_name":"Dominik Horvath"},"score":0,"creation_date":1563447674,"post_id":57091024,"comment_id":100707458,"body_markdown":"Ok, so I got the menu to pop up but it says that no apps can perform this action. Can the problem be that I used bitmap instead of a file? The uri I passed to the intent is from a Bitmap to uri converter from [this](https://freakycoder.com/android-notes-72-how-to-convert-bitmap-to-uri-e535391ebdac) guide.","body":"Ok, so I got the menu to pop up but it says that no apps can perform this action. Can the problem be that I used bitmap instead of a file? The uri I passed to the intent is from a Bitmap to uri converter from <a href=\"https://freakycoder.com/android-notes-72-how-to-convert-bitmap-to-uri-e535391ebdac\" rel=\"nofollow noreferrer\">this</a> guide."},{"owner":{"account_id":15600750,"reputation":26,"user_id":11254959,"display_name":"Siva Krishna"},"score":0,"creation_date":1563454925,"post_id":57091024,"comment_id":100711537,"body_markdown":"`Intent in=new Intent(Intent.ACTION_SET_WALLPAPER);\n        startActivity(in);`       ACTIOON_SET_WALLPAPER dosen&#39;t take any input use above code","body":"<code>Intent in=new Intent(Intent.ACTION_SET_WALLPAPER);         startActivity(in);</code>       ACTIOON_SET_WALLPAPER dosen&#39;t take any input use above code"},{"owner":{"account_id":16340769,"reputation":3,"user_id":11801733,"display_name":"Dominik Horvath"},"score":0,"creation_date":1563635971,"post_id":57091024,"comment_id":100768943,"body_markdown":"and how do I attach the image to it now?","body":"and how do I attach the image to it now?"}],"tags":[],"owner":{"account_id":15600750,"reputation":26,"user_id":11254959,"display_name":"Siva Krishna"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1563441212,"creation_date":1563441212,"answer_id":57091024,"question_id":57090288,"body_markdown":"the followin code my solve your problem\r\n\r\n`       File f=new File(&quot;wallpaper_file_path&quot;);\r\n        Intent i=new Intent(Intent.ACTION_SET_WALLPAPER,Uri.fromFile(f));\r\n        startActivity(i);`","title":"How to open &quot;Set as&quot; menu when setting a wallpaper in android","body":"<p>the followin code my solve your problem</p>\n\n<p><code>File f=new File(\"wallpaper_file_path\");\n        Intent i=new Intent(Intent.ACTION_SET_WALLPAPER,Uri.fromFile(f));\n        startActivity(i);</code></p>\n"},{"tags":[],"owner":{"account_id":10868261,"reputation":61,"user_id":7990967,"display_name":"Dyenal Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563446003,"creation_date":1563446003,"answer_id":57092542,"question_id":57090288,"body_markdown":"I made a wallpaper app, in that, I used a zoom image library so that I can adjust the image then I take the cache of that image view are and set it as wallpaper. and I can set it for the home screen, lock screen and for both\r\n\r\n     public void SetHomeAndLockScreen()\r\n    {\r\n      \r\n\r\n        bmap=((BitmapDrawable)imageview.getDrawable()).getBitmap();//get the cache from zoomable imageview\r\n\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy(policy);\r\n        WallpaperManager wpm = WallpaperManager.getInstance(getApplicationContext());\r\n\r\n        try {\r\n            wpm.setBitmap(bmap, null, true, WallpaperManager.FLAG_LOCK);\r\n            wpm.setBitmap(bmap);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        Toast.makeText(getApplicationContext(), &quot;Wallpaper Applied&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n    }","title":"How to open &quot;Set as&quot; menu when setting a wallpaper in android","body":"<p>I made a wallpaper app, in that, I used a zoom image library so that I can adjust the image then I take the cache of that image view are and set it as wallpaper. and I can set it for the home screen, lock screen and for both</p>\n\n<pre><code> public void SetHomeAndLockScreen()\n{\n\n\n    bmap=((BitmapDrawable)imageview.getDrawable()).getBitmap();//get the cache from zoomable imageview\n\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n    WallpaperManager wpm = WallpaperManager.getInstance(getApplicationContext());\n\n    try {\n        wpm.setBitmap(bmap, null, true, WallpaperManager.FLAG_LOCK);\n        wpm.setBitmap(bmap);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    Toast.makeText(getApplicationContext(), \"Wallpaper Applied\", Toast.LENGTH_SHORT).show();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11283090,"reputation":7449,"user_id":8274756,"display_name":"Tamir Abutbul"},"score":0,"creation_date":1564296826,"post_id":57238569,"comment_id":100978743,"body_markdown":"Please don&#39;t post 2 answers to the same question - edit your answer and merge it with your second answer.","body":"Please don&#39;t post 2 answers to the same question - edit your answer and merge it with your second answer."},{"owner":{"account_id":16340769,"reputation":3,"user_id":11801733,"display_name":"Dominik Horvath"},"score":0,"creation_date":1564384073,"post_id":57238569,"comment_id":100997558,"body_markdown":"But dont I need a fileprovider for a URI from file?","body":"But dont I need a fileprovider for a URI from file?"}],"tags":[],"owner":{"account_id":15600750,"reputation":26,"user_id":11254959,"display_name":"Siva Krishna"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564296327,"creation_date":1564296327,"answer_id":57238569,"question_id":57090288,"body_markdown":"I was understand that you need to crop image from gallery try this                           use phone screen width for  x and screen height for y \r\n\r\n    Intent intent = new Intent(&quot;com.android.camera.action.CROP&quot;);  \r\n    intent.setClassName(&quot;com.android.camera&quot;, &quot;com.android.camera.CropImage&quot;);  \r\n    File file = new File(filePath);  \r\n    Uri uri = Uri.fromFile(file);  \r\n    intent.setData(uri);  \r\n    intent.putExtra(&quot;crop&quot;, &quot;true&quot;);  \r\n    intent.putExtra(&quot;aspectX&quot;, 4);  \r\n    intent.putExtra(&quot;aspectY&quot;, 16);  \r\n    intent.putExtra(&quot;outputX&quot;, 720);  \r\n    intent.putExtra(&quot;outputY&quot;, 1080);  \r\n    intent.putExtra(&quot;noFaceDetection&quot;, true);  \r\n    intent.putExtra(&quot;return-data&quot;, true);                                  \r\n    startActivityForResult(intent, REQUEST_CROP_ICON);`\r\nWhen the picture select Activity return will be selected to save the contents.in \r\n    onActivityResult:\r\n\r\n    Bundle extras = data.getExtras();  \r\n    if(extras != null ) {  \r\n    Bitmap photo = extras.getParcelable(&quot;data&quot;);  \r\n    ByteArrayOutputStream stream = new ByteArrayOutputStream();  \r\n    photo.compress(Bitmap.CompressFormat.JPEG, 75, stream);  \r\n        // The stream to write to a file or directly using the photo\r\n    }                                                                                                                                                             and set the wall paper using wallpaper manager","title":"How to open &quot;Set as&quot; menu when setting a wallpaper in android","body":"<p>I was understand that you need to crop image from gallery try this                           use phone screen width for  x and screen height for y </p>\n\n<pre><code>Intent intent = new Intent(\"com.android.camera.action.CROP\");  \nintent.setClassName(\"com.android.camera\", \"com.android.camera.CropImage\");  \nFile file = new File(filePath);  \nUri uri = Uri.fromFile(file);  \nintent.setData(uri);  \nintent.putExtra(\"crop\", \"true\");  \nintent.putExtra(\"aspectX\", 4);  \nintent.putExtra(\"aspectY\", 16);  \nintent.putExtra(\"outputX\", 720);  \nintent.putExtra(\"outputY\", 1080);  \nintent.putExtra(\"noFaceDetection\", true);  \nintent.putExtra(\"return-data\", true);                                  \nstartActivityForResult(intent, REQUEST_CROP_ICON);`\n</code></pre>\n\n<p>When the picture select Activity return will be selected to save the contents.in \n    onActivityResult:</p>\n\n<pre><code>Bundle extras = data.getExtras();  \nif(extras != null ) {  \nBitmap photo = extras.getParcelable(\"data\");  \nByteArrayOutputStream stream = new ByteArrayOutputStream();  \nphoto.compress(Bitmap.CompressFormat.JPEG, 75, stream);  \n    // The stream to write to a file or directly using the photo\n}                                                                                                                                                             and set the wall paper using wallpaper manager\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9787375,"reputation":757,"user_id":12969368,"display_name":"gcantoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584017354,"creation_date":1583138862,"answer_id":60485224,"question_id":57090288,"body_markdown":"Modern solution :)\r\n\r\n    /**\r\n     * Set as wallpaper method\r\n     */\r\n    public void setWallpaper() {\r\n        Intent intent = new Intent(Intent.ACTION_ATTACH_DATA);\r\n        intent.addCategory(Intent.CATEGORY_DEFAULT);\r\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // Android 7.0+ required\r\n        Uri wallUri = getImageUri(this, wallpaperDrawableBitmap);\r\n        intent.setDataAndType(wallUri, &quot;image/jpeg&quot;);\r\n        intent.putExtra(&quot;mimeType&quot;, &quot;image/jpeg&quot;);\r\n        this.startActivity(Intent.createChooser(intent, &quot;Set as:&quot;));\r\n    }\r\n\r\n\r\nModern solution for static contexts :) \r\n\r\n    /**\r\n     * Set as wallpaper\r\n     */\r\n    public static void setWallpaper(Activity activity) {\r\n        Intent intent = new Intent(Intent.ACTION_ATTACH_DATA);\r\n        intent.addCategory(Intent.CATEGORY_DEFAULT);\r\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // Android 7.0+ required\r\n        Uri wallUri = getImageUri(activity, wallpaperDrawableBitmapStatic);\r\n        intent.setDataAndType(wallUri, &quot;image/jpeg&quot;);\r\n        intent.putExtra(&quot;mimeType&quot;, &quot;image/jpeg&quot;);\r\n        activity.startActivity(Intent.createChooser(intent, &quot;Set as:&quot;));\r\n    }\r\n\r\nNote that **setDataAndType(...)** requires the image **URI**.","title":"How to open &quot;Set as&quot; menu when setting a wallpaper in android","body":"<p>Modern solution :)</p>\n\n<pre><code>/**\n * Set as wallpaper method\n */\npublic void setWallpaper() {\n    Intent intent = new Intent(Intent.ACTION_ATTACH_DATA);\n    intent.addCategory(Intent.CATEGORY_DEFAULT);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // Android 7.0+ required\n    Uri wallUri = getImageUri(this, wallpaperDrawableBitmap);\n    intent.setDataAndType(wallUri, \"image/jpeg\");\n    intent.putExtra(\"mimeType\", \"image/jpeg\");\n    this.startActivity(Intent.createChooser(intent, \"Set as:\"));\n}\n</code></pre>\n\n<p>Modern solution for static contexts :) </p>\n\n<pre><code>/**\n * Set as wallpaper\n */\npublic static void setWallpaper(Activity activity) {\n    Intent intent = new Intent(Intent.ACTION_ATTACH_DATA);\n    intent.addCategory(Intent.CATEGORY_DEFAULT);\n    intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION); // Android 7.0+ required\n    Uri wallUri = getImageUri(activity, wallpaperDrawableBitmapStatic);\n    intent.setDataAndType(wallUri, \"image/jpeg\");\n    intent.putExtra(\"mimeType\", \"image/jpeg\");\n    activity.startActivity(Intent.createChooser(intent, \"Set as:\"));\n}\n</code></pre>\n\n<p>Note that <strong>setDataAndType(...)</strong> requires the image <strong>URI</strong>.</p>\n"}],"owner":{"account_id":16340769,"reputation":3,"user_id":11801733,"display_name":"Dominik Horvath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":57091024,"answer_count":4,"score":0,"last_activity_date":1698301406,"creation_date":1563438811,"question_id":57090288,"body_markdown":"I am building  a wallpaper app in java. When user selects an image, a small default menu should pop up like in the provided screenshot, where user can select which app should set the wallpaper.\r\n\r\nSo far I used WallpaperManager for setting the wallpaper but that doesnt give user an option to move the image etc. This is my first android app ever so I am learning with every step I take, so sorry if this is an easy task. I also have not found SO question that solves my problem.\r\n\r\nCan you please point me to the right direction, waht should I google, look for, or show me some code that does this? Thank you in advance.\r\n\r\n[![ref screen shot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IDSIV.png","title":"How to open &quot;Set as&quot; menu when setting a wallpaper in android","body":"<p>I am building  a wallpaper app in java. When user selects an image, a small default menu should pop up like in the provided screenshot, where user can select which app should set the wallpaper.</p>\n<p>So far I used WallpaperManager for setting the wallpaper but that doesnt give user an option to move the image etc. This is my first android app ever so I am learning with every step I take, so sorry if this is an easy task. I also have not found SO question that solves my problem.</p>\n<p>Can you please point me to the right direction, waht should I google, look for, or show me some code that does this? Thank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/IDSIV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDSIV.png\" alt=\"ref screen shot\" /></a></p>\n"},{"tags":["java","android","react-native","expo"],"answers":[{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662960532,"creation_date":1662960532,"answer_id":73684839,"question_id":73684228,"body_markdown":"Check if this helps!\r\n\r\nhttps://github.com/expo/expo/issues/17609#issuecomment-1189770234\r\n\r\nTry upgrading your gradle version using the upgrade assistant or use the instructions in the mentioned link above.","title":"Execution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;","body":"<p>Check if this helps!</p>\n<p><a href=\"https://github.com/expo/expo/issues/17609#issuecomment-1189770234\" rel=\"nofollow noreferrer\">https://github.com/expo/expo/issues/17609#issuecomment-1189770234</a></p>\n<p>Try upgrading your gradle version using the upgrade assistant or use the instructions in the mentioned link above.</p>\n"},{"tags":[],"owner":{"account_id":19132930,"reputation":131,"user_id":13974437,"display_name":"Tran Duc Hoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1663037056,"creation_date":1663037056,"answer_id":73697027,"question_id":73684228,"body_markdown":"I tried a ton of ways. Finally, I find out where is the problem from. It&#39;s come from `javac`, I don&#39;t have a Java compiler yet.\r\nI reinstall Java follow this instruction: \r\nhttps://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-22-04\r\n\r\nBoom, the problem is resolved. I hope this help other people who have the same problem as me. ","title":"Execution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;","body":"<p>I tried a ton of ways. Finally, I find out where is the problem from. It's come from <code>javac</code>, I don't have a Java compiler yet.\nI reinstall Java follow this instruction:\n<a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-22-04\" rel=\"noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-on-ubuntu-22-04</a></p>\n<p>Boom, the problem is resolved. I hope this help other people who have the same problem as me.</p>\n"},{"tags":[],"owner":{"account_id":23693120,"reputation":175,"user_id":17717225,"display_name":"Camilo Gomez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664839827,"creation_date":1664839827,"answer_id":73941752,"question_id":73684228,"body_markdown":"In my case I just install: Java-11-openjdk-amd64\r\n\r\nBut in your case install: Java-17-openjdk-amd64","title":"Execution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;","body":"<p>In my case I just install: Java-11-openjdk-amd64</p>\n<p>But in your case install: Java-17-openjdk-amd64</p>\n"},{"tags":[],"owner":{"account_id":29108886,"reputation":1,"user_id":22299066,"display_name":"ChasingBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698301292,"creation_date":1698301239,"answer_id":77364535,"question_id":73684228,"body_markdown":"While `java -version` and `echo $JAVA_HOME` showed the correct OpenJDK version managed by jenv, the React Native build was still failing. This indicated an incompatibility likely between how jenv managed the JDK and how Gradle/React Native expected it to be configured.\r\n\r\nResolving this, I reinstalled OpenJDK manually and set the environment variables directly without using jenv. This circumvented any potential issues and allowed the build to succeed, confirming it was an interaction problem rather than an invalid JDK setup.\r\n\r\nGoing forward, when seeing similar errors despite a correct JDK configuration via jenv, I will investigate possible jenv-specific incompatibilities with the build tools used.","title":"Execution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;","body":"<p>While <code>java -version</code> and <code>echo $JAVA_HOME</code> showed the correct OpenJDK version managed by jenv, the React Native build was still failing. This indicated an incompatibility likely between how jenv managed the JDK and how Gradle/React Native expected it to be configured.</p>\n<p>Resolving this, I reinstalled OpenJDK manually and set the environment variables directly without using jenv. This circumvented any potential issues and allowed the build to succeed, confirming it was an interaction problem rather than an invalid JDK setup.</p>\n<p>Going forward, when seeing similar errors despite a correct JDK configuration via jenv, I will investigate possible jenv-specific incompatibilities with the build tools used.</p>\n"}],"owner":{"account_id":19132930,"reputation":131,"user_id":13974437,"display_name":"Tran Duc Hoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1698301292,"creation_date":1662953586,"question_id":73684228,"body_markdown":" - I build android for a react native project in Ubuntu. And I got this error.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/25p1j.png\r\n\r\nHow can I fix this error? Please help me. Thank you first.","title":"Execution failed for task &#39;:expo-modules-core:compileDebugJavaWithJavac&#39;","body":"<ul>\n<li>I build android for a react native project in Ubuntu. And I got this error.\n<a href=\"https://i.stack.imgur.com/25p1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25p1j.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>How can I fix this error? Please help me. Thank you first.</p>\n"},{"tags":["java","maven","java-home"],"comments":[{"owner":{"account_id":11029928,"reputation":3250,"user_id":8101556,"accept_rate":80,"display_name":"Rishikesh Darandale"},"score":0,"creation_date":1501047056,"post_id":27319495,"comment_id":77598249,"body_markdown":"One can use [sdkman](http://sdkman.io) to manage java and maven tool with ease.","body":"One can use <a href=\"http://sdkman.io\" rel=\"nofollow noreferrer\">sdkman</a> to manage java and maven tool with ease."},{"owner":{"account_id":2893619,"reputation":786,"user_id":2481857,"accept_rate":100,"display_name":"hetptis"},"score":0,"creation_date":1549531452,"post_id":27319495,"comment_id":95937839,"body_markdown":"In my case, the problem was that JAVA_HOME was defined in the $HOME/.mavenrc and it was pointing to a wrong path. I was able to find out the issue by adding some echo $JAVA_HOME lines to /usr/local/bin/mvn script and running mvn -v","body":"In my case, the problem was that JAVA_HOME was defined in the $HOME/.mavenrc and it was pointing to a wrong path. I was able to find out the issue by adding some echo $JAVA_HOME lines to /usr/local/bin/mvn script and running mvn -v"}],"answers":[{"comments":[{"owner":{"account_id":83752,"reputation":270,"user_id":1152518,"display_name":"dariusz"},"score":3,"creation_date":1432566598,"post_id":27319530,"comment_id":48964792,"body_markdown":"Right, you need to remove the trailing &quot;/bin/java&quot; from your path .. meaning:  JAVA_HOME=&quot;/usr/lib/jvm/java-7-oracle/jre/&quot;","body":"Right, you need to remove the trailing &quot;/bin/java&quot; from your path .. meaning:  JAVA_HOME=&quot;/usr/lib/jvm/java-7-oracle/jre/&quot;"}],"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1417794121,"creation_date":1417794121,"answer_id":27319530,"question_id":27319495,"body_markdown":"JAVA_HOME should be `/usr/lib/jvm/java-7-oracle/jre/`.","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>JAVA_HOME should be <code>/usr/lib/jvm/java-7-oracle/jre/</code>.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1417794147,"creation_date":1417794147,"answer_id":27319543,"question_id":27319495,"body_markdown":"`$JAVA_HOME` should be the directory where java was installed, not one of its parts:\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-7-oracle","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p><code>$JAVA_HOME</code> should be the directory where java was installed, not one of its parts:</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-7-oracle\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5836178,"reputation":605,"user_id":4599170,"display_name":"ascoder"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1424738177,"creation_date":1424737088,"answer_id":28686117,"question_id":27319495,"body_markdown":"You must take the whole directory where java is installed, in my case:\r\n\r\n    export JAVA_HOME=/usr/java/jdk1.8.0_31","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>You must take the whole directory where java is installed, in my case:</p>\n\n<pre><code>export JAVA_HOME=/usr/java/jdk1.8.0_31\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":1,"creation_date":1459948165,"post_id":28686920,"comment_id":60517012,"body_markdown":"What if I want to make this persistent between launches?","body":"What if I want to make this persistent between launches?"},{"owner":{"account_id":390557,"reputation":1327,"user_id":750703,"accept_rate":62,"display_name":"Pierre"},"score":2,"creation_date":1491312551,"post_id":28686920,"comment_id":73488767,"body_markdown":"Worth noting that for ubuntu, you should use .profile instead of .bash_profile according to http://askubuntu.com/questions/824829/creating-and-configuring-bash-profile","body":"Worth noting that for ubuntu, you should use .profile instead of .bash_profile according to <a href=\"http://askubuntu.com/questions/824829/creating-and-configuring-bash-profile\" title=\"creating and configuring bash profile\">askubuntu.com/questions/824829/&hellip;</a>"},{"owner":{"account_id":1792527,"reputation":2445,"user_id":1632609,"accept_rate":72,"display_name":"Wearybands"},"score":1,"creation_date":1533640522,"post_id":28686920,"comment_id":90411042,"body_markdown":"What if I want to use java from a share rather than the system java","body":"What if I want to use java from a share rather than the system java"},{"owner":{"account_id":105656,"reputation":10434,"user_id":281815,"display_name":"rbento"},"score":0,"creation_date":1533656570,"post_id":28686920,"comment_id":90422116,"body_markdown":"Just updated the answer as per the comments. Thank you.","body":"Just updated the answer as per the comments. Thank you."},{"owner":{"account_id":11077445,"reputation":503,"user_id":8133719,"accept_rate":50,"display_name":"zero_yu"},"score":0,"creation_date":1540223185,"post_id":28686920,"comment_id":92775538,"body_markdown":"Thanks! Just for curiosity, why &quot;JAVA_HOME=/opt/java/openjdk&quot; works but &quot;JAVA_HOME=$(/usr/libexec/java_home)&quot; doesn&#39;t for custom Java installation?","body":"Thanks! Just for curiosity, why &quot;JAVA_HOME=/opt/java/openjdk&quot; works but &quot;JAVA_HOME=$(/usr/libexec/java_home)&quot; doesn&#39;t for custom Java installation?"}],"tags":[],"owner":{"account_id":105656,"reputation":10434,"user_id":281815,"display_name":"rbento"},"comment_count":5,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1622102369,"creation_date":1424742532,"answer_id":28686920,"question_id":27319495,"body_markdown":"Assuming you use bash shell and installed Java with the Oracle installer, you could add the following to your `.bash_profile`\r\n\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home)\r\n    export PATH=$JAVA_HOME/jre/bin:$PATH\r\n\r\n\r\nThis would pick the correct `JAVA_HOME` as defined by the Oracle installer and will set it first in your `$PATH` making sure it is found.\r\n\r\nAlso, you don&#39;t need to change it later when updating Java.\r\n\r\n\r\n**EDIT**\r\n\r\nAs per the comments:\r\n\r\n**Making it persistent after a reboot**\r\n\r\nJust add those lines in the shell configuration file. (Assuming it&#39;s `bash`)\r\n\r\nEx: `.bashrc`, `.bash_profile` or `.profile` (for ubuntu)\r\n\r\n**Using a custom Java installation**\r\n\r\n Set `JAVA_HOME` to the root folder of the custom Java installation path without the `$()`.\r\n\r\n Ex: `JAVA_HOME=/opt/java/openjdk`","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>Assuming you use bash shell and installed Java with the Oracle installer, you could add the following to your <code>.bash_profile</code></p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\nexport PATH=$JAVA_HOME/jre/bin:$PATH\n</code></pre>\n<p>This would pick the correct <code>JAVA_HOME</code> as defined by the Oracle installer and will set it first in your <code>$PATH</code> making sure it is found.</p>\n<p>Also, you don't need to change it later when updating Java.</p>\n<p><strong>EDIT</strong></p>\n<p>As per the comments:</p>\n<p><strong>Making it persistent after a reboot</strong></p>\n<p>Just add those lines in the shell configuration file. (Assuming it's <code>bash</code>)</p>\n<p>Ex: <code>.bashrc</code>, <code>.bash_profile</code> or <code>.profile</code> (for ubuntu)</p>\n<p><strong>Using a custom Java installation</strong></p>\n<p>Set <code>JAVA_HOME</code> to the root folder of the custom Java installation path without the <code>$()</code>.</p>\n<p>Ex: <code>JAVA_HOME=/opt/java/openjdk</code></p>\n"},{"comments":[{"owner":{"account_id":2449500,"reputation":2222,"user_id":2136116,"accept_rate":82,"display_name":"timmz"},"score":0,"creation_date":1428589203,"post_id":29099913,"comment_id":47234040,"body_markdown":"This what worked for me on debian! ( manual installation of JDK )","body":"This what worked for me on debian! ( manual installation of JDK )"},{"owner":{"account_id":216152,"reputation":9100,"user_id":471214,"accept_rate":54,"display_name":"mmdemirbas"},"score":2,"creation_date":1429440556,"post_id":29099913,"comment_id":47591247,"body_markdown":"`sudo` solved my problem. My `JAVA_HOME` was correct, but I was seeing the same error.","body":"<code>sudo</code> solved my problem. My <code>JAVA_HOME</code> was correct, but I was seeing the same error."}],"tags":[],"owner":{"account_id":5953479,"reputation":79,"user_id":4680867,"display_name":"rohit sawant"},"comment_count":2,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1618851848,"creation_date":1426597669,"answer_id":29099913,"question_id":27319495,"body_markdown":"You should set as it is export `JAVA_HOME=/usr/java/jdk1.8.0_31` and run with `sudo` it will execute as shown below.\r\n\r\n**Example**\r\n\r\n    sudo mvn -v\r\n\r\n\r\n**OUTPUT**\r\n\r\n&lt;pre&gt;&lt;b&gt;Apache Maven 3.6.0&lt;/b&gt;\r\nMaven home: /usr/share/maven\r\nJava version: 11.0.10, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &amp;quot;linux&amp;quot;, version: &amp;quot;5.4.0-70-generic&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;unix&amp;quot;\r\n&lt;/pre&gt;","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>You should set as it is export <code>JAVA_HOME=/usr/java/jdk1.8.0_31</code> and run with <code>sudo</code> it will execute as shown below.</p>\n<p><strong>Example</strong></p>\n<pre><code>sudo mvn -v\n</code></pre>\n<p><strong>OUTPUT</strong></p>\n<pre><b>Apache Maven 3.6.0</b>\nMaven home: /usr/share/maven\nJava version: 11.0.10, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.4.0-70-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</pre>\n"},{"tags":[],"owner":{"account_id":3617176,"reputation":1433,"user_id":3016744,"display_name":"Jad B."},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1442605061,"creation_date":1442605061,"answer_id":32659795,"question_id":27319495,"body_markdown":"Firstly, in a development mode, you should use JDK instead of the JRE.\r\nSecondly, the JAVA_HOME is where you install Java and where all the others frameworks will search for what they need (JRE,javac,...)\r\n\r\nSo if you set\r\n\r\n&gt; JAVA_HOME=/usr/lib/jvm/java-7-oracle/jre/bin/java\r\n\r\nwhen you run a &quot;mvn&quot; command, Maven will try to access to the java by adding /bin/java, thinking that the JAVA_HOME is in the root directory of Java installation.\r\n\r\nBut setting \r\n\r\n&gt; JAVA_HOME=/usr/lib/jvm/java-7-oracle/\r\n\r\nMaven will access add bin/java then it will work just fine.","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>Firstly, in a development mode, you should use JDK instead of the JRE.\nSecondly, the JAVA_HOME is where you install Java and where all the others frameworks will search for what they need (JRE,javac,...)</p>\n\n<p>So if you set</p>\n\n<blockquote>\n  <p>JAVA_HOME=/usr/lib/jvm/java-7-oracle/jre/bin/java</p>\n</blockquote>\n\n<p>when you run a \"mvn\" command, Maven will try to access to the java by adding /bin/java, thinking that the JAVA_HOME is in the root directory of Java installation.</p>\n\n<p>But setting </p>\n\n<blockquote>\n  <p>JAVA_HOME=/usr/lib/jvm/java-7-oracle/</p>\n</blockquote>\n\n<p>Maven will access add bin/java then it will work just fine.</p>\n"},{"tags":[],"owner":{"account_id":967195,"reputation":812,"user_id":5374446,"display_name":"Juan Manuel Garcia Carmona"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1491840872,"creation_date":1460650542,"answer_id":36628570,"question_id":27319495,"body_markdown":"We open a terminal and look for the location of java:\r\n\r\n    manuel@zonademanel:~ → whereis java\r\n\r\n&gt; java: /usr/bin/java /etc/java /usr/bin/X11/java /usr/share/java\r\n&gt; /usr/share/man/man1/java.1.gz\r\n\r\n\r\nWhat we are looking for is /usr/bin/java continue on the command line to find the absolute path , as this is only a symbolic link.\r\n\r\n    manuel@zonademanel:~ → ls -lah /usr/bin/java\r\n\r\n&gt; lrwxrwxrwx 1 root root 22 may 19  2015 /usr/bin/java -&gt;\r\n&gt; /etc/alternatives/java\r\n\r\n    manuel@zonademanel:~ → ls -lah /etc/alternatives/java\r\n\r\n&gt; lrwxrwxrwx 1 root root 39 dic  7 11:52 /etc/alternatives/java -&gt;\r\n&gt; /usr/lib/jvm/java-8-oracle/jre/bin/java\r\n\r\n\r\n\r\n\r\nI modified my **/etc/environment** file with the following values \r\n\r\n&gt; PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:**/usr/lib/jvm/java-8-oracle/jre/bin**&quot;\r\n&gt; JAVA_HOME=&quot;**/usr/lib/jvm/java-8-oracle/jre**&quot;\r\n\r\nIf I do not want to relogin I can reload the changes with:\r\n\r\n    source /etc/environment \r\n\r\n​​And run **mvn -version** correctly\r\n\r\n    manuel@zonademanel:~ → mvn -version\r\n\r\n&gt; Apache Maven 3.0.5&lt;br&gt;\r\n&gt; Maven home: /usr/share/maven&lt;br&gt;\r\n&gt; Java version: 1.8.0_77, vendor: Oracle Corporation&lt;br&gt;\r\n&gt; Java home: /usr/lib/jvm/java-8-oracle/jre&lt;br&gt;\r\n&gt; Default locale: es_MX, platform encoding: UTF-8&lt;br&gt;\r\n&gt; OS name: &quot;linux&quot;, version: &quot;3.16.0-70-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>We open a terminal and look for the location of java:</p>\n\n<pre><code>manuel@zonademanel:~ → whereis java\n</code></pre>\n\n<blockquote>\n  <p>java: /usr/bin/java /etc/java /usr/bin/X11/java /usr/share/java\n  /usr/share/man/man1/java.1.gz</p>\n</blockquote>\n\n<p>What we are looking for is /usr/bin/java continue on the command line to find the absolute path , as this is only a symbolic link.</p>\n\n<pre><code>manuel@zonademanel:~ → ls -lah /usr/bin/java\n</code></pre>\n\n<blockquote>\n  <p>lrwxrwxrwx 1 root root 22 may 19  2015 /usr/bin/java ->\n  /etc/alternatives/java</p>\n</blockquote>\n\n<pre><code>manuel@zonademanel:~ → ls -lah /etc/alternatives/java\n</code></pre>\n\n<blockquote>\n  <p>lrwxrwxrwx 1 root root 39 dic  7 11:52 /etc/alternatives/java ->\n  /usr/lib/jvm/java-8-oracle/jre/bin/java</p>\n</blockquote>\n\n<p>I modified my <strong>/etc/environment</strong> file with the following values </p>\n\n<blockquote>\n  <p>PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:<strong>/usr/lib/jvm/java-8-oracle/jre/bin</strong>\"\n  JAVA_HOME=\"<strong>/usr/lib/jvm/java-8-oracle/jre</strong>\"</p>\n</blockquote>\n\n<p>If I do not want to relogin I can reload the changes with:</p>\n\n<pre><code>source /etc/environment \n</code></pre>\n\n<p>​​And run <strong>mvn -version</strong> correctly</p>\n\n<pre><code>manuel@zonademanel:~ → mvn -version\n</code></pre>\n\n<blockquote>\n  <p>Apache Maven 3.0.5<br>\n  Maven home: /usr/share/maven<br>\n  Java version: 1.8.0_77, vendor: Oracle Corporation<br>\n  Java home: /usr/lib/jvm/java-8-oracle/jre<br>\n  Default locale: es_MX, platform encoding: UTF-8<br>\n  OS name: \"linux\", version: \"3.16.0-70-generic\", arch: \"amd64\", family: \"unix\"</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13749502,"reputation":575,"user_id":9922061,"display_name":"Kimanthi K."},"score":1,"creation_date":1644854635,"post_id":37479837,"comment_id":125709827,"body_markdown":"absolute legend","body":"absolute legend"}],"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1469103485,"creation_date":1464341328,"answer_id":37479837,"question_id":27319495,"body_markdown":"You might get this error due to couple of reasons. To fix this quickly please follow below steps,\r\n\r\nFirst find the java location. To get a list of your installed Java platforms, run the following command from the terminal:\r\n\r\n    $ sudo update-alternatives --config java\r\n\r\nNow set JAVA_HOME and PATH,\r\n\r\n    $ export JAVA_HOME=&lt;java_home&gt;\r\n\r\n    $ export PATH=$JAVA_HOME/jre/bin:$PATH\r\n\r\nCreate the symlink\r\n\r\n    $ sudo ln -s &lt;java_home&gt;/jre &lt;java_symlink_path&gt;\r\n\r\nWhen we take your case as a example :\r\n\r\n    $ sudo ln -s /usr/lib/jvm/java-7-oracle/jre /usr/lib/jvm/java-7-oracle/jre/bin/java\r\n\r\nAbove command will create the symlink location where the system is trying to find in your issue.\r\n\r\nFinally do the \r\n\r\n    $ mvn --version","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>You might get this error due to couple of reasons. To fix this quickly please follow below steps,</p>\n\n<p>First find the java location. To get a list of your installed Java platforms, run the following command from the terminal:</p>\n\n<pre><code>$ sudo update-alternatives --config java\n</code></pre>\n\n<p>Now set JAVA_HOME and PATH,</p>\n\n<pre><code>$ export JAVA_HOME=&lt;java_home&gt;\n\n$ export PATH=$JAVA_HOME/jre/bin:$PATH\n</code></pre>\n\n<p>Create the symlink</p>\n\n<pre><code>$ sudo ln -s &lt;java_home&gt;/jre &lt;java_symlink_path&gt;\n</code></pre>\n\n<p>When we take your case as a example :</p>\n\n<pre><code>$ sudo ln -s /usr/lib/jvm/java-7-oracle/jre /usr/lib/jvm/java-7-oracle/jre/bin/java\n</code></pre>\n\n<p>Above command will create the symlink location where the system is trying to find in your issue.</p>\n\n<p>Finally do the </p>\n\n<pre><code>$ mvn --version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6462334,"reputation":997,"user_id":5005676,"display_name":"Shubham Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497521235,"creation_date":1497520110,"answer_id":44564303,"question_id":27319495,"body_markdown":"It happens because of the reason mentioned below : \r\n\r\nIf you see the mvn script: The code fails here --- \r\n\r\nSteps for debugging and fixing: \r\n\r\nStep 1: Open the mvn script /Users/Username/apache-maven-3.0.5/bin/mvn\r\n(Open with the less command like: less /Users/Username/apache-maven-3.0.5/bin/mvn)\r\n\r\nStep 2: Find out the below code in the script:\r\n\r\n  \r\n\r\n      if [ -z &quot;$JAVACMD&quot; ] ; then\r\n      if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n        if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n          # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n          JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n        else\r\n          JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n        fi\r\n      else\r\n        JAVACMD=&quot;`which java`&quot;\r\n      fi\r\n    fi\r\n\r\n    if [ ! -x &quot;$JAVACMD&quot; ] ; then\r\n      echo &quot;Error: JAVA_HOME is not defined correctly.&quot;\r\n      echo &quot;  We cannot execute $JAVACMD&quot;\r\n      exit 1\r\n    fi\r\n\r\nStep3: It is happening because `JAVACMD` variable was not set. So it displays the error.\r\n\r\nNote: To Fix it \r\n\r\n    export JAVACMD=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/bin/java\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/\r\n\r\nKey: If you want it to be permanent \r\nopen emacs .profile\r\n\r\npost the commands \r\nand press Ctrl-x Ctrl-c ( save-buffers-kill-terminal ).","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>It happens because of the reason mentioned below : </p>\n\n<p>If you see the mvn script: The code fails here --- </p>\n\n<p>Steps for debugging and fixing: </p>\n\n<p>Step 1: Open the mvn script /Users/Username/apache-maven-3.0.5/bin/mvn\n(Open with the less command like: less /Users/Username/apache-maven-3.0.5/bin/mvn)</p>\n\n<p>Step 2: Find out the below code in the script:</p>\n\n<pre><code>  if [ -z \"$JAVACMD\" ] ; then\n  if [ -n \"$JAVA_HOME\"  ] ; then\n    if [ -x \"$JAVA_HOME/jre/sh/java\" ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=\"$JAVA_HOME/jre/sh/java\"\n    else\n      JAVACMD=\"$JAVA_HOME/bin/java\"\n    fi\n  else\n    JAVACMD=\"`which java`\"\n  fi\nfi\n\nif [ ! -x \"$JAVACMD\" ] ; then\n  echo \"Error: JAVA_HOME is not defined correctly.\"\n  echo \"  We cannot execute $JAVACMD\"\n  exit 1\nfi\n</code></pre>\n\n<p>Step3: It is happening because <code>JAVACMD</code> variable was not set. So it displays the error.</p>\n\n<p>Note: To Fix it </p>\n\n<pre><code>export JAVACMD=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/jre/bin/java\n\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home/\n</code></pre>\n\n<p>Key: If you want it to be permanent \nopen emacs .profile</p>\n\n<p>post the commands \nand press Ctrl-x Ctrl-c ( save-buffers-kill-terminal ).</p>\n"},{"tags":[],"owner":{"account_id":3671319,"reputation":1945,"user_id":3058470,"accept_rate":91,"display_name":"ishanbakshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501043790,"creation_date":1501043790,"answer_id":45317562,"question_id":27319495,"body_markdown":"If you are using mac-OS , `export JAVA_HOME=/usr/libexec/java_home` need to be changed to `export JAVA_HOME=$(/usr/libexec/java_home)` . \r\nSteps to do this :  \r\n   \r\n     $ vim .bash_profile\r\n\r\n     export JAVA_HOME=$(/usr/libexec/java_home)\r\n\r\n     $ source .bash_profile\r\n\r\n\r\nwhere `/usr/libexec/java_home` is the path of your jvm \r\n","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>If you are using mac-OS , <code>export JAVA_HOME=/usr/libexec/java_home</code> need to be changed to <code>export JAVA_HOME=$(/usr/libexec/java_home)</code> . \nSteps to do this :  </p>\n\n<pre><code> $ vim .bash_profile\n\n export JAVA_HOME=$(/usr/libexec/java_home)\n\n $ source .bash_profile\n</code></pre>\n\n<p>where <code>/usr/libexec/java_home</code> is the path of your jvm </p>\n"},{"tags":[],"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522001463,"creation_date":1522001463,"answer_id":49479179,"question_id":27319495,"body_markdown":"Use these two commands (for Java 8):\r\n\r\n    sudo update-java-alternatives --set java-8-oracle\r\n    java -XshowSettings 2&gt;&amp;1 | grep -e &#39;java.home&#39; | awk &#39;{print &quot;JAVA_HOME=&quot;$3}&#39; | sed &quot;s/\\/jre//g&quot; &gt;&gt; /etc/environment","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>Use these two commands (for Java 8):</p>\n\n<pre><code>sudo update-java-alternatives --set java-8-oracle\njava -XshowSettings 2&gt;&amp;1 | grep -e 'java.home' | awk '{print \"JAVA_HOME=\"$3}' | sed \"s/\\/jre//g\" &gt;&gt; /etc/environment\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11453781,"reputation":31,"user_id":8395487,"display_name":"Mohit Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531028076,"creation_date":1531028076,"answer_id":51229134,"question_id":27319495,"body_markdown":"This solution work for me...\r\njust type \r\n`export PATH=$JAVA_HOME/jre/bin:$PATH` in the terminal\r\nthen run `mvn -version`\r\nit will show the same error but with a log like this\r\n\r\n    which: no javac in (/jre/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/puppetlabs/bin)\r\n    Warning: JAVA_HOME environment variable is not set.\r\n    Apache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T22:59:23+05:30)\r\n    Maven home: /opt/apache-maven-3.2.5\r\n    Java version: 1.8.0_171, vendor: Oracle Corporation\r\n    Java home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre\r\n    Default locale: en_US, platform encoding: UTF-8\r\n    OS name: &quot;linux&quot;, version: &quot;3.10.0-693.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n\r\nnow copy the `Java home` path i.e. `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre` in my case.\r\n\r\nnow type,\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre\r\n\r\nand the error gets resolve.\r\nNOTE: paste your own path which is shown by your machine in mvn log at export JAVA_HOME.\r\n ","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>This solution work for me...\njust type \n<code>export PATH=$JAVA_HOME/jre/bin:$PATH</code> in the terminal\nthen run <code>mvn -version</code>\nit will show the same error but with a log like this</p>\n\n<pre><code>which: no javac in (/jre/bin:/sbin:/bin:/usr/sbin:/usr/bin:/opt/puppetlabs/bin)\nWarning: JAVA_HOME environment variable is not set.\nApache Maven 3.2.5 (12a6b3acb947671f09b81f49094c53f426d8cea1; 2014-12-14T22:59:23+05:30)\nMaven home: /opt/apache-maven-3.2.5\nJava version: 1.8.0_171, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre\nDefault locale: en_US, platform encoding: UTF-8\nOS name: \"linux\", version: \"3.10.0-693.el7.x86_64\", arch: \"amd64\", family: \"unix\"\n</code></pre>\n\n<p>now copy the <code>Java home</code> path i.e. <code>/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre</code> in my case.</p>\n\n<p>now type,</p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.171-8.b10.el7_5.x86_64/jre\n</code></pre>\n\n<p>and the error gets resolve.\nNOTE: paste your own path which is shown by your machine in mvn log at export JAVA_HOME.</p>\n"},{"tags":[],"owner":{"account_id":16600574,"reputation":11,"user_id":11996360,"display_name":"Pedrojonassm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567107776,"creation_date":1567107776,"answer_id":57716861,"question_id":27319495,"body_markdown":"In my case, the problem was in vscode.\r\n\r\nI use windows and installed Ubuntu on my computer, so vscode terminal uses the Ubuntu. I just go to settings.json and change to cmd.exe again","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>In my case, the problem was in vscode.</p>\n\n<p>I use windows and installed Ubuntu on my computer, so vscode terminal uses the Ubuntu. I just go to settings.json and change to cmd.exe again</p>\n"},{"tags":[],"owner":{"account_id":5280468,"reputation":191,"user_id":4216024,"display_name":"larisoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603397256,"creation_date":1603397256,"answer_id":64489793,"question_id":27319495,"body_markdown":"I had this same issue but with open jdk and none of the answers here helped. The trouble was that the mvn script was appending /bin/java at the end of JAVA home while trying to run java commands.\r\n\r\nThe solution for me was to manually edit the /usr/local/apache-maven/apache-maven-3.3.9/bin/mvn script (your own script might be installed differently; just run which mvn) and change \r\n\r\n \r\n\r\n       if [ -z &quot;$JAVACMD&quot; ] ; then\r\n      if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n        if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n          # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n          JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n        else\r\n          JAVACMD=&quot;$JAVA_HOME/bin/java&quot; \r\n        fi\r\n      else\r\n        JAVACMD=&quot;`which java`&quot;\r\n      fi\r\n     fi\r\n\r\n  \r\n\r\n\r\nTo \r\n\r\n    if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n        if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n          # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n          JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n        else \r\n          JAVACMD=&quot;$JAVA_HOME&quot;\r\n        fi\r\n      else\r\n        JAVACMD=&quot;`which java`&quot;\r\n      fi\r\n    fi\r\n\r\n","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>I had this same issue but with open jdk and none of the answers here helped. The trouble was that the mvn script was appending /bin/java at the end of JAVA home while trying to run java commands.</p>\n<p>The solution for me was to manually edit the /usr/local/apache-maven/apache-maven-3.3.9/bin/mvn script (your own script might be installed differently; just run which mvn) and change</p>\n<pre><code>   if [ -z &quot;$JAVACMD&quot; ] ; then\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot; \n    fi\n  else\n    JAVACMD=&quot;`which java`&quot;\n  fi\n fi\n</code></pre>\n<p>To</p>\n<pre><code>if [ -n &quot;$JAVA_HOME&quot;  ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else \n      JAVACMD=&quot;$JAVA_HOME&quot;\n    fi\n  else\n    JAVACMD=&quot;`which java`&quot;\n  fi\nfi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1086232,"reputation":2561,"user_id":1081884,"accept_rate":27,"display_name":"Flavio Troia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645185493,"creation_date":1645185493,"answer_id":71173102,"question_id":27319495,"body_markdown":"add in .bash_profile\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    export PATH=$JAVA_HOME/jre/bin:$PATH\r\n\r\nand then\r\n\r\nsource .bash_profile","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>add in .bash_profile</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nexport PATH=$JAVA_HOME/jre/bin:$PATH\n</code></pre>\n<p>and then</p>\n<p>source .bash_profile</p>\n"},{"tags":[],"owner":{"account_id":3051666,"reputation":844,"user_id":3073031,"accept_rate":82,"display_name":"eccentricCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672742128,"creation_date":1672742128,"answer_id":74992159,"question_id":27319495,"body_markdown":"I had similar issue and it was not getting resolved even after editing and sourcing the .bash_profile, .bashrc file. I got it resolved by editing the maven.sh file directly.\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\r\n    export M2_HOME=/opt/maven\r\n    export M2=/opt/maven/bin\r\n    export PATH=$PATH:$HOME/bin:$JAVA_HOME:$M2HOME:$M2\r\n\r\nand then sourcing the file\r\n\r\n    source /etc/profile.d/maven.sh\r\n\r\nFor those who didnt get they issue resolved with other answers, give this a try as well.","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>I had similar issue and it was not getting resolved even after editing and sourcing the .bash_profile, .bashrc file. I got it resolved by editing the maven.sh file directly.</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.amzn2.0.1.x86_64\nexport M2_HOME=/opt/maven\nexport M2=/opt/maven/bin\nexport PATH=$PATH:$HOME/bin:$JAVA_HOME:$M2HOME:$M2\n</code></pre>\n<p>and then sourcing the file</p>\n<pre><code>source /etc/profile.d/maven.sh\n</code></pre>\n<p>For those who didnt get they issue resolved with other answers, give this a try as well.</p>\n"},{"tags":[],"owner":{"account_id":2623171,"reputation":165,"user_id":3229228,"display_name":"Pyetro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698301286,"creation_date":1698301286,"answer_id":77364545,"question_id":27319495,"body_markdown":"If you don&#39;t know the java installation path, installations usually create a symlink.\r\nUsing this symlink that doesn&#39;t change regardless of the version, you can paste this line into your .bashrc:\r\n\r\n```bashrc\r\n# .bashrc\r\nexport JAVA_HOME=&quot;$(realpath /etc/alternatives/java | sed -E &#39;s/(.*)((\\/[^/]+){2,})/\\1/g&#39;)&quot;\r\n```\r\n\r\nThe realpath function returns the absolute path of the symlink.\r\nThen the sed function does a replace with regex, removing two parts from the end.\r\n\r\n**I haven&#39;t tested what I&#39;m going to say next, it&#39;s a guess...**\r\nIt can be useful if you use several versions, because if you change the version with ```sudo update-alternatives --config java```, the reference already points to the current version, **IF the symlink is changed automatically**.","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>If you don't know the java installation path, installations usually create a symlink.\nUsing this symlink that doesn't change regardless of the version, you can paste this line into your .bashrc:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># .bashrc\nexport JAVA_HOME=&quot;$(realpath /etc/alternatives/java | sed -E 's/(.*)((\\/[^/]+){2,})/\\1/g')&quot;\n</code></pre>\n<p>The realpath function returns the absolute path of the symlink.\nThen the sed function does a replace with regex, removing two parts from the end.</p>\n<p><strong>I haven't tested what I'm going to say next, it's a guess...</strong>\nIt can be useful if you use several versions, because if you change the version with <code>sudo update-alternatives --config java</code>, the reference already points to the current version, <strong>IF the symlink is changed automatically</strong>.</p>\n"}],"owner":{"account_id":3763802,"reputation":6373,"user_id":3127896,"accept_rate":58,"display_name":"user3127896"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246022,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":28686920,"answer_count":17,"score":81,"last_activity_date":1698301286,"creation_date":1417794019,"question_id":27319495,"body_markdown":"I installed java and set the path environment and when I run `echo $JAVA_HOME` in the terminal I get the following output:\r\n\r\n    /usr/lib/jvm/java-7-oracle/jre/bin/java\r\n\r\nI Also installed `apache-maven` and changed `environment` file and now it looks like this:\r\n\r\n    JAVA_HOME=&quot;/usr/lib/jvm/java-7-oracle/jre/bin/java&quot;\r\n    M2_HOME=/usr/local/apache-maven/apache-maven-3.0.5\r\n    M2=$M2_HOME/bin\r\n    MAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;\r\n    PATH=$M2:$PATH\r\n\r\nBut when I execute `mvn --version` I get a warning:\r\n\r\n    Error: JAVA_HOME is not defined correctly.\r\n      We cannot execute /usr/lib/jvm/java-7-oracle/jre/bin/java/bin/java\r\n\r\nCan not find out why it repeats in the end `/bin/java/bin/java`","title":"Error: JAVA_HOME is not defined correctly executing maven","body":"<p>I installed java and set the path environment and when I run <code>echo $JAVA_HOME</code> in the terminal I get the following output:</p>\n<pre><code>/usr/lib/jvm/java-7-oracle/jre/bin/java\n</code></pre>\n<p>I Also installed <code>apache-maven</code> and changed <code>environment</code> file and now it looks like this:</p>\n<pre><code>JAVA_HOME=&quot;/usr/lib/jvm/java-7-oracle/jre/bin/java&quot;\nM2_HOME=/usr/local/apache-maven/apache-maven-3.0.5\nM2=$M2_HOME/bin\nMAVEN_OPTS=&quot;-Xms256m -Xmx512m&quot;\nPATH=$M2:$PATH\n</code></pre>\n<p>But when I execute <code>mvn --version</code> I get a warning:</p>\n<pre><code>Error: JAVA_HOME is not defined correctly.\n  We cannot execute /usr/lib/jvm/java-7-oracle/jre/bin/java/bin/java\n</code></pre>\n<p>Can not find out why it repeats in the end <code>/bin/java/bin/java</code></p>\n"},{"tags":["java","plugins","webview","uiwebview","intellij-plugin"],"owner":{"account_id":24936117,"reputation":21,"user_id":18802684,"display_name":"chaitanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698300651,"creation_date":1698299972,"question_id":77364435,"body_markdown":"Im trying to create a plugin with intellij, i&#39;m able to create Tool Window with button, after that i want to open any html view. Can anyone help me im new to this, with the help of document i done below example code\r\n\r\n[![enter image description here](https://i.stack.imgur.com/oYspb.png)](https://i.stack.imgur.com/oYspb.png)\r\n\r\n```\r\n&lt;toolWindow  factoryClass=&quot;ui.ListPBToolWindowFactory&quot; id=&quot;Test Tool Window&quot;\r\n                    anchor=&quot;left&quot; secondary=&quot;true&quot;/&gt;\t\t\t\t\r\npackage ui;\r\nimport com.intellij.openapi.project.Project;\r\nimport com.intellij.openapi.ui.Messages;\r\nimport com.intellij.openapi.wm.ToolWindow;\r\nimport com.intellij.openapi.wm.ToolWindowFactory;\r\nimport com.intellij.ui.content.Content;\r\nimport com.intellij.ui.content.ContentFactory;\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\npublic class ListPBToolWindowFactory implements ToolWindowFactory {\r\n    @Override\r\n    public void createToolWindowContent(@NotNull Project project, @NotNull ToolWindow toolWindow) {\r\n        Messages.showInfoMessage(&quot;tset&quot;,&quot;info&quot;);\r\n        ListPBToolWindow listPBToolWindow = new ListPBToolWindow();\r\n        ContentFactory contentFactory = ContentFactory.SERVICE.getInstance();\r\n        try {\r\n            Content content = contentFactory.createContent(listPBToolWindow.getContent(), &quot;&quot;, false);\r\n            toolWindow.getContentManager().addContent(content);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n    package ui; import com.intellij.openapi.actionSystem.*;import com.intellij.openapi.ui.Messages;import com.intellij.openapi.ui.SimpleToolWindowPanel;import javax.swing.*;import java.awt.*;import java.io.IOException;import java.net.URISyntaxException;import java.util.ResourceBundle;public class ListPBToolWindow {private ResourceBundle resourceBundle;private SimpleToolWindowPanel toolWindowPanel;\r\n    public ListPBToolWindow() {\r\n        resourceBundle = ResourceBundle.getBundle(&quot;ActionBundle&quot;);\r\n        toolWindowPanel = new SimpleToolWindowPanel(true, false);\r\n        ActionManager actionManager = ActionManager.getInstance();\r\n    } public JPanel getContent() throws Exception {\r\n        JPanel controlsPanel = new JPanel();\r\n        JButton refreshDateAndTimeButton = new JButton(&quot;Test Button&quot;);\r\n        refreshDateAndTimeButton.addActionListener(e -&gt; {\r\n            try {\r\n                if (new SampleDialogWrapper().showAndGet()) {\r\n                    Messages.showInfoMessage(&quot;OK CLicked&quot;,&quot;info&quot;);\r\n                }\r\n                testMethod();\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(ex);\r\n            } catch (URISyntaxException ex) {\r\n                throw new RuntimeException(ex);\r\n            }\r\n        });\r\n        controlsPanel.add(refreshDateAndTimeButton);\r\n        toolWindowPanel.removeAll(); \r\n        toolWindowPanel.add(controlsPanel, BorderLayout.WEST);\r\n        return toolWindowPanel;\r\n    }\r\n\r\ni&#39;m expecting webview window tab view, want to render html content (javascript)","title":"open Webview as full screen tab intellij plugin development","body":"<p>Im trying to create a plugin with intellij, i'm able to create Tool Window with button, after that i want to open any html view. Can anyone help me im new to this, with the help of document i done below example code</p>\n<p><a href=\"https://i.stack.imgur.com/oYspb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYspb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;toolWindow  factoryClass=&quot;ui.ListPBToolWindowFactory&quot; id=&quot;Test Tool Window&quot;\n                    anchor=&quot;left&quot; secondary=&quot;true&quot;/&gt;                \npackage ui;\nimport com.intellij.openapi.project.Project;\nimport com.intellij.openapi.ui.Messages;\nimport com.intellij.openapi.wm.ToolWindow;\nimport com.intellij.openapi.wm.ToolWindowFactory;\nimport com.intellij.ui.content.Content;\nimport com.intellij.ui.content.ContentFactory;\nimport org.jetbrains.annotations.NotNull;\n\npublic class ListPBToolWindowFactory implements ToolWindowFactory {\n    @Override\n    public void createToolWindowContent(@NotNull Project project, @NotNull ToolWindow toolWindow) {\n        Messages.showInfoMessage(&quot;tset&quot;,&quot;info&quot;);\n        ListPBToolWindow listPBToolWindow = new ListPBToolWindow();\n        ContentFactory contentFactory = ContentFactory.SERVICE.getInstance();\n        try {\n            Content content = contentFactory.createContent(listPBToolWindow.getContent(), &quot;&quot;, false);\n            toolWindow.getContentManager().addContent(content);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>package ui; import com.intellij.openapi.actionSystem.*;import com.intellij.openapi.ui.Messages;import com.intellij.openapi.ui.SimpleToolWindowPanel;import javax.swing.*;import java.awt.*;import java.io.IOException;import java.net.URISyntaxException;import java.util.ResourceBundle;public class ListPBToolWindow {private ResourceBundle resourceBundle;private SimpleToolWindowPanel toolWindowPanel;\npublic ListPBToolWindow() {\n    resourceBundle = ResourceBundle.getBundle(&quot;ActionBundle&quot;);\n    toolWindowPanel = new SimpleToolWindowPanel(true, false);\n    ActionManager actionManager = ActionManager.getInstance();\n} public JPanel getContent() throws Exception {\n    JPanel controlsPanel = new JPanel();\n    JButton refreshDateAndTimeButton = new JButton(&quot;Test Button&quot;);\n    refreshDateAndTimeButton.addActionListener(e -&gt; {\n        try {\n            if (new SampleDialogWrapper().showAndGet()) {\n                Messages.showInfoMessage(&quot;OK CLicked&quot;,&quot;info&quot;);\n            }\n            testMethod();\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        } catch (URISyntaxException ex) {\n            throw new RuntimeException(ex);\n        }\n    });\n    controlsPanel.add(refreshDateAndTimeButton);\n    toolWindowPanel.removeAll(); \n    toolWindowPanel.add(controlsPanel, BorderLayout.WEST);\n    return toolWindowPanel;\n}\n</code></pre>\n<p>i'm expecting webview window tab view, want to render html content (javascript)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":2,"creation_date":1378096666,"post_id":18565701,"comment_id":27315415,"body_markdown":"See this thread http://stackoverflow.com/questions/11112602/why-does-stringbuffer-stringbuilder-not-override-equals-or-hashcode and http://stackoverflow.com/questions/11007387/what-is-an-efficient-way-to-compare-stringbuilder-objects","body":"See this thread <a href=\"http://stackoverflow.com/questions/11112602/why-does-stringbuffer-stringbuilder-not-override-equals-or-hashcode\" title=\"why does stringbuffer stringbuilder not override equals or hashcode\">stackoverflow.com/questions/11112602/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/11007387/what-is-an-efficient-way-to-compare-stringbuilder-objects\" title=\"what is an efficient way to compare stringbuilder objects\">stackoverflow.com/questions/11007387/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":41020,"reputation":7645,"user_id":119123,"display_name":"tschaible"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541766118,"creation_date":1378096658,"answer_id":18565729,"question_id":18565701,"body_markdown":"The default implementation of `.equals` for the `Object` class is as you mentioned.\r\n\r\nOther classes can override this behavior.  `StringBuilder` is not one of them.\r\n\r\nString is one of them, which overrides it to ensure that the String representations of both objects result in the same sequence of characters.  [String API][1]\r\n\r\nRefer to the documentation for the specific object in question.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29","title":"StringBuilder .equals Java","body":"<p>The default implementation of <code>.equals</code> for the <code>Object</code> class is as you mentioned.</p>\n\n<p>Other classes can override this behavior.  <code>StringBuilder</code> is not one of them.</p>\n\n<p>String is one of them, which overrides it to ensure that the String representations of both objects result in the same sequence of characters.  <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\" rel=\"nofollow noreferrer\">String API</a></p>\n\n<p>Refer to the documentation for the specific object in question.</p>\n"},{"comments":[{"owner":{"account_id":210685,"reputation":6675,"user_id":462445,"accept_rate":82,"display_name":"Algorithmist"},"score":1,"creation_date":1378096941,"post_id":18565731,"comment_id":27315489,"body_markdown":"do you know why StringBuilder does not override equals() method.It seems strange.","body":"do you know why StringBuilder does not override equals() method.It seems strange."},{"owner":{"account_id":3021480,"reputation":2568,"user_id":2562421,"accept_rate":88,"display_name":"hotforfeature"},"score":7,"creation_date":1378097210,"post_id":18565731,"comment_id":27315557,"body_markdown":"Essentially, if I had to guess, if you have two StringBuilders, you&#39;re more likely to test if they&#39;re the same StringBuilder that&#39;s been building your string rather than two different builders with the same string. I can&#39;t think of many cases where two different instantiated StringBuilders would be building the same thing.","body":"Essentially, if I had to guess, if you have two StringBuilders, you&#39;re more likely to test if they&#39;re the same StringBuilder that&#39;s been building your string rather than two different builders with the same string. I can&#39;t think of many cases where two different instantiated StringBuilders would be building the same thing."},{"owner":{"display_name":"user5813538"},"score":1,"creation_date":1462656019,"post_id":18565731,"comment_id":61731292,"body_markdown":"Regarding your 1st sentence, I thought &quot;==&quot; tested references, and &quot;.equals()&quot; tested object values?","body":"Regarding your 1st sentence, I thought &quot;==&quot; tested references, and &quot;.equals()&quot; tested object values?"},{"owner":{"account_id":13856648,"reputation":1610,"user_id":10003284,"display_name":"milad salimi"},"score":0,"creation_date":1599994337,"post_id":18565731,"comment_id":112942533,"body_markdown":"I think StringBuilder() cant compare object values just this!!","body":"I think StringBuilder() cant compare object values just this!!"}],"tags":[],"owner":{"account_id":3021480,"reputation":2568,"user_id":2562421,"accept_rate":88,"display_name":"hotforfeature"},"comment_count":4,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1698300431,"creation_date":1378096664,"answer_id":18565731,"question_id":18565701,"body_markdown":"Yes, `StringBuilder` does *not* override `Object`&#39;s `.equals()` function, which means the two object references are not the same and the result is `false`.\r\n\r\nFor `StringBuilder`, you could use `s1.toString().equals(s2.toString())`\r\n\r\nFor your edit, you&#39;re calling the `==` operator on two different String objects. The `==` operator will return false because the objects are different. To compare Strings, you need to use `String.equals()` or `String.equalsIgnoreCase()`\r\n\r\nIt&#39;s the same problem you were having earlier. ","title":"StringBuilder .equals Java","body":"<p>Yes, <code>StringBuilder</code> does <em>not</em> override <code>Object</code>'s <code>.equals()</code> function, which means the two object references are not the same and the result is <code>false</code>.</p>\n<p>For <code>StringBuilder</code>, you could use <code>s1.toString().equals(s2.toString())</code></p>\n<p>For your edit, you're calling the <code>==</code> operator on two different String objects. The <code>==</code> operator will return false because the objects are different. To compare Strings, you need to use <code>String.equals()</code> or <code>String.equalsIgnoreCase()</code></p>\n<p>It's the same problem you were having earlier.</p>\n"},{"tags":[],"owner":{"account_id":3025697,"reputation":2098,"user_id":2565773,"accept_rate":40,"display_name":"pfrank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541765923,"creation_date":1378096755,"answer_id":18565749,"question_id":18565701,"body_markdown":"Agreed with both of the above responses, but I&#39;m worth noting to actually compare contents you can do:\r\n\r\n \r\n\r\n    System.out.println(s1.toString().equals(s2.toString())); //Line 1","title":"StringBuilder .equals Java","body":"<p>Agreed with both of the above responses, but I'm worth noting to actually compare contents you can do:</p>\n\n<pre><code>System.out.println(s1.toString().equals(s2.toString())); //Line 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1378096776,"creation_date":1378096776,"answer_id":18565752,"question_id":18565701,"body_markdown":"The `StringBuilder` class does not provide an overriden `equals()` method. As such, when that method is called on an instance of `StringBuilder`, the `Object` class implementation of the method is executed, since `StringBuilder extends Object`.\r\n\r\nThe source code for that is\r\n\r\n    public boolean equals(Object obj) {\r\n        return (this == obj);\r\n    }\r\n\r\nWhich simply compares reference equality.","title":"StringBuilder .equals Java","body":"<p>The <code>StringBuilder</code> class does not provide an overriden <code>equals()</code> method. As such, when that method is called on an instance of <code>StringBuilder</code>, the <code>Object</code> class implementation of the method is executed, since <code>StringBuilder extends Object</code>.</p>\n\n<p>The source code for that is</p>\n\n<pre><code>public boolean equals(Object obj) {\n    return (this == obj);\n}\n</code></pre>\n\n<p>Which simply compares reference equality.</p>\n"},{"tags":[],"owner":{"account_id":2787997,"reputation":14139,"user_id":2398886,"accept_rate":86,"display_name":"Tarsem Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559023293,"creation_date":1378097374,"answer_id":18565835,"question_id":18565701,"body_markdown":"for your first answer check @abmitchell &#39;s Answer \r\n\r\n**And for your Edit:**\r\n\r\nIn Java, String is an object and we can&#39;t compare objects for value equality by using `==`\r\n\r\n`==` is used for comparing primitives values or object references.\r\n\r\nTo compare Object values we use `equals()` in Java","title":"StringBuilder .equals Java","body":"<p>for your first answer check @abmitchell 's Answer </p>\n\n<p><strong>And for your Edit:</strong></p>\n\n<p>In Java, String is an object and we can't compare objects for value equality by using <code>==</code></p>\n\n<p><code>==</code> is used for comparing primitives values or object references.</p>\n\n<p>To compare Object values we use <code>equals()</code> in Java</p>\n"},{"tags":[],"owner":{"account_id":3188199,"reputation":909,"user_id":2693219,"display_name":"very9527"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541766054,"creation_date":1378097473,"answer_id":18565856,"question_id":18565701,"body_markdown":"`StringBuilder` and `StringBuffer` not override the equals function of `Object` class.but string override the `equals` method.\r\nthe function of `Object` is this\r\n\r\n    public boolean equals(Object obj) {\r\n        return (this == obj);\r\n        }\r\n\r\nyou could write your code like this.\r\n\r\n    System.out.println(s1.toString() == s2.toString());\r\n    System.out.println(s1.toString().equals(s2.toString()));","title":"StringBuilder .equals Java","body":"<p><code>StringBuilder</code> and <code>StringBuffer</code> not override the equals function of <code>Object</code> class.but string override the <code>equals</code> method.\nthe function of <code>Object</code> is this</p>\n\n<pre><code>public boolean equals(Object obj) {\n    return (this == obj);\n    }\n</code></pre>\n\n<p>you could write your code like this.</p>\n\n<pre><code>System.out.println(s1.toString() == s2.toString());\nSystem.out.println(s1.toString().equals(s2.toString()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2171736,"reputation":4684,"user_id":1923551,"display_name":"user1923551"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541765964,"creation_date":1386677527,"answer_id":20494203,"question_id":18565701,"body_markdown":"`StringBuilder` class doesn&#39;t have the implementation of `equals()` method like one in the `String` class. \r\n\r\nSo it executes default Object class functionality, which again checks only for address equivalency, which is not same in this case. so it prints false.\r\n\r\n**Note 1**: You can use `==` operator on objects also, but it simply checks if the address of both the objects are same or not.\r\n\r\n**Note 2**: `==` operator plays good role in comparing two String objects created in string constant pool, to find out if it is really creating a new object in string constant pool or not.\r\n\r\n","title":"StringBuilder .equals Java","body":"<p><code>StringBuilder</code> class doesn't have the implementation of <code>equals()</code> method like one in the <code>String</code> class. </p>\n\n<p>So it executes default Object class functionality, which again checks only for address equivalency, which is not same in this case. so it prints false.</p>\n\n<p><strong>Note 1</strong>: You can use <code>==</code> operator on objects also, but it simply checks if the address of both the objects are same or not.</p>\n\n<p><strong>Note 2</strong>: <code>==</code> operator plays good role in comparing two String objects created in string constant pool, to find out if it is really creating a new object in string constant pool or not.</p>\n"},{"comments":[{"owner":{"account_id":2772116,"reputation":2797,"user_id":2386514,"accept_rate":100,"display_name":"Jonathan E. Landrum"},"score":0,"creation_date":1572355656,"post_id":24082738,"comment_id":103527492,"body_markdown":"*&quot;Check the contract of equals method&quot;* excellent explanation of why StringBuilder does not implement `.equals()`. Great answer.","body":"<i>&quot;Check the contract of equals method&quot;</i> excellent explanation of why StringBuilder does not implement <code>.equals()</code>. Great answer."},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":0,"creation_date":1626347726,"post_id":24082738,"comment_id":120871643,"body_markdown":"I&#39;m sorry, but this remains a violation of least astonishment.  Take your interpretation of the charter: &quot;if the objects are not modified&quot;.  Well the objects _are_ modified.  The goal of the equals() method is an evaluation of the functional equivalence of two objects.  &quot;Consistency&quot;, by your assessment, would never be violated by any object because no object, mutable or otherwise, would fall into that category.  The moment mutation happens to an object (e.g. `.append()`), the contract of the equals() _should always_ reflect a contents change.","body":"I&#39;m sorry, but this remains a violation of least astonishment.  Take your interpretation of the charter: &quot;if the objects are not modified&quot;.  Well the objects <i>are</i> modified.  The goal of the equals() method is an evaluation of the functional equivalence of two objects.  &quot;Consistency&quot;, by your assessment, would never be violated by any object because no object, mutable or otherwise, would fall into that category.  The moment mutation happens to an object (e.g. <code>.append()</code>), the contract of the equals() <i>should always</i> reflect a contents change."}],"tags":[],"owner":{"account_id":4577000,"reputation":2069,"user_id":3715202,"display_name":"jade"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1541765909,"creation_date":1402060387,"answer_id":24082738,"question_id":18565701,"body_markdown":"Check the contract of `equals` method:\r\n\r\n it must be consistent (if the objects are not modified, then it must keep returning the same value).\r\n\r\nThat&#39;s why StringBuilder does not override it regardless of its content. \r\n\r\nLet&#39;s take example above.\r\n\r\n\t\t StringBuilder s1 = new StringBuilder(&quot;Test&quot;);\r\n         StringBuilder s2 = new StringBuilder(&quot;Test&quot;);\r\n\t\t \r\nMaybe, to you it is expected that `s1.equals(s2)` returns `true` due to current run time values.\r\n\r\nBut what about if you change add line:\r\n\r\n\t\ts1.append(&quot;abc&quot;);\r\n\t\t\r\nThen s1 and s2 will have different string contents and `s1.equals(s2)` is expected to be `false`. But it is in contradiction with consistency.","title":"StringBuilder .equals Java","body":"<p>Check the contract of <code>equals</code> method:</p>\n\n<p>it must be consistent (if the objects are not modified, then it must keep returning the same value).</p>\n\n<p>That's why StringBuilder does not override it regardless of its content. </p>\n\n<p>Let's take example above.</p>\n\n<pre><code>     StringBuilder s1 = new StringBuilder(\"Test\");\n     StringBuilder s2 = new StringBuilder(\"Test\");\n</code></pre>\n\n<p>Maybe, to you it is expected that <code>s1.equals(s2)</code> returns <code>true</code> due to current run time values.</p>\n\n<p>But what about if you change add line:</p>\n\n<pre><code>    s1.append(\"abc\");\n</code></pre>\n\n<p>Then s1 and s2 will have different string contents and <code>s1.equals(s2)</code> is expected to be <code>false</code>. But it is in contradiction with consistency.</p>\n"},{"tags":[],"owner":{"account_id":15581907,"reputation":326,"user_id":11752559,"display_name":"Shadab Hashmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647844715,"creation_date":1647844715,"answer_id":71553645,"question_id":18565701,"body_markdown":"Since StringBuilder does not have a **equals** method, it is best to first change the StringBuilder to String and then check equality.\r\nEg - `sb1.toString().equals(sb2.toString())`.\r\n\r\nNote: The **==** operator or `sb1 == sb2` will never work here because the two StringBuilder(s) are completely different objects.","title":"StringBuilder .equals Java","body":"<p>Since StringBuilder does not have a <strong>equals</strong> method, it is best to first change the StringBuilder to String and then check equality.\nEg - <code>sb1.toString().equals(sb2.toString())</code>.</p>\n<p>Note: The <strong>==</strong> operator or <code>sb1 == sb2</code> will never work here because the two StringBuilder(s) are completely different objects.</p>\n"},{"tags":[],"owner":{"account_id":15066387,"reputation":144,"user_id":10873380,"display_name":"floxbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650282460,"creation_date":1650282460,"answer_id":71911399,"question_id":18565701,"body_markdown":"As others have said, ```StringBuilder``` does not override ```equals```. However, it does implement ```Comparable``` (since Java 11). Therefore, you can check ```s1.compareTo(s2) == 0``` to find out if the string representations are equal.","title":"StringBuilder .equals Java","body":"<p>As others have said, <code>StringBuilder</code> does not override <code>equals</code>. However, it does implement <code>Comparable</code> (since Java 11). Therefore, you can check <code>s1.compareTo(s2) == 0</code> to find out if the string representations are equal.</p>\n"}],"owner":{"account_id":2982648,"reputation":3211,"user_id":2532299,"accept_rate":73,"display_name":"Varun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59403,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":18565731,"answer_count":10,"score":34,"last_activity_date":1698300431,"creation_date":1378096451,"question_id":18565701,"body_markdown":"    class strb\r\n    {\r\n    \r\n    \tstatic public void main(String...string)\r\n    \t{\r\n             StringBuilder s1 = new StringBuilder(&quot;Test&quot;);\r\n             StringBuilder s2 = new StringBuilder(&quot;Test&quot;);\r\n    \r\n             System.out.println(s1); // output: Test\r\n             System.out.println(s2); // Test\r\n             System.out.println(s1==s2); // false\r\n             System.out.println(s1.equals(s2)); //Line 1 output: false\r\n             System.out.println(s1.toString()==s2.toString()); //Line 2 output: false\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nJust have a quick question on .equals.\r\n\r\nRegardless of the object content, does `.equals` return true only if both the object references point to the same object ?\r\n\r\n-------------------------\r\n\r\n**EDIT** : Now I understand the part about the `.equals` but why does Line 2 not return `true` ?\r\n\r\n**EDIT** : I believe `==` looks at the reference variable&#39;s address and so s1 and s2 cannot be equal.correct me if my assumption is not right","title":"StringBuilder .equals Java","body":"<pre><code>class strb\n{\n\n    static public void main(String...string)\n    {\n         StringBuilder s1 = new StringBuilder(&quot;Test&quot;);\n         StringBuilder s2 = new StringBuilder(&quot;Test&quot;);\n\n         System.out.println(s1); // output: Test\n         System.out.println(s2); // Test\n         System.out.println(s1==s2); // false\n         System.out.println(s1.equals(s2)); //Line 1 output: false\n         System.out.println(s1.toString()==s2.toString()); //Line 2 output: false\n    }\n\n}\n</code></pre>\n<p>Just have a quick question on .equals.</p>\n<p>Regardless of the object content, does <code>.equals</code> return true only if both the object references point to the same object ?</p>\n<hr />\n<p><strong>EDIT</strong> : Now I understand the part about the <code>.equals</code> but why does Line 2 not return <code>true</code> ?</p>\n<p><strong>EDIT</strong> : I believe <code>==</code> looks at the reference variable's address and so s1 and s2 cannot be equal.correct me if my assumption is not right</p>\n"},{"tags":["java","spring-security","jwt","authorization"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1698082981,"post_id":77347192,"comment_id":136357602,"body_markdown":"What is the Spring Security version you&#39;re planning to use? Based on that you&#39;ll need to implement OAuth2 either by using spring-security-oauth2 or spring-authorization-server.","body":"What is the Spring Security version you&#39;re planning to use? Based on that you&#39;ll need to implement OAuth2 either by using spring-security-oauth2 or spring-authorization-server."},{"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"score":0,"creation_date":1698090386,"post_id":77347192,"comment_id":136358785,"body_markdown":"Version 6.1.5, latest on current date. \nYes, I understand my authorization flow is quite similar to OAuth2, but do you really think OAuth2 will solve my problem?","body":"Version 6.1.5, latest on current date.  Yes, I understand my authorization flow is quite similar to OAuth2, but do you really think OAuth2 will solve my problem?"}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698157793,"creation_date":1698157793,"answer_id":77352999,"question_id":77347192,"body_markdown":"Here&#39;s roughly what you can do. You can implement spring-authorization-sever for OAuth2 to have custom jwt token &amp; custom jwtAuthenticationConverter with GrantedAuthorities having the roles as per your requirement. Once you read the JWT token for authorities, use `@PreAuthorize` annotation to restrict the access to the said endpoint. ","title":"Add custom authorization rule spring security","body":"<p>Here's roughly what you can do. You can implement spring-authorization-sever for OAuth2 to have custom jwt token &amp; custom jwtAuthenticationConverter with GrantedAuthorities having the roles as per your requirement. Once you read the JWT token for authorities, use <code>@PreAuthorize</code> annotation to restrict the access to the said endpoint.</p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698300309,"creation_date":1698290842,"answer_id":77363950,"question_id":77347192,"body_markdown":"The easiest option is to use &quot;method security&quot; and SpEL (`@EnableMethodSecurity` or `@EnableReactiveMethodSecurity` depending on your application being a servlet or a reactive app).\r\n\r\nI&#39;ll consider in the following that your entity has an `owner` property containing user subject (or whatever you configured to use as `name` in the authentication converter). Something like:\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class MyEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false, updatable = false)\r\n\tprivate String owner;\r\n}\r\n```\r\nwith\r\n```java\r\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {}\r\n```\r\n\r\nYou can then implement such a controller:\r\n```java\r\n@RestController\r\npublic class MyController {\r\n\r\n\t@PutMapping(path = &quot;/my-entities/{entity-id}&quot;)\r\n\t@PreAuthorize(&quot;hasAuthority(&#39;admin&#39;) || #myEntity.owner == authentication.name&quot;)\r\n\tpublic ResponseEntity&lt;Void&gt; updateMyEntity(@PathVariable(&quot;entity-id&quot;) MyEntity myEntity, @RequestBody @Valid MyEntityeUpdateDto dto) {\r\n\t\t...\r\n\t\treturn ResponseEntity.accepted().build();\r\n\t}\r\n}\r\n```\r\nIn the expression above:\r\n- `#myEntity` refers to the `myEntity` argument of the decorated method (an entity auto-magically retrieved by a `@Repository` using the ID passed as `@PathVariable`)\r\n- `authentication` is &quot;magic&quot; variable containing the `Authentication` instance in the security context\r\n\r\nI intensively use this kind of rule in [this project][1] as can be seen for instance in [that controller][2].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/quiz\r\n  [2]: https://github.com/ch4mpy/quiz/blob/main/api/quiz-api/src/main/java/com/c4soft/quiz/web/QuizController.java","title":"Add custom authorization rule spring security","body":"<p>The easiest option is to use &quot;method security&quot; and SpEL (<code>@EnableMethodSecurity</code> or <code>@EnableReactiveMethodSecurity</code> depending on your application being a servlet or a reactive app).</p>\n<p>I'll consider in the following that your entity has an <code>owner</code> property containing user subject (or whatever you configured to use as <code>name</code> in the authentication converter). Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\npublic class MyEntity {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Column(nullable = false, updatable = false)\n    private String owner;\n}\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {}\n</code></pre>\n<p>You can then implement such a controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class MyController {\n\n    @PutMapping(path = &quot;/my-entities/{entity-id}&quot;)\n    @PreAuthorize(&quot;hasAuthority('admin') || #myEntity.owner == authentication.name&quot;)\n    public ResponseEntity&lt;Void&gt; updateMyEntity(@PathVariable(&quot;entity-id&quot;) MyEntity myEntity, @RequestBody @Valid MyEntityeUpdateDto dto) {\n        ...\n        return ResponseEntity.accepted().build();\n    }\n}\n</code></pre>\n<p>In the expression above:</p>\n<ul>\n<li><code>#myEntity</code> refers to the <code>myEntity</code> argument of the decorated method (an entity auto-magically retrieved by a <code>@Repository</code> using the ID passed as <code>@PathVariable</code>)</li>\n<li><code>authentication</code> is &quot;magic&quot; variable containing the <code>Authentication</code> instance in the security context</li>\n</ul>\n<p>I intensively use this kind of rule in <a href=\"https://github.com/ch4mpy/quiz\" rel=\"nofollow noreferrer\">this project</a> as can be seen for instance in <a href=\"https://github.com/ch4mpy/quiz/blob/main/api/quiz-api/src/main/java/com/c4soft/quiz/web/QuizController.java\" rel=\"nofollow noreferrer\">that controller</a>.</p>\n"}],"owner":{"account_id":24290263,"reputation":11,"user_id":18235420,"display_name":"momopoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363950,"answer_count":2,"score":0,"last_activity_date":1698300309,"creation_date":1698081682,"question_id":77347192,"body_markdown":"I faced problem implementing following authorization rule using Spring Security:\r\nUser resource can be modified only by owner or user with admin role. By modify I mean triggering API endpoint of PUT method and such URL - some_path/user/{userId}\r\n\r\nNeeded to mention conditions:\r\n - app applies microservices, so my service don&#39;t have access to user database\r\n - input data for authorization is JWT in Authorization header. JWT contains &quot;sub&quot; value that is user id of whom were issued token and &quot;roles&quot; array of his roles\r\n\r\nHow I can implement such functionality in most Spring Security way? Did I really need to implement my own AuthorizationManager?","title":"Add custom authorization rule spring security","body":"<p>I faced problem implementing following authorization rule using Spring Security:\nUser resource can be modified only by owner or user with admin role. By modify I mean triggering API endpoint of PUT method and such URL - some_path/user/{userId}</p>\n<p>Needed to mention conditions:</p>\n<ul>\n<li>app applies microservices, so my service don't have access to user database</li>\n<li>input data for authorization is JWT in Authorization header. JWT contains &quot;sub&quot; value that is user id of whom were issued token and &quot;roles&quot; array of his roles</li>\n</ul>\n<p>How I can implement such functionality in most Spring Security way? Did I really need to implement my own AuthorizationManager?</p>\n"},{"tags":["java","mocking","environment-variables","system","powermock"],"answers":[{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1698230729,"post_id":20408354,"comment_id":136377971,"body_markdown":"What if I need to set different values to the property in each test? In this case, `@Before` and `@After` will not work, because only static values go there.","body":"What if I need to set different values to the property in each test? In this case, <code>@Before</code> and <code>@After</code> will not work, because only static values go there."},{"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"score":0,"creation_date":1698258103,"post_id":20408354,"comment_id":136383769,"body_markdown":"@WesternGun If you read the second sentence of the second list item, I mention &quot;You could even make it part of the \\@Test method itself.&quot;","body":"@WesternGun If you read the second sentence of the second list item, I mention &quot;You could even make it part of the \\@Test method itself.&quot;"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1698300449,"post_id":20408354,"comment_id":136388134,"body_markdown":"OK missed that. My case is a little bit different and setting the property is not working. It&#39;s an in-house annotation which read the property from the injection point. At last I wrapped getting the property into a getter and mocked that in test.","body":"OK missed that. My case is a little bit different and setting the property is not working. It&#39;s an in-house annotation which read the property from the injection point. At last I wrapped getting the property into a getter and mocked that in test."}],"tags":[],"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1386270020,"creation_date":1386270020,"answer_id":20408354,"question_id":20404276,"body_markdown":"There are certain classes PowerMock can&#39;t mock in the usual way. See here:\n\n - https://code.google.com/p/powermock/wiki/MockSystem\n\nThis, however, may still not work. In order of &quot;good design&quot; preference, you can fall back to these:\n\n 1. **Refactor your code!** Using a System property for passing a file path around is probably not the best way. Why not use a properties file loaded into a Properties object? Why not use getters/setters for the components that need to know this path? There are many better ways to do this.\n\n    The only reason I could think of *not* to do this is you&#39;re trying to wrap a test harness around code you &quot;can&#39;t&quot; modify.\n\n 2. Use `@Before` and `@After` methods to set the System property to some known value for the test(s). You could even make it part of the `@Test` method itself. This will be FAR easier than attempting to mock through PowerMock. Just call `System.setProperty(&quot;my_files_path&quot;,&quot;fake_path&quot;);`\n\n","title":"Mock System class to get system properties","body":"<p>There are certain classes PowerMock can't mock in the usual way. See here:</p>\n<ul>\n<li><a href=\"https://code.google.com/p/powermock/wiki/MockSystem\" rel=\"noreferrer\">https://code.google.com/p/powermock/wiki/MockSystem</a></li>\n</ul>\n<p>This, however, may still not work. In order of &quot;good design&quot; preference, you can fall back to these:</p>\n<ol>\n<li><p><strong>Refactor your code!</strong> Using a System property for passing a file path around is probably not the best way. Why not use a properties file loaded into a Properties object? Why not use getters/setters for the components that need to know this path? There are many better ways to do this.</p>\n<p>The only reason I could think of <em>not</em> to do this is you're trying to wrap a test harness around code you &quot;can't&quot; modify.</p>\n</li>\n<li><p>Use <code>@Before</code> and <code>@After</code> methods to set the System property to some known value for the test(s). You could even make it part of the <code>@Test</code> method itself. This will be FAR easier than attempting to mock through PowerMock. Just call <code>System.setProperty(&quot;my_files_path&quot;,&quot;fake_path&quot;);</code></p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3508394,"reputation":2007,"user_id":2933389,"accept_rate":100,"display_name":"Paramesh Korrakuti"},"score":1,"creation_date":1456481597,"post_id":20609818,"comment_id":58978011,"body_markdown":"Will you please share the required dependencies to this code.","body":"Will you please share the required dependencies to this code."}],"tags":[],"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1387193359,"creation_date":1387193359,"answer_id":20609818,"question_id":20404276,"body_markdown":"\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(System.class)\r\n    public class MySuperClassTest {   \r\n    @Test\r\n    public void test(){ \r\n    \tPowerMockito.mockStatic(System.class);\r\n    \tPowerMockito.when(System.getProperty(&quot;java.home&quot;)).thenReturn(&quot;abc&quot;);\r\n    \tSystem.out.println(System.getProperty(&quot;java.home&quot;));\r\n    }\r\n    } ","title":"Mock System class to get system properties","body":"<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(System.class)\npublic class MySuperClassTest {   \n@Test\npublic void test(){ \n    PowerMockito.mockStatic(System.class);\n    PowerMockito.when(System.getProperty(\"java.home\")).thenReturn(\"abc\");\n    System.out.println(System.getProperty(\"java.home\"));\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3687419,"reputation":339,"user_id":3070884,"display_name":"sailaja.vellanki"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1387230526,"creation_date":1387230526,"answer_id":20621620,"question_id":20404276,"body_markdown":"Thanks Satish. This works except with a small modification. I wrote PrepareForTest(PathFinder.class), preparing the class I am testing for test cases instead of System.class\r\n\r\nAlso, as mock works only once, I called my method right after mocking. \r\nMy code just for reference:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(PathInformation.class)\r\n    public class PathInformationTest {\r\n    \r\n    \tprivate PathFinder pathFinder = new PathFinder();\r\n    \r\n    @Test\r\n    \tpublic void testValidHTMLFilePath() { \r\n    \t    PowerMockito.mockStatic(System.class);\r\n    \t    PowerMockito.when(System.getProperty(&quot;my_files_path&quot;)).thenReturn(&quot;abc&quot;);\r\n    \t    assertEquals(&quot;abc&quot;,pathFinder.getHtmlFolderPath());\r\n    \t}\r\n    }\r\n\r\n","title":"Mock System class to get system properties","body":"<p>Thanks Satish. This works except with a small modification. I wrote PrepareForTest(PathFinder.class), preparing the class I am testing for test cases instead of System.class</p>\n\n<p>Also, as mock works only once, I called my method right after mocking. \nMy code just for reference:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(PathInformation.class)\npublic class PathInformationTest {\n\n    private PathFinder pathFinder = new PathFinder();\n\n@Test\n    public void testValidHTMLFilePath() { \n        PowerMockito.mockStatic(System.class);\n        PowerMockito.when(System.getProperty(\"my_files_path\")).thenReturn(\"abc\");\n        assertEquals(\"abc\",pathFinder.getHtmlFolderPath());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3735071,"reputation":174,"user_id":3106193,"accept_rate":0,"display_name":"geddamsatish"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1387254794,"creation_date":1387254794,"answer_id":20625973,"question_id":20404276,"body_markdown":"Sailaja  add  System.class because as per the power mock guidelines for static,private mocking you should add the class in prepare for test.\r\n\r\n     @PrepareForTest({PathInformation.class,System.class})\r\n\r\nHope this helps.let me know if it doesn&#39;t work","title":"Mock System class to get system properties","body":"<p>Sailaja  add  System.class because as per the power mock guidelines for static,private mocking you should add the class in prepare for test.</p>\n\n<pre><code> @PrepareForTest({PathInformation.class,System.class})\n</code></pre>\n\n<p>Hope this helps.let me know if it doesn't work</p>\n"},{"comments":[{"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"score":3,"creation_date":1485847506,"post_id":31818201,"comment_id":71082929,"body_markdown":"Environment Variable (retrieved with `System.getenv`) is not the same thing as System Property (retrieved with `System.getProperty`).","body":"Environment Variable (retrieved with <code>System.getenv</code>) is not the same thing as System Property (retrieved with <code>System.getProperty</code>)."}],"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1438718379,"creation_date":1438718379,"answer_id":31818201,"question_id":20404276,"body_markdown":"Set the system property in your test and ensure that it is restored after the test by using the rule [RestoreSystemProperties](http://stefanbirkner.github.io/system-rules/apidocs/org/junit/contrib/java/lang/system/RestoreSystemProperties.html) of the library [System Rules](http://stefanbirkner.github.io/system-rules/index.html).\r\n\r\n    public class PathInformationTest {\r\n      private PathFinder pathFinder = new PathFinder();\r\n\r\n      @Rule\r\n      public TestRule restoreSystemProperties = new RestoreSystemProperties();\r\n\r\n      @Test\r\n      public void testValidHTMLFilePath() { \r\n        System.setProperty(&quot;my_files_path&quot;, &quot;abc&quot;);\r\n        assertEquals(&quot;abc&quot;,pathFinder.getHtmlFolderPath());\r\n      }\r\n    }\r\n\r\n","title":"Mock System class to get system properties","body":"<p>Set the system property in your test and ensure that it is restored after the test by using the rule <a href=\"http://stefanbirkner.github.io/system-rules/apidocs/org/junit/contrib/java/lang/system/RestoreSystemProperties.html\" rel=\"noreferrer\">RestoreSystemProperties</a> of the library <a href=\"http://stefanbirkner.github.io/system-rules/index.html\" rel=\"noreferrer\">System Rules</a>.</p>\n\n<pre><code>public class PathInformationTest {\n  private PathFinder pathFinder = new PathFinder();\n\n  @Rule\n  public TestRule restoreSystemProperties = new RestoreSystemProperties();\n\n  @Test\n  public void testValidHTMLFilePath() { \n    System.setProperty(\"my_files_path\", \"abc\");\n    assertEquals(\"abc\",pathFinder.getHtmlFolderPath());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357788,"reputation":1967,"user_id":698182,"accept_rate":57,"display_name":"ekcrisp"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1540495760,"creation_date":1540495760,"answer_id":52996745,"question_id":20404276,"body_markdown":"**System class is declared as final and cannot be mocked** by libraries such as PowerMock. Several answers posted here are incorrect. If you are using [Apache System Utils][1] you can use `getEnvironmentVariable` method instead of calling System.getenv directly. SystemUtils can be mocked since it is not declared as final.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SystemUtils.html","title":"Mock System class to get system properties","body":"<p><strong>System class is declared as final and cannot be mocked</strong> by libraries such as PowerMock. Several answers posted here are incorrect. If you are using <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/SystemUtils.html\" rel=\"noreferrer\">Apache System Utils</a> you can use <code>getEnvironmentVariable</code> method instead of calling System.getenv directly. SystemUtils can be mocked since it is not declared as final.</p>\n"},{"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":1,"creation_date":1600291445,"post_id":63345112,"comment_id":113045027,"body_markdown":"It doesn&#39;t even need powermock. Simple mockito can mock above call and return the desired string.","body":"It doesn&#39;t even need powermock. Simple mockito can mock above call and return the desired string."}],"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597080458,"creation_date":1597080458,"answer_id":63345112,"question_id":20404276,"body_markdown":"The System.setter or getter method should be put in a user defined method and that method can be mocked to return the desired property in unit test.\r\n\r\n    \r\n    public String getSysEnv(){\r\n    return System.getEnv(&quot;thisprp&quot;);\r\n    }","title":"Mock System class to get system properties","body":"<p>The System.setter or getter method should be put in a user defined method and that method can be mocked to return the desired property in unit test.</p>\n<pre><code>public String getSysEnv(){\nreturn System.getEnv(&quot;thisprp&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698300180,"creation_date":1698300180,"answer_id":77364456,"question_id":20404276,"body_markdown":"The only solution that worked for me, was wrapping getting the property into a getter method and mock the getter in test. PowerMockito and others don&#39;t work for me. ","title":"Mock System class to get system properties","body":"<p>The only solution that worked for me, was wrapping getting the property into a getter method and mock the getter in test. PowerMockito and others don't work for me.</p>\n"}],"owner":{"account_id":3687419,"reputation":339,"user_id":3070884,"display_name":"sailaja.vellanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49230,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1698300180,"creation_date":1386258157,"question_id":20404276,"body_markdown":"I have a folder path set in system variable through JVM arguments in Eclipse and I am trying to access it in my class as: \r\n`System.getProperty(&quot;my_files_path&quot;)`. \r\n\r\nWhile writing junit test method for this class, I tried mocking this call as test classes do not consider JVM arguments. I have used PowerMockito to mock static System class and tried returning some path when `System.getProperpty` is being called.\r\n\r\n Had `@RunWith(PowerMockRunner.class)` and `@PrepareForTest(System.class)` annotations at class level. However, System class is not getting mocked as a result I always get null result.\r\n Any help is appreciated. ","title":"Mock System class to get system properties","body":"<p>I have a folder path set in system variable through JVM arguments in Eclipse and I am trying to access it in my class as: \n<code>System.getProperty(\"my_files_path\")</code>. </p>\n\n<p>While writing junit test method for this class, I tried mocking this call as test classes do not consider JVM arguments. I have used PowerMockito to mock static System class and tried returning some path when <code>System.getProperpty</code> is being called.</p>\n\n<p>Had <code>@RunWith(PowerMockRunner.class)</code> and <code>@PrepareForTest(System.class)</code> annotations at class level. However, System class is not getting mocked as a result I always get null result.\n Any help is appreciated. </p>\n"},{"tags":["java","terminal","command-line-interface"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682708477,"post_id":76131243,"comment_id":134263705,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683877888,"post_id":76232014,"comment_id":134436793,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76232014/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22335162,"reputation":1,"user_id":16555880,"display_name":"laura"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683844341,"creation_date":1683844341,"answer_id":76232014,"question_id":76131243,"body_markdown":"i don&#39;t know if you&#39;ve already solved this, but I had a similar problem when I tried to run or debug my code, so I did this: [https://stackoverflow.com/questions/63202834/visual-studio-vs-code-code-terminal-is-failing-to-launch][1]\r\n\r\nThen restart VS Code and it worked!! I hope it helps\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/63202834/visual-studio-vs-code-code-terminal-is-failing-to-launch","title":"Failed to launch debuggee in terminal","body":"<p>i don't know if you've already solved this, but I had a similar problem when I tried to run or debug my code, so I did this: <a href=\"https://stackoverflow.com/questions/63202834/visual-studio-vs-code-code-terminal-is-failing-to-launch\">Visual Studio (VS-code) code terminal is failing to launch</a></p>\n<p>Then restart VS Code and it worked!! I hope it helps</p>\n"},{"tags":[],"owner":{"account_id":20039645,"reputation":93,"user_id":14690597,"display_name":"Divinity"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698300010,"creation_date":1698300010,"answer_id":77364440,"question_id":76131243,"body_markdown":"What I did was to uncheck this box in the settings and it fixed my issue\r\n\r\nMy Java Version:\r\n\r\n - java 19.0.2 2023-01-17 \r\n - Java(TM) SE Runtime Environment (build\r\n   19.0.2+7-44) \r\n - Java HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/a85TB.png","title":"Failed to launch debuggee in terminal","body":"<p>What I did was to uncheck this box in the settings and it fixed my issue</p>\n<p>My Java Version:</p>\n<ul>\n<li>java 19.0.2 2023-01-17</li>\n<li>Java(TM) SE Runtime Environment (build\n19.0.2+7-44)</li>\n<li>Java HotSpot(TM) 64-Bit Server VM (build 19.0.2+7-44, mixed mode, sharing)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/a85TB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a85TB.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28400073,"reputation":11,"user_id":21725019,"display_name":"Ammar Zahid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698300010,"creation_date":1682696851,"question_id":76131243,"body_markdown":"When i am trying to open a new terminal in my visual studio code window. My terminal and i am seeing this message &quot;Failed to launch debuggee in terminal. Reason: Failed to launch debuggee in terminal. Reason: java.util.concurrent.TimeoutException: timeout&quot;\r\n\r\nit shows me open launch.json file. i dont know what to do in that file","title":"Failed to launch debuggee in terminal","body":"<p>When i am trying to open a new terminal in my visual studio code window. My terminal and i am seeing this message &quot;Failed to launch debuggee in terminal. Reason: Failed to launch debuggee in terminal. Reason: java.util.concurrent.TimeoutException: timeout&quot;</p>\n<p>it shows me open launch.json file. i dont know what to do in that file</p>\n"},{"tags":["java","android","google-cloud-platform","google-app-engine","web-applications"],"answers":[{"tags":[],"owner":{"account_id":6951015,"reputation":328,"user_id":5333643,"display_name":"Zohair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470485674,"creation_date":1470485674,"answer_id":38804199,"question_id":38802772,"body_markdown":"Google App Engine will host your website, I suggest you read their documentations first before you make your decision to start configuring your app with Google App Engine as it can be real pain to get it all working in the initial run.\r\n\r\nGoogle App Engine will provide you with the system and power to run your web app. Their standard environment supports Java, Python, PHP, and Go. Additionally, your website templates can include JavaScript along with your HTML which, among other things, allows you to write AJAX-enabled web applications.\r\n\r\nI think their FAQ will help you get started.\r\n\r\nhttps://cloud.google.com/appengine/kb/\r\n","title":"Create web Application with google app engine?","body":"<p>Google App Engine will host your website, I suggest you read their documentations first before you make your decision to start configuring your app with Google App Engine as it can be real pain to get it all working in the initial run.</p>\n\n<p>Google App Engine will provide you with the system and power to run your web app. Their standard environment supports Java, Python, PHP, and Go. Additionally, your website templates can include JavaScript along with your HTML which, among other things, allows you to write AJAX-enabled web applications.</p>\n\n<p>I think their FAQ will help you get started.</p>\n\n<p><a href=\"https://cloud.google.com/appengine/kb/\" rel=\"nofollow\">https://cloud.google.com/appengine/kb/</a></p>\n"},{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470491974,"creation_date":1470491974,"answer_id":38805051,"question_id":38802772,"body_markdown":"One classic way to connect an HTML front-end (i.e. your website) to an App Engine back-end is by using the Google JavaScript client library https://developers.google.com/api-client-library/javascript/start/start-js\r\n\r\nRomin Irani has nice tutorials on this method, see https://rominirani.com/google-cloud-endpoints-tutorial-part-1-b571ad6c7cd2#.sbsqvfu3n and in particular Part 4 https://rominirani.com/google-cloud-endpoints-tutorial-part-4-37ea3aac7948#.ivyo2i4pb\r\n","title":"Create web Application with google app engine?","body":"<p>One classic way to connect an HTML front-end (i.e. your website) to an App Engine back-end is by using the Google JavaScript client library <a href=\"https://developers.google.com/api-client-library/javascript/start/start-js\" rel=\"nofollow\">https://developers.google.com/api-client-library/javascript/start/start-js</a></p>\n\n<p>Romin Irani has nice tutorials on this method, see <a href=\"https://rominirani.com/google-cloud-endpoints-tutorial-part-1-b571ad6c7cd2#.sbsqvfu3n\" rel=\"nofollow\">https://rominirani.com/google-cloud-endpoints-tutorial-part-1-b571ad6c7cd2#.sbsqvfu3n</a> and in particular Part 4 <a href=\"https://rominirani.com/google-cloud-endpoints-tutorial-part-4-37ea3aac7948#.ivyo2i4pb\" rel=\"nofollow\">https://rominirani.com/google-cloud-endpoints-tutorial-part-4-37ea3aac7948#.ivyo2i4pb</a></p>\n"}],"owner":{"account_id":6886376,"reputation":415,"user_id":5291301,"accept_rate":62,"display_name":"Shailendra Kushwah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38805051,"answer_count":2,"score":1,"last_activity_date":1698299795,"creation_date":1470476181,"question_id":38802772,"body_markdown":"I am new to web application development. I developed an android app which uses the Google app engine Module as a server. I want to connect this app engine server to my web Application means both the application uses one backend. How can I achieve this. Please guide me and give me your helpful suggestions.","title":"Create web Application with google app engine?","body":"<p>I am new to web application development. I developed an android app which uses the Google app engine Module as a server. I want to connect this app engine server to my web Application means both the application uses one backend. How can I achieve this. Please guide me and give me your helpful suggestions.</p>\n"},{"tags":["java","google-cloud-platform","google-app-engine","google-cloud-endpoints"],"comments":[{"owner":{"account_id":7378242,"reputation":567,"user_id":5615988,"display_name":"Matteo Di Napoli"},"score":0,"creation_date":1477320866,"post_id":40221387,"comment_id":67706309,"body_markdown":"Could it be it has to be the last parameter? Maybe I&#39;m wrong but I recall something similar...","body":"Could it be it has to be the last parameter? Maybe I&#39;m wrong but I recall something similar..."},{"owner":{"account_id":2515962,"reputation":14604,"user_id":2187407,"accept_rate":47,"display_name":"Katedral Pillon"},"score":0,"creation_date":1477320987,"post_id":40221387,"comment_id":67706383,"body_markdown":"I tried that. It wasn&#39;t it.","body":"I tried that. It wasn&#39;t it."}],"answers":[{"comments":[{"owner":{"account_id":2515962,"reputation":14604,"user_id":2187407,"accept_rate":47,"display_name":"Katedral Pillon"},"score":0,"creation_date":1477414638,"post_id":40227633,"comment_id":67753499,"body_markdown":"I thought I was supposed to use `import com.google.api.server.spi.auth.common.User;`? see https://github.com/GoogleCloudPlatform/appengine-endpoints-helloworld-java-maven/blob/master/src/main/java/com/example/helloworld/YourFirstAPI.java","body":"I thought I was supposed to use <code>import com.google.api.server.spi.auth.common.User;</code>? see <a href=\"https://github.com/GoogleCloudPlatform/appengine-endpoints-helloworld-java-maven/blob/master/src/main/java/com/example/helloworld/YourFirstAPI.java\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/&hellip;</a>"},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":1,"creation_date":1477491075,"post_id":40227633,"comment_id":67789574,"body_markdown":"You can use the two types, according to Google documentation and examples. With com.google.api.server.spi.auth.common.User however, you can only compile when you have no body in the incoming request, as you experienced. There is an issue on the Google issue register that confirm that https://code.google.com/p/googleappengine/issues/detail?id=13197 and apparently Google is currently analyzing it. Other interesting reading on the subject are http://stackoverflow.com/questions/28445840/how-can-i-pass-custom-information-from-an-app-engine-authenticator-to-the-endpoi and ...","body":"You can use the two types, according to Google documentation and examples. With com.google.api.server.spi.auth.common.User however, you can only compile when you have no body in the incoming request, as you experienced. There is an issue on the Google issue register that confirm that <a href=\"https://code.google.com/p/googleappengine/issues/detail?id=13197\" rel=\"nofollow noreferrer\">code.google.com/p/googleappengine/issues/detail?id=13197</a> and apparently Google is currently analyzing it. Other interesting reading on the subject are <a href=\"http://stackoverflow.com/questions/28445840/how-can-i-pass-custom-information-from-an-app-engine-authenticator-to-the-endpoi\" title=\"how can i pass custom information from an app engine authenticator to the endpoi\">stackoverflow.com/questions/28445840/&hellip;</a> and ..."},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1477491152,"post_id":40227633,"comment_id":67789633,"body_markdown":"http://stackoverflow.com/questions/35351830/how-to-retrieve-custom-user-object-in-gae-endpoints where Google Endpoint developer says that it is a bug.","body":"<a href=\"http://stackoverflow.com/questions/35351830/how-to-retrieve-custom-user-object-in-gae-endpoints\" title=\"how to retrieve custom user object in gae endpoints\">stackoverflow.com/questions/35351830/&hellip;</a> where Google Endpoint developer says that it is a bug."}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477343495,"creation_date":1477343495,"answer_id":40227633,"question_id":40221387,"body_markdown":"I have the feeling your User is not of type import com.google.appengine.api.users.User.\r\n\r\nThe documentation states that &quot;there can only be a single entity parameter per method&quot; (see https://cloud.google.com/appengine/docs/java/endpoints/parameter-and-return-types).\r\n\r\nHowever &quot;Any type except a parameter or injected type is considered an entity type&quot; and com.google.appengine.api.users.User is of type &quot;injected&quot;: so you should not have any problem normally, unless your User is not of this type. \r\n\r\nPersonaly I have methods like \r\n\r\n    public Customer insert(final User user, Customer customer, ...\r\n\r\nwhich work perfectly well","title":"appengine sees User as additional parameter","body":"<p>I have the feeling your User is not of type import com.google.appengine.api.users.User.</p>\n\n<p>The documentation states that \"there can only be a single entity parameter per method\" (see <a href=\"https://cloud.google.com/appengine/docs/java/endpoints/parameter-and-return-types\" rel=\"nofollow\">https://cloud.google.com/appengine/docs/java/endpoints/parameter-and-return-types</a>).</p>\n\n<p>However \"Any type except a parameter or injected type is considered an entity type\" and com.google.appengine.api.users.User is of type \"injected\": so you should not have any problem normally, unless your User is not of this type. </p>\n\n<p>Personaly I have methods like </p>\n\n<pre><code>public Customer insert(final User user, Customer customer, ...\n</code></pre>\n\n<p>which work perfectly well</p>\n"}],"owner":{"account_id":2515962,"reputation":14604,"user_id":2187407,"accept_rate":47,"display_name":"Katedral Pillon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":40227633,"answer_count":1,"score":1,"last_activity_date":1698299774,"creation_date":1477320611,"question_id":40221387,"body_markdown":"I am using OAuth with my app-engine server. It&#39;s rather simple to do, simple add `User` as one of the parameters. But when I do I get the compile error\r\n\r\n&gt; Multiple entity parameters. there can only be a single entity\r\n&gt; parameter per method...\r\n\r\n    @ApiMethod(path = &quot;updateDocument&quot;, name = &quot;updateDocument&quot;, httpMethod = ApiMethod.HttpMethod.POST)\r\n    public void updateDocument(User user, MyDocument input){\r\n      ...\r\n    }\r\n\r\n-----\r\n\r\nIt works fine for the methods of the form\r\n\r\n    public MyBean sayHiUser(@Named(&quot;name&quot;) String name, User user)\r\n\r\nIt just doesn&#39;t work when I have custom objects like `MyDocument`.","title":"appengine sees User as additional parameter","body":"<p>I am using OAuth with my app-engine server. It's rather simple to do, simple add <code>User</code> as one of the parameters. But when I do I get the compile error</p>\n\n<blockquote>\n  <p>Multiple entity parameters. there can only be a single entity\n  parameter per method...</p>\n</blockquote>\n\n<pre><code>@ApiMethod(path = \"updateDocument\", name = \"updateDocument\", httpMethod = ApiMethod.HttpMethod.POST)\npublic void updateDocument(User user, MyDocument input){\n  ...\n}\n</code></pre>\n\n<hr>\n\n<p>It works fine for the methods of the form</p>\n\n<pre><code>public MyBean sayHiUser(@Named(\"name\") String name, User user)\n</code></pre>\n\n<p>It just doesn't work when I have custom objects like <code>MyDocument</code>.</p>\n"},{"tags":["java","google-cloud-platform","google-app-engine","annotations","google-cloud-endpoints"],"answers":[{"comments":[{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1477521821,"post_id":40270331,"comment_id":67806363,"body_markdown":"Thanks for the response and reference links. As I have understood, the key to understanding this system is identifying the parties. So if I want to expose my libraries through an interface, it can be done through the provided annotations.(facilitated by Google). But in case if I am developing on Android, I would just want to call Google&#39;s APIs for handling requests to my App. My backend module would handle them and would have just the Servlets to handle them. Also, the backend module would be deployed on the server. In these interactions, I couldn&#39;t find the need for exposing my code. contd...","body":"Thanks for the response and reference links. As I have understood, the key to understanding this system is identifying the parties. So if I want to expose my libraries through an interface, it can be done through the provided annotations.(facilitated by Google). But in case if I am developing on Android, I would just want to call Google&#39;s APIs for handling requests to my App. My backend module would handle them and would have just the Servlets to handle them. Also, the backend module would be deployed on the server. In these interactions, I couldn&#39;t find the need for exposing my code. contd..."},{"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"score":0,"creation_date":1477521912,"post_id":40270331,"comment_id":67806387,"body_markdown":"So, I am good to go without exposure right?  And the only scenario where I might need the exposure is when the server wants to send a request to my code(haven&#39;t thought of any such scenario yet).","body":"So, I am good to go without exposure right?  And the only scenario where I might need the exposure is when the server wants to send a request to my code(haven&#39;t thought of any such scenario yet)."},{"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"score":0,"creation_date":1477567096,"post_id":40270331,"comment_id":67824667,"body_markdown":"I am not 100% sure to understand your needs. If your goal is to have your Android App interacting with your back-end, for e.g. store data in the Cloud Datastore, Cloud Endpoints is indeed the way to go. By using your words I would say that you should &quot;call Google&#39;s APIs for handling requests FROM my App&quot;.  I would suggest you have a look at these very good tutorials about endpoints and Android: https://rominirani.com/gradle-tutorial-part-8-gradle-app-engine-endpoints-android-studio-6584358b29fd#.bkyd868z9.","body":"I am not 100% sure to understand your needs. If your goal is to have your Android App interacting with your back-end, for e.g. store data in the Cloud Datastore, Cloud Endpoints is indeed the way to go. By using your words I would say that you should &quot;call Google&#39;s APIs for handling requests FROM my App&quot;.  I would suggest you have a look at these very good tutorials about endpoints and Android: <a href=\"https://rominirani.com/gradle-tutorial-part-8-gradle-app-engine-endpoints-android-studio-6584358b29fd#.bkyd868z9\" rel=\"nofollow noreferrer\">rominirani.com/&hellip;</a>."}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477511107,"creation_date":1477508939,"answer_id":40270331,"question_id":40266500,"body_markdown":"I think your question can be divided in 3 parts:\r\n\r\n1/ What is exposing an API?\r\nBasically, you are offering an access to your business logic through an Interface (the API), with full control on what you want to show or not. This Stack Exchange answer is a great explanation: https://softwareengineering.stackexchange.com/questions/203844/what-does-it-mean-to-expose-something \r\n\r\n2/ What are these annotations in the auto-generated endpoints class?\r\nIf I can summarize it like that, Google endpoint is a &quot;framework&quot; which generates &quot;default&quot; APIs based on your java beans. By default you get CRUD operations in the API, but you can modify and/or enrich the endpoint to offer more complex business logic. The Endpoints classes that are generated include specific annotations that are used by the framework (in particular while generating a corresponding servlet) and define the URI you will call to interact with the methods of the APIs. See https://cloud.google.com/appengine/docs/java/endpoints/\r\n\r\n3/ What is this gapi.client call?\r\ngapi stands for Google API Client Library. It is the library that is offered by Google to interact with Endpoints from a web browser. See https://developers.google.com/api-client-library/javascript/\r\nYou could use other methods to call the Endpoint APIs, like jquery Ajax methods (http://api.jquery.com/jquery.ajax/), since Endpoints follow the REST architectural style. Note that you can call your endpoints from other &quot;clients&quot; than a web browser, e.g. an Android or iOS App. In these cases, you would not use the Google API Client Library but some other libraries.\r\n\r\nI hope this clarifies a bit. Do not hesitate to ask for more details.","title":"What is the essence of &quot;exposing&quot; an API especially in Google Cloud Endpoint?","body":"<p>I think your question can be divided in 3 parts:</p>\n\n<p>1/ What is exposing an API?\nBasically, you are offering an access to your business logic through an Interface (the API), with full control on what you want to show or not. This Stack Exchange answer is a great explanation: <a href=\"https://softwareengineering.stackexchange.com/questions/203844/what-does-it-mean-to-expose-something\">https://softwareengineering.stackexchange.com/questions/203844/what-does-it-mean-to-expose-something</a> </p>\n\n<p>2/ What are these annotations in the auto-generated endpoints class?\nIf I can summarize it like that, Google endpoint is a \"framework\" which generates \"default\" APIs based on your java beans. By default you get CRUD operations in the API, but you can modify and/or enrich the endpoint to offer more complex business logic. The Endpoints classes that are generated include specific annotations that are used by the framework (in particular while generating a corresponding servlet) and define the URI you will call to interact with the methods of the APIs. See <a href=\"https://cloud.google.com/appengine/docs/java/endpoints/\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/java/endpoints/</a></p>\n\n<p>3/ What is this gapi.client call?\ngapi stands for Google API Client Library. It is the library that is offered by Google to interact with Endpoints from a web browser. See <a href=\"https://developers.google.com/api-client-library/javascript/\" rel=\"nofollow noreferrer\">https://developers.google.com/api-client-library/javascript/</a>\nYou could use other methods to call the Endpoint APIs, like jquery Ajax methods (<a href=\"http://api.jquery.com/jquery.ajax/\" rel=\"nofollow noreferrer\">http://api.jquery.com/jquery.ajax/</a>), since Endpoints follow the REST architectural style. Note that you can call your endpoints from other \"clients\" than a web browser, e.g. an Android or iOS App. In these cases, you would not use the Google API Client Library but some other libraries.</p>\n\n<p>I hope this clarifies a bit. Do not hesitate to ask for more details.</p>\n"}],"owner":{"account_id":2612960,"reputation":13092,"user_id":2378217,"accept_rate":43,"display_name":"Manish Kumar Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698299751,"creation_date":1477496206,"question_id":40266500,"body_markdown":"I am totally new to the whole Google Cloud Endpoint/Google App Engine world. If you have gone through the Hello World example that Google provides(and you probably have), you might remember that there are 2 classes that are auto-generated for you: `MyBean` and `MyEndpoint`.\r\n\r\nThese are something like this:\r\n\r\n    /**\r\n     * The object model for the data we are sending through endpoints\r\n     */\r\n    public class MyBean {\r\n    \r\n        private String myData;\r\n    \r\n        public String getData() {\r\n            return myData;\r\n        }\r\n    \r\n        public void setData(String data) {\r\n            myData = data;\r\n        }\r\n    }\r\n\r\nAnd,\r\n\r\n    /**\r\n     * An endpoint class we are exposing\r\n     */\r\n    @Api(\r\n            name = &quot;myApi&quot;,\r\n            version = &quot;v1&quot;,\r\n            namespace = @ApiNamespace(\r\n                    ownerDomain = &quot;backend.myapplication.DJ.example.com&quot;,\r\n                    ownerName = &quot;backend.myapplication.DJ.example.com&quot;,\r\n                    packagePath = &quot;&quot;\r\n            )\r\n    )\r\n    public class MyEndpoint {\r\n    \r\n        /**\r\n         * A simple endpoint method that takes a name and says Hi back\r\n         */\r\n        @ApiMethod(name = &quot;sayHi&quot;)\r\n        public MyBean sayHi(@Named(&quot;name&quot;) String name) {\r\n            MyBean response = new MyBean();\r\n            response.setData(&quot;Hi, &quot; + name);\r\n    \r\n            return response;\r\n        }\r\n    \r\n    }\r\n\r\nNow, I examined the code in index.html(which gets opened on deploying the backend). I found the following call in the javascript:\r\n\r\n    gapi.client.myApi.sayHi({&#39;name&#39;: name}).execute(\r\n\r\nNow, I can see that myApi is the name through annotation and sayHi() is the corresponding method, What I don&#39;t understand is the concept of exposing an API and annotation is aiding in that. There isn&#39;t any information about exposing APIs.\r\n\r\nCould anyone help me understand this?","title":"What is the essence of &quot;exposing&quot; an API especially in Google Cloud Endpoint?","body":"<p>I am totally new to the whole Google Cloud Endpoint/Google App Engine world. If you have gone through the Hello World example that Google provides(and you probably have), you might remember that there are 2 classes that are auto-generated for you: <code>MyBean</code> and <code>MyEndpoint</code>.</p>\n\n<p>These are something like this:</p>\n\n<pre><code>/**\n * The object model for the data we are sending through endpoints\n */\npublic class MyBean {\n\n    private String myData;\n\n    public String getData() {\n        return myData;\n    }\n\n    public void setData(String data) {\n        myData = data;\n    }\n}\n</code></pre>\n\n<p>And,</p>\n\n<pre><code>/**\n * An endpoint class we are exposing\n */\n@Api(\n        name = \"myApi\",\n        version = \"v1\",\n        namespace = @ApiNamespace(\n                ownerDomain = \"backend.myapplication.DJ.example.com\",\n                ownerName = \"backend.myapplication.DJ.example.com\",\n                packagePath = \"\"\n        )\n)\npublic class MyEndpoint {\n\n    /**\n     * A simple endpoint method that takes a name and says Hi back\n     */\n    @ApiMethod(name = \"sayHi\")\n    public MyBean sayHi(@Named(\"name\") String name) {\n        MyBean response = new MyBean();\n        response.setData(\"Hi, \" + name);\n\n        return response;\n    }\n\n}\n</code></pre>\n\n<p>Now, I examined the code in index.html(which gets opened on deploying the backend). I found the following call in the javascript:</p>\n\n<pre><code>gapi.client.myApi.sayHi({'name': name}).execute(\n</code></pre>\n\n<p>Now, I can see that myApi is the name through annotation and sayHi() is the corresponding method, What I don't understand is the concept of exposing an API and annotation is aiding in that. There isn't any information about exposing APIs.</p>\n\n<p>Could anyone help me understand this?</p>\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":5,"creation_date":1237924262,"post_id":625433,"comment_id":492215,"body_markdown":"If they take more than an hour you can still print something like; 90 mins, 53 secs.","body":"If they take more than an hour you can still print something like; 90 mins, 53 secs."}],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":3,"creation_date":1236596068,"post_id":625439,"comment_id":438443,"body_markdown":"Actually, doing this for anything longer than an hour is not a good idea since the results could be wrong/unintuitive when daylight savings time (days of 23 or 24 hours) or leap years are involved. If I read &quot;X will happen in 1 year/month&quot;, I&#39;d expect it to be the same date and time.","body":"Actually, doing this for anything longer than an hour is not a good idea since the results could be wrong/unintuitive when daylight savings time (days of 23 or 24 hours) or leap years are involved. If I read &quot;X will happen in 1 year/month&quot;, I&#39;d expect it to be the same date and time."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":6,"creation_date":1236599317,"post_id":625439,"comment_id":438578,"body_markdown":"System.currentTimeMillis() is immune against DST so this will not be confused by additional or missing hours. If you need to show the difference between two specific dates, you’re better off constructing Date objects with the given time and show the difference between those two.","body":"System.currentTimeMillis() is immune against DST so this will not be confused by additional or missing hours. If you need to show the difference between two specific dates, you’re better off constructing Date objects with the given time and show the difference between those two."},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":1,"creation_date":1236699963,"post_id":625439,"comment_id":443413,"body_markdown":"Beyond weeks, it is undefined, since month length is variable. So indeed, you need to compute relative to a given time reference.","body":"Beyond weeks, it is undefined, since month length is variable. So indeed, you need to compute relative to a given time reference."}],"tags":[],"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"comment_count":3,"down_vote_count":16,"up_vote_count":52,"is_accepted":false,"score":36,"last_activity_date":1236588172,"creation_date":1236588172,"answer_id":625439,"question_id":625433,"body_markdown":"Uhm... how many milliseconds are in a second? And in a minute? Division is not that hard.\r\n\r\n    int seconds = (int) ((milliseconds / 1000) % 60);\r\n    int minutes = (int) ((milliseconds / 1000) / 60);\r\n\r\nContinue like that for hours, days, weeks, months, year, decades, whatever.","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Uhm... how many milliseconds are in a second? And in a minute? Division is not that hard.</p>\n\n<pre><code>int seconds = (int) ((milliseconds / 1000) % 60);\nint minutes = (int) ((milliseconds / 1000) / 60);\n</code></pre>\n\n<p>Continue like that for hours, days, weeks, months, year, decades, whatever.</p>\n"},{"comments":[{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1236588662,"post_id":625444,"comment_id":438182,"body_markdown":"Wow. That is an evil, timezone-dependent hack. It will break mercilessly when you have a timezone offset that is not a multiple of 60 minutes (and we have a couple of those pesky 30-minute offset timezones in the world).","body":"Wow. That is an evil, timezone-dependent hack. It will break mercilessly when you have a timezone offset that is not a multiple of 60 minutes (and we have a couple of those pesky 30-minute offset timezones in the world)."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1236588751,"post_id":625444,"comment_id":438184,"body_markdown":"Also, it will break just as bad as soon as you include the hours in the format string and are not at GMT+0, for the same reasons.","body":"Also, it will break just as bad as soon as you include the hours in the format string and are not at GMT+0, for the same reasons."},{"owner":{"account_id":11468,"reputation":19963,"user_id":22114,"accept_rate":94,"display_name":"Treb"},"score":0,"creation_date":1236588800,"post_id":625444,"comment_id":438186,"body_markdown":"We do? Really? Where? \nNot doubting you, just never heard of it before - some new pitfall to consider ;-)","body":"We do? Really? Where?  Not doubting you, just never heard of it before - some new pitfall to consider ;-)"},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":0,"creation_date":1236589683,"post_id":625444,"comment_id":438204,"body_markdown":"Yes. Check “List of time zones” on Wikipedia, e.g. Nepal is at GMT+05:45.","body":"Yes. Check “List of time zones” on Wikipedia, e.g. Nepal is at GMT+05:45."},{"owner":{"account_id":24599,"reputation":2376,"user_id":62667,"accept_rate":100,"display_name":"GaZ"},"score":0,"creation_date":1236593139,"post_id":625444,"comment_id":438329,"body_markdown":"Yeah, and Hyderabad is GMT+5.5 :\\","body":"Yeah, and Hyderabad is GMT+5.5 :\\"},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":2,"creation_date":1236599212,"post_id":625444,"comment_id":438573,"body_markdown":"cadrian, now it will only work for durations less than a day. The number of hours will always be between 0 and 23, inclusive.","body":"cadrian, now it will only work for durations less than a day. The number of hours will always be between 0 and 23, inclusive."}],"tags":[],"owner":{"account_id":20029,"reputation":7352,"user_id":47461,"accept_rate":80,"display_name":"cadrian"},"comment_count":6,"down_vote_count":5,"up_vote_count":33,"is_accepted":false,"score":28,"last_activity_date":1236613672,"creation_date":1236588322,"answer_id":625444,"question_id":625433,"body_markdown":"Either hand divisions, or use the [SimpleDateFormat API][1].\r\n\r\n    long start = System.currentTimeMillis();\r\n    // do your work...\r\n    long elapsed = System.currentTimeMillis() - start;\r\n    DateFormat df = new SimpleDateFormat(&quot;HH &#39;hours&#39;, mm &#39;mins,&#39; ss &#39;seconds&#39;&quot;);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;GMT+0&quot;));\r\n    System.out.println(df.format(new Date(elapsed)));\r\n\r\n**Edit by [Bombe][2]**: It has been shown in the comments that this approach only works for smaller durations (i.e. less than a day).\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/text/SimpleDateFormat.html\r\n[2]: https://stackoverflow.com/users/43582/bombe","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Either hand divisions, or use the <a href=\"http://java.sun.com/javase/6/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat API</a>.</p>\n\n<pre><code>long start = System.currentTimeMillis();\n// do your work...\nlong elapsed = System.currentTimeMillis() - start;\nDateFormat df = new SimpleDateFormat(\"HH 'hours', mm 'mins,' ss 'seconds'\");\ndf.setTimeZone(TimeZone.getTimeZone(\"GMT+0\"));\nSystem.out.println(df.format(new Date(elapsed)));\n</code></pre>\n\n<p><strong>Edit by <a href=\"https://stackoverflow.com/users/43582/bombe\">Bombe</a></strong>: It has been shown in the comments that this approach only works for smaller durations (i.e. less than a day).</p>\n"},{"comments":[{"owner":{"account_id":97092,"reputation":306,"user_id":263554,"display_name":"Lajcik"},"score":1,"creation_date":1295351419,"post_id":625456,"comment_id":5217805,"body_markdown":"Great, I was just asking myself if there was a robust library that included this sort of things.","body":"Great, I was just asking myself if there was a robust library that included this sort of things."},{"owner":{"account_id":67096,"reputation":24787,"user_id":196507,"accept_rate":90,"display_name":"lepe"},"score":0,"creation_date":1566868065,"post_id":625456,"comment_id":101781592,"body_markdown":"As a link is generally not very useful, I added an example on how can it be used.","body":"As a link is generally not very useful, I added an example on how can it be used."}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1566868551,"creation_date":1236588525,"answer_id":625456,"question_id":625433,"body_markdown":"I would not pull in the extra dependency just for that (division is not that hard, after all), but if you are using Commons Lang anyway, there are the [DurationFormatUtils][1].\r\n\r\nExample Usage (adapted from [here](https://www.programcreek.com/java-api-examples/?code=ibissource/iaf/iaf-master/core/src/main/java/nl/nn/adapterframework/util/Misc.java)):\r\n\r\n```java\r\nimport org.apache.commons.lang3.time.DurationFormatUtils\r\n\r\npublic String getAge(long value) {\r\n\tlong currentTime = System.currentTimeMillis();\r\n\tlong age = currentTime - value;\r\n\tString ageString = DurationFormatUtils.formatDuration(age, &quot;d&quot;) + &quot;d&quot;;\r\n\tif (&quot;0d&quot;.equals(ageString)) {\r\n\t\tageString = DurationFormatUtils.formatDuration(age, &quot;H&quot;) + &quot;h&quot;;\r\n\t\tif (&quot;0h&quot;.equals(ageString)) {\r\n\t\t\tageString = DurationFormatUtils.formatDuration(age, &quot;m&quot;) + &quot;m&quot;;\r\n\t\t\tif (&quot;0m&quot;.equals(ageString)) {\r\n\t\t\t\tageString = DurationFormatUtils.formatDuration(age, &quot;s&quot;) + &quot;s&quot;;\r\n\t\t\t\tif (&quot;0s&quot;.equals(ageString)) {\r\n\t\t\t\t\tageString = age + &quot;ms&quot;;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn ageString;\r\n}\t\r\n```\r\nExample:\r\n```java\r\nlong lastTime = System.currentTimeMillis() - 2000;\r\nSystem.out.println(&quot;Elapsed time: &quot; + getAge(lastTime)); \r\n\r\n//Output: 2s\r\n```\r\n**Note**: To get millis from two LocalDateTime objects you can use:\r\n```java\r\nlong age = ChronoUnit.MILLIS.between(initTime, LocalDateTime.now())\r\n```\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DurationFormatUtils.html","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>I would not pull in the extra dependency just for that (division is not that hard, after all), but if you are using Commons Lang anyway, there are the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DurationFormatUtils.html\" rel=\"nofollow noreferrer\">DurationFormatUtils</a>.</p>\n\n<p>Example Usage (adapted from <a href=\"https://www.programcreek.com/java-api-examples/?code=ibissource/iaf/iaf-master/core/src/main/java/nl/nn/adapterframework/util/Misc.java\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang3.time.DurationFormatUtils\n\npublic String getAge(long value) {\n    long currentTime = System.currentTimeMillis();\n    long age = currentTime - value;\n    String ageString = DurationFormatUtils.formatDuration(age, \"d\") + \"d\";\n    if (\"0d\".equals(ageString)) {\n        ageString = DurationFormatUtils.formatDuration(age, \"H\") + \"h\";\n        if (\"0h\".equals(ageString)) {\n            ageString = DurationFormatUtils.formatDuration(age, \"m\") + \"m\";\n            if (\"0m\".equals(ageString)) {\n                ageString = DurationFormatUtils.formatDuration(age, \"s\") + \"s\";\n                if (\"0s\".equals(ageString)) {\n                    ageString = age + \"ms\";\n                }\n            }\n        }\n    }\n    return ageString;\n}   \n</code></pre>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>long lastTime = System.currentTimeMillis() - 2000;\nSystem.out.println(\"Elapsed time: \" + getAge(lastTime)); \n\n//Output: 2s\n</code></pre>\n\n<p><strong>Note</strong>: To get millis from two LocalDateTime objects you can use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>long age = ChronoUnit.MILLIS.between(initTime, LocalDateTime.now())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162686,"reputation":31355,"user_id":384306,"accept_rate":89,"display_name":"Nathan Schwermann"},"score":5,"creation_date":1306383603,"post_id":625624,"comment_id":7118993,"body_markdown":"int months =(int)((float)days / 30.4368499f);\nint years = (int)((float)days / 365.242199f);","body":"int months =(int)((float)days / 30.4368499f); int years = (int)((float)days / 365.242199f);"},{"owner":{"account_id":50952,"reputation":2463,"user_id":152109,"accept_rate":77,"display_name":"Per Alexandersson"},"score":7,"creation_date":1329081307,"post_id":625624,"comment_id":11659067,"body_markdown":"Id suggest to use mod 60 instead of subtracting the minutes, it looks cleaner. However, one needs to know that 1 min = 60 sec to do that... =)","body":"Id suggest to use mod 60 instead of subtracting the minutes, it looks cleaner. However, one needs to know that 1 min = 60 sec to do that... =)"},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":0,"creation_date":1411721611,"post_id":625624,"comment_id":40819148,"body_markdown":"Oh no ... why is this solution so much voted up? I would suggest not to use such long, explicit code. There are **much better solutions** (based on a single time object like **`new Date(ms)`**, or similar using other libs) **posted below** considering **`SimpleDateFormat(&quot;mm &#39;min,&#39; ss &#39;sec&#39;&quot;)`** (Java native), **DurationFormatUtils** (famous commons-lang lib dependency), **`YodaTime`** (famous Yoda lib dependency) and **`String.format(&quot;%tT&quot;)`** (Java native) (I&#39;ll vote this one down and others up because the mentioned solutions should be prefered in general for best practice)","body":"Oh no ... why is this solution so much voted up? I would suggest not to use such long, explicit code. There are <b>much better solutions</b> (based on a single time object like <b><code>new Date(ms)</code></b>, or similar using other libs) <b>posted below</b> considering <b><code>SimpleDateFormat(&quot;mm &#39;min,&#39; ss &#39;sec&#39;&quot;)</code></b> (Java native), <b>DurationFormatUtils</b> (famous commons-lang lib dependency), <b><code>YodaTime</code></b> (famous Yoda lib dependency) and <b><code>String.format(&quot;%tT&quot;)</code></b> (Java native) (I&#39;ll vote this one down and others up because the mentioned solutions should be prefered in general for best practice)"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":2,"creation_date":1414056633,"post_id":625624,"comment_id":41677806,"body_markdown":"@AndreasDietrich SimpleDateFormat doesn&#39;t work for time differences as it only return date from epoch!","body":"@AndreasDietrich SimpleDateFormat doesn&#39;t work for time differences as it only return date from epoch!"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":10,"creation_date":1414056958,"post_id":625624,"comment_id":41677979,"body_markdown":"`int hours   = (int) ((milliseconds / (1000*60*60)) % 24)` this doesn&#39;t work! instead it should be like this `int hours   = (int) (milliseconds / (1000*60*60)) ;`","body":"<code>int hours   = (int) ((milliseconds &#47; (1000*60*60)) % 24)</code> this doesn&#39;t work! instead it should be like this <code>int hours   = (int) (milliseconds &#47; (1000*60*60)) ;</code>"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1414056987,"post_id":625624,"comment_id":41677992,"body_markdown":"Also could you please explain why are you using % operator?","body":"Also could you please explain why are you using % operator?"},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":0,"creation_date":1414070162,"post_id":625624,"comment_id":41684511,"body_markdown":"@MuhammadBabar: **`SimpleDateFormat`** I mentioned for the simple output formatting feature (a little **independent of the difference calculation**). If one wants to use it for this, of course one has to give it a `Date` object that is already a calculated difference added to `new Date(0)` with some additional ugly magic related to the underlying timezone stuff. The calculation is not pretty and I don&#39;t wanna mention it here, but my answer was intended to point to classes that help to encapsulate functionality using existing libraries/classes.","body":"@MuhammadBabar: <b><code>SimpleDateFormat</code></b> I mentioned for the simple output formatting feature (a little <b>independent of the difference calculation</b>). If one wants to use it for this, of course one has to give it a <code>Date</code> object that is already a calculated difference added to <code>new Date(0)</code> with some additional ugly magic related to the underlying timezone stuff. The calculation is not pretty and I don&#39;t wanna mention it here, but my answer was intended to point to classes that help to encapsulate functionality using existing libraries/classes."},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":1,"creation_date":1414070194,"post_id":625624,"comment_id":41684523,"body_markdown":"@MuhammadBabar: The **`%` operator (modulo) is needed to &quot;throw away&quot; everything bigger than the current &quot;sub-time scope&quot; (e.g. *91 s should become &quot;31 sec&quot; displayed as &quot;1 min + 31 sec&quot;*)**","body":"@MuhammadBabar: The <b><code>%</code> operator (modulo) is needed to &quot;throw away&quot; everything bigger than the current &quot;sub-time scope&quot; (e.g. <i>91 s should become &quot;31 sec&quot; displayed as &quot;1 min + 31 sec&quot;</i>)</b>"},{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":1,"creation_date":1414070603,"post_id":625624,"comment_id":41684754,"body_markdown":"as MuhammadBabar mentioned **the biggest time/date part in the calculation above should not use the `%` (modulo) operator** since it should not be divided by some factor even if it looks inconvinient if an *hour* may look bigger than expected, **e.g. 30 days displayed as &quot;hh:mm:ss&quot; would look like &quot;720:00:00&quot; (correct) and not &quot;00:00:00&quot; (incorrect) (if moduloed by `%`**)  .. all these problems because its complicated and using libraries prevents such hassle!","body":"as MuhammadBabar mentioned <b>the biggest time/date part in the calculation above should not use the <code>%</code> (modulo) operator</b> since it should not be divided by some factor even if it looks inconvinient if an <i>hour</i> may look bigger than expected, <b>e.g. 30 days displayed as &quot;hh:mm:ss&quot; would look like &quot;720:00:00&quot; (correct) and not &quot;00:00:00&quot; (incorrect) (if moduloed by <code>%</code></b>)  .. all these problems because its complicated and using libraries prevents such hassle!"},{"owner":{"account_id":1917922,"reputation":1111,"user_id":1730100,"accept_rate":87,"display_name":"kazy"},"score":7,"creation_date":1417018142,"post_id":625624,"comment_id":42801853,"body_markdown":"If somebody wants a format for video files (**h:mm:ss**): `String.format(&quot;%01d:%02d:%02d&quot;, hours, minutes, seconds);`","body":"If somebody wants a format for video files (<b>h:mm:ss</b>): <code>String.format(&quot;%01d:%02d:%02d&quot;, hours, minutes, seconds);</code>"},{"owner":{"account_id":6106639,"reputation":323,"user_id":4764204,"accept_rate":93,"display_name":"floquet22"},"score":0,"creation_date":1464764888,"post_id":625624,"comment_id":62611330,"body_markdown":"what about leap seconds? That my break some to the suggested conversions.","body":"what about leap seconds? That my break some to the suggested conversions."},{"owner":{"account_id":1741886,"reputation":1520,"user_id":1593056,"display_name":"Hexise"},"score":2,"creation_date":1537710886,"post_id":625624,"comment_id":91875257,"body_markdown":"There is a problem. When milliseconds is 59999, actually it is 1 minute but it will be computed as 59 seconds and 999 milliseconds is lost.","body":"There is a problem. When milliseconds is 59999, actually it is 1 minute but it will be computed as 59 seconds and 999 milliseconds is lost."}],"tags":[],"owner":{"account_id":28040,"reputation":16551,"user_id":74491,"accept_rate":38,"display_name":"siddhadev"},"comment_count":12,"down_vote_count":4,"up_vote_count":1333,"is_accepted":true,"score":1329,"last_activity_date":1472766750,"creation_date":1236592879,"answer_id":625624,"question_id":625433,"body_markdown":"Use the [`java.util.concurrent.TimeUnit`][1] class:\r\n\r\n    String.format(&quot;%d min, %d sec&quot;, \r\n        TimeUnit.MILLISECONDS.toMinutes(millis),\r\n        TimeUnit.MILLISECONDS.toSeconds(millis) - \r\n        TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis))\r\n    );\r\n\r\nNote: `TimeUnit` is part of the Java 1.5 specification, but `toMinutes` was added as of Java 1.6.\r\n\r\nTo add a leading zero for values 0-9, just do:\r\n\r\n    String.format(&quot;%02d min, %02d sec&quot;, \r\n        TimeUnit.MILLISECONDS.toMinutes(millis),\r\n        TimeUnit.MILLISECONDS.toSeconds(millis) - \r\n        TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis))\r\n    );\r\n\r\n\r\nIf `TimeUnit` or `toMinutes` are unsupported (such as on Android before API version 9), use the following equations:\r\n\r\n    int seconds = (int) (milliseconds / 1000) % 60 ;\r\n    int minutes = (int) ((milliseconds / (1000*60)) % 60);\r\n    int hours   = (int) ((milliseconds / (1000*60*60)) % 24);\r\n    //etc...\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html#toMinutes(long)","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/TimeUnit.html#toMinutes(long)\" rel=\"noreferrer\"><code>java.util.concurrent.TimeUnit</code></a> class:</p>\n\n<pre><code>String.format(\"%d min, %d sec\", \n    TimeUnit.MILLISECONDS.toMinutes(millis),\n    TimeUnit.MILLISECONDS.toSeconds(millis) - \n    TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis))\n);\n</code></pre>\n\n<p>Note: <code>TimeUnit</code> is part of the Java 1.5 specification, but <code>toMinutes</code> was added as of Java 1.6.</p>\n\n<p>To add a leading zero for values 0-9, just do:</p>\n\n<pre><code>String.format(\"%02d min, %02d sec\", \n    TimeUnit.MILLISECONDS.toMinutes(millis),\n    TimeUnit.MILLISECONDS.toSeconds(millis) - \n    TimeUnit.MINUTES.toSeconds(TimeUnit.MILLISECONDS.toMinutes(millis))\n);\n</code></pre>\n\n<p>If <code>TimeUnit</code> or <code>toMinutes</code> are unsupported (such as on Android before API version 9), use the following equations:</p>\n\n<pre><code>int seconds = (int) (milliseconds / 1000) % 60 ;\nint minutes = (int) ((milliseconds / (1000*60)) % 60);\nint hours   = (int) ((milliseconds / (1000*60*60)) % 24);\n//etc...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1107006,"reputation":4327,"user_id":1098218,"accept_rate":53,"display_name":"Amarjit"},"score":0,"creation_date":1468932014,"post_id":5554050,"comment_id":64321835,"body_markdown":"for minutes you can use TimeUnit.MILLISECONDS.toMinutes(length)","body":"for minutes you can use TimeUnit.MILLISECONDS.toMinutes(length)"}],"tags":[],"owner":{"account_id":736036,"reputation":119,"user_id":693198,"display_name":"Xtera"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1302084112,"creation_date":1302015840,"answer_id":5554050,"question_id":625433,"body_markdown":"I think the best way is:\r\n\r\n    String.format(&quot;%d min, %d sec&quot;, \r\n    \tTimeUnit.MILLISECONDS.toSeconds(length)/60,\r\n    \tTimeUnit.MILLISECONDS.toSeconds(length) % 60 );","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>I think the best way is:</p>\n\n<pre><code>String.format(\"%d min, %d sec\", \n    TimeUnit.MILLISECONDS.toSeconds(length)/60,\n    TimeUnit.MILLISECONDS.toSeconds(length) % 60 );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"score":0,"creation_date":1518609561,"post_id":5554673,"comment_id":84574732,"body_markdown":"That&#39;s a precious hint, there are many such possibilities for date and time with Java Formatter API (https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html)!\nYou could also have the else condition result with: \n  System.out.printf(&quot;%1$tH:%1$tM:%1$tS%n&quot;, millis); or even \n\n  System.out.printf(&quot;%1$tT%n&quot;, millis);","body":"That&#39;s a precious hint, there are many such possibilities for date and time with Java Formatter API (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Formatter.html</a>)&zwnj;&#8203;! You could also have the else condition result with:    System.out.printf(&quot;%1$tH:%1$tM:%1$tS%n&quot;, millis); or even     System.out.printf(&quot;%1$tT%n&quot;, millis);"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1518612620,"post_id":5554673,"comment_id":84576863,"body_markdown":"@JoseTepedino but you are aware that `%tH` **only** shows from 0 up to 23 hours ? That means that for example 24 hours would be displayed as `00`, 25 hours as `01`... same valid for `%tT` - days will be silently discarded. Sure, could also have days displayed, but that would be an overkill for the problem I had when I wrote this (back in 2011) [:-)","body":"@JoseTepedino but you are aware that <code>%tH</code> <b>only</b> shows from 0 up to 23 hours ? That means that for example 24 hours would be displayed as <code>00</code>, 25 hours as <code>01</code>... same valid for <code>%tT</code> - days will be silently discarded. Sure, could also have days displayed, but that would be an overkill for the problem I had when I wrote this (back in 2011) [:-)"},{"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"score":0,"creation_date":1518614202,"post_id":5554673,"comment_id":84577881,"body_markdown":"I see... that would really only work for times less than a day (24h). Thank you.","body":"I see... that would really only work for times less than a day (24h). Thank you."}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1302018574,"creation_date":1302018574,"answer_id":5554673,"question_id":625433,"body_markdown":"For small times, less than an hour, I prefer:  \r\n\r\n    long millis = ...\r\n\r\n    System.out.printf(&quot;%1$TM:%1$TS&quot;, millis);\r\n    // or\r\n    String str = String.format(&quot;%1$TM:%1$TS&quot;, millis);\r\n\r\nfor longer intervalls:  \r\n\r\n    private static final long HOUR = TimeUnit.HOURS.toMillis(1);\r\n    ...\r\n    if (millis &lt; HOUR) {\r\n        System.out.printf(&quot;%1$TM:%1$TS%n&quot;, millis);\r\n    } else {\r\n        System.out.printf(&quot;%d:%2$TM:%2$TS%n&quot;, millis / HOUR, millis % HOUR);\r\n    }\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>For small times, less than an hour, I prefer:  </p>\n\n<pre><code>long millis = ...\n\nSystem.out.printf(\"%1$TM:%1$TS\", millis);\n// or\nString str = String.format(\"%1$TM:%1$TS\", millis);\n</code></pre>\n\n<p>for longer intervalls:  </p>\n\n<pre><code>private static final long HOUR = TimeUnit.HOURS.toMillis(1);\n...\nif (millis &lt; HOUR) {\n    System.out.printf(\"%1$TM:%1$TS%n\", millis);\n} else {\n    System.out.printf(\"%d:%2$TM:%2$TS%n\", millis / HOUR, millis % HOUR);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1401475,"reputation":1995,"user_id":1339923,"accept_rate":100,"display_name":"Lambart"},"score":1,"creation_date":1467224843,"post_id":6128018,"comment_id":63648513,"body_markdown":"Best answer here. Why does everyone want to make things so complicated? This is simple math, folks.","body":"Best answer here. Why does everyone want to make things so complicated? This is simple math, folks."}],"tags":[],"owner":{"account_id":158625,"reputation":3575,"user_id":377398,"accept_rate":95,"display_name":"fredcrs"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1306342369,"creation_date":1306342369,"answer_id":6128018,"question_id":625433,"body_markdown":"Just to add more info\r\nif you want to format like:  HH:mm:ss\r\n\r\n0 &lt;= HH &lt;= infinite\r\n\r\n0 &lt;= mm &lt; 60\r\n\r\n0 &lt;= ss &lt; 60\r\n\r\nuse this:\r\n\r\n    int h = (int) ((startTimeInMillis / 1000) / 3600);\r\n    int m = (int) (((startTimeInMillis / 1000) / 60) % 60);\r\n    int s = (int) ((startTimeInMillis / 1000) % 60);\r\n\r\nI just had this issue now and figured this out","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Just to add more info\nif you want to format like:  HH:mm:ss</p>\n\n<p>0 &lt;= HH &lt;= infinite</p>\n\n<p>0 &lt;= mm &lt; 60</p>\n\n<p>0 &lt;= ss &lt; 60</p>\n\n<p>use this:</p>\n\n<pre><code>int h = (int) ((startTimeInMillis / 1000) / 3600);\nint m = (int) (((startTimeInMillis / 1000) / 60) % 60);\nint s = (int) ((startTimeInMillis / 1000) % 60);\n</code></pre>\n\n<p>I just had this issue now and figured this out</p>\n"},{"comments":[{"owner":{"account_id":3618474,"reputation":1861,"user_id":3017818,"accept_rate":100,"display_name":"Daniel"},"score":2,"creation_date":1404285661,"post_id":7663966,"comment_id":37973968,"body_markdown":"You should do a checking there for single/multiple, in order to avoid this kind of situation : `1 Days 1 Hours 1 Minutes 1 Seconds`","body":"You should do a checking there for single/multiple, in order to avoid this kind of situation : <code>1 Days 1 Hours 1 Minutes 1 Seconds</code>"},{"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"score":12,"creation_date":1471080895,"post_id":7663966,"comment_id":65218636,"body_markdown":"We could use modulus function instead of subtraction:\n \n`long days = TimeUnit.MILLISECONDS.toDays(millis);`\n`long hours = TimeUnit.MILLISECONDS.toHours(millis) % 24;`\n`long minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60;`\n`long seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60;`\n`long milliseconds = millis % 1000;`\n\nand also String.format method:\n`return String.format(&quot;%d Days %d Hours %d Minutes %d Seconds %d Milliseconds&quot;,\n        \tdays, hours, minutes, seconds, milliseconds);`","body":"We could use modulus function instead of subtraction:   <code>long days = TimeUnit.MILLISECONDS.toDays(millis);</code> <code>long hours = TimeUnit.MILLISECONDS.toHours(millis) % 24;</code> <code>long minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60;</code> <code>long seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60;</code> <code>long milliseconds = millis % 1000;</code>  and also String.format method: <code>return String.format(&quot;%d Days %d Hours %d Minutes %d Seconds %d Milliseconds&quot;,         \tdays, hours, minutes, seconds, milliseconds);</code>"}],"tags":[],"owner":{"account_id":53422,"reputation":19165,"user_id":159658,"accept_rate":100,"display_name":"Brent Writes Code"},"comment_count":2,"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1518300041,"creation_date":1317829287,"answer_id":7663966,"question_id":625433,"body_markdown":"Based on @siddhadev&#39;s answer, I wrote a function which converts milliseconds to a formatted string:\r\n\r\n       /**\r\n    \t * Convert a millisecond duration to a string format\r\n    \t * \r\n    \t * @param millis A duration to convert to a string form\r\n    \t * @return A string of the form &quot;X Days Y Hours Z Minutes A Seconds&quot;.\r\n    \t */\r\n    \tpublic static String getDurationBreakdown(long millis) {\r\n            if(millis &lt; 0) {\r\n                throw new IllegalArgumentException(&quot;Duration must be greater than zero!&quot;);\r\n            }\r\n\r\n            long days = TimeUnit.MILLISECONDS.toDays(millis);\r\n    \t    millis -= TimeUnit.DAYS.toMillis(days);\r\n    \t    long hours = TimeUnit.MILLISECONDS.toHours(millis);\r\n    \t    millis -= TimeUnit.HOURS.toMillis(hours);\r\n            long minutes = TimeUnit.MILLISECONDS.toMinutes(millis);\r\n    \t    millis -= TimeUnit.MINUTES.toMillis(minutes);\r\n    \t    long seconds = TimeUnit.MILLISECONDS.toSeconds(millis);\r\n    \t\t\r\n    \t    StringBuilder sb = new StringBuilder(64);\r\n    \t    sb.append(days);\r\n    \t    sb.append(&quot; Days &quot;);\r\n    \t    sb.append(hours);\r\n    \t    sb.append(&quot; Hours &quot;);\r\n    \t    sb.append(minutes);\r\n    \t    sb.append(&quot; Minutes &quot;);\r\n    \t    sb.append(seconds);\r\n    \t    sb.append(&quot; Seconds&quot;);\r\n    \t\t\r\n    \t    return(sb.toString());\r\n    \t}","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Based on @siddhadev's answer, I wrote a function which converts milliseconds to a formatted string:</p>\n\n<pre><code>   /**\n     * Convert a millisecond duration to a string format\n     * \n     * @param millis A duration to convert to a string form\n     * @return A string of the form \"X Days Y Hours Z Minutes A Seconds\".\n     */\n    public static String getDurationBreakdown(long millis) {\n        if(millis &lt; 0) {\n            throw new IllegalArgumentException(\"Duration must be greater than zero!\");\n        }\n\n        long days = TimeUnit.MILLISECONDS.toDays(millis);\n        millis -= TimeUnit.DAYS.toMillis(days);\n        long hours = TimeUnit.MILLISECONDS.toHours(millis);\n        millis -= TimeUnit.HOURS.toMillis(hours);\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(millis);\n        millis -= TimeUnit.MINUTES.toMillis(minutes);\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(millis);\n\n        StringBuilder sb = new StringBuilder(64);\n        sb.append(days);\n        sb.append(\" Days \");\n        sb.append(hours);\n        sb.append(\" Hours \");\n        sb.append(minutes);\n        sb.append(\" Minutes \");\n        sb.append(seconds);\n        sb.append(\" Seconds\");\n\n        return(sb.toString());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1233489,"reputation":1467,"user_id":1197590,"display_name":"John"},"comment_count":0,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1328717195,"creation_date":1328716636,"answer_id":9196808,"question_id":625433,"body_markdown":"for correct strings (&quot;1hour, 3sec&quot;, &quot;3 min&quot; but not &quot;0 hour, 0 min, 3 sec&quot;) i write this code:\r\n\r\n    int seconds = (int)(millis / 1000) % 60 ;\r\n    int minutes = (int)((millis / (1000*60)) % 60);\r\n    int hours = (int)((millis / (1000*60*60)) % 24);\r\n    int days = (int)((millis / (1000*60*60*24)) % 365);\r\n    int years = (int)(millis / 1000*60*60*24*365);\r\n    \r\n    ArrayList&lt;String&gt; timeArray = new ArrayList&lt;String&gt;();\r\n    \r\n    if(years &gt; 0)   \r\n        timeArray.add(String.valueOf(years)   + &quot;y&quot;);\r\n\r\n    if(days &gt; 0)    \r\n        timeArray.add(String.valueOf(days) + &quot;d&quot;);\r\n\r\n    if(hours&gt;0)   \r\n        timeArray.add(String.valueOf(hours) + &quot;h&quot;);\r\n\r\n    if(minutes&gt;0) \r\n        timeArray.add(String.valueOf(minutes) + &quot;min&quot;);\r\n\r\n    if(seconds&gt;0) \r\n        timeArray.add(String.valueOf(seconds) + &quot;sec&quot;);\r\n    \r\n    String time = &quot;&quot;;\r\n    for (int i = 0; i &lt; timeArray.size(); i++) \r\n    {\r\n        time = time + timeArray.get(i);\r\n        if (i != timeArray.size() - 1)\r\n            time = time + &quot;, &quot;;\r\n    }\r\n\r\n    if (time == &quot;&quot;)\r\n      time = &quot;0 sec&quot;;","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>for correct strings (\"1hour, 3sec\", \"3 min\" but not \"0 hour, 0 min, 3 sec\") i write this code:</p>\n\n<pre><code>int seconds = (int)(millis / 1000) % 60 ;\nint minutes = (int)((millis / (1000*60)) % 60);\nint hours = (int)((millis / (1000*60*60)) % 24);\nint days = (int)((millis / (1000*60*60*24)) % 365);\nint years = (int)(millis / 1000*60*60*24*365);\n\nArrayList&lt;String&gt; timeArray = new ArrayList&lt;String&gt;();\n\nif(years &gt; 0)   \n    timeArray.add(String.valueOf(years)   + \"y\");\n\nif(days &gt; 0)    \n    timeArray.add(String.valueOf(days) + \"d\");\n\nif(hours&gt;0)   \n    timeArray.add(String.valueOf(hours) + \"h\");\n\nif(minutes&gt;0) \n    timeArray.add(String.valueOf(minutes) + \"min\");\n\nif(seconds&gt;0) \n    timeArray.add(String.valueOf(seconds) + \"sec\");\n\nString time = \"\";\nfor (int i = 0; i &lt; timeArray.size(); i++) \n{\n    time = time + timeArray.get(i);\n    if (i != timeArray.size() - 1)\n        time = time + \", \";\n}\n\nif (time == \"\")\n  time = \"0 sec\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":1,"creation_date":1333377734,"post_id":9311087,"comment_id":12749557,"body_markdown":"I like the above approach the best if for nothing else its simplicity! Since we are dealing with times and durations I typically use Joda.\n\nAn example if you have two DateTimes, start and end respectively:\n`Duration dur = new Duration(start, end);`\n`long millis = dur.getMillis();`","body":"I like the above approach the best if for nothing else its simplicity! Since we are dealing with times and durations I typically use Joda.  An example if you have two DateTimes, start and end respectively: <code>Duration dur = new Duration(start, end);</code> <code>long millis = dur.getMillis();</code>"},{"owner":{"account_id":1165974,"reputation":4349,"user_id":1144275,"display_name":"TechTrip"},"score":1,"creation_date":1333382635,"post_id":9311087,"comment_id":12751547,"body_markdown":"I should have noted 2 ways to use Joda formatters. First variation on your theme: `DateTimeFormat.forPattern(&quot;mm:ss:SSS&quot;).print(new DateTime(time));`\n\nOr convert the Duration to a Period that can automatically be printed using a Joda `PeriodFormatter`. The conversion could have a loss of precision if other than ISO chronology. \n\nSuppose a Duration represented by the variable `duration`.\n\n`Period  period = duration.toPeriod().normalizedStandard(PeriodType.time());`\n`PeriodFormat.getDefault().print(period))`\n\nOutput is awesome: 1 second and 581 milliseconds, answering the main question above.","body":"I should have noted 2 ways to use Joda formatters. First variation on your theme: <code>DateTimeFormat.forPattern(&quot;mm:ss:SSS&quot;).print(new DateTime(time));</code>  Or convert the Duration to a Period that can automatically be printed using a Joda <code>PeriodFormatter</code>. The conversion could have a loss of precision if other than ISO chronology.   Suppose a Duration represented by the variable <code>duration</code>.  <code>Period  period = duration.toPeriod().normalizedStandard(PeriodType.time());</code> <code>PeriodFormat.getDefault().print(period))</code>  Output is awesome: 1 second and 581 milliseconds, answering the main question above."},{"owner":{"account_id":1393227,"reputation":690,"user_id":1323546,"accept_rate":80,"display_name":"Olle S&#246;derstr&#246;m"},"score":3,"creation_date":1366373678,"post_id":9311087,"comment_id":22995813,"body_markdown":"A bit late here :) But wouldn&#39;t you need to put simpleDateFormat.setTimezone(TimeZone.getTimeZone(&quot;GMT&quot;)) here unless that is your actual timezone?","body":"A bit late here :) But wouldn&#39;t you need to put simpleDateFormat.setTimezone(TimeZone.getTimeZone(&quot;GMT&quot;)) here unless that is your actual timezone?"},{"owner":{"account_id":76773,"reputation":4499,"user_id":219547,"accept_rate":97,"display_name":"Episodex"},"score":1,"creation_date":1436534847,"post_id":9311087,"comment_id":50668005,"body_markdown":"@OlleS&#246;derstr&#246;m There is indeed an issue with timezone here. But setting it to GMT or UTC causes the hour part to be 12 instead of 0 for all durations shorter than 1 hour.","body":"@OlleS&#246;derstr&#246;m There is indeed an issue with timezone here. But setting it to GMT or UTC causes the hour part to be 12 instead of 0 for all durations shorter than 1 hour."},{"owner":{"account_id":958617,"reputation":4858,"user_id":983430,"accept_rate":100,"display_name":"Amos M. Carpenter"},"score":3,"creation_date":1459750867,"post_id":9311087,"comment_id":60408095,"body_markdown":"Timezone isn&#39;t the only issue here... this answer is misleading and could seriously confuse Java newbies. Even ignoring the redundant outer brackets, the OP asked how to present a _duration_ (a difference between two points in time, measured in ms). Calling that duration &quot;time&quot; and treating it as an offset since 1 Jan, 1970 just for the sake of formatting its smaller components is just... wrong imo. What&#39;s more, the very same approach had already been suggested 3 years earlier by [this answer](http://stackoverflow.com/a/625444/983430) (see comments there for more details on timezone problems).","body":"Timezone isn&#39;t the only issue here... this answer is misleading and could seriously confuse Java newbies. Even ignoring the redundant outer brackets, the OP asked how to present a <i>duration</i> (a difference between two points in time, measured in ms). Calling that duration &quot;time&quot; and treating it as an offset since 1 Jan, 1970 just for the sake of formatting its smaller components is just... wrong imo. What&#39;s more, the very same approach had already been suggested 3 years earlier by <a href=\"http://stackoverflow.com/a/625444/983430\">this answer</a> (see comments there for more details on timezone problems)."},{"owner":{"account_id":292165,"reputation":5455,"user_id":594765,"accept_rate":70,"display_name":"JBoy"},"score":0,"creation_date":1463666232,"post_id":9311087,"comment_id":62170082,"body_markdown":"It builds 2 objects, one of which is very heavy (Date), depending on the amount of data to be handled, this could be slow","body":"It builds 2 objects, one of which is very heavy (Date), depending on the amount of data to be handled, this could be slow"}],"tags":[],"owner":{"account_id":1253894,"reputation":1411,"user_id":1213763,"display_name":"Damien"},"comment_count":6,"down_vote_count":3,"up_vote_count":96,"is_accepted":false,"score":93,"last_activity_date":1446569571,"creation_date":1329394477,"answer_id":9311087,"question_id":625433,"body_markdown":"    long time = 1536259;\r\n    \r\n    return (new SimpleDateFormat(&quot;mm:ss:SSS&quot;)).format(new Date(time));\r\nPrints:\r\n&gt; 25:36:259\r\n\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<pre><code>long time = 1536259;\n\nreturn (new SimpleDateFormat(\"mm:ss:SSS\")).format(new Date(time));\n</code></pre>\n\n<p>Prints:</p>\n\n<blockquote>\n  <p>25:36:259</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":466330,"reputation":13849,"user_id":871012,"accept_rate":74,"display_name":"quux00"},"score":3,"creation_date":1374606496,"post_id":10224110,"comment_id":26003285,"body_markdown":"The formula on line 6 is wrong.  `diff=diff-(hours*60*1000);` should be `diff=diff-(hours*60*60*1000);`.  I tried editing it but StackOverflow&#39;s annoying edit policy says it&#39;s not enough characters for an edit.","body":"The formula on line 6 is wrong.  <code>diff=diff-(hours*60*1000);</code> should be <code>diff=diff-(hours*60*60*1000);</code>.  I tried editing it but StackOverflow&#39;s annoying edit policy says it&#39;s not enough characters for an edit."}],"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1374607613,"creation_date":1334823294,"answer_id":10224110,"question_id":625433,"body_markdown":"        long startTime = System.currentTimeMillis();\r\n        // do your work...\r\n        long endTime=System.currentTimeMillis();\r\n        long diff=endTime-startTime;       \r\n        long hours=TimeUnit.MILLISECONDS.toHours(diff);\r\n        diff=diff-(hours*60*60*1000);\r\n        long min=TimeUnit.MILLISECONDS.toMinutes(diff);\r\n        diff=diff-(min*60*1000);\r\n        long seconds=TimeUnit.MILLISECONDS.toSeconds(diff);\r\n        //hour, min and seconds variables contains the time elapsed on your work\r\n\r\n\r\n\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<pre><code>    long startTime = System.currentTimeMillis();\n    // do your work...\n    long endTime=System.currentTimeMillis();\n    long diff=endTime-startTime;       \n    long hours=TimeUnit.MILLISECONDS.toHours(diff);\n    diff=diff-(hours*60*60*1000);\n    long min=TimeUnit.MILLISECONDS.toMinutes(diff);\n    diff=diff-(min*60*1000);\n    long seconds=TimeUnit.MILLISECONDS.toSeconds(diff);\n    //hour, min and seconds variables contains the time elapsed on your work\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1167649,"reputation":2530,"user_id":1145561,"accept_rate":77,"display_name":"Pradeep"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1341556746,"creation_date":1341556746,"answer_id":11357074,"question_id":625433,"body_markdown":"for Android below API 9\r\n\r\n\r\n    (String.format(&quot;%d hr %d min, %d sec&quot;, millis/(1000*60*60), (millis%(1000*60*60))/(1000*60), ((millis%(1000*60*60))%(1000*60))/1000)) ","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>for Android below API 9</p>\n\n<pre><code>(String.format(\"%d hr %d min, %d sec\", millis/(1000*60*60), (millis%(1000*60*60))/(1000*60), ((millis%(1000*60*60))%(1000*60))/1000)) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061032,"reputation":49,"user_id":1062660,"display_name":"Reda Bouaichi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1372173129,"creation_date":1372173129,"answer_id":17301076,"question_id":625433,"body_markdown":"Here is an answer based on Brent Nash answer, Hope that helps !\r\n\r\n    public static String getDurationBreakdown(long millis)\r\n    {\r\n\t\tString[] units = {&quot; Days &quot;, &quot; Hours &quot;, &quot; Minutes &quot;, &quot; Seconds &quot;};\r\n\t\tLong[] values = new Long[units.length];\r\n        if(millis &lt; 0)\r\n        {\r\n            throw new IllegalArgumentException(&quot;Duration must be greater than zero!&quot;);\r\n        }\r\n\r\n        values[0] = TimeUnit.MILLISECONDS.toDays(millis);\r\n        millis -= TimeUnit.DAYS.toMillis(values[0]);\r\n        values[1] = TimeUnit.MILLISECONDS.toHours(millis);\r\n        millis -= TimeUnit.HOURS.toMillis(values[1]);\r\n        values[2] = TimeUnit.MILLISECONDS.toMinutes(millis);\r\n        millis -= TimeUnit.MINUTES.toMillis(values[2]);\r\n        values[3] = TimeUnit.MILLISECONDS.toSeconds(millis);\r\n\r\n        StringBuilder sb = new StringBuilder(64);\r\n        boolean startPrinting = false;\r\n        for(int i = 0; i &lt; units.length; i++){\r\n        \tif( !startPrinting &amp;&amp; values[i] != 0)\r\n        \t\tstartPrinting = true;\r\n        \tif(startPrinting){\r\n        \t\tsb.append(values[i]);\r\n        \t\tsb.append(units[i]);\r\n        \t}\r\n        }\r\n\r\n        return(sb.toString());\r\n    }","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Here is an answer based on Brent Nash answer, Hope that helps !</p>\n\n<pre><code>public static String getDurationBreakdown(long millis)\n{\n    String[] units = {\" Days \", \" Hours \", \" Minutes \", \" Seconds \"};\n    Long[] values = new Long[units.length];\n    if(millis &lt; 0)\n    {\n        throw new IllegalArgumentException(\"Duration must be greater than zero!\");\n    }\n\n    values[0] = TimeUnit.MILLISECONDS.toDays(millis);\n    millis -= TimeUnit.DAYS.toMillis(values[0]);\n    values[1] = TimeUnit.MILLISECONDS.toHours(millis);\n    millis -= TimeUnit.HOURS.toMillis(values[1]);\n    values[2] = TimeUnit.MILLISECONDS.toMinutes(millis);\n    millis -= TimeUnit.MINUTES.toMillis(values[2]);\n    values[3] = TimeUnit.MILLISECONDS.toSeconds(millis);\n\n    StringBuilder sb = new StringBuilder(64);\n    boolean startPrinting = false;\n    for(int i = 0; i &lt; units.length; i++){\n        if( !startPrinting &amp;&amp; values[i] != 0)\n            startPrinting = true;\n        if(startPrinting){\n            sb.append(values[i]);\n            sb.append(units[i]);\n        }\n    }\n\n    return(sb.toString());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1457912112,"post_id":19956227,"comment_id":59608828,"body_markdown":"No need for that `PeriodFormat` in the last line. Simply call `Period::toString` to get an [ISO 8601 Duration](https://en.wikipedia.org/wiki/ISO_8601#Durations) string by default.","body":"No need for that <code>PeriodFormat</code> in the last line. Simply call <code>Period::toString</code> to get an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"nofollow noreferrer\">ISO 8601 Duration</a> string by default."}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1407351262,"creation_date":1384352697,"answer_id":19956227,"question_id":625433,"body_markdown":"# Joda-Time\r\n\r\nUsing [Joda-Time][1]:\r\n\r\n    DateTime startTime = new DateTime();\r\n    \r\n    // do something\r\n    \r\n    DateTime endTime = new DateTime();\r\n    Duration duration = new Duration(startTime, endTime);\r\n    Period period = duration.toPeriod().normalizedStandard(PeriodType.time());\r\n    System.out.println(PeriodFormat.getDefault().print(period));\r\n\r\n[1]: http://www.joda.org/joda-time/\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<h1>Joda-Time</h1>\n\n<p>Using <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a>:</p>\n\n<pre><code>DateTime startTime = new DateTime();\n\n// do something\n\nDateTime endTime = new DateTime();\nDuration duration = new Duration(startTime, endTime);\nPeriod period = duration.toPeriod().normalizedStandard(PeriodType.time());\nSystem.out.println(PeriodFormat.getDefault().print(period));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":2,"creation_date":1520095485,"post_id":23176621,"comment_id":85178594,"body_markdown":"See also [How to format a duration in java? (e.g format H:MM:SS)](https://stackoverflow.com/questions/266825/how-to-format-a-duration-in-java-e-g-format-hmmss)","body":"See also <a href=\"https://stackoverflow.com/questions/266825/how-to-format-a-duration-in-java-e-g-format-hmmss\">How to format a duration in java? (e.g format H:MM:SS)</a>"},{"owner":{"account_id":264294,"reputation":23543,"user_id":550471,"accept_rate":84,"display_name":"Someone Somewhere"},"score":3,"creation_date":1528745822,"post_id":23176621,"comment_id":88615733,"body_markdown":"(ANDROID) Requires API level 26","body":"(ANDROID) Requires API level 26"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1570294775,"post_id":23176621,"comment_id":102871297,"body_markdown":"@SomeoneSomewhere For Android under API level 26 use the backport, see [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).","body":"@SomeoneSomewhere For Android under API level 26 use the backport, see <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>."}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":3,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1417290113,"creation_date":1397948997,"answer_id":23176621,"question_id":625433,"body_markdown":"Using the [java.time package][1] in Java 8:\r\n\r\n    Instant start = Instant.now();\r\n    Thread.sleep(63553);\r\n    Instant end = Instant.now();\r\n    System.out.println(Duration.between(start, end));\r\n\r\nOutput is in [ISO 8601 Duration format][4]: `PT1M3.553S` (1 minute and 3.553 seconds).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601#Durations","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> in Java 8:</p>\n\n<pre><code>Instant start = Instant.now();\nThread.sleep(63553);\nInstant end = Instant.now();\nSystem.out.println(Duration.between(start, end));\n</code></pre>\n\n<p>Output is in <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Durations\" rel=\"noreferrer\">ISO 8601 Duration format</a>: <code>PT1M3.553S</code> (1 minute and 3.553 seconds).</p>\n"},{"comments":[{"owner":{"account_id":4104426,"reputation":643,"user_id":3368958,"accept_rate":85,"display_name":"Nelda.techspiress"},"score":0,"creation_date":1502810109,"post_id":24799838,"comment_id":78349860,"body_markdown":"This is such a great short cut, but when I use it I don&#39;t get the expected results. So I have: `long millis = 8398;` and when I pass that to `String.format(&quot;%tT&quot;, millis)` my output is 19:00:08. Where does the 19 come from?","body":"This is such a great short cut, but when I use it I don&#39;t get the expected results. So I have: <code>long millis = 8398;</code> and when I pass that to <code>String.format(&quot;%tT&quot;, millis)</code> my output is 19:00:08. Where does the 19 come from?"},{"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"score":1,"creation_date":1502811009,"post_id":24799838,"comment_id":78350490,"body_markdown":"@Nelda.techspiress That&#39;s the offset of your timezone. You have to subtract `TimeZone.getDefault().getRawOffset()` from it, exactly as written in the answer: `String.format(&quot;%tT&quot;, millis-TimeZone.getDefault().getRawOffset())`","body":"@Nelda.techspiress That&#39;s the offset of your timezone. You have to subtract <code>TimeZone.getDefault().getRawOffset()</code> from it, exactly as written in the answer: <code>String.format(&quot;%tT&quot;, millis-TimeZone.getDefault().getRawOffset())</code>"},{"owner":{"account_id":4104426,"reputation":643,"user_id":3368958,"accept_rate":85,"display_name":"Nelda.techspiress"},"score":0,"creation_date":1502813773,"post_id":24799838,"comment_id":78352328,"body_markdown":"that took care of it. Thank you for clarifying.","body":"that took care of it. Thank you for clarifying."}],"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1456591093,"creation_date":1405589650,"answer_id":24799838,"question_id":625433,"body_markdown":"**Shortest solution:**\r\n\r\nHere&#39;s probably the shortest which also deals with time zones.\r\n\r\n    System.out.printf(&quot;%tT&quot;, millis-TimeZone.getDefault().getRawOffset());\r\n\r\nWhich outputs for example:\r\n\r\n    00:18:32\r\n\r\n\r\n**Explanation:**\r\n\r\n`%tT` is the time formatted for the 24-hour clock as `%tH:%tM:%tS`.\r\n\r\n`%tT` also accepts longs as input, so no need to create a `Date`. `printf()` will simply print the time specified in milliseconds, but in the current time zone therefore we have to subtract the raw offset of the current time zone so that 0 milliseconds will be 0 hours and not the time offset value of the current time zone.\r\n\r\n**Note #1:** If you need the result as a `String`, you can get it like this:\r\n\r\n    String t = String.format(&quot;%tT&quot;, millis-TimeZone.getDefault().getRawOffset());\r\n\r\n**Note #2:** This only gives correct result if `millis` is less than a day because the day part is not included in the output.\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p><strong>Shortest solution:</strong></p>\n\n<p>Here's probably the shortest which also deals with time zones.</p>\n\n<pre><code>System.out.printf(\"%tT\", millis-TimeZone.getDefault().getRawOffset());\n</code></pre>\n\n<p>Which outputs for example:</p>\n\n<pre><code>00:18:32\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p><code>%tT</code> is the time formatted for the 24-hour clock as <code>%tH:%tM:%tS</code>.</p>\n\n<p><code>%tT</code> also accepts longs as input, so no need to create a <code>Date</code>. <code>printf()</code> will simply print the time specified in milliseconds, but in the current time zone therefore we have to subtract the raw offset of the current time zone so that 0 milliseconds will be 0 hours and not the time offset value of the current time zone.</p>\n\n<p><strong>Note #1:</strong> If you need the result as a <code>String</code>, you can get it like this:</p>\n\n<pre><code>String t = String.format(\"%tT\", millis-TimeZone.getDefault().getRawOffset());\n</code></pre>\n\n<p><strong>Note #2:</strong> This only gives correct result if <code>millis</code> is less than a day because the day part is not included in the output.</p>\n"},{"tags":[],"owner":{"account_id":3794267,"reputation":1728,"user_id":3149904,"accept_rate":12,"display_name":"Gourav Singla"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411386062,"creation_date":1411385669,"answer_id":25973149,"question_id":625433,"body_markdown":"If you know the time difference would be less than an hour, then you can use following code:\r\n\r\n        Calendar c1 = Calendar.getInstance();\r\n        Calendar c2 = Calendar.getInstance();\r\n\r\n        c2.add(Calendar.MINUTE, 51);\r\n        \r\n        long diff = c2.getTimeInMillis() - c1.getTimeInMillis();\r\n\r\n        c2.set(Calendar.MINUTE, 0);\r\n        c2.set(Calendar.HOUR, 0);\r\n        c2.set(Calendar.SECOND, 0);\r\n\r\n        DateFormat df = new SimpleDateFormat(&quot;mm:ss&quot;);\r\n        long diff1 = c2.getTimeInMillis() + diff;\r\n        System.out.println(df.format(new Date(diff1)));\r\n\r\nIt will result to: 51:00","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>If you know the time difference would be less than an hour, then you can use following code:</p>\n\n<pre><code>    Calendar c1 = Calendar.getInstance();\n    Calendar c2 = Calendar.getInstance();\n\n    c2.add(Calendar.MINUTE, 51);\n\n    long diff = c2.getTimeInMillis() - c1.getTimeInMillis();\n\n    c2.set(Calendar.MINUTE, 0);\n    c2.set(Calendar.HOUR, 0);\n    c2.set(Calendar.SECOND, 0);\n\n    DateFormat df = new SimpleDateFormat(\"mm:ss\");\n    long diff1 = c2.getTimeInMillis() + diff;\n    System.out.println(df.format(new Date(diff1)));\n</code></pre>\n\n<p>It will result to: 51:00</p>\n"},{"tags":[],"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1426652409,"creation_date":1426652409,"answer_id":29114063,"question_id":625433,"body_markdown":"This answer is similar to some answers above. However, I feel that it would be beneficial because, unlike other answers, this will remove any extra commas or whitespace and handles abbreviation.\r\n\r\n    /**\r\n     * Converts milliseconds to &quot;x days, x hours, x mins, x secs&quot;\r\n     * \r\n     * @param millis\r\n     *            The milliseconds\r\n     * @param longFormat\r\n     *            {@code true} to use &quot;seconds&quot; and &quot;minutes&quot; instead of &quot;secs&quot; and &quot;mins&quot;\r\n     * @return A string representing how long in days/hours/minutes/seconds millis is.\r\n     */\r\n    public static String millisToString(long millis, boolean longFormat) {\r\n        if (millis &lt; 1000) {\r\n            return String.format(&quot;0 %s&quot;, longFormat ? &quot;seconds&quot; : &quot;secs&quot;);\r\n        }\r\n        String[] units = {\r\n                &quot;day&quot;, &quot;hour&quot;, longFormat ? &quot;minute&quot; : &quot;min&quot;, longFormat ? &quot;second&quot; : &quot;sec&quot;\r\n        };\r\n        long[] times = new long[4];\r\n        times[0] = TimeUnit.DAYS.convert(millis, TimeUnit.MILLISECONDS);\r\n        millis -= TimeUnit.MILLISECONDS.convert(times[0], TimeUnit.DAYS);\r\n        times[1] = TimeUnit.HOURS.convert(millis, TimeUnit.MILLISECONDS);\r\n        millis -= TimeUnit.MILLISECONDS.convert(times[1], TimeUnit.HOURS);\r\n        times[2] = TimeUnit.MINUTES.convert(millis, TimeUnit.MILLISECONDS);\r\n        millis -= TimeUnit.MILLISECONDS.convert(times[2], TimeUnit.MINUTES);\r\n        times[3] = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\r\n        StringBuilder s = new StringBuilder();\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            if (times[i] &gt; 0) {\r\n                s.append(String.format(&quot;%d %s%s, &quot;, times[i], units[i], times[i] == 1 ? &quot;&quot; : &quot;s&quot;));\r\n            }\r\n        }\r\n        return s.toString().substring(0, s.length() - 2);\r\n    }\r\n\r\n    /**\r\n     * Converts milliseconds to &quot;x days, x hours, x mins, x secs&quot;\r\n     * \r\n     * @param millis\r\n     *            The milliseconds\r\n     * @return A string representing how long in days/hours/mins/secs millis is.\r\n     */\r\n    public static String millisToString(long millis) {\r\n        return millisToString(millis, false);\r\n    }","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>This answer is similar to some answers above. However, I feel that it would be beneficial because, unlike other answers, this will remove any extra commas or whitespace and handles abbreviation.</p>\n\n<pre><code>/**\n * Converts milliseconds to \"x days, x hours, x mins, x secs\"\n * \n * @param millis\n *            The milliseconds\n * @param longFormat\n *            {@code true} to use \"seconds\" and \"minutes\" instead of \"secs\" and \"mins\"\n * @return A string representing how long in days/hours/minutes/seconds millis is.\n */\npublic static String millisToString(long millis, boolean longFormat) {\n    if (millis &lt; 1000) {\n        return String.format(\"0 %s\", longFormat ? \"seconds\" : \"secs\");\n    }\n    String[] units = {\n            \"day\", \"hour\", longFormat ? \"minute\" : \"min\", longFormat ? \"second\" : \"sec\"\n    };\n    long[] times = new long[4];\n    times[0] = TimeUnit.DAYS.convert(millis, TimeUnit.MILLISECONDS);\n    millis -= TimeUnit.MILLISECONDS.convert(times[0], TimeUnit.DAYS);\n    times[1] = TimeUnit.HOURS.convert(millis, TimeUnit.MILLISECONDS);\n    millis -= TimeUnit.MILLISECONDS.convert(times[1], TimeUnit.HOURS);\n    times[2] = TimeUnit.MINUTES.convert(millis, TimeUnit.MILLISECONDS);\n    millis -= TimeUnit.MILLISECONDS.convert(times[2], TimeUnit.MINUTES);\n    times[3] = TimeUnit.SECONDS.convert(millis, TimeUnit.MILLISECONDS);\n    StringBuilder s = new StringBuilder();\n    for (int i = 0; i &lt; 4; i++) {\n        if (times[i] &gt; 0) {\n            s.append(String.format(\"%d %s%s, \", times[i], units[i], times[i] == 1 ? \"\" : \"s\"));\n        }\n    }\n    return s.toString().substring(0, s.length() - 2);\n}\n\n/**\n * Converts milliseconds to \"x days, x hours, x mins, x secs\"\n * \n * @param millis\n *            The milliseconds\n * @return A string representing how long in days/hours/mins/secs millis is.\n */\npublic static String millisToString(long millis) {\n    return millisToString(millis, false);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71467,"reputation":14634,"user_id":206730,"accept_rate":49,"display_name":"Kiquenet"},"score":0,"creation_date":1496735609,"post_id":31390999,"comment_id":75768583,"body_markdown":"`int intervalMins` *vs* `long millis`","body":"<code>int intervalMins</code> <i>vs</i> <code>long millis</code>"}],"tags":[],"owner":{"account_id":24952,"reputation":459,"user_id":63777,"accept_rate":20,"display_name":"bitstream"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436813271,"creation_date":1436812827,"answer_id":31390999,"question_id":625433,"body_markdown":"I modified @MyKuLLSKI &#39;s answer and added plurlization support. I took out seconds because I didn&#39;t need them, though feel free to re-add it if you need it.\r\n\r\n    public static String intervalToHumanReadableTime(int intervalMins) {\r\n    \t\r\n    \tif(intervalMins &lt;= 0) {\r\n    \t\treturn &quot;0&quot;;\r\n    \t} else {\r\n    \t\t\r\n    \t\tlong intervalMs = intervalMins * 60 * 1000;\r\n    \t\t\r\n    \t    long days = TimeUnit.MILLISECONDS.toDays(intervalMs);\r\n    \t    intervalMs -= TimeUnit.DAYS.toMillis(days);\r\n    \t    long hours = TimeUnit.MILLISECONDS.toHours(intervalMs);\r\n    \t    intervalMs -= TimeUnit.HOURS.toMillis(hours);\r\n    \t    long minutes = TimeUnit.MILLISECONDS.toMinutes(intervalMs);\r\n    \r\n    \t    StringBuilder sb = new StringBuilder(12);\r\n    \t    \r\n    \t    if (days &gt;= 1) {\r\n\t\t    \tsb.append(days).append(&quot; day&quot;).append(pluralize(days)).append(&quot;, &quot;);\r\n\t\t    }\r\n\r\n\t\t    if (hours &gt;= 1) {\r\n\t\t    \tsb.append(hours).append(&quot; hour&quot;).append(pluralize(hours)).append(&quot;, &quot;);\r\n\t\t    }\r\n\r\n\t\t    if (minutes &gt;= 1) {\r\n\t\t    \tsb.append(minutes).append(&quot; minute&quot;).append(pluralize(minutes));\r\n\t\t    } else {\r\n\t\t    \tsb.delete(sb.length()-2, sb.length()-1);\r\n\t\t    }\r\n\r\n    \t    return(sb.toString());\t\t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public static String pluralize(long val) {\r\n    \treturn (Math.round(val) &gt; 1 ? &quot;s&quot; : &quot;&quot;);\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>I modified @MyKuLLSKI 's answer and added plurlization support. I took out seconds because I didn't need them, though feel free to re-add it if you need it.</p>\n\n<pre><code>public static String intervalToHumanReadableTime(int intervalMins) {\n\n    if(intervalMins &lt;= 0) {\n        return \"0\";\n    } else {\n\n        long intervalMs = intervalMins * 60 * 1000;\n\n        long days = TimeUnit.MILLISECONDS.toDays(intervalMs);\n        intervalMs -= TimeUnit.DAYS.toMillis(days);\n        long hours = TimeUnit.MILLISECONDS.toHours(intervalMs);\n        intervalMs -= TimeUnit.HOURS.toMillis(hours);\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(intervalMs);\n\n        StringBuilder sb = new StringBuilder(12);\n\n        if (days &gt;= 1) {\n            sb.append(days).append(\" day\").append(pluralize(days)).append(\", \");\n        }\n\n        if (hours &gt;= 1) {\n            sb.append(hours).append(\" hour\").append(pluralize(hours)).append(\", \");\n        }\n\n        if (minutes &gt;= 1) {\n            sb.append(minutes).append(\" minute\").append(pluralize(minutes));\n        } else {\n            sb.delete(sb.length()-2, sb.length()-1);\n        }\n\n        return(sb.toString());          \n\n    }\n\n}\n\npublic static String pluralize(long val) {\n    return (Math.round(val) &gt; 1 ? \"s\" : \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454063016,"creation_date":1454063016,"answer_id":35082080,"question_id":625433,"body_markdown":"I have covered this in another [answer][1] but you can do:\n\n    public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\n        long diffInMillies = date2.getTime() - date1.getTime();\n        List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\n        Collections.reverse(units);\n        Map&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\n        long milliesRest = diffInMillies;\n        for ( TimeUnit unit : units ) {\n            long diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\n            long diffInMilliesForUnit = unit.toMillis(diff);\n            milliesRest = milliesRest - diffInMilliesForUnit;\n            result.put(unit,diff);\n        }\n        return result;\n    }\n\nThe output is something like `Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}`, with the units ordered.\n\nIt&#39;s up to you to figure out how to internationalize this data according to the target locale.\n\n  [1]: https://stackoverflow.com/a/10650881/82609","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>I have covered this in another <a href=\"https://stackoverflow.com/a/10650881/82609\">answer</a> but you can do:</p>\n<pre><code>public static Map&lt;TimeUnit,Long&gt; computeDiff(Date date1, Date date2) {\n    long diffInMillies = date2.getTime() - date1.getTime();\n    List&lt;TimeUnit&gt; units = new ArrayList&lt;TimeUnit&gt;(EnumSet.allOf(TimeUnit.class));\n    Collections.reverse(units);\n    Map&lt;TimeUnit,Long&gt; result = new LinkedHashMap&lt;TimeUnit,Long&gt;();\n    long milliesRest = diffInMillies;\n    for ( TimeUnit unit : units ) {\n        long diff = unit.convert(milliesRest,TimeUnit.MILLISECONDS);\n        long diffInMilliesForUnit = unit.toMillis(diff);\n        milliesRest = milliesRest - diffInMilliesForUnit;\n        result.put(unit,diff);\n    }\n    return result;\n}\n</code></pre>\n<p>The output is something like <code>Map:{DAYS=1, HOURS=3, MINUTES=46, SECONDS=40, MILLISECONDS=0, MICROSECONDS=0, NANOSECONDS=0}</code>, with the units ordered.</p>\n<p>It's up to you to figure out how to internationalize this data according to the target locale.</p>\n"},{"tags":[],"owner":{"account_id":2699532,"reputation":1544,"user_id":2330577,"display_name":"Jose Tepedino"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1518182264,"creation_date":1471081680,"answer_id":38931440,"question_id":625433,"body_markdown":"Revisiting @brent-nash contribution, we could use modulus function instead of subtractions and use String.format method for the result string:\r\n\r\n      /**\r\n       * Convert a millisecond duration to a string format\r\n       * \r\n       * @param millis A duration to convert to a string form\r\n       * @return A string of the form &quot;X Days Y Hours Z Minutes A Seconds B Milliseconds&quot;.\r\n       */\r\n       public static String getDurationBreakdown(long millis) {\r\n           if (millis &lt; 0) {\r\n              throw new IllegalArgumentException(&quot;Duration must be greater than zero!&quot;);\r\n           }\r\n        \r\n           long days = TimeUnit.MILLISECONDS.toDays(millis);\r\n           long hours = TimeUnit.MILLISECONDS.toHours(millis) % 24;\r\n           long minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60;\r\n           long seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60;\r\n           long milliseconds = millis % 1000;\r\n        \r\n           return String.format(&quot;%d Days %d Hours %d Minutes %d Seconds %d Milliseconds&quot;,\r\n                                days, hours, minutes, seconds, milliseconds);\r\n       }","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Revisiting @brent-nash contribution, we could use modulus function instead of subtractions and use String.format method for the result string:</p>\n\n<pre><code>  /**\n   * Convert a millisecond duration to a string format\n   * \n   * @param millis A duration to convert to a string form\n   * @return A string of the form \"X Days Y Hours Z Minutes A Seconds B Milliseconds\".\n   */\n   public static String getDurationBreakdown(long millis) {\n       if (millis &lt; 0) {\n          throw new IllegalArgumentException(\"Duration must be greater than zero!\");\n       }\n\n       long days = TimeUnit.MILLISECONDS.toDays(millis);\n       long hours = TimeUnit.MILLISECONDS.toHours(millis) % 24;\n       long minutes = TimeUnit.MILLISECONDS.toMinutes(millis) % 60;\n       long seconds = TimeUnit.MILLISECONDS.toSeconds(millis) % 60;\n       long milliseconds = millis % 1000;\n\n       return String.format(\"%d Days %d Hours %d Minutes %d Seconds %d Milliseconds\",\n                            days, hours, minutes, seconds, milliseconds);\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2876384,"reputation":559,"user_id":2468335,"display_name":"aprodan"},"score":0,"creation_date":1530155323,"post_id":41563212,"comment_id":89137675,"body_markdown":"I  suppose  long is  more  appropriate  for this  function as  System.currentTimeMillis()  returns  a  long value.","body":"I  suppose  long is  more  appropriate  for this  function as  System.currentTimeMillis()  returns  a  long value."}],"tags":[],"owner":{"account_id":3248812,"reputation":4421,"user_id":2739650,"accept_rate":25,"display_name":"Shohan Ahmed Sijan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1485462417,"creation_date":1484032615,"answer_id":41563212,"question_id":625433,"body_markdown":"My simple calculation:\r\n\r\n    \r\n    String millisecToTime(int millisec) {\r\n        int sec = millisec/1000;\r\n        int second = sec % 60;\r\n        int minute = sec / 60;\r\n        if (minute &gt;= 60) {\r\n            int hour = minute / 60;\r\n            minute %= 60;\r\n            return hour + &quot;:&quot; + (minute &lt; 10 ? &quot;0&quot; + minute : minute) + &quot;:&quot; + (second &lt; 10 ? &quot;0&quot; + second : second);\r\n        }\r\n        return minute + &quot;:&quot; + (second &lt; 10 ? &quot;0&quot; + second : second);\r\n    }\r\n\r\nHappy coding :)","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>My simple calculation:</p>\n\n<pre><code>String millisecToTime(int millisec) {\n    int sec = millisec/1000;\n    int second = sec % 60;\n    int minute = sec / 60;\n    if (minute &gt;= 60) {\n        int hour = minute / 60;\n        minute %= 60;\n        return hour + \":\" + (minute &lt; 10 ? \"0\" + minute : minute) + \":\" + (second &lt; 10 ? \"0\" + second : second);\n    }\n    return minute + \":\" + (second &lt; 10 ? \"0\" + second : second);\n}\n</code></pre>\n\n<p>Happy coding :)</p>\n"},{"comments":[{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1531304911,"post_id":47290114,"comment_id":89543464,"body_markdown":"Any formatting to remove hours/mins/seconds when a preceding number is 0? I mean it is achievable with if else condition, but what about existence of such String formatting or something close, is there any?","body":"Any formatting to remove hours/mins/seconds when a preceding number is 0? I mean it is achievable with if else condition, but what about existence of such String formatting or something close, is there any?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1531305101,"post_id":47290114,"comment_id":89543598,"body_markdown":"No, sorry, @FARID, you need `if`-`else` there.","body":"No, sorry, @FARID, you need <code>if</code>-<code>else</code> there."},{"owner":{"account_id":16147660,"reputation":424,"user_id":11656856,"display_name":"Mostafa Imani"},"score":0,"creation_date":1649745345,"post_id":47290114,"comment_id":126947268,"body_markdown":"for Android you will need (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)","body":"for Android you will need (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649746437,"post_id":47290114,"comment_id":126947586,"body_markdown":"@MostafaImani It works for lower level Android too. For versions before Oreo (APi level 26) with [coreLibraryDesugaring](https://developer.android.com/studio/write/java8-support-table) you can use java.time directly.","body":"@MostafaImani It works for lower level Android too. For versions before Oreo (APi level 26) with <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">coreLibraryDesugaring</a> you can use java.time directly."}],"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516013989,"creation_date":1510675161,"answer_id":47290114,"question_id":625433,"body_markdown":"This is easier in Java 9:\r\n\r\n\t\tDuration elapsedTime = Duration.ofMillis(millisDiff );\r\n\t    String humanReadableElapsedTime = String.format(\r\n\t            &quot;%d hours, %d mins, %d seconds&quot;,\r\n\t            elapsedTime.toHours(),\r\n\t            elapsedTime.toMinutesPart(),\r\n\t            elapsedTime.toSecondsPart());\r\n\r\nThis produces a string like `0 hours, 39 mins, 9 seconds`.\r\n\r\nIf you want to round to whole seconds before formatting:\r\n\r\n        elapsedTime = elapsedTime.plusMillis(500).truncatedTo(ChronoUnit.SECONDS);\r\n\r\nTo leave out the hours if they are 0:\r\n\r\n\t\tlong hours = elapsedTime.toHours();\r\n\t\tString humanReadableElapsedTime;\r\n\t\tif (hours == 0) {\r\n\t\t\thumanReadableElapsedTime = String.format(\r\n\t\t\t\t\t&quot;%d mins, %d seconds&quot;,\r\n\t\t\t\t\telapsedTime.toMinutesPart(),\r\n\t\t\t\t\telapsedTime.toSecondsPart());\r\n\r\n\t\t} else {\r\n\t\t\thumanReadableElapsedTime = String.format(\r\n\t\t\t\t\t&quot;%d hours, %d mins, %d seconds&quot;,\r\n\t\t\t\t\thours,\r\n\t\t\t\t\telapsedTime.toMinutesPart(),\r\n\t\t\t\t\telapsedTime.toSecondsPart());\r\n\t\t}\r\n\r\nNow we can have for example `39 mins, 9 seconds`.\r\n\r\nTo print minutes and seconds with leading zero to make them always two digits, just insert `02` into the relevant format specifiers, thus:\r\n\r\n\t    String humanReadableElapsedTime = String.format(\r\n\t            &quot;%d hours, %02d mins, %02d seconds&quot;,\r\n\t            elapsedTime.toHours(),\r\n\t            elapsedTime.toMinutesPart(),\r\n\t            elapsedTime.toSecondsPart());\r\n\r\nNow we can have for example `0 hours, 39 mins, 09 seconds`.","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>This is easier in Java 9:</p>\n\n<pre><code>    Duration elapsedTime = Duration.ofMillis(millisDiff );\n    String humanReadableElapsedTime = String.format(\n            \"%d hours, %d mins, %d seconds\",\n            elapsedTime.toHours(),\n            elapsedTime.toMinutesPart(),\n            elapsedTime.toSecondsPart());\n</code></pre>\n\n<p>This produces a string like <code>0 hours, 39 mins, 9 seconds</code>.</p>\n\n<p>If you want to round to whole seconds before formatting:</p>\n\n<pre><code>    elapsedTime = elapsedTime.plusMillis(500).truncatedTo(ChronoUnit.SECONDS);\n</code></pre>\n\n<p>To leave out the hours if they are 0:</p>\n\n<pre><code>    long hours = elapsedTime.toHours();\n    String humanReadableElapsedTime;\n    if (hours == 0) {\n        humanReadableElapsedTime = String.format(\n                \"%d mins, %d seconds\",\n                elapsedTime.toMinutesPart(),\n                elapsedTime.toSecondsPart());\n\n    } else {\n        humanReadableElapsedTime = String.format(\n                \"%d hours, %d mins, %d seconds\",\n                hours,\n                elapsedTime.toMinutesPart(),\n                elapsedTime.toSecondsPart());\n    }\n</code></pre>\n\n<p>Now we can have for example <code>39 mins, 9 seconds</code>.</p>\n\n<p>To print minutes and seconds with leading zero to make them always two digits, just insert <code>02</code> into the relevant format specifiers, thus:</p>\n\n<pre><code>    String humanReadableElapsedTime = String.format(\n            \"%d hours, %02d mins, %02d seconds\",\n            elapsedTime.toHours(),\n            elapsedTime.toMinutesPart(),\n            elapsedTime.toSecondsPart());\n</code></pre>\n\n<p>Now we can have for example <code>0 hours, 39 mins, 09 seconds</code>.</p>\n"},{"tags":[],"owner":{"account_id":7670388,"reputation":197,"user_id":5812830,"accept_rate":0,"display_name":"Aramis Rodr&#237;guez Blanco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528102744,"creation_date":1528102744,"answer_id":50676846,"question_id":625433,"body_markdown":"Use java.util.concurrent.TimeUnit, and use this simple method:\r\n\r\n    private static long timeDiff(Date date, Date date2, TimeUnit unit) {\r\n    \tlong milliDiff=date2.getTime()-date.getTime();\r\n    \tlong unitDiff = unit.convert(milliDiff, TimeUnit.MILLISECONDS);\r\n    \treturn unitDiff; \r\n    }\r\n\r\nFor example:\r\n\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yy/MM/dd HH:mm:ss&quot;);  \r\n\tDate firstDate = sdf.parse(&quot;06/24/2017 04:30:00&quot;);\r\n    Date secondDate = sdf.parse(&quot;07/24/2017 05:00:15&quot;);\r\n    Date thirdDate = sdf.parse(&quot;06/24/2017 06:00:15&quot;);\r\n\r\n    System.out.println(&quot;days difference: &quot;+timeDiff(firstDate,secondDate,TimeUnit.DAYS));\r\n\tSystem.out.println(&quot;hours difference: &quot;+timeDiff(firstDate,thirdDate,TimeUnit.HOURS));\r\n    System.out.println(&quot;minutes difference: &quot;+timeDiff(firstDate,thirdDate,TimeUnit.MINUTES));\r\n    System.out.println(&quot;seconds difference: &quot;+timeDiff(firstDate,thirdDate,TimeUnit.SECONDS));\r\n\t","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Use java.util.concurrent.TimeUnit, and use this simple method:</p>\n\n<pre><code>private static long timeDiff(Date date, Date date2, TimeUnit unit) {\n    long milliDiff=date2.getTime()-date.getTime();\n    long unitDiff = unit.convert(milliDiff, TimeUnit.MILLISECONDS);\n    return unitDiff; \n}\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yy/MM/dd HH:mm:ss\");  \nDate firstDate = sdf.parse(\"06/24/2017 04:30:00\");\nDate secondDate = sdf.parse(\"07/24/2017 05:00:15\");\nDate thirdDate = sdf.parse(\"06/24/2017 06:00:15\");\n\nSystem.out.println(\"days difference: \"+timeDiff(firstDate,secondDate,TimeUnit.DAYS));\nSystem.out.println(\"hours difference: \"+timeDiff(firstDate,thirdDate,TimeUnit.HOURS));\nSystem.out.println(\"minutes difference: \"+timeDiff(firstDate,thirdDate,TimeUnit.MINUTES));\nSystem.out.println(\"seconds difference: \"+timeDiff(firstDate,thirdDate,TimeUnit.SECONDS));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1741886,"reputation":1520,"user_id":1593056,"display_name":"Hexise"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537711578,"creation_date":1537711578,"answer_id":52466906,"question_id":625433,"body_markdown":"There is a problem. When milliseconds is 59999, actually it is 1 minute but it will be computed as 59 seconds and 999 milliseconds is lost.\r\n\r\nHere is a modified version based on previous answers, which can solve this loss:\r\n\r\n    public static String formatTime(long millis) {\r\n\t\tlong seconds = Math.round((double) millis / 1000);\r\n\t\tlong hours = TimeUnit.SECONDS.toHours(seconds);\r\n\t\tif (hours &gt; 0)\r\n\t\t\tseconds -= TimeUnit.HOURS.toSeconds(hours);\r\n\t\tlong minutes = seconds &gt; 0 ? TimeUnit.SECONDS.toMinutes(seconds) : 0;\r\n\t\tif (minutes &gt; 0)\r\n\t\t\tseconds -= TimeUnit.MINUTES.toSeconds(minutes);\r\n\t\treturn hours &gt; 0 ? String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds) : String.format(&quot;%02d:%02d&quot;, minutes, seconds);\r\n\t}","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>There is a problem. When milliseconds is 59999, actually it is 1 minute but it will be computed as 59 seconds and 999 milliseconds is lost.</p>\n\n<p>Here is a modified version based on previous answers, which can solve this loss:</p>\n\n<pre><code>public static String formatTime(long millis) {\n    long seconds = Math.round((double) millis / 1000);\n    long hours = TimeUnit.SECONDS.toHours(seconds);\n    if (hours &gt; 0)\n        seconds -= TimeUnit.HOURS.toSeconds(hours);\n    long minutes = seconds &gt; 0 ? TimeUnit.SECONDS.toMinutes(seconds) : 0;\n    if (minutes &gt; 0)\n        seconds -= TimeUnit.MINUTES.toSeconds(minutes);\n    return hours &gt; 0 ? String.format(\"%02d:%02d:%02d\", hours, minutes, seconds) : String.format(\"%02d:%02d\", minutes, seconds);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356896,"reputation":1317,"user_id":696714,"accept_rate":56,"display_name":"TOUDIdel"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1557906121,"creation_date":1557906121,"answer_id":56144002,"question_id":625433,"body_markdown":"[DurationFormatUtils.formatDurationHMS(long)][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationHMS-long-","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/time/DurationFormatUtils.html#formatDurationHMS-long-\" rel=\"nofollow noreferrer\">DurationFormatUtils.formatDurationHMS(long)</a></p>\n"},{"comments":[{"owner":{"account_id":17165441,"reputation":4402,"user_id":12423905,"display_name":"Andrew"},"score":0,"creation_date":1601114561,"post_id":57926287,"comment_id":113308375,"body_markdown":"It&#39;s one of the first results, when you google it in combination of &quot;android&quot;.","body":"It&#39;s one of the first results, when you google it in combination of &quot;android&quot;."}],"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1570542967,"creation_date":1568387843,"answer_id":57926287,"question_id":625433,"body_markdown":"Firstly, `System.currentTimeMillis()` and `Instant.now()` are not ideal for timing. They both report the wall-clock time, which the computer doesn&#39;t know precisely, and which can move erratically, including going *backwards* if for example the NTP daemon corrects the system time. If your timing happens on a single machine then you should instead use [System.nanoTime()][1].\r\n\r\nSecondly, from Java 8 onwards [java.time.Duration][2] is the best way to represent a duration:\r\n\r\n    long start = System.nanoTime();\r\n    // do things...\r\n    long end = System.nanoTime();\r\n    Duration duration = Duration.ofNanos(end - start);\r\n    System.out.println(duration); // Prints &quot;PT18M19.511627776S&quot;\r\n    System.out.printf(&quot;%d Hours %d Minutes %d Seconds%n&quot;,\r\n            duration.toHours(), duration.toMinutes() % 60, duration.getSeconds() % 60);\r\n    // prints &quot;0 Hours 18 Minutes 19 Seconds&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#nanoTime()\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>Firstly, <code>System.currentTimeMillis()</code> and <code>Instant.now()</code> are not ideal for timing. They both report the wall-clock time, which the computer doesn't know precisely, and which can move erratically, including going <em>backwards</em> if for example the NTP daemon corrects the system time. If your timing happens on a single machine then you should instead use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/System.html#nanoTime()\" rel=\"noreferrer\">System.nanoTime()</a>.</p>\n\n<p>Secondly, from Java 8 onwards <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Duration.html\" rel=\"noreferrer\">java.time.Duration</a> is the best way to represent a duration:</p>\n\n<pre><code>long start = System.nanoTime();\n// do things...\nlong end = System.nanoTime();\nDuration duration = Duration.ofNanos(end - start);\nSystem.out.println(duration); // Prints \"PT18M19.511627776S\"\nSystem.out.printf(\"%d Hours %d Minutes %d Seconds%n\",\n        duration.toHours(), duration.toMinutes() % 60, duration.getSeconds() % 60);\n// prints \"0 Hours 18 Minutes 19 Seconds\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4284636,"reputation":1529,"user_id":3502856,"accept_rate":100,"display_name":"Kaaveh Mohamedi"},"comment_count":0,"down_vote_count":3,"up_vote_count":12,"is_accepted":false,"score":9,"last_activity_date":1609845993,"creation_date":1609845993,"answer_id":65577979,"question_id":625433,"body_markdown":"For those who looking for Kotlin code:\r\n\r\n```Kotlin\r\nfun converter(millis: Long): String =\r\n        String.format(\r\n            &quot;%02d : %02d : %02d&quot;,\r\n            TimeUnit.MILLISECONDS.toHours(millis),\r\n            TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(\r\n                TimeUnit.MILLISECONDS.toHours(millis)\r\n            ),\r\n            TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(\r\n                TimeUnit.MILLISECONDS.toMinutes(millis)\r\n            )\r\n        )\r\n```\r\nSample output: ```09 : 10 : 26```","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>For those who looking for Kotlin code:</p>\n<pre><code>fun converter(millis: Long): String =\n        String.format(\n            &quot;%02d : %02d : %02d&quot;,\n            TimeUnit.MILLISECONDS.toHours(millis),\n            TimeUnit.MILLISECONDS.toMinutes(millis) - TimeUnit.HOURS.toMinutes(\n                TimeUnit.MILLISECONDS.toHours(millis)\n            ),\n            TimeUnit.MILLISECONDS.toSeconds(millis) - TimeUnit.MINUTES.toSeconds(\n                TimeUnit.MILLISECONDS.toMinutes(millis)\n            )\n        )\n</code></pre>\n<p>Sample output: <code>09 : 10 : 26</code></p>\n"},{"tags":[],"owner":{"account_id":14903477,"reputation":181,"user_id":10761615,"display_name":"derpdewp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669665805,"creation_date":1651816074,"answer_id":72136724,"question_id":625433,"body_markdown":"This topic has been well covered, I just wanted to share my functions perhaps you can make use of these rather than importing an entire library. \r\n\r\n```\r\n    public long getSeconds(ms) {\r\n        return (ms/1000%60);\r\n    }\r\n    public long getMinutes(ms) {\r\n        return (ms/(1000*60)%60);\r\n    }\r\n    public long getHours(ms) {\r\n        return ((ms/(1000*60*60))%24);\r\n    }\r\n```\r\n","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>This topic has been well covered, I just wanted to share my functions perhaps you can make use of these rather than importing an entire library.</p>\n<pre><code>    public long getSeconds(ms) {\n        return (ms/1000%60);\n    }\n    public long getMinutes(ms) {\n        return (ms/(1000*60)%60);\n    }\n    public long getHours(ms) {\n        return ((ms/(1000*60*60))%24);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698298914,"creation_date":1698298914,"answer_id":77364355,"question_id":625433,"body_markdown":"@Brent Writes Code&#39;s code clarified a bit more:\r\n\r\n```java\r\n\r\n\r\n    public static String humanReadableTimeSpent(long millis) {\r\n        if (millis &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Something is not right, time can&#39;t be negative!&quot;);\r\n        }\r\n\r\n        long days = TimeUnit.MILLISECONDS.toDays(millis);\r\n        millis -= TimeUnit.DAYS.toMillis(days);\r\n        long hours = TimeUnit.MILLISECONDS.toHours(millis);\r\n        millis -= TimeUnit.HOURS.toMillis(hours);\r\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(millis);\r\n        millis -= TimeUnit.MINUTES.toMillis(minutes);\r\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(millis);\r\n        millis -= TimeUnit.SECONDS.toMillis(seconds);\r\n        long millisecs = TimeUnit.MILLISECONDS.toMillis(millis);\r\n\r\n        StringBuilder sb = new StringBuilder(64);\r\n        if (days &gt; 0) {\r\n            sb.append(days);\r\n            sb.append(&quot; days &quot;);\r\n        }\r\n        if (hours &gt; 0) {\r\n            sb.append(hours);\r\n            sb.append(&quot; hrs &quot;);\r\n        }\r\n        if (minutes &gt; 0) {\r\n            sb.append(minutes);\r\n            sb.append(&quot; mins &quot;);\r\n        }\r\n        if (seconds &gt; 0) {\r\n            sb.append(seconds);\r\n            sb.append(&quot; secs &quot;);\r\n        }\r\n        if (millisecs &gt; 0) {\r\n            sb.append(millisecs);\r\n            sb.append(&quot; mills&quot;);\r\n        }\r\n\r\n        return (sb.toString());\r\n    }\r\n\r\n```\r\n\r\nand call as follows:\r\n\r\n```java\r\nhumanReadableTimeSpent(endTimeMills - startTimeMills)\r\n```","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>@Brent Writes Code's code clarified a bit more:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n    public static String humanReadableTimeSpent(long millis) {\n        if (millis &lt; 0) {\n            throw new IllegalArgumentException(&quot;Something is not right, time can't be negative!&quot;);\n        }\n\n        long days = TimeUnit.MILLISECONDS.toDays(millis);\n        millis -= TimeUnit.DAYS.toMillis(days);\n        long hours = TimeUnit.MILLISECONDS.toHours(millis);\n        millis -= TimeUnit.HOURS.toMillis(hours);\n        long minutes = TimeUnit.MILLISECONDS.toMinutes(millis);\n        millis -= TimeUnit.MINUTES.toMillis(minutes);\n        long seconds = TimeUnit.MILLISECONDS.toSeconds(millis);\n        millis -= TimeUnit.SECONDS.toMillis(seconds);\n        long millisecs = TimeUnit.MILLISECONDS.toMillis(millis);\n\n        StringBuilder sb = new StringBuilder(64);\n        if (days &gt; 0) {\n            sb.append(days);\n            sb.append(&quot; days &quot;);\n        }\n        if (hours &gt; 0) {\n            sb.append(hours);\n            sb.append(&quot; hrs &quot;);\n        }\n        if (minutes &gt; 0) {\n            sb.append(minutes);\n            sb.append(&quot; mins &quot;);\n        }\n        if (seconds &gt; 0) {\n            sb.append(seconds);\n            sb.append(&quot; secs &quot;);\n        }\n        if (millisecs &gt; 0) {\n            sb.append(millisecs);\n            sb.append(&quot; mills&quot;);\n        }\n\n        return (sb.toString());\n    }\n\n</code></pre>\n<p>and call as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>humanReadableTimeSpent(endTimeMills - startTimeMills)\n</code></pre>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672301,"favorite_count":0,"down_vote_count":2,"up_vote_count":632,"accepted_answer_id":625624,"answer_count":30,"score":630,"last_activity_date":1698298914,"creation_date":1236588066,"question_id":625433,"body_markdown":"I want to record the time using `System.currentTimeMillis()` when a user begins something in my program. When he finishes, I will subtract the current `System.currentTimeMillis()` from the `start` variable, and I want to show them the time elapsed using a human readable format such as &quot;XX hours, XX mins, XX seconds&quot; or even &quot;XX mins, XX seconds&quot; because its not likely to take someone an hour.\r\n\r\nWhat&#39;s the best way to do this?","title":"How to convert Milliseconds to &quot;X mins, x seconds&quot; in Java?","body":"<p>I want to record the time using <code>System.currentTimeMillis()</code> when a user begins something in my program. When he finishes, I will subtract the current <code>System.currentTimeMillis()</code> from the <code>start</code> variable, and I want to show them the time elapsed using a human readable format such as \"XX hours, XX mins, XX seconds\" or even \"XX mins, XX seconds\" because its not likely to take someone an hour.</p>\n\n<p>What's the best way to do this?</p>\n"},{"tags":["java","list","merge","java-5"],"comments":[{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":7,"creation_date":1404747837,"post_id":189559,"comment_id":38142724,"body_markdown":"If you are doing this solely for iteration purposes see another question - there are google guava and java 8 solutions http://stackoverflow.com/questions/4896662/combine-multiple-collections-into-a-single-logical-collection","body":"If you are doing this solely for iteration purposes see another question - there are google guava and java 8 solutions <a href=\"http://stackoverflow.com/questions/4896662/combine-multiple-collections-into-a-single-logical-collection\" title=\"combine multiple collections into a single logical collection\">stackoverflow.com/questions/4896662/&hellip;</a>"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1493444430,"post_id":189559,"comment_id":74430285,"body_markdown":"Java 8 solution with utility method: http://stackoverflow.com/a/37386846/1216775","body":"Java 8 solution with utility method: <a href=\"http://stackoverflow.com/a/37386846/1216775\">stackoverflow.com/a/37386846/1216775</a>"},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1663839250,"post_id":189559,"comment_id":130335454,"body_markdown":"This is just one of the many shortcomings of the Java Collections API.","body":"This is just one of the many shortcomings of the Java Collections API."}],"answers":[{"comments":[{"owner":{"account_id":1033733,"reputation":4315,"user_id":1041533,"accept_rate":100,"display_name":"AgentKnopf"},"score":0,"creation_date":1339583620,"post_id":189568,"comment_id":14394105,"body_markdown":"Would this cause duplicated Strings? Meaning a String that exists in both list will exist twice in the resulting list?","body":"Would this cause duplicated Strings? Meaning a String that exists in both list will exist twice in the resulting list?"},{"owner":{"account_id":123860,"reputation":2672,"user_id":1449525,"accept_rate":83,"display_name":"Patrick"},"score":6,"creation_date":1356627717,"post_id":189568,"comment_id":19428723,"body_markdown":"@Zainodis Yes, there could be duplicates. The `List` structure imposes no uniqueness constraints. You can remove dupes by doing the same thing with sets. `Set&lt;String&gt; newSet = new HashSet&lt;&gt;(setOne); newSet.addAll(setTwo);`","body":"@Zainodis Yes, there could be duplicates. The <code>List</code> structure imposes no uniqueness constraints. You can remove dupes by doing the same thing with sets. <code>Set&lt;String&gt; newSet = new HashSet&lt;&gt;(setOne); newSet.addAll(setTwo);</code>"}],"tags":[],"owner":{"account_id":3649,"reputation":6881,"user_id":5284,"accept_rate":79,"display_name":"Tim"},"comment_count":2,"down_vote_count":5,"up_vote_count":42,"is_accepted":false,"score":37,"last_activity_date":1331142782,"creation_date":1223594469,"answer_id":189568,"question_id":189559,"body_markdown":"Slightly simpler:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\r\n    newList.addAll(listTwo);","title":"How do I join two lists in Java?","body":"<p>Slightly simpler:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9376,"reputation":23748,"user_id":17294,"accept_rate":52,"display_name":"Robert Atkins"},"score":194,"creation_date":1323910469,"post_id":189569,"comment_id":10540492,"body_markdown":"While you&#39;re technically correct, you have shortened it by one line, the asymmetry of this bugs me. Enough that I&#39;m happier to &quot;spend&quot; the extra line.","body":"While you&#39;re technically correct, you have shortened it by one line, the asymmetry of this bugs me. Enough that I&#39;m happier to &quot;spend&quot; the extra line."},{"owner":{"account_id":217473,"reputation":6570,"user_id":473290,"accept_rate":85,"display_name":"Eric"},"score":17,"creation_date":1456907888,"post_id":189569,"comment_id":59157677,"body_markdown":"Isn&#39;t there a problem here where the newList&#39;s interal array will be initialized to the size of listOne and then have to potentially expand when adding all of the items from listTwo?  Would it be better to take the size of each list and use that to size the new array?","body":"Isn&#39;t there a problem here where the newList&#39;s interal array will be initialized to the size of listOne and then have to potentially expand when adding all of the items from listTwo?  Would it be better to take the size of each list and use that to size the new array?"},{"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"score":3,"creation_date":1474872383,"post_id":189569,"comment_id":66691117,"body_markdown":"This was the solution that worked best for me. I made a comparison on the performance of different solutions this came out winner, together with creating the empty list and then `addAll()` of both. I tried all those that suggest not copying the lists and they result having a lot of overhead we didn&#39;t need this time.","body":"This was the solution that worked best for me. I made a comparison on the performance of different solutions this came out winner, together with creating the empty list and then <code>addAll()</code> of both. I tried all those that suggest not copying the lists and they result having a lot of overhead we didn&#39;t need this time."},{"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"score":0,"creation_date":1586270956,"post_id":189569,"comment_id":108063710,"body_markdown":"Use  a `LinkedList` over `ArrayList` for efficient adding. https://stackoverflow.com/a/322742/311420","body":"Use  a <code>LinkedList</code> over <code>ArrayList</code> for efficient adding. <a href=\"https://stackoverflow.com/a/322742/311420\">stackoverflow.com/a/322742/311420</a>"},{"owner":{"account_id":6859276,"reputation":145,"user_id":5273876,"display_name":"Ricardo"},"score":0,"creation_date":1657271510,"post_id":189569,"comment_id":128776143,"body_markdown":"this does not work with generic value types, I am using Java 17:\nList&lt;? extends BaseEntity&gt; toManyEntities = new ArrayList&lt;&gt;();\nList&lt;? extends BaseEntity&gt; toManyInsertEntities = new ArrayList&lt;&gt;();\nList&lt;? extends BaseEntity&gt; toManyUpdateEntities = new ArrayList&lt;&gt;();\ntoManyEntities = toManyInsertEntities;\ntoManyEntities.addAll(toManyUpdateEntities); -&gt; this cannot compile\n\nBut this works, and is mentioned sort-of in the answer just above your answer:\ntoManyEntities = Stream.concat(toManyInsertEntities.stream(),toManyUpdateEntities.stream()).collect(Collectors.toList());","body":"this does not work with generic value types, I am using Java 17: List&lt;? extends BaseEntity&gt; toManyEntities = new ArrayList&lt;&gt;(); List&lt;? extends BaseEntity&gt; toManyInsertEntities = new ArrayList&lt;&gt;(); List&lt;? extends BaseEntity&gt; toManyUpdateEntities = new ArrayList&lt;&gt;(); toManyEntities = toManyInsertEntities; toManyEntities.addAll(toManyUpdateEntities); -&gt; this cannot compile  But this works, and is mentioned sort-of in the answer just above your answer: toManyEntities = Stream.concat(toManyInsertEntities.stream(),toManyUpdateEnti&zwnj;&#8203;ties.stream()).colle&zwnj;&#8203;ct(Collectors.toList&zwnj;&#8203;());"}],"tags":[],"owner":{"account_id":9016,"reputation":16145,"user_id":16476,"accept_rate":63,"display_name":"AdamC"},"comment_count":5,"down_vote_count":2,"up_vote_count":690,"is_accepted":false,"score":688,"last_activity_date":1223594469,"creation_date":1223594469,"answer_id":189569,"question_id":189559,"body_markdown":"Off the top of my head, I can shorten it by one line:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\r\n    newList.addAll(listTwo);","title":"How do I join two lists in Java?","body":"<p>Off the top of my head, I can shorten it by one line:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1223594570,"creation_date":1223594570,"answer_id":189572,"question_id":189559,"body_markdown":"A little shorter would be:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\r\n    newList.addAll(listTwo);","title":"How do I join two lists in Java?","body":"<p>A little shorter would be:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9774,"reputation":3303,"user_id":18187,"accept_rate":83,"display_name":"ddimitrov"},"score":1,"creation_date":1223646928,"post_id":189699,"comment_id":70174,"body_markdown":"Irresponsible use of annonymous class. As the OP said - don&#39;t use it in production code.","body":"Irresponsible use of annonymous class. As the OP said - don&#39;t use it in production code."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":55,"creation_date":1250369445,"post_id":189699,"comment_id":1112190,"body_markdown":"Ugly and evil, just as almost any use of double brace initialization.\nIt &#237;s shorter, though ;)","body":"Ugly and evil, just as almost any use of double brace initialization. It &#237;s shorter, though ;)"},{"owner":{"account_id":78723,"reputation":9670,"user_id":223837,"accept_rate":80,"display_name":"MarnixKlooster ReinstateMonica"},"score":1,"creation_date":1304749725,"post_id":189699,"comment_id":6817002,"body_markdown":"+1, nice.  Although Eclipse splits over six lines for me, and tells me to `@SuppressWarnings(&quot;serial&quot;)`.  :-)","body":"+1, nice.  Although Eclipse splits over six lines for me, and tells me to <code>@SuppressWarnings(&quot;serial&quot;)</code>.  :-)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1317625599,"post_id":189699,"comment_id":9268015,"body_markdown":"@MarnixKlooster: Eclipse *knows* that you should not use it and makes it unpleasant to use ;-)","body":"@MarnixKlooster: Eclipse <i>knows</i> that you should not use it and makes it unpleasant to use ;-)"},{"owner":{"account_id":130318,"reputation":6472,"user_id":329496,"accept_rate":66,"display_name":"simbo1905"},"score":1,"creation_date":1343829209,"post_id":189699,"comment_id":15614548,"body_markdown":"that is know as a &quot;double brace object&quot; which very handy in junit test code to create an object which returns a given value as you can invoke the protected setter right there and pass in some final reference to test data. then again with a good mocking framework...","body":"that is know as a &quot;double brace object&quot; which very handy in junit test code to create an object which returns a given value as you can invoke the protected setter right there and pass in some final reference to test data. then again with a good mocking framework..."},{"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"score":23,"creation_date":1355434115,"post_id":189699,"comment_id":19098715,"body_markdown":"Though it is physically one line, I do not consider this a &quot;one-liner&quot;.","body":"Though it is physically one line, I do not consider this a &quot;one-liner&quot;."},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":12,"creation_date":1356094870,"post_id":189699,"comment_id":19308711,"body_markdown":"why do people hate anonymous block initializers","body":"why do people hate anonymous block initializers"},{"owner":{"account_id":123860,"reputation":2672,"user_id":1449525,"accept_rate":83,"display_name":"Patrick"},"score":21,"creation_date":1356628534,"post_id":189699,"comment_id":19429110,"body_markdown":"@NimChimpsky I think it&#39;s mostly because it&#39;s not just an anonymous block initializer, but you&#39;re actually creating an anonymous subclass of ArrayList. That being said, if you trust the results of this [Double Brace Initilization question](http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization), it makes it seem like hating DBI is mostly a matter of stylistic taste and micro-optimization. As far as I can tell, there are no major penalties for doing it. The sneaky downside would be if you ever tried to compare its class because it won&#39;t be ArrayList.","body":"@NimChimpsky I think it&#39;s mostly because it&#39;s not just an anonymous block initializer, but you&#39;re actually creating an anonymous subclass of ArrayList. That being said, if you trust the results of this <a href=\"http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\">Double Brace Initilization question</a>, it makes it seem like hating DBI is mostly a matter of stylistic taste and micro-optimization. As far as I can tell, there are no major penalties for doing it. The sneaky downside would be if you ever tried to compare its class because it won&#39;t be ArrayList."},{"owner":{"account_id":1827467,"reputation":4043,"user_id":1659790,"accept_rate":73,"display_name":"Jimmy T."},"score":2,"creation_date":1378682044,"post_id":189699,"comment_id":27531731,"body_markdown":"How does the use of double brace initialization makes it a one-liner?","body":"How does the use of double brace initialization makes it a one-liner?"},{"owner":{"account_id":962088,"reputation":8170,"user_id":986216,"display_name":"riwnodennyk"},"score":1,"creation_date":1482928319,"post_id":189699,"comment_id":69925561,"body_markdown":"@NimChimpsky another reason why anonymous block initializers may be evil is that they will leak the outer object instance same as any anonymous class in Java. However, should be safe to use in static methods.","body":"@NimChimpsky another reason why anonymous block initializers may be evil is that they will leak the outer object instance same as any anonymous class in Java. However, should be safe to use in static methods."},{"owner":{"account_id":5331472,"reputation":141,"user_id":4251926,"display_name":"Alex"},"score":2,"creation_date":1496130074,"post_id":189699,"comment_id":75520793,"body_markdown":"@NimChimpsky You can check out this article about the disadvantages of double brace initialisation: [Don’t be “Clever”: The Double Curly Braces Anti Pattern](https://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/)","body":"@NimChimpsky You can check out this article about the disadvantages of double brace initialisation: <a href=\"https://blog.jooq.org/2014/12/08/dont-be-clever-the-double-curly-braces-anti-pattern/\" rel=\"nofollow noreferrer\">Don’t be “Clever”: The Double Curly Braces Anti Pattern</a>"}],"tags":[],"owner":{"account_id":7896,"reputation":6671,"user_id":13905,"display_name":"volley"},"comment_count":11,"down_vote_count":14,"up_vote_count":111,"is_accepted":false,"score":97,"last_activity_date":1341751663,"creation_date":1223598615,"answer_id":189699,"question_id":189559,"body_markdown":"Probably not simpler, but intriguing and ugly:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;() { { addAll(listOne); addAll(listTwo); } };\r\n\r\nDon&#39;t use it in production code... ;)","title":"How do I join two lists in Java?","body":"<p>Probably not simpler, but intriguing and ugly:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;() { { addAll(listOne); addAll(listTwo); } };\n</code></pre>\n\n<p>Don't use it in production code... ;)</p>\n"},{"tags":[],"owner":{"account_id":8603,"reputation":3994,"user_id":15585,"accept_rate":20,"display_name":"deterb"},"comment_count":0,"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1223599610,"creation_date":1223599610,"answer_id":189742,"question_id":189559,"body_markdown":"You can do a oneliner if the target list is predeclared.\r\n\r\n    (newList = new ArrayList&lt;String&gt;(list1)).addAll(list2);","title":"How do I join two lists in Java?","body":"<p>You can do a oneliner if the target list is predeclared.</p>\n\n<pre><code>(newList = new ArrayList&lt;String&gt;(list1)).addAll(list2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1559250131,"post_id":189752,"comment_id":99371235,"body_markdown":"How is the static import or the helper class relevant?","body":"How is the static import or the helper class relevant?"},{"owner":{"account_id":6599951,"reputation":596,"user_id":5098570,"display_name":"Md. Nowshad Hasan"},"score":0,"creation_date":1657681975,"post_id":189752,"comment_id":128866242,"body_markdown":"I think the method signature will be like - &#39;public static  &lt;T&gt; List&lt;T&gt; join&#39;. And &#39;return result&#39;","body":"I think the method signature will be like - &#39;public static  &lt;T&gt; List&lt;T&gt; join&#39;. And &#39;return result&#39;"}],"tags":[],"owner":{"account_id":4327,"reputation":5635,"user_id":6449,"display_name":"Dave Cheney"},"comment_count":2,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1378669420,"creation_date":1223599903,"answer_id":189752,"question_id":189559,"body_markdown":"You could do it with a static import and a helper class\r\n\r\n_nb_ the generification of this class could probably be improved\r\n\r\n    public class Lists {\r\n    \r\n       private Lists() { } // can&#39;t be instantiated\r\n    \r\n       public static List&lt;T&gt; join(List&lt;T&gt;... lists) {\r\n          List&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n          for(List&lt;T&gt; list : lists) {\r\n             result.addAll(list);\r\n          }\r\n          return results;\r\n       }\r\n    \r\n    }\r\n\r\nThen you can do things like\r\n \r\n    import static Lists.join;\r\n    List&lt;T&gt; result = join(list1, list2, list3, list4);\r\n    \r\n","title":"How do I join two lists in Java?","body":"<p>You could do it with a static import and a helper class</p>\n\n<p><em>nb</em> the generification of this class could probably be improved</p>\n\n<pre><code>public class Lists {\n\n   private Lists() { } // can't be instantiated\n\n   public static List&lt;T&gt; join(List&lt;T&gt;... lists) {\n      List&lt;T&gt; result = new ArrayList&lt;T&gt;();\n      for(List&lt;T&gt; list : lists) {\n         result.addAll(list);\n      }\n      return results;\n   }\n\n}\n</code></pre>\n\n<p>Then you can do things like</p>\n\n<pre><code>import static Lists.join;\nList&lt;T&gt; result = join(list1, list2, list3, list4);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":3,"creation_date":1471446212,"post_id":190165,"comment_id":65352120,"body_markdown":"That is one disgusting line of code. Probably highly more performance intensive than all the other solutions (combined), makes a ton of assumptions you should really not have to make, not really a one-liner (you can put an entire program into one line _technically_).","body":"That is one disgusting line of code. Probably highly more performance intensive than all the other solutions (combined), makes a ton of assumptions you should really not have to make, not really a one-liner (you can put an entire program into one line <i>technically</i>)."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":2,"creation_date":1504344272,"post_id":190165,"comment_id":78984772,"body_markdown":"@luk2302 Contains no semicolons though (except at the end), so it can be considered a one-liner.","body":"@luk2302 Contains no semicolons though (except at the end), so it can be considered a one-liner."},{"owner":{"account_id":2676102,"reputation":1582,"user_id":2312497,"display_name":"regulus"},"score":0,"creation_date":1598481381,"post_id":190165,"comment_id":112476790,"body_markdown":"oh boy, what if the items in the list have comma in them?","body":"oh boy, what if the items in the list have comma in them?"}],"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"comment_count":3,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1223614327,"creation_date":1223614327,"answer_id":190165,"question_id":189559,"body_markdown":"I can&#39;t improve on the two-liner in the general case without introducing your own utility method, but if you do have lists of Strings and you&#39;re willing to assume those Strings don&#39;t contain commas, you can pull this long one-liner:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;(Arrays.asList((listOne.toString().subString(1, listOne.length() - 1) + &quot;, &quot; + listTwo.toString().subString(1, listTwo.length() - 1)).split(&quot;, &quot;)));\r\n\r\nIf you drop the generics, this should be JDK 1.4 compliant (though I haven&#39;t tested that). Also not recommended for production code ;-)\r\n\r\n","title":"How do I join two lists in Java?","body":"<p>I can't improve on the two-liner in the general case without introducing your own utility method, but if you do have lists of Strings and you're willing to assume those Strings don't contain commas, you can pull this long one-liner:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;(Arrays.asList((listOne.toString().subString(1, listOne.length() - 1) + \", \" + listTwo.toString().subString(1, listTwo.length() - 1)).split(\", \")));\n</code></pre>\n\n<p>If you drop the generics, this should be JDK 1.4 compliant (though I haven't tested that). Also not recommended for production code ;-)</p>\n"},{"comments":[{"owner":{"account_id":376650,"reputation":10428,"user_id":728241,"accept_rate":71,"display_name":"David"},"score":0,"creation_date":1370276867,"post_id":190713,"comment_id":24390564,"body_markdown":"why should someone never use those?","body":"why should someone never use those?"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":6,"creation_date":1374563171,"post_id":190713,"comment_id":25975608,"body_markdown":"@David because it aimed to be used internally in JDK.  If you used that in your code, your code will quite probably not running on non-Sun (or non-Oracle now) JDK/JRE.","body":"@David because it aimed to be used internally in JDK.  If you used that in your code, your code will quite probably not running on non-Sun (or non-Oracle now) JDK/JRE."},{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1504349543,"post_id":190713,"comment_id":78986036,"body_markdown":"@AdrianShum Are there other JDKs/JREs than Oracle? That would surprise me. Even if limited to the most common API functionality, rebuilding that whole stuff would probably take ages...","body":"@AdrianShum Are there other JDKs/JREs than Oracle? That would surprise me. Even if limited to the most common API functionality, rebuilding that whole stuff would probably take ages..."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":1,"creation_date":1504352468,"post_id":190713,"comment_id":78986816,"body_markdown":"There is quite a lot of JVM. Most commonly seen one in enterprise world should be the IBM one which is, iirc, bundled with websphere","body":"There is quite a lot of JVM. Most commonly seen one in enterprise world should be the IBM one which is, iirc, bundled with websphere"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1595430675,"post_id":190713,"comment_id":111473331,"body_markdown":"whenever you see usages of `Vector`, take a 5 minute break.","body":"whenever you see usages of <code>Vector</code>, take a 5 minute break."}],"tags":[],"owner":{"account_id":9774,"reputation":3303,"user_id":18187,"accept_rate":83,"display_name":"ddimitrov"},"comment_count":5,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1306518608,"creation_date":1223633843,"answer_id":190713,"question_id":189559,"body_markdown":"I&#39;m not claiming that it&#39;s simple, but you mentioned bonus for one-liners ;-)\r\n\r\n    Collection mergedList = Collections.list(new sun.misc.CompoundEnumeration(new Enumeration[] {\r\n    \tnew Vector(list1).elements(),\r\n\t    new Vector(list2).elements(),\r\n\t    ...\r\n    }))","title":"How do I join two lists in Java?","body":"<p>I'm not claiming that it's simple, but you mentioned bonus for one-liners ;-)</p>\n\n<pre><code>Collection mergedList = Collections.list(new sun.misc.CompoundEnumeration(new Enumeration[] {\n    new Vector(list1).elements(),\n    new Vector(list2).elements(),\n    ...\n}))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13361,"reputation":5213,"user_id":26787,"accept_rate":50,"display_name":"alex"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1475662691,"creation_date":1223638619,"answer_id":190918,"question_id":189559,"body_markdown":"Use a Helper class.\r\n\r\nI suggest:\r\n\r\n\r\n\tpublic static &lt;E&gt; Collection&lt;E&gt; addAll(Collection&lt;E&gt; dest, Collection&lt;? extends E&gt;... src) {\r\n\t\tfor(Collection&lt;? extends E&gt; c : src) {\r\n\t\t\tdest.addAll(c);\r\n\t\t}\r\n\t\t\r\n\t\treturn dest;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(addAll(new ArrayList&lt;Object&gt;(), Arrays.asList(1,2,3), Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)));\r\n\t\t\r\n\t\t// does not compile\r\n\t\t// System.out.println(addAll(new ArrayList&lt;Integer&gt;(), Arrays.asList(1,2,3), Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)));\r\n\t\t\r\n\t\tSystem.out.println(addAll(new ArrayList&lt;Integer&gt;(), Arrays.asList(1,2,3), Arrays.asList(4, 5, 6)));\r\n\t}\r\n","title":"How do I join two lists in Java?","body":"<p>Use a Helper class.</p>\n\n<p>I suggest:</p>\n\n<pre><code>public static &lt;E&gt; Collection&lt;E&gt; addAll(Collection&lt;E&gt; dest, Collection&lt;? extends E&gt;... src) {\n    for(Collection&lt;? extends E&gt; c : src) {\n        dest.addAll(c);\n    }\n\n    return dest;\n}\n\npublic static void main(String[] args) {\n    System.out.println(addAll(new ArrayList&lt;Object&gt;(), Arrays.asList(1,2,3), Arrays.asList(\"a\", \"b\", \"c\")));\n\n    // does not compile\n    // System.out.println(addAll(new ArrayList&lt;Integer&gt;(), Arrays.asList(1,2,3), Arrays.asList(\"a\", \"b\", \"c\")));\n\n    System.out.println(addAll(new ArrayList&lt;Integer&gt;(), Arrays.asList(1,2,3), Arrays.asList(4, 5, 6)));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"score":72,"creation_date":1303780641,"post_id":3581132,"comment_id":6630503,"body_markdown":"Nice, but requires apache commons. He did specify &#39;no external libraries&#39;","body":"Nice, but requires apache commons. He did specify &#39;no external libraries&#39;"},{"owner":{"account_id":58573,"reputation":17921,"user_id":175308,"accept_rate":71,"display_name":"tster"},"score":128,"creation_date":1333150295,"post_id":3581132,"comment_id":12708292,"body_markdown":"@Quantum7, still useful for other people ;)   Also, is apache commons even an external library?  I don&#39;t start anything without it!","body":"@Quantum7, still useful for other people ;)   Also, is apache commons even an external library?  I don&#39;t start anything without it!"},{"owner":{"account_id":30047,"reputation":3185,"user_id":81658,"accept_rate":90,"display_name":"Quantum7"},"score":31,"creation_date":1355788364,"post_id":3581132,"comment_id":19195263,"body_markdown":"@Platinum No, according to the docs ListUtils.union is exactly equivalent to OP&#39;s code. But perhaps it is misleading to use a SET operation (&quot;Union&quot;) in a list context. I can see how you might expect this to remove duplicates or something, but it appears the method does not do that.","body":"@Platinum No, according to the docs ListUtils.union is exactly equivalent to OP&#39;s code. But perhaps it is misleading to use a SET operation (&quot;Union&quot;) in a list context. I can see how you might expect this to remove duplicates or something, but it appears the method does not do that."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":31,"creation_date":1378669061,"post_id":3581132,"comment_id":27528494,"body_markdown":"Avoid Apache Commons Collections. It’s not typesafe, there are no generics. Great if you use Java 1.4, but for Java 5 and above, I’d prefer Google Guava.","body":"Avoid Apache Commons Collections. It’s not typesafe, there are no generics. Great if you use Java 1.4, but for Java 5 and above, I’d prefer Google Guava."},{"owner":{"account_id":9137,"reputation":10022,"user_id":16759,"accept_rate":70,"display_name":"Richard"},"score":1,"creation_date":1385116493,"post_id":3581132,"comment_id":30020242,"body_markdown":"@MichaelPiefel it seems the only method missing from Guava is a Lists.concat(...) method.","body":"@MichaelPiefel it seems the only method missing from Guava is a Lists.concat(...) method."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":3,"creation_date":1385372104,"post_id":3581132,"comment_id":30098782,"body_markdown":"@Richard Yes, but how about `Iterables.concat()`? Most of the times its exactly what you want. If you absolutely need a new list, use `Lists.newArrayList(Iterables.concat(…))`.","body":"@Richard Yes, but how about <code>Iterables.concat()</code>? Most of the times its exactly what you want. If you absolutely need a new list, use <code>Lists.newArrayList(Iterables.concat(…))</code>."},{"owner":{"account_id":17648,"reputation":1075,"user_id":39701,"display_name":"mingfai"},"score":18,"creation_date":1390328245,"post_id":3581132,"comment_id":32040550,"body_markdown":"@MichaelPiefel The latest Apache Commons Collections 4 is type-safe. With Java 8 method reference, this kind of static utilities become very important.","body":"@MichaelPiefel The latest Apache Commons Collections 4 is type-safe. With Java 8 method reference, this kind of static utilities become very important."},{"owner":{"account_id":3070071,"reputation":302,"user_id":2600966,"display_name":"Michael Haefele"},"score":2,"creation_date":1508938232,"post_id":3581132,"comment_id":80814539,"body_markdown":"Upvoted as this is the only answer that didn&#39;t require multiple method calls.  Streams are fun, but having to do n method calls for every...single...little....thing... seems error prone.  Joining two lists SHOULD be a simple operation.","body":"Upvoted as this is the only answer that didn&#39;t require multiple method calls.  Streams are fun, but having to do n method calls for every...single...little....thing... seems error prone.  Joining two lists SHOULD be a simple operation."},{"owner":{"account_id":5147209,"reputation":4477,"user_id":4122849,"accept_rate":83,"display_name":"Pat Myron"},"score":2,"creation_date":1525824841,"post_id":3581132,"comment_id":87505340,"body_markdown":"Unfortunately, ListUtils.union() does not support more than 2 parameters","body":"Unfortunately, ListUtils.union() does not support more than 2 parameters"},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":1,"creation_date":1618824295,"post_id":3581132,"comment_id":118710163,"body_markdown":"But the union of two lists includes only distinct elements. Joining two lists must include all elements (duplicates or not).","body":"But the union of two lists includes only distinct elements. Joining two lists must include all elements (duplicates or not)."}],"tags":[],"owner":{"account_id":645185,"reputation":4543,"user_id":432521,"display_name":"Guillermo"},"comment_count":10,"down_vote_count":19,"up_vote_count":458,"is_accepted":false,"score":439,"last_activity_date":1529850587,"creation_date":1282879680,"answer_id":3581132,"question_id":189559,"body_markdown":"You could use the [Apache commons-collections](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html) library:\r\n\r\n    List&lt;String&gt; newList = ListUtils.union(list1, list2);","title":"How do I join two lists in Java?","body":"<p>You could use the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html\" rel=\"noreferrer\">Apache commons-collections</a> library:</p>\n\n<pre><code>List&lt;String&gt; newList = ListUtils.union(list1, list2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1660711,"reputation":835,"user_id":1529064,"accept_rate":100,"display_name":"meilechh"},"score":12,"creation_date":1392311666,"post_id":6874135,"comment_id":32917108,"body_markdown":"For example: Lists.newArrayList(Iterables.concat(list1,list2));","body":"For example: Lists.newArrayList(Iterables.concat(list1,list2));"},{"owner":{"account_id":2144972,"reputation":1107,"user_id":1902792,"accept_rate":50,"display_name":"bob"},"score":0,"creation_date":1460615805,"post_id":6874135,"comment_id":60827371,"body_markdown":"you should call `com.google.common.collect.Iterators#concat(java.util.Iterator&lt;? extends java.util.Iterator&lt;? extends T&gt;&gt;)` instead of `Iterables#concat()`; because the later still copy elements into temp link!","body":"you should call <code>com.google.common.collect.Iterators#concat(java.util.Iterato&zwnj;&#8203;r&lt;? extends java.util.Iterator&lt;? extends T&gt;&gt;)</code> instead of <code>Iterables#concat()</code>; because the later still copy elements into temp link!"}],"tags":[],"owner":{"account_id":123844,"reputation":16904,"user_id":318558,"accept_rate":55,"display_name":"Yuri Geinish"},"comment_count":2,"down_vote_count":1,"up_vote_count":60,"is_accepted":false,"score":59,"last_activity_date":1311947196,"creation_date":1311947196,"answer_id":6874135,"question_id":189559,"body_markdown":"Found this question looking to concatenate arbitrary amount of lists, not minding external libraries. So, perhaps it will help someone else:\r\n\r\n    com.google.common.collect.Iterables#concat()\r\n\r\nUseful if you want to apply the same logic to a number of different collections in one for().","title":"How do I join two lists in Java?","body":"<p>Found this question looking to concatenate arbitrary amount of lists, not minding external libraries. So, perhaps it will help someone else:</p>\n\n<pre><code>com.google.common.collect.Iterables#concat()\n</code></pre>\n\n<p>Useful if you want to apply the same logic to a number of different collections in one for().</p>\n"},{"tags":[],"owner":{"account_id":892293,"reputation":9,"user_id":930312,"display_name":"nirmal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1315307200,"creation_date":1315300443,"answer_id":7317532,"question_id":189559,"body_markdown":"No way near one-liner, but I think this is the simplest:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;(l1);\r\n    newList.addAll(l2);\r\n\t\t\r\n    for(String w:newList)\r\n        \tSystem.out.printf(&quot;%s &quot;, w);\r\n","title":"How do I join two lists in Java?","body":"<p>No way near one-liner, but I think this is the simplest:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;(l1);\nnewList.addAll(l2);\n\nfor(String w:newList)\n        System.out.printf(\"%s \", w);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4333307,"reputation":4755,"user_id":3538165,"accept_rate":100,"display_name":"Resigned June 2023"},"score":5,"creation_date":1417968013,"post_id":11666257,"comment_id":43144292,"body_markdown":"Don&#39;t forget the `@SafeVarargs`!","body":"Don&#39;t forget the <code>@SafeVarargs</code>!"},{"owner":{"account_id":2024839,"reputation":859,"user_id":1810154,"accept_rate":83,"display_name":"Frank"},"score":0,"creation_date":1689669592,"post_id":11666257,"comment_id":135242800,"body_markdown":"The bigList might get resized potentially. So the solution is functionally correct, but might not the most efficient.","body":"The bigList might get resized potentially. So the solution is functionally correct, but might not the most efficient."}],"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1343294740,"creation_date":1343294740,"answer_id":11666257,"question_id":189559,"body_markdown":"The smartest in my opinion:\r\n\r\n    /**\r\n     * @param smallLists\r\n     * @return one big list containing all elements of the small ones, in the same order.\r\n     */\r\n    public static &lt;E&gt; List&lt;E&gt; concatenate (final List&lt;E&gt; ... smallLists)\r\n    {\r\n        final ArrayList&lt;E&gt; bigList = new ArrayList&lt;E&gt;();\r\n        for (final List&lt;E&gt; list: smallLists)\r\n        {\r\n            bigList.addAll(list);\r\n        }\r\n        return bigList;\r\n    }\r\n","title":"How do I join two lists in Java?","body":"<p>The smartest in my opinion:</p>\n\n<pre><code>/**\n * @param smallLists\n * @return one big list containing all elements of the small ones, in the same order.\n */\npublic static &lt;E&gt; List&lt;E&gt; concatenate (final List&lt;E&gt; ... smallLists)\n{\n    final ArrayList&lt;E&gt; bigList = new ArrayList&lt;E&gt;();\n    for (final List&lt;E&gt; list: smallLists)\n    {\n        bigList.addAll(list);\n    }\n    return bigList;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2024839,"reputation":859,"user_id":1810154,"accept_rate":83,"display_name":"Frank"},"score":0,"creation_date":1689669209,"post_id":13868047,"comment_id":135242710,"body_markdown":"I think it&#39;s the correct and the most efficient answer here. I just don&#39;t understand why Java doesn&#39;t provide a constructor or a static method for it. It isn&#39;t the second day of Java in this world, yet such basic things are just missing. So disappointing and triggering at the same time.","body":"I think it&#39;s the correct and the most efficient answer here. I just don&#39;t understand why Java doesn&#39;t provide a constructor or a static method for it. It isn&#39;t the second day of Java in this world, yet such basic things are just missing. So disappointing and triggering at the same time."}],"tags":[],"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"comment_count":1,"down_vote_count":0,"up_vote_count":90,"is_accepted":false,"score":90,"last_activity_date":1355430954,"creation_date":1355430954,"answer_id":13868047,"question_id":189559,"body_markdown":"Not simpler, but without resizing overhead:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;&gt;(listOne.size() + listTwo.size());\r\n    newList.addAll(listOne);\r\n    newList.addAll(listTwo);","title":"How do I join two lists in Java?","body":"<p>Not simpler, but without resizing overhead:</p>\n\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;&gt;(listOne.size() + listTwo.size());\nnewList.addAll(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":303075,"reputation":527,"user_id":611797,"display_name":"jwj"},"score":13,"creation_date":1410838451,"post_id":13868352,"comment_id":40465326,"body_markdown":"This is a workable solution, but do note that if the underlying list objects change (list1, list2), the contents of this list change. You may not be able to modify an instance of the CompositeUnmodifiableList _itself_ but if you can get a reference to the original lists, then you can.\n\nAlso for those that are unfamiliar: the final modifier just affects the _reference_ to the list object itself can&#39;t change but it&#39;s still possible for the contents of the list to change!","body":"This is a workable solution, but do note that if the underlying list objects change (list1, list2), the contents of this list change. You may not be able to modify an instance of the CompositeUnmodifiableList <i>itself</i> but if you can get a reference to the original lists, then you can.  Also for those that are unfamiliar: the final modifier just affects the <i>reference</i> to the list object itself can&#39;t change but it&#39;s still possible for the contents of the list to change!"},{"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"score":3,"creation_date":1424708548,"post_id":13868352,"comment_id":45649690,"body_markdown":"@jwj all very good points, thank you.  The class name probably deserves some explanation.  I see this class as doing something very similar to the `Collections.unmodifiableList()` method, which wraps a list to make it unmodifiable.  `CompositeUnmodifiableList` does the same thing, except it wraps two lists and provides a concatenated view.  All the points you make about `CompositeUnmodifiableList` are also true of `Collections.unmodifiableList()` as well.","body":"@jwj all very good points, thank you.  The class name probably deserves some explanation.  I see this class as doing something very similar to the <code>Collections.unmodifiableList()</code> method, which wraps a list to make it unmodifiable.  <code>CompositeUnmodifiableList</code> does the same thing, except it wraps two lists and provides a concatenated view.  All the points you make about <code>CompositeUnmodifiableList</code> are also true of <code>Collections.unmodifiableList()</code> as well."},{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":2,"creation_date":1486302498,"post_id":13868352,"comment_id":71277707,"body_markdown":"The constructor can take `List&lt;? extends E&gt;`","body":"The constructor can take <code>List&lt;? extends E&gt;</code>"}],"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"comment_count":3,"down_vote_count":1,"up_vote_count":102,"is_accepted":false,"score":101,"last_activity_date":1621422631,"creation_date":1355432052,"answer_id":13868352,"question_id":189559,"body_markdown":"One of your requirements is to preserve the original lists.  If you create a new list and use `addAll()`, you are effectively doubling the number of references to the objects in your lists.  This could lead to memory problems if your lists are very large.\r\n\r\nIf you don&#39;t need to modify the concatenated result, you can avoid this using a custom list implementation.  The custom implementation class is more than one line, obviously...but using it is short and sweet.\r\n\r\nCompositeUnmodifiableList.java:\r\n\r\n\tpublic class CompositeUnmodifiableList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n\t\r\n\t\tprivate final List&lt;? extends E&gt; list1;\r\n\t\tprivate final List&lt;? extends E&gt; list2;\r\n\t\r\n\t\tpublic CompositeUnmodifiableList(List&lt;? extends E&gt; list1, List&lt;? extends E&gt; list2) {\r\n\t\t\tthis.list1 = list1;\r\n\t\t\tthis.list2 = list2;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic E get(int index) {\r\n\t\t\tif (index &lt; list1.size()) {\r\n\t\t\t\treturn list1.get(index);\r\n\t\t\t}\r\n\t\t\treturn list2.get(index-list1.size());\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic int size() {\r\n\t\t\treturn list1.size() + list2.size();\r\n\t\t}\r\n\t}\r\n\r\nUsage:\r\n\r\n    List&lt;String&gt; newList = new CompositeUnmodifiableList&lt;String&gt;(listOne,listTwo);","title":"How do I join two lists in Java?","body":"<p>One of your requirements is to preserve the original lists.  If you create a new list and use <code>addAll()</code>, you are effectively doubling the number of references to the objects in your lists.  This could lead to memory problems if your lists are very large.</p>\n<p>If you don't need to modify the concatenated result, you can avoid this using a custom list implementation.  The custom implementation class is more than one line, obviously...but using it is short and sweet.</p>\n<p>CompositeUnmodifiableList.java:</p>\n<pre><code>public class CompositeUnmodifiableList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n    private final List&lt;? extends E&gt; list1;\n    private final List&lt;? extends E&gt; list2;\n\n    public CompositeUnmodifiableList(List&lt;? extends E&gt; list1, List&lt;? extends E&gt; list2) {\n        this.list1 = list1;\n        this.list2 = list2;\n    }\n    \n    @Override\n    public E get(int index) {\n        if (index &lt; list1.size()) {\n            return list1.get(index);\n        }\n        return list2.get(index-list1.size());\n    }\n\n    @Override\n    public int size() {\n        return list1.size() + list2.size();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>List&lt;String&gt; newList = new CompositeUnmodifiableList&lt;String&gt;(listOne,listTwo);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":3,"creation_date":1504349821,"post_id":13990351,"comment_id":78986115,"body_markdown":"I don&#39;t even understand what part is actually meant to be the answer...","body":"I don&#39;t even understand what part is actually meant to be the answer..."},{"owner":{"account_id":12896319,"reputation":2102,"user_id":9326543,"display_name":"FishingIsLife"},"score":1,"creation_date":1577695565,"post_id":13990351,"comment_id":105226031,"body_markdown":"A few sentences of explanation would help a lot. Please keep that in mind for future comments","body":"A few sentences of explanation would help a lot. Please keep that in mind for future comments"}],"tags":[],"owner":{"account_id":2169054,"reputation":5,"user_id":1921533,"display_name":"Ram Pasupula"},"comment_count":2,"down_vote_count":9,"up_vote_count":1,"is_accepted":false,"score":-8,"last_activity_date":1356094536,"creation_date":1356093460,"answer_id":13990351,"question_id":189559,"body_markdown":"    public class TestApp {\r\n\r\n\t/**\r\n\t * @param args\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Hi&quot;);\r\n\t\tSet&lt;List&lt;String&gt;&gt; bcOwnersList = new HashSet&lt;List&lt;String&gt;&gt;();\r\n\t\tList&lt;String&gt; bclist = new ArrayList&lt;String&gt;();\r\n\t\tList&lt;String&gt; bclist1 = new ArrayList&lt;String&gt;();\r\n\t\tList&lt;String&gt; object = new ArrayList&lt;String&gt;();\r\n\t\tobject.add(&quot;BC11&quot;);\r\n\t\tobject.add(&quot;C2&quot;);\r\n\t\tbclist.add(&quot;BC1&quot;);\r\n\t\tbclist.add(&quot;BC2&quot;);\r\n\t\tbclist.add(&quot;BC3&quot;);\r\n\t\tbclist.add(&quot;BC4&quot;);\r\n\t\tbclist.add(&quot;BC5&quot;);\r\n\t\tbcOwnersList.add(bclist);\r\n\t\tbcOwnersList.add(object);\r\n\t\t\r\n\t\tbclist1.add(&quot;BC11&quot;);\r\n\t\tbclist1.add(&quot;BC21&quot;);\r\n\t\tbclist1.add(&quot;BC31&quot;);\r\n\t\tbclist1.add(&quot;BC4&quot;);\r\n\t\tbclist1.add(&quot;BC5&quot;);\r\n\t\t\r\n\t\tList&lt;String&gt; listList= new ArrayList&lt;String&gt;();\r\n\t\tfor(List&lt;String&gt; ll : bcOwnersList){\r\n\t\t\tlistList = (List&lt;String&gt;) CollectionUtils.union(listList,CollectionUtils.intersection(ll, bclist1));\r\n\t\t}\r\n\t\t/*for(List&lt;String&gt; lists : listList){\r\n\t\t\ttest = (List&lt;String&gt;) CollectionUtils.union(test, listList);\r\n\t\t}*/\r\n\t\tfor(Object l : listList){\r\n\t\t\tSystem.out.println(l.toString());\r\n\t\t}\r\n\t\tSystem.out.println(bclist.contains(&quot;BC&quot;));\r\n\t\t\r\n\t}\r\n\r\n    }\r\n","title":"How do I join two lists in Java?","body":"<pre><code>public class TestApp {\n\n/**\n * @param args\n */\npublic static void main(String[] args) {\n    System.out.println(\"Hi\");\n    Set&lt;List&lt;String&gt;&gt; bcOwnersList = new HashSet&lt;List&lt;String&gt;&gt;();\n    List&lt;String&gt; bclist = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; bclist1 = new ArrayList&lt;String&gt;();\n    List&lt;String&gt; object = new ArrayList&lt;String&gt;();\n    object.add(\"BC11\");\n    object.add(\"C2\");\n    bclist.add(\"BC1\");\n    bclist.add(\"BC2\");\n    bclist.add(\"BC3\");\n    bclist.add(\"BC4\");\n    bclist.add(\"BC5\");\n    bcOwnersList.add(bclist);\n    bcOwnersList.add(object);\n\n    bclist1.add(\"BC11\");\n    bclist1.add(\"BC21\");\n    bclist1.add(\"BC31\");\n    bclist1.add(\"BC4\");\n    bclist1.add(\"BC5\");\n\n    List&lt;String&gt; listList= new ArrayList&lt;String&gt;();\n    for(List&lt;String&gt; ll : bcOwnersList){\n        listList = (List&lt;String&gt;) CollectionUtils.union(listList,CollectionUtils.intersection(ll, bclist1));\n    }\n    /*for(List&lt;String&gt; lists : listList){\n        test = (List&lt;String&gt;) CollectionUtils.union(test, listList);\n    }*/\n    for(Object l : listList){\n        System.out.println(l.toString());\n    }\n    System.out.println(bclist.contains(\"BC\"));\n\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9376,"reputation":23748,"user_id":17294,"accept_rate":52,"display_name":"Robert Atkins"},"score":148,"creation_date":1378757002,"post_id":18687790,"comment_id":27560662,"body_markdown":"Gawd, that&#39;s a thing in Java 8? Technically you win I guess, but that&#39;s a heck of a long line :-)","body":"Gawd, that&#39;s a thing in Java 8? Technically you win I guess, but that&#39;s a heck of a long line :-)"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1473091324,"post_id":18687790,"comment_id":65999696,"body_markdown":"I wonder if creating and running through two Streams has a noticeable performance impact. I suppose it shouldn&#39;t, compared to creating two Iterators.","body":"I wonder if creating and running through two Streams has a noticeable performance impact. I suppose it shouldn&#39;t, compared to creating two Iterators."},{"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":6,"creation_date":1475586982,"post_id":18687790,"comment_id":66994483,"body_markdown":"For the casual reader, here is a shorter solution using also Java _ Streams: http://stackoverflow.com/a/34090554/363573","body":"For the casual reader, here is a shorter solution using also Java _ Streams: <a href=\"http://stackoverflow.com/a/34090554/363573\">stackoverflow.com/a/34090554/363573</a>"},{"owner":{"account_id":363150,"reputation":18199,"user_id":706727,"accept_rate":89,"display_name":"Usman Ismail"},"score":7,"creation_date":1515683201,"post_id":18687790,"comment_id":83401250,"body_markdown":"It is ugly but at least its fluent and can be used without multi line lambdas. I really wish there was a fluent addAll that returned the concatinated list.","body":"It is ugly but at least its fluent and can be used without multi line lambdas. I really wish there was a fluent addAll that returned the concatinated list."},{"owner":{"account_id":280794,"reputation":2726,"user_id":576699,"accept_rate":66,"display_name":"Mr Baloon"},"score":20,"creation_date":1546197493,"post_id":18687790,"comment_id":94798535,"body_markdown":"I guess it&#39;s worth noting that it&#39;s really easy to get a distinct list out of this too, like so: `List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream()).distinct().collect(Collectors.toList());`","body":"I guess it&#39;s worth noting that it&#39;s really easy to get a distinct list out of this too, like so: <code>List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream()).distinct().collect(Collectors.toList());</code>"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":17,"creation_date":1554808631,"post_id":18687790,"comment_id":97879688,"body_markdown":"Alternative to concat: stream of streams\n`Stream.of(listOne, listTwo).flatMap(Collection::stream).collect(Collectors.toList())`","body":"Alternative to concat: stream of streams <code>Stream.of(listOne, listTwo).flatMap(Collection::stream).collect(Collectors.toLi&zwnj;&#8203;st())</code>"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":1,"creation_date":1598529943,"post_id":18687790,"comment_id":112492346,"body_markdown":"@PeterWalser That should be a separate answer, since it also allows more than one list. `flatMap`, good call!","body":"@PeterWalser That should be a separate answer, since it also allows more than one list. <code>flatMap</code>, good call!"},{"owner":{"account_id":257842,"reputation":9939,"user_id":539599,"accept_rate":86,"display_name":"Raphael"},"score":1,"creation_date":1598529982,"post_id":18687790,"comment_id":112492364,"body_markdown":"Usually, when I get to a point where the only reasonable API is the one for streams, I realize that `listOne` and `listTwo` should have been streams all along.","body":"Usually, when I get to a point where the only reasonable API is the one for streams, I realize that <code>listOne</code> and <code>listTwo</code> should have been streams all along."},{"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"score":0,"creation_date":1672036538,"post_id":18687790,"comment_id":132210039,"body_markdown":"Imports needed `import java.util.stream.*;`","body":"Imports needed <code>import java.util.stream.*;</code>"},{"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"score":0,"creation_date":1693891170,"post_id":18687790,"comment_id":135815253,"body_markdown":"Alternative in streams and most efficient way,\n\n```\nList&lt;Integer&gt;list1=Arrays.asList(1,2,3);\nList&lt;Integer&gt;list2=Arrays.asList(4,5,6);\nList&lt;Integer&gt; combinedList = new ArrayList&lt;&gt;();\nStream.of(list1, list2).forEach(combinedList ::addAll);```","body":"Alternative in streams and most efficient way,  ``` List&lt;Integer&gt;list1=Arrays.asList(1,2,3); List&lt;Integer&gt;list2=Arrays.asList(4,5,6); List&lt;Integer&gt; combinedList = new ArrayList&lt;&gt;(); Stream.of(list1, list2).forEach(combinedList ::addAll);```"}],"tags":[],"owner":{"account_id":409014,"reputation":10491,"user_id":780017,"display_name":"Dale Emery"},"comment_count":10,"down_vote_count":1,"up_vote_count":1032,"is_accepted":false,"score":1031,"last_activity_date":1655877558,"creation_date":1378668709,"answer_id":18687790,"question_id":189559,"body_markdown":"In Java 8:\r\n\r\n    List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream())\r\n                                 .collect(Collectors.toList());\r\n\r\nJava 16+:\r\n\r\n    List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream()).toList();","title":"How do I join two lists in Java?","body":"<p>In Java 8:</p>\n<pre><code>List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream())\n                             .collect(Collectors.toList());\n</code></pre>\n<p>Java 16+:</p>\n<pre><code>List&lt;String&gt; newList = Stream.concat(listOne.stream(), listTwo.stream()).toList();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9376,"reputation":23748,"user_id":17294,"accept_rate":52,"display_name":"Robert Atkins"},"score":15,"creation_date":1378756908,"post_id":18689435,"comment_id":27560603,"body_markdown":"Not modifying the original lists was one of the criteria, but this is useful to have here as an example for situations where that&#39;s not a constraint.","body":"Not modifying the original lists was one of the criteria, but this is useful to have here as an example for situations where that&#39;s not a constraint."},{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":10,"creation_date":1578068617,"post_id":18689435,"comment_id":105330053,"body_markdown":"Thanks, or even simpler listOne.addAll(listTwo)","body":"Thanks, or even simpler listOne.addAll(listTwo)"}],"tags":[],"owner":{"account_id":1448716,"reputation":6182,"user_id":1366353,"accept_rate":81,"display_name":"ceklock"},"comment_count":2,"down_vote_count":6,"up_vote_count":45,"is_accepted":false,"score":39,"last_activity_date":1378681141,"creation_date":1378680619,"answer_id":18689435,"question_id":189559,"body_markdown":"This is simple and just one line, but will add the contents of listTwo to listOne. Do you really need to put the contents in a third list?\r\n\r\n    Collections.addAll(listOne, listTwo.toArray());\r\n\r\n","title":"How do I join two lists in Java?","body":"<p>This is simple and just one line, but will add the contents of listTwo to listOne. Do you really need to put the contents in a third list?</p>\n\n<pre><code>Collections.addAll(listOne, listTwo.toArray());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"score":44,"creation_date":1432916332,"post_id":22850433,"comment_id":49142418,"body_markdown":"`x -&gt; x.stream()` could be replaced with `Collection::stream`.","body":"<code>x -&gt; x.stream()</code> could be replaced with <code>Collection::stream</code>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":22,"creation_date":1547202843,"post_id":22850433,"comment_id":95120663,"body_markdown":"...or even with `List::stream`.","body":"...or even with <code>List::stream</code>."},{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1620107737,"post_id":22850433,"comment_id":119095801,"body_markdown":"Nice. I like this approach.","body":"Nice. I like this approach."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1644847994,"post_id":22850433,"comment_id":125706998,"body_markdown":"Super. Also null safe. Both lists can be null and it would still work !","body":"Super. Also null safe. Both lists can be null and it would still work !"},{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":3,"creation_date":1676679737,"post_id":22850433,"comment_id":133192881,"body_markdown":"In JDK 17, `.collect(Collectors.toList())` can be replaced with just `.toList()`;","body":"In JDK 17, <code>.collect(Collectors.toList())</code> can be replaced with just <code>.toList()</code>;"},{"owner":{"account_id":1150215,"reputation":2323,"user_id":1132101,"accept_rate":45,"display_name":"skagedal"},"score":0,"creation_date":1694066521,"post_id":22850433,"comment_id":135842746,"body_markdown":"@FarrukhChishti That is not true, `Stream.of(List.of(&quot;&quot;), null).flatMap(Collection::stream).toList()` gives a NullPointerException.","body":"@FarrukhChishti That is not true, <code>Stream.of(List.of(&quot;&quot;), null).flatMap(Collection::stream).toList()</code> gives a NullPointerException."}],"tags":[],"owner":{"account_id":4262166,"reputation":3127,"user_id":3486249,"display_name":"Mark"},"comment_count":6,"down_vote_count":1,"up_vote_count":248,"is_accepted":false,"score":247,"last_activity_date":1589185462,"creation_date":1396565463,"answer_id":22850433,"question_id":189559,"body_markdown":"Another Java 8 one-liner:\r\n\r\n    List&lt;String&gt; newList = Stream.of(listOne, listTwo)\r\n                                .flatMap(Collection::stream)\r\n                                .collect(Collectors.toList());\r\n\r\nAs a bonus, since `Stream.of()` is variadic, you may concatenate as many lists as you like.\r\n\r\n    List&lt;String&gt; newList = Stream.of(listOne, listTwo, listThree)\r\n                                .flatMap(Collection::stream)\r\n                                .collect(Collectors.toList());\r\n","title":"How do I join two lists in Java?","body":"<p>Another Java 8 one-liner:</p>\n\n<pre><code>List&lt;String&gt; newList = Stream.of(listOne, listTwo)\n                            .flatMap(Collection::stream)\n                            .collect(Collectors.toList());\n</code></pre>\n\n<p>As a bonus, since <code>Stream.of()</code> is variadic, you may concatenate as many lists as you like.</p>\n\n<pre><code>List&lt;String&gt; newList = Stream.of(listOne, listTwo, listThree)\n                            .flatMap(Collection::stream)\n                            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332194,"reputation":1002,"user_id":657341,"accept_rate":67,"display_name":"martyglaubitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1405185172,"creation_date":1405185172,"answer_id":24715402,"question_id":189559,"body_markdown":"    public static &lt;T&gt; List&lt;T&gt; merge(List&lt;T&gt;... args) {\r\n        final List&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (List&lt;T&gt; list : args) {\r\n            result.addAll(list);\r\n        }\r\n\r\n        return result;\r\n    }","title":"How do I join two lists in Java?","body":"<pre><code>public static &lt;T&gt; List&lt;T&gt; merge(List&lt;T&gt;... args) {\n    final List&lt;T&gt; result = new ArrayList&lt;&gt;();\n\n    for (List&lt;T&gt; list : args) {\n        result.addAll(list);\n    }\n\n    return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"score":18,"creation_date":1489505493,"post_id":34090554,"comment_id":72694693,"body_markdown":"If I am not wrong this is actually not recommended - docs.oracle.com/javase/8/docs/api/java/util/stream/… Please see side -effects section. &gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards. So in this case it is better to use Collectors.toList()","body":"If I am not wrong this is actually not recommended - docs.oracle.com/javase/8/docs/api/java/util/stream/… Please see side -effects section. &gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards. So in this case it is better to use Collectors.toList()"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1499751952,"post_id":34090554,"comment_id":77026552,"body_markdown":"@AntonBalaniuc Question is if whether this is really a side effect. At that point `newList` is not observable by any other thread. But you are correct that this probably shouldn&#39;t be done if it is unknown where the value of `newList`came from (for example if `newList` was passed as a parameter.","body":"@AntonBalaniuc Question is if whether this is really a side effect. At that point <code>newList</code> is not observable by any other thread. But you are correct that this probably shouldn&#39;t be done if it is unknown where the value of <code>newList</code>came from (for example if <code>newList</code> was passed as a parameter."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":2,"creation_date":1503396960,"post_id":34090554,"comment_id":78587233,"body_markdown":"I&#39;m curious; why `.forEach(newList::addAll);` instead of `.collect(Collectors.toList());`?","body":"I&#39;m curious; why <code>.forEach(newList::addAll);</code> instead of <code>.collect(Collectors.toList());</code>?"},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":5,"creation_date":1503400985,"post_id":34090554,"comment_id":78589816,"body_markdown":"@11684 because the collector would collect a `List&lt;List&lt;Object&gt;&gt;`. What you may have in mind is something like this: https://stackoverflow.com/questions/189559/how-do-i-join-two-lists-in-java/37386846#37386846","body":"@11684 because the collector would collect a <code>List&lt;List&lt;Object&gt;&gt;</code>. What you may have in mind is something like this: <a href=\"https://stackoverflow.com/questions/189559/how-do-i-join-two-lists-in-java/37386846#37386846\" title=\"how do i join two lists in java\">stackoverflow.com/questions/189559/&hellip;</a>"},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1503401211,"post_id":34090554,"comment_id":78589995,"body_markdown":"@SpaceTrucker Oops, I overlooked that. Thanks for clearing up my confusion. Yes, I should have been thinking of `flatMap`.","body":"@SpaceTrucker Oops, I overlooked that. Thanks for clearing up my confusion. Yes, I should have been thinking of <code>flatMap</code>."}],"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":5,"down_vote_count":3,"up_vote_count":55,"is_accepted":false,"score":52,"last_activity_date":1501051927,"creation_date":1449239271,"answer_id":34090554,"question_id":189559,"body_markdown":"Here is a java 8 solution using two lines:\r\n\r\n    List&lt;Object&gt; newList = new ArrayList&lt;&gt;();\r\n    Stream.of(list1, list2).forEach(newList::addAll);\r\n\r\nBe aware that this method should not be used if\r\n\r\n- the origin of `newList` is not known and it may already be shared with other threads\r\n- the stream that modifies `newList` is a parallel stream and access to  `newList` is not synchronized or threadsafe\r\n\r\ndue to side effect considerations.\r\n\r\nBoth of the above conditions do not apply for the above case of joining two lists, so this is safe.\r\n\r\nBased on [this answer][1] to another question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/18290985/1466267","title":"How do I join two lists in Java?","body":"<p>Here is a java 8 solution using two lines:</p>\n\n<pre><code>List&lt;Object&gt; newList = new ArrayList&lt;&gt;();\nStream.of(list1, list2).forEach(newList::addAll);\n</code></pre>\n\n<p>Be aware that this method should not be used if</p>\n\n<ul>\n<li>the origin of <code>newList</code> is not known and it may already be shared with other threads</li>\n<li>the stream that modifies <code>newList</code> is a parallel stream and access to  <code>newList</code> is not synchronized or threadsafe</li>\n</ul>\n\n<p>due to side effect considerations.</p>\n\n<p>Both of the above conditions do not apply for the above case of joining two lists, so this is safe.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/a/18290985/1466267\">this answer</a> to another question.</p>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1581919775,"creation_date":1463994262,"answer_id":37386846,"question_id":189559,"body_markdown":"&gt; Java 8 (`Stream.of` and `Stream.concat`)\r\n\r\n \r\nThe proposed solution is for three lists though it can be applied for two lists as well. In Java 8 we can make use of [Stream.of][1] or [Stream.concat][2] as:\r\n\r\n    List&lt;String&gt; result1 = Stream.concat(Stream.concat(list1.stream(),list2.stream()),list3.stream()).collect(Collectors.toList());\r\n    List&lt;String&gt; result2 = Stream.of(list1,list2,list3).flatMap(Collection::stream).collect(Collectors.toList());\r\n\r\n`Stream.concat` takes two streams as input and creates a lazily concatenated stream whose elements are all the elements of the first stream followed by all the elements of the second stream. As we have three lists we have used this method (`Stream.concat`) two times.\r\n\r\nWe can also write a utility class with a method that takes any number of lists (using [varargs][3]) and returns a concatenated list as:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; concatenateLists(List&lt;T&gt;... collections) {\r\n            return Arrays.stream(collections).flatMap(Collection::stream).collect(Collectors.toList()); \r\n    }\r\n\r\nThen we can make use of this method as:\r\n\r\n    List&lt;String&gt; result3 = Utils.concatenateLists(list1,list2,list3);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\r\n  [3]: https://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html","title":"How do I join two lists in Java?","body":"<blockquote>\n  <p>Java 8 (<code>Stream.of</code> and <code>Stream.concat</code>)</p>\n</blockquote>\n\n<p>The proposed solution is for three lists though it can be applied for two lists as well. In Java 8 we can make use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#of-T...-\" rel=\"noreferrer\">Stream.of</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"noreferrer\">Stream.concat</a> as:</p>\n\n<pre><code>List&lt;String&gt; result1 = Stream.concat(Stream.concat(list1.stream(),list2.stream()),list3.stream()).collect(Collectors.toList());\nList&lt;String&gt; result2 = Stream.of(list1,list2,list3).flatMap(Collection::stream).collect(Collectors.toList());\n</code></pre>\n\n<p><code>Stream.concat</code> takes two streams as input and creates a lazily concatenated stream whose elements are all the elements of the first stream followed by all the elements of the second stream. As we have three lists we have used this method (<code>Stream.concat</code>) two times.</p>\n\n<p>We can also write a utility class with a method that takes any number of lists (using <a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/language/varargs.html\" rel=\"noreferrer\">varargs</a>) and returns a concatenated list as:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; concatenateLists(List&lt;T&gt;... collections) {\n        return Arrays.stream(collections).flatMap(Collection::stream).collect(Collectors.toList()); \n}\n</code></pre>\n\n<p>Then we can make use of this method as:</p>\n\n<pre><code>List&lt;String&gt; result3 = Utils.concatenateLists(list1,list2,list3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4389073,"reputation":5930,"user_id":4279201,"accept_rate":99,"display_name":"shinzou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476829703,"creation_date":1476829703,"answer_id":40119122,"question_id":189559,"body_markdown":"Here&#39;s an approach using streams and java 8 if your lists have different types and you want to combine them to a list of another type.\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; list2 = new ArrayList&lt;&gt;();\r\n        List&lt;Pair&lt;Integer, String&gt;&gt; list1 = new ArrayList&lt;&gt;();\r\n\r\n        list2.add(&quot;asd&quot;);\r\n        list2.add(&quot;asdaf&quot;);\r\n        list1.add(new Pair&lt;&gt;(1, &quot;werwe&quot;));\r\n        list1.add(new Pair&lt;&gt;(2, &quot;tyutyu&quot;));\r\n\r\n        Stream stream = Stream.concat(list1.stream(), list2.stream());\r\n\r\n        List&lt;Pair&lt;Integer, String&gt;&gt; res = (List&lt;Pair&lt;Integer, String&gt;&gt;) stream\r\n                .map(item -&gt; {\r\n                    if (item instanceof String) {\r\n                        return new Pair&lt;&gt;(0, item);\r\n                    }\r\n                    else {\r\n                        return new Pair&lt;&gt;(((Pair&lt;Integer, String&gt;)item).getKey(), ((Pair&lt;Integer, String&gt;)item).getValue());\r\n                    }\r\n                })\r\n                .collect(Collectors.toList());\r\n    }","title":"How do I join two lists in Java?","body":"<p>Here's an approach using streams and java 8 if your lists have different types and you want to combine them to a list of another type.</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;String&gt; list2 = new ArrayList&lt;&gt;();\n    List&lt;Pair&lt;Integer, String&gt;&gt; list1 = new ArrayList&lt;&gt;();\n\n    list2.add(\"asd\");\n    list2.add(\"asdaf\");\n    list1.add(new Pair&lt;&gt;(1, \"werwe\"));\n    list1.add(new Pair&lt;&gt;(2, \"tyutyu\"));\n\n    Stream stream = Stream.concat(list1.stream(), list2.stream());\n\n    List&lt;Pair&lt;Integer, String&gt;&gt; res = (List&lt;Pair&lt;Integer, String&gt;&gt;) stream\n            .map(item -&gt; {\n                if (item instanceof String) {\n                    return new Pair&lt;&gt;(0, item);\n                }\n                else {\n                    return new Pair&lt;&gt;(((Pair&lt;Integer, String&gt;)item).getKey(), ((Pair&lt;Integer, String&gt;)item).getValue());\n                }\n            })\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"score":1,"creation_date":1495530103,"post_id":40559634,"comment_id":75279059,"body_markdown":"I would add that this solution is probably more performant than the one using `flatMap`, because the lists are only iterated once when they are collected","body":"I would add that this solution is probably more performant than the one using <code>flatMap</code>, because the lists are only iterated once when they are collected"},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1617138319,"post_id":40559634,"comment_id":118219205,"body_markdown":"I dont think `flatMap` causes additional iteration, could you clarify?","body":"I dont think <code>flatMap</code> causes additional iteration, could you clarify?"}],"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1478925868,"creation_date":1478925497,"answer_id":40559634,"question_id":189559,"body_markdown":"another one liner solution using `Java8` stream, since `flatMap` solution is already posted, here is a solution without `flatMap`\r\n\r\n\tList&lt;E&gt; li = lol.stream().collect(ArrayList::new, List::addAll, List::addAll);\r\n\r\nor\r\n\r\n    List&lt;E&gt; ints = Stream.of(list1, list2).collect(ArrayList::new, List::addAll, List::addAll);\r\n\r\ncode\r\n\r\n\t\tList&lt;List&lt;Integer&gt;&gt; lol = Arrays.asList(Arrays.asList(1, 2, 3), Arrays.asList(4, 5, 6));\r\n\t\tList&lt;Integer&gt; li = lol.stream().collect(ArrayList::new, List::addAll, List::addAll);\r\n\t\tSystem.out.println(lol);\r\n\t\tSystem.out.println(li);\r\n\r\noutput\r\n\r\n    [[1, 2, 3], [4, 5, 6]]\r\n    [1, 2, 3, 4, 5, 6]","title":"How do I join two lists in Java?","body":"<p>another one liner solution using <code>Java8</code> stream, since <code>flatMap</code> solution is already posted, here is a solution without <code>flatMap</code></p>\n\n<pre><code>List&lt;E&gt; li = lol.stream().collect(ArrayList::new, List::addAll, List::addAll);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>List&lt;E&gt; ints = Stream.of(list1, list2).collect(ArrayList::new, List::addAll, List::addAll);\n</code></pre>\n\n<p>code</p>\n\n<pre><code>    List&lt;List&lt;Integer&gt;&gt; lol = Arrays.asList(Arrays.asList(1, 2, 3), Arrays.asList(4, 5, 6));\n    List&lt;Integer&gt; li = lol.stream().collect(ArrayList::new, List::addAll, List::addAll);\n    System.out.println(lol);\n    System.out.println(li);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>[[1, 2, 3], [4, 5, 6]]\n[1, 2, 3, 4, 5, 6]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1943502,"reputation":810,"user_id":1749126,"display_name":"cslysy"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1480434557,"creation_date":1480434557,"answer_id":40870053,"question_id":189559,"body_markdown":"Java 8 version with support for joining by object key:\r\n\r\n    public List&lt;SomeClass&gt; mergeLists(final List&lt;SomeClass&gt; left, final List&lt;SomeClass&gt; right, String primaryKey) {\r\n        final Map&lt;Object, SomeClass&gt; mergedList = new LinkedHashMap&lt;&gt;();\r\n\r\n        Stream.concat(left.stream(), right.stream())\r\n            .map(someObject -&gt; new Pair&lt;Object, SomeClass&gt;(someObject.getSomeKey(), someObject))\r\n            .forEach(pair-&gt; mergedList.put(pair.getKey(), pair.getValue()));\r\n\r\n        return new ArrayList&lt;&gt;(mergedList.values());\r\n    }","title":"How do I join two lists in Java?","body":"<p>Java 8 version with support for joining by object key:</p>\n\n<pre><code>public List&lt;SomeClass&gt; mergeLists(final List&lt;SomeClass&gt; left, final List&lt;SomeClass&gt; right, String primaryKey) {\n    final Map&lt;Object, SomeClass&gt; mergedList = new LinkedHashMap&lt;&gt;();\n\n    Stream.concat(left.stream(), right.stream())\n        .map(someObject -&gt; new Pair&lt;Object, SomeClass&gt;(someObject.getSomeKey(), someObject))\n        .forEach(pair-&gt; mergedList.put(pair.getKey(), pair.getValue()));\n\n    return new ArrayList&lt;&gt;(mergedList.values());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25162,"reputation":31580,"user_id":64474,"display_name":"Miles"},"score":0,"creation_date":1490325650,"post_id":42990654,"comment_id":73072904,"body_markdown":"This approach is already suggested by this answer: http://stackoverflow.com/a/37386846","body":"This approach is already suggested by this answer: <a href=\"http://stackoverflow.com/a/37386846\">stackoverflow.com/a/37386846</a>"}],"tags":[],"owner":{"account_id":5013539,"reputation":197,"user_id":4139773,"display_name":"Nitin Jain"},"comment_count":1,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1490330639,"creation_date":1490324307,"answer_id":42990654,"question_id":189559,"body_markdown":"In **Java 8** (the other way):\r\n\r\n    List&lt;?&gt; newList = \r\n    Stream.of(list1, list2).flatMap(List::stream).collect(Collectors.toList());\r\n\r\n","title":"How do I join two lists in Java?","body":"<p>In <strong>Java 8</strong> (the other way):</p>\n\n<pre><code>List&lt;?&gt; newList = \nStream.of(list1, list2).flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":177641,"reputation":10756,"user_id":409102,"accept_rate":69,"display_name":"kravemir"},"score":0,"creation_date":1548410423,"post_id":47457484,"comment_id":95539838,"body_markdown":"This would create a new annonymous class. Not recommended approach!","body":"This would create a new annonymous class. Not recommended approach!"}],"tags":[],"owner":{"account_id":1465256,"reputation":444,"user_id":1378313,"display_name":"Jan Weitz"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1513084880,"creation_date":1511446331,"answer_id":47457484,"question_id":189559,"body_markdown":"If you want to do this statically you can the following.\r\n\r\nThe examples uses 2 EnumSets in natural-order (==Enum-order) `A, B` and joins then in an `ALL` list.\r\n\r\n\r\n    public static final EnumSet&lt;MyType&gt; CATEGORY_A = EnumSet.of(A_1, A_2);\r\n    public static final EnumSet&lt;MyType&gt; CATEGORY_B = EnumSet.of(B_1, B_2, B_3);\r\n    \r\n    public static final List&lt;MyType&gt; ALL = \r\n                  Collections.unmodifiableList(\r\n                      new ArrayList&lt;MyType&gt;(CATEGORY_A.size() + CATEGORY_B.size())\r\n                      {{\r\n                          addAll(CATEGORY_A);\r\n                          addAll(CATEGORY_B);\r\n                      }}\r\n                  );","title":"How do I join two lists in Java?","body":"<p>If you want to do this statically you can the following.</p>\n\n<p>The examples uses 2 EnumSets in natural-order (==Enum-order) <code>A, B</code> and joins then in an <code>ALL</code> list.</p>\n\n<pre><code>public static final EnumSet&lt;MyType&gt; CATEGORY_A = EnumSet.of(A_1, A_2);\npublic static final EnumSet&lt;MyType&gt; CATEGORY_B = EnumSet.of(B_1, B_2, B_3);\n\npublic static final List&lt;MyType&gt; ALL = \n              Collections.unmodifiableList(\n                  new ArrayList&lt;MyType&gt;(CATEGORY_A.size() + CATEGORY_B.size())\n                  {{\n                      addAll(CATEGORY_A);\n                      addAll(CATEGORY_B);\n                  }}\n              );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1534683,"reputation":10937,"user_id":1431044,"accept_rate":92,"display_name":"Langusten Gustel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519211496,"creation_date":1519211496,"answer_id":48904406,"question_id":189559,"body_markdown":"    public static &lt;T&gt; List&lt;T&gt; merge(@Nonnull final List&lt;T&gt;... list) {\r\n        // calculate length first\r\n        int mergedLength = 0;\r\n        for (List&lt;T&gt; ts : list) {\r\n          mergedLength += ts.size();\r\n        }\r\n    \r\n        final List&lt;T&gt; mergedList = new ArrayList&lt;&gt;(mergedLength);\r\n    \r\n        for (List&lt;T&gt; ts : list) {\r\n          mergedList.addAll(ts);\r\n        }\r\n    \r\n        return mergedList;\r\n      }","title":"How do I join two lists in Java?","body":"<pre><code>public static &lt;T&gt; List&lt;T&gt; merge(@Nonnull final List&lt;T&gt;... list) {\n    // calculate length first\n    int mergedLength = 0;\n    for (List&lt;T&gt; ts : list) {\n      mergedLength += ts.size();\n    }\n\n    final List&lt;T&gt; mergedList = new ArrayList&lt;&gt;(mergedLength);\n\n    for (List&lt;T&gt; ts : list) {\n      mergedList.addAll(ts);\n    }\n\n    return mergedList;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1526675585,"creation_date":1526675585,"answer_id":50418885,"question_id":189559,"body_markdown":"You can create your generic **Java 8** utility method to concat **any number of lists**.\r\n\r\n    @SafeVarargs\r\n\tpublic static &lt;T&gt; List&lt;T&gt; concat(List&lt;T&gt;... lists) {\r\n\t\treturn Stream.of(lists).flatMap(List::stream).collect(Collectors.toList());\r\n\t}\r\n","title":"How do I join two lists in Java?","body":"<p>You can create your generic <strong>Java 8</strong> utility method to concat <strong>any number of lists</strong>.</p>\n\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; List&lt;T&gt; concat(List&lt;T&gt;... lists) {\n    return Stream.of(lists).flatMap(List::stream).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1554385983,"creation_date":1554385983,"answer_id":55517693,"question_id":189559,"body_markdown":"    import java.util.AbstractList;\r\n    import java.util.List;\r\n    \r\n    \r\n    /**\r\n     * The {@code ConcatList} is a lightweight view of two {@code List}s.\r\n     * &lt;p&gt;\r\n     * This implementation is &lt;em&gt;not&lt;/em&gt; thread-safe even though the underlying lists can be.\r\n     * \r\n     * @param &lt;E&gt;\r\n     *            the type of elements in this list\r\n     */\r\n    public class ConcatList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n    \r\n        /** The first underlying list. */\r\n        private final List&lt;E&gt; list1;\r\n        /** The second underlying list. */\r\n        private final List&lt;E&gt; list2;\r\n    \r\n        /**\r\n         * Constructs a new {@code ConcatList} from the given two lists.\r\n         * \r\n         * @param list1\r\n         *            the first list\r\n         * @param list2\r\n         *            the second list\r\n         */\r\n        public ConcatList(final List&lt;E&gt; list1, final List&lt;E&gt; list2) {\r\n            this.list1 = list1;\r\n            this.list2 = list2;\r\n        }\r\n    \r\n        @Override\r\n        public E get(final int index) {\r\n            return getList(index).get(getListIndex(index));\r\n        }\r\n    \r\n        @Override\r\n        public E set(final int index, final E element) {\r\n            return getList(index).set(getListIndex(index), element);\r\n        }\r\n    \r\n        @Override\r\n        public void add(final int index, final E element) {\r\n            getList(index).add(getListIndex(index), element);\r\n        }\r\n    \r\n        @Override\r\n        public E remove(final int index) {\r\n            return getList(index).remove(getListIndex(index));\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return list1.size() + list2.size();\r\n        }\r\n    \r\n        @Override\r\n        public boolean contains(final Object o) {\r\n            return list1.contains(o) || list2.contains(o);\r\n        }\r\n    \r\n        @Override\r\n        public void clear() {\r\n            list1.clear();\r\n            list2.clear();\r\n        }\r\n    \r\n        /**\r\n         * Returns the index within the corresponding list related to the given index.\r\n         * \r\n         * @param index\r\n         *            the index in this list\r\n         * \r\n         * @return the index of the underlying list\r\n         */\r\n        private int getListIndex(final int index) {\r\n            final int size1 = list1.size();\r\n            return index &gt;= size1 ? index - size1 : index;\r\n        }\r\n    \r\n        /**\r\n         * Returns the list that corresponds to the given index.\r\n         * \r\n         * @param index\r\n         *            the index in this list\r\n         * \r\n         * @return the underlying list that corresponds to that index\r\n         */\r\n        private List&lt;E&gt; getList(final int index) {\r\n            return index &gt;= list1.size() ? list2 : list1;\r\n        }\r\n    \r\n    }","title":"How do I join two lists in Java?","body":"<pre><code>import java.util.AbstractList;\nimport java.util.List;\n\n\n/**\n * The {@code ConcatList} is a lightweight view of two {@code List}s.\n * &lt;p&gt;\n * This implementation is &lt;em&gt;not&lt;/em&gt; thread-safe even though the underlying lists can be.\n * \n * @param &lt;E&gt;\n *            the type of elements in this list\n */\npublic class ConcatList&lt;E&gt; extends AbstractList&lt;E&gt; {\n\n    /** The first underlying list. */\n    private final List&lt;E&gt; list1;\n    /** The second underlying list. */\n    private final List&lt;E&gt; list2;\n\n    /**\n     * Constructs a new {@code ConcatList} from the given two lists.\n     * \n     * @param list1\n     *            the first list\n     * @param list2\n     *            the second list\n     */\n    public ConcatList(final List&lt;E&gt; list1, final List&lt;E&gt; list2) {\n        this.list1 = list1;\n        this.list2 = list2;\n    }\n\n    @Override\n    public E get(final int index) {\n        return getList(index).get(getListIndex(index));\n    }\n\n    @Override\n    public E set(final int index, final E element) {\n        return getList(index).set(getListIndex(index), element);\n    }\n\n    @Override\n    public void add(final int index, final E element) {\n        getList(index).add(getListIndex(index), element);\n    }\n\n    @Override\n    public E remove(final int index) {\n        return getList(index).remove(getListIndex(index));\n    }\n\n    @Override\n    public int size() {\n        return list1.size() + list2.size();\n    }\n\n    @Override\n    public boolean contains(final Object o) {\n        return list1.contains(o) || list2.contains(o);\n    }\n\n    @Override\n    public void clear() {\n        list1.clear();\n        list2.clear();\n    }\n\n    /**\n     * Returns the index within the corresponding list related to the given index.\n     * \n     * @param index\n     *            the index in this list\n     * \n     * @return the index of the underlying list\n     */\n    private int getListIndex(final int index) {\n        final int size1 = list1.size();\n        return index &gt;= size1 ? index - size1 : index;\n    }\n\n    /**\n     * Returns the list that corresponds to the given index.\n     * \n     * @param index\n     *            the index in this list\n     * \n     * @return the underlying list that corresponds to that index\n     */\n    private List&lt;E&gt; getList(final int index) {\n        return index &gt;= list1.size() ? list2 : list1;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74542,"reputation":3561,"user_id":214143,"display_name":"Jason Aller"},"score":3,"creation_date":1585159555,"post_id":60854305,"comment_id":107668156,"body_markdown":"When answering an eleven year old question with thirty other answers be sure to point out what new aspects of the question your answer addresses, and to note if these techniques would have worked when the question was asked, or if they depend on features that have been introduced over the years.","body":"When answering an eleven year old question with thirty other answers be sure to point out what new aspects of the question your answer addresses, and to note if these techniques would have worked when the question was asked, or if they depend on features that have been introduced over the years."}],"tags":[],"owner":{"account_id":17317574,"reputation":311,"user_id":12543660,"display_name":"Himank Batra"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1585157878,"creation_date":1585157878,"answer_id":60854305,"question_id":189559,"body_markdown":"We can join 2 lists using java8 with 2 approaches.\r\n\r\n\r\n        List&lt;String&gt; list1 = Arrays.asList(&quot;S&quot;, &quot;T&quot;);\r\n        List&lt;String&gt; list2 = Arrays.asList(&quot;U&quot;, &quot;V&quot;);\r\n\r\n1) Using concat :\r\n\r\n        List&lt;String&gt; collect2 = Stream.concat(list1.stream(), list2.stream()).collect(toList());\r\n        System.out.println(&quot;collect2 = &quot; + collect2); // collect2 = [S, T, U, V]\r\n\r\n2) Using flatMap : \r\n\r\n        List&lt;String&gt; collect3 = Stream.of(list1, list2).flatMap(Collection::stream).collect(toList());\r\n        System.out.println(&quot;collect3 = &quot; + collect3); // collect3 = [S, T, U, V]","title":"How do I join two lists in Java?","body":"<p>We can join 2 lists using java8 with 2 approaches.</p>\n\n<pre><code>    List&lt;String&gt; list1 = Arrays.asList(\"S\", \"T\");\n    List&lt;String&gt; list2 = Arrays.asList(\"U\", \"V\");\n</code></pre>\n\n<p>1) Using concat :</p>\n\n<pre><code>    List&lt;String&gt; collect2 = Stream.concat(list1.stream(), list2.stream()).collect(toList());\n    System.out.println(\"collect2 = \" + collect2); // collect2 = [S, T, U, V]\n</code></pre>\n\n<p>2) Using flatMap : </p>\n\n<pre><code>    List&lt;String&gt; collect3 = Stream.of(list1, list2).flatMap(Collection::stream).collect(toList());\n    System.out.println(\"collect3 = \" + collect3); // collect3 = [S, T, U, V]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1627023,"reputation":2171,"user_id":1502352,"display_name":"Christian Br&#252;ggemann"},"score":3,"creation_date":1618520913,"post_id":61083016,"comment_id":118633666,"body_markdown":"Without performance benchmarks, this is questionable advice, especially since your argument about `add` does not refer to the bulk `addAll` operation.","body":"Without performance benchmarks, this is questionable advice, especially since your argument about <code>add</code> does not refer to the bulk <code>addAll</code> operation."}],"tags":[],"owner":{"account_id":119615,"reputation":11742,"user_id":311420,"accept_rate":87,"display_name":"Raymond Chenon"},"comment_count":1,"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1586271494,"creation_date":1586271494,"answer_id":61083016,"question_id":189559,"body_markdown":"Almost of answers suggest to use an ArrayList.\r\n\r\n    List&lt;String&gt; newList = new LinkedList&lt;&gt;(listOne);\r\n    newList.addAll(listTwo);\r\n\r\nPrefer to use a LinkedList for efficient add operations.\r\n\r\nArrayList add is  O(1) amortized, but O(n) worst-case since the array must be resized and copied.\r\nWhile LinkedList add is always constant O(1).\r\n\r\n\r\nmore infos https://stackoverflow.com/a/322742/311420","title":"How do I join two lists in Java?","body":"<p>Almost of answers suggest to use an ArrayList.</p>\n\n<pre><code>List&lt;String&gt; newList = new LinkedList&lt;&gt;(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n\n<p>Prefer to use a LinkedList for efficient add operations.</p>\n\n<p>ArrayList add is  O(1) amortized, but O(n) worst-case since the array must be resized and copied.\nWhile LinkedList add is always constant O(1).</p>\n\n<p>more infos <a href=\"https://stackoverflow.com/a/322742/311420\">https://stackoverflow.com/a/322742/311420</a></p>\n"},{"tags":[],"owner":{"account_id":1036563,"reputation":1678,"user_id":1043677,"accept_rate":61,"display_name":"lqbweb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637787676,"creation_date":1637787676,"answer_id":70102879,"question_id":189559,"body_markdown":"My favourite way, using fluent api and Guava:\r\n\r\n    List&lt;String&gt; combined = ImmutableList.&lt;String&gt;builder().addAll(list1).addAll(list2).build()\r\n\r\n","title":"How do I join two lists in Java?","body":"<p>My favourite way, using fluent api and Guava:</p>\n<pre><code>List&lt;String&gt; combined = ImmutableList.&lt;String&gt;builder().addAll(list1).addAll(list2).build()\n</code></pre>\n"}],"owner":{"account_id":9376,"reputation":23748,"user_id":17294,"accept_rate":52,"display_name":"Robert Atkins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1410813,"favorite_count":0,"down_vote_count":0,"up_vote_count":1046,"answer_count":33,"score":1046,"last_activity_date":1698298002,"creation_date":1223594263,"question_id":189559,"body_markdown":"Is there a simpler way than:\r\n\r\n    List&lt;String&gt; newList = new ArrayList&lt;String&gt;();\r\n    newList.addAll(listOne);\r\n    newList.addAll(listTwo);\r\n\r\nConditions: \r\n\r\n 1. Do not modify the original lists. \r\n 2. JDK only.\r\n 3. No external libraries. \r\n\r\nBonus points for a one-liner or a JDK 1.3 version.","title":"How do I join two lists in Java?","body":"<p>Is there a simpler way than:</p>\n<pre><code>List&lt;String&gt; newList = new ArrayList&lt;String&gt;();\nnewList.addAll(listOne);\nnewList.addAll(listTwo);\n</code></pre>\n<p>Conditions:</p>\n<ol>\n<li>Do not modify the original lists.</li>\n<li>JDK only.</li>\n<li>No external libraries.</li>\n</ol>\n<p>Bonus points for a one-liner or a JDK 1.3 version.</p>\n"},{"tags":["java","multithreading","concurrency","lazy-initialization"],"answers":[{"comments":[{"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"score":0,"creation_date":1698244108,"post_id":77356699,"comment_id":136380900,"body_markdown":"So you are saying other threads are not allowed to see intermediate results, which means the pattern is safe. Great!\nAnd thanks for the reference to memory model. AFAIU, it basically explains which reorderings are allowed and which are not. It doesn&#39;t seem to allow introducing additional writes. And it says that &quot;a read r is allowed to see the result of a write w if there is no happens-before ordering to prevent that read&quot;. There is nothing about seeing the result of a write that wasn&#39;t there in the program.","body":"So you are saying other threads are not allowed to see intermediate results, which means the pattern is safe. Great! And thanks for the reference to memory model. AFAIU, it basically explains which reorderings are allowed and which are not. It doesn&#39;t seem to allow introducing additional writes. And it says that &quot;a read r is allowed to see the result of a write w if there is no happens-before ordering to prevent that read&quot;. There is nothing about seeing the result of a write that wasn&#39;t there in the program."},{"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"score":0,"creation_date":1698248560,"post_id":77356699,"comment_id":136381916,"body_markdown":"Actually, I should have asked my question more precisely. I am not really interested whether the the intermediate results are written to the instance field, but rather whether other threads can see them, since if they can&#39;t, the pattern is safe. I edited my question to reflect that. So I take it that your answer of &quot;it depends&quot; to my original question means that the answer to my actual question is &quot;no, other threads can&#39;t see intermediate results, and yes, the pattern is safe&quot;, right?","body":"Actually, I should have asked my question more precisely. I am not really interested whether the the intermediate results are written to the instance field, but rather whether other threads can see them, since if they can&#39;t, the pattern is safe. I edited my question to reflect that. So I take it that your answer of &quot;it depends&quot; to my original question means that the answer to my actual question is &quot;no, other threads can&#39;t see intermediate results, and yes, the pattern is safe&quot;, right?"}],"tags":[],"owner":{"account_id":29747945,"reputation":11,"user_id":22798503,"display_name":"user22798503"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698210809,"creation_date":1698209667,"answer_id":77356699,"question_id":77339427,"body_markdown":"&gt; **The question is**:\r\n&gt; Can it assign intermediate results to the instance field, i.e. replacing the local variable `sum` with accesses to the field `result`?\r\n\r\nThe JVM is allowed to do anything internally as long as the result of the program execution is the same as the result of some legal (according to the java language semantics) execution of the java code of this program.  \r\n[From the JLS](https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4):\r\n&gt; The memory model describes possible behaviors of a program. An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model. \r\n\r\nSo the answer is &quot;it depends&quot;:\r\n- if another thread sees the assigned intermediate results (i.e. it reads the instance field in parallel to the first thread, and the reads return these intermediate values), then it would be illegal optimization because it introduces additional writes into the instance field which aren&#39;t present in the program code\r\n- but if no other thread sees that, then it&#39;s allowed\r\n","title":"Racy Single-Check Idiom with Intermediate Result","body":"<blockquote>\n<p><strong>The question is</strong>:\nCan it assign intermediate results to the instance field, i.e. replacing the local variable <code>sum</code> with accesses to the field <code>result</code>?</p>\n</blockquote>\n<p>The JVM is allowed to do anything internally as long as the result of the program execution is the same as the result of some legal (according to the java language semantics) execution of the java code of this program.<br />\n<a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">From the JLS</a>:</p>\n<blockquote>\n<p>The memory model describes possible behaviors of a program. An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.</p>\n</blockquote>\n<p>So the answer is &quot;it depends&quot;:</p>\n<ul>\n<li>if another thread sees the assigned intermediate results (i.e. it reads the instance field in parallel to the first thread, and the reads return these intermediate values), then it would be illegal optimization because it introduces additional writes into the instance field which aren't present in the program code</li>\n<li>but if no other thread sees that, then it's allowed</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"score":0,"creation_date":1698575859,"post_id":77364301,"comment_id":136420722,"body_markdown":"I noticed that I used auto-boxing in my example. That&#39;s a bit unfortunate, as it theoretically adds another layer to the discussion. And when I say that we have &quot;intermediate results of the same type&quot;, it&#39;s technically not true, since we have int vs Integer. From your analysis, however, I understand that it&#39;s safe both with and without auto-boxing. But for completeness, let&#39;s say we change everything to BigInteger. Would it still be safe?","body":"I noticed that I used auto-boxing in my example. That&#39;s a bit unfortunate, as it theoretically adds another layer to the discussion. And when I say that we have &quot;intermediate results of the same type&quot;, it&#39;s technically not true, since we have int vs Integer. From your analysis, however, I understand that it&#39;s safe both with and without auto-boxing. But for completeness, let&#39;s say we change everything to BigInteger. Would it still be safe?"}],"tags":[],"owner":{"account_id":29756568,"reputation":26,"user_id":22805103,"display_name":"user22805103"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698297891,"creation_date":1698297891,"answer_id":77364301,"question_id":77339427,"body_markdown":"&gt; **[edit]**\r\n&gt; More precisely, can other threads read intermediate initialization results?\r\n&gt; **[edit end]**\r\n\r\nNo, the read is only allowed to return either `0`, or `55`, and no intermediate initialization results.\r\n\r\nAccording to [the JMM](https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4):\r\n1. &gt; The actions of each thread in isolation must behave as governed by the semantics of that thread, with the exception that the values seen by each read are determined by the memory model. When we refer to this, we say that the program obeys intra-thread semantics. Intra-thread semantics are the semantics for single-threaded programs, and allow the complete prediction of the behavior of a thread based on the values seen by read actions within the thread. To determine if the actions of thread t in an execution are legal, we simply evaluate the implementation of thread t as it would be performed in a single-threaded context, as defined in the rest of this specification.\r\n    \r\n    In other words, the JMM says that inside each thread everything happens in a normal single-threaded manner (i.e. actions happen sequentially, one after another), the only difference is that reads may return values written to the same variable in another threads.\r\n\r\n2. a read action cannot return some random value, it can only return a value written to the same variable by some existing write action.\r\n    \r\n    &gt; 1. Each read sees a write to the same variable in the execution.\r\n    &gt; \r\n    &gt;    ... For all reads r in A, we have W(r) in A and W(r).v = r.v ...\r\n\r\nAs a result,\r\n- a read of `result` can only return one of the writes into `result`\r\n- the only writes to the `result` are:\r\n  - the initial `0`\r\n  - one write `result = sum;` per every execution of `getResult()` , and according to intra-thread semantics each of these writes is `result = 55`\r\n\r\nSo the read action can only return either `0`, or `55`.","title":"Racy Single-Check Idiom with Intermediate Result","body":"<blockquote>\n<p><strong>[edit]</strong>\nMore precisely, can other threads read intermediate initialization results?\n<strong>[edit end]</strong></p>\n</blockquote>\n<p>No, the read is only allowed to return either <code>0</code>, or <code>55</code>, and no intermediate initialization results.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">the JMM</a>:</p>\n<ol>\n<li>\n<blockquote>\n<p>The actions of each thread in isolation must behave as governed by the semantics of that thread, with the exception that the values seen by each read are determined by the memory model. When we refer to this, we say that the program obeys intra-thread semantics. Intra-thread semantics are the semantics for single-threaded programs, and allow the complete prediction of the behavior of a thread based on the values seen by read actions within the thread. To determine if the actions of thread t in an execution are legal, we simply evaluate the implementation of thread t as it would be performed in a single-threaded context, as defined in the rest of this specification.</p>\n</blockquote>\n<p>In other words, the JMM says that inside each thread everything happens in a normal single-threaded manner (i.e. actions happen sequentially, one after another), the only difference is that reads may return values written to the same variable in another threads.</p>\n</li>\n<li><p>a read action cannot return some random value, it can only return a value written to the same variable by some existing write action.</p>\n<blockquote>\n<ol>\n<li><p>Each read sees a write to the same variable in the execution.</p>\n<p>... For all reads r in A, we have W(r) in A and W(r).v = r.v ...</p>\n</li>\n</ol>\n</blockquote>\n</li>\n</ol>\n<p>As a result,</p>\n<ul>\n<li>a read of <code>result</code> can only return one of the writes into <code>result</code></li>\n<li>the only writes to the <code>result</code> are:\n<ul>\n<li>the initial <code>0</code></li>\n<li>one write <code>result = sum;</code> per every execution of <code>getResult()</code> , and according to intra-thread semantics each of these writes is <code>result = 55</code></li>\n</ul>\n</li>\n</ul>\n<p>So the read action can only return either <code>0</code>, or <code>55</code>.</p>\n"}],"owner":{"account_id":4565460,"reputation":480,"user_id":3706576,"display_name":"mperktold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77364301,"answer_count":2,"score":1,"last_activity_date":1698297891,"creation_date":1697968052,"question_id":77339427,"body_markdown":"The racy single-check idiom is a technique for lazy initialization without synchronization or `volatile`. It can be used  when initialization is allowed to be performed concurrently by multiple threads, but you don&#39;t care as long as the result is consistent. The JDK itself does this e.g. in `ConcurrentHashMap.keySet` (JDK 17):\r\n\r\n    public KeySetView&lt;K,V&gt; keySet() {\r\n        KeySetView&lt;K,V&gt; ks;\r\n        if ((ks = keySet) != null) return ks;\r\n        return keySet = new KeySetView&lt;K,V&gt;(this, null);\r\n    }\r\n\r\nThis technique only works with primitive values or immutable classes, where **every field has to be final** to ensure safe publication. [Here][1] is an article in German that explains it in depth.\r\n\r\nNow we had a discussion whether it is safe to use this technique when you have an intermediate result of the same type during initialization. For example:\r\n\r\n    class SumUpToTen {\r\n        private Integer result;\r\n\r\n        int getResult() {\r\n            Integer res = result;\r\n            if (res != null)\r\n                return res;\r\n            int sum = 0;\r\n            for (int i = 1; i &lt;= 10; i++)\r\n                sum += i;\r\n            result = sum;\r\n            return sum;\r\n        }\r\n    }\r\n\r\nHere, we are using the racy single-check idiom to initialize the value for the sum of all integers from 1 to 10. This is of course a silly thing to do, but it&#39;s an example where in the initialization case, we have several intermediate results of the same type as the final result.\r\n\r\nNow we know that in the absence of synchronization and `volatile`, the compiler can reorder instructions as long as the single-threaded behavior stays the same.\r\n\r\n**The question is**:\r\nCan it assign intermediate results to the instance field, i.e. replacing the local variable `sum` with accesses to the field `result`?\r\n\r\n**[edit]**\r\nMore precisely, can other threads read intermediate initialization results?\r\n**[edit end]**\r\n\r\nOn the one hand, it&#39;s true that if it would do that, the single-threaded behavior would stay the same.\r\n\r\nOn the other hand, why should it? Assigning a value to a field is slower than to a local variable, so there is no benefit in assigning intermediate results. Second, this wouldn&#39;t merely be a reordering of instructions, but a replacement of accesses to local variables to accesses to instance fields. Also, if the safety of the pattern would depend on such minor details, then I think the pattern would be considered way too fragile and no one would use it.\r\n\r\nTherefore, I don&#39;t think the compiler can assign intermediate results, and I do think the pattern is safe in this case, but I wanted to double check.\r\n\r\nAlso, I would normally extract the computation of the value in its own private method, like `computeResult`, but I didn&#39;t do it in the example to better show the &quot;potential unsafety&quot;. I am pretty confident that whether you do extract that or you don&#39;t doesn&#39;t affect the safety of this pattern either, but can you confirm that as well?\r\n\r\n  [1]: http://www.angelikalanger.com/Articles/EffectiveJava/45.JMM-AggressiveOpt/45.JMM-AggressiveOpt.html","title":"Racy Single-Check Idiom with Intermediate Result","body":"<p>The racy single-check idiom is a technique for lazy initialization without synchronization or <code>volatile</code>. It can be used  when initialization is allowed to be performed concurrently by multiple threads, but you don't care as long as the result is consistent. The JDK itself does this e.g. in <code>ConcurrentHashMap.keySet</code> (JDK 17):</p>\n<pre><code>public KeySetView&lt;K,V&gt; keySet() {\n    KeySetView&lt;K,V&gt; ks;\n    if ((ks = keySet) != null) return ks;\n    return keySet = new KeySetView&lt;K,V&gt;(this, null);\n}\n</code></pre>\n<p>This technique only works with primitive values or immutable classes, where <strong>every field has to be final</strong> to ensure safe publication. <a href=\"http://www.angelikalanger.com/Articles/EffectiveJava/45.JMM-AggressiveOpt/45.JMM-AggressiveOpt.html\" rel=\"nofollow noreferrer\">Here</a> is an article in German that explains it in depth.</p>\n<p>Now we had a discussion whether it is safe to use this technique when you have an intermediate result of the same type during initialization. For example:</p>\n<pre><code>class SumUpToTen {\n    private Integer result;\n\n    int getResult() {\n        Integer res = result;\n        if (res != null)\n            return res;\n        int sum = 0;\n        for (int i = 1; i &lt;= 10; i++)\n            sum += i;\n        result = sum;\n        return sum;\n    }\n}\n</code></pre>\n<p>Here, we are using the racy single-check idiom to initialize the value for the sum of all integers from 1 to 10. This is of course a silly thing to do, but it's an example where in the initialization case, we have several intermediate results of the same type as the final result.</p>\n<p>Now we know that in the absence of synchronization and <code>volatile</code>, the compiler can reorder instructions as long as the single-threaded behavior stays the same.</p>\n<p><strong>The question is</strong>:\nCan it assign intermediate results to the instance field, i.e. replacing the local variable <code>sum</code> with accesses to the field <code>result</code>?</p>\n<p><strong>[edit]</strong>\nMore precisely, can other threads read intermediate initialization results?\n<strong>[edit end]</strong></p>\n<p>On the one hand, it's true that if it would do that, the single-threaded behavior would stay the same.</p>\n<p>On the other hand, why should it? Assigning a value to a field is slower than to a local variable, so there is no benefit in assigning intermediate results. Second, this wouldn't merely be a reordering of instructions, but a replacement of accesses to local variables to accesses to instance fields. Also, if the safety of the pattern would depend on such minor details, then I think the pattern would be considered way too fragile and no one would use it.</p>\n<p>Therefore, I don't think the compiler can assign intermediate results, and I do think the pattern is safe in this case, but I wanted to double check.</p>\n<p>Also, I would normally extract the computation of the value in its own private method, like <code>computeResult</code>, but I didn't do it in the example to better show the &quot;potential unsafety&quot;. I am pretty confident that whether you do extract that or you don't doesn't affect the safety of this pattern either, but can you confirm that as well?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1654520857,"post_id":72511143,"comment_id":128103086,"body_markdown":"See https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect","body":"See <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":72556,"reputation":959,"user_id":209452,"accept_rate":100,"display_name":"Attila Csipak"},"score":0,"creation_date":1673516532,"post_id":72511143,"comment_id":132518465,"body_markdown":"Also: https://youtrack.jetbrains.com/issue/IDEA-273968/Cannot-connect-to-the-Maven-process One possible workaround mentioned is to change the JDK for Importer, preferably to a more up-to-date version.","body":"Also: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-273968/Cannot-connect-to-the-Maven-process\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-273968/&hellip;</a> One possible workaround mentioned is to change the JDK for Importer, preferably to a more up-to-date version."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1660201027,"post_id":73274085,"comment_id":129477869,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73274085/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24289096,"reputation":11,"user_id":18234435,"display_name":"jefferson chern"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659942920,"creation_date":1659942920,"answer_id":73274085,"question_id":72511143,"body_markdown":"maybe is your hosts problem, you can edit the hosts file to\r\n\r\n&gt; 127.0.0.1 localhost\r\n\r\nsee [here][1].  \r\nit works to me.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/troubleshooting-common-maven-issues.html#e9e94f41","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>maybe is your hosts problem, you can edit the hosts file to</p>\n<blockquote>\n<p>127.0.0.1 localhost</p>\n</blockquote>\n<p>see <a href=\"https://www.jetbrains.com/help/idea/troubleshooting-common-maven-issues.html#e9e94f41\" rel=\"nofollow noreferrer\">here</a>.<br />\nit works to me.</p>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678440901,"creation_date":1678440901,"answer_id":75694396,"question_id":72511143,"body_markdown":"To fix it, we switch from the default &quot;Bundled Maven 3&quot; option to the manually installed Maven path.\r\n\r\nIn IntelliJ IDEA, click Preferences, Build Tools -&gt; Maven\r\n\r\n[The Solution from here][1]\r\n\r\n\r\n  [1]: https://mkyong.com/intellij/intellij-idea-cannot-connect-to-the-maven-process/","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>To fix it, we switch from the default &quot;Bundled Maven 3&quot; option to the manually installed Maven path.</p>\n<p>In IntelliJ IDEA, click Preferences, Build Tools -&gt; Maven</p>\n<p><a href=\"https://mkyong.com/intellij/intellij-idea-cannot-connect-to-the-maven-process/\" rel=\"nofollow noreferrer\">The Solution from here</a></p>\n"},{"tags":[],"owner":{"account_id":8635400,"reputation":1,"user_id":6465783,"display_name":"Hardik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679113777,"creation_date":1679113740,"answer_id":75773871,"question_id":72511143,"body_markdown":"You need to go to Files -&gt; Settings and follow the steps in the screenshot and set the Maven home path from Bundled Maven 3 to your installed maven\r\n\r\n[Maven Home Path Issue][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmOxo.png","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>You need to go to Files -&gt; Settings and follow the steps in the screenshot and set the Maven home path from Bundled Maven 3 to your installed maven</p>\n<p><a href=\"https://i.stack.imgur.com/lmOxo.png\" rel=\"nofollow noreferrer\">Maven Home Path Issue</a></p>\n"},{"tags":[],"owner":{"account_id":77782,"reputation":4807,"user_id":221781,"accept_rate":100,"display_name":"izilotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687463501,"creation_date":1687463501,"answer_id":76535230,"question_id":72511143,"body_markdown":"&quot;Maven&quot; -&gt; &quot;Reload project&quot; cleared the issue for me, without any IntelliJ configuration changes.","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>&quot;Maven&quot; -&gt; &quot;Reload project&quot; cleared the issue for me, without any IntelliJ configuration changes.</p>\n"},{"tags":[],"owner":{"account_id":1186947,"reputation":907,"user_id":1160721,"accept_rate":78,"display_name":"Jonhtra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698296002,"creation_date":1698296002,"answer_id":77364201,"question_id":72511143,"body_markdown":"Only thing that helped me was to select option &quot;Use Maven wrapper&quot; in File-&gt;Settings-&gt;Build,Execution,Deployment-&gt;Maven-&gt;Maven Home Path\r\n\r\nAfter Apply project reloaded and then I could return Maven Home Path to old value and it worked","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>Only thing that helped me was to select option &quot;Use Maven wrapper&quot; in File-&gt;Settings-&gt;Build,Execution,Deployment-&gt;Maven-&gt;Maven Home Path</p>\n<p>After Apply project reloaded and then I could return Maven Home Path to old value and it worked</p>\n"}],"owner":{"account_id":2292774,"reputation":91,"user_id":2015076,"display_name":"user2015076"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8960,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":5,"score":9,"last_activity_date":1698296002,"creation_date":1654463340,"question_id":72511143,"body_markdown":"I&#39;m trying to add a new dependency in pom.xml in IntelliJ IDEA. After updating the pom.xml file, I right-clicked the file and selected:\r\nMaven-&gt; Reload project\r\n\r\nThen it shows many errors in the Build-&gt;Sync tab:\r\n\r\n&gt; Cannot connect to the Maven process. Try again later. If the problem\r\n&gt; persists, check the Maven Importing JDK settings and restart IntelliJ\r\n&gt; IDEA\r\n\r\nDoes anyone know how to fix this error? I tried restarting Intellij but didn&#39;t help. ","title":"Cannot connect to the Maven process. Try again later. If the problem persists, check the Maven Importing JDK settings and restart IntelliJ IDEA","body":"<p>I'm trying to add a new dependency in pom.xml in IntelliJ IDEA. After updating the pom.xml file, I right-clicked the file and selected:\nMaven-&gt; Reload project</p>\n<p>Then it shows many errors in the Build-&gt;Sync tab:</p>\n<blockquote>\n<p>Cannot connect to the Maven process. Try again later. If the problem\npersists, check the Maven Importing JDK settings and restart IntelliJ\nIDEA</p>\n</blockquote>\n<p>Does anyone know how to fix this error? I tried restarting Intellij but didn't help.</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":10435346,"reputation":6279,"user_id":7693832,"accept_rate":66,"display_name":"user7693832"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491281060,"creation_date":1491281060,"answer_id":43198447,"question_id":43198093,"body_markdown":"I saw your code is:\r\n\r\n    &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; style=&quot;width: 125 px&quot; size=&quot;20&quot; value=&quot;&quot;  maxlength=&quot;25&quot;&gt;&lt;/td&gt;\r\n\r\nYou should attention the `css` value should continuous:\r\n`125px` should not have the space.\r\n","title":"Mismatched property value ( | | auto | [initial | inherit | unset | revert])","body":"<p>I saw your code is:</p>\n\n<pre><code>&lt;td&gt;&lt;input type=\"password\" name=\"password\" style=\"width: 125 px\" size=\"20\" value=\"\"  maxlength=\"25\"&gt;&lt;/td&gt;\n</code></pre>\n\n<p>You should attention the <code>css</code> value should continuous:\n<code>125px</code> should not have the space.</p>\n"},{"tags":[],"owner":{"account_id":13610376,"reputation":11,"user_id":9825015,"display_name":"slava_spetsyian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698295657,"creation_date":1579214427,"answer_id":59778865,"question_id":43198093,"body_markdown":"I had the same issue in some Vue.js components with eslint enabled\r\n\r\n```\r\nposition: &#39;absolute&#39;;\r\n```\r\nworks fine after removing apostrophes \r\n```\r\nposition: absolute;\r\n```","title":"Mismatched property value ( | | auto | [initial | inherit | unset | revert])","body":"<p>I had the same issue in some Vue.js components with eslint enabled</p>\n<pre><code>position: 'absolute';\n</code></pre>\n<p>works fine after removing apostrophes</p>\n<pre><code>position: absolute;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5851035,"reputation":13066,"user_id":5555938,"display_name":"Stokely"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609747021,"creation_date":1609747021,"answer_id":65559339,"question_id":43198093,"body_markdown":"Your style attributes should always be formatted like this to keep these IDE&#39;s from going bananas:\r\n\r\n    style=&quot;width:125px;&quot;\r\n\r\nAlso, you assigned a size value that may conflict with your style value. Make sure it fits in the pixel value you assigned. I would not use pixels for dimensions on input elements and use &quot;em&quot; instead. It works in old and new browsers unlike &quot;rem&quot;. Match the &quot;em&quot; or text count to the size count plus extra and you will never go wrong, like so:\r\n\r\n    &lt;input type=&quot;text&quot; name=&quot;name&quot; style=&quot;width:25em;&quot; size=&quot;20&quot; value=&quot;&quot; maxlength=&quot;25&quot;&gt;\r\n","title":"Mismatched property value ( | | auto | [initial | inherit | unset | revert])","body":"<p>Your style attributes should always be formatted like this to keep these IDE's from going bananas:</p>\n<pre><code>style=&quot;width:125px;&quot;\n</code></pre>\n<p>Also, you assigned a size value that may conflict with your style value. Make sure it fits in the pixel value you assigned. I would not use pixels for dimensions on input elements and use &quot;em&quot; instead. It works in old and new browsers unlike &quot;rem&quot;. Match the &quot;em&quot; or text count to the size count plus extra and you will never go wrong, like so:</p>\n<pre><code>&lt;input type=&quot;text&quot; name=&quot;name&quot; style=&quot;width:25em;&quot; size=&quot;20&quot; value=&quot;&quot; maxlength=&quot;25&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":10368178,"reputation":3402,"user_id":7646621,"accept_rate":63,"display_name":"qg_java_17137"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13871,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1698295657,"creation_date":1491279213,"question_id":43198093,"body_markdown":"I get error in my project, but I cannot find why get the error:\r\n\r\n&gt; \r\nMismatched property value (&lt;length&gt; | &lt;percentage&gt; | auto | [initial | inherit | unset | revert]) less... (⌘F1)   \r\n\r\n&gt; This inspection detects illegal property&#39;s values.  \r\n Mismatched property value ([[&lt;length&gt; | &lt;percentage&gt;] &amp;&amp; [border-box | content-box]?] | available | -moz-available | min-content | -moz-min-content | max-content | -moz-max-content | fit-content | -moz-fit-content | auto | [initial | inherit | unset | revert]) less... (⌘F1)  \r\n \r\n&gt; This inspection detects illegal property&#39;s values.  \r\n\r\n [![enter image description here][1]][1]\r\n\r\nWhere is the mistake ? I think my code is no problem.\r\n\r\nMy dode is below:\r\n\r\n    &lt;%@ page language=&quot;java&quot;  pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;zh-cn&quot;&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;LINK href=&quot;${pageContext.request.contextPath}/css/buttonstyle.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;LINK href=&quot;${pageContext.request.contextPath}/css/MainPage.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot;&gt;\r\n    &lt;script type=&#39;text/javascript&#39; src=&#39;${pageContext.request.contextPath}/script/pub.js&#39;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&#39;${pageContext.request.contextPath}/script/validate.js&#39;&gt;&lt;/script&gt;\r\n    &lt;SCRIPT type=&quot;text/javascript&quot;&gt;\r\n    function ini(){\r\n       document.all.name.focus();\r\n    }\r\n    function check(){\r\n        var theForm = document.forms[0];\r\n    \tif(Trim(theForm.name.value)==&quot;&quot;){\r\n    \t\t\talert(&quot;type in the username&quot;);\r\n    \t\t\ttheForm.name.focus();\r\n    \t\t\treturn false;\r\n    \t    }\r\n    \ttheForm.submit();\r\n    \treturn true; \r\n    }\r\n    function checkNumberImage(){\r\n    \tvar imageNumber = document.getElementById(&quot;imageNumber&quot;);\r\n    \timageNumber.src = &quot;${pageContext.request.contextPath}/image.jsp?timestamp=&quot;+new Date().getTime();\r\n    }\r\n    function checkFunction(){\r\n    \treturn check();\r\n    }\r\n    &lt;/SCRIPT&gt;\r\n    &lt;STYLE type=text/css&gt;\r\n    BODY { margin: 0px; }\r\n    FORM {\r\n    \tMARGIN: 0px; BACKGROUND-COLOR: #ffffff\r\n    } \r\n    &lt;/STYLE&gt;\r\n    &lt;title&gt;elec title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body onload=&quot;ini()&quot;&gt;\r\n    &lt;form action=&quot;${pageContext.request.contextPath}/menu/home.jsp&quot; method=&quot;post&quot; target=&quot;_top&quot;&gt;\r\n    &lt;table border=&quot;0&quot; width=&quot;100%&quot; id=&quot;table1&quot; height=&quot;532&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; &gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td&gt;　&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    \t&lt;tr&gt;\r\n    \t\t&lt;td height=&quot;467&quot;&gt;\r\n    \t\t&lt;table border=&quot;0&quot; width=&quot;1024&quot; id=&quot;table2&quot; height=&quot;415&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; &gt;\r\n    \t\t&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t\t\t&lt;td width=12%&gt;&lt;/td&gt;\r\n    \t\t\t\t&lt;td align=center background=&quot;${pageContext.request.contextPath}/images/index.jpg&quot;&gt;\r\n    \t\t\t\t&lt;table border=&quot;0&quot; width=&quot;98%&quot; id=&quot;table3&quot; height=&quot;412&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n    \t\t\t\t\t&lt;tr height=122&gt;\r\n    \t\t\t\t\t\t&lt;td colspan=2&gt;&lt;/td&gt;\r\n    \t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t&lt;td height=&quot;313&quot; width=&quot;73%&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t&lt;td height=&quot;99&quot; width=&quot;27%&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;table border=&quot;0&quot; width=&quot;70%&quot; id=&quot;table4&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td width=&quot;100&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;${pageContext.request.contextPath}/images/yonghu.jpg&quot; width=&quot;75&quot; height=&quot;20&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; style=&quot;width: 125 px&quot; size=&quot;20&quot; value=&quot;&quot;  maxlength=&quot;25&quot;&gt;&lt;/td&gt;\r\n    \t\r\n    \t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td width=&quot;100&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;${pageContext.request.contextPath}/images/mima.jpg&quot; width=&quot;75&quot; height=&quot;20&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot; style=&quot;width: 125 px&quot; size=&quot;20&quot; value=&quot;&quot;  maxlength=&quot;25&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t\t&lt;tr&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td width=&quot;100&quot;&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;td width=&quot;100&quot;&gt;&lt;input type=&quot;button&quot; class=btn_mouseout onmouseover=&quot;this.className=&#39;btn_mouseover&#39;&quot; onmouseout=&quot;this.className=&#39;btn_mouseout&#39;&quot; value=&quot;login&quot; name=&quot;huifubtn&quot; onclick=&quot;checkFunction()&quot;&gt;&lt;/td&gt;\r\n    \r\n    \t\t\t\t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t\t\t&lt;/table&gt;\r\n    \t\t\t\t\t\t&lt;/td&gt;\r\n    \t\t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t&lt;/table&gt;\r\n    \t\t\t\t&lt;/td&gt;\r\n    \t\t\t\t&lt;td width=13%&gt;&lt;/td&gt;\r\n    \t\t\t&lt;/tr&gt;\r\n    \t\t\t&lt;tr&gt;\r\n    \t\t      &lt;td align=&quot;center&quot; colspan=3&gt;&amp;nbsp;&lt;/td&gt;\r\n    \t        &lt;/tr&gt;\r\n    \t\t&lt;/table&gt;\r\n    \t\t&lt;/td&gt;\r\n    \t&lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;/form&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/Oo5KM.jpg","title":"Mismatched property value ( | | auto | [initial | inherit | unset | revert])","body":"<p>I get error in my project, but I cannot find why get the error:</p>\n\n<blockquote>\n  <p>Mismatched property value ( |  | auto | [initial | inherit | unset | revert]) less... (⌘F1)   </p>\n  \n  <p>This inspection detects illegal property's values.<br>\n   Mismatched property value ([[ | ] &amp;&amp; [border-box | content-box]?] | available | -moz-available | min-content | -moz-min-content | max-content | -moz-max-content | fit-content | -moz-fit-content | auto | [initial | inherit | unset | revert]) less... (⌘F1)  </p>\n  \n  <p>This inspection detects illegal property's values.  </p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/Oo5KM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oo5KM.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Where is the mistake ? I think my code is no problem.</p>\n\n<p>My dode is below:</p>\n\n<pre><code>&lt;%@ page language=\"java\"  pageEncoding=\"UTF-8\"%&gt;\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Language\" content=\"zh-cn\"&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;LINK href=\"${pageContext.request.contextPath}/css/buttonstyle.css\" type=\"text/css\" rel=\"stylesheet\"&gt;\n&lt;LINK href=\"${pageContext.request.contextPath}/css/MainPage.css\" type=\"text/css\" rel=\"stylesheet\"&gt;\n&lt;script type='text/javascript' src='${pageContext.request.contextPath}/script/pub.js'&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src='${pageContext.request.contextPath}/script/validate.js'&gt;&lt;/script&gt;\n&lt;SCRIPT type=\"text/javascript\"&gt;\nfunction ini(){\n   document.all.name.focus();\n}\nfunction check(){\n    var theForm = document.forms[0];\n    if(Trim(theForm.name.value)==\"\"){\n            alert(\"type in the username\");\n            theForm.name.focus();\n            return false;\n        }\n    theForm.submit();\n    return true; \n}\nfunction checkNumberImage(){\n    var imageNumber = document.getElementById(\"imageNumber\");\n    imageNumber.src = \"${pageContext.request.contextPath}/image.jsp?timestamp=\"+new Date().getTime();\n}\nfunction checkFunction(){\n    return check();\n}\n&lt;/SCRIPT&gt;\n&lt;STYLE type=text/css&gt;\nBODY { margin: 0px; }\nFORM {\n    MARGIN: 0px; BACKGROUND-COLOR: #ffffff\n} \n&lt;/STYLE&gt;\n&lt;title&gt;elec title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body onload=\"ini()\"&gt;\n&lt;form action=\"${pageContext.request.contextPath}/menu/home.jsp\" method=\"post\" target=\"_top\"&gt;\n&lt;table border=\"0\" width=\"100%\" id=\"table1\" height=\"532\" cellspacing=\"0\" cellpadding=\"0\" &gt;\n    &lt;tr&gt;\n        &lt;td&gt;　&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td height=\"467\"&gt;\n        &lt;table border=\"0\" width=\"1024\" id=\"table2\" height=\"415\" cellspacing=\"0\" cellpadding=\"0\" &gt;\n        &lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n            &lt;tr&gt;\n                &lt;td width=12%&gt;&lt;/td&gt;\n                &lt;td align=center background=\"${pageContext.request.contextPath}/images/index.jpg\"&gt;\n                &lt;table border=\"0\" width=\"98%\" id=\"table3\" height=\"412\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n                    &lt;tr height=122&gt;\n                        &lt;td colspan=2&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td height=\"313\" width=\"73%\"&gt;&lt;/td&gt;\n                        &lt;td height=\"99\" width=\"27%\"&gt;\n                            &lt;table border=\"0\" width=\"70%\" id=\"table4\"&gt;\n                                &lt;tr&gt;\n                                    &lt;td width=\"100\"&gt;&lt;img border=\"0\" src=\"${pageContext.request.contextPath}/images/yonghu.jpg\" width=\"75\" height=\"20\"&gt;&lt;/td&gt;\n                                    &lt;td&gt;&lt;input type=\"text\" name=\"name\" style=\"width: 125 px\" size=\"20\" value=\"\"  maxlength=\"25\"&gt;&lt;/td&gt;\n\n                                &lt;/tr&gt;\n                                &lt;tr&gt;\n                                    &lt;td width=\"100\"&gt;&lt;img border=\"0\" src=\"${pageContext.request.contextPath}/images/mima.jpg\" width=\"75\" height=\"20\"&gt;&lt;/td&gt;\n                                    &lt;td&gt;&lt;input type=\"password\" name=\"password\" style=\"width: 125 px\" size=\"20\" value=\"\"  maxlength=\"25\"&gt;&lt;/td&gt;\n\n                                &lt;/tr&gt;\n\n                                &lt;tr&gt;\n                                    &lt;td width=\"100\"&gt;&lt;/td&gt;\n                                    &lt;td width=\"100\"&gt;&lt;input type=\"button\" class=btn_mouseout onmouseover=\"this.className='btn_mouseover'\" onmouseout=\"this.className='btn_mouseout'\" value=\"login\" name=\"huifubtn\" onclick=\"checkFunction()\"&gt;&lt;/td&gt;\n\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n\n                    &lt;/table&gt;\n                &lt;/td&gt;\n                &lt;td width=13%&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n              &lt;td align=\"center\" colspan=3&gt;&amp;nbsp;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","java-time","datetime-parsing"],"comments":[{"owner":{"account_id":31084,"reputation":128404,"user_id":85134,"display_name":"araqnid"},"score":1,"creation_date":1431035934,"post_id":30090710,"comment_id":48335690,"body_markdown":"Did you also see this question: http://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length ? Looks like your answer is essentially the same","body":"Did you also see this question: <a href=\"http://stackoverflow.com/questions/30103167/jsr-310-parsing-seconds-fraction-with-variable-length\" title=\"jsr 310 parsing seconds fraction with variable length\">stackoverflow.com/questions/30103167/&hellip;</a> ? Looks like your answer is essentially the same"},{"owner":{"account_id":1166442,"reputation":1367,"user_id":1144592,"accept_rate":100,"display_name":"h.j.k."},"score":0,"creation_date":1431050649,"post_id":30090710,"comment_id":48340085,"body_markdown":"@araqnid thanks for pointing that out... I&#39;ve updated my own answer below to drop `parseLenient()` too, for future references...","body":"@araqnid thanks for pointing that out... I&#39;ve updated my own answer below to drop <code>parseLenient()</code> too, for future references..."}],"answers":[{"tags":[],"owner":{"account_id":1166442,"reputation":1367,"user_id":1144592,"accept_rate":100,"display_name":"h.j.k."},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1431050573,"creation_date":1430966121,"answer_id":30090987,"question_id":30090710,"body_markdown":"Oh cool, another 15 minutes of troubleshooting yielded this:\r\n\r\n    private static final DateTimeFormatter FORMATTER = \r\n        new DateTimeFormatterBuilder().appendPattern(BASE_PATTERN) // .parseLenient()\r\n            .appendFraction(ChronoField.NANO_OF_SECOND, 0, 9, true).toFormatter();\r\n\r\n**edit** `parseLenient()` is [optional][1].\r\n\r\n[1]: https://stackoverflow.com/a/30107522/2754160","title":"Java 8 DateTimeFormatter parsing for optional fractional seconds of varying significance","body":"<p>Oh cool, another 15 minutes of troubleshooting yielded this:</p>\n\n<pre><code>private static final DateTimeFormatter FORMATTER = \n    new DateTimeFormatterBuilder().appendPattern(BASE_PATTERN) // .parseLenient()\n        .appendFraction(ChronoField.NANO_OF_SECOND, 0, 9, true).toFormatter();\n</code></pre>\n\n<p><strong>edit</strong> <code>parseLenient()</code> is <a href=\"https://stackoverflow.com/a/30107522/2754160\">optional</a>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665858111,"creation_date":1665858111,"answer_id":74081972,"question_id":30090710,"body_markdown":"You were close to the solution\r\n--\r\n\r\n[Your answer](https://stackoverflow.com/a/30090987/10819573) is definitely an elegant way to solve this problem. However, what you attempted first was also close to the solution. You just had to specify the remaining numbers of fractional parts too while specifying the optional pattern.\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\r\n                    &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\r\n                    Locale.ENGLISH);\r\n    \r\n            // Test\r\n            Stream.of(\r\n                    &quot;2015-05-04 12:34:56.123456789&quot;,\r\n                    &quot;2015-05-04 12:34:56.123456&quot;,\r\n                    &quot;2015-05-04 12:34:56.123&quot;,\r\n                    &quot;2015-05-04 12:34:56&quot;\r\n            ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-05-04T12:34:56.123456789\r\n    2015-05-04T12:34:56.123456\r\n    2015-05-04T12:34:56.123\r\n    2015-05-04T12:34:56\r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Java 8 DateTimeFormatter parsing for optional fractional seconds of varying significance","body":"<h2>You were close to the solution</h2>\n<p><a href=\"https://stackoverflow.com/a/30090987/10819573\">Your answer</a> is definitely an elegant way to solve this problem. However, what you attempted first was also close to the solution. You just had to specify the remaining numbers of fractional parts too while specifying the optional pattern.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\n                &quot;yyyy-MM-dd HH:mm:ss[.[SSSSSSSSS][SSSSSSSS][SSSSSSS][SSSSSS][SSSSS][SSSS][SSS][SS][S]]&quot;,\n                Locale.ENGLISH);\n\n        // Test\n        Stream.of(\n                &quot;2015-05-04 12:34:56.123456789&quot;,\n                &quot;2015-05-04 12:34:56.123456&quot;,\n                &quot;2015-05-04 12:34:56.123&quot;,\n                &quot;2015-05-04 12:34:56&quot;\n        ).forEach(s -&gt; System.out.println(LocalDateTime.parse(s, formatter)));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-04T12:34:56.123456789\n2015-05-04T12:34:56.123456\n2015-05-04T12:34:56.123\n2015-05-04T12:34:56\n</code></pre>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":15841280,"reputation":1,"user_id":11429707,"display_name":"Harsh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698295646,"creation_date":1698240081,"answer_id":77359861,"question_id":30090710,"body_markdown":"I tried the below pattern and it helped me parse the dates without milliseconds and with milliseconds(up to 3 decimal places)\r\n\r\n```java\r\nfinal static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss[.*][.SSS][.SS][.S]X&quot;);\r\n```\r\ne.g.\r\n2023-10-25T10:22:28.280Z\r\n2023-10-25T10:22:28.28Z\r\n2023-10-25T10:22:28.2Z\r\n2023-10-25T10:22:28Z","title":"Java 8 DateTimeFormatter parsing for optional fractional seconds of varying significance","body":"<p>I tried the below pattern and it helped me parse the dates without milliseconds and with milliseconds(up to 3 decimal places)</p>\n<pre class=\"lang-java prettyprint-override\"><code>final static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss[.*][.SSS][.SS][.S]X&quot;);\n</code></pre>\n<p>e.g.\n2023-10-25T10:22:28.280Z\n2023-10-25T10:22:28.28Z\n2023-10-25T10:22:28.2Z\n2023-10-25T10:22:28Z</p>\n"}],"owner":{"account_id":1166442,"reputation":1367,"user_id":1144592,"accept_rate":100,"display_name":"h.j.k."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22574,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":30090987,"answer_count":3,"score":29,"last_activity_date":1698295646,"creation_date":1430964202,"question_id":30090710,"body_markdown":"My [MCVE][1] (as a [TestNG][2] unit test):\r\n\r\n    public class MyDateTimeFormatterTest {\r\n    \r\n        private static final String BASE_PATTERN = &quot;yyyy/MM/dd HH:mm:ss&quot;;\r\n        private static final DateTimeFormatter FORMATTER =\r\n                DateTimeFormatter.ofPattern(BASE_PATTERN + &quot;[.SSSSSSSSS]&quot;);\r\n        private static final LocalDateTime TEST_INPUT =\r\n                LocalDateTime.of(2015, 5, 4, 12, 34, 56, 123456789);\r\n    \r\n        @DataProvider(name = &quot;test-cases&quot;)\r\n        public Iterator&lt;Object[]&gt; getTestCases() {\r\n            return Arrays.asList(testFor(&quot;&quot;, ChronoUnit.SECONDS),\r\n                    testFor(&quot;.SSS&quot;, ChronoUnit.MILLIS),\r\n                    testFor(&quot;.SSSSSS&quot;, ChronoUnit.MICROS),\r\n                    testFor(&quot;.SSSSSSSSS&quot;, ChronoUnit.NANOS)).iterator();\r\n        }\r\n    \r\n        @Test(dataProvider = &quot;test-cases&quot;)\r\n        public void testWithDefaultResolution(String input, LocalDateTime output) {\r\n            assertThat(FORMATTER.parse(input, LocalDateTime::from), equalTo(output));\r\n        }\r\n    \r\n        private Object[] testFor(String patternSuffix, TemporalUnit truncatedTo) {\r\n            return new Object[] { DateTimeFormatter.ofPattern(BASE_PATTERN + patternSuffix)\r\n                    .format(TEST_INPUT), TEST_INPUT.truncatedTo(truncatedTo) };\r\n        }\r\n    }\r\n\r\nI am trying to test the parsing of a date-time `String` with **optional fractional seconds of varying significance** using [`DateTimeFormatter`][3]. The relevant part of the Javadoc reads:\r\n\r\n&gt; **Fraction**: Outputs the nano-of-second field as a fraction-of-second. The nano-of-second value has nine digits, thus the count of pattern letters is from 1 to 9. If it is less than 9, then the nano-of-second value is truncated, with only the most significant digits being output. \r\n\r\n\r\nBased on my limited understanding, I used `[...]` to mark the fractional seconds as optional, and since I&#39;m interested in varying significance, I thought I should stick to `SSSSSSSSS`.\r\n\r\nHowever, the unit test fails at parsing *up to* milliseconds and microseconds, i.e. the second and third cases. Changing the `ResolverStyle` to [`LENIENT`][4] does not help here as it fails at the parsing stage, not the resolution.\r\n\r\nMay I know which approaches should I consider to resolve my problem? Should I be using [`DateTimeFormatterBuilder`][5] to optionally specify each fractional digit (9 times), or is there a &#39;smarter&#39; way with my pattern?\r\n\r\n**edit** I found my own answer in the end... will still leave this as unanswered for a day and see if there are other approaches or not.\r\n\r\n[1]: https://stackoverflow.com/help/mcve\r\n[2]: http://testng.org/doc/index.html\r\n[3]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n[4]: https://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\r\n[5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html","title":"Java 8 DateTimeFormatter parsing for optional fractional seconds of varying significance","body":"<p>My <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> (as a <a href=\"http://testng.org/doc/index.html\" rel=\"noreferrer\">TestNG</a> unit test):</p>\n\n<pre><code>public class MyDateTimeFormatterTest {\n\n    private static final String BASE_PATTERN = \"yyyy/MM/dd HH:mm:ss\";\n    private static final DateTimeFormatter FORMATTER =\n            DateTimeFormatter.ofPattern(BASE_PATTERN + \"[.SSSSSSSSS]\");\n    private static final LocalDateTime TEST_INPUT =\n            LocalDateTime.of(2015, 5, 4, 12, 34, 56, 123456789);\n\n    @DataProvider(name = \"test-cases\")\n    public Iterator&lt;Object[]&gt; getTestCases() {\n        return Arrays.asList(testFor(\"\", ChronoUnit.SECONDS),\n                testFor(\".SSS\", ChronoUnit.MILLIS),\n                testFor(\".SSSSSS\", ChronoUnit.MICROS),\n                testFor(\".SSSSSSSSS\", ChronoUnit.NANOS)).iterator();\n    }\n\n    @Test(dataProvider = \"test-cases\")\n    public void testWithDefaultResolution(String input, LocalDateTime output) {\n        assertThat(FORMATTER.parse(input, LocalDateTime::from), equalTo(output));\n    }\n\n    private Object[] testFor(String patternSuffix, TemporalUnit truncatedTo) {\n        return new Object[] { DateTimeFormatter.ofPattern(BASE_PATTERN + patternSuffix)\n                .format(TEST_INPUT), TEST_INPUT.truncatedTo(truncatedTo) };\n    }\n}\n</code></pre>\n\n<p>I am trying to test the parsing of a date-time <code>String</code> with <strong>optional fractional seconds of varying significance</strong> using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>. The relevant part of the Javadoc reads:</p>\n\n<blockquote>\n  <p><strong>Fraction</strong>: Outputs the nano-of-second field as a fraction-of-second. The nano-of-second value has nine digits, thus the count of pattern letters is from 1 to 9. If it is less than 9, then the nano-of-second value is truncated, with only the most significant digits being output. </p>\n</blockquote>\n\n<p>Based on my limited understanding, I used <code>[...]</code> to mark the fractional seconds as optional, and since I'm interested in varying significance, I thought I should stick to <code>SSSSSSSSS</code>.</p>\n\n<p>However, the unit test fails at parsing <em>up to</em> milliseconds and microseconds, i.e. the second and third cases. Changing the <code>ResolverStyle</code> to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html#LENIENT\" rel=\"noreferrer\"><code>LENIENT</code></a> does not help here as it fails at the parsing stage, not the resolution.</p>\n\n<p>May I know which approaches should I consider to resolve my problem? Should I be using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html\" rel=\"noreferrer\"><code>DateTimeFormatterBuilder</code></a> to optionally specify each fractional digit (9 times), or is there a 'smarter' way with my pattern?</p>\n\n<p><strong>edit</strong> I found my own answer in the end... will still leave this as unanswered for a day and see if there are other approaches or not.</p>\n"},{"tags":["java","jboss"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1698216811,"post_id":77357170,"comment_id":136375405,"body_markdown":"*Cannot resolve expression &#39;${com.test.loglevelRoot}&#39;&quot;* Looks like you miss to declare the variable `com.test.loglevelRoot`","body":"<i>Cannot resolve expression &#39;${com.test.loglevelRoot}&#39;&quot;</i> Looks like you miss to declare the variable <code>com.test.loglevelRoot</code>"},{"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"score":0,"creation_date":1698218355,"post_id":77357170,"comment_id":136375628,"body_markdown":"Also using an Alpha version of EAP 6.4 is quite risky I would say","body":"Also using an Alpha version of EAP 6.4 is quite risky I would say"}],"owner":{"account_id":1862016,"reputation":59,"user_id":1686431,"accept_rate":50,"display_name":"Andre Bergmann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698295604,"creation_date":1698216633,"question_id":77357170,"body_markdown":"We have a JBoss installation running for a couple of months.\r\nNow JBoss doesn&#39;t start anymore also not on other machines within the domain.\r\nAlso if we restore the previously working version it does not start again.\r\nWe disable the firewall, VirusScan etc. - no solution for.\r\nThe restored snapshow is a week old and worked for the whole week but not anymore.\r\nSo really a miracle what happened...\r\n\r\n    &gt; 00:25:37,740 INFO  [org.jboss.modules] (main) JBoss Modules version 1.3.6.Final-redhat-1\r\n    00:25:37,934 INFO  [org.jboss.msc] (main) JBoss MSC version 1.1.5.Final-redhat-1\r\n    00:25:38,017 INFO  [org.jboss.as] (MSC service thread 1-7) JBAS015899: Test EAP 6.4.0.Alpha1 (AS 7.5.0.Final-redhat-15) starting\r\n    00:25:39,318 WARN  [org.jboss.messaging] (ServerService Thread Pool -- 6) JBAS011618: There is no resource matching the expiry-address jms.queue.ExpiryQueue for the address-settings #, expired messages from destinations matching this address-setting will be lost!\r\n    00:25:39,323 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015014: Re-attempting failed deployment test.ear\r\n    00:25:39,324 WARN  [org.jboss.messaging] (ServerService Thread Pool -- 6) JBAS011619: There is no resource matching the dead-letter-address jms.queue.DLQ for the address-settings #, undelivered messages from destinations matching this address-setting will be lost!\r\n    00:25:39,332 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015014: Re-attempting failed deployment sqljdbc4.jar\r\n    00:25:39,356 INFO  [org.xnio] (MSC service thread 1-7) XNIO Version 3.0.12.GA-redhat-1\r\n    00:25:39,363 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)\r\n    00:25:39,374 INFO  [org.xnio.nio] (MSC service thread 1-7) XNIO NIO Implementation Version 3.0.12.GA-redhat-1\r\n    00:25:39,499 INFO  [org.jboss.remoting] (MSC service thread 1-7) JBoss Remoting version 3.3.4.Final-redhat-1\r\n    00:25:39,414 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\r\n        (&quot;console-handler&quot; =&gt; &quot;CONSOLE&quot;)\r\n    ]) - failure description: &quot;JBAS014802: Cannot resolve expression &#39;${com.test.loglevelRoot}&#39;&quot;\r\n    00:25:39,511 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\r\n        (&quot;console-handler&quot; =&gt; &quot;CONSOLE&quot;)\r\n    ]) - failure description: &quot;JBAS014802: Cannot resolve expression &#39;${com.test.loglevelRoot}&#39;&quot;\r\n    00:25:39,531 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\r\n        (&quot;logger&quot; =&gt; &quot;com&quot;)\r\n    ]) - failure description: &quot;JBAS014802: Cannot resolve expression &#39;${com.test.loglevelRoot}&#39;&quot;\r\n\r\n\r\nMaybe somebody has an idea what happened here?\r\n\r\nRegards,\r\nAndre","title":"JBoss JBAS015014: Re-attempting failed deployment sqljdbc4.jar","body":"<p>We have a JBoss installation running for a couple of months.\nNow JBoss doesn't start anymore also not on other machines within the domain.\nAlso if we restore the previously working version it does not start again.\nWe disable the firewall, VirusScan etc. - no solution for.\nThe restored snapshow is a week old and worked for the whole week but not anymore.\nSo really a miracle what happened...</p>\n<pre><code>&gt; 00:25:37,740 INFO  [org.jboss.modules] (main) JBoss Modules version 1.3.6.Final-redhat-1\n00:25:37,934 INFO  [org.jboss.msc] (main) JBoss MSC version 1.1.5.Final-redhat-1\n00:25:38,017 INFO  [org.jboss.as] (MSC service thread 1-7) JBAS015899: Test EAP 6.4.0.Alpha1 (AS 7.5.0.Final-redhat-15) starting\n00:25:39,318 WARN  [org.jboss.messaging] (ServerService Thread Pool -- 6) JBAS011618: There is no resource matching the expiry-address jms.queue.ExpiryQueue for the address-settings #, expired messages from destinations matching this address-setting will be lost!\n00:25:39,323 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015014: Re-attempting failed deployment test.ear\n00:25:39,324 WARN  [org.jboss.messaging] (ServerService Thread Pool -- 6) JBAS011619: There is no resource matching the dead-letter-address jms.queue.DLQ for the address-settings #, undelivered messages from destinations matching this address-setting will be lost!\n00:25:39,332 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015014: Re-attempting failed deployment sqljdbc4.jar\n00:25:39,356 INFO  [org.xnio] (MSC service thread 1-7) XNIO Version 3.0.12.GA-redhat-1\n00:25:39,363 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)\n00:25:39,374 INFO  [org.xnio.nio] (MSC service thread 1-7) XNIO NIO Implementation Version 3.0.12.GA-redhat-1\n00:25:39,499 INFO  [org.jboss.remoting] (MSC service thread 1-7) JBoss Remoting version 3.3.4.Final-redhat-1\n00:25:39,414 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\n    (&quot;console-handler&quot; =&gt; &quot;CONSOLE&quot;)\n]) - failure description: &quot;JBAS014802: Cannot resolve expression '${com.test.loglevelRoot}'&quot;\n00:25:39,511 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\n    (&quot;console-handler&quot; =&gt; &quot;CONSOLE&quot;)\n]) - failure description: &quot;JBAS014802: Cannot resolve expression '${com.test.loglevelRoot}'&quot;\n00:25:39,531 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;logging&quot;),\n    (&quot;logger&quot; =&gt; &quot;com&quot;)\n]) - failure description: &quot;JBAS014802: Cannot resolve expression '${com.test.loglevelRoot}'&quot;\n</code></pre>\n<p>Maybe somebody has an idea what happened here?</p>\n<p>Regards,\nAndre</p>\n"},{"tags":["java","android","admob","gdprconsentform"],"answers":[{"tags":[],"owner":{"account_id":29739581,"reputation":46,"user_id":22792158,"display_name":"Robert Celinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698295578,"creation_date":1698116137,"answer_id":77349276,"question_id":77347625,"body_markdown":"I had the same problem and decompiled **ConsentInformation** interface. There&#39;s an error in the code provided by Google - `canRequestAds` is not a field but a method, so you should use `canRequestAds()` instead of `canRequestAds`","title":"consentInformation.canRequestAds - cannot find symbol variable canRequestAds","body":"<p>I had the same problem and decompiled <strong>ConsentInformation</strong> interface. There's an error in the code provided by Google - <code>canRequestAds</code> is not a field but a method, so you should use <code>canRequestAds()</code> instead of <code>canRequestAds</code></p>\n"}],"owner":{"account_id":1482576,"reputation":1289,"user_id":1391580,"accept_rate":32,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77349276,"answer_count":1,"score":0,"last_activity_date":1698295578,"creation_date":1698086753,"question_id":77347625,"body_markdown":"I&#39;m trying to add the Google User Messaging Platform SDK to my app so that it can serve ads to EEA and UK users.\r\n\r\nI&#39;m following every step in the this guide.\r\nhttps://developers.google.com/admob/android/privacy\r\n\r\nHowever, I&#39;m getting an error &quot;cannot find symbol variable canRequestAds&quot; on this line of code\r\nconsentInformation.canRequestAds\r\n\r\n\r\n     import com.google.android.gms.ads.MobileAds;\r\n     import com.google.android.material.tabs.TabLayout;\r\n     import com.google.android.ump.ConsentForm;\r\n     import com.google.android.ump.ConsentInformation;\r\n     import com.google.android.ump.ConsentRequestParameters;\r\n     import com.google.android.ump.UserMessagingPlatform;\r\n     import java.util.concurrent.atomic.AtomicBoolean;\r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n       private ConsentInformation consentInformation;\r\n       // Use an atomic boolean to initialize the Google Mobile Ads SDK and load ads once.\r\n       private final AtomicBoolean isMobileAdsInitializeCalled = new AtomicBoolean(false);\r\n  \r\n       @Override\r\n       protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    // Set tag for under age of consent. false means users are not under age\r\n    // of consent.\r\n    ConsentRequestParameters params = new ConsentRequestParameters\r\n        .Builder()\r\n        .setTagForUnderAgeOfConsent(false)\r\n        .build();\r\n\r\n    consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n    consentInformation.requestConsentInfoUpdate(\r\n        this,\r\n        params,\r\n        (OnConsentInfoUpdateSuccessListener) () -&gt; {\r\n          UserMessagingPlatform.loadAndShowConsentFormIfRequired(\r\n            this,\r\n            (OnConsentFormDismissedListener) loadAndShowError -&gt; {\r\n              if (loadAndShowError != null) {\r\n                // Consent gathering failed.\r\n                Log.w(TAG, String.format(&quot;%s: %s&quot;,\r\n                    loadAndShowError.getErrorCode(),\r\n                    loadAndShowError.getMessage()));\r\n              }\r\n\r\n              // Consent has been gathered.\r\n              if (consentInformation.canRequestAds) {\r\n                initializeMobileAdsSdk();\r\n              }\r\n            }\r\n          )\r\n        },\r\n        (OnConsentInfoUpdateFailureListener) requestConsentError -&gt; {\r\n          // Consent gathering failed.\r\n          Log.w(TAG, String.format(&quot;%s: %s&quot;,\r\n              requestConsentError.getErrorCode(),\r\n              requestConsentError.getMessage()));\r\n        });\r\n    \r\n    // Check if you can initialize the Google Mobile Ads SDK in parallel\r\n    // while checking for new consent information. Consent obtained in\r\n    // the previous session can be used to request ads.\r\n    if (consentInformation.canRequestAds) {\r\n      initializeMobileAdsSdk();\r\n    }\r\n       }\r\n  \r\n       private void initializeMobileAdsSdk() {\r\n    if (isMobileAdsInitializeCalled.getAndSet(true)) {\r\n      return;\r\n    }\r\n\r\n    // Initialize the Google Mobile Ads SDK.\r\n    MobileAds.initialize(this);\r\n\r\n    // TODO: Request an ad.\r\n    // InterstitialAd.load(...);\r\n       }\r\n     }\r\n\r\n","title":"consentInformation.canRequestAds - cannot find symbol variable canRequestAds","body":"<p>I'm trying to add the Google User Messaging Platform SDK to my app so that it can serve ads to EEA and UK users.</p>\n<p>I'm following every step in the this guide.\n<a href=\"https://developers.google.com/admob/android/privacy\" rel=\"nofollow noreferrer\">https://developers.google.com/admob/android/privacy</a></p>\n<p>However, I'm getting an error &quot;cannot find symbol variable canRequestAds&quot; on this line of code\nconsentInformation.canRequestAds</p>\n<pre><code> import com.google.android.gms.ads.MobileAds;\n import com.google.android.material.tabs.TabLayout;\n import com.google.android.ump.ConsentForm;\n import com.google.android.ump.ConsentInformation;\n import com.google.android.ump.ConsentRequestParameters;\n import com.google.android.ump.UserMessagingPlatform;\n import java.util.concurrent.atomic.AtomicBoolean;\n\n public class MainActivity extends AppCompatActivity {\n   private ConsentInformation consentInformation;\n   // Use an atomic boolean to initialize the Google Mobile Ads SDK and load ads once.\n   private final AtomicBoolean isMobileAdsInitializeCalled = new AtomicBoolean(false);\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_main);\n\n// Set tag for under age of consent. false means users are not under age\n// of consent.\nConsentRequestParameters params = new ConsentRequestParameters\n    .Builder()\n    .setTagForUnderAgeOfConsent(false)\n    .build();\n\nconsentInformation = UserMessagingPlatform.getConsentInformation(this);\nconsentInformation.requestConsentInfoUpdate(\n    this,\n    params,\n    (OnConsentInfoUpdateSuccessListener) () -&gt; {\n      UserMessagingPlatform.loadAndShowConsentFormIfRequired(\n        this,\n        (OnConsentFormDismissedListener) loadAndShowError -&gt; {\n          if (loadAndShowError != null) {\n            // Consent gathering failed.\n            Log.w(TAG, String.format(&quot;%s: %s&quot;,\n                loadAndShowError.getErrorCode(),\n                loadAndShowError.getMessage()));\n          }\n\n          // Consent has been gathered.\n          if (consentInformation.canRequestAds) {\n            initializeMobileAdsSdk();\n          }\n        }\n      )\n    },\n    (OnConsentInfoUpdateFailureListener) requestConsentError -&gt; {\n      // Consent gathering failed.\n      Log.w(TAG, String.format(&quot;%s: %s&quot;,\n          requestConsentError.getErrorCode(),\n          requestConsentError.getMessage()));\n    });\n\n// Check if you can initialize the Google Mobile Ads SDK in parallel\n// while checking for new consent information. Consent obtained in\n// the previous session can be used to request ads.\nif (consentInformation.canRequestAds) {\n  initializeMobileAdsSdk();\n}\n   }\n\n   private void initializeMobileAdsSdk() {\nif (isMobileAdsInitializeCalled.getAndSet(true)) {\n  return;\n}\n\n// Initialize the Google Mobile Ads SDK.\nMobileAds.initialize(this);\n\n// TODO: Request an ad.\n// InterstitialAd.load(...);\n   }\n }\n</code></pre>\n"},{"tags":["java","spring","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":27123,"reputation":7624,"user_id":71245,"accept_rate":56,"display_name":"Leon Radley"},"score":0,"creation_date":1414140671,"post_id":26543848,"comment_id":41712555,"body_markdown":"I&#39;m aware of this. The above was just a sample, in real life the logic is more advanced and cannot be represented with a @Query or a expression method.","body":"I&#39;m aware of this. The above was just a sample, in real life the logic is more advanced and cannot be represented with a @Query or a expression method."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1414140844,"post_id":26543848,"comment_id":41712641,"body_markdown":"You can always use a Specification in that case. But injecting a `EntityManager` will not work, you would need to store the reference in a singleton and use a static accessor method. Although I would probably just implement it in a custom repository (feels like less magic).","body":"You can always use a Specification in that case. But injecting a <code>EntityManager</code> will not work, you would need to store the reference in a singleton and use a static accessor method. Although I would probably just implement it in a custom repository (feels like less magic)."}],"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414138027,"creation_date":1414138027,"answer_id":26543848,"question_id":26543612,"body_markdown":"You don&#39;t get the `EntityManager` in an interface, although you might be able to work around it by doing a lookup. \r\n\r\nBut why are you even doing this? Spring Data JPA already supports the `Optional` return type so you don&#39;t need to implement it. Spring Data will do it for you.\r\n\r\n    \r\n    public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n\r\n        Optional&lt;User&gt; findByLoginIgnoreCase(String login) {\r\n    }\r\n\r\nThe code above should be all you need. You could even specify a query with `@Query` if you would need it. \r\n\r\nA Sample can be found [here][1].\r\n\r\n[1]: https://github.com/spring-projects/spring-data-examples/tree/master/jpa/java8\r\n","title":"Should I use Java 8 default methods for manually implemented Spring Data repository methods?","body":"<p>You don't get the <code>EntityManager</code> in an interface, although you might be able to work around it by doing a lookup. </p>\n\n<p>But why are you even doing this? Spring Data JPA already supports the <code>Optional</code> return type so you don't need to implement it. Spring Data will do it for you.</p>\n\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n\n    Optional&lt;User&gt; findByLoginIgnoreCase(String login) {\n}\n</code></pre>\n\n<p>The code above should be all you need. You could even specify a query with <code>@Query</code> if you would need it. </p>\n\n<p>A Sample can be found <a href=\"https://github.com/spring-projects/spring-data-examples/tree/master/jpa/java8\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1414249047,"post_id":26546804,"comment_id":41747040,"body_markdown":"Your using the default methods for a use case they weren&#39;t intended for. To make this clear to everyone else finding this answer I down-voted it. Default methods must (cannot) refer to any state of the object as interfaces don&#39;t have state. So their implementations need to be composed solely of method calls to other interface methods or external static ones. Here&#39;s the documentation for how to add custom behavior to a single repository: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour. Alternatively look at `QueryDslPredicateExecutor`.","body":"Your using the default methods for a use case they weren&#39;t intended for. To make this clear to everyone else finding this answer I down-voted it. Default methods must (cannot) refer to any state of the object as interfaces don&#39;t have state. So their implementations need to be composed solely of method calls to other interface methods or external static ones. Here&#39;s the documentation for how to add custom behavior to a single repository: <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;. Alternatively look at <code>QueryDslPredicateExecutor</code>."},{"owner":{"account_id":27123,"reputation":7624,"user_id":71245,"accept_rate":56,"display_name":"Leon Radley"},"score":1,"creation_date":1414327168,"post_id":26546804,"comment_id":41763911,"body_markdown":"I don&#39;t agree with you, my default method is just another way of expressing a Query. But I could simply implement the QueryDslRepositorySupport to get the `from` method and by doing so I wouldn&#39;t have to create my custom factory. Can you please explain why you think that using default methods are bad? doing a custom implementation of a repository was simply the only way to do it before java 8, and now that we have default methods we should use them I think.","body":"I don&#39;t agree with you, my default method is just another way of expressing a Query. But I could simply implement the QueryDslRepositorySupport to get the <code>from</code> method and by doing so I wouldn&#39;t have to create my custom factory. Can you please explain why you think that using default methods are bad? doing a custom implementation of a repository was simply the only way to do it before java 8, and now that we have default methods we should use them I think."},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1414412990,"post_id":26546804,"comment_id":41790143,"body_markdown":"It&#39;s not that they&#39;re bad. Default methods were just not designed to do what you want them to do and have limitations. Such as no access to object state, which is what you need if you want to access e.g. an `EntityManager`. Also, exposing an `EM` at the repository interface totally subverts its (the repositories) purpose abstracting from persistence technology. You&#39;re trying to squeeze default methods into something they were not made for and actually end up with a more complex and more suboptimal solution than the simple and documented way that has been in place for ages.","body":"It&#39;s not that they&#39;re bad. Default methods were just not designed to do what you want them to do and have limitations. Such as no access to object state, which is what you need if you want to access e.g. an <code>EntityManager</code>. Also, exposing an <code>EM</code> at the repository interface totally subverts its (the repositories) purpose abstracting from persistence technology. You&#39;re trying to squeeze default methods into something they were not made for and actually end up with a more complex and more suboptimal solution than the simple and documented way that has been in place for ages."},{"owner":{"account_id":27123,"reputation":7624,"user_id":71245,"accept_rate":56,"display_name":"Leon Radley"},"score":1,"creation_date":1414423796,"post_id":26546804,"comment_id":41796937,"body_markdown":"@OliverGierke Thanks for the explanation, it&#39;s more clear to me now","body":"@OliverGierke Thanks for the explanation, it&#39;s more clear to me now"},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1414494013,"post_id":26546804,"comment_id":41825546,"body_markdown":"That&#39;s great to hear. No offense really. It&#39;s really good someone tried it and we now have a way to document why we think the other approach is superior. I guess you&#39;re not the only one trying this and I admit it&#39;s not obvious what the downsides are in the first place :). Kudos for trying to stretch the borders :).","body":"That&#39;s great to hear. No offense really. It&#39;s really good someone tried it and we now have a way to document why we think the other approach is superior. I guess you&#39;re not the only one trying this and I admit it&#39;s not obvious what the downsides are in the first place :). Kudos for trying to stretch the borders :)."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1642514935,"post_id":26546804,"comment_id":125086982,"body_markdown":"The critique against default methods I must criticize. Oliver, you said default methods &quot;were just not designed to do what you want them to do and have limitations&quot;. This could be correct for the given context - I didn&#39;t read the posted answer - but I want to stress that &quot;fragments&quot; weren&#39;t designed in Java at all and trying to impose an opinion on what a default method is allowed or not allowed to do is just wrong lol. Spring&#39;s &quot;fragments&quot; is a bloaty hack compared to default methods which seems to be working just fine as long as one doesn&#39;t need to access state (tested in Spring Boot 2.5.6).","body":"The critique against default methods I must criticize. Oliver, you said default methods &quot;were just not designed to do what you want them to do and have limitations&quot;. This could be correct for the given context - I didn&#39;t read the posted answer - but I want to stress that &quot;fragments&quot; weren&#39;t designed in Java at all and trying to impose an opinion on what a default method is allowed or not allowed to do is just wrong lol. Spring&#39;s &quot;fragments&quot; is a bloaty hack compared to default methods which seems to be working just fine as long as one doesn&#39;t need to access state (tested in Spring Boot 2.5.6)."}],"tags":[],"owner":{"account_id":27123,"reputation":7624,"user_id":71245,"accept_rate":56,"display_name":"Leon Radley"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698295511,"creation_date":1414149204,"answer_id":26546804,"question_id":26543612,"body_markdown":"What I ended up doing was creating a repository base which has a `getEntityManager()`\r\n\r\nBut it isn&#39;t all straightforward to get the base class working with spring boot\r\n\r\n\t// DomainRepository.java\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.data.repository.NoRepositoryBean;\r\n\r\n\timport javax.persistence.EntityManager;\r\n\timport java.io.Serializable;\r\n\r\n\t@NoRepositoryBean\r\n\tpublic interface DomainRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\r\n\r\n\t    EntityManager getEntityManager();\r\n\r\n\t}\r\n\r\nThen the implementation\r\n\r\n    // DomainRepositoryImpl.java\r\n    import org.springframework.data.jpa.repository.support.SimpleJpaRepository;\r\n\r\n\timport javax.persistence.EntityManager;\r\n\timport java.io.Serializable;\r\n\r\n\tpublic class DomainRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements DomainRepository&lt;T, ID&gt; {\r\n\r\n\t    private EntityManager entityManager;\r\n\r\n\t    public DomainRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager entityManager) {\r\n\t        super(domainClass, entityManager);\r\n\t        this.entityManager = entityManager;\r\n\t    }\r\n\r\n\t    public EntityManager getEntityManager() {\r\n\t        return entityManager;\r\n\t    }\r\n\t}\r\n\r\nBut then spring needs to know how to create domain repositories so we need to create a factory.\r\n\r\n    // DomainRepositoryFactoryBean.java\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n\timport org.springframework.data.jpa.repository.support.JpaRepositoryFactory;\r\n\timport org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean;\r\n\timport org.springframework.data.repository.core.RepositoryMetadata;\r\n\timport org.springframework.data.repository.core.support.RepositoryFactorySupport;\r\n\r\n\timport javax.persistence.EntityManager;\r\n\timport java.io.Serializable;\r\n\r\n\tpublic class DomainRepositoryFactoryBean&lt;R extends JpaRepository&lt;T, I&gt;, T, I extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;R, T, I&gt; {\r\n\r\n\t    protected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\r\n\t        return new RepositoryBaseFactory(entityManager);\r\n\t    }\r\n\r\n\t    private static class RepositoryBaseFactory&lt;T, I extends Serializable&gt; extends JpaRepositoryFactory {\r\n\r\n\t        private EntityManager entityManager;\r\n\r\n\t        public RepositoryBaseFactory(EntityManager entityManager) {\r\n\t            super(entityManager);\r\n\r\n\t            this.entityManager = entityManager;\r\n\t        }\r\n\r\n\t        protected Object getTargetRepository(RepositoryMetadata metadata) {\r\n\r\n\t            return new DomainRepositoryImpl&lt;T, I&gt;((Class&lt;T&gt;) metadata.getDomainType(), entityManager);\r\n\t        }\r\n\r\n\t        protected Class&lt;?&gt; getRepositoryBaseClass(RepositoryMetadata metadata) {\r\n\r\n\t            // The RepositoryMetadata can be safely ignored, it is used by the JpaRepositoryFactory\r\n\t            //to check for QueryDslJpaRepository&#39;s which is out of scope.\r\n\t            return DomainRepository.class;\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\nAnd then to tell spring boot to use this factory when creating repositories\r\n\r\n    // DomainConfig.java\r\n    @Configuration\r\n\t@EnableJpaRepositories(repositoryFactoryBeanClass = DomainRepositoryFactoryBean.class, basePackages = {&quot;com.mysite.domain&quot;})\r\n\t@EnableTransactionManagement\r\n\tpublic class DomainConfig {\r\n\t}\r\n\r\nand then change the `UserRepository` to use it instead.\r\n\r\n    @Repository\r\n    public interface UserRepository extends DomainRepository&lt;User, UUID&gt; {\r\n        public default Optional&lt;User&gt; findByLogin(String login) {\r\n\t\t    JPAQuery query = new JPAQuery(getEntityManager());\r\n            ...\r\n        }\r\n    }","title":"Should I use Java 8 default methods for manually implemented Spring Data repository methods?","body":"<p>What I ended up doing was creating a repository base which has a <code>getEntityManager()</code></p>\n<p>But it isn't all straightforward to get the base class working with spring boot</p>\n<pre><code>// DomainRepository.java\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.repository.NoRepositoryBean;\n\nimport javax.persistence.EntityManager;\nimport java.io.Serializable;\n\n@NoRepositoryBean\npublic interface DomainRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\n\n    EntityManager getEntityManager();\n\n}\n</code></pre>\n<p>Then the implementation</p>\n<pre><code>// DomainRepositoryImpl.java\nimport org.springframework.data.jpa.repository.support.SimpleJpaRepository;\n\nimport javax.persistence.EntityManager;\nimport java.io.Serializable;\n\npublic class DomainRepositoryImpl&lt;T, ID extends Serializable&gt; extends SimpleJpaRepository&lt;T, ID&gt; implements DomainRepository&lt;T, ID&gt; {\n\n    private EntityManager entityManager;\n\n    public DomainRepositoryImpl(Class&lt;T&gt; domainClass, EntityManager entityManager) {\n        super(domainClass, entityManager);\n        this.entityManager = entityManager;\n    }\n\n    public EntityManager getEntityManager() {\n        return entityManager;\n    }\n}\n</code></pre>\n<p>But then spring needs to know how to create domain repositories so we need to create a factory.</p>\n<pre><code>// DomainRepositoryFactoryBean.java\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.support.JpaRepositoryFactory;\nimport org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean;\nimport org.springframework.data.repository.core.RepositoryMetadata;\nimport org.springframework.data.repository.core.support.RepositoryFactorySupport;\n\nimport javax.persistence.EntityManager;\nimport java.io.Serializable;\n\npublic class DomainRepositoryFactoryBean&lt;R extends JpaRepository&lt;T, I&gt;, T, I extends Serializable&gt; extends JpaRepositoryFactoryBean&lt;R, T, I&gt; {\n\n    protected RepositoryFactorySupport createRepositoryFactory(EntityManager entityManager) {\n        return new RepositoryBaseFactory(entityManager);\n    }\n\n    private static class RepositoryBaseFactory&lt;T, I extends Serializable&gt; extends JpaRepositoryFactory {\n\n        private EntityManager entityManager;\n\n        public RepositoryBaseFactory(EntityManager entityManager) {\n            super(entityManager);\n\n            this.entityManager = entityManager;\n        }\n\n        protected Object getTargetRepository(RepositoryMetadata metadata) {\n\n            return new DomainRepositoryImpl&lt;T, I&gt;((Class&lt;T&gt;) metadata.getDomainType(), entityManager);\n        }\n\n        protected Class&lt;?&gt; getRepositoryBaseClass(RepositoryMetadata metadata) {\n\n            // The RepositoryMetadata can be safely ignored, it is used by the JpaRepositoryFactory\n            //to check for QueryDslJpaRepository's which is out of scope.\n            return DomainRepository.class;\n        }\n    }\n}\n</code></pre>\n<p>And then to tell spring boot to use this factory when creating repositories</p>\n<pre><code>// DomainConfig.java\n@Configuration\n@EnableJpaRepositories(repositoryFactoryBeanClass = DomainRepositoryFactoryBean.class, basePackages = {&quot;com.mysite.domain&quot;})\n@EnableTransactionManagement\npublic class DomainConfig {\n}\n</code></pre>\n<p>and then change the <code>UserRepository</code> to use it instead.</p>\n<pre><code>@Repository\npublic interface UserRepository extends DomainRepository&lt;User, UUID&gt; {\n    public default Optional&lt;User&gt; findByLogin(String login) {\n        JPAQuery query = new JPAQuery(getEntityManager());\n        ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6198883,"reputation":3073,"user_id":4829388,"accept_rate":62,"display_name":"Victor Dombrovsky"},"score":0,"creation_date":1443018568,"post_id":26563841,"comment_id":53325442,"body_markdown":"What if I want have interface default method, which is not trying to access any state of the instance. For example, I want to put into my repository interface an create() method, which creates an instance of entity and initializes it somehow. I have tried to do that, but I have received &quot;PropertyReferenceException: No property create found for type Entity!&quot;. Is it not possible to have interface default methods at all?","body":"What if I want have interface default method, which is not trying to access any state of the instance. For example, I want to put into my repository interface an create() method, which creates an instance of entity and initializes it somehow. I have tried to do that, but I have received &quot;PropertyReferenceException: No property create found for type Entity!&quot;. Is it not possible to have interface default methods at all?"},{"owner":{"account_id":1192900,"reputation":3556,"user_id":1165292,"accept_rate":69,"display_name":"mvlupan"},"score":0,"creation_date":1457004709,"post_id":26563841,"comment_id":59213388,"body_markdown":"Oliver I am very interested in your opinion in a question related to Victor`s. Assume this scenario : we have a method that retrieves a list of entities and another one that uses the first but applies a filter and a map on the stream from the first method.(no state is accessed - there is none)  Would a default method be the answer here or a custom implementation ?","body":"Oliver I am very interested in your opinion in a question related to Victor`s. Assume this scenario : we have a method that retrieves a list of entities and another one that uses the first but applies a filter and a map on the stream from the first method.(no state is accessed - there is none)  Would a default method be the answer here or a custom implementation ?"},{"owner":{"account_id":248909,"reputation":21944,"user_id":524588,"accept_rate":78,"display_name":"Sanghyun Lee"},"score":1,"creation_date":1463730277,"post_id":26563841,"comment_id":62198525,"body_markdown":"This looks good, but having to have 3 classes for each DAO seems to be a little too tiring.","body":"This looks good, but having to have 3 classes for each DAO seems to be a little too tiring."},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1464080682,"post_id":26563841,"comment_id":62324824,"body_markdown":"I appreciate your opinion but there currently is no other way and I guess we can&#39;t change the rules for default methods ;). You can have all of that in a single source file though. As it&#39;s only type declarations actually, I&#39;d also argue that it&#39;s basically in the ballpark of tow additional methods, not types. On top of that, in a real world application you usually have quite a few query methods in the repo so that the additional code required is negligible.","body":"I appreciate your opinion but there currently is no other way and I guess we can&#39;t change the rules for default methods ;). You can have all of that in a single source file though. As it&#39;s only type declarations actually, I&#39;d also argue that it&#39;s basically in the ballpark of tow additional methods, not types. On top of that, in a real world application you usually have quite a few query methods in the repo so that the additional code required is negligible."}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1414250089,"creation_date":1414249754,"answer_id":26563841,"question_id":26543612,"body_markdown":"Default methods should only be used to delegate calls to other repository methods. Default methods - by definition - cannot access any state of an instance (as an interface has none). They only can delegate to other interface methods or call static ones of other classes.\r\n\r\nActually, using a custom implementation as described in the [reference documentation][1] is the right approach. Here&#39;s the short version for reference (in case others wonder, too):\r\n\r\n    /**\r\n     * Interface for methods you want to implement manually.\r\n     */\r\n    interface UserRepositoryCustom {\r\n      Optional&lt;User&gt; findByLogin(String login);\r\n    }\r\n\r\n    /**\r\n     * Implementation of exactly these methods.\r\n     */\r\n    class UserRepositoryImpl extends QueryDslRepositorySupport implements UserRepositoryCustom {\r\n\r\n      private static final QUser USER = QUser.user;\r\n\r\n      @Override\r\n      public Optional&lt;User&gt; findByLogin(String login) {\r\n\r\n        return Optional.ofNullable(\r\n          from(USER).\r\n          where(\r\n            USER.deleter.isNull(),\r\n            USER.locked.isFalse(), \r\n            USER.login.equalsIgnoreCase(login)).\r\n          singleResult(USER));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * The main repository interface extending the custom one so that the manually\r\n     * implemented methods get &quot;pulled&quot; into the API.\r\n     */\r\n    public interface UserRepository extends UserRepositoryCustom, \r\n      CrudRepository&lt;User, Long&gt; { … }\r\n\r\nBe aware that the naming conventions are important here (but can be customized if needed). By extending `QueryDslRepositorySupport` you get access to the `from(…)` method so that you don&#39;t have to interact with the `EntityManager` yourself.\r\n\r\nAlternatively you can let `UserRepository` implement `QueryDslPredicateExecutor` and hand in the predicates from outside the repository but that&#39;d let you end up with the clients needing to work with Querydsl (which might be unwanted) plus you don&#39;t get the `Optional` wrapper type OOTB.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour","title":"Should I use Java 8 default methods for manually implemented Spring Data repository methods?","body":"<p>Default methods should only be used to delegate calls to other repository methods. Default methods - by definition - cannot access any state of an instance (as an interface has none). They only can delegate to other interface methods or call static ones of other classes.</p>\n\n<p>Actually, using a custom implementation as described in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.single-repository-behaviour\" rel=\"noreferrer\">reference documentation</a> is the right approach. Here's the short version for reference (in case others wonder, too):</p>\n\n<pre><code>/**\n * Interface for methods you want to implement manually.\n */\ninterface UserRepositoryCustom {\n  Optional&lt;User&gt; findByLogin(String login);\n}\n\n/**\n * Implementation of exactly these methods.\n */\nclass UserRepositoryImpl extends QueryDslRepositorySupport implements UserRepositoryCustom {\n\n  private static final QUser USER = QUser.user;\n\n  @Override\n  public Optional&lt;User&gt; findByLogin(String login) {\n\n    return Optional.ofNullable(\n      from(USER).\n      where(\n        USER.deleter.isNull(),\n        USER.locked.isFalse(), \n        USER.login.equalsIgnoreCase(login)).\n      singleResult(USER));\n  }\n}\n\n/**\n * The main repository interface extending the custom one so that the manually\n * implemented methods get \"pulled\" into the API.\n */\npublic interface UserRepository extends UserRepositoryCustom, \n  CrudRepository&lt;User, Long&gt; { … }\n</code></pre>\n\n<p>Be aware that the naming conventions are important here (but can be customized if needed). By extending <code>QueryDslRepositorySupport</code> you get access to the <code>from(…)</code> method so that you don't have to interact with the <code>EntityManager</code> yourself.</p>\n\n<p>Alternatively you can let <code>UserRepository</code> implement <code>QueryDslPredicateExecutor</code> and hand in the predicates from outside the repository but that'd let you end up with the clients needing to work with Querydsl (which might be unwanted) plus you don't get the <code>Optional</code> wrapper type OOTB.</p>\n"}],"owner":{"account_id":27123,"reputation":7624,"user_id":71245,"accept_rate":56,"display_name":"Leon Radley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18443,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":26563841,"answer_count":3,"score":23,"last_activity_date":1698295511,"creation_date":1414137028,"question_id":26543612,"body_markdown":"When using the new Spring Data Evans release it&#39;s nice to be able to use some of the nice stuff that came with java 8. One of them is default implementations in interfaces. The repository below uses QueryDSL to make queries type safe.\r\n\r\nMy problem is that before when I wrote this I used the pattern of a separate `UserRepositoryCustom` interface for the `findByLogin` and then another class `UserRepositoryImpl` and in that class I would have the `@PersistenceContext` to get the current `EntityManager`.\r\n\r\nHow do I get the `EntityManager` when I don&#39;t have a class? Is it even possible?\r\n\r\n    @Repository\r\n\tpublic interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\r\n\r\n        final QUser qUser = QUser.user;\r\n\r\n\t\t// How do I get the entityManager since this is a interface, i cannot have any variables?\r\n\t\t//@PersistenceContext\r\n\t\t//EntityManager entityManager;\r\n\r\n\t\tpublic default Optional&lt;User&gt; findByLogin(String login) {\r\n\t\t\tJPAQuery query = new JPAQuery(entityManager);\r\n\t\t\tUser user = query\r\n\t\t\t\t\t.from(qUser)\r\n\t\t\t\t\t.where(\r\n\t\t\t\t\t\t\tqUser.deleter.isNull(),\r\n\t\t\t\t\t\t\tqUser.locked.isFalse(),\r\n\t\t\t\t\t\t\tqUser.login.equalsIgnoreCase(login)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.singleResult(qUser);\r\n\r\n\t\t\treturn Optional.ofNullable(user);\r\n\t\t}\r\n\t}","title":"Should I use Java 8 default methods for manually implemented Spring Data repository methods?","body":"<p>When using the new Spring Data Evans release it's nice to be able to use some of the nice stuff that came with java 8. One of them is default implementations in interfaces. The repository below uses QueryDSL to make queries type safe.</p>\n\n<p>My problem is that before when I wrote this I used the pattern of a separate <code>UserRepositoryCustom</code> interface for the <code>findByLogin</code> and then another class <code>UserRepositoryImpl</code> and in that class I would have the <code>@PersistenceContext</code> to get the current <code>EntityManager</code>.</p>\n\n<p>How do I get the <code>EntityManager</code> when I don't have a class? Is it even possible?</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, UUID&gt; {\n\n    final QUser qUser = QUser.user;\n\n    // How do I get the entityManager since this is a interface, i cannot have any variables?\n    //@PersistenceContext\n    //EntityManager entityManager;\n\n    public default Optional&lt;User&gt; findByLogin(String login) {\n        JPAQuery query = new JPAQuery(entityManager);\n        User user = query\n                .from(qUser)\n                .where(\n                        qUser.deleter.isNull(),\n                        qUser.locked.isFalse(),\n                        qUser.login.equalsIgnoreCase(login)\n                )\n                .singleResult(qUser);\n\n        return Optional.ofNullable(user);\n    }\n}\n</code></pre>\n"},{"tags":["java","module","maven","multi-module"],"answers":[{"comments":[{"owner":{"account_id":235744,"reputation":83,"user_id":502763,"display_name":"rainInSpain"},"score":0,"creation_date":1289369508,"post_id":4141483,"comment_id":4466984,"body_markdown":"Great! I will probably go with the grouping the modules in a new pom as deps and referencing that one. Thankyou!","body":"Great! I will probably go with the grouping the modules in a new pom as deps and referencing that one. Thankyou!"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698295429,"creation_date":1289366803,"answer_id":4141483,"question_id":4141363,"body_markdown":"&gt; Can this be done in the first place?\r\n\r\nDeclaring a dependency on an aggregating POM won&#39;t get the modules transitively. This is not going to work. It is possible to create a POM to [group dependencies][1] though.\r\n\r\nFor example, EHCache uses this technique. As mentioned in [their documentation][2]:\r\n\r\n&gt; ### Maven Snippet\r\n&gt; \r\n&gt; To include Ehcache in your project\r\n&gt; use:\r\n&gt; \r\n&gt;        &lt;dependency&gt;\r\n&gt;            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n&gt;            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n&gt;            &lt;version&gt;2.0.1&lt;/version&gt;\r\n&gt;            &lt;type&gt;pom&lt;/type&gt;\r\n&gt;        &lt;/dependency&gt;\r\n\r\nThe [`net.sf.ehcache:ehcache`][3] artifact is precisely used to group dependencies (and is distinct from `net.sf.ehcache:ehcache-parent`).\r\n\r\n### References \r\n\r\n- The Maven Guide\r\n - [3.6.1. Grouping Dependencies][1]\r\n\r\n\r\n  [1]: https://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html#pom-relationships-sect-grouping-deps\r\n  [2]: http://ehcache.org/documentation/dependencies.html\r\n  [3]: http://repo2.maven.org/maven2/net/sf/ehcache/ehcache/2.0.1/ehcache-2.0.1.pom","title":"Pull dependencies of modules by referencing parent in maven java project?","body":"<blockquote>\n<p>Can this be done in the first place?</p>\n</blockquote>\n<p>Declaring a dependency on an aggregating POM won't get the modules transitively. This is not going to work. It is possible to create a POM to <a href=\"https://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html#pom-relationships-sect-grouping-deps\" rel=\"nofollow noreferrer\">group dependencies</a> though.</p>\n<p>For example, EHCache uses this technique. As mentioned in <a href=\"http://ehcache.org/documentation/dependencies.html\" rel=\"nofollow noreferrer\">their documentation</a>:</p>\n<blockquote>\n<h3>Maven Snippet</h3>\n<p>To include Ehcache in your project\nuse:</p>\n<pre><code>   &lt;dependency&gt;\n       &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n       &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n       &lt;version&gt;2.0.1&lt;/version&gt;\n       &lt;type&gt;pom&lt;/type&gt;\n   &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<p>The <a href=\"http://repo2.maven.org/maven2/net/sf/ehcache/ehcache/2.0.1/ehcache-2.0.1.pom\" rel=\"nofollow noreferrer\"><code>net.sf.ehcache:ehcache</code></a> artifact is precisely used to group dependencies (and is distinct from <code>net.sf.ehcache:ehcache-parent</code>).</p>\n<h3>References</h3>\n<ul>\n<li>The Maven Guide</li>\n<li><a href=\"https://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html#pom-relationships-sect-grouping-deps\" rel=\"nofollow noreferrer\">3.6.1. Grouping Dependencies</a></li>\n</ul>\n"}],"owner":{"account_id":235744,"reputation":83,"user_id":502763,"display_name":"rainInSpain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1563,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4141483,"answer_count":1,"score":4,"last_activity_date":1698295429,"creation_date":1289364978,"question_id":4141363,"body_markdown":"I have a maven-java project (say Project A) with a parent defining modules in its pom.\r\nI also have an external project (say Project B) that requires dependencies of two of the modules from Project A. For now, i have defined the dependency to pull each module individually.\r\nWhen i replace these two with a dependency on the parent pom, it errors out on build. Is there some modification i need to make to my parent pom of Project A to make this work?\r\n\r\nCan this be done in the first place?","title":"Pull dependencies of modules by referencing parent in maven java project?","body":"<p>I have a maven-java project (say Project A) with a parent defining modules in its pom.\nI also have an external project (say Project B) that requires dependencies of two of the modules from Project A. For now, i have defined the dependency to pull each module individually.\nWhen i replace these two with a dependency on the parent pom, it errors out on build. Is there some modification i need to make to my parent pom of Project A to make this work?</p>\n\n<p>Can this be done in the first place?</p>\n"},{"tags":["java","spring-boot","micrometer","spring-framework-beans"],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698238534,"creation_date":1698238534,"answer_id":77359670,"question_id":77358743,"body_markdown":"Spring Boot version 2.17.6 by default should be using micrometer version 1.9.15 [SpringBoot 2.7.16 dependencies][1].  With the micrometer transition from 1.7 to 1.8 the package for DiskSpaceMetrics changed.  Most likely you have a library within your project that is pulling in an earlier version of micrometer.\r\n\r\nAdd an explicit dependency to micrometer-core and see if this resoolves your issue.\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n        &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso make sure you do not have a spring-boot-actuator version explicitly set to something earlier than version 2.7.16.  You may also want to investigate your dependency tree where you can exam possibly the source of an earlier version of micrometer being pulled in.\r\n\r\n    mvn dependency:tree\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.16/reference/html/dependency-versions.html","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource","body":"<p>Spring Boot version 2.17.6 by default should be using micrometer version 1.9.15 <a href=\"https://docs.spring.io/spring-boot/docs/2.7.16/reference/html/dependency-versions.html\" rel=\"nofollow noreferrer\">SpringBoot 2.7.16 dependencies</a>.  With the micrometer transition from 1.7 to 1.8 the package for DiskSpaceMetrics changed.  Most likely you have a library within your project that is pulling in an earlier version of micrometer.</p>\n<p>Add an explicit dependency to micrometer-core and see if this resoolves your issue.</p>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n    &lt;version&gt;1.9.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also make sure you do not have a spring-boot-actuator version explicitly set to something earlier than version 2.7.16.  You may also want to investigate your dependency tree where you can exam possibly the source of an earlier version of micrometer being pulled in.</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77359670,"answer_count":1,"score":0,"last_activity_date":1698293139,"creation_date":1698230256,"question_id":77358743,"body_markdown":"I am updating spring-boot-dependency version from 2.3.0 to 2.7.16 but when i try to run the application i was facing below error:&lt;br/&gt;\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error\r\n    creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource\r\n    [org/springframework/boot/actuate/autoconfigure/metrics/export/\r\n    simple/SimpleMetricsExportAutoConfiguration.class]: \r\n    Initialization of bean failed; nested exception is \r\n    java.lang.NoClassDefFoundError: \r\n    io/micrometer/core/instrument/binder/system/DiskSpaceMetrics\r\n\r\n\r\nI have versions&lt;br/&gt;\r\nspring-boot-dependecies version: 2.7.16&lt;br/&gt;\r\nmicrometer version: 1.5.1&lt;br/&gt;\r\nspring-cloud-dependencies version: 2021.0.0","title":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;simpleMeterRegistry&#39; defined in class path resource","body":"<p>I am updating spring-boot-dependency version from 2.3.0 to 2.7.16 but when i try to run the application i was facing below error:<br/></p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error\ncreating bean with name 'simpleMeterRegistry' defined in class path resource\n[org/springframework/boot/actuate/autoconfigure/metrics/export/\nsimple/SimpleMetricsExportAutoConfiguration.class]: \nInitialization of bean failed; nested exception is \njava.lang.NoClassDefFoundError: \nio/micrometer/core/instrument/binder/system/DiskSpaceMetrics\n</code></pre>\n<p>I have versions<br/>\nspring-boot-dependecies version: 2.7.16<br/>\nmicrometer version: 1.5.1<br/>\nspring-cloud-dependencies version: 2021.0.0</p>\n"},{"tags":["java","spring","spring-webflux"],"owner":{"account_id":28992298,"reputation":11,"user_id":22207731,"display_name":"Cal Reyes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698292541,"creation_date":1689059652,"question_id":76659482,"body_markdown":"I am trying to use MockMvc to perform tests on my code that uses Spring Reactive WebClient. But it throws an error when the request is synchronous `.block()`\r\n\r\nI have the following in my pom.xml\r\n       \r\n```\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;version&gt;4.9.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n        &lt;version&gt;4.9.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nAnd the following Test to demonstrate the error\r\n\r\n```\r\n    private MockWebServer mockWebServer;\r\n\r\n    @Test\r\n    public void someTestHere() throws InterruptedException {\r\n\r\n        this.webClient = WebClient.create(mockWebServer.url(&quot;/&quot;).toString());\r\n        this.webClient.get().uri(&quot;hello&quot;).retrieve().toBodilessEntity().block();\r\n```\r\n\r\nThe last line throws an error with the following Stack Trace\r\n\r\n```\r\njava.lang.NoSuchFieldError: NETWORK_INTERFACES\r\n at io.netty.resolver.dns.DnsNameResolver.anyInterfaceSupportsIpV6(DnsNameResolver.java:170)\r\n at io.netty.resolver.dns.DnsNameResolver.(DnsNameResolver.java:122)\r\n at io.netty.resolver.dns.DnsNameResolverBuilder.(DnsNameResolverBuilder.java:52)\r\n at reactor.netty.transport.NameResolverProvider.newNameResolverGroup(NameResolverProvider.java:501)\r\n at reactor.netty.tcp.TcpResources.getOrCreateDefaultResolver(TcpResources.java:315)\r\n at reactor.netty.http.HttpResources.getOrCreateDefaultResolver(HttpResources.java:162)\r\n at reactor.netty.http.client.HttpClientConfig.defaultAddressResolverGroup(HttpClientConfig.java:392)\r\n at reactor.netty.transport.ClientTransportConfig.resolverInternal(ClientTransportConfig.java:224)\r\n at reactor.netty.http.client.HttpClientConfig.resolverInternal(HttpClientConfig.java:446)\r\n at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.lambda$subscribe$0(HttpClientConnect.java:269)\r\n at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58)\r\n at reactor.core.publisher.FluxRetryWhen.subscribe(FluxRetryWhen.java:77)\r\n at reactor.core.publisher.MonoRetryWhen.subscribeOrReturn(MonoRetryWhen.java:46)\r\n at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\r\n at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:276)\r\n at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\r\n at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\r\n at reactor.core.publisher.Mono.block(Mono.java:1741)\r\n at org.xxx.xxx.xxx.service.xxx.someTestHere(XXXXTest.java:49)\r\n```\r\n\r\n","title":"Spring Reactive WebClient thows java.lang.NoSuchFieldError: NETWORK_INTERFACES on MockMvc","body":"<p>I am trying to use MockMvc to perform tests on my code that uses Spring Reactive WebClient. But it throws an error when the request is synchronous <code>.block()</code></p>\n<p>I have the following in my pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;version&gt;2.7.9&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;4.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n        &lt;version&gt;4.9.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And the following Test to demonstrate the error</p>\n<pre><code>    private MockWebServer mockWebServer;\n\n    @Test\n    public void someTestHere() throws InterruptedException {\n\n        this.webClient = WebClient.create(mockWebServer.url(&quot;/&quot;).toString());\n        this.webClient.get().uri(&quot;hello&quot;).retrieve().toBodilessEntity().block();\n</code></pre>\n<p>The last line throws an error with the following Stack Trace</p>\n<pre><code>java.lang.NoSuchFieldError: NETWORK_INTERFACES\n at io.netty.resolver.dns.DnsNameResolver.anyInterfaceSupportsIpV6(DnsNameResolver.java:170)\n at io.netty.resolver.dns.DnsNameResolver.(DnsNameResolver.java:122)\n at io.netty.resolver.dns.DnsNameResolverBuilder.(DnsNameResolverBuilder.java:52)\n at reactor.netty.transport.NameResolverProvider.newNameResolverGroup(NameResolverProvider.java:501)\n at reactor.netty.tcp.TcpResources.getOrCreateDefaultResolver(TcpResources.java:315)\n at reactor.netty.http.HttpResources.getOrCreateDefaultResolver(HttpResources.java:162)\n at reactor.netty.http.client.HttpClientConfig.defaultAddressResolverGroup(HttpClientConfig.java:392)\n at reactor.netty.transport.ClientTransportConfig.resolverInternal(ClientTransportConfig.java:224)\n at reactor.netty.http.client.HttpClientConfig.resolverInternal(HttpClientConfig.java:446)\n at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.lambda$subscribe$0(HttpClientConnect.java:269)\n at reactor.core.publisher.MonoCreate.subscribe(MonoCreate.java:58)\n at reactor.core.publisher.FluxRetryWhen.subscribe(FluxRetryWhen.java:77)\n at reactor.core.publisher.MonoRetryWhen.subscribeOrReturn(MonoRetryWhen.java:46)\n at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:57)\n at reactor.netty.http.client.HttpClientConnect$MonoHttpConnect.subscribe(HttpClientConnect.java:276)\n at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)\n at reactor.core.publisher.Mono.subscribe(Mono.java:4490)\n at reactor.core.publisher.Mono.block(Mono.java:1741)\n at org.xxx.xxx.xxx.service.xxx.someTestHere(XXXXTest.java:49)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1698295506,"post_id":77364014,"comment_id":136387654,"body_markdown":"I wrote an answer about few weeks ago, you can check it [here](https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442)","body":"I wrote an answer about few weeks ago, you can check it <a href=\"https://stackoverflow.com/questions/76852537/endpoint-spring-security-configuration-returning-the-method-cannot-decide-whet/76865442#76865442\">here</a>"}],"owner":{"account_id":29755899,"reputation":1,"user_id":22804601,"display_name":"Lucas Davi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698318508,"answer_count":0,"score":0,"last_activity_date":1698292203,"creation_date":1698292203,"question_id":77364014,"body_markdown":"I am facing a problem when trying to use the H2 console in my application. Every time I try to run the application, a specific error appears, and I am looking for assistance in understanding and resolving this issue. The error I am facing is the following. Can you help me understand why this error is occurring and how I can resolve it? I am open to any guidance or suggestions to resolve this issue. Thank you in advance for your help.\r\n\r\n```\r\n2023-10-26T00:42:58.601-03:00  WARN 7320 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/liferay/CommunityApp/configs/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\r\n```\r\n\r\nand this is my SecurityConfiguration class code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Autowired\r\n    SecurityFilter securityFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(HttpMethod.POST, &quot;/auth/register&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST, &quot;/auth/login&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST, &quot;/new-post&quot;).hasRole(&quot;USER&quot;)\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .addFilterBefore(securityFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```","title":"Sprint Security and H2-Console: This method cannot decide whether these patterns are Spring MVC patterns or not","body":"<p>I am facing a problem when trying to use the H2 console in my application. Every time I try to run the application, a specific error appears, and I am looking for assistance in understanding and resolving this issue. The error I am facing is the following. Can you help me understand why this error is occurring and how I can resolve it? I am open to any guidance or suggestions to resolve this issue. Thank you in advance for your help.</p>\n<pre><code>2023-10-26T00:42:58.601-03:00  WARN 7320 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/liferay/CommunityApp/configs/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: This method cannot decide whether these patterns are Spring MVC patterns or not. If this endpoint is a Spring MVC endpoint, please use requestMatchers(MvcRequestMatcher); otherwise, please use requestMatchers(AntPathRequestMatcher).\n</code></pre>\n<p>and this is my SecurityConfiguration class code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Autowired\n    SecurityFilter securityFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(HttpMethod.POST, &quot;/auth/register&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST, &quot;/auth/login&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST, &quot;/new-post&quot;).hasRole(&quot;USER&quot;)\n                        .anyRequest().authenticated()\n                )\n                .addFilterBefore(securityFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","cordova","filenotfoundexception"],"answers":[{"comments":[{"owner":{"account_id":398410,"reputation":36002,"user_id":763080,"accept_rate":74,"display_name":"Phil"},"score":0,"creation_date":1324410591,"post_id":6187097,"comment_id":10641527,"body_markdown":"Finally, an answer to all of my problems. This is really poorly documented! +1","body":"Finally, an answer to all of my problems. This is really poorly documented! +1"},{"owner":{"account_id":1015629,"reputation":3111,"user_id":1027242,"accept_rate":46,"display_name":"GreenBee"},"score":0,"creation_date":1368640855,"post_id":6187097,"comment_id":23812070,"body_markdown":"The binary asset file I have is around 1.1MB. I renamed it to jpg/png etc so that the compression does not kick in. But when copied to the sdcard, it swells up to ~8MB. So somehow, AssetManager still thinks that it needs to be uncompressed. Does anyone know whats going on here?","body":"The binary asset file I have is around 1.1MB. I renamed it to jpg/png etc so that the compression does not kick in. But when copied to the sdcard, it swells up to ~8MB. So somehow, AssetManager still thinks that it needs to be uncompressed. Does anyone know whats going on here?"},{"owner":{"account_id":1015629,"reputation":3111,"user_id":1027242,"accept_rate":46,"display_name":"GreenBee"},"score":2,"creation_date":1368641667,"post_id":6187097,"comment_id":23812519,"body_markdown":"After wasting a few hours, I finally managed to read the files off of raw instead of assets and they are not &#39;uncompressed&#39; any more.","body":"After wasting a few hours, I finally managed to read the files off of raw instead of assets and they are not &#39;uncompressed&#39; any more."},{"owner":{"account_id":91472,"reputation":2329,"user_id":251120,"accept_rate":67,"display_name":"kenyee"},"score":1,"creation_date":1417791536,"post_id":6187097,"comment_id":43096691,"body_markdown":"It&#39;d be nice if there were a list of the extensions that aren&#39;t compressed :-P","body":"It&#39;d be nice if there were a list of the extensions that aren&#39;t compressed :-P"},{"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"score":0,"creation_date":1541790382,"post_id":6187097,"comment_id":93350646,"body_markdown":"@GreenBee would you mind pointing out how to copy a file from the raw directory? I&#39;ve tried adding the noCompress option, for a concrete extension, and copying the file (bigger than 1MB) but nothing is working. I get the size of the APK in the copied file. Strange :S","body":"@GreenBee would you mind pointing out how to copy a file from the raw directory? I&#39;ve tried adding the noCompress option, for a concrete extension, and copying the file (bigger than 1MB) but nothing is working. I get the size of the APK in the copied file. Strange :S"}],"tags":[],"owner":{"account_id":1691,"reputation":6572,"user_id":2281,"accept_rate":100,"display_name":"Nic Strong"},"comment_count":5,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1402714496,"creation_date":1306842535,"answer_id":6187097,"question_id":6186866,"body_markdown":"There is a limitations on opening compressed files in the assets folder. This is because uncompressed files can be directly memory mapped into the processes virtual address space, therefore avoiding needing the same amount of memory again for decompression. \r\n\r\n[Dealing with Asset Compression in Android Apps][1] discusses some techniques in dealing with compressed files. You can trick `aapt` into not compressing the file by using an extension that is not compressed (e.g. `mp3`) or you can manually add them to the `apk` without compression instead of getting `aapt` to do the work.\r\n\r\n\r\n  [1]: http://ponystyle.com/blog/2010/03/26/dealing-with-asset-compression-in-android-apps/","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>There is a limitations on opening compressed files in the assets folder. This is because uncompressed files can be directly memory mapped into the processes virtual address space, therefore avoiding needing the same amount of memory again for decompression. </p>\n\n<p><a href=\"http://ponystyle.com/blog/2010/03/26/dealing-with-asset-compression-in-android-apps/\" rel=\"noreferrer\">Dealing with Asset Compression in Android Apps</a> discusses some techniques in dealing with compressed files. You can trick <code>aapt</code> into not compressing the file by using an extension that is not compressed (e.g. <code>mp3</code>) or you can manually add them to the <code>apk</code> without compression instead of getting <code>aapt</code> to do the work.</p>\n"},{"tags":[],"owner":{"account_id":289775,"reputation":3118,"user_id":590947,"accept_rate":67,"display_name":"cybergen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374499783,"creation_date":1374499355,"answer_id":17788751,"question_id":6186866,"body_markdown":"You should get this exception only if trying to open the `FileDesriptor`. For just reading the file you can go the way through the `InputStream` (`AssetManager.open(&quot;filename.ext&quot;)`). This worked for me.\r\n\r\nIf you need the file size in advance, you need the `FileDescriptor` (and therefore an uncompressed file) to call its `getLength()` method, otherwise you have to read the whole stream to determine its size.","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>You should get this exception only if trying to open the <code>FileDesriptor</code>. For just reading the file you can go the way through the <code>InputStream</code> (<code>AssetManager.open(\"filename.ext\")</code>). This worked for me.</p>\n\n<p>If you need the file size in advance, you need the <code>FileDescriptor</code> (and therefore an uncompressed file) to call its <code>getLength()</code> method, otherwise you have to read the whole stream to determine its size.</p>\n"},{"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1403151574,"creation_date":1403151574,"answer_id":24298709,"question_id":6186866,"body_markdown":"This decidedly irritating situation comes about because when the `.apk` is built, some assets are compressed before storing them, whereas other are treated as already compressed (e.g. images, video) and are left alone. The latter group can be opened using `openAssetFd`, the former group can&#39;t - if you try, you get the &quot;This file can not be opened as a file descriptor; it is probably compressed&quot; error.\r\n\r\nOne option is to trick the build system into not compressing the assets (see the link in @nicstrong&#39;s answer), but this is fiddly. Better to try and work around the problem in a more predictable fashion.\r\n\r\nThe solution I cam up with uses the fact that while you can&#39;t open an `AssetFileDescriptor` for the asset, you can still open an `InputStream`. You can use this to copy the asset into the application&#39;s file cache, and then return a descriptor for that:\r\n\r\n    @Override\r\n    public AssetFileDescriptor openAssetFile(final Uri uri, final String mode) throws FileNotFoundException\r\n    {\r\n        final String assetPath = uri.getLastPathSegment();  // or whatever\r\n\r\n        try\r\n        {\r\n            final boolean canBeReadDirectlyFromAssets = ... // if your asset going to be compressed?\r\n            if (canBeReadDirectlyFromAssets)\r\n            {\r\n                return getContext().getAssets().openFd(assetPath);\r\n            }\r\n            else\r\n            {\r\n                final File cacheFile = new File(getContext().getCacheDir(), assetPath);\r\n                cacheFile.getParentFile().mkdirs();\r\n                copyToCacheFile(assetPath, cacheFile);\r\n                return new AssetFileDescriptor(ParcelFileDescriptor.open(cacheFile, MODE_READ_ONLY), 0, -1);\r\n            }\r\n        }\r\n        catch (FileNotFoundException ex)\r\n        {\r\n            throw ex;\r\n        }\r\n        catch (IOException ex)\r\n        {\r\n            throw new FileNotFoundException(ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private void copyToCacheFile(final String assetPath, final File cacheFile) throws IOException\r\n    {\r\n        final InputStream inputStream = getContext().getAssets().open(assetPath, ACCESS_BUFFER);\r\n        try\r\n        {\r\n            final FileOutputStream fileOutputStream = new FileOutputStream(cacheFile, false);\r\n            try\r\n            {\r\n                //using Guava IO lib to copy the streams, but could also do it manually\r\n                ByteStreams.copy(inputStream, fileOutputStream); \r\n            }\r\n            finally\r\n            {\r\n                fileOutputStream.close();\r\n            }\r\n        }\r\n        finally\r\n        {\r\n            inputStream.close();\r\n        }\r\n    }\r\n\r\nThis does mean that your app will leave cache files lying about, but that&#39;s fine. It also doesn&#39;t attempt to re-use existing cache files, which you may or may not care about.","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>This decidedly irritating situation comes about because when the <code>.apk</code> is built, some assets are compressed before storing them, whereas other are treated as already compressed (e.g. images, video) and are left alone. The latter group can be opened using <code>openAssetFd</code>, the former group can't - if you try, you get the \"This file can not be opened as a file descriptor; it is probably compressed\" error.</p>\n\n<p>One option is to trick the build system into not compressing the assets (see the link in @nicstrong's answer), but this is fiddly. Better to try and work around the problem in a more predictable fashion.</p>\n\n<p>The solution I cam up with uses the fact that while you can't open an <code>AssetFileDescriptor</code> for the asset, you can still open an <code>InputStream</code>. You can use this to copy the asset into the application's file cache, and then return a descriptor for that:</p>\n\n<pre><code>@Override\npublic AssetFileDescriptor openAssetFile(final Uri uri, final String mode) throws FileNotFoundException\n{\n    final String assetPath = uri.getLastPathSegment();  // or whatever\n\n    try\n    {\n        final boolean canBeReadDirectlyFromAssets = ... // if your asset going to be compressed?\n        if (canBeReadDirectlyFromAssets)\n        {\n            return getContext().getAssets().openFd(assetPath);\n        }\n        else\n        {\n            final File cacheFile = new File(getContext().getCacheDir(), assetPath);\n            cacheFile.getParentFile().mkdirs();\n            copyToCacheFile(assetPath, cacheFile);\n            return new AssetFileDescriptor(ParcelFileDescriptor.open(cacheFile, MODE_READ_ONLY), 0, -1);\n        }\n    }\n    catch (FileNotFoundException ex)\n    {\n        throw ex;\n    }\n    catch (IOException ex)\n    {\n        throw new FileNotFoundException(ex.getMessage());\n    }\n}\n\nprivate void copyToCacheFile(final String assetPath, final File cacheFile) throws IOException\n{\n    final InputStream inputStream = getContext().getAssets().open(assetPath, ACCESS_BUFFER);\n    try\n    {\n        final FileOutputStream fileOutputStream = new FileOutputStream(cacheFile, false);\n        try\n        {\n            //using Guava IO lib to copy the streams, but could also do it manually\n            ByteStreams.copy(inputStream, fileOutputStream); \n        }\n        finally\n        {\n            fileOutputStream.close();\n        }\n    }\n    finally\n    {\n        inputStream.close();\n    }\n}\n</code></pre>\n\n<p>This does mean that your app will leave cache files lying about, but that's fine. It also doesn't attempt to re-use existing cache files, which you may or may not care about.</p>\n"},{"tags":[],"owner":{"account_id":3484042,"reputation":1723,"user_id":2915397,"accept_rate":46,"display_name":"Alfaplus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437732499,"creation_date":1436948416,"answer_id":31425092,"question_id":6186866,"body_markdown":"I have done a walk around, I use:\r\n\r\n    ParcelFileDescriptor mFileDescriptor = context.getAssets().openFd(file).getParcelFileDescriptor();\r\n\r\n\r\nBut that return: java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed.\r\n\r\nInstead of this implementation I open the file directly using functions form ParcelFileDescriptor.\r\n\r\n    private void openRenderer(Context context,String fileName) throws IOException {  \r\n    \r\n    File file=  FileUtils.fileFromAsset(context, fileName);\r\n            ParcelFileDescriptor parcelFileDescriptor = ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_WRITE); \r\n            \r\n            mPdfRenderer = new PdfRenderer(parcelFileDescriptor);\r\n        }`\r\n    \r\n        public class FileUtils {\r\n        private FileUtils() {\r\n        }\r\n    \r\n        public static File fileFromAsset(Context context, String assetName) throws IOException {\r\n            File outFile = new File(context.getCacheDir(), assetName );\r\n            copy(context.getAssets().open(assetName), outFile);\r\n    \r\n            return outFile;\r\n        }\r\n    \r\n        public static void copy(InputStream inputStream, File output) throws IOException {\r\n            FileOutputStream outputStream = null;\r\n    \r\n            try {\r\n                outputStream = new FileOutputStream(output);\r\n                boolean read = false;\r\n                byte[] bytes = new byte[1024];\r\n    \r\n                int read1;\r\n                while((read1 = inputStream.read(bytes)) != -1) {\r\n                    outputStream.write(bytes, 0, read1);\r\n                }\r\n            } finally {\r\n                try {\r\n                    if(inputStream != null) {\r\n                        inputStream.close();\r\n                    }\r\n                } finally {\r\n                    if(outputStream != null) {\r\n                        outputStream.close();\r\n                    }\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n        }\r\n    }","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>I have done a walk around, I use:</p>\n\n<pre><code>ParcelFileDescriptor mFileDescriptor = context.getAssets().openFd(file).getParcelFileDescriptor();\n</code></pre>\n\n<p>But that return: java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed.</p>\n\n<p>Instead of this implementation I open the file directly using functions form ParcelFileDescriptor.</p>\n\n<pre><code>private void openRenderer(Context context,String fileName) throws IOException {  \n\nFile file=  FileUtils.fileFromAsset(context, fileName);\n        ParcelFileDescriptor parcelFileDescriptor = ParcelFileDescriptor.open(file,ParcelFileDescriptor.MODE_READ_WRITE); \n\n        mPdfRenderer = new PdfRenderer(parcelFileDescriptor);\n    }`\n\n    public class FileUtils {\n    private FileUtils() {\n    }\n\n    public static File fileFromAsset(Context context, String assetName) throws IOException {\n        File outFile = new File(context.getCacheDir(), assetName );\n        copy(context.getAssets().open(assetName), outFile);\n\n        return outFile;\n    }\n\n    public static void copy(InputStream inputStream, File output) throws IOException {\n        FileOutputStream outputStream = null;\n\n        try {\n            outputStream = new FileOutputStream(output);\n            boolean read = false;\n            byte[] bytes = new byte[1024];\n\n            int read1;\n            while((read1 = inputStream.read(bytes)) != -1) {\n                outputStream.write(bytes, 0, read1);\n            }\n        } finally {\n            try {\n                if(inputStream != null) {\n                    inputStream.close();\n                }\n            } finally {\n                if(outputStream != null) {\n                    outputStream.close();\n                }\n\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":1,"creation_date":1480439438,"post_id":33359656,"comment_id":68958982,"body_markdown":"in my case there was a zip already in assets folder.\nSo it compressed the file once again while compilation.\nI have  put &quot;zip&quot; instead of &quot;pdf&quot; and the error gone.","body":"in my case there was a zip already in assets folder. So it compressed the file once again while compilation. I have  put &quot;zip&quot; instead of &quot;pdf&quot; and the error gone."},{"owner":{"account_id":1391499,"reputation":1509,"user_id":1322229,"display_name":"Shumoapp"},"score":1,"creation_date":1481243796,"post_id":33359656,"comment_id":69310019,"body_markdown":"You can verify which entries are compressed with this command:\n\n`unzip -lv MyApplication.apk`\n\n&#39;Stored&#39; in the &#39;Method&#39; column means the file is not compressed.","body":"You can verify which entries are compressed with this command:  <code>unzip -lv MyApplication.apk</code>  &#39;Stored&#39; in the &#39;Method&#39; column means the file is not compressed."},{"owner":{"account_id":3730383,"reputation":165,"user_id":3102981,"accept_rate":50,"display_name":"VPetrovic"},"score":0,"creation_date":1540938898,"post_id":33359656,"comment_id":93045950,"body_markdown":"You saved me from banging my head against the wall :D Thank you very much!","body":"You saved me from banging my head against the wall :D Thank you very much!"},{"owner":{"account_id":3122089,"reputation":1689,"user_id":2641657,"display_name":"Jamal S"},"score":0,"creation_date":1561746350,"post_id":33359656,"comment_id":100177586,"body_markdown":"Worked for me, i had an .xml file. Once i added it to noCompress all worked fine, thank you","body":"Worked for me, i had an .xml file. Once i added it to noCompress all worked fine, thank you"},{"owner":{"account_id":1979418,"reputation":241,"user_id":1776387,"display_name":"phkoester"},"score":0,"creation_date":1586447728,"post_id":33359656,"comment_id":108137403,"body_markdown":"Thanks a lot, man, this has been bugging me for weeks. For some reason I could not play ogg files anymore. I didn&#39;t touch my code or my phone, I only updated Android Studio. Glad to have found this answer, thanks again.","body":"Thanks a lot, man, this has been bugging me for weeks. For some reason I could not play ogg files anymore. I didn&#39;t touch my code or my phone, I only updated Android Studio. Glad to have found this answer, thanks again."}],"tags":[],"owner":{"account_id":281006,"reputation":4173,"user_id":577062,"display_name":"anon"},"comment_count":5,"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1445917808,"creation_date":1445917808,"answer_id":33359656,"question_id":6186866,"body_markdown":"You can disable asset compression for certain extensions like so:\r\n\r\n    android {\r\n        aaptOptions {\r\n            noCompress &quot;pdf&quot;\r\n        }\r\n    }\r\n\r\n[Source](https://github.com/googlesamples/android-PdfRendererBasic)","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>You can disable asset compression for certain extensions like so:</p>\n\n<pre><code>android {\n    aaptOptions {\n        noCompress \"pdf\"\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/googlesamples/android-PdfRendererBasic\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":13317651,"reputation":2168,"user_id":9613462,"display_name":"wgm"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1541867075,"creation_date":1536132558,"answer_id":52179459,"question_id":6186866,"body_markdown":"This exception can be thrown by calling:\r\n\r\n    final AssetFileDescriptor afd = activity.getAssets().openFd(path);\r\n\r\nI fixed the problem by saving the file in `res/raw` directory instead of assets folder, then get the `AssetFileDescriptor` this way:\r\n\r\n    final AssetFileDescriptor afd = activity.getResources().openRawResourceFd(rawId);\r\n\r\nThen the `FileNotFoundException` is gone, and the file is not compressed anymore.","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>This exception can be thrown by calling:</p>\n\n<pre><code>final AssetFileDescriptor afd = activity.getAssets().openFd(path);\n</code></pre>\n\n<p>I fixed the problem by saving the file in <code>res/raw</code> directory instead of assets folder, then get the <code>AssetFileDescriptor</code> this way:</p>\n\n<pre><code>final AssetFileDescriptor afd = activity.getResources().openRawResourceFd(rawId);\n</code></pre>\n\n<p>Then the <code>FileNotFoundException</code> is gone, and the file is not compressed anymore.</p>\n"},{"tags":[],"owner":{"account_id":1855619,"reputation":2305,"user_id":1681267,"display_name":"Frederick Nyawaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1619510241,"creation_date":1540553714,"answer_id":53007871,"question_id":6186866,"body_markdown":"You should disable compression for that file. Simply add:\r\n\r\n        aaptOptions {\r\n           noCompress &quot;your-file-name&quot;\r\n        }\r\n\r\nTo your app level `build.gradle` file inside `android { }`","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>You should disable compression for that file. Simply add:</p>\n<pre><code>    aaptOptions {\n       noCompress &quot;your-file-name&quot;\n    }\n</code></pre>\n<p>To your app level <code>build.gradle</code> file inside <code>android { }</code></p>\n"},{"tags":[],"owner":{"account_id":309455,"reputation":2562,"user_id":973919,"accept_rate":75,"display_name":"xarlymg89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541853131,"creation_date":1541853131,"answer_id":53238979,"question_id":6186866,"body_markdown":"If the file to be obtained from the assets folder is bigger than 1MB, then what has worked for me is to compress the file as a zip file, then unzip it before using it, and store it in the external storage uncompressed.\r\n\r\n    InputStream fileInputStream = getAssets().open(&quot;your_file.your_file_extension.zip&quot;);\r\n    unzipInputStream(fileInputStream, &quot;your_folder_in_external_storage&quot;);\r\n\r\nThe `unzipInputStream` method I&#39;ve used is this one:\r\n\r\n    public static void unzipInputStream(InputStream inputStream, String location)\r\n    {\r\n        try {\r\n            if ( !location.endsWith(File.separator) ) {\r\n                location += File.separator;\r\n            }\r\n            File f = new File(location);\r\n            if(!f.isDirectory()) {\r\n                f.mkdirs();\r\n            }\r\n            ZipInputStream zin = new ZipInputStream(new BufferedInputStream(inputStream, BUFFER_SIZE));\r\n            try {\r\n                ZipEntry ze;\r\n                while ((ze = zin.getNextEntry()) != null) {\r\n                    String path = location + ze.getName();\r\n                    File unzipFile = new File(path);\r\n\r\n                    if (ze.isDirectory()) {\r\n                        if(!unzipFile.isDirectory()) {\r\n                            unzipFile.mkdirs();\r\n                        }\r\n                    } else {\r\n                        createParentDirectoriesIfMissing(unzipFile);\r\n                        unzipFile(zin, unzipFile);\r\n                    }\r\n                }\r\n            } finally {\r\n                zin.close();\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;&quot;, &quot;Unzip exception&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static void createParentDirectoriesIfMissing(File unzipFile)\r\n    {\r\n        File parentDir = unzipFile.getParentFile();\r\n        if ( null != parentDir ) {\r\n            if ( !parentDir.isDirectory() ) {\r\n                parentDir.mkdirs();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void unzipFile(ZipInputStream zin, File unzipFile) throws IOException\r\n    {\r\n        int size;\r\n        byte[] buffer = new byte[BUFFER_SIZE];\r\n        FileOutputStream out = new FileOutputStream(unzipFile, false);\r\n        BufferedOutputStream fout = new BufferedOutputStream(out, BUFFER_SIZE);\r\n\r\n        try {\r\n            while ( (size = zin.read(buffer, 0, BUFFER_SIZE)) != -1 ) {\r\n                fout.write(buffer, 0, size);\r\n            }\r\n\r\n            zin.closeEntry();\r\n        } finally {\r\n            fout.flush();\r\n            fout.close();\r\n        }\r\n    }","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>If the file to be obtained from the assets folder is bigger than 1MB, then what has worked for me is to compress the file as a zip file, then unzip it before using it, and store it in the external storage uncompressed.</p>\n\n<pre><code>InputStream fileInputStream = getAssets().open(\"your_file.your_file_extension.zip\");\nunzipInputStream(fileInputStream, \"your_folder_in_external_storage\");\n</code></pre>\n\n<p>The <code>unzipInputStream</code> method I've used is this one:</p>\n\n<pre><code>public static void unzipInputStream(InputStream inputStream, String location)\n{\n    try {\n        if ( !location.endsWith(File.separator) ) {\n            location += File.separator;\n        }\n        File f = new File(location);\n        if(!f.isDirectory()) {\n            f.mkdirs();\n        }\n        ZipInputStream zin = new ZipInputStream(new BufferedInputStream(inputStream, BUFFER_SIZE));\n        try {\n            ZipEntry ze;\n            while ((ze = zin.getNextEntry()) != null) {\n                String path = location + ze.getName();\n                File unzipFile = new File(path);\n\n                if (ze.isDirectory()) {\n                    if(!unzipFile.isDirectory()) {\n                        unzipFile.mkdirs();\n                    }\n                } else {\n                    createParentDirectoriesIfMissing(unzipFile);\n                    unzipFile(zin, unzipFile);\n                }\n            }\n        } finally {\n            zin.close();\n        }\n    } catch (Exception e) {\n        Log.e(\"\", \"Unzip exception\", e);\n    }\n}\n\nprivate static void createParentDirectoriesIfMissing(File unzipFile)\n{\n    File parentDir = unzipFile.getParentFile();\n    if ( null != parentDir ) {\n        if ( !parentDir.isDirectory() ) {\n            parentDir.mkdirs();\n        }\n    }\n}\n\nprivate static void unzipFile(ZipInputStream zin, File unzipFile) throws IOException\n{\n    int size;\n    byte[] buffer = new byte[BUFFER_SIZE];\n    FileOutputStream out = new FileOutputStream(unzipFile, false);\n    BufferedOutputStream fout = new BufferedOutputStream(out, BUFFER_SIZE);\n\n    try {\n        while ( (size = zin.read(buffer, 0, BUFFER_SIZE)) != -1 ) {\n            fout.write(buffer, 0, size);\n        }\n\n        zin.closeEntry();\n    } finally {\n        fout.flush();\n        fout.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1622277,"reputation":6199,"user_id":1498586,"accept_rate":66,"display_name":"Mahdi"},"score":1,"creation_date":1567153820,"post_id":57249432,"comment_id":101886997,"body_markdown":"It is Ok on sample project. But when i compile aar, this error happens in aar mode in new project.","body":"It is Ok on sample project. But when i compile aar, this error happens in aar mode in new project."}],"tags":[],"owner":{"account_id":8161752,"reputation":5609,"user_id":6145568,"display_name":"devDeejay"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1587155590,"creation_date":1564387058,"answer_id":57249432,"question_id":6186866,"body_markdown":"People working with Tensorflow Lite file running into this issue,\r\n\r\nAdd the following lines to your Gradle file (`android/app/build.gradle`) inside the `android{}` block.\r\n\r\n\r\n    aaptOptions {\r\n        noCompress &quot;tflite&quot;\r\n    }\r\n\r\n","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>People working with Tensorflow Lite file running into this issue,</p>\n\n<p>Add the following lines to your Gradle file (<code>android/app/build.gradle</code>) inside the <code>android{}</code> block.</p>\n\n<pre><code>aaptOptions {\n    noCompress \"tflite\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100146,"reputation":869,"user_id":4090002,"display_name":"Marcell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573573545,"creation_date":1573573545,"answer_id":58822066,"question_id":6186866,"body_markdown":"I just ran into the same problem, because the *gnome-sound-recorder* creates OGG files, which I can&#39;t play using the MediaPlayer. So I converted them to MP3 with *ffmpeg* and it worked. So I guess this is the easiest way.\r\n\r\n    ffmpeg -i youroggfile yournewfile.mp3\r\nWhat I also noticed is that it does still show up with a question mark in the resources and that when I access it with **R.raw.yournewfile** I do not write the &quot;.mp3&quot; extension in the code.","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>I just ran into the same problem, because the <em>gnome-sound-recorder</em> creates OGG files, which I can't play using the MediaPlayer. So I converted them to MP3 with <em>ffmpeg</em> and it worked. So I guess this is the easiest way.</p>\n\n<pre><code>ffmpeg -i youroggfile yournewfile.mp3\n</code></pre>\n\n<p>What I also noticed is that it does still show up with a question mark in the resources and that when I access it with <strong>R.raw.yournewfile</strong> I do not write the \".mp3\" extension in the code.</p>\n"},{"tags":[],"owner":{"account_id":1472282,"reputation":187,"user_id":1383521,"display_name":"Seven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599049028,"creation_date":1599049028,"answer_id":63705353,"question_id":6186866,"body_markdown":"I got the same issue, and I copy the file from res/raw to /data/data/your.app.pkg/cache folder, then everything go well :D\r\n\r\n    AssetFileDescriptor afd = null;\r\n    try {\r\n        File cache = new File(getCacheDir(), &quot;my_data.dat&quot;);\r\n        if (!cache.exists()) {\r\n            copyInputStreamToFile(getResources().openRawResource(R.raw.my_data), cache);\r\n        }\r\n        afd = new AssetFileDescriptor(ParcelFileDescriptor.open(cache, ParcelFileDescriptor.MODE_READ_ONLY), 0, AssetFileDescriptor.UNKNOWN_LENGTH);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n    private void copyInputStreamToFile(InputStream in, File file) {\r\n        BufferedOutputStream bfos = null;\r\n\r\n        try {\r\n            bfos = new BufferedOutputStream(new FileOutputStream(file));\r\n            byte[] buf = new byte[4096];\r\n\r\n            int len;\r\n            while ((len = in.read(buf)) != -1) {\r\n                bfos.write(buf, 0, len);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            try {\r\n                if (bfos != null) {\r\n                    bfos.close();\r\n                }\r\n                in.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>I got the same issue, and I copy the file from res/raw to /data/data/your.app.pkg/cache folder, then everything go well :D</p>\n<pre><code>AssetFileDescriptor afd = null;\ntry {\n    File cache = new File(getCacheDir(), &quot;my_data.dat&quot;);\n    if (!cache.exists()) {\n        copyInputStreamToFile(getResources().openRawResource(R.raw.my_data), cache);\n    }\n    afd = new AssetFileDescriptor(ParcelFileDescriptor.open(cache, ParcelFileDescriptor.MODE_READ_ONLY), 0, AssetFileDescriptor.UNKNOWN_LENGTH);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\n\nprivate void copyInputStreamToFile(InputStream in, File file) {\n    BufferedOutputStream bfos = null;\n\n    try {\n        bfos = new BufferedOutputStream(new FileOutputStream(file));\n        byte[] buf = new byte[4096];\n\n        int len;\n        while ((len = in.read(buf)) != -1) {\n            bfos.write(buf, 0, len);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (bfos != null) {\n                bfos.close();\n            }\n            in.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3552808,"reputation":118,"user_id":2967274,"display_name":"firozSujan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606142952,"creation_date":1606142308,"answer_id":64970534,"question_id":6186866,"body_markdown":" Just added the extension of my file like below in the build.gradle and solved my issue \r\n\r\n\r\n    android {\r\n       aaptOptions {\r\n          noCompress &quot;tflite&quot;\r\n          noCompress &quot;txt&quot;\r\n          noCompress &quot;pdf&quot;\r\n       }\r\n    }\r\n\r\n","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>Just added the extension of my file like below in the build.gradle and solved my issue</p>\n<pre><code>android {\n   aaptOptions {\n      noCompress &quot;tflite&quot;\n      noCompress &quot;txt&quot;\n      noCompress &quot;pdf&quot;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13733438,"reputation":1,"user_id":14105417,"display_name":"Rei Ryuki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609300898,"creation_date":1609300898,"answer_id":65501854,"question_id":6186866,"body_markdown":"In my case, it caused by resource.arsc is compressed. Rebuilding with uncompressed resource.arsc solve the problem.","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>In my case, it caused by resource.arsc is compressed. Rebuilding with uncompressed resource.arsc solve the problem.</p>\n"},{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698290323,"creation_date":1691835759,"answer_id":76888827,"question_id":6186866,"body_markdown":"For ```kotlin dsl``` it would look like this:\r\n```\r\n    androidResources {\r\n        noCompress.add(&quot;tflite&quot;)\r\n    }\r\n```","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>For <code>kotlin dsl</code> it would look like this:</p>\n<pre><code>    androidResources {\n        noCompress.add(&quot;tflite&quot;)\n    }\n</code></pre>\n"}],"owner":{"account_id":402916,"reputation":1841,"user_id":770373,"accept_rate":57,"display_name":"ihucos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59684,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":6187097,"answer_count":14,"score":60,"last_activity_date":1698290323,"creation_date":1306841260,"question_id":6186866,"body_markdown":"i am programming a soundboard from android.\r\nthe problem is that some sounds works, and some dont work.\r\nhere is the traceback that i get for the sounds that doesnt work\r\n\r\n\r\n    05-31 13:23:04.227 18440 18603 W System.err: java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed\r\n    05-31 13:23:04.227 18440 18603 W System.err: \tat android.content.res.AssetManager.openAssetFd(Native Method)\r\n    05-31 13:23:04.227 18440 18603 W System.err: \tat android.content.res.AssetManager.openFd(AssetManager.java:331)\r\n    05-31 13:23:04.227 18440 18603 W System.err: \tat com.phonegap.AudioPlayer.startPlaying(AudioPlayer.java:201)\r\n    05-31 13:23:04.227 18440 18603 W System.err: \tat com.phonegap.AudioHandler.startPlayingAudio(AudioHandler.java:181)\r\n    05-31 13:23:04.235 18440 18603 W System.err: \tat com.phonegap.AudioHandler.execute(AudioHandler.java:64)\r\n    05-31 13:23:04.235 18440 18603 W System.err: \tat com.phonegap.api.PluginManager$1.run(PluginManager.java:86)\r\n    05-31 13:23:04.235 18440 18603 W System.err: \tat java.lang.Thread.run(Thread.java:1096)\r\n\r\n\r\nany ideas?\r\n\r\n","title":"java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed","body":"<p>i am programming a soundboard from android.\nthe problem is that some sounds works, and some dont work.\nhere is the traceback that i get for the sounds that doesnt work</p>\n\n<pre><code>05-31 13:23:04.227 18440 18603 W System.err: java.io.FileNotFoundException: This file can not be opened as a file descriptor; it is probably compressed\n05-31 13:23:04.227 18440 18603 W System.err:    at android.content.res.AssetManager.openAssetFd(Native Method)\n05-31 13:23:04.227 18440 18603 W System.err:    at android.content.res.AssetManager.openFd(AssetManager.java:331)\n05-31 13:23:04.227 18440 18603 W System.err:    at com.phonegap.AudioPlayer.startPlaying(AudioPlayer.java:201)\n05-31 13:23:04.227 18440 18603 W System.err:    at com.phonegap.AudioHandler.startPlayingAudio(AudioHandler.java:181)\n05-31 13:23:04.235 18440 18603 W System.err:    at com.phonegap.AudioHandler.execute(AudioHandler.java:64)\n05-31 13:23:04.235 18440 18603 W System.err:    at com.phonegap.api.PluginManager$1.run(PluginManager.java:86)\n05-31 13:23:04.235 18440 18603 W System.err:    at java.lang.Thread.run(Thread.java:1096)\n</code></pre>\n\n<p>any ideas?</p>\n"},{"tags":["java","android","json","rest","android-volley"],"comments":[{"owner":{"account_id":2853786,"reputation":5189,"user_id":2450410,"accept_rate":43,"display_name":"Sanjeet A"},"score":0,"creation_date":1440016261,"post_id":32104423,"comment_id":52104746,"body_markdown":"This error is  from your server side. Since the response from the server is not being send in the proper json format.\nEnsure if the api is working properly using the PostMan or any other API testing environment.","body":"This error is  from your server side. Since the response from the server is not being send in the proper json format. Ensure if the api is working properly using the PostMan or any other API testing environment."},{"owner":{"account_id":4023896,"reputation":957,"user_id":4471049,"accept_rate":89,"display_name":"Karue Benson Karue"},"score":0,"creation_date":1478815266,"post_id":32104423,"comment_id":68314970,"body_markdown":"Try using `Request.Method.POST`","body":"Try using <code>Request.Method.POST</code>"},{"owner":{"account_id":10129017,"reputation":4246,"user_id":7483211,"display_name":"Cornelius Roemer"},"score":0,"creation_date":1577666050,"post_id":32104423,"comment_id":105220004,"body_markdown":"The response is empty. The JSON exception is called if the string that is returned in the response is empty. An empty string can&#39;t be turned into a JSON object - well it could be null but the library decided to throw an exception instead. If you are not getting a response back at all, you can simply use StringRequest.","body":"The response is empty. The JSON exception is called if the string that is returned in the response is empty. An empty string can&#39;t be turned into a JSON object - well it could be null but the library decided to throw an exception instead. If you are not getting a response back at all, you can simply use StringRequest."}],"answers":[{"comments":[{"owner":{"account_id":5834020,"reputation":3006,"user_id":4597666,"accept_rate":65,"display_name":"Mike Walker"},"score":3,"creation_date":1440020177,"post_id":32105391,"comment_id":52106698,"body_markdown":"Thank you. That did the trick. Saved me many hours of headaches","body":"Thank you. That did the trick. Saved me many hours of headaches"},{"owner":{"account_id":5439735,"reputation":24034,"user_id":4328123,"accept_rate":82,"display_name":"BNK"},"score":1,"creation_date":1440028116,"post_id":32105391,"comment_id":52109143,"body_markdown":"I think we can override this method right inside this request without subclass.","body":"I think we can override this method right inside this request without subclass."},{"owner":{"account_id":3345612,"reputation":16643,"user_id":2810825,"accept_rate":70,"display_name":"Gil Moshayof"},"score":1,"creation_date":1440054403,"post_id":32105391,"comment_id":52116589,"body_markdown":"that&#39;s called an anonymous subclass :)","body":"that&#39;s called an anonymous subclass :)"},{"owner":{"account_id":6238794,"reputation":10830,"user_id":4853133,"accept_rate":0,"display_name":"Quick learner"},"score":0,"creation_date":1512663888,"post_id":32105391,"comment_id":82358895,"body_markdown":"imcomplete answer i would say or copied, Its better if u post appropriate code to be used .","body":"imcomplete answer i would say or copied, Its better if u post appropriate code to be used ."},{"owner":{"account_id":3345612,"reputation":16643,"user_id":2810825,"accept_rate":70,"display_name":"Gil Moshayof"},"score":0,"creation_date":1512893218,"post_id":32105391,"comment_id":82434246,"body_markdown":"@quicklearner - definitely not copied (as I said, I encountered this issue too, and this is how I solved it). Also, about 25 other people disagree with your &quot;incomplete&quot; assessment. Appropriate code was posted. If you provided some information regarding what you felt was missing, perhaps I could provide more information.","body":"@quicklearner - definitely not copied (as I said, I encountered this issue too, and this is how I solved it). Also, about 25 other people disagree with your &quot;incomplete&quot; assessment. Appropriate code was posted. If you provided some information regarding what you felt was missing, perhaps I could provide more information."},{"owner":{"account_id":3345612,"reputation":16643,"user_id":2810825,"accept_rate":70,"display_name":"Gil Moshayof"},"score":0,"creation_date":1513067962,"post_id":32105391,"comment_id":82497653,"body_markdown":"@quicklearner I don&#39;t understand... this method is overridden inside JsonObjectRequest (as stated) to handle cases where the response arrives empty. then you can use this request normally without worrying about exceptions when the response is empty.","body":"@quicklearner I don&#39;t understand... this method is overridden inside JsonObjectRequest (as stated) to handle cases where the response arrives empty. then you can use this request normally without worrying about exceptions when the response is empty."}],"tags":[],"owner":{"account_id":3345612,"reputation":16643,"user_id":2810825,"accept_rate":70,"display_name":"Gil Moshayof"},"comment_count":6,"down_vote_count":1,"up_vote_count":55,"is_accepted":true,"score":54,"last_activity_date":1575901565,"creation_date":1440017236,"answer_id":32105391,"question_id":32104423,"body_markdown":"I also have encountered this issue.\r\n\r\nIt&#39;s not necessarily true that this is because a problem on your server side - it simply means that the response of the `JsonObjectRequest` is empty.\r\n\r\nIt could very well be that the server should be sending you content, and the fact that its response is empty is a bug. If, however, this is how the server is supposed to behave, then to solve this issue, you will need to change how JsonObjectRequest parses its response, meaning creating a subclass of `JsonObjectRequest`, and overriding the `parseNetworkResponse` to the example below.\r\n  \r\n\r\n        @Override\r\n        protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n            try {\r\n                String jsonString = new String(response.data,\r\n                        HttpHeaderParser.parseCharset(response.headers, PROTOCOL_CHARSET));\r\n\r\n                JSONObject result = null;\r\n                \r\n                if (jsonString != null &amp;&amp; jsonString.length() &gt; 0)\r\n                     result = new JSONObject(jsonString);\r\n                \r\n                return Response.success(result,\r\n                        HttpHeaderParser.parseCacheHeaders(response));\r\n            } catch (UnsupportedEncodingException e) {\r\n                return Response.error(new ParseError(e));\r\n            } catch (JSONException je) {\r\n                return Response.error(new ParseError(je));\r\n            }\r\n        } \r\n\r\nKeep in mind that with this fix, and in the event of an empty response from the server, the request callback will return a null reference in place of the `JSONObject`.","title":"Volley JSONException: End of input at character 0 of","body":"<p>I also have encountered this issue.</p>\n\n<p>It's not necessarily true that this is because a problem on your server side - it simply means that the response of the <code>JsonObjectRequest</code> is empty.</p>\n\n<p>It could very well be that the server should be sending you content, and the fact that its response is empty is a bug. If, however, this is how the server is supposed to behave, then to solve this issue, you will need to change how JsonObjectRequest parses its response, meaning creating a subclass of <code>JsonObjectRequest</code>, and overriding the <code>parseNetworkResponse</code> to the example below.</p>\n\n<pre><code>    @Override\n    protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n        try {\n            String jsonString = new String(response.data,\n                    HttpHeaderParser.parseCharset(response.headers, PROTOCOL_CHARSET));\n\n            JSONObject result = null;\n\n            if (jsonString != null &amp;&amp; jsonString.length() &gt; 0)\n                 result = new JSONObject(jsonString);\n\n            return Response.success(result,\n                    HttpHeaderParser.parseCacheHeaders(response));\n        } catch (UnsupportedEncodingException e) {\n            return Response.error(new ParseError(e));\n        } catch (JSONException je) {\n            return Response.error(new ParseError(je));\n        }\n    } \n</code></pre>\n\n<p>Keep in mind that with this fix, and in the event of an empty response from the server, the request callback will return a null reference in place of the <code>JSONObject</code>.</p>\n"},{"comments":[{"owner":{"account_id":292906,"reputation":2201,"user_id":595947,"accept_rate":86,"display_name":"Urban"},"score":0,"creation_date":1486699882,"post_id":42147734,"comment_id":71469011,"body_markdown":"I&#39;ve been struggling with this for hours! Thank you so much you saved my life!","body":"I&#39;ve been struggling with this for hours! Thank you so much you saved my life!"},{"owner":{"account_id":2156954,"reputation":5870,"user_id":1911941,"accept_rate":100,"display_name":"ELITE"},"score":0,"creation_date":1520793747,"post_id":42147734,"comment_id":85450834,"body_markdown":"`mHeaders.put(&quot;Accept&quot;, &quot;application/json&quot;)` has solved my problem.","body":"<code>mHeaders.put(&quot;Accept&quot;, &quot;application&#47;json&quot;)</code> has solved my problem."}],"tags":[],"owner":{"account_id":9204321,"reputation":93,"user_id":6840203,"display_name":"blackout"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486677806,"creation_date":1486677806,"answer_id":42147734,"question_id":32104423,"body_markdown":"Might not make sense but nothing else worked for me but adding a content-type header\r\n\r\n    mHeaders.put(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n\r\n","title":"Volley JSONException: End of input at character 0 of","body":"<p>Might not make sense but nothing else worked for me but adding a content-type header</p>\n\n<pre><code>mHeaders.put(\"Content-Type\", \"application/json\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5267547,"reputation":3135,"user_id":4206951,"accept_rate":25,"display_name":"Oush"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525672932,"creation_date":1525672932,"answer_id":50207892,"question_id":32104423,"body_markdown":"In my case it was simply the request I was sending(POST) was not correct. I cross-checked my fields and noted that there was a mismatch, which the server was expecting to get thus the error-&gt;end of input at character 0 of...","title":"Volley JSONException: End of input at character 0 of","body":"<p>In my case it was simply the request I was sending(POST) was not correct. I cross-checked my fields and noted that there was a mismatch, which the server was expecting to get thus the error->end of input at character 0 of...</p>\n"},{"tags":[],"owner":{"account_id":6862921,"reputation":1,"user_id":5276318,"display_name":"kamel sabri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536570061,"creation_date":1536570061,"answer_id":52254330,"question_id":32104423,"body_markdown":"I had the same problem, I fixed it by creating a custom JsonObjectRequest that can catch a null or empty response :\r\n\r\n    public class CustomJsonObjectRequest extends JsonObjectRequest {\r\n\r\n    public CustomJsonObjectRequest(int method, String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n        super(method, url, jsonRequest, listener, errorListener);\r\n    }\r\n\r\n    public CustomJsonObjectRequest(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\r\n        super(url, jsonRequest, listener, errorListener);\r\n    }\r\n\r\n    @Override\r\n    protected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\r\n        try {\r\n            String jsonString = new String(response.data,\r\n                    HttpHeaderParser.parseCharset(response.headers));\r\n\r\n            JSONObject result = null;\r\n\r\n            if (jsonString != null &amp;&amp; jsonString.length() &gt; 0)\r\n                result = new JSONObject(jsonString);\r\n\r\n            return Response.success(result,\r\n                    HttpHeaderParser.parseCacheHeaders(response));\r\n        } catch (UnsupportedEncodingException e) {\r\n            return Response.error(new ParseError(e));\r\n        } catch (JSONException je) {\r\n            return Response.error(new ParseError(je));\r\n        }\r\n    }\r\n\r\n\r\nThen just replace the default JsonObjectRequest by this one !","title":"Volley JSONException: End of input at character 0 of","body":"<p>I had the same problem, I fixed it by creating a custom JsonObjectRequest that can catch a null or empty response :</p>\n\n<pre><code>public class CustomJsonObjectRequest extends JsonObjectRequest {\n\npublic CustomJsonObjectRequest(int method, String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n    super(method, url, jsonRequest, listener, errorListener);\n}\n\npublic CustomJsonObjectRequest(String url, JSONObject jsonRequest, Response.Listener&lt;JSONObject&gt; listener, Response.ErrorListener errorListener) {\n    super(url, jsonRequest, listener, errorListener);\n}\n\n@Override\nprotected Response&lt;JSONObject&gt; parseNetworkResponse(NetworkResponse response) {\n    try {\n        String jsonString = new String(response.data,\n                HttpHeaderParser.parseCharset(response.headers));\n\n        JSONObject result = null;\n\n        if (jsonString != null &amp;&amp; jsonString.length() &gt; 0)\n            result = new JSONObject(jsonString);\n\n        return Response.success(result,\n                HttpHeaderParser.parseCacheHeaders(response));\n    } catch (UnsupportedEncodingException e) {\n        return Response.error(new ParseError(e));\n    } catch (JSONException je) {\n        return Response.error(new ParseError(je));\n    }\n}\n</code></pre>\n\n<p>Then just replace the default JsonObjectRequest by this one !</p>\n"},{"tags":[],"owner":{"account_id":4684386,"reputation":12978,"user_id":3792198,"accept_rate":23,"display_name":"Thiago"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597671752,"creation_date":1597671752,"answer_id":63452090,"question_id":32104423,"body_markdown":"You need to check if the server response is not empty. Maybe it could be a emtply String &quot;&quot;.\r\n\r\n\r\n            if (response.success()) {\r\n                if (response.getData() == null) {\r\n                    return null;\r\n                } else if (response.getData().length() &lt;= 0){\r\n                    return null;\r\n                }\r\n\r\n               // Do Processing\r\n                try {\r\n","title":"Volley JSONException: End of input at character 0 of","body":"<p>You need to check if the server response is not empty. Maybe it could be a emtply String &quot;&quot;.</p>\n<pre><code>        if (response.success()) {\n            if (response.getData() == null) {\n                return null;\n            } else if (response.getData().length() &lt;= 0){\n                return null;\n            }\n\n           // Do Processing\n            try {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6555535,"reputation":1356,"user_id":5068349,"display_name":"Bharat Lalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631258129,"creation_date":1631258129,"answer_id":69128562,"question_id":32104423,"body_markdown":"I have faced the same problem, there was just a small silly mistake that happened.\r\n\r\ninstead of \r\n```\r\nval jsonObject = JSONObject(response.body()?.string())\r\n```\r\nshould be \r\n```\r\nval jsonObject = JSONObject(response.body()!!.string())\r\n```","title":"Volley JSONException: End of input at character 0 of","body":"<p>I have faced the same problem, there was just a small silly mistake that happened.</p>\n<p>instead of</p>\n<pre><code>val jsonObject = JSONObject(response.body()?.string())\n</code></pre>\n<p>should be</p>\n<pre><code>val jsonObject = JSONObject(response.body()!!.string())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301178,"post_id":77363887,"comment_id":136388238,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77363887/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18138112,"reputation":1,"user_id":13192331,"display_name":"Carlos Villamil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698289295,"creation_date":1698289295,"answer_id":77363887,"question_id":32104423,"body_markdown":"If you need this in kotlin this...\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    private fun deleteRequestWithToken(token: String, path: String, responseListener: Response.Listener&lt;JSONObject?&gt;, errorListener: Response.ErrorListener): JsonObjectRequest? {\r\n            return object : JsonObjectRequest(Request.Method.DELETE, path, null, responseListener, errorListener) {\r\n                @Throws(AuthFailureError::class)\r\n                override fun getHeaders(): Map&lt;String, String&gt; {\r\n                    val headers = HashMap&lt;String, String&gt;()\r\n                    headers[&quot;Authorization&quot;] = &quot;Bearer $token&quot;\r\n                    return headers\r\n                }\r\n                override fun parseNetworkResponse(response: NetworkResponse): Response&lt;JSONObject&gt;{\r\n                    try{\r\n                        val jsonString = String(\r\n                            response.data,\r\n                            Charset.forName(HttpHeaderParser.parseCharset(response.headers))\r\n                        )\r\n                        var result: JSONObject? = null\r\n                        if (jsonString != null &amp;&amp; jsonString.length &gt; 0) result = JSONObject(jsonString)\r\n                        return Response.success&lt;JSONObject?&gt;(\r\n                            result,\r\n                            HttpHeaderParser.parseCacheHeaders(response)\r\n                        )\r\n                    } catch (e: UnsupportedEncodingException)\r\n                    {\r\n                        return Response.error(ParseError(e))\r\n                    } catch (je: JSONException)\r\n                    {\r\n                        return Response.error(ParseError(je))\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Volley JSONException: End of input at character 0 of","body":"<p>If you need this in kotlin this...</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>private fun deleteRequestWithToken(token: String, path: String, responseListener: Response.Listener&lt;JSONObject?&gt;, errorListener: Response.ErrorListener): JsonObjectRequest? {\n        return object : JsonObjectRequest(Request.Method.DELETE, path, null, responseListener, errorListener) {\n            @Throws(AuthFailureError::class)\n            override fun getHeaders(): Map&lt;String, String&gt; {\n                val headers = HashMap&lt;String, String&gt;()\n                headers[\"Authorization\"] = \"Bearer $token\"\n                return headers\n            }\n            override fun parseNetworkResponse(response: NetworkResponse): Response&lt;JSONObject&gt;{\n                try{\n                    val jsonString = String(\n                        response.data,\n                        Charset.forName(HttpHeaderParser.parseCharset(response.headers))\n                    )\n                    var result: JSONObject? = null\n                    if (jsonString != null &amp;&amp; jsonString.length &gt; 0) result = JSONObject(jsonString)\n                    return Response.success&lt;JSONObject?&gt;(\n                        result,\n                        HttpHeaderParser.parseCacheHeaders(response)\n                    )\n                } catch (e: UnsupportedEncodingException)\n                {\n                    return Response.error(ParseError(e))\n                } catch (je: JSONException)\n                {\n                    return Response.error(ParseError(je))\n                }\n\n            }\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":5834020,"reputation":3006,"user_id":4597666,"accept_rate":65,"display_name":"Mike Walker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28429,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":32105391,"answer_count":7,"score":24,"last_activity_date":1698289295,"creation_date":1440013819,"question_id":32104423,"body_markdown":"I&#39;ve seen others come across this problem, but none of the posts have been able to assist me. I&#39;m attempting to use Volley for my REST call library, and when I&#39;m attempting to use a Put call with a JSON Object as a parameter, I&#39;m getting `error with: org.json.JSONException: End of input at character 0 of`. \r\n\r\nHere is the code:\r\n\r\n    protected void updateClientDeviceStatus(Activity activity, final int status) {\r\n\t\tJSONObject jsonParams = new JSONObject();\r\n\t\ttry {\r\n\t\t\tjsonParams.put(&quot;statusId&quot;, String.valueOf(status));\r\n\t\t} catch (JSONException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tLog.i(LOG_TAG, &quot;json: &quot; + jsonParams.toString());\r\n\r\n        String url = Constants.API_URL + &quot;client/device/&quot; + getDeviceId();\r\n        // Request a response from the provided URL.\r\n        JsonObjectRequest request = new JsonObjectRequest\r\n                (Request.Method.PUT, url, jsonParams, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        Log.i(LOG_TAG, &quot;updated client status&quot;);\r\n                        Log.i(LOG_TAG, &quot;response: &quot; + response.toString());\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Log.i(LOG_TAG, &quot;error with: &quot; + error.getMessage());\r\n                        if (error.networkResponse != null)\r\n                            Log.i(LOG_TAG, &quot;status code: &quot; + error.networkResponse.statusCode);\r\n\r\n\r\n                    }\r\n                }) {\r\n\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\r\n                params.put(&quot;User-Agent&quot;, getUserAgent());\r\n                params.put(&quot;X-BC-API&quot;, getKey());\r\n\r\n                return params;\r\n            }\r\n\r\n            @Override\r\n            public String getBodyContentType() {\r\n                return &quot;application/json&quot;;\r\n            }\r\n        };\r\n\r\n        request.setRetryPolicy(new DefaultRetryPolicy(20000, 3, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        MySingleton.getInstance(activity).addToRequestQueue(request);\r\n        }\r\n\t}\r\n\r\nThe jsonParams log displays:\r\n\r\n    json: {&quot;statusId&quot;:&quot;1&quot;}\r\n\r\nIs there another setting that I&#39;m missing? It appears that the request can&#39;t parse the JSON Object. I even tried creating a HashMap and then using that to create a JSON Object, but I still get the same result.\r\n","title":"Volley JSONException: End of input at character 0 of","body":"<p>I've seen others come across this problem, but none of the posts have been able to assist me. I'm attempting to use Volley for my REST call library, and when I'm attempting to use a Put call with a JSON Object as a parameter, I'm getting <code>error with: org.json.JSONException: End of input at character 0 of</code>. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>protected void updateClientDeviceStatus(Activity activity, final int status) {\n    JSONObject jsonParams = new JSONObject();\n    try {\n        jsonParams.put(\"statusId\", String.valueOf(status));\n    } catch (JSONException e1) {\n        e1.printStackTrace();\n    }\n    Log.i(LOG_TAG, \"json: \" + jsonParams.toString());\n\n    String url = Constants.API_URL + \"client/device/\" + getDeviceId();\n    // Request a response from the provided URL.\n    JsonObjectRequest request = new JsonObjectRequest\n            (Request.Method.PUT, url, jsonParams, new Response.Listener&lt;JSONObject&gt;() {\n\n                @Override\n                public void onResponse(JSONObject response) {\n                    Log.i(LOG_TAG, \"updated client status\");\n                    Log.i(LOG_TAG, \"response: \" + response.toString());\n                }\n            }, new Response.ErrorListener() {\n\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Log.i(LOG_TAG, \"error with: \" + error.getMessage());\n                    if (error.networkResponse != null)\n                        Log.i(LOG_TAG, \"status code: \" + error.networkResponse.statusCode);\n\n\n                }\n            }) {\n\n        @Override\n        public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n            Map&lt;String, String&gt;  params = new HashMap&lt;String, String&gt;();\n            params.put(\"User-Agent\", getUserAgent());\n            params.put(\"X-BC-API\", getKey());\n\n            return params;\n        }\n\n        @Override\n        public String getBodyContentType() {\n            return \"application/json\";\n        }\n    };\n\n    request.setRetryPolicy(new DefaultRetryPolicy(20000, 3, DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n    MySingleton.getInstance(activity).addToRequestQueue(request);\n    }\n}\n</code></pre>\n\n<p>The jsonParams log displays:</p>\n\n<pre><code>json: {\"statusId\":\"1\"}\n</code></pre>\n\n<p>Is there another setting that I'm missing? It appears that the request can't parse the JSON Object. I even tried creating a HashMap and then using that to create a JSON Object, but I still get the same result.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":9,"creation_date":1600705330,"post_id":63996047,"comment_id":113165194,"body_markdown":"See: https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM","body":"See: <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"nofollow noreferrer\">wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM</a>"},{"owner":{"account_id":19563223,"reputation":1699,"user_id":14316020,"display_name":"CommanderCat"},"score":7,"creation_date":1600706804,"post_id":63996047,"comment_id":113165859,"body_markdown":"@howlger Praise thee. It works. But i&#39;m still waiting for a day when Java and Eclipse works out of the box similar to C# and Visual Studio.","body":"@howlger Praise thee. It works. But i&#39;m still waiting for a day when Java and Eclipse works out of the box similar to C# and Visual Studio."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1600708660,"post_id":63996047,"comment_id":113166647,"body_markdown":"@CommanderCat That doesn&#39;t work &quot;out-of-the-box&quot; either when you have multiple versions of C# like you had with Java. It&#39;s an apples-to-oranges comparison anyway.","body":"@CommanderCat That doesn&#39;t work &quot;out-of-the-box&quot; either when you have multiple versions of C# like you had with Java. It&#39;s an apples-to-oranges comparison anyway."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1600708900,"post_id":63996047,"comment_id":113166759,"body_markdown":"Was your Java 11 a non-Oracle build, by chance?","body":"Was your Java 11 a non-Oracle build, by chance?"},{"owner":{"account_id":19563223,"reputation":1699,"user_id":14316020,"display_name":"CommanderCat"},"score":2,"creation_date":1600712303,"post_id":63996047,"comment_id":113168155,"body_markdown":"Both downloaded from official oracle website. Even with one JDK and JRE it also didn&#39;t work. Java is just hot mess, you have to do everything manually, which is awful for beginners.","body":"Both downloaded from official oracle website. Even with one JDK and JRE it also didn&#39;t work. Java is just hot mess, you have to do everything manually, which is awful for beginners."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1600760299,"post_id":63996047,"comment_id":113181118,"body_markdown":"Oracle provides JDKs, not JREs anymore. Do you get the same issue when downloading Java from [adoptopenjdk.net](https://adoptopenjdk.net/)? 3 of the 13 Eclipse IDE packages are allready shipped with Java: Eclipse for C/C++, for Web/JavaScript and for Rust developers (Oracle has prevented this from happening earlier). In the future, probably also the Java IDE will be shipped with Java. The question is not how long you have to wait for others to make something freely available to you, but how long we have to wait for you to contribute something to the open source tools and frameworks you use.","body":"Oracle provides JDKs, not JREs anymore. Do you get the same issue when downloading Java from <a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a>? 3 of the 13 Eclipse IDE packages are allready shipped with Java: Eclipse for C/C++, for Web/JavaScript and for Rust developers (Oracle has prevented this from happening earlier). In the future, probably also the Java IDE will be shipped with Java. The question is not how long you have to wait for others to make something freely available to you, but how long we have to wait for you to contribute something to the open source tools and frameworks you use."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1601369265,"post_id":63996047,"comment_id":113379106,"body_markdown":"Unless told explicitly otherwise Eclipse looks for the default java command on the system (which adds itself to the path).  To my knowledge (which might be quite dated) only the Oracle Java installer does this - you appear to have done this the last for Java 8 - otherwise you need to either add the JVM you installed to your PATH variable, or tell Eclipse in the ini file which one to use.","body":"Unless told explicitly otherwise Eclipse looks for the default java command on the system (which adds itself to the path).  To my knowledge (which might be quite dated) only the Oracle Java installer does this - you appear to have done this the last for Java 8 - otherwise you need to either add the JVM you installed to your PATH variable, or tell Eclipse in the ini file which one to use."},{"owner":{"account_id":2292509,"reputation":1431,"user_id":2014878,"accept_rate":0,"display_name":"Ben Alan"},"score":0,"creation_date":1620846339,"post_id":63996047,"comment_id":119325241,"body_markdown":"Didn&#39;t work for me. Downloaded the latest version of Java from the website but it still says jdk-8.0 ...","body":"Didn&#39;t work for me. Downloaded the latest version of Java from the website but it still says jdk-8.0 ..."}],"answers":[{"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1600961623,"post_id":64041444,"comment_id":113261016,"body_markdown":"**Do not use outdated software** for reasons (security, performance, new features and already fixed bugs)! [It is quite easy to run Eclipse 2020-09 (4.17) and only in some cases manual steps are necessary](https://stackoverflow.com/a/64049648/6505250). So don&#39;t waste time by using outdated software.","body":"<b>Do not use outdated software</b> for reasons (security, performance, new features and already fixed bugs)! <a href=\"https://stackoverflow.com/a/64049648/6505250\">It is quite easy to run Eclipse 2020-09 (4.17) and only in some cases manual steps are necessary</a>. So don&#39;t waste time by using outdated software."}],"tags":[],"owner":{"account_id":19556316,"reputation":93,"user_id":14310603,"display_name":"Eugen FLOCEA"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1643852519,"creation_date":1600932356,"answer_id":64041444,"question_id":63996047,"body_markdown":"I had the same problem and I downloaded another version of Java EE Eclipse. I got the Eclipse 2020-06 (4.16):\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip\r\n\r\nAfter downloading it, it worked.\r\n\r\n\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I had the same problem and I downloaded another version of Java EE Eclipse. I got the Eclipse 2020-06 (4.16):</p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2020-06/R/eclipse-jee-2020-06-R-win32-x86_64.zip</a></p>\n<p>After downloading it, it worked.</p>\n"},{"comments":[{"owner":{"account_id":6072371,"reputation":848,"user_id":6952395,"display_name":"dipakbari4"},"score":13,"creation_date":1602273563,"post_id":64049648,"comment_id":113679142,"body_markdown":"This solution help me to fix the issue. I removed the -vmargs and replaced with -vm only","body":"This solution help me to fix the issue. I removed the -vmargs and replaced with -vm only"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1602340785,"post_id":64049648,"comment_id":113692485,"body_markdown":"@DipakBari All lines after `-vmargs` are used as arguments for the Java VM. Removing the `-vmargs` line might cause issues.","body":"@DipakBari All lines after <code>-vmargs</code> are used as arguments for the Java VM. Removing the <code>-vmargs</code> line might cause issues."},{"owner":{"account_id":2101463,"reputation":374,"user_id":1868976,"display_name":"hram908"},"score":0,"creation_date":1603388873,"post_id":64049648,"comment_id":114029390,"body_markdown":"Had same issue after changing Java_home, had to run administrator in windows to take effect.","body":"Had same issue after changing Java_home, had to run administrator in windows to take effect."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1603445157,"post_id":64049648,"comment_id":114045781,"body_markdown":"@hram908 Better edit the `eclipse.ini` file than changing `JAVA_HOME` since `JAVA_HOME` is also used by other applications which might not yet work with Java 11.","body":"@hram908 Better edit the <code>eclipse.ini</code> file than changing <code>JAVA_HOME</code> since <code>JAVA_HOME</code> is also used by other applications which might not yet work with Java 11."},{"owner":{"account_id":2311085,"reputation":149,"user_id":2029198,"display_name":"Hiro_Hamada"},"score":0,"creation_date":1613020549,"post_id":64049648,"comment_id":116948621,"body_markdown":"With Eclipse version 12-2020, this did work for me :)","body":"With Eclipse version 12-2020, this did work for me :)"},{"owner":{"account_id":15293008,"reputation":127,"user_id":11033982,"display_name":"smeier_ec"},"score":7,"creation_date":1617797070,"post_id":64049648,"comment_id":118405816,"body_markdown":"Make sure to put &quot;-vm&quot; and the path &quot;C:/....&quot; on separate lines (exactly as it is shown above). I thought it wasn&#39;t important but it doesn&#39;t work when you put it all on one line.","body":"Make sure to put &quot;-vm&quot; and the path &quot;C:/....&quot; on separate lines (exactly as it is shown above). I thought it wasn&#39;t important but it doesn&#39;t work when you put it all on one line."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":1,"creation_date":1620680610,"post_id":64049648,"comment_id":119267853,"body_markdown":"Echoing @smeier_ec comment about 2 lines required.   Many other places online include this as a single line or omit the .exe file, this is the only one that has worked!","body":"Echoing @smeier_ec comment about 2 lines required.   Many other places online include this as a single line or omit the .exe file, this is the only one that has worked!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1620685274,"post_id":64049648,"comment_id":119269112,"body_markdown":"@DanielWiddis Maybe what you read was referring to the command line. `-vm` can also be used as command line argument. For example, `eclipse -vm ...` will overwrite the `eclipse.ini` settings.","body":"@DanielWiddis Maybe what you read was referring to the command line. <code>-vm</code> can also be used as command line argument. For example, <code>eclipse -vm ...</code> will overwrite the <code>eclipse.ini</code> settings."},{"owner":{"account_id":7353568,"reputation":121,"user_id":6419442,"display_name":"Rob Bar"},"score":0,"creation_date":1665249776,"post_id":64049648,"comment_id":130657796,"body_markdown":"Your solution has worked for me on Fedora Linux. Of course the path was different ( /usr/lib/jvm/java-17-openjdk-17.0.4.1.1-1.fc36.x86_64/bin/java ). Thank you!","body":"Your solution has worked for me on Fedora Linux. Of course the path was different ( /usr/lib/jvm/java-17-openjdk-17.0.4.1.1-1.fc36.x86_64/bin/ja&zwnj;&#8203;va ). Thank you!"},{"owner":{"account_id":41695,"reputation":181,"user_id":121274,"accept_rate":89,"display_name":"Kaz"},"score":0,"creation_date":1674289535,"post_id":64049648,"comment_id":132686596,"body_markdown":"I keep getting the error even after updating the INI file with right path. Still somehow its referring to older version.","body":"I keep getting the error even after updating the INI file with right path. Still somehow its referring to older version."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1674312686,"post_id":64049648,"comment_id":132690076,"body_markdown":"@Kaz The INI file is for the Java to run Eclipse. Just use a current Eclipse with integrated Java. The Java JDKs that you want to use in your projects have to be configured in the preferences _Java &gt; Installed JREs_.","body":"@Kaz The INI file is for the Java to run Eclipse. Just use a current Eclipse with integrated Java. The Java JDKs that you want to use in your projects have to be configured in the preferences <i>Java &gt; Installed JREs</i>."},{"owner":{"account_id":11345850,"reputation":417,"user_id":8318354,"display_name":"Priyanka Arora"},"score":0,"creation_date":1680577649,"post_id":64049648,"comment_id":133917939,"body_markdown":"This worked for me. Just gave path of jdk present in C drive in program files.","body":"This worked for me. Just gave path of jdk present in C drive in program files."},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1680764781,"post_id":64049648,"comment_id":133954179,"body_markdown":"I have seen this as item in the list of `-vmargs`: `-Dosgi.requiredJavaVersion=17`. So I needed to delete this line, but I am no sure, whether this is dangerous. My Ecplipse: `Version: 2023-03 (4.27.0) | Build id: 20230309-1520`","body":"I have seen this as item in the list of <code>-vmargs</code>: <code>-Dosgi.requiredJavaVersion=17</code>. So I needed to delete this line, but I am no sure, whether this is dangerous. My Ecplipse: <code>Version: 2023-03 (4.27.0) | Build id: 20230309-1520</code>"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680770429,"post_id":64049648,"comment_id":133955429,"body_markdown":"@BairDev Deleting `-Dosgi.requiredJavaVersion=17` is dangerous since it hides showing an error at an early stage. Nowadays Eclipse requires Java 17 or higher to run (not all parts, but some parts). So do not delete this line.","body":"@BairDev Deleting <code>-Dosgi.requiredJavaVersion=17</code> is dangerous since it hides showing an error at an early stage. Nowadays Eclipse requires Java 17 or higher to run (not all parts, but some parts). So do not delete this line."}],"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":14,"down_vote_count":0,"up_vote_count":210,"is_accepted":false,"score":210,"last_activity_date":1643852558,"creation_date":1600961316,"answer_id":64049648,"question_id":63996047,"body_markdown":"The **Java to run Eclipse** can be specified in the `eclipse.ini` file (see [Eclipse wiki: eclipse.ini - Specifying the JVM][1]). Add the following two lines directly before the line `-vmargs` and adapt the path to your Java 11 or higher 64-bit Java VM installation directory:\r\n\r\n```lang-none\r\n-vm\r\nC:\\Program Files\\AdoptOpenJDK\\jdk-14.0.2.12-openj9\\bin\\javaw.exe\r\n```\r\n\r\nAlternatively, you can put the Java VM into the `jre` subdirectory of the Eclipse installation or, if you do not install Eclipse but upgrade it, install Java 11 or better Java 14 as plugin before the upgrade from [Eclipse JustJ][2] (use _JustJ OpenJDK Hotspot JRE Complete_, not _Base_ or _Minimal_).\r\n\r\nPlease note, that even if you run Eclipse with Java 11 or higher, **Eclipse 2020-09 (4.17) still supports to code in Java 14, 13, 12, 11, 10, 9, 8 and even much older versions** (down to Java 1.1). [Java 15 can be installed via Marketplace][3].\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\r\n  [2]: https://download.eclipse.org/justj/www/?page=download\r\n  [3]: https://marketplace.eclipse.org/content/java-15-support-eclipse-2020-09-417","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>The <strong>Java to run Eclipse</strong> can be specified in the <code>eclipse.ini</code> file (see <a href=\"https://wiki.eclipse.org/Eclipse.ini#Specifying_the_JVM\" rel=\"noreferrer\">Eclipse wiki: eclipse.ini - Specifying the JVM</a>). Add the following two lines directly before the line <code>-vmargs</code> and adapt the path to your Java 11 or higher 64-bit Java VM installation directory:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-vm\nC:\\Program Files\\AdoptOpenJDK\\jdk-14.0.2.12-openj9\\bin\\javaw.exe\n</code></pre>\n<p>Alternatively, you can put the Java VM into the <code>jre</code> subdirectory of the Eclipse installation or, if you do not install Eclipse but upgrade it, install Java 11 or better Java 14 as plugin before the upgrade from <a href=\"https://download.eclipse.org/justj/www/?page=download\" rel=\"noreferrer\">Eclipse JustJ</a> (use <em>JustJ OpenJDK Hotspot JRE Complete</em>, not <em>Base</em> or <em>Minimal</em>).</p>\n<p>Please note, that even if you run Eclipse with Java 11 or higher, <strong>Eclipse 2020-09 (4.17) still supports to code in Java 14, 13, 12, 11, 10, 9, 8 and even much older versions</strong> (down to Java 1.1). <a href=\"https://marketplace.eclipse.org/content/java-15-support-eclipse-2020-09-417\" rel=\"noreferrer\">Java 15 can be installed via Marketplace</a>.</p>\n"},{"comments":[{"owner":{"account_id":9552046,"reputation":692,"user_id":7095884,"accept_rate":69,"display_name":"olivmir"},"score":0,"creation_date":1608280881,"post_id":64294260,"comment_id":115540329,"body_markdown":"All the other answers did not solve this problem for me - this was the only way.","body":"All the other answers did not solve this problem for me - this was the only way."},{"owner":{"account_id":396931,"reputation":4724,"user_id":760777,"accept_rate":57,"display_name":"RWC"},"score":0,"creation_date":1657140889,"post_id":64294260,"comment_id":128742610,"body_markdown":"Please note, if you have got multiple versions of JAVA installed on Windows, and you use the Eclipse installer, the right version might not be preselected. In my case 11.0.9 was preselected in the dropdown, which gives the erroneous message. Just select a higher version.","body":"Please note, if you have got multiple versions of JAVA installed on Windows, and you use the Eclipse installer, the right version might not be preselected. In my case 11.0.9 was preselected in the dropdown, which gives the erroneous message. Just select a higher version."}],"tags":[],"owner":{"account_id":19704116,"reputation":71,"user_id":14426207,"display_name":"Benjamin Stadler"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643852616,"creation_date":1602338555,"answer_id":64294260,"question_id":63996047,"body_markdown":"I had the same issue and got it to work by reinstalling using the installer from https://www.eclipse.org/downloads/ which includes a JRE.\r\n\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I had the same issue and got it to work by reinstalling using the installer from <a href=\"https://www.eclipse.org/downloads/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/</a> which includes a JRE.</p>\n"},{"comments":[{"owner":{"account_id":2673880,"reputation":416,"user_id":2310688,"accept_rate":0,"display_name":"hakkican"},"score":0,"creation_date":1642667737,"post_id":64429680,"comment_id":125133442,"body_markdown":"I put this right before &quot;-vmargs&quot; section","body":"I put this right before &quot;-vmargs&quot; section"}],"tags":[],"owner":{"account_id":6184247,"reputation":1015,"user_id":4818802,"accept_rate":79,"display_name":"Xeverous"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603118497,"creation_date":1603118497,"answer_id":64429680,"question_id":63996047,"body_markdown":"I downloaded JDK from https://www.oracle.com/java/technologies/javase-jdk15-downloads.html and put the unpacked contents to `jre` subdirectory of Eclipse&#39;s installation path - there is a path `eclipse/jre/bin/javaw.exe`. Eclipse picks it up automatically over any other installation.","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I downloaded JDK from <a href=\"https://www.oracle.com/java/technologies/javase-jdk15-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jdk15-downloads.html</a> and put the unpacked contents to <code>jre</code> subdirectory of Eclipse's installation path - there is a path <code>eclipse/jre/bin/javaw.exe</code>. Eclipse picks it up automatically over any other installation.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643852729,"post_id":64558114,"comment_id":125452342,"body_markdown":"Can you provide it as text instead of a screenshot, please?","body":"Can you provide it as text instead of a screenshot, please?"},{"owner":{"account_id":1646830,"reputation":5363,"user_id":1518273,"accept_rate":50,"display_name":"Napolean"},"score":0,"creation_date":1643868709,"post_id":64558114,"comment_id":125454924,"body_markdown":"@PeterMortensen updated the config text","body":"@PeterMortensen updated the config text"},{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1646353211,"post_id":64558114,"comment_id":126108606,"body_markdown":"Sadly did not work for me. :(","body":"Sadly did not work for me. :("},{"owner":{"account_id":15673767,"reputation":175,"user_id":11309500,"display_name":"boardkeystown"},"score":0,"creation_date":1677130397,"post_id":64558114,"comment_id":133278008,"body_markdown":"at the top of WHAT?  EDIT: To future people &quot;Get-ChildItem -Path . -Filter &quot;eclipse.ini&quot; -Recurse&quot; if you are on windows.","body":"at the top of WHAT?  EDIT: To future people &quot;Get-ChildItem -Path . -Filter &quot;eclipse.ini&quot; -Recurse&quot; if you are on windows."},{"owner":{"account_id":12546089,"reputation":327,"user_id":9129342,"display_name":"paul035"},"score":0,"creation_date":1697815450,"post_id":64558114,"comment_id":136331322,"body_markdown":"Steps to resolve the JVM version not suitable for Eclipse. Do check this: https://paulsofts.com/how-to-resolve-eclipse-version-1-8-0_301-of-jvm-is-not-suitable-for-this-product-version-17-or-greater-version-is-required/","body":"Steps to resolve the JVM version not suitable for Eclipse. Do check this: <a href=\"https://paulsofts.com/how-to-resolve-eclipse-version-1-8-0_301-of-jvm-is-not-suitable-for-this-product-version-17-or-greater-version-is-required/\" rel=\"nofollow noreferrer\">paulsofts.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":1646830,"reputation":5363,"user_id":1518273,"accept_rate":50,"display_name":"Napolean"},"comment_count":5,"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1698288731,"creation_date":1603813878,"answer_id":64558114,"question_id":63996047,"body_markdown":"I got it resolved by adding the vm parameters in the Eclipse configuration file at the top.\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/VvmOj.png\r\n\r\n\r\n**In text format**\r\n\r\n&lt;!-- language: none --&gt;\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk-11.0.9\\bin\\javaw.exe\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1300.v20200819-0940\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=11\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dosgi.requiredJavaVersion=11\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Xms256m\r\n    -Xmx2048m\r\n    --add-modules=ALL-SYSTEM\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I got it resolved by adding the vm parameters in the Eclipse configuration file at the top.</p>\n<p><a href=\"https://i.stack.imgur.com/VvmOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvmOj.png\" alt=\"Enter image description here\" /></a></p>\n<p><strong>In text format</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>-vm\nC:\\Program Files\\Java\\jdk-11.0.9\\bin\\javaw.exe\n-startup\nplugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.win32.win32.x86_64_1.1.1300.v20200819-0940\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12121117,"reputation":199,"user_id":8852522,"display_name":"H.Karatsanov"},"score":1,"creation_date":1604402168,"post_id":64640802,"comment_id":114331029,"body_markdown":"It&#39;s true. I had two versions of java and after I remove the old one, the problem disappeared.","body":"It&#39;s true. I had two versions of java and after I remove the old one, the problem disappeared."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1618818705,"post_id":64640802,"comment_id":118707977,"body_markdown":"There are better solutions than this.","body":"There are better solutions than this."}],"tags":[],"owner":{"account_id":19877317,"reputation":29,"user_id":14562030,"display_name":"Loper Roid"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1643852793,"creation_date":1604298716,"answer_id":64640802,"question_id":63996047,"body_markdown":"I had the same problem. Uninstall Java from the control panel and restart your IDE ([Eclipse][1] or [IntelliJ IDEA][2]).\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n  [2]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I had the same problem. Uninstall Java from the control panel and restart your IDE (<a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a> or <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>).</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1643852909,"post_id":64690022,"comment_id":125452372,"body_markdown":"It is magic! Perhaps [explain](https://stackoverflow.com/posts/64690022/edit) the magic?","body":"It is magic! Perhaps <a href=\"https://stackoverflow.com/posts/64690022/edit\">explain</a> the magic?"}],"tags":[],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643852851,"creation_date":1604540461,"answer_id":64690022,"question_id":63996047,"body_markdown":"I also faced the same issue, but I did not resolve it no matter what. \r\n\r\nThen it got resolved installing the below link.\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-09/R/eclipse-inst-jre-win64.exe\r\n\r\n[![Enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/pHHef.png\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I also faced the same issue, but I did not resolve it no matter what.</p>\n<p>Then it got resolved installing the below link.</p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-09/R/eclipse-inst-jre-win64.exe\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/oomph/epp/2020-09/R/eclipse-inst-jre-win64.exe</a></p>\n<p><a href=\"https://i.stack.imgur.com/pHHef.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHHef.png\" alt=\"Enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":2814311,"reputation":2660,"user_id":2918720,"display_name":"KhogaEslam"},"score":13,"creation_date":1608542240,"post_id":65265531,"comment_id":115605998,"body_markdown":"With Eclipse version 12-2020, this didn&#39;t work for me, after showing the launch window I got an error `An error has occurred. See the log file\n/Applications/Eclipse.app/Contents/Eclipse/configuration/1608542182018.log.`","body":"With Eclipse version 12-2020, this didn&#39;t work for me, after showing the launch window I got an error <code>An error has occurred. See the log file &#47;Applications&#47;Eclipse.app&#47;Contents&#47;Eclipse&#47;configuration&#47;160&zwnj;&#8203;8542182018.log.</code>"},{"owner":{"account_id":2188552,"reputation":1273,"user_id":1936319,"accept_rate":33,"display_name":"3AK"},"score":1,"creation_date":1608647724,"post_id":65265531,"comment_id":115643028,"body_markdown":"Hi @KhogaEslam - Did you get a chance to check the log? What was the error? Did you get this error on Windows or Linux?","body":"Hi @KhogaEslam - Did you get a chance to check the log? What was the error? Did you get this error on Windows or Linux?"},{"owner":{"account_id":2814311,"reputation":2660,"user_id":2918720,"display_name":"KhogaEslam"},"score":1,"creation_date":1608653416,"post_id":65265531,"comment_id":115645693,"body_markdown":"I just installed the new version that includes the JRE.","body":"I just installed the new version that includes the JRE."},{"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"score":0,"creation_date":1644362862,"post_id":65265531,"comment_id":125586244,"body_markdown":"Yep. This fix worked for me, on Windows 10.","body":"Yep. This fix worked for me, on Windows 10."},{"owner":{"account_id":3267531,"reputation":385,"user_id":2751724,"accept_rate":0,"display_name":"Ming Leung"},"score":0,"creation_date":1646011460,"post_id":65265531,"comment_id":126012353,"body_markdown":"But the problem is, the original requirement is 1.8. How is it changed to be 11?","body":"But the problem is, the original requirement is 1.8. How is it changed to be 11?"}],"tags":[],"owner":{"account_id":2188552,"reputation":1273,"user_id":1936319,"accept_rate":33,"display_name":"3AK"},"comment_count":5,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1643853749,"creation_date":1607780191,"answer_id":65265531,"question_id":63996047,"body_markdown":"I was getting this error on a [Linux][1] OS, but the following solution should work for all OSes.\r\n\r\n**Step 1:** Open a command prompt\r\n\r\nType: `java -version`\r\n\r\nYou will see something like this -\r\n\r\n```lang-none\r\nopenjdk version &quot;1.8.0_275&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_275-8u275-b01-0ubuntu1~16.04-b01)\r\nOpenJDK 64-Bit Server VM (build 25.275-b01, mixed mode)\r\n(may vary depending on your computer and OS)\r\n```\r\n\r\n\r\n**Step 2:** open the `eclipse.ini` file\r\n\r\nThe file is located at C:\\Users\\Yourusername\\eclipse\\java-2019-12\\eclipse\r\n\r\nLocate the following line -\r\n\r\n```lang-none\r\n-Dosgi.requiredJavaVersion=11\r\n```\r\n\r\nChange it to\r\n\r\n```lang-none\r\n-Dosgi.requiredJavaVersion=1.8\r\n```\r\n\r\nand restart Eclipse. It is there **twice** so change at both places. You may try to give the Java version specific to your system (from the output of step 1). This has worked for me.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Linux","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I was getting this error on a <a href=\"https://en.wikipedia.org/wiki/Linux\" rel=\"noreferrer\">Linux</a> OS, but the following solution should work for all OSes.</p>\n<p><strong>Step 1:</strong> Open a command prompt</p>\n<p>Type: <code>java -version</code></p>\n<p>You will see something like this -</p>\n<pre class=\"lang-none prettyprint-override\"><code>openjdk version &quot;1.8.0_275&quot;\nOpenJDK Runtime Environment (build 1.8.0_275-8u275-b01-0ubuntu1~16.04-b01)\nOpenJDK 64-Bit Server VM (build 25.275-b01, mixed mode)\n(may vary depending on your computer and OS)\n</code></pre>\n<p><strong>Step 2:</strong> open the <code>eclipse.ini</code> file</p>\n<p>The file is located at C:\\Users\\Yourusername\\eclipse\\java-2019-12\\eclipse</p>\n<p>Locate the following line -</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dosgi.requiredJavaVersion=11\n</code></pre>\n<p>Change it to</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Dosgi.requiredJavaVersion=1.8\n</code></pre>\n<p>and restart Eclipse. It is there <strong>twice</strong> so change at both places. You may try to give the Java version specific to your system (from the output of step 1). This has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6872022,"reputation":17,"user_id":14489697,"display_name":"Kavindu Perera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643853769,"creation_date":1612441923,"answer_id":66045696,"question_id":63996047,"body_markdown":"For Ubuntu users, refer to the answer https://stackoverflow.com/a/64049648/14489697 by howlger. Add the following lines in file `eclipse.ini` before `-vmargs`:\r\n\r\n```lang-none\r\n-vm\r\n/usr/lib/jvm/adoptopenjdk-14-openj9-amd64/bin/java\r\n```\r\n\r\nAbove is the Java install location. Change this according to yours.\r\n\r\nI&#39;m using,\r\n\r\n * Eclipse IDE for Enterprise Java Developers (includes Incubating components)\r\n * Version: 2020-12 (4.18.0)\r\n * Build id: 20201210-1552\r\n * OS: Linux, v.5.4.0-42-generic, x86_64 / gtk 3.22.30\r\n * Java version: 14.0.2\r\n\r\n\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>For Ubuntu users, refer to the answer <a href=\"https://stackoverflow.com/a/64049648/14489697\">https://stackoverflow.com/a/64049648/14489697</a> by howlger. Add the following lines in file <code>eclipse.ini</code> before <code>-vmargs</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-vm\n/usr/lib/jvm/adoptopenjdk-14-openj9-amd64/bin/java\n</code></pre>\n<p>Above is the Java install location. Change this according to yours.</p>\n<p>I'm using,</p>\n<ul>\n<li>Eclipse IDE for Enterprise Java Developers (includes Incubating components)</li>\n<li>Version: 2020-12 (4.18.0)</li>\n<li>Build id: 20201210-1552</li>\n<li>OS: Linux, v.5.4.0-42-generic, x86_64 / gtk 3.22.30</li>\n<li>Java version: 14.0.2</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":2,"creation_date":1618642579,"post_id":66227722,"comment_id":118668336,"body_markdown":"this is the correct answer. because the question says it WANTs to use java 11. not to make eclipse work with java 1.8.","body":"this is the correct answer. because the question says it WANTs to use java 11. not to make eclipse work with java 1.8."}],"tags":[],"owner":{"account_id":15050014,"reputation":321,"user_id":10861970,"display_name":"Ramjay Romorosa"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1643853799,"creation_date":1613490716,"answer_id":66227722,"question_id":63996047,"body_markdown":"This works for me. Make sure you add `-vm(Path_Of_Jdk)` on top of `-vmargs` of `eclipse.ini`\r\n\r\nE.g.,\r\n\r\n```lang-none\r\n-vm\r\nC:\\Program Files\\Java\\jdk-11.0.10\\bin\\javaw.exe\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n```\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>This works for me. Make sure you add <code>-vm(Path_Of_Jdk)</code> on top of <code>-vmargs</code> of <code>eclipse.ini</code></p>\n<p>E.g.,</p>\n<pre class=\"lang-none prettyprint-override\"><code>-vm\nC:\\Program Files\\Java\\jdk-11.0.10\\bin\\javaw.exe\n-vmargs\n-Dosgi.requiredJavaVersion=11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2722897,"reputation":1123,"user_id":2348765,"display_name":"Waleed Mohsin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620098734,"creation_date":1620098734,"answer_id":67378391,"question_id":63996047,"body_markdown":"   \r\n\r\n&gt;  Window =&gt; Preferences =&gt; Java =&gt; Installed JREs =&gt; Add  \r\n&gt;     (browse for AdoptOpenJdk 11) as shown in picture\r\n&gt;     Mark as default (Only Select this Version =&gt; Apply =&gt; Save)\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1C4EK.png","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<blockquote>\n<p>Window =&gt; Preferences =&gt; Java =&gt; Installed JREs =&gt; Add<br />\n(browse for AdoptOpenJdk 11) as shown in picture\nMark as default (Only Select this Version =&gt; Apply =&gt; Save)</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/1C4EK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1C4EK.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4218123,"reputation":9909,"user_id":3453898,"accept_rate":75,"display_name":"pixel"},"score":0,"creation_date":1626717066,"post_id":68267039,"comment_id":120963373,"body_markdown":"how come your eclipse.ini has path to jdk-16 but requiredJavaVersion is set to 11?","body":"how come your eclipse.ini has path to jdk-16 but requiredJavaVersion is set to 11?"}],"tags":[],"owner":{"account_id":21335908,"reputation":511,"user_id":15707148,"display_name":"Kavya S"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1643854034,"creation_date":1625559959,"answer_id":68267039,"question_id":63996047,"body_markdown":"To resolve the incompatible JVM Exception, specify the specific JVM for Eclipse.\r\n\r\n1. Open the eclipse folder and look for the *eclipse.ini* file.\r\n2. Before the *-vmargs* option, add the *-vm* option.\r\n3. Find and copy the path of the *javaw.exe* file in the JDK folder\r\n4. In the *eclipse.ini* file, add the path of the *javaw.exe* file to the new line following the *-vm* option.\r\n5. Restart Eclipse after saving the *eclipse.ini* file.\r\n\r\nAs a result, the *eclipse.ini* file looks like this:\r\n\r\n```lang-none\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.6.200.v20210416-2027.jar\r\n--launcher.library\r\nC:\\Users\\Admin\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.2.200.v20210429-1609\r\n-product\r\norg.eclipse.epp.package.java.product\r\n-showsplash\r\nC:\\Users\\Admin\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.20.0.20210612-1200\r\n--launcher.defaultAction\r\nopenFile\r\n--launcher.appendVmargs\r\n-vm                                          //NEW\r\nC:\\Program Files\\Java\\jdk-16\\bin\\javaw.exe   //NEW\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n-Dsun.java.command=Eclipse\r\n-XX:+UseG1GC\r\n-XX:+UseStringDeduplication\r\n--add-modules=ALL-SYSTEM\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n-Xms256m\r\n-Xmx2048m\r\n--add-modules=ALL-SYSTEM\r\n-Declipse.p2.max.threads=10\r\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\r\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\r\n```\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>To resolve the incompatible JVM Exception, specify the specific JVM for Eclipse.</p>\n<ol>\n<li>Open the eclipse folder and look for the <em>eclipse.ini</em> file.</li>\n<li>Before the <em>-vmargs</em> option, add the <em>-vm</em> option.</li>\n<li>Find and copy the path of the <em>javaw.exe</em> file in the JDK folder</li>\n<li>In the <em>eclipse.ini</em> file, add the path of the <em>javaw.exe</em> file to the new line following the <em>-vm</em> option.</li>\n<li>Restart Eclipse after saving the <em>eclipse.ini</em> file.</li>\n</ol>\n<p>As a result, the <em>eclipse.ini</em> file looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-startup\nplugins/org.eclipse.equinox.launcher_1.6.200.v20210416-2027.jar\n--launcher.library\nC:\\Users\\Admin\\.p2\\pool\\plugins\\org.eclipse.equinox.launcher.win32.win32.x86_64_1.2.200.v20210429-1609\n-product\norg.eclipse.epp.package.java.product\n-showsplash\nC:\\Users\\Admin\\.p2\\pool\\plugins\\org.eclipse.epp.package.common_4.20.0.20210612-1200\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm                                          //NEW\nC:\\Program Files\\Java\\jdk-16\\bin\\javaw.exe   //NEW\n-vmargs\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms256m\n-Xmx2048m\n--add-modules=ALL-SYSTEM\n-Declipse.p2.max.threads=10\n-Doomph.update.url=http://download.eclipse.org/oomph/updates/milestone/latest\n-Doomph.redirection.index.redirection=index:/-&gt;http://git.eclipse.org/c/oomph/org.eclipse.oomph.git/plain/setups/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879719,"reputation":451,"user_id":2470901,"accept_rate":86,"display_name":"Eike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643853964,"creation_date":1635748816,"answer_id":69793379,"question_id":63996047,"body_markdown":"I found this topic while having this issue starting **dBeaver** on [Manjaro][1]/[Arch Linux][2] with the same error. All provided suggestions did not work in my case.\r\n\r\nMy solution was to set the JVM as per this [post on the Manjaro Forum][3]:\r\n\r\n1. checked the installed versions\r\n\r\n    `ls /usr/lib/jvm`\r\n\r\n2. set latest version (16 in my case)\r\n\r\n    `sudo archlinux-java set java-16-jdk`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Manjaro\r\n  [2]: https://en.wikipedia.org/wiki/Arch_Linux\r\n  [3]: https://forum.manjaro.org/t/dbeaver-does-not-start-on-launch-reference-to-arch-linux-issue/51868/2\r\n\r\n\r\n\r\n\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I found this topic while having this issue starting <strong>dBeaver</strong> on <a href=\"https://en.wikipedia.org/wiki/Manjaro\" rel=\"nofollow noreferrer\">Manjaro</a>/<a href=\"https://en.wikipedia.org/wiki/Arch_Linux\" rel=\"nofollow noreferrer\">Arch Linux</a> with the same error. All provided suggestions did not work in my case.</p>\n<p>My solution was to set the JVM as per this <a href=\"https://forum.manjaro.org/t/dbeaver-does-not-start-on-launch-reference-to-arch-linux-issue/51868/2\" rel=\"nofollow noreferrer\">post on the Manjaro Forum</a>:</p>\n<ol>\n<li><p>checked the installed versions</p>\n<p><code>ls /usr/lib/jvm</code></p>\n</li>\n<li><p>set latest version (16 in my case)</p>\n<p><code>sudo archlinux-java set java-16-jdk</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13880262,"reputation":2340,"user_id":10020799,"display_name":"L Kemp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645482004,"creation_date":1645482004,"answer_id":71213688,"question_id":63996047,"body_markdown":"If you&#39;re looking to resolve this **without changing eclipse.ini file**, just reinstall eclipse IDE. It can be the same version or newer one.\r\nI have reinstalled the same version and it&#39;s worked without issues, no needing of changing eclipse.ini.","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>If you're looking to resolve this <strong>without changing eclipse.ini file</strong>, just reinstall eclipse IDE. It can be the same version or newer one.\nI have reinstalled the same version and it's worked without issues, no needing of changing eclipse.ini.</p>\n"},{"comments":[{"owner":{"account_id":8763540,"reputation":1583,"user_id":6552776,"display_name":"csabinho"},"score":0,"creation_date":1647867371,"post_id":71522958,"comment_id":126471529,"body_markdown":"Please don&#39;t add &quot;thank you&quot; as an answer. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation), you will be able to [vote up questions and answers](https://stackoverflow.com/help/privileges/vote-up) that you found helpful. - [From Review](/review/late-answers/31317769)","body":"Please don&#39;t add &quot;thank you&quot; as an answer. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you will be able to <a href=\"https://stackoverflow.com/help/privileges/vote-up\">vote up questions and answers</a> that you found helpful. - <a href=\"/review/late-answers/31317769\">From Review</a>"}],"tags":[],"owner":{"account_id":3921069,"reputation":11,"user_id":3243189,"accept_rate":0,"display_name":"user3243189"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647582810,"creation_date":1647582810,"answer_id":71522958,"question_id":63996047,"body_markdown":"Thank you .\r\nThis one worked for me \r\n-vm                                          \r\nC:\\Program Files\\Java\\jdk-16\\bin\\javaw.exe \r\nadded these lines in eclipse.ini file","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>Thank you .\nThis one worked for me\n-vm<br />\nC:\\Program Files\\Java\\jdk-16\\bin\\javaw.exe\nadded these lines in eclipse.ini file</p>\n"},{"tags":[],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648058333,"creation_date":1648058333,"answer_id":71591933,"question_id":63996047,"body_markdown":"Adding an additional answer here as I was not able to start my eclipse even after updating the eclipse.ini file with the path of javaw.exe under the JDK. I was running into an exception that started as \r\n```\r\nJava was started but returned exit code=1\r\n```\r\nI had to point to the java.dll file as suggested in https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example.\r\nSo my latest eclipse.ini looked like \r\n```\r\n-vm \r\nC:\\Program Files\\Eclipse Adoptium\\jre-11.0.14.101-hotspot\\bin\\server\\jvm.dll\r\n```\r\n\r\nAlso, when I installed JDK 11 it did not come with JRE. I had to download the JRE separately from https://adoptium.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot\r\n\r\nHope someone finds this useful. ","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>Adding an additional answer here as I was not able to start my eclipse even after updating the eclipse.ini file with the path of javaw.exe under the JDK. I was running into an exception that started as</p>\n<pre><code>Java was started but returned exit code=1\n</code></pre>\n<p>I had to point to the java.dll file as suggested in <a href=\"https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse.ini#-vm_value:_Windows_Example</a>.\nSo my latest eclipse.ini looked like</p>\n<pre><code>-vm \nC:\\Program Files\\Eclipse Adoptium\\jre-11.0.14.101-hotspot\\bin\\server\\jvm.dll\n</code></pre>\n<p>Also, when I installed JDK 11 it did not come with JRE. I had to download the JRE separately from <a href=\"https://adoptium.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">https://adoptium.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot</a></p>\n<p>Hope someone finds this useful.</p>\n"},{"tags":[],"owner":{"account_id":13814341,"reputation":3543,"user_id":9971280,"display_name":"Niroshan Ratnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1653111904,"creation_date":1653111904,"answer_id":72326988,"question_id":63996047,"body_markdown":"**I had the same issue and the following easy steps fixed the issue**\r\n\r\n**Step - 1**\r\n\r\n Go to the file location of the eclipse and open `eclipse.ini` in editable format\r\n\r\n**Step - 2**\r\n\r\nGo to the java folder location where you find javaw.exe&lt;br&gt;\r\nIn my case : `C:\\Program Files\\Java\\jdk-11.0.11\\bin\\javaw.exe`\r\n\r\n**Step - 3**\r\n\r\nThen paste the following before tag `-vmargs` inside `eclipse.ini` file\r\n\r\n    -vm\r\n    C:\\Program Files\\Java\\jdk-11.0.11\\bin\\javaw.exe\r\n\r\nThe below image shows in brief\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UNvCk.png","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p><strong>I had the same issue and the following easy steps fixed the issue</strong></p>\n<p><strong>Step - 1</strong></p>\n<p>Go to the file location of the eclipse and open <code>eclipse.ini</code> in editable format</p>\n<p><strong>Step - 2</strong></p>\n<p>Go to the java folder location where you find javaw.exe<br>\nIn my case : <code>C:\\Program Files\\Java\\jdk-11.0.11\\bin\\javaw.exe</code></p>\n<p><strong>Step - 3</strong></p>\n<p>Then paste the following before tag <code>-vmargs</code> inside <code>eclipse.ini</code> file</p>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk-11.0.11\\bin\\javaw.exe\n</code></pre>\n<p>The below image shows in brief</p>\n<p><a href=\"https://i.stack.imgur.com/UNvCk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UNvCk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9295053,"reputation":11,"user_id":6902263,"display_name":"Jackson Calixto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654167045,"creation_date":1654167045,"answer_id":72475001,"question_id":63996047,"body_markdown":"Check out your java version and update path and version...\r\necho %JAVA_HOME%\\bin\\javaw.exe\r\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe\r\n\r\n-vm\r\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe\r\n-vmargs\r\n-Dosgi.requiredJavaVersion=18","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>Check out your java version and update path and version...\necho %JAVA_HOME%\\bin\\javaw.exe\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe</p>\n<p>-vm\nC:\\Program Files\\Java\\jdk-18.0.1.1\\bin\\javaw.exe\n-vmargs\n-Dosgi.requiredJavaVersion=18</p>\n"},{"tags":[],"owner":{"account_id":4347060,"reputation":191,"user_id":3548741,"display_name":"cem &#231;etin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660734424,"creation_date":1660734101,"answer_id":73387322,"question_id":63996047,"body_markdown":"**For MacOS users:**\r\n\r\nIf you see this error but already have version 11 or greater, you need to specify your jdk bin folder in .ini file. \r\n\r\nI observed this error for Eclipse Mat(Memory Analyzer), I guess this procedure is similar for Eclipse IDE.\r\n\r\nFollow these steps to find .ini file (You need to find/know your jdk bin folder before these steps!)\r\n- Go to Applications folder\r\n- Right click on application and click on &quot;Show Package Contents&quot;\r\n- Go to Contents/Eclipse\r\n- Open MemoryAnalyzer.ini with a text editor\r\n- Find &quot;-vmargs&quot; in MemoryAnalyzer.ini\r\n- Add this before &quot;-vmargs&quot;\r\n\r\n```\r\n-vm\r\n/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/bin\r\n```\r\n\r\n- You can start your application after saving changes in .ini file.","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p><strong>For MacOS users:</strong></p>\n<p>If you see this error but already have version 11 or greater, you need to specify your jdk bin folder in .ini file.</p>\n<p>I observed this error for Eclipse Mat(Memory Analyzer), I guess this procedure is similar for Eclipse IDE.</p>\n<p>Follow these steps to find .ini file (You need to find/know your jdk bin folder before these steps!)</p>\n<ul>\n<li>Go to Applications folder</li>\n<li>Right click on application and click on &quot;Show Package Contents&quot;</li>\n<li>Go to Contents/Eclipse</li>\n<li>Open MemoryAnalyzer.ini with a text editor</li>\n<li>Find &quot;-vmargs&quot; in MemoryAnalyzer.ini</li>\n<li>Add this before &quot;-vmargs&quot;</li>\n</ul>\n<pre><code>-vm\n/Library/Java/JavaVirtualMachines/jdk-11.0.12.jdk/Contents/Home/bin\n</code></pre>\n<ul>\n<li>You can start your application after saving changes in .ini file.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12310042,"reputation":21,"user_id":8981804,"display_name":"ayush bhorse"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665852109,"creation_date":1665553332,"answer_id":74036978,"question_id":63996047,"body_markdown":"Just add the text above the `-startup` in `C:\\Users\\username\\eclipse\\java-2022-09\\eclipse\\eclipse.ini`\r\n\r\n```\r\n-vm\r\nC:\\Program Files\\Java\\jdk-19\\bin\\javaw.exe\r\n-startup\r\nplugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n```\r\n\r\nThis change worked for me","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>Just add the text above the <code>-startup</code> in <code>C:\\Users\\username\\eclipse\\java-2022-09\\eclipse\\eclipse.ini</code></p>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk-19\\bin\\javaw.exe\n-startup\nplugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n</code></pre>\n<p>This change worked for me</p>\n"},{"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669383656,"creation_date":1669383656,"answer_id":74573710,"question_id":63996047,"body_markdown":"I just updated the java 11 path in system environmental variables and able to open my eclipse. My eclipse version is 2021-12 (4.22.0)","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I just updated the java 11 path in system environmental variables and able to open my eclipse. My eclipse version is 2021-12 (4.22.0)</p>\n"}],"owner":{"account_id":19563223,"reputation":1699,"user_id":14316020,"display_name":"CommanderCat"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388140,"favorite_count":0,"down_vote_count":0,"up_vote_count":151,"answer_count":21,"score":151,"last_activity_date":1698288731,"creation_date":1600704458,"question_id":63996047,"body_markdown":"I just downloaded Eclipse as an archive and installed newest 64 bit Java and 64 bit Java Development Kit 15. And I get this error. I installed JDK 11 after and got the same error. \r\n\r\nHow can I make this work?\r\n\r\n","title":"Eclipse - &quot;Incompatible JVM. Version 1.8.0_261 of the JVM is not suitable for this product. Version: 11 or greater is required&quot;","body":"<p>I just downloaded Eclipse as an archive and installed newest 64 bit Java and 64 bit Java Development Kit 15. And I get this error. I installed JDK 11 after and got the same error.</p>\n<p>How can I make this work?</p>\n"},{"tags":["java","spring-boot","spring-authorization-server"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1686141289,"post_id":76423232,"comment_id":134758003,"body_markdown":"Does your client request scopes? Have a look at this [issue](https://github.com/spring-projects/spring-authorization-server/issues/780) and this [pull request](https://github.com/spring-projects/spring-authorization-server/pull/738).","body":"Does your client request scopes? Have a look at this <a href=\"https://github.com/spring-projects/spring-authorization-server/issues/780\" rel=\"nofollow noreferrer\">issue</a> and this <a href=\"https://github.com/spring-projects/spring-authorization-server/pull/738\" rel=\"nofollow noreferrer\">pull request</a>."},{"owner":{"account_id":28772187,"reputation":1,"user_id":22035708,"display_name":"wsyours"},"score":0,"creation_date":1686144026,"post_id":76423232,"comment_id":134758661,"body_markdown":"Hi, @AlexR, thank you for this precious information! No, my client does not request scopes, and he didn&#39;t before.","body":"Hi, @AlexR, thank you for this precious information! No, my client does not request scopes, and he didn&#39;t before."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150688,"post_id":76423232,"comment_id":134760444,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29755791,"reputation":1,"user_id":22804517,"display_name":"szsun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698288449,"creation_date":1698288449,"answer_id":77363846,"question_id":76423232,"body_markdown":"I face the exact same issue. A simple client-credential auth flow.\r\nThe client doesn&#39;t send &#39;scope&#39; in the request to the token endpoint because this is optional and I expect the server will provide it based on the registered client&#39;s scope.\r\n\r\nI&#39;ve been debugging the code of OAuth2ClientCredentialsAuthenticationProvider.java to see why there is no &#39;scope&#39; popluated in the claims.\r\nThe code doesn&#39;t pull the client&#39;s scope at all but just valiate and set the scope  if the client has provided in the request. But not considering the case when it&#39;s not provided:\r\n\r\n    if (!CollectionUtils.isEmpty(clientCredentialsAuthentication.getScopes())) {\r\n    \t\t\tfor (String requestedScope : clientCredentialsAuthentication.getScopes()) {\r\n    \t\t\t\tif (!registeredClient.getScopes().contains(requestedScope)) {\r\n    \t\t\t\t\tthrow new OAuth2AuthenticationException(OAuth2ErrorCodes.INVALID_SCOPE);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tauthorizedScopes = new LinkedHashSet&lt;&gt;(clientCredentialsAuthentication.getScopes());\r\n    \t\t}\r\n\r\nObviously this is a bug to me.\r\nWondering how to get around of this problem by customizing the provider.","title":"No getting scopes from RegisteredClient in OAuth2ClientCredentialsAuthenticationProvider in spring-security-oauth2-authorization-server since v0.4.0","body":"<p>I face the exact same issue. A simple client-credential auth flow.\nThe client doesn't send 'scope' in the request to the token endpoint because this is optional and I expect the server will provide it based on the registered client's scope.</p>\n<p>I've been debugging the code of OAuth2ClientCredentialsAuthenticationProvider.java to see why there is no 'scope' popluated in the claims.\nThe code doesn't pull the client's scope at all but just valiate and set the scope  if the client has provided in the request. But not considering the case when it's not provided:</p>\n<pre><code>if (!CollectionUtils.isEmpty(clientCredentialsAuthentication.getScopes())) {\n            for (String requestedScope : clientCredentialsAuthentication.getScopes()) {\n                if (!registeredClient.getScopes().contains(requestedScope)) {\n                    throw new OAuth2AuthenticationException(OAuth2ErrorCodes.INVALID_SCOPE);\n                }\n            }\n            authorizedScopes = new LinkedHashSet&lt;&gt;(clientCredentialsAuthentication.getScopes());\n        }\n</code></pre>\n<p>Obviously this is a bug to me.\nWondering how to get around of this problem by customizing the provider.</p>\n"}],"owner":{"account_id":28772187,"reputation":1,"user_id":22035708,"display_name":"wsyours"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698288449,"creation_date":1686140275,"question_id":76423232,"body_markdown":"After updating the spring-security-oauth2-authorization-server from v0.2 to v1.1 while updating Spring Boot I faced that no scopes received by authentification method oauth2/token. \r\n\r\nI noticed that inside OAuth2ClientCredentialsAuthenticationProvider authenticate(Authentication authentication) there are some changes with scopes functionality, and we can&#39;t take it from registeredClient entity no longer.\r\n[v0.3.1](https://i.stack.imgur.com/mybkw.png)\r\n[v1.1](https://i.stack.imgur.com/nYnER.png)\r\n\r\nI still need to take scopes from table in DB, not sending them by oauth2/token request.\r\nFound any documentation about this change.\r\nWhy it was changed and how can I fix it?\r\n\r\nI tried to make custom AuthenticationProvider and fix change it, but had some difficulties with autowiring.\r\nprivate final OAuth2AuthorizationService authorizationService;\r\nprivate final OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator;\r\n","title":"No getting scopes from RegisteredClient in OAuth2ClientCredentialsAuthenticationProvider in spring-security-oauth2-authorization-server since v0.4.0","body":"<p>After updating the spring-security-oauth2-authorization-server from v0.2 to v1.1 while updating Spring Boot I faced that no scopes received by authentification method oauth2/token.</p>\n<p>I noticed that inside OAuth2ClientCredentialsAuthenticationProvider authenticate(Authentication authentication) there are some changes with scopes functionality, and we can't take it from registeredClient entity no longer.\n<a href=\"https://i.stack.imgur.com/mybkw.png\" rel=\"nofollow noreferrer\">v0.3.1</a>\n<a href=\"https://i.stack.imgur.com/nYnER.png\" rel=\"nofollow noreferrer\">v1.1</a></p>\n<p>I still need to take scopes from table in DB, not sending them by oauth2/token request.\nFound any documentation about this change.\nWhy it was changed and how can I fix it?</p>\n<p>I tried to make custom AuthenticationProvider and fix change it, but had some difficulties with autowiring.\nprivate final OAuth2AuthorizationService authorizationService;\nprivate final OAuth2TokenGenerator&lt;? extends OAuth2Token&gt; tokenGenerator;</p>\n"},{"tags":["java","jvm","apache-flink","javacpp","nd4j"],"comments":[{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":1,"creation_date":1698424600,"post_id":77361407,"comment_id":136408552,"body_markdown":"When you say &quot;Memory usage only goes up&quot;, are you referring to JVM space or off-heap?","body":"When you say &quot;Memory usage only goes up&quot;, are you referring to JVM space or off-heap?"},{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":2,"creation_date":1698424694,"post_id":77361407,"comment_id":136408570,"body_markdown":"Separately, when I used JFasttext in a Flink workflow, avoiding offheap OOM errors was challenging. I wound up having to make specific calls to release off-heap memory. No idea if something similar is required with ND4J.","body":"Separately, when I used JFasttext in a Flink workflow, avoiding offheap OOM errors was challenging. I wound up having to make specific calls to release off-heap memory. No idea if something similar is required with ND4J."},{"owner":{"account_id":11066764,"reputation":61,"user_id":8126334,"display_name":"Corvus"},"score":1,"creation_date":1698432421,"post_id":77361407,"comment_id":136409712,"body_markdown":"I&#39;m referring to the overall memory usage metric reported by kubernetes. How can you make specific calls to release memory? Did you use the actual pointers?","body":"I&#39;m referring to the overall memory usage metric reported by kubernetes. How can you make specific calls to release memory? Did you use the actual pointers?"},{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1698535114,"post_id":77361407,"comment_id":136418419,"body_markdown":"I made a specific JFasttext API call to release memory. Wondering if anything similar exists for ND4J (which I haven&#39;t used, sorry).","body":"I made a specific JFasttext API call to release memory. Wondering if anything similar exists for ND4J (which I haven&#39;t used, sorry)."}],"answers":[{"tags":[],"owner":{"account_id":11250085,"reputation":401,"user_id":8251447,"display_name":"Akjun"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698287178,"creation_date":1698287178,"answer_id":77363788,"question_id":77361407,"body_markdown":"Here are some suggestions that i can think of:\r\n \r\n1. **Workspaces**: You mentioned that you tried using workspaces but didn&#39;t see an improvement. Workspaces are essential for managing memory efficiently. Ensure that you are using it correctly. Here&#39;s an example:\r\n\r\n&gt;     // Create a workspace\r\n&gt;     MemoryWorkspace workspace = Nd4j.getWorkspaceManager().getAndActivateWorkspace(WorkspaceConfiguration.builder().initialSize(1e6).overallocationLimit(0.1).policyLearning(LearningPolicy.FIRST_LOOP).build());\r\n&gt;     \r\n&gt;     try {\r\n&gt;         // Your ND4J calculations here\r\n&gt;     } finally {\r\n&gt;         // Close the workspace\r\n&gt;         workspace.close();\r\n&gt;     }\r\n\r\n2. **Release Resources**: Make sure you release memory explicitly when it&#39;s no longer needed. In Flink, use **ValueState.clear()** or **ListState.clear()** to release state-related resources.\r\n\r\n3. **Check for Native Backend Configuration**: Depending on the specific computations you are performing, you might need to configure the ND4J native backend to better suit your needs. This might involve switching between the CPU and GPU backends or fine-tuning the native backend settings.\r\n\r\n    To configure the native backend, you can set environment variables.For example:\r\n\r\n        export ND4J_SYSTEM_PROP=cpu\r\n        export ND4J_CPU_FEATURES=avx512\r\n\r\n    Adjust accordingly to your system&#39;s capabilities and requirements.\r\n\r\n4. **Flink Off-Heap State:** If you are using Flink&#39;s state, you can check if Flink is configured to use off-heap state storage if your state is large. Off-heap state helps in reducing the memory footprint of your Flink application.\r\n\r\nIf nothing work for you :\r\n\r\nConsider **Profiling and Monitoring:** using profiling tools and monitoring to understand memory usage patterns and potential memory leaks. Tools like VisualVM, YourKit, or Flink&#39;s built-in metrics can help identify areas where memory is not being released as expected. HTH.","title":"Nd4j and flink memory leak","body":"<p>Here are some suggestions that i can think of:</p>\n<ol>\n<li><strong>Workspaces</strong>: You mentioned that you tried using workspaces but didn't see an improvement. Workspaces are essential for managing memory efficiently. Ensure that you are using it correctly. Here's an example:</li>\n</ol>\n<blockquote>\n<pre><code>// Create a workspace\nMemoryWorkspace workspace = Nd4j.getWorkspaceManager().getAndActivateWorkspace(WorkspaceConfiguration.builder().initialSize(1e6).overallocationLimit(0.1).policyLearning(LearningPolicy.FIRST_LOOP).build());\n\ntry {\n    // Your ND4J calculations here\n} finally {\n    // Close the workspace\n    workspace.close();\n}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li><p><strong>Release Resources</strong>: Make sure you release memory explicitly when it's no longer needed. In Flink, use <strong>ValueState.clear()</strong> or <strong>ListState.clear()</strong> to release state-related resources.</p>\n</li>\n<li><p><strong>Check for Native Backend Configuration</strong>: Depending on the specific computations you are performing, you might need to configure the ND4J native backend to better suit your needs. This might involve switching between the CPU and GPU backends or fine-tuning the native backend settings.</p>\n<p>To configure the native backend, you can set environment variables.For example:</p>\n<pre><code> export ND4J_SYSTEM_PROP=cpu\n export ND4J_CPU_FEATURES=avx512\n</code></pre>\n<p>Adjust accordingly to your system's capabilities and requirements.</p>\n</li>\n<li><p><strong>Flink Off-Heap State:</strong> If you are using Flink's state, you can check if Flink is configured to use off-heap state storage if your state is large. Off-heap state helps in reducing the memory footprint of your Flink application.</p>\n</li>\n</ol>\n<p>If nothing work for you :</p>\n<p>Consider <strong>Profiling and Monitoring:</strong> using profiling tools and monitoring to understand memory usage patterns and potential memory leaks. Tools like VisualVM, YourKit, or Flink's built-in metrics can help identify areas where memory is not being released as expected. HTH.</p>\n"}],"owner":{"account_id":11066764,"reputation":61,"user_id":8126334,"display_name":"Corvus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1698287178,"creation_date":1698252045,"question_id":77361407,"body_markdown":"Using ND4J and Flink, I have a process function that receives a POJO, uses the linalg ndarray to calculate a result using a bunch of math, and outputs a pojo.\r\nWhen running the program on the cluster, using the Linux CPU backend, both with and without avx512, I can see that the memory usage only goes up. It seems like there is a memory leak from the process function with the nd4j calculations. I&#39;m not keeping any references outside that method, so there is no reason for the memory to not be released\r\nThe GC is called, but it doesn&#39;t release much of the memory. I also tried to use the workspace feature, but it didn&#39;t change anything \r\n\r\nI have tried to change the GC, change heap / off heap sizes, setting bytedeco&#39;s maxbytes and maxphysicalbytes, use workspaces, but nothing helps ","title":"Nd4j and flink memory leak","body":"<p>Using ND4J and Flink, I have a process function that receives a POJO, uses the linalg ndarray to calculate a result using a bunch of math, and outputs a pojo.\nWhen running the program on the cluster, using the Linux CPU backend, both with and without avx512, I can see that the memory usage only goes up. It seems like there is a memory leak from the process function with the nd4j calculations. I'm not keeping any references outside that method, so there is no reason for the memory to not be released\nThe GC is called, but it doesn't release much of the memory. I also tried to use the workspace feature, but it didn't change anything</p>\n<p>I have tried to change the GC, change heap / off heap sizes, setting bytedeco's maxbytes and maxphysicalbytes, use workspaces, but nothing helps</p>\n"},{"tags":["java","android","flutter","server"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301014,"post_id":77363744,"comment_id":136388204,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698286890,"creation_date":1698286890,"answer_id":77363772,"question_id":77363744,"body_markdown":"That&#39;s not how fingerprint sensors work.  They don&#39;t give an image, it&#39;s not just a camera.  In fact it would be a really horrible way for a fingerprint sensor to work even if it was a camera-  it would be passing on the secret to whatever app used the sensor.  In Android the fingerprint sensor is used by the OS, and all it returns is whether an attempt to authenticate succeeds or fails vs the prints stored in secured, hardware encrypted storage.","title":"Fingerprint sensor in mobile","body":"<p>That's not how fingerprint sensors work.  They don't give an image, it's not just a camera.  In fact it would be a really horrible way for a fingerprint sensor to work even if it was a camera-  it would be passing on the secret to whatever app used the sensor.  In Android the fingerprint sensor is used by the OS, and all it returns is whether an attempt to authenticate succeeds or fails vs the prints stored in secured, hardware encrypted storage.</p>\n"}],"owner":{"account_id":29755628,"reputation":1,"user_id":22804391,"display_name":"Al Hmd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698286890,"creation_date":1698286379,"question_id":77363744,"body_markdown":"My graduation project is develop application access fingerprint sensor in mobile device and user register fingerprint i want to get fingerprint as image and apply encryption technology and nural network for matching and store in server, what libraries help me i use android studio to develop application?\r\n\r\nI am trying develop application ","title":"Fingerprint sensor in mobile","body":"<p>My graduation project is develop application access fingerprint sensor in mobile device and user register fingerprint i want to get fingerprint as image and apply encryption technology and nural network for matching and store in server, what libraries help me i use android studio to develop application?</p>\n<p>I am trying develop application</p>\n"},{"tags":["java","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1659803651,"post_id":73256653,"comment_id":129384124,"body_markdown":"Does this answer your question? [Attempting to access message content without GatewayIntent](https://stackoverflow.com/questions/73079928/attempting-to-access-message-content-without-gatewayintent)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73079928/attempting-to-access-message-content-without-gatewayintent\">Attempting to access message content without GatewayIntent</a>"},{"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"score":0,"creation_date":1659886145,"post_id":73256653,"comment_id":129396332,"body_markdown":"Yes! Although I solved the problem now, thanks for helping :)","body":"Yes! Although I solved the problem now, thanks for helping :)"}],"answers":[{"tags":[],"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659753740,"creation_date":1659753740,"answer_id":73256809,"question_id":73256653,"body_markdown":"Solved the problem, I didn&#39;t add the method enableIntents(GatewayIntent.MESSAGE_CONTENT) to builder.","title":"e.getMessage().getContentDisplay() returns empty String","body":"<p>Solved the problem, I didn't add the method enableIntents(GatewayIntent.MESSAGE_CONTENT) to builder.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1665503134,"post_id":73980820,"comment_id":130713514,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73980820/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26550321,"reputation":1,"user_id":20179745,"display_name":"Blobba"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665097594,"creation_date":1665097594,"answer_id":73980820,"question_id":73256653,"body_markdown":"I have the same problem, but there is no option to enable GatewayIntent.MESSAGE_CONTENT\r\n\r\nonly:\r\n\r\n    [...]\r\n    builder.createDefault(&quot;xxx&quot;)\r\n                            .setActivity(Activity.playing(&quot;!help&quot;) )\r\n                            .setStatus(OnlineStatus.ONLINE)\r\n                            .addEventListeners(new CommandListener() )\r\n                            .addEventListeners(new VoiceListener() )\r\n                            .enableIntents(GatewayIntent.GUILD_MESSAGES)\r\n                            .enableIntents(GatewayIntent.DIRECT_MESSAGES)\r\n                            .build();\r\n    [...]\r\n\r\nI have enabled the above ones.","title":"e.getMessage().getContentDisplay() returns empty String","body":"<p>I have the same problem, but there is no option to enable GatewayIntent.MESSAGE_CONTENT</p>\n<p>only:</p>\n<pre><code>[...]\nbuilder.createDefault(&quot;xxx&quot;)\n                        .setActivity(Activity.playing(&quot;!help&quot;) )\n                        .setStatus(OnlineStatus.ONLINE)\n                        .addEventListeners(new CommandListener() )\n                        .addEventListeners(new VoiceListener() )\n                        .enableIntents(GatewayIntent.GUILD_MESSAGES)\n                        .enableIntents(GatewayIntent.DIRECT_MESSAGES)\n                        .build();\n[...]\n</code></pre>\n<p>I have enabled the above ones.</p>\n"},{"tags":[],"owner":{"account_id":29197546,"reputation":1,"user_id":22368316,"display_name":"WhiteBeef "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691654434,"creation_date":1691654434,"answer_id":76873726,"question_id":73256653,"body_markdown":"You need to toggle checkbox &quot;MESSAGE CONTENT INTENT&quot; in your application to the ON position.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2jeix.png","title":"e.getMessage().getContentDisplay() returns empty String","body":"<p>You need to toggle checkbox &quot;MESSAGE CONTENT INTENT&quot; in your application to the ON position.<a href=\"https://i.stack.imgur.com/2jeix.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":15727745,"reputation":135,"user_id":15124094,"display_name":"OskarZyg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698286754,"creation_date":1698286754,"answer_id":77363763,"question_id":73256653,"body_markdown":"There are **two** places where you need to enable the `message content` intent.\r\n1. In the [Discord Developer Portal](https://discord.com/developers/applications)\r\n\r\nIn your application, under **Bot** scroll down to **Privileged Gateway Intents**, and tick **Message Content Intent**\r\n\r\n2. When creating the `JDA` instance\r\n```java\r\nJDABuilder.createDefault(token)\r\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT)\r\n            .build();\r\n```\r\n\r\nAfter this, your messages should register.","title":"e.getMessage().getContentDisplay() returns empty String","body":"<p>There are <strong>two</strong> places where you need to enable the <code>message content</code> intent.</p>\n<ol>\n<li>In the <a href=\"https://discord.com/developers/applications\" rel=\"nofollow noreferrer\">Discord Developer Portal</a></li>\n</ol>\n<p>In your application, under <strong>Bot</strong> scroll down to <strong>Privileged Gateway Intents</strong>, and tick <strong>Message Content Intent</strong></p>\n<ol start=\"2\">\n<li>When creating the <code>JDA</code> instance</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>JDABuilder.createDefault(token)\n            .enableIntents(GatewayIntent.MESSAGE_CONTENT)\n            .build();\n</code></pre>\n<p>After this, your messages should register.</p>\n"}],"owner":{"account_id":22949431,"reputation":21,"user_id":17080956,"display_name":"Libration"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":920,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1698286754,"creation_date":1659750636,"question_id":73256653,"body_markdown":"I&#39;m learning jda and I coded my discord bot so that console send the message that I sent, but after executing this code, I send a random message in my test discord server, the console just prints nothing. Is anything wrong with my code? I also tried e.getMessage().getContentRaw(), but it returns same result.\r\n\r\nMain Class\r\n```\r\npackage net.lib.first;\r\n\r\nimport net.dv8tion.jda.api.JDABuilder;\r\nimport net.dv8tion.jda.api.entities.Activity;\r\nimport net.dv8tion.jda.api.entities.Message;\r\nimport net.lib.first.event.Listener;\r\n\r\nimport javax.security.auth.login.LoginException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws LoginException {\r\n        String token = (my bot token);\r\n        JDABuilder builder = JDABuilder.createDefault(token);\r\n        builder.addEventListeners(new Listener());\r\n        builder.setActivity(Activity.playing(&quot;Type !ping&quot;));\r\n        builder.build();\r\n\r\n        Message.suppressContentIntentWarning();\r\n    }\r\n}\r\n```\r\n\r\nListener Class\r\n```\r\npackage net.lib.first.event;\r\n\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\nimport org.jetbrains.annotations.NotNull;\r\n\r\npublic class Listener extends ListenerAdapter {\r\n    @Override\r\n    public void onMessageReceived(@NotNull MessageReceivedEvent e) {\r\n        System.out.println(e.getMessage().getContentDisplay());\r\n    }\r\n}\r\n```","title":"e.getMessage().getContentDisplay() returns empty String","body":"<p>I'm learning jda and I coded my discord bot so that console send the message that I sent, but after executing this code, I send a random message in my test discord server, the console just prints nothing. Is anything wrong with my code? I also tried e.getMessage().getContentRaw(), but it returns same result.</p>\n<p>Main Class</p>\n<pre><code>package net.lib.first;\n\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.entities.Activity;\nimport net.dv8tion.jda.api.entities.Message;\nimport net.lib.first.event.Listener;\n\nimport javax.security.auth.login.LoginException;\n\npublic class Main {\n    public static void main(String[] args) throws LoginException {\n        String token = (my bot token);\n        JDABuilder builder = JDABuilder.createDefault(token);\n        builder.addEventListeners(new Listener());\n        builder.setActivity(Activity.playing(&quot;Type !ping&quot;));\n        builder.build();\n\n        Message.suppressContentIntentWarning();\n    }\n}\n</code></pre>\n<p>Listener Class</p>\n<pre><code>package net.lib.first.event;\n\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\nimport org.jetbrains.annotations.NotNull;\n\npublic class Listener extends ListenerAdapter {\n    @Override\n    public void onMessageReceived(@NotNull MessageReceivedEvent e) {\n        System.out.println(e.getMessage().getContentDisplay());\n    }\n}\n</code></pre>\n"},{"tags":["java","import","performance"],"answers":[{"comments":[{"owner":{"account_id":11570777,"reputation":577,"user_id":8477631,"display_name":"Juan Ramos"},"score":3,"creation_date":1546958753,"post_id":7128365,"comment_id":95020436,"body_markdown":"How about compile time? Java will need to search among the classes that are being use...","body":"How about compile time? Java will need to search among the classes that are being use..."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1694585087,"post_id":7128365,"comment_id":135908754,"body_markdown":"The answer to that is in https://stackoverflow.com/a/7128687/139985 :-)","body":"The answer to that is in <a href=\"https://stackoverflow.com/a/7128687/139985\">stackoverflow.com/a/7128687/139985</a> :-)"}],"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"comment_count":2,"down_vote_count":2,"up_vote_count":52,"is_accepted":true,"score":50,"last_activity_date":1313795997,"creation_date":1313795997,"answer_id":7128365,"question_id":7128348,"body_markdown":"At runtime 0.\r\n\r\nBoth generate the same byte code","title":"Performance difference between a wild card import and the required class import","body":"<p>At runtime 0.</p>\n\n<p>Both generate the same byte code</p>\n"},{"tags":[],"owner":{"account_id":791553,"reputation":326,"user_id":893576,"accept_rate":0,"display_name":"Anonymice"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1313797100,"creation_date":1313797100,"answer_id":7128477,"question_id":7128348,"body_markdown":"There is no performance impact on runtime, there might be impact on compilation time:\r\nhttp://www.javaperformancetuning.com/news/qotm031.shtml","title":"Performance difference between a wild card import and the required class import","body":"<p>There is no performance impact on runtime, there might be impact on compilation time:\n<a href=\"http://www.javaperformancetuning.com/news/qotm031.shtml\">http://www.javaperformancetuning.com/news/qotm031.shtml</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1698285884,"creation_date":1313799664,"answer_id":7128687,"question_id":7128348,"body_markdown":"Imports are resolved to fully qualified names at compile time.  There is no runtime performance difference.  If you look at the generated bytecodes in the two cases, they will be identical.\r\n\r\n There *might* be a *small* compile time overhead in using one or the other form, but it is likely to be *so small* that nobody should notice it, let alone care about it.\r\n\r\n&gt; I know that the first one will include every file in java.io.* and the next one only the selected class file. \r\n\r\nNot exactly.  What a star import does is to make all of the class names available *to the compiler*.  The actual classes themselves are not &quot;included&quot; ... in the sense of the C or C++ programming languages.\r\n\r\n------------------\r\n\r\nThe real reasons that many people use explicit imports rather than wildcard imports are:\r\n\r\n  - Explicit imports clearly document what external classes a class is directly using, provided that you don&#39;t leave redundant imports in your code.\r\n\r\n  - Explicit imports avoid problems with name collisions arising when you import two packages that contain classes with the same (simple) class name.\r\n\r\n  - Explicit imports avoid fragility problems where someone adds a new class to some package that you have wildcard imported.  This can lead to new compilation errors (in code that previously used to compile) due to a name collision; see the previous bullet point.\r\n\r\nModern IDEs have accelerators, code elision and other features that can help you keep your imports under control when you use explicit imports.  So the &quot;brevity&quot; advantage of using star imports is diminished.","title":"Performance difference between a wild card import and the required class import","body":"<p>Imports are resolved to fully qualified names at compile time.  There is no runtime performance difference.  If you look at the generated bytecodes in the two cases, they will be identical.</p>\n<p>There <em>might</em> be a <em>small</em> compile time overhead in using one or the other form, but it is likely to be <em>so small</em> that nobody should notice it, let alone care about it.</p>\n<blockquote>\n<p>I know that the first one will include every file in java.io.* and the next one only the selected class file.</p>\n</blockquote>\n<p>Not exactly.  What a star import does is to make all of the class names available <em>to the compiler</em>.  The actual classes themselves are not &quot;included&quot; ... in the sense of the C or C++ programming languages.</p>\n<hr />\n<p>The real reasons that many people use explicit imports rather than wildcard imports are:</p>\n<ul>\n<li><p>Explicit imports clearly document what external classes a class is directly using, provided that you don't leave redundant imports in your code.</p>\n</li>\n<li><p>Explicit imports avoid problems with name collisions arising when you import two packages that contain classes with the same (simple) class name.</p>\n</li>\n<li><p>Explicit imports avoid fragility problems where someone adds a new class to some package that you have wildcard imported.  This can lead to new compilation errors (in code that previously used to compile) due to a name collision; see the previous bullet point.</p>\n</li>\n</ul>\n<p>Modern IDEs have accelerators, code elision and other features that can help you keep your imports under control when you use explicit imports.  So the &quot;brevity&quot; advantage of using star imports is diminished.</p>\n"},{"tags":[],"owner":{"account_id":326393,"reputation":22554,"user_id":648138,"accept_rate":68,"display_name":"Suhail Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1313812711,"creation_date":1313812071,"answer_id":7129518,"question_id":7128348,"body_markdown":"No, there is no affect on run time performance. Because `import` statement is a compiler directive and is not converted to the byte code. As stated by @ Stephen C there is only a compile time overhead.","title":"Performance difference between a wild card import and the required class import","body":"<p>No, there is no affect on run time performance. Because <code>import</code> statement is a compiler directive and is not converted to the byte code. As stated by @ Stephen C there is only a compile time overhead.</p>\n"},{"tags":[],"owner":{"account_id":2437077,"reputation":80,"user_id":2126718,"display_name":"MK777"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1422579261,"creation_date":1422579261,"answer_id":28227481,"question_id":7128348,"body_markdown":"There is no performance difference between a specific import\r\nand a wildcard import declaration.  \r\n\r\n&gt; The information for the classes in imported package is not read in at\r\n&gt; compile time or run time unless the class is used in the program. The\r\n&gt; import statement simply tells the compiler where to locate the\r\n&gt; classes. There is no performance difference between a specific import\r\n&gt; and a wildcard import declaration. \r\n\r\n(Liang, Daniel Y. &quot;Introduction to Computers, Programs and Java.&quot; Introduction to Java Programming. Comprehensive Version. 9th ed. N.p.: Pearson, n.d. 24. Print.)","title":"Performance difference between a wild card import and the required class import","body":"<p>There is no performance difference between a specific import\nand a wildcard import declaration.  </p>\n\n<blockquote>\n  <p>The information for the classes in imported package is not read in at\n  compile time or run time unless the class is used in the program. The\n  import statement simply tells the compiler where to locate the\n  classes. There is no performance difference between a specific import\n  and a wildcard import declaration. </p>\n</blockquote>\n\n<p>(Liang, Daniel Y. \"Introduction to Computers, Programs and Java.\" Introduction to Java Programming. Comprehensive Version. 9th ed. N.p.: Pearson, n.d. 24. Print.)</p>\n"},{"tags":[],"owner":{"account_id":5043475,"reputation":197,"user_id":4050178,"accept_rate":100,"display_name":"Ken Vors"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1424977008,"creation_date":1424977008,"answer_id":28750559,"question_id":7128348,"body_markdown":"There is no performance difference between them.","title":"Performance difference between a wild card import and the required class import","body":"<p>There is no performance difference between them.</p>\n"},{"tags":[],"owner":{"account_id":1878857,"reputation":105,"user_id":1699473,"accept_rate":50,"display_name":"Cheran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475655156,"creation_date":1475655156,"answer_id":39868657,"question_id":7128348,"body_markdown":"In jsp if you are having &#39;Undefined Variables in EL&#39; then wild card import statement should be avoided.  Wild card import will have huge impact over runtime performance (Due to “Static Field and Method Reference” processing).\r\n\r\n","title":"Performance difference between a wild card import and the required class import","body":"<p>In jsp if you are having 'Undefined Variables in EL' then wild card import statement should be avoided.  Wild card import will have huge impact over runtime performance (Due to “Static Field and Method Reference” processing).</p>\n"}],"owner":{"account_id":425754,"reputation":7053,"user_id":806550,"accept_rate":84,"display_name":"glarkou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15981,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":7128365,"answer_count":7,"score":44,"last_activity_date":1698285884,"creation_date":1313795763,"question_id":7128348,"body_markdown":"What is the complexity in terms of performance between\r\n\r\n    java.io.*\r\n\r\nand \r\n\r\n    java.io.File\r\n\r\nPS.\r\n\r\nI know that the first one will include every file in `java.io.*` and the next one only the selected class file. ","title":"Performance difference between a wild card import and the required class import","body":"<p>What is the complexity in terms of performance between</p>\n\n<pre><code>java.io.*\n</code></pre>\n\n<p>and </p>\n\n<pre><code>java.io.File\n</code></pre>\n\n<p>PS.</p>\n\n<p>I know that the first one will include every file in <code>java.io.*</code> and the next one only the selected class file. </p>\n"},{"tags":["java","selenium","cucumber-jvm","rest-assured"],"comments":[{"owner":{"account_id":259905,"reputation":1619,"user_id":543128,"accept_rate":71,"display_name":"Stefanos Kalantzis"},"score":0,"creation_date":1528100821,"post_id":46734174,"comment_id":88362111,"body_markdown":"it&#39;s a good question. I don&#39;t understand why the downvotes, but anyway.\nIt&#39;s not currently possible, or anytime soon from what I can tell.\nSee https://github.com/cucumber/cucumber-jvm/issues/1321","body":"it&#39;s a good question. I don&#39;t understand why the downvotes, but anyway. It&#39;s not currently possible, or anytime soon from what I can tell. See <a href=\"https://github.com/cucumber/cucumber-jvm/issues/1321\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-jvm/issues/1321</a>"}],"answers":[{"tags":[],"owner":{"account_id":16236,"reputation":5779,"user_id":35148,"accept_rate":60,"display_name":"Paul Harris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507912003,"creation_date":1507912003,"answer_id":46734244,"question_id":46734174,"body_markdown":"The following contains many of the avialable hooks:\r\nhttp://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\r\n\r\nSimilar to junit it appears there is an annotationo for @Before and @After","title":"Any cucumber Before and After hook at a feature level","body":"<p>The following contains many of the avialable hooks:\n<a href=\"http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\" rel=\"nofollow noreferrer\">http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/</a></p>\n\n<p>Similar to junit it appears there is an annotationo for @Before and @After</p>\n"},{"comments":[{"owner":{"account_id":2093402,"reputation":169,"user_id":1862699,"display_name":"BYTE RIDER"},"score":0,"creation_date":1666689275,"post_id":54109194,"comment_id":130991014,"body_markdown":"`@BeforeAll` and `@AfterAll` do exist these days.","body":"<code>@BeforeAll</code> and <code>@AfterAll</code> do exist these days."}],"tags":[],"owner":{"account_id":9699817,"reputation":27,"user_id":7195157,"display_name":"RKM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547033658,"creation_date":1547033658,"answer_id":54109194,"question_id":46734174,"body_markdown":"Cucumber does not support hooks on feature levels like specflow having @BeforeFeature and @AfterFeature tags. This is open issue https://github.com/cucumber/cucumber-jvm/issues/515","title":"Any cucumber Before and After hook at a feature level","body":"<p>Cucumber does not support hooks on feature levels like specflow having @BeforeFeature and @AfterFeature tags. This is open issue <a href=\"https://github.com/cucumber/cucumber-jvm/issues/515\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/issues/515</a></p>\n"}],"owner":{"account_id":3227749,"reputation":1860,"user_id":2723677,"accept_rate":61,"display_name":"mmar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13037,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":2,"score":5,"last_activity_date":1698285850,"creation_date":1507911712,"question_id":46734174,"body_markdown":"i have gone through many help, but all are about explaining on scenario level. Is there any Before and After hook at feature level for cucumber JVM.? This page [cucumber Hook ][1]tells about ruby language, but can i get help for java?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23113370/is-there-a-cucumber-hook-to-run-before-and-after-each-feature","title":"Any cucumber Before and After hook at a feature level","body":"<p>i have gone through many help, but all are about explaining on scenario level. Is there any Before and After hook at feature level for cucumber JVM.? This page <a href=\"https://stackoverflow.com/questions/23113370/is-there-a-cucumber-hook-to-run-before-and-after-each-feature\">cucumber Hook </a>tells about ruby language, but can i get help for java?</p>\n"},{"tags":["java","apache-poi","openxml","apache-poi-4"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1689764537,"post_id":76720582,"comment_id":135258594,"body_markdown":"[XWPFParagraph.insertNewRun](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewRun-int-)","body":"<a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#insertNewRun-int-\" rel=\"nofollow noreferrer\">XWPFParagraph.insertNewRun</a>"}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698284637,"creation_date":1698284637,"answer_id":77363677,"question_id":76720582,"body_markdown":"Would something like the below code work? It is not very efficient, but seems to work. For the list in the question, with the searched string as `searched_placeholder`, it returns a start index of 1 and end index of 2.\r\n\r\n```java\r\n      List&lt;String&gt; str = new ArrayList&lt;String&gt;();\r\n      str.add(&quot;This is a &quot;);\r\n      str.add(&quot;[{searched&quot;);\r\n      str.add(&quot;_placeholder}]&quot;);\r\n      str.add(&quot; in this string.&quot;);\r\n      \r\n      String searchString = &quot;searched_placeholder&quot;;\r\n      StringBuilder completeString = new StringBuilder();\r\n      int endIndex = 0;\r\n      int startIndex = 0;\r\n      \r\n      for (int index = 0; index &lt; str.size(); index++) {\r\n          completeString.append(str.get(index));\r\n          \r\n          if (completeString.indexOf(searchString) != -1) {\r\n              endIndex = index;\r\n              break;\r\n          }\r\n      }\r\n      \r\n      for (int index = 0; index &lt;= endIndex; index++) {\r\n          completeString.replace(0, str.get(index).length(), &quot;&quot;);\r\n          \r\n          if (completeString.indexOf(searchString) == -1) {\r\n              startIndex = index;\r\n              break;\r\n          }\r\n      }\r\n      \r\n      System.out.println(&quot;Start index: &quot; + startIndex + &quot;, End index: &quot; + endIndex);\r\n```","title":"Search a string splitted into different list positions and get the starting and ending position","body":"<p>Would something like the below code work? It is not very efficient, but seems to work. For the list in the question, with the searched string as <code>searched_placeholder</code>, it returns a start index of 1 and end index of 2.</p>\n<pre class=\"lang-java prettyprint-override\"><code>      List&lt;String&gt; str = new ArrayList&lt;String&gt;();\n      str.add(&quot;This is a &quot;);\n      str.add(&quot;[{searched&quot;);\n      str.add(&quot;_placeholder}]&quot;);\n      str.add(&quot; in this string.&quot;);\n      \n      String searchString = &quot;searched_placeholder&quot;;\n      StringBuilder completeString = new StringBuilder();\n      int endIndex = 0;\n      int startIndex = 0;\n      \n      for (int index = 0; index &lt; str.size(); index++) {\n          completeString.append(str.get(index));\n          \n          if (completeString.indexOf(searchString) != -1) {\n              endIndex = index;\n              break;\n          }\n      }\n      \n      for (int index = 0; index &lt;= endIndex; index++) {\n          completeString.replace(0, str.get(index).length(), &quot;&quot;);\n          \n          if (completeString.indexOf(searchString) == -1) {\n              startIndex = index;\n              break;\n          }\n      }\n      \n      System.out.println(&quot;Start index: &quot; + startIndex + &quot;, End index: &quot; + endIndex);\n</code></pre>\n"}],"owner":{"account_id":28242228,"reputation":9,"user_id":21589845,"display_name":"Furqan Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363677,"answer_count":1,"score":0,"last_activity_date":1698284637,"creation_date":1689764362,"question_id":76720582,"body_markdown":"i have a string splitted into different positions in a list e.g.,\r\n\r\n    List&lt;String&gt; str = new ArrayList&lt;String&gt;();\r\n    str.add(&quot;This is a &quot;);\r\n    str.add(&quot;[{searched&quot;);\r\n    str.add(&quot;_placeholder}]&quot;);\r\n    str.add(&quot; in this string.&quot;);\r\n\r\nI want to search &quot;[{searched_string}]&quot; in a list and want to know which is the starting and the ending position of &quot;[{searched_string}]&quot; in the list. E.g., in the above list the starting position of the &quot;[{searched_string}]&quot; is 1 and 2 respectively. \r\n\r\nCan someone please guide me with any algorithm that can return me the starting and the ending position of the string being searched?\r\n","title":"Search a string splitted into different list positions and get the starting and ending position","body":"<p>i have a string splitted into different positions in a list e.g.,</p>\n<pre><code>List&lt;String&gt; str = new ArrayList&lt;String&gt;();\nstr.add(&quot;This is a &quot;);\nstr.add(&quot;[{searched&quot;);\nstr.add(&quot;_placeholder}]&quot;);\nstr.add(&quot; in this string.&quot;);\n</code></pre>\n<p>I want to search &quot;[{searched_string}]&quot; in a list and want to know which is the starting and the ending position of &quot;[{searched_string}]&quot; in the list. E.g., in the above list the starting position of the &quot;[{searched_string}]&quot; is 1 and 2 respectively.</p>\n<p>Can someone please guide me with any algorithm that can return me the starting and the ending position of the string being searched?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","spring-websocket"],"answers":[{"comments":[{"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"score":0,"creation_date":1698326550,"post_id":77363658,"comment_id":136393280,"body_markdown":"That&#39;s an interesting approach. I wasn&#39;t aware of the WebSocketSessionDisconnectEvent. I&#39;ll give it a try.","body":"That&#39;s an interesting approach. I wasn&#39;t aware of the WebSocketSessionDisconnectEvent. I&#39;ll give it a try."}],"tags":[],"owner":{"account_id":11250085,"reputation":401,"user_id":8251447,"display_name":"Akjun"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698284076,"creation_date":1698284076,"answer_id":77363658,"question_id":77363310,"body_markdown":"One approach to go around with this is implement a **ApplicationListener** that listen for **SessionDisconnectEvent**.\r\n\r\n    import org.springframework.context.ApplicationListener;\r\n\timport org.springframework.integration.websocket.event.WebSocketSessionConnectEvent;\r\n\timport org.springframework.integration.websocket.event.WebSocketSessionDisconnectEvent;\r\n\timport org.springframework.messaging.Message;\r\n\timport org.springframework.messaging.support.GenericMessage;\r\n\timport org.springframework.stereotype.Component;\r\n\timport org.springframework.web.socket.WebSocketSession;\r\n\r\n\t@Component\r\n\tpublic class WebSocketReconnectHandler implements ApplicationListener&lt;WebSocketSessionDisconnectEvent&gt; {\r\n\r\n\t\tprivate final ClientWebSocketContainer container;\r\n\t\tprivate final String url;\r\n\t\r\n\t\tpublic WebSocketReconnectHandler(ClientWebSocketContainer container, String url) {\r\n\t\t\tthis.container = container;\r\n\t\t\tthis.url = url;\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void onApplicationEvent(WebSocketSessionDisconnectEvent event) {\r\n\t\t\tWebSocketSession session = event.getSession();\r\n\t\t\tif (session.isOpen()) {\r\n\t\t\t\t// WebSocket session disconnected; initiate a reconnect\r\n\t\t\t\ttry {\r\n\t\t\t\t\tcontainer.doStop();\r\n\t\t\t\t\t// Perform any additional cleanup or logging if needed\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Reconnect after a delay (e.g., 5 seconds)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(5000);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tThread.currentThread().interrupt();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// Re-create and start the WebSocket container\r\n\t\t\t\tcontainer.setUri(url);\r\n\t\t\t\tcontainer.doStart();\r\n\t\r\n\t\t\t\t// You may want to log or perform additional actions here\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIn this example, we create a custom **WebSocketReconnectHandler** that listens for **WebSocketSessionDisconnectEvent** events. When a disconnect event occurs, the handler performs the following:\r\n\r\n 1. Validate the WebSocket session is still open.\r\n 2. Stops the WebSocket container. \r\n 3. Waits for a delay before attempting to reconnect (you can adjust the delay as needed).\r\n 4. Reconfigures and starts the WebSocket container with the same URL.\r\n\r\nHTH.","title":"Detect Websocket disconnection in Spring Integration","body":"<p>One approach to go around with this is implement a <strong>ApplicationListener</strong> that listen for <strong>SessionDisconnectEvent</strong>.</p>\n<pre><code>import org.springframework.context.ApplicationListener;\nimport org.springframework.integration.websocket.event.WebSocketSessionConnectEvent;\nimport org.springframework.integration.websocket.event.WebSocketSessionDisconnectEvent;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.support.GenericMessage;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.socket.WebSocketSession;\n\n@Component\npublic class WebSocketReconnectHandler implements ApplicationListener&lt;WebSocketSessionDisconnectEvent&gt; {\n\n    private final ClientWebSocketContainer container;\n    private final String url;\n\n    public WebSocketReconnectHandler(ClientWebSocketContainer container, String url) {\n        this.container = container;\n        this.url = url;\n    }\n\n    @Override\n    public void onApplicationEvent(WebSocketSessionDisconnectEvent event) {\n        WebSocketSession session = event.getSession();\n        if (session.isOpen()) {\n            // WebSocket session disconnected; initiate a reconnect\n            try {\n                container.doStop();\n                // Perform any additional cleanup or logging if needed\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n            // Reconnect after a delay (e.g., 5 seconds)\n            try {\n                Thread.sleep(5000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n\n            // Re-create and start the WebSocket container\n            container.setUri(url);\n            container.doStart();\n\n            // You may want to log or perform additional actions here\n        }\n    }\n}\n</code></pre>\n<p>In this example, we create a custom <strong>WebSocketReconnectHandler</strong> that listens for <strong>WebSocketSessionDisconnectEvent</strong> events. When a disconnect event occurs, the handler performs the following:</p>\n<ol>\n<li>Validate the WebSocket session is still open.</li>\n<li>Stops the WebSocket container.</li>\n<li>Waits for a delay before attempting to reconnect (you can adjust the delay as needed).</li>\n<li>Reconfigures and starts the WebSocket container with the same URL.</li>\n</ol>\n<p>HTH.</p>\n"}],"owner":{"account_id":28343732,"reputation":13,"user_id":21676292,"display_name":"rcirne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698284076,"creation_date":1698275219,"question_id":77363310,"body_markdown":"I have an Integration flow based on a WebSocketInboundChannelAdapter, configured as below.\r\n\r\n```\r\n@Bean\r\nIntegrationFlow integrationFlow() {\r\n  StandardWebSocketClient client = new StandardWebSocketClient();\r\n  ClientWebSocketContainer container = new ClientWebSocketContainer(client, url);\r\n  WebSocketInboundChannelAdapter adapter = new WebSocketInboundChannelAdapter(container);\r\n  return IntegrationFlow.from(adapter).handle(m -&gt; m.getPayload()).get();\r\n}\r\n```\r\n\r\nHow can I detect a disconnection and reconnect to the same URL?","title":"Detect Websocket disconnection in Spring Integration","body":"<p>I have an Integration flow based on a WebSocketInboundChannelAdapter, configured as below.</p>\n<pre><code>@Bean\nIntegrationFlow integrationFlow() {\n  StandardWebSocketClient client = new StandardWebSocketClient();\n  ClientWebSocketContainer container = new ClientWebSocketContainer(client, url);\n  WebSocketInboundChannelAdapter adapter = new WebSocketInboundChannelAdapter(container);\n  return IntegrationFlow.from(adapter).handle(m -&gt; m.getPayload()).get();\n}\n</code></pre>\n<p>How can I detect a disconnection and reconnect to the same URL?</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1698283118,"post_id":77363449,"comment_id":136386796,"body_markdown":"are you using spring? Do you have dependency in pom.xml","body":"are you using spring? Do you have dependency in pom.xml"},{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1698283833,"post_id":77363449,"comment_id":136386848,"body_markdown":"how come you don&#39;t know if your test is hitting the required method? Can&#39;t you print something to confirm?","body":"how come you don&#39;t know if your test is hitting the required method? Can&#39;t you print something to confirm?"},{"owner":{"account_id":6431816,"reputation":895,"user_id":4984616,"accept_rate":82,"display_name":"Jon Abraham"},"score":0,"creation_date":1698284508,"post_id":77363449,"comment_id":136386912,"body_markdown":"@BabyishTank i did confirm in debug mode it is not hitting the method properly i am getting nullpointerexception. But i am passing the required parameter into the method","body":"@BabyishTank i did confirm in debug mode it is not hitting the method properly i am getting nullpointerexception. But i am passing the required parameter into the method"}],"answers":[{"comments":[{"owner":{"account_id":6431816,"reputation":895,"user_id":4984616,"accept_rate":82,"display_name":"Jon Abraham"},"score":0,"creation_date":1698285008,"post_id":77363654,"comment_id":136386955,"body_markdown":"Thank you for pointing me in right direction it turned out that after trying your suggestion i did not set env variable due to which i was getting nullpointer exception. After setting that up it worked perfectly","body":"Thank you for pointing me in right direction it turned out that after trying your suggestion i did not set env variable due to which i was getting nullpointer exception. After setting that up it worked perfectly"},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1698298863,"post_id":77363654,"comment_id":136387940,"body_markdown":"Glad it helped :)","body":"Glad it helped :)"}],"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698284016,"creation_date":1698284016,"answer_id":77363654,"question_id":77363449,"body_markdown":"If you want to test the `getName` method, instance of `DAO` should not be a mock. Mock objects are mainly used to isolate the method under test from its collaborators. Invoking a method from mock instance only does what it is told to do. Actual execution of the method doesn&#39;t happen. Hence you are seeing no coverage in sonar.\r\n\r\nAn actual instance of the `DAO` class must be created to execute the method you are trying to test. \r\n\r\n```\r\nDAO dao = new DAO();\r\n```","title":"Mock JUnit not detecting any sonar coverage for a method that returns string","body":"<p>If you want to test the <code>getName</code> method, instance of <code>DAO</code> should not be a mock. Mock objects are mainly used to isolate the method under test from its collaborators. Invoking a method from mock instance only does what it is told to do. Actual execution of the method doesn't happen. Hence you are seeing no coverage in sonar.</p>\n<p>An actual instance of the <code>DAO</code> class must be created to execute the method you are trying to test.</p>\n<pre><code>DAO dao = new DAO();\n</code></pre>\n"}],"owner":{"account_id":6431816,"reputation":895,"user_id":4984616,"accept_rate":82,"display_name":"Jon Abraham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77363654,"answer_count":1,"score":1,"last_activity_date":1698284016,"creation_date":1698278378,"question_id":77363449,"body_markdown":"I am trying to mock below method with the intention of having sonar coverage -\r\n\r\n    public String getName(String prmTableName) {\r\n    \t\tGetParameterRequest parameterRequest = new GetParameterRequest();\r\n    \t\tString absParamStorePath = env.getProperty(&quot;amazon.aws.parameter&quot;) + prmTableName + &quot;/&quot;\r\n    \t\t\t\t+ env.getProperty(&quot;amazon.aws.env&quot;);\r\n    \t\tparameterRequest.withName(&quot;/someurl&quot;)\r\n    \t\tparameterRequest.withName(absParamStorePath).setWithDecryption(Boolean.valueOf(true));\r\n    \t\tGetParameterResult parameterResult = awsSimpleSystemsManagement.getParameter(parameterRequest);\r\n    \t\tSystem.out.println(&quot;Parameterstore Table Response:  &quot; + parameterResult.getParameter().getValue());\r\n    \t\treturn parameterResult.getParameter().getValue();\r\n    \t}\r\n\r\n\r\nBelow is my test implementation\r\n\r\n\r\n    @Mock\r\n    DAO dao\r\n    \r\n        @BeforeEach\r\n            public void setup(){\r\n                MockitoAnnotations.initMocks(this);\r\n                mockmvc= MockMvcBuilders.standaloneSetup(dao).build();\r\n            }\r\n        \r\n            @Test\r\n            public void testName(){\r\n        \r\n                String value=&quot;&quot;;\r\n                when(dao.getName(&quot;storeName&quot;))\r\n                        .then(t-&gt;value);\r\n        \r\n        \r\n            }\r\n   but when i ran it through sonar i am getting 0% coverage. Can anyone shed some light on what could be wrong ? I am new to Mockito but i thing what is happening is that test is simply passing on empty value but it is not even hitting the required method along with required parameters.        \t","title":"Mock JUnit not detecting any sonar coverage for a method that returns string","body":"<p>I am trying to mock below method with the intention of having sonar coverage -</p>\n<pre><code>public String getName(String prmTableName) {\n        GetParameterRequest parameterRequest = new GetParameterRequest();\n        String absParamStorePath = env.getProperty(&quot;amazon.aws.parameter&quot;) + prmTableName + &quot;/&quot;\n                + env.getProperty(&quot;amazon.aws.env&quot;);\n        parameterRequest.withName(&quot;/someurl&quot;)\n        parameterRequest.withName(absParamStorePath).setWithDecryption(Boolean.valueOf(true));\n        GetParameterResult parameterResult = awsSimpleSystemsManagement.getParameter(parameterRequest);\n        System.out.println(&quot;Parameterstore Table Response:  &quot; + parameterResult.getParameter().getValue());\n        return parameterResult.getParameter().getValue();\n    }\n</code></pre>\n<p>Below is my test implementation</p>\n<pre><code>@Mock\nDAO dao\n\n    @BeforeEach\n        public void setup(){\n            MockitoAnnotations.initMocks(this);\n            mockmvc= MockMvcBuilders.standaloneSetup(dao).build();\n        }\n    \n        @Test\n        public void testName(){\n    \n            String value=&quot;&quot;;\n            when(dao.getName(&quot;storeName&quot;))\n                    .then(t-&gt;value);\n    \n    \n        }\n</code></pre>\n<p>but when i ran it through sonar i am getting 0% coverage. Can anyone shed some light on what could be wrong ? I am new to Mockito but i thing what is happening is that test is simply passing on empty value but it is not even hitting the required method along with required parameters.</p>\n"},{"tags":["java","string","comparison"],"answers":[{"comments":[{"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"score":2,"creation_date":1362879672,"post_id":15317927,"comment_id":21626575,"body_markdown":"Very good and thorough answer. As an aside, in the case where there are a large number of strings, a `HashSet` or similar might be a more efficient choice.","body":"Very good and thorough answer. As an aside, in the case where there are a large number of strings, a <code>HashSet</code> or similar might be a more efficient choice."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1362879768,"post_id":15317927,"comment_id":21626595,"body_markdown":"@JeremyRoman - Good point. I think [@assylias](http://stackoverflow.com/a/15317932/535871) made exactly that suggestion.","body":"@JeremyRoman - Good point. I think <a href=\"http://stackoverflow.com/a/15317932/535871\">@assylias</a> made exactly that suggestion."},{"owner":{"account_id":462208,"reputation":16167,"user_id":864393,"display_name":"Jeremy Roman"},"score":1,"creation_date":1362879854,"post_id":15317927,"comment_id":21626612,"body_markdown":"Indeed. As a further aside, this data structure never changes, and should probably be a `static final` member of the class.","body":"Indeed. As a further aside, this data structure never changes, and should probably be a <code>static final</code> member of the class."},{"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"score":1,"creation_date":1362880132,"post_id":15317927,"comment_id":21626662,"body_markdown":"Also, if it&#39;s always numeric, you could parse the input (guarded for NumberFormatExceptions of course) and then switch on that result. Would be much clearer. EDIT: Oops @assylias already suggested that. :)","body":"Also, if it&#39;s always numeric, you could parse the input (guarded for NumberFormatExceptions of course) and then switch on that result. Would be much clearer. EDIT: Oops @assylias already suggested that. :)"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1362880343,"post_id":15317927,"comment_id":21626700,"body_markdown":"@kcoppock - You would have to wrap the number conversion in a try/catch to deal with blank field or non-numeric input. To me, it&#39;s a toss-up whether that would be clearer. Also, OP may actually want to exclude input such as &quot;07&quot;. On the other hand, if OP wants to treat &quot;07&quot; the same as &quot;7&quot;, then parsing as an int is definitely the way to go.","body":"@kcoppock - You would have to wrap the number conversion in a try/catch to deal with blank field or non-numeric input. To me, it&#39;s a toss-up whether that would be clearer. Also, OP may actually want to exclude input such as &quot;07&quot;. On the other hand, if OP wants to treat &quot;07&quot; the same as &quot;7&quot;, then parsing as an int is definitely the way to go."},{"owner":{"account_id":1835658,"reputation":14193,"user_id":1666116,"display_name":"323go"},"score":1,"creation_date":1362883788,"post_id":15317927,"comment_id":21627219,"body_markdown":"Don&#39;t be afraid of regex. `if( !mGuess.matches( &quot;([1-9]|10)&quot; ) )` will take care of it.","body":"Don&#39;t be afraid of regex. <code>if( !mGuess.matches( &quot;([1-9]|10)&quot; ) )</code> will take care of it."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1362889282,"post_id":15317927,"comment_id":21628110,"body_markdown":"@323go - Excellent point. The regex could even be `&quot;0*([1-9]|10)&quot;` to handle leading zeroes if OP wants to allow that.","body":"@323go - Excellent point. The regex could even be <code>&quot;0*([1-9]|10)&quot;</code> to handle leading zeroes if OP wants to allow that."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":7,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1362880669,"creation_date":1362879077,"answer_id":15317927,"question_id":15317912,"body_markdown":"First, you should generally not be using `!=` to compare strings; use `equals()` instead. The `==` and `!=` operators will only test if the strings are identical objects; they do not test for equal values. Second, you need to expand the expression like this:\r\n\r\n    if (!mGuess.equals(&quot;1&quot;) || !mGuess.equals(&quot;2&quot;) || /* etc */) { . . .\r\n\r\nFinally, this logic doesn&#39;t actually make any sense. The condition will always be true (`mGuess` will always be &quot;not equal&quot; to at least all but one of the test strings). You probably want:\r\n\r\n    if (!mGuess.equals(&quot;1&quot;) &amp;&amp; !mGuess.equals(&quot;2&quot;) &amp;&amp; /* etc */) { . . .\r\n\r\nA more succinct way of doing this would be:\r\n\r\n    List&lt;String&gt; validStrings = Arrays.asList(&quot;1&quot;, &quot;2&quot;, ...);\r\n    if (!validStrings.contains(mGuess)) { ...\r\n\r\n(You could declare `validStrings` as a `static` class member to save creating one each time through the method. Also, see [the answer by assylias][1] for how to use a `HashSet` instead of an `ArrayList` for the lookup; it will do the lookup faster.)\r\n\r\nP.S. As mentioned by assylias and also by kcoppock in a comment, you should consider parsing the input as an `int` value and then doing a numeric test. The difference would be that parsing as an `int` would treat, say, &quot;07&quot; the same as &quot;7&quot;. If you want to allow that, then this code will do the job:\r\n\r\n    boolean ok = false;\r\n    try {\r\n        int guess = Integer.parseInt(mGuess);\r\n        ok = guess &gt;= 1 &amp;&amp; guess &lt;= 10;\r\n    } catch (NumberFormatException ignored) {\r\n    }\r\n    if (!ok) { . . .\r\n\r\n  [1]: https://stackoverflow.com/a/15317932/535871","title":"How can I test a string against multiple others in Java?","body":"<p>First, you should generally not be using <code>!=</code> to compare strings; use <code>equals()</code> instead. The <code>==</code> and <code>!=</code> operators will only test if the strings are identical objects; they do not test for equal values. Second, you need to expand the expression like this:</p>\n\n<pre><code>if (!mGuess.equals(\"1\") || !mGuess.equals(\"2\") || /* etc */) { . . .\n</code></pre>\n\n<p>Finally, this logic doesn't actually make any sense. The condition will always be true (<code>mGuess</code> will always be \"not equal\" to at least all but one of the test strings). You probably want:</p>\n\n<pre><code>if (!mGuess.equals(\"1\") &amp;&amp; !mGuess.equals(\"2\") &amp;&amp; /* etc */) { . . .\n</code></pre>\n\n<p>A more succinct way of doing this would be:</p>\n\n<pre><code>List&lt;String&gt; validStrings = Arrays.asList(\"1\", \"2\", ...);\nif (!validStrings.contains(mGuess)) { ...\n</code></pre>\n\n<p>(You could declare <code>validStrings</code> as a <code>static</code> class member to save creating one each time through the method. Also, see <a href=\"https://stackoverflow.com/a/15317932/535871\">the answer by assylias</a> for how to use a <code>HashSet</code> instead of an <code>ArrayList</code> for the lookup; it will do the lookup faster.)</p>\n\n<p>P.S. As mentioned by assylias and also by kcoppock in a comment, you should consider parsing the input as an <code>int</code> value and then doing a numeric test. The difference would be that parsing as an <code>int</code> would treat, say, \"07\" the same as \"7\". If you want to allow that, then this code will do the job:</p>\n\n<pre><code>boolean ok = false;\ntry {\n    int guess = Integer.parseInt(mGuess);\n    ok = guess &gt;= 1 &amp;&amp; guess &lt;= 10;\n} catch (NumberFormatException ignored) {\n}\nif (!ok) { . . .\n</code></pre>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362879100,"creation_date":1362879100,"answer_id":15317930,"question_id":15317912,"body_markdown":"You need to use `&amp;&amp;` to evaluate your negative expressions, use `.equals` for `String` comparisons, and have syntactically correct expressions in your `if` statement:\r\n\r\n    if (!mGuess.equals(&quot;1&quot;) &amp;&amp; !mGuess.equals(&quot;2&quot;) &amp;&amp; ...\r\n\r\nAlso see: [Java String.equals versus ==][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/767372/java-string-equals-versus","title":"How can I test a string against multiple others in Java?","body":"<p>You need to use <code>&amp;&amp;</code> to evaluate your negative expressions, use <code>.equals</code> for <code>String</code> comparisons, and have syntactically correct expressions in your <code>if</code> statement:</p>\n\n<pre><code>if (!mGuess.equals(\"1\") &amp;&amp; !mGuess.equals(\"2\") &amp;&amp; ...\n</code></pre>\n\n<p>Also see: <a href=\"https://stackoverflow.com/questions/767372/java-string-equals-versus\">Java String.equals versus ==</a></p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1362879444,"creation_date":1362879111,"answer_id":15317932,"question_id":15317912,"body_markdown":"You need to make each condition explicit as already explained. A more compact way to write it would be:\r\n\r\n    Set&lt;String&gt; oneToTen = new HashSet&lt;String&gt; (Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;);\r\n\r\n    if (!oneToTen.contains(mGuess)) {\r\n\r\nAlternatively, if you know that mGuess is a number, you could parse it to an integer first:\r\n\r\n    int guess = Integer.parseInt(mGuess);\r\n    if (guess &lt; 0 || guess &gt; 10) {\r\n    }","title":"How can I test a string against multiple others in Java?","body":"<p>You need to make each condition explicit as already explained. A more compact way to write it would be:</p>\n\n<pre><code>Set&lt;String&gt; oneToTen = new HashSet&lt;String&gt; (Arrays.asList(\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\");\n\nif (!oneToTen.contains(mGuess)) {\n</code></pre>\n\n<p>Alternatively, if you know that mGuess is a number, you could parse it to an integer first:</p>\n\n<pre><code>int guess = Integer.parseInt(mGuess);\nif (guess &lt; 0 || guess &gt; 10) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":4,"creation_date":1362880883,"post_id":15318075,"comment_id":21626795,"body_markdown":"+1 Amazing that none of the rest of us thought to explain the error message itself. It&#39;s worth pointing out that `||` is not defined for two `String` arguments, either.","body":"+1 Amazing that none of the rest of us thought to explain the error message itself. It&#39;s worth pointing out that <code>||</code> is not defined for two <code>String</code> arguments, either."},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1362881102,"post_id":15318075,"comment_id":21626835,"body_markdown":"@TedHopp No point trying to compete with your answer, you got that area nailed.","body":"@TedHopp No point trying to compete with your answer, you got that area nailed."}],"tags":[],"owner":{"display_name":"user166390"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1362880923,"creation_date":1362880616,"answer_id":15318075,"question_id":15317912,"body_markdown":"The *cause* of the compiler error&lt;sup&gt;1&lt;/sup&gt; is that the expression\r\n\r\n    mGuess != &quot;1&quot; || &quot;2&quot; || ..\r\n\r\nis parsed equivalently to\r\n\r\n    ((mGuess != &quot;1&quot;) || &quot;2&quot;) || ..\r\n\r\nHowever, the type of `myGuess != &quot;1&quot;` is `boolean`, so the above expression is typed as\r\n\r\n    ((boolean) || String) || String) || ..\r\n\r\nbut `boolean || String` is invalid, as per the compiler error:\r\n\r\n&gt; The operator || is undefined for the argument type(s) boolean, String\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; See one of the other answers for solutions.","title":"How can I test a string against multiple others in Java?","body":"<p>The <em>cause</em> of the compiler error<sup>1</sup> is that the expression</p>\n\n<pre><code>mGuess != \"1\" || \"2\" || ..\n</code></pre>\n\n<p>is parsed equivalently to</p>\n\n<pre><code>((mGuess != \"1\") || \"2\") || ..\n</code></pre>\n\n<p>However, the type of <code>myGuess != \"1\"</code> is <code>boolean</code>, so the above expression is typed as</p>\n\n<pre><code>((boolean) || String) || String) || ..\n</code></pre>\n\n<p>but <code>boolean || String</code> is invalid, as per the compiler error:</p>\n\n<blockquote>\n  <p>The operator || is undefined for the argument type(s) boolean, String</p>\n</blockquote>\n\n<hr>\n\n<p><sup>1</sup> See one of the other answers for solutions.</p>\n"}],"owner":{"account_id":1832849,"reputation":553,"user_id":1663851,"accept_rate":88,"display_name":"Ciaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13360,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":15317927,"answer_count":4,"score":4,"last_activity_date":1698283753,"creation_date":1362878966,"question_id":15317912,"body_markdown":"&gt;```none\r\n&gt;The operator || is undefined for the argument type(s) boolean, String\r\n&gt;```\r\nI keep getting the above error message with the following `if` statement:\r\n```java\r\nString mGuess = Guess.getText().toString();\r\nif (mGuess != &quot;1&quot; || &quot;2&quot; || &quot;3&quot; || &quot;4&quot; || &quot;5&quot; || &quot;6&quot; || &quot;7&quot; || &quot;8&quot; || &quot;9&quot; || &quot;10&quot;) {\r\n\tToast.makeText(MainActivity.this,\r\n\t\t&quot;The number you entered was invalid. Please try again.&quot;,\r\n\t\tToast.LENGTH_LONG).show();\r\n}\r\n```","title":"How can I test a string against multiple others in Java?","body":"<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>The operator || is undefined for the argument type(s) boolean, String\n</code></pre>\n</blockquote>\n<p>I keep getting the above error message with the following <code>if</code> statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String mGuess = Guess.getText().toString();\nif (mGuess != &quot;1&quot; || &quot;2&quot; || &quot;3&quot; || &quot;4&quot; || &quot;5&quot; || &quot;6&quot; || &quot;7&quot; || &quot;8&quot; || &quot;9&quot; || &quot;10&quot;) {\n    Toast.makeText(MainActivity.this,\n        &quot;The number you entered was invalid. Please try again.&quot;,\n        Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":1,"creation_date":1304936912,"post_id":3663944,"comment_id":6839543,"body_markdown":"possible duplicate of [How do I remove objects from an Array in java?](http://stackoverflow.com/questions/112503/how-do-i-remove-objects-from-an-array-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/112503/how-do-i-remove-objects-from-an-array-in-java\">How do I remove objects from an Array in java?</a>"},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":5,"creation_date":1385479369,"post_id":3663944,"comment_id":30153612,"body_markdown":"Not a dupe.  The previous question is about removing items by value; this is about removing an item by index.","body":"Not a dupe.  The previous question is about removing items by value; this is about removing an item by index."}],"answers":[{"comments":[{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":4,"creation_date":1283908884,"post_id":3663947,"comment_id":3855476,"body_markdown":"This is not technically the easiest way.  `Arrays.copyOfRange()` is.","body":"This is not technically the easiest way.  <code>Arrays.copyOfRange()</code> is."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1283908912,"post_id":3663947,"comment_id":3855480,"body_markdown":"Since he is using Java6, he can use the more compact Arrays.copyOfRange","body":"Since he is using Java6, he can use the more compact Arrays.copyOfRange"},{"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"score":1,"creation_date":1283909146,"post_id":3663947,"comment_id":3855495,"body_markdown":"@Justin - sure but only if you are targeting Java 1.6 or above","body":"@Justin - sure but only if you are targeting Java 1.6 or above"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":1,"creation_date":1283909303,"post_id":3663947,"comment_id":3855512,"body_markdown":"true.  It isn&#39;t always applicable.","body":"true.  It isn&#39;t always applicable."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1283911188,"post_id":3663947,"comment_id":3855666,"body_markdown":"the title of the question makes it clear that the OP **is** interested in answers for Java 1.6 and above.","body":"the title of the question makes it clear that the OP <b>is</b> interested in answers for Java 1.6 and above."}],"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":5,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1283970072,"creation_date":1283908558,"answer_id":3663947,"question_id":3663944,"body_markdown":"Simplest way is probably as follows - you basically need to construct a new array that is one element smaller, then copy the elements you want to keep to the right positions.\r\n\r\n    int n=oldArray.length-1;\r\n    String[] newArray=new String[n];\r\n    System.arraycopy(oldArray,1,newArray,0,n);\r\n\r\nNote that if you find yourself doing this kind of operation frequently, it could be a sign that you should actually be using a different kind of data structure, e.g. a linked list. Constructing a new array every time is an O(n) operation, which could get expensive if your array is large. A linked list would give you O(1) removal of the first element.\r\n\r\nAn alternative idea is not to remove the first item at all, but just increment an integer that points to the first index that is in use. Users of the array will need to take this offset into account, but this can be an efficient approach. The Java String class actually uses this method internally when creating substrings.","title":"What is the best way to remove the first element from an array?","body":"<p>Simplest way is probably as follows - you basically need to construct a new array that is one element smaller, then copy the elements you want to keep to the right positions.</p>\n\n<pre><code>int n=oldArray.length-1;\nString[] newArray=new String[n];\nSystem.arraycopy(oldArray,1,newArray,0,n);\n</code></pre>\n\n<p>Note that if you find yourself doing this kind of operation frequently, it could be a sign that you should actually be using a different kind of data structure, e.g. a linked list. Constructing a new array every time is an O(n) operation, which could get expensive if your array is large. A linked list would give you O(1) removal of the first element.</p>\n\n<p>An alternative idea is not to remove the first item at all, but just increment an integer that points to the first index that is in use. Users of the array will need to take this offset into account, but this can be an efficient approach. The Java String class actually uses this method internally when creating substrings.</p>\n"},{"comments":[{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":38,"creation_date":1283909266,"post_id":3663949,"comment_id":3855509,"body_markdown":"It is important to note that removing the first element of an `ArrayList` is O(n).","body":"It is important to note that removing the first element of an <code>ArrayList</code> is O(n)."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":1,"creation_date":1283909337,"post_id":3663949,"comment_id":3855519,"body_markdown":"@Matt, for an array and the list.  But, the code is way easier for the list.","body":"@Matt, for an array and the list.  But, the code is way easier for the list."},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":18,"creation_date":1283909881,"post_id":3663949,"comment_id":3855576,"body_markdown":"For an array and an `ArrayList`, but not for `LinkedList`.","body":"For an array and an <code>ArrayList</code>, but not for <code>LinkedList</code>."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1283910990,"post_id":3663949,"comment_id":3855648,"body_markdown":"@matt, oh yeah.  I always forget about that option.","body":"@matt, oh yeah.  I always forget about that option."},{"owner":{"account_id":82234,"reputation":6628,"user_id":231382,"accept_rate":65,"display_name":"Hern&#225;n Eche"},"score":5,"creation_date":1401480988,"post_id":3663949,"comment_id":36917484,"body_markdown":"O(n) ? well.. in a C array? to remove the fist element you can just increment the pointer O(1)","body":"O(n) ? well.. in a C array? to remove the fist element you can just increment the pointer O(1)"},{"owner":{"account_id":51605,"reputation":321,"user_id":154237,"accept_rate":75,"display_name":"Cong De Peng"},"score":0,"creation_date":1426752112,"post_id":3663949,"comment_id":46502936,"body_markdown":"if a JDK method only return &quot;String[]&quot; not return &quot;List&lt;String&gt;&quot;, then copyOfRange is the better option?","body":"if a JDK method only return &quot;String[]&quot; not return &quot;List&lt;String&gt;&quot;, then copyOfRange is the better option?"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":0,"creation_date":1426864869,"post_id":3663949,"comment_id":46558265,"body_markdown":"@CongDePeng Well, you can use Arrays.asList to turn your array into a List.","body":"@CongDePeng Well, you can use Arrays.asList to turn your array into a List."},{"owner":{"account_id":5544002,"reputation":5430,"user_id":4399414,"display_name":"Sdghasemi"},"score":3,"creation_date":1436089881,"post_id":3663949,"comment_id":50457310,"body_markdown":"For those whom using Java for Android like me, [`Arrays.copyOfRange()`](http://developer.android.com/reference/java/util/Arrays.html#copyOfRange%28byte[],%20int,%20int%29) is for API9+","body":"For those whom using Java for Android like me, <a href=\"http://developer.android.com/reference/java/util/Arrays.html#copyOfRange%28byte%5B%5D,%20int,%20int%29\" rel=\"nofollow noreferrer\"><code>Arrays.copyOfRange()</code></a> is for API9+"},{"owner":{"account_id":432946,"reputation":607,"user_id":818006,"display_name":"Boss Man"},"score":0,"creation_date":1528319013,"post_id":3663949,"comment_id":88466891,"body_markdown":"@MatthewFlaschen nice. Just to add to it, removal of only last element would be O(1). It is because `ArrayList` internally is represented by an array.","body":"@MatthewFlaschen nice. Just to add to it, removal of only last element would be O(1). It is because <code>ArrayList</code> internally is represented by an array."},{"owner":{"account_id":1081344,"reputation":787,"user_id":1078262,"display_name":"Mathieu_Du"},"score":0,"creation_date":1541642846,"post_id":3663949,"comment_id":93289734,"body_markdown":"@Hern&#225;nEche not really no, you need to either reallocate or shift left, both operations are O(n) ;)","body":"@Hern&#225;nEche not really no, you need to either reallocate or shift left, both operations are O(n) ;)"}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":10,"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1354144914,"creation_date":1283908573,"answer_id":3663949,"question_id":3663944,"body_markdown":"The size of arrays in Java cannot be changed.  So, technically you cannot remove any elements from the array.\r\n\r\nOne way to simulate removing an element from the array is to create a new, smaller array, and then copy all of the elements from the original array into the new, smaller array.\r\n\r\n    String[] yourArray = Arrays.copyOfRange(oldArr, 1, oldArr.length);\r\n\r\n\r\n**However**, I would not suggest the above method.  You should really be using a `List&lt;String&gt;`.  Lists allow you to add and remove items from any index.  That would look similar to the following:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;(); // or LinkedList&lt;String&gt;();\r\n    list.add(&quot;Stuff&quot;);\r\n    // add lots of stuff\r\n    list.remove(0); // removes the first item","title":"What is the best way to remove the first element from an array?","body":"<p>The size of arrays in Java cannot be changed.  So, technically you cannot remove any elements from the array.</p>\n\n<p>One way to simulate removing an element from the array is to create a new, smaller array, and then copy all of the elements from the original array into the new, smaller array.</p>\n\n<pre><code>String[] yourArray = Arrays.copyOfRange(oldArr, 1, oldArr.length);\n</code></pre>\n\n<p><strong>However</strong>, I would not suggest the above method.  You should really be using a <code>List&lt;String&gt;</code>.  Lists allow you to add and remove items from any index.  That would look similar to the following:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;(); // or LinkedList&lt;String&gt;();\nlist.add(\"Stuff\");\n// add lots of stuff\nlist.remove(0); // removes the first item\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1283908956,"creation_date":1283908640,"answer_id":3663960,"question_id":3663944,"body_markdown":"You can&#39;t do it at all, let alone quickly.  Arrays in Java are fixed size.  Two things you could do are:\r\n\r\n1. Shift every element up one, then set the last element to null.\r\n2. Create a new array, then copy it.\r\n\r\nYou can use `System.arraycopy` for either of these.  Both of these are O(n), since they copy all but 1 element.\r\n\r\nIf you will be removing the first element often, consider using [`LinkedList`][1] instead.  You can use [`LinkedList.remove`](http://download.oracle.com/javase/1.5.0/docs/api/java/util/LinkedList.html#remove%28%29), which is from the `Queue` interface, for convenience.  With `LinkedList`, removing the first element is O(1).  In fact, removing any element is O(1) once you have a `ListIterator` to that position.  However, accessing an arbitrary element by index is O(n).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/LinkedList.html","title":"What is the best way to remove the first element from an array?","body":"<p>You can't do it at all, let alone quickly.  Arrays in Java are fixed size.  Two things you could do are:</p>\n\n<ol>\n<li>Shift every element up one, then set the last element to null.</li>\n<li>Create a new array, then copy it.</li>\n</ol>\n\n<p>You can use <code>System.arraycopy</code> for either of these.  Both of these are O(n), since they copy all but 1 element.</p>\n\n<p>If you will be removing the first element often, consider using <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a> instead.  You can use <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/LinkedList.html#remove%28%29\" rel=\"nofollow noreferrer\"><code>LinkedList.remove</code></a>, which is from the <code>Queue</code> interface, for convenience.  With <code>LinkedList</code>, removing the first element is O(1).  In fact, removing any element is O(1) once you have a <code>ListIterator</code> to that position.  However, accessing an arbitrary element by index is O(n).</p>\n"},{"tags":[],"owner":{"account_id":106165,"reputation":42979,"user_id":282912,"accept_rate":100,"display_name":"msw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1283909786,"creation_date":1283909091,"answer_id":3664001,"question_id":3663944,"body_markdown":"Keep an index of the first &quot;live&quot; element of the array. Removing (pretending to remove) the first element then becomes an `O(1)` time complexity operation.","title":"What is the best way to remove the first element from an array?","body":"<p>Keep an index of the first \"live\" element of the array. Removing (pretending to remove) the first element then becomes an <code>O(1)</code> time complexity operation.</p>\n"},{"comments":[{"owner":{"account_id":7217817,"reputation":3317,"user_id":5509575,"display_name":"Hack5"},"score":2,"creation_date":1490374357,"post_id":3677197,"comment_id":73099526,"body_markdown":"Please, someone with sufficient reputation downvote this answer - it is exactly what it says it is - ugly! No intention to be rude, but in the interests of codeability please don&#39;t post this kind of thing!","body":"Please, someone with sufficient reputation downvote this answer - it is exactly what it says it is - ugly! No intention to be rude, but in the interests of codeability please don&#39;t post this kind of thing!"},{"owner":{"account_id":4503736,"reputation":380,"user_id":3661666,"accept_rate":80,"display_name":"Bishal Gautam"},"score":0,"creation_date":1502088454,"post_id":3677197,"comment_id":78041464,"body_markdown":"if you are already using Arrays, it would be better to use Arrays.copyOfRange","body":"if you are already using Arrays, it would be better to use Arrays.copyOfRange"},{"owner":{"account_id":16224013,"reputation":1568,"user_id":11714860,"display_name":"Sapphire_Brick"},"score":0,"creation_date":1574813214,"post_id":3677197,"comment_id":104361652,"body_markdown":"He asked for the **best** way.","body":"He asked for the <b>best</b> way."},{"owner":{"account_id":16224013,"reputation":1568,"user_id":11714860,"display_name":"Sapphire_Brick"},"score":0,"creation_date":1574863104,"post_id":3677197,"comment_id":104381517,"body_markdown":"delete it, and see how much reputation you will gain.","body":"delete it, and see how much reputation you will gain."},{"owner":{"account_id":6008653,"reputation":479,"user_id":4719734,"accept_rate":50,"display_name":"endyey Es"},"score":0,"creation_date":1613828576,"post_id":3677197,"comment_id":117199520,"body_markdown":"no!! you already know its ugly then don&#39;t show it","body":"no!! you already know its ugly then don&#39;t show it"},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":1,"creation_date":1642706277,"post_id":3677197,"comment_id":125149761,"body_markdown":"This doesn&#39;t work if a string within the array contains `&quot;, &quot;`.","body":"This doesn&#39;t work if a string within the array contains <code>&quot;, &quot;</code>."}],"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":6,"down_vote_count":16,"up_vote_count":3,"is_accepted":false,"score":-13,"last_activity_date":1698282369,"creation_date":1284040377,"answer_id":3677197,"question_id":3663944,"body_markdown":"An alternative ugly method:\r\n\r\n   \r\n\r\n    String[] a ={&quot;BLAH00001&quot;,&quot;DIK-11&quot;,&quot;DIK-2&quot;,&quot;MAN5&quot;};\r\n    String[] k=Arrays.toString(a).split(&quot;, &quot;,2)[1].split(&quot;]&quot;)[0].split(&quot;, &quot;);","title":"What is the best way to remove the first element from an array?","body":"<p>An alternative ugly method:</p>\n<pre><code>String[] a ={&quot;BLAH00001&quot;,&quot;DIK-11&quot;,&quot;DIK-2&quot;,&quot;MAN5&quot;};\nString[] k=Arrays.toString(a).split(&quot;, &quot;,2)[1].split(&quot;]&quot;)[0].split(&quot;, &quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6819728,"reputation":336,"user_id":5247258,"accept_rate":89,"display_name":"Malinda"},"score":0,"creation_date":1651536217,"post_id":54410427,"comment_id":127383087,"body_markdown":"The question is about Java arrays, not list","body":"The question is about Java arrays, not list"}],"tags":[],"owner":{"account_id":3838793,"reputation":39,"user_id":3182484,"display_name":"mjad-org"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548710783,"creation_date":1548710291,"answer_id":54410427,"question_id":3663944,"body_markdown":"To sum up, the quick linkedlist method:\r\n\r\n    List&lt;String&gt; llist = new LinkedList&lt;String&gt;(Arrays.asList(oldArray));\r\n    llist.remove(0);\r\n\r\n","title":"What is the best way to remove the first element from an array?","body":"<p>To sum up, the quick linkedlist method:</p>\n\n<pre><code>List&lt;String&gt; llist = new LinkedList&lt;String&gt;(Arrays.asList(oldArray));\nllist.remove(0);\n</code></pre>\n"}],"owner":{"account_id":146405,"reputation":62788,"user_id":356849,"accept_rate":88,"display_name":"NullVoxPopuli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249604,"favorite_count":0,"down_vote_count":1,"up_vote_count":103,"accepted_answer_id":3663949,"answer_count":6,"score":102,"last_activity_date":1698282369,"creation_date":1283908463,"question_id":3663944,"body_markdown":"I have  string array (`String[]`) and I need to remove the first item. How can I do that efficiently? ","title":"What is the best way to remove the first element from an array?","body":"<p>I have  string array (<code>String[]</code>) and I need to remove the first item. How can I do that efficiently? </p>\n"},{"tags":["java","android","flutter","pdf","share"],"comments":[{"owner":{"account_id":18582673,"reputation":195,"user_id":13541839,"display_name":"OlegBezr"},"score":0,"creation_date":1698285056,"post_id":77363547,"comment_id":136386957,"body_markdown":"This should answer your question: https://stackoverflow.com/a/74081875/13541839\n\nBasically, you can specify what type of files your app handles in `AndroidManifest.xml`\n\nI think it&#39;s better to refer to android specific documentation for this issue: https://developer.android.com/guide/topics/manifest/data-element.html","body":"This should answer your question: <a href=\"https://stackoverflow.com/a/74081875/13541839\">stackoverflow.com/a/74081875/13541839</a>  Basically, you can specify what type of files your app handles in <code>AndroidManifest.xml</code>  I think it&#39;s better to refer to android specific documentation for this issue: <a href=\"https://developer.android.com/guide/topics/manifest/data-element.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/manifest/data-element.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698475086,"post_id":77363547,"comment_id":136412996,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":20893621,"reputation":1,"user_id":15348435,"display_name":"Shivam Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698282363,"creation_date":1698281075,"question_id":77363547,"body_markdown":"Search a lot but couldn&#39;t find satisfactory answer! [Want to add my Apps option here] (https://i.stack.imgur.com/wOT3p.png)\r\n\r\nA Small example app would really help.\r\n\r\n \r\n\r\nAdded &lt;data android:mimeType=&quot;application/pdf&quot; /&gt; in Manifest file but still not getting option, after this incoming intend is needed to be handled.","title":"How to add &#39;open with&#39; option of my flutter App (Android)?","body":"<p>Search a lot but couldn't find satisfactory answer! [Want to add my Apps option here] (<a href=\"https://i.stack.imgur.com/wOT3p.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/wOT3p.png</a>)</p>\n<p>A Small example app would really help.</p>\n<p>Added  in Manifest file but still not getting option, after this incoming intend is needed to be handled.</p>\n"},{"tags":["java","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":10235232,"reputation":140,"user_id":7554438,"display_name":"takintoolong"},"score":0,"creation_date":1500766599,"post_id":45260211,"comment_id":77483857,"body_markdown":"I am new to Java also, but I think you might have too many curly braces? Did you check those?","body":"I am new to Java also, but I think you might have too many curly braces? Did you check those?"},{"owner":{"account_id":5028986,"reputation":1194,"user_id":4039840,"display_name":"TuyenNTA"},"score":0,"creation_date":1500766665,"post_id":45260211,"comment_id":77483874,"body_markdown":"Your code run well for me,  in which case you&#39;ve got the error?","body":"Your code run well for me,  in which case you&#39;ve got the error?"},{"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"score":0,"creation_date":1500767914,"post_id":45260211,"comment_id":77484137,"body_markdown":"A `NoSuchElementException` in this context is indicating that there was no input from `System.in` - how do you give your input to the program?","body":"A <code>NoSuchElementException</code> in this context is indicating that there was no input from <code>System.in</code> - how do you give your input to the program?"},{"owner":{"account_id":9926590,"reputation":5025,"user_id":7347933,"accept_rate":86,"display_name":"Papershine"},"score":0,"creation_date":1500782159,"post_id":45260211,"comment_id":77486143,"body_markdown":"Maybe you closed `System.in` – it happened to me before, but it doesn&#39;t seem so in your code","body":"Maybe you closed <code>System.in</code> – it happened to me before, but it doesn&#39;t seem so in your code"}],"answers":[{"tags":[],"owner":{"account_id":6280390,"reputation":3711,"user_id":4881608,"display_name":"Pallavi Sonal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500793168,"creation_date":1500793168,"answer_id":45262379,"question_id":45260211,"body_markdown":"According to the [Java API docs][1], the `next()` method throws a `NoSuchElementException` when there aren&#39;t any more tokens available to be read. So, it is recommended to call the `hasNext()` method before calling the `next()` method in `Scanner` class to make sure that there is a token available to be read. So, try something like below :\r\n\r\n    if(input.hasNext()) {\r\n    \ttextMsg = input.next();\r\n    }\r\n\r\nOn a side-note, from Java 7 onwards, the `switch` statements can take a `String` input, so you may try using that in your code. In my personal opinion, it will be more readable than using the multiple if-else loops.\r\nAn example :\r\n\r\n        switch(textMsg) {\r\n        \tcase &quot;LOL&quot; : System.out.println(LOL);\r\n        \t\t\t     break;\r\n        \tcase &quot;IDK&quot; : System.out.println(IDK);\r\n        \t\t\t     break;\r\n        \tcase &quot;BFF&quot; : System.out.println(BFF);\r\n        \t\t\t     break;\r\n        \tcase &quot;IMHO&quot;: System.out.println(IMHO);\r\n        \t\t\t      break;\r\n        \tdefault    : System.out.println(&quot;Unknown&quot;);\r\n       }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\r\n\r\n","title":"Text message abbreviation decoder: NoSuchElementException","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#next--\" rel=\"nofollow noreferrer\">Java API docs</a>, the <code>next()</code> method throws a <code>NoSuchElementException</code> when there aren't any more tokens available to be read. So, it is recommended to call the <code>hasNext()</code> method before calling the <code>next()</code> method in <code>Scanner</code> class to make sure that there is a token available to be read. So, try something like below :</p>\n\n<pre><code>if(input.hasNext()) {\n    textMsg = input.next();\n}\n</code></pre>\n\n<p>On a side-note, from Java 7 onwards, the <code>switch</code> statements can take a <code>String</code> input, so you may try using that in your code. In my personal opinion, it will be more readable than using the multiple if-else loops.\nAn example :</p>\n\n<pre><code>    switch(textMsg) {\n        case \"LOL\" : System.out.println(LOL);\n                     break;\n        case \"IDK\" : System.out.println(IDK);\n                     break;\n        case \"BFF\" : System.out.println(BFF);\n                     break;\n        case \"IMHO\": System.out.println(IMHO);\n                      break;\n        default    : System.out.println(\"Unknown\");\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675055421,"post_id":75266719,"comment_id":132838377,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75266719/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27641867,"reputation":1,"user_id":21098689,"display_name":"JAVA HELP"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674899044,"creation_date":1674899044,"answer_id":75266719,"question_id":45260211,"body_markdown":"The values displayed 862 1371 17 need to be typed into the input box.Below is working code for the problem.\r\n-------------------------------------------------------------------------------\r\n        import java.util.Scanner;\r\n\r\n        public class TextMsgDecoder {\r\n        public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n         String userInput;\r\n        System.out.println(&quot;Enter text:&quot;);\r\n        userInput = scnr.nextLine();\r\n        System.out.println(&quot;You entered: &quot; + userInput);\r\n        if(userInput.indexOf(&quot;BFF&quot;) != -1) {\r\n            System.out.println(&quot;BFF: best friend forever&quot;);\r\n        }\r\n        if(userInput.indexOf(&quot;IDK&quot;) != -1) {\r\n            System.out.println(&quot;IDK: I don&#39;t know&quot;);\r\n        }\r\n        if(userInput.indexOf(&quot;JK&quot;) != -1) {\r\n            System.out.println(&quot;JK: just kidding&quot;);\r\n        }\r\n       if(userInput.indexOf(&quot;TMI&quot;) != -1) {\r\n            System.out.println(&quot;TMI: too much information&quot;);\r\n       }\r\n      if(userInput.indexOf(&quot;TTYL&quot;) != -1) {\r\n            System.out.println(&quot;TTYL: talk to you later&quot;);\r\n       }\r\n  }\r\n}","title":"Text message abbreviation decoder: NoSuchElementException","body":"<h2>The values displayed 862 1371 17 need to be typed into the input box.Below is working code for the problem.</h2>\n<pre><code>    import java.util.Scanner;\n\n    public class TextMsgDecoder {\n    public static void main(String[] args) {\n    Scanner scnr = new Scanner(System.in);\n\n     String userInput;\n    System.out.println(&quot;Enter text:&quot;);\n    userInput = scnr.nextLine();\n    System.out.println(&quot;You entered: &quot; + userInput);\n    if(userInput.indexOf(&quot;BFF&quot;) != -1) {\n        System.out.println(&quot;BFF: best friend forever&quot;);\n    }\n    if(userInput.indexOf(&quot;IDK&quot;) != -1) {\n        System.out.println(&quot;IDK: I don't know&quot;);\n    }\n    if(userInput.indexOf(&quot;JK&quot;) != -1) {\n        System.out.println(&quot;JK: just kidding&quot;);\n    }\n   if(userInput.indexOf(&quot;TMI&quot;) != -1) {\n        System.out.println(&quot;TMI: too much information&quot;);\n   }\n  if(userInput.indexOf(&quot;TTYL&quot;) != -1) {\n        System.out.println(&quot;TTYL: talk to you later&quot;);\n   }\n</code></pre>\n<p>}\n}</p>\n"}],"owner":{"account_id":11391577,"reputation":1,"user_id":8351417,"display_name":"DrSteveBrule"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698282025,"creation_date":1500766171,"question_id":45260211,"body_markdown":"I need help developing my text message abbreviation decoder I&#39;m trying to put together. The first part of the program should do this: &quot;If a user&#39;s input string matches a known text message abbreviation, output the unabbreviated form, else output: Unknown. Support two abbreviations: LOL -- laughing out loud, and IDK -- I don&#39;t know.&quot; Then: &quot;Expand to also decode these abbreviations. BFF -- best friends forever, IMHO -- in my humble opinion and TMI -- too much information.\r\n\r\nThis is the code I have so far:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class TextMsgAbbreviation {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            String textMsg = &quot;&quot;;\r\n            {\r\n                String BFF = &quot;best friends forever&quot;;\r\n                String IMHO = &quot;in my humble opinion&quot;;\r\n                String TMI = &quot;too much information&quot;;\r\n                String LOL = &quot;laughing out loud&quot;;\r\n                String IDK = &quot;i don&#39;t care&quot;;\r\n    \r\n                System.out.println(&quot;Input an abbreviation:&quot; + &quot; &quot;);\r\n    \r\n                textMsg = input.next();\r\n    \r\n                if (textMsg.compareTo(&quot;LOL&quot;) == 0) {\r\n                    System.out.println(LOL);\r\n                } else if (textMsg.compareTo(&quot;IDK&quot;) == 0) {\r\n                    System.out.println(IDK);\r\n                } else if (textMsg.compareTo(&quot;BFF&quot;) == 0) {\r\n                    System.out.println(BFF);\r\n                } else if (textMsg.compareTo(&quot;IMHO&quot;) == 0) {\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the output I get: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException\r\n        \tat java.util.Scanner.throwFor(Scanner.java:862)\r\n        \tat java.util.Scanner.next(Scanner.java:1371)\r\n        \tat TextMsgAbbreviation.main(TextMsgAbbreviation.java:17)\r\n\r\nWhat am I doing wrong?\r\n","title":"Text message abbreviation decoder: NoSuchElementException","body":"<p>I need help developing my text message abbreviation decoder I'm trying to put together. The first part of the program should do this: \"If a user's input string matches a known text message abbreviation, output the unabbreviated form, else output: Unknown. Support two abbreviations: LOL -- laughing out loud, and IDK -- I don't know.\" Then: \"Expand to also decode these abbreviations. BFF -- best friends forever, IMHO -- in my humble opinion and TMI -- too much information.</p>\n\n<p>This is the code I have so far:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class TextMsgAbbreviation {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        String textMsg = \"\";\n        {\n            String BFF = \"best friends forever\";\n            String IMHO = \"in my humble opinion\";\n            String TMI = \"too much information\";\n            String LOL = \"laughing out loud\";\n            String IDK = \"i don't care\";\n\n            System.out.println(\"Input an abbreviation:\" + \" \");\n\n            textMsg = input.next();\n\n            if (textMsg.compareTo(\"LOL\") == 0) {\n                System.out.println(LOL);\n            } else if (textMsg.compareTo(\"IDK\") == 0) {\n                System.out.println(IDK);\n            } else if (textMsg.compareTo(\"BFF\") == 0) {\n                System.out.println(BFF);\n            } else if (textMsg.compareTo(\"IMHO\") == 0) {\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the output I get: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.util.NoSuchElementException\n        at java.util.Scanner.throwFor(Scanner.java:862)\n        at java.util.Scanner.next(Scanner.java:1371)\n        at TextMsgAbbreviation.main(TextMsgAbbreviation.java:17)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot","okhttp","mockwebserver"],"comments":[{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":0,"creation_date":1563985259,"post_id":57186938,"comment_id":100884785,"body_markdown":"Hello! Why are you using `MockWebServer` if you want to do an Integration Test? Isn&#39;t `SpringBootTest.WebEnvironment.RANDOM_PORT` enough for creating a complete web environment (without needing to mock anything)?","body":"Hello! Why are you using <code>MockWebServer</code> if you want to do an Integration Test? Isn&#39;t <code>SpringBootTest.WebEnvironment.RANDOM_PORT</code> enough for creating a complete web environment (without needing to mock anything)?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1563995204,"post_id":57186938,"comment_id":100889235,"body_markdown":"I need to mock the *remote* webserver that is requested within my application. Of course I cannot execute itests against a live remote webserver. So that is to be mocked. As written, I&#39;m creating a *client* application, not a server!","body":"I need to mock the <i>remote</i> webserver that is requested within my application. Of course I cannot execute itests against a live remote webserver. So that is to be mocked. As written, I&#39;m creating a <i>client</i> application, not a server!"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1564040919,"post_id":57186938,"comment_id":100902128,"body_markdown":"@membersound Have you tried my solution ?","body":"@membersound Have you tried my solution ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1564041162,"post_id":57186938,"comment_id":100902290,"body_markdown":"As written, I have to mock the **remote** connection that the `WebClient` sends out of my application. This has nothing to do with the `RANDOM_PORT` property that spring starts my own webserver with!","body":"As written, I have to mock the <b>remote</b> connection that the <code>WebClient</code> sends out of my application. This has nothing to do with the <code>RANDOM_PORT</code> property that spring starts my own webserver with!"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1564044426,"post_id":57186938,"comment_id":100904142,"body_markdown":"But you said that your remote server also has a random port. By the way, why can&#39;t you try a fixed port ? It doesn&#39;t matter for the client but for the server, I think that you can easily find a free and stable port","body":"But you said that your remote server also has a random port. By the way, why can&#39;t you try a fixed port ? It doesn&#39;t matter for the client but for the server, I think that you can easily find a free and stable port"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1564045774,"post_id":57186938,"comment_id":100904937,"body_markdown":"Sorry then, I did not mean that, the remote server port is always fixed.","body":"Sorry then, I did not mean that, the remote server port is always fixed."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1564049732,"post_id":57186938,"comment_id":100907133,"body_markdown":"If it&#39;s fixed, why don&#39;t you use MockWebServer.start(PORT) ?","body":"If it&#39;s fixed, why don&#39;t you use MockWebServer.start(PORT) ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1564050372,"post_id":57186938,"comment_id":100907525,"body_markdown":"Imagine my remote webserver is accessed with `webclient.url=my.remote.domain:2233`. Now in my integration test I&#39;d have to replace it with `webclient.url=localhost:&lt;randomport&gt;`. Of course I could start the `MockWebServer` on port `2233`, but the next developer who&#39;s running the code might have another service running on 2233, so the rest fails as it cannot start the mock server. Or another example, if two applications are running integration test suite side by side, and both by change operating on port 2233. So I&#39;d prefer injecting the random port into the `WebClient` to be 100% flexible.","body":"Imagine my remote webserver is accessed with <code>webclient.url=my.remote.domain:2233</code>. Now in my integration test I&#39;d have to replace it with <code>webclient.url=localhost:&lt;randomport&gt;</code>. Of course I could start the <code>MockWebServer</code> on port <code>2233</code>, but the next developer who&#39;s running the code might have another service running on 2233, so the rest fails as it cannot start the mock server. Or another example, if two applications are running integration test suite side by side, and both by change operating on port 2233. So I&#39;d prefer injecting the random port into the <code>WebClient</code> to be 100% flexible."},{"owner":{"account_id":2336046,"reputation":981,"user_id":2048368,"accept_rate":74,"display_name":"Alex"},"score":0,"creation_date":1616762865,"post_id":57186938,"comment_id":118111422,"body_markdown":"regarding making mockWebServer non-static, I am not sure if it is possible because application context is loaded for a test class and then reused for each test in order to reduce the setup costs per test suite. We need to inject early those properties into the environment before the context is initialized for a test suite.","body":"regarding making mockWebServer non-static, I am not sure if it is possible because application context is loaded for a test class and then reused for each test in order to reduce the setup costs per test suite. We need to inject early those properties into the environment before the context is initialized for a test suite."}],"answers":[{"comments":[{"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"score":1,"creation_date":1623853225,"post_id":64241361,"comment_id":120196886,"body_markdown":"DynamicPropertySource will result in instantiation of a new Spring context for each test which can have unexpected side effects like running out of DB connections","body":"DynamicPropertySource will result in instantiation of a new Spring context for each test which can have unexpected side effects like running out of DB connections"}],"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1602063775,"creation_date":1602063775,"answer_id":64241361,"question_id":57186938,"body_markdown":"Since Spring Framework 5.2.5 (Spring Boot 2.x) you can use `DynamicPropertySource` annotation which is quite handy.\r\n\r\nHere is a complete example how you can use it with `MockWebServer` to bind the correct port:\r\n\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public abstract class AbstractIT {\r\n\r\n        static MockWebServer mockWebServer;\r\n\r\n        @DynamicPropertySource\r\n        static void properties(DynamicPropertyRegistry r) throws IOException {\r\n            r.add(&quot;some-service.url&quot;, () -&gt; &quot;http://localhost:&quot; + mockWebServer.getPort());\r\n        }\r\n\r\n        @BeforeAll\r\n        static void beforeAll() throws IOException {\r\n            mockWebServer = new MockWebServer();\r\n            mockWebServer.start();\r\n        }\r\n\r\n        @AfterAll\r\n        static void afterAll() throws IOException {\r\n            mockWebServer.shutdown();\r\n        }\r\n    }","title":"How to set MockWebServer port to WebClient in JUnit test?","body":"<p>Since Spring Framework 5.2.5 (Spring Boot 2.x) you can use <code>DynamicPropertySource</code> annotation which is quite handy.</p>\n<p>Here is a complete example how you can use it with <code>MockWebServer</code> to bind the correct port:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@DirtiesContext(classMode = DirtiesContext.ClassMode.AFTER_CLASS)\npublic abstract class AbstractIT {\n\n    static MockWebServer mockWebServer;\n\n    @DynamicPropertySource\n    static void properties(DynamicPropertyRegistry r) throws IOException {\n        r.add(&quot;some-service.url&quot;, () -&gt; &quot;http://localhost:&quot; + mockWebServer.getPort());\n    }\n\n    @BeforeAll\n    static void beforeAll() throws IOException {\n        mockWebServer = new MockWebServer();\n        mockWebServer.start();\n    }\n\n    @AfterAll\n    static void afterAll() throws IOException {\n        mockWebServer.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7597977,"reputation":664,"user_id":5763584,"display_name":"Thomas Turrell-Croft"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676654084,"creation_date":1676654084,"answer_id":75487346,"question_id":57186938,"body_markdown":"This is how you can set a WebClient base URL with the URL of the MockWebServer.\r\n\r\nThe WebClient and MockWebServer are light enough to be recreated for each test.\r\n\r\n```java\r\n@SpringBootTest\r\nclass Tests {\r\n\r\n  @Autowired\r\n  private WebClient.Builder webClientBuilder;\r\n\r\n  private MockWebServer mockWebServer;\r\n\r\n  private WebClient client;\r\n\r\n  @BeforeEach\r\n  void setUp() throws Exception {\r\n    mockWebServer = new MockWebServer();\r\n    mockWebServer.start();\r\n\r\n    // Set WebClinet base URL with the the mock web server URL \r\n    webClientBuilder.baseUrl(mockWebServer.url(&quot;&quot;).toString());\r\n\r\n    client = webClientBuilder.build();\r\n\r\n  }\r\n\r\n  @AfterEach\r\n  void tearDown() throws Exception {\r\n    mockWebServer.shutdown();\r\n  }\r\n\r\n  @Test\r\n  void bodyIsExpected() throws InterruptedException {\r\n\r\n    mockWebServer.enqueue(new MockResponse().setStatus(&quot;HTTP/1.1 200 OK&quot;).setBody(&quot;Hello World!&quot;)\r\n        .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;));\r\n\r\n    ResponseEntity&lt;String&gt; response = client.get().retrieve().toEntity(String.class).block();\r\n\r\n    assertThat(response.getBody(), is(&quot;Hello World!&quot;));\r\n  }\r\n}\r\n```","title":"How to set MockWebServer port to WebClient in JUnit test?","body":"<p>This is how you can set a WebClient base URL with the URL of the MockWebServer.</p>\n<p>The WebClient and MockWebServer are light enough to be recreated for each test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\nclass Tests {\n\n  @Autowired\n  private WebClient.Builder webClientBuilder;\n\n  private MockWebServer mockWebServer;\n\n  private WebClient client;\n\n  @BeforeEach\n  void setUp() throws Exception {\n    mockWebServer = new MockWebServer();\n    mockWebServer.start();\n\n    // Set WebClinet base URL with the the mock web server URL \n    webClientBuilder.baseUrl(mockWebServer.url(&quot;&quot;).toString());\n\n    client = webClientBuilder.build();\n\n  }\n\n  @AfterEach\n  void tearDown() throws Exception {\n    mockWebServer.shutdown();\n  }\n\n  @Test\n  void bodyIsExpected() throws InterruptedException {\n\n    mockWebServer.enqueue(new MockResponse().setStatus(&quot;HTTP/1.1 200 OK&quot;).setBody(&quot;Hello World!&quot;)\n        .addHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;));\n\n    ResponseEntity&lt;String&gt; response = client.get().retrieve().toEntity(String.class).block();\n\n    assertThat(response.getBody(), is(&quot;Hello World!&quot;));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11661574,"reputation":21,"user_id":8539687,"display_name":"Joe Conti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698281732,"creation_date":1698281732,"answer_id":77363567,"question_id":57186938,"body_markdown":"Here&#39;s a solution that&#39;s working from me.  Spring Boot 2 &amp; Spring-Webflux 5.3.30 using SpringBootTest\r\n\r\n1. MyServiceClientTestConfig creates injected beans port and myServiceClient, where \r\n\t- The port Integer bean is generated using Spring&#39;s TestSocketUtils.findAvailableTcpPort() \r\n\t- MyServiceClient is a Spring service that uses WebClient and gets initialized with a base URL.\r\n\r\n2. As documented we should not re-use a MockWebServer instance between tests so create it before each test using the port we found free at test initialization and shut it down after each test.\r\n\r\nI suppose there is a slim chance that since I find the port once when Spring is initializing the application context and there are short periods of time where it is not in use by MockWebServer, before the first call to init and between tests, that another process could take the port but the odds of that happening during the lifetime of the test seem incredibly small. \r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\r\n    public class MyServiceClientTest {\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(MyServiceClientTest.class);\r\n\r\n        private MockWebServer mockWebServer;\r\n\r\n        @Autowired\r\n        private MyServiceClient myServiceClient;\r\n\r\n        @Autowired\r\n        private Integer port;\r\n\r\n        @BeforeEach\r\n        void init() throws IOException {\r\n            assertNotNull(myServiceClient);\r\n            assertNotNull(port);\r\n\r\n            // MockWebServer not re-usable between tests\r\n            mockWebServer = new MockWebServer();\r\n            mockWebServer.start(port);\r\n\r\n            assertNotNull(mockWebServer);\r\n            assertEquals(port, mockWebServer.getPort());\r\n        }\r\n\r\n        @AfterEach\r\n        void cleanUp() throws IOException {\r\n            // MockWebServer not re-usable between tests\r\n            mockWebServer.shutdown();\r\n        }\r\n\r\n        @Test\r\n        public void placeholderTest1() {\r\n            LOG.info(&quot;Hello 1 {}&quot;, mockWebServer.getPort());\r\n        }\r\n\r\n        @Test\r\n        public void placeholderTest2() {\r\n            LOG.info(&quot;Hello 2 {}&quot;, mockWebServer.getPort());\r\n        }\r\n\r\n        @Configuration\r\n        static class MyServiceClientTestConfig {\r\n\r\n            @Bean\r\n            Integer getFreePort () {\r\n                // find a free port to use for this test\r\n                return TestSocketUtils.findAvailableTcpPort();\r\n            }\r\n\r\n            @Bean\r\n            MyServiceClient getMyServiceClient(Integer port) {\r\n                return new MyServiceClient(String.format(&quot;http://localhost:%d&quot;, port));\r\n            }\r\n        }\r\n    }","title":"How to set MockWebServer port to WebClient in JUnit test?","body":"<p>Here's a solution that's working from me.  Spring Boot 2 &amp; Spring-Webflux 5.3.30 using SpringBootTest</p>\n<ol>\n<li><p>MyServiceClientTestConfig creates injected beans port and myServiceClient, where</p>\n<ul>\n<li>The port Integer bean is generated using Spring's TestSocketUtils.findAvailableTcpPort()</li>\n<li>MyServiceClient is a Spring service that uses WebClient and gets initialized with a base URL.</li>\n</ul>\n</li>\n<li><p>As documented we should not re-use a MockWebServer instance between tests so create it before each test using the port we found free at test initialization and shut it down after each test.</p>\n</li>\n</ol>\n<p>I suppose there is a slim chance that since I find the port once when Spring is initializing the application context and there are short periods of time where it is not in use by MockWebServer, before the first call to init and between tests, that another process could take the port but the odds of that happening during the lifetime of the test seem incredibly small.</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\npublic class MyServiceClientTest {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyServiceClientTest.class);\n\n    private MockWebServer mockWebServer;\n\n    @Autowired\n    private MyServiceClient myServiceClient;\n\n    @Autowired\n    private Integer port;\n\n    @BeforeEach\n    void init() throws IOException {\n        assertNotNull(myServiceClient);\n        assertNotNull(port);\n\n        // MockWebServer not re-usable between tests\n        mockWebServer = new MockWebServer();\n        mockWebServer.start(port);\n\n        assertNotNull(mockWebServer);\n        assertEquals(port, mockWebServer.getPort());\n    }\n\n    @AfterEach\n    void cleanUp() throws IOException {\n        // MockWebServer not re-usable between tests\n        mockWebServer.shutdown();\n    }\n\n    @Test\n    public void placeholderTest1() {\n        LOG.info(&quot;Hello 1 {}&quot;, mockWebServer.getPort());\n    }\n\n    @Test\n    public void placeholderTest2() {\n        LOG.info(&quot;Hello 2 {}&quot;, mockWebServer.getPort());\n    }\n\n    @Configuration\n    static class MyServiceClientTestConfig {\n\n        @Bean\n        Integer getFreePort () {\n            // find a free port to use for this test\n            return TestSocketUtils.findAvailableTcpPort();\n        }\n\n        @Bean\n        MyServiceClient getMyServiceClient(Integer port) {\n            return new MyServiceClient(String.format(&quot;http://localhost:%d&quot;, port));\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15797,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":64241361,"answer_count":3,"score":23,"last_activity_date":1698281732,"creation_date":1563983739,"question_id":57186938,"body_markdown":"I&#39;m using `spring-boot` with `WebClient`, which is autowired as a bean.\r\n\r\nProblem: when writing a `junit` integration test, I have to use okhttp `MockWebServer`. This mock always starts up on a random port, eg `localhost:14321`.\r\n\r\nNow my `WebClient` of course has a fixed url that it sends the requests to. This url may be given by an `application.properties` parameter like `webclient.url=https://my.domain.com/`, so I could override that field in a `junit` test. But only statically.\r\n\r\nQuestion: how can I reset the `WebClient` bean inside a `@SpringBootTest` so that it sends the requests always to my mock server?\r\n\r\n    @Service\r\n    public class WebClientService {\r\n         public WebClientService(WebClient.Builder builder, @Value(&quot;${webclient.url}&quot; String url) {\r\n              this.webClient = builder.baseUrl(url)...build();\r\n         }\r\n    \r\n         public Response send() {\r\n              return webClient.body().exchange().bodyToMono();\r\n         }\r\n    }\r\n    \r\n    @Service\r\n    public void CallingService {\r\n          @Autowired\r\n          private WebClientService service;\r\n    \r\n          public void call() {\r\n               service.send();\r\n          }\r\n    }\r\n    \r\n    \r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class MyWebTest {\r\n            @Autowired\r\n            private CallingService calling;\r\n\r\n            @Test\r\n            public void test() {\r\n                 MockWebServer mockWebServer = new MockWebServer();\r\n                 System.out.println(&quot;Current mock server url: &quot; + mockWebServer.url(&quot;/&quot;).toString()); //this is random    \r\n                        \r\n                 mockWebServer.enqueue(new MockResponse()....);\r\n\r\n                 //TODO how to make the mocked server url public to the WebClient?\r\n                 calling.call();\r\n            }\r\n    }\r\n\r\n\r\nAs you see, I&#39;m writing a full realworld junit integration test. The only problem is: how can I pass the `MockWebServer` url and port to the `WebClient` so that it automatically sends the requests to my mock??\r\n\r\nSidenote: I definitely need a random port in `MockWebServer` here to not interfer with other running tests or applications. Thus have to stick to the random port, and find a way to pass it to the webclient (or dynamically override the application property).\r\n\r\n-------------\r\n\r\n**Update**:\r\nI came up with the following, which works. But maybe anyone knows how to make the mockserver field *non-static*?\r\n\r\n    @ContextConfiguration(initializers = RandomPortInitializer.class)\r\n    public abstract class AbstractITest {\r\n        @ClassRule\r\n    \tpublic static final MockWebServer mockWebServer = new MockWebServer();\r\n    \r\n    \tpublic static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n    \t\t@Override\r\n    \t\tpublic void initialize(ConfigurableApplicationContext applicationContext) {\r\n    \t\t\tTestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\r\n    \t\t\t\t\t&quot;webclient.url=&quot; + mockWebServer.url(&quot;/&quot;).toString());\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to set MockWebServer port to WebClient in JUnit test?","body":"<p>I'm using <code>spring-boot</code> with <code>WebClient</code>, which is autowired as a bean.</p>\n\n<p>Problem: when writing a <code>junit</code> integration test, I have to use okhttp <code>MockWebServer</code>. This mock always starts up on a random port, eg <code>localhost:14321</code>.</p>\n\n<p>Now my <code>WebClient</code> of course has a fixed url that it sends the requests to. This url may be given by an <code>application.properties</code> parameter like <code>webclient.url=https://my.domain.com/</code>, so I could override that field in a <code>junit</code> test. But only statically.</p>\n\n<p>Question: how can I reset the <code>WebClient</code> bean inside a <code>@SpringBootTest</code> so that it sends the requests always to my mock server?</p>\n\n<pre><code>@Service\npublic class WebClientService {\n     public WebClientService(WebClient.Builder builder, @Value(\"${webclient.url}\" String url) {\n          this.webClient = builder.baseUrl(url)...build();\n     }\n\n     public Response send() {\n          return webClient.body().exchange().bodyToMono();\n     }\n}\n\n@Service\npublic void CallingService {\n      @Autowired\n      private WebClientService service;\n\n      public void call() {\n           service.send();\n      }\n}\n\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MyWebTest {\n        @Autowired\n        private CallingService calling;\n\n        @Test\n        public void test() {\n             MockWebServer mockWebServer = new MockWebServer();\n             System.out.println(\"Current mock server url: \" + mockWebServer.url(\"/\").toString()); //this is random    \n\n             mockWebServer.enqueue(new MockResponse()....);\n\n             //TODO how to make the mocked server url public to the WebClient?\n             calling.call();\n        }\n}\n</code></pre>\n\n<p>As you see, I'm writing a full realworld junit integration test. The only problem is: how can I pass the <code>MockWebServer</code> url and port to the <code>WebClient</code> so that it automatically sends the requests to my mock??</p>\n\n<p>Sidenote: I definitely need a random port in <code>MockWebServer</code> here to not interfer with other running tests or applications. Thus have to stick to the random port, and find a way to pass it to the webclient (or dynamically override the application property).</p>\n\n<hr>\n\n<p><strong>Update</strong>:\nI came up with the following, which works. But maybe anyone knows how to make the mockserver field <em>non-static</em>?</p>\n\n<pre><code>@ContextConfiguration(initializers = RandomPortInitializer.class)\npublic abstract class AbstractITest {\n    @ClassRule\n    public static final MockWebServer mockWebServer = new MockWebServer();\n\n    public static class RandomPortInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n        @Override\n        public void initialize(ConfigurableApplicationContext applicationContext) {\n            TestPropertySourceUtils.addInlinedPropertiesToEnvironment(applicationContext,\n                    \"webclient.url=\" + mockWebServer.url(\"/\").toString());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698280173,"creation_date":1681560332,"answer_id":76022154,"question_id":76022012,"body_markdown":"Here is a `quick and dirty` implementation to give you an idea. You will need to build a `better logic` based on your requirements. The idea here is to use a `Handler` to append the characters of the `word` (which is `Hello` in below example) with a certain `delay` to give it a `typewriter` kind of effect.\r\n\r\n**MainActivity.java**\r\n     \r\n    public class MainActivity extends AppCompatActivity {\r\n          \r\n        TextView typingt;\r\n        Button typingb;\r\n      \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n              \r\n            typingb = findViewById(R.id.typingb);\r\n            typingt = findViewById(R.id.typingt);\r\n              \r\n            typingb.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            typingt.setText(&quot;H&quot;);\r\n                        }\r\n                    }, 300);\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            typingt.append(&quot;e&quot;);\r\n                        }\r\n                    }, 400);\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            typingt.append(&quot;e&quot;);\r\n                        }\r\n                    }, 500);\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            typingt.append(&quot;l&quot;);\r\n                        }\r\n                    }, 600);\r\n                    new Handler().postDelayed(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            typingt.append(&quot;o&quot;);\r\n                        }\r\n                    }, 700);\r\n                    \r\n                  }\r\n            });\r\n        }\r\n    }\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    \txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    \txmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    \tandroid:layout_width=&quot;match_parent&quot;\r\n    \tandroid:layout_height=&quot;match_parent&quot;\r\n    \tandroid:layout_margin=&quot;20dp&quot;\r\n    \tandroid:orientation=&quot;vertical&quot;\r\n    \tandroid:padding=&quot;20dp&quot;\r\n    \ttools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n    \t&lt;TextView\r\n    \t\tandroid:id=&quot;@+id/typingt&quot;\r\n    \t\tandroid:layout_width=&quot;wrap_content&quot;\r\n    \t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\tandroid:layout_alignParentTop=&quot;true&quot;\r\n    \t\tandroid:layout_centerHorizontal=&quot;true&quot;\r\n    \t\tandroid:layout_margin=&quot;15dp&quot;\r\n    \t\tandroid:text=&quot;Hello&quot;\r\n    \t\tandroid:textColor=&quot;@color/black&quot;\r\n    \t\tandroid:textSize=&quot;30dp&quot; /&gt;\r\n    \r\n    \t&lt;Button\r\n    \t\tandroid:id=&quot;@+id/typingb&quot;\r\n    \t\tandroid:layout_width=&quot;match_parent&quot;\r\n    \t\tandroid:layout_height=&quot;wrap_content&quot;\r\n    \t\tandroid:layout_margin=&quot;15dp&quot;\r\n    \t\tandroid:background=&quot;@color/black&quot;\r\n    \t\tandroid:padding=&quot;20dp&quot;\r\n    \t\tandroid:text=&quot;Typing Animation&quot; /&gt;\r\n    \t\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n","title":"Typewriter effect in android studio","body":"<p>Here is a <code>quick and dirty</code> implementation to give you an idea. You will need to build a <code>better logic</code> based on your requirements. The idea here is to use a <code>Handler</code> to append the characters of the <code>word</code> (which is <code>Hello</code> in below example) with a certain <code>delay</code> to give it a <code>typewriter</code> kind of effect.</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n      \n    TextView typingt;\n    Button typingb;\n  \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n          \n        typingb = findViewById(R.id.typingb);\n        typingt = findViewById(R.id.typingt);\n          \n        typingb.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        typingt.setText(&quot;H&quot;);\n                    }\n                }, 300);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        typingt.append(&quot;e&quot;);\n                    }\n                }, 400);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        typingt.append(&quot;e&quot;);\n                    }\n                }, 500);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        typingt.append(&quot;l&quot;);\n                    }\n                }, 600);\n                new Handler().postDelayed(new Runnable() {\n                    @Override\n                    public void run() {\n                        typingt.append(&quot;o&quot;);\n                    }\n                }, 700);\n                \n              }\n        });\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_margin=&quot;20dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;20dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/typingt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:text=&quot;Hello&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:textSize=&quot;30dp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/typingb&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;15dp&quot;\n        android:background=&quot;@color/black&quot;\n        android:padding=&quot;20dp&quot;\n        android:text=&quot;Typing Animation&quot; /&gt;\n    \n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":28311413,"reputation":23,"user_id":21648604,"display_name":"Ali Nasouri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76022154,"answer_count":1,"score":2,"last_activity_date":1698280173,"creation_date":1681558574,"question_id":76022012,"body_markdown":"I am a very novice java learner, \r\nI am trying to ADD typewriter effect to my app in android studio. I have defined the class &quot;typeWriter&quot; for the effect, still I have problem to use it in my app. specifically, to use the text from other classes.  \r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.game_screen);\r\n        image = (ImageView) findViewById(R.id.IntroImage);\r\n        text = (TextView) findViewById(R.id.HelpAndDefine);\r\n        button1 = (Button) findViewById(R.id.button3);\r\n        button2 = (Button) findViewById(R.id.button5);\r\n        button3 = (Button) findViewById(R.id.button7);\r\n        button1.setTransformationMethod(null);\r\n        button2.setTransformationMethod(null);\r\n        button3.setTransformationMethod(null);\r\n        typeWriter txtView = findViewById(R.id.HelpAndDefine);\r\n        txtView.setText(&quot;&quot;);\r\n        txtView.setCharacterDelays(150);\r\n        txtView.animateText(&quot;&quot;);\r\n\r\n\r\n        story.startingPoint();","title":"Typewriter effect in android studio","body":"<p>I am a very novice java learner,\nI am trying to ADD typewriter effect to my app in android studio. I have defined the class &quot;typeWriter&quot; for the effect, still I have problem to use it in my app. specifically, to use the text from other classes.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.game_screen);\n    image = (ImageView) findViewById(R.id.IntroImage);\n    text = (TextView) findViewById(R.id.HelpAndDefine);\n    button1 = (Button) findViewById(R.id.button3);\n    button2 = (Button) findViewById(R.id.button5);\n    button3 = (Button) findViewById(R.id.button7);\n    button1.setTransformationMethod(null);\n    button2.setTransformationMethod(null);\n    button3.setTransformationMethod(null);\n    typeWriter txtView = findViewById(R.id.HelpAndDefine);\n    txtView.setText(&quot;&quot;);\n    txtView.setCharacterDelays(150);\n    txtView.animateText(&quot;&quot;);\n\n\n    story.startingPoint();\n</code></pre>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":8734894,"reputation":678,"user_id":6533853,"accept_rate":0,"display_name":"Ninja"},"score":0,"creation_date":1691997884,"post_id":74506989,"comment_id":135560993,"body_markdown":"I am also getting error on exact ` webView.getSettings().setAppCachePath()` line, If you have got solution then please share it","body":"I am also getting error on exact ` webView.getSettings().setAppCachePath()` line, If you have got solution then please share it"}],"answers":[{"tags":[],"owner":{"account_id":5150264,"reputation":882,"user_id":4125064,"accept_rate":90,"display_name":"Andrain"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1669221555,"creation_date":1669221555,"answer_id":74550249,"question_id":74506989,"body_markdown":"you can use\r\n  \r\n    webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);","title":"setAppCachePath and setAppCacheEnabled these are not work in android 33","body":"<p>you can use</p>\n<pre><code>webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4045279,"reputation":899,"user_id":3326683,"display_name":"androidmalin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692152178,"creation_date":1692152178,"answer_id":76910102,"question_id":74506989,"body_markdown":"use reflection to avoid compile failure when you set compileSdk&gt;=33\r\n\r\n    /**\r\n     * handle sdk&gt;=33(android 13) WebSettings remove setAppCachePath\r\n     *\r\n     * @author androidmalin\r\n     *\r\n     * @param webSettings  WebSettings\r\n     * @param appCachePath appCachePath\r\n     */\r\n    public static void handleWebSettings_setAppCachePath(WebSettings webSettings, String appCachePath) {\r\n        if (webSettings == null) return;\r\n        if (appCachePath == null || appCachePath.isEmpty()) return;\r\n        if (Build.VERSION.SDK_INT &gt;= 33) return;\r\n        // sdk&gt;=33(android 13) remove setAppCachePath Method\r\n        try {\r\n            // public abstract void setAppCachePath(String appCachePath);\r\n            Class&lt;?&gt; webSettingsClazz = Class.forName(&quot;android.webkit.WebSettings&quot;);\r\n            //noinspection JavaReflectionMemberAccess\r\n            Method setAppCachePathMethod = webSettingsClazz.getDeclaredMethod(&quot;setAppCachePath&quot;, String.class);\r\n            setAppCachePathMethod.setAccessible(true);\r\n            setAppCachePathMethod.invoke(webSettings, appCachePath);\r\n        } catch (Throwable e) {\r\n            //ignore\r\n        }\r\n    }\r\n\r\n   ","title":"setAppCachePath and setAppCacheEnabled these are not work in android 33","body":"<p>use reflection to avoid compile failure when you set compileSdk&gt;=33</p>\n<pre><code>/**\n * handle sdk&gt;=33(android 13) WebSettings remove setAppCachePath\n *\n * @author androidmalin\n *\n * @param webSettings  WebSettings\n * @param appCachePath appCachePath\n */\npublic static void handleWebSettings_setAppCachePath(WebSettings webSettings, String appCachePath) {\n    if (webSettings == null) return;\n    if (appCachePath == null || appCachePath.isEmpty()) return;\n    if (Build.VERSION.SDK_INT &gt;= 33) return;\n    // sdk&gt;=33(android 13) remove setAppCachePath Method\n    try {\n        // public abstract void setAppCachePath(String appCachePath);\n        Class&lt;?&gt; webSettingsClazz = Class.forName(&quot;android.webkit.WebSettings&quot;);\n        //noinspection JavaReflectionMemberAccess\n        Method setAppCachePathMethod = webSettingsClazz.getDeclaredMethod(&quot;setAppCachePath&quot;, String.class);\n        setAppCachePathMethod.setAccessible(true);\n        setAppCachePathMethod.invoke(webSettings, appCachePath);\n    } catch (Throwable e) {\n        //ignore\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10355365,"reputation":71,"user_id":7637524,"display_name":"Hostrings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4468,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1698279765,"creation_date":1668937025,"question_id":74506989,"body_markdown":"```\r\nwebView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\r\nwebView.getSettings().setAppCacheEnabled(true);\r\n```\r\n\r\n```\r\nerror: cannot find symbol\r\n        webView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\r\n                             ^\r\n  symbol:   method setAppCachePath(String)\r\n  location: class WebSettings\r\n```\r\n\r\nWhat is an alternative for these lines?\r\n\r\n\r\n```\r\nprivate void enableHTML5AppCache() {\r\n    webView.getSettings().setDomStorageEnabled(true);\r\n    webView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\r\n    webView.getSettings().setAppCacheEnabled(true);\r\n    webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\r\n}\r\n```\r\n\r\nCan anyone provide me a solution of these errors?","title":"setAppCachePath and setAppCacheEnabled these are not work in android 33","body":"<pre><code>webView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\nwebView.getSettings().setAppCacheEnabled(true);\n</code></pre>\n<pre><code>error: cannot find symbol\n        webView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\n                             ^\n  symbol:   method setAppCachePath(String)\n  location: class WebSettings\n</code></pre>\n<p>What is an alternative for these lines?</p>\n<pre><code>private void enableHTML5AppCache() {\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setAppCachePath(&quot;/data/data/&quot; + getPackageName() + &quot;/cache&quot;);\n    webView.getSettings().setAppCacheEnabled(true);\n    webView.getSettings().setCacheMode(WebSettings.LOAD_DEFAULT);\n}\n</code></pre>\n<p>Can anyone provide me a solution of these errors?</p>\n"},{"tags":["java","eclipse","spring-boot","gradle"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1630650413,"post_id":69040349,"comment_id":122019044,"body_markdown":"[Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?](//meta.stackoverflow.com/q/326569)","body":"<a href=\"//meta.stackoverflow.com/q/326569\">Under what circumstances may I add &quot;urgent&quot; or other similar phrases to my question, in order to obtain faster answers?</a>"},{"owner":{"account_id":17367109,"reputation":39,"user_id":12581983,"display_name":"john"},"score":0,"creation_date":1630650990,"post_id":69040349,"comment_id":122019201,"body_markdown":"working with a team and I have to do my part, but cannot start due to this error...","body":"working with a team and I have to do my part, but cannot start due to this error..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1630658946,"post_id":69040349,"comment_id":122021984,"body_markdown":"Please show what you have in _Project &gt; Properties: Java Build Path_ tab _Libraries_, your `build.gradle` and if it exists also the `module-info.java` file.","body":"Please show what you have in <i>Project &gt; Properties: Java Build Path</i> tab <i>Libraries</i>, your <code>build.gradle</code> and if it exists also the <code>module-info.java</code> file."},{"owner":{"account_id":17367109,"reputation":39,"user_id":12581983,"display_name":"john"},"score":0,"creation_date":1630842137,"post_id":69040349,"comment_id":122060617,"body_markdown":"Thank you for your help! just solved by making a new project...","body":"Thank you for your help! just solved by making a new project..."}],"answers":[{"comments":[{"owner":{"account_id":17367109,"reputation":39,"user_id":12581983,"display_name":"john"},"score":0,"creation_date":1630651015,"post_id":69040471,"comment_id":122019211,"body_markdown":"Thank you for your comment, I tired that so many times. it does not work...","body":"Thank you for your comment, I tired that so many times. it does not work..."},{"owner":{"account_id":2538516,"reputation":540,"user_id":5662508,"display_name":"Nagaraju Chitimilla"},"score":0,"creation_date":1630651049,"post_id":69040471,"comment_id":122019223,"body_markdown":"is your gradle build successful? Based  on the errors it looks like you were unable to download all the dependencies.","body":"is your gradle build successful? Based  on the errors it looks like you were unable to download all the dependencies."},{"owner":{"account_id":17367109,"reputation":39,"user_id":12581983,"display_name":"john"},"score":0,"creation_date":1630652058,"post_id":69040471,"comment_id":122019526,"body_markdown":"yes... that&#39;s right... build is failed... btw... I have no idea why it cannot be build. it worked before. I checked gradle and java version and everything...","body":"yes... that&#39;s right... build is failed... btw... I have no idea why it cannot be build. it worked before. I checked gradle and java version and everything..."}],"tags":[],"owner":{"account_id":2538516,"reputation":540,"user_id":5662508,"display_name":"Nagaraju Chitimilla"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630650846,"creation_date":1630650846,"answer_id":69040471,"question_id":69040349,"body_markdown":"First try building the project using gradle.bat build. Once the build is successful try refreshing the project i.e. `right click on the project -&gt; gradle -&gt; refresh project`.\r\n\r\nIdeally this should solve your problem.","title":"Eclipse + Gradle + Spring Boot project (build error)","body":"<p>First try building the project using gradle.bat build. Once the build is successful try refreshing the project i.e. <code>right click on the project -&gt; gradle -&gt; refresh project</code>.</p>\n<p>Ideally this should solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698279737,"creation_date":1698279737,"answer_id":77363503,"question_id":69040349,"body_markdown":"Late answer but thought it might be helpful for someone like me who faced exactly the same situation when I imported an existing Gradle Project in my STS (Eclipse).\r\n\r\nI had to match my local pc&#39;s JAVA_HOME env variable and this block (jdk 21 in my case) in `build.gradle`:\r\n\r\n    java {\r\n    \tsourceCompatibility = &#39;21&#39;\r\n    }\r\n\r\nThen I did `gradlew clean build` followed by `right click on the project -&gt; gradle -&gt; refresh project` (as suggested by @Nagaraju Chitimilla) and I was able to resolve all my errors.\r\n","title":"Eclipse + Gradle + Spring Boot project (build error)","body":"<p>Late answer but thought it might be helpful for someone like me who faced exactly the same situation when I imported an existing Gradle Project in my STS (Eclipse).</p>\n<p>I had to match my local pc's JAVA_HOME env variable and this block (jdk 21 in my case) in <code>build.gradle</code>:</p>\n<pre><code>java {\n    sourceCompatibility = '21'\n}\n</code></pre>\n<p>Then I did <code>gradlew clean build</code> followed by <code>right click on the project -&gt; gradle -&gt; refresh project</code> (as suggested by @Nagaraju Chitimilla) and I was able to resolve all my errors.</p>\n"}],"owner":{"account_id":17367109,"reputation":39,"user_id":12581983,"display_name":"john"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1698279737,"creation_date":1630650126,"question_id":69040349,"body_markdown":"I am new to spring boot + gradle project. I was working with github and worked fine. Btw, I deleted my local repository and imported the project from github again. This error occurred. In my opinion, the gradle project cannot be built. I am trying to solve this problem for the whole day, but I couldn&#39;t.\r\n\r\nplease anyone help!\r\n\r\nWhat I have tried\r\n - change proejct name on .project file.\r\n - changed jre version\r\n\r\n\r\n[![Application.java][2]][2]\r\n\r\n\r\n[![][3]][3]\r\n\r\n[![my project directory][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PAoRT.png\r\n  [2]: https://i.stack.imgur.com/vVr1f.png\r\n  [3]: https://i.stack.imgur.com/aTB8e.png","title":"Eclipse + Gradle + Spring Boot project (build error)","body":"<p>I am new to spring boot + gradle project. I was working with github and worked fine. Btw, I deleted my local repository and imported the project from github again. This error occurred. In my opinion, the gradle project cannot be built. I am trying to solve this problem for the whole day, but I couldn't.</p>\n<p>please anyone help!</p>\n<p>What I have tried</p>\n<ul>\n<li>change proejct name on .project file.</li>\n<li>changed jre version</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/vVr1f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vVr1f.png\" alt=\"Application.java\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aTB8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aTB8e.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PAoRT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PAoRT.png\" alt=\"my project directory\" /></a></p>\n"},{"tags":["java","implicit-conversion"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1687638829,"post_id":76547872,"comment_id":134965684,"body_markdown":"By the way, images of text [are not well received]https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors() here.  One of the things you can do to improve this question is to edit it, and use copy-and-paste to replace the screenshot with actual text.","body":"By the way, images of text [are not well received]<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors()\" title=\"why should i not upload images of code data errors()\">meta.stackoverflow.com/questions/285551/&hellip;</a> here.  One of the things you can do to improve this question is to edit it, and use copy-and-paste to replace the screenshot with actual text."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687640421,"post_id":76547872,"comment_id":134965839,"body_markdown":"That is what a narrowing conversion of integer type primitives does. `myfirstnumber` is 32 bits. The cast `(byte)` copies the last 8 bits. Use of the cast says to the compiler &quot;I know what I am doing here.&quot;","body":"That is what a narrowing conversion of integer type primitives does. <code>myfirstnumber</code> is 32 bits. The cast <code>(byte)</code> copies the last 8 bits. Use of the cast says to the compiler &quot;I know what I am doing here.&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687640918,"post_id":76547872,"comment_id":134965899,"body_markdown":"&quot;Clearly this should raise an error&quot; -- Java is not specified that way, from Java Language Specification [5.1.3. Narrowing Primitive Conversion](https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.3-400): &quot;*Despite the fact that overflow, underflow, or other loss of information may occur, a narrowing primitive conversion **never results in a run-time exception***&quot; (emphasis mine)","body":"&quot;Clearly this should raise an error&quot; -- Java is not specified that way, from Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-5.html#jls-5.1.3-400\" rel=\"nofollow noreferrer\">5.1.3. Narrowing Primitive Conversion</a>: &quot;<i>Despite the fact that overflow, underflow, or other loss of information may occur, a narrowing primitive conversion <b>never results in a run-time exception</i></b>&quot; (emphasis mine)"}],"answers":[{"comments":[{"owner":{"account_id":17434747,"reputation":56,"user_id":12637970,"display_name":"Joachim Favre"},"score":0,"creation_date":1698397701,"post_id":76548296,"comment_id":136403095,"body_markdown":"Did someone literally spend some of their time to remove a 3-word welcoming message at the start of my post? Don&#39;t be shocked when other people call your website unwelcoming. \nNote that welcoming messages is a [controversial question](https://meta.stackexchange.com/q/3179), so I definitely think you should let people do whatever they want.\n(And, as [Joel Marcey](https://meta.stackexchange.com/users/38693/joel-marcey) recalls in their thread, one of the rules of StackOverflow is to &quot;be nice&quot;...)","body":"Did someone literally spend some of their time to remove a 3-word welcoming message at the start of my post? Don&#39;t be shocked when other people call your website unwelcoming.  Note that welcoming messages is a <a href=\"https://meta.stackexchange.com/q/3179\">controversial question</a>, so I definitely think you should let people do whatever they want. (And, as <a href=\"https://meta.stackexchange.com/users/38693/joel-marcey\">Joel Marcey</a> recalls in their thread, one of the rules of StackOverflow is to &quot;be nice&quot;...)"}],"tags":[],"owner":{"account_id":17434747,"reputation":56,"user_id":12637970,"display_name":"Joachim Favre"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698279547,"creation_date":1687648154,"answer_id":76548296,"question_id":76547872,"body_markdown":"First, let me explain why you get 44 when casting 300 to a byte. To do so, I need to start by explaining integer representation in memory. Java, as most programming language, represents signed integers using two&#39;s complement. Simply put, every number is represented given a fixed number of binary digits (bits) ```n```, where the first represents the sign and the ```n-1``` others represent the magnitude. For positive numbers, those ```n-1``` bits is simply the number in binary.\r\n\r\nThe main difference between Java&#39;s integer types is this ```n```: ```int```s work over ```n = 32``` bits whereas ```byte```s use ```n = 8``` bits. This means that your number 300 is represented as ```0000&#39;0000&#39;0000&#39;0000&#39;0000&#39;0001&#39;0010&#39;1100``` in memory. Now, you want to translate this number to a representation which uses only 8 bits, though you can clearly see that you need at least 10 of them (9 for the magnitude, and 1 for the sign). You will thus need to have some loss of information. Java does not consider this problem (in fact, there is no way for it to do so) and simply copies the 8 right-most bits, to give ```0010&#39;1100```. Translating this to base 10 indeed yields 44. \r\n\r\nNotice that, if you know binary, in the conversion from ```int``` to ```byte```, you lost a 1 in the 256 place. This may give you more intuition on why 300 - 44 = 256.\r\n\r\nSecond, let&#39;s speak about the fact Java does not give you an error. Notice first that the following code does *not* compile since an ```int``` can hold bigger values than a ```byte``` can:\r\n```\r\nint myfirstnumber = 100;\r\nbyte mysecondnumber = myfirstnumber;  // error: incompatible types: possible lossy conversion from int to byte\r\n```\r\n\r\nThe compiler refues to let you do a narrowing conversion without you acknowledging it; it considers that such syntax is too error-prone. However, you may sometimes want to do such a conversion. In this case, you have to show that this is indeed your intention:\r\n```\r\nint myfirstnumber = 100;\r\nbyte mysecondnumber = (byte)myfirstnumber;\r\n```\r\n\r\nIn this case, the compiler thinks you know what you are doing, as [@old-dog-programmer](https://stackoverflow.com/users/5103317/old-dog-programmer) pointed out. Now, if you don&#39;t want to loose data when doing your cast, you should make the verification that there would be an overflow yourself:\r\n```\r\nint myfirstnumber = 100;\r\nbyte mysecondnumber = 0;\r\nif(Byte.MIN_VALUE &lt;= myfirstnumber &amp;&amp; myfirstnumber &lt;= Byte.MAX_VALUE) {\r\n    mysecondnumber = (byte)myfirstnumber;\r\n} else {\r\n    // handle the error\r\n}\r\n```\r\n","title":"Query about Implicit Type casting in Java for Primitive data types","body":"<p>First, let me explain why you get 44 when casting 300 to a byte. To do so, I need to start by explaining integer representation in memory. Java, as most programming language, represents signed integers using two's complement. Simply put, every number is represented given a fixed number of binary digits (bits) <code>n</code>, where the first represents the sign and the <code>n-1</code> others represent the magnitude. For positive numbers, those <code>n-1</code> bits is simply the number in binary.</p>\n<p>The main difference between Java's integer types is this <code>n</code>: <code>int</code>s work over <code>n = 32</code> bits whereas <code>byte</code>s use <code>n = 8</code> bits. This means that your number 300 is represented as <code>0000'0000'0000'0000'0000'0001'0010'1100</code> in memory. Now, you want to translate this number to a representation which uses only 8 bits, though you can clearly see that you need at least 10 of them (9 for the magnitude, and 1 for the sign). You will thus need to have some loss of information. Java does not consider this problem (in fact, there is no way for it to do so) and simply copies the 8 right-most bits, to give <code>0010'1100</code>. Translating this to base 10 indeed yields 44.</p>\n<p>Notice that, if you know binary, in the conversion from <code>int</code> to <code>byte</code>, you lost a 1 in the 256 place. This may give you more intuition on why 300 - 44 = 256.</p>\n<p>Second, let's speak about the fact Java does not give you an error. Notice first that the following code does <em>not</em> compile since an <code>int</code> can hold bigger values than a <code>byte</code> can:</p>\n<pre><code>int myfirstnumber = 100;\nbyte mysecondnumber = myfirstnumber;  // error: incompatible types: possible lossy conversion from int to byte\n</code></pre>\n<p>The compiler refues to let you do a narrowing conversion without you acknowledging it; it considers that such syntax is too error-prone. However, you may sometimes want to do such a conversion. In this case, you have to show that this is indeed your intention:</p>\n<pre><code>int myfirstnumber = 100;\nbyte mysecondnumber = (byte)myfirstnumber;\n</code></pre>\n<p>In this case, the compiler thinks you know what you are doing, as <a href=\"https://stackoverflow.com/users/5103317/old-dog-programmer\">@old-dog-programmer</a> pointed out. Now, if you don't want to loose data when doing your cast, you should make the verification that there would be an overflow yourself:</p>\n<pre><code>int myfirstnumber = 100;\nbyte mysecondnumber = 0;\nif(Byte.MIN_VALUE &lt;= myfirstnumber &amp;&amp; myfirstnumber &lt;= Byte.MAX_VALUE) {\n    mysecondnumber = (byte)myfirstnumber;\n} else {\n    // handle the error\n}\n</code></pre>\n"}],"owner":{"account_id":28888214,"reputation":11,"user_id":22126061,"display_name":"user22126061"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76548296,"answer_count":1,"score":-2,"last_activity_date":1698279547,"creation_date":1687638395,"question_id":76547872,"body_markdown":"I HAVE BEEN LEARNING ABOUT TYPE CASTING IN JAVA AND THIS HAPPENED.\r\n\r\nFirst I gave a large value to an integer variable(larger number than the range of byte data_type).\r\nNext I created a byte variable and tried to type cast the value of first variable.\r\nClearly this should raise an error as the range of the byte is shorter than the value of first variable.I did this in JSHELL.\r\n\r\n[Screenshot of my problem](https://i.stack.imgur.com/EbJW7.png) \r\n\r\nI wish to know why java didnt give me an error and instead gave a completely different number.I didnt see any byte wraparounds as the result value is much larger.","title":"Query about Implicit Type casting in Java for Primitive data types","body":"<p>I HAVE BEEN LEARNING ABOUT TYPE CASTING IN JAVA AND THIS HAPPENED.</p>\n<p>First I gave a large value to an integer variable(larger number than the range of byte data_type).\nNext I created a byte variable and tried to type cast the value of first variable.\nClearly this should raise an error as the range of the byte is shorter than the value of first variable.I did this in JSHELL.</p>\n<p><a href=\"https://i.stack.imgur.com/EbJW7.png\" rel=\"nofollow noreferrer\">Screenshot of my problem</a></p>\n<p>I wish to know why java didnt give me an error and instead gave a completely different number.I didnt see any byte wraparounds as the result value is much larger.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":13446567,"reputation":834,"user_id":9702353,"display_name":"Aritra Paul"},"score":1,"creation_date":1545552042,"post_id":53902041,"comment_id":94649147,"body_markdown":"It looks like your post is mostly code; please add some more details. And submit your code in the right way.","body":"It looks like your post is mostly code; please add some more details. And submit your code in the right way."},{"owner":{"account_id":5590946,"reputation":3040,"user_id":4430183,"display_name":"Emre Savcı"},"score":0,"creation_date":1545553369,"post_id":53902041,"comment_id":94649373,"body_markdown":"You need to paste your code correctyl. Your entity is not seems correct. Also please share what is your request contains and stacktrace.","body":"You need to paste your code correctyl. Your entity is not seems correct. Also please share what is your request contains and stacktrace."},{"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"score":0,"creation_date":1545554029,"post_id":53902041,"comment_id":94649462,"body_markdown":"@EmreSavcı Can you please check now? Request is:-{\n&quot;name&quot;:&quot;BodyGuard&quot;,\n&quot;type&quot;:&quot;English&quot;,\n&quot;releasedate&quot;:&quot;26/07/2015&quot;,\n&quot;time&quot;:&quot;160&quot;,\n&quot;genre&quot;:&quot;Drama&quot;\n}","body":"@EmreSavcı Can you please check now? Request is:-{ &quot;name&quot;:&quot;BodyGuard&quot;, &quot;type&quot;:&quot;English&quot;, &quot;releasedate&quot;:&quot;26/07/2015&quot;, &quot;time&quot;:&quot;160&quot;, &quot;genre&quot;:&quot;Drama&quot; }"},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1545554811,"post_id":53902041,"comment_id":94649585,"body_markdown":"If you&#39;re using Spring, don&#39;t use `JSONObject` as your controller parameter; pass a `Movie` or a non-entity `MovieDto` object, and Spring will copy all of the properties onto it automatically. (And your JPA entity can&#39;t be a Spring bean; remove the `@Component` and `@Bean` from it.)","body":"If you&#39;re using Spring, don&#39;t use <code>JSONObject</code> as your controller parameter; pass a <code>Movie</code> or a non-entity <code>MovieDto</code> object, and Spring will copy all of the properties onto it automatically. (And your JPA entity can&#39;t be a Spring bean; remove the <code>@Component</code> and <code>@Bean</code> from it.)"},{"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"score":0,"creation_date":1545555723,"post_id":53902041,"comment_id":94649709,"body_markdown":"@chrylis I want to know how can I use enum if I prefer to choose JSONObject as the request parameter.","body":"@chrylis I want to know how can I use enum if I prefer to choose JSONObject as the request parameter."},{"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"score":0,"creation_date":1545556677,"post_id":53902041,"comment_id":94649849,"body_markdown":"There is no special way to use the enum: as long as it is part of the object you pass (Movie)... check my code sample - it works.","body":"There is no special way to use the enum: as long as it is part of the object you pass (Movie)... check my code sample - it works."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1545565953,"post_id":53902041,"comment_id":94651516,"body_markdown":"@RaviSinghShekhawat You can&#39;t if you&#39;re doing all of this manually. Stop doing it manually and let Spring do it for you, and it will automatically map the enum.","body":"@RaviSinghShekhawat You can&#39;t if you&#39;re doing all of this manually. Stop doing it manually and let Spring do it for you, and it will automatically map the enum."}],"answers":[{"comments":[{"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"score":0,"creation_date":1545557497,"post_id":53902444,"comment_id":94649997,"body_markdown":"Nope that does&#39;t solve my problem. My Postman request is as below:- {\n&quot;name&quot;:&quot;BodyGuard&quot;,\n&quot;type&quot;:&quot;English&quot;,\n&quot;releasedate&quot;:&quot;26-10-2015&quot;,\n&quot;time&quot;:&quot;160&quot;,\n&quot;genre&quot;:&quot;Drama&quot;\n}. If I need to use only setter, how do I do it?","body":"Nope that does&#39;t solve my problem. My Postman request is as below:- { &quot;name&quot;:&quot;BodyGuard&quot;, &quot;type&quot;:&quot;English&quot;, &quot;releasedate&quot;:&quot;26-10-2015&quot;, &quot;time&quot;:&quot;160&quot;, &quot;genre&quot;:&quot;Drama&quot; }. If I need to use only setter, how do I do it?"},{"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"score":0,"creation_date":1545557657,"post_id":53902444,"comment_id":94650030,"body_markdown":"https://www.devglan.com/spring-boot/enums-as-request-parameters-in-spring-boot-rest. I think there are some particular ways to embed enum in spring boot requests.","body":"<a href=\"https://www.devglan.com/spring-boot/enums-as-request-parameters-in-spring-boot-rest\" rel=\"nofollow noreferrer\">devglan.com/spring-boot/&hellip;</a>. I think there are some particular ways to embed enum in spring boot requests."},{"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"score":0,"creation_date":1545559486,"post_id":53902444,"comment_id":94650303,"body_markdown":"ok, I edited my answer to include the Genre as well... you can also check my POST sample - this will return HttpStatus.OK... as you can see, the enums are passed as Strings.","body":"ok, I edited my answer to include the Genre as well... you can also check my POST sample - this will return HttpStatus.OK... as you can see, the enums are passed as Strings."},{"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"score":0,"creation_date":1545560594,"post_id":53902444,"comment_id":94650490,"body_markdown":"But why we are hardcoding values English in the movietype and action in the Genre. Another doubt is why do we need get request point for using post request in the first place?","body":"But why we are hardcoding values English in the movietype and action in the Genre. Another doubt is why do we need get request point for using post request in the first place?"},{"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"score":0,"creation_date":1545574201,"post_id":53902444,"comment_id":94653164,"body_markdown":"The hardcoded String is being &#39;translated&#39; by the JSON Mapper to a valid enum object (so you don&#39;t have to worry about it); the GET request is optional - I usually use it since it helps to understand how the object should look like in JSON format.","body":"The hardcoded String is being &#39;translated&#39; by the JSON Mapper to a valid enum object (so you don&#39;t have to worry about it); the GET request is optional - I usually use it since it helps to understand how the object should look like in JSON format."}],"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545559831,"creation_date":1545556571,"answer_id":53902444,"question_id":53902041,"body_markdown":"**This is how your controller should look like** **(the following code works):**\r\n\r\n\t@GetMapping(path = &quot;/movies&quot;)\r\n\tpublic Movie getMovie() {\r\n\t\tMovie movie = new Movie(&quot;name&quot;, MovieType.English, new Date(), 1, Genre.Action);\r\n\t\treturn movie;\r\n\t}\r\n\t\r\n\t@PostMapping(path = &quot;/movies&quot;)\r\n\tpublic HttpStatus createMovie(@RequestBody Movie movie) {\r\n\t\trepository.save(movie);\r\n\t\treturn HttpStatus.OK;\r\n\t}\r\n\r\nMovie object: \r\n\r\n    public class Movie {\r\n\r\n\t \tpublic String name;\r\n\t    public Date releasedate;\r\n\t    public MovieType type;\r\n\t    public int movie_length;\r\n\t    public Genre genre;\r\n\r\n\t    public Movie() {}\r\n\r\n\t    public Movie(String name, MovieType type, Date releasedate, int movie_length, Genre genre) {\r\n\t\t    this.name = name;\r\n\t\t    this.type = type;\r\n\t\t    this.releasedate = releasedate;\r\n\t\t    this.movie_length = movie_length;\r\n\t\t    this.genre = genre;\r\n\t    }\r\n    }\r\n\r\nMovieType:\r\n\r\n    public enum MovieType {\r\n\t    Hindi(&quot;Hindi&quot;), English(&quot;English&quot;), Telugu(&quot;Telugu&quot;), Malyalam(&quot;Malyalam&quot;), Kannada(&quot;Kannnada&quot;);\r\n\r\n\t    private String name;\r\n\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\r\n\t    MovieType(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n\r\nGenre:\r\n\r\n    public enum Genre {\r\n\t    Daram(&quot;Drama&quot;), Action(&quot;Action&quot;);\r\n\r\n    \tprivate String name;\r\n\r\n\t    public String getName() {\r\n\t\t    return name;\r\n\t    }\r\n\r\n\t    Genre(String name) {\r\n\t\t    this.name = name;\r\n\t    }\r\n    }\r\n\r\n**Notes:** \r\n\r\n- Pass Movie as an object - don&#39;t use JsonObject to parse a json\r\n- Use the url conventions as stated above (i.e. movies for both GET and POST)  \r\n- GET the movie object with **getMovie()** and use it&#39;s template to the send a similar object to **createMovie()** with POST.\r\n- Use [Postman][1] or any other Rest client to test your code\r\n\r\n**Sample POST request:**\r\n\r\n    {\r\n        &quot;name&quot;: &quot;name&quot;,\r\n        &quot;releasedate&quot;: &quot;2018-12-23T10:01:47.056+0000&quot;,\r\n        &quot;type&quot;: &quot;English&quot;,\r\n        &quot;movie_length&quot;: 1,\r\n        &quot;genre&quot;: &quot;Action&quot;\r\n    }\r\n\r\nMake sure you send the request body as JSON:\r\n[![enter image description here][2]][2]\r\n\r\nGoodluck\r\n\r\n\r\n  [1]: https://www.getpostman.com/\r\n  [2]: https://i.stack.imgur.com/q9k3w.png","title":"While passing an enum in a REST controller, I&#39;m getting java.lang.IllegalArgumentException whereas I&#39;m using enum as string","body":"<p><strong>This is how your controller should look like</strong> <strong>(the following code works):</strong></p>\n\n<pre><code>@GetMapping(path = \"/movies\")\npublic Movie getMovie() {\n    Movie movie = new Movie(\"name\", MovieType.English, new Date(), 1, Genre.Action);\n    return movie;\n}\n\n@PostMapping(path = \"/movies\")\npublic HttpStatus createMovie(@RequestBody Movie movie) {\n    repository.save(movie);\n    return HttpStatus.OK;\n}\n</code></pre>\n\n<p>Movie object: </p>\n\n<pre><code>public class Movie {\n\n    public String name;\n    public Date releasedate;\n    public MovieType type;\n    public int movie_length;\n    public Genre genre;\n\n    public Movie() {}\n\n    public Movie(String name, MovieType type, Date releasedate, int movie_length, Genre genre) {\n        this.name = name;\n        this.type = type;\n        this.releasedate = releasedate;\n        this.movie_length = movie_length;\n        this.genre = genre;\n    }\n}\n</code></pre>\n\n<p>MovieType:</p>\n\n<pre><code>public enum MovieType {\n    Hindi(\"Hindi\"), English(\"English\"), Telugu(\"Telugu\"), Malyalam(\"Malyalam\"), Kannada(\"Kannnada\");\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    MovieType(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>Genre:</p>\n\n<pre><code>public enum Genre {\n    Daram(\"Drama\"), Action(\"Action\");\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    Genre(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p><strong>Notes:</strong> </p>\n\n<ul>\n<li>Pass Movie as an object - don't use JsonObject to parse a json</li>\n<li>Use the url conventions as stated above (i.e. movies for both GET and POST)  </li>\n<li>GET the movie object with <strong>getMovie()</strong> and use it's template to the send a similar object to <strong>createMovie()</strong> with POST.</li>\n<li>Use <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">Postman</a> or any other Rest client to test your code</li>\n</ul>\n\n<p><strong>Sample POST request:</strong></p>\n\n<pre><code>{\n    \"name\": \"name\",\n    \"releasedate\": \"2018-12-23T10:01:47.056+0000\",\n    \"type\": \"English\",\n    \"movie_length\": 1,\n    \"genre\": \"Action\"\n}\n</code></pre>\n\n<p>Make sure you send the request body as JSON:\n<a href=\"https://i.stack.imgur.com/q9k3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q9k3w.png\" alt=\"enter image description here\"></a></p>\n\n<p>Goodluck</p>\n"},{"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685079103,"creation_date":1685079103,"answer_id":76337898,"question_id":53902041,"body_markdown":"You can fix this in two ways, the first way you can remove the `name` field in your `MovieType` enum. Such Enum contains only values, and Spring JPA creates a record for you the database with the corresponding value of your Enum. The second way is to tell him to find the Enum type with the corresponding Enum name when creating a Spring JPA object.\r\n\r\nFor the first way, just update your MovieType Enum field as follows:\r\n\r\n    public enum MovieType {\r\n    \r\n        Hindi,\r\n        English,\r\n        Telugu,\r\n        Malyalam,\r\n        Kannada;\r\n    }\r\n\r\nFor the second way, update `MovieType` Enum as follows,\r\n  \r\n    public enum MovieType {\r\n    \r\n        Hindi(&quot;Hindi&quot;),\r\n        English(&quot;English&quot;),\r\n        Telugu(&quot;Telugu&quot;),\r\n        Malyalam(&quot;Malyalam&quot;),\r\n        Kannada(&quot;Kannada&quot;);\r\n    \r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        MovieType(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public static MovieType of(String name) {\r\n            return Stream.of(MovieType.values())\r\n              .filter(mt -&gt; mt.getName().equals(name))\r\n              .findFirst()\r\n              .orElseThrow(IllegalArgumentException::new);\r\n      &#160; }\r\n    }\r\n\r\nAnd you can use it in this way:\r\n\r\n    @RequestMapping(value=&quot;/CreateMovie&quot;, method= RequestMethod.POST)\r\n    public HttpStatus createMovie(@RequestBody JSONObject object) {\r\n        Movie movie =new Movie(object.optString(&quot;name&quot;),\r\n                    MovieType.of(object.optString(&quot;type&quot;)),\r\n                    new Date(object.optString(&quot;releasedate&quot;)),\r\n                    Integer.parseInt(object.optString(&quot;time&quot;)), \r\n                    Genre.valueOf(object.optString(&quot;genre&quot;)));\r\n            //object.\r\n\r\n        repository.save(movie);\r\n\r\n        return HttpStatus.OK;\r\n\r\n    }","title":"While passing an enum in a REST controller, I&#39;m getting java.lang.IllegalArgumentException whereas I&#39;m using enum as string","body":"<p>You can fix this in two ways, the first way you can remove the <code>name</code> field in your <code>MovieType</code> enum. Such Enum contains only values, and Spring JPA creates a record for you the database with the corresponding value of your Enum. The second way is to tell him to find the Enum type with the corresponding Enum name when creating a Spring JPA object.</p>\n<p>For the first way, just update your MovieType Enum field as follows:</p>\n<pre><code>public enum MovieType {\n\n    Hindi,\n    English,\n    Telugu,\n    Malyalam,\n    Kannada;\n}\n</code></pre>\n<p>For the second way, update <code>MovieType</code> Enum as follows,</p>\n<pre><code>public enum MovieType {\n\n    Hindi(&quot;Hindi&quot;),\n    English(&quot;English&quot;),\n    Telugu(&quot;Telugu&quot;),\n    Malyalam(&quot;Malyalam&quot;),\n    Kannada(&quot;Kannada&quot;);\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    MovieType(String name) {\n        this.name = name;\n    }\n\n    public static MovieType of(String name) {\n        return Stream.of(MovieType.values())\n          .filter(mt -&gt; mt.getName().equals(name))\n          .findFirst()\n          .orElseThrow(IllegalArgumentException::new);\n    }\n}\n</code></pre>\n<p>And you can use it in this way:</p>\n<pre><code>@RequestMapping(value=&quot;/CreateMovie&quot;, method= RequestMethod.POST)\npublic HttpStatus createMovie(@RequestBody JSONObject object) {\n    Movie movie =new Movie(object.optString(&quot;name&quot;),\n                MovieType.of(object.optString(&quot;type&quot;)),\n                new Date(object.optString(&quot;releasedate&quot;)),\n                Integer.parseInt(object.optString(&quot;time&quot;)), \n                Genre.valueOf(object.optString(&quot;genre&quot;)));\n        //object.\n\n    repository.save(movie);\n\n    return HttpStatus.OK;\n\n}\n</code></pre>\n"}],"owner":{"account_id":8056077,"reputation":21,"user_id":6073182,"display_name":"Ravi Singh Shekhawat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9190,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1698278620,"creation_date":1545551309,"question_id":53902041,"body_markdown":"Controller:-\r\n\r\n    @RequestMapping(value=&quot;/CreateMovie&quot;, method= RequestMethod.POST)\r\n        public HttpStatus createMovie(@RequestBody JSONObject object) {\r\n            Movie movie =new Movie(object.optString(&quot;name&quot;),\r\n                        MovieType.valueOf(object.optString(&quot;type&quot;)),\r\n                        new Date(object.optString(&quot;releasedate&quot;)),\r\n                        Integer.parseInt(object.optString(&quot;time&quot;)), \r\n                        Genre.valueOf(object.optString(&quot;genre&quot;)));\r\n                //object.\r\n    \r\n        repository.save(movie);\r\n    \r\n        return HttpStatus.OK;\r\n    \r\n    }\r\n    \r\nEntity is as follows:-\r\n\r\n    @Entity(name=&quot;Movie&quot;)\r\n    public class Movie {\r\n    \r\n    \r\n        public Movie()\r\n        {\r\n    \r\n        }\r\n        public Movie(String name,MovieType type,Date releasedate,\r\n              int movie_length, Genre genre)\r\n        {\r\n            this.name=name;\r\n            this.type=type;\r\n            this.releasedate=releasedate;\r\n            this.movie_length=movie_length;\r\n            this.genre=genre;\r\n        }\r\n       \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        @Column(name=&quot;Id&quot;)\r\n        private long id;\r\n    \r\n        @Column(name=&quot;movie_name&quot;)\r\n        @NotNull\r\n        String name;\r\n        @Enumerated(EnumType.STRING)\r\n        //@NotNull\r\n        MovieType type;\r\n        @Column(name=&quot;release_date&quot;)\r\n        @JsonFormat(shape=STRING, pattern=&quot;dd-MM-yyyy&quot;)\r\n        //@NotNull\r\n        Date releasedate;\r\n        @Column(name=&quot;movie_length&quot;)\r\n        //@NotNull\r\n        int movie_length;\r\n        @Column(name=&quot;like_percentage&quot;)\r\n        float likepercentage;\r\n        @Column(name=&quot;no_of_reactions&quot;)\r\n        float no_of_reactions;\r\n        @Column(name=&quot;avg_rating&quot;)\r\n        float avg_rating;\r\n        @Column(name=&quot;no_of_reviews&quot;)\r\n        int no_of_reviews;\r\n        @Column(name=&quot;director&quot;)\r\n        @NotNull\r\n        String director;\r\n        @Transient\r\n        List&lt;String&gt; cities;\r\n        @Transient\r\n        List&lt;String&gt; cast;\r\n    \r\nEnum is as follows:-\r\n\r\n    public enum MovieType {\r\n    \r\n        Hindi(&quot;Hindi&quot;),\r\n        English(&quot;English&quot;),\r\n        Telugu(&quot;Telugu&quot;),\r\n        Malyalam(&quot;Malyalam&quot;),\r\n        Kannada(&quot;Kannnada&quot;);\r\n    \r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        MovieType(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n    \r\n    }\r\n    \r\nStack Trace is as below:-\r\n\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: No enum constant com.example.Model.MovieType.] with root cause\r\n","title":"While passing an enum in a REST controller, I&#39;m getting java.lang.IllegalArgumentException whereas I&#39;m using enum as string","body":"<p>Controller:-</p>\n\n<pre><code>@RequestMapping(value=\"/CreateMovie\", method= RequestMethod.POST)\n    public HttpStatus createMovie(@RequestBody JSONObject object) {\n        Movie movie =new Movie(object.optString(\"name\"),\n                    MovieType.valueOf(object.optString(\"type\")),\n                    new Date(object.optString(\"releasedate\")),\n                    Integer.parseInt(object.optString(\"time\")), \n                    Genre.valueOf(object.optString(\"genre\")));\n            //object.\n\n    repository.save(movie);\n\n    return HttpStatus.OK;\n\n}\n</code></pre>\n\n<p>Entity is as follows:-</p>\n\n<pre><code>@Entity(name=\"Movie\")\npublic class Movie {\n\n\n    public Movie()\n    {\n\n    }\n    public Movie(String name,MovieType type,Date releasedate,\n          int movie_length, Genre genre)\n    {\n        this.name=name;\n        this.type=type;\n        this.releasedate=releasedate;\n        this.movie_length=movie_length;\n        this.genre=genre;\n    }\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    @Column(name=\"Id\")\n    private long id;\n\n    @Column(name=\"movie_name\")\n    @NotNull\n    String name;\n    @Enumerated(EnumType.STRING)\n    //@NotNull\n    MovieType type;\n    @Column(name=\"release_date\")\n    @JsonFormat(shape=STRING, pattern=\"dd-MM-yyyy\")\n    //@NotNull\n    Date releasedate;\n    @Column(name=\"movie_length\")\n    //@NotNull\n    int movie_length;\n    @Column(name=\"like_percentage\")\n    float likepercentage;\n    @Column(name=\"no_of_reactions\")\n    float no_of_reactions;\n    @Column(name=\"avg_rating\")\n    float avg_rating;\n    @Column(name=\"no_of_reviews\")\n    int no_of_reviews;\n    @Column(name=\"director\")\n    @NotNull\n    String director;\n    @Transient\n    List&lt;String&gt; cities;\n    @Transient\n    List&lt;String&gt; cast;\n</code></pre>\n\n<p>Enum is as follows:-</p>\n\n<pre><code>public enum MovieType {\n\n    Hindi(\"Hindi\"),\n    English(\"English\"),\n    Telugu(\"Telugu\"),\n    Malyalam(\"Malyalam\"),\n    Kannada(\"Kannnada\");\n\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    MovieType(String name) {\n        this.name = name;\n    }\n\n\n}\n</code></pre>\n\n<p>Stack Trace is as below:-</p>\n\n<p>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: No enum constant com.example.Model.MovieType.] with root cause</p>\n"},{"tags":["java","docker","maven","jar","dockerfile"],"comments":[{"owner":{"account_id":293130,"reputation":238938,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"score":1,"creation_date":1655553808,"post_id":72667216,"comment_id":128362242,"body_markdown":"Please show the filesystem state before the docker build is run. A common command for this is `tree`.","body":"Please show the filesystem state before the docker build is run. A common command for this is <code>tree</code>."}],"answers":[{"tags":[],"owner":{"account_id":4683667,"reputation":675,"user_id":3791707,"display_name":"cmousset"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657551483,"creation_date":1657551483,"answer_id":72940566,"question_id":72667216,"body_markdown":"Make sure that you haven&#39;t excluded your `target` folders in your .dockerignore file.\r\n\r\nThat&#39;s what fixed it for me after several days of despairing search...","title":"Buildx failed with error: &quot;No such file or directory&quot; when trying to push docker on Github","body":"<p>Make sure that you haven't excluded your <code>target</code> folders in your .dockerignore file.</p>\n<p>That's what fixed it for me after several days of despairing search...</p>\n"},{"tags":[],"owner":{"account_id":22814312,"reputation":1,"user_id":16965151,"display_name":"Lauro Correia Silveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698277971,"creation_date":1698277971,"answer_id":77363427,"question_id":72667216,"body_markdown":"I was facing the same problem and at end it was because on my GitHub repository the folder `target` was not.\r\nAfter push it the workflow worked.\r\n\r\nI leave it here my docker-publish.yml if some want use to guide.\r\n\r\n```shell\r\nname: Generate Docker Image and Publish\r\n\r\non:\r\n  push:\r\n    branches: [ &quot;main&quot; ]\r\n    tags: [ &#39;v*.*.*&#39; ]\r\n  pull_request:\r\n    branches: [ &quot;main&quot; ]\r\n\r\njobs:\r\n  docker:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Checkout Repository\r\n        uses: actions/checkout@v3\r\n\r\n      - name: Login to Docker Hub\r\n        uses: docker/login-action@v3\r\n        with:\r\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\r\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\r\n\r\n      - name: Build and push\r\n        uses: docker/build-push-action@v5\r\n        with:\r\n          push: true\r\n          tags: laurocorreia/reactive-api:latest\r\n```","title":"Buildx failed with error: &quot;No such file or directory&quot; when trying to push docker on Github","body":"<p>I was facing the same problem and at end it was because on my GitHub repository the folder <code>target</code> was not.\nAfter push it the workflow worked.</p>\n<p>I leave it here my docker-publish.yml if some want use to guide.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>name: Generate Docker Image and Publish\n\non:\n  push:\n    branches: [ &quot;main&quot; ]\n    tags: [ 'v*.*.*' ]\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  docker:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout Repository\n        uses: actions/checkout@v3\n\n      - name: Login to Docker Hub\n        uses: docker/login-action@v3\n        with:\n          username: ${{ secrets.DOCKERHUB_USERNAME }}\n          password: ${{ secrets.DOCKERHUB_TOKEN }}\n\n      - name: Build and push\n        uses: docker/build-push-action@v5\n        with:\n          push: true\n          tags: laurocorreia/reactive-api:latest\n</code></pre>\n"}],"owner":{"account_id":24787321,"reputation":31,"user_id":18670471,"display_name":"Nathan Yearout"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4232,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1698277971,"creation_date":1655534277,"question_id":72667216,"body_markdown":"I&#39;m very new to Docker and I&#39;m trying to get my Github repository setup with a docker when I push an update. However, when the github workfile script goes to push my code to Docker I get the following error.\r\n```\r\nError: buildx failed with: error: failed to solve: failed to compute cache key: failed to walk /var/lib/docker/tmp/buildkit-mount1164878607/target: lstat /var/lib/docker/tmp/buildkit-mount1164878607/target: no such file or directory\r\n```\r\nIt appears Docker can&#39;t access the file I set for it in my Dockerfile yet no amount of tweaking with the code appears to fix it, aside for me completely removing the COPY tag which renders my Docker unrunnable, though it does send. I&#39;m using maven compiler plugin along with maven shade plugin and have setup my pom.xml file accordingly.\r\n\r\n**Here is my Github WorkFile:**\r\n```\r\nname: Docker\r\n\r\non: [push]\r\n\r\njobs:\r\n  build:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n    - name: Checkout\r\n      uses: actions/checkout@v2\r\n      \r\n    - name: Set up JDK\r\n      uses: actions/setup-java@v3.3.0\r\n      with:\r\n        java-version: 18\r\n        distribution: adopt\r\n\r\n    - name: Build with Maven\r\n      run: mvn clean package\r\n      \r\n    - name: Login to DockerHub\r\n      uses: docker/login-action@v2.0.0\r\n      with:\r\n        username: ${{ secrets.DOCKER_USERNAME }}\r\n        password: ${{ secrets.DOCKER_TOKEN }}\r\n\r\n    - name: Build and push Docker images\r\n      uses: docker/build-push-action@v3.0.0\r\n      with:\r\n        push: true\r\n        tags: sudden/discordbot:latest\r\n      \r\n```\r\n**Here is my DockerFile:**\r\n```\r\nFROM openjdk:11-jdk-slim\r\nWORKDIR /tmp\r\nCOPY target/discordbot-1.0-SNAPSHOT-shaded.jar app.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n**What I&#39;ve tried:**\r\n\r\n - Copying another random file in my &quot;src&quot; directory.\r\n - Changing the name of my jar file and changing the path.\r\n - Changing my WORKDIR.\r\n - Changed the Docker&#39;s &quot;context&quot; and other tags in my Workfile.\r\n\r\nAny help is appreciated. This might be a simple fix, but I&#39;ve been stuck on it for a day despite my best efforts so asking here is a last resort. Thanks. ","title":"Buildx failed with error: &quot;No such file or directory&quot; when trying to push docker on Github","body":"<p>I'm very new to Docker and I'm trying to get my Github repository setup with a docker when I push an update. However, when the github workfile script goes to push my code to Docker I get the following error.</p>\n<pre><code>Error: buildx failed with: error: failed to solve: failed to compute cache key: failed to walk /var/lib/docker/tmp/buildkit-mount1164878607/target: lstat /var/lib/docker/tmp/buildkit-mount1164878607/target: no such file or directory\n</code></pre>\n<p>It appears Docker can't access the file I set for it in my Dockerfile yet no amount of tweaking with the code appears to fix it, aside for me completely removing the COPY tag which renders my Docker unrunnable, though it does send. I'm using maven compiler plugin along with maven shade plugin and have setup my pom.xml file accordingly.</p>\n<p><strong>Here is my Github WorkFile:</strong></p>\n<pre><code>name: Docker\n\non: [push]\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions/checkout@v2\n      \n    - name: Set up JDK\n      uses: actions/setup-java@v3.3.0\n      with:\n        java-version: 18\n        distribution: adopt\n\n    - name: Build with Maven\n      run: mvn clean package\n      \n    - name: Login to DockerHub\n      uses: docker/login-action@v2.0.0\n      with:\n        username: ${{ secrets.DOCKER_USERNAME }}\n        password: ${{ secrets.DOCKER_TOKEN }}\n\n    - name: Build and push Docker images\n      uses: docker/build-push-action@v3.0.0\n      with:\n        push: true\n        tags: sudden/discordbot:latest\n      \n</code></pre>\n<p><strong>Here is my DockerFile:</strong></p>\n<pre><code>FROM openjdk:11-jdk-slim\nWORKDIR /tmp\nCOPY target/discordbot-1.0-SNAPSHOT-shaded.jar app.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p><strong>What I've tried:</strong></p>\n<ul>\n<li>Copying another random file in my &quot;src&quot; directory.</li>\n<li>Changing the name of my jar file and changing the path.</li>\n<li>Changing my WORKDIR.</li>\n<li>Changed the Docker's &quot;context&quot; and other tags in my Workfile.</li>\n</ul>\n<p>Any help is appreciated. This might be a simple fix, but I've been stuck on it for a day despite my best efforts so asking here is a last resort. Thanks.</p>\n"},{"tags":["java","database","pervasive-sql"],"comments":[{"owner":{"account_id":121244,"reputation":8982,"user_id":314193,"display_name":"mirtheil"},"score":1,"creation_date":1698258217,"post_id":77361535,"comment_id":136383787,"body_markdown":"What version of Pervasive are you using?  Why do you think you need to change the connection string?  If you&#39;re using the Pervasive JDBC driver, the connection string doesn&#39;t change between JDKs.","body":"What version of Pervasive are you using?  Why do you think you need to change the connection string?  If you&#39;re using the Pervasive JDBC driver, the connection string doesn&#39;t change between JDKs."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698262161,"post_id":77361535,"comment_id":136384449,"body_markdown":"Have you search for this information in the documentation?","body":"Have you search for this information in the documentation?"}],"owner":{"account_id":16913667,"reputation":1,"user_id":12232198,"display_name":"Rashmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698276911,"creation_date":1698253149,"question_id":77361535,"body_markdown":"We are upgrading our project from jdk 7 to jdk 17. We are using Pervasive DB as our database.  What will be the connection URL, Driver class name and maven dependency for Pervasive db ?\r\n\r\nCould you please tell me what will be Database connection string, Pom Dependency for pervasive db\r\n\r\nI am not getting any kind of solution.","title":"What will be the connection URL, Driver class name and maven dependency for Pervasive db?","body":"<p>We are upgrading our project from jdk 7 to jdk 17. We are using Pervasive DB as our database.  What will be the connection URL, Driver class name and maven dependency for Pervasive db ?</p>\n<p>Could you please tell me what will be Database connection string, Pom Dependency for pervasive db</p>\n<p>I am not getting any kind of solution.</p>\n"},{"tags":["java","generics","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698276497,"creation_date":1698276138,"answer_id":77363351,"question_id":77363106,"body_markdown":"javac looks at the line and resolves repeatedly, filling in the blank like its doing a puzzle. Specifically, the `assertThat` line requires some typevar binding; the method call involves a type variable `&lt;T&gt;`. I shall call this one `&lt;A&gt;` to differentiate it from the completely separate type var that the `is` method has.\r\n\r\n`&lt;A&gt;` needs to be figured out. No explicit choice is made (you called `MatcherAssert.assertThat`; you did not call `MatcherAssert.&lt;String&gt;assertThat`). Thus, time to infer.\r\n\r\nLet&#39;s check what hints are available. The first parameter is of type T, and the argument passed is `JsonNode`.\r\n\r\nYou&#39;d think - oh great, so, T is JsonNode. Not so fast. If I have a method with signature `void foo(Number n)`, I can pass an integer to it. Saying that the type of the expression insta-binds the typevar means that T could never be an interface type in the first place, and any subtyping is likely to break stuff, even inconsequential subtyping such as `new ArrayList&lt;String&gt;() {}` (note those braces there), or any lambda.\r\n\r\nNo, it binds T to the range `[Object ... JsonNode]`. It&#39;s like `? super JsonNode`. If T ends up being `Object`, that&#39;s fine. an expression of type `JsonNode` is a valid parameter when the parameter requires an `Object`.\r\n\r\nIf type inference ends here, javac will take the most specific type in the range it found, and _would_ bind to JsonNode. We can see that in action with this different example:\r\n\r\n```\r\npublic static &lt;T&gt; T ident(T in) { return in; }\r\n\r\nvar x = ident(new JsonNode());\r\nx.someMethodOnlyJsonNodeHas();\r\n```\r\n\r\nThe above compiles fine and runs without issue. `var x` will &#39;bind&#39; var to be the type of the expression, and the type is `JsonNode`. Because of the process as outlined above: While inferencing T, T is constrained, by way of the `new JsonNode()`, to `[Object .. JsonNode]` and no further constraints apply, so javac picks the most specific thing it can.\r\n\r\nBut, `assertThat` has more parameters that involve `&lt;A&gt;`. We must keep looking. We have a second argument, and its type is required to be `Matcher&lt;? super A&gt;`. The expression we find there is `Matchers.is(m)` which is a bit funky - we&#39;re trying to figure out what `&lt;A&gt;` is and in the middle of doing that, we now have to figure out what `&lt;B&gt;` is (`&lt;B&gt;` is what we shall call the `&lt;T&gt;` in `public static &lt;T&gt; Matcher&lt;T&gt; is (T value);`, because these typevars are entirely independent, the fact that both use T is pure coincidence and has no bearing whatsoever on inference. Renaming one of these should not matter and indeed it doesn&#39;t). And to figure out what `&lt;B&gt;` is, javac will.. infer from context.\r\n\r\nSo, while &#39;going from the outside in&#39; during the process of inferring `&lt;A&gt;`, we need to infer inside-out to figure out `&lt;B&gt;`. Hopefully this helps a lot in highlighting why inference can produce some bizarre results sometimes, and why you might just want to rewrite this code with an explicit `Matcher&lt;String&gt; matcher = Matchers.is(m)`, just to avoid this kind of very tricky analysis.\r\n\r\nPoint is, java can&#39;t do that, it can&#39;t go both ways at the same time and violate the basics of cause and effect.\r\n\r\nSo, instead, `Matchers.is(m)` is resolved on its own, without the context of what&#39;s around it. `m` is a string, the signature of `is()` is very simple. `&lt;B&gt;` is constrained to be `[Object .. String]`.\r\n\r\nNow we can go back to resolving `&lt;A&gt;`.\r\n\r\nWe have one parameter that constrains `&lt;A&gt;` to be `[Object .. JsonNode]`, and another parameter that constrains `&lt;A&gt;` to be `[Object .. String]`.\r\n\r\nAnd.. we&#39;re done! There are no further restrictions, and no need to figure out overloads, so, we can now coalesce our restrictions.\r\n\r\nThus, javac does what it always does and picks the most specific type that fits all restrictions. Which is `Object`. Object works fine here:\r\n\r\n```\r\nMatcher&lt;Object&gt; matcher = Matchers.is(&quot;Hello&quot;);\r\n```\r\n\r\ncompiles just fine. Try it. Why wouldn&#39;t that be fine? So, that works with `T = Object`. And `j`, being of type `JsonNode`, that works too:\r\n\r\n```\r\nObject o = new JsonNode():\r\n```\r\n\r\ncompiles and works fine. Try it. Why wouldn&#39;t that be fine?\r\n\r\nHence, all is fine. The compiler compiles this and runs it as written without giving you any errors or warnings.\r\n\r\nSemantically it makes sense too. For the same reason the `contains` method of `java.util.List` accepts any `Object` instead of `E` - &quot;Does this list of oranges contain this apple?&quot; is a question that makes sense and has a sensible, if rather obvious, answer: No, it does not.\r\n\r\nIn contrast to: &quot;Here is an apple. Add it to this list of oranges&quot; which does not make sense. The same thing is happening here: Please check that this JsonNode passes this matcher of strings. Fail the test if it does not.\r\n\r\nThis, too, is a semantically valid question with an obvious answer: It never will. The answer is &#39;no they aren&#39;t equal&#39; and we know it before even running the code. But the compiler isn&#39;t aware that this is what the `assertThat` method is for, and that any line of code that makes an assertion that is _guaranteed_ to fail, is better off being a compiler warning. Short of turning javac into some sort of endlessly pluggable editor kit thing (which would be awesome! But it is not, and no programming language I know of is), there&#39;s no way for javac to know that `assertThat` comes with the baggage of: &quot;This call is useless if all paths through it necessarily lead to a failed result&quot;, nor even that `Matcher&lt;String&gt;` objects come with the baggage that they are _guaranteed_ to fail when asked to match an object of type `JsonNode`. Javac can&#39;t know that without running this code and you really don&#39;t want your compiler to run your code halfway through compiling it. There&#39;s the halting problem to think of, for starters.\r\n","title":"Java type inference: why does this compile?","body":"<p>javac looks at the line and resolves repeatedly, filling in the blank like its doing a puzzle. Specifically, the <code>assertThat</code> line requires some typevar binding; the method call involves a type variable <code>&lt;T&gt;</code>. I shall call this one <code>&lt;A&gt;</code> to differentiate it from the completely separate type var that the <code>is</code> method has.</p>\n<p><code>&lt;A&gt;</code> needs to be figured out. No explicit choice is made (you called <code>MatcherAssert.assertThat</code>; you did not call <code>MatcherAssert.&lt;String&gt;assertThat</code>). Thus, time to infer.</p>\n<p>Let's check what hints are available. The first parameter is of type T, and the argument passed is <code>JsonNode</code>.</p>\n<p>You'd think - oh great, so, T is JsonNode. Not so fast. If I have a method with signature <code>void foo(Number n)</code>, I can pass an integer to it. Saying that the type of the expression insta-binds the typevar means that T could never be an interface type in the first place, and any subtyping is likely to break stuff, even inconsequential subtyping such as <code>new ArrayList&lt;String&gt;() {}</code> (note those braces there), or any lambda.</p>\n<p>No, it binds T to the range <code>[Object ... JsonNode]</code>. It's like <code>? super JsonNode</code>. If T ends up being <code>Object</code>, that's fine. an expression of type <code>JsonNode</code> is a valid parameter when the parameter requires an <code>Object</code>.</p>\n<p>If type inference ends here, javac will take the most specific type in the range it found, and <em>would</em> bind to JsonNode. We can see that in action with this different example:</p>\n<pre><code>public static &lt;T&gt; T ident(T in) { return in; }\n\nvar x = ident(new JsonNode());\nx.someMethodOnlyJsonNodeHas();\n</code></pre>\n<p>The above compiles fine and runs without issue. <code>var x</code> will 'bind' var to be the type of the expression, and the type is <code>JsonNode</code>. Because of the process as outlined above: While inferencing T, T is constrained, by way of the <code>new JsonNode()</code>, to <code>[Object .. JsonNode]</code> and no further constraints apply, so javac picks the most specific thing it can.</p>\n<p>But, <code>assertThat</code> has more parameters that involve <code>&lt;A&gt;</code>. We must keep looking. We have a second argument, and its type is required to be <code>Matcher&lt;? super A&gt;</code>. The expression we find there is <code>Matchers.is(m)</code> which is a bit funky - we're trying to figure out what <code>&lt;A&gt;</code> is and in the middle of doing that, we now have to figure out what <code>&lt;B&gt;</code> is (<code>&lt;B&gt;</code> is what we shall call the <code>&lt;T&gt;</code> in <code>public static &lt;T&gt; Matcher&lt;T&gt; is (T value);</code>, because these typevars are entirely independent, the fact that both use T is pure coincidence and has no bearing whatsoever on inference. Renaming one of these should not matter and indeed it doesn't). And to figure out what <code>&lt;B&gt;</code> is, javac will.. infer from context.</p>\n<p>So, while 'going from the outside in' during the process of inferring <code>&lt;A&gt;</code>, we need to infer inside-out to figure out <code>&lt;B&gt;</code>. Hopefully this helps a lot in highlighting why inference can produce some bizarre results sometimes, and why you might just want to rewrite this code with an explicit <code>Matcher&lt;String&gt; matcher = Matchers.is(m)</code>, just to avoid this kind of very tricky analysis.</p>\n<p>Point is, java can't do that, it can't go both ways at the same time and violate the basics of cause and effect.</p>\n<p>So, instead, <code>Matchers.is(m)</code> is resolved on its own, without the context of what's around it. <code>m</code> is a string, the signature of <code>is()</code> is very simple. <code>&lt;B&gt;</code> is constrained to be <code>[Object .. String]</code>.</p>\n<p>Now we can go back to resolving <code>&lt;A&gt;</code>.</p>\n<p>We have one parameter that constrains <code>&lt;A&gt;</code> to be <code>[Object .. JsonNode]</code>, and another parameter that constrains <code>&lt;A&gt;</code> to be <code>[Object .. String]</code>.</p>\n<p>And.. we're done! There are no further restrictions, and no need to figure out overloads, so, we can now coalesce our restrictions.</p>\n<p>Thus, javac does what it always does and picks the most specific type that fits all restrictions. Which is <code>Object</code>. Object works fine here:</p>\n<pre><code>Matcher&lt;Object&gt; matcher = Matchers.is(&quot;Hello&quot;);\n</code></pre>\n<p>compiles just fine. Try it. Why wouldn't that be fine? So, that works with <code>T = Object</code>. And <code>j</code>, being of type <code>JsonNode</code>, that works too:</p>\n<pre><code>Object o = new JsonNode():\n</code></pre>\n<p>compiles and works fine. Try it. Why wouldn't that be fine?</p>\n<p>Hence, all is fine. The compiler compiles this and runs it as written without giving you any errors or warnings.</p>\n<p>Semantically it makes sense too. For the same reason the <code>contains</code> method of <code>java.util.List</code> accepts any <code>Object</code> instead of <code>E</code> - &quot;Does this list of oranges contain this apple?&quot; is a question that makes sense and has a sensible, if rather obvious, answer: No, it does not.</p>\n<p>In contrast to: &quot;Here is an apple. Add it to this list of oranges&quot; which does not make sense. The same thing is happening here: Please check that this JsonNode passes this matcher of strings. Fail the test if it does not.</p>\n<p>This, too, is a semantically valid question with an obvious answer: It never will. The answer is 'no they aren't equal' and we know it before even running the code. But the compiler isn't aware that this is what the <code>assertThat</code> method is for, and that any line of code that makes an assertion that is <em>guaranteed</em> to fail, is better off being a compiler warning. Short of turning javac into some sort of endlessly pluggable editor kit thing (which would be awesome! But it is not, and no programming language I know of is), there's no way for javac to know that <code>assertThat</code> comes with the baggage of: &quot;This call is useless if all paths through it necessarily lead to a failed result&quot;, nor even that <code>Matcher&lt;String&gt;</code> objects come with the baggage that they are <em>guaranteed</em> to fail when asked to match an object of type <code>JsonNode</code>. Javac can't know that without running this code and you really don't want your compiler to run your code halfway through compiling it. There's the halting problem to think of, for starters.</p>\n"}],"owner":{"account_id":159737,"reputation":95,"user_id":379330,"display_name":"frig.neutron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77363351,"answer_count":1,"score":2,"last_activity_date":1698276497,"creation_date":1698271297,"question_id":77363106,"body_markdown":"Using Java 17, with Hamcrest 2.2\r\n\r\n```java\r\nimport org.hamcrest.MatcherAssert;\r\nimport org.hamcrest.Matchers;\r\n\r\n// snip\r\n\r\nString m = &quot;something&quot;;\r\nJsonNode j = new TextNode(&quot;something else&quot;);\r\nMatcherAssert.assertThat(j, Matchers.is(m)); // expected compile error here\r\n```\r\n\r\nI expect this to cause a compilation error. `MatcherAssert.assertThat` and `Matchers.is` have the following signatures:\r\n\r\n```java\r\npublic static &lt;T&gt; void assertThat(T actual, Matcher&lt;? super T&gt; matcher);\r\npublic static &lt;T&gt; org.hamcrest.Matcher&lt;T&gt; is(T value);\r\n```\r\n\r\nso, the code should break down to \r\n```java \r\nString m = &quot;something&quot;;\r\nJsonNode j = new TextNode(&quot;something else&quot;);\r\nMatcher&lt;String&gt; matcher = Matchers.is(m);  // specify static type\r\nMatcherAssert.assertThat(j, matcher);      // actual compilation error\r\n```\r\n\r\nwhich fails because `String` is not a super type of `JsonNode`.\r\n\r\nInstead, when `Matchers.is(m)` is inlined, it returns `Matcher&lt;Object&gt;` which binds `&lt;T&gt;` in `MatcherAssert.assertThat` to `Object` and causes compilation to pass (though as expected, the assertion fails since a `JsonNode` can not `equals` a `String`).\r\n\r\nI don&#39;t get why `Matchers.is(m)` binds `&lt;T&gt;` to `Object`.\r\n\r\nDoes anyone know?","title":"Java type inference: why does this compile?","body":"<p>Using Java 17, with Hamcrest 2.2</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.hamcrest.MatcherAssert;\nimport org.hamcrest.Matchers;\n\n// snip\n\nString m = &quot;something&quot;;\nJsonNode j = new TextNode(&quot;something else&quot;);\nMatcherAssert.assertThat(j, Matchers.is(m)); // expected compile error here\n</code></pre>\n<p>I expect this to cause a compilation error. <code>MatcherAssert.assertThat</code> and <code>Matchers.is</code> have the following signatures:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; void assertThat(T actual, Matcher&lt;? super T&gt; matcher);\npublic static &lt;T&gt; org.hamcrest.Matcher&lt;T&gt; is(T value);\n</code></pre>\n<p>so, the code should break down to</p>\n<pre class=\"lang-java prettyprint-override\"><code>String m = &quot;something&quot;;\nJsonNode j = new TextNode(&quot;something else&quot;);\nMatcher&lt;String&gt; matcher = Matchers.is(m);  // specify static type\nMatcherAssert.assertThat(j, matcher);      // actual compilation error\n</code></pre>\n<p>which fails because <code>String</code> is not a super type of <code>JsonNode</code>.</p>\n<p>Instead, when <code>Matchers.is(m)</code> is inlined, it returns <code>Matcher&lt;Object&gt;</code> which binds <code>&lt;T&gt;</code> in <code>MatcherAssert.assertThat</code> to <code>Object</code> and causes compilation to pass (though as expected, the assertion fails since a <code>JsonNode</code> can not <code>equals</code> a <code>String</code>).</p>\n<p>I don't get why <code>Matchers.is(m)</code> binds <code>&lt;T&gt;</code> to <code>Object</code>.</p>\n<p>Does anyone know?</p>\n"},{"tags":["java","github","artificial-intelligence","face-recognition","intellij-14"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":5,"creation_date":1626052351,"post_id":68330987,"comment_id":120781765,"body_markdown":"yes, you are using jdk-16 and that and that project you have touches some internal APIs, which that java version prohibits.","body":"yes, you are using jdk-16 and that and that project you have touches some internal APIs, which that java version prohibits."}],"answers":[{"comments":[{"owner":{"account_id":17081191,"reputation":127,"user_id":12359559,"display_name":"hoanghuychh"},"score":0,"creation_date":1635408822,"post_id":68549302,"comment_id":123291382,"body_markdown":"in last step, where is file you set `JAVA_HOME:-$(/usr/libexec/java_home)` ?","body":"in last step, where is file you set <code>JAVA_HOME:-$(&#47;usr&#47;libexec&#47;java_home)</code> ?"},{"owner":{"account_id":2365582,"reputation":604,"user_id":2071316,"display_name":"Govind Kalyankar"},"score":3,"creation_date":1635470814,"post_id":68549302,"comment_id":123313674,"body_markdown":"it is set to &quot;/Library/Java/JavaVirtualMachines/{jdk version}/Contents/Home&quot; for me","body":"it is set to &quot;/Library/Java/JavaVirtualMachines/{jdk version}/Contents/Home&quot; for me"}],"tags":[],"owner":{"account_id":2365582,"reputation":604,"user_id":2071316,"display_name":"Govind Kalyankar"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1627407151,"creation_date":1627406539,"answer_id":68549302,"question_id":68330987,"body_markdown":"I had same issue first check what Java version is used by maven by using \r\n\r\n&gt; mvn -v\r\n\r\nif it is set to Jdk 16 then you will have to update file below \r\n\r\n&gt; /usr/local/Cellar/maven/{version}/bin/mvn \r\n\r\nand set \r\n\r\n&gt; JAVA_HOME:-$(/usr/libexec/java_home)\r\n\r\nthen you can confirm by running mvn -v again \r\n\r\nAbove steps have resolved the issue for me","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>I had same issue first check what Java version is used by maven by using</p>\n<blockquote>\n<p>mvn -v</p>\n</blockquote>\n<p>if it is set to Jdk 16 then you will have to update file below</p>\n<blockquote>\n<p>/usr/local/Cellar/maven/{version}/bin/mvn</p>\n</blockquote>\n<p>and set</p>\n<blockquote>\n<p>JAVA_HOME:-$(/usr/libexec/java_home)</p>\n</blockquote>\n<p>then you can confirm by running mvn -v again</p>\n<p>Above steps have resolved the issue for me</p>\n"},{"comments":[{"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"score":2,"creation_date":1677765025,"post_id":75433556,"comment_id":133404969,"body_markdown":"worked for me, but dont know what is root cause :D","body":"worked for me, but dont know what is root cause :D"},{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":1,"creation_date":1686667099,"post_id":75433556,"comment_id":134828717,"body_markdown":"Works for me as well. Many thanks","body":"Works for me as well. Many thanks"}],"tags":[],"owner":{"account_id":7938451,"reputation":652,"user_id":5993488,"display_name":"Radhakrishnan"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1686702040,"creation_date":1676277492,"answer_id":75433556,"question_id":68330987,"body_markdown":"For me, the problem is the Lombok version.\r\n\r\nAfter upgradation from java8 to java17 and from lombok version 1.18.6 to 1.18.26\r\n\r\nOld one:\r\n\r\n&lt;!-- language-all: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.6&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nUpgraded one for java17\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>For me, the problem is the Lombok version.</p>\n<p>After upgradation from java8 to java17 and from lombok version 1.18.6 to 1.18.26</p>\n<p>Old one:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.6&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Upgraded one for java17</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.26&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9290491,"reputation":440,"user_id":6899076,"display_name":"ionyekanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683359394,"creation_date":1683359394,"answer_id":76187739,"question_id":68330987,"body_markdown":"Set your IDE to use the right version of SDK and that resolved it for me.","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>Set your IDE to use the right version of SDK and that resolved it for me.</p>\n"},{"tags":[],"owner":{"account_id":6144471,"reputation":106,"user_id":4790817,"display_name":"Mahesh Revaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688711834,"creation_date":1688711834,"answer_id":76634460,"question_id":68330987,"body_markdown":"In my case, I had to upgrade Lombok dependency version and then the issue was resolved.","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>In my case, I had to upgrade Lombok dependency version and then the issue was resolved.</p>\n"},{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":1,"creation_date":1691745863,"post_id":76726956,"comment_id":135536315,"body_markdown":"you&#39;re right! I found a similar exception stacktrace after reading your post. Now it makes sense why Lombok had to be upgraded","body":"you&#39;re right! I found a similar exception stacktrace after reading your post. Now it makes sense why Lombok had to be upgraded"}],"tags":[],"owner":{"account_id":4864786,"reputation":135,"user_id":3923417,"display_name":"Sandeep Deb"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698276440,"creation_date":1689831586,"answer_id":76726956,"question_id":68330987,"body_markdown":"Unfortunately this error can have multiple causes, but all caused due to the compatibility issues between the JDK used for compilation and the dependent libraries. \r\n\r\nTo learn the exact cause, run maven with -e or -X switch. This will produce the stack trace pointing the exact incompatibility issue. Post this, you can change the JDK version and/or upgrade/downgrade the library.\r\n\r\nIn my case it was lombok (trace below). I had to upgrade the version from 1.16.xx to 1.18.28 for it to compile.\r\n\r\n```\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4ed56cfd\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\r\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\r\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\r\n-&gt;  at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:116)\r\n-&gt;  at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:108)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    ...\r\n```","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>Unfortunately this error can have multiple causes, but all caused due to the compatibility issues between the JDK used for compilation and the dependent libraries.</p>\n<p>To learn the exact cause, run maven with -e or -X switch. This will produce the stack trace pointing the exact incompatibility issue. Post this, you can change the JDK version and/or upgrade/downgrade the library.</p>\n<p>In my case it was lombok (trace below). I had to upgrade the version from 1.16.xx to 1.18.28 for it to compile.</p>\n<pre><code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4ed56cfd\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\n-&gt;  at lombok.javac.apt.LombokProcessor.getFieldAccessor (LombokProcessor.java:116)\n-&gt;  at lombok.javac.apt.LombokProcessor.&lt;clinit&gt; (LombokProcessor.java:108)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    ...\n</code></pre>\n"}],"owner":{"account_id":17983954,"reputation":594,"user_id":13069645,"display_name":"Greg W.F.R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55379,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":68549302,"answer_count":5,"score":17,"last_activity_date":1698276440,"creation_date":1625945853,"question_id":68330987,"body_markdown":"I cloned this Project from Github\r\n\r\nhttps://github.com/PacktPublishing/Java-Machine-Learning-for-Computer-Vision.git\r\n\r\nI am going to use the FaceRecognizition\r\nfrom this project. But as soon as I try \r\nto run this in IntelliJ I get this error \r\n\r\n\r\njava: java.lang.ExceptionInInitializerError\r\nUnable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6\r\n\r\n\r\nWhat can I do?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6","body":"<p>I cloned this Project from Github</p>\n<p><a href=\"https://github.com/PacktPublishing/Java-Machine-Learning-for-Computer-Vision.git\" rel=\"noreferrer\">https://github.com/PacktPublishing/Java-Machine-Learning-for-Computer-Vision.git</a></p>\n<p>I am going to use the FaceRecognizition\nfrom this project. But as soon as I try\nto run this in IntelliJ I get this error</p>\n<p>java: java.lang.ExceptionInInitializerError\nUnable to make field private com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs accessible: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module @4bae33a6</p>\n<p>What can I do?</p>\n"},{"tags":["java","maven","lombok","incompatibility","java-16"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1608471500,"post_id":65380359,"comment_id":115588663,"body_markdown":"Looks like there&#39;s an open issue on this as well: https://github.com/rzwitserloot/lombok/issues/2681 There&#39;s more than 1 add-opens that is needed it seems.","body":"Looks like there&#39;s an open issue on this as well: <a href=\"https://github.com/rzwitserloot/lombok/issues/2681\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/2681</a> There&#39;s more than 1 add-opens that is needed it seems."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1608473128,"post_id":65380359,"comment_id":115589090,"body_markdown":"@JornVernee thank you for that link, simply using `-add-opens` for all those packages weren&#39;t working either for me.","body":"@JornVernee thank you for that link, simply using <code>-add-opens</code> for all those packages weren&#39;t working either for me."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1608473308,"post_id":65380359,"comment_id":115589145,"body_markdown":"Looking at the maven `-X` output, it is not adding the needed flags to the command line when running the annotation processor. (note that you also need `-J` in front of the flag, so that it is passed to the javac process itself). If I take mavens command, and add the missing `-J--add-opens` to it manually, it works.","body":"Looking at the maven <code>-X</code> output, it is not adding the needed flags to the command line when running the annotation processor. (note that you also need <code>-J</code> in front of the flag, so that it is passed to the javac process itself). If I take mavens command, and add the missing <code>-J--add-opens</code> to it manually, it works."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1608473313,"post_id":65380359,"comment_id":115589147,"body_markdown":"I really am not sure, what is the focus supposed to be. But I have edited the question with all the hopes of reopening instead of opening a new one.","body":"I really am not sure, what is the focus supposed to be. But I have edited the question with all the hopes of reopening instead of opening a new one."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1608474614,"post_id":65380359,"comment_id":115589522,"body_markdown":"Well, since the question is now closed I&#39;ll post this here: Was able to make it work after adding `&lt;fork&gt;true&lt;/fork&gt;` to the compiler plugin config and adding one more missing `-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED`.","body":"Well, since the question is now closed I&#39;ll post this here: Was able to make it work after adding <code>&lt;fork&gt;true&lt;&#47;fork&gt;</code> to the compiler plugin config and adding one more missing <code>-J--add-opens=jdk.compiler&#47;com.sun.tools.javac.jvm=ALL-UNNAM&zwnj;&#8203;ED</code>."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1608476123,"post_id":65380359,"comment_id":115589964,"body_markdown":"@JornVernee Surely, it does work. Once, the question reopens(hopefully it does) please post that as an answer. I would have never imagined using the additional process(`fork`) for passing on the parameters and additionally the failure without `com.sun.tools.javac.jvm` is silent such that even debug logs just point &quot;Compilation failure&quot; and nothing additional there for the cause. Thank you(glad you have made a comment on GitHub for project owners as well).","body":"@JornVernee Surely, it does work. Once, the question reopens(hopefully it does) please post that as an answer. I would have never imagined using the additional process(<code>fork</code>) for passing on the parameters and additionally the failure without <code>com.sun.tools.javac.jvm</code> is silent such that even debug logs just point &quot;Compilation failure&quot; and nothing additional there for the cause. Thank you(glad you have made a comment on GitHub for project owners as well)."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1608476325,"post_id":65380359,"comment_id":115590036,"body_markdown":"I think the logs not containing the exact error is a consequence of using fork=true. I saw a clearer exception when manually running javac. The maven docs were a hint as to needing fork=true: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs &quot;`&lt;compilerArgs&gt;` Sets the arguments to be passed to the compiler if `fork` is set to `true`&quot;. I&#39;ll post the config I used here as well if the question gets reopened.","body":"I think the logs not containing the exact error is a consequence of using fork=true. I saw a clearer exception when manually running javac. The maven docs were a hint as to needing fork=true: <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-compiler-plugin/&hellip;</a> &quot;<code>&lt;compilerArgs&gt;</code> Sets the arguments to be passed to the compiler if <code>fork</code> is set to <code>true</code>&quot;. I&#39;ll post the config I used here as well if the question gets reopened."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1608479270,"post_id":65380359,"comment_id":115590915,"body_markdown":"reopened. pls post the answer, too.","body":"reopened. pls post the answer, too."},{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":1,"creation_date":1608479466,"post_id":65380359,"comment_id":115590977,"body_markdown":"@JornVernee question reopened","body":"@JornVernee question reopened"}],"answers":[{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1608487149,"post_id":65382080,"comment_id":115593281,"body_markdown":"Would add a bounty soon. But maybe with a lead towards how Lombok should be able to move ahead towards the permanent fix.","body":"Would add a bounty soon. But maybe with a lead towards how Lombok should be able to move ahead towards the permanent fix."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1608494877,"post_id":65382080,"comment_id":115595510,"body_markdown":"it would be rather complicated to explain to everyone on my team why so many things are added into the maven config so that lombok would work. There are `record`s that make somehow lombok obsolete, the only thing I would miss would be `@Accessor(chain=true)` that I use a lot","body":"it would be rather complicated to explain to everyone on my team why so many things are added into the maven config so that lombok would work. There are <code>record</code>s that make somehow lombok obsolete, the only thing I would miss would be <code>@Accessor(chain=true)</code> that I use a lot"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1608517572,"post_id":65382080,"comment_id":115600233,"body_markdown":"@Eugene true, you are still in a better state, imagine while performing a proof of concepts for migration, you tell people, that one of their BOM dependency is incompatible with the upgrade! more crucially, handling noise from those who have been using the library for any random annotation without even being concerned of its _necessity_. then pitching all of this to architects is another chain of struggle in itself. one that I think was helping me clean up a lot of code was `@RequiredArgsConstructor(onConstructor = @__(@Inject))`. fingers crossed, yet to try out injection on Java-16.","body":"@Eugene true, you are still in a better state, imagine while performing a proof of concepts for migration, you tell people, that one of their BOM dependency is incompatible with the upgrade! more crucially, handling noise from those who have been using the library for any random annotation without even being concerned of its <i>necessity</i>. then pitching all of this to architects is another chain of struggle in itself. one that I think was helping me clean up a lot of code was <code>@RequiredArgsConstructor(onConstructor = @__(@Inject))</code>. fingers crossed, yet to try out injection on Java-16."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":35,"creation_date":1608549628,"post_id":65382080,"comment_id":115608975,"body_markdown":"It’s funny, how it always escalates the same way. *JDK issues a warning* → “but it still works”, some years later: *JDK produces an error* → “but I can make it work with an option”, yet another years later *hack stops working completely* → “why are they suddenly break compatibility?”","body":"It’s funny, how it always escalates the same way. <i>JDK issues a warning</i> → “but it still works”, some years later: <i>JDK produces an error</i> → “but I can make it work with an option”, yet another years later <i>hack stops working completely</i> → “why are they suddenly break compatibility?”"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1608599598,"post_id":65382080,"comment_id":115628076,"body_markdown":"Yeah, we definitely reached warning fatigue for illegal access warnings. I blame both sides - library authors by continuing to use that, and OpenJDK by not looking for why people requires it. I still don&#39;t know of a supported replacement for `java.io.Console.cs`. But the same thing is exposed as shared secret - because some other part of OpenJDK depends on it.","body":"Yeah, we definitely reached warning fatigue for illegal access warnings. I blame both sides - library authors by continuing to use that, and OpenJDK by not looking for why people requires it. I still don&#39;t know of a supported replacement for <code>java.io.Console.cs</code>. But the same thing is exposed as shared secret - because some other part of OpenJDK depends on it."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1630505552,"post_id":65382080,"comment_id":121974800,"body_markdown":"FWIW, a `Console::charset()` method is added in JDK 17: https://github.com/openjdk/jdk/pull/3419","body":"FWIW, a <code>Console::charset()</code> method is added in JDK 17: <a href=\"https://github.com/openjdk/jdk/pull/3419\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/pull/3419</a>"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":6,"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1638191373,"creation_date":1608481395,"answer_id":65382080,"question_id":65380359,"body_markdown":"**Update**:\r\n\r\n[Lombok v1.18.20 supports JDK 16 out of the box](https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-812288829).\r\n\r\nIn the same thread, one of the maintainers also [writes](https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-800423585):\r\n\r\n&gt; We have some less well known loopholes we can use to bridge a few gaps. We&#39;ll start work on gradle and maven plugins in the mean time, which will be a long-term fix.\r\n\r\n---\r\n\r\n**Original**:\r\n\r\nThe exception you are seeing with the latest JDK-16 build is because of [JEP 396: Strongly Encapsulate JDK Internals by Default](https://openjdk.java.net/jeps/396). Lombok is accessing an internal JDK API with reflection, and where in previous Java versions this would result in a warning message, it now results in a hard error.\r\n\r\nIn general, it is possible to explicitly open internal JDK packages for reflection when running java by passing `--add-opens=&lt;module&gt;/&lt;package&gt;=&lt;accessing module&gt;` directives as VM arguments when running `java`. In this case these directives would need to be passed to the `java` process that runs when invoking `javac`. This can be done by prefixing the option passed to `javac` with `-J`, which will instead pass it to the underlying JVM.\r\n\r\nUsing Maven, I was able to make it work with the following compiler plugin config:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;16&lt;/source&gt;\r\n            &lt;target&gt;16&lt;/target&gt;\r\n            &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n                &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n            &lt;!--for unmappable characters in classes--&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n            &lt;!--for lombok annotations to resolve--&gt;\r\n            &lt;!--contradictory to maven, intelliJ fails with this--&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.18.16&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nWhere the needed options are passed using `&lt;compilerArgs&gt;` elements in the configuration.\r\n\r\nNote that I added `-J` in front of the options in order to pass them to the JVM running `javac`, instead of `javac` options.\r\n\r\nOn top of the `--add-opens` directives listed in the question, an additional:\r\n\r\n    -J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\r\n\r\nwas also needed.\r\n\r\n`&lt;fork&gt;true&lt;/fork&gt;` was also needed since otherwise the `-J` options were being ignored (judging from the output of `mvn clean install -X`). Looking at the Maven docs, setting `fork` to `true` seems to be needed any time when using `&lt;compilerArgs&gt;`:\r\n\r\nhttps://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\r\n\r\n&gt; `&lt;compilerArgs&gt;` Sets the arguments to be passed to the compiler if `fork` is set to `true`.","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p><strong>Update</strong>:</p>\n<p><a href=\"https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-812288829\" rel=\"noreferrer\">Lombok v1.18.20 supports JDK 16 out of the box</a>.</p>\n<p>In the same thread, one of the maintainers also <a href=\"https://github.com/rzwitserloot/lombok/issues/2681#issuecomment-800423585\" rel=\"noreferrer\">writes</a>:</p>\n<blockquote>\n<p>We have some less well known loopholes we can use to bridge a few gaps. We'll start work on gradle and maven plugins in the mean time, which will be a long-term fix.</p>\n</blockquote>\n<hr />\n<p><strong>Original</strong>:</p>\n<p>The exception you are seeing with the latest JDK-16 build is because of <a href=\"https://openjdk.java.net/jeps/396\" rel=\"noreferrer\">JEP 396: Strongly Encapsulate JDK Internals by Default</a>. Lombok is accessing an internal JDK API with reflection, and where in previous Java versions this would result in a warning message, it now results in a hard error.</p>\n<p>In general, it is possible to explicitly open internal JDK packages for reflection when running java by passing <code>--add-opens=&lt;module&gt;/&lt;package&gt;=&lt;accessing module&gt;</code> directives as VM arguments when running <code>java</code>. In this case these directives would need to be passed to the <code>java</code> process that runs when invoking <code>javac</code>. This can be done by prefixing the option passed to <code>javac</code> with <code>-J</code>, which will instead pass it to the underlying JVM.</p>\n<p>Using Maven, I was able to make it work with the following compiler plugin config:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;16&lt;/source&gt;\n        &lt;target&gt;16&lt;/target&gt;\n        &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\n        &lt;fork&gt;true&lt;/fork&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n            &lt;arg&gt;-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n        &lt;!--for unmappable characters in classes--&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n        &lt;!--for lombok annotations to resolve--&gt;\n        &lt;!--contradictory to maven, intelliJ fails with this--&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Where the needed options are passed using <code>&lt;compilerArgs&gt;</code> elements in the configuration.</p>\n<p>Note that I added <code>-J</code> in front of the options in order to pass them to the JVM running <code>javac</code>, instead of <code>javac</code> options.</p>\n<p>On top of the <code>--add-opens</code> directives listed in the question, an additional:</p>\n<pre><code>-J--add-opens=jdk.compiler/com.sun.tools.javac.jvm=ALL-UNNAMED\n</code></pre>\n<p>was also needed.</p>\n<p><code>&lt;fork&gt;true&lt;/fork&gt;</code> was also needed since otherwise the <code>-J</code> options were being ignored (judging from the output of <code>mvn clean install -X</code>). Looking at the Maven docs, setting <code>fork</code> to <code>true</code> seems to be needed any time when using <code>&lt;compilerArgs&gt;</code>:</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs\" rel=\"noreferrer\">https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#compilerArgs</a></p>\n<blockquote>\n<p><code>&lt;compilerArgs&gt;</code> Sets the arguments to be passed to the compiler if <code>fork</code> is set to <code>true</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":13175925,"reputation":113,"user_id":9916529,"display_name":"Rangana Udara"},"score":2,"creation_date":1653550085,"post_id":68323986,"comment_id":127880440,"body_markdown":"If you&#39;re looking for a version that is compatible with JDK 17, go for 1.18.22.\nSource: https://projectlombok.org/changelog","body":"If you&#39;re looking for a version that is compatible with JDK 17, go for 1.18.22. Source: <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">projectlombok.org/changelog</a>"}],"tags":[],"owner":{"account_id":8970213,"reputation":687,"user_id":6689024,"display_name":"Juliano Macedo"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1625881212,"creation_date":1625880004,"answer_id":68323986,"question_id":65380359,"body_markdown":"*To help Gradle users that perhaps get in this topic.* \r\n---\r\n\r\nFor those using `Gradle`, to configure Lombok properly, use `compileOnly` and `annotationProcessor ` in the `build.gradle` file.  \r\n\r\n    // Lombok\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.20&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\r\nThe same for `test dependencies` if you are using Lombok there too:  \r\n\r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\ttestAnnotationProcessor &#39;org.projectlombok:lombok:1.18.20&#39;\r\n\r\n\r\nAlso, if you would like to explicitly generate your bytecodes targeting `JDK 16`, use:\r\n\r\n    sourceCompatibility = &#39;16&#39;\r\n    targetCompatibility = &#39;16&#39;\r\n\r\n\r\nSource:  \r\n[Set up Lombok and Gradle][1]  \r\n[Gradle sourceCompatibility and targetCompatibility][2]  \r\n\r\n[1]: https://projectlombok.org/setup/gradle\r\n[2]: https://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<h2><em>To help Gradle users that perhaps get in this topic.</em></h2>\n<p>For those using <code>Gradle</code>, to configure Lombok properly, use <code>compileOnly</code> and <code>annotationProcessor </code> in the <code>build.gradle</code> file.</p>\n<pre><code>// Lombok\ncompileOnly 'org.projectlombok:lombok:1.18.20'\nannotationProcessor 'org.projectlombok:lombok:1.18.20'\n</code></pre>\n<p>The same for <code>test dependencies</code> if you are using Lombok there too:</p>\n<pre><code>testCompileOnly 'org.projectlombok:lombok:1.18.20'\ntestAnnotationProcessor 'org.projectlombok:lombok:1.18.20'\n</code></pre>\n<p>Also, if you would like to explicitly generate your bytecodes targeting <code>JDK 16</code>, use:</p>\n<pre><code>sourceCompatibility = '16'\ntargetCompatibility = '16'\n</code></pre>\n<p>Source:<br />\n<a href=\"https://projectlombok.org/setup/gradle\" rel=\"noreferrer\">Set up Lombok and Gradle</a><br />\n<a href=\"https://stackoverflow.com/questions/16654951/gradle-sourcecompatibility-vs-targetcompatibility\">Gradle sourceCompatibility and targetCompatibility</a></p>\n"},{"tags":[],"owner":{"account_id":14499292,"reputation":153,"user_id":10472965,"display_name":"A. Berk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630065728,"creation_date":1630065728,"answer_id":68953086,"question_id":65380359,"body_markdown":"You need to change your sdk version.\r\n\r\nIf you use IntelliJ IDEA File&gt;Project Structure and select &#39;project&#39; tab from the left side. Project SDK should be 1.8 or whatever you use in the project. Java version 16.0.1 doesnt support for access this version of lombok","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>You need to change your sdk version.</p>\n<p>If you use IntelliJ IDEA File&gt;Project Structure and select 'project' tab from the left side. Project SDK should be 1.8 or whatever you use in the project. Java version 16.0.1 doesnt support for access this version of lombok</p>\n"},{"comments":[{"owner":{"account_id":3129869,"reputation":1542,"user_id":2647910,"accept_rate":92,"display_name":"aswzen"},"score":3,"creation_date":1638778500,"post_id":69810102,"comment_id":124169615,"body_markdown":"@Naman its easier to understand by seeing this answer though, straight to the point","body":"@Naman its easier to understand by seeing this answer though, straight to the point"},{"owner":{"account_id":2119755,"reputation":1211,"user_id":1883278,"accept_rate":17,"display_name":"Sankalp"},"score":0,"creation_date":1647558640,"post_id":69810102,"comment_id":126408190,"body_markdown":"I was seeing the same error. Upgrading lombok to the latest worked fine with Java 17.","body":"I was seeing the same error. Upgrading lombok to the latest worked fine with Java 17."},{"owner":{"account_id":8733687,"reputation":145,"user_id":6533028,"display_name":"propatience"},"score":0,"creation_date":1700123658,"post_id":69810102,"comment_id":136616648,"body_markdown":"Same error for Java 8: `java-1.8.0-openjdk-1.8.0.382`.","body":"Same error for Java 8: <code>java-1.8.0-openjdk-1.8.0.382</code>."}],"tags":[],"owner":{"account_id":4658906,"reputation":964,"user_id":3773658,"display_name":"praty"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1635854562,"creation_date":1635854562,"answer_id":69810102,"question_id":65380359,"body_markdown":"Upgrading lombok version to `1.18.20` fixed it for me. So, if you can upgrade lombok, I&#39;d recommend doing so.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.20&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>Upgrading lombok version to <code>1.18.20</code> fixed it for me. So, if you can upgrade lombok, I'd recommend doing so.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.20&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10652702,"reputation":109,"user_id":7843104,"display_name":"Brook"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1640867909,"creation_date":1640867909,"answer_id":70531801,"question_id":65380359,"body_markdown":"if you use macos with jenv, The reason for this problem is that the environment variable JAVA_HOME is not active， Simply do the following：\r\n\r\n    jenv enable-plugin export\r\nthen reopen a terminal session and type `echo $JAVA_HOME`\r\n\r\n ","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>if you use macos with jenv, The reason for this problem is that the environment variable JAVA_HOME is not active， Simply do the following：</p>\n<pre><code>jenv enable-plugin export\n</code></pre>\n<p>then reopen a terminal session and type <code>echo $JAVA_HOME</code></p>\n"},{"tags":[],"owner":{"account_id":11671423,"reputation":7825,"user_id":8546367,"display_name":"reka18"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641494381,"creation_date":1641494381,"answer_id":70612028,"question_id":65380359,"body_markdown":"What I found was to set my JAVA_HOME variable. If you don&#39;t know what that is you can run this command to find it.\r\n\r\n    java -XshowSettings:properties -version 2&gt;&amp;1 &gt; /dev/null | grep &#39;java.home&#39;\r\n\r\nAnd set the value in your RC file to JAVA_HOME.","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>What I found was to set my JAVA_HOME variable. If you don't know what that is you can run this command to find it.</p>\n<pre><code>java -XshowSettings:properties -version 2&gt;&amp;1 &gt; /dev/null | grep 'java.home'\n</code></pre>\n<p>And set the value in your RC file to JAVA_HOME.</p>\n"},{"comments":[{"owner":{"account_id":3529806,"reputation":55,"user_id":4620209,"display_name":"Shailesh Kumar"},"score":0,"creation_date":1644369746,"post_id":70925499,"comment_id":125587495,"body_markdown":"I am still getting the same error after running from Maven Goal button !","body":"I am still getting the same error after running from Maven Goal button !"}],"tags":[],"owner":{"account_id":16355149,"reputation":1659,"user_id":11812518,"display_name":"Petar Bivolarski"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1660802350,"creation_date":1643629876,"answer_id":70925499,"question_id":65380359,"body_markdown":"For those of you using Java 11 or any different one from the newest versions, keep in mind that IntelliJ can use its own Maven version hooked to JDK 16/17, thereby causing the error above when doing `mvn clean install` from the IntelliJ terminal.\r\n\r\nTo check the actual JDK used, type `mvn --version` in the terminal, and you might get a surprise like I did (I didn&#39;t even know I had JDK 17):\r\n\r\n    Maven home: /usr/local/Cellar/maven/3.8.4/libexec\r\n    Java version: 17.0.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\r\n    Default locale: en_BG, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;11.3.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n\r\nAt the same time, I get Java 11 when checking `java --version`.\r\n\r\nThe solution here was to execute `mvn clean install` via the Maven Goal button in the Maven tab to the right:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt correctly used the JDK 11, which can also be verified via `mvn --version`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1XzaR.png","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>For those of you using Java 11 or any different one from the newest versions, keep in mind that IntelliJ can use its own Maven version hooked to JDK 16/17, thereby causing the error above when doing <code>mvn clean install</code> from the IntelliJ terminal.</p>\n<p>To check the actual JDK used, type <code>mvn --version</code> in the terminal, and you might get a surprise like I did (I didn't even know I had JDK 17):</p>\n<pre><code>Maven home: /usr/local/Cellar/maven/3.8.4/libexec\nJava version: 17.0.1, vendor: Homebrew, runtime: /usr/local/Cellar/openjdk/17.0.1_1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_BG, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;11.3.1&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>At the same time, I get Java 11 when checking <code>java --version</code>.</p>\n<p>The solution here was to execute <code>mvn clean install</code> via the Maven Goal button in the Maven tab to the right:</p>\n<p><a href=\"https://i.stack.imgur.com/1XzaR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1XzaR.png\" alt=\"enter image description here\" /></a></p>\n<p>It correctly used the JDK 11, which can also be verified via <code>mvn --version</code>.</p>\n"},{"tags":[],"owner":{"account_id":5865743,"reputation":2651,"user_id":4619784,"display_name":"Hany Sakr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660721102,"creation_date":1660721102,"answer_id":73384373,"question_id":65380359,"body_markdown":"As Petar Bivolarski\r\n\r\nI&#39;ve found the JDK version for maven was referring to JDK 18, while my application should run on JDK 11, so I&#39;ve changed the JAVA_HOME on my machine to refer the correct version of JDK, this will resolve the build problem of my maven.","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>As Petar Bivolarski</p>\n<p>I've found the JDK version for maven was referring to JDK 18, while my application should run on JDK 11, so I've changed the JAVA_HOME on my machine to refer the correct version of JDK, this will resolve the build problem of my maven.</p>\n"},{"tags":[],"owner":{"account_id":17895374,"reputation":53,"user_id":13000903,"display_name":"Manoj Patidar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663069611,"creation_date":1663069611,"answer_id":73702455,"question_id":65380359,"body_markdown":"**For Those if none of the above works**\r\n\r\nFor me the issue was java version used by maven.\r\nwhile installing maven, it automatically install its compatible jdk version and uses it by default.\r\nwhich can be checked by mvn -version\r\n\r\n    Apache Maven 3.8.6 (someGUID)\r\n    Maven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\r\n    Java version: 18.0.2.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\r\n    Default locale: en_IN, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\r\n\r\nbut the java version which is on the machine and project using may be different like:\r\n\r\n    java -version\r\n    java version &quot;11.0.16.1&quot; 2022-08-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.16.1+1-LTS-1)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.16.1+1-LTS-1, mixed mode)\r\n\r\nso the issue is with the maven java version; which can be resolved by running the command\r\n\r\n    `export JAVA_HOME=~{pathToLibrary}/Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home/`\r\n\r\nwhich will change the java version which maven is using and same can be verified by \r\n\r\n    `mvn -version\r\n    Apache Maven 3.8.6 (someGUID)\r\n    Maven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\r\n    Java version: 11.0.16.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\r\n    Default locale: en_IN, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;`\r\n\r\nHope this helps.","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p><strong>For Those if none of the above works</strong></p>\n<p>For me the issue was java version used by maven.\nwhile installing maven, it automatically install its compatible jdk version and uses it by default.\nwhich can be checked by mvn -version</p>\n<pre><code>Apache Maven 3.8.6 (someGUID)\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\nJava version: 18.0.2.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk/Contents/Home\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;\n</code></pre>\n<p>but the java version which is on the machine and project using may be different like:</p>\n<pre><code>java -version\njava version &quot;11.0.16.1&quot; 2022-08-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.16.1+1-LTS-1)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.16.1+1-LTS-1, mixed mode)\n</code></pre>\n<p>so the issue is with the maven java version; which can be resolved by running the command</p>\n<pre><code>`export JAVA_HOME=~{pathToLibrary}/Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home/`\n</code></pre>\n<p>which will change the java version which maven is using and same can be verified by</p>\n<pre><code>`mvn -version\nApache Maven 3.8.6 (someGUID)\nMaven home: /opt/homebrew/Cellar/maven/3.8.6/libexec\nJava version: 11.0.16.1, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\nDefault locale: en_IN, platform encoding: UTF-8\nOS name: &quot;mac os x&quot;, version: &quot;12.5.1&quot;, arch: &quot;aarch64&quot;, family: &quot;mac&quot;`\n</code></pre>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18659904,"reputation":81,"user_id":13601366,"display_name":"Đ&#224;o Tuy&#234;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698276190,"creation_date":1666334844,"answer_id":74149714,"question_id":65380359,"body_markdown":"In intellji:\r\n\r\nstep 1: right click your project -&gt; Open Module Settings\r\n\r\nstep 2: in tab Dependencies setting all your project jdk matches jdk you have.\r\n\r\nstep 3: click button apply.\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1wKvk.png\r\n  [2]: https://i.stack.imgur.com/XBlMJ.png","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>In intellji:</p>\n<p>step 1: right click your project -&gt; Open Module Settings</p>\n<p>step 2: in tab Dependencies setting all your project jdk matches jdk you have.</p>\n<p>step 3: click button apply.</p>\n<p><img src=\"https://i.stack.imgur.com/1wKvk.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/XBlMJ.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":216108,"reputation":1219,"user_id":471137,"accept_rate":10,"display_name":"troger19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678351204,"creation_date":1678351204,"answer_id":75682155,"question_id":65380359,"body_markdown":"I need to delete this from pom.xml in order the project to build and start succesfully and use only lombok dependency.\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                    &lt;generatedSourcesDirectory&gt;${project.build.directory}/generated-sources/&lt;/generatedSourcesDirectory&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>I need to delete this from pom.xml in order the project to build and start succesfully and use only lombok dependency.</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                &lt;generatedSourcesDirectory&gt;${project.build.directory}/generated-sources/&lt;/generatedSourcesDirectory&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;${version.mapstruct}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;${version.lombok}&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;${version.mapstruct-lombok}&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9990575,"reputation":77,"user_id":7390017,"display_name":"Syed Noman Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681168204,"creation_date":1681168204,"answer_id":75981360,"question_id":65380359,"body_markdown":"This solved my issue with windows and intellij. My project was using `java 1.8` but my maven was defaulting to `java 17` because I have both java 1.8 and 17 on my machine. I updated the java version for my maven by simply adding `set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_211\\jre` into my `mvn.bat` file which you should find in the location where your maven software is located.\r\n\r\nTo verify, you can run `mvn --version` and it should display the java version 1.8 in response.","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>This solved my issue with windows and intellij. My project was using <code>java 1.8</code> but my maven was defaulting to <code>java 17</code> because I have both java 1.8 and 17 on my machine. I updated the java version for my maven by simply adding <code>set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_211\\jre</code> into my <code>mvn.bat</code> file which you should find in the location where your maven software is located.</p>\n<p>To verify, you can run <code>mvn --version</code> and it should display the java version 1.8 in response.</p>\n"}],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128188,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":65382080,"answer_count":12,"score":88,"last_activity_date":1698276190,"creation_date":1608470631,"question_id":65380359,"body_markdown":"Simply upgrading one of my projects from Java-15 to 16 (using the latest build [here](https://jdk.java.net/16/)). On compiling the project which uses lombok such as:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.16&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am kind of stuck with the stack trace \r\n\r\n    Caused by: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x4e670245) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x4e670245\r\n        at lombok.javac.apt.LombokProcessor.getJavacProcessingEnvironment (LombokProcessor.java:433)\r\n        at lombok.javac.apt.LombokProcessor.init (LombokProcessor.java:92)\r\n        at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:160)\r\n        at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:213)\r\n        at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:64)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:702)\r\n        at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:829)\r\n\r\nNow, at least as I thought I knew a hack to get this resolved, but even on trying the following configuration on `maven-compiler-plugin`\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;16&lt;/source&gt;\r\n            &lt;target&gt;16&lt;/target&gt;\r\n            &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;arg&gt;--enable-preview&lt;/arg&gt;\r\n                &lt;arg&gt;-Xlint:all&lt;/arg&gt;\r\n                &lt;arg&gt;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n            &lt;/compilerArgs&gt;\r\n            &lt;!--for unmappable characters in classes--&gt;\r\n            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n            &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n            &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n            &lt;!--for lombok annotations to resolve--&gt;\r\n            &lt;!--contradictory to maven, intelliJ fails with this--&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n                &lt;path&gt;\r\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.18.16&lt;/version&gt;\r\n                &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nHas anyone been able to resolve or get away with this?\r\n\r\n***Edit***: The link, provided by [Jorn in comments](https://stackoverflow.com/questions/65380359/lomboks-incompatibility-with-java-16-and-access-to-jdk-compilers-internal-pack#comment115588663_65380359), does relate to the same problem on GitHub, but the solutions proposed still doesn&#39;t really work. Such that I have added the following args as well:\r\n\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\r\n    &lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\r\n ","title":"Lombok&#39;s access to jdk.compiler&#39;s internal packages incompatible with Java-16","body":"<p>Simply upgrading one of my projects from Java-15 to 16 (using the latest build <a href=\"https://jdk.java.net/16/\" rel=\"noreferrer\">here</a>). On compiling the project which uses lombok such as:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.16&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I am kind of stuck with the stack trace</p>\n<pre><code>Caused by: java.lang.IllegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x4e670245) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironment (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x4e670245\n    at lombok.javac.apt.LombokProcessor.getJavacProcessingEnvironment (LombokProcessor.java:433)\n    at lombok.javac.apt.LombokProcessor.init (LombokProcessor.java:92)\n    at lombok.core.AnnotationProcessor$JavacDescriptor.want (AnnotationProcessor.java:160)\n    at lombok.core.AnnotationProcessor.init (AnnotationProcessor.java:213)\n    at lombok.launch.AnnotationProcessorHider$AnnotationProcessor.init (AnnotationProcessor.java:64)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$ProcessorState.&lt;init&gt; (JavacProcessingEnvironment.java:702)\n    at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.next (JavacProcessingEnvironment.java:829)\n</code></pre>\n<p>Now, at least as I thought I knew a hack to get this resolved, but even on trying the following configuration on <code>maven-compiler-plugin</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;16&lt;/source&gt;\n        &lt;target&gt;16&lt;/target&gt;\n        &lt;!--                    &lt;release&gt;16&lt;/release&gt;--&gt;\n        &lt;compilerArgs&gt;\n            &lt;arg&gt;--enable-preview&lt;/arg&gt;\n            &lt;arg&gt;-Xlint:all&lt;/arg&gt;\n            &lt;arg&gt;--add-exports=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n        &lt;/compilerArgs&gt;\n        &lt;!--for unmappable characters in classes--&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n        &lt;!--for lombok annotations to resolve--&gt;\n        &lt;!--contradictory to maven, intelliJ fails with this--&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Has anyone been able to resolve or get away with this?</p>\n<p><em><strong>Edit</strong></em>: The link, provided by <a href=\"https://stackoverflow.com/questions/65380359/lomboks-incompatibility-with-java-16-and-access-to-jdk-compilers-internal-pack#comment115588663_65380359\">Jorn in comments</a>, does relate to the same problem on GitHub, but the solutions proposed still doesn't really work. Such that I have added the following args as well:</p>\n<pre><code>&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.model=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.processing=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED&lt;/arg&gt;\n&lt;arg&gt;--add-opens=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED&lt;/arg&gt;\n</code></pre>\n"},{"tags":["java","arrays","heap-memory","primitive-types","stack-memory"],"comments":[{"owner":{"account_id":25726,"reputation":8349,"user_id":66363,"display_name":"UncleO"},"score":42,"creation_date":1263973157,"post_id":2099695,"comment_id":2033354,"body_markdown":"That is not an array. It is a reference to an array. The reference itself could be stored on the heap if it is a member of a class or object, or on the stack if it is a local variable in a method. And primitive types can be stored on the heap if they are members of a class or object.","body":"That is not an array. It is a reference to an array. The reference itself could be stored on the heap if it is a member of a class or object, or on the stack if it is a local variable in a method. And primitive types can be stored on the heap if they are members of a class or object."}],"answers":[{"comments":[{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":5,"creation_date":1265184802,"post_id":2099703,"comment_id":2138888,"body_markdown":"And the reference variable named testScores(pointing to the array on the heap) will be on the stack.","body":"And the reference variable named testScores(pointing to the array on the heap) will be on the stack."},{"owner":{"account_id":56304,"reputation":117517,"user_id":168657,"accept_rate":92,"display_name":"mob"},"score":12,"creation_date":1266513282,"post_id":2099703,"comment_id":2254709,"body_markdown":"The code only says &quot;Thanks&quot; if you supply the `-g` option to the compiler. Otherwise it will be optimized away.","body":"The code only says &quot;Thanks&quot; if you supply the <code>-g</code> option to the compiler. Otherwise it will be optimized away."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1411588088,"post_id":2099703,"comment_id":40764017,"body_markdown":"@mob You are making an assumption that this is the only code. It is probably better to assume that these two lines are part of a larger program which actually uses the array.","body":"@mob You are making an assumption that this is the only code. It is probably better to assume that these two lines are part of a larger program which actually uses the array."}],"tags":[],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":3,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1517580093,"creation_date":1263972724,"answer_id":2099703,"question_id":2099695,"body_markdown":"It will be stored on the **heap**\r\n\r\nbecause array is an object in java.\r\n\r\n**EDIT**  : if you have \r\n\r\n    int [] testScores; \r\n    testScores = new int[4];\r\n\r\nThink of this code as saying to the compiler, &quot;Create an array object that will hold four ints, and assign it to the reference variable named `testScores`. Also, go ahead and set each `int` element to zero. Thanks.&quot;","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>It will be stored on the <strong>heap</strong></p>\n\n<p>because array is an object in java.</p>\n\n<p><strong>EDIT</strong>  : if you have </p>\n\n<pre><code>int [] testScores; \ntestScores = new int[4];\n</code></pre>\n\n<p>Think of this code as saying to the compiler, \"Create an array object that will hold four ints, and assign it to the reference variable named <code>testScores</code>. Also, go ahead and set each <code>int</code> element to zero. Thanks.\"</p>\n"},{"tags":[],"owner":{"account_id":44010,"reputation":1000,"user_id":128900,"display_name":"Nikola Gedelovski"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1263972812,"creation_date":1263972812,"answer_id":2099708,"question_id":2099695,"body_markdown":"In the Java programming language arrays are objects, are dynamically created, and may be assigned to variables of type Object.\r\n\r\nhttp://java.sun.com/docs/books/jls/second_edition/html/arrays.doc.html","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>In the Java programming language arrays are objects, are dynamically created, and may be assigned to variables of type Object.</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/second_edition/html/arrays.doc.html\" rel=\"nofollow noreferrer\">http://java.sun.com/docs/books/jls/second_edition/html/arrays.doc.html</a></p>\n"},{"tags":[],"owner":{"account_id":56819,"reputation":4437,"user_id":170196,"accept_rate":77,"display_name":"Esben Skov Pedersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1263972878,"creation_date":1263972878,"answer_id":2099712,"question_id":2099695,"body_markdown":"It is an array of primitive types which in itself is not primitive. A good rule of thumb is when the new keyword is involved the result will be on the heap.","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>It is an array of primitive types which in itself is not primitive. A good rule of thumb is when the new keyword is involved the result will be on the heap.</p>\n"},{"comments":[{"owner":{"account_id":7198,"reputation":46927,"user_id":12388,"accept_rate":82,"display_name":"Guido"},"score":1,"creation_date":1308083921,"post_id":2099726,"comment_id":7430837,"body_markdown":"About the &quot;escape analyisis&quot; in Java: http://blog.juma.me.uk/2008/12/17/objects-with-no-allocation-overhead/\n\nIt says that it is present since the early access release of JDK 6 Update 14, and enabled by default since JDK 6 Update 23.","body":"About the &quot;escape analyisis&quot; in Java: <a href=\"http://blog.juma.me.uk/2008/12/17/objects-with-no-allocation-overhead/\" rel=\"nofollow noreferrer\">blog.juma.me.uk/2008/12/17/objects-with-no-allocation-overhe&zwnj;&#8203;ad</a>  It says that it is present since the early access release of JDK 6 Update 14, and enabled by default since JDK 6 Update 23."},{"owner":{"account_id":2371306,"reputation":7186,"user_id":2075875,"accept_rate":78,"display_name":"Malachiasz"},"score":0,"creation_date":1393582395,"post_id":2099726,"comment_id":33507561,"body_markdown":"does it change anything if array is public static final? Shouldn&#39;t it be part of the constant pool then?","body":"does it change anything if array is public static final? Shouldn&#39;t it be part of the constant pool then?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1393582708,"post_id":2099726,"comment_id":33507777,"body_markdown":"@Malachiasz: Nope. An array is never a constant.","body":"@Malachiasz: Nope. An array is never a constant."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1402259104,"post_id":2099726,"comment_id":37194027,"body_markdown":"@JonSkeet: In all versions of the Java library I&#39;m aware of, every `String` is backed by a `char[]`.  I believe literal strings are stored in the public constant pool; for GC optimization, that would imply that the backing arrays should be stored likewise (otherwise the constant pool would have to be scanned during any GC cycle where the backing array would otherwise be eligible for collection).","body":"@JonSkeet: In all versions of the Java library I&#39;m aware of, every <code>String</code> is backed by a <code>char[]</code>.  I believe literal strings are stored in the public constant pool; for GC optimization, that would imply that the backing arrays should be stored likewise (otherwise the constant pool would have to be scanned during any GC cycle where the backing array would otherwise be eligible for collection)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1402292735,"post_id":2099726,"comment_id":37201166,"body_markdown":"@supercat: Yes, that would make sense. But any array you declare *yourself* never ends up as part of the constant pool.","body":"@supercat: Yes, that would make sense. But any array you declare <i>yourself</i> never ends up as part of the constant pool."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":1,"up_vote_count":165,"is_accepted":false,"score":164,"last_activity_date":1263974611,"creation_date":1263973103,"answer_id":2099726,"question_id":2099695,"body_markdown":"As gurukulki said, it&#39;s stored on the heap. However, your post suggested a misunderstanding probably due to some well-intentioned person propagating the myth that &quot;primitives always live on the stack&quot;. This is untrue. *Local variables* have their values on the stack, but not all primitive variables are local...\r\n\r\nFor example, consider this:\r\n\r\n    public class Foo\r\n    {\r\n        int value;\r\n    }\r\n    ...\r\n\r\n    public void someOtherMethod()\r\n    {\r\n        Foo f = new Foo();\r\n        ...\r\n    }\r\n\r\nNow, where does `f.value` live? The myth would suggest it&#39;s on the stack - but actually it&#39;s part of the new `Foo` object, and lives on the heap&lt;sup&gt;1&lt;/sup&gt;. (Note that the value of `f` itself is a reference, and lives on the stack.)\r\n\r\nFrom there, it&#39;s an easy step to arrays. You can think of an array as just being a lot of variables - so `new int[3]` is a bit like having a class of this form:\r\n\r\n    public class ArrayInt3\r\n    {\r\n        public readonly int length = 3;\r\n        public int value0;\r\n        public int value1;\r\n        public int value2;\r\n    }\r\n\r\n----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; In fact, it&#39;s more complicated than this. The stack/heap distinction is mostly an implementation detail - I believe some JVMs, possibly experimental ones, can tell when an object never &quot;escapes&quot; from a method, and may allocate the whole object on the stack. However, it&#39;s *conceptually* on the heap, if you choose to care.","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>As gurukulki said, it's stored on the heap. However, your post suggested a misunderstanding probably due to some well-intentioned person propagating the myth that \"primitives always live on the stack\". This is untrue. <em>Local variables</em> have their values on the stack, but not all primitive variables are local...</p>\n\n<p>For example, consider this:</p>\n\n<pre><code>public class Foo\n{\n    int value;\n}\n...\n\npublic void someOtherMethod()\n{\n    Foo f = new Foo();\n    ...\n}\n</code></pre>\n\n<p>Now, where does <code>f.value</code> live? The myth would suggest it's on the stack - but actually it's part of the new <code>Foo</code> object, and lives on the heap<sup>1</sup>. (Note that the value of <code>f</code> itself is a reference, and lives on the stack.)</p>\n\n<p>From there, it's an easy step to arrays. You can think of an array as just being a lot of variables - so <code>new int[3]</code> is a bit like having a class of this form:</p>\n\n<pre><code>public class ArrayInt3\n{\n    public readonly int length = 3;\n    public int value0;\n    public int value1;\n    public int value2;\n}\n</code></pre>\n\n<hr>\n\n<p><sup>1</sup> In fact, it's more complicated than this. The stack/heap distinction is mostly an implementation detail - I believe some JVMs, possibly experimental ones, can tell when an object never \"escapes\" from a method, and may allocate the whole object on the stack. However, it's <em>conceptually</em> on the heap, if you choose to care.</p>\n"},{"comments":[{"owner":{"account_id":6715802,"reputation":457,"user_id":5213068,"accept_rate":100,"display_name":"hedleyyan"},"score":4,"creation_date":1542118932,"post_id":16326590,"comment_id":93447802,"body_markdown":"Could you paste the code detail of memInfo() pls? :)","body":"Could you paste the code detail of memInfo() pls? :)"}],"tags":[],"owner":{"account_id":1896086,"reputation":5499,"user_id":1713031,"accept_rate":71,"display_name":"acheron55"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1367442700,"creation_date":1367442700,"answer_id":16326590,"question_id":2099695,"body_markdown":"I just wanted to share few tests I ran on this subject.\r\n\r\nArray of size 10 million\r\n\r\n    public static void main(String[] args) {\r\n    \tmemInfo();\r\n    \tdouble a[] = new double[10000000];\r\n    \tmemInfo();\r\n    }\r\n\r\nOutput: \r\n\r\n    ------------------------\r\n    max mem = 130.0 MB\r\n    total mem = 85.0 MB\r\n    free mem = 83.6 MB\r\n    used mem = 1.4 MB\r\n    ------------------------\r\n    ------------------------\r\n    max mem = 130.0 MB\r\n    total mem = 130.0 MB\r\n    free mem = 48.9 MB\r\n    used mem = 81.1 MB\r\n    ------------------------\r\n\r\nAs you see used heap size is increased by ~80 MB, which is 10m * sizeof(double).\r\n\r\nBut if we have use Double instead of double\r\n\r\n    public static void main(String[] args) {\r\n    \tmemInfo();\r\n    \tDouble a[] = new Double[10000000];\r\n    \tmemInfo();\r\n    }\r\n\r\nOutput will show 40MB. We only have Double references, they are not initialized.\r\n\r\nFilling it with Double\r\n\r\n    public static void main(String[] args) {\r\n    \tmemInfo();\r\n    \tDouble a[] = new Double[10000000];\t\t\r\n        Double qq = 3.1d;\r\n    \tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\ta[i] = qq;\r\n    \t}\r\n    \tmemInfo();\r\n    }\r\n\r\nStill 40MB. Because they all point to same Double object.\r\n\r\nInitializing with double instead\r\n\r\n    public static void main(String[] args) {\r\n    \tmemInfo();\r\n    \tDouble a[] = new Double[10000000];\r\n        Double qq = 3.1d;\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n    \t    a[i] = qq.doubleValue();\r\n        }\r\n    \tmemInfo();\r\n    }\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\nLine\r\n\r\n    a[i] = qq.doubleValue();\r\n\r\nis equivalent to\r\n\r\n    a[i] = Double.valueOf(qq.doubleValue());\r\n\r\nwhich is equivalent to\r\n\r\n    a[i] = new Double(qq.doubleValue());\r\n\r\nSince we create new Double objects each time, we blow out the heap.\r\nThis shows values inside the Double class are stored in heap.","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>I just wanted to share few tests I ran on this subject.</p>\n\n<p>Array of size 10 million</p>\n\n<pre><code>public static void main(String[] args) {\n    memInfo();\n    double a[] = new double[10000000];\n    memInfo();\n}\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>------------------------\nmax mem = 130.0 MB\ntotal mem = 85.0 MB\nfree mem = 83.6 MB\nused mem = 1.4 MB\n------------------------\n------------------------\nmax mem = 130.0 MB\ntotal mem = 130.0 MB\nfree mem = 48.9 MB\nused mem = 81.1 MB\n------------------------\n</code></pre>\n\n<p>As you see used heap size is increased by ~80 MB, which is 10m * sizeof(double).</p>\n\n<p>But if we have use Double instead of double</p>\n\n<pre><code>public static void main(String[] args) {\n    memInfo();\n    Double a[] = new Double[10000000];\n    memInfo();\n}\n</code></pre>\n\n<p>Output will show 40MB. We only have Double references, they are not initialized.</p>\n\n<p>Filling it with Double</p>\n\n<pre><code>public static void main(String[] args) {\n    memInfo();\n    Double a[] = new Double[10000000];      \n    Double qq = 3.1d;\n    for (int i = 0; i &lt; a.length; i++) {\n        a[i] = qq;\n    }\n    memInfo();\n}\n</code></pre>\n\n<p>Still 40MB. Because they all point to same Double object.</p>\n\n<p>Initializing with double instead</p>\n\n<pre><code>public static void main(String[] args) {\n    memInfo();\n    Double a[] = new Double[10000000];\n    Double qq = 3.1d;\n    for (int i = 0; i &lt; a.length; i++) {\n        a[i] = qq.doubleValue();\n    }\n    memInfo();\n}\n\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n\n<p>Line</p>\n\n<pre><code>a[i] = qq.doubleValue();\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>a[i] = Double.valueOf(qq.doubleValue());\n</code></pre>\n\n<p>which is equivalent to</p>\n\n<pre><code>a[i] = new Double(qq.doubleValue());\n</code></pre>\n\n<p>Since we create new Double objects each time, we blow out the heap.\nThis shows values inside the Double class are stored in heap.</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698073432,"post_id":72340065,"comment_id":136355871,"body_markdown":"@ManOffSky now this answer got very *strange*....","body":"@ManOffSky now this answer got very <i>strange</i>...."},{"owner":{"account_id":172794,"reputation":7482,"user_id":401059,"display_name":"Caesar"},"score":0,"creation_date":1698275147,"post_id":72340065,"comment_id":136386172,"body_markdown":"@ManOffSky Your edit makes no sense as an edit. It should have been rejected and written as a comment.","body":"@ManOffSky Your edit makes no sense as an edit. It should have been rejected and written as a comment."}],"tags":[],"owner":{"account_id":19286123,"reputation":1,"user_id":14097057,"display_name":"POUDEL BANWO"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698275173,"creation_date":1653242283,"answer_id":72340065,"question_id":2099695,"body_markdown":"I guess there are two ways of looking at it, when we do something like this\r\n\r\n        int arr[] = new int[4];\r\n        for( int i=0;i&lt;=3;i++ ){\r\n            arr[i] = i*10;\r\n        }\r\nthan I think  the array is stored in heap and only the reference ariable &quot;arr&quot; is stored in stack.\r\nBut when we do something like this `int arr[] = {10,20,30,40,50};` then everything is stored in stack","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>I guess there are two ways of looking at it, when we do something like this</p>\n<pre><code>    int arr[] = new int[4];\n    for( int i=0;i&lt;=3;i++ ){\n        arr[i] = i*10;\n    }\n</code></pre>\n<p>than I think  the array is stored in heap and only the reference ariable &quot;arr&quot; is stored in stack.\nBut when we do something like this <code>int arr[] = {10,20,30,40,50};</code> then everything is stored in stack</p>\n"},{"tags":[],"owner":{"account_id":28085419,"reputation":3,"user_id":21455873,"display_name":"Man Off Sky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698188184,"creation_date":1698187991,"answer_id":77355785,"question_id":2099695,"body_markdown":"In the example int arr[] = {10,20,30,40,50};, both the array itself and its values will be stored in the heap, while the reference variable arr will be stored in the stack.","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>In the example int arr[] = {10,20,30,40,50};, both the array itself and its values will be stored in the heap, while the reference variable arr will be stored in the stack.</p>\n"}],"owner":{"account_id":87177,"reputation":4368,"user_id":241924,"accept_rate":60,"display_name":"user241924"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52022,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"answer_count":7,"score":99,"last_activity_date":1698275173,"creation_date":1263972576,"question_id":2099695,"body_markdown":"I have an array declaration like this:\r\n\r\n    int a[];\r\n\r\nHere `a` is an array of primitive `int` type. Where is this array stored? Is it stored on heap or stack? This is a primitve type `int`, all primitive types are not stored on heap.","title":"Is a Java array of primitives stored in stack or heap?","body":"<p>I have an array declaration like this:</p>\n\n<pre><code>int a[];\n</code></pre>\n\n<p>Here <code>a</code> is an array of primitive <code>int</code> type. Where is this array stored? Is it stored on heap or stack? This is a primitve type <code>int</code>, all primitive types are not stored on heap.</p>\n"},{"tags":["java","mysql","spring-boot","spring-jdbc"],"answers":[{"comments":[{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1539215319,"post_id":52750236,"comment_id":92424733,"body_markdown":"Thanks Ajay, am I using hikari? Should it be higher than 4?","body":"Thanks Ajay, am I using hikari? Should it be higher than 4?"},{"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"score":1,"creation_date":1539215696,"post_id":52750236,"comment_id":92424817,"body_markdown":"you can use either tomcat or hikari.\nmax-pool depends on your application requirement and the number of database connections available.","body":"you can use either tomcat or hikari. max-pool depends on your application requirement and the number of database connections available."},{"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"score":0,"creation_date":1539215866,"post_id":52750236,"comment_id":92424852,"body_markdown":"sometimes it so happens that other programs may be holding onto the db connections and preventing your program from getting access to db connection resource. i would advice you to check the active client connections on db","body":"sometimes it so happens that other programs may be holding onto the db connections and preventing your program from getting access to db connection resource. i would advice you to check the active client connections on db"}],"tags":[],"owner":{"account_id":5137929,"reputation":533,"user_id":5657715,"display_name":"Ajay V"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539215444,"creation_date":1539215230,"answer_id":52750236,"question_id":52750216,"body_markdown":"    \r\n    spring.datasource.url=jdbc:mysql://10.168.143.140:3306/database_name\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n    spring.datasource.hikari.maximum-pool-size=4\r\n\r\nmore detailed information can be found at : \r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\r\n","title":"How to setup Spring JDBC Connection Pooling with Spring Boot?","body":"<pre><code>spring.datasource.url=jdbc:mysql://10.168.143.140:3306/database_name\nspring.datasource.username=username\nspring.datasource.password=password\nspring.datasource.hikari.maximum-pool-size=4\n</code></pre>\n\n<p>more detailed information can be found at : \n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-sql.html</a></p>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698275160,"creation_date":1539215010,"question_id":52750216,"body_markdown":"Am using Spring Boot 1.5.4 with Spring JDBC.\r\n\r\nHave a Spring Boot Microservice which uses Spring JDBC has the following issue when trying to conduct an HTTP PUT (after a bunch of users try conducting an HTTP PUT) which trickles to this Spring JDBC call:\r\n\r\n\t2018-10-10 19:40:02 [http-nio-8081-exec-4] ERROR c.v.r.RepositoryImpl - Problem in updateData() method: \r\n\t&quot;org.springframework.dao.DataAccessResourceFailureException: PreparedStatementCallback; SQL [select a.user_id,b.user_id, from user a join user_profile b where a.user_id=b.user_id and a.date=?;]; No operations allowed after connection closed.; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\r\n\t\tat org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:79)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\r\n\t\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\r\n\t\tat com.mysql.jdbc.Util.getInstance(Util.java:360)\r\n\tCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n\tThe last packet successfully received from the server was 28,915,589 milliseconds ago.  The last packet sent successfully to the server was 9 milliseconds ago.\r\n\t\tat com.myapp.repository.RepositoryImpl.updateData(RepositoryImpl.java:74)\r\n\t\tat com.myapp.repository.RepositoryImpl$$FastClassBySpringCGLIB$$1be9dd8e.invoke(&lt;generated&gt;)\r\n\t\t... 52 common frames omitted\r\n\tCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n\t\tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2914)\r\n\t\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3337)\r\n\t\t... 83 common frames omitted\r\n\r\npom.xml:\r\n\r\n\t&lt;artifactId&gt;MyService&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\t\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Spring --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.33&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nAm guessing that I need to setup a JDBC connection pool...\r\n\r\nInside my application.properties settings, (I have two different databases - one local and one remote, its losing connection with the remote database; database2):\r\n\r\n    # Local\r\n    spring.datasource.database1.url=jdbc:mysql://localhost/database1?zeroDateTimeBehavior=convertToNull\r\n    spring.datasource.database1.username=root\r\n    spring.datasource.database1.password=ret2my\r\n    spring.datasource.database1.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n    # Remote\r\n    spring.datasource.database2.url=jdbc:mysql://read-replica-database-production.cranmichpmc.us-west-2.rds.amazonaws.com/database2?zeroDateTimeBehavior=convertToNull\r\n    spring.datasource.database2.username=root\r\n    spring.datasource.database2.password=ret2a$$\r\n    spring.datasource.database2.driverClassName=com.mysql.jdbc.Driver\r\n\r\nShould I add this for the second database:\r\n\r\n    spring.datasource.database2.hikari.maximum-pool-size=10\r\n    spring.datasource.database2.hikari.connection-timeout=60000\r\n\r\nAre there other useful params that I should consider?","title":"How to setup Spring JDBC Connection Pooling with Spring Boot?","body":"<p>Am using Spring Boot 1.5.4 with Spring JDBC.</p>\n\n<p>Have a Spring Boot Microservice which uses Spring JDBC has the following issue when trying to conduct an HTTP PUT (after a bunch of users try conducting an HTTP PUT) which trickles to this Spring JDBC call:</p>\n\n<pre><code>2018-10-10 19:40:02 [http-nio-8081-exec-4] ERROR c.v.r.RepositoryImpl - Problem in updateData() method: \n\"org.springframework.dao.DataAccessResourceFailureException: PreparedStatementCallback; SQL [select a.user_id,b.user_id, from user a join user_profile b where a.user_id=b.user_id and a.date=?;]; No operations allowed after connection closed.; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n    at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:79)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:377)\n    at com.mysql.jdbc.Util.getInstance(Util.java:360)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 28,915,589 milliseconds ago.  The last packet sent successfully to the server was 9 milliseconds ago.\n    at com.myapp.repository.RepositoryImpl.updateData(RepositoryImpl.java:74)\n    at com.myapp.repository.RepositoryImpl$$FastClassBySpringCGLIB$$1be9dd8e.invoke(&lt;generated&gt;)\n    ... 52 common frames omitted\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2914)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3337)\n    ... 83 common frames omitted\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;artifactId&gt;MyService&lt;/artifactId&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.7&lt;/java.version&gt;\n&lt;/properties&gt;   \n\n&lt;dependencies&gt;\n    &lt;!-- Spring --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.33&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Am guessing that I need to setup a JDBC connection pool...</p>\n\n<p>Inside my application.properties settings, (I have two different databases - one local and one remote, its losing connection with the remote database; database2):</p>\n\n<pre><code># Local\nspring.datasource.database1.url=jdbc:mysql://localhost/database1?zeroDateTimeBehavior=convertToNull\nspring.datasource.database1.username=root\nspring.datasource.database1.password=ret2my\nspring.datasource.database1.driverClassName=com.mysql.jdbc.Driver\n\n# Remote\nspring.datasource.database2.url=jdbc:mysql://read-replica-database-production.cranmichpmc.us-west-2.rds.amazonaws.com/database2?zeroDateTimeBehavior=convertToNull\nspring.datasource.database2.username=root\nspring.datasource.database2.password=ret2a$$\nspring.datasource.database2.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Should I add this for the second database:</p>\n\n<pre><code>spring.datasource.database2.hikari.maximum-pool-size=10\nspring.datasource.database2.hikari.connection-timeout=60000\n</code></pre>\n\n<p>Are there other useful params that I should consider?</p>\n"},{"tags":["java","redis","apache-flink","redisson","amazon-kinesis-analytics"],"owner":{"account_id":18031373,"reputation":31,"user_id":13105894,"display_name":"foxicoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698274040,"creation_date":1698274040,"question_id":77363257,"body_markdown":"I have my Flink app deployed to [AWS Managed Flink][1], while trying to implement async I/O with Redisson (Redis client) to connect to AWS MemoryDB (a Redis Cluster), I got an error (see below). It isn&#39;t clear to me how Redisson is creating new sockets and how AWS Managed Flink is configuring the maximum number of sockets. Can someone shed some light on how to resolve this issue? Thanks.\r\n\r\n```\r\njava.lang.IllegalStateException: failed to create a new resolver\r\nat io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:72)\r\nat org.redisson.client.RedisClient.resolveAddr(RedisClient.java:203)\r\nat org.redisson.client.RedisClient.connectAsync(RedisClient.java:220)\r\nat org.redisson.connection.MasterSlaveConnectionManager.connectToNode(MasterSlaveConnectionManager.java:125)\r\nat org.redisson.connection.MasterSlaveConnectionManager.connectToNode(MasterSlaveConnectionManager.java:111)\r\nat org.redisson.cluster.ClusterConnectionManager.doConnect(ClusterConnectionManager.java:91)\r\nat org.redisson.connection.MasterSlaveConnectionManager.connect(MasterSlaveConnectionManager.java:192)\r\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:220)\r\nat org.redisson.Redisson.&lt;init&gt;(Redisson.java:69)\r\nat org.redisson.Redisson.create(Redisson.java:114)\r\nat com.amazon.otf.etl.MyAsyncMap.open(MyAsyncMap.java:40)\r\nat org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:34)\r\nat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:100)\r\nat org.apache.flink.streaming.api.operators.async.AsyncWaitOperator.open(AsyncWaitOperator.java:163)\r\nat org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.initializeStateAndOpenOperators(RegularOperatorChain.java:107)\r\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:700)\r\nat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.call(StreamTaskActionExecutor.java:55)\r\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:676)\r\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:643)\r\nat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:953)\r\nat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:922)\r\nat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:746)\r\nat org.apache.flink.runtime.taskmanager.Task.run(Task.java:568)\r\nat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: io.netty.channel.ChannelException: Unable to create Channel from class class io.netty.channel.socket.nio.NioDatagramChannel\r\nat io.netty.channel.ReflectiveChannelFactory.newChannel(ReflectiveChannelFactory.java:46)\r\nat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:310)\r\nat io.netty.bootstrap.AbstractBootstrap.register(AbstractBootstrap.java:227)\r\nat io.netty.resolver.dns.DnsNameResolver.&lt;init&gt;(DnsNameResolver.java:517)\r\nat io.netty.resolver.dns.DnsNameResolverBuilder.build(DnsNameResolverBuilder.java:527)\r\nat io.netty.resolver.dns.DnsAddressResolverGroup.newNameResolver(DnsAddressResolverGroup.java:114)\r\nat io.netty.resolver.dns.DnsAddressResolverGroup.newResolver(DnsAddressResolverGroup.java:92)\r\nat io.netty.resolver.dns.DnsAddressResolverGroup.newResolver(DnsAddressResolverGroup.java:77)\r\nat io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:70)\r\n... 23 more\r\nCaused by: java.lang.reflect.InvocationTargetException\r\nat jdk.internal.reflect.GeneratedConstructorAccessor247.newInstance(Unknown Source)\r\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\nat io.netty.channel.ReflectiveChannelFactory.newChannel(ReflectiveChannelFactory.java:44)\r\n... 31 more\r\nCaused by: io.netty.channel.ChannelException: Failed to open a socket.\r\nat io.netty.channel.socket.nio.NioDatagramChannel.newSocket(NioDatagramChannel.java:91)\r\nat io.netty.channel.socket.nio.NioDatagramChannel.&lt;init&gt;(NioDatagramChannel.java:120)\r\n... 35 more\r\nCaused by: java.net.SocketException: maximum number of DatagramSockets reached\r\nat java.base/sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:72)\r\nat java.base/sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:132)\r\nat java.base/sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\r\nat io.netty.channel.socket.nio.NioDatagramChannel.newSocket(NioDatagramChannel.java:89)\r\n... 36 more\r\n```\r\n\r\n\r\n  [1]: https://aws.amazon.com/managed-service-apache-flink/","title":"Implement Flink Async I/O with Redisson Redis client has caused an error &quot;maximum number of DatagramSockets reached&quot;","body":"<p>I have my Flink app deployed to <a href=\"https://aws.amazon.com/managed-service-apache-flink/\" rel=\"nofollow noreferrer\">AWS Managed Flink</a>, while trying to implement async I/O with Redisson (Redis client) to connect to AWS MemoryDB (a Redis Cluster), I got an error (see below). It isn't clear to me how Redisson is creating new sockets and how AWS Managed Flink is configuring the maximum number of sockets. Can someone shed some light on how to resolve this issue? Thanks.</p>\n<pre><code>java.lang.IllegalStateException: failed to create a new resolver\nat io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:72)\nat org.redisson.client.RedisClient.resolveAddr(RedisClient.java:203)\nat org.redisson.client.RedisClient.connectAsync(RedisClient.java:220)\nat org.redisson.connection.MasterSlaveConnectionManager.connectToNode(MasterSlaveConnectionManager.java:125)\nat org.redisson.connection.MasterSlaveConnectionManager.connectToNode(MasterSlaveConnectionManager.java:111)\nat org.redisson.cluster.ClusterConnectionManager.doConnect(ClusterConnectionManager.java:91)\nat org.redisson.connection.MasterSlaveConnectionManager.connect(MasterSlaveConnectionManager.java:192)\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:220)\nat org.redisson.Redisson.&lt;init&gt;(Redisson.java:69)\nat org.redisson.Redisson.create(Redisson.java:114)\nat com.amazon.otf.etl.MyAsyncMap.open(MyAsyncMap.java:40)\nat org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:34)\nat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:100)\nat org.apache.flink.streaming.api.operators.async.AsyncWaitOperator.open(AsyncWaitOperator.java:163)\nat org.apache.flink.streaming.runtime.tasks.RegularOperatorChain.initializeStateAndOpenOperators(RegularOperatorChain.java:107)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreGates(StreamTask.java:700)\nat org.apache.flink.streaming.runtime.tasks.StreamTaskActionExecutor$1.call(StreamTaskActionExecutor.java:55)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restoreInternal(StreamTask.java:676)\nat org.apache.flink.streaming.runtime.tasks.StreamTask.restore(StreamTask.java:643)\nat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:953)\nat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:922)\nat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:746)\nat org.apache.flink.runtime.taskmanager.Task.run(Task.java:568)\nat java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: io.netty.channel.ChannelException: Unable to create Channel from class class io.netty.channel.socket.nio.NioDatagramChannel\nat io.netty.channel.ReflectiveChannelFactory.newChannel(ReflectiveChannelFactory.java:46)\nat io.netty.bootstrap.AbstractBootstrap.initAndRegister(AbstractBootstrap.java:310)\nat io.netty.bootstrap.AbstractBootstrap.register(AbstractBootstrap.java:227)\nat io.netty.resolver.dns.DnsNameResolver.&lt;init&gt;(DnsNameResolver.java:517)\nat io.netty.resolver.dns.DnsNameResolverBuilder.build(DnsNameResolverBuilder.java:527)\nat io.netty.resolver.dns.DnsAddressResolverGroup.newNameResolver(DnsAddressResolverGroup.java:114)\nat io.netty.resolver.dns.DnsAddressResolverGroup.newResolver(DnsAddressResolverGroup.java:92)\nat io.netty.resolver.dns.DnsAddressResolverGroup.newResolver(DnsAddressResolverGroup.java:77)\nat io.netty.resolver.AddressResolverGroup.getResolver(AddressResolverGroup.java:70)\n... 23 more\nCaused by: java.lang.reflect.InvocationTargetException\nat jdk.internal.reflect.GeneratedConstructorAccessor247.newInstance(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\nat io.netty.channel.ReflectiveChannelFactory.newChannel(ReflectiveChannelFactory.java:44)\n... 31 more\nCaused by: io.netty.channel.ChannelException: Failed to open a socket.\nat io.netty.channel.socket.nio.NioDatagramChannel.newSocket(NioDatagramChannel.java:91)\nat io.netty.channel.socket.nio.NioDatagramChannel.&lt;init&gt;(NioDatagramChannel.java:120)\n... 35 more\nCaused by: java.net.SocketException: maximum number of DatagramSockets reached\nat java.base/sun.net.ResourceManager.beforeUdpCreate(ResourceManager.java:72)\nat java.base/sun.nio.ch.DatagramChannelImpl.&lt;init&gt;(DatagramChannelImpl.java:132)\nat java.base/sun.nio.ch.SelectorProviderImpl.openDatagramChannel(SelectorProviderImpl.java:42)\nat io.netty.channel.socket.nio.NioDatagramChannel.newSocket(NioDatagramChannel.java:89)\n... 36 more\n</code></pre>\n"},{"tags":["java","maven","java-web-start","jnlp","maven-webstart-plugin"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698274019,"creation_date":1698274019,"answer_id":77363256,"question_id":77363223,"body_markdown":"This case appears if the circular dependency is taking place! \r\n\r\n    &lt;jarResources&gt;\r\n                    &lt;jarResource&gt;\r\n                      &lt;groupId&gt;com.our&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;our.gui-client&lt;/artifactId&gt;\r\n                      &lt;version&gt;${project.version}&lt;/version&gt;\r\n                      &lt;mainClass&gt;com.our.control.guiclient.MainApp&lt;/mainClass&gt;\r\n                    &lt;/jarResource&gt;\r\n                  &lt;/jarResources&gt;\r\n\r\nthis jar was reffering another pom, that was reffering the current pom of the interes. So, technically it works like a circular jar, but unfortunately the error message isn&#39;t comprehensive\r\n","title":"What could be a reason for org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failure?","body":"<p>This case appears if the circular dependency is taking place!</p>\n<pre><code>&lt;jarResources&gt;\n                &lt;jarResource&gt;\n                  &lt;groupId&gt;com.our&lt;/groupId&gt;\n                  &lt;artifactId&gt;our.gui-client&lt;/artifactId&gt;\n                  &lt;version&gt;${project.version}&lt;/version&gt;\n                  &lt;mainClass&gt;com.our.control.guiclient.MainApp&lt;/mainClass&gt;\n                &lt;/jarResource&gt;\n              &lt;/jarResources&gt;\n</code></pre>\n<p>this jar was reffering another pom, that was reffering the current pom of the interes. So, technically it works like a circular jar, but unfortunately the error message isn't comprehensive</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363256,"answer_count":1,"score":0,"last_activity_date":1698274019,"creation_date":1698273264,"question_id":77363223,"body_markdown":"Our pom.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;com.our&lt;/groupId&gt;\r\n        &lt;artifactId&gt;our.control&lt;/artifactId&gt;\r\n        &lt;version&gt;1.20.2.7&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;artifactId&gt;our.gui-client.webstart&lt;/artifactId&gt;\r\n      &lt;name&gt;our.gui-client.webstart&lt;/name&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;webResources&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;webstatic&lt;/directory&gt;\r\n                  &lt;filtering&gt;true&lt;/filtering&gt;\r\n                  &lt;includes&gt;\r\n                    &lt;include&gt;**/*.html&lt;/include&gt;\r\n                  &lt;/includes&gt;\r\n                &lt;/resource&gt;\r\n                &lt;resource&gt;\r\n                  &lt;directory&gt;webstatic&lt;/directory&gt;\r\n                  &lt;filtering&gt;false&lt;/filtering&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.html&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n              &lt;/webResources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webstart-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-beta-7&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jnlp-download-servlet&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectoryName&gt;webstart&lt;/outputDirectoryName&gt;\r\n              &lt;outputJarVersions&gt;false&lt;/outputJarVersions&gt;\r\n              &lt;jnlpFiles&gt;\r\n                &lt;jnlpFile&gt;\r\n                  &lt;templateFilename&gt;template.vm&lt;/templateFilename&gt;\r\n                  &lt;outputFilename&gt;our.jnlp&lt;/outputFilename&gt;\r\n                  &lt;jarResources&gt;\r\n                    &lt;jarResource&gt;\r\n                      &lt;groupId&gt;com.our&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;our.gui-client&lt;/artifactId&gt;\r\n                      &lt;version&gt;${project.version}&lt;/version&gt;\r\n                      &lt;mainClass&gt;com.our.control.guiclient.MainApp&lt;/mainClass&gt;\r\n                    &lt;/jarResource&gt;\r\n                  &lt;/jarResources&gt;\r\n                &lt;/jnlpFile&gt;\r\n              &lt;/jnlpFiles&gt;\r\n              &lt;sign&gt;\r\n                &lt;keystore&gt;${project.build.directory}/keyStore&lt;/keystore&gt;\r\n                &lt;keypass&gt;our&lt;/keypass&gt;\r\n                &lt;storepass&gt;our&lt;/storepass&gt;\r\n                &lt;alias&gt;webstart&lt;/alias&gt;\r\n    \r\n                &lt;storetype&gt;jks&lt;/storetype&gt;\r\n                &lt;validity&gt;3650&lt;/validity&gt;\r\n                &lt;dnameCn&gt;our.com&lt;/dnameCn&gt;\r\n                &lt;dnameOu&gt;None&lt;/dnameOu&gt;\r\n                &lt;dnameO&gt;SIA&lt;/dnameO&gt;\r\n                &lt;dnameL&gt;L&lt;/dnameL&gt;\r\n                &lt;dnameSt&gt;St&lt;/dnameSt&gt;\r\n                &lt;dnameC&gt;C&lt;/dnameC&gt;\r\n    \r\n                &lt;keystoreConfig&gt;\r\n                  &lt;delete&gt;true&lt;/delete&gt;\r\n                  &lt;gen&gt;true&lt;/gen&gt;\r\n                &lt;/keystoreConfig&gt;\r\n    \r\n                &lt;verify&gt;true&lt;/verify&gt;\r\n              &lt;/sign&gt;\r\n              &lt;updateManifestEntries&gt;\r\n                &lt;Trusted-Library&gt;true&lt;/Trusted-Library&gt;\r\n                &lt;Permissions&gt;all-permissions&lt;/Permissions&gt;\r\n                &lt;Codebase&gt;*&lt;/Codebase&gt;\r\n              &lt;/updateManifestEntries&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand the stacktrace is\r\n\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet (default) on project our.control.gui-client.webstart: Execution default of goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failed.\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failed.\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:133)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NullPointerException\r\n        at org.codehaus.mojo.webstart.util.DefaultArtifactUtil.artifactContainsClass (DefaultArtifactUtil.java:211)\r\n        at org.codehaus.mojo.webstart.JnlpDownloadServletMojo.resolveJarResources (JnlpDownloadServletMojo.java:490)\r\n        at org.codehaus.mojo.webstart.JnlpDownloadServletMojo.execute (JnlpDownloadServletMojo.java:180)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR] \r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n    [ERROR] \r\n    [ERROR] After correcting the problems, you can resume the build with the command\r\n    [ERROR]   mvn &lt;args&gt; -rf :our.control.gui-client.webstart\r\n    [DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, file-static, gav, static]\r\n","title":"What could be a reason for org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failure?","body":"<p>Our pom.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.our&lt;/groupId&gt;\n    &lt;artifactId&gt;our.control&lt;/artifactId&gt;\n    &lt;version&gt;1.20.2.7&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;our.gui-client.webstart&lt;/artifactId&gt;\n  &lt;name&gt;our.gui-client.webstart&lt;/name&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;2.5&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;webResources&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;webstatic&lt;/directory&gt;\n              &lt;filtering&gt;true&lt;/filtering&gt;\n              &lt;includes&gt;\n                &lt;include&gt;**/*.html&lt;/include&gt;\n              &lt;/includes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n              &lt;directory&gt;webstatic&lt;/directory&gt;\n              &lt;filtering&gt;false&lt;/filtering&gt;\n              &lt;excludes&gt;\n                &lt;exclude&gt;**/*.html&lt;/exclude&gt;\n              &lt;/excludes&gt;\n            &lt;/resource&gt;\n          &lt;/webResources&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;webstart-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0-beta-7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jnlp-download-servlet&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;outputDirectoryName&gt;webstart&lt;/outputDirectoryName&gt;\n          &lt;outputJarVersions&gt;false&lt;/outputJarVersions&gt;\n          &lt;jnlpFiles&gt;\n            &lt;jnlpFile&gt;\n              &lt;templateFilename&gt;template.vm&lt;/templateFilename&gt;\n              &lt;outputFilename&gt;our.jnlp&lt;/outputFilename&gt;\n              &lt;jarResources&gt;\n                &lt;jarResource&gt;\n                  &lt;groupId&gt;com.our&lt;/groupId&gt;\n                  &lt;artifactId&gt;our.gui-client&lt;/artifactId&gt;\n                  &lt;version&gt;${project.version}&lt;/version&gt;\n                  &lt;mainClass&gt;com.our.control.guiclient.MainApp&lt;/mainClass&gt;\n                &lt;/jarResource&gt;\n              &lt;/jarResources&gt;\n            &lt;/jnlpFile&gt;\n          &lt;/jnlpFiles&gt;\n          &lt;sign&gt;\n            &lt;keystore&gt;${project.build.directory}/keyStore&lt;/keystore&gt;\n            &lt;keypass&gt;our&lt;/keypass&gt;\n            &lt;storepass&gt;our&lt;/storepass&gt;\n            &lt;alias&gt;webstart&lt;/alias&gt;\n\n            &lt;storetype&gt;jks&lt;/storetype&gt;\n            &lt;validity&gt;3650&lt;/validity&gt;\n            &lt;dnameCn&gt;our.com&lt;/dnameCn&gt;\n            &lt;dnameOu&gt;None&lt;/dnameOu&gt;\n            &lt;dnameO&gt;SIA&lt;/dnameO&gt;\n            &lt;dnameL&gt;L&lt;/dnameL&gt;\n            &lt;dnameSt&gt;St&lt;/dnameSt&gt;\n            &lt;dnameC&gt;C&lt;/dnameC&gt;\n\n            &lt;keystoreConfig&gt;\n              &lt;delete&gt;true&lt;/delete&gt;\n              &lt;gen&gt;true&lt;/gen&gt;\n            &lt;/keystoreConfig&gt;\n\n            &lt;verify&gt;true&lt;/verify&gt;\n          &lt;/sign&gt;\n          &lt;updateManifestEntries&gt;\n            &lt;Trusted-Library&gt;true&lt;/Trusted-Library&gt;\n            &lt;Permissions&gt;all-permissions&lt;/Permissions&gt;\n            &lt;Codebase&gt;*&lt;/Codebase&gt;\n          &lt;/updateManifestEntries&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and the stacktrace is</p>\n<pre><code>org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet (default) on project our.control.gui-client.webstart: Execution default of goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failed.\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:347)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default of goal org.codehaus.mojo:webstart-maven-plugin:1.0-beta-7:jnlp-download-servlet failed.\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:133)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at org.codehaus.mojo.webstart.util.DefaultArtifactUtil.artifactContainsClass (DefaultArtifactUtil.java:211)\n    at org.codehaus.mojo.webstart.JnlpDownloadServletMojo.resolveJarResources (JnlpDownloadServletMojo.java:490)\n    at org.codehaus.mojo.webstart.JnlpDownloadServletMojo.execute (JnlpDownloadServletMojo.java:180)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :our.control.gui-client.webstart\n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, file-static, gav, static]\n</code></pre>\n"},{"tags":["java","prometheus","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698273718,"creation_date":1698273718,"answer_id":77363242,"question_id":77353605,"body_markdown":"&gt;I would like to use the new Micrometer Observation API with a non Spring app: is it possible ?\r\n\r\nAbsolutely, Micrometer does not have any Spring dependencies, you can use it with any frameworks or without a framework (fyi: Micronaut already supports the Observation API and Quarkus is working on it).\r\n\r\n&gt;I am trying to find a way to get the instance of the ObservationRegistry object used in a specific class from another class\r\n\r\nYou can inject the `ObservationRegistry` to your components through a constructor or setters.\r\n\r\n\r\n&gt;a servlet basically to expose an endpoint and scrape\r\n\r\nI&#39;m not sure why you need an `ObservationRegistry` there, you can inject the same `PrometheusMeterRegistry` instance to this servlet what you registered into your `DefaultMeterObservationHandler`.\r\n\r\n&gt;Can I use the same kind of logic to get Observation metrics? Is there an Observation global registry?\r\n\r\nI&#39;m not sure what you mean by &quot;Observation metrics&quot;. There is no global Observation registry and we are not planning to add one right now. If you want one (I would strongly advise against it), you can create a `public static final` singleton instance and use that everywhere.","title":"Use Micrometer Observation API with a non Spring app","body":"<blockquote>\n<p>I would like to use the new Micrometer Observation API with a non Spring app: is it possible ?</p>\n</blockquote>\n<p>Absolutely, Micrometer does not have any Spring dependencies, you can use it with any frameworks or without a framework (fyi: Micronaut already supports the Observation API and Quarkus is working on it).</p>\n<blockquote>\n<p>I am trying to find a way to get the instance of the ObservationRegistry object used in a specific class from another class</p>\n</blockquote>\n<p>You can inject the <code>ObservationRegistry</code> to your components through a constructor or setters.</p>\n<blockquote>\n<p>a servlet basically to expose an endpoint and scrape</p>\n</blockquote>\n<p>I'm not sure why you need an <code>ObservationRegistry</code> there, you can inject the same <code>PrometheusMeterRegistry</code> instance to this servlet what you registered into your <code>DefaultMeterObservationHandler</code>.</p>\n<blockquote>\n<p>Can I use the same kind of logic to get Observation metrics? Is there an Observation global registry?</p>\n</blockquote>\n<p>I'm not sure what you mean by &quot;Observation metrics&quot;. There is no global Observation registry and we are not planning to add one right now. If you want one (I would strongly advise against it), you can create a <code>public static final</code> singleton instance and use that everywhere.</p>\n"}],"owner":{"account_id":2308237,"reputation":35,"user_id":2027021,"display_name":"pims42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363242,"answer_count":1,"score":0,"last_activity_date":1698273718,"creation_date":1698162583,"question_id":77353605,"body_markdown":"I would like to use the new Micrometer Observation API with a non Spring app: is it possible ?\r\n\r\nI am trying to find a way to get the instance of the ObservationRegistry object used in a specific class from another class (a servlet basically to expose an endpoint and scrape).\r\n\r\nWith PrometheusMeterRegistry, I used to do:\r\n\r\n        public class AppMonitoringServlet\r\n        extends HttpServlet\r\n    {\r\n        private final PrometheusMeterRegistry registry = new PrometheusMeterRegistry( PrometheusConfig.DEFAULT );\r\n        \r\n        @Override\r\n        public void init( ServletConfig config )\r\n        {\r\n            // Some stuff here...\r\n    \r\n            Metrics.addRegistry( registry ); // Add my custom registry to the global registry\r\n        }\r\n    \r\n        @Override\r\n        protected void doGet( final HttpServletRequest req, final HttpServletResponse resp )\r\n            throws ServletException, IOException\r\n        {\r\n            resp.setStatus( HttpServletResponse.SC_OK );\r\n            String contentType = TextFormat.chooseContentType( req.getHeader( &quot;Accept&quot; ) );\r\n            resp.setContentType( contentType );\r\n    \r\n            try (Writer writer = new BufferedWriter( resp.getWriter() ))\r\n            {\r\n                writer.write( registry.scrape( contentType ) ); // Scrape the metrics\r\n                writer.flush();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCan I use the same kind of logic to get Observation metrics? Is there an Observation global registry?\r\n ","title":"Use Micrometer Observation API with a non Spring app","body":"<p>I would like to use the new Micrometer Observation API with a non Spring app: is it possible ?</p>\n<p>I am trying to find a way to get the instance of the ObservationRegistry object used in a specific class from another class (a servlet basically to expose an endpoint and scrape).</p>\n<p>With PrometheusMeterRegistry, I used to do:</p>\n<pre><code>    public class AppMonitoringServlet\n    extends HttpServlet\n{\n    private final PrometheusMeterRegistry registry = new PrometheusMeterRegistry( PrometheusConfig.DEFAULT );\n    \n    @Override\n    public void init( ServletConfig config )\n    {\n        // Some stuff here...\n\n        Metrics.addRegistry( registry ); // Add my custom registry to the global registry\n    }\n\n    @Override\n    protected void doGet( final HttpServletRequest req, final HttpServletResponse resp )\n        throws ServletException, IOException\n    {\n        resp.setStatus( HttpServletResponse.SC_OK );\n        String contentType = TextFormat.chooseContentType( req.getHeader( &quot;Accept&quot; ) );\n        resp.setContentType( contentType );\n\n        try (Writer writer = new BufferedWriter( resp.getWriter() ))\n        {\n            writer.write( registry.scrape( contentType ) ); // Scrape the metrics\n            writer.flush();\n        }\n    }\n}\n</code></pre>\n<p>Can I use the same kind of logic to get Observation metrics? Is there an Observation global registry?</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-gateway","rate-limiting"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1638226205,"post_id":70151043,"comment_id":124027707,"body_markdown":"Let&#39;s correct terms what you used:  RequestRateLimiter, isAllowed, RequestRateLimiterFactory, etc.","body":"Let&#39;s correct terms what you used:  RequestRateLimiter, isAllowed, RequestRateLimiterFactory, etc."},{"owner":{"account_id":20764094,"reputation":11,"user_id":15248547,"display_name":"Javier Brenes"},"score":0,"creation_date":1638256339,"post_id":70151043,"comment_id":124033332,"body_markdown":"If you meant to edit and correct the question I edited it trying to correct all terms, if you have any more suggestions about the post I will gladly edit it again, if you have a possible solution I will be even more grateful.","body":"If you meant to edit and correct the question I edited it trying to correct all terms, if you have any more suggestions about the post I will gladly edit it again, if you have a possible solution I will be even more grateful."}],"owner":{"account_id":20764094,"reputation":11,"user_id":15248547,"display_name":"Javier Brenes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698272632,"creation_date":1638171057,"question_id":70151043,"body_markdown":"I have implemented a global prefilter and a global postfilter to log the request events. I also have used a RequestRateLimiterFactory filter with RedisRateLimiter to avoid requests peaks that might overwhelm the service.\r\n\r\nI want to use my pre and post filter to log two events.\r\n\r\n 1. A request from apiKey X has been noticed\r\n 2. The request has been either accepted or rejected by the rate limiter.\r\n\r\nWhen the rate limiter accepts a request and forwards it, there is no problem, the pre and post filter execute and I can get to log the data I need.\r\nThe problem is that when the rate limiter blocks a request, neither the pre nor the postfilter are being executed so I cannot log or retrieve this event for metrics.\r\n\r\nEven though spring cloud gateway works through a chain of filters I think that the problem above described may be caused by the isAllowed method from the RequestRateLimiterFactory class. This method sets completed the request when it is rejected instead of passing the exchange to the next filters. But I have been reasearching, and I did nothing useful to solve this problem.\r\n\r\n    return limiter.isAllowed(routeId, key).flatMap(response -&gt; {\r\n\r\n\t\t\t\tfor (Map.Entry&lt;String, String&gt; header : response.getHeaders().entrySet()) {\r\n\t\t\t\t\texchange.getResponse().getHeaders().add(header.getKey(), header.getValue());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (response.isAllowed()) {\r\n\t\t\t\t\treturn chain.filter(exchange);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetResponseStatus(exchange, config.getStatusCode());\r\n\t\t\t\treturn exchange.getResponse().setComplete();\r\n\t\t\t});","title":"Spring Cloud Gateway GlobalFilters are not executing when RedisRateLimiter blocks a request","body":"<p>I have implemented a global prefilter and a global postfilter to log the request events. I also have used a RequestRateLimiterFactory filter with RedisRateLimiter to avoid requests peaks that might overwhelm the service.</p>\n<p>I want to use my pre and post filter to log two events.</p>\n<ol>\n<li>A request from apiKey X has been noticed</li>\n<li>The request has been either accepted or rejected by the rate limiter.</li>\n</ol>\n<p>When the rate limiter accepts a request and forwards it, there is no problem, the pre and post filter execute and I can get to log the data I need.\nThe problem is that when the rate limiter blocks a request, neither the pre nor the postfilter are being executed so I cannot log or retrieve this event for metrics.</p>\n<p>Even though spring cloud gateway works through a chain of filters I think that the problem above described may be caused by the isAllowed method from the RequestRateLimiterFactory class. This method sets completed the request when it is rejected instead of passing the exchange to the next filters. But I have been reasearching, and I did nothing useful to solve this problem.</p>\n<pre><code>return limiter.isAllowed(routeId, key).flatMap(response -&gt; {\n\n            for (Map.Entry&lt;String, String&gt; header : response.getHeaders().entrySet()) {\n                exchange.getResponse().getHeaders().add(header.getKey(), header.getValue());\n            }\n\n            if (response.isAllowed()) {\n                return chain.filter(exchange);\n            }\n\n            setResponseStatus(exchange, config.getStatusCode());\n            return exchange.getResponse().setComplete();\n        });\n</code></pre>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":5124441,"reputation":132,"user_id":4107039,"display_name":"Michael Babich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678637003,"creation_date":1678611011,"answer_id":75711988,"question_id":75702828,"body_markdown":"I see you have `WebDriverManager` dependency, but not using it in code, you can try something like:\r\n\r\n`WebDriverManager.chromedriver().capabilities(&lt;chrome-options-here&gt;).create()`,\r\n\r\nAlso, if you do place chromedriver.exe manually, you should set system property `webdriver.chrome.driver` **before** instantiating ChromeDriver()\r\n\r\nIn both of these cases the error should differ from the above though","title":"I&#39;m on a debugger mode and I can&#39;t fix org.openqa.selenium.remote.http.WebSocket$Listener onError and WARNING: Invalid Status code=403 text=Forbidden","body":"<p>I see you have <code>WebDriverManager</code> dependency, but not using it in code, you can try something like:</p>\n<p><code>WebDriverManager.chromedriver().capabilities(&lt;chrome-options-here&gt;).create()</code>,</p>\n<p>Also, if you do place chromedriver.exe manually, you should set system property <code>webdriver.chrome.driver</code> <strong>before</strong> instantiating ChromeDriver()</p>\n<p>In both of these cases the error should differ from the above though</p>\n"},{"comments":[{"owner":{"account_id":28815936,"reputation":1,"user_id":22069559,"display_name":"Saisree Bussa"},"score":0,"creation_date":1698443378,"post_id":77363185,"comment_id":136411191,"body_markdown":"This argument allows web pages to make cross-origin requests to a WebDriver server. By specifying *, it effectively allows requests from any origin. This is useful in scenarios where your web application needs to interact with a WebDriver server from different origins or domains. Without this option, the same-origin policy enforced by web browsers might block such requests.","body":"This argument allows web pages to make cross-origin requests to a WebDriver server. By specifying *, it effectively allows requests from any origin. This is useful in scenarios where your web application needs to interact with a WebDriver server from different origins or domains. Without this option, the same-origin policy enforced by web browsers might block such requests."}],"tags":[],"owner":{"account_id":28815936,"reputation":1,"user_id":22069559,"display_name":"Saisree Bussa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698272571,"creation_date":1698272554,"answer_id":77363185,"question_id":75702828,"body_markdown":"This worked for me after I have installed new version : Version: 118.0.5993.70 (r1192594) chrome driver from link : https://googlechromelabs.github.io/chrome-for-testing/\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path...\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \t\t\r\n    \t\tdriver = new ChromeDriver(options);","title":"I&#39;m on a debugger mode and I can&#39;t fix org.openqa.selenium.remote.http.WebSocket$Listener onError and WARNING: Invalid Status code=403 text=Forbidden","body":"<p>This worked for me after I have installed new version : Version: 118.0.5993.70 (r1192594) chrome driver from link : <a href=\"https://googlechromelabs.github.io/chrome-for-testing/\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/chrome-for-testing/</a></p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path...\\\\chromedriver.exe&quot;);\n\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        \n        driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":27988209,"reputation":11,"user_id":21374598,"display_name":"AnnaBanana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698272571,"creation_date":1678509973,"question_id":75702828,"body_markdown":"It&#39;s my first post here. I know everyone&#39;s been getting this error eversince the Google Chrome update. I&#39;m a beginner in programming and here are my dependenceis\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.rcv&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SeleniumTraining&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd here are the initial code lines: \r\n\r\n```public class DemoAutomation {\r\n\r\n\tString report = &quot;Report of Anna&#39;s DemoAutomation:&quot;;\r\n\r\n\tstatic DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd HH:mm&quot;);\r\n\tString now = formatter.format(ZonedDateTime.now());\r\n\tstatic ChromeOptions options;\r\n\tstatic WebDriver driver;\r\n\r\n\tstatic String variablesHere = &quot;variablesHere&quot;;\r\n\r\n\tpublic void setUp() {\r\n\t\t\r\n\t\toptions = new ChromeOptions().setExperimentalOption(&quot;debuggerAddress&quot;, &quot;localhost:9014&quot;);\r\n\t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\tdriver = new ChromeDriver(options);\r\n\r\n\t\treport(report);\r\n\t\treport(&quot;Time started: &quot; + now + &quot;\\n&quot;);\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t\t&quot;C:\\\\Users\\\\Anna\\\\Downloads\\\\chromedriver_win32 (1)\\\\chromedriver.exe&quot;);\r\n\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(&quot;https://google.com&quot;);\r\n```\r\n\r\n\r\n\r\nSo I&#39;ve tried to use the other solutions I found on the internet such as adding options.addArguments(&quot;--remote-allow-origins=*&quot;) and also did try to add the dependency \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n  &lt;version&gt;4.5.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\nand set the system property to \r\n```\r\n System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n```\r\n\r\n\r\n\r\nBut both solutions didn&#39;t work and I am still getting the errors. What a nightmare. Please help. ","title":"I&#39;m on a debugger mode and I can&#39;t fix org.openqa.selenium.remote.http.WebSocket$Listener onError and WARNING: Invalid Status code=403 text=Forbidden","body":"<p>It's my first post here. I know everyone's been getting this error eversince the Google Chrome update. I'm a beginner in programming and here are my dependenceis</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.rcv&lt;/groupId&gt;\n    &lt;artifactId&gt;SeleniumTraining&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.github.bonigarcia/webdrivermanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And here are the initial code lines:</p>\n<pre><code>\n    String report = &quot;Report of Anna's DemoAutomation:&quot;;\n\n    static DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MM-dd HH:mm&quot;);\n    String now = formatter.format(ZonedDateTime.now());\n    static ChromeOptions options;\n    static WebDriver driver;\n\n    static String variablesHere = &quot;variablesHere&quot;;\n\n    public void setUp() {\n        \n        options = new ChromeOptions().setExperimentalOption(&quot;debuggerAddress&quot;, &quot;localhost:9014&quot;);\n        options.addArguments(&quot;--disable-notifications&quot;);\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        driver = new ChromeDriver(options);\n\n        report(report);\n        report(&quot;Time started: &quot; + now + &quot;\\n&quot;);\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n                &quot;C:\\\\Users\\\\Anna\\\\Downloads\\\\chromedriver_win32 (1)\\\\chromedriver.exe&quot;);\n\n        driver.manage().window().maximize();\n        driver.get(&quot;https://google.com&quot;);\n</code></pre>\n<p>So I've tried to use the other solutions I found on the internet such as adding options.addArguments(&quot;--remote-allow-origins=*&quot;) and also did try to add the dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n  &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and set the system property to</p>\n<pre><code> System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n</code></pre>\n<p>But both solutions didn't work and I am still getting the errors. What a nightmare. Please help.</p>\n"},{"tags":["java","android-studio","csv","raw"],"owner":{"account_id":21555450,"reputation":35,"user_id":15890780,"display_name":"Joey "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698271714,"creation_date":1698271439,"question_id":77363117,"body_markdown":"I am having an issue with dynamically created RadioButtons within Android Studio. \r\nI have it currently generating a list of 3 buttons, then when the user selects which one they want, it will run my method to load the correct info. For some reason, when I run this, the top object always returns with a Identifier of 0 while having the correct name. I have tried swapping the order of the list and it is always the first entry.\r\n\r\n    `public void loadSelectedTarget(View view)\r\n    {\r\n        try {\r\n            int selectionID = LoadSelectLayout.getCheckedRadioButtonId();\r\n            RadioButton selectedButton = findViewById(selectionID);\r\n            loadWarband = new warbandDataType();\r\n            loadWarband.set(this);\r\n            String tempString = (String) selectedButton.getText();\r\n            String resourceIdentifier = wbNamePreamble + tempString;\r\n            int resourceId = getResources().getIdentifier(resourceIdentifier, &quot;raw&quot;, this.getPackageName());\r\n            if (resourceId == 0) {\r\n                Toast.makeText(this, &quot;Error loading File: &quot; + resourceId + &quot; &quot; + resourceIdentifier, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                List&lt;List&lt;String&gt;&gt; loadDataVar = MainActivity.loadData(resourceId, this);\r\n                load.populateData(loadDataVar);\r\n                MainActivity.LOADED = load;\r\n                finish();\r\n            }\r\n        }\r\n        catch (NullPointerException j)\r\n        {\r\n            Toast.makeText(this, &quot;Please Select an Option&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            Toast.makeText(this, &quot;Error: &quot; +  e, Toast.LENGTH_SHORT).show();\r\n            System.out.println(e);\r\n        }\r\n    }`\r\n\r\nresourceId is always set to 0 even though the resourceIdentifier is correct.\r\n\r\nfor it to generate the correct resourceId to grab the csv file.","title":"getResources().getIdentifier returns 0 on first instant","body":"<p>I am having an issue with dynamically created RadioButtons within Android Studio.\nI have it currently generating a list of 3 buttons, then when the user selects which one they want, it will run my method to load the correct info. For some reason, when I run this, the top object always returns with a Identifier of 0 while having the correct name. I have tried swapping the order of the list and it is always the first entry.</p>\n<pre><code>`public void loadSelectedTarget(View view)\n{\n    try {\n        int selectionID = LoadSelectLayout.getCheckedRadioButtonId();\n        RadioButton selectedButton = findViewById(selectionID);\n        loadWarband = new warbandDataType();\n        loadWarband.set(this);\n        String tempString = (String) selectedButton.getText();\n        String resourceIdentifier = wbNamePreamble + tempString;\n        int resourceId = getResources().getIdentifier(resourceIdentifier, &quot;raw&quot;, this.getPackageName());\n        if (resourceId == 0) {\n            Toast.makeText(this, &quot;Error loading File: &quot; + resourceId + &quot; &quot; + resourceIdentifier, Toast.LENGTH_SHORT).show();\n        } else {\n            List&lt;List&lt;String&gt;&gt; loadDataVar = MainActivity.loadData(resourceId, this);\n            load.populateData(loadDataVar);\n            MainActivity.LOADED = load;\n            finish();\n        }\n    }\n    catch (NullPointerException j)\n    {\n        Toast.makeText(this, &quot;Please Select an Option&quot;, Toast.LENGTH_SHORT).show();\n    }\n    catch (Exception e)\n    {\n        Toast.makeText(this, &quot;Error: &quot; +  e, Toast.LENGTH_SHORT).show();\n        System.out.println(e);\n    }\n}`\n</code></pre>\n<p>resourceId is always set to 0 even though the resourceIdentifier is correct.</p>\n<p>for it to generate the correct resourceId to grab the csv file.</p>\n"},{"tags":["java","dependency-injection","guice"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695800013,"post_id":77185366,"comment_id":136070981,"body_markdown":"the code you posted won&#39;t even compile (for several reasons). Also, I fail to see what it has to do with a singleton?","body":"the code you posted won&#39;t even compile (for several reasons). Also, I fail to see what it has to do with a singleton?"},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695800438,"post_id":77185366,"comment_id":136071066,"body_markdown":"Yes, the code was copied/pasted so I generally missed some lines (and potentially made some mistakes). As for singletons, that class used to be singleton, but now Guice module manages Singleton instance","body":"Yes, the code was copied/pasted so I generally missed some lines (and potentially made some mistakes). As for singletons, that class used to be singleton, but now Guice module manages Singleton instance"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695800640,"post_id":77185366,"comment_id":136071114,"body_markdown":"as long as it&#39;s not annotated with @Singleton, Guice won&#39;t treat it as one, afaik. Either way, being a singleton doesn&#39;t mean it can&#39;t have a public setter","body":"as long as it&#39;s not annotated with @Singleton, Guice won&#39;t treat it as one, afaik. Either way, being a singleton doesn&#39;t mean it can&#39;t have a public setter"},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695800686,"post_id":77185366,"comment_id":136071122,"body_markdown":"Yes, I did not copy/paste the annotation of the class, sorry about that. It should be ok now?","body":"Yes, I did not copy/paste the annotation of the class, sorry about that. It should be ok now?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695804036,"post_id":77185366,"comment_id":136071732,"body_markdown":"How is the rotation done? Can the class that does the rotation get the `AccessVerifier` injected into it? BTW you’ll need `verifier` to be declared `volatile` for this to work consistently in a multi-threaded application.","body":"How is the rotation done? Can the class that does the rotation get the <code>AccessVerifier</code> injected into it? BTW you’ll need <code>verifier</code> to be declared <code>volatile</code> for this to work consistently in a multi-threaded application."},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695804212,"post_id":77185366,"comment_id":136071764,"body_markdown":"@TimMoore the update is done in some mangled servlet-kind-of-code (pretty much custom). So I still have to implement injection there. I think I would be able to do it right away :(","body":"@TimMoore the update is done in some mangled servlet-kind-of-code (pretty much custom). So I still have to implement injection there. I think I would be able to do it right away :("},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695804755,"post_id":77185366,"comment_id":136071879,"body_markdown":"On the other hand, the `secret` is stored in an object of the class `Settings`. But even if I would define `Provider&lt;Settings&gt;`, I would still need to detect changes made to that secret","body":"On the other hand, the <code>secret</code> is stored in an object of the class <code>Settings</code>. But even if I would define <code>Provider&lt;Settings&gt;</code>, I would still need to detect changes made to that secret"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1695849896,"post_id":77185366,"comment_id":136080695,"body_markdown":"It seems that the class that rotates the secret is important context for the question but is not currently included. Please add it.","body":"It seems that the class that rotates the secret is important context for the question but is not currently included. Please add it."},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695895979,"post_id":77185366,"comment_id":136086178,"body_markdown":"Right now it is rather a manual task. Admin goes into settings HTTP page, inputs new secret, and submits. After validation, the secret gets into the `Settings` object (there is only one instance per app)","body":"Right now it is rather a manual task. Admin goes into settings HTTP page, inputs new secret, and submits. After validation, the secret gets into the <code>Settings</code> object (there is only one instance per app)"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1695897869,"post_id":77185366,"comment_id":136086504,"body_markdown":"Can the code that puts the secret into the Settings object then call `setSecret` on the injected `AccessVerifier`?","body":"Can the code that puts the secret into the Settings object then call <code>setSecret</code> on the injected <code>AccessVerifier</code>?"},{"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"score":0,"creation_date":1695900035,"post_id":77185366,"comment_id":136086955,"body_markdown":"It _could_ if that servlet would not be a total mess. I guess I could try injecting that `AccessVerifier` and then calling `setSecret` explicitly","body":"It <i>could</i> if that servlet would not be a total mess. I guess I could try injecting that <code>AccessVerifier</code> and then calling <code>setSecret</code> explicitly"}],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698271114,"creation_date":1698271114,"answer_id":77363098,"question_id":77185366,"body_markdown":"I&#39;m not certain why\r\n\r\n    App.getInjector().get(AccessVerifier.class).setSecret(...);\r\n\r\nseems dirtier than\r\n\r\n    AccessVerifier.getInstance().setSecret(...);\r\n\r\nThese are both looking up the instance from somewhere and telling it to modify the secret.\r\n\r\nIf it&#39;s a Guice singleton, though, you can just @Inject it where you need it and call it directly:\r\n\r\n    class SecretResetter {\r\n      private final AccessVerifier accessVerifier;\r\n\r\n      @Inject\r\n      SecretResetter(AccessVerifier accessVerifier) {\r\n        this.accessVerifier = accessVerifier;\r\n      }\r\n\r\n      void resetSecret() {\r\n        accessVerifier.setSecret(...);\r\n      }\r\n    }\r\n","title":"Reconfiguring (or resetting) singleton services in Guice","body":"<p>I'm not certain why</p>\n<pre><code>App.getInjector().get(AccessVerifier.class).setSecret(...);\n</code></pre>\n<p>seems dirtier than</p>\n<pre><code>AccessVerifier.getInstance().setSecret(...);\n</code></pre>\n<p>These are both looking up the instance from somewhere and telling it to modify the secret.</p>\n<p>If it's a Guice singleton, though, you can just @Inject it where you need it and call it directly:</p>\n<pre><code>class SecretResetter {\n  private final AccessVerifier accessVerifier;\n\n  @Inject\n  SecretResetter(AccessVerifier accessVerifier) {\n    this.accessVerifier = accessVerifier;\n  }\n\n  void resetSecret() {\n    accessVerifier.setSecret(...);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":335496,"reputation":19896,"user_id":662615,"accept_rate":75,"display_name":"Jovan Perovic"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698271114,"creation_date":1695799317,"question_id":77185366,"body_markdown":"I have a legacy code that I decided to refactor using Google Guice.\r\n\r\nIn my project, I have a service called `AccessVerifier` which looks like this:\r\n\r\n```\r\n@Singleton\r\npublic class AccessVerifier {\r\n    \r\n    private JWTVerifier verifier;\r\n\r\n    public AccessVerifier(String secret) {\r\n        this.verifier = JWT.require(Algorithm.HMAC256(secret)).build();\r\n    }\r\n\r\n    public void setSecret(String secret){\r\n        this.verifier = JWT.require(Algorithm.HMAC256(secret)).build();\r\n    }\r\n\r\n    public DecodedJWT decodeToken(String token)\r\n    {\r\n        DecodedJWT jwt = this.verifier.verify(token);\r\n\r\n        // Verify some claims from the obtained token\r\n\r\n        return jwt;\r\n    }\r\n}\r\n```\r\n\r\nFrom time to time, we rotate that `secret` parameter. I want to be able to &quot;reconfigure&quot;, or reset the service so it reinitializes that `verifier` member.\r\n\r\nWithout Guice, we had a classic Singleton implementation(via `getInstance()`), so I would do something like:\r\n\r\n```\r\nAccessVerifier.getInstance().setSecret(...);\r\n```\r\n\r\nBut since migrating to Guice that is no longer possible since, naturally, I want Guice to manage my service instances.\r\n\r\nI ***could*** do something like:\r\n\r\n```\r\nApp.getInjector().get(AccessVerifier.class).setSecret(...)\r\n```\r\n\r\nBut this, whoa, feels incredibly dirty :(\r\n\r\nAnother idea I had is to pass `Provider&lt;String&gt;` to `AccessVerifier`, but I don&#39;t want to create `JWTVerifier` each and every time. I would need to store the &quot;previous&quot; secret and compare it every time I want to use the `verifier`.\r\n\r\nIs there any other way of achieving this?\r\n\r\n","title":"Reconfiguring (or resetting) singleton services in Guice","body":"<p>I have a legacy code that I decided to refactor using Google Guice.</p>\n<p>In my project, I have a service called <code>AccessVerifier</code> which looks like this:</p>\n<pre><code>@Singleton\npublic class AccessVerifier {\n    \n    private JWTVerifier verifier;\n\n    public AccessVerifier(String secret) {\n        this.verifier = JWT.require(Algorithm.HMAC256(secret)).build();\n    }\n\n    public void setSecret(String secret){\n        this.verifier = JWT.require(Algorithm.HMAC256(secret)).build();\n    }\n\n    public DecodedJWT decodeToken(String token)\n    {\n        DecodedJWT jwt = this.verifier.verify(token);\n\n        // Verify some claims from the obtained token\n\n        return jwt;\n    }\n}\n</code></pre>\n<p>From time to time, we rotate that <code>secret</code> parameter. I want to be able to &quot;reconfigure&quot;, or reset the service so it reinitializes that <code>verifier</code> member.</p>\n<p>Without Guice, we had a classic Singleton implementation(via <code>getInstance()</code>), so I would do something like:</p>\n<pre><code>AccessVerifier.getInstance().setSecret(...);\n</code></pre>\n<p>But since migrating to Guice that is no longer possible since, naturally, I want Guice to manage my service instances.</p>\n<p>I <em><strong>could</strong></em> do something like:</p>\n<pre><code>App.getInjector().get(AccessVerifier.class).setSecret(...)\n</code></pre>\n<p>But this, whoa, feels incredibly dirty :(</p>\n<p>Another idea I had is to pass <code>Provider&lt;String&gt;</code> to <code>AccessVerifier</code>, but I don't want to create <code>JWTVerifier</code> each and every time. I would need to store the &quot;previous&quot; secret and compare it every time I want to use the <code>verifier</code>.</p>\n<p>Is there any other way of achieving this?</p>\n"},{"tags":["java","android","firebase","flutter","authentication"],"comments":[{"owner":{"account_id":10673275,"reputation":1351,"user_id":7857701,"display_name":"Snigdhajyoti"},"score":0,"creation_date":1604694295,"post_id":64720643,"comment_id":114435049,"body_markdown":"Along with Error log please add more detail on what you are trying to do. Add the code snippet from where you getting this error","body":"Along with Error log please add more detail on what you are trying to do. Add the code snippet from where you getting this error"},{"owner":{"account_id":3778482,"reputation":302,"user_id":3138580,"accept_rate":47,"display_name":"Mac_Play"},"score":0,"creation_date":1604732483,"post_id":64720643,"comment_id":114442212,"body_markdown":"I am facing the same issue. Any idea?","body":"I am facing the same issue. Any idea?"},{"owner":{"account_id":5033614,"reputation":1001,"user_id":4043105,"display_name":"Febin Mathew"},"score":1,"creation_date":1604907460,"post_id":64720643,"comment_id":114479324,"body_markdown":"Facing the same issue..","body":"Facing the same issue.."},{"owner":{"display_name":"user6783194"},"score":0,"creation_date":1605094755,"post_id":64720643,"comment_id":114545481,"body_markdown":"Same issue. Seems to be related to the app Gradle firebase auth library. Updating it didn&#39;t work for me though.","body":"Same issue. Seems to be related to the app Gradle firebase auth library. Updating it didn&#39;t work for me though."},{"owner":{"account_id":288238,"reputation":14443,"user_id":588532,"accept_rate":88,"display_name":"Uriel Frankel"},"score":0,"creation_date":1605123393,"post_id":64720643,"comment_id":114558372,"body_markdown":"did you add the sha1 to the firebase console?","body":"did you add the sha1 to the firebase console?"},{"owner":{"account_id":6368822,"reputation":127,"user_id":4941942,"display_name":"CubeRootX"},"score":0,"creation_date":1605320546,"post_id":64720643,"comment_id":114622562,"body_markdown":"I have added both SHA-1 and SHA-256 to the console @UrielFrankel","body":"I have added both SHA-1 and SHA-256 to the console @UrielFrankel"},{"owner":{"account_id":5033614,"reputation":1001,"user_id":4043105,"display_name":"Febin Mathew"},"score":0,"creation_date":1608565660,"post_id":64720643,"comment_id":115616079,"body_markdown":"Hey! Did you find any working solution?","body":"Hey! Did you find any working solution?"}],"answers":[{"tags":[],"owner":{"account_id":16220911,"reputation":207,"user_id":11712463,"display_name":"Ishaan Ohri"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605895157,"creation_date":1605895157,"answer_id":64934516,"question_id":64720643,"body_markdown":"Enable **Phone** option in the Firebase Console under **Authentication**","title":"Error while geting Firebase Phone Auth OTP","body":"<p>Enable <strong>Phone</strong> option in the Firebase Console under <strong>Authentication</strong></p>\n"},{"tags":[],"owner":{"account_id":6893618,"reputation":1888,"user_id":5296262,"display_name":"Sajid Zeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1698270702,"creation_date":1606162139,"answer_id":64975654,"question_id":64720643,"body_markdown":"This problem related to SHA1 and SHA256 keys. You have to add them to authenticate your certs.\r\n\r\nGoto \r\n- Firebase Console of your project\r\n- Authentication\r\n- Project Setting (From Setting button near Project Overview)\r\n- Add fingerprint\r\n- Add SHA-1 and SHA-256 values of your keystore.\r\n\r\nYou can get keystores from gradle like this.\r\n\r\n&gt; ./gradlew signingReport\r\n\r\nRead this for more information: https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification","title":"Error while geting Firebase Phone Auth OTP","body":"<p>This problem related to SHA1 and SHA256 keys. You have to add them to authenticate your certs.</p>\n<p>Goto</p>\n<ul>\n<li>Firebase Console of your project</li>\n<li>Authentication</li>\n<li>Project Setting (From Setting button near Project Overview)</li>\n<li>Add fingerprint</li>\n<li>Add SHA-1 and SHA-256 values of your keystore.</li>\n</ul>\n<p>You can get keystores from gradle like this.</p>\n<blockquote>\n<p>./gradlew signingReport</p>\n</blockquote>\n<p>Read this for more information: <a href=\"https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification</a></p>\n"},{"tags":[],"owner":{"account_id":20901156,"reputation":51,"user_id":15354245,"display_name":"Anant Bharti"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649107592,"creation_date":1621242453,"answer_id":67566861,"question_id":64720643,"body_markdown":"Error 400 means bad request, it  can be due to any of the following three reasons:-\r\n\r\n 1. Check if phone authentication option is enabled in firebase console or not. Enable it.\r\n 2. Check if Android Device Check API is enabled in [Google cloud console][1] or not. Enable it. \r\n 3. Check if SHA-1 and SHA-256 are added to your firebase project or not. Add it as follows:\r\n\r\n Open your project in firebase console -&gt; Go to project setting -&gt; Click on add fingerprint (at the bottom of the page) -&gt; Add the SHA-1 and SHA-256 values there.\r\n\r\n![Image for reference][2]\r\n\r\nYou can get the SHA values of your android studio project as follows:-\r\n\r\nClick on gradle on top right side -&gt; task -&gt; android -&gt; signingReport -&gt; Get the SHA values at the bottom after running signingReort \r\n![Image for reference][3]\r\n\r\nFollow the [documentation][4] if issue in not resolved.\r\n\r\n \r\n\r\n\r\n  [1]: https://console.cloud.google.com/apis/library/androidcheck.googleapis.com\r\n  [2]: https://i.stack.imgur.com/peF8P.jpg\r\n  [3]: https://i.stack.imgur.com/2gZes.jpg\r\n  [4]: https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification","title":"Error while geting Firebase Phone Auth OTP","body":"<p>Error 400 means bad request, it  can be due to any of the following three reasons:-</p>\n<ol>\n<li>Check if phone authentication option is enabled in firebase console or not. Enable it.</li>\n<li>Check if Android Device Check API is enabled in <a href=\"https://console.cloud.google.com/apis/library/androidcheck.googleapis.com\" rel=\"nofollow noreferrer\">Google cloud console</a> or not. Enable it.</li>\n<li>Check if SHA-1 and SHA-256 are added to your firebase project or not. Add it as follows:</li>\n</ol>\n<p>Open your project in firebase console -&gt; Go to project setting -&gt; Click on add fingerprint (at the bottom of the page) -&gt; Add the SHA-1 and SHA-256 values there.</p>\n<p><img src=\"https://i.stack.imgur.com/peF8P.jpg\" alt=\"Image for reference\" /></p>\n<p>You can get the SHA values of your android studio project as follows:-</p>\n<p>Click on gradle on top right side -&gt; task -&gt; android -&gt; signingReport -&gt; Get the SHA values at the bottom after running signingReort\n<img src=\"https://i.stack.imgur.com/2gZes.jpg\" alt=\"Image for reference\" /></p>\n<p>Follow the <a href=\"https://firebase.google.com/docs/auth/android/phone-auth#enable-app-verification\" rel=\"nofollow noreferrer\">documentation</a> if issue in not resolved.</p>\n"},{"tags":[],"owner":{"account_id":10058698,"reputation":3214,"user_id":7436122,"display_name":"Taio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640595546,"creation_date":1640595546,"answer_id":70493462,"question_id":64720643,"body_markdown":"I have been stuck here for a week only to find a key I was using was restricted to another app and was therefore failing when trying to use it in my app. So I first removed the restriction in the credentials tab in Android device verification and everything went back to normal","title":"Error while geting Firebase Phone Auth OTP","body":"<p>I have been stuck here for a week only to find a key I was using was restricted to another app and was therefore failing when trying to use it in my app. So I first removed the restriction in the credentials tab in Android device verification and everything went back to normal</p>\n"},{"tags":[],"owner":{"account_id":19945298,"reputation":1,"user_id":14616115,"display_name":"praveensmedia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649923800,"creation_date":1649923800,"answer_id":71868412,"question_id":64720643,"body_markdown":"We need to add one extra step to @Anat Bharti Answer: [Enable GCS Device Verification API on Your Project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fK5Ba.jpg\r\nEnable GCS Device Verification API on Your Project.\r\nThat solves Everything, You not even asked to Verify capcha on your Physical device.","title":"Error while geting Firebase Phone Auth OTP","body":"<p>We need to add one extra step to @Anat Bharti Answer: <a href=\"https://i.stack.imgur.com/fK5Ba.jpg\" rel=\"nofollow noreferrer\">Enable GCS Device Verification API on Your Project</a></p>\n<p>Enable GCS Device Verification API on Your Project.\nThat solves Everything, You not even asked to Verify capcha on your Physical device.</p>\n"}],"owner":{"account_id":18996504,"reputation":111,"user_id":13864571,"display_name":"user13864571"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21805,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":5,"score":11,"last_activity_date":1698270702,"creation_date":1604691345,"question_id":64720643,"body_markdown":"I am trying to implement Firebase Phone Verification. I have enabled phone verification on firebase console. I have generated keystore and added the SHA signatures to the console.\r\n\r\ndependencies:\r\n\r\n    dependencies {\r\n        def multidex_version = &quot;2.0.1&quot;\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:26.0.0&#39;)\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n        implementation &#39;com.google.firebase:firebase-auth&#39;\r\n        implementation &#39;com.google.firebase:firebase-core&#39;\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava&#39;\r\n    \r\n    }\r\n\r\n\r\nphone_verification.dart\r\n\r\n                    await FirebaseAuth.instance.verifyPhoneNumber(\r\n                      phoneNumber: &#39;+1234567890&#39;,\r\n\r\n                      verificationCompleted: (PhoneAuthCredential credential) {\r\n                        print(&#39;verificationCompleted&#39;);\r\n                        \r\n                      },\r\n                      verificationFailed: (FirebaseAuthException e) {\r\n                        print(&#39;verificationFailed&#39;);\r\n                        if (e.code == &#39;invalid-phone-number&#39;) {\r\n                          print(&#39;The provided phone number is not valid.&#39;);\r\n                        }\r\n                        else {\r\n                          print(&#39;Some error occoured: $e&#39;);\r\n                        }\r\n                      },\r\n                      codeSent: (String verificationId, int resendToken) async {\r\n                        print(&#39;codeSent&#39;);\r\n\r\n                        // Update the UI - wait for the user to enter the SMS code\r\n                        String smsCode = &#39;123456&#39;;\r\n\r\n                        // Create a PhoneAuthCredential with the code\r\n                        PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.credential(verificationId: verificationId, smsCode: smsCode);\r\n                      \r\n                      },\r\n                      timeout: const Duration(seconds: 60),\r\n                      codeAutoRetrievalTimeout: (String verificationId) {\r\n                        print(&quot;Timeout: $verificationId&quot;);\r\n                      },\r\n                    );\r\n\r\n\r\n\r\n\r\nWhen the above block is executed following error is received.\r\nConsole Output:\r\n\r\n\r\n    E/FirebaseAuth: [GetAuthDomainTask] Error getting project config. Failed with {\r\n          &quot;error&quot;: {\r\n            &quot;code&quot;: 400,\r\n            &quot;message&quot;: &quot;INVALID_CERT_HASH&quot;,\r\n            &quot;errors&quot;: [\r\n              {\r\n                &quot;message&quot;: &quot;INVALID_CERT_HASH&quot;,\r\n                &quot;domain&quot;: &quot;global&quot;,\r\n                &quot;reason&quot;: &quot;invalid&quot;\r\n              }\r\n            ]\r\n          }\r\n        }\r\n         400\r\n    V/FA: Recording user engagement, ms: 1165\r\n    E/zza: Failed to get reCAPTCHA token - calling backend without app verification","title":"Error while geting Firebase Phone Auth OTP","body":"<p>I am trying to implement Firebase Phone Verification. I have enabled phone verification on firebase console. I have generated keystore and added the SHA signatures to the console.</p>\n<p>dependencies:</p>\n<pre><code>dependencies {\n    def multidex_version = &quot;2.0.1&quot;\n    implementation platform('com.google.firebase:firebase-bom:26.0.0')\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-core'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava'\n\n}\n</code></pre>\n<p>phone_verification.dart</p>\n<pre><code>                await FirebaseAuth.instance.verifyPhoneNumber(\n                  phoneNumber: '+1234567890',\n\n                  verificationCompleted: (PhoneAuthCredential credential) {\n                    print('verificationCompleted');\n                    \n                  },\n                  verificationFailed: (FirebaseAuthException e) {\n                    print('verificationFailed');\n                    if (e.code == 'invalid-phone-number') {\n                      print('The provided phone number is not valid.');\n                    }\n                    else {\n                      print('Some error occoured: $e');\n                    }\n                  },\n                  codeSent: (String verificationId, int resendToken) async {\n                    print('codeSent');\n\n                    // Update the UI - wait for the user to enter the SMS code\n                    String smsCode = '123456';\n\n                    // Create a PhoneAuthCredential with the code\n                    PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.credential(verificationId: verificationId, smsCode: smsCode);\n                  \n                  },\n                  timeout: const Duration(seconds: 60),\n                  codeAutoRetrievalTimeout: (String verificationId) {\n                    print(&quot;Timeout: $verificationId&quot;);\n                  },\n                );\n</code></pre>\n<p>When the above block is executed following error is received.\nConsole Output:</p>\n<pre><code>E/FirebaseAuth: [GetAuthDomainTask] Error getting project config. Failed with {\n      &quot;error&quot;: {\n        &quot;code&quot;: 400,\n        &quot;message&quot;: &quot;INVALID_CERT_HASH&quot;,\n        &quot;errors&quot;: [\n          {\n            &quot;message&quot;: &quot;INVALID_CERT_HASH&quot;,\n            &quot;domain&quot;: &quot;global&quot;,\n            &quot;reason&quot;: &quot;invalid&quot;\n          }\n        ]\n      }\n    }\n     400\nV/FA: Recording user engagement, ms: 1165\nE/zza: Failed to get reCAPTCHA token - calling backend without app verification\n</code></pre>\n"},{"tags":["java","guice"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697015926,"post_id":77271716,"comment_id":136225235,"body_markdown":"This is working as expected. Each of those instances is their own thing. If you want to provide separate values, make sure each `@Assisted` value has a different name. There is no reason to assume the `ClassB` from your `bFactory.getInstance` call will be reused as the dependency of the `aFactory.getInstance` call.","body":"This is working as expected. Each of those instances is their own thing. If you want to provide separate values, make sure each <code>@Assisted</code> value has a different name. There is no reason to assume the <code>ClassB</code> from your <code>bFactory.getInstance</code> call will be reused as the dependency of the <code>aFactory.getInstance</code> call."}],"answers":[{"comments":[{"owner":{"account_id":4160509,"reputation":317,"user_id":3410729,"display_name":"WitHeld"},"score":0,"creation_date":1698610397,"post_id":77363077,"comment_id":136424388,"body_markdown":"Thank you for explaining this so well. I was very confused by this. The providers using the @Provides annotation works well for me thank you.","body":"Thank you for explaining this so well. I was very confused by this. The providers using the @Provides annotation works well for me thank you."}],"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698270563,"creation_date":1698270563,"answer_id":77363077,"question_id":77271716,"body_markdown":"This is actually a feature, believe it or not. It&#39;s creating corresponding instances with the same value.\r\n\r\n    ClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\r\n    ClassB b = bFactory.create(2);\r\n\r\nThis creates a new `ClassB` instance with `number` of `2`.\r\n\r\n    ClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\r\n    ClassA a = aFactory.create(1);\r\n\r\nThe constructor for `ClassA` takes `number` and an instance of `ClassB`. However, the instance of `ClassB` you&#39;ve created above _is not bound_ and isn&#39;t available to the Injector. Since `ClassB` can be created using assisted injection, though, it&#39;s able to creates one. It does and injects that into the instance of `ClassA`. In this case, both `ClassA` and `ClassB` instances have `number` of `1`.\r\n\r\n    ClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\r\n    ClassC c = cFactory.create(3);\r\n\r\nAs above, this creates new `ClassB` and `ClassA` instances for this new `ClassC`, each with `number` of `3`.\r\n\r\nIf you want to address this, you need to change your factories to take the right dependencies and make those dependencies `@Assisted`.\r\n\r\n    ClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\r\n    ClassB b = bFactory.create(2);\r\n    ClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\r\n    ClassA a = aFactory.create(1, b); // &lt;--\r\n    ClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\r\n    ClassC c = cFactory.create(3, a); // &lt;--\r\n\r\nIf you&#39;re only going to have one instance of each of these classes, this is better done in a `Module` as `@Provides` methods rather than using assisted injection and factories:\r\n\r\n    @Provides\r\n    ClassA provideClassA(ClassB b) {\r\n      return new ClassA(1, b);\r\n    }\r\n\r\n    @Provides\r\n    ClassB provideClassB() {\r\n      return new ClassB(2);\r\n    }\r\n\r\n    @Provides\r\n    ClassC provideClassC(ClassA a) {\r\n      return new ClassC(3, a);\r\n    }\r\n","title":"How to use java guice when an injectable has its own dependencies","body":"<p>This is actually a feature, believe it or not. It's creating corresponding instances with the same value.</p>\n<pre><code>ClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\nClassB b = bFactory.create(2);\n</code></pre>\n<p>This creates a new <code>ClassB</code> instance with <code>number</code> of <code>2</code>.</p>\n<pre><code>ClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\nClassA a = aFactory.create(1);\n</code></pre>\n<p>The constructor for <code>ClassA</code> takes <code>number</code> and an instance of <code>ClassB</code>. However, the instance of <code>ClassB</code> you've created above <em>is not bound</em> and isn't available to the Injector. Since <code>ClassB</code> can be created using assisted injection, though, it's able to creates one. It does and injects that into the instance of <code>ClassA</code>. In this case, both <code>ClassA</code> and <code>ClassB</code> instances have <code>number</code> of <code>1</code>.</p>\n<pre><code>ClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\nClassC c = cFactory.create(3);\n</code></pre>\n<p>As above, this creates new <code>ClassB</code> and <code>ClassA</code> instances for this new <code>ClassC</code>, each with <code>number</code> of <code>3</code>.</p>\n<p>If you want to address this, you need to change your factories to take the right dependencies and make those dependencies <code>@Assisted</code>.</p>\n<pre><code>ClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\nClassB b = bFactory.create(2);\nClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\nClassA a = aFactory.create(1, b); // &lt;--\nClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\nClassC c = cFactory.create(3, a); // &lt;--\n</code></pre>\n<p>If you're only going to have one instance of each of these classes, this is better done in a <code>Module</code> as <code>@Provides</code> methods rather than using assisted injection and factories:</p>\n<pre><code>@Provides\nClassA provideClassA(ClassB b) {\n  return new ClassA(1, b);\n}\n\n@Provides\nClassB provideClassB() {\n  return new ClassB(2);\n}\n\n@Provides\nClassC provideClassC(ClassA a) {\n  return new ClassC(3, a);\n}\n</code></pre>\n"}],"owner":{"account_id":4160509,"reputation":317,"user_id":3410729,"display_name":"WitHeld"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77363077,"answer_count":1,"score":1,"last_activity_date":1698270563,"creation_date":1697015634,"question_id":77271716,"body_markdown":"I&#39;m trying to figure out how Guice works and is struggling to find examples/tutorials for the specific scenarios I have. \r\n\r\nLets say I have the following classes:\r\n\r\n - **ClassA** with injected **ClassB**\r\n - **ClassB**\r\n - **ClassC** with injected **ClassA**\r\n\r\nThe problem I&#39;m having is that ClassA does not have a no-arg constructor and also have its own dependencies. I&#39;m not sure how to inject these type of dependencies using an Injector.\r\n\r\nClassA\r\n\r\n```\r\npublic class ClassA {\r\n\r\n    private final int number;\r\n    private final ClassB classB;\r\n\r\n    @Inject\r\n    public ClassA(int number, ClassB classB) {\r\n        this.number = number;\r\n        this.classB = classB;\r\n    }\r\n\r\n    public String message() {\r\n        return &quot;ClassA number: &quot; + number + &quot;, ClassB number: &quot; + classB.getNumber();\r\n    }\r\n\r\n}\r\n```\r\nClassB\r\n```\r\n@Getter\r\npublic class ClassB {\r\n\r\n    private final int number;\r\n\r\n    @Inject\r\n    public ClassB(@Assisted int number) {\r\n        this.number = number;\r\n    }\r\n\r\n}\r\n```\r\nClassC\r\n```\r\nimport com.google.inject.Inject;\r\nimport com.google.inject.assistedinject.Assisted;\r\n\r\npublic class ClassC {\r\n\r\n    final private int number;\r\n    final private ClassA classA;\r\n\r\n    @Inject\r\n    public ClassC(@Assisted int number, ClassA classA) {\r\n        this.number = number;\r\n        this.classA = classA;\r\n    }\r\n\r\n    public String message() {\r\n        String message = classA.messsage();\r\n        return message + &quot;, ClassC number: &quot; + number;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have a factory interfaces for all classes with a ```create(int number)``` method. In the module configure method I have the following:\r\n```\r\ninstall(new FactoryModuleBuilder().build(ClassAFactory.class));\r\ninstall(new FactoryModuleBuilder().build(ClassBFactory.class));\r\ninstall(new FactoryModuleBuilder().build(ClassCFactory.class));\r\n```\r\n\r\nThe following is where I&#39;m totally lost, how do I mix this all together?\r\n```\r\nInjector injector = Guice.createInjector(new AppModule());\r\n\r\nClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\r\nClassB b = bFactory.create(2);\r\nClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\r\nClassA a = aFactory.create(1);\r\nClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\r\nClassC c = cFactory.create(3);\r\n\r\nSystem.out.println(c.message());\r\n```\r\nOutput for above:\r\n```\r\nClassA number: 3, ClassB number: 3, ClassC number: 3\r\n```\r\n\r\nBonus for me, if its possible to use providers instead of factories for this scenario please can someone show me an example of how to resolve these dependencies in a provider?","title":"How to use java guice when an injectable has its own dependencies","body":"<p>I'm trying to figure out how Guice works and is struggling to find examples/tutorials for the specific scenarios I have.</p>\n<p>Lets say I have the following classes:</p>\n<ul>\n<li><strong>ClassA</strong> with injected <strong>ClassB</strong></li>\n<li><strong>ClassB</strong></li>\n<li><strong>ClassC</strong> with injected <strong>ClassA</strong></li>\n</ul>\n<p>The problem I'm having is that ClassA does not have a no-arg constructor and also have its own dependencies. I'm not sure how to inject these type of dependencies using an Injector.</p>\n<p>ClassA</p>\n<pre><code>public class ClassA {\n\n    private final int number;\n    private final ClassB classB;\n\n    @Inject\n    public ClassA(int number, ClassB classB) {\n        this.number = number;\n        this.classB = classB;\n    }\n\n    public String message() {\n        return &quot;ClassA number: &quot; + number + &quot;, ClassB number: &quot; + classB.getNumber();\n    }\n\n}\n</code></pre>\n<p>ClassB</p>\n<pre><code>@Getter\npublic class ClassB {\n\n    private final int number;\n\n    @Inject\n    public ClassB(@Assisted int number) {\n        this.number = number;\n    }\n\n}\n</code></pre>\n<p>ClassC</p>\n<pre><code>import com.google.inject.Inject;\nimport com.google.inject.assistedinject.Assisted;\n\npublic class ClassC {\n\n    final private int number;\n    final private ClassA classA;\n\n    @Inject\n    public ClassC(@Assisted int number, ClassA classA) {\n        this.number = number;\n        this.classA = classA;\n    }\n\n    public String message() {\n        String message = classA.messsage();\n        return message + &quot;, ClassC number: &quot; + number;\n    }\n\n}\n</code></pre>\n<p>I have a factory interfaces for all classes with a <code>create(int number)</code> method. In the module configure method I have the following:</p>\n<pre><code>install(new FactoryModuleBuilder().build(ClassAFactory.class));\ninstall(new FactoryModuleBuilder().build(ClassBFactory.class));\ninstall(new FactoryModuleBuilder().build(ClassCFactory.class));\n</code></pre>\n<p>The following is where I'm totally lost, how do I mix this all together?</p>\n<pre><code>Injector injector = Guice.createInjector(new AppModule());\n\nClassBFactory bFactory = injector.getInstance(ClassBFactory.class);\nClassB b = bFactory.create(2);\nClassAFactory aFactory = injector.getInstance(ClassAFactory.class);\nClassA a = aFactory.create(1);\nClassCFactory cFactory = injector.getInstance(ClassCFactory.class);\nClassC c = cFactory.create(3);\n\nSystem.out.println(c.message());\n</code></pre>\n<p>Output for above:</p>\n<pre><code>ClassA number: 3, ClassB number: 3, ClassC number: 3\n</code></pre>\n<p>Bonus for me, if its possible to use providers instead of factories for this scenario please can someone show me an example of how to resolve these dependencies in a provider?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"score":0,"creation_date":1698269782,"post_id":77362972,"comment_id":136385602,"body_markdown":"It is likely that the button is not blank, the text color may have automatically changed to white depending on the theme of the device. Can you control the button text color by making it a specific color (red, blue, etc.)?","body":"It is likely that the button is not blank, the text color may have automatically changed to white depending on the theme of the device. Can you control the button text color by making it a specific color (red, blue, etc.)?"},{"owner":{"account_id":28532052,"reputation":3,"user_id":21839291,"display_name":"Nathan Alamu"},"score":0,"creation_date":1698269977,"post_id":77362972,"comment_id":136385633,"body_markdown":"@OzgurBaykal oh thanks! man that solved it.","body":"@OzgurBaykal oh thanks! man that solved it."}],"answers":[{"tags":[],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698270458,"creation_date":1698270458,"answer_id":77363071,"question_id":77362972,"body_markdown":"The source of this problem is that the button text colour varies according to the device theme. If you make the button text colour a specific colour (red, blue etc.) you can see that it works properly on both devices.\r\n\r\n*This answer was posted because the questioner confirmed in the comments that this was the source of the question.*","title":"Android Studio Blank Buttons","body":"<p>The source of this problem is that the button text colour varies according to the device theme. If you make the button text colour a specific colour (red, blue etc.) you can see that it works properly on both devices.</p>\n<p><em>This answer was posted because the questioner confirmed in the comments that this was the source of the question.</em></p>\n"}],"owner":{"account_id":28532052,"reputation":3,"user_id":21839291,"display_name":"Nathan Alamu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363071,"answer_count":1,"score":0,"last_activity_date":1698270458,"creation_date":1698269157,"question_id":77362972,"body_markdown":"so I am making a recipe app on android studio and I was using a different phone but then I switched phones to run the app and now my buttons are blank.Example:\r\n[Old Button][1]\r\n\r\n\r\n[New Button][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aBBiC.png\r\n  [2]: https://i.stack.imgur.com/5nsH3.png\r\nAny idea what could be causing this? this is for all my buttons.","title":"Android Studio Blank Buttons","body":"<p>so I am making a recipe app on android studio and I was using a different phone but then I switched phones to run the app and now my buttons are blank.Example:\n<a href=\"https://i.stack.imgur.com/aBBiC.png\" rel=\"nofollow noreferrer\">Old Button</a></p>\n<p><a href=\"https://i.stack.imgur.com/5nsH3.png\" rel=\"nofollow noreferrer\">New Button</a></p>\n<p>Any idea what could be causing this? this is for all my buttons.</p>\n"},{"tags":["java","spring","unit-testing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698123292,"post_id":77349182,"comment_id":136361853,"body_markdown":"Without the stack trace of the NPE, it&#39;s hard to help. Presumably you are not stubbing some return value that you need.","body":"Without the stack trace of the NPE, it&#39;s hard to help. Presumably you are not stubbing some return value that you need."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1698131812,"post_id":77349182,"comment_id":136362926,"body_markdown":"I added a sample stacktrace with my first stub uncommented.","body":"I added a sample stacktrace with my first stub uncommented."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698132492,"post_id":77349182,"comment_id":136363047,"body_markdown":"You need to uncomment the line that stubs `scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder` but also check whether `config` or `routeBuilder` are null.","body":"You need to uncomment the line that stubs <code>scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder</code> but also check whether <code>config</code> or <code>routeBuilder</code> are null."},{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1698135060,"post_id":77349182,"comment_id":136363466,"body_markdown":"config and routebuilders were already stub and when checking if it has contents on debug, it says there is and hence those seems to be fine anyway. I already had RETURNS_DEEP_STUBS for this anyway and hence expected any further calls realted to this mocks will be mocked anyway. scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder is already uncommented when I run the code for stacktrace purposes above. I just had it commented out since the stubbing doesnt seem to work anyway.","body":"config and routebuilders were already stub and when checking if it has contents on debug, it says there is and hence those seems to be fine anyway. I already had RETURNS_DEEP_STUBS for this anyway and hence expected any further calls realted to this mocks will be mocked anyway. scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder is already uncommented when I run the code for stacktrace purposes above. I just had it commented out since the stubbing doesnt seem to work anyway."}],"answers":[{"comments":[{"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"score":0,"creation_date":1698724821,"post_id":77363049,"comment_id":136438523,"body_markdown":"oh, thanks, this worked somehow, will read more on this, greatly appreciated. thx.","body":"oh, thanks, this worked somehow, will read more on this, greatly appreciated. thx."}],"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698270036,"creation_date":1698270036,"answer_id":77363049,"question_id":77349182,"body_markdown":"The Problem here ist the `when(mockObject.mockedMethod()).thenReturn()` form of stubbing the method calls. \r\n\r\nIn this form the real method to be stubbed is actually executed and only its result is replaced by Mockito. Since the Mock of `ScaRouteBuilder` gets `null`s passed as constructor parameters placing them in the mock objects properties the `build()` method throws a NPE when accessing these  properties.\r\n\r\nTo avoid this use the `doReturn().when(mockedObject).mockedMethod()` form. This intercepts and avoids the call to the real method in the mocked object.\r\n\r\nAlternatively you can try `@Mock(answer = Answers.RETURNS_DEEP_STUBS)` on `ScaRouteBuilder`\r\n\r\nhttps://rieckpil.de/creating-deep-stubs-with-mockito-to-chain-method-stubbing/","title":"How to Unit Test an URI translated response?","body":"<p>The Problem here ist the <code>when(mockObject.mockedMethod()).thenReturn()</code> form of stubbing the method calls.</p>\n<p>In this form the real method to be stubbed is actually executed and only its result is replaced by Mockito. Since the Mock of <code>ScaRouteBuilder</code> gets <code>null</code>s passed as constructor parameters placing them in the mock objects properties the <code>build()</code> method throws a NPE when accessing these  properties.</p>\n<p>To avoid this use the <code>doReturn().when(mockedObject).mockedMethod()</code> form. This intercepts and avoids the call to the real method in the mocked object.</p>\n<p>Alternatively you can try <code>@Mock(answer = Answers.RETURNS_DEEP_STUBS)</code> on <code>ScaRouteBuilder</code></p>\n<p><a href=\"https://rieckpil.de/creating-deep-stubs-with-mockito-to-chain-method-stubbing/\" rel=\"nofollow noreferrer\">https://rieckpil.de/creating-deep-stubs-with-mockito-to-chain-method-stubbing/</a></p>\n"}],"owner":{"account_id":7565436,"reputation":1179,"user_id":5741227,"accept_rate":86,"display_name":"iamjoshua"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77363049,"answer_count":1,"score":0,"last_activity_date":1698270036,"creation_date":1698114295,"question_id":77349182,"body_markdown":"I am trying to mock an URI translated response. however it is always throwing null during unit test. The code I am trying to mock is as follows:\r\n\r\n  \r\n\r\n      final URI sourceFileSftpLocation = routeBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(fileName, config.getMerchantFilePath(), config.getFailedPath(), config)\r\n    .build();\r\n\r\n\r\nMy Unit Testing Class is as follows:\r\n\r\n\r\n    @InjectMocks\r\n        ScaService scaService;\r\n        @Mock\r\n        BatchStatusService batchStatusService;\r\n        @Mock\r\n        BatchInvoker batchInvoker;\r\n        @Mock\r\n        PaymentHubConfigLookup paymentHubConfigLookup;\r\n        @Mock\r\n        JobExecution jobExecution;\r\n        @Mock\r\n        PaymentHubBatchTracking paymentHubBatchTracking;\r\n        @Mock\r\n        ScaRouteBuilder scaRouteBuilder;\r\n        @Mock\r\n        URIBuilder uriBuilder;\r\n    \r\n    @Test\r\n        public void existingFileTest() throws Exception {\r\n            scaRouteBuilder = mock(ScaRouteBuilder.class, RETURNS_DEEP_STUBS);\r\n            uriBuilder = mock(URIBuilder.class, RETURNS_DEEP_STUBS);\r\n            uri = mock(URI.class, RETURNS_DEEP_STUBS);\r\n\r\n            when(paymentHubConfigLookup.getMerchantName()).thenReturn(&quot;BarclaysSingle&quot;);\r\n            when(batchStatusService.updateSpecificBatchFileState(any(), anyString())).thenReturn(paymentHubBatchTracking);\r\n            when(paymentHubConfigLookup.getMerchantFilePath()).thenReturn(&quot;merchantFilePath&quot;);\r\n            when(paymentHubConfigLookup.getFailedPath()).thenReturn(&quot;failedPath&quot;);\r\n    \r\n            //Not working mockings below\r\n    //        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()))\r\n    //                .thenReturn(uriBuilder);\r\n    //        doReturn(uriBuilder).when(scaRouteBuilder)\r\n    //                .deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any(PaymentHubConfigLookup.class));\r\n    //        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()).build())\r\n    //                .thenReturn(uri);\r\n    //        doReturn(uri).when(scaRouteBuilder).deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any())\r\n    //                .build();\r\n    //        doReturn(uriBuilder).when(scaRouteBuilder).deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()).build();\r\n    //        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any(PaymentHubConfigLookup.class)))\r\n    //                .thenReturn(uriBuilder);\r\n    \r\n            scaService.process(&quot;&quot;, paymentHubConfigLookup);\r\n    \r\n            verify(scaService).process(&quot;&quot;, paymentHubConfigLookup);\r\n        }\r\n\r\n\r\nI already had several stubs for mocking this code above that I just commented out atm, but still, it doesn&#39;t mock at all.\r\n\r\nAny other ways to unit test this?. Thanks\r\n\r\nI also added the stacktrace below\r\n\r\n\r\n    java.lang.NullPointerException\r\n    \tat com.cwt.bpg.paymenthub.service.ScaService.process(ScaService.java:65)\r\n    \tat com.cwt.bpg.paymenthub.service.ScaServiceTest.existingFileTest(ScaServiceTest.java:80)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nFor reference:\r\nThe Line 65 that reports an NPE is the code with\r\n.build();\r\nin it.\r\n\r\nHowever, I already stubbed the response of this with uriBuilder, I would expect with this stubbing, the actual URIBuilder thrown is already mocked from my first sample stub, and that when .build() is triggered, it would have already understood the mock somehow and throw a mock response instead of an NPE.\r\n\r\n","title":"How to Unit Test an URI translated response?","body":"<p>I am trying to mock an URI translated response. however it is always throwing null during unit test. The code I am trying to mock is as follows:</p>\n<pre><code>  final URI sourceFileSftpLocation = routeBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(fileName, config.getMerchantFilePath(), config.getFailedPath(), config)\n.build();\n</code></pre>\n<p>My Unit Testing Class is as follows:</p>\n<pre><code>@InjectMocks\n    ScaService scaService;\n    @Mock\n    BatchStatusService batchStatusService;\n    @Mock\n    BatchInvoker batchInvoker;\n    @Mock\n    PaymentHubConfigLookup paymentHubConfigLookup;\n    @Mock\n    JobExecution jobExecution;\n    @Mock\n    PaymentHubBatchTracking paymentHubBatchTracking;\n    @Mock\n    ScaRouteBuilder scaRouteBuilder;\n    @Mock\n    URIBuilder uriBuilder;\n\n@Test\n    public void existingFileTest() throws Exception {\n        scaRouteBuilder = mock(ScaRouteBuilder.class, RETURNS_DEEP_STUBS);\n        uriBuilder = mock(URIBuilder.class, RETURNS_DEEP_STUBS);\n        uri = mock(URI.class, RETURNS_DEEP_STUBS);\n\n        when(paymentHubConfigLookup.getMerchantName()).thenReturn(&quot;BarclaysSingle&quot;);\n        when(batchStatusService.updateSpecificBatchFileState(any(), anyString())).thenReturn(paymentHubBatchTracking);\n        when(paymentHubConfigLookup.getMerchantFilePath()).thenReturn(&quot;merchantFilePath&quot;);\n        when(paymentHubConfigLookup.getFailedPath()).thenReturn(&quot;failedPath&quot;);\n\n        //Not working mockings below\n//        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()))\n//                .thenReturn(uriBuilder);\n//        doReturn(uriBuilder).when(scaRouteBuilder)\n//                .deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any(PaymentHubConfigLookup.class));\n//        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()).build())\n//                .thenReturn(uri);\n//        doReturn(uri).when(scaRouteBuilder).deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any())\n//                .build();\n//        doReturn(uriBuilder).when(scaRouteBuilder).deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any()).build();\n//        when(scaRouteBuilder.deleteFromSourceAndMoveToTargetSftpBuilder(anyString(), anyString(), anyString(), any(PaymentHubConfigLookup.class)))\n//                .thenReturn(uriBuilder);\n\n        scaService.process(&quot;&quot;, paymentHubConfigLookup);\n\n        verify(scaService).process(&quot;&quot;, paymentHubConfigLookup);\n    }\n</code></pre>\n<p>I already had several stubs for mocking this code above that I just commented out atm, but still, it doesn't mock at all.</p>\n<p>Any other ways to unit test this?. Thanks</p>\n<p>I also added the stacktrace below</p>\n<pre><code>java.lang.NullPointerException\n    at com.cwt.bpg.paymenthub.service.ScaService.process(ScaService.java:65)\n    at com.cwt.bpg.paymenthub.service.ScaServiceTest.existingFileTest(ScaServiceTest.java:80)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.evaluate(DefaultInternalRunner.java:54)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:99)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:105)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:40)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>For reference:\nThe Line 65 that reports an NPE is the code with\n.build();\nin it.</p>\n<p>However, I already stubbed the response of this with uriBuilder, I would expect with this stubbing, the actual URIBuilder thrown is already mocked from my first sample stub, and that when .build() is triggered, it would have already understood the mock somehow and throw a mock response instead of an NPE.</p>\n"},{"tags":["java","maven","log4j","pom.xml","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1698297706,"post_id":77363027,"comment_id":136387818,"body_markdown":"Does this answer your question? [Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin](https://stackoverflow.com/questions/75996306/log4j2-dynamic-appender-doesnt-work-with-maven-shade-plugin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75996306/log4j2-dynamic-appender-doesnt-work-with-maven-shade-plugin\">Log4J2 dynamic appender doesn&#39;t work with maven-shade-plugin</a>"},{"owner":{"account_id":29754509,"reputation":1,"user_id":22803581,"display_name":"ExceptionExplorer"},"score":0,"creation_date":1698309835,"post_id":77363027,"comment_id":136389810,"body_markdown":"Unfortunately no. As mentioned above I&#39;m not using the maven-shade-plugin.","body":"Unfortunately no. As mentioned above I&#39;m not using the maven-shade-plugin."},{"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"score":0,"creation_date":1698312267,"post_id":77363027,"comment_id":136390315,"body_markdown":"this issue looks exactly the same as yours: https://stackoverflow.com/questions/48033792/log4j2-error-statuslogger-unrecognized-conversion-specifier","body":"this issue looks exactly the same as yours: <a href=\"https://stackoverflow.com/questions/48033792/log4j2-error-statuslogger-unrecognized-conversion-specifier\" title=\"log4j2 error statuslogger unrecognized conversion specifier\">stackoverflow.com/questions/48033792/&hellip;</a>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1698317310,"post_id":77363027,"comment_id":136391331,"body_markdown":"Can you run you application with `-Dlog4j2.debug=true`? The details of plugin loading will be on the standard error of the application. Remark: remove `Log4j2Plugins.dat` is never a solution. It is like cutting off one&#39;s hand to force him to write with the other one.","body":"Can you run you application with <code>-Dlog4j2.debug=true</code>? The details of plugin loading will be on the standard error of the application. Remark: remove <code>Log4j2Plugins.dat</code> is never a solution. It is like cutting off one&#39;s hand to force him to write with the other one."}],"owner":{"account_id":29754509,"reputation":1,"user_id":22803581,"display_name":"ExceptionExplorer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698269784,"creation_date":1698269784,"question_id":77363027,"body_markdown":"I am getting the following errors on deployment of my JAR file.\r\n`\r\nERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [level]\r\nERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [logger]\r\nERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [msg]\r\nERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\r\nERROR StatusLogger Unrecognized format specifier [n]\r\nERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.`\r\n\r\nI understand from reading around on here that this is probably an issue caused by the Log4j2Plugins.dat file. However unlike other posters here I&#39;m not using the Maven shade plugin. \r\n\r\nThis is my pom.xml\r\n\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;quickfixj-core.version&gt;2.3.1&lt;/quickfixj-core.version&gt;\r\n        &lt;aws-java-sdk-kinesis.version&gt;1.12.429&lt;/aws-java-sdk-kinesis.version&gt;\r\n        &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\r\n        &lt;quickfixj-messages-fix44.version&gt;2.3.1&lt;/quickfixj-messages-fix44.version&gt;\r\n        &lt;ssm.version&gt;2.20.38&lt;/ssm.version&gt;\r\n        &lt;log4j-api.version&gt;2.21.1&lt;/log4j-api.version&gt;\r\n        &lt;amazon-kinesis-producer&gt;0.15.6&lt;/amazon-kinesis-producer&gt;\r\n        &lt;jaxb-api.version&gt;2.3.1&lt;/jaxb-api.version&gt;\r\n        &lt;json.version&gt;20230227&lt;/json.version&gt;\r\n        &lt;postgresql.version&gt;42.6.0&lt;/postgresql.version&gt;\r\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quickfixj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${quickfixj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;${gson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quickfixj-messages-fix44&lt;/artifactId&gt;\r\n            &lt;version&gt;${quickfixj-messages-fix44.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n            &lt;version&gt;${ssm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;amazon-kinesis-producer&lt;/artifactId&gt;\r\n            &lt;version&gt;${amazon-kinesis-producer}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;${json.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;[placeholder]-${project.version}&lt;/finalName&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.8.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;finalName&gt;[placeholder]&lt;/finalName&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;[placeholder]&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n```\r\n\r\n\r\nAfter building the JAR file I tried manually removing the Log4j2Plugins.dat file and this worked however this is not ideal and not something I&#39;d like to do everytime.\r\nIs there a way to prevent these errors from happening? Or if necessary is there a way to stop the Log4j2Plugins.dat file being created in my JAR when I do a maven install?","title":"Log4J ERROR StatusLogger Unrecognized conversion specifier","body":"<p>I am getting the following errors on deployment of my JAR file.\n<code> ERROR StatusLogger Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern. ERROR StatusLogger Unrecognized format specifier [level] ERROR StatusLogger Unrecognized conversion specifier [level] starting at position 35 in conversion pattern. ERROR StatusLogger Unrecognized format specifier [logger] ERROR StatusLogger Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern. ERROR StatusLogger Unrecognized format specifier [msg] ERROR StatusLogger Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern. ERROR StatusLogger Unrecognized format specifier [n] ERROR StatusLogger Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.</code></p>\n<p>I understand from reading around on here that this is probably an issue caused by the Log4j2Plugins.dat file. However unlike other posters here I'm not using the Maven shade plugin.</p>\n<p>This is my pom.xml</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;quickfixj-core.version&gt;2.3.1&lt;/quickfixj-core.version&gt;\n        &lt;aws-java-sdk-kinesis.version&gt;1.12.429&lt;/aws-java-sdk-kinesis.version&gt;\n        &lt;gson.version&gt;2.10.1&lt;/gson.version&gt;\n        &lt;quickfixj-messages-fix44.version&gt;2.3.1&lt;/quickfixj-messages-fix44.version&gt;\n        &lt;ssm.version&gt;2.20.38&lt;/ssm.version&gt;\n        &lt;log4j-api.version&gt;2.21.1&lt;/log4j-api.version&gt;\n        &lt;amazon-kinesis-producer&gt;0.15.6&lt;/amazon-kinesis-producer&gt;\n        &lt;jaxb-api.version&gt;2.3.1&lt;/jaxb-api.version&gt;\n        &lt;json.version&gt;20230227&lt;/json.version&gt;\n        &lt;postgresql.version&gt;42.6.0&lt;/postgresql.version&gt;\n        &lt;lombok.version&gt;1.18.26&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-core&lt;/artifactId&gt;\n            &lt;version&gt;${quickfixj-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;${gson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quickfixj&lt;/groupId&gt;\n            &lt;artifactId&gt;quickfixj-messages-fix44&lt;/artifactId&gt;\n            &lt;version&gt;${quickfixj-messages-fix44.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n            &lt;version&gt;${ssm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;${log4j-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;amazon-kinesis-producer&lt;/artifactId&gt;\n            &lt;version&gt;${amazon-kinesis-producer}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;${jaxb-api.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;${json.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;${postgresql.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;[placeholder]-${project.version}&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;[placeholder]&lt;/finalName&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;[placeholder]&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n<p>After building the JAR file I tried manually removing the Log4j2Plugins.dat file and this worked however this is not ideal and not something I'd like to do everytime.\nIs there a way to prevent these errors from happening? Or if necessary is there a way to stop the Log4j2Plugins.dat file being created in my JAR when I do a maven install?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698268720,"creation_date":1698264716,"answer_id":77362610,"question_id":77362495,"body_markdown":"Try writing to a _[StringBuilder](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html)_ class first, and then to _System#out_.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nStringBuilder s = new StringBuilder();\r\nint t = sc.nextInt(), n, k, a[], count, i;\r\nwhile(t &gt; 0){\r\n    a = new int[n = sc.nextInt()];\r\n    count = k = sc.nextInt() % n;\r\n    for(i = 0; i &lt; n; i++) a[i] = sc.nextInt();\r\n    for(i = 0; i &lt; n ; i++)\r\n        if (count &lt;= 0) s.append(a[i - k]).append(&#39; &#39;);\r\n        else {\r\n            s.append(a[n - k + i]).append(&#39; &#39;);\r\n            count--;\r\n        }\r\n    t--;\r\n    s.append(&#39;\\n&#39;);\r\n}\r\nSystem.out.println(s);\r\nsc.close();\r\n```","title":"HackerEarth code of Monk and Rotation in java","body":"<p>Try writing to a <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">StringBuilder</a></em> class first, and then to <em>System#out</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nStringBuilder s = new StringBuilder();\nint t = sc.nextInt(), n, k, a[], count, i;\nwhile(t &gt; 0){\n    a = new int[n = sc.nextInt()];\n    count = k = sc.nextInt() % n;\n    for(i = 0; i &lt; n; i++) a[i] = sc.nextInt();\n    for(i = 0; i &lt; n ; i++)\n        if (count &lt;= 0) s.append(a[i - k]).append(' ');\n        else {\n            s.append(a[n - k + i]).append(' ');\n            count--;\n        }\n    t--;\n    s.append('\\n');\n}\nSystem.out.println(s);\nsc.close();\n</code></pre>\n"}],"owner":{"account_id":29753939,"reputation":3,"user_id":22803177,"display_name":"shubham shingane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77362610,"answer_count":1,"score":-1,"last_activity_date":1698268720,"creation_date":1698263151,"question_id":77362495,"body_markdown":"Language Java 8\r\n\r\nInput\t  Result\t       Time (sec)   Memory(KiB) Score\r\n\r\nInput #1\t  Accepted\t0.075553\t    85528\t          10\r\n\r\nInput #2\t Accepted\t0.098481\t    86132\t          10\r\n\r\nInput #3\t Accepted\t0.147306\t    84196\t          20\r\n\r\nInput #4\t Accepted\t0.522715\t    91428\t         20\r\n\r\n**Input #5\tTime limit exceeded 2.0015\t99836\t0**\r\n\r\nInput #6\t  Accepted\t0.155435\t    84072\t        20\r\n\r\nTime limit exceeded?\r\n\r\n&lt;kbd&gt;Java Code&lt;/kbd&gt;\r\n\r\n```\r\nimport java.util.Scanner;\r\nclass TestClass {\r\n    public static void main(String args[] ) throws Exception {\r\n        Scanner sc = new Scanner(System.in);\r\n        int t = sc.nextInt();\r\n        while(t &gt; 0){\r\n        int n = sc.nextInt();\r\n        int k = sc.nextInt();\r\n        int a[] = new int[n];\r\n        k = k % n;\r\n        int count = k;\r\n        for(int i = 0; i &lt; n; i++){\r\n            a[i] = sc.nextInt();\r\n        }\r\n        for(int i = 0; i &lt; n ; i++){\r\n            if(count &gt; 0){\r\n                System.out.print(a[n - k + i] + &quot; &quot;);\r\n                count--;\r\n            }\r\n            else{\r\n                System.out.print(a[i - k] + &quot; &quot;);\r\n            }\r\n        }\r\n        t--;\r\n        System.out.println(&quot;&quot;);\r\n        }\r\n        sc.close();\r\n    }\r\n}\r\n```","title":"HackerEarth code of Monk and Rotation in java","body":"<p>Language Java 8</p>\n<p>Input     Result           Time (sec)   Memory(KiB) Score</p>\n<p>Input #1      Accepted  0.075553        85528             10</p>\n<p>Input #2     Accepted   0.098481        86132             10</p>\n<p>Input #3     Accepted   0.147306        84196             20</p>\n<p>Input #4     Accepted   0.522715        91428            20</p>\n<p><strong>Input #5  Time limit exceeded 2.0015  99836   0</strong></p>\n<p>Input #6      Accepted  0.155435        84072           20</p>\n<p>Time limit exceeded?</p>\n<p><kbd>Java Code</kbd></p>\n<pre><code>import java.util.Scanner;\nclass TestClass {\n    public static void main(String args[] ) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while(t &gt; 0){\n        int n = sc.nextInt();\n        int k = sc.nextInt();\n        int a[] = new int[n];\n        k = k % n;\n        int count = k;\n        for(int i = 0; i &lt; n; i++){\n            a[i] = sc.nextInt();\n        }\n        for(int i = 0; i &lt; n ; i++){\n            if(count &gt; 0){\n                System.out.print(a[n - k + i] + &quot; &quot;);\n                count--;\n            }\n            else{\n                System.out.print(a[i - k] + &quot; &quot;);\n            }\n        }\n        t--;\n        System.out.println(&quot;&quot;);\n        }\n        sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1689772039,"post_id":76720735,"comment_id":135260445,"body_markdown":"Checking this one for you with the team.","body":"Checking this one for you with the team."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1689773523,"post_id":76720735,"comment_id":135260872,"body_markdown":"Team said to log that in Java V2 Github here -- https://github.com/aws/aws-sdk-java-v2","body":"Team said to log that in Java V2 Github here -- <a href=\"https://github.com/aws/aws-sdk-java-v2\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java-v2</a>"},{"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"score":0,"creation_date":1689774633,"post_id":76720735,"comment_id":135261192,"body_markdown":"@smac2020 what do you mean by &#39;log in Java V2&#39; ?","body":"@smac2020 what do you mean by &#39;log in Java V2&#39; ?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":1,"creation_date":1689774697,"post_id":76720735,"comment_id":135261210,"body_markdown":"They said they are not aware of this functionality. So you can go to this Github link and  created a new issue.","body":"They said they are not aware of this functionality. So you can go to this Github link and  created a new issue."}],"owner":{"account_id":10116325,"reputation":418,"user_id":7474878,"display_name":"Isvoran Andrei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698268292,"creation_date":1689765528,"question_id":76720735,"body_markdown":"I&#39;m trying to migrate from aws sdk version 1.x to version 2.x\r\n\r\nMy code had the following snippet:\r\n\r\n\r\n    AmazonS3ClientBuilder clientBuilder = AmazonS3ClientBuilder.standard();\r\n    \r\n    ClientConfiguration clientConfiguration = new ClientConfiguration();\r\n    clientConfiguration.setSignerOverride(s3StorageConnection.getSignerType());\r\n    \r\n    clientBuilder.withClientConfiguration(clientConfiguration).build()\r\n\r\nSo now I&#39;m trying to `setSignerOverride` with the new sdk. I&#39;ve tried something like this:\r\n\r\n    ClientOverrideConfiguration overrideConfig =\r\n                    ClientOverrideConfiguration.builder()\r\n                            .putAdvancedOption(SdkAdvancedClientOption.SIGNER, signerType)\r\n                            .build();\r\n\r\nBut `putAdvancedOption` needs the `signerType` to be of type `Signer` while mine is a `String`\r\n\r\nCan I somehow convert `signerType` to a `Signer` object or is there a different way to do this?","title":"How do I overwrite the signer in AWS Java sdk version 2","body":"<p>I'm trying to migrate from aws sdk version 1.x to version 2.x</p>\n<p>My code had the following snippet:</p>\n<pre><code>AmazonS3ClientBuilder clientBuilder = AmazonS3ClientBuilder.standard();\n\nClientConfiguration clientConfiguration = new ClientConfiguration();\nclientConfiguration.setSignerOverride(s3StorageConnection.getSignerType());\n\nclientBuilder.withClientConfiguration(clientConfiguration).build()\n</code></pre>\n<p>So now I'm trying to <code>setSignerOverride</code> with the new sdk. I've tried something like this:</p>\n<pre><code>ClientOverrideConfiguration overrideConfig =\n                ClientOverrideConfiguration.builder()\n                        .putAdvancedOption(SdkAdvancedClientOption.SIGNER, signerType)\n                        .build();\n</code></pre>\n<p>But <code>putAdvancedOption</code> needs the <code>signerType</code> to be of type <code>Signer</code> while mine is a <code>String</code></p>\n<p>Can I somehow convert <code>signerType</code> to a <code>Signer</code> object or is there a different way to do this?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1698267834,"creation_date":1698267834,"question_id":77362887,"body_markdown":"I have common set up for microservices with discovery server( eureka ), api-gateway and services.\r\n\r\nNow i am using zipking for distributed tracing:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nI have order services, that internally calls another service to retreive info, In order service i am using this piece of code:\r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient.builder();\r\n        }\r\n    }\r\n\r\nAnd call:\r\n           \r\n       private final WebClient.Builder webClient;\r\n   \r\n       ....\r\n\r\n       InventoryResponse[] inventoryResponseArray = webClient.build().get()\r\n                .uri(&quot;http://inventory-service/api/inventory&quot;,\r\n                        uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n                .retrieve()\r\n                .bodyToMono(InventoryResponse[].class)\r\n                .block();\r\n\r\n\r\n\r\nThe functionality of this flow works as it should, however when i look into zipking i get:\r\n[![enter image description here][1]][1]\r\n\r\ne.g zipking isnt tracing the call from `order-service` to `inventory-service`. But when i look in zipkin i see call to the `inventory-service` with different `traceId` \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy isnt the call to `inventory-service` shown in the flow  but as separate call? I have created WebBuilder as bean which means the spring should inject some `HttpInterceptor` that should add the traceId/spanId.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NH9YD.png\r\n  [2]: https://i.stack.imgur.com/77Fex.png","title":"Zipkin isnt tracing whole request flow, but as separate request","body":"<p>I have common set up for microservices with discovery server( eureka ), api-gateway and services.</p>\n<p>Now i am using zipking for distributed tracing:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have order services, that internally calls another service to retreive info, In order service i am using this piece of code:</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<p>And call:</p>\n<pre><code>   private final WebClient.Builder webClient;\n\n   ....\n\n   InventoryResponse[] inventoryResponseArray = webClient.build().get()\n            .uri(&quot;http://inventory-service/api/inventory&quot;,\n                    uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n            .retrieve()\n            .bodyToMono(InventoryResponse[].class)\n            .block();\n</code></pre>\n<p>The functionality of this flow works as it should, however when i look into zipking i get:\n<a href=\"https://i.stack.imgur.com/NH9YD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NH9YD.png\" alt=\"enter image description here\" /></a></p>\n<p>e.g zipking isnt tracing the call from <code>order-service</code> to <code>inventory-service</code>. But when i look in zipkin i see call to the <code>inventory-service</code> with different <code>traceId</code></p>\n<p><a href=\"https://i.stack.imgur.com/77Fex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/77Fex.png\" alt=\"enter image description here\" /></a></p>\n<p>Why isnt the call to <code>inventory-service</code> shown in the flow  but as separate call? I have created WebBuilder as bean which means the spring should inject some <code>HttpInterceptor</code> that should add the traceId/spanId.</p>\n"},{"tags":["java","serialization","gson"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":1,"creation_date":1386777116,"post_id":20523693,"comment_id":30684060,"body_markdown":"Your Json is invalid.  Need a comma before &quot;Andy&quot;","body":"Your Json is invalid.  Need a comma before &quot;Andy&quot;"},{"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"score":1,"creation_date":1386777236,"post_id":20523693,"comment_id":30684160,"body_markdown":"I&#39;m sorry, the JSON is definitely valid. I just shortened the JSON and forgot it. It&#39;s more about the GSON part on how to interpret it to key-value where value is an object to be serialized by GSON.","body":"I&#39;m sorry, the JSON is definitely valid. I just shortened the JSON and forgot it. It&#39;s more about the GSON part on how to interpret it to key-value where value is an object to be serialized by GSON."}],"answers":[{"comments":[{"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"score":0,"creation_date":1386778049,"post_id":20523955,"comment_id":30684804,"body_markdown":"Okay, I had another problem and I&#39;M sorry that I bothered your time. I had a mistake in my class types that I didn&#39;t even post here, but your confirmation that the GSON part works helped me realize where to look at. Thanks!","body":"Okay, I had another problem and I&#39;M sorry that I bothered your time. I had a mistake in my class types that I didn&#39;t even post here, but your confirmation that the GSON part works helped me realize where to look at. Thanks!"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1386778138,"post_id":20523955,"comment_id":30684871,"body_markdown":"@luuksen You&#39;re welcome. `Gson` is usually pretty good in its error statements. The `BEGIN_ARRAY`, `BEGIN_OBJECT`, `NUMBER` and `STRING` will indicate what the Gson parser is actually reading instead of what is expected.","body":"@luuksen You&#39;re welcome. <code>Gson</code> is usually pretty good in its error statements. The <code>BEGIN_ARRAY</code>, <code>BEGIN_OBJECT</code>, <code>NUMBER</code> and <code>STRING</code> will indicate what the Gson parser is actually reading instead of what is expected."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1698267810,"creation_date":1386777665,"answer_id":20523955,"question_id":20523693,"body_markdown":"The following sample works for me\r\n\r\n\tstatic class PersonData {\r\n\t\tint age;\r\n\t\tString surname;\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;[age = &quot; + age + &quot;, surname = &quot; + surname + &quot;]&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString json = &quot;{\\&quot;Thomas\\&quot;: {\\&quot;age\\&quot;: 32,\\&quot;surname\\&quot;: \\&quot;Scott\\&quot;},\\&quot;Andy\\&quot;: {\\&quot;age\\&quot;: 25,\\&quot;surname\\&quot;: \\&quot;Miller\\&quot;}}&quot;;\r\n\t\tSystem.out.println(json);\r\n\t\tGson gson = new Gson();\r\n\t\tMap&lt;String, PersonData&gt; decoded = gson.fromJson(json, new TypeToken&lt;Map&lt;String, PersonData&gt;&gt;(){}.getType());\r\n\t\tSystem.out.println(decoded);\r\n\t}\r\n\r\nand prints \r\n\r\n    {&quot;Thomas&quot;: {&quot;age&quot;: 32,&quot;surname&quot;: &quot;Scott&quot;},&quot;Andy&quot;: {&quot;age&quot;: 25,&quot;surname&quot;: &quot;Miller&quot;}}\r\n    {Thomas=[age = 32, surname = Scott], Andy=[age = 25, surname = Miller]}\r\n\r\nLikely your `PersonData` class is very different.","title":"How to de-serialize a Map&lt;String, Object&gt; with GSON","body":"<p>The following sample works for me</p>\n<pre><code>static class PersonData {\n    int age;\n    String surname;\n    public String toString() {\n        return &quot;[age = &quot; + age + &quot;, surname = &quot; + surname + &quot;]&quot;;\n    }\n}\n\npublic static void main(String[] args) {\n    String json = &quot;{\\&quot;Thomas\\&quot;: {\\&quot;age\\&quot;: 32,\\&quot;surname\\&quot;: \\&quot;Scott\\&quot;},\\&quot;Andy\\&quot;: {\\&quot;age\\&quot;: 25,\\&quot;surname\\&quot;: \\&quot;Miller\\&quot;}}&quot;;\n    System.out.println(json);\n    Gson gson = new Gson();\n    Map&lt;String, PersonData&gt; decoded = gson.fromJson(json, new TypeToken&lt;Map&lt;String, PersonData&gt;&gt;(){}.getType());\n    System.out.println(decoded);\n}\n</code></pre>\n<p>and prints</p>\n<pre><code>{&quot;Thomas&quot;: {&quot;age&quot;: 32,&quot;surname&quot;: &quot;Scott&quot;},&quot;Andy&quot;: {&quot;age&quot;: 25,&quot;surname&quot;: &quot;Miller&quot;}}\n{Thomas=[age = 32, surname = Scott], Andy=[age = 25, surname = Miller]}\n</code></pre>\n<p>Likely your <code>PersonData</code> class is very different.</p>\n"},{"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1386777845,"creation_date":1386777845,"answer_id":20524035,"question_id":20523693,"body_markdown":"You can use `gson.toJsonTree(Object o)` to convert your custom object to JSON format.\r\n\r\nThe following works for me:\r\n\r\n    private static class PersonData {\r\n\t\tprivate int age;\r\n\t\tprivate String surname;\r\n\t\t\r\n\t\tpublic PersonData(int age, String surname) {\r\n\t\t\tthis.age = age;\r\n\t\t\tthis.surname = surname;\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tPersonData first = new PersonData(24, &quot;Yovkov&quot;);\r\n\t\tPersonData second = new PersonData(25, &quot;Vitanov&quot;);\r\n\t\t\r\n\t\tGson gson = new Gson();\r\n\t\t\r\n\t\tJsonObject jsonObject = new JsonObject();\r\n\t\tjsonObject.add(&quot;kocko&quot;, gson.toJsonTree(first));\r\n\t\tjsonObject.add(&quot;deyan&quot;, gson.toJsonTree(second));\r\n\t\t\r\n\t\tSystem.out.println(gson.toJson(jsonObject));\r\n\r\n\t}\r\n\r\nand prints:\r\n\r\n    {&quot;kocko&quot;:{&quot;age&quot;:24,&quot;surname&quot;:&quot;Yovkov&quot;},&quot;deyan&quot;:{&quot;age&quot;:25,&quot;surname&quot;:&quot;Vitanov&quot;}}\r\n","title":"How to de-serialize a Map&lt;String, Object&gt; with GSON","body":"<p>You can use <code>gson.toJsonTree(Object o)</code> to convert your custom object to JSON format.</p>\n\n<p>The following works for me:</p>\n\n<pre><code>private static class PersonData {\n    private int age;\n    private String surname;\n\n    public PersonData(int age, String surname) {\n        this.age = age;\n        this.surname = surname;\n    }\n}\n\npublic static void main(String[] args) {\n    PersonData first = new PersonData(24, \"Yovkov\");\n    PersonData second = new PersonData(25, \"Vitanov\");\n\n    Gson gson = new Gson();\n\n    JsonObject jsonObject = new JsonObject();\n    jsonObject.add(\"kocko\", gson.toJsonTree(first));\n    jsonObject.add(\"deyan\", gson.toJsonTree(second));\n\n    System.out.println(gson.toJson(jsonObject));\n\n}\n</code></pre>\n\n<p>and prints:</p>\n\n<pre><code>{\"kocko\":{\"age\":24,\"surname\":\"Yovkov\"},\"deyan\":{\"age\":25,\"surname\":\"Vitanov\"}}\n</code></pre>\n"}],"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38082,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":20523955,"answer_count":2,"score":16,"last_activity_date":1698267810,"creation_date":1386777044,"question_id":20523693,"body_markdown":"i am fairly new to GSON and get a JSON response of this format (just an easier example, so the values make no sense):\r\n\r\n    {\r\n        &quot;Thomas&quot;: {\r\n            &quot;age&quot;: 32,\r\n            &quot;surname&quot;: &quot;Scott&quot;\r\n        },\r\n        &quot;Andy&quot;: {\r\n            &quot;age&quot;: 25,\r\n            &quot;surname&quot;: &quot;Miller&quot;\r\n        }\r\n    }\r\n\r\nI want GSON to make it a Map&lt;String, PersonData&gt;, PersonData is obviously an Object. The name string is the identifier for the PersonData.\r\n\r\nAs I said I am very new to GSON and only tried something like:\r\n\r\n    Gson gson = new Gson();\r\n    Map&lt;String, PersonData&gt; decoded = gson.fromJson(jsonString, new TypeToken&lt;Map&lt;String, PersonData&gt;&gt;(){}.getType());\r\nbut this threw the error:\r\n\r\n    Exception in thread &quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 3141\r\n\r\nAny help is appreciated :)","title":"How to de-serialize a Map&lt;String, Object&gt; with GSON","body":"<p>i am fairly new to GSON and get a JSON response of this format (just an easier example, so the values make no sense):</p>\n\n<pre><code>{\n    \"Thomas\": {\n        \"age\": 32,\n        \"surname\": \"Scott\"\n    },\n    \"Andy\": {\n        \"age\": 25,\n        \"surname\": \"Miller\"\n    }\n}\n</code></pre>\n\n<p>I want GSON to make it a Map, PersonData is obviously an Object. The name string is the identifier for the PersonData.</p>\n\n<p>As I said I am very new to GSON and only tried something like:</p>\n\n<pre><code>Gson gson = new Gson();\nMap&lt;String, PersonData&gt; decoded = gson.fromJson(jsonString, new TypeToken&lt;Map&lt;String, PersonData&gt;&gt;(){}.getType());\n</code></pre>\n\n<p>but this threw the error:</p>\n\n<pre><code>Exception in thread \"main\" com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 3141\n</code></pre>\n\n<p>Any help is appreciated :)</p>\n"},{"tags":["java","cassandra","datastax","hocon"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698153859,"post_id":77352413,"comment_id":136366906,"body_markdown":"Sounds like it worked fine, just didn&#39;t evaluate to the value you expected. I.e, it didn&#39;t remain a literal as `${DOCKER_IP}:9042`","body":"Sounds like it worked fine, just didn&#39;t evaluate to the value you expected. I.e, it didn&#39;t remain a literal as <code>${DOCKER_IP}:9042</code>"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1698158005,"post_id":77352413,"comment_id":136367937,"body_markdown":"Not sure I follow if I hard code it works but if I try to use the env var it resorts to the default because it can&#39;t find it (or can&#39;t parse it because the Env var is not resolving) What I need is the correct voodoo to get it to resolve and pass the env var properly","body":"Not sure I follow if I hard code it works but if I try to use the env var it resorts to the default because it can&#39;t find it (or can&#39;t parse it because the Env var is not resolving) What I need is the correct voodoo to get it to resolve and pass the env var properly"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698158474,"post_id":77352413,"comment_id":136368027,"body_markdown":"Well, 1) the file appears to be HOCON config - https://github.com/lightbend/config/blob/main/HOCON.md#substitution-fallback-to-environment-variables 2) The seed addresses and listeners from Cassandra matter as well - https://cassandra.apache.org/doc/latest/cassandra/getting_started/configuring.html 3) If you run Cassandra within Docker container with a port-forward, you don&#39;t need an IP address, anyway","body":"Well, 1) the file appears to be HOCON config - <a href=\"https://github.com/lightbend/config/blob/main/HOCON.md#substitution-fallback-to-environment-variables\" rel=\"nofollow noreferrer\">github.com/lightbend/config/blob/main/&hellip;</a> 2) The seed addresses and listeners from Cassandra matter as well - <a href=\"https://cassandra.apache.org/doc/latest/cassandra/getting_started/configuring.html\" rel=\"nofollow noreferrer\">cassandra.apache.org/doc/latest/cassandra/getting_started/&hellip;</a> 3) If you run Cassandra within Docker container with a port-forward, you don&#39;t need an IP address, anyway"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1698158775,"post_id":77352413,"comment_id":136368094,"body_markdown":"We aren&#39;t/can&#39;t use port-forward so we need it to be an external IP I can try to look into number 2 thank you for the idea","body":"We aren&#39;t/can&#39;t use port-forward so we need it to be an external IP I can try to look into number 2 thank you for the idea"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698420412,"post_id":77352413,"comment_id":136407759,"body_markdown":"Not sure I understand &quot;can&#39;t&quot;? Port forwarding from Docker Desktop hypervisor will be required if not running the container on Linux.","body":"Not sure I understand &quot;can&#39;t&quot;? Port forwarding from Docker Desktop hypervisor will be required if not running the container on Linux."},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1698688586,"post_id":77352413,"comment_id":136434449,"body_markdown":"@OneCricketeer in other words I am limited on what I can do so if that is setup wrong it would be an admin fix since I don&#39;t have permissions","body":"@OneCricketeer in other words I am limited on what I can do so if that is setup wrong it would be an admin fix since I don&#39;t have permissions"}],"answers":[{"comments":[{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":1,"creation_date":1698260759,"post_id":77359656,"comment_id":136384210,"body_markdown":"This did not work","body":"This did not work"}],"tags":[],"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698238443,"creation_date":1698238443,"answer_id":77359656,"question_id":77352413,"body_markdown":"[@clunven](https://stackoverflow.com/users/3890779/clunven) suggested that it is possible and [here is an example](https://github.com/spring-petclinic/spring-petclinic-reactive/blob/master/src/main/resources/application-local.conf) where it is done.\r\n\r\nTL;DR\r\n\r\nset it as `contact-points = [${CASSANDRA_CONTACT_POINTS}]` and the env variable is set as `CASSANDRA_CONTACT_POINTS: &quot;cassandra:9042&quot;` as an example.","title":"How do I pass an environment variable to the application.conf using the Datastax Java Cassandra Driver","body":"<p><a href=\"https://stackoverflow.com/users/3890779/clunven\">@clunven</a> suggested that it is possible and <a href=\"https://github.com/spring-petclinic/spring-petclinic-reactive/blob/master/src/main/resources/application-local.conf\" rel=\"nofollow noreferrer\">here is an example</a> where it is done.</p>\n<p>TL;DR</p>\n<p>set it as <code>contact-points = [${CASSANDRA_CONTACT_POINTS}]</code> and the env variable is set as <code>CASSANDRA_CONTACT_POINTS: &quot;cassandra:9042&quot;</code> as an example.</p>\n"},{"tags":[],"owner":{"account_id":6928051,"reputation":201,"user_id":5318486,"display_name":"absurdfarce"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698266879,"creation_date":1698266879,"answer_id":77362794,"question_id":77352413,"body_markdown":"The answer offered by [@Madhavan](https://stackoverflow.com/users/10410162/madhavan) above is absolutely correct.  For sake of completeness I wanted to expand on it just a bit.\r\n\r\nThe Java driver uses the [Typesafe Config](https://github.com/lightbend/config) lib to perform it&#39;s configuration.  That lib provides a couple different methods for overriding config values at runtime.  Out of the box you can override any config value by providing a system property that exactly matches the config name.  So to override the specified contact points you could use the following flag when invoking the JVM:\r\n\r\n    -Ddatastax-java-driver.basic.contact-points.1=&#39;1.2.3.4:9042&#39;\r\n\r\nThe &quot;.1&quot; suffix is added here because &quot;contact-points&quot; is an array of values; see [the docs](https://github.com/lightbend/config#optional-system-or-env-variable-overrides) for more detail.\r\n\r\nThe second option is to enable environment variable overrides for config values and then provide the appropriate env var.  To enable this feature you should provide the following system property:\r\n\r\n    -Dconfig.override_with_env_vars=true\r\n\r\nYou can then provide the value for any config variable via an environment variable.  For example, to accomplish the same replacement specified above you might use the following env var:\r\n\r\n    CONFIG_FORCE_datastax__java__driver_basic_contact__points_0=&quot;1.2.3.4:9042&quot;\r\n\r\nYou can find additional information about the &quot;CONFIG_FORCE_&quot; prefix and the rules around translating config property names into environment variables in the Typesafe Config docs referenced above.","title":"How do I pass an environment variable to the application.conf using the Datastax Java Cassandra Driver","body":"<p>The answer offered by <a href=\"https://stackoverflow.com/users/10410162/madhavan\">@Madhavan</a> above is absolutely correct.  For sake of completeness I wanted to expand on it just a bit.</p>\n<p>The Java driver uses the <a href=\"https://github.com/lightbend/config\" rel=\"nofollow noreferrer\">Typesafe Config</a> lib to perform it's configuration.  That lib provides a couple different methods for overriding config values at runtime.  Out of the box you can override any config value by providing a system property that exactly matches the config name.  So to override the specified contact points you could use the following flag when invoking the JVM:</p>\n<pre><code>-Ddatastax-java-driver.basic.contact-points.1='1.2.3.4:9042'\n</code></pre>\n<p>The &quot;.1&quot; suffix is added here because &quot;contact-points&quot; is an array of values; see <a href=\"https://github.com/lightbend/config#optional-system-or-env-variable-overrides\" rel=\"nofollow noreferrer\">the docs</a> for more detail.</p>\n<p>The second option is to enable environment variable overrides for config values and then provide the appropriate env var.  To enable this feature you should provide the following system property:</p>\n<pre><code>-Dconfig.override_with_env_vars=true\n</code></pre>\n<p>You can then provide the value for any config variable via an environment variable.  For example, to accomplish the same replacement specified above you might use the following env var:</p>\n<pre><code>CONFIG_FORCE_datastax__java__driver_basic_contact__points_0=&quot;1.2.3.4:9042&quot;\n</code></pre>\n<p>You can find additional information about the &quot;CONFIG_FORCE_&quot; prefix and the rules around translating config property names into environment variables in the Typesafe Config docs referenced above.</p>\n"}],"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698266879,"creation_date":1698153509,"question_id":77352413,"body_markdown":"I have the current `application.conf`...\r\n\r\n```\r\ndatastax-java-driver {\r\n  basic.contact-points = [&quot;192.168.23.1:9042&quot;]\r\n  basic {\r\n    load-balancing-policy {\r\n      local-datacenter = datacenter1\r\n    }\r\n  }\r\n  advanced.metrics {\r\n    factory.class = MicrometerMetricsFactory\r\n  }\r\n  advanced.request.warn-if-set-keyspace = false\r\n  advanced.auth-provider {\r\n    class = PlainTextAuthProvider\r\n    username = cassandra\r\n    password = cassandra\r\n  }\r\n  profiles {\r\n    slow {\r\n      basic.request.timeout = 10 seconds\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI also have a env var with the IP address DOCKER_IP. I tried \r\n\r\n`basic.contact-points = [&quot;${DOCKER_IP}:9042&quot;]`\r\n\r\nBut it didn&#39;t work and instead defaulted to the local computer.","title":"How do I pass an environment variable to the application.conf using the Datastax Java Cassandra Driver","body":"<p>I have the current <code>application.conf</code>...</p>\n<pre><code>datastax-java-driver {\n  basic.contact-points = [&quot;192.168.23.1:9042&quot;]\n  basic {\n    load-balancing-policy {\n      local-datacenter = datacenter1\n    }\n  }\n  advanced.metrics {\n    factory.class = MicrometerMetricsFactory\n  }\n  advanced.request.warn-if-set-keyspace = false\n  advanced.auth-provider {\n    class = PlainTextAuthProvider\n    username = cassandra\n    password = cassandra\n  }\n  profiles {\n    slow {\n      basic.request.timeout = 10 seconds\n    }\n  }\n}\n</code></pre>\n<p>I also have a env var with the IP address DOCKER_IP. I tried</p>\n<p><code>basic.contact-points = [&quot;${DOCKER_IP}:9042&quot;]</code></p>\n<p>But it didn't work and instead defaulted to the local computer.</p>\n"},{"tags":["java","amazon-sqs","aws-sdk-java"],"owner":{"account_id":49802,"reputation":46805,"user_id":148423,"accept_rate":74,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698266747,"creation_date":1698266747,"question_id":77362780,"body_markdown":"I want to poll and process SQS messages with high throughput. I have a number of threads, each with a SQS poller in a Spring `@Async`. At the moment the code is simply printing the message. My hope is that I can adjust the threadcount and hopefully get throughput increases.\r\n\r\nWhen I scale the number of parallel tasks I see more concurrent pollers. But I don&#39;t see an increase in throughput as I scale from 1 to 10. I see it maxing out at about 30 messages per second, which seems very low.\r\n\r\nI have added a connection pool to the SQS client in case it&#39;s starving the connection pool. \r\n\r\nAm I doing something obviously wrong in the way I use the SDK?\r\n\r\nThis code isn&#39;t well structured, but it&#39;s enough to demonstrate my issue.\r\n\r\n```kotlin\r\n@Component\r\nclass Poller\r\n    (val client : SqsClient)\r\n{\r\n    private val logger: Logger = LoggerFactory.getLogger(this::class.java)\r\n\r\n    @Async\r\n    fun runInBackground(pollerId: Int, client: SqsClient) {\r\n        val queueName = &quot;MY-QUEUE&quot;\r\n\r\n        val queueUrl = client.getQueueUrl(GetQueueUrlRequest.builder().queueName(queueName).build()).queueUrl()\r\n\r\n        val request = ReceiveMessageRequest.builder().queueUrl(queueUrl).maxNumberOfMessages(10)\r\n            .waitTimeSeconds(1).build()\r\n\r\n        while (true) {\r\n            val messages = client.receiveMessage(request).messages()\r\n\r\n            for (m in messages) {\r\n                logger.info(&quot;MESSAGE T$pollerId :  ${m.messageId()}&quot;)\r\n            }\r\n\r\n            for (m in messages) {\r\n                client.deleteMessage(\r\n                    DeleteMessageRequest.builder().queueUrl(queueUrl).receiptHandle(m.receiptHandle()).build()\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Component\r\nclass Poller(\r\n    val runner : MyBackgroundService\r\n) {\r\n\r\n    private val logger: Logger = LoggerFactory.getLogger(this::class.java)\r\n\r\n    @PostConstruct\r\n    fun startBackgroundService() {\r\n        val client = SqsClient.builder()\r\n            .defaultsMode(DefaultsMode.AUTO)\r\n            .httpClient(ApacheHttpClient.builder().maxConnections(200).build())\r\n            .build()\r\n\r\n        repeat(10) {\r\n            runner.runInBackground(it, client)\r\n        }\r\n    }\r\n}","title":"Java SQS client throughput doesn&#39;t scale up in parallel","body":"<p>I want to poll and process SQS messages with high throughput. I have a number of threads, each with a SQS poller in a Spring <code>@Async</code>. At the moment the code is simply printing the message. My hope is that I can adjust the threadcount and hopefully get throughput increases.</p>\n<p>When I scale the number of parallel tasks I see more concurrent pollers. But I don't see an increase in throughput as I scale from 1 to 10. I see it maxing out at about 30 messages per second, which seems very low.</p>\n<p>I have added a connection pool to the SQS client in case it's starving the connection pool.</p>\n<p>Am I doing something obviously wrong in the way I use the SDK?</p>\n<p>This code isn't well structured, but it's enough to demonstrate my issue.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass Poller\n    (val client : SqsClient)\n{\n    private val logger: Logger = LoggerFactory.getLogger(this::class.java)\n\n    @Async\n    fun runInBackground(pollerId: Int, client: SqsClient) {\n        val queueName = &quot;MY-QUEUE&quot;\n\n        val queueUrl = client.getQueueUrl(GetQueueUrlRequest.builder().queueName(queueName).build()).queueUrl()\n\n        val request = ReceiveMessageRequest.builder().queueUrl(queueUrl).maxNumberOfMessages(10)\n            .waitTimeSeconds(1).build()\n\n        while (true) {\n            val messages = client.receiveMessage(request).messages()\n\n            for (m in messages) {\n                logger.info(&quot;MESSAGE T$pollerId :  ${m.messageId()}&quot;)\n            }\n\n            for (m in messages) {\n                client.deleteMessage(\n                    DeleteMessageRequest.builder().queueUrl(queueUrl).receiptHandle(m.receiptHandle()).build()\n                )\n            }\n        }\n    }\n}\n\n\n@Component\nclass Poller(\n    val runner : MyBackgroundService\n) {\n\n    private val logger: Logger = LoggerFactory.getLogger(this::class.java)\n\n    @PostConstruct\n    fun startBackgroundService() {\n        val client = SqsClient.builder()\n            .defaultsMode(DefaultsMode.AUTO)\n            .httpClient(ApacheHttpClient.builder().maxConnections(200).build())\n            .build()\n\n        repeat(10) {\n            runner.runInBackground(it, client)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","java.util.scanner","instance"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1698259816,"post_id":77362131,"comment_id":136384062,"body_markdown":"please show at least some lines of your file","body":"please show at least some lines of your file"},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1698259912,"post_id":77362131,"comment_id":136384079,"body_markdown":"right off the top, you should switch the lines `i++;` and `nations[i].setcountry(myReader.nextLine());` you aren&#39;t assigning anything to nations[0] right now. and more importantly if there is 205 lines in your file you are assigning your last line to memory outside your array","body":"right off the top, you should switch the lines <code>i++;</code> and <code>nations[i].setcountry(myReader.nextLine());</code> you aren&#39;t assigning anything to nations[0] right now. and more importantly if there is 205 lines in your file you are assigning your last line to memory outside your array"}],"answers":[{"comments":[{"owner":{"account_id":29753577,"reputation":1,"user_id":22802904,"display_name":"ShoeL4ce"},"score":0,"creation_date":1698261384,"post_id":77362274,"comment_id":136384323,"body_markdown":"yup that was it thanks a lot","body":"yup that was it thanks a lot"}],"tags":[],"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698260765,"creation_date":1698260765,"answer_id":77362274,"question_id":77362131,"body_markdown":"your country and capital must not be static in class Nation, since that way they got overwritten every time for the class. And since any instance uses the static variable as if it where an instance variable, all instances see the last change. so just remove static there. And afterwards clean up the remaining code.","title":"Trying to put each line of an external file inside an array of custom class","body":"<p>your country and capital must not be static in class Nation, since that way they got overwritten every time for the class. And since any instance uses the static variable as if it where an instance variable, all instances see the last change. so just remove static there. And afterwards clean up the remaining code.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698266199,"creation_date":1698266199,"answer_id":77362736,"question_id":77362131,"body_markdown":"Your _Nation_ class is using _static_ variables.\r\n\r\n```java\r\nprivate static String country = &quot;empty&quot;;\r\nprivate static String capital = &quot;empty&quot;;\r\n```\r\n\r\nUse a _[record class](https://docs.oracle.com/en/java/javase/21/language/records.html)_, instead.\r\n\r\n```java\r\nrecord Nation(String coountry, String caapital) { }\r\n```\r\n\r\n```java\r\nList&lt;Nation&gt; nations = new ArrayList&lt;&gt;();\r\ntry (Scanner myReader = new Scanner(new File(&quot;country.txt&quot;))) {\r\n    String[] s;\r\n    while (myReader.hasNextLine()) {\r\n        s = myReader.nextLine().split(&quot; &quot;);\r\n        nations.add(new Nation(s[0], s[1]));\r\n    }\r\n} catch (FileNotFoundException e) {\r\n    System.out.println(&quot;An error occurred.&quot;);\r\n    e.printStackTrace();\r\n}\r\nSystem.out.println(nations.get(1).coountry());\r\nSystem.out.println(nations.get(3).coountry());\r\nSystem.out.println(nations.get(5).coountry());\r\nSystem.out.println(nations.get(100).coountry());\r\n```","title":"Trying to put each line of an external file inside an array of custom class","body":"<p>Your <em>Nation</em> class is using <em>static</em> variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String country = &quot;empty&quot;;\nprivate static String capital = &quot;empty&quot;;\n</code></pre>\n<p>Use a <em><a href=\"https://docs.oracle.com/en/java/javase/21/language/records.html\" rel=\"nofollow noreferrer\">record class</a></em>, instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Nation(String coountry, String caapital) { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Nation&gt; nations = new ArrayList&lt;&gt;();\ntry (Scanner myReader = new Scanner(new File(&quot;country.txt&quot;))) {\n    String[] s;\n    while (myReader.hasNextLine()) {\n        s = myReader.nextLine().split(&quot; &quot;);\n        nations.add(new Nation(s[0], s[1]));\n    }\n} catch (FileNotFoundException e) {\n    System.out.println(&quot;An error occurred.&quot;);\n    e.printStackTrace();\n}\nSystem.out.println(nations.get(1).coountry());\nSystem.out.println(nations.get(3).coountry());\nSystem.out.println(nations.get(5).coountry());\nSystem.out.println(nations.get(100).coountry());\n</code></pre>\n"}],"owner":{"account_id":29753577,"reputation":1,"user_id":22802904,"display_name":"ShoeL4ce"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698266199,"creation_date":1698259086,"question_id":77362131,"body_markdown":"I have a text file that has name of all countries and capitals, I made a class called nation, with country name and capital name and I&#39;m trying to take each line of the text file and adding it to the array of nations I created.\r\nMy main file is this\r\n\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        final int  SIZE = 205;\r\n        Nation nations [];\r\n        nations = new Nation[SIZE];\r\n        int i = 0;\r\n        for(int j = 0; j &lt; 205 ; j++ ){\r\n            nations[j] = new Nation();\r\n        }\r\n        try {\r\n            File myObj = new File(&quot;country.txt&quot;);\r\n            Scanner myReader = new Scanner(myObj);\r\n            while (myReader.hasNextLine()) {\r\n                i++;\r\n                nations[i].setcountry(myReader.nextLine());\r\n\r\n            }\r\n            myReader.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(nations[1].getCountry());\r\n        System.out.println(nations[3].getCountry());\r\n        System.out.println(nations[5].getCountry());\r\n        System.out.println(nations[100].getCountry());\r\n    }\r\n    }\r\n\r\n\r\n```\r\nMy class is pretty simple there shouldn&#39;t be anything wrong with it\r\n\r\n\r\n```\r\npublic class Nation {\r\n    private static String country = &quot;empty&quot;;\r\n    private static String capital = &quot;empty&quot;;\r\n    public Nation(){\r\n        country = &quot;empty&quot;;\r\n        capital = &quot;empty&quot;;\r\n    }\r\n    public Nation(String coountry, String caapital){\r\n        country = coountry;\r\n        capital = caapital;\r\n    }\r\n\r\n    public void setCapital(String capital){\r\n        this.capital = capital;\r\n    }\r\n    public void setcountry(String country){\r\n        this.country = country;\r\n    }\r\n    public String getCapital(){return this.capital;}\r\n    public String getCountry(){return this.country;}\r\n\r\n}\r\n\r\n```\r\nMy text file is something like this:\r\nCountry_name       Capital_Name\r\n\r\n\r\n\r\nin my head the output should be &quot;index_country_name index_capital_name&quot; but every single output is \r\nZimbabwe Harare\r\nZimbabwe Harare\r\nZimbabwe Harare\r\nZimbabwe Harare\r\n\r\nwhich is the final country in the text file,\r\nI also added a bunch of redundant code in hopes that it might fix the issue so sorry if the code is extra ugly","title":"Trying to put each line of an external file inside an array of custom class","body":"<p>I have a text file that has name of all countries and capitals, I made a class called nation, with country name and capital name and I'm trying to take each line of the text file and adding it to the array of nations I created.\nMy main file is this</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        final int  SIZE = 205;\n        Nation nations [];\n        nations = new Nation[SIZE];\n        int i = 0;\n        for(int j = 0; j &lt; 205 ; j++ ){\n            nations[j] = new Nation();\n        }\n        try {\n            File myObj = new File(&quot;country.txt&quot;);\n            Scanner myReader = new Scanner(myObj);\n            while (myReader.hasNextLine()) {\n                i++;\n                nations[i].setcountry(myReader.nextLine());\n\n            }\n            myReader.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n        System.out.println(nations[1].getCountry());\n        System.out.println(nations[3].getCountry());\n        System.out.println(nations[5].getCountry());\n        System.out.println(nations[100].getCountry());\n    }\n    }\n\n\n</code></pre>\n<p>My class is pretty simple there shouldn't be anything wrong with it</p>\n<pre><code>public class Nation {\n    private static String country = &quot;empty&quot;;\n    private static String capital = &quot;empty&quot;;\n    public Nation(){\n        country = &quot;empty&quot;;\n        capital = &quot;empty&quot;;\n    }\n    public Nation(String coountry, String caapital){\n        country = coountry;\n        capital = caapital;\n    }\n\n    public void setCapital(String capital){\n        this.capital = capital;\n    }\n    public void setcountry(String country){\n        this.country = country;\n    }\n    public String getCapital(){return this.capital;}\n    public String getCountry(){return this.country;}\n\n}\n\n</code></pre>\n<p>My text file is something like this:\nCountry_name       Capital_Name</p>\n<p>in my head the output should be &quot;index_country_name index_capital_name&quot; but every single output is\nZimbabwe Harare\nZimbabwe Harare\nZimbabwe Harare\nZimbabwe Harare</p>\n<p>which is the final country in the text file,\nI also added a bunch of redundant code in hopes that it might fix the issue so sorry if the code is extra ugly</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13456568,"reputation":301,"user_id":9722060,"display_name":"Stefan Rendevski"},"score":3,"creation_date":1698260102,"post_id":77362200,"comment_id":136384103,"body_markdown":"The first example uses a foreach loop. Meaning it iterates over the members of the array. More specifically, i is not 0,1,2, but rather 1, 2, 2.","body":"The first example uses a foreach loop. Meaning it iterates over the members of the array. More specifically, i is not 0,1,2, but rather 1, 2, 2."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1698261052,"post_id":77362247,"comment_id":136384269,"body_markdown":"I explained in my answer, hope it helps!","body":"I explained in my answer, hope it helps!"}],"tags":[],"owner":{"account_id":29753705,"reputation":11,"user_id":22802997,"display_name":"stacktrace"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698261581,"creation_date":1698260607,"answer_id":77362247,"question_id":77362200,"body_markdown":"When using foreach loop we have to use `n` instead of `n[i]`.\r\n\r\n``` java\r\nsum += n * n;\r\n```\r\n\r\nHowever, I still don t understand why the result of wrong code is `12` instead of an exception?","title":"Why foreach loop gives the wrong sum in this situation?","body":"<p>When using foreach loop we have to use <code>n</code> instead of <code>n[i]</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sum += n * n;\n</code></pre>\n<p>However, I still don t understand why the result of wrong code is <code>12</code> instead of an exception?</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698261130,"creation_date":1698260732,"answer_id":77362268,"question_id":77362200,"body_markdown":"In the first code:\r\n\r\n```java\r\npublic class Kata {\r\n    public static int squareSum(int[] n) {\r\n        int sum = 0;\r\n        for (int i : n) {\r\n            sum += n[i] * n[i];\r\n        }\r\n        return sum;\r\n    }\r\n}\r\n```\r\n\r\nYou are **using the values as index**, so the iterations will be:\r\n\r\n 1. `i = 1` -&gt; `n[i] = 2`\r\n 2. `i = 2` -&gt; `n[i] = 2`\r\n 3. `i = 2` -&gt; `n[i] = 2`\r\n\r\nIn the second code:\r\n\r\n```java\r\npublic class Kata {\r\n    public static int squareSum(int[] n) {\r\n        int sum = 0;\r\n        for (int i = 0; i &lt; n.length; i++) {\r\n            sum += n[i] * n[i];\r\n        }\r\n        return sum;\r\n    }\r\n}\r\n```\r\n\r\nWorks because you are **correctly iterating over the indexes**, so the iterations will be:\r\n\r\n 1. `i = 0` -&gt; `n[i] = 1`\r\n 2. `i = 1` -&gt; `n[i] = 2`\r\n 3. `i = 2` -&gt; `n[i] = 2`\r\n\r\nIf you want to use a *For-Each Loop*, you can do it this way:\r\n\r\n```java\r\npublic class Kata {\r\n\tpublic static int squareSum(int[] n) {\r\n\t\tint sum = 0;\r\n\t\tfor (int value : n) {\r\n\t\t\tsum += value * value;\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n}\r\n```\r\n\r\n### Edit:\r\n\r\nIn [your answer][1] you asked:\r\n\r\n&gt; why the result of wrong code is 12 instead of exception?\r\n\r\nWell, you have the list `{1,2,2}`, so the indexes will be:\r\n\r\n - Index: `0` -&gt; Value: `1`\r\n - Index: `1` -&gt; Value: `2`\r\n - Index: `2` -&gt; Value: `2`\r\n\r\nIt don&#39;t throw an exception because the array actually have the indexes `1`, `2` and `2`. \r\n\r\nBut if you use `{1,2,3}`, it will throw a `java.lang.ArrayIndexOutOfBoundsException` because the array don&#39;t have the index `3`.\r\n\r\n  [1]: https://stackoverflow.com/a/77362247/21144042","title":"Why foreach loop gives the wrong sum in this situation?","body":"<p>In the first code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Kata {\n    public static int squareSum(int[] n) {\n        int sum = 0;\n        for (int i : n) {\n            sum += n[i] * n[i];\n        }\n        return sum;\n    }\n}\n</code></pre>\n<p>You are <strong>using the values as index</strong>, so the iterations will be:</p>\n<ol>\n<li><code>i = 1</code> -&gt; <code>n[i] = 2</code></li>\n<li><code>i = 2</code> -&gt; <code>n[i] = 2</code></li>\n<li><code>i = 2</code> -&gt; <code>n[i] = 2</code></li>\n</ol>\n<p>In the second code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Kata {\n    public static int squareSum(int[] n) {\n        int sum = 0;\n        for (int i = 0; i &lt; n.length; i++) {\n            sum += n[i] * n[i];\n        }\n        return sum;\n    }\n}\n</code></pre>\n<p>Works because you are <strong>correctly iterating over the indexes</strong>, so the iterations will be:</p>\n<ol>\n<li><code>i = 0</code> -&gt; <code>n[i] = 1</code></li>\n<li><code>i = 1</code> -&gt; <code>n[i] = 2</code></li>\n<li><code>i = 2</code> -&gt; <code>n[i] = 2</code></li>\n</ol>\n<p>If you want to use a <em>For-Each Loop</em>, you can do it this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Kata {\n    public static int squareSum(int[] n) {\n        int sum = 0;\n        for (int value : n) {\n            sum += value * value;\n        }\n        return sum;\n    }\n}\n</code></pre>\n<h3>Edit:</h3>\n<p>In <a href=\"https://stackoverflow.com/a/77362247/21144042\">your answer</a> you asked:</p>\n<blockquote>\n<p>why the result of wrong code is 12 instead of exception?</p>\n</blockquote>\n<p>Well, you have the list <code>{1,2,2}</code>, so the indexes will be:</p>\n<ul>\n<li>Index: <code>0</code> -&gt; Value: <code>1</code></li>\n<li>Index: <code>1</code> -&gt; Value: <code>2</code></li>\n<li>Index: <code>2</code> -&gt; Value: <code>2</code></li>\n</ul>\n<p>It don't throw an exception because the array actually have the indexes <code>1</code>, <code>2</code> and <code>2</code>.</p>\n<p>But if you use <code>{1,2,3}</code>, it will throw a <code>java.lang.ArrayIndexOutOfBoundsException</code> because the array don't have the index <code>3</code>.</p>\n"},{"tags":[],"owner":{"account_id":29753911,"reputation":1,"user_id":22803152,"display_name":"Nishanth R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698262803,"creation_date":1698261371,"answer_id":77362333,"question_id":77362200,"body_markdown":"In first scenario the sum must be `sum+= i * i`.Instead it&#39;s `n[i] * n[i]`, which results in accessing element based on index.  \r\n","title":"Why foreach loop gives the wrong sum in this situation?","body":"<p>In first scenario the sum must be <code>sum+= i * i</code>.Instead it's <code>n[i] * n[i]</code>, which results in accessing element based on index.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698265329,"creation_date":1698265329,"answer_id":77362668,"question_id":77362200,"body_markdown":"&gt; _&quot;Why foreach loop gives the wrong sum in this situation? ...&quot;_\r\n\r\nUse _i_, not _n[i]_.\r\n\r\n```java\r\nint sum = 0;\r\nfor (int i : n) sum += i * i;\r\nreturn sum;\r\n```\r\n\r\nOr, use a _[stream](https://docs.oracle.com/javase/tutorial/collections/streams/index.html)_.\r\n\r\n```java\r\nreturn IntStream.of(n).map(x -&gt; x * x).sum();\r\n```\r\n\r\n```java\r\nreturn IntStream.of(n).reduce((a, b) -&gt; a + (b * b)).getAsInt();\r\n```","title":"Why foreach loop gives the wrong sum in this situation?","body":"<blockquote>\n<p><em>&quot;Why foreach loop gives the wrong sum in this situation? ...&quot;</em></p>\n</blockquote>\n<p>Use <em>i</em>, not <em>n[i]</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = 0;\nfor (int i : n) sum += i * i;\nreturn sum;\n</code></pre>\n<p>Or, use a <em><a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"nofollow noreferrer\">stream</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>return IntStream.of(n).map(x -&gt; x * x).sum();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>return IntStream.of(n).reduce((a, b) -&gt; a + (b * b)).getAsInt();\n</code></pre>\n"}],"owner":{"account_id":29753705,"reputation":11,"user_id":22802997,"display_name":"stacktrace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77362268,"answer_count":4,"score":0,"last_activity_date":1698265329,"creation_date":1698259937,"question_id":77362200,"body_markdown":"```java\r\npublic class Kata {\r\n\tpublic static int squareSum(int[] n) {\r\n\t\tint sum = 0;\r\n\t\tfor (int i : n) {\r\n\t\t\tsum += n[i] * n[i];\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n}\r\n```\r\n\r\nIf array is `{1,2,2}` squareSum should be `9`, however it gives `12`.\r\n\r\nAt the same moment, this code gives our the right answer `9`.\r\n\r\n```java\r\npublic class Kata {\r\n\tpublic static int squareSum(int[] n) {\r\n\t\tint sum = 0;\r\n\t\tfor (int i = 0; i &lt; n.length; i++) {\r\n\t\t\tsum += n[i] * n[i];\r\n\t\t}\r\n\t\treturn sum;\r\n\t}\r\n}\r\n```\r\n\r\nWhy? How does it work?","title":"Why foreach loop gives the wrong sum in this situation?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Kata {\n    public static int squareSum(int[] n) {\n        int sum = 0;\n        for (int i : n) {\n            sum += n[i] * n[i];\n        }\n        return sum;\n    }\n}\n</code></pre>\n<p>If array is <code>{1,2,2}</code> squareSum should be <code>9</code>, however it gives <code>12</code>.</p>\n<p>At the same moment, this code gives our the right answer <code>9</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Kata {\n    public static int squareSum(int[] n) {\n        int sum = 0;\n        for (int i = 0; i &lt; n.length; i++) {\n            sum += n[i] * n[i];\n        }\n        return sum;\n    }\n}\n</code></pre>\n<p>Why? How does it work?</p>\n"},{"tags":["java","generics","lambda","casting","variadic-functions"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1698252570,"post_id":77361460,"comment_id":136382743,"body_markdown":"You can&#39;t do this in Java.  The only really good solution is to force your user to call `.andThen` instead.","body":"You can&#39;t do this in Java.  The only really good solution is to force your user to call <code>.andThen</code> instead."}],"owner":{"account_id":29752761,"reputation":1,"user_id":22802290,"display_name":"Sobiech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698265041,"creation_date":1698252500,"question_id":77361460,"body_markdown":"Im trying to write a method that can take any number of objects class Function\\&lt;\\&gt;.\r\n\r\nI want to use those functions to map value \\&lt;T\\&gt; that was passed in InputConverter constructor and return an object type R.\r\n\r\nExample:\r\n\r\n```\r\nFunction&lt;String, Integer&gt; length = String::length;\r\n\r\nFunction&lt;Integer, String&gt; numOfChar = charNum-&gt;{\r\n    StringBuilder sb = new StringBuilder();\r\n    IntStream.generate(()-&gt;&#39;a&#39;).limit(charNum).forEach(i -&gt; sb.append((char) i));\r\n    return sb.toString();\r\n};\r\n\r\nFunction&lt;String, String&gt; addEnd = s-&gt;s+&quot;FIN&quot;;\r\n\r\nnew InputConverter&lt;String&gt;(&quot;abc&quot;).convertBy(length, numOfChar, addEnd); //return aaaFIN\r\n```\r\n\r\nIn this example convertBy has to map:\r\nString to Integer using length.apply. Use the returned integer value to map it using numOfChar.apply to type String. Then use the returned String, add &quot;FIN&quot; and return that as an object type R (in that case String because that was a return type of the last passed function).\r\n\r\nSo in that case convertBy will result in String -\\&gt; String mapping, but inside that method functions can pass values of types other then String as well (In that case, an Integer was passed)\r\n\r\nStupid way of doing that would be to overload method convertBy indefinitely like so:\r\n\r\n```\r\npublic class InputConverter&lt;T&gt; {\r\n    private final T toConvert;\r\n \r\n    InputConverter(T toConvert) {\r\n        this.toConvert = toConvert;\r\n    }\r\n \r\n \r\n    //stupid way nr 1\r\n    public &lt;R&gt; R convertBy(Function&lt;T,R&gt; fun1) {\r\n        return fun1.apply(toConvert);\r\n    }\r\n    //stupid way nr 2\r\n    public &lt;R, n1&gt; R convertBy(Function&lt;T,n1&gt; fun1, Function&lt;n1, R&gt; fun2) {\r\n        return fun1.andThen(fun2).apply(toConvert);\r\n    }\r\n    //stupid way nr 3\r\n    public &lt;R, n1, n2&gt; R convertBy(Function&lt;T,n1&gt; fun1, Function&lt;n1, n2&gt; fun2, Function&lt;n2, R&gt; fun3) {\r\n        return fun1.andThen(fun2).andThen(fun3).apply(toConvert);\r\n    }\r\n    //like that, but how do i assert that result of first funtion (fun1) type is the same type as parameter for functions[0]?\r\n    public &lt;R&gt; R convertBy(Function&lt;T, ?&gt; fun1,Function&lt;?,?&gt;... functions){\r\n        Function&lt;T, ?&gt; functionFin = fun1;\r\n        for (Function&lt;?, ?&gt; fnIter : functions) {\r\n            functionFin = functionFin.andThen(fnIter);\r\n        }\r\n        return functionFin.apply(this.toConvert);\r\n    }\r\n}\r\n```\r\n\r\nI want it to work with any number of functions where the first function always has to take object of the same type as passed in the constructor and returns object of any type. Then second function takes object of the type that was returned by first function and returns object any type. Then third function takes object returned by second function and returns any type and so on.  \r\nFinal return type of the convertBy has to be a return type of last passed function.\r\n\r\n  \r\nIs there a way to approach this without having to overload convertBy method and without reflecton?","title":"How do i assert that parameter and result are the same type in an array of Functions (when taken as a vararg)","body":"<p>Im trying to write a method that can take any number of objects class Function&lt;&gt;.</p>\n<p>I want to use those functions to map value &lt;T&gt; that was passed in InputConverter constructor and return an object type R.</p>\n<p>Example:</p>\n<pre><code>Function&lt;String, Integer&gt; length = String::length;\n\nFunction&lt;Integer, String&gt; numOfChar = charNum-&gt;{\n    StringBuilder sb = new StringBuilder();\n    IntStream.generate(()-&gt;'a').limit(charNum).forEach(i -&gt; sb.append((char) i));\n    return sb.toString();\n};\n\nFunction&lt;String, String&gt; addEnd = s-&gt;s+&quot;FIN&quot;;\n\nnew InputConverter&lt;String&gt;(&quot;abc&quot;).convertBy(length, numOfChar, addEnd); //return aaaFIN\n</code></pre>\n<p>In this example convertBy has to map:\nString to Integer using length.apply. Use the returned integer value to map it using numOfChar.apply to type String. Then use the returned String, add &quot;FIN&quot; and return that as an object type R (in that case String because that was a return type of the last passed function).</p>\n<p>So in that case convertBy will result in String -&gt; String mapping, but inside that method functions can pass values of types other then String as well (In that case, an Integer was passed)</p>\n<p>Stupid way of doing that would be to overload method convertBy indefinitely like so:</p>\n<pre><code>public class InputConverter&lt;T&gt; {\n    private final T toConvert;\n \n    InputConverter(T toConvert) {\n        this.toConvert = toConvert;\n    }\n \n \n    //stupid way nr 1\n    public &lt;R&gt; R convertBy(Function&lt;T,R&gt; fun1) {\n        return fun1.apply(toConvert);\n    }\n    //stupid way nr 2\n    public &lt;R, n1&gt; R convertBy(Function&lt;T,n1&gt; fun1, Function&lt;n1, R&gt; fun2) {\n        return fun1.andThen(fun2).apply(toConvert);\n    }\n    //stupid way nr 3\n    public &lt;R, n1, n2&gt; R convertBy(Function&lt;T,n1&gt; fun1, Function&lt;n1, n2&gt; fun2, Function&lt;n2, R&gt; fun3) {\n        return fun1.andThen(fun2).andThen(fun3).apply(toConvert);\n    }\n    //like that, but how do i assert that result of first funtion (fun1) type is the same type as parameter for functions[0]?\n    public &lt;R&gt; R convertBy(Function&lt;T, ?&gt; fun1,Function&lt;?,?&gt;... functions){\n        Function&lt;T, ?&gt; functionFin = fun1;\n        for (Function&lt;?, ?&gt; fnIter : functions) {\n            functionFin = functionFin.andThen(fnIter);\n        }\n        return functionFin.apply(this.toConvert);\n    }\n}\n</code></pre>\n<p>I want it to work with any number of functions where the first function always has to take object of the same type as passed in the constructor and returns object of any type. Then second function takes object of the type that was returned by first function and returns object any type. Then third function takes object returned by second function and returns any type and so on.<br />\nFinal return type of the convertBy has to be a return type of last passed function.</p>\n<p>Is there a way to approach this without having to overload convertBy method and without reflecton?</p>\n"},{"tags":["java","selenium","selenium-webdriver","pageobjects"],"comments":[{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1438091180,"post_id":31676964,"comment_id":51298101,"body_markdown":"possible duplicate of [How to get a CSS selector using Selenium WebDriver?](http://stackoverflow.com/questions/19842286/how-to-get-a-css-selector-using-selenium-webdriver)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/19842286/how-to-get-a-css-selector-using-selenium-webdriver\">How to get a CSS selector using Selenium WebDriver?</a>"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1438118160,"post_id":31676964,"comment_id":51316216,"body_markdown":"don&#39;t think this is a duplicate with your proposed question, because I&#39;m specifically interested in the By locator. As you answered in that other question, this would make more sense then retrieving the &quot;css&quot; locator, which might not exist, but there is always a By locator to retrieve an element","body":"don&#39;t think this is a duplicate with your proposed question, because I&#39;m specifically interested in the By locator. As you answered in that other question, this would make more sense then retrieving the &quot;css&quot; locator, which might not exist, but there is always a By locator to retrieve an element"},{"owner":{"account_id":2440222,"reputation":703,"user_id":2128961,"accept_rate":75,"display_name":"Ru Cindrea"},"score":0,"creation_date":1461522130,"post_id":31676964,"comment_id":61225184,"body_markdown":"Did you ever figure this out? I am using the PageFactory implementation and have basically no way to verify that an element is displayed or not.","body":"Did you ever figure this out? I am using the PageFactory implementation and have basically no way to verify that an element is displayed or not."}],"answers":[{"comments":[{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1438091257,"post_id":31677984,"comment_id":51298167,"body_markdown":"that being said - it&#39;s not possible as it stands. you can implement a custom solution, but Selenium does not support this out-of-the-box","body":"that being said - it&#39;s not possible as it stands. you can implement a custom solution, but Selenium does not support this out-of-the-box"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":1,"creation_date":1438118019,"post_id":31677984,"comment_id":51316162,"body_markdown":"any idea why this might is not provided by the API? Do you think this is intentional for some reason?","body":"any idea why this might is not provided by the API? Do you think this is intentional for some reason?"},{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":1,"creation_date":1438176962,"post_id":31677984,"comment_id":51342780,"body_markdown":"well i&#39;m actually a maintainer of the project, and it&#39;s not implemented because there&#39;s typically no reason to need to find the by of an element.  easier just to say `WebElement theElement = d.findElement(b)` and you already have `b` saved somewhere.  I could implement this, but it&#39;d take a while.  we&#39;re welcoming of pull requests :)  https://github.com/seleniumhq/selenium","body":"well i&#39;m actually a maintainer of the project, and it&#39;s not implemented because there&#39;s typically no reason to need to find the by of an element.  easier just to say <code>WebElement theElement = d.findElement(b)</code> and you already have <code>b</code> saved somewhere.  I could implement this, but it&#39;d take a while.  we&#39;re welcoming of pull requests :)  <a href=\"https://github.com/seleniumhq/selenium\" rel=\"nofollow noreferrer\">github.com/seleniumhq/selenium</a>"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1438177812,"post_id":31677984,"comment_id":51343459,"body_markdown":"Thanks a lot! would you mind, putting the essentials from your comment into your answer, I&#39;ll tag it as the right answer then. Cheers!","body":"Thanks a lot! would you mind, putting the essentials from your comment into your answer, I&#39;ll tag it as the right answer then. Cheers!"},{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1438180971,"post_id":31677984,"comment_id":51345984,"body_markdown":"Regarding your example -&gt; that&#39;s why I put the last part into my question, Selenium allows an architecture with its PageFactory that would force me to have the locator in 2 locations, one as a member variable and the other as the annotation for the elements.","body":"Regarding your example -&gt; that&#39;s why I put the last part into my question, Selenium allows an architecture with its PageFactory that would force me to have the locator in 2 locations, one as a member variable and the other as the annotation for the elements."},{"owner":{"account_id":271557,"reputation":12418,"user_id":562154,"accept_rate":75,"display_name":"Xiao"},"score":5,"creation_date":1461659621,"post_id":31677984,"comment_id":61286722,"body_markdown":"But for PageObject and PageFactory pattern, The `By` is defined in annotation, the element itself cannot know `By`","body":"But for PageObject and PageFactory pattern, The <code>By</code> is defined in annotation, the element itself cannot know <code>By</code>"},{"owner":{"account_id":7034878,"reputation":705,"user_id":5389365,"accept_rate":58,"display_name":"Buster"},"score":0,"creation_date":1472223593,"post_id":31677984,"comment_id":65680944,"body_markdown":"I also think this API would be useful, I have instances in my test suites where I use `driver.findElements()` with some generic selector and then within a foreach loop sometimes it would be handy if I could get the specific selector for one of the elements in the list.","body":"I also think this API would be useful, I have instances in my test suites where I use <code>driver.findElements()</code> with some generic selector and then within a foreach loop sometimes it would be handy if I could get the specific selector for one of the elements in the list."},{"owner":{"account_id":2642024,"reputation":1506,"user_id":2285470,"accept_rate":97,"display_name":"iamkenos"},"score":1,"creation_date":1497582976,"post_id":31677984,"comment_id":76148935,"body_markdown":"Hi, almost 2 years now since this question was asked. May I know if an implementation for this has been done? Thanks!","body":"Hi, almost 2 years now since this question was asked. May I know if an implementation for this has been done? Thanks!"},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1556222761,"post_id":31677984,"comment_id":98375139,"body_markdown":"We also need this API too. It should return a list of By(s) locators. When a element becomes stale, just refresh it if all locators are known.","body":"We also need this API too. It should return a list of By(s) locators. When a element becomes stale, just refresh it if all locators are known."},{"owner":{"account_id":5725706,"reputation":1428,"user_id":4524618,"accept_rate":82,"display_name":"Sniper"},"score":0,"creation_date":1565758369,"post_id":31677984,"comment_id":101447137,"body_markdown":"Considering `PageFactory` pattern, Many people user `@FindBy` annotation so we don&#39;t always have its By locator.","body":"Considering <code>PageFactory</code> pattern, Many people user <code>@FindBy</code> annotation so we don&#39;t always have its By locator."},{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":0,"creation_date":1608149441,"post_id":31677984,"comment_id":115497850,"body_markdown":"Thanks for your contribution, @frzsombor !  Feel free to create an answer for this question if this answer is no longer accurate circa Dec 2020","body":"Thanks for your contribution, @frzsombor !  Feel free to create an answer for this question if this answer is no longer accurate circa Dec 2020"},{"owner":{"account_id":3535373,"reputation":2394,"user_id":2953830,"display_name":"frzsombor"},"score":0,"creation_date":1608166075,"post_id":31677984,"comment_id":115502958,"body_markdown":"I meant that I think the &quot;Answer is No.&quot; part (with the bold &quot;No&quot;) could be removed, as this is the accepted answer, and someone in TLDR mode (like I was) will think it is not possible, however it is, with a custom function. But also I see the fact that OP asks _&quot;Is there an elegant way [...]&quot;_ and well, in this case your answer is correct. :)","body":"I meant that I think the &quot;Answer is No.&quot; part (with the bold &quot;No&quot;) could be removed, as this is the accepted answer, and someone in TLDR mode (like I was) will think it is not possible, however it is, with a custom function. But also I see the fact that OP asks <i>&quot;Is there an elegant way [...]&quot;</i> and well, in this case your answer is correct. :)"},{"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"score":1,"creation_date":1608228286,"post_id":31677984,"comment_id":115526011,"body_markdown":"I&#39;ve added a tldr.  Thanks for the recommendation!","body":"I&#39;ve added a tldr.  Thanks for the recommendation!"},{"owner":{"account_id":1783869,"reputation":91,"user_id":1625836,"display_name":"DarkArtsWizard"},"score":1,"creation_date":1627502225,"post_id":31677984,"comment_id":121176821,"body_markdown":"You need a reason for elegantly pulling a locator string?\n\nI&#39;ve got one: staleElementReferenceException","body":"You need a reason for elegantly pulling a locator string?  I&#39;ve got one: staleElementReferenceException"}],"tags":[],"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"comment_count":14,"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1608228260,"creation_date":1438090717,"answer_id":31677984,"question_id":31676964,"body_markdown":"tldr; Not by default, no. You cannot extract a `By` from a previously found WebElement.  It is possible, however, through a custom solution.\r\n\r\nIt&#39;s possible to implement a custom solution, but Selenium does not offer this out-of-the-box.\r\n\r\nConsider the following, on &quot;why&quot;..\r\n\r\n    By by = By.id(&quot;someId&quot;);\r\n    WebElement e = driver.findElement(by);\r\n\r\nyou already have the `By` object, so you wouldn&#39;t need to call something like `e.getBy()`","title":"Get the By locator of an already found WebElement","body":"<p>tldr; Not by default, no. You cannot extract a <code>By</code> from a previously found WebElement.  It is possible, however, through a custom solution.</p>\n<p>It's possible to implement a custom solution, but Selenium does not offer this out-of-the-box.</p>\n<p>Consider the following, on &quot;why&quot;..</p>\n<pre><code>By by = By.id(&quot;someId&quot;);\nWebElement e = driver.findElement(by);\n</code></pre>\n<p>you already have the <code>By</code> object, so you wouldn't need to call something like <code>e.getBy()</code></p>\n"},{"comments":[{"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"score":0,"creation_date":1438118588,"post_id":31687281,"comment_id":51316441,"body_markdown":"nice idea with the refreshable element, will use it in the future, can you think of any reason why Selenium creators might not have provided this functionality intentionally?","body":"nice idea with the refreshable element, will use it in the future, can you think of any reason why Selenium creators might not have provided this functionality intentionally?"},{"owner":{"account_id":6136681,"reputation":407,"user_id":4785282,"accept_rate":71,"display_name":"Josh Broadhurst"},"score":1,"creation_date":1499795540,"post_id":31687281,"comment_id":77057028,"body_markdown":"I think they omitted this because WebElements can be located by complex sequences. For example, `WebElement header = driver.findElement(By.id(&quot;table-id&quot;)).findElement(By.tagName(&quot;table&quot;)).findElements(By.xpath(&quot;.//th&quot;)).get(0);`. How would you save references to all of those By locators?","body":"I think they omitted this because WebElements can be located by complex sequences. For example, <code>WebElement header = driver.findElement(By.id(&quot;table-id&quot;)).findElement(By.tagName&zwnj;&#8203;(&quot;table&quot;)).findEleme&zwnj;&#8203;nts(By.xpath(&quot;.&#47;&#47;th&quot;&zwnj;&#8203;)).get(0);</code>. How would you save references to all of those By locators?"},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1556222942,"post_id":31687281,"comment_id":98375203,"body_markdown":"It is a path of locators.","body":"It is a path of locators."},{"owner":{"account_id":5725706,"reputation":1428,"user_id":4524618,"accept_rate":82,"display_name":"Sniper"},"score":0,"creation_date":1565758414,"post_id":31687281,"comment_id":101447151,"body_markdown":"Wouldn&#39;t work for elements found using `@FindBy` annotation","body":"Wouldn&#39;t work for elements found using <code>@FindBy</code> annotation"}],"tags":[],"owner":{"account_id":1065971,"reputation":1683,"user_id":1066531,"accept_rate":57,"display_name":"Zymus"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438118288,"creation_date":1438118288,"answer_id":31687281,"question_id":31676964,"body_markdown":"No, there&#39;s not. I have implemented a possible solution as a proxy:\r\n\r\n\r\n    public class RefreshableWebElement implements WebElement {\r\n\r\n        public RefreshableWebElement(Driver driver, By by) {\r\n            this.driver = driver;\r\n            this.by = by;\r\n        }\r\n\r\n        // ...\r\n\r\n        public WebElement getElement() {\r\n            return driver.findElement(by);\r\n        }\r\n\r\n        public void click() {\r\n            getElement().click();\r\n        }\r\n\r\n        // other methods here\r\n    }","title":"Get the By locator of an already found WebElement","body":"<p>No, there's not. I have implemented a possible solution as a proxy:</p>\n\n<pre><code>public class RefreshableWebElement implements WebElement {\n\n    public RefreshableWebElement(Driver driver, By by) {\n        this.driver = driver;\n        this.by = by;\n    }\n\n    // ...\n\n    public WebElement getElement() {\n        return driver.findElement(by);\n    }\n\n    public void click() {\n        getElement().click();\n    }\n\n    // other methods here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2125485,"reputation":33,"user_id":1887783,"display_name":"alexloiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530181062,"creation_date":1530181062,"answer_id":51080338,"question_id":31676964,"body_markdown":"For me worked with commons-lang3\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  \r\nFor remote web element use method like:\r\n\r\n    protected String getLocator(WebElement element) {\r\n            try {\r\n                Object proxyOrigin = FieldUtils.readField(element, &quot;h&quot;, true);\r\n                Object locator = FieldUtils.readField(proxyOrigin, &quot;locator&quot;, true);\r\n                Object findBy = FieldUtils.readField(locator, &quot;by&quot;, true);\r\n                if (findBy != null) {\r\n                    return findBy.toString();\r\n                }\r\n            } catch (IllegalAccessException ignored) {\r\n            }\r\n            return &quot;[unknown]&quot;;\r\n        }\r\n\r\n","title":"Get the By locator of an already found WebElement","body":"<p>For me worked with commons-lang3</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For remote web element use method like:</p>\n\n<pre><code>protected String getLocator(WebElement element) {\n        try {\n            Object proxyOrigin = FieldUtils.readField(element, \"h\", true);\n            Object locator = FieldUtils.readField(proxyOrigin, \"locator\", true);\n            Object findBy = FieldUtils.readField(locator, \"by\", true);\n            if (findBy != null) {\n                return findBy.toString();\n            }\n        } catch (IllegalAccessException ignored) {\n        }\n        return \"[unknown]\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8900829,"reputation":19,"user_id":6644349,"display_name":"Akash jain"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552563265,"creation_date":1552563265,"answer_id":55161482,"question_id":31676964,"body_markdown":"I had written this utility function which returns a string combination of locator strategy + locator value. \r\n\r\n\r\n\tprivate String getLocatorFromWebElement(WebElement element) {\r\n\r\n\t\treturn element.toString().split(&quot;-&gt;&quot;)[1].replaceFirst(&quot;(?s)(.*)\\\\]&quot;, &quot;$1&quot; + &quot;&quot;);\r\n\t}","title":"Get the By locator of an already found WebElement","body":"<p>I had written this utility function which returns a string combination of locator strategy + locator value. </p>\n\n<pre><code>private String getLocatorFromWebElement(WebElement element) {\n\n    return element.toString().split(\"-&gt;\")[1].replaceFirst(\"(?s)(.*)\\\\]\", \"$1\" + \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6044098,"reputation":420,"user_id":6875099,"accept_rate":82,"display_name":"zer_ik"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1553677151,"creation_date":1553677151,"answer_id":55373228,"question_id":31676964,"body_markdown":"There is no elegant way provided by Selenium. And this is horrible\r\n\r\n1) `PageObject` and `PageFactory` implies that we have `WebElements` in `Page` classes, but we don&#39;t have locators of those elements.\r\n\r\n2) If I find element as descendant of current element using `webElement.findElement(By)`, then I don&#39;t have the locator of this descendant even if I stored parent&#39;s locator in the variable.\r\n\r\n3) If I use `findElements` function that returns `List` of elemetns, then I don&#39;t have locator for each specific element.\r\n\r\n4) Having locator for element is useful at least because `ExpectedConditions` with locator as parameter are much better implemented than `ExpectedConditions` with `WebElement` as parameter.\r\n\r\nFor me Selenium is ill-conceived and poorly implemented library","title":"Get the By locator of an already found WebElement","body":"<p>There is no elegant way provided by Selenium. And this is horrible</p>\n\n<p>1) <code>PageObject</code> and <code>PageFactory</code> implies that we have <code>WebElements</code> in <code>Page</code> classes, but we don't have locators of those elements.</p>\n\n<p>2) If I find element as descendant of current element using <code>webElement.findElement(By)</code>, then I don't have the locator of this descendant even if I stored parent's locator in the variable.</p>\n\n<p>3) If I use <code>findElements</code> function that returns <code>List</code> of elemetns, then I don't have locator for each specific element.</p>\n\n<p>4) Having locator for element is useful at least because <code>ExpectedConditions</code> with locator as parameter are much better implemented than <code>ExpectedConditions</code> with <code>WebElement</code> as parameter.</p>\n\n<p>For me Selenium is ill-conceived and poorly implemented library</p>\n"},{"tags":[],"owner":{"account_id":7696812,"reputation":31,"user_id":5831004,"display_name":"Sayantan Dey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608138410,"creation_date":1558889709,"answer_id":56315588,"question_id":31676964,"body_markdown":"Currently there is no specific method from selenium&#39;s end to do so. What you can do is write your custom method. You will get the clue of what selector type and path is used by just printing the webElement you have.\r\n\r\nIt looks something like this \r\n\r\n&gt; [[ChromeDriver: chrome on XP (d85e7e220b2ec51b7faf42210816285e)] -&gt; xpath: //input[@title=&#39;Search&#39;]]\r\n\r\nNow, what you need to do is to extract the locator and its value. You can try something like this\r\n\r\n```java\r\nprivate By getByFromElement(WebElement element) {\r\n    By by = null;\r\n    //[[ChromeDriver: chrome on XP (d85e7e220b2ec51b7faf42210816285e)] -&gt; xpath: //input[@title=&#39;Search&#39;]]\r\n    String[] pathVariables = (element.toString().split(&quot;-&gt;&quot;)[1].replaceFirst(&quot;(?s)(.*)\\\\]&quot;, &quot;$1&quot; + &quot;&quot;)).split(&quot;:&quot;);\r\n\r\n    String selector = pathVariables[0].trim();\r\n    String value = pathVariables[1].trim();\r\n\r\n    switch (selector) {\r\n        case &quot;id&quot;:\r\n            by = By.id(value);\r\n            break;\r\n        case &quot;className&quot;:\r\n            by = By.className(value);\r\n            break;\r\n        case &quot;tagName&quot;:\r\n            by = By.tagName(value);\r\n            break;\r\n        case &quot;xpath&quot;:\r\n            by = By.xpath(value);\r\n            break;\r\n        case &quot;cssSelector&quot;:\r\n            by = By.cssSelector(value);\r\n            break;\r\n        case &quot;linkText&quot;:\r\n            by = By.linkText(value);\r\n            break;\r\n        case &quot;name&quot;:\r\n            by = By.name(value);\r\n            break;\r\n        case &quot;partialLinkText&quot;:\r\n            by = By.partialLinkText(value);\r\n            break;\r\n        default:\r\n            throw new IllegalStateException(&quot;locator : &quot; + selector + &quot; not found!!!&quot;);\r\n    }\r\n    return by;\r\n}\r\n``` ","title":"Get the By locator of an already found WebElement","body":"<p>Currently there is no specific method from selenium's end to do so. What you can do is write your custom method. You will get the clue of what selector type and path is used by just printing the webElement you have.</p>\n<p>It looks something like this</p>\n<blockquote>\n<p>[[ChromeDriver: chrome on XP (d85e7e220b2ec51b7faf42210816285e)] -&gt; xpath: //input[@title='Search']]</p>\n</blockquote>\n<p>Now, what you need to do is to extract the locator and its value. You can try something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>private By getByFromElement(WebElement element) {\n    By by = null;\n    //[[ChromeDriver: chrome on XP (d85e7e220b2ec51b7faf42210816285e)] -&gt; xpath: //input[@title='Search']]\n    String[] pathVariables = (element.toString().split(&quot;-&gt;&quot;)[1].replaceFirst(&quot;(?s)(.*)\\\\]&quot;, &quot;$1&quot; + &quot;&quot;)).split(&quot;:&quot;);\n\n    String selector = pathVariables[0].trim();\n    String value = pathVariables[1].trim();\n\n    switch (selector) {\n        case &quot;id&quot;:\n            by = By.id(value);\n            break;\n        case &quot;className&quot;:\n            by = By.className(value);\n            break;\n        case &quot;tagName&quot;:\n            by = By.tagName(value);\n            break;\n        case &quot;xpath&quot;:\n            by = By.xpath(value);\n            break;\n        case &quot;cssSelector&quot;:\n            by = By.cssSelector(value);\n            break;\n        case &quot;linkText&quot;:\n            by = By.linkText(value);\n            break;\n        case &quot;name&quot;:\n            by = By.name(value);\n            break;\n        case &quot;partialLinkText&quot;:\n            by = By.partialLinkText(value);\n            break;\n        default:\n            throw new IllegalStateException(&quot;locator : &quot; + selector + &quot; not found!!!&quot;);\n    }\n    return by;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20325845,"reputation":1,"user_id":14909310,"display_name":"Jason C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609271388,"creation_date":1609271388,"answer_id":65497886,"question_id":31676964,"body_markdown":"My solution when I ran into needing the By locator to use for an ExpectedConditions and I had my locators in the Page Object Factory was to use a String that had the locator in it and then build my By object and the element locator from that.\r\n\r\n```\r\npublic class PageObject {\r\n    private static final String XPATH_NAME = &quot;...&quot;;\r\n\r\n    public @iOSXCUITFindBy(xpath = XPATH_NAME)\r\n    List&lt;MobileElement&gt; mobileElementName;\r\n\r\n    public By getByXPath(){\r\n        return new By.ByXPath(XPATH_NAME);\r\n    }\r\n\r\n    public PageObject() {\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n}\r\n```","title":"Get the By locator of an already found WebElement","body":"<p>My solution when I ran into needing the By locator to use for an ExpectedConditions and I had my locators in the Page Object Factory was to use a String that had the locator in it and then build my By object and the element locator from that.</p>\n<pre><code>public class PageObject {\n    private static final String XPATH_NAME = &quot;...&quot;;\n\n    public @iOSXCUITFindBy(xpath = XPATH_NAME)\n    List&lt;MobileElement&gt; mobileElementName;\n\n    public By getByXPath(){\n        return new By.ByXPath(XPATH_NAME);\n    }\n\n    public PageObject() {\n        PageFactory.initElements(driver, this);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15664856,"reputation":33,"user_id":19588468,"display_name":"Gene Yuss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698265029,"creation_date":1698265029,"answer_id":77362640,"question_id":31676964,"body_markdown":"It is possible to obtain the XPath locator for a given WebElement:\r\n\r\n    public static String getFullXPath(WebDriver driver, WebElement element) {\r\n        // Use JavaScript to obtain the full XPath\r\n        JavascriptExecutor executor = (JavascriptExecutor) driver;\r\n        String fullXPath = (String) executor.executeScript(\r\n            &quot;function absoluteXPath(element) {&quot; +\r\n            &quot;var comp, comps = [];&quot; +\r\n            &quot;var parent = null;&quot; +\r\n            &quot;var xpath = &#39;&#39;;&quot; +\r\n            &quot;var getPos = function(element) {&quot; +\r\n            &quot;var position = 1, curNode;&quot; +\r\n            &quot;if (element.nodeType == Node.ATTRIBUTE_NODE) {&quot; +\r\n            &quot;return null;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;for (curNode = element.previousSibling; curNode; curNode = curNode.previousSibling) {&quot; +\r\n            &quot;if (curNode.nodeName == element.nodeName) {&quot; +\r\n            &quot;++position;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;}&quot; +\r\n            &quot;return position;&quot; +\r\n            &quot;};&quot; +\r\n            &quot;if (element instanceof Document) {&quot; +\r\n            &quot;return &#39;/&#39;;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;for (; element &amp;&amp; !(element instanceof Document); element = element.nodeType == Node.ATTRIBUTE_NODE ? element.ownerElement : element.parentNode) {&quot; +\r\n            &quot;comp = comps[comps.length] = {};&quot; +\r\n            &quot;switch (element.nodeType) {&quot; +\r\n            &quot;case Node.TEXT_NODE:&quot; +\r\n            &quot;comp.name = &#39;text()&#39;;&quot; +\r\n            &quot;break;&quot; +\r\n            &quot;case Node.ATTRIBUTE_NODE:&quot; +\r\n            &quot;comp.name = &#39;@&#39; + element.nodeName;&quot; +\r\n            &quot;break;&quot; +\r\n            &quot;case Node.PROCESSING_INSTRUCTION_NODE:&quot; +\r\n            &quot;comp.name = &#39;processing-instruction()&#39;;&quot; +\r\n            &quot;break;&quot; +\r\n            &quot;case Node.COMMENT_NODE:&quot; +\r\n            &quot;comp.name = &#39;comment()&#39;;&quot; +\r\n            &quot;break;&quot; +\r\n            &quot;case Node.ELEMENT_NODE:&quot; +\r\n            &quot;comp.name = element.nodeName;&quot; +\r\n            &quot;break;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;comp.position = getPos(element);&quot; +\r\n            &quot;}&quot; +\r\n            &quot;for (var i = comps.length - 1; i &gt;= 0; i--) {&quot; +\r\n            &quot;comp = comps[i];&quot; +\r\n            &quot;xpath += &#39;/&#39; + comp.name.toLowerCase();&quot; +\r\n            &quot;if (comp.position !== null) {&quot; +\r\n            &quot;xpath += &#39;[&#39; + comp.position + &#39;]&#39;;&quot; +\r\n            &quot;}&quot; +\r\n            &quot;}&quot; +\r\n            &quot;return xpath;&quot; +\r\n            &quot;} return absoluteXPath(arguments[0]);&quot;, element);\r\n    \r\n        return fullXPath;\r\n    }\r\n\r\n","title":"Get the By locator of an already found WebElement","body":"<p>It is possible to obtain the XPath locator for a given WebElement:</p>\n<pre><code>public static String getFullXPath(WebDriver driver, WebElement element) {\n    // Use JavaScript to obtain the full XPath\n    JavascriptExecutor executor = (JavascriptExecutor) driver;\n    String fullXPath = (String) executor.executeScript(\n        &quot;function absoluteXPath(element) {&quot; +\n        &quot;var comp, comps = [];&quot; +\n        &quot;var parent = null;&quot; +\n        &quot;var xpath = '';&quot; +\n        &quot;var getPos = function(element) {&quot; +\n        &quot;var position = 1, curNode;&quot; +\n        &quot;if (element.nodeType == Node.ATTRIBUTE_NODE) {&quot; +\n        &quot;return null;&quot; +\n        &quot;}&quot; +\n        &quot;for (curNode = element.previousSibling; curNode; curNode = curNode.previousSibling) {&quot; +\n        &quot;if (curNode.nodeName == element.nodeName) {&quot; +\n        &quot;++position;&quot; +\n        &quot;}&quot; +\n        &quot;}&quot; +\n        &quot;return position;&quot; +\n        &quot;};&quot; +\n        &quot;if (element instanceof Document) {&quot; +\n        &quot;return '/';&quot; +\n        &quot;}&quot; +\n        &quot;for (; element &amp;&amp; !(element instanceof Document); element = element.nodeType == Node.ATTRIBUTE_NODE ? element.ownerElement : element.parentNode) {&quot; +\n        &quot;comp = comps[comps.length] = {};&quot; +\n        &quot;switch (element.nodeType) {&quot; +\n        &quot;case Node.TEXT_NODE:&quot; +\n        &quot;comp.name = 'text()';&quot; +\n        &quot;break;&quot; +\n        &quot;case Node.ATTRIBUTE_NODE:&quot; +\n        &quot;comp.name = '@' + element.nodeName;&quot; +\n        &quot;break;&quot; +\n        &quot;case Node.PROCESSING_INSTRUCTION_NODE:&quot; +\n        &quot;comp.name = 'processing-instruction()';&quot; +\n        &quot;break;&quot; +\n        &quot;case Node.COMMENT_NODE:&quot; +\n        &quot;comp.name = 'comment()';&quot; +\n        &quot;break;&quot; +\n        &quot;case Node.ELEMENT_NODE:&quot; +\n        &quot;comp.name = element.nodeName;&quot; +\n        &quot;break;&quot; +\n        &quot;}&quot; +\n        &quot;comp.position = getPos(element);&quot; +\n        &quot;}&quot; +\n        &quot;for (var i = comps.length - 1; i &gt;= 0; i--) {&quot; +\n        &quot;comp = comps[i];&quot; +\n        &quot;xpath += '/' + comp.name.toLowerCase();&quot; +\n        &quot;if (comp.position !== null) {&quot; +\n        &quot;xpath += '[' + comp.position + ']';&quot; +\n        &quot;}&quot; +\n        &quot;}&quot; +\n        &quot;return xpath;&quot; +\n        &quot;} return absoluteXPath(arguments[0]);&quot;, element);\n\n    return fullXPath;\n}\n</code></pre>\n"}],"owner":{"account_id":2197918,"reputation":6701,"user_id":1943133,"accept_rate":62,"display_name":"drkthng"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42184,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":31677984,"answer_count":8,"score":28,"last_activity_date":1698265029,"creation_date":1438088118,"question_id":31676964,"body_markdown":"**Is there an elegant way to get the By locator of a Selenium WebElement, that I already found/identified?**\r\n\r\nTo be clear about the question: I want the &quot;By locator&quot; as used to find the element. I am in this case **not** interested in a specific attribute or a specific locator like the css-locator. \r\n\r\nI know that I could parse the result of a WebElement&#39;s toString() method:\r\n\r\n    WebElement element = driver.findElement(By.id(&quot;myPreciousElement&quot;));\r\n    System.out.println(element.toString());\r\n\r\nOutput would be for example:\r\n\r\n&gt; [[FirefoxDriver: firefox on WINDOWS (....)] -&gt; id: myPreciousElement]\r\n\r\nif you found your element by xpath:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//div[@someId = &#39;someValue&#39;]&quot;));\r\n    System.out.println(element.toString());\r\n\r\nThen your output will be:\r\n\r\n&gt; [[FirefoxDriver: firefox on WINDOWS (....)] -&gt; xpath: //div[@someId = &#39;someValue&#39;]]\r\n\r\n\r\nSo I currently wrote my own method that parses this output and gives me the &quot;recreated&quot; By locator.\r\n\r\n&lt;br&gt;\r\n&lt;h3&gt;**BUT** is there a more elegant way already implemented in Selenium to get the By locator used to find the element?&lt;/h3&gt; I couldn&#39;t find one so far.\r\n\r\nIf you are sure, there is none out of the box, can you think of any reason why the API creators might not provide this functionality?\r\n\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n*Despite the fact that this has nothing to do with the question, if someone wonders why you would ever need this functionality, just 2 examples: \r\n\r\n - if you use PageFactory you most likely will not have the locators as as member variables in your Page class, but you might need them later on when working with the page&#39;s elements. \r\n - you&#39;re working with APIs of people who just use the Page Object Pattern without PageFactory and thus expect you to hand over locators instead of the element itself.*","title":"Get the By locator of an already found WebElement","body":"<p><strong>Is there an elegant way to get the By locator of a Selenium WebElement, that I already found/identified?</strong></p>\n\n<p>To be clear about the question: I want the \"By locator\" as used to find the element. I am in this case <strong>not</strong> interested in a specific attribute or a specific locator like the css-locator. </p>\n\n<p>I know that I could parse the result of a WebElement's toString() method:</p>\n\n<pre><code>WebElement element = driver.findElement(By.id(\"myPreciousElement\"));\nSystem.out.println(element.toString());\n</code></pre>\n\n<p>Output would be for example:</p>\n\n<blockquote>\n  <p>[[FirefoxDriver: firefox on WINDOWS (....)] -> id: myPreciousElement]</p>\n</blockquote>\n\n<p>if you found your element by xpath:</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(\"//div[@someId = 'someValue']\"));\nSystem.out.println(element.toString());\n</code></pre>\n\n<p>Then your output will be:</p>\n\n<blockquote>\n  <p>[[FirefoxDriver: firefox on WINDOWS (....)] -> xpath: //div[@someId = 'someValue']]</p>\n</blockquote>\n\n<p>So I currently wrote my own method that parses this output and gives me the \"recreated\" By locator.</p>\n\n<p><br>\n<h3><strong>BUT</strong> is there a more elegant way already implemented in Selenium to get the By locator used to find the element?</h3> I couldn't find one so far.</p>\n\n<p>If you are sure, there is none out of the box, can you think of any reason why the API creators might not provide this functionality?</p>\n\n<p><br><br>\n*Despite the fact that this has nothing to do with the question, if someone wonders why you would ever need this functionality, just 2 examples: </p>\n\n<ul>\n<li>if you use PageFactory you most likely will not have the locators as as member variables in your Page class, but you might need them later on when working with the page's elements. </li>\n<li>you're working with APIs of people who just use the Page Object Pattern without PageFactory and thus expect you to hand over locators instead of the element itself.*</li>\n</ul>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698264975,"creation_date":1698264975,"answer_id":77362637,"question_id":77361599,"body_markdown":"So in the `DefaultHttpClientConnectionOperator` class you’ll see this code:\r\n```\r\nfinal InetAddress[] addresses = host.getAddress() != null ?\r\n        new InetAddress[] { host.getAddress() } : this.dnsResolver.resolve(host.getHostName());\r\n...\r\nfor (int i = 0; i &lt; addresses.length; i++) {\r\n    ...\r\n    try {\r\n        sock = sf.connectSocket(connectTimeout, sock, host, remoteAddress, localAddress, context);\r\n        ...\r\n    } catch (final SocketTimeoutException ex) {\r\n        if (last) {\r\n            throw new ConnectTimeoutException(ex, host, addresses);\r\n        }\r\n    } catch (final NoRouteToHostException ex) {\r\n        if (last) {\r\n            throw ex;\r\n        }\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nWhen you debug it, you&#39;ll see that this is the value of `addresses`:\r\n```\r\n[dns.google/8.8.4.4, dns.google/8.8.8.8, dns.google/2001:4860:4860:0:0:0:0:8888, dns.google/2001:4860:4860:0:0:0:0:8844]\r\n```\r\n\r\nSo it’s actually making 4 requests... the first 2 fail with a `SocketTimeoutException` after 1 second each, and the second 2 fail with a `NoRouteToHostException` pretty much immediately.  I don’t know why the last 2 requests fail immediately, but they do.\r\n\r\nSo the end result is that it takes approximately 2 seconds to make all the requests, and the end result is a `NoRouteToHostException`","title":"Apache HttpClients always takes 2x the configured ConnectTimeout to actually timeout?","body":"<p>So in the <code>DefaultHttpClientConnectionOperator</code> class you’ll see this code:</p>\n<pre><code>final InetAddress[] addresses = host.getAddress() != null ?\n        new InetAddress[] { host.getAddress() } : this.dnsResolver.resolve(host.getHostName());\n...\nfor (int i = 0; i &lt; addresses.length; i++) {\n    ...\n    try {\n        sock = sf.connectSocket(connectTimeout, sock, host, remoteAddress, localAddress, context);\n        ...\n    } catch (final SocketTimeoutException ex) {\n        if (last) {\n            throw new ConnectTimeoutException(ex, host, addresses);\n        }\n    } catch (final NoRouteToHostException ex) {\n        if (last) {\n            throw ex;\n        }\n    }\n    ...\n}\n</code></pre>\n<p>When you debug it, you'll see that this is the value of <code>addresses</code>:</p>\n<pre><code>[dns.google/8.8.4.4, dns.google/8.8.8.8, dns.google/2001:4860:4860:0:0:0:0:8888, dns.google/2001:4860:4860:0:0:0:0:8844]\n</code></pre>\n<p>So it’s actually making 4 requests... the first 2 fail with a <code>SocketTimeoutException</code> after 1 second each, and the second 2 fail with a <code>NoRouteToHostException</code> pretty much immediately.  I don’t know why the last 2 requests fail immediately, but they do.</p>\n<p>So the end result is that it takes approximately 2 seconds to make all the requests, and the end result is a <code>NoRouteToHostException</code></p>\n"}],"owner":{"account_id":152786,"reputation":5621,"user_id":367544,"accept_rate":77,"display_name":"Dasmowenator"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77362637,"answer_count":1,"score":0,"last_activity_date":1698264975,"creation_date":1698253655,"question_id":77361599,"body_markdown":"Example code:\r\n```\r\npublic static void main(String[] args) throws Exception {\r\n    RequestConfig requestConfig = RequestConfig.custom()\r\n            .setConnectTimeout(1_000)\r\n            .setSocketTimeout(5_000)\r\n            .setConnectionRequestTimeout(60_000)\r\n            .build();\r\n    \r\n    CloseableHttpClient httpClient = HttpClients.custom()\r\n            .disableAutomaticRetries()\r\n            .disableRedirectHandling()\r\n            .setDefaultRequestConfig(requestConfig)\r\n            .build();\r\n    \r\n    HttpHead httpHead = new HttpHead(&quot;http://dns.google/a.mp4&quot;);\r\n    httpHead.setHeader(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\r\n    \r\n    final long startTime = System.currentTimeMillis();\r\n    try (CloseableHttpResponse httpResponse = httpClient.execute(httpHead)) {\r\n        final long elapsedTime = System.currentTimeMillis() - startTime;\r\n        System.out.println(&quot;Success after &quot; + elapsedTime + &quot; ms&quot;);\r\n    } catch (Exception e) {\r\n        final long elapsedTime = System.currentTimeMillis() - startTime;\r\n        System.err.println(&quot;Error after &quot; + elapsedTime + &quot; ms&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\nThis `HttpHead` is pointing to a URL that doesn&#39;t exist (`http://dns.google/a.mp4` in this case), so this request should timeout after 1 second, right? But instead it&#39;s taking 2 seconds to timeout:\r\n```\r\nError after 2064 ms\r\njava.net.NoRouteToHostException: No route to host\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n```\r\n\r\nNo matter what I change the `ConnectTimeout` to, it always takes 2x that amount of time to timeout.  Why???\r\n\r\nI&#39;m using HttpClients version 4.5.13","title":"Apache HttpClients always takes 2x the configured ConnectTimeout to actually timeout?","body":"<p>Example code:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    RequestConfig requestConfig = RequestConfig.custom()\n            .setConnectTimeout(1_000)\n            .setSocketTimeout(5_000)\n            .setConnectionRequestTimeout(60_000)\n            .build();\n    \n    CloseableHttpClient httpClient = HttpClients.custom()\n            .disableAutomaticRetries()\n            .disableRedirectHandling()\n            .setDefaultRequestConfig(requestConfig)\n            .build();\n    \n    HttpHead httpHead = new HttpHead(&quot;http://dns.google/a.mp4&quot;);\n    httpHead.setHeader(&quot;Accept-Encoding&quot;, &quot;identity&quot;);\n    \n    final long startTime = System.currentTimeMillis();\n    try (CloseableHttpResponse httpResponse = httpClient.execute(httpHead)) {\n        final long elapsedTime = System.currentTimeMillis() - startTime;\n        System.out.println(&quot;Success after &quot; + elapsedTime + &quot; ms&quot;);\n    } catch (Exception e) {\n        final long elapsedTime = System.currentTimeMillis() - startTime;\n        System.err.println(&quot;Error after &quot; + elapsedTime + &quot; ms&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This <code>HttpHead</code> is pointing to a URL that doesn't exist (<code>http://dns.google/a.mp4</code> in this case), so this request should timeout after 1 second, right? But instead it's taking 2 seconds to timeout:</p>\n<pre><code>Error after 2064 ms\njava.net.NoRouteToHostException: No route to host\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:593)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n</code></pre>\n<p>No matter what I change the <code>ConnectTimeout</code> to, it always takes 2x that amount of time to timeout.  Why???</p>\n<p>I'm using HttpClients version 4.5.13</p>\n"},{"tags":["java","jvm","dump","datastage"],"answers":[{"tags":[],"owner":{"account_id":2107430,"reputation":1505,"user_id":1873438,"display_name":"Paul Bastide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418823256,"creation_date":1418823256,"answer_id":27526816,"question_id":27413179,"body_markdown":"You should look at a tool called IBM Heap Analyzer. https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=4544bafe-c7a2-455f-9d43-eb866ea60091\r\n\r\nPer the site... it does... \r\n\r\n    List of Java heap leak suspects\r\n    Recommendation of the size of kCluster\r\n    List of gaps among allocated objects/classes/arrays\r\n    Java objects/classes/arrays search engine\r\n    List of objects/classes/arrays by type name\r\n    List of objects/classes/arrays by object name\r\n    List of objects/classes/arrays by address\r\n    List of objects/classes/arrays by size\r\n    List of objects/classes/arrays by size of child\r\n    List of objects/classes/arrays by number of child\r\n    List of objects/classes/arrays by frequency\r\n    List of available heap spaces by size\r\n    Tree view of Java heap dump\r\n    Loading/saving processed Java heap dumps.\r\n","title":"IBM JVM Java Core Dump created on crash","body":"<p>You should look at a tool called IBM Heap Analyzer. <a href=\"https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=4544bafe-c7a2-455f-9d43-eb866ea60091\" rel=\"nofollow\">https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=4544bafe-c7a2-455f-9d43-eb866ea60091</a></p>\n\n<p>Per the site... it does... </p>\n\n<pre><code>List of Java heap leak suspects\nRecommendation of the size of kCluster\nList of gaps among allocated objects/classes/arrays\nJava objects/classes/arrays search engine\nList of objects/classes/arrays by type name\nList of objects/classes/arrays by object name\nList of objects/classes/arrays by address\nList of objects/classes/arrays by size\nList of objects/classes/arrays by size of child\nList of objects/classes/arrays by number of child\nList of objects/classes/arrays by frequency\nList of available heap spaces by size\nTree view of Java heap dump\nLoading/saving processed Java heap dumps.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5467631,"reputation":1,"user_id":4347958,"display_name":"christofu26"},"score":0,"creation_date":1420730133,"post_id":27527593,"comment_id":44090412,"body_markdown":"Yeah I took a look at it and I have attempted to reinstall JDK and JRE. Sometimes it would fix it but after a few days, I get the above error again. There seems to be a memory leak somewhere but I can&#39;t quite pin point it nor know how to fix it.","body":"Yeah I took a look at it and I have attempted to reinstall JDK and JRE. Sometimes it would fix it but after a few days, I get the above error again. There seems to be a memory leak somewhere but I can&#39;t quite pin point it nor know how to fix it."}],"tags":[],"owner":{"account_id":1662691,"reputation":608,"user_id":1530658,"accept_rate":23,"display_name":"Terry Cho"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418825739,"creation_date":1418825739,"answer_id":27527593,"question_id":27413179,"body_markdown":"You seems like using IBM JVM over Windows XP.&lt;BR&gt;\r\nThe crash seems comes from IBM JVM DLL.\r\n\r\n&gt; 1XHEXCPMODULE  Module:\r\n&gt; C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9ute24.dll\r\n\r\nIt seems JVM itself problem.\r\nI think, it is better to install other JVM (Oracle JVM)\r\n","title":"IBM JVM Java Core Dump created on crash","body":"<p>You seems like using IBM JVM over Windows XP.<BR>\nThe crash seems comes from IBM JVM DLL.</p>\n\n<blockquote>\n  <p>1XHEXCPMODULE  Module:\n  C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9ute24.dll</p>\n</blockquote>\n\n<p>It seems JVM itself problem.\nI think, it is better to install other JVM (Oracle JVM)</p>\n"}],"owner":{"account_id":5467631,"reputation":1,"user_id":4347958,"display_name":"christofu26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698264060,"creation_date":1418256403,"question_id":27413179,"body_markdown":"I couldn&#39;t find a solution on other forums and websites so I thought I&#39;d come here.\r\n\r\nWhen I try to run an Information Server application (i.e. DataStage Infosphere Designer Client), it shows the copyright splash screen but it doesn&#39;t show the login screen. If I look at the Process tab in the task manager, I can see that the DataStage Infosphere Designer Client pops up then disappears (looks like something is killing the process). I also notice that 3 files are created in the software directory: Snap*****.trc, javacore*****.txt, and core*****.dmp\r\n\r\nIn the text file, I have the following:\r\n\r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       TITLE subcomponent dump routine\r\n    NULL           ===============================\r\n    1TISIGINFO     Dump Event &quot;gpf&quot; (00002000) received \r\n    1TIDATETIME    Date:                 2014/12/10 at 18:17:57\r\n    1TIFILENAME    Javacore filename:    C:\\IBM\\InformationServer\\Clients\\Classic\\javacore.20141210.181756.4956.0002.txt\r\n    1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)\r\n    1TIPREPSTATE   Prep State: 0x100 ()\r\n    1TIPREPINFO    Exclusive VM access not taken: data may not be consistent across javacore sections\r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       GPINFO subcomponent dump routine\r\n    NULL           ================================\r\n    2XHOSLEVEL     OS Level         : Windows XP 5.1 build 2600 Service Pack 2\r\n    2XHCPUS        Processors -\r\n    3XHCPUARCH       Architecture   : x86\r\n    3XHNUMCPUS       How Many       : 4\r\n    3XHNUMASUP       NUMA is either not supported or has been disabled by user\r\n    NULL           \r\n    1XHEXCPCODE    J9Generic_Signal_Number: 00000004\r\n    1XHEXCPCODE    ExceptionCode: C0000005\r\n    1XHEXCPCODE    ExceptionAddress: 09C40340\r\n    1XHEXCPCODE    ContextFlags: 0001007F\r\n    1XHEXCPCODE    Handler1: 0846A120\r\n    1XHEXCPCODE    Handler2: 084CC0E0\r\n    1XHEXCPCODE    InaccessibleAddress: DD55B4BF\r\n    NULL           \r\n    1XHEXCPMODULE  Module: C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9ute24.dll\r\n    1XHEXCPMODULE  Module_base_address: 09C30000\r\n    1XHEXCPMODULE  Offset_in_DLL: 00010340\r\n    NULL           \r\n    1XHREGISTERS   Registers:\r\n    2XHREGISTER      EDI: DD55B4BF\r\n    2XHREGISTER      ESI: 0853F2E0\r\n    2XHREGISTER      EAX: DD55B4BF\r\n    2XHREGISTER      EBX: 08FD96F0\r\n    2XHREGISTER      ECX: 08FDAB28\r\n    2XHREGISTER      EDX: DD55B4C0\r\n    2XHREGISTER      EIP: 09C40340\r\n    2XHREGISTER      ESP: 0028CA9C\r\n    2XHREGISTER      EBP: 08EA5D00\r\n    2XHREGISTER      EFLAGS: 00010216\r\n    2XHREGISTER      GS: 002B\r\n    2XHREGISTER      FS: 0053\r\n    2XHREGISTER      ES: 002B\r\n    2XHREGISTER      DS: 002B\r\n    NULL           \r\n    1XHFLAGS       VM flags:00000000\r\n    NULL           \r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       ENVINFO subcomponent dump routine\r\n    NULL           =================================\r\n    1CIJAVAVERSION 1INTERNAL      An exception occurred attempting to access in-flight data. Internal diagnostics:\r\n    NULL           \r\n    2INTERNAL                J9Generic_Signal_Number: 00000004\r\n    2INTERNAL                ExceptionCode: C0000005\r\n    2INTERNAL                ExceptionAddress: 093D12A0\r\n    2INTERNAL                ContextFlags: 0001007F\r\n    2INTERNAL                Handler1: 093DADC0\r\n    2INTERNAL                Handler2: 084CC0E0\r\n    2INTERNAL                InaccessibleAddress: DD55B4BF\r\n    NULL           \r\n    2INTERNAL                Module: C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9dmp24.dll\r\n    2INTERNAL                Module_base_address: 093D0000\r\n    2INTERNAL                Offset_in_DLL: 000012A0\r\n    NULL\r\n    0SECTION       MEMINFO subcomponent dump routine\r\n    NULL           =================================\r\n    1STHEAPFREE    Bytes of Heap Space Free: 2000000 \r\n    1STHEAPALLOC   Bytes of Heap Space Allocated: 2000000 \r\n    NULL           \r\n    1STSEGTYPE     Internal Memory\r\n    NULL           segment  start    alloc    end       type     bytes\r\n    NULL           \r\n    1STSEGTYPE     Object Memory\r\n    NULL           segment  start    alloc    end       type     bytes\r\n    1STSEGMENT     08540854 1A030000 1C030000 1C030000  00000009 2000000\r\n    NULL           \r\n    1STSEGTYPE     Class Memory\r\n    NULL           segment  start    alloc    end       type     bytes\r\n    NULL           \r\n    1STGCHTYPE     GC History  \r\n    NULL           \r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       LOCKS subcomponent dump routine\r\n    NULL           ===============================\r\n    NULL           \r\n    1LKPOOLINFO    Monitor pool info:\r\n    2LKPOOLTOTAL     Current total number of monitors: 0\r\n    NULL           \r\n    1LKMONPOOLDUMP Monitor Pool Dump (flat &amp; inflated object-monitors):\r\n    NULL           \r\n    1LKREGMONDUMP  JVM System Monitor Dump (registered monitors):\r\n    2LKREGMON          Thread global lock (0x0898CFF0): &lt;unowned&gt;\r\n    2LKREGMON          Windows native console event lock lock (0x0898D044): &lt;unowned&gt;\r\n    2LKREGMON          NLS hash table lock (0x0898D098): &lt;unowned&gt;\r\n    2LKREGMON          portLibrary_j9sig_async_monitor lock (0x0898D0EC): &lt;unowned&gt;\r\n    2LKREGMON          getnameinfo monitor lock (0x0898D140): &lt;unowned&gt;\r\n    2LKREGMON          Hook Interface lock (0x0898D194): &lt;unowned&gt;\r\n    2LKREGMON          &amp;(vm-&gt;bytecodeTableMutex) lock (0x0898D1E8): &lt;unowned&gt;\r\n    2LKREGMON          Hook Interface lock (0x0898D23C): &lt;unowned&gt;\r\n    2LKREGMON          dump tokens mutex lock (0x0898D290): &lt;unowned&gt;\r\n    2LKREGMON          MM_Forge lock (0x0898D2E4): &lt;unowned&gt;\r\n    2LKREGMON          MM_SublistPool lock (0x0898D338): &lt;unowned&gt;\r\n    2LKREGMON          MM_SublistPool lock (0x0898D38C): &lt;unowned&gt;\r\n    2LKREGMON          MM_SublistPool lock (0x0898D3E0): &lt;unowned&gt;\r\n    2LKREGMON          MM_SublistPool lock (0x0898D434): &lt;unowned&gt;\r\n    2LKREGMON          MM_SublistPool lock (0x0898D488): &lt;unowned&gt;\r\n    2LKREGMON          Undead Segment List Monitor lock (0x0898D4DC): &lt;unowned&gt;\r\n    2LKREGMON          Hook Interface lock (0x0898D530): &lt;unowned&gt;\r\n    2LKREGMON          Hook Interface lock (0x0898D584): &lt;unowned&gt;\r\n    2LKREGMON          MM_ParallelDispatcher::slaveThread lock (0x0898D5D8): &lt;unowned&gt;\r\n    2LKREGMON          MM_ParallelDispatcher::shutdownCount lock (0x0898D62C): &lt;unowned&gt;\r\n    2LKREGMON          MM_ParallelDispatcher::synchronize lock (0x0898D680): &lt;unowned&gt;\r\n    2LKREGMON          MM_WorkPackets::inputList lock (0x0898D6D4): &lt;unowned&gt;\r\n    2LKREGMON          MM_WorkPackets::allocatingPackets lock (0x0898D728): &lt;unowned&gt;\r\n    2LKREGMON          MM_GCExtensions::gcStats lock (0x0898D77C): &lt;unowned&gt;\r\n    2LKREGMON          &amp;RAS_GLOBAL_FROM_JAVAVM(triggerOnGroupsWriteMutex,vm) lock (0x0898D7D0): &lt;unowned&gt;\r\n    2LKREGMON          &amp;RAS_GLOBAL_FROM_JAVAVM(triggerOnTpidsWriteMutex,vm) lock (0x0898D824): &lt;unowned&gt;\r\n    2LKREGMON          &amp;vm-&gt;verboseStateMutex lock (0x0898D878): &lt;unowned&gt;\r\n    2LKREGMON          VM thread list lock (0x0898D8CC): &lt;unowned&gt;\r\n    2LKREGMON          VM exclusive access lock (0x0898D920): &lt;unowned&gt;\r\n    2LKREGMON          VM Runtime flags Mutex lock (0x0898D974): &lt;unowned&gt;\r\n    2LKREGMON          VM Extended method block flags Mutex lock (0x0898D9C8): &lt;unowned&gt;\r\n    2LKREGMON          Async event mutex lock (0x0898DA1C): &lt;unowned&gt;\r\n    2LKREGMON          JIT/GC class unload mutex lock (0x0898DA70): &lt;unowned&gt;\r\n    2LKREGMON          VM bind native lock (0x0898DAC4): &lt;unowned&gt;\r\n    2LKREGMON          VM Statistics List Mutex lock (0x0898DB18): &lt;unowned&gt;\r\n    2LKREGMON          Field Index Hashtable Mutex lock (0x0898DB6C): &lt;unowned&gt;\r\n    2LKREGMON          VM class loader blocks lock (0x0898DBC0): &lt;unowned&gt;\r\n    2LKREGMON          VM class table lock (0x0898DC14): &lt;unowned&gt;\r\n    2LKREGMON          VM string table lock (0x0898DC68): &lt;unowned&gt;\r\n    2LKREGMON          VM segment lock (0x0898DCBC): &lt;unowned&gt;\r\n    2LKREGMON          VM JNI frame lock (0x0898DD10): &lt;unowned&gt;\r\n    2LKREGMON          VM GC finalize master lock (0x0898DD64): &lt;unowned&gt;\r\n    2LKREGMON          VM GC finalize run finalization lock (0x0898DDB8): &lt;unowned&gt;\r\n    2LKREGMON          VM memory space list lock (0x0898DE0C): &lt;unowned&gt;\r\n    2LKREGMON          VM JXE description lock (0x0898DE60): &lt;unowned&gt;\r\n    2LKREGMON          VM AOT runtime init lock (0x0898DEB4): &lt;unowned&gt;\r\n    2LKREGMON          VM monitor table lock (0x0898DF08): Flat locked by &quot;(unnamed thread)&quot; (0x0853F000), entry count 1\r\n    2LKREGMON          VM volatile long lock (0x0898DF5C): &lt;unowned&gt;\r\n    2LKREGMON          VM mem segment list lock (0x0898DFB0): &lt;unowned&gt;\r\n    2LKREGMON          VM mem segment list lock (0x0898E004): &lt;unowned&gt;\r\n    2LKREGMON          VM mem segment list lock (0x0898E058): &lt;unowned&gt;\r\n    2LKREGMON          FinalizeListManager lock (0x0898E0AC): &lt;unowned&gt;\r\n    2LKREGMON          &amp;(jvmtiData-&gt;mutex) lock (0x0898E100): &lt;unowned&gt;\r\n    2LKREGMON          &amp;(jvmtiData-&gt;redefineMutex) lock (0x0898E154): &lt;unowned&gt;\r\n    2LKREGMON          BCVD verifier lock (0x0898E1A8): &lt;unowned&gt;\r\n    2LKREGMON          XshareclassesVerifyInternTreeMon lock (0x0898E1FC): &lt;unowned&gt;\r\n    2LKREGMON          global mapMemoryBuffer mutex lock (0x0898E250): &lt;unowned&gt;\r\n    2LKREGMON          &amp;(classLoader-&gt;mutex) lock (0x0898E2A4): &lt;unowned&gt;\r\n    2LKREGMON          Thread public flags mutex lock (0x0898E2F8): &lt;unowned&gt;\r\n    2LKREGMON          jvmriDumpThread lock (0x0898E34C): &lt;unowned&gt;\r\n    2LKREGMON          tracemon lock (0x0898E3A0): &lt;unowned&gt;\r\n    2LKREGMON          tracemon lock (0x0898E3F4): &lt;unowned&gt;\r\n    2LKREGMON          jvmriDumpThread lock (0x0898E448): &lt;unowned&gt;\r\n    NULL           \r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       THREADS subcomponent dump routine\r\n    NULL           =================================\r\n    NULL           \r\n    1XMCURTHDINFO  Current thread\r\n    NULL           ----------------------\r\n    3XMTHREADINFO      &quot;(unnamed thread)&quot; J9VMThread:0x0853F000, j9thread_t:0x0896E124, java/lang/Thread:0x00000000, state:R, prio=0\r\n    3XMTHREADINFO1            (native thread ID:0x1898, native priority:0x5, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           No Java callstack associated with this thread\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               unsubscribe+0xa210 (0x09C40340 [j9ute24+0x10340])\r\n    4XENATIVESTACK               JVM_OnUnload+0xbb0 (0x08A32D60 [j9trc24+0x2d60])\r\n    4XENATIVESTACK               J9VMDllMain+0x97c (0x08A3429C [j9trc24+0x429c])\r\n    4XENATIVESTACK               LdrUnloadDll+0x99 (0x77311320 [ntdll+0x41320])\r\n    4XENATIVESTACK               FreeLibrary+0x15 (0x76012D2C [KERNELBASE+0x12d2c])\r\n    4XENATIVESTACK               j9port_init_library+0x573d (0x084CCEFD [J9PRT24+0xcefd])\r\n    4XENATIVESTACK               RtlFreeHeap+0x7e (0x772FE023 [ntdll+0x2e023])\r\n    4XENATIVESTACK               (0x51E84D8D)\r\n    4XENATIVESTACK               (0x50FFCE8B)\r\n    4XENATIVESTACK               (0x8F8D5030)\r\n    NULL\r\n    NULL           \r\n    1XMTHDINFO     Thread Details\r\n    NULL           ------------------\r\n    NULL           \r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0x1C84, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               NtWaitForMultipleObjects+0x15 (0x772F015D [ntdll+0x2015d])\r\n    4XENATIVESTACK               WaitForMultipleObjectsEx+0x8e (0x758119F8 [kernel32+0x119f8])\r\n    4XENATIVESTACK               GetCLRFunction+0xc7af (0x69C40FAE [clr+0xe0fae])\r\n    4XENATIVESTACK               GetCLRFunction+0xc705 (0x69C40F04 [clr+0xe0f04])\r\n    4XENATIVESTACK               GetCLRFunction+0xc634 (0x69C40E33 [clr+0xe0e33])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0x1D48, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               ZwWaitForSingleObject+0x15 (0x772EF8D1 [ntdll+0x1f8d1])\r\n    4XENATIVESTACK               WaitForSingleObjectEx+0x43 (0x75811194 [kernel32+0x11194])\r\n    4XENATIVESTACK               DllUnregisterServerInternal+0x5507 (0x69B70BF3 [clr+0x10bf3])\r\n    4XENATIVESTACK               DllUnregisterServerInternal+0x554e (0x69B70C3A [clr+0x10c3a])\r\n    4XENATIVESTACK               (0x69B6242D [clr+0x242d])\r\n    4XENATIVESTACK               LogHelp_TerminateOnAssert+0x2d0b6 (0x69C055BE [clr+0xa55be])\r\n    4XENATIVESTACK               LogHelp_TerminateOnAssert+0x2d40c (0x69C05914 [clr+0xa5914])\r\n    4XENATIVESTACK               GetMetaDataInternalInterface+0x17127 (0x69BD82F7 [clr+0x782f7])\r\n    4XENATIVESTACK               GetMetaDataInternalInterface+0x17195 (0x69BD8365 [clr+0x78365])\r\n    4XENATIVESTACK               GetMetaDataInternalInterface+0x17262 (0x69BD8432 [clr+0x78432])\r\n    4XENATIVESTACK               SetRuntimeInfo+0xef1 (0x69C4B5A1 [clr+0xeb5a1])\r\n    4XENATIVESTACK               GetPrivateContextsPerfCounters+0x5965 (0x69CF36F8 [clr+0x1936f8])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0x138C, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               NtWaitForMultipleObjects+0x15 (0x772F015D [ntdll+0x2015d])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0x5B4, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               ZwWaitForWorkViaWorkerFactory+0x12 (0x772F1F46 [ntdll+0x21f46])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0xBB8, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               ZwWaitForWorkViaWorkerFactory+0x12 (0x772F1F46 [ntdll+0x21f46])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    3XMTHREADINFO      Anonymous native thread\r\n    3XMTHREADINFO1            (native thread ID:0x7CC, native priority: 0x0, native policy:UNKNOWN)\r\n    3XMTHREADINFO3           Native callstack:\r\n    4XENATIVESTACK               ZwDelayExecution+0x15 (0x772EFD91 [ntdll+0x1fd91])\r\n    4XENATIVESTACK               Sleep+0xf (0x760144A5 [KERNELBASE+0x144a5])\r\n    4XENATIVESTACK               CoGetTreatAsClass+0x325e (0x74FFD98D [ole32+0x2d98d])\r\n    4XENATIVESTACK               CoGetTreatAsClass+0x314b (0x74FFD87A [ole32+0x2d87a])\r\n    4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\r\n    4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\r\n    NULL\r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       CLASSES subcomponent dump routine\r\n    NULL           =================================\r\n    1CLTEXTCLLOS   \r\n    1CLTEXTCLLSS   \r\n    2CLTEXTCLLOADER\r\n    3CLNMBRLOADEDLIB\r\n    3CLNMBRLOADEDCL\r\n    1CLTEXTCLLIB   \r\n    1CLTEXTCLLOD   \r\n    2CLTEXTCLLOAD  \r\n    NULL           ------------------------------------------------------------------------\r\n    0SECTION       Javadump End section\r\n    NULL           ---------------------- END OF DUMP -------------------------------------\r\n\r\nDoes anyone know how to read this file or know how to solve this issue?\r\n\r\nI have already tried reinstalling the software, restarting my computer, reinstalling JRE and JDK. I&#39;m not sure what else to do.","title":"IBM JVM Java Core Dump created on crash","body":"<p>I couldn't find a solution on other forums and websites so I thought I'd come here.</p>\n\n<p>When I try to run an Information Server application (i.e. DataStage Infosphere Designer Client), it shows the copyright splash screen but it doesn't show the login screen. If I look at the Process tab in the task manager, I can see that the DataStage Infosphere Designer Client pops up then disappears (looks like something is killing the process). I also notice that 3 files are created in the software directory: Snap*****.trc, javacore*****.txt, and core*****.dmp</p>\n\n<p>In the text file, I have the following:</p>\n\n<pre><code>NULL           ------------------------------------------------------------------------\n0SECTION       TITLE subcomponent dump routine\nNULL           ===============================\n1TISIGINFO     Dump Event \"gpf\" (00002000) received \n1TIDATETIME    Date:                 2014/12/10 at 18:17:57\n1TIFILENAME    Javacore filename:    C:\\IBM\\InformationServer\\Clients\\Classic\\javacore.20141210.181756.4956.0002.txt\n1TIREQFLAGS    Request Flags: 0x81 (exclusive+preempt)\n1TIPREPSTATE   Prep State: 0x100 ()\n1TIPREPINFO    Exclusive VM access not taken: data may not be consistent across javacore sections\nNULL           ------------------------------------------------------------------------\n0SECTION       GPINFO subcomponent dump routine\nNULL           ================================\n2XHOSLEVEL     OS Level         : Windows XP 5.1 build 2600 Service Pack 2\n2XHCPUS        Processors -\n3XHCPUARCH       Architecture   : x86\n3XHNUMCPUS       How Many       : 4\n3XHNUMASUP       NUMA is either not supported or has been disabled by user\nNULL           \n1XHEXCPCODE    J9Generic_Signal_Number: 00000004\n1XHEXCPCODE    ExceptionCode: C0000005\n1XHEXCPCODE    ExceptionAddress: 09C40340\n1XHEXCPCODE    ContextFlags: 0001007F\n1XHEXCPCODE    Handler1: 0846A120\n1XHEXCPCODE    Handler2: 084CC0E0\n1XHEXCPCODE    InaccessibleAddress: DD55B4BF\nNULL           \n1XHEXCPMODULE  Module: C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9ute24.dll\n1XHEXCPMODULE  Module_base_address: 09C30000\n1XHEXCPMODULE  Offset_in_DLL: 00010340\nNULL           \n1XHREGISTERS   Registers:\n2XHREGISTER      EDI: DD55B4BF\n2XHREGISTER      ESI: 0853F2E0\n2XHREGISTER      EAX: DD55B4BF\n2XHREGISTER      EBX: 08FD96F0\n2XHREGISTER      ECX: 08FDAB28\n2XHREGISTER      EDX: DD55B4C0\n2XHREGISTER      EIP: 09C40340\n2XHREGISTER      ESP: 0028CA9C\n2XHREGISTER      EBP: 08EA5D00\n2XHREGISTER      EFLAGS: 00010216\n2XHREGISTER      GS: 002B\n2XHREGISTER      FS: 0053\n2XHREGISTER      ES: 002B\n2XHREGISTER      DS: 002B\nNULL           \n1XHFLAGS       VM flags:00000000\nNULL           \nNULL           ------------------------------------------------------------------------\n0SECTION       ENVINFO subcomponent dump routine\nNULL           =================================\n1CIJAVAVERSION 1INTERNAL      An exception occurred attempting to access in-flight data. Internal diagnostics:\nNULL           \n2INTERNAL                J9Generic_Signal_Number: 00000004\n2INTERNAL                ExceptionCode: C0000005\n2INTERNAL                ExceptionAddress: 093D12A0\n2INTERNAL                ContextFlags: 0001007F\n2INTERNAL                Handler1: 093DADC0\n2INTERNAL                Handler2: 084CC0E0\n2INTERNAL                InaccessibleAddress: DD55B4BF\nNULL           \n2INTERNAL                Module: C:\\IBM\\InformationServer\\ASBNode\\apps\\jre\\bin\\j9dmp24.dll\n2INTERNAL                Module_base_address: 093D0000\n2INTERNAL                Offset_in_DLL: 000012A0\nNULL\n0SECTION       MEMINFO subcomponent dump routine\nNULL           =================================\n1STHEAPFREE    Bytes of Heap Space Free: 2000000 \n1STHEAPALLOC   Bytes of Heap Space Allocated: 2000000 \nNULL           \n1STSEGTYPE     Internal Memory\nNULL           segment  start    alloc    end       type     bytes\nNULL           \n1STSEGTYPE     Object Memory\nNULL           segment  start    alloc    end       type     bytes\n1STSEGMENT     08540854 1A030000 1C030000 1C030000  00000009 2000000\nNULL           \n1STSEGTYPE     Class Memory\nNULL           segment  start    alloc    end       type     bytes\nNULL           \n1STGCHTYPE     GC History  \nNULL           \nNULL           ------------------------------------------------------------------------\n0SECTION       LOCKS subcomponent dump routine\nNULL           ===============================\nNULL           \n1LKPOOLINFO    Monitor pool info:\n2LKPOOLTOTAL     Current total number of monitors: 0\nNULL           \n1LKMONPOOLDUMP Monitor Pool Dump (flat &amp; inflated object-monitors):\nNULL           \n1LKREGMONDUMP  JVM System Monitor Dump (registered monitors):\n2LKREGMON          Thread global lock (0x0898CFF0): &lt;unowned&gt;\n2LKREGMON          Windows native console event lock lock (0x0898D044): &lt;unowned&gt;\n2LKREGMON          NLS hash table lock (0x0898D098): &lt;unowned&gt;\n2LKREGMON          portLibrary_j9sig_async_monitor lock (0x0898D0EC): &lt;unowned&gt;\n2LKREGMON          getnameinfo monitor lock (0x0898D140): &lt;unowned&gt;\n2LKREGMON          Hook Interface lock (0x0898D194): &lt;unowned&gt;\n2LKREGMON          &amp;(vm-&gt;bytecodeTableMutex) lock (0x0898D1E8): &lt;unowned&gt;\n2LKREGMON          Hook Interface lock (0x0898D23C): &lt;unowned&gt;\n2LKREGMON          dump tokens mutex lock (0x0898D290): &lt;unowned&gt;\n2LKREGMON          MM_Forge lock (0x0898D2E4): &lt;unowned&gt;\n2LKREGMON          MM_SublistPool lock (0x0898D338): &lt;unowned&gt;\n2LKREGMON          MM_SublistPool lock (0x0898D38C): &lt;unowned&gt;\n2LKREGMON          MM_SublistPool lock (0x0898D3E0): &lt;unowned&gt;\n2LKREGMON          MM_SublistPool lock (0x0898D434): &lt;unowned&gt;\n2LKREGMON          MM_SublistPool lock (0x0898D488): &lt;unowned&gt;\n2LKREGMON          Undead Segment List Monitor lock (0x0898D4DC): &lt;unowned&gt;\n2LKREGMON          Hook Interface lock (0x0898D530): &lt;unowned&gt;\n2LKREGMON          Hook Interface lock (0x0898D584): &lt;unowned&gt;\n2LKREGMON          MM_ParallelDispatcher::slaveThread lock (0x0898D5D8): &lt;unowned&gt;\n2LKREGMON          MM_ParallelDispatcher::shutdownCount lock (0x0898D62C): &lt;unowned&gt;\n2LKREGMON          MM_ParallelDispatcher::synchronize lock (0x0898D680): &lt;unowned&gt;\n2LKREGMON          MM_WorkPackets::inputList lock (0x0898D6D4): &lt;unowned&gt;\n2LKREGMON          MM_WorkPackets::allocatingPackets lock (0x0898D728): &lt;unowned&gt;\n2LKREGMON          MM_GCExtensions::gcStats lock (0x0898D77C): &lt;unowned&gt;\n2LKREGMON          &amp;RAS_GLOBAL_FROM_JAVAVM(triggerOnGroupsWriteMutex,vm) lock (0x0898D7D0): &lt;unowned&gt;\n2LKREGMON          &amp;RAS_GLOBAL_FROM_JAVAVM(triggerOnTpidsWriteMutex,vm) lock (0x0898D824): &lt;unowned&gt;\n2LKREGMON          &amp;vm-&gt;verboseStateMutex lock (0x0898D878): &lt;unowned&gt;\n2LKREGMON          VM thread list lock (0x0898D8CC): &lt;unowned&gt;\n2LKREGMON          VM exclusive access lock (0x0898D920): &lt;unowned&gt;\n2LKREGMON          VM Runtime flags Mutex lock (0x0898D974): &lt;unowned&gt;\n2LKREGMON          VM Extended method block flags Mutex lock (0x0898D9C8): &lt;unowned&gt;\n2LKREGMON          Async event mutex lock (0x0898DA1C): &lt;unowned&gt;\n2LKREGMON          JIT/GC class unload mutex lock (0x0898DA70): &lt;unowned&gt;\n2LKREGMON          VM bind native lock (0x0898DAC4): &lt;unowned&gt;\n2LKREGMON          VM Statistics List Mutex lock (0x0898DB18): &lt;unowned&gt;\n2LKREGMON          Field Index Hashtable Mutex lock (0x0898DB6C): &lt;unowned&gt;\n2LKREGMON          VM class loader blocks lock (0x0898DBC0): &lt;unowned&gt;\n2LKREGMON          VM class table lock (0x0898DC14): &lt;unowned&gt;\n2LKREGMON          VM string table lock (0x0898DC68): &lt;unowned&gt;\n2LKREGMON          VM segment lock (0x0898DCBC): &lt;unowned&gt;\n2LKREGMON          VM JNI frame lock (0x0898DD10): &lt;unowned&gt;\n2LKREGMON          VM GC finalize master lock (0x0898DD64): &lt;unowned&gt;\n2LKREGMON          VM GC finalize run finalization lock (0x0898DDB8): &lt;unowned&gt;\n2LKREGMON          VM memory space list lock (0x0898DE0C): &lt;unowned&gt;\n2LKREGMON          VM JXE description lock (0x0898DE60): &lt;unowned&gt;\n2LKREGMON          VM AOT runtime init lock (0x0898DEB4): &lt;unowned&gt;\n2LKREGMON          VM monitor table lock (0x0898DF08): Flat locked by \"(unnamed thread)\" (0x0853F000), entry count 1\n2LKREGMON          VM volatile long lock (0x0898DF5C): &lt;unowned&gt;\n2LKREGMON          VM mem segment list lock (0x0898DFB0): &lt;unowned&gt;\n2LKREGMON          VM mem segment list lock (0x0898E004): &lt;unowned&gt;\n2LKREGMON          VM mem segment list lock (0x0898E058): &lt;unowned&gt;\n2LKREGMON          FinalizeListManager lock (0x0898E0AC): &lt;unowned&gt;\n2LKREGMON          &amp;(jvmtiData-&gt;mutex) lock (0x0898E100): &lt;unowned&gt;\n2LKREGMON          &amp;(jvmtiData-&gt;redefineMutex) lock (0x0898E154): &lt;unowned&gt;\n2LKREGMON          BCVD verifier lock (0x0898E1A8): &lt;unowned&gt;\n2LKREGMON          XshareclassesVerifyInternTreeMon lock (0x0898E1FC): &lt;unowned&gt;\n2LKREGMON          global mapMemoryBuffer mutex lock (0x0898E250): &lt;unowned&gt;\n2LKREGMON          &amp;(classLoader-&gt;mutex) lock (0x0898E2A4): &lt;unowned&gt;\n2LKREGMON          Thread public flags mutex lock (0x0898E2F8): &lt;unowned&gt;\n2LKREGMON          jvmriDumpThread lock (0x0898E34C): &lt;unowned&gt;\n2LKREGMON          tracemon lock (0x0898E3A0): &lt;unowned&gt;\n2LKREGMON          tracemon lock (0x0898E3F4): &lt;unowned&gt;\n2LKREGMON          jvmriDumpThread lock (0x0898E448): &lt;unowned&gt;\nNULL           \nNULL           ------------------------------------------------------------------------\n0SECTION       THREADS subcomponent dump routine\nNULL           =================================\nNULL           \n1XMCURTHDINFO  Current thread\nNULL           ----------------------\n3XMTHREADINFO      \"(unnamed thread)\" J9VMThread:0x0853F000, j9thread_t:0x0896E124, java/lang/Thread:0x00000000, state:R, prio=0\n3XMTHREADINFO1            (native thread ID:0x1898, native priority:0x5, native policy:UNKNOWN)\n3XMTHREADINFO3           No Java callstack associated with this thread\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               unsubscribe+0xa210 (0x09C40340 [j9ute24+0x10340])\n4XENATIVESTACK               JVM_OnUnload+0xbb0 (0x08A32D60 [j9trc24+0x2d60])\n4XENATIVESTACK               J9VMDllMain+0x97c (0x08A3429C [j9trc24+0x429c])\n4XENATIVESTACK               LdrUnloadDll+0x99 (0x77311320 [ntdll+0x41320])\n4XENATIVESTACK               FreeLibrary+0x15 (0x76012D2C [KERNELBASE+0x12d2c])\n4XENATIVESTACK               j9port_init_library+0x573d (0x084CCEFD [J9PRT24+0xcefd])\n4XENATIVESTACK               RtlFreeHeap+0x7e (0x772FE023 [ntdll+0x2e023])\n4XENATIVESTACK               (0x51E84D8D)\n4XENATIVESTACK               (0x50FFCE8B)\n4XENATIVESTACK               (0x8F8D5030)\nNULL\nNULL           \n1XMTHDINFO     Thread Details\nNULL           ------------------\nNULL           \n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0x1C84, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               NtWaitForMultipleObjects+0x15 (0x772F015D [ntdll+0x2015d])\n4XENATIVESTACK               WaitForMultipleObjectsEx+0x8e (0x758119F8 [kernel32+0x119f8])\n4XENATIVESTACK               GetCLRFunction+0xc7af (0x69C40FAE [clr+0xe0fae])\n4XENATIVESTACK               GetCLRFunction+0xc705 (0x69C40F04 [clr+0xe0f04])\n4XENATIVESTACK               GetCLRFunction+0xc634 (0x69C40E33 [clr+0xe0e33])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0x1D48, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               ZwWaitForSingleObject+0x15 (0x772EF8D1 [ntdll+0x1f8d1])\n4XENATIVESTACK               WaitForSingleObjectEx+0x43 (0x75811194 [kernel32+0x11194])\n4XENATIVESTACK               DllUnregisterServerInternal+0x5507 (0x69B70BF3 [clr+0x10bf3])\n4XENATIVESTACK               DllUnregisterServerInternal+0x554e (0x69B70C3A [clr+0x10c3a])\n4XENATIVESTACK               (0x69B6242D [clr+0x242d])\n4XENATIVESTACK               LogHelp_TerminateOnAssert+0x2d0b6 (0x69C055BE [clr+0xa55be])\n4XENATIVESTACK               LogHelp_TerminateOnAssert+0x2d40c (0x69C05914 [clr+0xa5914])\n4XENATIVESTACK               GetMetaDataInternalInterface+0x17127 (0x69BD82F7 [clr+0x782f7])\n4XENATIVESTACK               GetMetaDataInternalInterface+0x17195 (0x69BD8365 [clr+0x78365])\n4XENATIVESTACK               GetMetaDataInternalInterface+0x17262 (0x69BD8432 [clr+0x78432])\n4XENATIVESTACK               SetRuntimeInfo+0xef1 (0x69C4B5A1 [clr+0xeb5a1])\n4XENATIVESTACK               GetPrivateContextsPerfCounters+0x5965 (0x69CF36F8 [clr+0x1936f8])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0x138C, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               NtWaitForMultipleObjects+0x15 (0x772F015D [ntdll+0x2015d])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0x5B4, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               ZwWaitForWorkViaWorkerFactory+0x12 (0x772F1F46 [ntdll+0x21f46])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0xBB8, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               ZwWaitForWorkViaWorkerFactory+0x12 (0x772F1F46 [ntdll+0x21f46])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\n3XMTHREADINFO      Anonymous native thread\n3XMTHREADINFO1            (native thread ID:0x7CC, native priority: 0x0, native policy:UNKNOWN)\n3XMTHREADINFO3           Native callstack:\n4XENATIVESTACK               ZwDelayExecution+0x15 (0x772EFD91 [ntdll+0x1fd91])\n4XENATIVESTACK               Sleep+0xf (0x760144A5 [KERNELBASE+0x144a5])\n4XENATIVESTACK               CoGetTreatAsClass+0x325e (0x74FFD98D [ole32+0x2d98d])\n4XENATIVESTACK               CoGetTreatAsClass+0x314b (0x74FFD87A [ole32+0x2d87a])\n4XENATIVESTACK               BaseThreadInitThunk+0x12 (0x7581338A [kernel32+0x1338a])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x63 (0x77309F72 [ntdll+0x39f72])\n4XENATIVESTACK               RtlInitializeExceptionChain+0x36 (0x77309F45 [ntdll+0x39f45])\nNULL\nNULL           ------------------------------------------------------------------------\n0SECTION       CLASSES subcomponent dump routine\nNULL           =================================\n1CLTEXTCLLOS   \n1CLTEXTCLLSS   \n2CLTEXTCLLOADER\n3CLNMBRLOADEDLIB\n3CLNMBRLOADEDCL\n1CLTEXTCLLIB   \n1CLTEXTCLLOD   \n2CLTEXTCLLOAD  \nNULL           ------------------------------------------------------------------------\n0SECTION       Javadump End section\nNULL           ---------------------- END OF DUMP -------------------------------------\n</code></pre>\n\n<p>Does anyone know how to read this file or know how to solve this issue?</p>\n\n<p>I have already tried reinstalling the software, restarting my computer, reinstalling JRE and JDK. I'm not sure what else to do.</p>\n"},{"tags":["java","exception","finally"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698241934,"post_id":77359800,"comment_id":136380364,"body_markdown":"An exception thrown from a `finally` block discards any previously `return` or `throw` statement. Likewise, a `return` from a `finally` block discards any previously `return` or `throw` statement. If you want the exception and the value, then you can create a custom exception with a getter for the value, and throw that. See vsfDawg`s answer for an example.","body":"An exception thrown from a <code>finally</code> block discards any previously <code>return</code> or <code>throw</code> statement. Likewise, a <code>return</code> from a <code>finally</code> block discards any previously <code>return</code> or <code>throw</code> statement. If you want the exception and the value, then you can create a custom exception with a getter for the value, and throw that. See vsfDawg`s answer for an example."}],"answers":[{"comments":[{"owner":{"account_id":28105867,"reputation":11,"user_id":21474467,"display_name":"andreiiz"},"score":0,"creation_date":1698240908,"post_id":77359858,"comment_id":136380108,"body_markdown":"In this way after returning the ReturnExceptionResult i have to decide if throw the exception or use the result, so again this is useless","body":"In this way after returning the ReturnExceptionResult i have to decide if throw the exception or use the result, so again this is useless"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1698279547,"post_id":77359858,"comment_id":136386513,"body_markdown":"In essence, it seems you&#39;re asking how to return normally and not return normally **at the same time**.  See the problem?   You can either return normally, with the exception object as part of the return value, or you can throw an exception, with the return value as part of the exception object.","body":"In essence, it seems you&#39;re asking how to return normally and not return normally <b>at the same time</b>.  See the problem?   You can either return normally, with the exception object as part of the return value, or you can throw an exception, with the return value as part of the exception object."}],"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698240073,"creation_date":1698240073,"answer_id":77359858,"question_id":77359800,"body_markdown":"Short answer yes. Create a class with 2 data types exception and return value.\r\n\r\n    public class ReturnExceptionResult {\r\n        Object result;\r\n        Exception ex;\r\n\r\n    ...\r\n    }\r\n\r\n    public ReturnExceptionResult myMethod() {\r\n        Object result;\r\n        Exception ex;\r\n        try{\r\n            //some elaborations\r\n            result=returnvalue;\r\n        } catch(MyException myException) {\r\n            //do something \r\n            ex=myException;\r\n            result=returnvalue;\r\n        }\r\n            return new ReturnExceptionResult(result,ex);\r\n    }\r\n","title":"How to send exception and return a value in the same method in java","body":"<p>Short answer yes. Create a class with 2 data types exception and return value.</p>\n<pre><code>public class ReturnExceptionResult {\n    Object result;\n    Exception ex;\n\n...\n}\n\npublic ReturnExceptionResult myMethod() {\n    Object result;\n    Exception ex;\n    try{\n        //some elaborations\n        result=returnvalue;\n    } catch(MyException myException) {\n        //do something \n        ex=myException;\n        result=returnvalue;\n    }\n        return new ReturnExceptionResult(result,ex);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698242064,"post_id":77360092,"comment_id":136380400,"body_markdown":"The original error can be retrieved using `e.getCause()`. If you know its type you can rethrow that (using a cast, as `getCause()` returns `Throwable`). For example, `throw (RuntimeException) e.getCause();`","body":"The original error can be retrieved using <code>e.getCause()</code>. If you know its type you can rethrow that (using a cast, as <code>getCause()</code> returns <code>Throwable</code>). For example, <code>throw (RuntimeException) e.getCause();</code>"}],"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698241716,"creation_date":1698241716,"answer_id":77360092,"question_id":77359800,"body_markdown":"Consider creating a custom exception that contains the original Exception as a cause and the current value.\r\n\r\nA naive example:\r\n\r\n    public class ValueException&lt;T&gt; extends Exception {\r\n      private T value;\r\n      public ValueException(T value, Exception cause) {\r\n        super(cause);\r\n        this.value = value;\r\n      }\r\n      ... stuff ...\r\n    }\r\n\r\nWithin your method...\r\n\r\n    public Type myMethod() throws ValueException {\r\n      Type result = null;\r\n      try {\r\n        //some elaborations\r\n        return result;\r\n      } catch(Exception e) {\r\n        throw new ValueException(result, e);\r\n      }\r\n    }\r\n\r\nSome caller...\r\n\r\n    public Type getType() {\r\n      try {\r\n        return myMethod();\r\n      } catch (ValueException e) {\r\n        if (isGoodEnough(e.getValue()) {\r\n          return e.getValue();\r\n        }\r\n        throw new RuntimeException(&quot;Failed to get Type&quot;, e);\r\n      }","title":"How to send exception and return a value in the same method in java","body":"<p>Consider creating a custom exception that contains the original Exception as a cause and the current value.</p>\n<p>A naive example:</p>\n<pre><code>public class ValueException&lt;T&gt; extends Exception {\n  private T value;\n  public ValueException(T value, Exception cause) {\n    super(cause);\n    this.value = value;\n  }\n  ... stuff ...\n}\n</code></pre>\n<p>Within your method...</p>\n<pre><code>public Type myMethod() throws ValueException {\n  Type result = null;\n  try {\n    //some elaborations\n    return result;\n  } catch(Exception e) {\n    throw new ValueException(result, e);\n  }\n}\n</code></pre>\n<p>Some caller...</p>\n<pre><code>public Type getType() {\n  try {\n    return myMethod();\n  } catch (ValueException e) {\n    if (isGoodEnough(e.getValue()) {\n      return e.getValue();\n    }\n    throw new RuntimeException(&quot;Failed to get Type&quot;, e);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698263661,"creation_date":1698263268,"answer_id":77362507,"question_id":77359800,"body_markdown":"&gt; _&quot;... I know it&#39;s not possibile throw exception and return a value in the same method, but i need to do this in somehow. ...\\\r\n&gt;\\\r\n&gt; ... Is possible something like this ... can i split in different methods?&quot;_\r\n\r\nThe simplest approach would be to use a _class_.\r\n\r\n```java\r\nclass Result&lt;T&gt; {\r\n    T value;\r\n    Throwable e;\r\n}\r\n```\r\n\r\nHere is an example where _r_ will always contain _&quot;abc&quot;_.\r\n\r\n```java\r\nResult x() {\r\n    Result&lt;String&gt; r = new Result&lt;&gt;();\r\n    try {\r\n        Integer.parseInt(r.value = &quot;abc&quot;);\r\n    } catch (Exception e) {\r\n        r.e = e;\r\n    }\r\n    return r;\r\n}\r\n```\r\n\r\nYou&#39;ll need to check whether _e_ is _null_.\r\n\r\n```java\r\nResult&lt;String&gt; r = x();\r\nif (r.e != null) System.out.println(r.e);\r\nSystem.out.println(&quot;r.value = &quot; + r.value);\r\n```","title":"How to send exception and return a value in the same method in java","body":"<blockquote>\n<p><em>&quot;... I know it's not possibile throw exception and return a value in the same method, but i need to do this in somehow. ...<br />\n<br />\n... Is possible something like this ... can i split in different methods?&quot;</em></p>\n</blockquote>\n<p>The simplest approach would be to use a <em>class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Result&lt;T&gt; {\n    T value;\n    Throwable e;\n}\n</code></pre>\n<p>Here is an example where <em>r</em> will always contain <em>&quot;abc&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result x() {\n    Result&lt;String&gt; r = new Result&lt;&gt;();\n    try {\n        Integer.parseInt(r.value = &quot;abc&quot;);\n    } catch (Exception e) {\n        r.e = e;\n    }\n    return r;\n}\n</code></pre>\n<p>You'll need to check whether <em>e</em> is <em>null</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result&lt;String&gt; r = x();\nif (r.e != null) System.out.println(r.e);\nSystem.out.println(&quot;r.value = &quot; + r.value);\n</code></pre>\n"}],"owner":{"account_id":28105867,"reputation":11,"user_id":21474467,"display_name":"andreiiz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698263661,"creation_date":1698239676,"question_id":77359800,"body_markdown":"I know it&#39;s not possibile throw exception and return a value in the same method, but i need to do this in somehow. I was thinking to use finally block to throw the exception and after return the value.\r\nSomething like:\r\n```\r\npublic Type myMethod() {\r\ntry{\r\n//some elaborations\r\nreturn result;\r\n} catch(MyException myException) {\r\n    //do something \r\n    return result;\r\n} finally {\r\nif(myException != null) {\r\n throw myException ;\r\n}\r\n}\r\n```\r\n\r\n\r\nIs possible something like this, or how can i achieve this?\r\n\r\nEDIT: Or can i split in different methods?","title":"How to send exception and return a value in the same method in java","body":"<p>I know it's not possibile throw exception and return a value in the same method, but i need to do this in somehow. I was thinking to use finally block to throw the exception and after return the value.\nSomething like:</p>\n<pre><code>public Type myMethod() {\ntry{\n//some elaborations\nreturn result;\n} catch(MyException myException) {\n    //do something \n    return result;\n} finally {\nif(myException != null) {\n throw myException ;\n}\n}\n</code></pre>\n<p>Is possible something like this, or how can i achieve this?</p>\n<p>EDIT: Or can i split in different methods?</p>\n"},{"tags":["java","spring","spring-boot","transactions","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698258047,"creation_date":1698258047,"answer_id":77362034,"question_id":77361606,"body_markdown":"Transactions in Spring work thanks to proxies.\r\n\r\nSo when your method saveDeposit or saveDepositCancelled are called Spring won&#39;t see the annotations because you execute them already within your proxy instance.\r\n\r\nIf you want to achieve that you need to separate your code in several services or have one calling the different methods from outside.","title":"Java Transactional method exclud rollback for certain inner method","body":"<p>Transactions in Spring work thanks to proxies.</p>\n<p>So when your method saveDeposit or saveDepositCancelled are called Spring won't see the annotations because you execute them already within your proxy instance.</p>\n<p>If you want to achieve that you need to separate your code in several services or have one calling the different methods from outside.</p>\n"}],"owner":{"account_id":5467181,"reputation":310,"user_id":4347648,"accept_rate":75,"display_name":"Guillermo Nahuel Varelli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698263563,"creation_date":1698253736,"question_id":77361606,"body_markdown":"Hi have the following code snippet what im trying to do is having a main transactional method\r\n that rollback all the inserts but i want to avoid rollback for some escenario in particular,\r\n  i mean do all the whole rollback all other nested method excluding a few o them\r\n\r\n\r\n`public class myClass {\r\n    \r\n    private DepositCancelledRepository depositRepo;\r\n\r\n    private DepositCancelledRepository depositCancelledRepo;\r\n\r\n    @DistributedLock(name = &quot;mylocal&quot;, value = &quot;#depositId&quot;)\r\n    @Transactional(rollbackFor = Exception.class, noRollbackFor = NoRollbackException.class)\r\n    public void outerMethod() {\r\n            saveDeposit()\r\n            saveDepositCancelled(depositCancelled);\r\n            otherMethhods that will throw ex for rollback\r\n\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void saveDeposit(DepositCancelled depositCancelled) {\r\n            depositCancelledRepo.save(depositCancelled);\r\n    \r\n    }\r\n\r\n    public void saveDepositCancelled(DepositCancelled depositCancelled) {\r\n \r\n            depositRepo.save(depositCancelled);\r\n    }\r\n}`\r\n\r\n\r\nin this example i want to avoid rollback saveDepositCancelled even if the outerMethod throws exception , tried with Propagation.REQUIRES_NEW but not worked if outer method fails whith exception saveDeposit should rollback and saveDepositCancelled shoudld not rollback","title":"Java Transactional method exclud rollback for certain inner method","body":"<p>Hi have the following code snippet what im trying to do is having a main transactional method\nthat rollback all the inserts but i want to avoid rollback for some escenario in particular,\ni mean do all the whole rollback all other nested method excluding a few o them</p>\n<p>`public class myClass {</p>\n<pre><code>private DepositCancelledRepository depositRepo;\n\nprivate DepositCancelledRepository depositCancelledRepo;\n\n@DistributedLock(name = &quot;mylocal&quot;, value = &quot;#depositId&quot;)\n@Transactional(rollbackFor = Exception.class, noRollbackFor = NoRollbackException.class)\npublic void outerMethod() {\n        saveDeposit()\n        saveDepositCancelled(depositCancelled);\n        otherMethhods that will throw ex for rollback\n\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void saveDeposit(DepositCancelled depositCancelled) {\n        depositCancelledRepo.save(depositCancelled);\n\n}\n\npublic void saveDepositCancelled(DepositCancelled depositCancelled) {\n\n        depositRepo.save(depositCancelled);\n}\n</code></pre>\n<p>}`</p>\n<p>in this example i want to avoid rollback saveDepositCancelled even if the outerMethod throws exception , tried with Propagation.REQUIRES_NEW but not worked if outer method fails whith exception saveDeposit should rollback and saveDepositCancelled shoudld not rollback</p>\n"},{"tags":["java","maven","jar","gitlab","artifact"],"owner":{"account_id":29754009,"reputation":1,"user_id":22803232,"display_name":"Surabhi Trivedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698262897,"creation_date":1698262897,"question_id":77362469,"body_markdown":"I am working on running my project on gitlab cicd runners but one of my project is picking up jars from local. I have all the jars on our network artifactory hence cannot be given access to gitlab. \r\n\r\n\r\nTemporarily I have added all the jars with my projects (I know its bad). Can I use gitlab artifactory to upload all the dependent jars and point maven to pick jars from there. I am not sure this is my first time working with runner. Is there any other better option to do this?","title":"Can I use gitlab artifactory to upload some internal jars required to build maven java project","body":"<p>I am working on running my project on gitlab cicd runners but one of my project is picking up jars from local. I have all the jars on our network artifactory hence cannot be given access to gitlab.</p>\n<p>Temporarily I have added all the jars with my projects (I know its bad). Can I use gitlab artifactory to upload all the dependent jars and point maven to pick jars from there. I am not sure this is my first time working with runner. Is there any other better option to do this?</p>\n"},{"tags":["java","rest","spring-security","waffle"],"owner":{"account_id":19950129,"reputation":601,"user_id":14619971,"display_name":"jkfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698262844,"creation_date":1698262127,"question_id":77362401,"body_markdown":"I have a Java Spring rest api with Waffle authentication.\r\n\r\nHere is my code.\r\n\r\n```\r\n@Configuration\r\npublic class WaffleConfig {\r\n\r\n\t\r\n    @Bean\r\n    public WindowsAuthProviderImpl waffleWindowsAuthProvider() {\r\n        return new WindowsAuthProviderImpl();\r\n    }\r\n\r\n    @Bean\r\n    public NegotiateSecurityFilterProvider negotiateSecurityFilterProvider(\r\n            WindowsAuthProviderImpl windowsAuthProvider) {\r\n        return new NegotiateSecurityFilterProvider(windowsAuthProvider);\r\n    }\r\n\r\n    @Bean\r\n    public BasicSecurityFilterProvider basicSecurityFilterProvider(\r\n            WindowsAuthProviderImpl windowsAuthProvider) {\r\n        return new BasicSecurityFilterProvider(windowsAuthProvider);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterProviderCollection waffleSecurityFilterProviderCollection(\r\n            NegotiateSecurityFilterProvider negotiateSecurityFilterProvider,\r\n            BasicSecurityFilterProvider basicSecurityFilterProvider) {\r\n        SecurityFilterProvider[] securityFilterProviders =\r\n                {negotiateSecurityFilterProvider, basicSecurityFilterProvider};\r\n        return new SecurityFilterProviderCollection(securityFilterProviders);\r\n    }\r\n\r\n    @Bean\r\n    public NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint(\r\n            SecurityFilterProviderCollection securityFilterProviderCollection) {\r\n        NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint =\r\n                new NegotiateSecurityFilterEntryPoint();\r\n        negotiateSecurityFilterEntryPoint.setProvider(securityFilterProviderCollection);\r\n        return negotiateSecurityFilterEntryPoint;\r\n    }\r\n\r\n    @Bean\r\n    public NegotiateSecurityFilter waffleNegotiateSecurityFilter(\r\n            SecurityFilterProviderCollection securityFilterProviderCollection) {\r\n        NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\r\n        negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\r\n        return negotiateSecurityFilter;\r\n    }\r\n\r\n    // This is required for Spring Boot so it does not register the same filter twice\r\n    @Bean\r\n    public FilterRegistrationBean waffleNegotiateSecurityFilterRegistration(\r\n            NegotiateSecurityFilter waffleNegotiateSecurityFilter) {\r\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n        registrationBean.setFilter(waffleNegotiateSecurityFilter);\r\n        registrationBean.setEnabled(false);\r\n        return registrationBean;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(securedEnabled = true)\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n    @Autowired\r\n    private NegotiateSecurityFilter negotiateSecurityFilter;\r\n\r\n    @Autowired\r\n    private NegotiateSecurityFilterEntryPoint entryPoint; \r\n    \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {    \t\r\n        http\r\n            .csrf().disable()\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)                \r\n            .headers()\r\n            .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;))\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS); // Disable session creation;  \r\n        \r\n        http.cors();   \r\n    }\r\n    \r\n    @Override\r\n    @Autowired\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {    \t\r\n    \tauth.inMemoryAuthentication();\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n```\r\n\t@GetMapping(value=&quot;/abc&quot;, produces = &quot;application/json&quot;)\r\n\tpublic ResponseEntity&lt;&lt;abc&gt;&gt; getAbc(){\r\n\t\t\t\t\r\n\t\t....\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\nWhen calling getAbc controller method from the angular frontend, it doesn&#39;t even gets to the breakpoint in the first line of the method.\r\n\r\nBefore that I get the following error:\r\n\r\n```\r\n[DEBUG] 2023-10-25 16:05:47.999 [http-nio-8080-exec-1] FilterChainProxy - Securing GET /abc\r\n[DEBUG] 2023-10-25 16:05:48.003 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n[DEBUG] 2023-10-25 16:05:48.027 [http-nio-8080-exec-1] AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n[DEBUG] 2023-10-25 16:05:48.038 [http-nio-8080-exec-1] FilterSecurityInterceptor - Failed to authorize filter invocation [GET /abc] with attributes [authenticated]\r\n[DEBUG] 2023-10-25 16:05:48.039 [http-nio-8080-exec-1] Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\r\n[DEBUG] 2023-10-25 16:05:48.041 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\r\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] FilterChainProxy - Securing GET /error\r\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n[DEBUG] 2023-10-25 16:05:48.046 [http-nio-8080-exec-1] FilterChainProxy - Secured GET /error\r\n[DEBUG] 2023-10-25 16:05:48.056 [http-nio-8080-exec-1] DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n```\r\n\r\nIf I change the configure method to add .httpBasic authorization like in the code below, it enters the controller method and successfully authenticates the user.\r\n\r\n\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity http) throws Exception {   \t\r\n    \t\r\n    \t  http\r\n        \t\t.csrf().disable()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .httpBasic()\r\n                .authenticationEntryPoint(entryPoint)\r\n                .and()\r\n                .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)                \r\n                .headers()\r\n                .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;));  \r\n                \r\n          http.cors();   \r\n                \r\n    }\r\n```\r\n\t\r\n\r\nBut then I incur in a different issue that I reported here:\r\n\r\nhttps://stackoverflow.com/questions/77355122/how-to-remove-firefox-basic-authentication-window-in-a-java-angular-waffle-app\r\n\r\nSo that is the reason I would like to make it work without basic authentication now. Like in the first version of the configure method I mentioned above.","title":"Java Waffle Authentication - FilterSecurityInterceptor - Failed to authorize filter invocation with attributes [authenticated]","body":"<p>I have a Java Spring rest api with Waffle authentication.</p>\n<p>Here is my code.</p>\n<pre><code>@Configuration\npublic class WaffleConfig {\n\n    \n    @Bean\n    public WindowsAuthProviderImpl waffleWindowsAuthProvider() {\n        return new WindowsAuthProviderImpl();\n    }\n\n    @Bean\n    public NegotiateSecurityFilterProvider negotiateSecurityFilterProvider(\n            WindowsAuthProviderImpl windowsAuthProvider) {\n        return new NegotiateSecurityFilterProvider(windowsAuthProvider);\n    }\n\n    @Bean\n    public BasicSecurityFilterProvider basicSecurityFilterProvider(\n            WindowsAuthProviderImpl windowsAuthProvider) {\n        return new BasicSecurityFilterProvider(windowsAuthProvider);\n    }\n\n    @Bean\n    public SecurityFilterProviderCollection waffleSecurityFilterProviderCollection(\n            NegotiateSecurityFilterProvider negotiateSecurityFilterProvider,\n            BasicSecurityFilterProvider basicSecurityFilterProvider) {\n        SecurityFilterProvider[] securityFilterProviders =\n                {negotiateSecurityFilterProvider, basicSecurityFilterProvider};\n        return new SecurityFilterProviderCollection(securityFilterProviders);\n    }\n\n    @Bean\n    public NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint(\n            SecurityFilterProviderCollection securityFilterProviderCollection) {\n        NegotiateSecurityFilterEntryPoint negotiateSecurityFilterEntryPoint =\n                new NegotiateSecurityFilterEntryPoint();\n        negotiateSecurityFilterEntryPoint.setProvider(securityFilterProviderCollection);\n        return negotiateSecurityFilterEntryPoint;\n    }\n\n    @Bean\n    public NegotiateSecurityFilter waffleNegotiateSecurityFilter(\n            SecurityFilterProviderCollection securityFilterProviderCollection) {\n        NegotiateSecurityFilter negotiateSecurityFilter = new NegotiateSecurityFilter();\n        negotiateSecurityFilter.setProvider(securityFilterProviderCollection);\n        return negotiateSecurityFilter;\n    }\n\n    // This is required for Spring Boot so it does not register the same filter twice\n    @Bean\n    public FilterRegistrationBean waffleNegotiateSecurityFilterRegistration(\n            NegotiateSecurityFilter waffleNegotiateSecurityFilter) {\n        FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n        registrationBean.setFilter(waffleNegotiateSecurityFilter);\n        registrationBean.setEnabled(false);\n        return registrationBean;\n    }\n\n\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Autowired\n    private NegotiateSecurityFilter negotiateSecurityFilter;\n\n    @Autowired\n    private NegotiateSecurityFilterEntryPoint entryPoint; \n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {      \n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)                \n            .headers()\n            .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;))\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS); // Disable session creation;  \n        \n        http.cors();   \n    }\n    \n    @Override\n    @Autowired\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {      \n        auth.inMemoryAuthentication();\n    }\n    \n}\n</code></pre>\n<pre><code>    @GetMapping(value=&quot;/abc&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;&lt;abc&gt;&gt; getAbc(){\n                \n        ....\n        \n    }\n</code></pre>\n<p>When calling getAbc controller method from the angular frontend, it doesn't even gets to the breakpoint in the first line of the method.</p>\n<p>Before that I get the following error:</p>\n<pre><code>[DEBUG] 2023-10-25 16:05:47.999 [http-nio-8080-exec-1] FilterChainProxy - Securing GET /abc\n[DEBUG] 2023-10-25 16:05:48.003 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n[DEBUG] 2023-10-25 16:05:48.027 [http-nio-8080-exec-1] AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n[DEBUG] 2023-10-25 16:05:48.038 [http-nio-8080-exec-1] FilterSecurityInterceptor - Failed to authorize filter invocation [GET /abc] with attributes [authenticated]\n[DEBUG] 2023-10-25 16:05:48.039 [http-nio-8080-exec-1] Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\n[DEBUG] 2023-10-25 16:05:48.041 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] FilterChainProxy - Securing GET /error\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n[DEBUG] 2023-10-25 16:05:48.045 [http-nio-8080-exec-1] AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n[DEBUG] 2023-10-25 16:05:48.046 [http-nio-8080-exec-1] FilterChainProxy - Secured GET /error\n[DEBUG] 2023-10-25 16:05:48.056 [http-nio-8080-exec-1] DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\norg.springframework.security.access.AccessDeniedException: Access is denied\n</code></pre>\n<p>If I change the configure method to add .httpBasic authorization like in the code below, it enters the controller method and successfully authenticates the user.</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {      \n        \n          http\n                .csrf().disable()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic()\n                .authenticationEntryPoint(entryPoint)\n                .and()\n                .addFilterBefore(negotiateSecurityFilter, BasicAuthenticationFilter.class)                \n                .headers()\n                .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;));  \n                \n          http.cors();   \n                \n    }\n</code></pre>\n<p>But then I incur in a different issue that I reported here:</p>\n<p><a href=\"https://stackoverflow.com/questions/77355122/how-to-remove-firefox-basic-authentication-window-in-a-java-angular-waffle-app\">How to remove Firefox basic authentication window in a Java, Angular, Waffle application?</a></p>\n<p>So that is the reason I would like to make it work without basic authentication now. Like in the first version of the configure method I mentioned above.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":7,"creation_date":1698187838,"post_id":77355754,"comment_id":136372985,"body_markdown":"Don&#39;t use for loops for animation. Instead use a Swing Timer to schedule the animation. Then you can stop/pause the animation as required. Based on your simple code your Timer would stop when &quot;attackableNeighbour&quot; is false. See: https://stackoverflow.com/a/54028681/131872 for an example. Or maybe you could use a SwingWorker with your for loops. Check out: https://stackoverflow.com/a/64196256/131872 for an example of this approach.","body":"Don&#39;t use for loops for animation. Instead use a Swing Timer to schedule the animation. Then you can stop/pause the animation as required. Based on your simple code your Timer would stop when &quot;attackableNeighbour&quot; is false. See: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example. Or maybe you could use a SwingWorker with your for loops. Check out: <a href=\"https://stackoverflow.com/a/64196256/131872\">stackoverflow.com/a/64196256/131872</a> for an example of this approach."},{"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"score":0,"creation_date":1698228467,"post_id":77355754,"comment_id":136377576,"body_markdown":"I think what you need to do is to separate the game state and the rendering. Maybe read up on game states and game loops","body":"I think what you need to do is to separate the game state and the rendering. Maybe read up on game states and game loops"}],"answers":[{"tags":[],"owner":{"account_id":20639151,"reputation":21,"user_id":15152225,"display_name":"Shibe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698262746,"creation_date":1698262724,"answer_id":77362455,"question_id":77355754,"body_markdown":"I&#39;ll post an answer to my own question for anyone who was as stuck as I was. Thank you to camickr; his comment helped me achieve what I wanted to do.\r\n\r\nHere&#39;s the updated code that works as I wanted it to:\r\n\r\n    static void aiTurn() {\r\n\r\n    SwingWorker&lt;Object, String&gt; worker = new SwingWorker&lt;Object, String&gt;() {\r\n\r\n        @Override\r\n        protected Object doInBackground() throws Exception {\r\n            boolean attackableNeighbour = true;\r\n\r\n            while (attackableNeighbour) {\r\n                attackableNeighbour = false;\r\n                for (int i = 0; i &lt; DicePanel.ROWS; i++) {\r\n                    for (int j = 0; j &lt; DicePanel.COLUMNS; j++) {\r\n                        if (!cells[i][j].getIsPlayer() &amp;&amp; cells[i][j].getDiceNumber() &gt; 1) {\r\n                            int min = 9;\r\n                            int minI = 0;\r\n                            int minJ = 0;\r\n\r\n                            for (int neighbourI = Math.max(0, i - 1); \r\n                                neighbourI &lt;= Math.min(i + 1, cells.length - 1); neighbourI++) {\r\n                                for (int neighbourJ = Math.max(0, j - 1); \r\n                                    neighbourJ &lt;= Math.min(j + 1, cells[0].length - 1); neighbourJ++) {\r\n                                    if (neighbourI != i &amp;&amp; neighbourJ != j\r\n                                        &amp;&amp; cells[neighbourI][neighbourJ].getIsPlayer() \r\n                                        &amp;&amp; cells[neighbourI][neighbourJ].getDiceNumber() &lt; min) {\r\n                                        min = cells[neighbourI][neighbourJ].getDiceNumber();\r\n                                        minI = neighbourI;\r\n                                        minJ = neighbourJ;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            if (cells[i][j].getDiceNumber() &gt;= min) {\r\n                                attackableNeighbour = true;\r\n\r\n                                Thread.sleep(700);\r\n\r\n                                cells[minI][minJ].setBackground(new Color(119, 82, 168));\r\n                                cells[i][j].setBackground(new Color(121, 204, 88));\r\n\r\n                                Thread.sleep(1000);\r\n\r\n                                attackAI(i, j, minI, minJ);\r\n\r\n                                cells[i][j].setBackground(new Color(61, 153, 49));\r\n                                if (cells[minI][minJ].getIsPlayer()) {\r\n                                    cells[minI][minJ].setBackground(new Color(100, 50, 168));\r\n                                }\r\n\r\n                                Thread.sleep(300);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            endTurnAI();\r\n            return null;\r\n        }\r\n    };\r\n\r\n    worker.execute(); }\r\n\r\nMy oversight was that, when I&#39;d put only what&#39;s inside the for-loops in a different thread, the loops would continue while the thread was sleeping, so it would get completely delayed. \r\n\r\nBut since every GUI change happens in the event thread, I can just put the whole for-loops in a different thread, then sleep it when I wanted it to pause - the GUI would still change (since the EDT is empty at the time) and nothing would be delayed because everything still essentially works in a single thread.","title":"How can I get the closest to a &quot;pause&quot; effect in Swing?","body":"<p>I'll post an answer to my own question for anyone who was as stuck as I was. Thank you to camickr; his comment helped me achieve what I wanted to do.</p>\n<p>Here's the updated code that works as I wanted it to:</p>\n<pre><code>static void aiTurn() {\n\nSwingWorker&lt;Object, String&gt; worker = new SwingWorker&lt;Object, String&gt;() {\n\n    @Override\n    protected Object doInBackground() throws Exception {\n        boolean attackableNeighbour = true;\n\n        while (attackableNeighbour) {\n            attackableNeighbour = false;\n            for (int i = 0; i &lt; DicePanel.ROWS; i++) {\n                for (int j = 0; j &lt; DicePanel.COLUMNS; j++) {\n                    if (!cells[i][j].getIsPlayer() &amp;&amp; cells[i][j].getDiceNumber() &gt; 1) {\n                        int min = 9;\n                        int minI = 0;\n                        int minJ = 0;\n\n                        for (int neighbourI = Math.max(0, i - 1); \n                            neighbourI &lt;= Math.min(i + 1, cells.length - 1); neighbourI++) {\n                            for (int neighbourJ = Math.max(0, j - 1); \n                                neighbourJ &lt;= Math.min(j + 1, cells[0].length - 1); neighbourJ++) {\n                                if (neighbourI != i &amp;&amp; neighbourJ != j\n                                    &amp;&amp; cells[neighbourI][neighbourJ].getIsPlayer() \n                                    &amp;&amp; cells[neighbourI][neighbourJ].getDiceNumber() &lt; min) {\n                                    min = cells[neighbourI][neighbourJ].getDiceNumber();\n                                    minI = neighbourI;\n                                    minJ = neighbourJ;\n                                }\n                            }\n                        }\n\n                        if (cells[i][j].getDiceNumber() &gt;= min) {\n                            attackableNeighbour = true;\n\n                            Thread.sleep(700);\n\n                            cells[minI][minJ].setBackground(new Color(119, 82, 168));\n                            cells[i][j].setBackground(new Color(121, 204, 88));\n\n                            Thread.sleep(1000);\n\n                            attackAI(i, j, minI, minJ);\n\n                            cells[i][j].setBackground(new Color(61, 153, 49));\n                            if (cells[minI][minJ].getIsPlayer()) {\n                                cells[minI][minJ].setBackground(new Color(100, 50, 168));\n                            }\n\n                            Thread.sleep(300);\n                        }\n                    }\n                }\n            }\n        }\n\n        endTurnAI();\n        return null;\n    }\n};\n\nworker.execute(); }\n</code></pre>\n<p>My oversight was that, when I'd put only what's inside the for-loops in a different thread, the loops would continue while the thread was sleeping, so it would get completely delayed.</p>\n<p>But since every GUI change happens in the event thread, I can just put the whole for-loops in a different thread, then sleep it when I wanted it to pause - the GUI would still change (since the EDT is empty at the time) and nothing would be delayed because everything still essentially works in a single thread.</p>\n"}],"owner":{"account_id":20639151,"reputation":21,"user_id":15152225,"display_name":"Shibe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77362455,"answer_count":1,"score":1,"last_activity_date":1698262746,"creation_date":1698187310,"question_id":77355754,"body_markdown":"I have to program a small game in Java using Swing and I need to do a very specific thing which I can&#39;t figure out for the life of me.\r\n\r\nHere&#39;s the problem-method:\r\n\r\n```\r\nstatic void aiTurn() {\r\n\r\n        boolean attackableNeighbour = true;\r\n\r\n        while (attackableNeighbour) {\r\n            attackableNeighbour = false;\r\n            for (int i = 0; i &lt; DicePanel.ROWS; i++) {\r\n                for (int j = 0; j &lt; DicePanel.COLUMNS; j++) {\r\n                    if (!cells[i][j].getIsPlayer()) {\r\n                        int min = 9;\r\n                        int minI = 0;\r\n                        int minJ = 0;\r\n\r\n                        for (int neighbourI = Math.max(0, i - 1); \r\n                            neighbourI &lt;= Math.min(i + 1, cells.length - 1); neighbourI++) {\r\n                            for (int neighbourJ = Math.max(0, j - 1); \r\n                                neighbourJ &lt;= Math.min(j + 1, cells[0].length - 1); neighbourJ++) {\r\n                                if (neighbourI != i &amp;&amp; neighbourJ != j\r\n                                    &amp;&amp; cells[neighbourI][neighbourJ].getIsPlayer() \r\n                                    &amp;&amp; cells[neighbourI][neighbourJ].getDiceNumber() &lt; min) {\r\n                                    min = cells[neighbourI][neighbourJ].getDiceNumber();\r\n                                    minI = neighbourI;\r\n                                    minJ = neighbourJ;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (cells[i][j].getDiceNumber() &gt;= min) {\r\n                            attackableNeighbour = true;\r\n\r\n                            cells[minI][minJ].setBackground(new Color(119, 82, 168));\r\n                            cells[i][j].setBackground(new Color(121, 204, 88));\r\n\r\n                            //pause here for a second (background needs to change)\r\n\r\n                            attackAI(i, j, minI, minJ);\r\n\r\n                            cells[i][j].setBackground(new Color(61, 153, 49));\r\n                            if (cells[minI][minJ].getIsPlayer()) {\r\n                                cells[minI][minJ].setBackground(new Color(100, 50, 168));\r\n                            }\r\n\r\n                            //pause here as well\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n}\r\n```\r\nWhat I need to do is to be able to pause there. The problem is, since all of this is in the EDT, I can&#39;t just use a timer or use `Thread.sleep()` - the GUI won&#39;t update. The effect I want to have is for the GUI to update according to my code, without it progressing to the next change.\r\n\r\nI&#39;ve tried using a different thread for the logic, but no matter what I tried, it&#39;s either not working or the code on the EDT (the for loop) keeps on going and the new thread is delayed so badly that it breaks the whole system.\r\n\r\nHere&#39;s something that I tried:\r\n\r\n```\r\n if (cells[i][j].getDiceNumber() &gt;= min) {\r\n     attackableNeighbour = true;\r\n\r\n     final int altMinI = minI;\r\n     final int altMinJ = minJ;\r\n     final int altI = i;\r\n     final int altJ = j;\r\n\r\n     cells[minI][minJ].setBackground(new Color(119, 82, 168));\r\n     cells[i][j].setBackground(new Color(121, 204, 88));\r\n\r\n     SwingWorker worker = new SwingWorker&lt;Object, String&gt;() {\r\n         @Override\r\n         protected Object doInBackground() throws Exception {\r\n             attackAI(altI, altJ, altMinI, altMinJ);\r\n             Thread.sleep(1000);\r\n             cells[i][j].setBackground(new Color(61, 153, 49));\r\n             if (cells[minI][minJ].getIsPlayer()) {\r\n                 cells[minI][minJ].setBackground(new Color(100, 50, 168));\r\n             }\r\n             return null;\r\n         }\r\n     };\r\n     worker.execute();\r\n}\r\n```\r\nThis breaks the game because the method `attackAI()` gets called long after the initial for loop is over. I&#39;ve tried reading so many posts regarding multithreading and I&#39;m at a loss. Help would be greatly appreciated!","title":"How can I get the closest to a &quot;pause&quot; effect in Swing?","body":"<p>I have to program a small game in Java using Swing and I need to do a very specific thing which I can't figure out for the life of me.</p>\n<p>Here's the problem-method:</p>\n<pre><code>static void aiTurn() {\n\n        boolean attackableNeighbour = true;\n\n        while (attackableNeighbour) {\n            attackableNeighbour = false;\n            for (int i = 0; i &lt; DicePanel.ROWS; i++) {\n                for (int j = 0; j &lt; DicePanel.COLUMNS; j++) {\n                    if (!cells[i][j].getIsPlayer()) {\n                        int min = 9;\n                        int minI = 0;\n                        int minJ = 0;\n\n                        for (int neighbourI = Math.max(0, i - 1); \n                            neighbourI &lt;= Math.min(i + 1, cells.length - 1); neighbourI++) {\n                            for (int neighbourJ = Math.max(0, j - 1); \n                                neighbourJ &lt;= Math.min(j + 1, cells[0].length - 1); neighbourJ++) {\n                                if (neighbourI != i &amp;&amp; neighbourJ != j\n                                    &amp;&amp; cells[neighbourI][neighbourJ].getIsPlayer() \n                                    &amp;&amp; cells[neighbourI][neighbourJ].getDiceNumber() &lt; min) {\n                                    min = cells[neighbourI][neighbourJ].getDiceNumber();\n                                    minI = neighbourI;\n                                    minJ = neighbourJ;\n                                }\n                            }\n                        }\n\n                        if (cells[i][j].getDiceNumber() &gt;= min) {\n                            attackableNeighbour = true;\n\n                            cells[minI][minJ].setBackground(new Color(119, 82, 168));\n                            cells[i][j].setBackground(new Color(121, 204, 88));\n\n                            //pause here for a second (background needs to change)\n\n                            attackAI(i, j, minI, minJ);\n\n                            cells[i][j].setBackground(new Color(61, 153, 49));\n                            if (cells[minI][minJ].getIsPlayer()) {\n                                cells[minI][minJ].setBackground(new Color(100, 50, 168));\n                            }\n\n                            //pause here as well\n                        }\n                    }\n                }\n            }\n        }\n}\n</code></pre>\n<p>What I need to do is to be able to pause there. The problem is, since all of this is in the EDT, I can't just use a timer or use <code>Thread.sleep()</code> - the GUI won't update. The effect I want to have is for the GUI to update according to my code, without it progressing to the next change.</p>\n<p>I've tried using a different thread for the logic, but no matter what I tried, it's either not working or the code on the EDT (the for loop) keeps on going and the new thread is delayed so badly that it breaks the whole system.</p>\n<p>Here's something that I tried:</p>\n<pre><code> if (cells[i][j].getDiceNumber() &gt;= min) {\n     attackableNeighbour = true;\n\n     final int altMinI = minI;\n     final int altMinJ = minJ;\n     final int altI = i;\n     final int altJ = j;\n\n     cells[minI][minJ].setBackground(new Color(119, 82, 168));\n     cells[i][j].setBackground(new Color(121, 204, 88));\n\n     SwingWorker worker = new SwingWorker&lt;Object, String&gt;() {\n         @Override\n         protected Object doInBackground() throws Exception {\n             attackAI(altI, altJ, altMinI, altMinJ);\n             Thread.sleep(1000);\n             cells[i][j].setBackground(new Color(61, 153, 49));\n             if (cells[minI][minJ].getIsPlayer()) {\n                 cells[minI][minJ].setBackground(new Color(100, 50, 168));\n             }\n             return null;\n         }\n     };\n     worker.execute();\n}\n</code></pre>\n<p>This breaks the game because the method <code>attackAI()</code> gets called long after the initial for loop is over. I've tried reading so many posts regarding multithreading and I'm at a loss. Help would be greatly appreciated!</p>\n"},{"tags":["java","oracle","ioexception","connection-reset"],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306240603,"creation_date":1306240603,"answer_id":6110505,"question_id":6110395,"body_markdown":"Your exception says it all &quot;Connection reset&quot;. \r\nThe connection between your java process and the db server was lost, which could have happened for almost any reason(like network issues). The [SQLRecoverableException][1] just means that its recoverable, but the root cause is connection reset.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/SQLRecoverableException.html","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>Your exception says it all \"Connection reset\". \nThe connection between your java process and the db server was lost, which could have happened for almost any reason(like network issues). The <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/SQLRecoverableException.html\" rel=\"nofollow\">SQLRecoverableException</a> just means that its recoverable, but the root cause is connection reset.</p>\n"},{"comments":[{"owner":{"account_id":74601,"reputation":308,"user_id":214273,"display_name":"saalehr"},"score":0,"creation_date":1435755270,"post_id":6110563,"comment_id":50332242,"body_markdown":"I would also recommend a disk space check on your database VM to give your DBA a probable cause to proceed. df -h","body":"I would also recommend a disk space check on your database VM to give your DBA a probable cause to proceed. df -h"},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":1,"creation_date":1666373609,"post_id":6110563,"comment_id":130929928,"body_markdown":"none of the links work now.","body":"none of the links work now."},{"owner":{"account_id":101190,"reputation":3994,"user_id":272387,"display_name":"Richlv"},"score":0,"creation_date":1691156678,"post_id":6110563,"comment_id":135457740,"body_markdown":"Also not saved by the Internet Archive.","body":"Also not saved by the Internet Archive."}],"tags":[],"owner":{"account_id":336649,"reputation":5489,"user_id":664421,"accept_rate":100,"display_name":"kensen john"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1515400064,"creation_date":1306240866,"answer_id":6110563,"question_id":6110395,"body_markdown":"This simply means that something in the backend ( DBMS ) decided to stop working due to unavailability of resources etc.\r\nIt has nothing to do with your code or the number of inserts. \r\nYou can read more about similar problems here:\r\n\r\n - http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911\r\n - http://forums.oracle.com/forums/thread.jspa?messageID=3800354\r\n\r\nThis may not answer your question, but you will get an idea of why it might be happening. You could further discuss with your DBA and see if there is something specific in your case.","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>This simply means that something in the backend ( DBMS ) decided to stop working due to unavailability of resources etc.\nIt has nothing to do with your code or the number of inserts. \nYou can read more about similar problems here:</p>\n\n<ul>\n<li><a href=\"http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911\" rel=\"noreferrer\">http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911</a></li>\n<li><a href=\"http://forums.oracle.com/forums/thread.jspa?messageID=3800354\" rel=\"noreferrer\">http://forums.oracle.com/forums/thread.jspa?messageID=3800354</a></li>\n</ul>\n\n<p>This may not answer your question, but you will get an idea of why it might be happening. You could further discuss with your DBA and see if there is something specific in your case.</p>\n"},{"tags":[],"owner":{"account_id":5955359,"reputation":71,"user_id":4682209,"display_name":"Liz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426793372,"creation_date":1426617018,"answer_id":29107011,"question_id":6110395,"body_markdown":"We experienced these errors intermittently after upgraded from 11g to 12c and our java was on 1.6.\r\n\r\nThe fix for us was to upgrade java and jdbc from 6 to 7\r\n\r\n    export JAVA_HOME=&#39;/usr/java1.7&#39;\r\n    \r\n    export CLASSPATH=/u01/app/oracle/product/12.1.0/dbhome_1/jdbc/libojdbc7.jar:$CLASSPATH \r\n\r\n\r\nSeveral days later, still intermittent connection resets.\r\n\r\nWe ended up removing all the java 7 above.  Java 6 was fine.  The problem was fixed by adding this to our user bash_profile.\r\n\r\nOur groovy scripts that were experiencing the error were using /dev/random on our batch VM server.  Below forced java and groovy to use /dev/urandom.\r\n\r\nexport JAVA_OPTS=&quot; $JAVA_OPTS -Djava.security.egd=file:///dev/urandom &quot;\r\n","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>We experienced these errors intermittently after upgraded from 11g to 12c and our java was on 1.6.</p>\n\n<p>The fix for us was to upgrade java and jdbc from 6 to 7</p>\n\n<pre><code>export JAVA_HOME='/usr/java1.7'\n\nexport CLASSPATH=/u01/app/oracle/product/12.1.0/dbhome_1/jdbc/libojdbc7.jar:$CLASSPATH \n</code></pre>\n\n<p>Several days later, still intermittent connection resets.</p>\n\n<p>We ended up removing all the java 7 above.  Java 6 was fine.  The problem was fixed by adding this to our user bash_profile.</p>\n\n<p>Our groovy scripts that were experiencing the error were using /dev/random on our batch VM server.  Below forced java and groovy to use /dev/urandom.</p>\n\n<p>export JAVA_OPTS=\" $JAVA_OPTS -Djava.security.egd=file:///dev/urandom \"</p>\n"},{"tags":[],"owner":{"account_id":4814383,"reputation":345,"user_id":3886907,"display_name":"user3886907"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472578733,"creation_date":1472578733,"answer_id":39233825,"question_id":6110395,"body_markdown":"**Solution** &lt;br&gt;\r\nChange the setup for your application, so you this parameter[**-Djava.security.egd=file:/dev/../dev/urandom**] next to the java command:\r\n\r\njava **-Djava.security.egd=file:/dev/../dev/urandom** [your command]\r\n\r\nRef :- https://community.oracle.com/thread/943911","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p><strong>Solution</strong> <br>\nChange the setup for your application, so you this parameter[<strong>-Djava.security.egd=file:/dev/../dev/urandom</strong>] next to the java command:</p>\n\n<p>java <strong>-Djava.security.egd=file:/dev/../dev/urandom</strong> [your command]</p>\n\n<p>Ref :- <a href=\"https://community.oracle.com/thread/943911\" rel=\"noreferrer\">https://community.oracle.com/thread/943911</a></p>\n"},{"comments":[{"owner":{"account_id":2566818,"reputation":459,"user_id":4937528,"accept_rate":40,"display_name":"Seanimus"},"score":3,"creation_date":1520866119,"post_id":39332575,"comment_id":85479454,"body_markdown":"Been racking my brain for 3 days trying to figure this out, and your solution finally fixed it. What an off the wall problem!!\n\nAdditionally, for a more in depth answer, check out https://discuss.pivotal.io/hc/en-us/articles/230141007-Java-Web-Applications-Slow-Startup-or-Failing","body":"Been racking my brain for 3 days trying to figure this out, and your solution finally fixed it. What an off the wall problem!!  Additionally, for a more in depth answer, check out <a href=\"https://discuss.pivotal.io/hc/en-us/articles/230141007-Java-Web-Applications-Slow-Startup-or-Failing\" rel=\"nofollow noreferrer\">discuss.pivotal.io/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":1745559,"reputation":128,"user_id":1595886,"display_name":"mveroone"},"score":3,"creation_date":1532512516,"post_id":39332575,"comment_id":90000322,"body_markdown":"3 days ? it has been 2 month of headbanging here, much thanks ! (I guess OpenStack entropy throughput is WAY lower than VMware&#39;s)","body":"3 days ? it has been 2 month of headbanging here, much thanks ! (I guess OpenStack entropy throughput is WAY lower than VMware&#39;s)"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1561465732,"post_id":39332575,"comment_id":100065601,"body_markdown":"where  do we put this config java -Djava.security.egd=file ?","body":"where  do we put this config java -Djava.security.egd=file ?"},{"owner":{"account_id":6622869,"reputation":589,"user_id":5113951,"display_name":"Nacho Soriano"},"score":0,"creation_date":1561978094,"post_id":39332575,"comment_id":100220701,"body_markdown":"You dont need to put it on any config file.  You only need to run your application with the line suggested.","body":"You dont need to put it on any config file.  You only need to run your application with the line suggested."}],"tags":[],"owner":{"account_id":6622869,"reputation":589,"user_id":5113951,"display_name":"Nacho Soriano"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1473085095,"creation_date":1473085095,"answer_id":39332575,"question_id":6110395,"body_markdown":"The error occurs on some RedHat distributions. The only thing you need to do is to run your application with parameter **java.security.egd=file:///dev/urandom**:\r\n\r\n    java -Djava.security.egd=file:///dev/urandom [your command]","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>The error occurs on some RedHat distributions. The only thing you need to do is to run your application with parameter <strong>java.security.egd=file:///dev/urandom</strong>:</p>\n\n<pre><code>java -Djava.security.egd=file:///dev/urandom [your command]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"score":2,"creation_date":1523451605,"post_id":49775784,"comment_id":86566551,"body_markdown":"I just think about it, the **solution #4** might be to extend timeout period to go over the 60 seconds limit directly on the database server configuration.&lt;br&gt;In sqlnet.ora and tnsnames.ora Oracle&#39;s listener configuration file you can consider `TCP.CONNECT_TIMEOUT` and `SQLNET.OUTBOUND_CONNECT_TIMEOUT` parameters.","body":"I just think about it, the <b>solution #4</b> might be to extend timeout period to go over the 60 seconds limit directly on the database server configuration.&lt;br&gt;In sqlnet.ora and tnsnames.ora Oracle&#39;s listener configuration file you can consider <code>TCP.CONNECT_TIMEOUT</code> and <code>SQLNET.OUTBOUND_CONNECT_TIMEOUT</code> parameters."},{"owner":{"account_id":1835287,"reputation":772,"user_id":1665809,"display_name":"mrod"},"score":0,"creation_date":1579014704,"post_id":49775784,"comment_id":105621855,"body_markdown":"Can you please explain why you say the &#39;/./&#39; in Solution 1 is important?","body":"Can you please explain why you say the &#39;/./&#39; in Solution 1 is important?"},{"owner":{"account_id":3169068,"reputation":316,"user_id":2678458,"display_name":"everis"},"score":1,"creation_date":1641396769,"post_id":49775784,"comment_id":124794919,"body_markdown":"@mrod He explains it, although I missed it on first read. It&#39;s because Java can &quot;replace&quot; /dev/urandom with /dev/random, so the &#39;/./&#39; solution prevents that.","body":"@mrod He explains it, although I missed it on first read. It&#39;s because Java can &quot;replace&quot; /dev/urandom with /dev/random, so the &#39;/./&#39; solution prevents that."},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1661890121,"post_id":49775784,"comment_id":129878544,"body_markdown":"Thanks for a great explanation. I was wondering, since the entropy pool is empty, what if we wait for some time, say 5 seconds before starting to write to the database again, would that help? For example we catch the exception `SQLRecoverableException` in a try/catch block, and execute &#39;Thread.sleep(5000)` before starting to write to the database again?","body":"Thanks for a great explanation. I was wondering, since the entropy pool is empty, what if we wait for some time, say 5 seconds before starting to write to the database again, would that help? For example we catch the exception <code>SQLRecoverableException</code> in a try/catch block, and execute &#39;Thread.sleep(5000)` before starting to write to the database again?"},{"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"score":0,"creation_date":1666099738,"post_id":49775784,"comment_id":130851360,"body_markdown":"May be a solution, without any guarantee as we hope 5s will be enough\nCan&#39;t try and test your proposal as it&#39;s impossible to implement in Talend job :-(","body":"May be a solution, without any guarantee as we hope 5s will be enough Can&#39;t try and test your proposal as it&#39;s impossible to implement in Talend job :-("}],"tags":[],"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1649366756,"creation_date":1523451430,"answer_id":49775784,"question_id":6110395,"body_markdown":"I want to produce a complementary answer of [nacho-soriano][1]&#39;s solution ...\r\n\r\nI recently search to solve a problem where a Java written application (a Talend&amp;copy; ELT job in fact) want to connect to an Oracle database (11g and over) then randomly fail. OS is both RedHat Enterprise and CentOS. Job run very quily in time (no more than half a minute) and occur very often (approximately one run each 5 minutes).\r\n\r\nSome times, during night-time as work-time, during database intensive-work usage as lazy work usage, in just a word randomly, connection fail with this message:\r\n\r\n    Exception in component tOracleConnection_1\r\n    java.sql.SQLRecoverableException: Io exception: Connection reset\r\n        \tat oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)\r\n\t        at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)\r\n\t        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)\r\n\t        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:490)\r\n\t        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:202)\r\n\t        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)\r\n\t        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:465)\r\n\t        at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n        and StackTrace follow ...\r\n\r\n\r\n\r\n##Problem explanation:##\r\n\r\nAs detailed [here][2]\r\n\r\nOracle connection needs some random numbers to assume a good level of security. Linux random number generator produce some numbers bases keyboard and mouse activity (among others) and place them in a stack. You will grant me, on a server, there is not a big amount of such activity. So it can occur that softwares use more random number than generator can produce.\r\n\r\nWhen the pool is empty, reads from /dev/random will block until additional environmental noise is gathered. And Oracle connection fall in timeout (60 seconds by default).\r\n\r\n\r\n##Solution 1 - Specific for one app solution##\r\n\r\nThe solution is to give add two parameters given to the JVM while starting:\r\n\r\n    -Djava.security.egd=file:/dev/./urandom\r\n    -Dsecurerandom.source=file:/dev/./urandom\r\n\r\n\r\n**Note:** the &#39;/./&#39; is important, do not drop it !\r\n\r\nSo the launch command line could be:\r\n\r\n    java -Djava.security.egd=file:/dev/./urandom -Dsecurerandom.source=file:/dev/./urandom -cp &lt;classpath directives&gt; appMainClass &lt;app options and parameters&gt;\r\n\r\nOne drawback of this solution is that numbers generated are _a little less secure_ as randomness is impacted. If you don&#39;t work in a military or secret related industry this solution can be your.\r\n\r\n\r\n##Solution 2 - General Java JVM solution##\r\n\r\nAs explained [here][3]\r\n\r\nBoth directives given in solution 1 can be put in Java security setting file.\r\n\r\nTake a look at `$JAVA_HOME/jre/lib/security/java.security`\r\n\r\nChange the line\r\n\r\n    securerandom.source=file:/dev/random\r\n\r\nto\r\n\r\n    securerandom.source=file:/dev/urandom\r\n\r\n\r\nChange is effective immediately for new running applications.\r\n\r\nAs for solution #1, one drawback of this solution is that numbers generated are _a little less secure_ as randomness is impacted. This time, it&#39;s a global JVM impact. As for solution #1, if you don&#39;t work in a military or secret related industry this solution can be your.\r\n\r\nWe ideally should use &quot;file:/dev/./urandom&quot; after Java 5 as previous path will again point to /dev/random.\r\n\r\nReported Bug : https://bugs.openjdk.java.net/browse/JDK-6202721\r\n\r\n\r\n##Solution 3 - Hardware solution##\r\n\r\n**Disclamer:** I&#39;m not linked to any of hardware vendor or product ...\r\n\r\nIf your need is to reach a high quality randomness level, you can replace your Linux random number generator software by a piece of hardware.\r\n\r\nSome information are available [here][4].\r\n\r\n\r\n\r\n\r\nRegards\r\n\r\nThomas\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset/39332575#39332575\r\n  [2]: http://www.usn-it.de/index.php/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/\r\n  [3]: https://docs.oracle.com/cd/E13209_01/wlcp/wlss31/configwlss/jvmrand.html\r\n  [4]: https://en.wikipedia.org/wiki/Comparison_of_hardware_random_number_generators","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>I want to produce a complementary answer of <a href=\"https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset/39332575#39332575\">nacho-soriano</a>'s solution ...</p>\n<p>I recently search to solve a problem where a Java written application (a Talend© ELT job in fact) want to connect to an Oracle database (11g and over) then randomly fail. OS is both RedHat Enterprise and CentOS. Job run very quily in time (no more than half a minute) and occur very often (approximately one run each 5 minutes).</p>\n<p>Some times, during night-time as work-time, during database intensive-work usage as lazy work usage, in just a word randomly, connection fail with this message:</p>\n<pre><code>Exception in component tOracleConnection_1\njava.sql.SQLRecoverableException: Io exception: Connection reset\n        at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)\n        at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:490)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:202)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:465)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    and StackTrace follow ...\n</code></pre>\n<p>##Problem explanation:##</p>\n<p>As detailed <a href=\"http://www.usn-it.de/index.php/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Oracle connection needs some random numbers to assume a good level of security. Linux random number generator produce some numbers bases keyboard and mouse activity (among others) and place them in a stack. You will grant me, on a server, there is not a big amount of such activity. So it can occur that softwares use more random number than generator can produce.</p>\n<p>When the pool is empty, reads from /dev/random will block until additional environmental noise is gathered. And Oracle connection fall in timeout (60 seconds by default).</p>\n<p>##Solution 1 - Specific for one app solution##</p>\n<p>The solution is to give add two parameters given to the JVM while starting:</p>\n<pre><code>-Djava.security.egd=file:/dev/./urandom\n-Dsecurerandom.source=file:/dev/./urandom\n</code></pre>\n<p><strong>Note:</strong> the '/./' is important, do not drop it !</p>\n<p>So the launch command line could be:</p>\n<pre><code>java -Djava.security.egd=file:/dev/./urandom -Dsecurerandom.source=file:/dev/./urandom -cp &lt;classpath directives&gt; appMainClass &lt;app options and parameters&gt;\n</code></pre>\n<p>One drawback of this solution is that numbers generated are <em>a little less secure</em> as randomness is impacted. If you don't work in a military or secret related industry this solution can be your.</p>\n<p>##Solution 2 - General Java JVM solution##</p>\n<p>As explained <a href=\"https://docs.oracle.com/cd/E13209_01/wlcp/wlss31/configwlss/jvmrand.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Both directives given in solution 1 can be put in Java security setting file.</p>\n<p>Take a look at <code>$JAVA_HOME/jre/lib/security/java.security</code></p>\n<p>Change the line</p>\n<pre><code>securerandom.source=file:/dev/random\n</code></pre>\n<p>to</p>\n<pre><code>securerandom.source=file:/dev/urandom\n</code></pre>\n<p>Change is effective immediately for new running applications.</p>\n<p>As for solution #1, one drawback of this solution is that numbers generated are <em>a little less secure</em> as randomness is impacted. This time, it's a global JVM impact. As for solution #1, if you don't work in a military or secret related industry this solution can be your.</p>\n<p>We ideally should use &quot;file:/dev/./urandom&quot; after Java 5 as previous path will again point to /dev/random.</p>\n<p>Reported Bug : <a href=\"https://bugs.openjdk.java.net/browse/JDK-6202721\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6202721</a></p>\n<p>##Solution 3 - Hardware solution##</p>\n<p><strong>Disclamer:</strong> I'm not linked to any of hardware vendor or product ...</p>\n<p>If your need is to reach a high quality randomness level, you can replace your Linux random number generator software by a piece of hardware.</p>\n<p>Some information are available <a href=\"https://en.wikipedia.org/wiki/Comparison_of_hardware_random_number_generators\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Regards</p>\n<p>Thomas</p>\n"},{"tags":[],"owner":{"account_id":1235956,"reputation":51,"user_id":1199533,"display_name":"San D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593507155,"creation_date":1593507155,"answer_id":62653710,"question_id":6110395,"body_markdown":"I had a similar situation when reading from Oracle in a Spark job.  This connection reset error was caused by an incompatibility between the Oracle server and the JDBC driver used.  Worth checking it.","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>I had a similar situation when reading from Oracle in a Spark job.  This connection reset error was caused by an incompatibility between the Oracle server and the JDBC driver used.  Worth checking it.</p>\n"},{"tags":[],"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600926668,"creation_date":1600926668,"answer_id":64040262,"question_id":6110395,"body_markdown":"add java security in your run command\r\n\r\n`java -jar -Djava.security.egd=&quot;file:///dev/urandom&quot; yourjarfilename.jar\r\n`","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>add java security in your run command</p>\n<p><code>java -jar -Djava.security.egd=&quot;file:///dev/urandom&quot; yourjarfilename.jar </code></p>\n"}],"owner":{"account_id":212642,"reputation":831,"user_id":465588,"accept_rate":68,"display_name":"Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220769,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":6110563,"answer_count":8,"score":39,"last_activity_date":1698262669,"creation_date":1306240142,"question_id":6110395,"body_markdown":"Yesterday evening I left the office with a running Java program written by me. It should insert a lot of records into our company database (Oracle) using a JDBC connection. This morning when I came back to work I saw this error (caught by a try-catch):   \r\n\r\n    java.sql.SQLRecoverableException: I/O Exception: Connection reset\r\n\r\nThe program wrote almost all records before getting this problem, but what if it happens early (just minutes after I leave the office at evening)? I cannot understand what happened, I contacted my database admin and he said there was no particular issue on the database.\r\n\r\nAny idea on what happened and what can I do do to avoid it?\r\n\r\n","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>Yesterday evening I left the office with a running Java program written by me. It should insert a lot of records into our company database (Oracle) using a JDBC connection. This morning when I came back to work I saw this error (caught by a try-catch):   </p>\n\n<pre><code>java.sql.SQLRecoverableException: I/O Exception: Connection reset\n</code></pre>\n\n<p>The program wrote almost all records before getting this problem, but what if it happens early (just minutes after I leave the office at evening)? I cannot understand what happened, I contacted my database admin and he said there was no particular issue on the database.</p>\n\n<p>Any idea on what happened and what can I do do to avoid it?</p>\n"},{"tags":["java","restfb"],"answers":[{"tags":[],"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698262592,"creation_date":1698262592,"answer_id":77362445,"question_id":77362310,"body_markdown":"This is rather simple, you can put an array directly into the `publish` method.\r\n\r\n```\r\n// create ArrayList with Parameter objects\r\nList&lt;Parameter&gt; paramList = new ArrayList&lt;&gt;();\r\nparamList.add(Parameter.with(&quot;message&quot;,msg));\r\nparamList.add(Parameter.with(&quot;published&quot;,&quot;false&quot;));\r\nparamList.add(Parameter.with(&quot;scheduled_publish_time&quot;,timeStampStr));\r\nfor (int i=0; i &lt; 5; i++) {\r\n     paramList.add(Parameter.with(&quot;attached_media[&quot;+ i +&quot;]&quot;,FileFactory.getFileJson(i));\r\n}\r\n\r\n// convert List to array\r\nParameter[] params = list.stream().toArray(Parameter[]::new);\r\n\r\n// publish everything\r\nGraphResponse publishMessageResponseMSg =\r\n    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class, params);\r\n```","title":"How to dynamically use parameters in publish methode?","body":"<p>This is rather simple, you can put an array directly into the <code>publish</code> method.</p>\n<pre><code>// create ArrayList with Parameter objects\nList&lt;Parameter&gt; paramList = new ArrayList&lt;&gt;();\nparamList.add(Parameter.with(&quot;message&quot;,msg));\nparamList.add(Parameter.with(&quot;published&quot;,&quot;false&quot;));\nparamList.add(Parameter.with(&quot;scheduled_publish_time&quot;,timeStampStr));\nfor (int i=0; i &lt; 5; i++) {\n     paramList.add(Parameter.with(&quot;attached_media[&quot;+ i +&quot;]&quot;,FileFactory.getFileJson(i));\n}\n\n// convert List to array\nParameter[] params = list.stream().toArray(Parameter[]::new);\n\n// publish everything\nGraphResponse publishMessageResponseMSg =\n    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class, params);\n</code></pre>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77362445,"answer_count":1,"score":-1,"last_activity_date":1698262592,"creation_date":1698261133,"question_id":77362310,"body_markdown":"I need to execute the publish methode with an unknown number of parameters. Each attachment needs to be added using ...\r\n\r\n            Parameter.with(&quot;attached_media[i]&quot;, ...\r\n\r\n but the number of attachments can change. How do I dynamically add parameters in this call?\r\n\r\n\r\n            GraphResponse publishMessageResponseMSg =\r\n                    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class,\r\n                            Parameter.with(&quot;message&quot;, msg),\r\n                            Parameter.with(&quot;published&quot;, &quot;false&quot;),\r\n                            Parameter.with(&quot;scheduled_publish_time&quot;, timeStampStr),\r\n                            Parameter.with(&quot;attached_media[0]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg1.getId() +&quot;\\&quot;}&quot;),\r\n                            Parameter.with(&quot;attached_media[1]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg2.getId() +&quot;\\&quot;}&quot;));","title":"How to dynamically use parameters in publish methode?","body":"<p>I need to execute the publish methode with an unknown number of parameters. Each attachment needs to be added using ...</p>\n<pre><code>        Parameter.with(&quot;attached_media[i]&quot;, ...\n</code></pre>\n<p>but the number of attachments can change. How do I dynamically add parameters in this call?</p>\n<pre><code>        GraphResponse publishMessageResponseMSg =\n                facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class,\n                        Parameter.with(&quot;message&quot;, msg),\n                        Parameter.with(&quot;published&quot;, &quot;false&quot;),\n                        Parameter.with(&quot;scheduled_publish_time&quot;, timeStampStr),\n                        Parameter.with(&quot;attached_media[0]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg1.getId() +&quot;\\&quot;}&quot;),\n                        Parameter.with(&quot;attached_media[1]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg2.getId() +&quot;\\&quot;}&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":29745473,"reputation":1,"user_id":22796658,"display_name":"ppoornima"},"score":0,"creation_date":1699461608,"post_id":77362438,"comment_id":136535379,"body_markdown":"I had jhipster.logging.logstash.queue-size in my application.yml. Changing it to jhipster.logging.logstash.ring-buffer-size fixed the issue. Looks like the queue-size is deprected in the newer version.","body":"I had jhipster.logging.logstash.queue-size in my application.yml. Changing it to jhipster.logging.logstash.ring-buffer-size fixed the issue. Looks like the queue-size is deprected in the newer version."}],"owner":{"account_id":29745473,"reputation":1,"user_id":22796658,"display_name":"ppoornima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698262508,"creation_date":1698262508,"question_id":77362438,"body_markdown":"I am using JHipster 7.9.3 in my current project using Java 11, Spring Boot 2.7. We are now in the process of upgrading to Jhipster 8.0.0-rc.1, Java 17, Spring Boot 3 and Spring Framework 6. \r\n\r\nWhen I start the application I see this error \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurer&#39; defined in file [mypath/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;jhipster-tech.jhipster.config.JHipsterProperties&#39;: Could not bind properties to &#39;JHipsterProperties&#39; : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false\r\n\r\n```\r\n\r\nIn WebConfigurer file, we have the following constructor\r\n```\r\n    public WebConfigurer(Environment env, JHipsterProperties jHipsterProperties) {\r\n        this.env = env;\r\n        this.jHipsterProperties = jHipsterProperties;\r\n    }\r\n\r\n```\r\n\r\nIn application.yml\r\n\r\n```\r\njhipster:\r\n  clientApp:\r\n    name: &#39;myapp&#39;\r\n..\r\n..\r\n```\r\n\r\nThis works in the previous working version, I am not able to figure out what could be wrong. \r\n\r\n","title":"Could not bind properties to JHipsterProperties","body":"<p>I am using JHipster 7.9.3 in my current project using Java 11, Spring Boot 2.7. We are now in the process of upgrading to Jhipster 8.0.0-rc.1, Java 17, Spring Boot 3 and Spring Framework 6.</p>\n<p>When I start the application I see this error</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurer' defined in file [mypath/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'jhipster-tech.jhipster.config.JHipsterProperties': Could not bind properties to 'JHipsterProperties' : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false\n\n</code></pre>\n<p>In WebConfigurer file, we have the following constructor</p>\n<pre><code>    public WebConfigurer(Environment env, JHipsterProperties jHipsterProperties) {\n        this.env = env;\n        this.jHipsterProperties = jHipsterProperties;\n    }\n\n</code></pre>\n<p>In application.yml</p>\n<pre><code>jhipster:\n  clientApp:\n    name: 'myapp'\n..\n..\n</code></pre>\n<p>This works in the previous working version, I am not able to figure out what could be wrong.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9815,"page":102,"page_size":100}
