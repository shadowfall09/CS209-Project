{"items":[{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1617311624,"post_id":66911480,"comment_id":118276899,"body_markdown":"The &quot;factory method&quot; example here isn&#39;t any kind of Factory. See my answer differentiating [Factory Method from Abstract Factory](https://stackoverflow.com/a/50786084/1371329). The top few answers in that thread all have good information about Factory patterns.","body":"The &quot;factory method&quot; example here isn&#39;t any kind of Factory. See my answer differentiating <a href=\"https://stackoverflow.com/a/50786084/1371329\">Factory Method from Abstract Factory</a>. The top few answers in that thread all have good information about Factory patterns."},{"owner":{"account_id":875148,"reputation":953,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"score":1,"creation_date":1617359221,"post_id":66911480,"comment_id":118287395,"body_markdown":"Why isnt my example a factory? The differences between factory method and factory abstract is something else, my question is whats the benefit of factory method over simple factory","body":"Why isnt my example a factory? The differences between factory method and factory abstract is something else, my question is whats the benefit of factory method over simple factory"},{"owner":{"account_id":875148,"reputation":953,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"score":0,"creation_date":1617362760,"post_id":66911480,"comment_id":118288459,"body_markdown":"Made an edit to the AnimalFactory abstract class, is that what was missing ?","body":"Made an edit to the AnimalFactory abstract class, is that what was missing ?"}],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617312590,"creation_date":1617312590,"answer_id":66911791,"question_id":66911480,"body_markdown":"The benefit of a Factory method is, typically, to contain the logic for a complex class (or class-hierarchy setup you require) that you don&#39;t want to obfuscate code or you don&#39;t want to create from scratch if they&#39;re used frequently. Eg. a car engine. So you extract away the messy code into a Factory to make the class-hierarchy more accessible/more reusable and to make the rest of your code more readable by hiding complex detail.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>The benefit of a Factory method is, typically, to contain the logic for a complex class (or class-hierarchy setup you require) that you don't want to obfuscate code or you don't want to create from scratch if they're used frequently. Eg. a car engine. So you extract away the messy code into a Factory to make the class-hierarchy more accessible/more reusable and to make the rest of your code more readable by hiding complex detail.</p>\n"},{"tags":[],"owner":{"account_id":19525455,"reputation":344,"user_id":14286378,"display_name":"Ferry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617452007,"creation_date":1617452007,"answer_id":66931028,"question_id":66911480,"body_markdown":"the benefit is it encapsulates the logic to create dogs for example. Any modification about creational of dog only happens on DogFactory (Single Responsibility). It&#39;s a good choice when you&#39;re going to do any setup about the object, like there are any codes before you return the dog object. If you do it on simple factory it would be messed up and make the method longer. But since on your example it&#39;s only do a simple `new Dog()` or `new Cat()` I prefer simple factory. IMHO","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>the benefit is it encapsulates the logic to create dogs for example. Any modification about creational of dog only happens on DogFactory (Single Responsibility). It's a good choice when you're going to do any setup about the object, like there are any codes before you return the dog object. If you do it on simple factory it would be messed up and make the method longer. But since on your example it's only do a simple <code>new Dog()</code> or <code>new Cat()</code> I prefer simple factory. IMHO</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1618158259,"creation_date":1618158259,"answer_id":67047425,"question_id":66911480,"body_markdown":"A critical difference in the GoF Factory Method Pattern as opposed to most other factory patterns is the identity of the client. In most factory patterns, the client is the *caller* of the factory.\r\n\r\n    class Client {\r\n        Product p = someFactoryObject.method();\r\n    }\r\n\r\nBut in the Factory Method Pattern, the client _is_ the (concrete) factory.\r\n\r\n    class Client extends Factory {\r\n        @Override\r\n        Product factoryMethod() {\r\n            return new ConcreteProduct();\r\n        }\r\n    }\r\n\r\nThe easiest way to think about why this factory subclassing relationship would make sense is to imagine the parent `Factory` as part of a framework. The framework must be compatible with any `Product` implementation, and it expects each client to define its own concrete product. These concrete products probably don&#39;t exist at the time the framework is written.\r\n\r\nWhen the `Client` plugs itself into the framework (via inheritance) it defines a `ConcreteProduct` for the framework to use. In contrast to previous answers, this has nothing to do with encapsulating creational complexity. Indeed, the factory method implementation is _one_ line of code.\r\n\r\nThe purpose is,\r\n&gt;  Factory Method lets a class defer instantiation to subclasses. (page 107)\r\n\r\nDefer is the key. Factory Method allows you to implement an API in terms of an _unknown_ product. Inheritance is the vehicle it uses to do that. Simple Factory was published (later) in Head First Design, as a teaching aid, not really intended for production code.\r\n\r\nConfusion arises from the assumption that a factory method must be parameterized. This assumption leads to the conclusion that the purpose of a factory is to allow clients to pick and choose amongst multiple product implementations at runtime. Note the `factoryMethod()` here takes no parameters.\r\n\r\nTo understand the Factory Method Pattern, consider the scenario in which there is only one concrete product, it simply doesn&#39;t exist at the time the factory method API is defined, and isn&#39;t owned by the author of the API.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>A critical difference in the GoF Factory Method Pattern as opposed to most other factory patterns is the identity of the client. In most factory patterns, the client is the <em>caller</em> of the factory.</p>\n<pre><code>class Client {\n    Product p = someFactoryObject.method();\n}\n</code></pre>\n<p>But in the Factory Method Pattern, the client <em>is</em> the (concrete) factory.</p>\n<pre><code>class Client extends Factory {\n    @Override\n    Product factoryMethod() {\n        return new ConcreteProduct();\n    }\n}\n</code></pre>\n<p>The easiest way to think about why this factory subclassing relationship would make sense is to imagine the parent <code>Factory</code> as part of a framework. The framework must be compatible with any <code>Product</code> implementation, and it expects each client to define its own concrete product. These concrete products probably don't exist at the time the framework is written.</p>\n<p>When the <code>Client</code> plugs itself into the framework (via inheritance) it defines a <code>ConcreteProduct</code> for the framework to use. In contrast to previous answers, this has nothing to do with encapsulating creational complexity. Indeed, the factory method implementation is <em>one</em> line of code.</p>\n<p>The purpose is,</p>\n<blockquote>\n<p>Factory Method lets a class defer instantiation to subclasses. (page 107)</p>\n</blockquote>\n<p>Defer is the key. Factory Method allows you to implement an API in terms of an <em>unknown</em> product. Inheritance is the vehicle it uses to do that. Simple Factory was published (later) in Head First Design, as a teaching aid, not really intended for production code.</p>\n<p>Confusion arises from the assumption that a factory method must be parameterized. This assumption leads to the conclusion that the purpose of a factory is to allow clients to pick and choose amongst multiple product implementations at runtime. Note the <code>factoryMethod()</code> here takes no parameters.</p>\n<p>To understand the Factory Method Pattern, consider the scenario in which there is only one concrete product, it simply doesn't exist at the time the factory method API is defined, and isn't owned by the author of the API.</p>\n"},{"tags":[],"owner":{"account_id":1821767,"reputation":1910,"user_id":1655666,"accept_rate":57,"display_name":"georaldc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701717144,"creation_date":1701717144,"answer_id":77602006,"question_id":66911480,"body_markdown":"You could turn a simple factory into something that implements the factory method design pattern. Let&#39;s take your simple factory as an example. If I turn that into a class of its own, it would look something like this (I&#39;m using PHP but syntax should be pretty easy to understand)\r\n\r\n    class SimpleFactory\r\n    {\r\n        public function getAnimal(string $type): ?Animal\r\n        {\r\n            switch ($type) {\r\n                case &#39;cat&#39;:\r\n                    return new Cat();\r\n                case &#39;dog&#39;:\r\n                    return new Dog();\r\n            }\r\n            return null\r\n        }\r\n    }\r\n\r\nThe Factory Method pattern takes advantage of polymorphism to allow subclasses to specify how/what concrete types of Animals to return. This means that instead of client code using the SimpleFactory directly, it would instead rely on abstraction instead. You can create something like an interface that your SimpleFactory would implement\r\n\r\n    interface MyFactory\r\n    {\r\n    \tpublic function getAnimal(string $type): ?Animal\r\n    }\r\n    \r\n    class SimpleFactory implements MyFactory\r\n    {\r\n        public function getAnimal(string $type): ?Animal\r\n        {\r\n            switch ($type) {\r\n                case &#39;cat&#39;:\r\n                    return new Cat();\r\n                case &#39;dog&#39;:\r\n                    return new Dog();\r\n            }\r\n            return null\r\n        }\r\n    }\r\n\r\nIn this case, client code will have a MyFactory dependency, instead of a concrete SimpleFactory dependency. This now gives you the ability to swap in different factories that implement MyFactory with their own getAnimal() factory method if needed and have the guarantee that your client code will continue to work due to the Liskov Substitution Principle.","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>You could turn a simple factory into something that implements the factory method design pattern. Let's take your simple factory as an example. If I turn that into a class of its own, it would look something like this (I'm using PHP but syntax should be pretty easy to understand)</p>\n<pre><code>class SimpleFactory\n{\n    public function getAnimal(string $type): ?Animal\n    {\n        switch ($type) {\n            case 'cat':\n                return new Cat();\n            case 'dog':\n                return new Dog();\n        }\n        return null\n    }\n}\n</code></pre>\n<p>The Factory Method pattern takes advantage of polymorphism to allow subclasses to specify how/what concrete types of Animals to return. This means that instead of client code using the SimpleFactory directly, it would instead rely on abstraction instead. You can create something like an interface that your SimpleFactory would implement</p>\n<pre><code>interface MyFactory\n{\n    public function getAnimal(string $type): ?Animal\n}\n\nclass SimpleFactory implements MyFactory\n{\n    public function getAnimal(string $type): ?Animal\n    {\n        switch ($type) {\n            case 'cat':\n                return new Cat();\n            case 'dog':\n                return new Dog();\n        }\n        return null\n    }\n}\n</code></pre>\n<p>In this case, client code will have a MyFactory dependency, instead of a concrete SimpleFactory dependency. This now gives you the ability to swap in different factories that implement MyFactory with their own getAnimal() factory method if needed and have the guarantee that your client code will continue to work due to the Liskov Substitution Principle.</p>\n"}],"owner":{"account_id":875148,"reputation":953,"user_id":924941,"accept_rate":90,"display_name":"user924941"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66931028,"answer_count":4,"score":2,"last_activity_date":1701717144,"creation_date":1617310741,"question_id":66911480,"body_markdown":"Im trying to learn patterns and got to Factory, I understand the concept of simple factory and factory method, I know how they work, what I cant understand is what is the benefit of factory method over the simple factory. Example:\r\n\r\n    //We have our clients here\r\n    public class Animal {}\r\n    public class Dog extends Animal{}\r\n    public class Cat extends Animal{}\r\n\r\nIn a simple factory we will have this thing:\r\n\r\n    public Animal getAnimal(String type) {\r\n        switch (type) {\r\n        case &quot;cat&quot;: \r\n          return new Cat;\r\n        case &quot;dog&quot;:\r\n          return new Dog;\r\n        }\r\n        return null;\r\n    }\r\n\r\nNow we go for the factory method: \r\n\r\n    public abstract class AnimalFactory {\r\n       public Animal createAnimal() {\r\n           Animal animal = getAnimal();\r\n           animal.pet();\r\n           return animal;\r\n       }\r\n      \r\n       protected abstract Animal getAnimal();\r\n\r\n    }\r\n    public class DogFactory extends AnimalFactory{\r\n       public Animal getAnimal(){\r\n          //some logic\r\n          return new Dog;\r\n       }\r\n    }\r\n    public class CatFactory extends AnimalFactory{\r\n       public Animal getAnimal(){\r\n          //some logic\r\n          return new Cat;\r\n       }\r\n    }\r\nSo here comes the interesting part, for the factory method we will need to use polymorphism but we will still need to instantiate depending on what type we need so I imagine we will have something like this:\r\n\r\n    public Animal getAnimal(String type) {\r\n        AnimalFactory animalFactory;\r\n        switch (type) {\r\n        case &quot;cat&quot;: \r\n          animalFactory = new CatFactory();  //polymorphism     \r\n          return animalFactory.getAnimal();\r\n        case &quot;dog&quot;:\r\n           animalFactory = new DogFactory();  //polymorphism     \r\n          return animalFactory.getAnimal();\r\n        }\r\n        return null;\r\n    }\r\n\r\nSo as far as I know the main idea behing design patterns is to make code more reusable and easier to extend, so imagine we need to add a new animal, say a Parrot. In both cases we create the Parrot class that extends the Animal class and in both cases we will have to go into that switch statement and add a new case &quot;Parrot&quot; For the simple factory we will just instantiate new Parrot directly and for the factory method we will instantiate the ParrotFactory.\r\nMy question is what is the difference and why do we need the factory method pattern?\r\n\r\nThe only benefit I can see is that in the factory method you can define common logic for the factories that will extend it (is that it ?)\r\n","title":"Simple factory VS Factory Method (why use factory method at all)","body":"<p>Im trying to learn patterns and got to Factory, I understand the concept of simple factory and factory method, I know how they work, what I cant understand is what is the benefit of factory method over the simple factory. Example:</p>\n<pre><code>//We have our clients here\npublic class Animal {}\npublic class Dog extends Animal{}\npublic class Cat extends Animal{}\n</code></pre>\n<p>In a simple factory we will have this thing:</p>\n<pre><code>public Animal getAnimal(String type) {\n    switch (type) {\n    case &quot;cat&quot;: \n      return new Cat;\n    case &quot;dog&quot;:\n      return new Dog;\n    }\n    return null;\n}\n</code></pre>\n<p>Now we go for the factory method:</p>\n<pre><code>public abstract class AnimalFactory {\n   public Animal createAnimal() {\n       Animal animal = getAnimal();\n       animal.pet();\n       return animal;\n   }\n  \n   protected abstract Animal getAnimal();\n\n}\npublic class DogFactory extends AnimalFactory{\n   public Animal getAnimal(){\n      //some logic\n      return new Dog;\n   }\n}\npublic class CatFactory extends AnimalFactory{\n   public Animal getAnimal(){\n      //some logic\n      return new Cat;\n   }\n}\n</code></pre>\n<p>So here comes the interesting part, for the factory method we will need to use polymorphism but we will still need to instantiate depending on what type we need so I imagine we will have something like this:</p>\n<pre><code>public Animal getAnimal(String type) {\n    AnimalFactory animalFactory;\n    switch (type) {\n    case &quot;cat&quot;: \n      animalFactory = new CatFactory();  //polymorphism     \n      return animalFactory.getAnimal();\n    case &quot;dog&quot;:\n       animalFactory = new DogFactory();  //polymorphism     \n      return animalFactory.getAnimal();\n    }\n    return null;\n}\n</code></pre>\n<p>So as far as I know the main idea behing design patterns is to make code more reusable and easier to extend, so imagine we need to add a new animal, say a Parrot. In both cases we create the Parrot class that extends the Animal class and in both cases we will have to go into that switch statement and add a new case &quot;Parrot&quot; For the simple factory we will just instantiate new Parrot directly and for the factory method we will instantiate the ParrotFactory.\nMy question is what is the difference and why do we need the factory method pattern?</p>\n<p>The only benefit I can see is that in the factory method you can define common logic for the factories that will extend it (is that it ?)</p>\n"},{"tags":["java","web-services"],"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1372083917,"post_id":8542497,"comment_id":25047751,"body_markdown":"the parameters passed is not valid and it creates problem when invoking the service with null or invalid parameter..","body":"the parameters passed is not valid and it creates problem when invoking the service with null or invalid parameter.."},{"owner":{"account_id":1239155,"reputation":8288,"user_id":1202172,"accept_rate":71,"display_name":"Danijel"},"score":0,"creation_date":1393343562,"post_id":8542497,"comment_id":33377546,"body_markdown":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?","body":"Is it possible to catch this error somewhere and prevent printing of the whole stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":1009178,"reputation":12360,"user_id":1022141,"accept_rate":96,"display_name":"Udo Held"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324104815,"creation_date":1324104815,"answer_id":8543204,"question_id":8542497,"body_markdown":"A `404` error indicates that your target url is wrong. Make sure that you send your request to the correct service url.","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>A <code>404</code> error indicates that your target url is wrong. Make sure that you send your request to the correct service url.</p>\n"},{"tags":[],"owner":{"account_id":1161822,"reputation":11,"user_id":1141183,"display_name":"Nat Kidder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371711134,"creation_date":1326208949,"answer_id":8805670,"question_id":8542497,"body_markdown":"I got the same error, what I did in Eclipse was:\r\n\r\n - `Stop` the servlet container (in my case, Tomcat)\r\n    \r\n - Right-click the web service Java class containing the method implementations \r\n    and selected `Run` -&gt; `Run on Server`\r\n    \r\n - Saw the `Axis2 web service page` appear in the Coding View\r\n\r\nThen ran the web service client class as a Java Application, and everything was fine\r\n","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>I got the same error, what I did in Eclipse was:</p>\n\n<ul>\n<li><p><code>Stop</code> the servlet container (in my case, Tomcat)</p></li>\n<li><p>Right-click the web service Java class containing the method implementations \nand selected <code>Run</code> -> <code>Run on Server</code></p></li>\n<li><p>Saw the <code>Axis2 web service page</code> appear in the Coding View</p></li>\n</ul>\n\n<p>Then ran the web service client class as a Java Application, and everything was fine</p>\n"}],"owner":{"account_id":1041355,"reputation":137,"user_id":1047333,"accept_rate":71,"display_name":"Myo Thu Zar Kyaw"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13279,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1701716455,"creation_date":1324094820,"question_id":8542497,"body_markdown":"I&#39;ve created Axis2 1.6 Webservice Client, I can make wsdl2java. But, when i run my program.. It shows this error?..\r\n\r\n    [INFO] Unable to sendViaPost to url[http://10.53.1.187:7782//rest/UVSInterface_Extend]\r\n    org.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\r\n\tat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\r\n\tat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\r\n\tat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\r\n\tat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\r\n\tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\r\n\tat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\r\n\tat access.KitRecharge.main(KitRecharge.java:113)\r\n    org.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\r\n\tat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\r\n\tat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\r\n\tat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\r\n\tat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\r\n\tat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\r\n\tat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\r\n\tat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\r\n\tat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\r\n\tat access.KitRecharge.main(KitRecharge.java:113)\r\n","title":"Unable to sendViaPost to url in Axis2 1.6","body":"<p>I've created Axis2 1.6 Webservice Client, I can make wsdl2java. But, when i run my program.. It shows this error?..</p>\n\n<pre><code>[INFO] Unable to sendViaPost to url[http://10.53.1.187:7782//rest/UVSInterface_Extend]\norg.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\nat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\nat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\nat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\nat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\nat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\nat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\nat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\nat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\nat access.KitRecharge.main(KitRecharge.java:113)\norg.apache.axis2.AxisFault: Transport error: 404 Error: /error/error404.jsp\nat org.apache.axis2.transport.http.HTTPSender.handleResponse(HTTPSender.java:310)\nat org.apache.axis2.transport.http.HTTPSender.sendViaPost(HTTPSender.java:194)\nat org.apache.axis2.transport.http.HTTPSender.send(HTTPSender.java:75)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.writeMessageWithCommons(CommonsHTTPTransportSender.java:404)\nat org.apache.axis2.transport.http.CommonsHTTPTransportSender.invoke(CommonsHTTPTransportSender.java:231)\nat org.apache.axis2.engine.AxisEngine.send(AxisEngine.java:443)\nat org.apache.axis2.description.OutInAxisOperationClient.send(OutInAxisOperation.java:406)\nat org.apache.axis2.description.OutInAxisOperationClient.executeImpl(OutInAxisOperation.java:229)\nat org.apache.axis2.client.OperationClient.execute(OperationClient.java:165)\nat com.huawei.bme.winuvsinterface.UVSInterface_ExtendStub.manualRecharge(UVSInterface_ExtendStub.java:14628)\nat access.KitRecharge.main(KitRecharge.java:113)\n</code></pre>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-step-functions","amazon-efs"],"owner":{"account_id":30065582,"reputation":1,"user_id":23040823,"display_name":"AlphaCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701716217,"creation_date":1701715979,"question_id":77601918,"body_markdown":"I have a step function, which has Distributed map state. This distributed map state has a lambda function as its child which do some files processing(read/write/delete operations) on EFS.\r\n\r\nThe issue is, I am using concurrency of this map state to 2000(my lambda has way more concurrency than 2000), and in that case when this map state trigger 2000 instances of my lambda function, EFS could not handle this sudden burst and lambda function started giving `EFSMountTimeoutException`. \r\n\r\n    The function could not mount the EFS file system with access point arn:aws:elasticfilesystem:us-east-1:1234567889:access-point/fsap-05b0494f1746d72 due to mount time out. (Service: AWSLambda; Status Code: 408; Error Code: EFSMountTimeoutException; Request ID: ec2a7b2a-2f74-47c8-12839-204fd37fb042; Proxy: null)\r\n\r\nI believe here, the issue is this sudden burst of lambda functions synchronously triggered by the map state. \r\n\r\nwhat can be done here to overcome this issue? \r\n\r\n\r\nWhat I have tried so far but no luck:\r\n1 - I tried using invoking 2000 lambda instances with Eventbridge events, through code, and they work fine. May be because of they are asynchronous and lambda can handle that. I cannot use it because I need control over these lambda instances in my use case. \r\n\r\n2 - Stap function map state retry: The issue is, even if for ex: 1990 lambda are already finished and successful and any lambda instances failed afterwards, the step function retry will initiate whole map state again. Another scenario is, if all 2000 instances failed at once, retrying again after some time will trigger 2000 instances invocations, and accessing EFS by all of them at once fall in into the same scenario of EFS mount timeout.\r\n\r\n3 - provisioned concurrency for this lambda: It turns out that it is too costly, considering how many times and number of instances i want to run for this lambda.\r\n","title":"Getting EFSMountTimeout exception when triggering step function map state having very high concurrently","body":"<p>I have a step function, which has Distributed map state. This distributed map state has a lambda function as its child which do some files processing(read/write/delete operations) on EFS.</p>\n<p>The issue is, I am using concurrency of this map state to 2000(my lambda has way more concurrency than 2000), and in that case when this map state trigger 2000 instances of my lambda function, EFS could not handle this sudden burst and lambda function started giving <code>EFSMountTimeoutException</code>.</p>\n<pre><code>The function could not mount the EFS file system with access point arn:aws:elasticfilesystem:us-east-1:1234567889:access-point/fsap-05b0494f1746d72 due to mount time out. (Service: AWSLambda; Status Code: 408; Error Code: EFSMountTimeoutException; Request ID: ec2a7b2a-2f74-47c8-12839-204fd37fb042; Proxy: null)\n</code></pre>\n<p>I believe here, the issue is this sudden burst of lambda functions synchronously triggered by the map state.</p>\n<p>what can be done here to overcome this issue?</p>\n<p>What I have tried so far but no luck:\n1 - I tried using invoking 2000 lambda instances with Eventbridge events, through code, and they work fine. May be because of they are asynchronous and lambda can handle that. I cannot use it because I need control over these lambda instances in my use case.</p>\n<p>2 - Stap function map state retry: The issue is, even if for ex: 1990 lambda are already finished and successful and any lambda instances failed afterwards, the step function retry will initiate whole map state again. Another scenario is, if all 2000 instances failed at once, retrying again after some time will trigger 2000 instances invocations, and accessing EFS by all of them at once fall in into the same scenario of EFS mount timeout.</p>\n<p>3 - provisioned concurrency for this lambda: It turns out that it is too costly, considering how many times and number of instances i want to run for this lambda.</p>\n"},{"tags":["java","optimization","scheduler","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701715843,"creation_date":1701715843,"answer_id":77601905,"question_id":77597884,"body_markdown":"Your solver configuration looks heavily fine-tuned, and I wonder if that is really beneficial. Unless you&#39;ve done some extensive benchmarking on that particular data set, this level of involvement with the solver&#39;s business could be counter-productive.\r\n\r\nAnother thing I noticed is that you&#39;re not really giving any of the local searches much time to actually get some real work done. This could be perfectly fine, but as the data set size grows, seconds are no longer enough to get decent results.\r\n\r\nFinally, since you&#39;re using Bavet, you may be interested in knowing that the version of BAVET that is available in OptaPlanner actually has some serious bugs which [Timefold Solver][1] resolved after [the fork][2]. ([Case in point][3], which required us to very nearly rewrite Bavet from scratch.)\r\n\r\nAre these tips going to help you? I have no way of knowing; figuring out why the solver hasn&#39;t identified any particular solution requires deep understanding of the problem at hand, which I do not and can not have. \r\n\r\n\r\n  [1]: https://github.com/TimefoldAI/timefold-solver\r\n  [2]: https://timefold.ai/blog/2023/optaplanner-fork\r\n  [3]: https://github.com/TimefoldAI/timefold-solver/commit/0b47ed1ec6332bcbd1ef91075326304deb7bc61b","title":"Optaplanner unable to solve one hard constraint","body":"<p>Your solver configuration looks heavily fine-tuned, and I wonder if that is really beneficial. Unless you've done some extensive benchmarking on that particular data set, this level of involvement with the solver's business could be counter-productive.</p>\n<p>Another thing I noticed is that you're not really giving any of the local searches much time to actually get some real work done. This could be perfectly fine, but as the data set size grows, seconds are no longer enough to get decent results.</p>\n<p>Finally, since you're using Bavet, you may be interested in knowing that the version of BAVET that is available in OptaPlanner actually has some serious bugs which <a href=\"https://github.com/TimefoldAI/timefold-solver\" rel=\"nofollow noreferrer\">Timefold Solver</a> resolved after <a href=\"https://timefold.ai/blog/2023/optaplanner-fork\" rel=\"nofollow noreferrer\">the fork</a>. (<a href=\"https://github.com/TimefoldAI/timefold-solver/commit/0b47ed1ec6332bcbd1ef91075326304deb7bc61b\" rel=\"nofollow noreferrer\">Case in point</a>, which required us to very nearly rewrite Bavet from scratch.)</p>\n<p>Are these tips going to help you? I have no way of knowing; figuring out why the solver hasn't identified any particular solution requires deep understanding of the problem at hand, which I do not and can not have.</p>\n"}],"owner":{"account_id":21473913,"reputation":3,"user_id":15822491,"display_name":"GuneetSingh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701715843,"creation_date":1701676164,"question_id":77597884,"body_markdown":"I am currently trying to optimize a Job Shop scheduling algo using optaplanner. However there is one constraint which gets stuck. What all potential steps should I take to try solving this problem.\r\nMy Configuration file looks as follows:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\r\n  &lt;!--  &lt;environmentMode&gt;FULL_ASSERT&lt;/environmentMode&gt;--&gt;\r\n  &lt;environmentMode&gt;NON_REPRODUCIBLE&lt;/environmentMode&gt;\r\n  &lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;\r\n  &lt;solutionClass&gt;com.greyorange.taskscheduler.domain.CandidateSolution&lt;/solutionClass&gt;\r\n  &lt;entityClass&gt;com.greyorange.taskscheduler.domain.CandidateAssignment&lt;/entityClass&gt;\r\n\r\n  &lt;scoreDirectorFactory&gt;\r\n    &lt;constraintProviderClass&gt;com.greyorange.taskscheduler.costs.ObjectiveFunction&lt;/constraintProviderClass&gt;\r\n    &lt;constraintStreamImplType&gt;BAVET&lt;/constraintStreamImplType&gt;\r\n  &lt;/scoreDirectorFactory&gt;\r\n\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;15&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;acceptor&gt;\r\n      &lt;entityTabuSize&gt;7&lt;/entityTabuSize&gt;\r\n    &lt;/acceptor&gt;\r\n    &lt;forager&gt;\r\n      &lt;acceptedCountLimit&gt;1000&lt;/acceptedCountLimit&gt;\r\n      &lt;finalistPodiumType&gt;STRATEGIC_OSCILLATION&lt;/finalistPodiumType&gt;\r\n    &lt;/forager&gt;\r\n  &lt;/localSearch&gt;\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;10&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;acceptor&gt;\r\n      &lt;greatDelugeWaterLevelIncrementRatio&gt;0.000001&lt;/greatDelugeWaterLevelIncrementRatio&gt;\r\n    &lt;/acceptor&gt;\r\n    &lt;forager&gt;\r\n      &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\r\n    &lt;/forager&gt;\r\n  &lt;/localSearch&gt;\r\n  &lt;localSearch&gt;\r\n    &lt;termination&gt;\r\n      &lt;secondsSpentLimit&gt;2&lt;/secondsSpentLimit&gt;\r\n    &lt;/termination&gt;\r\n    &lt;localSearchType&gt;HILL_CLIMBING&lt;/localSearchType&gt;\r\n    &lt;moveListFactory&gt;\r\n      &lt;moveListFactoryClass&gt;com.greyorange.taskscheduler.neighborhood.SlideTimeWindowMoveFactory\r\n      &lt;/moveListFactoryClass&gt;\r\n    &lt;/moveListFactory&gt;\r\n  &lt;/localSearch&gt;\r\n&lt;/solver&gt;\r\n\r\n\r\n```\r\n\r\n\r\nI am currently curious to know what all steps I can take. I tried changing the accepted count limits and it solved my problem but my Technical Lead doesnt feel convinced with the solution.\r\n\r\nPlease help ","title":"Optaplanner unable to solve one hard constraint","body":"<p>I am currently trying to optimize a Job Shop scheduling algo using optaplanner. However there is one constraint which gets stuck. What all potential steps should I take to try solving this problem.\nMy Configuration file looks as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;solver xmlns=&quot;https://www.optaplanner.org/xsd/solver&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd&quot;&gt;\n  &lt;!--  &lt;environmentMode&gt;FULL_ASSERT&lt;/environmentMode&gt;--&gt;\n  &lt;environmentMode&gt;NON_REPRODUCIBLE&lt;/environmentMode&gt;\n  &lt;moveThreadCount&gt;AUTO&lt;/moveThreadCount&gt;\n  &lt;solutionClass&gt;com.greyorange.taskscheduler.domain.CandidateSolution&lt;/solutionClass&gt;\n  &lt;entityClass&gt;com.greyorange.taskscheduler.domain.CandidateAssignment&lt;/entityClass&gt;\n\n  &lt;scoreDirectorFactory&gt;\n    &lt;constraintProviderClass&gt;com.greyorange.taskscheduler.costs.ObjectiveFunction&lt;/constraintProviderClass&gt;\n    &lt;constraintStreamImplType&gt;BAVET&lt;/constraintStreamImplType&gt;\n  &lt;/scoreDirectorFactory&gt;\n\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;15&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;acceptor&gt;\n      &lt;entityTabuSize&gt;7&lt;/entityTabuSize&gt;\n    &lt;/acceptor&gt;\n    &lt;forager&gt;\n      &lt;acceptedCountLimit&gt;1000&lt;/acceptedCountLimit&gt;\n      &lt;finalistPodiumType&gt;STRATEGIC_OSCILLATION&lt;/finalistPodiumType&gt;\n    &lt;/forager&gt;\n  &lt;/localSearch&gt;\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;10&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;acceptor&gt;\n      &lt;greatDelugeWaterLevelIncrementRatio&gt;0.000001&lt;/greatDelugeWaterLevelIncrementRatio&gt;\n    &lt;/acceptor&gt;\n    &lt;forager&gt;\n      &lt;acceptedCountLimit&gt;4&lt;/acceptedCountLimit&gt;\n    &lt;/forager&gt;\n  &lt;/localSearch&gt;\n  &lt;localSearch&gt;\n    &lt;termination&gt;\n      &lt;secondsSpentLimit&gt;2&lt;/secondsSpentLimit&gt;\n    &lt;/termination&gt;\n    &lt;localSearchType&gt;HILL_CLIMBING&lt;/localSearchType&gt;\n    &lt;moveListFactory&gt;\n      &lt;moveListFactoryClass&gt;com.greyorange.taskscheduler.neighborhood.SlideTimeWindowMoveFactory\n      &lt;/moveListFactoryClass&gt;\n    &lt;/moveListFactory&gt;\n  &lt;/localSearch&gt;\n&lt;/solver&gt;\n\n\n</code></pre>\n<p>I am currently curious to know what all steps I can take. I tried changing the accepted count limits and it solved my problem but my Technical Lead doesnt feel convinced with the solution.</p>\n<p>Please help</p>\n"},{"tags":["java","log4j","wildfly"],"owner":{"account_id":23162190,"reputation":67,"user_id":17262676,"display_name":"John Hammond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701715421,"creation_date":1701715421,"question_id":77601872,"body_markdown":"Having a problem stopping this email handler from emailing each line of stderr. Wanted to filter out these as they are causing email congestion. So far I&#39;ve done this, and it doesn&#39;t work. Am I missing something? I tested the regexp and it works.  Here is an example line:\r\n\r\n```\r\n2023-12-04 13:39:33,431 ERROR [stderr] (Thread-444)     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n```\r\n\r\n```\r\n            &lt;custom-handler name=&quot;emailHandler&quot; class=&quot;org.apache.log4j.net.SMTPAppender&quot; module=&quot;org.apache.log4j&quot;&gt;\r\n                &lt;level name=&quot;ERROR&quot;/&gt;\r\n\t\t            &lt;filter-spec value=&quot;not(match(&amp;quot;\\\\[stderr\\\\]&amp;quot;))&quot;/&gt;\r\n                &lt;formatter&gt;\r\n                    &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\r\n                &lt;/formatter&gt;\r\n                &lt;properties&gt;\r\n                    &lt;property name=&quot;To&quot; value=&quot;bugs@***.com&quot;/&gt;\r\n                    &lt;property name=&quot;From&quot; value=&quot;no-reply@***.com&quot;/&gt;\r\n                    &lt;property name=&quot;Subject&quot; value=&quot;Error Has Occurred&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPHost&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPUsername&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPPassword&quot; value=&quot;***&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPPort&quot; value=&quot;465&quot;/&gt;\r\n                    &lt;property name=&quot;SMTPProtocol&quot; value=&quot;smtps&quot;/&gt;\r\n                    &lt;property name=&quot;BufferSize&quot; value=&quot;10&quot;/&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/custom-handler&gt;\r\n```","title":"Unable to filter out stderr from Wildfly Email Handler","body":"<p>Having a problem stopping this email handler from emailing each line of stderr. Wanted to filter out these as they are causing email congestion. So far I've done this, and it doesn't work. Am I missing something? I tested the regexp and it works.  Here is an example line:</p>\n<pre><code>2023-12-04 13:39:33,431 ERROR [stderr] (Thread-444)     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n</code></pre>\n<pre><code>            &lt;custom-handler name=&quot;emailHandler&quot; class=&quot;org.apache.log4j.net.SMTPAppender&quot; module=&quot;org.apache.log4j&quot;&gt;\n                &lt;level name=&quot;ERROR&quot;/&gt;\n                    &lt;filter-spec value=&quot;not(match(&amp;quot;\\\\[stderr\\\\]&amp;quot;))&quot;/&gt;\n                &lt;formatter&gt;\n                    &lt;named-formatter name=&quot;PATTERN&quot;/&gt;\n                &lt;/formatter&gt;\n                &lt;properties&gt;\n                    &lt;property name=&quot;To&quot; value=&quot;bugs@***.com&quot;/&gt;\n                    &lt;property name=&quot;From&quot; value=&quot;no-reply@***.com&quot;/&gt;\n                    &lt;property name=&quot;Subject&quot; value=&quot;Error Has Occurred&quot;/&gt;\n                    &lt;property name=&quot;SMTPHost&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPUsername&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPPassword&quot; value=&quot;***&quot;/&gt;\n                    &lt;property name=&quot;SMTPPort&quot; value=&quot;465&quot;/&gt;\n                    &lt;property name=&quot;SMTPProtocol&quot; value=&quot;smtps&quot;/&gt;\n                    &lt;property name=&quot;BufferSize&quot; value=&quot;10&quot;/&gt;\n                &lt;/properties&gt;\n            &lt;/custom-handler&gt;\n</code></pre>\n"},{"tags":["python","java","ibm-midrange","jpype"],"comments":[{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1701177875,"post_id":77564079,"comment_id":136740847,"body_markdown":"I can connect with `jpype.startJVM(classpath=[driver_file_path])` without `addClassPath`","body":"I can connect with <code>jpype.startJVM(classpath=[driver_file_path])</code> without <code>addClassPath</code>"},{"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"score":0,"creation_date":1701260732,"post_id":77564079,"comment_id":136753199,"body_markdown":"@nfgl with your syntax, for me the program just stops after a few seconds. It&#39;s the startJVM which crash silently","body":"@nfgl with your syntax, for me the program just stops after a few seconds. It&#39;s the startJVM which crash silently"},{"owner":{"account_id":16755858,"reputation":2962,"user_id":12111821,"display_name":"nfgl"},"score":0,"creation_date":1701283782,"post_id":77564079,"comment_id":136757798,"body_markdown":"I had the same `ClassNotFoundException` with your code. Is your JVM version 7 or higher ?","body":"I had the same <code>ClassNotFoundException</code> with your code. Is your JVM version 7 or higher ?"},{"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"score":0,"creation_date":1701348997,"post_id":77564079,"comment_id":136766110,"body_markdown":"I have Java version1.8.0_351, which is called java 8 AFAIK...","body":"I have Java version1.8.0_351, which is called java 8 AFAIK..."}],"owner":{"account_id":7378787,"reputation":1115,"user_id":5616309,"accept_rate":77,"display_name":"FredericP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701176597,"answer_count":0,"score":-2,"last_activity_date":1701715379,"creation_date":1701176308,"question_id":77564079,"body_markdown":"[edit] my question has been closed for duplicate, but none of the answers I see relates to python or jpype, so I think that my question is legitimate\r\n\r\nI can&#39;t use java -classpath because I don&#39;t run java directly (launched from jpype)\r\nI can&#39;t use the argument -cp, nor my  Class-Path entry in MANIFEST.MF because I don&#39;t run java directly (launched from jpype)\r\nAnyway, as I showed in my example, the path of the jar file is recognized by  jpype, because  class_path = jpype.getClassPath(True)\r\nprint(&quot;Class Path &quot; + class_path) gives Class Path C:\\Users...\\jt400-20.0.6.jar\r\n[/edit]\r\n\r\n\r\nI want to use run SQL on an IBM i file from **python**, jdbc with **jpype**.\r\nI downloaded and installed in my folder IBM&#39;s jar (jt400-20.0.6.jar)\r\nThen I ran this simple test\r\n```python\r\nimport os\r\nimport jpype\r\nimport jpype.dbapi2\r\n\r\ndriver_file_path = os.path.join(os.path.dirname(__file__), &quot;jt400-20.0.6.jar&quot;)\r\n\r\njpype.startJVM()\r\nprint(&#39;startJVM effectu&#233;&#39;)\r\n\r\njpype.addClassPath(driver_file_path)\r\nclass_path = jpype.getClassPath(True)\r\nprint(&quot;Class Path &quot; + class_path)\r\n\r\njpype.java.lang.System.out.println(&quot;hello world&quot;)\r\n\r\nconnection_string = &#39;jdbc:as400://MACHINE&#39;\r\n\r\ntry:\r\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\r\n                     driver_args={\r\n                            &quot;user&quot;: &#39;UTIL&#39;,\r\n                            &quot;password&quot;: &#39;MOTPASSE&#39;,\r\n                            &quot;extended metadata&quot;: &quot;true&quot;,\r\n                        }\r\n                    )\r\nexcept jpype.dbapi2.Error as err:\r\n    print(&quot;Erreur&quot; + err)\r\n```\r\nThe driver exists at the driver_file_path that is printed\r\nThere&#39;s an AS400JDBCDriver.class in com\\ibm\\as400\\access in the jar file (I opened the file with  7 zip)\r\nWhen running, I have\r\n```\r\nstartJVM effectu&#233;\r\nClass Path C:\\Users...\\jt400-20.0.6.jar\r\nhello world\r\n```\r\nSo the path should have been added to the jvm, and java is working...\r\nBut I have also\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod\r\nException: Java Exception\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File &quot;C:\\...\\Test_jpype_question.py&quot;, line 37, in &lt;module&gt;\r\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\r\n  File &quot;C:\\...\\jpype\\dbapi2.py&quot;, line 404, in connect\r\n    _jpype.JClass(&#39;java.lang.Class&#39;).forName(driver).newInstance()\r\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.ibm.as400.access.AS400JDBCDriver`\r\n```\r\nI tried lot of things, but I can&#39;t understand what&#39;s wrong.\r\nWhat can I do to test further?","title":"jpype dbapi2 : can&#39;t understand this ClassNotFoundException error","body":"<p>[edit] my question has been closed for duplicate, but none of the answers I see relates to python or jpype, so I think that my question is legitimate</p>\n<p>I can't use java -classpath because I don't run java directly (launched from jpype)\nI can't use the argument -cp, nor my  Class-Path entry in MANIFEST.MF because I don't run java directly (launched from jpype)\nAnyway, as I showed in my example, the path of the jar file is recognized by  jpype, because  class_path = jpype.getClassPath(True)\nprint(&quot;Class Path &quot; + class_path) gives Class Path C:\\Users...\\jt400-20.0.6.jar\n[/edit]</p>\n<p>I want to use run SQL on an IBM i file from <strong>python</strong>, jdbc with <strong>jpype</strong>.\nI downloaded and installed in my folder IBM's jar (jt400-20.0.6.jar)\nThen I ran this simple test</p>\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport jpype\nimport jpype.dbapi2\n\ndriver_file_path = os.path.join(os.path.dirname(__file__), &quot;jt400-20.0.6.jar&quot;)\n\njpype.startJVM()\nprint('startJVM effectué')\n\njpype.addClassPath(driver_file_path)\nclass_path = jpype.getClassPath(True)\nprint(&quot;Class Path &quot; + class_path)\n\njpype.java.lang.System.out.println(&quot;hello world&quot;)\n\nconnection_string = 'jdbc:as400://MACHINE'\n\ntry:\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\n                     driver_args={\n                            &quot;user&quot;: 'UTIL',\n                            &quot;password&quot;: 'MOTPASSE',\n                            &quot;extended metadata&quot;: &quot;true&quot;,\n                        }\n                    )\nexcept jpype.dbapi2.Error as err:\n    print(&quot;Erreur&quot; + err)\n</code></pre>\n<p>The driver exists at the driver_file_path that is printed\nThere's an AS400JDBCDriver.class in com\\ibm\\as400\\access in the jar file (I opened the file with  7 zip)\nWhen running, I have</p>\n<pre><code>startJVM effectué\nClass Path C:\\Users...\\jt400-20.0.6.jar\nhello world\n</code></pre>\n<p>So the path should have been added to the jvm, and java is working...\nBut I have also</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod\nException: Java Exception\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File &quot;C:\\...\\Test_jpype_question.py&quot;, line 37, in &lt;module&gt;\n    cnx = jpype.dbapi2.connect(connection_string, driver= &quot;com.ibm.as400.access.AS400JDBCDriver&quot;,\n  File &quot;C:\\...\\jpype\\dbapi2.py&quot;, line 404, in connect\n    _jpype.JClass('java.lang.Class').forName(driver).newInstance()\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.ibm.as400.access.AS400JDBCDriver`\n</code></pre>\n<p>I tried lot of things, but I can't understand what's wrong.\nWhat can I do to test further?</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":2,"creation_date":1701715022,"post_id":77601824,"comment_id":136807712,"body_markdown":"I don&#39;t think it&#39;s really possible to write to a file in an archive (zip, jar) due to compression issues. And I think that any utility that lets you do this is probably first deleting the file from the archive and than re-adding the modified version.","body":"I don&#39;t think it&#39;s really possible to write to a file in an archive (zip, jar) due to compression issues. And I think that any utility that lets you do this is probably first deleting the file from the archive and than re-adding the modified version."},{"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"score":0,"creation_date":1701715907,"post_id":77601824,"comment_id":136807855,"body_markdown":"For my use that is probably ok, i just need to save a few values to it and use them again when i launch the program, so deleting the file and then adding a new probably works.","body":"For my use that is probably ok, i just need to save a few values to it and use them again when i launch the program, so deleting the file and then adding a new probably works."},{"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"score":0,"creation_date":1701716230,"post_id":77601824,"comment_id":136807918,"body_markdown":"@aled i&#39;ve looked at that one, but didn&#39;t really help, i can try again to bee sure","body":"@aled i&#39;ve looked at that one, but didn&#39;t really help, i can try again to bee sure"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701716710,"post_id":77601824,"comment_id":136807995,"body_markdown":"That is for reading a file in a jar file. If you need to save the file then you should do it outside the jar file, in a real directory.","body":"That is for reading a file in a jar file. If you need to save the file then you should do it outside the jar file, in a real directory."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1701718605,"post_id":77601824,"comment_id":136808287,"body_markdown":"You could make use of [well known file locations](https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989) and some other [persistent concepts](https://stackoverflow.com/questions/19556932/how-can-i-save-the-state-of-my-program-and-then-load-it/19557052#19557052)","body":"You could make use of <a href=\"https://stackoverflow.com/questions/27974857/where-should-i-place-my-files-in-order-to-be-able-to-access-them-when-i-run-the/27974989#27974989\">well known file locations</a> and some other <a href=\"https://stackoverflow.com/questions/19556932/how-can-i-save-the-state-of-my-program-and-then-load-it/19557052#19557052\">persistent concepts</a>"}],"owner":{"account_id":28950835,"reputation":7,"user_id":22175482,"display_name":"ERavn29"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701717645,"answer_count":0,"score":-1,"last_activity_date":1701714771,"creation_date":1701714771,"question_id":77601824,"body_markdown":"I&#39;ve setup a program which im trying to get to read/write to a file, it works fine in my IDE (IntelliJ), but when i get it to a jar, it doesn&#39;t find the file.\r\n\r\nI think i&#39;ve setup the file reading/writing in the most basic way, because this isn&#39;t a big part of the program and im using a library (libGDX) which normally handles the files for me, but in this case i couldn&#39;t use that, so there is probably some better ways to do it, but those i&#39;ve tried doen&#39;t work.\r\n\r\nThis is how i have the file set up now:\r\n\r\n```java\r\nFile file = new File(&quot;misc/file.txt&quot;);\r\n```\r\n\r\nThis is how im reading the file:\r\n```java\r\nScanner fileScanner = new Scanner(file);\r\nString fileContents = &quot;&quot;;\r\n\r\nwhile (fileScanner.hasNextLine()) {\r\n    fileContents += fileScanner.nextLine();\r\n}\r\nfileScanner.close();\r\n```\r\nThis is how im writing:\r\n```java\r\nFileWriter fileWriter = new FileWriter(file);\r\nfileWriter.write(&quot;Hello World&quot;)\r\nfileWriter.close();\r\n```\r\n\r\nMy .txt file im trying to read is in (Project)/core/resources/misc/file.txt, while the class the code is in is here: (Project)/core/src/(package)/files/Class\r\n\r\nAs i&#39;ve said, this works in the IDE, but not in a jar.","title":"How do i read/write to i file within a jar","body":"<p>I've setup a program which im trying to get to read/write to a file, it works fine in my IDE (IntelliJ), but when i get it to a jar, it doesn't find the file.</p>\n<p>I think i've setup the file reading/writing in the most basic way, because this isn't a big part of the program and im using a library (libGDX) which normally handles the files for me, but in this case i couldn't use that, so there is probably some better ways to do it, but those i've tried doen't work.</p>\n<p>This is how i have the file set up now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;misc/file.txt&quot;);\n</code></pre>\n<p>This is how im reading the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner fileScanner = new Scanner(file);\nString fileContents = &quot;&quot;;\n\nwhile (fileScanner.hasNextLine()) {\n    fileContents += fileScanner.nextLine();\n}\nfileScanner.close();\n</code></pre>\n<p>This is how im writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileWriter fileWriter = new FileWriter(file);\nfileWriter.write(&quot;Hello World&quot;)\nfileWriter.close();\n</code></pre>\n<p>My .txt file im trying to read is in (Project)/core/resources/misc/file.txt, while the class the code is in is here: (Project)/core/src/(package)/files/Class</p>\n<p>As i've said, this works in the IDE, but not in a jar.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":7539816,"reputation":1938,"user_id":5724824,"accept_rate":59,"display_name":"SANM2009"},"score":0,"creation_date":1519947013,"post_id":49060244,"comment_id":85125822,"body_markdown":"some code around the the section where error happens will be helpful.","body":"some code around the the section where error happens will be helpful."},{"owner":{"account_id":7669845,"reputation":354,"user_id":5812472,"accept_rate":44,"display_name":"Ch_y"},"score":0,"creation_date":1519988498,"post_id":49060244,"comment_id":85140532,"body_markdown":"Try to set a bigger buffSize and see if it would change anything, probably because you are reading bigger data than your inputstream can handle, hope it will help","body":"Try to set a bigger buffSize and see if it would change anything, probably because you are reading bigger data than your inputstream can handle, hope it will help"}],"answers":[{"tags":[],"owner":{"account_id":12911202,"reputation":45,"user_id":9336832,"display_name":"Moon.Hou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527066872,"creation_date":1527066872,"answer_id":50484373,"question_id":49060244,"body_markdown":"try this solution:\r\nadd this config to hdfs-site.xml\r\n\r\n    &lt;property&gt;\r\n         &lt;name&gt;ipc.maximum.data.length&lt;/name&gt;\r\n         &lt;value&gt;134217728&lt;/value&gt;\r\n    &lt;/property&gt;","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>try this solution:\nadd this config to hdfs-site.xml</p>\n\n<pre><code>&lt;property&gt;\n     &lt;name&gt;ipc.maximum.data.length&lt;/name&gt;\n     &lt;value&gt;134217728&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11610288,"reputation":149,"user_id":8504709,"display_name":"Vishnu Priyaa"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1584344966,"creation_date":1584344213,"answer_id":60701948,"question_id":49060244,"body_markdown":"Check your **core-site.xml** :\r\n\r\n    &lt;property&gt;\r\n        &lt;name&gt;fs.default.name&lt;/name&gt;\r\n        &lt;value&gt;hdfs://host:port&lt;/value&gt;\r\n    &lt;/property&gt;\r\n\r\n\r\nThis port can be **9000** or **8020**.\r\nMake sure that you are using the **same port in your code or command**\r\n","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>Check your <strong>core-site.xml</strong> :</p>\n\n<pre><code>&lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;hdfs://host:port&lt;/value&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p>This port can be <strong>9000</strong> or <strong>8020</strong>.\nMake sure that you are using the <strong>same port in your code or command</strong></p>\n"},{"tags":[],"owner":{"account_id":6654631,"reputation":1,"user_id":5135627,"display_name":"Oleg Saltanovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701714567,"creation_date":1701714199,"answer_id":77601772,"question_id":49060244,"body_markdown":"First of all you need to check the real response data length in the namenode.log of the active namenode.\r\nThe message must be like :\r\n\r\n    WARN org.apache.hadoop.ipc.Server: Large response size 786010791 for call Call#3\r\n\r\nAfter you know the response data length you can change the parameter ipc.maximum.response.length accordingly to the real size.\r\n\r\nBTW the issue may be on the client side, as was in my case. So just add the parameter to the client core-site.xml or directly to the command. \r\nFor example:\r\n\r\n    hadoop distcp -D ipc.maximum.response.length=1073741824 ...","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>First of all you need to check the real response data length in the namenode.log of the active namenode.\nThe message must be like :</p>\n<pre><code>WARN org.apache.hadoop.ipc.Server: Large response size 786010791 for call Call#3\n</code></pre>\n<p>After you know the response data length you can change the parameter ipc.maximum.response.length accordingly to the real size.</p>\n<p>BTW the issue may be on the client side, as was in my case. So just add the parameter to the client core-site.xml or directly to the command.\nFor example:</p>\n<pre><code>hadoop distcp -D ipc.maximum.response.length=1073741824 ...\n</code></pre>\n"}],"owner":{"account_id":13051332,"reputation":41,"user_id":9431576,"display_name":"Curious"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15921,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1701714567,"creation_date":1519946049,"question_id":49060244,"body_markdown":"I am trying to connect to remote HDFS from Java program running in my desktop&#39;s Eclipse. I am able to connect. But get this Exception while trying to read data:\r\n\r\nCaused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data \r\n\r\nCan some one please help with this?\r\n\r\nI have a very basic code for reading test data.Error is coming from hdfs.open();\r\n     \r\n    FileSystem hdfs =null;\r\n\t\tString uriPath = &quot;hdfs://&quot; + Constants.HOST + &quot;:&quot; + Constants.PORT+ &quot;/test/hello_world.txt&quot;;\r\n\t\tString hadoopBase =&quot;hdfs://&quot; + Constants.HOST + &quot;:&quot; + Constants.PORT;\r\n\t\tConfiguration conf = new Configuration();\r\n\t\tconf.set(&quot;fs.default.name&quot;, hadoopBase);\r\n\t\tURI uri;\r\n\t\tInputStream inputStream = null;\r\n\t\ttry {\r\n\t\t\turi = new URI(uriPath);\r\n\t\t\thdfs =  FileSystem.get(uri, conf);\r\n\t\t\tPath path = new Path(uri);\r\n\t\t\tinputStream = hdfs.open(path);\r\n\t\t\tIOUtils.copyBytes(inputStream, System.out, 4096, false);\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\thdfs.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tIOUtils.closeStream(inputStream);\r\n\t\t}\r\n\r\nHere is the full Exception:\r\n\r\n    java.io.IOException: Failed on local exception: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length; \r\n\tat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:785)\r\n\tat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1485)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1427)\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1337)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227)\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\r\n\tat com.sun.proxy.$Proxy10.getBlockLocations(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:255)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:398)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:335)\r\n\tat com.sun.proxy.$Proxy11.getBlockLocations(Unknown Source)\r\n\tat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:826)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:815)\r\n\tat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:804)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.fetchLocatedBlocksAndGetLastBlockLength(DFSInputStream.java:319)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.openInfo(DFSInputStream.java:281)\r\n\tat org.apache.hadoop.hdfs.DFSInputStream.&lt;init&gt;(DFSInputStream.java:270)\r\n\tat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1115)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:325)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:321)\r\n\tat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:333)\r\n\tat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:786)\r\n\tat DataUtil.readData(DataUtil.java:29)\r\n\tat main(Main.java:24)\r\n    Caused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length\r\n\tat org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1800)\r\n\tat org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1155)\r\n\tat org.apache.hadoop.ipc.Client$Connection.run(Client.java:1052)\r\n\r\n    \r\n","title":"Exception &quot;: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length&quot; from java","body":"<p>I am trying to connect to remote HDFS from Java program running in my desktop's Eclipse. I am able to connect. But get this Exception while trying to read data:</p>\n\n<p>Caused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data </p>\n\n<p>Can some one please help with this?</p>\n\n<p>I have a very basic code for reading test data.Error is coming from hdfs.open();</p>\n\n<pre><code>FileSystem hdfs =null;\n    String uriPath = \"hdfs://\" + Constants.HOST + \":\" + Constants.PORT+ \"/test/hello_world.txt\";\n    String hadoopBase =\"hdfs://\" + Constants.HOST + \":\" + Constants.PORT;\n    Configuration conf = new Configuration();\n    conf.set(\"fs.default.name\", hadoopBase);\n    URI uri;\n    InputStream inputStream = null;\n    try {\n        uri = new URI(uriPath);\n        hdfs =  FileSystem.get(uri, conf);\n        Path path = new Path(uri);\n        inputStream = hdfs.open(path);\n        IOUtils.copyBytes(inputStream, System.out, 4096, false);\n    } catch (URISyntaxException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } finally {\n        try {\n            hdfs.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        IOUtils.closeStream(inputStream);\n    }\n</code></pre>\n\n<p>Here is the full Exception:</p>\n\n<pre><code>java.io.IOException: Failed on local exception: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length; \nat org.apache.hadoop.net.NetUtils.wrapException(NetUtils.java:785)\nat org.apache.hadoop.ipc.Client.getRpcResponse(Client.java:1485)\nat org.apache.hadoop.ipc.Client.call(Client.java:1427)\nat org.apache.hadoop.ipc.Client.call(Client.java:1337)\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227)\nat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116)\nat com.sun.proxy.$Proxy10.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.getBlockLocations(ClientNamenodeProtocolTranslatorPB.java:255)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:398)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155)\nat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95)\nat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:335)\nat com.sun.proxy.$Proxy11.getBlockLocations(Unknown Source)\nat org.apache.hadoop.hdfs.DFSClient.callGetBlockLocations(DFSClient.java:826)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:815)\nat org.apache.hadoop.hdfs.DFSClient.getLocatedBlocks(DFSClient.java:804)\nat org.apache.hadoop.hdfs.DFSInputStream.fetchLocatedBlocksAndGetLastBlockLength(DFSInputStream.java:319)\nat org.apache.hadoop.hdfs.DFSInputStream.openInfo(DFSInputStream.java:281)\nat org.apache.hadoop.hdfs.DFSInputStream.&lt;init&gt;(DFSInputStream.java:270)\nat org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:1115)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:325)\nat org.apache.hadoop.hdfs.DistributedFileSystem$4.doCall(DistributedFileSystem.java:321)\nat org.apache.hadoop.fs.FileSystemLinkResolver.resolve(FileSystemLinkResolver.java:81)\nat org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:333)\nat org.apache.hadoop.fs.FileSystem.open(FileSystem.java:786)\nat DataUtil.readData(DataUtil.java:29)\nat main(Main.java:24)\nCaused by: org.apache.hadoop.ipc.RpcException: RPC response exceeds maximum data length\nat org.apache.hadoop.ipc.Client$IpcStreams.readResponse(Client.java:1800)\nat org.apache.hadoop.ipc.Client$Connection.receiveRpcResponse(Client.java:1155)\nat org.apache.hadoop.ipc.Client$Connection.run(Client.java:1052)\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1701677193,"post_id":77597920,"comment_id":136800781,"body_markdown":"If you are using docker compose even on your local, I would define profiles for remote and local. on local only the services will be started, on remote, everything including your application will be started","body":"If you are using docker compose even on your local, I would define profiles for remote and local. on local only the services will be started, on remote, everything including your application will be started"},{"owner":{"account_id":13863020,"reputation":136993,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1701691714,"post_id":77597920,"comment_id":136803064,"body_markdown":"I&#39;d highly recommend deleting that `volumes:` block, even locally, so that you&#39;re using the jar file built into the image.  Do you have a specific programming-related question?","body":"I&#39;d highly recommend deleting that <code>volumes:</code> block, even locally, so that you&#39;re using the jar file built into the image.  Do you have a specific programming-related question?"}],"answers":[{"tags":[],"owner":{"account_id":26601862,"reputation":11,"user_id":20223386,"display_name":"Dragos Cojocaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701714506,"creation_date":1701714506,"answer_id":77601797,"question_id":77597920,"body_markdown":"Depends very much on your needs, but I think I get where you&#39;re getting to. As a best practice of **separated concerns** I see the **build** and **deploy** phase of your update broken up. As a best practice I would do something like this:\r\n1. Using the code on your repo and also the docker configurations in Dockerfile, build the final, ready-to-deploy images and push them to a private/public image repo - *if the build fails, your app will not be affected at all, as the pipeline also fails*.\r\n2. Using the orchestration you defined in docker-compose.yml (which you should copy on the target server after the build phase is successfully done), pull the new version of the images and restart the services.\r\n3. *you can use docker-compose.yml envs ${ENV} and Dockerfile build-args for differences between *environments*. \r\n\r\nFrom my experience, the majority of the problems are in the build phase and this is why I think decoupling it from the application server is the best thing you can do. Also, even if you&#39;ll never have a build problem (wich will not be the case in a real world scenario), building an app on the target server will consume resources that will slow down your application (depending on your specs).\r\n\r\n*PS: Make sure you configure your images respecting [docker security best practices][1] .*\r\n\r\nHope this was helpful, thanks!\r\n\r\n\r\n  [1]: https://snyk.io/blog/10-docker-image-security-best-practices/","title":"Docker compose and local development","body":"<p>Depends very much on your needs, but I think I get where you're getting to. As a best practice of <strong>separated concerns</strong> I see the <strong>build</strong> and <strong>deploy</strong> phase of your update broken up. As a best practice I would do something like this:</p>\n<ol>\n<li>Using the code on your repo and also the docker configurations in Dockerfile, build the final, ready-to-deploy images and push them to a private/public image repo - <em>if the build fails, your app will not be affected at all, as the pipeline also fails</em>.</li>\n<li>Using the orchestration you defined in docker-compose.yml (which you should copy on the target server after the build phase is successfully done), pull the new version of the images and restart the services.</li>\n<li>*you can use docker-compose.yml envs ${ENV} and Dockerfile build-args for differences between <em>environments</em>.</li>\n</ol>\n<p>From my experience, the majority of the problems are in the build phase and this is why I think decoupling it from the application server is the best thing you can do. Also, even if you'll never have a build problem (wich will not be the case in a real world scenario), building an app on the target server will consume resources that will slow down your application (depending on your specs).</p>\n<p><em>PS: Make sure you configure your images respecting <a href=\"https://snyk.io/blog/10-docker-image-security-best-practices/\" rel=\"nofollow noreferrer\">docker security best practices</a> .</em></p>\n<p>Hope this was helpful, thanks!</p>\n"}],"owner":{"account_id":539871,"reputation":183,"user_id":907867,"accept_rate":0,"display_name":"Bojan Kraut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701716089,"answer_count":1,"score":-2,"last_activity_date":1701714506,"creation_date":1701676564,"question_id":77597920,"body_markdown":"I&#39;m developing Java Spring Boot application and it should be dockerized. This application also needs several other services, so I use compose.yaml to define those. Let&#39;s say mysql.\r\nWhat is the best practice when deploying the solution to the remote server? In gitlab-ci I can copy compose.yaml to the remote server and start the services, but then should I copy my dockerized image to the remote server and start it? \r\nOr should my image also be defined in docker-compose file, so when I run docker-compose up everithing should work?\r\n\r\nI read that you can define your application in docker-compose like this for local development:\r\nservices:\r\n  app:\r\n    build: .\r\n    ports:\r\n      - &quot;9000:8080&quot;\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=dev\r\n    volumes:\r\n      - .:/app\r\n      - ~/.m2:/root/.m2\r\n\r\nThe question is, when I put everithing to the remote server I can not run this. It should get the last version from the local docker repository.\r\n\r\nWhat is the best practice: \r\n - To deploy all connected services with docker-compose and your application as a separate Docker image?\r\n - To include your dockerized application into a docker-compose file? And run everithing together? In this case, what is with local development?\r\n\r\nThanks in advance for your answers.\r\nBojan","title":"Docker compose and local development","body":"<p>I'm developing Java Spring Boot application and it should be dockerized. This application also needs several other services, so I use compose.yaml to define those. Let's say mysql.\nWhat is the best practice when deploying the solution to the remote server? In gitlab-ci I can copy compose.yaml to the remote server and start the services, but then should I copy my dockerized image to the remote server and start it?\nOr should my image also be defined in docker-compose file, so when I run docker-compose up everithing should work?</p>\n<p>I read that you can define your application in docker-compose like this for local development:\nservices:\napp:\nbuild: .\nports:\n- &quot;9000:8080&quot;\nenvironment:\n- SPRING_PROFILES_ACTIVE=dev\nvolumes:\n- .:/app\n- ~/.m2:/root/.m2</p>\n<p>The question is, when I put everithing to the remote server I can not run this. It should get the last version from the local docker repository.</p>\n<p>What is the best practice:</p>\n<ul>\n<li>To deploy all connected services with docker-compose and your application as a separate Docker image?</li>\n<li>To include your dockerized application into a docker-compose file? And run everithing together? In this case, what is with local development?</li>\n</ul>\n<p>Thanks in advance for your answers.\nBojan</p>\n"},{"tags":["java","user-interface","jframe","jpanel","jlabel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701720914,"post_id":77601791,"comment_id":136808607,"body_markdown":"1) *all throwing errors.* - and the error are? 2) Don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout managers. 3) Method names should NOT start with an upper case character. Learn and follow Java naming conventions. 4) Post a [mre] that demonstrates the problem. We should be able to copy/paste/compile/test to see the described behaviour.","body":"1) <i>all throwing errors.</i> - and the error are? 2) Don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout managers. 3) Method names should NOT start with an upper case character. Learn and follow Java naming conventions. 4) Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem. We should be able to copy/paste/compile/test to see the described behaviour."}],"owner":{"account_id":19093882,"reputation":1,"user_id":13943600,"display_name":"McBoomer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701714413,"creation_date":1701714413,"question_id":77601791,"body_markdown":"This program takes user input for courses and outputs the best possible course that they should research for their post-secondary options. The issue is basically when I Fill in this information in the surveyFrame which is functional I know that,\r\nProgram name: Actuarial Science\r\nInstitution: University of Waterloo\r\nFaculty: Faculty of Math\r\nProgram Duration (years): 4\r\nGuidline: 88\r\nTuition Fee ($): 123456\r\n\r\nThen a new frame should open with three panels that show each course that is related to their input.\r\n\r\nAll I need help with is that the panels don&#39;t show up and the contentPanel Panel objects are all throwing errors.\r\n\r\n\r\n```\r\n/* Note: https://stackoverflow.com/questions/27209669/getting-paintcomponent-\r\n * elements-of-a-jpanel-to-work-with-another-jpanel-inside-o: used from line 48 to 50\r\n */\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.Box;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.ImageIcon;\r\n\r\npublic class ResultJFrame extends JFrame implements ActionListener {\r\n\tJButton backButton;\r\n\tJPanel buttonPanel;\r\n\tJLabel header;\r\n\tJPanel headerPanel;\r\n\tJPanel tempPanel;\r\n\tJLabel options;\r\n\tJPanel optionsPanel;\r\n\tBox optionsBox1;\r\n\tJPanel contentPanel;\r\n\tBufferedImage img;\r\n\t\r\n\tResultJFrame() {\r\n\t\tsetTitle(&quot;Results&quot;);\r\n\t\tsetSize(1000, 625);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tsetResizable(false);\r\n\t\t\r\n\t\ttry {\r\n\t\t\timg = ImageIO.read(new File(&quot;images/background.png&quot;));\r\n\r\n\t\t\tcontentPanel = new JPanel(new BorderLayout()) {\r\n\t\t\t\tpublic void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    g.drawImage(img, 0, 0, getWidth(), getHeight(), this);\r\n                }\r\n            };\r\n\t\t\t\r\n            header = new JLabel(&quot;Recommended Programs&quot;);\r\n            header.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n            header.setForeground(Color.WHITE);\r\n\r\n            headerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            headerPanel.setOpaque(false);\r\n            headerPanel.add(header);\r\n            contentPanel.add(headerPanel, BorderLayout.NORTH);\r\n\r\n            tempPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            options = new JLabel(&quot;Option 1                        Option 2&quot; +\r\n                    &quot;                        Option 3&quot;);\r\n            options.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n            options.setForeground(Color.WHITE);\r\n            tempPanel.add(options);\r\n            tempPanel.setOpaque(false);\r\n            tempPanel.setBounds(-15, 60, 1000, 200);\r\n            contentPanel.add(tempPanel);\r\n            \r\n            optionsBox1 = Box.createVerticalBox();\r\n            optionsBox1.add(Box.createVerticalStrut(10));\r\n\r\n            optionsPanel = new JPanel();\r\n            optionsPanel.setOpaque(false);\r\n            optionsPanel.add(optionsBox1);\r\n            contentPanel.add(optionsPanel, BorderLayout.CENTER);\r\n\r\n            backButton = new JButton(&quot;Go Back&quot;);\r\n            backButton.setForeground(Color.WHITE);\r\n            backButton.setBackground(new Color(0, 21, 79));\r\n            backButton.setFocusable(false);\r\n            backButton.addActionListener(this);\r\n            backButton.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\r\n\r\n            buttonPanel = new JPanel();\r\n            buttonPanel.setLayout(null);\r\n            backButton.setBounds(397, 460, 180, 60);\r\n            backButton.setBackground(new Color(0, 21, 79));\r\n            buttonPanel.setOpaque(false);\r\n            buttonPanel.add(backButton);\r\n            contentPanel.add(buttonPanel);\r\n\r\n            setContentPane(contentPanel);\r\n            \r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void Actuarial(int option) {\r\n\t\tJPanel options = new JPanel();\r\n\t\toptions.setBounds(10, 10, 100, 100);\r\n\t\toptions.setBackground(Color.RED);\r\n\t\tadd(options);\r\n\t\t\r\n\t\tJPanel backPlate1 = new JPanel();\r\n\t    backPlate1.setLayout(null);\r\n\t    backPlate1.setBounds(74, 120, 200, 370);\r\n\t    backPlate1.setBackground(new Color(1, 28, 102));\r\n\t\tbackPlate1.setPreferredSize(new Dimension(200, 350));\r\n\t\tcontentPanel.add(backPlate1);\r\n\t    backPlate1.setVisible(true);\r\n\t\t    \t\t    \r\n\t    JPanel backPlate2 = new JPanel();\r\n\t    backPlate2.setLayout(null);\r\n\t    backPlate2.setBounds(387, 120, 200, 370);\r\n\t    backPlate2.setBackground(new Color(1, 28, 102));\r\n\t    backPlate2.setPreferredSize(new Dimension(200, 350));\r\n\t    contentPanel.add(backPlate2);\r\n\t    backPlate2.setVisible(true);\r\n\t          \r\n\t    JPanel backPlate3 = new JPanel();\r\n\t    backPlate3.setLayout(null);\r\n\t    backPlate3.setBounds(697, 120, 200, 370);\r\n\t    backPlate3.setBackground(new Color(1, 28, 102));\r\n\t    backPlate3.setPreferredSize(new Dimension(200, 350));\r\n\t    contentPanel.add(backPlate3);\r\n\t    backPlate3.setVisible(true);\r\n\t        \r\n\t    contentPanel.add(backPlate1);\r\n\t    contentPanel.add(backPlate2);\r\n\t    contentPanel.add(backPlate3);\r\n\t}\r\n\t\r\n\tpublic void actionPerformed(ActionEvent event) {\r\n\t\tif (event.getSource() == backButton) {\r\n\t\t\tthis.dispose();\r\n\t\t\tTitleFrame titleFrame = new TitleFrame();\r\n\t\t\ttitleFrame.getClass();\r\n\t\t\t//go back to title frame\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void ComputationalMathematics(int i) {\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nExpecting 3 panels with the courses.","title":"ContentPanel issue, The content panel is not showing up on the second window when I enter the information","body":"<p>This program takes user input for courses and outputs the best possible course that they should research for their post-secondary options. The issue is basically when I Fill in this information in the surveyFrame which is functional I know that,\nProgram name: Actuarial Science\nInstitution: University of Waterloo\nFaculty: Faculty of Math\nProgram Duration (years): 4\nGuidline: 88\nTuition Fee ($): 123456</p>\n<p>Then a new frame should open with three panels that show each course that is related to their input.</p>\n<p>All I need help with is that the panels don't show up and the contentPanel Panel objects are all throwing errors.</p>\n<pre><code>/* Note: https://stackoverflow.com/questions/27209669/getting-paintcomponent-\n * elements-of-a-jpanel-to-work-with-another-jpanel-inside-o: used from line 48 to 50\n */\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.Box;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.ImageIcon;\n\npublic class ResultJFrame extends JFrame implements ActionListener {\n    JButton backButton;\n    JPanel buttonPanel;\n    JLabel header;\n    JPanel headerPanel;\n    JPanel tempPanel;\n    JLabel options;\n    JPanel optionsPanel;\n    Box optionsBox1;\n    JPanel contentPanel;\n    BufferedImage img;\n    \n    ResultJFrame() {\n        setTitle(&quot;Results&quot;);\n        setSize(1000, 625);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setResizable(false);\n        \n        try {\n            img = ImageIO.read(new File(&quot;images/background.png&quot;));\n\n            contentPanel = new JPanel(new BorderLayout()) {\n                public void paintComponent(Graphics g) {\n                    super.paintComponent(g);\n                    g.drawImage(img, 0, 0, getWidth(), getHeight(), this);\n                }\n            };\n            \n            header = new JLabel(&quot;Recommended Programs&quot;);\n            header.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n            header.setForeground(Color.WHITE);\n\n            headerPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            headerPanel.setOpaque(false);\n            headerPanel.add(header);\n            contentPanel.add(headerPanel, BorderLayout.NORTH);\n\n            tempPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            options = new JLabel(&quot;Option 1                        Option 2&quot; +\n                    &quot;                        Option 3&quot;);\n            options.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n            options.setForeground(Color.WHITE);\n            tempPanel.add(options);\n            tempPanel.setOpaque(false);\n            tempPanel.setBounds(-15, 60, 1000, 200);\n            contentPanel.add(tempPanel);\n            \n            optionsBox1 = Box.createVerticalBox();\n            optionsBox1.add(Box.createVerticalStrut(10));\n\n            optionsPanel = new JPanel();\n            optionsPanel.setOpaque(false);\n            optionsPanel.add(optionsBox1);\n            contentPanel.add(optionsPanel, BorderLayout.CENTER);\n\n            backButton = new JButton(&quot;Go Back&quot;);\n            backButton.setForeground(Color.WHITE);\n            backButton.setBackground(new Color(0, 21, 79));\n            backButton.setFocusable(false);\n            backButton.addActionListener(this);\n            backButton.setFont(new Font(&quot;Canva Sans&quot;, Font.BOLD, 30));\n\n            buttonPanel = new JPanel();\n            buttonPanel.setLayout(null);\n            backButton.setBounds(397, 460, 180, 60);\n            backButton.setBackground(new Color(0, 21, 79));\n            buttonPanel.setOpaque(false);\n            buttonPanel.add(backButton);\n            contentPanel.add(buttonPanel);\n\n            setContentPane(contentPanel);\n            \n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void Actuarial(int option) {\n        JPanel options = new JPanel();\n        options.setBounds(10, 10, 100, 100);\n        options.setBackground(Color.RED);\n        add(options);\n        \n        JPanel backPlate1 = new JPanel();\n        backPlate1.setLayout(null);\n        backPlate1.setBounds(74, 120, 200, 370);\n        backPlate1.setBackground(new Color(1, 28, 102));\n        backPlate1.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate1);\n        backPlate1.setVisible(true);\n                        \n        JPanel backPlate2 = new JPanel();\n        backPlate2.setLayout(null);\n        backPlate2.setBounds(387, 120, 200, 370);\n        backPlate2.setBackground(new Color(1, 28, 102));\n        backPlate2.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate2);\n        backPlate2.setVisible(true);\n              \n        JPanel backPlate3 = new JPanel();\n        backPlate3.setLayout(null);\n        backPlate3.setBounds(697, 120, 200, 370);\n        backPlate3.setBackground(new Color(1, 28, 102));\n        backPlate3.setPreferredSize(new Dimension(200, 350));\n        contentPanel.add(backPlate3);\n        backPlate3.setVisible(true);\n            \n        contentPanel.add(backPlate1);\n        contentPanel.add(backPlate2);\n        contentPanel.add(backPlate3);\n    }\n    \n    public void actionPerformed(ActionEvent event) {\n        if (event.getSource() == backButton) {\n            this.dispose();\n            TitleFrame titleFrame = new TitleFrame();\n            titleFrame.getClass();\n            //go back to title frame\n        }\n    }\n\n    public static void ComputationalMathematics(int i) {\n        \n    }\n}\n\n</code></pre>\n<p>Expecting 3 panels with the courses.</p>\n"},{"tags":["java","amazon-web-services","aws-app-config"],"owner":{"account_id":4602146,"reputation":123,"user_id":3732554,"accept_rate":25,"display_name":"SVG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701713872,"creation_date":1701713872,"question_id":77601747,"body_markdown":"I am trying to fetch values from AppConfig Feature Flags by following the steps mentioned at https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples\r\n\r\nCurrent functional code is as follows:\r\n\r\n    StartConfigurationSessionRequest session = new StartConfigurationSessionRequest()\r\n                    .withApplicationIdentifier(application)\r\n                    .withEnvironmentIdentifier(environment)\r\n                    .withConfigurationProfileIdentifier(configuration)\r\n                    .withRequiredMinimumPollIntervalInSeconds(15);\r\n            String token = appDataConfigClient.startConfigurationSession(session).getInitialConfigurationToken();\r\n            StartConfigurationSessionResult sessionResult = appDataConfigClient.startConfigurationSession(session).withInitialConfigurationToken(token);\r\n    \r\n    \r\n            GetLatestConfigurationRequest getLatestConfigurationRequest = new GetLatestConfigurationRequest().withConfigurationToken(sessionResult.getInitialConfigurationToken());\r\n            GetLatestConfigurationResult getLatestConfigurationResult = appDataConfigClient.getLatestConfiguration(getLatestConfigurationRequest);\r\n            ByteBuffer configurationValue = getLatestConfigurationResult.getConfiguration();\r\n    \r\n            String converted = new String(configurationValue.array(), &quot;UTF-8&quot;);\r\n\r\nHowever, I am just receiving the list of values from the Feature Flags and not the list of keys associated with them. Is there a way to fetch the list of Feature Flags? The getConfiguration method in AppConfig SDK seems to be deprecated. \r\n","title":"AWS Java SDK V2: Fetch list of Feature Flags including key and value","body":"<p>I am trying to fetch values from AppConfig Feature Flags by following the steps mentioned at <a href=\"https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/appconfig/2019-10-09/APIReference/API_appconfigdata_GetLatestConfiguration.html#API_appconfigdata_GetLatestConfiguration_Examples</a></p>\n<p>Current functional code is as follows:</p>\n<pre><code>StartConfigurationSessionRequest session = new StartConfigurationSessionRequest()\n                .withApplicationIdentifier(application)\n                .withEnvironmentIdentifier(environment)\n                .withConfigurationProfileIdentifier(configuration)\n                .withRequiredMinimumPollIntervalInSeconds(15);\n        String token = appDataConfigClient.startConfigurationSession(session).getInitialConfigurationToken();\n        StartConfigurationSessionResult sessionResult = appDataConfigClient.startConfigurationSession(session).withInitialConfigurationToken(token);\n\n\n        GetLatestConfigurationRequest getLatestConfigurationRequest = new GetLatestConfigurationRequest().withConfigurationToken(sessionResult.getInitialConfigurationToken());\n        GetLatestConfigurationResult getLatestConfigurationResult = appDataConfigClient.getLatestConfiguration(getLatestConfigurationRequest);\n        ByteBuffer configurationValue = getLatestConfigurationResult.getConfiguration();\n\n        String converted = new String(configurationValue.array(), &quot;UTF-8&quot;);\n</code></pre>\n<p>However, I am just receiving the list of values from the Feature Flags and not the list of keys associated with them. Is there a way to fetch the list of Feature Flags? The getConfiguration method in AppConfig SDK seems to be deprecated.</p>\n"},{"tags":["java","spring","java-8"],"comments":[{"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"score":2,"creation_date":1526043539,"post_id":50292660,"comment_id":87602011,"body_markdown":"Did you try [Spring Expression Language](https://docs.spring.io/spring/docs/5.0.6.RELEASE/spring-framework-reference/core.html#expressions-beandef) ??","body":"Did you try <a href=\"https://docs.spring.io/spring/docs/5.0.6.RELEASE/spring-framework-reference/core.html#expressions-beandef\" rel=\"nofollow noreferrer\">Spring Expression Language</a> ??"},{"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"score":0,"creation_date":1526043587,"post_id":50292660,"comment_id":87602043,"body_markdown":"It&#180;s also in Spring 4.15? Regards.","body":"It&#180;s also in Spring 4.15? Regards."},{"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"score":0,"creation_date":1526043703,"post_id":50292660,"comment_id":87602111,"body_markdown":"As i remember it supporting from 3 version til now","body":"As i remember it supporting from 3 version til now"}],"answers":[{"tags":[],"owner":{"account_id":6951350,"reputation":1730,"user_id":5333879,"display_name":"borino"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1526044154,"creation_date":1526044154,"answer_id":50293074,"question_id":50292660,"body_markdown":"For simple date try to use SpEL\r\ninstead of `{timestamp}`  -&gt; `#{new java.util.Date().toString()}`","title":"Use timestamp in Spring configuration","body":"<p>For simple date try to use SpEL\ninstead of <code>{timestamp}</code>  -> <code>#{new java.util.Date().toString()}</code></p>\n"},{"tags":[],"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526045354,"creation_date":1526045354,"answer_id":50293438,"question_id":50292660,"body_markdown":"Below class has a method returning the current timestamp It&#39;ll be executed to get the current timestamp.\r\n\r\n    public class CurrTime {\r\n\r\n        public long getCurrTimestamp() {\r\n            return System.currentTimeMillis();\r\n        }\r\n\r\n    }\r\n\r\n\r\nIn `xml` file create a bean of above class\r\n\r\n    &lt;bean id=&quot;currTime&quot; class=&quot;path.to.CurrTime&quot;&gt;&lt;/bean&gt;\r\n\r\nand then the current timestamp can be accessed as,\r\n\r\n    #{currTime.getCurrTimestamp()}","title":"Use timestamp in Spring configuration","body":"<p>Below class has a method returning the current timestamp It'll be executed to get the current timestamp.</p>\n\n<pre><code>public class CurrTime {\n\n    public long getCurrTimestamp() {\n        return System.currentTimeMillis();\n    }\n\n}\n</code></pre>\n\n<p>In <code>xml</code> file create a bean of above class</p>\n\n<pre><code>&lt;bean id=\"currTime\" class=\"path.to.CurrTime\"&gt;&lt;/bean&gt;\n</code></pre>\n\n<p>and then the current timestamp can be accessed as,</p>\n\n<pre><code>#{currTime.getCurrTimestamp()}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22112480,"reputation":21,"user_id":16367155,"display_name":"Rahul Sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685007198,"creation_date":1685007198,"answer_id":76330817,"question_id":50292660,"body_markdown":"#{T(java.lang.System).currentTimeMillis()}","title":"Use timestamp in Spring configuration","body":"<p>#{T(java.lang.System).currentTimeMillis()}</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50293074,"answer_count":3,"score":0,"last_activity_date":1701713852,"creation_date":1526042684,"question_id":50292660,"body_markdown":"In Spring configuration can we have a timestamp or uuid to be dynamic value when we start the service?\r\n\r\n    &lt;bean id=&quot;atomikosUserTransactionService&quot; class=&quot;com.atomikos.icatch.config.UserTransactionServiceImp&quot;\r\n              init-method=&quot;init&quot; destroy-method=&quot;shutdownForce&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;props&gt;\r\n                    &lt;prop key=&quot;com.atomikos.icatch.output_dir&quot;&gt;{timestamp}/log/&lt;/prop&gt;\r\n                    &lt;prop key=&quot;com.atomikos.icatch.log_base_dir&quot;&gt;{timestamp}/log/&lt;/prop&gt;\r\n                    &lt;!--&lt;prop key=&quot;com.atomikos.icatch.max_actives&quot;&gt;1000&lt;/prop&gt;--&gt;\r\n                &lt;/props&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n\r\nI would like to put the folder directory with timestamp every time we run the application.\r\n\r\nI&#180;m using Spring 4.15 and I cannot upgrade for now.\r\n\r\nRegards.","title":"Use timestamp in Spring configuration","body":"<p>In Spring configuration can we have a timestamp or uuid to be dynamic value when we start the service?</p>\n\n<pre><code>&lt;bean id=\"atomikosUserTransactionService\" class=\"com.atomikos.icatch.config.UserTransactionServiceImp\"\n          init-method=\"init\" destroy-method=\"shutdownForce\"&gt;\n        &lt;constructor-arg&gt;\n            &lt;props&gt;\n                &lt;prop key=\"com.atomikos.icatch.output_dir\"&gt;{timestamp}/log/&lt;/prop&gt;\n                &lt;prop key=\"com.atomikos.icatch.log_base_dir\"&gt;{timestamp}/log/&lt;/prop&gt;\n                &lt;!--&lt;prop key=\"com.atomikos.icatch.max_actives\"&gt;1000&lt;/prop&gt;--&gt;\n            &lt;/props&gt;\n        &lt;/constructor-arg&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>I would like to put the folder directory with timestamp every time we run the application.</p>\n\n<p>I´m using Spring 4.15 and I cannot upgrade for now.</p>\n\n<p>Regards.</p>\n"},{"tags":["java","android-studio","samsung-galaxy"],"answers":[{"tags":[],"owner":{"account_id":9865628,"reputation":199,"user_id":7307194,"display_name":"Simon Giesen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701713849,"creation_date":1701713849,"answer_id":77601742,"question_id":77600431,"body_markdown":"It turns out that you have to assign a font colour to the text in the text view. If the device is in dark mode, the text won’t be shown.","title":"Rendering Problem on Samsung Devices with Android 14 and One UI 6","body":"<p>It turns out that you have to assign a font colour to the text in the text view. If the device is in dark mode, the text won’t be shown.</p>\n"}],"owner":{"account_id":9865628,"reputation":199,"user_id":7307194,"display_name":"Simon Giesen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701713849,"creation_date":1701701900,"question_id":77600431,"body_markdown":"I am puzzled. I have done this layout in Android Studio. It is rendering fine on all devices except Samsung with Android 14 and One UI 6. Can you spot any problems in this XML causing the Text View to disappear on Samsung Devices?\r\n\r\nI have verified the XML on Sony Xperia 1 family mobiles and on Pixel 7 Pro Devices.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/background&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_marginTop=&quot;0dp&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;430dp&quot;\r\n            android:layout_height=&quot;253dp&quot;\r\n            android:background=&quot;@drawable/background_portrait&quot;\r\n            tools:layout_editor_absoluteX=&quot;0dp&quot;\r\n            tools:layout_editor_absoluteY=&quot;0dp&quot;&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;com.mikhaellopez.circularimageview.CircularImageView\r\n            android:id=&quot;@+id/circularImageView&quot;\r\n            android:layout_width=&quot;150dp&quot;\r\n            android:layout_height=&quot;150dp&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:layout_marginTop=&quot;200dp&quot;\r\n            android:src=&quot;@drawable/stradislogo&quot;\r\n            app:civ_border_color=&quot;@color/semiTransparentWhite&quot;\r\n            app:civ_border_width=&quot;10dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;168dp&quot;\r\n            android:layout_marginTop=&quot;260dp&quot;\r\n            android:fontFamily=&quot;sans-serif-light&quot;\r\n            android:text=&quot;Anfahrt&quot;\r\n            android:textColor=&quot;@android:color/black&quot;\r\n            android:textSize=&quot;30sp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;159dp&quot;\r\n            android:layout_height=&quot;44dp&quot;\r\n            android:layout_marginStart=&quot;168dp&quot;\r\n            android:layout_marginTop=&quot;300dp&quot;\r\n            android:fontFamily=&quot;sans-serif-light&quot;\r\n            android:text=&quot;Plasmaspende-Zentrum in Egelsbach&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginTop=&quot;351dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;com.google.android.material.button.MaterialButton\r\n                    android:id=&quot;@+id/routenplanung&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;16dp&quot;\r\n                    android:layout_marginEnd=&quot;10dp&quot;\r\n                    android:layout_marginBottom=&quot;10dp&quot;\r\n                    android:backgroundTint=&quot;@color/colorAccent&quot;\r\n                    android:text=&quot;Routenplanung&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    app:cornerRadius=&quot;20dp&quot; /&gt;\r\n\r\n                &lt;!-- Map View --&gt;\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView6&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginEnd=&quot;10dp&quot;\r\n                    android:text=&quot;@string/stradis_med_gmbh_anfahrt&quot; /&gt;\r\n\r\n                &lt;fragment\r\n                    android:id=&quot;@+id/mapFragment&quot;\r\n                    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;200dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\n        &lt;/ScrollView&gt;\r\n\r\n\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Rendering Problem on Samsung Devices with Android 14 and One UI 6","body":"<p>I am puzzled. I have done this layout in Android Studio. It is rendering fine on all devices except Samsung with Android 14 and One UI 6. Can you spot any problems in this XML causing the Text View to disappear on Samsung Devices?</p>\n<p>I have verified the XML on Sony Xperia 1 family mobiles and on Pixel 7 Pro Devices.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/background\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginTop=\"0dp\"&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"430dp\"\n        android:layout_height=\"253dp\"\n        android:background=\"@drawable/background_portrait\"\n        tools:layout_editor_absoluteX=\"0dp\"\n        tools:layout_editor_absoluteY=\"0dp\"&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;com.mikhaellopez.circularimageview.CircularImageView\n        android:id=\"@+id/circularImageView\"\n        android:layout_width=\"150dp\"\n        android:layout_height=\"150dp\"\n        android:layout_marginStart=\"16dp\"\n        android:layout_marginTop=\"200dp\"\n        android:src=\"@drawable/stradislogo\"\n        app:civ_border_color=\"@color/semiTransparentWhite\"\n        app:civ_border_width=\"10dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"168dp\"\n        android:layout_marginTop=\"260dp\"\n        android:fontFamily=\"sans-serif-light\"\n        android:text=\"Anfahrt\"\n        android:textColor=\"@android:color/black\"\n        android:textSize=\"30sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;TextView\n        android:layout_width=\"159dp\"\n        android:layout_height=\"44dp\"\n        android:layout_marginStart=\"168dp\"\n        android:layout_marginTop=\"300dp\"\n        android:fontFamily=\"sans-serif-light\"\n        android:text=\"Plasmaspende-Zentrum in Egelsbach\"\n        android:textSize=\"14sp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginTop=\"351dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=\"@+id/routenplanung\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginStart=\"16dp\"\n                android:layout_marginEnd=\"10dp\"\n                android:layout_marginBottom=\"10dp\"\n                android:backgroundTint=\"@color/colorAccent\"\n                android:text=\"Routenplanung\"\n                android:textColor=\"@color/white\"\n                app:cornerRadius=\"20dp\" /&gt;\n\n            &lt;!-- Map View --&gt;\n            &lt;TextView\n                android:id=\"@+id/textView6\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginEnd=\"10dp\"\n                android:text=\"@string/stradis_med_gmbh_anfahrt\" /&gt;\n\n            &lt;fragment\n                android:id=\"@+id/mapFragment\"\n                android:name=\"com.google.android.gms.maps.SupportMapFragment\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"200dp\"\n                android:layout_marginTop=\"16dp\" /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/ScrollView&gt;\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","caching","weak-references"],"comments":[{"owner":{"account_id":316665,"reputation":86991,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1505711324,"post_id":1802809,"comment_id":79506232,"body_markdown":"Java API is full of weird quirks. You can always rewrite WeakHashMap using WeakReference.","body":"Java API is full of weird quirks. You can always rewrite WeakHashMap using WeakReference."}],"answers":[{"tags":[],"owner":{"account_id":9269,"reputation":37307,"user_id":17041,"display_name":"Cowan"},"down_vote_count":0,"up_vote_count":127,"is_accepted":true,"score":127,"last_activity_date":1701713605,"creation_date":1259231548,"answer_id":1802879,"question_id":1802809,"body_markdown":"WeakHashMap _isn&#39;t_ useful as a cache, at least the way most people think of it. As you say, it uses weak _keys_, not weak _values_, so it&#39;s not designed for what most people want to use it for (and, in fact, I&#39;ve _seen_ people use it for, incorrectly).\r\n\r\nWeakHashMap is mostly useful to keep metadata about objects whose lifecycle you don&#39;t control. For example, if you have a bunch of objects passing through your class, and you want to keep track of extra data about them without needing to be notified when they go out of scope, and without your reference to them keeping them alive.\r\n\r\nA simple example (and one I&#39;ve used before) might be something like:\r\n    \r\n    WeakHashMap&lt;Thread, SomeMetaData&gt;\r\n\r\nwhere you might keep track of what various threads in your system are doing; when the thread dies, the entry will be removed silently from your map, and you won&#39;t keep the Thread from being garbage collected if you&#39;re the last reference to it. You can then iterate over the entries in that map to find out what metadata you have about active threads in your system.\r\n\r\nSee [WeakHashMap in not a cache!][1] for more information.\r\n\r\nFor the type of cache you&#39;re after, either use a dedicated cache system (e.g. [EHCache][2]) or look at [Guava][3]&#39;s [MapMaker class][4]; something like\r\n\r\n    new MapMaker().weakValues().makeMap();\r\n\r\nwill do what you&#39;re after, or if you want to get fancy you can add timed expiration:\r\n\r\n    new MapMaker().weakValues().expiration(5, TimeUnit.MINUTES).makeMap();\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150403082405/http://www.codeinstructions.com/2008/09/weakhashmap-is-not-cache-understanding.html\r\n  [2]: http://ehcache.org/\r\n  [3]: https://guava.dev/\r\n  [4]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/MapMaker.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>WeakHashMap <em>isn't</em> useful as a cache, at least the way most people think of it. As you say, it uses weak <em>keys</em>, not weak <em>values</em>, so it's not designed for what most people want to use it for (and, in fact, I've <em>seen</em> people use it for, incorrectly).</p>\n<p>WeakHashMap is mostly useful to keep metadata about objects whose lifecycle you don't control. For example, if you have a bunch of objects passing through your class, and you want to keep track of extra data about them without needing to be notified when they go out of scope, and without your reference to them keeping them alive.</p>\n<p>A simple example (and one I've used before) might be something like:</p>\n<pre><code>WeakHashMap&lt;Thread, SomeMetaData&gt;\n</code></pre>\n<p>where you might keep track of what various threads in your system are doing; when the thread dies, the entry will be removed silently from your map, and you won't keep the Thread from being garbage collected if you're the last reference to it. You can then iterate over the entries in that map to find out what metadata you have about active threads in your system.</p>\n<p>See <a href=\"https://web.archive.org/web/20150403082405/http://www.codeinstructions.com/2008/09/weakhashmap-is-not-cache-understanding.html\" rel=\"nofollow noreferrer\">WeakHashMap in not a cache!</a> for more information.</p>\n<p>For the type of cache you're after, either use a dedicated cache system (e.g. <a href=\"http://ehcache.org/\" rel=\"nofollow noreferrer\">EHCache</a>) or look at <a href=\"https://guava.dev/\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/MapMaker.html\" rel=\"nofollow noreferrer\">MapMaker class</a>; something like</p>\n<pre><code>new MapMaker().weakValues().makeMap();\n</code></pre>\n<p>will do what you're after, or if you want to get fancy you can add timed expiration:</p>\n<pre><code>new MapMaker().weakValues().expiration(5, TimeUnit.MINUTES).makeMap();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60641,"reputation":25396,"user_id":181106,"accept_rate":81,"display_name":"uckelman"},"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1531153077,"creation_date":1259235800,"answer_id":1803213,"question_id":1802809,"body_markdown":"The main use for `WeakHashMap` is when you have mappings which you want to disappear when their keys disappear. A cache is the reverse---you have mappings which you want to disappear when their values disappear.\r\n\r\nFor a cache, what you want is a `Map&lt;K,SoftReference&lt;V&gt;&gt;`. A &lt;a href=&quot;http://java.sun.com/javase/6/docs/api/java/lang/ref/SoftReference.html&quot;&gt;`SoftReference`&lt;/a&gt; will be garbage-collected when memory gets tight. (Contrast this with a `WeakReference`, which may be cleared as soon as there is no longer a hard reference to its referent.) You want your references to be soft in a cache (at least in one where key-value mappings don&#39;t go stale), since then there is a chance that your values will still be in the cache if you look for them later. If the references were weak instead, your values would be gc&#39;d right away, defeating the purpose of caching.\r\n\r\nFor convenience, you might want to hide the `SoftReference` values inside your `Map` implementation, so that your cache appears to be of type `&lt;K,V&gt;` instead of `&lt;K,SoftReference&lt;V&gt;&gt;`. If you want to do that, &lt;a href=&quot;https://stackoverflow.com/questions/264582/is-there-a-softhashmap-in-java&quot;&gt;this question&lt;/a&gt; has suggestions for implementations available on the net.\r\n\r\nNote also that when you use `SoftReference` values in a `Map`, you _must_ do something to manually remove key-value pairs which have had their `SoftReferences` cleared---otherwise your `Map` will only grow in size forever, and leak memory.","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>The main use for <code>WeakHashMap</code> is when you have mappings which you want to disappear when their keys disappear. A cache is the reverse---you have mappings which you want to disappear when their values disappear.</p>\n\n<p>For a cache, what you want is a <code>Map&lt;K,SoftReference&lt;V&gt;&gt;</code>. A <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ref/SoftReference.html\" rel=\"noreferrer\"><code>SoftReference</code></a> will be garbage-collected when memory gets tight. (Contrast this with a <code>WeakReference</code>, which may be cleared as soon as there is no longer a hard reference to its referent.) You want your references to be soft in a cache (at least in one where key-value mappings don't go stale), since then there is a chance that your values will still be in the cache if you look for them later. If the references were weak instead, your values would be gc'd right away, defeating the purpose of caching.</p>\n\n<p>For convenience, you might want to hide the <code>SoftReference</code> values inside your <code>Map</code> implementation, so that your cache appears to be of type <code>&lt;K,V&gt;</code> instead of <code>&lt;K,SoftReference&lt;V&gt;&gt;</code>. If you want to do that, <a href=\"https://stackoverflow.com/questions/264582/is-there-a-softhashmap-in-java\">this question</a> has suggestions for implementations available on the net.</p>\n\n<p>Note also that when you use <code>SoftReference</code> values in a <code>Map</code>, you <em>must</em> do something to manually remove key-value pairs which have had their <code>SoftReferences</code> cleared---otherwise your <code>Map</code> will only grow in size forever, and leak memory.</p>\n"},{"tags":[],"owner":{"account_id":297150,"reputation":1073,"user_id":602506,"accept_rate":40,"display_name":"Shannon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1308598556,"creation_date":1308598556,"answer_id":6416461,"question_id":1802809,"body_markdown":"Another thing to consider is that if you take the `Map&lt;K, WeakReference&lt;V&gt;&gt;` approach, the value may disappear, but the mapping will not. Depending on usage, you may as a result end up with a Map containing many entries whose Weak References have been GC&#39;d.","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>Another thing to consider is that if you take the <code>Map&lt;K, WeakReference&lt;V&gt;&gt;</code> approach, the value may disappear, but the mapping will not. Depending on usage, you may as a result end up with a Map containing many entries whose Weak References have been GC'd.</p>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1505713477,"creation_date":1370631763,"answer_id":16991188,"question_id":1802809,"body_markdown":"You need two maps: one which maps between the cache key and [weak referenced][1] values and one in the opposite direction mapping between the weak referenced values and the keys. And you need a [reference queue][2] and a cleanup thread.\r\n\r\nWeak references have the ability to move the reference into a queue when the referenced object can not accessed any longer.  This queue has to be drained by a cleanup thread.  **And for the cleanup it is necessary to get the key for a reference.**  This is the reason why the second map is required.\r\n\r\nThe following example shows how to create a cache with a hash map of weak references. When you run the program you get the following output:\r\n\r\n&lt;pre&gt;\r\n$ javac -Xlint:unchecked Cache.java &amp;&amp; java Cache\r\n{even: [2, 4, 6], odd: [1, 3, 5]}\r\n{even: [2, 4, 6]}\r\n&lt;/pre&gt;\r\n\r\nThe first line shows the contents of the cache before the reference to the odd list has been deleted and the second line after the odds have been deleted.\r\n\r\nThis is the code:\r\n\r\n    import java.lang.ref.Reference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.lang.ref.WeakReference;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    class Cache&lt;K,V&gt;\r\n    {\r\n        ReferenceQueue&lt;V&gt; queue = null;\r\n        Map&lt;K,WeakReference&lt;V&gt;&gt; values = null;\r\n        Map&lt;WeakReference&lt;V&gt;,K&gt; keys = null;\r\n        Thread cleanup = null;\r\n    \r\n        Cache ()\r\n        {\r\n            queue  = new ReferenceQueue&lt;V&gt;();\r\n            keys   = Collections.synchronizedMap (new HashMap&lt;WeakReference&lt;V&gt;,K&gt;());\r\n            values = Collections.synchronizedMap (new HashMap&lt;K,WeakReference&lt;V&gt;&gt;());\r\n            cleanup = new Thread() {\r\n                    public void run() {\r\n                        try {\r\n                            for (;;) {\r\n                                @SuppressWarnings(&quot;unchecked&quot;)\r\n                                WeakReference&lt;V&gt; ref = (WeakReference&lt;V&gt;)queue.remove();\r\n                                K key = keys.get(ref);\r\n                                keys.remove(ref);\r\n                                values.remove(key);\r\n                            }\r\n                        }\r\n                        catch (InterruptedException e) {}\r\n                    }\r\n                };\r\n            cleanup.setDaemon (true);\r\n            cleanup.start();\r\n        }\r\n    \r\n        void stop () {\r\n            cleanup.interrupt();\r\n        }\r\n    \r\n        V get (K key) {\r\n            return values.get(key).get();\r\n        }\r\n    \r\n        void put (K key, V value) {\r\n            WeakReference&lt;V&gt; ref = new WeakReference&lt;V&gt;(value, queue);\r\n            keys.put (ref, key);\r\n            values.put (key, ref);\r\n        }\r\n    \r\n        public String toString() {\r\n            StringBuilder str = new StringBuilder();\r\n            str.append (&quot;{&quot;);\r\n            boolean first = true;\r\n            for (Map.Entry&lt;K,WeakReference&lt;V&gt;&gt; entry : values.entrySet()) {\r\n                if (first)\r\n                    first = false;\r\n                else\r\n                    str.append (&quot;, &quot;);\r\n                str.append (entry.getKey());\r\n                str.append (&quot;: &quot;);\r\n                str.append (entry.getValue().get());\r\n            }\r\n            str.append (&quot;}&quot;);\r\n            return str.toString();\r\n        }\r\n    \r\n        static void gc (int loop, int delay) throws Exception\r\n        {\r\n            for (int n = loop; n &gt; 0; n--) {\r\n                Thread.sleep(delay);\r\n                System.gc(); // &lt;- obstinate donkey\r\n            }\r\n        }\r\n    \r\n        public static void main (String[] args) throws Exception\r\n        {\r\n            // Create the cache\r\n            Cache&lt;String,List&gt; c = new Cache&lt;String,List&gt;();\r\n    \r\n            // Create some values\r\n            List odd = Arrays.asList(new Object[]{1,3,5});\r\n            List even = Arrays.asList(new Object[]{2,4,6});\r\n    \r\n            // Save them in the cache\r\n            c.put (&quot;odd&quot;, odd);\r\n            c.put (&quot;even&quot;, even);\r\n    \r\n            // Display the cache contents\r\n            System.out.println (c);\r\n    \r\n            // Erase one value;\r\n            odd = null;\r\n    \r\n            // Force garbage collection\r\n            gc (10, 10);\r\n    \r\n            // Display the cache again\r\n            System.out.println (c);\r\n    \r\n            // Stop cleanup thread\r\n            c.stop();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>You need two maps: one which maps between the cache key and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html\" rel=\"noreferrer\">weak referenced</a> values and one in the opposite direction mapping between the weak referenced values and the keys. And you need a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ref/ReferenceQueue.html\" rel=\"noreferrer\">reference queue</a> and a cleanup thread.</p>\n\n<p>Weak references have the ability to move the reference into a queue when the referenced object can not accessed any longer.  This queue has to be drained by a cleanup thread.  <strong>And for the cleanup it is necessary to get the key for a reference.</strong>  This is the reason why the second map is required.</p>\n\n<p>The following example shows how to create a cache with a hash map of weak references. When you run the program you get the following output:</p>\n\n<pre>\n$ javac -Xlint:unchecked Cache.java && java Cache\n{even: [2, 4, 6], odd: [1, 3, 5]}\n{even: [2, 4, 6]}\n</pre>\n\n<p>The first line shows the contents of the cache before the reference to the odd list has been deleted and the second line after the odds have been deleted.</p>\n\n<p>This is the code:</p>\n\n<pre><code>import java.lang.ref.Reference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.WeakReference;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nclass Cache&lt;K,V&gt;\n{\n    ReferenceQueue&lt;V&gt; queue = null;\n    Map&lt;K,WeakReference&lt;V&gt;&gt; values = null;\n    Map&lt;WeakReference&lt;V&gt;,K&gt; keys = null;\n    Thread cleanup = null;\n\n    Cache ()\n    {\n        queue  = new ReferenceQueue&lt;V&gt;();\n        keys   = Collections.synchronizedMap (new HashMap&lt;WeakReference&lt;V&gt;,K&gt;());\n        values = Collections.synchronizedMap (new HashMap&lt;K,WeakReference&lt;V&gt;&gt;());\n        cleanup = new Thread() {\n                public void run() {\n                    try {\n                        for (;;) {\n                            @SuppressWarnings(\"unchecked\")\n                            WeakReference&lt;V&gt; ref = (WeakReference&lt;V&gt;)queue.remove();\n                            K key = keys.get(ref);\n                            keys.remove(ref);\n                            values.remove(key);\n                        }\n                    }\n                    catch (InterruptedException e) {}\n                }\n            };\n        cleanup.setDaemon (true);\n        cleanup.start();\n    }\n\n    void stop () {\n        cleanup.interrupt();\n    }\n\n    V get (K key) {\n        return values.get(key).get();\n    }\n\n    void put (K key, V value) {\n        WeakReference&lt;V&gt; ref = new WeakReference&lt;V&gt;(value, queue);\n        keys.put (ref, key);\n        values.put (key, ref);\n    }\n\n    public String toString() {\n        StringBuilder str = new StringBuilder();\n        str.append (\"{\");\n        boolean first = true;\n        for (Map.Entry&lt;K,WeakReference&lt;V&gt;&gt; entry : values.entrySet()) {\n            if (first)\n                first = false;\n            else\n                str.append (\", \");\n            str.append (entry.getKey());\n            str.append (\": \");\n            str.append (entry.getValue().get());\n        }\n        str.append (\"}\");\n        return str.toString();\n    }\n\n    static void gc (int loop, int delay) throws Exception\n    {\n        for (int n = loop; n &gt; 0; n--) {\n            Thread.sleep(delay);\n            System.gc(); // &lt;- obstinate donkey\n        }\n    }\n\n    public static void main (String[] args) throws Exception\n    {\n        // Create the cache\n        Cache&lt;String,List&gt; c = new Cache&lt;String,List&gt;();\n\n        // Create some values\n        List odd = Arrays.asList(new Object[]{1,3,5});\n        List even = Arrays.asList(new Object[]{2,4,6});\n\n        // Save them in the cache\n        c.put (\"odd\", odd);\n        c.put (\"even\", even);\n\n        // Display the cache contents\n        System.out.println (c);\n\n        // Erase one value;\n        odd = null;\n\n        // Force garbage collection\n        gc (10, 10);\n\n        // Display the cache again\n        System.out.println (c);\n\n        // Stop cleanup thread\n        c.stop();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49036,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665791266,"creation_date":1665791266,"answer_id":74075728,"question_id":1802809,"body_markdown":"If you need weak values it&#39;s surprisingly easy:\r\n\r\n\tpublic final class SimpleCache&lt;K,V&gt; {\r\n\t\tprivate final HashMap&lt;K,Ref&lt;K,V&gt;&gt; map = new HashMap&lt;&gt;();\r\n\t\tprivate final ReferenceQueue&lt;V&gt; queue = new ReferenceQueue&lt;&gt;();\r\n\t\t\r\n\t\tprivate static final class Ref&lt;K,V&gt; extends WeakReference&lt;V&gt; {\r\n\t\t\tfinal K key;\r\n\t\t\t\r\n\t\t\tRef(K key, V value, ReferenceQueue&lt;V&gt; queue) {\r\n\t\t\t\tsuper(value, queue);\r\n\t\t\t\tthis.key = key;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tprivate synchronized void gc() {\r\n\t\t\tfor (Ref&lt;?,?&gt; ref; (ref = (Ref&lt;?,?&gt;)queue.poll()) != null;)\r\n\t\t\t\tmap.remove(ref.key, ref);\r\n\t\t}\r\n\t\t\r\n\t\tpublic synchronized V getOrCreate(K key, Function&lt;K,V&gt; creator) {\r\n\t\t\tgc();\r\n\t\t\tRef&lt;K,V&gt; ref = map.get(key);\r\n\t\t\tV v = ref == null ? null : ref.get();\r\n\t\t\tif (v == null) {\r\n\t\t\t\tv = Objects.requireNonNull(creator.apply(key));\r\n\t\t\t\tmap.put(key, new Ref&lt;&gt;(key, v, queue));\r\n\t\t\t}\r\n\t\t\treturn v;\r\n\t\t}\r\n\t\t\r\n\t\tpublic synchronized void remove(K key) {\r\n\t\t\tgc();\r\n\t\t\tmap.remove(key);\r\n\t\t}\r\n\t}\r\n\r\nNo need for multiple threads; stale map entries are removed by polling the reference queue opportunistically when other methods are called. (This is also how WeakHashMap works.)\r\n\r\nExample:\r\n\t\r\n\tstatic final SimpleCache&lt;File,BigObject&gt; cache = new SimpleCache&lt;&gt;();\r\n\t\r\n\t...\r\n\t\r\n\t// if there is already a BigObject generated for this file,\r\n\t// and it is hasn&#39;t been garbage-collected yet, it is returned;\r\n\t// otherwise, its constructor is called to create one\r\n\tBigObject bo = cache.getOrCreate(fileName, BigObject::new)\r\n\t// it will be gc&#39;d after nothing in the program keeps a strong ref any more\r\n","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>If you need weak values it's surprisingly easy:</p>\n<pre><code>public final class SimpleCache&lt;K,V&gt; {\n    private final HashMap&lt;K,Ref&lt;K,V&gt;&gt; map = new HashMap&lt;&gt;();\n    private final ReferenceQueue&lt;V&gt; queue = new ReferenceQueue&lt;&gt;();\n    \n    private static final class Ref&lt;K,V&gt; extends WeakReference&lt;V&gt; {\n        final K key;\n        \n        Ref(K key, V value, ReferenceQueue&lt;V&gt; queue) {\n            super(value, queue);\n            this.key = key;\n        }\n    }\n    \n    private synchronized void gc() {\n        for (Ref&lt;?,?&gt; ref; (ref = (Ref&lt;?,?&gt;)queue.poll()) != null;)\n            map.remove(ref.key, ref);\n    }\n    \n    public synchronized V getOrCreate(K key, Function&lt;K,V&gt; creator) {\n        gc();\n        Ref&lt;K,V&gt; ref = map.get(key);\n        V v = ref == null ? null : ref.get();\n        if (v == null) {\n            v = Objects.requireNonNull(creator.apply(key));\n            map.put(key, new Ref&lt;&gt;(key, v, queue));\n        }\n        return v;\n    }\n    \n    public synchronized void remove(K key) {\n        gc();\n        map.remove(key);\n    }\n}\n</code></pre>\n<p>No need for multiple threads; stale map entries are removed by polling the reference queue opportunistically when other methods are called. (This is also how WeakHashMap works.)</p>\n<p>Example:</p>\n<pre><code>static final SimpleCache&lt;File,BigObject&gt; cache = new SimpleCache&lt;&gt;();\n\n...\n\n// if there is already a BigObject generated for this file,\n// and it is hasn't been garbage-collected yet, it is returned;\n// otherwise, its constructor is called to create one\nBigObject bo = cache.getOrCreate(fileName, BigObject::new)\n// it will be gc'd after nothing in the program keeps a strong ref any more\n</code></pre>\n"}],"owner":{"account_id":43447,"reputation":43136,"user_id":127013,"accept_rate":66,"display_name":"mxk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29286,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":1802879,"answer_count":5,"score":75,"last_activity_date":1701713605,"creation_date":1259230611,"question_id":1802809,"body_markdown":"Java&#39;s [WeakHashMap][1] is often cited as being useful for caching. It seems odd though that its weak references are defined in terms of the map&#39;s keys, not its values. I mean, it&#39;s the values I want to cache, and which I want to get garbage collected once no-one else besides the cache is strongly referencing them, no?\r\n\r\nIn which way does it help to hold weak references to the keys? If you do a `ExpensiveObject o = weakHashMap.get(&quot;some_key&quot;)`, then I want the cache to hold on to &#39;o&#39; until the caller doesn&#39;t hold the strong reference anymore, and I don&#39;t care at all about the string object &quot;some_key&quot;.\r\n\r\nAm I missing something?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/util/WeakHashMap.html","title":"Java&#39;s WeakHashMap and caching: Why is it referencing the keys, not the values?","body":"<p>Java's <a href=\"http://developer.android.com/reference/java/util/WeakHashMap.html\" rel=\"noreferrer\">WeakHashMap</a> is often cited as being useful for caching. It seems odd though that its weak references are defined in terms of the map's keys, not its values. I mean, it's the values I want to cache, and which I want to get garbage collected once no-one else besides the cache is strongly referencing them, no?</p>\n\n<p>In which way does it help to hold weak references to the keys? If you do a <code>ExpensiveObject o = weakHashMap.get(\"some_key\")</code>, then I want the cache to hold on to 'o' until the caller doesn't hold the strong reference anymore, and I don't care at all about the string object \"some_key\".</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","sockets","synchronization","threadpool","objectoutputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103462,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1701264000,"post_id":77570738,"comment_id":136753785,"body_markdown":"Are you sure the recipient is reading the data? The sender might be blocked waiting for space to become available if the socket output buffer is full because the socket input buffer on the other side is full (e.g. because the recipient is not reading the data). Have you dumped the stacktraces of all threads to see where it is actually stuck? As an aside, I personally would never use `ObjectInputStream`/`ObjectOutputStream` for this.","body":"Are you sure the recipient is reading the data? The sender might be blocked waiting for space to become available if the socket output buffer is full because the socket input buffer on the other side is full (e.g. because the recipient is not reading the data). Have you dumped the stacktraces of all threads to see where it is actually stuck? As an aside, I personally would never use <code>ObjectInputStream</code>/<code>ObjectOutputStream</code> for this."}],"answers":[{"tags":[],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701712754,"creation_date":1701712754,"answer_id":77601630,"question_id":77570738,"body_markdown":"I wrote clientObjectOutputStream.write(imageBytes); instead of clientObjectOutputStream.writeObject(imageBytes);\r\n\r\nafter using writeObject it worked perfectly fine.","title":"ObjectOutputStream stops working without error message","body":"<p>I wrote clientObjectOutputStream.write(imageBytes); instead of clientObjectOutputStream.writeObject(imageBytes);</p>\n<p>after using writeObject it worked perfectly fine.</p>\n"}],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77601630,"answer_count":1,"score":0,"last_activity_date":1701712754,"creation_date":1701257182,"question_id":77570738,"body_markdown":"I am currently working on a video transmission program involving a client sender, a server receiver, and multiple client receivers. The sender sends video frames every 75ms to the server, which then broadcasts these frames to a group of client receivers.\r\n\r\nThe issue I am encountering is that after approximately 4 or 5 iterations, the server stops broadcasting frames to the clients, even though it continues to receive frames from the sender without any errors. Any help or suggestion would be much appreciated. \r\n\r\nThis is the sender code:\r\n\r\n```\r\npublic void sendImageToServer(BufferedImage screenshot) {\r\n\ttry {\r\n\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\tImageIO.write(screenshot, &quot;jpeg&quot;, byteArrayOutputStream);\t        \r\n\t\tbyte[] imageBytes = byteArrayOutputStream.toByteArray();\r\n\r\n\t\tobjectOutputVideoStream.writeObject(imageBytes);\r\n\t\tobjectOutputVideoStream.flush();\r\n\t\tSystem.out.println(&quot;Frame sent&quot;);\r\n\t} catch (IOException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nThis is the server code: \r\n\r\n```\r\nprivate ExecutorService pool = Executors.newCachedThreadPool();\r\n\r\n\tpublic void receiveAndBroadcastVideo(Socket socket, int roomId) {\r\n\t\ttry {\r\n\t\t\tInputStream inputStream = socket.getInputStream();\r\n\t\t\tObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\r\n\t\t\twhile (true) {\r\n\t\t\t\tbyte[] imageBytes = (byte[]) objectInputStream.readObject();\r\n\t\t\t\tSystem.out.println(&quot;Frame ricevuto&quot;);\r\n\t\t\t\tList&lt;UserWithSocket&gt; roomClients = videoChatRoomClients.get(roomId);\r\n\t\t\t\tfor (UserWithSocket client : roomClients) {\r\n\t\t\t\t\tif(client.getUserSocket()!=socket) {\r\n\t\t\t\t\t\tpool.submit(() -&gt; {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tObjectOutputStream clientObjectOutputStream = client.getClientObjectOutputStream();\r\n\t\t\t\t\t\t\t\tsynchronized (clientObjectOutputStream) {\r\n\t\t\t\t\t\t\t\t\tclientObjectOutputStream.write(imageBytes);\r\n\t\t\t\t\t\t\t\t\tclientObjectOutputStream.flush();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;Frame Broadcasted&quot;);\r\n\t\t\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nAnd this is where I create the ObjectOutputStream:\r\n\r\n```\r\npublic class UserWithSocket {\r\n\r\n\tprivate int id;\r\n\tprivate Socket userSocket;\r\n\tprivate ObjectOutputStream clientObjectOutputStream;\r\n\r\n\tpublic UserWithSocket(int id, Socket userSocket) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.userSocket = userSocket;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic Socket getUserSocket() {\r\n\t\treturn userSocket;\r\n\t}\r\n\r\n\tpublic void setUserSocket(Socket userSocket) {\r\n\t\tthis.userSocket = userSocket;\r\n\t}\r\n\r\n\tpublic void createStream() {\r\n\t\ttry {\r\n\t\t\tOutputStream outputStream = userSocket.getOutputStream();\r\n\t\t\tclientObjectOutputStream = new ObjectOutputStream(outputStream);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic ObjectOutputStream getClientObjectOutputStream() {\r\n\t\treturn clientObjectOutputStream;\r\n\t}\r\n\r\n\tpublic void setClientObjectOutputStream(ObjectOutputStream clientObjectOutputStream) {\r\n\t\tthis.clientObjectOutputStream = clientObjectOutputStream;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nSince I&#39;m not receiving any kind of error it might be a deadlock situation, I just know that after 4 or 5 iterations this part of the code won&#39;t run:\r\n```\r\nsynchronized (clientObjectOutputStream) {\r\n\tclientObjectOutputStream.write(imageBytes);\r\n\tclientObjectOutputStream.flush();\r\n}\r\n```","title":"ObjectOutputStream stops working without error message","body":"<p>I am currently working on a video transmission program involving a client sender, a server receiver, and multiple client receivers. The sender sends video frames every 75ms to the server, which then broadcasts these frames to a group of client receivers.</p>\n<p>The issue I am encountering is that after approximately 4 or 5 iterations, the server stops broadcasting frames to the clients, even though it continues to receive frames from the sender without any errors. Any help or suggestion would be much appreciated.</p>\n<p>This is the sender code:</p>\n<pre><code>public void sendImageToServer(BufferedImage screenshot) {\n    try {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(screenshot, &quot;jpeg&quot;, byteArrayOutputStream);           \n        byte[] imageBytes = byteArrayOutputStream.toByteArray();\n\n        objectOutputVideoStream.writeObject(imageBytes);\n        objectOutputVideoStream.flush();\n        System.out.println(&quot;Frame sent&quot;);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>This is the server code:</p>\n<pre><code>private ExecutorService pool = Executors.newCachedThreadPool();\n\n    public void receiveAndBroadcastVideo(Socket socket, int roomId) {\n        try {\n            InputStream inputStream = socket.getInputStream();\n            ObjectInputStream objectInputStream = new ObjectInputStream(inputStream);\n            while (true) {\n                byte[] imageBytes = (byte[]) objectInputStream.readObject();\n                System.out.println(&quot;Frame ricevuto&quot;);\n                List&lt;UserWithSocket&gt; roomClients = videoChatRoomClients.get(roomId);\n                for (UserWithSocket client : roomClients) {\n                    if(client.getUserSocket()!=socket) {\n                        pool.submit(() -&gt; {\n                            try {\n                                ObjectOutputStream clientObjectOutputStream = client.getClientObjectOutputStream();\n                                synchronized (clientObjectOutputStream) {\n                                    clientObjectOutputStream.write(imageBytes);\n                                    clientObjectOutputStream.flush();\n                                }\n                                System.out.println(&quot;Frame Broadcasted&quot;);\n                            } catch (Exception e) {\n                                e.printStackTrace();\n                            }\n                        });\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>And this is where I create the ObjectOutputStream:</p>\n<pre><code>public class UserWithSocket {\n\n    private int id;\n    private Socket userSocket;\n    private ObjectOutputStream clientObjectOutputStream;\n\n    public UserWithSocket(int id, Socket userSocket) {\n        super();\n        this.id = id;\n        this.userSocket = userSocket;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Socket getUserSocket() {\n        return userSocket;\n    }\n\n    public void setUserSocket(Socket userSocket) {\n        this.userSocket = userSocket;\n    }\n\n    public void createStream() {\n        try {\n            OutputStream outputStream = userSocket.getOutputStream();\n            clientObjectOutputStream = new ObjectOutputStream(outputStream);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public ObjectOutputStream getClientObjectOutputStream() {\n        return clientObjectOutputStream;\n    }\n\n    public void setClientObjectOutputStream(ObjectOutputStream clientObjectOutputStream) {\n        this.clientObjectOutputStream = clientObjectOutputStream;\n    }\n    \n    \n}\n</code></pre>\n<p>Since I'm not receiving any kind of error it might be a deadlock situation, I just know that after 4 or 5 iterations this part of the code won't run:</p>\n<pre><code>synchronized (clientObjectOutputStream) {\n    clientObjectOutputStream.write(imageBytes);\n    clientObjectOutputStream.flush();\n}\n</code></pre>\n"},{"tags":["java","audio","kalman-filter","noise-reduction"],"comments":[{"owner":{"account_id":10028867,"reputation":116,"user_id":7416207,"display_name":"Dawson Beatty"},"score":0,"creation_date":1701876516,"post_id":77601615,"comment_id":136829589,"body_markdown":"I suspect that a Kalman Filter is not the appropriate tool for this type of problem. I would suggest searching around for textbooks that include discussion of the problem that you are trying to solve. If there&#39;s already a reference that you&#39;re following, feel free to post that too and we can try to help you apply that reference to the problem that you&#39;re having.","body":"I suspect that a Kalman Filter is not the appropriate tool for this type of problem. I would suggest searching around for textbooks that include discussion of the problem that you are trying to solve. If there&#39;s already a reference that you&#39;re following, feel free to post that too and we can try to help you apply that reference to the problem that you&#39;re having."}],"owner":{"account_id":21451770,"reputation":13,"user_id":15804092,"display_name":"Bottas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701712637,"creation_date":1701712637,"question_id":77601615,"body_markdown":"I have been trying to create a Voice Communication program using Java. So far it has been great but I need a way to reduce the background noise, and after researching I found out that the Kalman Filter seems to be the best option for this task. I&#39;m using the org.apache.commons.math3 library and after reading some papers I came up with a Class that should help me reduce the noise coming from the audio that is recorded from the microphone and transferred as byte arrays of dimension 1024 bytes. Right now using the filter the output audio is not what I was expecting, I can only hear a faint scratching noise when someone talks. I&#39;m aware of my limits when it comes to matrix and vectors and right now I&#39;m stuck. I would appreciate any kind of tips you can give me. I tired changing the values of the R matrix but it didn&#39;t seem to make any difference.\r\n\r\n```\r\nimport org.apache.commons.math3.filter.DefaultMeasurementModel;\r\nimport org.apache.commons.math3.filter.DefaultProcessModel;\r\nimport org.apache.commons.math3.filter.KalmanFilter;\r\nimport org.apache.commons.math3.linear.Array2DRowRealMatrix;\r\nimport org.apache.commons.math3.linear.ArrayRealVector;\r\nimport org.apache.commons.math3.linear.RealMatrix;\r\nimport org.apache.commons.math3.linear.RealVector;\r\n\r\npublic class KalmanFilterNoiseReduction {\r\n\r\n\r\n\tprivate static final int STATE_DIMENSION = 2;\r\n    private static final int MEASUREMENT_DIMENSION = 1024;\r\n\r\n    private KalmanFilter kalmanFilter;\r\n\r\n    public KalmanFilterNoiseReduction() {\r\n        initializeKalmanFilter();\r\n    }\r\n\r\n    private void initializeKalmanFilter() {\r\n        // State transition matrix A\r\n        RealMatrix A = new Array2DRowRealMatrix(new double[][]{{1, 1}, {0, 1}});\r\n\r\n        // Control input matrix B\r\n        RealMatrix B = new Array2DRowRealMatrix(new double[][]{{0}, {0}});\r\n\r\n        // Measurement matrix H\r\n        RealMatrix H = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][STATE_DIMENSION]);\r\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\r\n            for (int j = 0; j &lt; STATE_DIMENSION; j++) {\r\n                H.setEntry(i, j, (i == j) ? 1.0 : 0.0);\r\n            }\r\n        }\r\n\r\n        // Process noise covariance matrix Q\r\n        RealMatrix Q = new Array2DRowRealMatrix(new double[][]{{1, 0}, {0, 1}});\r\n\r\n        // Measurement noise covariance matrix R\r\n        RealMatrix R = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][MEASUREMENT_DIMENSION]);\r\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\r\n            R.setEntry(i, i, 0.1); \r\n        }\r\n\r\n\r\n        // Initial state estimate x\r\n        RealVector initialStateEstimate = new ArrayRealVector(new double[]{0, 0});\r\n\r\n        // Initial error covariance matrix P\r\n        RealMatrix initialErrorCovariance = new Array2DRowRealMatrix(STATE_DIMENSION, STATE_DIMENSION);\r\n\r\n        // Create Kalman Filter\r\n        kalmanFilter = new KalmanFilter(\r\n                new DefaultProcessModel(A, B, Q, initialStateEstimate, initialErrorCovariance),\r\n                new DefaultMeasurementModel(H, R));\r\n    }\r\n\r\n    public byte[] filterAudio(byte[] audioData) {\r\n        double[] input = convertByteArrayToDoubleArray(audioData);\r\n\r\n        // Predict the next state\r\n        kalmanFilter.predict();\r\n\r\n        // Update the state based on the measurement\r\n        kalmanFilter.correct(input);\r\n\r\n        // Get the filtered output\r\n        double[] output = kalmanFilter.getStateEstimation();\r\n\r\n        // Convert the double array to a byte array\r\n        byte[] filteredAudio = convertDoubleArrayToByteArray(output);\r\n\r\n        return filteredAudio;\r\n    }\r\n\r\n    private double[] convertByteArrayToDoubleArray(byte[] byteArray) {\r\n        double[] doubleArray = new double[byteArray.length];\r\n        for (int i = 0; i &lt; byteArray.length; i++) {\r\n            doubleArray[i] = byteArray[i];\r\n        }\r\n        return doubleArray;\r\n    }\r\n\r\n    private byte[] convertDoubleArrayToByteArray(double[] doubleArray) {\r\n        byte[] byteArray = new byte[doubleArray.length];\r\n        for (int i = 0; i &lt; doubleArray.length; i++) {\r\n            byteArray[i] = (byte) doubleArray[i];\r\n        }\r\n        return byteArray;\r\n    }\r\n}\r\n```\r\nThis is the part where I send the audio to my server to be broadcasted:\r\n```\r\nthis.filter=new KalmanFilterNoiseReduction();\r\n\r\n\tprivate void captureAndSendAudio() {\r\n\t\ttry {\r\n\t\t\tbyte[] audioData = new byte[1024];\r\n\t\t\ttargetDataLine.start();\r\n\r\n\t\t\twhile (!Thread.currentThread().isInterrupted()) {\r\n\t\t\t\tint bytesRead = targetDataLine.read(audioData, 0, audioData.length);\r\n\t\t\t\tif (bytesRead &gt; 0) {\r\n\t\t\t\t\tif(vad.start(audioData)==false) {\r\n\t\t\t\t\t\tbyte[] filteredAudio = filter.filterAudio(audioData);\r\n\t\t\t\t\t\toutputStream.write(filteredAudio, 0, filteredAudio.length);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tArrays.fill(audioData, (byte) 0);\r\n\t\t\t\t\t\toutputStream.write(audioData, 0, bytesRead);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Kalman Filter Noise Reduction in Java not working","body":"<p>I have been trying to create a Voice Communication program using Java. So far it has been great but I need a way to reduce the background noise, and after researching I found out that the Kalman Filter seems to be the best option for this task. I'm using the org.apache.commons.math3 library and after reading some papers I came up with a Class that should help me reduce the noise coming from the audio that is recorded from the microphone and transferred as byte arrays of dimension 1024 bytes. Right now using the filter the output audio is not what I was expecting, I can only hear a faint scratching noise when someone talks. I'm aware of my limits when it comes to matrix and vectors and right now I'm stuck. I would appreciate any kind of tips you can give me. I tired changing the values of the R matrix but it didn't seem to make any difference.</p>\n<pre><code>import org.apache.commons.math3.filter.DefaultMeasurementModel;\nimport org.apache.commons.math3.filter.DefaultProcessModel;\nimport org.apache.commons.math3.filter.KalmanFilter;\nimport org.apache.commons.math3.linear.Array2DRowRealMatrix;\nimport org.apache.commons.math3.linear.ArrayRealVector;\nimport org.apache.commons.math3.linear.RealMatrix;\nimport org.apache.commons.math3.linear.RealVector;\n\npublic class KalmanFilterNoiseReduction {\n\n\n    private static final int STATE_DIMENSION = 2;\n    private static final int MEASUREMENT_DIMENSION = 1024;\n\n    private KalmanFilter kalmanFilter;\n\n    public KalmanFilterNoiseReduction() {\n        initializeKalmanFilter();\n    }\n\n    private void initializeKalmanFilter() {\n        // State transition matrix A\n        RealMatrix A = new Array2DRowRealMatrix(new double[][]{{1, 1}, {0, 1}});\n\n        // Control input matrix B\n        RealMatrix B = new Array2DRowRealMatrix(new double[][]{{0}, {0}});\n\n        // Measurement matrix H\n        RealMatrix H = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][STATE_DIMENSION]);\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\n            for (int j = 0; j &lt; STATE_DIMENSION; j++) {\n                H.setEntry(i, j, (i == j) ? 1.0 : 0.0);\n            }\n        }\n\n        // Process noise covariance matrix Q\n        RealMatrix Q = new Array2DRowRealMatrix(new double[][]{{1, 0}, {0, 1}});\n\n        // Measurement noise covariance matrix R\n        RealMatrix R = new Array2DRowRealMatrix(new double[MEASUREMENT_DIMENSION][MEASUREMENT_DIMENSION]);\n        for (int i = 0; i &lt; MEASUREMENT_DIMENSION; i++) {\n            R.setEntry(i, i, 0.1); \n        }\n\n\n        // Initial state estimate x\n        RealVector initialStateEstimate = new ArrayRealVector(new double[]{0, 0});\n\n        // Initial error covariance matrix P\n        RealMatrix initialErrorCovariance = new Array2DRowRealMatrix(STATE_DIMENSION, STATE_DIMENSION);\n\n        // Create Kalman Filter\n        kalmanFilter = new KalmanFilter(\n                new DefaultProcessModel(A, B, Q, initialStateEstimate, initialErrorCovariance),\n                new DefaultMeasurementModel(H, R));\n    }\n\n    public byte[] filterAudio(byte[] audioData) {\n        double[] input = convertByteArrayToDoubleArray(audioData);\n\n        // Predict the next state\n        kalmanFilter.predict();\n\n        // Update the state based on the measurement\n        kalmanFilter.correct(input);\n\n        // Get the filtered output\n        double[] output = kalmanFilter.getStateEstimation();\n\n        // Convert the double array to a byte array\n        byte[] filteredAudio = convertDoubleArrayToByteArray(output);\n\n        return filteredAudio;\n    }\n\n    private double[] convertByteArrayToDoubleArray(byte[] byteArray) {\n        double[] doubleArray = new double[byteArray.length];\n        for (int i = 0; i &lt; byteArray.length; i++) {\n            doubleArray[i] = byteArray[i];\n        }\n        return doubleArray;\n    }\n\n    private byte[] convertDoubleArrayToByteArray(double[] doubleArray) {\n        byte[] byteArray = new byte[doubleArray.length];\n        for (int i = 0; i &lt; doubleArray.length; i++) {\n            byteArray[i] = (byte) doubleArray[i];\n        }\n        return byteArray;\n    }\n}\n</code></pre>\n<p>This is the part where I send the audio to my server to be broadcasted:</p>\n<pre><code>this.filter=new KalmanFilterNoiseReduction();\n\n    private void captureAndSendAudio() {\n        try {\n            byte[] audioData = new byte[1024];\n            targetDataLine.start();\n\n            while (!Thread.currentThread().isInterrupted()) {\n                int bytesRead = targetDataLine.read(audioData, 0, audioData.length);\n                if (bytesRead &gt; 0) {\n                    if(vad.start(audioData)==false) {\n                        byte[] filteredAudio = filter.filterAudio(audioData);\n                        outputStream.write(filteredAudio, 0, filteredAudio.length);\n                    }else {\n                        Arrays.fill(audioData, (byte) 0);\n                        outputStream.write(audioData, 0, bytesRead);\n                    }\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","permissions"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1701675186,"post_id":77597717,"comment_id":136800485,"body_markdown":"use `MANAGE_EXTERNAL_STORAGE` instead of `WRITE_EXTERNAL_STORAGE`. also from android 11 api level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app","body":"use <code>MANAGE_EXTERNAL_STORAGE</code> instead of <code>WRITE_EXTERNAL_STORAGE</code>. also from android 11 api level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app"}],"answers":[{"tags":[],"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701675304,"creation_date":1701675304,"answer_id":77597819,"question_id":77597717,"body_markdown":"use **MANAGE_EXTERNAL_STORAGE** instead of **WRITE_EXTERNAL_STORAGE**. also from Android 11 API level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app&#39;s internal storage, you don&#39;t need any specific permissions because the internal storage is private to your app.\r\n\r\ntry this code:\r\n\r\n    File file2 = new File(getFilesDir(), &quot;Reporwt.pdf&quot;);\r\n    \r\n    if (!file2.exists()) {\r\n        try {\r\n            boolean created = file2.createNewFile();\r\n            Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\r\n        } catch (IOException e) {\r\n            Log.i(&quot;download&quot;, e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n***getFilesDir()*** returns the path to your app&#39;s internal storage directory. You don&#39;t need additional permissions for this.\r\n\r\nIf you really want to create files on external storage, you need to use the Storage Access Framework (SAF) or the MediaStore API.","title":"Android 13 storage Permission Issue","body":"<p>use <strong>MANAGE_EXTERNAL_STORAGE</strong> instead of <strong>WRITE_EXTERNAL_STORAGE</strong>. also from Android 11 API level 30 this permission is not longer sufficient to access the entire external storage. To create files and directories inside the app's internal storage, you don't need any specific permissions because the internal storage is private to your app.</p>\n<p>try this code:</p>\n<pre><code>File file2 = new File(getFilesDir(), &quot;Reporwt.pdf&quot;);\n\nif (!file2.exists()) {\n    try {\n        boolean created = file2.createNewFile();\n        Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\n    } catch (IOException e) {\n        Log.i(&quot;download&quot;, e.getMessage());\n    }\n}\n</code></pre>\n<p><em><strong>getFilesDir()</strong></em> returns the path to your app's internal storage directory. You don't need additional permissions for this.</p>\n<p>If you really want to create files on external storage, you need to use the Storage Access Framework (SAF) or the MediaStore API.</p>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701712616,"creation_date":1701712616,"answer_id":77601614,"question_id":77597717,"body_markdown":"&gt;&gt;new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\r\n\r\nChange to:\r\n\r\n    new File(Environment.getExternalStoragePublicDirectoryDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;Reporwt.pdf&quot;);\r\n\r\nSo use any of the public directories on external storage that are already there.","title":"Android 13 storage Permission Issue","body":"<blockquote>\n<blockquote>\n<p>new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);</p>\n</blockquote>\n</blockquote>\n<p>Change to:</p>\n<pre><code>new File(Environment.getExternalStoragePublicDirectoryDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;Reporwt.pdf&quot;);\n</code></pre>\n<p>So use any of the public directories on external storage that are already there.</p>\n"}],"owner":{"account_id":29251271,"reputation":1,"user_id":22410580,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701712616,"creation_date":1701673915,"question_id":77597717,"body_markdown":"            File file2 = new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\r\n        if(!file2.exists()) {\r\n            try {\r\n                boolean created = file2.createNewFile();\r\n                Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\r\n            } catch (IOException e) {\r\n                Log.i(&quot;download&quot;, e.getMessage());\r\n            }\r\n        }\r\n\r\n\r\nI am trying to create a new file inside the internal storage of the device. When I am running this code on device running Android 13, I am getting &quot;Operation not permitted&quot; Error. \r\n\r\nHow do I create new files and directories inside the Internal Storage of the device in Android 13?\r\n\r\nI tried all the below permissions but it didn&#39;t worked.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\r\n\r\n\r\n","title":"Android 13 storage Permission Issue","body":"<pre><code>        File file2 = new File(Environment.getExternalStorageDirectory(), &quot;Reporwt.pdf&quot;);\n    if(!file2.exists()) {\n        try {\n            boolean created = file2.createNewFile();\n            Log.i(&quot;download&quot;, &quot;File created? &quot; + created);\n        } catch (IOException e) {\n            Log.i(&quot;download&quot;, e.getMessage());\n        }\n    }\n</code></pre>\n<p>I am trying to create a new file inside the internal storage of the device. When I am running this code on device running Android 13, I am getting &quot;Operation not permitted&quot; Error.</p>\n<p>How do I create new files and directories inside the Internal Storage of the device in Android 13?</p>\n<p>I tried all the below permissions but it didn't worked.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701846815,"post_id":77601580,"comment_id":136824334,"body_markdown":"By looking into the exception, seems `ModelMapper` trying to insert `UserInfoDto` type to `updatedBy` property by calling `UserInfoDto.setUpdatedBy()`, but based on your `UserInfoDto` class definition it accepts `JwtUserInfo` type. That&#39;s why you are getting `argument type mismatch` error message. In my opinion why `0843c5b6-1537-4dbf-b8c7-a28cee8a277b` is successful, because it&#39;s returning `NULL` for `updatedBy` property. So, there is no conversion issue. Can you ads the `updatedBy` data for `0843c5b6-1537-4dbf-b8c7-a28cee8a277b` and try","body":"By looking into the exception, seems <code>ModelMapper</code> trying to insert <code>UserInfoDto</code> type to <code>updatedBy</code> property by calling <code>UserInfoDto.setUpdatedBy()</code>, but based on your <code>UserInfoDto</code> class definition it accepts <code>JwtUserInfo</code> type. That&#39;s why you are getting <code>argument type mismatch</code> error message. In my opinion why <code>0843c5b6-1537-4dbf-b8c7-a28cee8a277b</code> is successful, because it&#39;s returning <code>NULL</code> for <code>updatedBy</code> property. So, there is no conversion issue. Can you ads the <code>updatedBy</code> data for <code>0843c5b6-1537-4dbf-b8c7-a28cee8a277b</code> and try"},{"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701852465,"post_id":77601580,"comment_id":136825116,"body_markdown":"can you share what version of `ModelMapper` and `Java` along with provider like `oracle-jdk`, `open-jdk`, `zulu`, etc., you are using","body":"can you share what version of <code>ModelMapper</code> and <code>Java</code> along with provider like <code>oracle-jdk</code>, <code>open-jdk</code>, <code>zulu</code>, etc., you are using"}],"owner":{"account_id":16846710,"reputation":1,"user_id":12180720,"display_name":"Tay Nguyen Duong Chanh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701712360,"creation_date":1701712360,"question_id":77601580,"body_markdown":"User Entity:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    private String id;\r\n\r\n    @Column(unique = true)\r\n    private String email;\r\n    private String password;\r\n    private int age;\r\n    private String fullName;\r\n    private String address;\r\n    private String phoneNumber;\r\n\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;created_by_id&quot;)\r\n    private User createdBy;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;updated_by_id&quot;)\r\n    private User updatedBy;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;deleted_by_id&quot;)\r\n    private User deletedBy;\r\n\r\n    @Column(name = &quot;is_deleted&quot;)\r\n    private boolean isDeleted = false;\r\n\r\n    private LocalDateTime deletedAt;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;company_id&quot;)\r\n    private Company company;\r\n\r\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_roles&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;users_id&quot;, referencedColumnName = &quot;id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    )\r\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\r\n\r\n    @PrePersist\r\n    private void setRandomId() {\r\n        this.id = generateId();\r\n    }\r\n\r\n    private String generateId() {\r\n        return UUID.randomUUID().toString();\r\n    }\r\n}\r\n\r\n```\r\nJwtUserInfo\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class JwtUserInfo {\r\n    private String id;\r\n    private String fullName;\r\n    private String email;\r\n}\r\n```\r\nUserInfoDto\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class UserInfoDto {\r\n    private String id;\r\n\r\n    @Email(message = &quot;Email must be valid&quot;)\r\n    @NotEmpty(message = &quot;Email must not be empty&quot;)\r\n    private String email;\r\n    private String fullName;\r\n    private String address;\r\n    private int age;\r\n\r\n    @NotEmpty(message = &quot;Phone number must not be empty&quot;)\r\n    private String phoneNumber;\r\n\r\n    @NotEmpty(message = &quot;Company must not be empty&quot;)\r\n    private CompanyInfoDto company;\r\n    private JwtUserInfo createdBy;\r\n    private LocalDateTime createdAt;\r\n    private JwtUserInfo updatedBy;\r\n    private LocalDateTime updatedAt;\r\n    private JwtUserInfo deletedBy;\r\n    private LocalDateTime deletedAt;\r\n    private boolean isDeleted;\r\n}\r\n```\r\nHere is a part of my logic for retrieving a user by ID.\r\n\r\n```\r\n@Override\r\n    public UserInfoDto getUserById(String id) {\r\n        try {\r\n            User user = userRepository.findById(id).orElseThrow(\r\n                    () -&gt; new ResourceNotFoundException(&quot;id&quot;, &quot;User&quot;, id)\r\n            );\r\n            return modelMapper.map(user, UserInfoDto.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n```\r\nI am encountering an issue where, after logging in and checking the &#39;getUserById&#39; request in Postman, all IDs return correct results except for when I send a request with the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb, which results in an error.\r\n\r\nHere is the information in the database that I have converted to JSON for the ID &#39;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&#39;\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&quot;,\r\n    &quot;email&quot;: &quot;nguyenduongchanhtay@gmail.com&quot;,\r\n    &quot;fullName&quot;: null,\r\n    &quot;address&quot;: &quot;Hanoi&quot;,\r\n    &quot;age&quot;: 25,\r\n    &quot;phoneNumber&quot;: &quot;1241&quot;,\r\n    &quot;company&quot;: {\r\n        &quot;id&quot;: &quot;974818d2-5257-4af9-a83d-0eed14127607&quot;,\r\n        &quot;name&quot;: &quot;MISA Software&quot;\r\n    },\r\n    &quot;createdBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;createdAt&quot;: &quot;2023-12-02T03:27:55.736432&quot;,\r\n    &quot;updatedBy&quot;: null,\r\n    &quot;updatedAt&quot;: &quot;2023-12-02T04:18:45.977473&quot;,\r\n    &quot;deletedBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;deletedAt&quot;: &quot;2023-12-02T04:18:45.97672&quot;,\r\n    &quot;deleted&quot;: true\r\n}\r\n```\r\nHere is the information in the database that I have converted to JSON for the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb&#39;\r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n    &quot;email&quot;: &quot;admin@gmail.com&quot;,\r\n    &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n    &quot;address&quot;: &quot;Hanoi&quot;,\r\n    &quot;age&quot;: 26,\r\n    &quot;phoneNumber&quot;: &quot;123&quot;,\r\n    &quot;roles&quot;: [\r\n        {\r\n            &quot;id&quot;: &quot;f3c11adb-1bfd-495f-9d9d-ce161ce01211&quot;,\r\n            &quot;name&quot;: &quot;ROLE_USER&quot;,\r\n            &quot;permissions&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;733416fd-397f-41c7-bd1d-b76b97dbafaf&quot;,\r\n                    &quot;name&quot;: &quot;GET_USERS&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-04T01:48:21.631549&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-04T01:48:21.63157&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;c4a6f052-0753-44db-ac4c-be92711453a4&quot;,\r\n                    &quot;name&quot;: &quot;GET_USER_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:30:58.923667&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:30:58.923703&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;00140d2d-f596-4a01-841b-c1b62abb72d7&quot;,\r\n                    &quot;name&quot;: &quot;UPDATE_USER_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;USERS&quot;,\r\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\r\n                    &quot;method&quot;: &quot;PATCH&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:31:28.028948&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:31:28.028996&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;fada1727-d13e-48e5-81bf-3d8d52c24e93&quot;,\r\n                    &quot;name&quot;: &quot;GET_COMPANIES&quot;,\r\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\r\n                    &quot;path&quot;: &quot;/companies&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:11.256933&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:11.25695&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;88b80919-5903-4f0b-baa9-3cfce16e7724&quot;,\r\n                    &quot;name&quot;: &quot;GET_COMPANY_BY_ID&quot;,\r\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\r\n                    &quot;path&quot;: &quot;/companies/{id}&quot;,\r\n                    &quot;method&quot;: &quot;GET&quot;,\r\n                    &quot;createdBy&quot;: {\r\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n                    },\r\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:28.031876&quot;,\r\n                    &quot;updatedBy&quot;: null,\r\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:28.03191&quot;,\r\n                    &quot;deletedBy&quot;: null,\r\n                    &quot;deletedAt&quot;: null,\r\n                    &quot;deleted&quot;: false\r\n                }\r\n            ],\r\n            &quot;createdBy&quot;: {\r\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n            },\r\n            &quot;createdAt&quot;: &quot;2023-12-03T04:21:52.351181&quot;,\r\n            &quot;updatedBy&quot;: {\r\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n            },\r\n            &quot;updatedAt&quot;: &quot;2023-12-04T04:07:11.08364&quot;,\r\n            &quot;deletedBy&quot;: null,\r\n            &quot;deletedAt&quot;: null,\r\n            &quot;active&quot;: false,\r\n            &quot;deleted&quot;: false\r\n        }\r\n    ],\r\n    &quot;createdBy&quot;: null,\r\n    &quot;createdAt&quot;: &quot;2023-12-01 02:31:17.460545&quot;,\r\n    &quot;updatedBy&quot;: {\r\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\r\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\r\n    },\r\n    &quot;updatedAt&quot;: &quot;2023-12-04T22:39:23.040448&quot;,\r\n    &quot;deletedBy&quot;: null,\r\n    &quot;deletedAt&quot;: null,\r\n    &quot;deleted&quot;: false\r\n}\r\n```\r\nWhen I send a &#39;getUserById&#39; request with the ID &#39;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&#39;, the response returns the information in the database that I previously converted to JSON above.\r\nBut when I send a request with the ID &#39;c65df504-5394-4a10-b2c1-9efecf4b7fbb&#39;, it encounters an error as shown in the image below.\r\n\r\n```\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-12-05T00:45:46.731086&quot;,\r\n    &quot;message&quot;: &quot;ModelMapper mapping errors:\\n\\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\\n\\n1 error&quot;,\r\n    &quot;details&quot;: &quot;uri=/api/v1/users/c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\r\n    &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;\r\n}\r\n```\r\nThis is the error log within the catch block in IntelliJ.\r\n\r\n\r\n```\r\norg.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\r\n\r\n1 error\r\n\tat org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\r\n\tat org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\r\n\tat org.modelmapper.ModelMapper.map(ModelMapper.java:406)\r\n\tat com.frankie.workdev.service.serviceImpl.UserServiceImpl.getUserById(UserServiceImpl.java:121)\r\n\tat com.frankie.workdev.controller.UserController.getUserById(UserController.java:41)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat com.frankie.workdev.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\r\n\r\n1) Failed to set value &#39;com.frankie.workdev.dto.user.UserInfoDto@1dfba458&#39; on com.frankie.workdev.dto.user.UserInfoDto.setUpdatedBy()\r\n\r\n1 error\r\n\tat org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\r\n\tat org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:126)\r\n\tat org.modelmapper.internal.MappingContextImpl.getParentDestination(MappingContextImpl.java:325)\r\n\tat org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:230)\r\n\tat org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\r\n\tat org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\r\n\tat org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\r\n\t... 102 more\r\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:108)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:124)\r\n\t... 108 more\r\n\r\n```\r\n\r\n\r\n\r\nI have looked into the information and found that using @ManyToOne may cause errors when mapping an object with a self-referencing relationship. However, my logic is to have one user create multiple accounts, but each account belongs to only one user in fields such as createdBy, updatedBy, and deletedBy. I hope someone can provide guidance on this matter. Thank you.","title":"errors related to ModelMapping when using @ManyToOne","body":"<p>User Entity:</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    private String id;\n\n    @Column(unique = true)\n    private String email;\n    private String password;\n    private int age;\n    private String fullName;\n    private String address;\n    private String phoneNumber;\n\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;created_by_id&quot;)\n    private User createdBy;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;updated_by_id&quot;)\n    private User updatedBy;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;deleted_by_id&quot;)\n    private User deletedBy;\n\n    @Column(name = &quot;is_deleted&quot;)\n    private boolean isDeleted = false;\n\n    private LocalDateTime deletedAt;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Company company;\n\n    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;users_id&quot;, referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;, referencedColumnName = &quot;id&quot;)\n    )\n    private List&lt;Role&gt; roles = new ArrayList&lt;&gt;();\n\n    @PrePersist\n    private void setRandomId() {\n        this.id = generateId();\n    }\n\n    private String generateId() {\n        return UUID.randomUUID().toString();\n    }\n}\n\n</code></pre>\n<p>JwtUserInfo</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class JwtUserInfo {\n    private String id;\n    private String fullName;\n    private String email;\n}\n</code></pre>\n<p>UserInfoDto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class UserInfoDto {\n    private String id;\n\n    @Email(message = &quot;Email must be valid&quot;)\n    @NotEmpty(message = &quot;Email must not be empty&quot;)\n    private String email;\n    private String fullName;\n    private String address;\n    private int age;\n\n    @NotEmpty(message = &quot;Phone number must not be empty&quot;)\n    private String phoneNumber;\n\n    @NotEmpty(message = &quot;Company must not be empty&quot;)\n    private CompanyInfoDto company;\n    private JwtUserInfo createdBy;\n    private LocalDateTime createdAt;\n    private JwtUserInfo updatedBy;\n    private LocalDateTime updatedAt;\n    private JwtUserInfo deletedBy;\n    private LocalDateTime deletedAt;\n    private boolean isDeleted;\n}\n</code></pre>\n<p>Here is a part of my logic for retrieving a user by ID.</p>\n<pre><code>@Override\n    public UserInfoDto getUserById(String id) {\n        try {\n            User user = userRepository.findById(id).orElseThrow(\n                    () -&gt; new ResourceNotFoundException(&quot;id&quot;, &quot;User&quot;, id)\n            );\n            return modelMapper.map(user, UserInfoDto.class);\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n<p>I am encountering an issue where, after logging in and checking the 'getUserById' request in Postman, all IDs return correct results except for when I send a request with the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb, which results in an error.</p>\n<p>Here is the information in the database that I have converted to JSON for the ID '0843c5b6-1537-4dbf-b8c7-a28cee8a277b'</p>\n<pre><code>{\n    &quot;id&quot;: &quot;0843c5b6-1537-4dbf-b8c7-a28cee8a277b&quot;,\n    &quot;email&quot;: &quot;nguyenduongchanhtay@gmail.com&quot;,\n    &quot;fullName&quot;: null,\n    &quot;address&quot;: &quot;Hanoi&quot;,\n    &quot;age&quot;: 25,\n    &quot;phoneNumber&quot;: &quot;1241&quot;,\n    &quot;company&quot;: {\n        &quot;id&quot;: &quot;974818d2-5257-4af9-a83d-0eed14127607&quot;,\n        &quot;name&quot;: &quot;MISA Software&quot;\n    },\n    &quot;createdBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;createdAt&quot;: &quot;2023-12-02T03:27:55.736432&quot;,\n    &quot;updatedBy&quot;: null,\n    &quot;updatedAt&quot;: &quot;2023-12-02T04:18:45.977473&quot;,\n    &quot;deletedBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;deletedAt&quot;: &quot;2023-12-02T04:18:45.97672&quot;,\n    &quot;deleted&quot;: true\n}\n</code></pre>\n<p>Here is the information in the database that I have converted to JSON for the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb'</p>\n<pre><code>{\n    &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n    &quot;email&quot;: &quot;admin@gmail.com&quot;,\n    &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n    &quot;address&quot;: &quot;Hanoi&quot;,\n    &quot;age&quot;: 26,\n    &quot;phoneNumber&quot;: &quot;123&quot;,\n    &quot;roles&quot;: [\n        {\n            &quot;id&quot;: &quot;f3c11adb-1bfd-495f-9d9d-ce161ce01211&quot;,\n            &quot;name&quot;: &quot;ROLE_USER&quot;,\n            &quot;permissions&quot;: [\n                {\n                    &quot;id&quot;: &quot;733416fd-397f-41c7-bd1d-b76b97dbafaf&quot;,\n                    &quot;name&quot;: &quot;GET_USERS&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-04T01:48:21.631549&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-04T01:48:21.63157&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;c4a6f052-0753-44db-ac4c-be92711453a4&quot;,\n                    &quot;name&quot;: &quot;GET_USER_BY_ID&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:30:58.923667&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:30:58.923703&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;00140d2d-f596-4a01-841b-c1b62abb72d7&quot;,\n                    &quot;name&quot;: &quot;UPDATE_USER_BY_ID&quot;,\n                    &quot;module&quot;: &quot;USERS&quot;,\n                    &quot;path&quot;: &quot;/users/{id}&quot;,\n                    &quot;method&quot;: &quot;PATCH&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:31:28.028948&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:31:28.028996&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;fada1727-d13e-48e5-81bf-3d8d52c24e93&quot;,\n                    &quot;name&quot;: &quot;GET_COMPANIES&quot;,\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\n                    &quot;path&quot;: &quot;/companies&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:11.256933&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:11.25695&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                },\n                {\n                    &quot;id&quot;: &quot;88b80919-5903-4f0b-baa9-3cfce16e7724&quot;,\n                    &quot;name&quot;: &quot;GET_COMPANY_BY_ID&quot;,\n                    &quot;module&quot;: &quot;COMPANIES&quot;,\n                    &quot;path&quot;: &quot;/companies/{id}&quot;,\n                    &quot;method&quot;: &quot;GET&quot;,\n                    &quot;createdBy&quot;: {\n                        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                        &quot;email&quot;: &quot;admin@gmail.com&quot;\n                    },\n                    &quot;createdAt&quot;: &quot;2023-12-02T19:34:28.031876&quot;,\n                    &quot;updatedBy&quot;: null,\n                    &quot;updatedAt&quot;: &quot;2023-12-02T19:34:28.03191&quot;,\n                    &quot;deletedBy&quot;: null,\n                    &quot;deletedAt&quot;: null,\n                    &quot;deleted&quot;: false\n                }\n            ],\n            &quot;createdBy&quot;: {\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\n            },\n            &quot;createdAt&quot;: &quot;2023-12-03T04:21:52.351181&quot;,\n            &quot;updatedBy&quot;: {\n                &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n                &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n                &quot;email&quot;: &quot;admin@gmail.com&quot;\n            },\n            &quot;updatedAt&quot;: &quot;2023-12-04T04:07:11.08364&quot;,\n            &quot;deletedBy&quot;: null,\n            &quot;deletedAt&quot;: null,\n            &quot;active&quot;: false,\n            &quot;deleted&quot;: false\n        }\n    ],\n    &quot;createdBy&quot;: null,\n    &quot;createdAt&quot;: &quot;2023-12-01 02:31:17.460545&quot;,\n    &quot;updatedBy&quot;: {\n        &quot;id&quot;: &quot;c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n        &quot;fullName&quot;: &quot;Frankie Nguyen&quot;,\n        &quot;email&quot;: &quot;admin@gmail.com&quot;\n    },\n    &quot;updatedAt&quot;: &quot;2023-12-04T22:39:23.040448&quot;,\n    &quot;deletedBy&quot;: null,\n    &quot;deletedAt&quot;: null,\n    &quot;deleted&quot;: false\n}\n</code></pre>\n<p>When I send a 'getUserById' request with the ID '0843c5b6-1537-4dbf-b8c7-a28cee8a277b', the response returns the information in the database that I previously converted to JSON above.\nBut when I send a request with the ID 'c65df504-5394-4a10-b2c1-9efecf4b7fbb', it encounters an error as shown in the image below.</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2023-12-05T00:45:46.731086&quot;,\n    &quot;message&quot;: &quot;ModelMapper mapping errors:\\n\\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\\n\\n1 error&quot;,\n    &quot;details&quot;: &quot;uri=/api/v1/users/c65df504-5394-4a10-b2c1-9efecf4b7fbb&quot;,\n    &quot;errorCode&quot;: &quot;BAD_REQUEST&quot;\n}\n</code></pre>\n<p>This is the error log within the catch block in IntelliJ.</p>\n<pre><code>org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Error mapping com.frankie.workdev.entity.User to com.frankie.workdev.dto.user.UserInfoDto\n\n1 error\n    at org.modelmapper.internal.Errors.throwMappingExceptionIfErrorsExist(Errors.java:380)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:80)\n    at org.modelmapper.ModelMapper.mapInternal(ModelMapper.java:573)\n    at org.modelmapper.ModelMapper.map(ModelMapper.java:406)\n    at com.frankie.workdev.service.serviceImpl.UserServiceImpl.getUserById(UserServiceImpl.java:121)\n    at com.frankie.workdev.controller.UserController.getUserById(UserController.java:41)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:181)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at com.frankie.workdev.security.JwtAuthFilter.doFilterInternal(JwtAuthFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: org.modelmapper.MappingException: ModelMapper mapping errors:\n\n1) Failed to set value 'com.frankie.workdev.dto.user.UserInfoDto@1dfba458' on com.frankie.workdev.dto.user.UserInfoDto.setUpdatedBy()\n\n1 error\n    at org.modelmapper.internal.Errors.toMappingException(Errors.java:258)\n    at org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:126)\n    at org.modelmapper.internal.MappingContextImpl.getParentDestination(MappingContextImpl.java:325)\n    at org.modelmapper.internal.MappingEngineImpl.setDestinationValue(MappingEngineImpl.java:230)\n    at org.modelmapper.internal.MappingEngineImpl.propertyMap(MappingEngineImpl.java:187)\n    at org.modelmapper.internal.MappingEngineImpl.typeMap(MappingEngineImpl.java:151)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:114)\n    at org.modelmapper.internal.MappingEngineImpl.map(MappingEngineImpl.java:71)\n    ... 102 more\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:108)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.modelmapper.internal.PropertyInfoImpl$MethodMutator.setValue(PropertyInfoImpl.java:124)\n    ... 108 more\n\n</code></pre>\n<p>I have looked into the information and found that using @ManyToOne may cause errors when mapping an object with a self-referencing relationship. However, my logic is to have one user create multiple accounts, but each account belongs to only one user in fields such as createdBy, updatedBy, and deletedBy. I hope someone can provide guidance on this matter. Thank you.</p>\n"},{"tags":["java","lambda","java-8","functional-interface"],"comments":[{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":1,"creation_date":1461738590,"post_id":36881826,"comment_id":61329222,"body_markdown":"It  looks duplcate to this link. They also talk about why there should be only one method in Functional Interface. http://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas","body":"It  looks duplcate to this link. They also talk about why there should be only one method in Functional Interface. <a href=\"http://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas\" title=\"why do i need a functional interface to work with lambdas\">stackoverflow.com/questions/33010594/&hellip;</a>"},{"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"score":1,"creation_date":1461738772,"post_id":36881826,"comment_id":61329321,"body_markdown":"@KulbhushanSingh I saw this question before posting... Both questions sense difference...","body":"@KulbhushanSingh I saw this question before posting... Both questions sense difference..."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192684,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1461738324,"creation_date":1461738324,"answer_id":36881900,"question_id":36881826,"body_markdown":"Not at all.  Lambda expressions are the one and only point of that annotation.","title":"What are functional interfaces used for in Java 8?","body":"<p>Not at all.  Lambda expressions are the one and only point of that annotation.</p>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"down_vote_count":2,"up_vote_count":146,"is_accepted":true,"score":144,"last_activity_date":1509682829,"creation_date":1461738635,"answer_id":36882003,"question_id":36881826,"body_markdown":"`@FunctionalInterface` annotation is useful for compilation time checking of your code. You cannot have more than one method besides `static`, `default` and abstract methods that override methods in `Object` in your `@FunctionalInterface` or any other interface used as a functional interface.\r\n\r\nBut you can use lambdas without this annotation as well as you can override methods without `@Override` annotation.\r\n\r\nFrom docs\r\n&gt; a functional interface has exactly one abstract method. Since default\r\n&gt; methods have an implementation, they are not abstract. If an interface\r\n&gt; declares an abstract method overriding one of the public methods of\r\n&gt; java.lang.Object, that also does not count toward the interface&#39;s\r\n&gt; abstract method count since any implementation of the interface will\r\n&gt; have an implementation from java.lang.Object or elsewhere\r\n\r\nThis **can be used** in lambda expression:\r\n\r\n    public interface Foo {\r\n      public void doSomething();\r\n    }\r\n\r\nThis **cannot be used** in lambda expression:\r\n\r\n    public interface Foo {\r\n      public void doSomething();\r\n      public void doSomethingElse();\r\n    }\r\n\r\nBut this will give **compilation error**:\r\n\r\n    @FunctionalInterface\r\n    public interface Foo {\r\n      public void doSomething();\r\n      public void doSomethingElse();\r\n    }\r\n\r\n&gt; Invalid &#39;@FunctionalInterface&#39; annotation; Foo is not a functional\r\n&gt; interface\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.3","title":"What are functional interfaces used for in Java 8?","body":"<p><code>@FunctionalInterface</code> annotation is useful for compilation time checking of your code. You cannot have more than one method besides <code>static</code>, <code>default</code> and abstract methods that override methods in <code>Object</code> in your <code>@FunctionalInterface</code> or any other interface used as a functional interface.</p>\n\n<p>But you can use lambdas without this annotation as well as you can override methods without <code>@Override</code> annotation.</p>\n\n<p>From docs</p>\n\n<blockquote>\n  <p>a functional interface has exactly one abstract method. Since default\n  methods have an implementation, they are not abstract. If an interface\n  declares an abstract method overriding one of the public methods of\n  java.lang.Object, that also does not count toward the interface's\n  abstract method count since any implementation of the interface will\n  have an implementation from java.lang.Object or elsewhere</p>\n</blockquote>\n\n<p>This <strong>can be used</strong> in lambda expression:</p>\n\n<pre><code>public interface Foo {\n  public void doSomething();\n}\n</code></pre>\n\n<p>This <strong>cannot be used</strong> in lambda expression:</p>\n\n<pre><code>public interface Foo {\n  public void doSomething();\n  public void doSomethingElse();\n}\n</code></pre>\n\n<p>But this will give <strong>compilation error</strong>:</p>\n\n<pre><code>@FunctionalInterface\npublic interface Foo {\n  public void doSomething();\n  public void doSomethingElse();\n}\n</code></pre>\n\n<blockquote>\n  <p>Invalid '@FunctionalInterface' annotation; Foo is not a functional\n  interface</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4264083,"reputation":6317,"user_id":3487617,"display_name":"Hank D"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1461739604,"creation_date":1461739604,"answer_id":36882322,"question_id":36881826,"body_markdown":"A lambda expression can be assigned to a functional interface type, but so can method references, and anonymous classes.\r\n\r\nOne nice thing about the specific functional interfaces in `java.util.function` is that they can be composed to create new functions (like `Function.andThen` and `Function.compose`, `Predicate.and`, etc.) due to the handy default methods they contain.","title":"What are functional interfaces used for in Java 8?","body":"<p>A lambda expression can be assigned to a functional interface type, but so can method references, and anonymous classes.</p>\n\n<p>One nice thing about the specific functional interfaces in <code>java.util.function</code> is that they can be composed to create new functions (like <code>Function.andThen</code> and <code>Function.compose</code>, <code>Predicate.and</code>, etc.) due to the handy default methods they contain.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1578592303,"creation_date":1461746059,"answer_id":36884458,"question_id":36881826,"body_markdown":"The [documentation](https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html) makes indeed a difference between the purpose\n\n&gt; An informative annotation type used to indicate that an interface type declaration is intended to be a *functional interface* as defined by the Java Language Specification.\n\nand the use case\n\n&gt; Note that instances of functional interfaces can be created with lambda expressions, method references, or constructor references.\n\nwhose wording does not preclude other use cases in general. Since the primary purpose is to indicate a *functional interface*, your actual question boils down to *“Are there other use cases for* functional interfaces *other than lambda expressions and method/constructor references?”*\n\nSince *functional interface* is a Java language construct defined by the Java Language Specification, only that specification can answer that question:\n\n[JLS &#167;9.8. Functional Interfaces](https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8):\n\n&gt; …\n&gt;\n&gt; In addition to the usual process of creating an interface instance by declaring and instantiating a class (&#167;15.9), instances of functional interfaces can be created with method reference expressions and lambda expressions (&#167;15.13, &#167;15.27).\n\nSo the Java Language Specification doesn’t say otherwise, the only use case mentioned in that section is that of creating interface instances with method reference expressions and lambda expressions. (This includes constructor references as they are noted as one form of method reference expression in the specification).\n\nSo in one sentence, no, there is no other use case for it in Java&#160;8.","title":"What are functional interfaces used for in Java 8?","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/FunctionalInterface.html\" rel=\"noreferrer\">documentation</a> makes indeed a difference between the purpose</p>\n<blockquote>\n<p>An informative annotation type used to indicate that an interface type declaration is intended to be a <em>functional interface</em> as defined by the Java Language Specification.</p>\n</blockquote>\n<p>and the use case</p>\n<blockquote>\n<p>Note that instances of functional interfaces can be created with lambda expressions, method references, or constructor references.</p>\n</blockquote>\n<p>whose wording does not preclude other use cases in general. Since the primary purpose is to indicate a <em>functional interface</em>, your actual question boils down to <em>“Are there other use cases for</em> functional interfaces <em>other than lambda expressions and method/constructor references?”</em></p>\n<p>Since <em>functional interface</em> is a Java language construct defined by the Java Language Specification, only that specification can answer that question:</p>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.8\" rel=\"noreferrer\">JLS §9.8. Functional Interfaces</a>:</p>\n<blockquote>\n<p>…</p>\n<p>In addition to the usual process of creating an interface instance by declaring and instantiating a class (§15.9), instances of functional interfaces can be created with method reference expressions and lambda expressions (§15.13, §15.27).</p>\n</blockquote>\n<p>So the Java Language Specification doesn’t say otherwise, the only use case mentioned in that section is that of creating interface instances with method reference expressions and lambda expressions. (This includes constructor references as they are noted as one form of method reference expression in the specification).</p>\n<p>So in one sentence, no, there is no other use case for it in Java 8.</p>\n"},{"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1461767996,"creation_date":1461767996,"answer_id":36893110,"question_id":36881826,"body_markdown":"As others have said, a functional interface is an interface which exposes one method. It may have more than one method, but all of the others must have a default implementation. The reason it&#39;s called a &quot;functional interface&quot; is because it effectively acts as a function. Since you can pass interfaces as parameters, it means that functions are now &quot;first-class citizens&quot; like in functional programming languages. This has many benefits, and you&#39;ll see them quite a lot when using the Stream API. Of course, lambda expressions are the main obvious use for them.","title":"What are functional interfaces used for in Java 8?","body":"<p>As others have said, a functional interface is an interface which exposes one method. It may have more than one method, but all of the others must have a default implementation. The reason it's called a \"functional interface\" is because it effectively acts as a function. Since you can pass interfaces as parameters, it means that functions are now \"first-class citizens\" like in functional programming languages. This has many benefits, and you'll see them quite a lot when using the Stream API. Of course, lambda expressions are the main obvious use for them.</p>\n"},{"tags":[],"owner":{"account_id":6135552,"reputation":2268,"user_id":4784537,"display_name":"Ahmad Al-Kurdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531849841,"creation_date":1531311190,"answer_id":51285201,"question_id":36881826,"body_markdown":"`@FunctionalInterface` is a new annotation are released with Java 8 and provide target types for lambda expressions and it used on compilation time checking of your code.\r\n\r\nWhen you want to use it :\r\n\r\n1- Your interface **must not** have more than one abstract methods, otherwise compilation error will be given.\r\n\r\n\r\n1- Your interface **Should** be pure, which means functional interface is intended to be implemented by stateless classes, exmple of pure is `Comparator` interface because its not depend on the implementers state, in this case **No** compilation error will be given, but in many cases you will not be able to use lambda with this kind of interfaces \r\n\r\n\r\n\r\n The `java.util.function` package contains various general purpose functional interfaces such as `Predicate`, `Consumer`, `Function`, and `Supplier`. \r\n\r\nAlso please note that you can use lambdas without this annotation.\r\n\r\n \r\n\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p><code>@FunctionalInterface</code> is a new annotation are released with Java 8 and provide target types for lambda expressions and it used on compilation time checking of your code.</p>\n\n<p>When you want to use it :</p>\n\n<p>1- Your interface <strong>must not</strong> have more than one abstract methods, otherwise compilation error will be given.</p>\n\n<p>1- Your interface <strong>Should</strong> be pure, which means functional interface is intended to be implemented by stateless classes, exmple of pure is <code>Comparator</code> interface because its not depend on the implementers state, in this case <strong>No</strong> compilation error will be given, but in many cases you will not be able to use lambda with this kind of interfaces </p>\n\n<p>The <code>java.util.function</code> package contains various general purpose functional interfaces such as <code>Predicate</code>, <code>Consumer</code>, <code>Function</code>, and <code>Supplier</code>. </p>\n\n<p>Also please note that you can use lambdas without this annotation.</p>\n"},{"tags":[],"owner":{"account_id":9546393,"reputation":1184,"user_id":7092293,"display_name":"MMKarami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536932640,"creation_date":1536932640,"answer_id":52333286,"question_id":36881826,"body_markdown":"Beside other answers, I think the main reason to &quot;why using Functional Interface other than directly with lambda expressions&quot; can be related to nature of Java language which is Object Oriented. \r\n\r\nThe main attributes of Lambda expressions are: 1. They can be passed around 2. and they can executed in future in specific time (several times). Now to support this feature in languages, some other languages deal simply with this matter. \r\n\r\nFor instance in Java Script, a function (Anonymous function, or Function literals) can be addressed as a object. So, you can create them simply and also they can be assigned to a variable and so forth. For example:\r\n\r\n    var myFunction = function (...) {\r\n    \t...;\r\n    }\r\n    alert(myFunction(...));\r\n\r\nor via ES6, you can use an arrow function.\r\n\r\n    const myFunction = ... =&gt; ...\r\n\r\nUp to now, Java language designers have not accepted to handle mentioned features via these manner (functional programming techniques). They believe that Java language is Object Oriented and therefore they should solve this problem via Object Oriented techniques. They don&#39;t want to miss simplicity and consistency of Java language. \r\n\r\nTherefore, they use interfaces, as when an object of an interface with just one method (I mean functional interface) is need you can replace it with a lambda expression. Such as:\r\n\r\n    ActionListener listener = event -&gt; ...;\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Beside other answers, I think the main reason to \"why using Functional Interface other than directly with lambda expressions\" can be related to nature of Java language which is Object Oriented. </p>\n\n<p>The main attributes of Lambda expressions are: 1. They can be passed around 2. and they can executed in future in specific time (several times). Now to support this feature in languages, some other languages deal simply with this matter. </p>\n\n<p>For instance in Java Script, a function (Anonymous function, or Function literals) can be addressed as a object. So, you can create them simply and also they can be assigned to a variable and so forth. For example:</p>\n\n<pre><code>var myFunction = function (...) {\n    ...;\n}\nalert(myFunction(...));\n</code></pre>\n\n<p>or via ES6, you can use an arrow function.</p>\n\n<pre><code>const myFunction = ... =&gt; ...\n</code></pre>\n\n<p>Up to now, Java language designers have not accepted to handle mentioned features via these manner (functional programming techniques). They believe that Java language is Object Oriented and therefore they should solve this problem via Object Oriented techniques. They don't want to miss simplicity and consistency of Java language. </p>\n\n<p>Therefore, they use interfaces, as when an object of an interface with just one method (I mean functional interface) is need you can replace it with a lambda expression. Such as:</p>\n\n<pre><code>ActionListener listener = event -&gt; ...;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9267443,"reputation":6365,"user_id":6882497,"accept_rate":77,"display_name":"Akiner Alkan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564033565,"creation_date":1537164365,"answer_id":52361613,"question_id":36881826,"body_markdown":"You can use lambda in Java 8\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    tentimes(inputPrm - &gt; System.out.println(inputPrm));\r\n    //tentimes(System.out::println);  // You can also replace lambda with static method reference\r\n}\r\n\r\npublic static void tentimes(Consumer myFunction) {\r\n    for (int i = 0; i &lt; 10; i++)\r\n        myFunction.accept(&quot;hello&quot;);\r\n}\r\n```\r\n\r\nFor further info about [Java Lambdas][1] and [FunctionalInterfaces][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html","title":"What are functional interfaces used for in Java 8?","body":"<p>You can use lambda in Java 8</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    tentimes(inputPrm - &gt; System.out.println(inputPrm));\n    //tentimes(System.out::println);  // You can also replace lambda with static method reference\n}\n\npublic static void tentimes(Consumer myFunction) {\n    for (int i = 0; i &lt; 10; i++)\n        myFunction.accept(\"hello\");\n}\n</code></pre>\n\n<p>For further info about <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Java Lambdas</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">FunctionalInterfaces</a></p>\n"},{"tags":[],"owner":{"account_id":14420650,"reputation":99,"user_id":10416754,"display_name":"Akhilesh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1538560069,"creation_date":1537941155,"answer_id":52510804,"question_id":36881826,"body_markdown":"An interface with only one abstract method is called Functional Interface. \r\nIt is not mandatory to use @FunctionalInterface, but it’s best practice to use it with functional interfaces to avoid addition of extra methods accidentally. If the interface is annotated with @FunctionalInterface annotation and we try to have more than one abstract method, it throws compiler error.\r\n        \r\n    package com.akhi;\r\n        @FunctionalInterface\r\n        public interface FucnctionalDemo {\r\n        \t\r\n          void letsDoSomething();\r\n          //void letsGo();  \t//invalid because another abstract method does not allow\r\n          public String toString();    // valid because toString from Object \r\n          public boolean equals(Object o); //valid\r\n          \r\n          public static int sum(int a,int b)   // valid because method static\r\n          \t{   \r\n        \t\treturn a+b;\r\n        \t}\r\n        \tpublic default int sub(int a,int b)   //valid because method default\r\n        \t{\r\n        \t\treturn a-b;\r\n        \t}\r\n        }\r\n\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>An interface with only one abstract method is called Functional Interface. \nIt is not mandatory to use @FunctionalInterface, but it’s best practice to use it with functional interfaces to avoid addition of extra methods accidentally. If the interface is annotated with @FunctionalInterface annotation and we try to have more than one abstract method, it throws compiler error.</p>\n\n<pre><code>package com.akhi;\n    @FunctionalInterface\n    public interface FucnctionalDemo {\n\n      void letsDoSomething();\n      //void letsGo();      //invalid because another abstract method does not allow\n      public String toString();    // valid because toString from Object \n      public boolean equals(Object o); //valid\n\n      public static int sum(int a,int b)   // valid because method static\n        {   \n            return a+b;\n        }\n        public default int sub(int a,int b)   //valid because method default\n        {\n            return a-b;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2820470,"reputation":89,"user_id":2424331,"display_name":"Ketan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556188909,"creation_date":1545137594,"answer_id":53833462,"question_id":36881826,"body_markdown":"Functional Interface:\r\n\r\n - Introduced in Java 8\r\n - Interface that contains a &quot;single abstract&quot; method.\r\n\r\nExample 1: \r\n\t\t\r\n       interface CalcArea {   // --functional interface\r\n\t\t\tdouble calcArea(double rad);\r\n\t\t}\t\t\t\r\n\t\t\r\nExample 2:\r\n\r\n\tinterface CalcGeometry { // --functional interface\r\n\t\tdouble calcArea(double rad);\r\n\t\tdefault double calcPeri(double rad) {\r\n\t\t\treturn 0.0;\r\n\t\t}\r\n\t}\t\t\r\n\r\nExample 3:\r\n\r\n\tinterface CalcGeometry {  // -- not functional interface\r\n\t\tdouble calcArea(double rad);\r\n\t\tdouble calcPeri(double rad);\r\n\t}\t\r\n\r\nJava8 annotation -- `@FunctionalInterface`\r\n\r\n - Annotation check that interface contains only one abstract method. If not, raise error.\r\n - Even though @FunctionalInterface missing, it is still functional interface (if having single abstract method). The annotation helps avoid mistakes.\r\n - Functional interface may have additional static &amp; default methods.\r\n - e.g. Iterable&lt;&gt;, Comparable&lt;&gt;, Comparator&lt;&gt;.\r\n\t\t\r\nApplications of Functional Interface:\r\n\r\n - Method references\r\n - Lambda Expression\r\n - Constructor references\r\n\r\nTo learn functional interfaces, learn first default methods in interface, and after learning functional interface, it will be easy to you to understand method reference and lambda expression\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Functional Interface:</p>\n\n<ul>\n<li>Introduced in Java 8</li>\n<li>Interface that contains a \"single abstract\" method.</li>\n</ul>\n\n<p>Example 1: </p>\n\n<pre><code>   interface CalcArea {   // --functional interface\n        double calcArea(double rad);\n    }           \n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>interface CalcGeometry { // --functional interface\n    double calcArea(double rad);\n    default double calcPeri(double rad) {\n        return 0.0;\n    }\n}       \n</code></pre>\n\n<p>Example 3:</p>\n\n<pre><code>interface CalcGeometry {  // -- not functional interface\n    double calcArea(double rad);\n    double calcPeri(double rad);\n}   \n</code></pre>\n\n<p>Java8 annotation -- <code>@FunctionalInterface</code></p>\n\n<ul>\n<li>Annotation check that interface contains only one abstract method. If not, raise error.</li>\n<li>Even though @FunctionalInterface missing, it is still functional interface (if having single abstract method). The annotation helps avoid mistakes.</li>\n<li>Functional interface may have additional static &amp; default methods.</li>\n<li>e.g. Iterable&lt;>, Comparable&lt;>, Comparator&lt;>.</li>\n</ul>\n\n<p>Applications of Functional Interface:</p>\n\n<ul>\n<li>Method references</li>\n<li>Lambda Expression</li>\n<li>Constructor references</li>\n</ul>\n\n<p>To learn functional interfaces, learn first default methods in interface, and after learning functional interface, it will be easy to you to understand method reference and lambda expression</p>\n"},{"tags":[],"owner":{"account_id":6275005,"reputation":11,"user_id":4877925,"display_name":"yog_05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606303709,"creation_date":1606289225,"answer_id":65000147,"question_id":36881826,"body_markdown":"Functional Interfaces: An interface is called a functional interface if it has a single abstract method irrespective of the number of default or static methods. Functional Interface are use for lamda expression. `Runnable`, `Callable`, `Comparable`, `Comparator` are few examples of `Functional` Interface.\r\n\r\nKeyNotes:\r\n - Annotation `@FunctionalInterface` is used(Optional).\r\n - It should have only 1 abstract method(irrespective of number of default and static \r\n    methods).\r\n - Two abstract method gives compilation error(Provider `@FunctionalInterface` annotation is \r\n    used).\r\n\r\n\r\n This [thread][1] talks more in detail about what benefit functional Interface gives over anonymous class and how to use them.\r\n\r\n\r\n  [1]: http://justjavathings05.blogspot.com/2020/11/understand-functional-interface.html","title":"What are functional interfaces used for in Java 8?","body":"<p>Functional Interfaces: An interface is called a functional interface if it has a single abstract method irrespective of the number of default or static methods. Functional Interface are use for lamda expression. <code>Runnable</code>, <code>Callable</code>, <code>Comparable</code>, <code>Comparator</code> are few examples of <code>Functional</code> Interface.</p>\n<p>KeyNotes:</p>\n<ul>\n<li>Annotation <code>@FunctionalInterface</code> is used(Optional).</li>\n<li>It should have only 1 abstract method(irrespective of number of default and static\nmethods).</li>\n<li>Two abstract method gives compilation error(Provider <code>@FunctionalInterface</code> annotation is\nused).</li>\n</ul>\n<p>This <a href=\"http://justjavathings05.blogspot.com/2020/11/understand-functional-interface.html\" rel=\"nofollow noreferrer\">thread</a> talks more in detail about what benefit functional Interface gives over anonymous class and how to use them.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701712106,"creation_date":1701712106,"answer_id":77601554,"question_id":36881826,"body_markdown":"Java has introduced many features in Java 8 but one of the important features related to functional interface is **Stream**.\r\n\r\nWhen you look at most of the **Stream&#39;s** features we use lambda expression only. To shorten the code writing in **Stream** java has introduced this feature.\r\n\r\n","title":"What are functional interfaces used for in Java 8?","body":"<p>Java has introduced many features in Java 8 but one of the important features related to functional interface is <strong>Stream</strong>.</p>\n<p>When you look at most of the <strong>Stream's</strong> features we use lambda expression only. To shorten the code writing in <strong>Stream</strong> java has introduced this feature.</p>\n"}],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150791,"favorite_count":0,"down_vote_count":0,"up_vote_count":189,"accepted_answer_id":36882003,"answer_count":12,"score":189,"last_activity_date":1701712106,"creation_date":1461738083,"question_id":36881826,"body_markdown":"I came across a new term in Java 8: &quot;functional interface&quot;. I could only find one use of it while working with *lambda expressions*. \r\n\r\nJava 8 provides some built-in functional interfaces and if we want to define any functional interface then we can make use of the `@FunctionalInterface` annotation. It will allow us to declare only a single method in the interface.\r\n\r\nFor example:\r\n\r\n    @FunctionalInterface\r\n    interface MathOperation {\r\n        int operation(int a, int b);\r\n    }\r\n\r\nHow useful it is in Java 8 other than just working with *lambda expressions*? \r\n\r\n(The question [here][1] is different from the one I asked. It is asking why we need functional interfaces while working with lambda expressions. My question is: What are the other uses of functional interfaces besides use with lambda expressions?)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas","title":"What are functional interfaces used for in Java 8?","body":"<p>I came across a new term in Java 8: &quot;functional interface&quot;. I could only find one use of it while working with <em>lambda expressions</em>.</p>\n<p>Java 8 provides some built-in functional interfaces and if we want to define any functional interface then we can make use of the <code>@FunctionalInterface</code> annotation. It will allow us to declare only a single method in the interface.</p>\n<p>For example:</p>\n<pre><code>@FunctionalInterface\ninterface MathOperation {\n    int operation(int a, int b);\n}\n</code></pre>\n<p>How useful it is in Java 8 other than just working with <em>lambda expressions</em>?</p>\n<p>(The question <a href=\"https://stackoverflow.com/questions/33010594/why-do-i-need-a-functional-interface-to-work-with-lambdas\">here</a> is different from the one I asked. It is asking why we need functional interfaces while working with lambda expressions. My question is: What are the other uses of functional interfaces besides use with lambda expressions?)</p>\n"},{"tags":["java","kotlin","gradle","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":1,"creation_date":1701715445,"post_id":77601412,"comment_id":136807789,"body_markdown":"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/","body":"<a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2021/11/&hellip;</a>"}],"owner":{"account_id":16955942,"reputation":46,"user_id":12264338,"display_name":"beet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701711348,"creation_date":1701710818,"question_id":77601412,"body_markdown":"In various answers I found the following ways to specify the JDK version:\r\n\r\n```kotlin\r\nconst val JDK_VERSION = 17\r\n\r\n// 1\r\nextensions.configure&lt;KotlinMultiplatformExtension&gt; {\r\n    jvm {\r\n        jvmToolchain(JDK_VERSION)\r\n    }\r\n}\r\n\r\n// 2\r\ntasks.withType(KotlinCompile::class.java) {\r\n    compilerOptions {\r\n        jvmTarget.set(JvmTarget.fromTarget(JDK_VERSION.toString()))\r\n    }\r\n}\r\n\r\n// 3\r\nextensions.findByType(JavaPluginExtension::class.java)?.apply {\r\n    sourceCompatibility = JavaVersion.toVersion(JDK_VERSION)\r\n    targetCompatibility = JavaVersion.toVersion(JDK_VERSION)\r\n}\r\n```\r\n\r\nCan you please tell me what is the difference between them all? In what cases should they be used?","title":"Various ways to specify JDK version for a Kotlin project in Gradle","body":"<p>In various answers I found the following ways to specify the JDK version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>const val JDK_VERSION = 17\n\n// 1\nextensions.configure&lt;KotlinMultiplatformExtension&gt; {\n    jvm {\n        jvmToolchain(JDK_VERSION)\n    }\n}\n\n// 2\ntasks.withType(KotlinCompile::class.java) {\n    compilerOptions {\n        jvmTarget.set(JvmTarget.fromTarget(JDK_VERSION.toString()))\n    }\n}\n\n// 3\nextensions.findByType(JavaPluginExtension::class.java)?.apply {\n    sourceCompatibility = JavaVersion.toVersion(JDK_VERSION)\n    targetCompatibility = JavaVersion.toVersion(JDK_VERSION)\n}\n</code></pre>\n<p>Can you please tell me what is the difference between them all? In what cases should they be used?</p>\n"},{"tags":["java","eclipse","switch-statement","pattern-matching","java-17"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1655080725,"post_id":72596788,"comment_id":128238434,"body_markdown":"What does `javac` say when you compile that file?","body":"What does <code>javac</code> say when you compile that file?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655082275,"post_id":72596788,"comment_id":128238555,"body_markdown":"Good idea. I tried with Maven (which should be equivalent to `javac`), and it gave the same error! I updated the question with this additional information.","body":"Good idea. I tried with Maven (which should be equivalent to <code>javac</code>), and it gave the same error! I updated the question with this additional information."},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1655083507,"post_id":72596788,"comment_id":128238695,"body_markdown":"*&quot;Isn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?&quot;* - It is a preview feature, not a full feature.  See https://stackoverflow.com/questions/52232681 for how to enable preview features in Maven builds.","body":"<i>&quot;Isn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?&quot;</i> - It is a preview feature, not a full feature.  See <a href=\"https://stackoverflow.com/questions/52232681\">stackoverflow.com/questions/52232681</a> for how to enable preview features in Maven builds."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1655086355,"post_id":72596788,"comment_id":128239050,"body_markdown":"I had read https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7 , which seemed to indicate that the `null` cases was present in Java 17, but I guess that is different than pattern matching. So pattern matching is a full feature in Java 17, and `null` case statements is a full feature in Java 17, but pattern matching with `null` is only a preview feature in Java 17? That&#39;s sort of confusing.","body":"I had read <a href=\"https://medium.com/@javatechie/the-evolution-of-switch-statement-from-java-7-to-java-17-4b5eee8d29b7\" rel=\"nofollow noreferrer\">medium.com/@javatechie/&hellip;</a> , which seemed to indicate that the <code>null</code> cases was present in Java 17, but I guess that is different than pattern matching. So pattern matching is a full feature in Java 17, and <code>null</code> case statements is a full feature in Java 17, but pattern matching with <code>null</code> is only a preview feature in Java 17? That&#39;s sort of confusing."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1655096464,"post_id":72596788,"comment_id":128240419,"body_markdown":"In Java 17, _Pattern Matching for switch_ is a preview feature. See new features of Java 17: https://openjdk.java.net/projects/jdk/17/","body":"In Java 17, <i>Pattern Matching for switch</i> is a preview feature. See new features of Java 17: <a href=\"https://openjdk.java.net/projects/jdk/17/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/jdk/17</a>"},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1655110888,"post_id":72596788,"comment_id":128244271,"body_markdown":"I just noted that enabling preview features under Eclipse isn’t helpful either. It compiles, but produces a `NullPointerException` at runtime. Seems, that support isn’t complete.","body":"I just noted that enabling preview features under Eclipse isn’t helpful either. It compiles, but produces a <code>NullPointerException</code> at runtime. Seems, that support isn’t complete."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655083447,"creation_date":1655083447,"answer_id":72596978,"question_id":72596788,"body_markdown":"This command line works for me:\r\n```\r\n$ javac -version\r\njavac 17.0.3\r\n$ javac  -source 17 -Xlint:preview --enable-preview org/kablambda/Main.java\r\norg/kablambda/Main.java:10: warning: [preview] null in switch cases is a preview feature and may be removed in a future release.\r\n            case null -&gt; &quot;c&quot;;\r\n                 ^\r\n1 warning\r\n```","title":"Java 17 null case with pattern matching","body":"<p>This command line works for me:</p>\n<pre><code>$ javac -version\njavac 17.0.3\n$ javac  -source 17 -Xlint:preview --enable-preview org/kablambda/Main.java\norg/kablambda/Main.java:10: warning: [preview] null in switch cases is a preview feature and may be removed in a future release.\n            case null -&gt; &quot;c&quot;;\n                 ^\n1 warning\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1701711208,"creation_date":1655085786,"answer_id":72597126,"question_id":72596788,"body_markdown":"**Update:** Pattern matching for `switch` [arrived in Java 21][1]. \r\n\r\n# tl;dr\r\n\r\n&#128073; `switch` expressions != pattern matching with `switch`\r\n\r\nYou are mixing up the relatively new feature of *`switch` expressions* with the still-not-released feature of *pattern matching with `switch`*. \r\n\r\nThe `switch` feature in Java has been evolving through 3 phases, two completed:\r\n\r\n - ☑️ `switch` statement (original feature in Java 1)\r\n - ☑️ `switch` expression (Java 14+)\r\n - ❌ Pattern matching for `switch`, including `case null` (previewed in Java 17, 18, 19, &amp; 20)\r\n\r\n\r\n\r\n\r\n# Do not conflate `switch` expressions with pattern matching\r\n\r\n## Classic `switch`\r\n\r\nUnderstand that historically, the Java `switch` statement has been hostile to `null` checks. See this Question, [*How to use null in switch*](https://stackoverflow.com/q/10332132/642706). As shown there, code such as this:\r\n\r\n```java\r\nswitch (i) {\r\n    case null:\r\n        doSomething0();\r\n        break;    \r\n}\r\n``` \r\n… was not possible. \r\n\r\n## `switch` expressions\r\n\r\nFast forward to Java 14, when `switch` expressions was added to Java. See [*JEP 361: Switch Expressions*](https://openjdk.java.net/jeps/361). That allows the syntax seen in your first code example:\r\n\r\n```java\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n}\r\n```\r\n\r\nBut read the JEP. No mention of `null` — &#171; crickets &#187;.\r\n\r\n## Pattern matching for `switch`\r\n\r\nFast forward further, to [*JEP 406: Pattern Matching for switch (Preview)*](https://openjdk.java.net/jeps/406). Note that this is a preview feature in Java 17, not a final, officially released feature. (To understand how preview features work, read [*JEP 12: Preview Features*](https://openjdk.java.net/jeps/12).)\r\n\r\n&#128073; In that JEP 406, notice its second goal: ***Allow the historical null-hostility of switch to be relaxed when desired***. \r\n\r\nNow search that page for “null” —&#160;73 hits! That page explains the former policy of the Java language:\r\n\r\n&gt;Traditionally, `switch` statements and expressions throw `NullPointerException` if the selector expression evaluates to `null` …\r\n\r\nNotice the mention of *statements*, the original `switch` syntax, and additionally *expressions*, the new syntax used in your code. In both cases, `null` check was forbidden.\r\n\r\nThat page goes on to explain the changes that motivate the inclusion of support for null checks. Read the JEP for will-written details.\r\n\r\n&#128073; The upshot is that you can use `case null` in a `switch` in Java 17 — but only if you go out of your way to **enable the preview feature**. \r\n\r\n# Still in preview, in Java 20\r\n\r\n - The preview in Java 17 was *not* finalized in Java 18. \r\n - [Java 18 saw a second preview][2]. \r\n - A third preview appeared in Java 19: [*JEP 427: Pattern Matching for switch (Third Preview)*](https://openjdk.java.net/jeps/427). \r\n - &#128073; Currently in [4th preview in Java 20][3], as of 2022-10. \r\n\r\n[*&quot;We will sell no wine before its time.&quot;*][4]\r\n\r\nThere too, in Java 20, you will have to go out of your way to **activate the preview feature**. \r\n\r\nAnd of course two reminders: \r\n\r\n - Preview features should not be used in production for critical apps. \r\n - Preview features are likely to change. That is their purpose, to gather feedback and suggestions leading to changes. \r\n\r\n# Example\r\n\r\nLet&#39;s try this code example. Notice how we use plain old syntax here, without the `-&gt;`. The arrow operator is not related to our discussion here.\r\n\r\n```java\r\nString x = null;\r\nswitch ( x )\r\n{\r\n    case &quot;starburst&quot;:\r\n        System.out.println( &quot;Is starburst.&quot; );\r\n        break;\r\n    case null:\r\n        System.out.println( &quot;Whoops, null.&quot; );\r\n        break;\r\n    default:\r\n        System.out.println( &quot;Some other value found.&quot; );\r\n        break;\r\n}\r\n```\r\n\r\nIn Java 17, by default, without enabling preview features we get this error while editing the code for `case null`:\r\n\r\n&gt;Patterns in switch are not supported at language level &#39;17&#39;\r\n&gt;\r\n&gt;Set language level to 17 (Preview) - Pattern matching for switch\r\n\r\nAfter enabling preview features in Java 17, the code compiles without complaint. And it runs:\r\n\r\n&gt;Whoops, null.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/441\r\n  [2]: https://openjdk.java.net/jeps/420\r\n  [3]: https://openjdk.org/jeps/433\r\n  [4]: https://en.wikipedia.org/wiki/Orson_Welles_Paul_Masson_advertisements#1978:_Original_ad%E2%80%94Beethoven,_Emerald_Dry","title":"Java 17 null case with pattern matching","body":"<p><strong>Update:</strong> Pattern matching for <code>switch</code> <a href=\"https://openjdk.org/jeps/441\" rel=\"nofollow noreferrer\">arrived in Java 21</a>.</p>\n<h1>tl;dr</h1>\n<p>👉 <code>switch</code> expressions != pattern matching with <code>switch</code></p>\n<p>You are mixing up the relatively new feature of <em><code>switch</code> expressions</em> with the still-not-released feature of <em>pattern matching with <code>switch</code></em>.</p>\n<p>The <code>switch</code> feature in Java has been evolving through 3 phases, two completed:</p>\n<ul>\n<li>☑️ <code>switch</code> statement (original feature in Java 1)</li>\n<li>☑️ <code>switch</code> expression (Java 14+)</li>\n<li>❌ Pattern matching for <code>switch</code>, including <code>case null</code> (previewed in Java 17, 18, 19, &amp; 20)</li>\n</ul>\n<h1>Do not conflate <code>switch</code> expressions with pattern matching</h1>\n<h2>Classic <code>switch</code></h2>\n<p>Understand that historically, the Java <code>switch</code> statement has been hostile to <code>null</code> checks. See this Question, <a href=\"https://stackoverflow.com/q/10332132/642706\"><em>How to use null in switch</em></a>. As shown there, code such as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>switch (i) {\n    case null:\n        doSomething0();\n        break;    \n}\n</code></pre>\n<p>… was not possible.</p>\n<h2><code>switch</code> expressions</h2>\n<p>Fast forward to Java 14, when <code>switch</code> expressions was added to Java. See <a href=\"https://openjdk.java.net/jeps/361\" rel=\"nofollow noreferrer\"><em>JEP 361: Switch Expressions</em></a>. That allows the syntax seen in your first code example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n}\n</code></pre>\n<p>But read the JEP. No mention of <code>null</code> — « crickets ».</p>\n<h2>Pattern matching for <code>switch</code></h2>\n<p>Fast forward further, to <a href=\"https://openjdk.java.net/jeps/406\" rel=\"nofollow noreferrer\"><em>JEP 406: Pattern Matching for switch (Preview)</em></a>. Note that this is a preview feature in Java 17, not a final, officially released feature. (To understand how preview features work, read <a href=\"https://openjdk.java.net/jeps/12\" rel=\"nofollow noreferrer\"><em>JEP 12: Preview Features</em></a>.)</p>\n<p>👉 In that JEP 406, notice its second goal: <em><strong>Allow the historical null-hostility of switch to be relaxed when desired</strong></em>.</p>\n<p>Now search that page for “null” — 73 hits! That page explains the former policy of the Java language:</p>\n<blockquote>\n<p>Traditionally, <code>switch</code> statements and expressions throw <code>NullPointerException</code> if the selector expression evaluates to <code>null</code> …</p>\n</blockquote>\n<p>Notice the mention of <em>statements</em>, the original <code>switch</code> syntax, and additionally <em>expressions</em>, the new syntax used in your code. In both cases, <code>null</code> check was forbidden.</p>\n<p>That page goes on to explain the changes that motivate the inclusion of support for null checks. Read the JEP for will-written details.</p>\n<p>👉 The upshot is that you can use <code>case null</code> in a <code>switch</code> in Java 17 — but only if you go out of your way to <strong>enable the preview feature</strong>.</p>\n<h1>Still in preview, in Java 20</h1>\n<ul>\n<li>The preview in Java 17 was <em>not</em> finalized in Java 18.</li>\n<li><a href=\"https://openjdk.java.net/jeps/420\" rel=\"nofollow noreferrer\">Java 18 saw a second preview</a>.</li>\n<li>A third preview appeared in Java 19: <a href=\"https://openjdk.java.net/jeps/427\" rel=\"nofollow noreferrer\"><em>JEP 427: Pattern Matching for switch (Third Preview)</em></a>.</li>\n<li>👉 Currently in <a href=\"https://openjdk.org/jeps/433\" rel=\"nofollow noreferrer\">4th preview in Java 20</a>, as of 2022-10.</li>\n</ul>\n<p><a href=\"https://en.wikipedia.org/wiki/Orson_Welles_Paul_Masson_advertisements#1978:_Original_ad%E2%80%94Beethoven,_Emerald_Dry\" rel=\"nofollow noreferrer\"><em>&quot;We will sell no wine before its time.&quot;</em></a></p>\n<p>There too, in Java 20, you will have to go out of your way to <strong>activate the preview feature</strong>.</p>\n<p>And of course two reminders:</p>\n<ul>\n<li>Preview features should not be used in production for critical apps.</li>\n<li>Preview features are likely to change. That is their purpose, to gather feedback and suggestions leading to changes.</li>\n</ul>\n<h1>Example</h1>\n<p>Let's try this code example. Notice how we use plain old syntax here, without the <code>-&gt;</code>. The arrow operator is not related to our discussion here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String x = null;\nswitch ( x )\n{\n    case &quot;starburst&quot;:\n        System.out.println( &quot;Is starburst.&quot; );\n        break;\n    case null:\n        System.out.println( &quot;Whoops, null.&quot; );\n        break;\n    default:\n        System.out.println( &quot;Some other value found.&quot; );\n        break;\n}\n</code></pre>\n<p>In Java 17, by default, without enabling preview features we get this error while editing the code for <code>case null</code>:</p>\n<blockquote>\n<p>Patterns in switch are not supported at language level '17'</p>\n<p>Set language level to 17 (Preview) - Pattern matching for switch</p>\n</blockquote>\n<p>After enabling preview features in Java 17, the code compiles without complaint. And it runs:</p>\n<blockquote>\n<p>Whoops, null.</p>\n</blockquote>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7774,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1701711208,"creation_date":1655079935,"question_id":72596788,"body_markdown":"I have a Java 17 project using Eclipse 2022-03 and OpenJDK 17:\r\n\r\n```\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\r\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\r\n```\r\n\r\nI&#39;m trying to use the new Java 17 switch features, so I tried this in a method:\r\n\r\n```\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n}\r\n```\r\n\r\nThat works fine. But then I tried this (because the value might be `null`):\r\n\r\n```\r\nreturn switch(testEnum) {\r\n  case foo -&gt; newFoo();\r\n  case bar -&gt; newBar();\r\n  case null -&gt; newDefault();\r\n}\r\n```\r\n\r\nEclipse underlines `null` in red and says:\r\n\r\n&gt; Pattern Matching in Switch is a preview feature and disabled by default. Use --enable-preview to enable\r\n\r\nCompiling via Maven produces:\r\n\r\n```\r\n[ERROR] /project/src/main/java/com/example/FooBar.java:[432,38] null in switch cases is a preview feature and is disabled by default.\r\n[ERROR]   (use --enable-preview to enable null in switch cases)\r\n```\r\n\r\nMy Maven project has:\r\n\r\n```\r\n&lt;properties&gt;\r\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nI know the compiler release setting isn&#39;t being ignored; otherwise it would be defaulting to Java 8 (as per my parent POM) and not allowing pattern matching at all.\r\n\r\nIsn&#39;t null cases with pattern matching part of Java 17? What am I doing wrong?","title":"Java 17 null case with pattern matching","body":"<p>I have a Java 17 project using Eclipse 2022-03 and OpenJDK 17:</p>\n<pre><code>openjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>I'm trying to use the new Java 17 switch features, so I tried this in a method:</p>\n<pre><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n}\n</code></pre>\n<p>That works fine. But then I tried this (because the value might be <code>null</code>):</p>\n<pre><code>return switch(testEnum) {\n  case foo -&gt; newFoo();\n  case bar -&gt; newBar();\n  case null -&gt; newDefault();\n}\n</code></pre>\n<p>Eclipse underlines <code>null</code> in red and says:</p>\n<blockquote>\n<p>Pattern Matching in Switch is a preview feature and disabled by default. Use --enable-preview to enable</p>\n</blockquote>\n<p>Compiling via Maven produces:</p>\n<pre><code>[ERROR] /project/src/main/java/com/example/FooBar.java:[432,38] null in switch cases is a preview feature and is disabled by default.\n[ERROR]   (use --enable-preview to enable null in switch cases)\n</code></pre>\n<p>My Maven project has:</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>I know the compiler release setting isn't being ignored; otherwise it would be defaulting to Java 8 (as per my parent POM) and not allowing pattern matching at all.</p>\n<p>Isn't null cases with pattern matching part of Java 17? What am I doing wrong?</p>\n"},{"tags":["java","android","android-wifi","android-8.0-oreo","hotspot"],"comments":[{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":0,"creation_date":1513011632,"post_id":47700717,"comment_id":82476657,"body_markdown":"I don&#39;t have an answer for you, but have you considered using Bluetooth to either perform the authentication or to publish the network SSID?","body":"I don&#39;t have an answer for you, but have you considered using Bluetooth to either perform the authentication or to publish the network SSID?"},{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":2,"creation_date":1513012153,"post_id":47700717,"comment_id":82476941,"body_markdown":"Note that according to the documentation of ``startLocalOnlyHotspot``, the hotspot may be shared between several apps. This indicates that modifying the SSID is unlikely to be officially supported.","body":"Note that according to the documentation of <code>startLocalOnlyHotspot</code>, the hotspot may be shared between several apps. This indicates that modifying the SSID is unlikely to be officially supported."},{"owner":{"account_id":5407171,"reputation":649,"user_id":4305282,"accept_rate":20,"display_name":"Visionwriter"},"score":0,"creation_date":1520867234,"post_id":47700717,"comment_id":85480274,"body_markdown":"Hey, did you ever find a solution to this problem?","body":"Hey, did you ever find a solution to this problem?"},{"owner":{"account_id":4326690,"reputation":2132,"user_id":3533322,"accept_rate":76,"display_name":"Markinson"},"score":0,"creation_date":1520867270,"post_id":47700717,"comment_id":85480304,"body_markdown":"@Visionwriter nope :(","body":"@Visionwriter nope :("},{"owner":{"account_id":14076707,"reputation":125,"user_id":10168772,"display_name":"Karan Malhotra"},"score":0,"creation_date":1595385415,"post_id":47700717,"comment_id":111453146,"body_markdown":"@Markinson did you found the solution yet ?","body":"@Markinson did you found the solution yet ?"}],"answers":[{"tags":[],"owner":{"account_id":479856,"reputation":3437,"user_id":892771,"display_name":"pellucide"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1536070633,"creation_date":1513197950,"answer_id":47801837,"question_id":47700717,"body_markdown":"I have only a partial solution to the problem. Hopefully, it will be sufficient for the application you are designing.\r\n\r\n   **The SSID and the password are hard-coded by the android system when you start the Hotspot**. By looking over at the AOSP code, I see that the same hotspot can be shared by multiple applications. The configuration for this hotspot(class name is `WifiConfiguration`) is also shared with all the requesting applications. This configuration is passed back to the application in the callback `onStarted(LocalOnlyHotspotReservation reservation)`. You can get the `WifiConfiguration` by calling `reservation.getWifiConfiguration()`. You will get all the information you need from the `WifiConfiguration` object. So you can **read** the Pre-Shared Key and the access point name. But I don&#39;t think you can change them\r\n&lt;br&gt;\r\n&lt;BR&gt;\r\n&lt;BR&gt;\r\nFYI, The relevant code that sets up the wifi configuration (including the hard-coded SSID and WPA2-PSK key) is done by the following piece of code\r\n\r\n      /**\r\n       * Generate a temporary WPA2 based configuration for use by the local only hotspot.\r\n       * This config is not persisted and will not be stored by the WifiApConfigStore.\r\n       */\r\n       public static WifiConfiguration generateLocalOnlyHotspotConfig(Context context) {\r\n           WifiConfiguration config = new WifiConfiguration();\r\n           config.SSID = context.getResources().getString(\r\n                  R.string.wifi_localhotspot_configure_ssid_default) + &quot;_&quot;\r\n                          + getRandomIntForDefaultSsid();\r\n           config.allowedKeyManagement.set(KeyMgmt.WPA2_PSK);\r\n           config.networkId = WifiConfiguration.LOCAL_ONLY_NETWORK_ID;\r\n           String randomUUID = UUID.randomUUID().toString();\r\n           // first 12 chars from xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\r\n           config.preSharedKey = randomUUID.substring(0, 8) + randomUUID.substring(9, 13);\r\n           return config;\r\n       }\r\n\r\n","title":"Change local-only Wi-Fi hotspot&#39;s SSID and password in Android Oreo 8.x","body":"<p>I have only a partial solution to the problem. Hopefully, it will be sufficient for the application you are designing.</p>\n\n<p><strong>The SSID and the password are hard-coded by the android system when you start the Hotspot</strong>. By looking over at the AOSP code, I see that the same hotspot can be shared by multiple applications. The configuration for this hotspot(class name is <code>WifiConfiguration</code>) is also shared with all the requesting applications. This configuration is passed back to the application in the callback <code>onStarted(LocalOnlyHotspotReservation reservation)</code>. You can get the <code>WifiConfiguration</code> by calling <code>reservation.getWifiConfiguration()</code>. You will get all the information you need from the <code>WifiConfiguration</code> object. So you can <strong>read</strong> the Pre-Shared Key and the access point name. But I don't think you can change them\n<br>\n<BR>\n<BR>\nFYI, The relevant code that sets up the wifi configuration (including the hard-coded SSID and WPA2-PSK key) is done by the following piece of code</p>\n\n<pre><code>  /**\n   * Generate a temporary WPA2 based configuration for use by the local only hotspot.\n   * This config is not persisted and will not be stored by the WifiApConfigStore.\n   */\n   public static WifiConfiguration generateLocalOnlyHotspotConfig(Context context) {\n       WifiConfiguration config = new WifiConfiguration();\n       config.SSID = context.getResources().getString(\n              R.string.wifi_localhotspot_configure_ssid_default) + \"_\"\n                      + getRandomIntForDefaultSsid();\n       config.allowedKeyManagement.set(KeyMgmt.WPA2_PSK);\n       config.networkId = WifiConfiguration.LOCAL_ONLY_NETWORK_ID;\n       String randomUUID = UUID.randomUUID().toString();\n       // first 12 chars from xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\n       config.preSharedKey = randomUUID.substring(0, 8) + randomUUID.substring(9, 13);\n       return config;\n   }\n</code></pre>\n"}],"owner":{"account_id":4326690,"reputation":2132,"user_id":3533322,"accept_rate":76,"display_name":"Markinson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8908,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":1,"score":32,"last_activity_date":1701711202,"creation_date":1512668192,"question_id":47700717,"body_markdown":"In my Android application I&#39;m using the following code snippet:\r\n\r\n```java\r\n@RequiresApi(api = Build.VERSION_CODES.O)\r\nprivate void turnOnHotspot(){\r\n    WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n    \r\n    manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback(){\r\n    \r\n        @Override\r\n        public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\r\n            super.onStarted(reservation);\r\n            Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onStopped() {\r\n            super.onStopped();\r\n            Log.d(TAG, &quot;onStopped: &quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onFailed(int reason) {\r\n            super.onFailed(reason);\r\n            Log.d(TAG, &quot;onFailed: &quot;);\r\n        }\r\n    },new Handler());\r\n}\r\n```\r\n\r\nThis piece of code creates a hotspot named something like &quot;AndroidShare_1234&quot;. For a project of mine I need to be able to set a password and  SSID to this hotspot.  However, I can&#39;t find a way to do this.\r\n\r\nNote that the `setWifiApEnabled`  is not supported anymore in Android O.  This is how it&#39;s done in older versions of Android. However, I still need to programmatically make a Wi-Fi hotspot with an SSID and a password. I can&#39;t figure out how to do this. Thanks in advance!\r\n\r\n**For who cares...:**\r\n\r\nFor a school project I made a locker that unlocks whenever it can connect to a wireless network with certain credentials hence the need of setting a hotspot programmatically. ","title":"Change local-only Wi-Fi hotspot&#39;s SSID and password in Android Oreo 8.x","body":"<p>In my Android application I'm using the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiresApi(api = Build.VERSION_CODES.O)\nprivate void turnOnHotspot(){\n    WifiManager manager = (WifiManager) getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    \n    manager.startLocalOnlyHotspot(new WifiManager.LocalOnlyHotspotCallback(){\n    \n        @Override\n        public void onStarted(WifiManager.LocalOnlyHotspotReservation reservation) {\n            super.onStarted(reservation);\n            Log.d(TAG, &quot;Wifi Hotspot is on now&quot;);\n        }\n    \n        @Override\n        public void onStopped() {\n            super.onStopped();\n            Log.d(TAG, &quot;onStopped: &quot;);\n        }\n    \n        @Override\n        public void onFailed(int reason) {\n            super.onFailed(reason);\n            Log.d(TAG, &quot;onFailed: &quot;);\n        }\n    },new Handler());\n}\n</code></pre>\n<p>This piece of code creates a hotspot named something like &quot;AndroidShare_1234&quot;. For a project of mine I need to be able to set a password and  SSID to this hotspot.  However, I can't find a way to do this.</p>\n<p>Note that the <code>setWifiApEnabled</code>  is not supported anymore in Android O.  This is how it's done in older versions of Android. However, I still need to programmatically make a Wi-Fi hotspot with an SSID and a password. I can't figure out how to do this. Thanks in advance!</p>\n<p><strong>For who cares...:</strong></p>\n<p>For a school project I made a locker that unlocks whenever it can connect to a wireless network with certain credentials hence the need of setting a hotspot programmatically.</p>\n"},{"tags":["java"],"owner":{"account_id":13902811,"reputation":1,"user_id":10038012,"display_name":"merman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701723782,"answer_count":0,"score":-2,"last_activity_date":1701711070,"creation_date":1701711070,"question_id":77601441,"body_markdown":"Essentially I am working for a client who is using basic authentication to authenticate users and wants me to add JWT tokens to the headers for each request going out. I am having some trouble understanding how authentication works in general, especially in the case of JWT and how to go about the implementation. From my understanding user sends request to login, server accepts username/pw and gives user a jwt token(do i generate the token and endcode/decode manually?  or should i use a java/spring library?) with a expiration time. The token is stored and placed into all request being sent out as a header, whenever the token expires i should have some logic to handle a redirect or new token assignment. The other main question I am having is how does this secure a user logging in? They are still using basic auth to do the logging in the only change is from the request after a user logs in. Java BE angular FE\r\n\r\nPlease just looking for some guidance I may just be completely wrong and speaking nonesense this isnt my area of expertise \r\n\r\nTried using some tutorials or general doc and ive been stumped","title":"Add Jwt token to existing basic auth","body":"<p>Essentially I am working for a client who is using basic authentication to authenticate users and wants me to add JWT tokens to the headers for each request going out. I am having some trouble understanding how authentication works in general, especially in the case of JWT and how to go about the implementation. From my understanding user sends request to login, server accepts username/pw and gives user a jwt token(do i generate the token and endcode/decode manually?  or should i use a java/spring library?) with a expiration time. The token is stored and placed into all request being sent out as a header, whenever the token expires i should have some logic to handle a redirect or new token assignment. The other main question I am having is how does this secure a user logging in? They are still using basic auth to do the logging in the only change is from the request after a user logs in. Java BE angular FE</p>\n<p>Please just looking for some guidance I may just be completely wrong and speaking nonesense this isnt my area of expertise</p>\n<p>Tried using some tutorials or general doc and ive been stumped</p>\n"},{"tags":["java","quartz"],"comments":[{"owner":{"account_id":16801428,"reputation":910,"user_id":12146581,"display_name":"Mohamad Ghaith Alzin"},"score":0,"creation_date":1654242916,"post_id":72486381,"comment_id":128049068,"body_markdown":"[how-do-i-post-code-in-stackoverflow](https://meta.stackexchange.com/questions/51144/how-do-i-post-code-in-stackoverflow)","body":"<a href=\"https://meta.stackexchange.com/questions/51144/how-do-i-post-code-in-stackoverflow\">how-do-i-post-code-in-stackoverflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654243281,"creation_date":1654243281,"answer_id":72486477,"question_id":72486381,"body_markdown":"Quartz knows it does not always execute on time. The reasons can be different. Just as an example, imagine you have CronTriggers setup for more jobs at the same time than you have threads in your pool. Obviously some jobs would not get executed at all or with delay. \r\n\r\nI cannot tell what exeactly is going on in your environment, but evidence of the above can be seen when looking at the API: http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>Quartz knows it does not always execute on time. The reasons can be different. Just as an example, imagine you have CronTriggers setup for more jobs at the same time than you have threads in your pool. Obviously some jobs would not get executed at all or with delay.</p>\n<p>I cannot tell what exeactly is going on in your environment, but evidence of the above can be seen when looking at the API: <a href=\"http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--\" rel=\"nofollow noreferrer\">http://www.quartz-scheduler.org/api/2.4.0-SNAPSHOT/org/quartz/Trigger.html#getMisfireInstruction--</a></p>\n"},{"tags":[],"owner":{"account_id":8684047,"reputation":73,"user_id":6499046,"display_name":"Marco Mascellani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701710257,"creation_date":1701710257,"answer_id":77601358,"question_id":72486381,"body_markdown":"It does make sense under two hypothesis:\r\n\r\n1. there is another running instance of your application (f.e. two nodes environment)\r\n2. your job is marked as &quot;DisallowConcurrentExecution&quot; (or equivalent setting via quartz.config)\r\n\r\nIf so, when you run with in-memory management both nodes have no way to synchronize and they trigger every time.\r\n\r\nWhen you switch to DB management, each node begins to check if another node has already executed the job and, when it is the case, it skips.\r\n","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>It does make sense under two hypothesis:</p>\n<ol>\n<li>there is another running instance of your application (f.e. two nodes environment)</li>\n<li>your job is marked as &quot;DisallowConcurrentExecution&quot; (or equivalent setting via quartz.config)</li>\n</ol>\n<p>If so, when you run with in-memory management both nodes have no way to synchronize and they trigger every time.</p>\n<p>When you switch to DB management, each node begins to check if another node has already executed the job and, when it is the case, it skips.</p>\n"}],"owner":{"account_id":24806269,"reputation":1,"user_id":18688252,"display_name":"Tan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701710257,"creation_date":1654242800,"question_id":72486381,"body_markdown":"Recently, I am using Quartz to perform some scheduled tasks. I use SpringBoot to integrate Quartz. When I use memory storage, everything is normal. When I JDBC quartz, the tasks will not be executed according to Cron expressions. I set it to be executed once every minute, but it will actually be executed every 2 minutes or more. Has anyone encountered this situation?\r\n\r\nSpringBoot version 2.7\r\nQuartz Version 2.3.2\r\n\r\n    @Bean\r\n\tpublic Trigger emailTrigger() {\r\n\t\tCronScheduleBuilder csb = CronScheduleBuilder.cronSchedule(&quot;0 0/1 * * * ?&quot;);\r\n\t\tcsb.withMisfireHandlingInstructionDoNothing();\r\n\t\treturn TriggerBuilder.newTrigger().forJob(taskJobDetail()).withIdentity(&quot;task&quot;, &quot;task&quot;)\r\n\t\t\t\t.withSchedule(csb).build();\r\n\t}\r\n\r\n\r\n    @Override\r\n\tprotected void executeInternal(JobExecutionContext context) throws JobExecutionException {\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n\t\tSystem.out.println(sdf.format(new Date()) + &quot;: task&quot;);\r\n\t}\r\n\r\n\r\n\r\n\r\n2022-06-03 04:07:00: task\r\n\r\n2022-06-03 04:09:00: task\r\n\r\n2022-06-03 04:11:00: task\r\n\r\n2022-06-03 04:13:00: task\r\n\r\n2022-06-03 04:15:00: task\r\n\r\n2022-06-03 04:17:00: task\r\n\r\n2022-06-03 04:19:00: task\r\n\r\n2022-06-03 04:21:00: task\r\n\r\n2022-06-03 04:23:00: task\r\n\r\n    \r\n","title":"Quartz does not execute tasks according to Cron expressions","body":"<p>Recently, I am using Quartz to perform some scheduled tasks. I use SpringBoot to integrate Quartz. When I use memory storage, everything is normal. When I JDBC quartz, the tasks will not be executed according to Cron expressions. I set it to be executed once every minute, but it will actually be executed every 2 minutes or more. Has anyone encountered this situation?</p>\n<p>SpringBoot version 2.7\nQuartz Version 2.3.2</p>\n<pre><code>@Bean\npublic Trigger emailTrigger() {\n    CronScheduleBuilder csb = CronScheduleBuilder.cronSchedule(&quot;0 0/1 * * * ?&quot;);\n    csb.withMisfireHandlingInstructionDoNothing();\n    return TriggerBuilder.newTrigger().forJob(taskJobDetail()).withIdentity(&quot;task&quot;, &quot;task&quot;)\n            .withSchedule(csb).build();\n}\n\n\n@Override\nprotected void executeInternal(JobExecutionContext context) throws JobExecutionException {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n    System.out.println(sdf.format(new Date()) + &quot;: task&quot;);\n}\n</code></pre>\n<p>2022-06-03 04:07:00: task</p>\n<p>2022-06-03 04:09:00: task</p>\n<p>2022-06-03 04:11:00: task</p>\n<p>2022-06-03 04:13:00: task</p>\n<p>2022-06-03 04:15:00: task</p>\n<p>2022-06-03 04:17:00: task</p>\n<p>2022-06-03 04:19:00: task</p>\n<p>2022-06-03 04:21:00: task</p>\n<p>2022-06-03 04:23:00: task</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":285492,"reputation":77387,"user_id":584192,"accept_rate":100,"display_name":"Samuel Liew"},"score":0,"creation_date":1582600176,"post_id":60382587,"comment_id":106824309,"body_markdown":"Comments are not for extended discussion; this conversation has been [moved to chat](https://chat.stackoverflow.com/rooms/208459/discussion-on-question-by-faraz-how-to-get-localtime-at-different-time-zone).","body":"Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/208459/discussion-on-question-by-faraz-how-to-get-localtime-at-different-time-zone\">moved to chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1582575854,"creation_date":1582573220,"answer_id":60382840,"question_id":60382587,"body_markdown":"`LocalDateTime.now()` is actually a shortcut for `LocalDateTime.now(Clock.systemDefaultZone())`, where `Clock.class` represents some date-time instant ([see docs][1]), and static method `systemDefaultZone()` returns the date-time instant of your PC.\r\n\r\nIn your case it&#39;s possible to use &quot;clock&quot; for a different zone (zone with id=&quot;CST&quot; doesn&#39;t exist but you can choose &quot;America/Chicago&quot; instead - see explanation [in this answer][2]).\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(&quot;America/Chicago&quot;)));\r\n```\r\n\r\n**UPD** Didn&#39;t understand the task properly. In this case it&#39;s actually easier to convert  `currentTime` instead of `startTime` to needed zone.\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(&quot;Europe/London&quot;)));\r\n```\r\n\r\nor, as Ole V.V. reminded:\r\n\r\n```\r\nLocalTime currentTime = LocalTime.now(ZoneId.of(&quot;Europe/London&quot;));\r\n```\r\n\r\nthen you can compare it with unmodified `startTime` (in this case - 11:00)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [2]: https://stackoverflow.com/a/49533117/5572007","title":"How to get LocalTime at different time-zone?","body":"<p><code>LocalDateTime.now()</code> is actually a shortcut for <code>LocalDateTime.now(Clock.systemDefaultZone())</code>, where <code>Clock.class</code> represents some date-time instant (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\">see docs</a>), and static method <code>systemDefaultZone()</code> returns the date-time instant of your PC.</p>\n\n<p>In your case it's possible to use \"clock\" for a different zone (zone with id=\"CST\" doesn't exist but you can choose \"America/Chicago\" instead - see explanation <a href=\"https://stackoverflow.com/a/49533117/5572007\">in this answer</a>).</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(\"America/Chicago\")));\n</code></pre>\n\n<p><strong>UPD</strong> Didn't understand the task properly. In this case it's actually easier to convert  <code>currentTime</code> instead of <code>startTime</code> to needed zone.</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(Clock.system(ZoneId.of(\"Europe/London\")));\n</code></pre>\n\n<p>or, as Ole V.V. reminded:</p>\n\n<pre><code>LocalTime currentTime = LocalTime.now(ZoneId.of(\"Europe/London\"));\n</code></pre>\n\n<p>then you can compare it with unmodified <code>startTime</code> (in this case - 11:00)</p>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4075,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60382840,"answer_count":1,"score":3,"last_activity_date":1701710137,"creation_date":1582571950,"question_id":60382587,"body_markdown":"I understand that LocalTime is time zone agnostic. But I would like to get hours in Central Standard Time (CST) zone. All I am given is time in String:\r\n\r\n    String start = &quot;11:00&quot; //11 am CST. \r\n    LocalTime startTime = LocalTime.parse(start);\r\n\r\nThis is good but server is running in different time-zone. So it will interpret it as 11 am UTC. I want LocalTime to be in CST. I need to in CST.","title":"How to get LocalTime at different time-zone?","body":"<p>I understand that LocalTime is time zone agnostic. But I would like to get hours in Central Standard Time (CST) zone. All I am given is time in String:</p>\n<pre><code>String start = &quot;11:00&quot; //11 am CST. \nLocalTime startTime = LocalTime.parse(start);\n</code></pre>\n<p>This is good but server is running in different time-zone. So it will interpret it as 11 am UTC. I want LocalTime to be in CST. I need to in CST.</p>\n"},{"tags":["java","converters","calculator","audit","energy"],"comments":[{"owner":{"account_id":57542,"reputation":28477,"user_id":172363,"accept_rate":83,"display_name":"Andrew Eisenberg"},"score":0,"creation_date":1474511208,"post_id":39629275,"comment_id":66563783,"body_markdown":"What are your inputs?","body":"What are your inputs?"},{"owner":{"account_id":8198383,"reputation":193,"user_id":6170426,"accept_rate":62,"display_name":"Aramza"},"score":0,"creation_date":1474511478,"post_id":39629275,"comment_id":66563850,"body_markdown":"@AndrewEisenberg Added them below program, how silly of me to forget.","body":"@AndrewEisenberg Added them below program, how silly of me to forget."}],"answers":[{"tags":[],"owner":{"account_id":7064527,"reputation":325,"user_id":5408305,"accept_rate":60,"display_name":"Jimmy M."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1474512239,"creation_date":1474512239,"answer_id":39629434,"question_id":39629275,"body_markdown":"You take in the number of days per week and weeks per year as input, but forget to use them in your calculations.  Also, instead of printing KWH, you are displaying the variable storing Watt Hours.  \r\n\r\n    // Calculations\r\n    usageHoursPerYear     = usageHoursPerDay * usageDaysPerWeek * usageWeeksPerYear; //calculate based on time used, not 365 days in the year\r\n    usageWattHoursPerYear = wattsPerHour * usageHoursPerYear; //use variable from above line\r\n    usageKWHPerYear       = usageWattHoursPerYear / 1000;\r\n    costPerYear           = usageKWHPerYear * COST_PER_KWH;\r\n    lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\r\n\r\n    // Printing Energy Audits\r\n    System.out.println(&quot;Computer Energy Audit&quot;);\r\n    System.out.println(&quot;You use your computer for &quot; + usageHoursPerYear + &quot; hours per year.&quot;);\r\n    System.out.println(&quot;It will use &quot; + usageKWHPerYear + &quot; KWH/year.&quot;); //changed to correct variable\r\n    System.out.println(&quot;Whih will cost &quot; + costPerYear + &quot;$/year for electricity.&quot;);\r\n    System.out.println(&quot;Generating that electricity will produce &quot; + lbsCO2PerYear + &quot; lbs of CO2 pollution.&quot;);\r\n","title":"Electricity/Energy Bill Calculator: Java","body":"<p>You take in the number of days per week and weeks per year as input, but forget to use them in your calculations.  Also, instead of printing KWH, you are displaying the variable storing Watt Hours.  </p>\n\n<pre><code>// Calculations\nusageHoursPerYear     = usageHoursPerDay * usageDaysPerWeek * usageWeeksPerYear; //calculate based on time used, not 365 days in the year\nusageWattHoursPerYear = wattsPerHour * usageHoursPerYear; //use variable from above line\nusageKWHPerYear       = usageWattHoursPerYear / 1000;\ncostPerYear           = usageKWHPerYear * COST_PER_KWH;\nlbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\n\n// Printing Energy Audits\nSystem.out.println(\"Computer Energy Audit\");\nSystem.out.println(\"You use your computer for \" + usageHoursPerYear + \" hours per year.\");\nSystem.out.println(\"It will use \" + usageKWHPerYear + \" KWH/year.\"); //changed to correct variable\nSystem.out.println(\"Whih will cost \" + costPerYear + \"$/year for electricity.\");\nSystem.out.println(\"Generating that electricity will produce \" + lbsCO2PerYear + \" lbs of CO2 pollution.\");\n</code></pre>\n"}],"owner":{"account_id":8198383,"reputation":193,"user_id":6170426,"accept_rate":62,"display_name":"Aramza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2493,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39629434,"answer_count":1,"score":2,"last_activity_date":1701709559,"creation_date":1474511051,"question_id":39629275,"body_markdown":"I am having issues figuring out exactly what is wrong with this little Electricity/Energy calculator used to calculate computer energy costs.\r\n\r\nI&#39;d appreciate any help.\r\n\r\n**Program:**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class ElectricityCalculations {\r\n       public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          double usageHoursPerDay      = 0; // Hours computer is on per day\r\n          double usageDaysPerWeek      = 0; // Days computer is used per week\r\n          double usageWeeksPerYear     = 0; // Weeks computer is used per year\r\n          double wattsPerHour          = 0; // Watts used by computer per hour\r\n          final double COST_PER_KWH    = 0.145; // Prices of power per kilowatt hour\r\n          final double LBS_CO2_PER_KWH = 0.58815; // Pounds of CO2 generated per KWH\r\n          double usageHoursPerYear     = 0; // Amount of hours on per year\r\n          double usageWattHoursPerYear = 0; // Amount of watt hours consumed per year\r\n          double usageKWHPerYear       = 0; // Amount of KWH used in a year\r\n          double costPerYear           = 0; // Total cost per year\r\n          double lbsCO2PerYear         = 0; // Total amount of CO2 in pounds released per year\r\n          \r\n          // Input Values\r\n          System.out.println(&quot;How many hours is your computer on per day?&quot;);\r\n          usageHoursPerDay  = scnr.nextDouble();\r\n          System.out.println(&quot;How many days per week is your computer used?&quot;);\r\n          usageDaysPerWeek  = scnr.nextDouble();\r\n          System.out.println(&quot;How many weeks per year is your computer used?&quot;);\r\n          usageWeeksPerYear = scnr.nextDouble();\r\n          System.out.println(&quot;How many watts per hour does your computer use? (Suggestive value for desktop: 100, laptop: 30).&quot;);\r\n          wattsPerHour      = scnr.nextDouble();\r\n          \r\n          // Calculations\r\n          usageHoursPerYear     = usageHoursPerDay * 365;\r\n          usageWattHoursPerYear = wattsPerHour * 8760; // 8760 is the number of hours in a year\r\n          usageKWHPerYear       = usageWattHoursPerYear / 1000;\r\n          costPerYear           = usageKWHPerYear * COST_PER_KWH;\r\n          lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\r\n          \r\n          // Printing Energy Audits\r\n          System.out.println(&quot;Computer Energy Audit&quot;);\r\n          System.out.println(&quot;You use your computer for &quot; + usageHoursPerYear + &quot; hours per year.&quot;);\r\n          System.out.println(&quot;It will use &quot; + usageWattHoursPerYear + &quot; KWH/year.&quot;);\r\n          System.out.println(&quot;Whih will cost &quot; + costPerYear + &quot;$/year for electricity.&quot;);\r\n          System.out.println(&quot;Generating that electricity will produce &quot; + lbsCO2PerYear + &quot; lbs of CO2 pollution.&quot;);\r\n          \r\n          return;\r\n       }\r\n    }\r\n\r\n**Inputs:**\r\n\r\n8 hours/day\r\n\r\n5 days/week\r\n\r\n50 weeks/year\r\n\r\n100 watts/hour\r\n\r\n\r\n**My (wrong output):**\r\n\r\nComputer Energy Audit:\r\n\r\nYou use your computer for 2920.0 hours per year.\r\n\r\nIt will use 876000.0 KWH/year.\r\n\r\nWhih will cost 127.02$/year for electricity.\r\n\r\nGenerating that electricity will produce 515.2194 lbs of CO2 pollution.\r\n\r\n**Correct Output:**\r\n\r\nComputer Energy Audit:\r\n\r\nYou use your computer for 2000.0 hours per year.\r\n\r\nIt will use 200.0 KWH/year.\r\n\r\nWhich will cost 28.999999999999996 $/year for electricity.\r\n\r\nGenerating that electricity will produce 117.63 lbs of CO2 pollution.","title":"Electricity/Energy Bill Calculator: Java","body":"<p>I am having issues figuring out exactly what is wrong with this little Electricity/Energy calculator used to calculate computer energy costs.</p>\n\n<p>I'd appreciate any help.</p>\n\n<p><strong>Program:</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ElectricityCalculations {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      double usageHoursPerDay      = 0; // Hours computer is on per day\n      double usageDaysPerWeek      = 0; // Days computer is used per week\n      double usageWeeksPerYear     = 0; // Weeks computer is used per year\n      double wattsPerHour          = 0; // Watts used by computer per hour\n      final double COST_PER_KWH    = 0.145; // Prices of power per kilowatt hour\n      final double LBS_CO2_PER_KWH = 0.58815; // Pounds of CO2 generated per KWH\n      double usageHoursPerYear     = 0; // Amount of hours on per year\n      double usageWattHoursPerYear = 0; // Amount of watt hours consumed per year\n      double usageKWHPerYear       = 0; // Amount of KWH used in a year\n      double costPerYear           = 0; // Total cost per year\n      double lbsCO2PerYear         = 0; // Total amount of CO2 in pounds released per year\n\n      // Input Values\n      System.out.println(\"How many hours is your computer on per day?\");\n      usageHoursPerDay  = scnr.nextDouble();\n      System.out.println(\"How many days per week is your computer used?\");\n      usageDaysPerWeek  = scnr.nextDouble();\n      System.out.println(\"How many weeks per year is your computer used?\");\n      usageWeeksPerYear = scnr.nextDouble();\n      System.out.println(\"How many watts per hour does your computer use? (Suggestive value for desktop: 100, laptop: 30).\");\n      wattsPerHour      = scnr.nextDouble();\n\n      // Calculations\n      usageHoursPerYear     = usageHoursPerDay * 365;\n      usageWattHoursPerYear = wattsPerHour * 8760; // 8760 is the number of hours in a year\n      usageKWHPerYear       = usageWattHoursPerYear / 1000;\n      costPerYear           = usageKWHPerYear * COST_PER_KWH;\n      lbsCO2PerYear         = LBS_CO2_PER_KWH * usageKWHPerYear;\n\n      // Printing Energy Audits\n      System.out.println(\"Computer Energy Audit\");\n      System.out.println(\"You use your computer for \" + usageHoursPerYear + \" hours per year.\");\n      System.out.println(\"It will use \" + usageWattHoursPerYear + \" KWH/year.\");\n      System.out.println(\"Whih will cost \" + costPerYear + \"$/year for electricity.\");\n      System.out.println(\"Generating that electricity will produce \" + lbsCO2PerYear + \" lbs of CO2 pollution.\");\n\n      return;\n   }\n}\n</code></pre>\n\n<p><strong>Inputs:</strong></p>\n\n<p>8 hours/day</p>\n\n<p>5 days/week</p>\n\n<p>50 weeks/year</p>\n\n<p>100 watts/hour</p>\n\n<p><strong>My (wrong output):</strong></p>\n\n<p>Computer Energy Audit:</p>\n\n<p>You use your computer for 2920.0 hours per year.</p>\n\n<p>It will use 876000.0 KWH/year.</p>\n\n<p>Whih will cost 127.02$/year for electricity.</p>\n\n<p>Generating that electricity will produce 515.2194 lbs of CO2 pollution.</p>\n\n<p><strong>Correct Output:</strong></p>\n\n<p>Computer Energy Audit:</p>\n\n<p>You use your computer for 2000.0 hours per year.</p>\n\n<p>It will use 200.0 KWH/year.</p>\n\n<p>Which will cost 28.999999999999996 $/year for electricity.</p>\n\n<p>Generating that electricity will produce 117.63 lbs of CO2 pollution.</p>\n"},{"tags":["java","microservices","spring-integration","outbox-pattern"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701709259,"creation_date":1701709259,"answer_id":77601245,"question_id":77601049,"body_markdown":"It would be great if you show how you process a business data before sending it into this `domain.event.sender` channel for storing into so-called outbox table.\r\n\r\nHowever it is just pretty simple to make this `domain.event.sender` as a `PublishSubscribeChannel` and have another subscriber which would do the logic you are asking. If you don&#39;t configure this channel for a `TaskExecutor`, both subscribers will process the same message sequentially and withing the same business transaction.\r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel","title":"Outbox pattern with Spring Integration","body":"<p>It would be great if you show how you process a business data before sending it into this <code>domain.event.sender</code> channel for storing into so-called outbox table.</p>\n<p>However it is just pretty simple to make this <code>domain.event.sender</code> as a <code>PublishSubscribeChannel</code> and have another subscriber which would do the logic you are asking. If you don't configure this channel for a <code>TaskExecutor</code>, both subscribers will process the same message sequentially and withing the same business transaction.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/channel/implementations.html#channel-implementations-publishsubscribechannel</a></p>\n"}],"owner":{"account_id":940956,"reputation":531,"user_id":969039,"accept_rate":88,"display_name":"user969039"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701709259,"creation_date":1701707382,"question_id":77601049,"body_markdown":"We want to implement an Outbox pattern by using spring integration. \r\nStarting from [this example][1], we came up with this simpeler solution:\r\n\r\n    protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\r\n        return from(&quot;domain.event.sender&quot;)\r\n                .channel(c -&gt; c.queue(this.jdbcMessageStore, &quot;outbox&quot;))\r\n                .handle(\r\n                        this.messagePublisherHandler,\r\n                        c -&gt; c.poller(poller -&gt; poller.fixedDelay(1000).transactional()));\r\n    }\r\n\r\nThis solution will take a message from &quot;domain.event.sender&quot;, store it in the database (in case of an error) and then POLL this db to send a message to a MessageBus (via\r\nmessagePublisherHandler).\r\n\r\nWe want to have a solution that will ALSO process this message immediately after transaction synchronisation, without that we have to wait for the poller to finish. \r\n\r\n  [1]: https://github.com/artembilan/microservices-patterns-spring-integration/blob/main/outbox/src/main/java/org/springframework/integration/microservices/outbox/OutboxApplication.java","title":"Outbox pattern with Spring Integration","body":"<p>We want to implement an Outbox pattern by using spring integration.\nStarting from <a href=\"https://github.com/artembilan/microservices-patterns-spring-integration/blob/main/outbox/src/main/java/org/springframework/integration/microservices/outbox/OutboxApplication.java\" rel=\"nofollow noreferrer\">this example</a>, we came up with this simpeler solution:</p>\n<pre><code>protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\n    return from(&quot;domain.event.sender&quot;)\n            .channel(c -&gt; c.queue(this.jdbcMessageStore, &quot;outbox&quot;))\n            .handle(\n                    this.messagePublisherHandler,\n                    c -&gt; c.poller(poller -&gt; poller.fixedDelay(1000).transactional()));\n}\n</code></pre>\n<p>This solution will take a message from &quot;domain.event.sender&quot;, store it in the database (in case of an error) and then POLL this db to send a message to a MessageBus (via\nmessagePublisherHandler).</p>\n<p>We want to have a solution that will ALSO process this message immediately after transaction synchronisation, without that we have to wait for the poller to finish.</p>\n"},{"tags":["java","testing","integration-testing","micronaut"],"owner":{"account_id":16078489,"reputation":943,"user_id":11605100,"display_name":"ajinzrathod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1701708969,"creation_date":1701708969,"question_id":77601214,"body_markdown":"I&#39;m facing an issue in my Micronaut integration test where I&#39;m trying to use two different fixed clocks in two separate tests. One should be set to 10th Oct 1800, and the other to 10th Oct 1900. However, my current approach doesn&#39;t seem to work. Below is a simplified version of my code:\r\n\r\nThis is my code:\r\n\r\n```java\r\npackage some.package.path;\r\n\r\nimport static org.assertj.core.api.Assertions.*;\r\n\r\nimport io.micronaut.context.annotation.Property;\r\nimport io.micronaut.context.annotation.Requires;\r\nimport io.micronaut.test.annotation.MockBean;\r\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\r\nimport jakarta.inject.Inject;\r\nimport java.time.Clock;\r\nimport java.time.Instant;\r\nimport java.time.LocalDate;\r\nimport java.time.ZoneOffset;\r\nimport org.junit.jupiter.api.Test;\r\n\r\n@MicronautTest(rebuildContext = true)\r\nclass AzureTest {\r\n  @Inject Clock clock;\r\n\r\n  @MockBean(Clock.class)\r\n  @Requires(missingProperty = &quot;mock.clock&quot;)\r\n  Clock fixed() {\r\n    return Clock.fixed(\r\n        LocalDate.of(1800, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\r\n  }\r\n\r\n  @MockBean(Clock.class)\r\n  @Requires(property = &quot;mock.clock&quot;, value = &quot;true&quot;)\r\n  Clock fixed2() {\r\n    return Clock.fixed(\r\n        LocalDate.of(1900, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\r\n  }\r\n\r\n  @Test\r\n  void testItWorks() {\r\n    Instant instant = clock.instant();\r\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\r\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\r\n    assertThat(date).isEqualTo(LocalDate.of(1800, 10, 10));\r\n  }\r\n\r\n  @Test\r\n  @Property(name = &quot;mock.clock&quot;, value = &quot;true&quot;)\r\n  void testItWorks2() {\r\n    Instant instant = clock.instant();\r\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\r\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\r\n    assertThat(date).isEqualTo(LocalDate.of(1900, 10, 10));\r\n  }\r\n}\r\n\r\n```\r\n\r\nHow can I achieve this within the same file without resorting to splitting the tests into different files? Any help would be greatly appreciated.\r\n\r\n----\r\n\r\n### What I tried\r\n\r\nI tried using a service\r\n```java\r\ninterface MyService {\r\n    Clock getDate();\r\n}\r\n\r\n@Singleton\r\n@Requires(missingProperty = &quot;foo.bar&quot;)\r\nstatic class MyServiceStuff implements MyService {\r\n  @Override\r\n  public Clock getDate() {\r\n     // 10th Oct 1800    \r\n  }\r\n}\r\n\r\n@Singleton\r\n@Requires(property = &quot;foo.bar&quot;, value = &quot;changed&quot;)\r\nstatic class MyServiceChanged implements MyService {\r\n  @Override\r\n  public Clock getDate() {\r\n    // 10th Oct 1900    \r\n  }\r\n} \r\n```\r\n\r\nBut this is only helpful, if I want to create or get date using MyService.\r\nExample: \r\n```java\r\n@Inject MyService myservice;\r\n\r\n@Property(name = &quot;foo.bar&quot;, value = &quot;changed&quot;)\r\nsome_test {\r\n   myservice.getDate();\r\n}\r\n\r\n```\r\nOnce my code transitions from the controller to the service layer, the service utilizes `LocalDate.now(clock)`. During this phase, a static clock is required. Consequently, the previously suggested solution becomes ineffective in this context.\r\n\r\n\r\n**P.S:**\r\nWhile I&#39;m aware I can create separate files for each test scenario, I&#39;m specifically interested in understanding how to handle this within the same file.","title":"Mock 2 clocks for different integration in same class - Micronaut","body":"<p>I'm facing an issue in my Micronaut integration test where I'm trying to use two different fixed clocks in two separate tests. One should be set to 10th Oct 1800, and the other to 10th Oct 1900. However, my current approach doesn't seem to work. Below is a simplified version of my code:</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package some.package.path;\n\nimport static org.assertj.core.api.Assertions.*;\n\nimport io.micronaut.context.annotation.Property;\nimport io.micronaut.context.annotation.Requires;\nimport io.micronaut.test.annotation.MockBean;\nimport io.micronaut.test.extensions.junit5.annotation.MicronautTest;\nimport jakarta.inject.Inject;\nimport java.time.Clock;\nimport java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.ZoneOffset;\nimport org.junit.jupiter.api.Test;\n\n@MicronautTest(rebuildContext = true)\nclass AzureTest {\n  @Inject Clock clock;\n\n  @MockBean(Clock.class)\n  @Requires(missingProperty = &quot;mock.clock&quot;)\n  Clock fixed() {\n    return Clock.fixed(\n        LocalDate.of(1800, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\n  }\n\n  @MockBean(Clock.class)\n  @Requires(property = &quot;mock.clock&quot;, value = &quot;true&quot;)\n  Clock fixed2() {\n    return Clock.fixed(\n        LocalDate.of(1900, 10, 10).atStartOfDay().toInstant(ZoneOffset.UTC), ZoneOffset.UTC);\n  }\n\n  @Test\n  void testItWorks() {\n    Instant instant = clock.instant();\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\n    assertThat(date).isEqualTo(LocalDate.of(1800, 10, 10));\n  }\n\n  @Test\n  @Property(name = &quot;mock.clock&quot;, value = &quot;true&quot;)\n  void testItWorks2() {\n    Instant instant = clock.instant();\n    LocalDate date = instant.atZone(ZoneOffset.UTC).toLocalDate();\n    System.out.println(&quot;======&quot; + date + &quot;======&quot;);\n    assertThat(date).isEqualTo(LocalDate.of(1900, 10, 10));\n  }\n}\n\n</code></pre>\n<p>How can I achieve this within the same file without resorting to splitting the tests into different files? Any help would be greatly appreciated.</p>\n<hr />\n<h3>What I tried</h3>\n<p>I tried using a service</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface MyService {\n    Clock getDate();\n}\n\n@Singleton\n@Requires(missingProperty = &quot;foo.bar&quot;)\nstatic class MyServiceStuff implements MyService {\n  @Override\n  public Clock getDate() {\n     // 10th Oct 1800    \n  }\n}\n\n@Singleton\n@Requires(property = &quot;foo.bar&quot;, value = &quot;changed&quot;)\nstatic class MyServiceChanged implements MyService {\n  @Override\n  public Clock getDate() {\n    // 10th Oct 1900    \n  }\n} \n</code></pre>\n<p>But this is only helpful, if I want to create or get date using MyService.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject MyService myservice;\n\n@Property(name = &quot;foo.bar&quot;, value = &quot;changed&quot;)\nsome_test {\n   myservice.getDate();\n}\n\n</code></pre>\n<p>Once my code transitions from the controller to the service layer, the service utilizes <code>LocalDate.now(clock)</code>. During this phase, a static clock is required. Consequently, the previously suggested solution becomes ineffective in this context.</p>\n<p><strong>P.S:</strong>\nWhile I'm aware I can create separate files for each test scenario, I'm specifically interested in understanding how to handle this within the same file.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1126061,"reputation":2343,"user_id":2123050,"accept_rate":73,"display_name":"FuryFart"},"score":0,"creation_date":1701861933,"post_id":77601152,"comment_id":136826810,"body_markdown":"You can not define entities for temporary tables. The @Transient annotation is meant for fields within the entity which you do not want to be mapped to DB table.","body":"You can not define entities for temporary tables. The @Transient annotation is meant for fields within the entity which you do not want to be mapped to DB table."}],"owner":{"account_id":22825676,"reputation":387,"user_id":16974979,"display_name":"KRISTIJAN TOMASINI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701708313,"creation_date":1701708313,"question_id":77601152,"body_markdown":"In my Spring Data Java Persistence Application Programming Interface (JPA) application I have a temporary table which I populate by executing a stored procedure. I do not need to persist this table in the database, but I need it to behave as if it was a real table, so that I can make queries on it from the Spring repository.\r\n\r\nHere is the example:\r\n```Java\r\n@Entity(name = &quot;t&quot;)\r\n@Table(name = &quot;t&quot;)\r\npublic class t\r\n{\r\n    @Id()\r\n    private Integer id;\r\n}\r\n```\r\n\r\nWhen I start my Spring Boot application, this table is created in the database automatically. How to prevent this from happening?\r\n\r\nI read about the ```@Transient``` annotation, but when I try to apply it to the ```t``` class I get the error: ```&#39;@javax.persistence.Transient&#39; not applicable to type```. How else to mark the entire entity, so not just a single field, transient?","title":"How to create transient table in Spring Data Java Persistence Application Programming Interface?","body":"<p>In my Spring Data Java Persistence Application Programming Interface (JPA) application I have a temporary table which I populate by executing a stored procedure. I do not need to persist this table in the database, but I need it to behave as if it was a real table, so that I can make queries on it from the Spring repository.</p>\n<p>Here is the example:</p>\n<pre><code>@Entity(name = &quot;t&quot;)\n@Table(name = &quot;t&quot;)\npublic class t\n{\n    @Id()\n    private Integer id;\n}\n</code></pre>\n<p>When I start my Spring Boot application, this table is created in the database automatically. How to prevent this from happening?</p>\n<p>I read about the <code>@Transient</code> annotation, but when I try to apply it to the <code>t</code> class I get the error: <code>'@javax.persistence.Transient' not applicable to type</code>. How else to mark the entire entity, so not just a single field, transient?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1701709661,"post_id":77601143,"comment_id":136806726,"body_markdown":"You can always make the method parameter an object, let&#39;s say `record Data(boolean Amap, String fooId, Date fooDate){}`, and each implementation uses whatever data it needs, but this does not seem like a good idea. From the example the two processes do not look interchangeable - if you were to replace `ClassA` with `ClassB` (assuming they already implement same interface), or vice versa, it seems as if this would break the process.","body":"You can always make the method parameter an object, let&#39;s say <code>record Data(boolean Amap, String fooId, Date fooDate){}</code>, and each implementation uses whatever data it needs, but this does not seem like a good idea. From the example the two processes do not look interchangeable - if you were to replace <code>ClassA</code> with <code>ClassB</code> (assuming they already implement same interface), or vice versa, it seems as if this would break the process."},{"owner":{"account_id":30064460,"reputation":1,"user_id":23039919,"display_name":"xcffdsf"},"score":0,"creation_date":1701709884,"post_id":77601143,"comment_id":136806772,"body_markdown":"You hit the nail on the head. Likewise I could make an interface that defines both signatures and have a dummy implementation. But then it still requires the other classes to know which one is the right method. So it works but isn’t ideal.","body":"You hit the nail on the head. Likewise I could make an interface that defines both signatures and have a dummy implementation. But then it still requires the other classes to know which one is the right method. So it works but isn’t ideal."},{"owner":{"account_id":3211603,"reputation":289287,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701710776,"post_id":77601143,"comment_id":136806899,"body_markdown":"These methods may look similar in shape but what they have in common is too trivial to deserve an abstraction for the uncommon parts. By the way, you can rewrite `ClassA`’s method to the one-liner `return (Amap? FooAMap: FooBMap).computeIfAbsent(fooId, key -&gt; new Foo(&quot;data&quot;));` Then, the two methods have nothing in common anymore.","body":"These methods may look similar in shape but what they have in common is too trivial to deserve an abstraction for the uncommon parts. By the way, you can rewrite <code>ClassA</code>’s method to the one-liner <code>return (Amap? FooAMap: FooBMap).computeIfAbsent(fooId, key -&gt; new Foo(&quot;data&quot;));</code> Then, the two methods have nothing in common anymore."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701720825,"post_id":77601143,"comment_id":136808595,"body_markdown":"Do both methods create the same Foo? Then running one before the other might reveal different results - it is just not equivalent. But without more details it is hard to say how to move on. You will have to take some decision here.","body":"Do both methods create the same Foo? Then running one before the other might reveal different results - it is just not equivalent. But without more details it is hard to say how to move on. You will have to take some decision here."}],"owner":{"account_id":30064460,"reputation":1,"user_id":23039919,"display_name":"xcffdsf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701708251,"creation_date":1701708251,"question_id":77601143,"body_markdown":"I might be trying to too hard to combine something that cannot be combined. I have 2 classes that do the same thing called createOrReturnFoo. two different classes that implement this process but they do it in different ways and use different parameters. I would liked to combine them under the same interface but I&#39;m not sure its possible. \r\n\r\n\r\n```\r\npublic class Foo {\r\n    private final String data;\r\n\r\n    public Foo(String data) {\r\n        this.data = data;\r\n    }\r\n}\r\n\r\npublic class ClassA {\r\n    HashMap&lt;String, Foo&gt; FooAMap = new HashMap&lt;&gt;();\r\n    HashMap&lt;String, Foo&gt; FooBMap = new HashMap&lt;&gt;();\r\n\r\n    public ClassA() {\r\n        FooAMap = new HashMap&lt;&gt;();\r\n        FooBMap = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public Foo createOrReturnFoo(boolean Amap, String fooId) {\r\n        HashMap&lt;String, Foo&gt; mapToUse = Amap ? FooAMap : FooBMap;\r\n        if (mapToUse.containsKey(fooId)) {\r\n            return mapToUse.get(fooId);\r\n        } else {\r\n            Foo foo = new Foo(&quot;data&quot;);\r\n            mapToUse.put(fooId, foo);\r\n            return foo;\r\n        }\r\n    }\r\n}\r\n\r\npublic class ClassB {\r\n    Repository fooRepository;\r\n    public ClassB() {\r\n        fooRepository = new fooRepository();\r\n    }\r\n\r\n    public Foo createOrReturnFoo(Date fooDate) {\r\n        Foo foo = fooRepository.findByDate(fooDate);\r\n        if (foo != null) {\r\n            return foo;\r\n        } else {\r\n            foo = new Foo(&quot;data&quot;);\r\n            fooRepository.save(foo);\r\n            return foo;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt might be hard to tell from the generic example but both ClassA and B &quot;do&quot; the same thing, either retrieve Foo from a store, or create and new one. But they are used in different contexts. for example in ClassA I need to a boolean to see which store to use in the first place.","title":"How should I combine two implementations which do the same thing but under different contexts and have different method signatures?","body":"<p>I might be trying to too hard to combine something that cannot be combined. I have 2 classes that do the same thing called createOrReturnFoo. two different classes that implement this process but they do it in different ways and use different parameters. I would liked to combine them under the same interface but I'm not sure its possible.</p>\n<pre><code>public class Foo {\n    private final String data;\n\n    public Foo(String data) {\n        this.data = data;\n    }\n}\n\npublic class ClassA {\n    HashMap&lt;String, Foo&gt; FooAMap = new HashMap&lt;&gt;();\n    HashMap&lt;String, Foo&gt; FooBMap = new HashMap&lt;&gt;();\n\n    public ClassA() {\n        FooAMap = new HashMap&lt;&gt;();\n        FooBMap = new HashMap&lt;&gt;();\n    }\n\n    public Foo createOrReturnFoo(boolean Amap, String fooId) {\n        HashMap&lt;String, Foo&gt; mapToUse = Amap ? FooAMap : FooBMap;\n        if (mapToUse.containsKey(fooId)) {\n            return mapToUse.get(fooId);\n        } else {\n            Foo foo = new Foo(&quot;data&quot;);\n            mapToUse.put(fooId, foo);\n            return foo;\n        }\n    }\n}\n\npublic class ClassB {\n    Repository fooRepository;\n    public ClassB() {\n        fooRepository = new fooRepository();\n    }\n\n    public Foo createOrReturnFoo(Date fooDate) {\n        Foo foo = fooRepository.findByDate(fooDate);\n        if (foo != null) {\n            return foo;\n        } else {\n            foo = new Foo(&quot;data&quot;);\n            fooRepository.save(foo);\n            return foo;\n        }\n    }\n}\n</code></pre>\n<p>It might be hard to tell from the generic example but both ClassA and B &quot;do&quot; the same thing, either retrieve Foo from a store, or create and new one. But they are used in different contexts. for example in ClassA I need to a boolean to see which store to use in the first place.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","one-to-one"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1701634431,"post_id":77595543,"comment_id":136797355,"body_markdown":"Show the logic of the method that saves this record","body":"Show the logic of the method that saves this record"},{"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"score":0,"creation_date":1701666264,"post_id":77595543,"comment_id":136799743,"body_markdown":"I have posted the logic of the method that saves into database @lane.maxwell","body":"I have posted the logic of the method that saves into database @lane.maxwell"}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701707937,"creation_date":1701707937,"answer_id":77601122,"question_id":77595543,"body_markdown":"I think you&#39;re just missing the cascade.  On both sides of your OneToOne, add either `CascadeType.ALL` or `CascadeType.PERSIST`.\r\n\r\nThen, you can remove the explicit call to save the login &lt;s&gt;`loginDAO.save(login)`&lt;/s&gt; and save both entities with your call to `khachHangDAO.save(khachHang);`.\r\n\r\n    login.setKhachHang(khachHang);\r\n    khachHang.setLogin(login);\r\n\r\n    khachHangDAO.save(khachHang);","title":"Cannot using one-to-one relation in java spring","body":"<p>I think you're just missing the cascade.  On both sides of your OneToOne, add either <code>CascadeType.ALL</code> or <code>CascadeType.PERSIST</code>.</p>\n<p>Then, you can remove the explicit call to save the login <s><code>loginDAO.save(login)</code></s> and save both entities with your call to <code>khachHangDAO.save(khachHang);</code>.</p>\n<pre><code>login.setKhachHang(khachHang);\nkhachHang.setLogin(login);\n\nkhachHangDAO.save(khachHang);\n</code></pre>\n"}],"owner":{"account_id":24613039,"reputation":15,"user_id":18514341,"display_name":"Nguyen Dang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701707937,"creation_date":1701626410,"question_id":77595543,"body_markdown":"i have a question in javaspring, when using one-to-one relation, why i cannot mapping the username in khachHang class with the login class, althought the login.getUsername is not null, i have tried many times, but it awlays wrong, the CCCD can import to Login class but khachHang cannot get the variable of Login. What is the point of this error. Thank you.\r\n\r\nThis is my Login class:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;Login&quot;)\r\npublic class Login {\r\n\r\n\t@Id\r\n\tprivate String username;\r\n\r\n\tprivate String password;\r\n\tprivate boolean role;\r\n\r\n\t@OneToOne\r\n\t@JoinColumn(name = &quot;CCCD&quot;, referencedColumnName = &quot;CCCD&quot;)\r\n\tprivate KhachHang khachHang;\r\n\r\n\tpublic Login(String username, String password, boolean role) {\r\n\t\tthis.username = username;\r\n\t\tthis.password = password;\r\n\t\tthis.role = role;\r\n\t}\r\n}\r\n```\r\n\r\nThis is my KhachHang Class:\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;ThongTinKhachHang&quot;)\r\npublic class KhachHang {\r\n\r\n    @Id\r\n    private String CCCD;\r\n\r\n    private String tenKhachHang;\r\n    private boolean gioiTinh;\r\n    private String diaChi;\r\n    private String email;\r\n    private String soDienThoai;\r\n\r\n    @OneToOne(mappedBy = &quot;khachHang&quot;)\r\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\r\n    private Login login;\r\n\r\n    @OneToMany(mappedBy = &quot;khachHang&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;ChiTietDatTour&gt; chiTietDatTours;\r\n\r\n    public KhachHang(String CCCD, String tenKhachHang, boolean gioiTinh, String diaChi, String email, String soDienThoai, Login login) {\r\n        this.CCCD = CCCD;\r\n        this.tenKhachHang = tenKhachHang;\r\n        this.gioiTinh = gioiTinh;\r\n        this.diaChi = diaChi;\r\n        this.email = email;\r\n        this.soDienThoai = soDienThoai;\r\n        this.login = login;\r\n    }\r\n}\r\n```\r\nAnd this is the result when query from database.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jYruR.png\r\n\r\nUpdate: I have updated the save to database logic:\r\n```\r\n    @PostMapping(&quot;/signup/userSignUp&quot;)\r\n    public String userSaveToDatabase(@RequestParam(name = &quot;hoTen&quot;) String hoTen,\r\n                                     @RequestParam(name = &quot;username&quot;) String username,\r\n                                     @RequestParam(name = &quot;phonenumber&quot;) String phoneNumber,\r\n                                     @RequestParam(name = &quot;CCCD&quot;) String CCCD,\r\n                                     @RequestParam(name = &quot;email&quot;) String email,\r\n                                     @RequestParam(name = &quot;diachi&quot;) String diaChi,\r\n                                     @RequestParam(name = &quot;password&quot;) String password,\r\n                                     @RequestParam(name = &quot;reconfirm&quot;) String reconfirm,\r\n                                     @RequestParam(name = &quot;gioiTinh&quot;) boolean gioiTinh,\r\n                                     Model model) {\r\n\r\n        if (loginDAO.existsByUsername(username)) {\r\n            model.addAttribute(&quot;error&quot;, &quot;Username already exists.&quot;);\r\n            return &quot;redirect:/signup&quot;;\r\n        }\r\n\r\n        if (!password.equals(reconfirm)) {\r\n            model.addAttribute(&quot;error&quot;, &quot;Password and reconfirm password do not match.&quot;);\r\n            return &quot;redirect:/index&quot;;\r\n        }\r\n\r\n        if (!loginDAO.existsCCCD(CCCD).isEmpty()) {\r\n            model.addAttribute(&quot;error&quot;, &quot;CCCD already exists.&quot;);\r\n            return &quot;redirect:/book&quot;;\r\n        }\r\n\r\n        if (!checkPassword(password) || !validateEmail(email) ||\r\n                !checkCCCD(CCCD) || !checkPhone(phoneNumber) || !checkAddress(diaChi)) {\r\n            return &quot;redirect:/test3&quot;;\r\n        }\r\n\r\n        Login login = new Login(username, password, false);\r\n        KhachHang khachHang = new KhachHang(CCCD, hoTen, gioiTinh, diaChi, email, phoneNumber, login);\r\n\r\n        login.setKhachHang(khachHang);\r\n        khachHang.setLogin(login);\r\n\r\n        khachHangDAO.save(khachHang);\r\n        loginDAO.save(login);\r\n\r\n        return &quot;redirect:/test2&quot;;\r\n    }\r\n```\r\n","title":"Cannot using one-to-one relation in java spring","body":"<p>i have a question in javaspring, when using one-to-one relation, why i cannot mapping the username in khachHang class with the login class, althought the login.getUsername is not null, i have tried many times, but it awlays wrong, the CCCD can import to Login class but khachHang cannot get the variable of Login. What is the point of this error. Thank you.</p>\n<p>This is my Login class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;Login&quot;)\npublic class Login {\n\n    @Id\n    private String username;\n\n    private String password;\n    private boolean role;\n\n    @OneToOne\n    @JoinColumn(name = &quot;CCCD&quot;, referencedColumnName = &quot;CCCD&quot;)\n    private KhachHang khachHang;\n\n    public Login(String username, String password, boolean role) {\n        this.username = username;\n        this.password = password;\n        this.role = role;\n    }\n}\n</code></pre>\n<p>This is my KhachHang Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;ThongTinKhachHang&quot;)\npublic class KhachHang {\n\n    @Id\n    private String CCCD;\n\n    private String tenKhachHang;\n    private boolean gioiTinh;\n    private String diaChi;\n    private String email;\n    private String soDienThoai;\n\n    @OneToOne(mappedBy = &quot;khachHang&quot;)\n    @JoinColumn(name = &quot;username&quot;, referencedColumnName = &quot;username&quot;)\n    private Login login;\n\n    @OneToMany(mappedBy = &quot;khachHang&quot;, cascade = CascadeType.ALL)\n    private List&lt;ChiTietDatTour&gt; chiTietDatTours;\n\n    public KhachHang(String CCCD, String tenKhachHang, boolean gioiTinh, String diaChi, String email, String soDienThoai, Login login) {\n        this.CCCD = CCCD;\n        this.tenKhachHang = tenKhachHang;\n        this.gioiTinh = gioiTinh;\n        this.diaChi = diaChi;\n        this.email = email;\n        this.soDienThoai = soDienThoai;\n        this.login = login;\n    }\n}\n</code></pre>\n<p>And this is the result when query from database.\n<a href=\"https://i.stack.imgur.com/jYruR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYruR.png\" alt=\"enter image description here\" /></a></p>\n<p>Update: I have updated the save to database logic:</p>\n<pre><code>    @PostMapping(&quot;/signup/userSignUp&quot;)\n    public String userSaveToDatabase(@RequestParam(name = &quot;hoTen&quot;) String hoTen,\n                                     @RequestParam(name = &quot;username&quot;) String username,\n                                     @RequestParam(name = &quot;phonenumber&quot;) String phoneNumber,\n                                     @RequestParam(name = &quot;CCCD&quot;) String CCCD,\n                                     @RequestParam(name = &quot;email&quot;) String email,\n                                     @RequestParam(name = &quot;diachi&quot;) String diaChi,\n                                     @RequestParam(name = &quot;password&quot;) String password,\n                                     @RequestParam(name = &quot;reconfirm&quot;) String reconfirm,\n                                     @RequestParam(name = &quot;gioiTinh&quot;) boolean gioiTinh,\n                                     Model model) {\n\n        if (loginDAO.existsByUsername(username)) {\n            model.addAttribute(&quot;error&quot;, &quot;Username already exists.&quot;);\n            return &quot;redirect:/signup&quot;;\n        }\n\n        if (!password.equals(reconfirm)) {\n            model.addAttribute(&quot;error&quot;, &quot;Password and reconfirm password do not match.&quot;);\n            return &quot;redirect:/index&quot;;\n        }\n\n        if (!loginDAO.existsCCCD(CCCD).isEmpty()) {\n            model.addAttribute(&quot;error&quot;, &quot;CCCD already exists.&quot;);\n            return &quot;redirect:/book&quot;;\n        }\n\n        if (!checkPassword(password) || !validateEmail(email) ||\n                !checkCCCD(CCCD) || !checkPhone(phoneNumber) || !checkAddress(diaChi)) {\n            return &quot;redirect:/test3&quot;;\n        }\n\n        Login login = new Login(username, password, false);\n        KhachHang khachHang = new KhachHang(CCCD, hoTen, gioiTinh, diaChi, email, phoneNumber, login);\n\n        login.setKhachHang(khachHang);\n        khachHang.setLogin(login);\n\n        khachHangDAO.save(khachHang);\n        loginDAO.save(login);\n\n        return &quot;redirect:/test2&quot;;\n    }\n</code></pre>\n"},{"tags":["java","python","uuid"],"answers":[{"tags":[],"owner":{"account_id":34676,"reputation":15299,"user_id":98057,"accept_rate":90,"display_name":"Andr&#233; Laszlo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1421228789,"creation_date":1421227525,"answer_id":27939485,"question_id":27939281,"body_markdown":"[`nameUUIDFromBytes`](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29) only takes one parameter, which is supposed to be the concatenation of the namespace and name just like you say. The namespace parameter is supposed to be a `UUID`, and as far as I know, they don&#39;t have a `null` value defined.\r\n\r\nA &quot;`null` uuid&quot; can be passed to Python&#39;s [`uuid3`](https://github.com/python/cpython/blob/master/Lib/uuid.py#L599) like this. This should work as long as the namespace has a `bytes` attribute (tested with Python 2 and 3):\r\n\r\n    class NULL_NAMESPACE:\r\n        bytes = b&#39;&#39;\r\n    uuid.uuid3(NULL_NAMESPACE, &#39;TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN&#39;)\r\n    # returns: UUID(&#39;c6a0deb5-0c4f-3961-9d19-3f0fde0517c2&#39;)\r\n\r\n","title":"Reproduce uuid from java code in python","body":"<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/UUID.java#UUID.nameUUIDFromBytes%28byte%5B%5D%29\"><code>nameUUIDFromBytes</code></a> only takes one parameter, which is supposed to be the concatenation of the namespace and name just like you say. The namespace parameter is supposed to be a <code>UUID</code>, and as far as I know, they don't have a <code>null</code> value defined.</p>\n\n<p>A \"<code>null</code> uuid\" can be passed to Python's <a href=\"https://github.com/python/cpython/blob/master/Lib/uuid.py#L599\"><code>uuid3</code></a> like this. This should work as long as the namespace has a <code>bytes</code> attribute (tested with Python 2 and 3):</p>\n\n<pre><code>class NULL_NAMESPACE:\n    bytes = b''\nuuid.uuid3(NULL_NAMESPACE, 'TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN')\n# returns: UUID('c6a0deb5-0c4f-3961-9d19-3f0fde0517c2')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9653299,"reputation":69,"user_id":7163741,"display_name":"turbomerl"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701707659,"creation_date":1518619319,"answer_id":48789847,"question_id":27939281,"body_markdown":"In the case that it is helpful, if you want to do the Java side of this, you can use the following:\r\n\r\n\r\n    UUID namespaceUUID = UUID.fromString(&quot;9db60607-6b12-41eb-8848-eafd26681583&quot;);\r\n    String myString = &quot;sometextinhere&quot;;\r\n\r\n    ByteBuffer buffer = ByteBuffer.wrap(new byte[16 + myString.getBytes().length]);\r\n    buffer.putLong(namespaceUUID.getMostSignificantBits());\r\n    buffer.putLong(namespaceUUID.getLeastSignificantBits());\r\n    buffer.put(myString.getBytes());\r\n\r\n    byte[] uuidBytes = buffer.array();\r\n\r\n    UUID myUUID = UUID.nameUUIDFromBytes(uuidBytes);\r\n\r\n\r\nThis will provide the same output UUID as the following Python:\r\n\r\n    namespaceUUID = UUID(&#39;9db60607-6b12-41eb-8848-eafd26681583&#39;)\r\n    myUUID = uuid.uuid3(namespaceUUID, &#39;sometextinhere&#39;))\r\n    ","title":"Reproduce uuid from java code in python","body":"<p>In the case that it is helpful, if you want to do the Java side of this, you can use the following:</p>\n<pre><code>UUID namespaceUUID = UUID.fromString(&quot;9db60607-6b12-41eb-8848-eafd26681583&quot;);\nString myString = &quot;sometextinhere&quot;;\n\nByteBuffer buffer = ByteBuffer.wrap(new byte[16 + myString.getBytes().length]);\nbuffer.putLong(namespaceUUID.getMostSignificantBits());\nbuffer.putLong(namespaceUUID.getLeastSignificantBits());\nbuffer.put(myString.getBytes());\n\nbyte[] uuidBytes = buffer.array();\n\nUUID myUUID = UUID.nameUUIDFromBytes(uuidBytes);\n</code></pre>\n<p>This will provide the same output UUID as the following Python:</p>\n<pre><code>namespaceUUID = UUID('9db60607-6b12-41eb-8848-eafd26681583')\nmyUUID = uuid.uuid3(namespaceUUID, 'sometextinhere'))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863481,"reputation":41,"user_id":2458223,"display_name":"Sathish Kumar S"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644385215,"creation_date":1644385215,"answer_id":71044501,"question_id":27939281,"body_markdown":"@turbomeri&#39;s answer is right.. just python code didn&#39;t had few mistakes, so corrected the version\r\n\r\n```import uuid\r\na = &#39;sometextinhere&#39;\r\nnamespaceUUID = uuid.UUID(&#39;9db60607-6b12-41eb-8848-eafd26681583&#39;)\r\nprint(str(uuid.uuid3(namespaceUUID, a)))```","title":"Reproduce uuid from java code in python","body":"<p>@turbomeri's answer is right.. just python code didn't had few mistakes, so corrected the version</p>\n<pre><code>a = 'sometextinhere'\nnamespaceUUID = uuid.UUID('9db60607-6b12-41eb-8848-eafd26681583')\nprint(str(uuid.uuid3(namespaceUUID, a)))```\n</code></pre>\n"}],"owner":{"account_id":58449,"reputation":9985,"user_id":1391064,"accept_rate":73,"display_name":"Jon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4837,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27939485,"answer_count":3,"score":9,"last_activity_date":1701707659,"creation_date":1421226877,"question_id":27939281,"body_markdown":"In a Java application files are created where the filename is a UUID generated from a protein sequence (e.g. TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN) created using the function `UUID.nameUUIDFromBytes`. This results in the UUID `c6a0deb5-0c4f-3961-9d19-3f0fde0517c2`.\r\n\r\n`UUID.namedUUIDFromBytes` doesn&#39;t take a namespace as a parameter, whereas in python `uuid.uuid3` does. According to https://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes, the namespace should have been passed as part of the name, but it&#39;s no longer possible to change the java code.\r\n\r\nIs there a way to create a custom namespace in the python code such that it will produce the same UUID&#39;s as the Java code?","title":"Reproduce uuid from java code in python","body":"<p>In a Java application files are created where the filename is a UUID generated from a protein sequence (e.g. TTCCPSIVARSNFNVCRLPGTPEAICATYTGCIIIPGATCPGDYAN) created using the function <code>UUID.nameUUIDFromBytes</code>. This results in the UUID <code>c6a0deb5-0c4f-3961-9d19-3f0fde0517c2</code>.</p>\n\n<p><code>UUID.namedUUIDFromBytes</code> doesn't take a namespace as a parameter, whereas in python <code>uuid.uuid3</code> does. According to <a href=\"https://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes\">What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?</a>, the namespace should have been passed as part of the name, but it's no longer possible to change the java code.</p>\n\n<p>Is there a way to create a custom namespace in the python code such that it will produce the same UUID's as the Java code?</p>\n"},{"tags":["java","spring","rest","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1568635570,"creation_date":1568635266,"answer_id":57956436,"question_id":57956154,"body_markdown":"Spring Boot maps the request params to `org.springframework.data.domain.PageRequest` that extends `AbstractPageRequest`\r\n\r\n      AbstractPageRequest implements Pageable, Serializable {\r\n        ...\r\n        private final int page;\r\n        private final int size;\r\n\r\n        public long getOffset() {\r\n            return (long)this.page * (long)this.size;\r\n        }\r\n        ...\r\n\r\nYou should use following url:\r\n\r\n    http://localhost:8080?page=3&amp;size=5\r\n\r\nAlso you could add sorting by ...&amp;sort=name","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>Spring Boot maps the request params to <code>org.springframework.data.domain.PageRequest</code> that extends <code>AbstractPageRequest</code></p>\n\n<pre><code>  AbstractPageRequest implements Pageable, Serializable {\n    ...\n    private final int page;\n    private final int size;\n\n    public long getOffset() {\n        return (long)this.page * (long)this.size;\n    }\n    ...\n</code></pre>\n\n<p>You should use following url:</p>\n\n<pre><code>http://localhost:8080?page=3&amp;size=5\n</code></pre>\n\n<p>Also you could add sorting by ...&amp;sort=name</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701707416,"creation_date":1701707416,"answer_id":77601056,"question_id":57956154,"body_markdown":"Spring boot `Pageable` supports the following url params OOTB:\r\n\r\n- page: page number, where 0 is the first page\r\n- size: page size\r\n- sort: sort by field\r\n- direction: ASC/DESC\r\n\r\n**Sample endpoint:**\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\r\n    \t} catch (Exception e) {\r\n    \t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n    \t}\r\n    }\r\n\r\n**Sample Request:**\r\n\r\n    localhost:8080/users?page=2&amp;size=5&amp;sort=createdAt,DESC\r\n\r\n**Sample Response** (note the paging data below):\r\n\r\n    {\r\n        &quot;content&quot;: [\r\n           ... \r\n        ],\r\n        &quot;pageable&quot;: {\r\n            &quot;sort&quot;: {\r\n                &quot;empty&quot;: false,\r\n                &quot;sorted&quot;: true,\r\n                &quot;unsorted&quot;: false\r\n            },\r\n            &quot;offset&quot;: 10,\r\n            &quot;pageNumber&quot;: 2,\r\n            &quot;pageSize&quot;: 5,\r\n            &quot;paged&quot;: true,\r\n            &quot;unpaged&quot;: false\r\n        },\r\n        &quot;last&quot;: false,\r\n        &quot;totalPages&quot;: 12,\r\n        &quot;totalElements&quot;: 58,\r\n        &quot;size&quot;: 5,\r\n        &quot;number&quot;: 2,\r\n        &quot;sort&quot;: {\r\n            &quot;empty&quot;: false,\r\n            &quot;sorted&quot;: true,\r\n            &quot;unsorted&quot;: false\r\n        },\r\n        &quot;numberOfElements&quot;: 5,\r\n        &quot;first&quot;: false,\r\n        &quot;empty&quot;: false\r\n    }\r\n\r\n\r\n","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>Spring boot <code>Pageable</code> supports the following url params OOTB:</p>\n<ul>\n<li>page: page number, where 0 is the first page</li>\n<li>size: page size</li>\n<li>sort: sort by field</li>\n<li>direction: ASC/DESC</li>\n</ul>\n<p><strong>Sample endpoint:</strong></p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n<p><strong>Sample Request:</strong></p>\n<pre><code>localhost:8080/users?page=2&amp;size=5&amp;sort=createdAt,DESC\n</code></pre>\n<p><strong>Sample Response</strong> (note the paging data below):</p>\n<pre><code>{\n    &quot;content&quot;: [\n       ... \n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;empty&quot;: false,\n            &quot;sorted&quot;: true,\n            &quot;unsorted&quot;: false\n        },\n        &quot;offset&quot;: 10,\n        &quot;pageNumber&quot;: 2,\n        &quot;pageSize&quot;: 5,\n        &quot;paged&quot;: true,\n        &quot;unpaged&quot;: false\n    },\n    &quot;last&quot;: false,\n    &quot;totalPages&quot;: 12,\n    &quot;totalElements&quot;: 58,\n    &quot;size&quot;: 5,\n    &quot;number&quot;: 2,\n    &quot;sort&quot;: {\n        &quot;empty&quot;: false,\n        &quot;sorted&quot;: true,\n        &quot;unsorted&quot;: false\n    },\n    &quot;numberOfElements&quot;: 5,\n    &quot;first&quot;: false,\n    &quot;empty&quot;: false\n}\n</code></pre>\n"}],"owner":{"account_id":9227487,"reputation":1065,"user_id":6854812,"accept_rate":12,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5826,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57956436,"answer_count":2,"score":2,"last_activity_date":1701707416,"creation_date":1568634311,"question_id":57956154,"body_markdown":"I am using **Spring Boot 2** and I have write a `@RestController` within a `@GetMapping` that takes a `Pageable` as parameter.\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Page&lt;AppointmentTO&gt;&gt; findAll(Pageable pageable) {\r\n        Page&lt;AppointmentTO&gt; page = appointmentService.findAll(pageable);\r\n        return ResponseEntity.ok(page);\r\n    }\r\n\r\nThe problem is the following:\r\n\r\nBy each request, the **queries-parameters** `pageSize` and `offset` are always reset to default when they arrived in Spring Boot Backend (`?offset=0&amp;pageSize=20`), however I send different parameters in the url of my request (`?offset=15&amp;pageSize=5` for example).","title":"Spring Boot: @GetMapping with Pageable as request parameter don&#39;t work as expected","body":"<p>I am using <strong>Spring Boot 2</strong> and I have write a <code>@RestController</code> within a <code>@GetMapping</code> that takes a <code>Pageable</code> as parameter.</p>\n\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Page&lt;AppointmentTO&gt;&gt; findAll(Pageable pageable) {\n    Page&lt;AppointmentTO&gt; page = appointmentService.findAll(pageable);\n    return ResponseEntity.ok(page);\n}\n</code></pre>\n\n<p>The problem is the following:</p>\n\n<p>By each request, the <strong>queries-parameters</strong> <code>pageSize</code> and <code>offset</code> are always reset to default when they arrived in Spring Boot Backend (<code>?offset=0&amp;pageSize=20</code>), however I send different parameters in the url of my request (<code>?offset=15&amp;pageSize=5</code> for example).</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"score":3,"creation_date":1264090540,"post_id":2110757,"comment_id":2046025,"body_markdown":"Can you include the offending code? Does the name match the values you get in ResultSet.getColumnNames?","body":"Can you include the offending code? Does the name match the values you get in ResultSet.getColumnNames?"},{"owner":{"account_id":2361780,"reputation":303,"user_id":2068320,"display_name":"Praveen Shendge"},"score":0,"creation_date":1534486549,"post_id":2110757,"comment_id":90729671,"body_markdown":"This has happen to me when I was excluding the existing column from the table.\nTo resolve this problem you can select &#39;*&#39; first i.e all the records and then try to included columns one by one.","body":"This has happen to me when I was excluding the existing column from the table. To resolve this problem you can select &#39;*&#39; first i.e all the records and then try to included columns one by one."}],"answers":[{"tags":[],"owner":{"account_id":25056,"reputation":11600,"user_id":64132,"accept_rate":95,"display_name":"David Espart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264090642,"creation_date":1264090642,"answer_id":2110799,"question_id":2110757,"body_markdown":"Try to enclose the column name inside square brackets: [MarginCall]\r\nJust a guess.","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Try to enclose the column name inside square brackets: [MarginCall]\nJust a guess.</p>\n"},{"tags":[],"owner":{"account_id":24831,"reputation":5854,"user_id":63383,"accept_rate":100,"display_name":"Mauricio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264092450,"creation_date":1264092450,"answer_id":2111027,"question_id":2110757,"body_markdown":"Check the case of your table name. if collation is set to case sensitive on ms sql server the table names are affected too.","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Check the case of your table name. if collation is set to case sensitive on ms sql server the table names are affected too.</p>\n"},{"tags":[],"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1264093615,"creation_date":1264093615,"answer_id":2111181,"question_id":2110757,"body_markdown":"Problem solved. It was a simple mistake by me. \r\n\r\nMy query was using an &#39;AS&#39; clause in the select statement. I was trying to retrieve the column value from the ResultSet using the actual column name, instead of the column alias defined in the AS clause.\r\n\r\nSchoolboy error. Apologies for the time wasting.\r\n\r\nMany thanks to Steve B. for his suggestion to use ResultSet.getColumnNames(). Although the actual method call I used was ResultSet.getMetaData().getColumnName(columnIndex);","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>Problem solved. It was a simple mistake by me. </p>\n\n<p>My query was using an 'AS' clause in the select statement. I was trying to retrieve the column value from the ResultSet using the actual column name, instead of the column alias defined in the AS clause.</p>\n\n<p>Schoolboy error. Apologies for the time wasting.</p>\n\n<p>Many thanks to Steve B. for his suggestion to use ResultSet.getColumnNames(). Although the actual method call I used was ResultSet.getMetaData().getColumnName(columnIndex);</p>\n"},{"tags":[],"owner":{"account_id":9525384,"reputation":502,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701707317,"creation_date":1600933885,"answer_id":64041833,"question_id":2110757,"body_markdown":"The same issue can be thrown, if the `Entity` *properties* &amp; `SELECT` statement *column* values are mismatching.\r\n\r\nCheck the following example:\r\n\r\n**Entity**\r\n```java\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;country&quot;)\r\npublic class Country {\r\n\r\n    @Id\r\n    private Integer id;\r\n    \r\n    private String name;\r\n\r\n    private String code;\r\n}\r\n```\r\n**Repository**\r\n```java\r\npublic interface CountryRepository extends JpaRepository&lt;Country, Integer&gt; {\r\n    \r\n    @Query(nativeQuery = true, value = &quot;SELECT id, name FROM country WHERE isActive = &#39;true&#39; ORDER BY name&quot;)\r\n    List&lt;Country&gt; findIdAndNameAndCodeByIsActiveTrue();\r\n}\r\n```\r\nIn this case it will throw an Exception\r\n```java\r\ncom.microsoft.sqlserver.jdbc.SQLServerException: The column name code is not valid.\r\n```\r\nSo, if you do not need all the columns as response, then use [Projections][1] as return type or mention all the columns which are available as part of `entity` in the `select` query.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>The same issue can be thrown, if the <code>Entity</code> <em>properties</em> &amp; <code>SELECT</code> statement <em>column</em> values are mismatching.</p>\n<p>Check the following example:</p>\n<p><strong>Entity</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;country&quot;)\npublic class Country {\n\n    @Id\n    private Integer id;\n    \n    private String name;\n\n    private String code;\n}\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CountryRepository extends JpaRepository&lt;Country, Integer&gt; {\n    \n    @Query(nativeQuery = true, value = &quot;SELECT id, name FROM country WHERE isActive = 'true' ORDER BY name&quot;)\n    List&lt;Country&gt; findIdAndNameAndCodeByIsActiveTrue();\n}\n</code></pre>\n<p>In this case it will throw an Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>com.microsoft.sqlserver.jdbc.SQLServerException: The column name code is not valid.\n</code></pre>\n<p>So, if you do not need all the columns as response, then use <a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">Projections</a> as return type or mention all the columns which are available as part of <code>entity</code> in the <code>select</code> query.</p>\n"}],"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31455,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":2111181,"answer_count":4,"score":14,"last_activity_date":1701707317,"creation_date":1264090388,"question_id":2110757,"body_markdown":"I&#39;m getting a strange error from the SQL Server JDBC driver. It is telling me that a column name is invalid even though the column is present, correctly named and the same query works fine when executed in SqlServer Management Studio.\r\n\r\nThe error is:\r\n\r\n    Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name MarginCall is not valid.\r\n        at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:626)\r\n        at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getBigDecimal(SQLServerResultSet.java:2570)\r\n        at org.apache.commons.dbcp.DelegatingResultSet.getBigDecimal(DelegatingResultSet.java:305)\r\n    ...\r\n\r\n","title":"SQL Server Exception: &quot;The column name xxx is not valid&quot; when using JDBC","body":"<p>I'm getting a strange error from the SQL Server JDBC driver. It is telling me that a column name is invalid even though the column is present, correctly named and the same query works fine when executed in SqlServer Management Studio.</p>\n\n<p>The error is:</p>\n\n<pre><code>Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The column name MarginCall is not valid.\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:170)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.findColumn(SQLServerResultSet.java:626)\n    at com.microsoft.sqlserver.jdbc.SQLServerResultSet.getBigDecimal(SQLServerResultSet.java:2570)\n    at org.apache.commons.dbcp.DelegatingResultSet.getBigDecimal(DelegatingResultSet.java:305)\n...\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver","selenium-chromedriver","selenide"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701718089,"post_id":77601014,"comment_id":136808204,"body_markdown":"driver.quit() will not work as that will shut down the browser and dispose of the driver. \n When using the driver.close() command the current tab/window will be closed.  If it&#39;s the last tab/window opened, it may also quit the driver (depends on the driver used).  It&#39;s possible that this behavior is causing your issue.  To avoid that, make sure there is more than one window/tab open in the browser.  Call, executeScript(&quot;window.open(&#39;about:blank&#39;, &#39;_blank&#39;);&quot;);  before calling driver.close()...  (you may also want to use expected condition of numberOfWindowsToBe...)","body":"driver.quit() will not work as that will shut down the browser and dispose of the driver.   When using the driver.close() command the current tab/window will be closed.  If it&#39;s the last tab/window opened, it may also quit the driver (depends on the driver used).  It&#39;s possible that this behavior is causing your issue.  To avoid that, make sure there is more than one window/tab open in the browser.  Call, executeScript(&quot;window.open(&#39;about:blank&#39;, &#39;_blank&#39;);&quot;);  before calling driver.close()...  (you may also want to use expected condition of numberOfWindowsToBe...)"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1701798164,"post_id":77601014,"comment_id":136819079,"body_markdown":"since this will be triggered onbeforeunload, another alternative is just to send driver .back(), or .refresh() commands.","body":"since this will be triggered onbeforeunload, another alternative is just to send driver .back(), or .refresh() commands."}],"owner":{"account_id":30064332,"reputation":1,"user_id":23039818,"display_name":"Anil Ch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701707225,"creation_date":1701707016,"question_id":77601014,"body_markdown":"Our application has a popup alert built-in if user closes the browser tab. It works when I manually close the Chrome browser tab, but when I use Selenium methods like `driver.close()` or `quit()`, or `Keys(COMMAND + w)` it doesn&#39;t throw any pop up - but directly closes the browser.\r\n\r\nIs there anyway to display that prompt/popup/alert as it is normally thrown on manual run?\r\n\r\n![Popup image](https://i.stack.imgur.com/TP8XP.png)\r\n\r\nI tried all possible ways to close the browser tab, and all those methods directly closing the browser tab without throwing the pop up.\r\n\r\nI want the popup to be displayed before closing the browser tab, as it normally appears on manual execution.","title":"While closing the browser tab in Selenium run, Pop-up alert not displayed, but pop-up is displayed when manually closing the browser tab","body":"<p>Our application has a popup alert built-in if user closes the browser tab. It works when I manually close the Chrome browser tab, but when I use Selenium methods like <code>driver.close()</code> or <code>quit()</code>, or <code>Keys(COMMAND + w)</code> it doesn't throw any pop up - but directly closes the browser.</p>\n<p>Is there anyway to display that prompt/popup/alert as it is normally thrown on manual run?</p>\n<p><img src=\"https://i.stack.imgur.com/TP8XP.png\" alt=\"Popup image\" /></p>\n<p>I tried all possible ways to close the browser tab, and all those methods directly closing the browser tab without throwing the pop up.</p>\n<p>I want the popup to be displayed before closing the browser tab, as it normally appears on manual execution.</p>\n"},{"tags":["java","junit","interface","java-annotations"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701703831,"post_id":77600621,"comment_id":136805546,"body_markdown":"`permission` isn&#39;t an annotation, it&#39;s an attribute of the `MockToken` annotation. Are you really trying to set it to all of that, I guess, JSON data? You can simply define it as a string  like you did `user` and grab it and parse it. Are you expecting it to get parsed for you from JSON into an object graph?","body":"<code>permission</code> isn&#39;t an annotation, it&#39;s an attribute of the <code>MockToken</code> annotation. Are you really trying to set it to all of that, I guess, JSON data? You can simply define it as a string  like you did <code>user</code> and grab it and parse it. Are you expecting it to get parsed for you from JSON into an object graph?"},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701704325,"post_id":77600621,"comment_id":136805638,"body_markdown":"thank you. I want to define an object to include in MockToken which includes data like example permissions.","body":"thank you. I want to define an object to include in MockToken which includes data like example permissions."},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701704386,"post_id":77600621,"comment_id":136805653,"body_markdown":"Defining it as an String is also a good idea. But I tought about defiine it as a class.","body":"Defining it as an String is also a good idea. But I tought about defiine it as a class."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701705236,"post_id":77600621,"comment_id":136805817,"body_markdown":"I think what you need is [repeating annotations](https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html), at multiple levels, for permissions but also for resource_scopes within a permission, but I have never set up such complicated annotations before.","body":"I think what you need is <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/repeating.html\" rel=\"nofollow noreferrer\">repeating annotations</a>, at multiple levels, for permissions but also for resource_scopes within a permission, but I have never set up such complicated annotations before."},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701706289,"post_id":77600621,"comment_id":136806020,"body_markdown":"My goal is at the end to have field access like this: mockToken.permissions().resourceId();","body":"My goal is at the end to have field access like this: mockToken.permissions().resourceId();"},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701706448,"post_id":77600621,"comment_id":136806055,"body_markdown":"Yes I defined it exactly like this, but the problem is how to pass it as parameter in the test:  @Target(value={ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Permission {\n\n    String resourceId() default &quot;&quot;;\n    String resourceScopes() default &quot;&quot;;\n    int exp() default 0;\n\n\n\n\n}","body":"Yes I defined it exactly like this, but the problem is how to pass it as parameter in the test:  @Target(value={ElementType.METHOD, ElementType.FIELD}) @Retention(RetentionPolicy.RUNTIME) public @interface Permission {      String resourceId() default &quot;&quot;;     String resourceScopes() default &quot;&quot;;     int exp() default 0;     }"}],"answers":[{"tags":[],"owner":{"account_id":30064126,"reputation":11,"user_id":23039637,"display_name":"Harukero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701704942,"creation_date":1701704942,"answer_id":77600795,"question_id":77600621,"body_markdown":"Unfortunately, the types of attribute you can use in an annotation are limited.\r\n \r\nMaybe you can directly try to inject the `permission` object itself as a parameter for your test? \r\nIn that case, you&#39;ll need a ParameterResolver.\r\n\r\nIn this link they explain this quite well: https://www.baeldung.com/junit-5-extensions#4-parameter-resolution\r\n\r\nYou could also consider creating your own junit extension.\r\n\r\nYou can also try to create a `@ParameterizedTest`?","title":"Defining embeded annotation interface in Java","body":"<p>Unfortunately, the types of attribute you can use in an annotation are limited.</p>\n<p>Maybe you can directly try to inject the <code>permission</code> object itself as a parameter for your test?\nIn that case, you'll need a ParameterResolver.</p>\n<p>In this link they explain this quite well: <a href=\"https://www.baeldung.com/junit-5-extensions#4-parameter-resolution\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-5-extensions#4-parameter-resolution</a></p>\n<p>You could also consider creating your own junit extension.</p>\n<p>You can also try to create a <code>@ParameterizedTest</code>?</p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701706277,"creation_date":1701703506,"question_id":77600621,"body_markdown":"I have following annotation interface: \r\n\r\n    @Target({ElementType.METHOD, ElementType.TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Inherited\r\n    @Documented\r\n    public @interface MockToken {\r\n    \r\n        String user() default &quot;user&quot;;\r\n    \r\n        String[] allowedConfigs() default {};\r\n    \r\n    }\r\n\r\n\r\nWithin this annotation, I would like to define another annotation and initalize it in the test. The data should be an array at the end: \r\n\r\n  \r\n\r\n      &quot;permissions&quot;: [\r\n            {\r\n                &quot;resource_id&quot;: &quot;xy&quot;,\r\n                &quot;resource_scopes&quot;: [\r\n                    &quot;download&quot;\r\n                ],\r\n                &quot;exp&quot;: 1522334692\r\n            }\r\n        ]\r\n\r\nAnd I would like to initialize them in the test:\r\n\r\n    @Test\r\n    @MockToken(user= &quot;user1&quot;, allowedConfigs = {testUser}, permission = examplePermission)\r\n\r\n\r\nMy problem is now how to define **permission** annotation and how to define **examplePermission** in the test. \r\n\r\nMy goal is at the end to have field access like this: mockToken.permissions().resourceId();","title":"Defining embeded annotation interface in Java","body":"<p>I have following annotation interface:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface MockToken {\n\n    String user() default &quot;user&quot;;\n\n    String[] allowedConfigs() default {};\n\n}\n</code></pre>\n<p>Within this annotation, I would like to define another annotation and initalize it in the test. The data should be an array at the end:</p>\n<pre><code>  &quot;permissions&quot;: [\n        {\n            &quot;resource_id&quot;: &quot;xy&quot;,\n            &quot;resource_scopes&quot;: [\n                &quot;download&quot;\n            ],\n            &quot;exp&quot;: 1522334692\n        }\n    ]\n</code></pre>\n<p>And I would like to initialize them in the test:</p>\n<pre><code>@Test\n@MockToken(user= &quot;user1&quot;, allowedConfigs = {testUser}, permission = examplePermission)\n</code></pre>\n<p>My problem is now how to define <strong>permission</strong> annotation and how to define <strong>examplePermission</strong> in the test.</p>\n<p>My goal is at the end to have field access like this: mockToken.permissions().resourceId();</p>\n"},{"tags":["java","android","bottom-sheet"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701703612,"post_id":77600574,"comment_id":136805495,"body_markdown":"Both &quot;it&#39;s&quot; and &quot;its&quot; in the title, really covering all the bases, huh?","body":"Both &quot;it&#39;s&quot; and &quot;its&quot; in the title, really covering all the bases, huh?"},{"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"score":0,"creation_date":1701707793,"post_id":77600574,"comment_id":136806368,"body_markdown":"@DavidConrad can you please help me what i am doing wrong over here?","body":"@DavidConrad can you please help me what i am doing wrong over here?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701728543,"post_id":77600574,"comment_id":136809659,"body_markdown":"I have no idea, sorry.","body":"I have no idea, sorry."},{"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"score":0,"creation_date":1701786177,"post_id":77600574,"comment_id":136816713,"body_markdown":"I found a work around as in my styles.xml under tag &lt;style name=&quot;bottomsheet_dialog&quot; parent=&quot;@style/Theme.MaterialComponents.BottomSheetDialog&quot;&gt; an item tag was added &lt;item name=&quot;android:maxHeight&quot;&gt;300dp&lt;/item&gt;. I just removed it and it started working. But what should I do if this maxHeight for the bottomsheet is needed for other purpose where fixed height required (may be device size).","body":"I found a work around as in my styles.xml under tag &lt;style name=&quot;bottomsheet_dialog&quot; parent=&quot;@style/Theme.MaterialComponents.BottomSheetDialog&quot;&gt; an item tag was added &lt;item name=&quot;android:maxHeight&quot;&gt;300dp&lt;/item&gt;. I just removed it and it started working. But what should I do if this maxHeight for the bottomsheet is needed for other purpose where fixed height required (may be device size)."}],"owner":{"account_id":14050521,"reputation":51,"user_id":10149431,"display_name":"sumit kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701706090,"creation_date":1701703122,"question_id":77600574,"body_markdown":"I worked in another project where I implemented same code and it works well there but in my new project it doesn&#39;t work. \r\n\r\nsomehow my bottomsheet height got fixed and content of it which is inflated into it gets scrollable. I want bottom sheet height should be adjusted according to its content and not scrollable.\r\nWhat and where, Am I doing wrong please suggest me.\r\nMy BaseBottomsheetDialogFragment xml to show Dialog from BottomSheet is as :\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/rootlayout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/framelayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;gone&quot;&gt;\r\n\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\nand I inflate this Framelayout with AddFriendConfirmationFragment xml and this is as follows:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:id=&quot;@+id/main_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:background=&quot;@drawable/bottomsheet_bg&quot;\r\n    android:padding=&quot;5dp&quot;&gt;\r\n\r\n\r\n    &lt;ScrollView\r\n        android:id=&quot;@+id/scroll_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/layout_one&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                android:layout_marginRight=&quot;@dimen/padding_10dp&quot;\r\n                android:text=&quot;Add Friend to your List?&quot;\r\n                android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                android:textSize=&quot;18sp&quot; /&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/two&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/title2&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:padding=&quot;10dp&quot;&gt;\r\n\r\n                &lt;LinearLayout\r\n                    android:id=&quot;@+id/name_layout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/title_2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:ellipsize=&quot;end&quot;\r\n                        android:text=&quot;Full Name&quot;\r\n                        android:textColor=&quot;#444444&quot;\r\n                        android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n                    &lt;EditText\r\n                        android:id=&quot;@+id/name&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/title_2&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginRight=&quot;30dp&quot;\r\n                        android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                        android:hint=&quot;Enter Full Name&quot;\r\n                        android:importantForAutofill=&quot;no&quot;\r\n                        android:inputType=&quot;textPersonName&quot;\r\n                        android:maxLines=&quot;1&quot;\r\n                        android:paddingTop=&quot;10dp&quot;\r\n                        android:paddingBottom=&quot;10dp&quot;\r\n                        android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                        android:textColorHint=&quot;@color/hintcolor&quot;\r\n                        android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                        android:textSize=&quot;16sp&quot;\r\n                        android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n                    &lt;TextView\r\n                        android:id=&quot;@+id/error1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_below=&quot;@+id/name&quot;\r\n                        android:layout_marginLeft=&quot;10dp&quot;\r\n                        android:layout_marginTop=&quot;3dp&quot;\r\n                        android:text=&quot;&quot;\r\n                        android:textColor=&quot;@color/transaction_failed&quot;\r\n                        android:textSize=&quot;@dimen/small_text_size&quot;\r\n                        android:visibility=&quot;gone&quot; /&gt;\r\n\r\n\r\n                &lt;/LinearLayout&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/title_4&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/error1&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;16dp&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:text=&quot;Nick Name&quot;\r\n                    android:textColor=&quot;#444444&quot;\r\n                    android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/nick_name&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/title_4&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                    android:digits=&quot;1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz &quot;\r\n                    android:hint=&quot;Enter Nick Name&quot;\r\n                    android:importantForAutofill=&quot;no&quot;\r\n                    android:inputType=&quot;textPersonName|textCapWords&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:paddingTop=&quot;10dp&quot;\r\n                    android:paddingBottom=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                    android:textColorHint=&quot;@color/hintcolor&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/error1_1&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;3dp&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textColor=&quot;@color/transaction_failed&quot;\r\n                    android:textSize=&quot;@dimen/small_text_size&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/title_3&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:ellipsize=&quot;end&quot;\r\n                    android:text=&quot;Mobile Number&quot;\r\n                    android:textColor=&quot;#444444&quot;\r\n                    android:textSize=&quot;13sp&quot; /&gt;\r\n\r\n\r\n                &lt;EditText\r\n                    android:id=&quot;@+id/number&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/title_3&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginRight=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\r\n                    android:digits=&quot;1234567890&quot;\r\n                    android:hint=&quot;Enter Mobile Number&quot;\r\n                    android:importantForAutofill=&quot;no&quot;\r\n                    android:inputType=&quot;phone&quot;\r\n                    android:maxLength=&quot;10&quot;\r\n                    android:maxLines=&quot;1&quot;\r\n                    android:paddingTop=&quot;10dp&quot;\r\n                    android:paddingBottom=&quot;10dp&quot;\r\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\r\n                    android:textColorHint=&quot;@color/hintcolor&quot;\r\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\r\n                    android:textSize=&quot;16sp&quot;\r\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\r\n\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/error2&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginLeft=&quot;10dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:text=&quot;&quot;\r\n                    android:textColor=&quot;@color/transaction_failed&quot;\r\n                    android:textSize=&quot;@dimen/small_text_size&quot;\r\n                    android:visibility=&quot;visible&quot; /&gt;\r\n\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/main_error&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/two&quot;\r\n                android:layout_marginLeft=&quot;20dp&quot;\r\n                android:layout_marginTop=&quot;10dp&quot;\r\n                android:text=&quot;&quot;\r\n                android:textColor=&quot;@color/transaction_failed&quot;\r\n                android:textSize=&quot;13sp&quot;\r\n                android:visibility=&quot;gone&quot;\r\n\r\n                /&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/layout_1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_below=&quot;@+id/main_error&quot;\r\n\r\n                android:layout_alignParentRight=&quot;true&quot;&gt;\r\n\r\n                &lt;ProgressBar\r\n                    android:id=&quot;@+id/proceed_bar&quot;\r\n                    android:layout_width=&quot;24dp&quot;\r\n                    android:layout_height=&quot;24dp&quot;\r\n                    android:layout_centerInParent=&quot;true&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n\r\n                &lt;include\r\n                    layout=&quot;@layout/big_button_layout&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerVertical=&quot;true&quot;\r\n                    android:layout_margin=&quot;16dp&quot; /&gt;\r\n\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/ScrollView&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/close&quot;\r\n        android:layout_width=&quot;36dp&quot;\r\n        android:layout_height=&quot;36dp&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_margin=&quot;10dp&quot;\r\n        android:background=&quot;@drawable/ripplebg_viewscircle&quot;\r\n        android:padding=&quot;6dp&quot;\r\n        app:srcCompat=&quot;@drawable/closesvgnormal&quot;\r\n\r\n        /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n\r\n\r\nand my code to show bottom sheet is:\r\n\r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \r\n            BottomSheetDialog dialog = (BottomSheetDialog) super.onCreateDialog(savedInstanceState);\r\n    \r\n            dialog.setOnShowListener(new DialogInterface.OnShowListener() {\r\n                @Override\r\n                public void onShow(DialogInterface dialog) {\r\n                    BottomSheetDialog d = (BottomSheetDialog) dialog;\r\n    \r\n                    FrameLayout bottomSheet = (FrameLayout) d.findViewById(com.google.android.material.R.id.design_bottom_sheet);\r\n                    //BottomSheetBehavior.from(bottomSheet).setState(BottomSheetBehavior.STATE_EXPANDED);\r\n    \r\n    \r\n                    if (bottomSheet != null) {\r\n    \r\n                        final BottomSheetBehavior behaviour = BottomSheetBehavior.from(bottomSheet);\r\n                        // behaviour.setState(BottomSheetBehavior.STATE_EXPANDED);\r\n    \r\n                        behaviour.addBottomSheetCallback(new LockableBottomSheetBehavior.BottomSheetCallback() {\r\n                            @Override\r\n                            public void onStateChanged(@NonNull View bottomSheet, int newState) {\r\n    \r\n                                if (newState == CustomBottomSheetBehaviour.STATE_DRAGGING) {\r\n    \r\n                                    behaviour.setState(CustomBottomSheetBehaviour.STATE_EXPANDED);\r\n    \r\n                                } else if (newState == CustomBottomSheetBehaviour.STATE_EXPANDED) {\r\n    \r\n                                    // setStatusBarColor(&quot;#000000&quot;);\r\n    \r\n    \r\n                                    if (behaviour instanceof LockableBottomSheetBehavior) {\r\n                                        ((LockableBottomSheetBehavior) behaviour).setLocked(true);\r\n                                    }\r\n    \r\n                                }\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onSlide(@NonNull View bottomSheet, float slideOffset) {\r\n    \r\n                                bottomSheet.setOnTouchListener(new View.OnTouchListener() {\r\n                                    @Override\r\n                                    public boolean onTouch(View v, MotionEvent event) {\r\n                                        int action = event.getAction();\r\n                                        switch (action) {\r\n                                            case MotionEvent.ACTION_DOWN:\r\n                                                return false;\r\n                                            default:\r\n                                                return true;\r\n                                        }\r\n                                    }\r\n                                });\r\n    \r\n                            }\r\n    \r\n                        });\r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n            });\r\n            if (from == Constants.ADD_FRIEND_CONFIRMATION || from == Constants.DELETE_EXPENSE) {\r\n    \r\n                dialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\r\n                    @Override\r\n                    public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\r\n                        if (keyCode == KeyEvent.KEYCODE_BACK\r\n                                &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\r\n                            // TODO do the &quot;back pressed&quot; work here\r\n    \r\n                            if (from == Constants.ADD_FRIEND_CONFIRMATION) {\r\n    \r\n                                AddFriendConfirmationFragment addFriendConfirmationFragment = (AddFriendConfirmationFragment) getChildFragmentManager().findFragmentByTag(&quot;addFriendConfirmationFragment&quot;);\r\n    \r\n                                if (addFriendConfirmationFragment != null) {\r\n    \r\n                                    if (addFriendConfirmationFragment.status == 1) {\r\n    \r\n                                        Log.d(&quot;upisdk&quot;, &quot;onkeybackpressed cancel ADD_FRIEND_CONFIRMATION&quot;);\r\n    \r\n                                        dismissDialog();\r\n                                        return true;\r\n    \r\n                                    }\r\n                                }\r\n                            } \r\n                            return false;\r\n    \r\n                        }\r\n                        return false;\r\n                    }\r\n                });\r\n    \r\n            }\r\n            return dialog;\r\n       }","title":"Bottomsheet height got fixed and content inside it gets scrollable. I want my Bottomsheet height according to it&#39;s content","body":"<p>I worked in another project where I implemented same code and it works well there but in my new project it doesn't work.</p>\n<p>somehow my bottomsheet height got fixed and content of it which is inflated into it gets scrollable. I want bottom sheet height should be adjusted according to its content and not scrollable.\nWhat and where, Am I doing wrong please suggest me.\nMy BaseBottomsheetDialogFragment xml to show Dialog from BottomSheet is as :</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/rootlayout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;FrameLayout\n    android:id=&quot;@+id/framelayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:visibility=&quot;gone&quot;&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>and I inflate this Framelayout with AddFriendConfirmationFragment xml and this is as follows:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:id=&quot;@+id/main_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:background=&quot;@drawable/bottomsheet_bg&quot;\nandroid:padding=&quot;5dp&quot;&gt;\n\n\n&lt;ScrollView\n    android:id=&quot;@+id/scroll_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/layout_one&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/title2&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            android:layout_marginRight=&quot;@dimen/padding_10dp&quot;\n            android:text=&quot;Add Friend to your List?&quot;\n            android:textColor=&quot;@color/colorPrimaryText&quot;\n            android:textSize=&quot;18sp&quot; /&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/two&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/title2&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:orientation=&quot;vertical&quot;\n            android:padding=&quot;10dp&quot;&gt;\n\n            &lt;LinearLayout\n                android:id=&quot;@+id/name_layout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n\n                &lt;TextView\n                    android:id=&quot;@+id/title_2&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:ellipsize=&quot;end&quot;\n                    android:text=&quot;Full Name&quot;\n                    android:textColor=&quot;#444444&quot;\n                    android:textSize=&quot;13sp&quot; /&gt;\n\n                &lt;EditText\n                    android:id=&quot;@+id/name&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/title_2&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginRight=&quot;30dp&quot;\n                    android:background=&quot;@drawable/edittext_line_bg&quot;\n                    android:hint=&quot;Enter Full Name&quot;\n                    android:importantForAutofill=&quot;no&quot;\n                    android:inputType=&quot;textPersonName&quot;\n                    android:maxLines=&quot;1&quot;\n                    android:paddingTop=&quot;10dp&quot;\n                    android:paddingBottom=&quot;10dp&quot;\n                    android:textColor=&quot;@color/colorPrimaryText&quot;\n                    android:textColorHint=&quot;@color/hintcolor&quot;\n                    android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                    android:textSize=&quot;16sp&quot;\n                    android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/error1&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_below=&quot;@+id/name&quot;\n                    android:layout_marginLeft=&quot;10dp&quot;\n                    android:layout_marginTop=&quot;3dp&quot;\n                    android:text=&quot;&quot;\n                    android:textColor=&quot;@color/transaction_failed&quot;\n                    android:textSize=&quot;@dimen/small_text_size&quot;\n                    android:visibility=&quot;gone&quot; /&gt;\n\n\n            &lt;/LinearLayout&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/title_4&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/error1&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;16dp&quot;\n                android:ellipsize=&quot;end&quot;\n                android:text=&quot;Nick Name&quot;\n                android:textColor=&quot;#444444&quot;\n                android:textSize=&quot;13sp&quot; /&gt;\n\n            &lt;EditText\n                android:id=&quot;@+id/nick_name&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/title_4&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginRight=&quot;30dp&quot;\n                android:background=&quot;@drawable/edittext_line_bg&quot;\n                android:digits=&quot;1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz &quot;\n                android:hint=&quot;Enter Nick Name&quot;\n                android:importantForAutofill=&quot;no&quot;\n                android:inputType=&quot;textPersonName|textCapWords&quot;\n                android:maxLines=&quot;1&quot;\n                android:paddingTop=&quot;10dp&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:textColor=&quot;@color/colorPrimaryText&quot;\n                android:textColorHint=&quot;@color/hintcolor&quot;\n                android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                android:textSize=&quot;16sp&quot;\n                android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/error1_1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;3dp&quot;\n                android:text=&quot;&quot;\n                android:textColor=&quot;@color/transaction_failed&quot;\n                android:textSize=&quot;@dimen/small_text_size&quot;\n                android:visibility=&quot;gone&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/title_3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:ellipsize=&quot;end&quot;\n                android:text=&quot;Mobile Number&quot;\n                android:textColor=&quot;#444444&quot;\n                android:textSize=&quot;13sp&quot; /&gt;\n\n\n            &lt;EditText\n                android:id=&quot;@+id/number&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/title_3&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginRight=&quot;30dp&quot;\n                android:background=&quot;@drawable/edittext_line_bg&quot;\n                android:digits=&quot;1234567890&quot;\n                android:hint=&quot;Enter Mobile Number&quot;\n                android:importantForAutofill=&quot;no&quot;\n                android:inputType=&quot;phone&quot;\n                android:maxLength=&quot;10&quot;\n                android:maxLines=&quot;1&quot;\n                android:paddingTop=&quot;10dp&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:textColor=&quot;@color/colorPrimaryText&quot;\n                android:textColorHint=&quot;@color/hintcolor&quot;\n                android:textCursorDrawable=&quot;@drawable/cursor&quot;\n                android:textSize=&quot;16sp&quot;\n                android:theme=&quot;@style/EditTextTheme&quot; /&gt;\n\n\n            &lt;TextView\n                android:id=&quot;@+id/error2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginLeft=&quot;10dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:text=&quot;&quot;\n                android:textColor=&quot;@color/transaction_failed&quot;\n                android:textSize=&quot;@dimen/small_text_size&quot;\n                android:visibility=&quot;visible&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/main_error&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/two&quot;\n            android:layout_marginLeft=&quot;20dp&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:text=&quot;&quot;\n            android:textColor=&quot;@color/transaction_failed&quot;\n            android:textSize=&quot;13sp&quot;\n            android:visibility=&quot;gone&quot;\n\n            /&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/layout_1&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/main_error&quot;\n\n            android:layout_alignParentRight=&quot;true&quot;&gt;\n\n            &lt;ProgressBar\n                android:id=&quot;@+id/proceed_bar&quot;\n                android:layout_width=&quot;24dp&quot;\n                android:layout_height=&quot;24dp&quot;\n                android:layout_centerInParent=&quot;true&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:visibility=&quot;gone&quot; /&gt;\n\n            &lt;include\n                layout=&quot;@layout/big_button_layout&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerVertical=&quot;true&quot;\n                android:layout_margin=&quot;16dp&quot; /&gt;\n\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/ScrollView&gt;\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n&lt;/RelativeLayout&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/close&quot;\n    android:layout_width=&quot;36dp&quot;\n    android:layout_height=&quot;36dp&quot;\n    android:layout_alignParentRight=&quot;true&quot;\n    android:layout_margin=&quot;10dp&quot;\n    android:background=&quot;@drawable/ripplebg_viewscircle&quot;\n    android:padding=&quot;6dp&quot;\n    app:srcCompat=&quot;@drawable/closesvgnormal&quot;\n\n    /&gt;\n</code></pre>\n\n<p>and my code to show bottom sheet is:</p>\n<pre><code>    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n\n        BottomSheetDialog dialog = (BottomSheetDialog) super.onCreateDialog(savedInstanceState);\n\n        dialog.setOnShowListener(new DialogInterface.OnShowListener() {\n            @Override\n            public void onShow(DialogInterface dialog) {\n                BottomSheetDialog d = (BottomSheetDialog) dialog;\n\n                FrameLayout bottomSheet = (FrameLayout) d.findViewById(com.google.android.material.R.id.design_bottom_sheet);\n                //BottomSheetBehavior.from(bottomSheet).setState(BottomSheetBehavior.STATE_EXPANDED);\n\n\n                if (bottomSheet != null) {\n\n                    final BottomSheetBehavior behaviour = BottomSheetBehavior.from(bottomSheet);\n                    // behaviour.setState(BottomSheetBehavior.STATE_EXPANDED);\n\n                    behaviour.addBottomSheetCallback(new LockableBottomSheetBehavior.BottomSheetCallback() {\n                        @Override\n                        public void onStateChanged(@NonNull View bottomSheet, int newState) {\n\n                            if (newState == CustomBottomSheetBehaviour.STATE_DRAGGING) {\n\n                                behaviour.setState(CustomBottomSheetBehaviour.STATE_EXPANDED);\n\n                            } else if (newState == CustomBottomSheetBehaviour.STATE_EXPANDED) {\n\n                                // setStatusBarColor(&quot;#000000&quot;);\n\n\n                                if (behaviour instanceof LockableBottomSheetBehavior) {\n                                    ((LockableBottomSheetBehavior) behaviour).setLocked(true);\n                                }\n\n                            }\n                        }\n\n                        @Override\n                        public void onSlide(@NonNull View bottomSheet, float slideOffset) {\n\n                            bottomSheet.setOnTouchListener(new View.OnTouchListener() {\n                                @Override\n                                public boolean onTouch(View v, MotionEvent event) {\n                                    int action = event.getAction();\n                                    switch (action) {\n                                        case MotionEvent.ACTION_DOWN:\n                                            return false;\n                                        default:\n                                            return true;\n                                    }\n                                }\n                            });\n\n                        }\n\n                    });\n\n                }\n\n            }\n\n        });\n        if (from == Constants.ADD_FRIEND_CONFIRMATION || from == Constants.DELETE_EXPENSE) {\n\n            dialog.setOnKeyListener(new DialogInterface.OnKeyListener() {\n                @Override\n                public boolean onKey(DialogInterface dialog, int keyCode, KeyEvent event) {\n                    if (keyCode == KeyEvent.KEYCODE_BACK\n                            &amp;&amp; event.getAction() == KeyEvent.ACTION_UP) {\n                        // TODO do the &quot;back pressed&quot; work here\n\n                        if (from == Constants.ADD_FRIEND_CONFIRMATION) {\n\n                            AddFriendConfirmationFragment addFriendConfirmationFragment = (AddFriendConfirmationFragment) getChildFragmentManager().findFragmentByTag(&quot;addFriendConfirmationFragment&quot;);\n\n                            if (addFriendConfirmationFragment != null) {\n\n                                if (addFriendConfirmationFragment.status == 1) {\n\n                                    Log.d(&quot;upisdk&quot;, &quot;onkeybackpressed cancel ADD_FRIEND_CONFIRMATION&quot;);\n\n                                    dismissDialog();\n                                    return true;\n\n                                }\n                            }\n                        } \n                        return false;\n\n                    }\n                    return false;\n                }\n            });\n\n        }\n        return dialog;\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","antlr"],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701705626,"creation_date":1701686044,"question_id":77598736,"body_markdown":"I m using a jar of generation library by another team that uses antlr-runtime version 3.\r\n\r\nI lately upgraded to Spring Boot 3 and the hqlParser is causing me some troubles where the version conflict between ANTLR (ATN CLASS) is rising always that the expected is 3 but the used is 4 even if I m using the runtime version below 4.10 (which is 4)\r\n\r\nas details here is the console log:\r\n\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\r\n\tat org.antlr.v4.runtime.atn.ATNDeserializer.deserialize(ATNDeserializer.java:146)\r\n\tat org.springframework.data.jpa.repository.query.HqlLexer.&lt;clinit&gt;(HqlLexer.java:1321)\r\n\t... 127 common frames omitted\r\nCaused by: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\r\n\t... 129 common frames omitted\r\n```\r\n\r\nmy pom.xml is like below\r\n```\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt; \r\n        &lt;/dependency&gt;\r\n&lt;!-- \t\t  &lt;dependency&gt; --&gt;\r\n&lt;!--             &lt;groupId&gt;org.antlr&lt;/groupId&gt; --&gt;\r\n&lt;!--             &lt;artifactId&gt;antlr4&lt;/artifactId&gt; --&gt;\r\n&lt;!--             &lt;version&gt;4.7.2&lt;/version&gt;  --&gt;\r\n&lt;!--         &lt;/dependency&gt; --&gt;\r\n```\r\n\r\nis there a way to force spring to use version 3 of ANTLR?","title":"ATN ANTLR version 4 of hqlLexer is not using my Version 3 declared in POM","body":"<p>I m using a jar of generation library by another team that uses antlr-runtime version 3.</p>\n<p>I lately upgraded to Spring Boot 3 and the hqlParser is causing me some troubles where the version conflict between ANTLR (ATN CLASS) is rising always that the expected is 3 but the used is 4 even if I m using the runtime version below 4.10 (which is 4)</p>\n<p>as details here is the console log:</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\n    at org.antlr.v4.runtime.atn.ATNDeserializer.deserialize(ATNDeserializer.java:146)\n    at org.springframework.data.jpa.repository.query.HqlLexer.&lt;clinit&gt;(HqlLexer.java:1321)\n    ... 127 common frames omitted\nCaused by: java.io.InvalidClassException: org.antlr.v4.runtime.atn.ATN; Could not deserialize ATN with version 4 (expected 3).\n    ... 129 common frames omitted\n</code></pre>\n<p>my pom.xml is like below</p>\n<pre><code>          &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr4-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt; \n        &lt;/dependency&gt;\n&lt;!--          &lt;dependency&gt; --&gt;\n&lt;!--             &lt;groupId&gt;org.antlr&lt;/groupId&gt; --&gt;\n&lt;!--             &lt;artifactId&gt;antlr4&lt;/artifactId&gt; --&gt;\n&lt;!--             &lt;version&gt;4.7.2&lt;/version&gt;  --&gt;\n&lt;!--         &lt;/dependency&gt; --&gt;\n</code></pre>\n<p>is there a way to force spring to use version 3 of ANTLR?</p>\n"},{"tags":["java","spring","rest"],"answers":[{"tags":[],"owner":{"account_id":1223545,"reputation":843,"user_id":1189662,"accept_rate":25,"display_name":"Lucas Oliveira"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1453258675,"creation_date":1453256820,"answer_id":34890481,"question_id":34889613,"body_markdown":"I Think that is not possible, at least not already provided by the framework. \r\n\r\nThe Spring has a `HandlerMethodArgumentResolver` interface with an implementation called `PageableHandlerMethodArgumentResolver` that retrieves the request param value calling something like HttpServletRequest.getParameter. So, you can bind the Pageable instance passing the parameters &quot;page&quot; and &quot;size&quot; for GET and POST. So, the following code works:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RequestMapping(value=&quot;/test&quot;,method = RequestMethod.POST)\r\n    @ResponseBody\r\n    public String bindPage(Pageable page){\r\n        return page.toString();\r\n    }\r\n\r\n\r\n$ curl -X POST --data &quot;page=10&amp;size=50&quot; http://localhost:8080/test\r\n\r\nReturn:\r\nPage request [number: 10, size 50, sort: null]\r\n\r\n\r\nBut, if you pass an json nothing happens:\r\n\r\n$ curl -X POST --data &quot;{page:10&amp;size:50}&quot; http://localhost:8080/test\r\n\r\nReturn:\r\nPage request [number: 0, size 20, sort: null]\r\n","title":"Passing pageable (spring data) in post request","body":"<p>I Think that is not possible, at least not already provided by the framework. </p>\n\n<p>The Spring has a <code>HandlerMethodArgumentResolver</code> interface with an implementation called <code>PageableHandlerMethodArgumentResolver</code> that retrieves the request param value calling something like HttpServletRequest.getParameter. So, you can bind the Pageable instance passing the parameters \"page\" and \"size\" for GET and POST. So, the following code works:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value=\"/test\",method = RequestMethod.POST)\n@ResponseBody\npublic String bindPage(Pageable page){\n    return page.toString();\n}\n</code></pre>\n\n<p>$ curl -X POST --data \"page=10&amp;size=50\" <a href=\"http://localhost:8080/test\" rel=\"noreferrer\">http://localhost:8080/test</a></p>\n\n<p>Return:\nPage request [number: 10, size 50, sort: null]</p>\n\n<p>But, if you pass an json nothing happens:</p>\n\n<p>$ curl -X POST --data \"{page:10&amp;size:50}\" <a href=\"http://localhost:8080/test\" rel=\"noreferrer\">http://localhost:8080/test</a></p>\n\n<p>Return:\nPage request [number: 0, size 20, sort: null]</p>\n"},{"tags":[],"owner":{"account_id":204659,"reputation":37539,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453301931,"creation_date":1453258975,"answer_id":34890815,"question_id":34889613,"body_markdown":"create a class that has the Pageable and QueryDto objects as members.  Then pass JSON in the post body of this new object.\r\n\r\nfor example,\r\n\r\n    public class PageableQueryDto\r\n    {\r\n        private Pageable pageable;\r\n        private QueryDto queryDto;\r\n\r\n        ... getters and setters.\r\n    }\r\n\r\n**Edit**\r\nAs noted in the comment below, you may need to implement the Pageable interface.\r\nThe result could be something like this:\r\n\r\n    public class PageableQueryDto implements Pageable\r\n    {\r\n        private Pageable pageable;\r\n        private QueryDto queryDto;\r\n\r\n        ... getters and setters.\r\n\r\n        ... Implement the Pageable interface.  proxy all calls to the\r\n        ... contained Pageable object.\r\n\r\n        ... for example\r\n        public void blam()\r\n        {\r\n            pageable.blam();\r\n        }\r\n\r\n        ... or maybe\r\n        public void blam()\r\n        {\r\n            if (pageable != null)\r\n            {\r\n                pageable.blam();\r\n            }\r\n            else\r\n            {\r\n                ... do something.\r\n            }\r\n    }","title":"Passing pageable (spring data) in post request","body":"<p>create a class that has the Pageable and QueryDto objects as members.  Then pass JSON in the post body of this new object.</p>\n\n<p>for example,</p>\n\n<pre><code>public class PageableQueryDto\n{\n    private Pageable pageable;\n    private QueryDto queryDto;\n\n    ... getters and setters.\n}\n</code></pre>\n\n<p><strong>Edit</strong>\nAs noted in the comment below, you may need to implement the Pageable interface.\nThe result could be something like this:</p>\n\n<pre><code>public class PageableQueryDto implements Pageable\n{\n    private Pageable pageable;\n    private QueryDto queryDto;\n\n    ... getters and setters.\n\n    ... Implement the Pageable interface.  proxy all calls to the\n    ... contained Pageable object.\n\n    ... for example\n    public void blam()\n    {\n        pageable.blam();\n    }\n\n    ... or maybe\n    public void blam()\n    {\n        if (pageable != null)\n        {\n            pageable.blam();\n        }\n        else\n        {\n            ... do something.\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23695,"reputation":4225,"user_id":59561,"accept_rate":69,"display_name":"cwash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550778772,"creation_date":1550777458,"answer_id":54814803,"question_id":34889613,"body_markdown":"It seems to work just fine for me if you continue to provide them as query parameters on the URL, and still post data in.\r\n\r\n    POST http://localhost:8080/xyz?page=2&amp;size=50\r\n    Content-Type: application/json\r\n    {\r\n      &quot;filterABC&quot;: &quot;data&quot;\r\n    }\r\n\r\nSpring seems to translate the page, size, sort etc. into the Pageable provided to the method on the way in.","title":"Passing pageable (spring data) in post request","body":"<p>It seems to work just fine for me if you continue to provide them as query parameters on the URL, and still post data in.</p>\n\n<pre><code>POST http://localhost:8080/xyz?page=2&amp;size=50\nContent-Type: application/json\n{\n  \"filterABC\": \"data\"\n}\n</code></pre>\n\n<p>Spring seems to translate the page, size, sort etc. into the Pageable provided to the method on the way in.</p>\n"},{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1674139754,"creation_date":1561032325,"answer_id":56685621,"question_id":34889613,"body_markdown":"Spring Post method\r\n\r\n    @RequestMapping(value = &quot;/quickSearchAction&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody SearchList quickSearchAction(@RequestParam(value=&quot;userId&quot;) Long userId, \r\n                                              Pageable pageable) throws Exception {\r\n\t\treturn searchService.quickSearchAction(userId, pageable);\r\n\t}\r\n\r\nPostman Example:\r\n\r\n    http://localhost:8080/api/actionSearch/quickSearchAction?\r\n    userId=4451&amp;number=0&amp;size=20&amp;sort=titleListId,DESC\r\n\r\nIn above POST Pageable is used for Sorting and Pagination in Spring RESTful service. Use below syntax at URL.\r\n\r\nnumber `0`, size `20`, Sort by field `titleListId` and direction `DESC`\r\n\r\nAll passing parameter internally recognizes by **Pageable** as Sorting / Pagination parameters as below\r\n\r\n    number - Page number\r\n\r\n    size - Page Size\r\n\r\n    sort - sort by(Order by)\r\n\r\n    direction - ASC / DESC\r\n\r\nUpdated: \r\nAngular Example: \r\n**CustomerComponent.ts** file\r\n\r\n    let resultDesignations = null;\r\n    let fieldName = &quot;designationId&quot;;\r\n\r\n    this.customerService.getDesignations(fieldName, &quot;DESC&quot;).subscribe(\r\n      (data) =&gt; {\r\n        resultDesignations = data;\r\n      },\r\n      (err) =&gt; {\r\n        this.error(err.error);\r\n      },\r\n      () =&gt; {\r\n        this.designations = resultDesignations;\r\n      }\r\n    );//END getDesignations`\r\n\r\n**CustomerService.ts**\r\n\r\n    getDesignations(fieldName: string, sortOrder: string): Observable&lt;any&gt; {\r\n        return this.httpClient.get(&quot;http://localhost:9876/api/getDesignations&quot;, {\r\n          params: {\r\n            sort: fieldName,sortOrder\r\n          }\r\n        });\r\n      }","title":"Passing pageable (spring data) in post request","body":"<p>Spring Post method</p>\n<pre><code>@RequestMapping(value = &quot;/quickSearchAction&quot;, method = RequestMethod.POST)\npublic @ResponseBody SearchList quickSearchAction(@RequestParam(value=&quot;userId&quot;) Long userId, \n                                          Pageable pageable) throws Exception {\n    return searchService.quickSearchAction(userId, pageable);\n}\n</code></pre>\n<p>Postman Example:</p>\n<pre><code>http://localhost:8080/api/actionSearch/quickSearchAction?\nuserId=4451&amp;number=0&amp;size=20&amp;sort=titleListId,DESC\n</code></pre>\n<p>In above POST Pageable is used for Sorting and Pagination in Spring RESTful service. Use below syntax at URL.</p>\n<p>number <code>0</code>, size <code>20</code>, Sort by field <code>titleListId</code> and direction <code>DESC</code></p>\n<p>All passing parameter internally recognizes by <strong>Pageable</strong> as Sorting / Pagination parameters as below</p>\n<pre><code>number - Page number\n\nsize - Page Size\n\nsort - sort by(Order by)\n\ndirection - ASC / DESC\n</code></pre>\n<p>Updated:\nAngular Example:\n<strong>CustomerComponent.ts</strong> file</p>\n<pre><code>let resultDesignations = null;\nlet fieldName = &quot;designationId&quot;;\n\nthis.customerService.getDesignations(fieldName, &quot;DESC&quot;).subscribe(\n  (data) =&gt; {\n    resultDesignations = data;\n  },\n  (err) =&gt; {\n    this.error(err.error);\n  },\n  () =&gt; {\n    this.designations = resultDesignations;\n  }\n);//END getDesignations`\n</code></pre>\n<p><strong>CustomerService.ts</strong></p>\n<pre><code>getDesignations(fieldName: string, sortOrder: string): Observable&lt;any&gt; {\n    return this.httpClient.get(&quot;http://localhost:9876/api/getDesignations&quot;, {\n      params: {\n        sort: fieldName,sortOrder\n      }\n    });\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7010028,"reputation":99,"user_id":5373257,"display_name":"ChandraPrakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569775217,"creation_date":1569775217,"answer_id":58157211,"question_id":34889613,"body_markdown":"sample example\r\n\r\n    @RequestMapping(path = &quot;/employees&quot;,method = RequestMethod.POST,consumes = &quot;application/json&quot;,produces = &quot;application/json&quot;)\r\n    ResponseEntity&lt;Object&gt; getEmployeesByPage(@RequestBody PageDTO page){\r\n        //creating a pagable object with pagenumber and size of the page\r\n        Pageable pageable= PageRequest.of(page.getPage(),page.getSize());\r\n        return ResponseEntity.status(HttpStatus.ACCEPTED).body(employeeRegistryService.getEmployeesByPage(pageable));\r\n    }\r\n\r\nIn your case try to add pagination variables in QueryDTO \r\ncreate a Pageable object and pass it to service \r\n\r\nI think that will solve :)","title":"Passing pageable (spring data) in post request","body":"<p>sample example</p>\n\n<pre><code>@RequestMapping(path = \"/employees\",method = RequestMethod.POST,consumes = \"application/json\",produces = \"application/json\")\nResponseEntity&lt;Object&gt; getEmployeesByPage(@RequestBody PageDTO page){\n    //creating a pagable object with pagenumber and size of the page\n    Pageable pageable= PageRequest.of(page.getPage(),page.getSize());\n    return ResponseEntity.status(HttpStatus.ACCEPTED).body(employeeRegistryService.getEmployeesByPage(pageable));\n}\n</code></pre>\n\n<p>In your case try to add pagination variables in QueryDTO \ncreate a Pageable object and pass it to service </p>\n\n<p>I think that will solve :)</p>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701705567,"creation_date":1701705567,"answer_id":77600853,"question_id":34889613,"body_markdown":"**An updated answer for spring boot:**\r\n \r\n`Pageable` supports the following url params:\r\n- page - page number, where 0 is the first page\r\n- size - page size\r\n- sort - sort by field\r\n- direction - ASC/DESC\r\n\r\nE.g. \r\n\r\nSample GET URL:\r\n\r\n&gt; localhost:8080/users?page=2&amp;size=10&amp;sort=createdAt,DESC\r\n\r\n    @GetMapping(&quot;/users&quot;)\r\n    public ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\r\n    \t} catch (Exception e) {\r\n    \t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n    \t}\r\n    }","title":"Passing pageable (spring data) in post request","body":"<p><strong>An updated answer for spring boot:</strong></p>\n<p><code>Pageable</code> supports the following url params:</p>\n<ul>\n<li>page - page number, where 0 is the first page</li>\n<li>size - page size</li>\n<li>sort - sort by field</li>\n<li>direction - ASC/DESC</li>\n</ul>\n<p>E.g.</p>\n<p>Sample GET URL:</p>\n<blockquote>\n<p>localhost:8080/users?page=2&amp;size=10&amp;sort=createdAt,DESC</p>\n</blockquote>\n<pre><code>@GetMapping(&quot;/users&quot;)\npublic ResponseEntity&lt;?&gt; getUsers(Pageable pageable) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.getUsers(pageable));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1644891,"reputation":321,"user_id":1516593,"display_name":"Raja Krishnan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46222,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":6,"score":15,"last_activity_date":1701705567,"creation_date":1453250848,"question_id":34889613,"body_markdown":"I have a rest API server which has the following API.\r\nI have some other APIs, where i get pageable from `GET` requests. Here, I need to make a post request for passing the queryDto. So, I cannot pass the  `page=0?size=20` etc as url parameters. \r\n\r\nI would like to know how to pass pageable as JSON object to a `POST` request\r\n\r\n\t@RequestMapping(value = &quot;/internal/search&quot;, method = RequestMethod.POST)\r\n\t@ResponseStatus(HttpStatus.OK)\r\n\t@ResponseBody\r\n\tpublic ResponseList&lt;Object&gt; findObjects(@RequestBody QueryDto queryDto, Pageable pageable) {\r\n\t\tif (queryDto.isEmpty()) {\r\n\t\t\tthrow new BadRequestException();\r\n\t\t}\r\n\r\n\t\treturn someService.findObjectsByQuery(queryDto, pageable);\r\n\t}","title":"Passing pageable (spring data) in post request","body":"<p>I have a rest API server which has the following API.\nI have some other APIs, where i get pageable from <code>GET</code> requests. Here, I need to make a post request for passing the queryDto. So, I cannot pass the  <code>page=0?size=20</code> etc as url parameters. </p>\n\n<p>I would like to know how to pass pageable as JSON object to a <code>POST</code> request</p>\n\n<pre><code>@RequestMapping(value = \"/internal/search\", method = RequestMethod.POST)\n@ResponseStatus(HttpStatus.OK)\n@ResponseBody\npublic ResponseList&lt;Object&gt; findObjects(@RequestBody QueryDto queryDto, Pageable pageable) {\n    if (queryDto.isEmpty()) {\n        throw new BadRequestException();\n    }\n\n    return someService.findObjectsByQuery(queryDto, pageable);\n}\n</code></pre>\n"},{"tags":["java","bufferedwriter"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701706376,"post_id":77600851,"comment_id":136806042,"body_markdown":"You tried `replaceAll(&quot;\\\\n&quot;, &quot;\\n&quot;)` ? You need to do it for the OS you&#39;re on though, so `recipes = recipes.replace(&quot;\\\\n&quot;, System.lineSeparator());` would be better","body":"You tried <code>replaceAll(&quot;\\\\n&quot;, &quot;\\n&quot;)</code> ? You need to do it for the OS you&#39;re on though, so <code>recipes = recipes.replace(&quot;\\\\n&quot;, System.lineSeparator());</code> would be better"},{"owner":{"account_id":29845737,"reputation":1,"user_id":22872849,"display_name":"P.noulis"},"score":0,"creation_date":1701706810,"post_id":77600851,"comment_id":136806141,"body_markdown":"Yeah you are correct! I used that and then played around with some other things and I got it to work thanks!","body":"Yeah you are correct! I used that and then played around with some other things and I got it to work thanks!"}],"owner":{"account_id":29845737,"reputation":1,"user_id":22872849,"display_name":"P.noulis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701705556,"creation_date":1701705556,"question_id":77600851,"body_markdown":"I&#39;m trying to write a large String that I have into a txt file, in said string there are a lot of \\\\n and I&#39;d like that to register as a new line in my txt file. I&#39;ve tried to split the string whenever there is such a character in order to write it to the txt file as multiple lines but it didn&#39;t work. I&#39;ve tried using String.replaceAll((\\\\n),(\\\\r\\\\n)), but it did nothing. I&#39;ve also tried String.split(\\\\n), but again it did nothing. Am I doing something wrong? Is there another way of doing this?\r\n\r\n```\r\nrecipes = recipes.replaceAll(&quot;(\\n)&quot;, &quot;(\\r\\n)&quot;);\r\n```\r\n\r\nI&#39;ve also tried\r\n\r\n```\r\ntry (BufferedWriter bw = new BufferedWriter(new FileWriter(path))) {\r\n                    // *Split the string in lines\r\n                    String[] lines = recipes.split(&quot;\\n&quot;);\r\n                    System.out.println(&quot;Split text into lines: &quot; + lines.length);\r\n                    for (String line : lines) {\r\n                        bw.write(line);\r\n                        bw.newLine(); // * Add a new line\r\n                    }\r\n\r\n                }\r\n```\r\n\r\nbut I&#39;ve had no luck.\r\n\r\nAny help would be massively appreciated","title":"How to split a string in java when there is a new line character?","body":"<p>I'm trying to write a large String that I have into a txt file, in said string there are a lot of \\n and I'd like that to register as a new line in my txt file. I've tried to split the string whenever there is such a character in order to write it to the txt file as multiple lines but it didn't work. I've tried using String.replaceAll((\\n),(\\r\\n)), but it did nothing. I've also tried String.split(\\n), but again it did nothing. Am I doing something wrong? Is there another way of doing this?</p>\n<pre><code>recipes = recipes.replaceAll(&quot;(\\n)&quot;, &quot;(\\r\\n)&quot;);\n</code></pre>\n<p>I've also tried</p>\n<pre><code>try (BufferedWriter bw = new BufferedWriter(new FileWriter(path))) {\n                    // *Split the string in lines\n                    String[] lines = recipes.split(&quot;\\n&quot;);\n                    System.out.println(&quot;Split text into lines: &quot; + lines.length);\n                    for (String line : lines) {\n                        bw.write(line);\n                        bw.newLine(); // * Add a new line\n                    }\n\n                }\n</code></pre>\n<p>but I've had no luck.</p>\n<p>Any help would be massively appreciated</p>\n"},{"tags":["java","database","amazon-web-services","amazon-dynamodb","nosql"],"comments":[{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1701701616,"post_id":77599506,"comment_id":136805051,"body_markdown":"Does this answer your question? [dynamoDB / aws-amplify - Query with &#39;limit&#39; + &#39;filter&#39; - returns half empty or completely empty pages and not full with items with &#39;limit&#39; amount](https://stackoverflow.com/questions/71816380/dynamodb-aws-amplify-query-with-limit-filter-returns-half-empty-or-c)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71816380/dynamodb-aws-amplify-query-with-limit-filter-returns-half-empty-or-c\">dynamoDB / aws-amplify - Query with &#39;limit&#39; + &#39;filter&#39; - returns half empty or completely empty pages and not full with items with &#39;limit&#39; amount</a>"},{"owner":{"account_id":494473,"reputation":22029,"user_id":2933177,"accept_rate":50,"display_name":"Charles"},"score":0,"creation_date":1701701712,"post_id":77599506,"comment_id":136805071,"body_markdown":"note DDB works the same way regardless of client","body":"note DDB works the same way regardless of client"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14440,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701704711,"creation_date":1701704711,"answer_id":77600760,"question_id":77599506,"body_markdown":"In DynamoDB you cannot guarantee the number of items to be returned while filtering on non-key attributes. If your aim is to guarantee a set number of items you have two choices:\r\n\r\n1. Make sure your items match your KeyConditionExpression so that you can read them without filtering which will return exactly what you ask. \r\n\r\n2. Return more than you require, then limit the results on the client side to match your needs. \r\n\r\nAs for Scan, that will not fit your use case either, as all the APIs work the same way with filtering, filter is applied after the limit. ","title":"DynamoDB filtering before pagination","body":"<p>In DynamoDB you cannot guarantee the number of items to be returned while filtering on non-key attributes. If your aim is to guarantee a set number of items you have two choices:</p>\n<ol>\n<li><p>Make sure your items match your KeyConditionExpression so that you can read them without filtering which will return exactly what you ask.</p>\n</li>\n<li><p>Return more than you require, then limit the results on the client side to match your needs.</p>\n</li>\n</ol>\n<p>As for Scan, that will not fit your use case either, as all the APIs work the same way with filtering, filter is applied after the limit.</p>\n"}],"owner":{"account_id":27353008,"reputation":1,"user_id":20861857,"display_name":"MaxDudkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701704711,"creation_date":1701693560,"question_id":77599506,"body_markdown":"I am writing a request to DynamoDB in which I need to guarantee the number of items in the page. I am using java, awssdk. This is what my request looks like:\r\n\r\n```\r\nval keyEqual =\r\n                sortBeginsWith(\r\n                        key -&gt;\r\n                                key.partitionValue(source.getParrentEntityId())\r\n                                        .sortValue(SOME_PREFIX.getValue() + &quot;#&quot;));\r\n        val requestBuilder =\r\n                QueryEnhancedRequest.builder()\r\n                        .queryConditional(keyEqual)\r\n                        .limit(source.getLimit())\r\n                        .exclusiveStartKey(startKey);\r\n        if (nonNull(source.getStatus())) {\r\n            requestBuilder.filterExpression(\r\n                    Expression.builder()\r\n                            .expression(&quot;#status = :status&quot;)\r\n                            .putExpressionName(&quot;#status&quot;, &quot;st&quot;)\r\n                            .putExpressionValue(\r\n                                    &quot;:status&quot;,\r\n                                    AttributeValue.builder()\r\n                                            .s(source.getStatus().toString())\r\n                                            .build())\r\n                            .build());\r\n        }\r\n        val pages = dynamoDbTable.query(requestBuilder.build());\r\n```\r\n\r\nI know that filtering is applied after pagination and tried to use scan instead of query, but I did not find information on how to add my sk and pk condition to the scan query. Can someone tell me how to solve my problem?","title":"DynamoDB filtering before pagination","body":"<p>I am writing a request to DynamoDB in which I need to guarantee the number of items in the page. I am using java, awssdk. This is what my request looks like:</p>\n<pre><code>val keyEqual =\n                sortBeginsWith(\n                        key -&gt;\n                                key.partitionValue(source.getParrentEntityId())\n                                        .sortValue(SOME_PREFIX.getValue() + &quot;#&quot;));\n        val requestBuilder =\n                QueryEnhancedRequest.builder()\n                        .queryConditional(keyEqual)\n                        .limit(source.getLimit())\n                        .exclusiveStartKey(startKey);\n        if (nonNull(source.getStatus())) {\n            requestBuilder.filterExpression(\n                    Expression.builder()\n                            .expression(&quot;#status = :status&quot;)\n                            .putExpressionName(&quot;#status&quot;, &quot;st&quot;)\n                            .putExpressionValue(\n                                    &quot;:status&quot;,\n                                    AttributeValue.builder()\n                                            .s(source.getStatus().toString())\n                                            .build())\n                            .build());\n        }\n        val pages = dynamoDbTable.query(requestBuilder.build());\n</code></pre>\n<p>I know that filtering is applied after pagination and tried to use scan instead of query, but I did not find information on how to add my sk and pk condition to the scan query. Can someone tell me how to solve my problem?</p>\n"},{"tags":["java","android","kotlin","zebra-printers","zebra"],"comments":[{"owner":{"account_id":6076103,"reputation":1381,"user_id":4743430,"display_name":"Mark Warren"},"score":0,"creation_date":1701723976,"post_id":77600748,"comment_id":136809070,"body_markdown":"Take a look at the `~HS` command.  You will have to poll the printer using the command.  Its return values can be parsed to show current printer status.  Specifically, the `uuuuuuuu - labels remaining in batch` field will go to zero when the label has been printed.    You can also use `~HS` to determine if it is &quot;safe&quot; to send a print job by inspecting the error flags like ribbon out, paper out, head up, etc.","body":"Take a look at the <code>~HS</code> command.  You will have to poll the printer using the command.  Its return values can be parsed to show current printer status.  Specifically, the <code>uuuuuuuu - labels remaining in batch</code> field will go to zero when the label has been printed.    You can also use <code>~HS</code> to determine if it is &quot;safe&quot; to send a print job by inspecting the error flags like ribbon out, paper out, head up, etc."},{"owner":{"account_id":30064079,"reputation":1,"user_id":23039595,"display_name":"Camilo Romero"},"score":0,"creation_date":1701727061,"post_id":77600748,"comment_id":136809471,"body_markdown":"I managed to make the HS command work, thanks for that. Now I have another question about the sendAndWaitForResponse method: what value should I pass for the terminator parameter? When I use &quot;&quot;, the printer just waits until the defined timeout.","body":"I managed to make the HS command work, thanks for that. Now I have another question about the sendAndWaitForResponse method: what value should I pass for the terminator parameter? When I use &quot;&quot;, the printer just waits until the defined timeout."},{"owner":{"account_id":6076103,"reputation":1381,"user_id":4743430,"display_name":"Mark Warren"},"score":0,"creation_date":1701733365,"post_id":77600748,"comment_id":136810087,"body_markdown":"Unfortunately, the `~HS` reply does not have a unique terminator,  It is simply three lines of text, with each line prefixed with `\\x02` and ending with `\\x03\\r\\n`.  Not familiar with the android sdk, but can you send the command, then receive the three lines individually?  Most network libraries have &quot;sendline&quot; and &quot;recvline&quot; style interfaces.","body":"Unfortunately, the <code>~HS</code> reply does not have a unique terminator,  It is simply three lines of text, with each line prefixed with <code>\\x02</code> and ending with <code>\\x03\\r\\n</code>.  Not familiar with the android sdk, but can you send the command, then receive the three lines individually?  Most network libraries have &quot;sendline&quot; and &quot;recvline&quot; style interfaces."}],"owner":{"account_id":30064079,"reputation":1,"user_id":23039595,"display_name":"Camilo Romero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701704582,"creation_date":1701704582,"question_id":77600748,"body_markdown":"I&#39;m currently developing an application with the Zebra Android SDK and facing a challenge in determining when a print job has completed on a Zebra printer. I am using the latest version of the Zebra Android SDK.\r\n\r\nI attempted to use the sendAndWaitForResponse method in conjunction with the ^HV ZPL command, hoping to receive a &quot;finished&quot; response or similar indication when the print job completes.\r\n\r\nHowever, I didn&#39;t receive the expected response. The response was always empty or not indicative of the print job&#39;s completion. I suspect this might be due to the specifications of my printer, which operates based on the guidelines provided in Volume One of the ZPL manual. It&#39;s possible that the ^HV command or the way I&#39;m using it isn&#39;t compatible or sufficient for detecting the end of a print job in my specific scenario.","title":"How to Determine When a Print Job Completes Using Zebra Android SDK","body":"<p>I'm currently developing an application with the Zebra Android SDK and facing a challenge in determining when a print job has completed on a Zebra printer. I am using the latest version of the Zebra Android SDK.</p>\n<p>I attempted to use the sendAndWaitForResponse method in conjunction with the ^HV ZPL command, hoping to receive a &quot;finished&quot; response or similar indication when the print job completes.</p>\n<p>However, I didn't receive the expected response. The response was always empty or not indicative of the print job's completion. I suspect this might be due to the specifications of my printer, which operates based on the guidelines provided in Volume One of the ZPL manual. It's possible that the ^HV command or the way I'm using it isn't compatible or sufficient for detecting the end of a print job in my specific scenario.</p>\n"},{"tags":["java","oracle","jdbi"],"owner":{"account_id":1908379,"reputation":1063,"user_id":1722791,"accept_rate":56,"display_name":"Mewster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701704529,"creation_date":1701704529,"question_id":77600743,"body_markdown":"I&#39;m trying to call, through JDBI, a Oracle stored procedure with a input parameter and a custom output parameter.\r\n```lang-sql\r\nPROCEDURE customProcedure(in_val IN NUMBER, out_val OUT CUSTOM_OBJECT)\r\n```\r\n(where CUSTOM_OBJECT) is defined as\r\n```lang-sql\r\nCREATE TYPE CUSTOM_OBJECT AS OBJECT\r\n(\r\n    a NUMBER,\r\n    b VARCHAR,\r\n    ....\r\n)\r\n```\r\n\r\nThe code is\r\n```lang-java\r\n    @SqlCall(&quot;call customProcedure(:input,:result)&quot;)\r\n    @OutParameter(name=&quot;result&quot;, sqlType=Types.STRUCT)\r\n    OutParameters callProcedure(@Bind(&quot;input&quot;) Long input);\r\n```\r\n\r\nbut I get only a `java.sql.SQLException: Invalid argument(s) in call` during the out parameter binding phase.\r\n\r\nDebugging the `OracleCallableStatement` I arrived in a `registerOutParameterInternal` method, where in a switch case with my specified type (STRUCT) if a variable is null, an exception is thrown, but this variable arrives internally from \r\n```lang-java\r\nthis.registerOutParameterInternal(var1, var2, var3, var4, **(String)null**);\r\n```\r\n\r\nI tried different out types, but I get either a `java.sql.SQLException: Invalid column type: [int value from the chosen sqlType]`, or a type mismatch from the stored procedure (`oracle.jdbc.OracleDatabaseException: ORA-06553: PLS-306: wrong number or types of arguments in call to &#39;customProcedure&#39;`)\r\n.\r\n\r\nI tried also to call the query manually (using the `jdbi.handle.createCall(&quot;...&quot;).registerOutParameter(...)`) without differences.\r\n\r\nHow can I call a stored procedure with a custom output type?\r\n\r\nThanks in advance","title":"JDBI + oracle stored procedure + out parameter as object","body":"<p>I'm trying to call, through JDBI, a Oracle stored procedure with a input parameter and a custom output parameter.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>PROCEDURE customProcedure(in_val IN NUMBER, out_val OUT CUSTOM_OBJECT)\n</code></pre>\n<p>(where CUSTOM_OBJECT) is defined as</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE CUSTOM_OBJECT AS OBJECT\n(\n    a NUMBER,\n    b VARCHAR,\n    ....\n)\n</code></pre>\n<p>The code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @SqlCall(&quot;call customProcedure(:input,:result)&quot;)\n    @OutParameter(name=&quot;result&quot;, sqlType=Types.STRUCT)\n    OutParameters callProcedure(@Bind(&quot;input&quot;) Long input);\n</code></pre>\n<p>but I get only a <code>java.sql.SQLException: Invalid argument(s) in call</code> during the out parameter binding phase.</p>\n<p>Debugging the <code>OracleCallableStatement</code> I arrived in a <code>registerOutParameterInternal</code> method, where in a switch case with my specified type (STRUCT) if a variable is null, an exception is thrown, but this variable arrives internally from</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.registerOutParameterInternal(var1, var2, var3, var4, **(String)null**);\n</code></pre>\n<p>I tried different out types, but I get either a <code>java.sql.SQLException: Invalid column type: [int value from the chosen sqlType]</code>, or a type mismatch from the stored procedure (<code>oracle.jdbc.OracleDatabaseException: ORA-06553: PLS-306: wrong number or types of arguments in call to 'customProcedure'</code>)\n.</p>\n<p>I tried also to call the query manually (using the <code>jdbi.handle.createCall(&quot;...&quot;).registerOutParameter(...)</code>) without differences.</p>\n<p>How can I call a stored procedure with a custom output type?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","maven","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":19118254,"reputation":65,"user_id":13962702,"display_name":"Oualid EL HASNAOUI"},"score":1,"creation_date":1650458786,"post_id":70007017,"comment_id":127120458,"body_markdown":"Hello @Vikrant Korde, \n\nI am facing the exact same issue, were you able to fix this issue? \n\nThanks, Oualid.","body":"Hello @Vikrant Korde,   I am facing the exact same issue, were you able to fix this issue?   Thanks, Oualid."},{"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"score":0,"creation_date":1701249883,"post_id":70007017,"comment_id":136751149,"body_markdown":"I had same issue, and [Baeldung](https://www.baeldung.com/maven-jacoco-multi-module-project) saved me.","body":"I had same issue, and <a href=\"https://www.baeldung.com/maven-jacoco-multi-module-project\" rel=\"nofollow noreferrer\">Baeldung</a> saved me."}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701294832,"creation_date":1701294832,"answer_id":77574686,"question_id":70007017,"body_markdown":"The `&lt;destFile&gt;` parameter you are setting in the parent is not the report XML file, it is [the agent&#39;s execution file](https://www.jacoco.org/jacoco/trunk/doc/prepare-agent-mojo.html#destFile), it&#39;s always a binary file.\r\n\r\nTo make it do what you want:\r\n\r\n1. Remove the `&lt;destFile&gt;` configuration.\r\n1. Ensure your report module&#39;s pom has other modules as dependencies.\r\n1. Run `mvn clean verify -Pjacoco`\r\n\r\nThen `&lt;report-module-dir&gt;/target/site/jacoco-aggregate/jacoco.xml` will contain your aggregated XML report.","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>The <code>&lt;destFile&gt;</code> parameter you are setting in the parent is not the report XML file, it is <a href=\"https://www.jacoco.org/jacoco/trunk/doc/prepare-agent-mojo.html#destFile\" rel=\"nofollow noreferrer\">the agent's execution file</a>, it's always a binary file.</p>\n<p>To make it do what you want:</p>\n<ol>\n<li>Remove the <code>&lt;destFile&gt;</code> configuration.</li>\n<li>Ensure your report module's pom has other modules as dependencies.</li>\n<li>Run <code>mvn clean verify -Pjacoco</code></li>\n</ol>\n<p>Then <code>&lt;report-module-dir&gt;/target/site/jacoco-aggregate/jacoco.xml</code> will contain your aggregated XML report.</p>\n"},{"tags":[],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701704509,"creation_date":1701704509,"answer_id":77600740,"question_id":70007017,"body_markdown":"I finally succeed with help of [Baeldung][1], thanks to them!\r\nIt was mainly configuration part where I struggled.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.8.11&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;dataFileIncludes&gt;\r\n                        &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\r\n                    &lt;/dataFileIncludes&gt;\r\n                    &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate/&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n&gt; For a maven multi-modules project, change&lt;br&gt;\r\n\r\n`outputDirectory` = `${maven.multiModuleProjectDirectory}/target/site/jacoco-aggregate/`\r\n\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/maven-jacoco-multi-module-project\r\n\r\n","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>I finally succeed with help of <a href=\"https://www.baeldung.com/maven-jacoco-multi-module-project\" rel=\"nofollow noreferrer\">Baeldung</a>, thanks to them!\nIt was mainly configuration part where I struggled.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.8.11&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;dataFileIncludes&gt;\n                    &lt;dataFileInclude&gt;**/jacoco.exec&lt;/dataFileInclude&gt;\n                &lt;/dataFileIncludes&gt;\n                &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-aggregate/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<blockquote>\n<p>For a maven multi-modules project, change<br></p>\n</blockquote>\n<p><code>outputDirectory</code> = <code>${maven.multiModuleProjectDirectory}/target/site/jacoco-aggregate/</code></p>\n"}],"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2035,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1701704509,"creation_date":1637162248,"question_id":70007017,"body_markdown":"We have a multi-module maven project. We are using java8.\r\n\r\n    -Parent\r\n    -- Child 1\r\n    -- Child 2\r\n    -- Coverage-Report\r\n\r\nAll projects have unit test cases, those all are working good and have more than 85% of coverage. Parent pom.xml file has jacoco-profile and jacoco-maven-plugin plugin  as below\r\n\r\n          &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;destFile&gt;${sonar.coverage.jacoco.xmlReportPaths}&lt;/destFile&gt;\r\n                    &lt;append&gt;true&lt;/append&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;verify&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nIn Coverage-Report module, there is only pom.xml which is for aggregating report. It has profile as jacoco as below\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jacoco&lt;/id&gt;\r\n            &lt;activation/&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;report-aggregate&lt;/id&gt;\r\n                                &lt;phase&gt;verify&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\nTo generate the report, we are using below command\r\n\r\n    mvn clean verify -Pjacoco\r\n\r\nWe do see the file getting generated which is mentioned in parent pom.xml \r\n\r\n    &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${maven.multiModuleProjectDirectory}/ocapi-promotion-service-coverage-report/target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        \r\nHowever this file, jacoco.xml, is not proper XML. It has some encoded character as below. (few lines from that file)\r\n\r\n    ��ca6191af5ae0-1a24a201}-�Sy}-ƌ|pW�\\����;org/springframework/context/annotation/BeanAnnotationHelper�w~�j�zI�ZMorg/springframework/boot/autoconfigure/condition/FilteringSpringBootCondition������e֢+org/sp\r\n\r\nOn jenkins we see below error\r\n\r\n    Caused by: java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nI have followed an article from sonar source community https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151 which gives some steps. But I am not able to generate XML file. Please help. ","title":"Jacoco aggregate report is generating Exec file instead of XML","body":"<p>We have a multi-module maven project. We are using java8.</p>\n<pre><code>-Parent\n-- Child 1\n-- Child 2\n-- Coverage-Report\n</code></pre>\n<p>All projects have unit test cases, those all are working good and have more than 85% of coverage. Parent pom.xml file has jacoco-profile and jacoco-maven-plugin plugin  as below</p>\n<pre><code>      &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.8.6&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;destFile&gt;${sonar.coverage.jacoco.xmlReportPaths}&lt;/destFile&gt;\n                &lt;append&gt;true&lt;/append&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;prepare-agent&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>In Coverage-Report module, there is only pom.xml which is for aggregating report. It has profile as jacoco as below</p>\n<pre><code>    &lt;profile&gt;\n        &lt;id&gt;jacoco&lt;/id&gt;\n        &lt;activation/&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;report-aggregate&lt;/id&gt;\n                            &lt;phase&gt;verify&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    &lt;/profile&gt;\n</code></pre>\n<p>To generate the report, we are using below command</p>\n<pre><code>mvn clean verify -Pjacoco\n</code></pre>\n<p>We do see the file getting generated which is mentioned in parent pom.xml</p>\n<pre><code>&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${maven.multiModuleProjectDirectory}/ocapi-promotion-service-coverage-report/target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n    \n</code></pre>\n<p>However this file, jacoco.xml, is not proper XML. It has some encoded character as below. (few lines from that file)</p>\n<pre><code>��ca6191af5ae0-1a24a201}-�Sy}-ƌ|pW�\\����;org/springframework/context/annotation/BeanAnnotationHelper�w~�j�zI�ZMorg/springframework/boot/autoconfigure/condition/FilteringSpringBootCondition������e֢+org/sp\n</code></pre>\n<p>On jenkins we see below error</p>\n<pre><code>Caused by: java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n<p>I have followed an article from sonar source community <a href=\"https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151\" rel=\"noreferrer\">https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151</a> which gives some steps. But I am not able to generate XML file. Please help.</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1384112171,"post_id":19894093,"comment_id":29595968,"body_markdown":"This will not serialize Enum to lower case. This will print its name in lower case.","body":"This will not serialize Enum to lower case. This will print its name in lower case."},{"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"score":0,"creation_date":1384113346,"post_id":19894093,"comment_id":29596381,"body_markdown":"Just a matter of translation misunderstanding, english is not my native language, sorry.","body":"Just a matter of translation misunderstanding, english is not my native language, sorry."},{"owner":{"account_id":1485367,"reputation":122983,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1384113437,"post_id":19894093,"comment_id":29596416,"body_markdown":"OK, no problem. I am also in the middle of learning English :)","body":"OK, no problem. I am also in the middle of learning English :)"}],"answers":[{"tags":[],"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"down_vote_count":3,"up_vote_count":65,"is_accepted":true,"score":62,"last_activity_date":1681142225,"creation_date":1384111770,"answer_id":19894094,"question_id":19894093,"body_markdown":"I am replying this question myself as i found the solution interesting and could not find a reply in the site. Just in case somebody else looks for a way to solve this.\r\n\r\nThe solution is simple, just override the Enum toString method like this:\r\n\r\n    public enum Status {\r\n        DRAFT, PENDING, COMPLETE;\r\n\r\n        @Override\r\n        public String toString() {\r\n            return name().toLowerCase();\r\n        }\r\n    }\r\n    println (&quot;Status=&quot; + Status.DRAFT);\r\n\r\nThis would output the name in lower case.\r\n\r\n*a short note for all those unbelievers:\r\nYou can find usage like this in Google applications (ie: play.google.com/store/apps/…) , where they overwrite the toString function of some objects to get the desired string. I repeat: it&#39;s just a matter of the developer preference, and as long as it is well documented for me it&#39;s a valid solution.*","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>I am replying this question myself as i found the solution interesting and could not find a reply in the site. Just in case somebody else looks for a way to solve this.</p>\n<p>The solution is simple, just override the Enum toString method like this:</p>\n<pre><code>public enum Status {\n    DRAFT, PENDING, COMPLETE;\n\n    @Override\n    public String toString() {\n        return name().toLowerCase();\n    }\n}\nprintln (&quot;Status=&quot; + Status.DRAFT);\n</code></pre>\n<p>This would output the name in lower case.</p>\n<p><em>a short note for all those unbelievers:\nYou can find usage like this in Google applications (ie: play.google.com/store/apps/…) , where they overwrite the toString function of some objects to get the desired string. I repeat: it's just a matter of the developer preference, and as long as it is well documented for me it's a valid solution.</em></p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527336,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1384112223,"creation_date":1384112223,"answer_id":19894176,"question_id":19894093,"body_markdown":"If you want lower case, you could just use lower case, or mixed case, or whatever makes more sense to you.\r\n\r\n    public enum Status {\r\n        draft, pending, complete;\r\n    }\r\n\r\n    println (&quot;Status=&quot; + Status.draft);\r\n\r\nprints\r\n    \r\n    Status=draft","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>If you want lower case, you could just use lower case, or mixed case, or whatever makes more sense to you.</p>\n\n<pre><code>public enum Status {\n    draft, pending, complete;\n}\n\nprintln (\"Status=\" + Status.draft);\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Status=draft\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892064,"reputation":1665,"user_id":930122,"accept_rate":95,"display_name":"Lorenzo Sciuto"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1415813771,"creation_date":1415813771,"answer_id":26893053,"question_id":19894093,"body_markdown":"Another solution could be:\r\n\r\n    public enum Status {\r\n      DRAFT, PENDING, COMPLETE;\r\n\r\n      public String nameLowerCase(){\r\n\t\t\treturn name().toLowerCase();\r\n\t\t}\r\n    }","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>Another solution could be:</p>\n\n<pre><code>public enum Status {\n  DRAFT, PENDING, COMPLETE;\n\n  public String nameLowerCase(){\n        return name().toLowerCase();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1472739712,"creation_date":1472739322,"answer_id":39273953,"question_id":19894093,"body_markdown":"You can use the following Enum class which contains constructor with name and ordinal for each enum constant. You can assign values you need for the enum constant.\r\n\r\n    public enum Status {\r\n\r\n    DRAFT(0,&quot;draft&quot;), PENDING(1,&quot;pending&quot;), COMPLETE(2,&quot;complete&quot;);\r\n    \r\n    private int key;\r\n\tprivate String value;\r\n\t\r\n    Status(int key, String value){\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    \r\n    public int getKey() {\r\n\t\treturn key;\r\n\t}\r\n\r\n\tpublic void setKey(int key) {\r\n\t\tthis.key = key;\r\n\t}\r\n\r\n\tpublic String getValue() {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tpublic void setValue(String value) {\r\n\t\tthis.value = value;\r\n\t}\r\n    \r\n    @Override\r\n    public String toString(){\r\n        return this.value;\r\n    }\r\n    \r\n    }\r\n\r\nSince we override the `toString` method, the value which is lowercase is returned. \r\n\r\nUsing\r\n\r\n    System.out.print(&quot;Status = &quot;+Status.DRAFT);\r\n\r\nwould print,\r\n\r\n    Status = draft\r\n\r\nand \r\n\r\n    System.out.print(&quot;Status = &quot;+Status.DRAFT.name());\r\n\r\nwould print\r\n\r\n    Status = DRAFT","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>You can use the following Enum class which contains constructor with name and ordinal for each enum constant. You can assign values you need for the enum constant.</p>\n\n<pre><code>public enum Status {\n\nDRAFT(0,\"draft\"), PENDING(1,\"pending\"), COMPLETE(2,\"complete\");\n\nprivate int key;\nprivate String value;\n\nStatus(int key, String value){\n    this.key = key;\n    this.value = value;\n}\n\npublic int getKey() {\n    return key;\n}\n\npublic void setKey(int key) {\n    this.key = key;\n}\n\npublic String getValue() {\n    return value;\n}\n\npublic void setValue(String value) {\n    this.value = value;\n}\n\n@Override\npublic String toString(){\n    return this.value;\n}\n\n}\n</code></pre>\n\n<p>Since we override the <code>toString</code> method, the value which is lowercase is returned. </p>\n\n<p>Using</p>\n\n<pre><code>System.out.print(\"Status = \"+Status.DRAFT);\n</code></pre>\n\n<p>would print,</p>\n\n<pre><code>Status = draft\n</code></pre>\n\n<p>and </p>\n\n<pre><code>System.out.print(\"Status = \"+Status.DRAFT.name());\n</code></pre>\n\n<p>would print</p>\n\n<pre><code>Status = DRAFT\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":416,"user_id":9390432,"display_name":"Kevin O."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701704278,"creation_date":1701704278,"answer_id":77600711,"question_id":19894093,"body_markdown":"### Efficient approach to handling uppercase Enums with lowercase representations in Java (and Thymeleaf)\r\n\r\nI&#39;ve developed a Java enum solution that efficiently manages uppercase enums while providing their lowercase representations. Here&#39;s the implementation:\r\n\r\n```java\r\npublic enum Category {\r\n\r\n    COOKING(&quot;COOKING&quot;, &quot;cooking&quot;),\r\n    BAKING(&quot;BAKING&quot;, &quot;baking&quot;),\r\n    DRINKS(&quot;DRINKS&quot;, &quot;drinks&quot;);\r\n\r\n    public final String name;\r\n    public final String lowercaseName;\r\n\r\n    Category(String name, String lowercaseName) {\r\n        this.name = name;\r\n        this.lowercaseName = lowercaseName;\r\n    }\r\n}\r\n```\r\n\r\nIn Thymeleaf I access the Enum lowercase name like this:\r\n\r\n```html\r\n\r\n&lt;div th:with=&quot;category = ${T(com.example.homepage.util.Category)}&quot;&gt;\r\n    &lt;h1 th:text=&quot;${category.COOKING.lowercaseName}&quot;&gt;&lt;/h1&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n\r\n\r\nThis approach to managing uppercase enums with their lowercase counterparts in Java combines clarity, safety, and efficiency, offering explicit lowercase representations, immutable values, reduced method overhead, and easy maintenance. It aligns with Java naming conventions, provides operational flexibility, and is a practical, efficient solution for diverse use cases.","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<h3>Efficient approach to handling uppercase Enums with lowercase representations in Java (and Thymeleaf)</h3>\n<p>I've developed a Java enum solution that efficiently manages uppercase enums while providing their lowercase representations. Here's the implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Category {\n\n    COOKING(&quot;COOKING&quot;, &quot;cooking&quot;),\n    BAKING(&quot;BAKING&quot;, &quot;baking&quot;),\n    DRINKS(&quot;DRINKS&quot;, &quot;drinks&quot;);\n\n    public final String name;\n    public final String lowercaseName;\n\n    Category(String name, String lowercaseName) {\n        this.name = name;\n        this.lowercaseName = lowercaseName;\n    }\n}\n</code></pre>\n<p>In Thymeleaf I access the Enum lowercase name like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;div th:with=&quot;category = ${T(com.example.homepage.util.Category)}&quot;&gt;\n    &lt;h1 th:text=&quot;${category.COOKING.lowercaseName}&quot;&gt;&lt;/h1&gt;\n&lt;/div&gt;\n\n</code></pre>\n<p>This approach to managing uppercase enums with their lowercase counterparts in Java combines clarity, safety, and efficiency, offering explicit lowercase representations, immutable values, reduced method overhead, and easy maintenance. It aligns with Java naming conventions, provides operational flexibility, and is a practical, efficient solution for diverse use cases.</p>\n"}],"owner":{"account_id":1127911,"reputation":3805,"user_id":1114732,"accept_rate":77,"display_name":"spacebiker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52743,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":19894094,"answer_count":5,"score":26,"last_activity_date":1701704278,"creation_date":1384111770,"question_id":19894093,"body_markdown":"I have an enum in Java I&#39;d like to serialize, so that when I call it from anywhere in the code, I get the lowercase representation of the name.\r\n\r\nLet&#39;s say I have the following enum:\r\n\r\n    public enum Status {\r\n        DRAFT, PENDING, COMPLETE;\r\n    }\r\n    println (&quot;Status=&quot; + Status.DRAFT);\r\n\r\nI&#39;d like to get the following:\r\n\r\n    Status=draft\r\n\r\n[Note]: I want to use the enum constants in uppercase, and when requesting the value get the lowercase representation.","title":"Print Java enum to lower case by default keeping enum constants in uppercase","body":"<p>I have an enum in Java I'd like to serialize, so that when I call it from anywhere in the code, I get the lowercase representation of the name.</p>\n<p>Let's say I have the following enum:</p>\n<pre><code>public enum Status {\n    DRAFT, PENDING, COMPLETE;\n}\nprintln (&quot;Status=&quot; + Status.DRAFT);\n</code></pre>\n<p>I'd like to get the following:</p>\n<pre><code>Status=draft\n</code></pre>\n<p>[Note]: I want to use the enum constants in uppercase, and when requesting the value get the lowercase representation.</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":16541273,"reputation":51,"user_id":11951981,"display_name":"Diabelna Pomidorowa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701704025,"creation_date":1701704025,"question_id":77600681,"body_markdown":"I am using elastic search java library to index one of the mongodb entities. One of the fields is HashMap&lt;String, String&gt;, but is not displayed, map is empty although there is a value in the database. I do not want to search through that field, only return it. Is there any way to configure that via that library? Using REST API is not an option. ","title":"Elasticsearch HashMap config via elasticsearch org library","body":"<p>I am using elastic search java library to index one of the mongodb entities. One of the fields is HashMap&lt;String, String&gt;, but is not displayed, map is empty although there is a value in the database. I do not want to search through that field, only return it. Is there any way to configure that via that library? Using REST API is not an option.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1537721784,"post_id":52468261,"comment_id":91878383,"body_markdown":"If you want examples for spring boot, here is some working examples: https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples, https://github.com/dineshbhagat/spring-boot-web-jpa","body":"If you want examples for spring boot, here is some working examples: <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/tree/master/&hellip;</a>, <a href=\"https://github.com/dineshbhagat/spring-boot-web-jpa\" rel=\"nofollow noreferrer\">github.com/dineshbhagat/spring-boot-web-jpa</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1537727646,"post_id":52468261,"comment_id":91880074,"body_markdown":"Your package structure is wrong. Move everything in `com.example.demo` or make it a sub package. But `Services` and `Repositories` aren&#39;t under that package and hence aren&#39;t scanned.","body":"Your package structure is wrong. Move everything in <code>com.example.demo</code> or make it a sub package. But <code>Services</code> and <code>Repositories</code> aren&#39;t under that package and hence aren&#39;t scanned."}],"answers":[{"tags":[],"owner":{"account_id":10306117,"reputation":1,"user_id":7603309,"display_name":"arturk9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537723293,"creation_date":1537721679,"answer_id":52468300,"question_id":52468261,"body_markdown":"EDIT:\r\n\r\nYou are missing PostService class or you have imported incorrect class as Server.PostService.\r\n\r\ntry to create a service like this one:\r\n\r\n    @Component \r\n    public class PostService {\r\n        public List&lt;Post&gt; getAllPosts(){\r\n         //your code\r\n        }\r\n    }\r\n\r\n","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>EDIT:</p>\n\n<p>You are missing PostService class or you have imported incorrect class as Server.PostService.</p>\n\n<p>try to create a service like this one:</p>\n\n<pre><code>@Component \npublic class PostService {\n    public List&lt;Post&gt; getAllPosts(){\n     //your code\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1537728841,"creation_date":1537728841,"answer_id":52469253,"question_id":52468261,"body_markdown":"Your `BlogApplication` Class, which is the class annotated with `@SpringBootApplication` is in the package `com.example.demo`. That means that, by default, Spring is going to launch a Component Scan starting from that package.\r\n\r\nThe problem is that your class `PostService` and your interface `PostRepository` are not in the same package as (or in a sub-package of) `com.example.demo`, so Spring can&#39;t find them and won&#39;t automatically create these beans for you.\r\n\r\nTo correct this issue, move the packages you created inside your root package (`com.example.demo`).\r\n\r\nYou can find more information about the use of `@SpringBootApplication` [here][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>Your <code>BlogApplication</code> Class, which is the class annotated with <code>@SpringBootApplication</code> is in the package <code>com.example.demo</code>. That means that, by default, Spring is going to launch a Component Scan starting from that package.</p>\n\n<p>The problem is that your class <code>PostService</code> and your interface <code>PostRepository</code> are not in the same package as (or in a sub-package of) <code>com.example.demo</code>, so Spring can't find them and won't automatically create these beans for you.</p>\n\n<p>To correct this issue, move the packages you created inside your root package (<code>com.example.demo</code>).</p>\n\n<p>You can find more information about the use of <code>@SpringBootApplication</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":12018191,"reputation":23,"user_id":8792676,"display_name":"Andy Andi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52469253,"answer_count":2,"score":0,"last_activity_date":1701703858,"creation_date":1537721395,"question_id":52468261,"body_markdown":"I am new to Boot-Spring apparently, I mostly copy some code from youtube on this case. However, after modification, in the end, I got a message like this;\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField postService in com.example.demo.BlogController required a bean of type &#39;Server.PostService&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;Server.PostService&#39; in your configuration.\r\n\r\n\r\n.....Any idea how to deal with this situation. Thank you for the support.\r\n1stclass-BlogApplciation-----com.example.demo(package)\r\n2nd-Blog Controller--------same package as BlogApplication\r\n3rdclass-Post---entities\r\n4rthclass-PostRepositories---Repositories\r\n\r\n    **package com.example.demo;  \r\n\r\n    import org.springframework.boot.SpringApplication;\r\n\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n      \r\n\r\n    @SpringBootApplication\r\n\r\n    public class BlogApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(BlogApplication.class, args);\r\n\t}\r\n}**\r\n\r\n\r\n\r\n\r\n\r\n      **package com.example.demo;\r\n      import java.util.List;\r\n     import org.springframework.beans.factory.annotation.Autowired;\r\n     import org.springframework.web.bind.annotation.GetMapping;\r\n     import org.springframework.web.bind.annotation.PostMapping;\r\n     import org.springframework.web.bind.annotation.RequestBody;\r\n     import org.springframework.web.bind.annotation.RestController;\r\n     import Server.PostService;\r\n     import entities.Post;\r\n     import java.util.Date;\r\n      @RestController\r\n      public class BlogController {\r\n      @Autowired\r\n      private PostService postService;\r\n      @GetMapping(value=&quot;/&quot;)\r\n \r\n\t  public String index() {\r\n     \treturn &quot;index&quot;;\r\n        }\r\n      @GetMapping(value=&quot;/posts&quot;)\r\n      public List&lt;Post&gt;posts(){\r\n\t  return postService.getAllPosts();\r\n\t \r\n        }\r\n      @PostMapping(value=&quot;/post&quot;)\r\n      public void publishPost(@RequestBody Post post) {\r\n\t  \r\n\t   if(post.getDatecreation() == null) \r\n\t  post.setDatecreation(new Date());\r\n\t\t  postService.insert(post);  \r\n         }\r\n         }**\r\n     \r\n\r\n      **package entities;\r\n        import java.util.Date;\r\n        import javax.persistence.Entity;\r\n        import javax.persistence.GeneratedValue;\r\n        import javax.persistence.GenerationType;\r\n        import javax.persistence.Id;\r\n        @Entity\r\n         public class Post {\r\n          @Id\r\n        @GeneratedValue(strategy=GenerationType.AUTO)\r\n\t     private Long id;\r\n         private String title;\r\n        private String body;\r\n        private Date Datecreation;\r\n\t\r\n\t    public Post() {\r\n\t\t\r\n\t     }\r\n        public long getId() {\r\n\t\treturn id;\r\n\t     }\r\n\t    public void setId(long id) {\r\n\t\tthis.id = id;\r\n\t    }\t\r\n\t    public String gettitle() {\r\n\t\treturn title;\r\n\t     }\r\n\t    public void settitle(String title) {\r\n\t\t this.title= title;\r\n\t     }\r\n\t    public String getBody() {\r\n\t\treturn body;\r\n\t     }\r\n\t    public void setBody(String body) {\r\n\t\tthis.body = body;\r\n\t     }\r\n\t    public Date getDatecreation() {\r\n\t\treturn Datecreation;\r\n\t    }\r\n\t    public void setDatecreation(Date datecreation) {\r\n\t\tthis.Datecreation = datecreation;\r\n      \t}\r\n\t    }**\r\n  \r\n\r\n       **package Repositories;\r\n\r\n       import org.springframework.data.jpa.repository.JpaRepository;\r\n       import org.springframework.stereotype.Repository;\r\n       import entities.Post;\r\n       @Repository\r\n       public interface PostRepository extends JpaRepository&lt;Post,Long&gt;{\r\n        }**\r\n\t    \r\n         \r\n\r\n\t\r\n","title":"Java Spring Boot problem LoggiFailureAnalysisReporter","body":"<p>I am new to Boot-Spring apparently, I mostly copy some code from youtube on this case. However, after modification, in the end, I got a message like this;\nAPPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field postService in com.example.demo.BlogController required a bean of type 'Server.PostService' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'Server.PostService' in your configuration.</p>\n<p>.....Any idea how to deal with this situation. Thank you for the support.\n1stclass-BlogApplciation-----com.example.demo(package)\n2nd-Blog Controller--------same package as BlogApplication\n3rdclass-Post---entities\n4rthclass-PostRepositories---Repositories</p>\n<pre><code>**package com.example.demo;  \n\nimport org.springframework.boot.SpringApplication;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n  \n\n@SpringBootApplication\n\npublic class BlogApplication {\n\npublic static void main(String[] args) {\n\n    SpringApplication.run(BlogApplication.class, args);\n}\n</code></pre>\n<p>}**</p>\n<pre><code>  **package com.example.demo;\n  import java.util.List;\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.web.bind.annotation.GetMapping;\n import org.springframework.web.bind.annotation.PostMapping;\n import org.springframework.web.bind.annotation.RequestBody;\n import org.springframework.web.bind.annotation.RestController;\n import Server.PostService;\n import entities.Post;\n import java.util.Date;\n  @RestController\n  public class BlogController {\n  @Autowired\n  private PostService postService;\n  @GetMapping(value=&quot;/&quot;)\n\n  public String index() {\n    return &quot;index&quot;;\n    }\n  @GetMapping(value=&quot;/posts&quot;)\n  public List&lt;Post&gt;posts(){\n  return postService.getAllPosts();\n \n    }\n  @PostMapping(value=&quot;/post&quot;)\n  public void publishPost(@RequestBody Post post) {\n  \n   if(post.getDatecreation() == null) \n  post.setDatecreation(new Date());\n      postService.insert(post);  \n     }\n     }**\n \n\n  **package entities;\n    import java.util.Date;\n    import javax.persistence.Entity;\n    import javax.persistence.GeneratedValue;\n    import javax.persistence.GenerationType;\n    import javax.persistence.Id;\n    @Entity\n     public class Post {\n      @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n     private Long id;\n     private String title;\n    private String body;\n    private Date Datecreation;\n\n    public Post() {\n    \n     }\n    public long getId() {\n    return id;\n     }\n    public void setId(long id) {\n    this.id = id;\n    }   \n    public String gettitle() {\n    return title;\n     }\n    public void settitle(String title) {\n     this.title= title;\n     }\n    public String getBody() {\n    return body;\n     }\n    public void setBody(String body) {\n    this.body = body;\n     }\n    public Date getDatecreation() {\n    return Datecreation;\n    }\n    public void setDatecreation(Date datecreation) {\n    this.Datecreation = datecreation;\n    }\n    }**\n\n\n   **package Repositories;\n\n   import org.springframework.data.jpa.repository.JpaRepository;\n   import org.springframework.stereotype.Repository;\n   import entities.Post;\n   @Repository\n   public interface PostRepository extends JpaRepository&lt;Post,Long&gt;{\n    }**\n    \n     \n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7507439,"reputation":1018,"user_id":5703530,"accept_rate":57,"display_name":"Merve Sahin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602166778,"creation_date":1602166778,"answer_id":64264534,"question_id":64263416,"body_markdown":"First you would need to bind your javascript code to your android code, [this guide](https://developer.android.com/guide/webapps/webview#BindingJavaScript) demonstrates how to do that. Then in your javascript, you could add a listener to your button that invokes a Java method. \r\n\r\nSecond, you need to integrate a calling solution into your app [this guide](https://developer.android.com/guide/topics/connectivity/telecom#integrateCalling) explains what options you have and how you can implement them. \r\n\r\nOnce you implemented the calling solution, you could simply make a call from the Java method that you intend to invoke from your javascript.  ","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>First you would need to bind your javascript code to your android code, <a href=\"https://developer.android.com/guide/webapps/webview#BindingJavaScript\" rel=\"nofollow noreferrer\">this guide</a> demonstrates how to do that. Then in your javascript, you could add a listener to your button that invokes a Java method.</p>\n<p>Second, you need to integrate a calling solution into your app <a href=\"https://developer.android.com/guide/topics/connectivity/telecom#integrateCalling\" rel=\"nofollow noreferrer\">this guide</a> explains what options you have and how you can implement them.</p>\n<p>Once you implemented the calling solution, you could simply make a call from the Java method that you intend to invoke from your javascript.</p>\n"},{"tags":[],"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602533639,"creation_date":1602533639,"answer_id":64324756,"question_id":64263416,"body_markdown":"This is How it works for me:\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\n    private static final String TEL_PREFIX = &quot;tel:&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        WebView wv = (WebView) findViewById(R.id.webview);\r\n        wv.setWebViewClient(new CustomWebViewClient());\r\n        wv.loadUrl(&quot;https://google.pk&quot;);\r\n        WebSettings webSettings = wv.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n    }\r\n\r\n    private class CustomWebViewClient extends WebViewClient {\r\n\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView wv, String url) {\r\n            if(url.startsWith(TEL_PREFIX)) {\r\n                Intent intent = new Intent(Intent.ACTION_DIAL);\r\n                intent.setData(Uri.parse(url));\r\n                startActivity(intent);\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>This is How it works for me:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.app.Activity;\nimport android.content.Intent;\n\npublic class MainActivity extends Activity {\n\n    private static final String TEL_PREFIX = &quot;tel:&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WebView wv = (WebView) findViewById(R.id.webview);\n        wv.setWebViewClient(new CustomWebViewClient());\n        wv.loadUrl(&quot;https://google.pk&quot;);\n        WebSettings webSettings = wv.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n\n    private class CustomWebViewClient extends WebViewClient {\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView wv, String url) {\n            if(url.startsWith(TEL_PREFIX)) {\n                Intent intent = new Intent(Intent.ACTION_DIAL);\n                intent.setData(Uri.parse(url));\n                startActivity(intent);\n                return true;\n            }\n            return false;\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":18897269,"reputation":21,"user_id":13786124,"display_name":"Danijan7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701703714,"creation_date":1602163147,"question_id":64263416,"body_markdown":"I am building an Android app and I am newbie.\r\nI am not able to make calls by clicking a button inside android webview app\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my code:\r\n\r\nMainactivity\r\n\r\n```\r\npackage pk.gogobazar.gogobazarapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.view.KeyEvent;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    WebView webView;\r\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\r\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\r\n    public static final int REQUEST_SELECT_FILE = 100;\r\n    private final static int FILECHOOSER_RESULTCODE = 1;\r\n\r\n    public String url =&quot;https://gogobazar.pk/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n\r\n        webView = (WebView) findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(url);\r\n\r\n        webView.setWebViewClient(new xWebViewClient());\r\n        webView.setWebChromeClient(new WebChromeClient()\r\n        {\r\n\r\n            // For 3.0+ Devices (Start)\r\n            // onActivityResult attached before constructor\r\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n\r\n            // For Lollipop 5.0+ Devices\r\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\r\n            {\r\n                if (uploadMessage != null) {\r\n                    uploadMessage.onReceiveValue(null);\r\n                    uploadMessage = null;\r\n                }\r\n\r\n                uploadMessage = filePathCallback;\r\n\r\n                Intent intent = null;\r\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\r\n                    intent = fileChooserParams.createIntent();\r\n                }\r\n                try\r\n                {\r\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\r\n                } catch (ActivityNotFoundException e)\r\n                {\r\n                    uploadMessage = null;\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n\r\n            //For Android 4.1 only\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                intent.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n\r\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\r\n            {\r\n                mUploadMessage = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;image/*&quot;);\r\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\r\n    {\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n        {\r\n            if (requestCode == REQUEST_SELECT_FILE)\r\n            {\r\n                if (uploadMessage == null)\r\n                    return;\r\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\r\n                uploadMessage = null;\r\n            }\r\n        }\r\n        else if (requestCode == FILECHOOSER_RESULTCODE)\r\n        {\r\n            if (null == mUploadMessage)\r\n                return;\r\n            // Use MainActivity.RESULT_OK if you&#39;re implementing WebView inside Fragment\r\n            // Use RESULT_OK only if you&#39;re implementing WebView inside an Activity\r\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\r\n            mUploadMessage.onReceiveValue(result);\r\n            mUploadMessage = null;\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    private class xWebViewClient extends WebViewClient {\r\n        @Override\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\r\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; webView.canGoBack()) {\r\n            webView.goBack();\r\n            return true;\r\n        }\r\n\r\n        return super.onKeyDown(keyCode, event);\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nAndroid Manifest File\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;pk.gogobazar.gogobazarapp&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI am new and still learning basics. Please help me to allow the phone calls in webview on this activity. So when someone clicks on phone number it should call, thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2dqw.jpg","title":"How to Allow Calls on Button Click in Android Web View App?","body":"<p>I am building an Android app and I am newbie.\nI am not able to make calls by clicking a button inside android webview app</p>\n<p><a href=\"https://i.stack.imgur.com/t2dqw.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2dqw.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code:</p>\n<p>Mainactivity</p>\n<pre><code>package pk.gogobazar.gogobazarapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.view.KeyEvent;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n\n    WebView webView;\n    private ValueCallback&lt;Uri&gt; mUploadMessage;\n    public ValueCallback&lt;Uri[]&gt; uploadMessage;\n    public static final int REQUEST_SELECT_FILE = 100;\n    private final static int FILECHOOSER_RESULTCODE = 1;\n\n    public String url =&quot;https://gogobazar.pk/&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n\n        webView = (WebView) findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(url);\n\n        webView.setWebViewClient(new xWebViewClient());\n        webView.setWebChromeClient(new WebChromeClient()\n        {\n\n            // For 3.0+ Devices (Start)\n            // onActivityResult attached before constructor\n            protected void openFileChooser(ValueCallback uploadMsg, String acceptType)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n\n            // For Lollipop 5.0+ Devices\n            public boolean onShowFileChooser(WebView mWebView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams)\n            {\n                if (uploadMessage != null) {\n                    uploadMessage.onReceiveValue(null);\n                    uploadMessage = null;\n                }\n\n                uploadMessage = filePathCallback;\n\n                Intent intent = null;\n                if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP) {\n                    intent = fileChooserParams.createIntent();\n                }\n                try\n                {\n                    startActivityForResult(intent, REQUEST_SELECT_FILE);\n                } catch (ActivityNotFoundException e)\n                {\n                    uploadMessage = null;\n                    return false;\n                }\n                return true;\n            }\n\n            //For Android 4.1 only\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)\n            {\n                mUploadMessage = uploadMsg;\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(intent, &quot;File Browser&quot;), FILECHOOSER_RESULTCODE);\n            }\n\n            protected void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg)\n            {\n                mUploadMessage = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(i, &quot;File Chooser&quot;), FILECHOOSER_RESULTCODE);\n            }\n        });\n\n\n\n\n\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent intent)\n    {\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n        {\n            if (requestCode == REQUEST_SELECT_FILE)\n            {\n                if (uploadMessage == null)\n                    return;\n                uploadMessage.onReceiveValue(WebChromeClient.FileChooserParams.parseResult(resultCode, intent));\n                uploadMessage = null;\n            }\n        }\n        else if (requestCode == FILECHOOSER_RESULTCODE)\n        {\n            if (null == mUploadMessage)\n                return;\n            // Use MainActivity.RESULT_OK if you're implementing WebView inside Fragment\n            // Use RESULT_OK only if you're implementing WebView inside an Activity\n            Uri result = intent == null || resultCode != MainActivity.RESULT_OK ? null : intent.getData();\n            mUploadMessage.onReceiveValue(result);\n            mUploadMessage = null;\n        }\n\n\n    }\n\n\n    private class xWebViewClient extends WebViewClient {\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n\n        if (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; webView.canGoBack()) {\n            webView.goBack();\n            return true;\n        }\n\n        return super.onKeyDown(keyCode, event);\n    }\n\n\n\n\n}\n</code></pre>\n<p>Android Manifest File</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;pk.gogobazar.gogobazarapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I am new and still learning basics. Please help me to allow the phone calls in webview on this activity. So when someone clicks on phone number it should call, thanks.</p>\n"},{"tags":["java","ssl","glassfish-6"],"owner":{"account_id":26860788,"reputation":3,"user_id":20444324,"display_name":"Jos&#233; Daniel Osorio Pacheco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701703198,"creation_date":1701702902,"question_id":77600551,"body_markdown":"I&#39;m using glassfish 6 with java 11. So initially in https listener 2 i have TLS turned on, and when I try to turn SSL3 it says &quot;you must enter certificate nickname as ssl3 and/or tls is enabled glassfish&quot;; but i already gave it the name &quot;s1sa&quot;, my cacerts and keystore have a valid cert with that name, i have the same password as master but still not working. \r\n\r\nIm thinking this could be a bug in glassfish, am i doing something wrong?\r\n\r\nI tried: changing the name of certificate , setting the master password to the one in the keystore and cacerts. Also tried turning off &quot;TLS&quot; (now i can&#39;t turn it on either, it says the same message), tried editing domains.xml and replace s1as name. Log doesn&#39;t say anything related either.\r\n\r\nI was expecting to see TLS and or SSL3 enabled whenever i click on the checkbox.\r\n\r\nThe whole problem started because uploads to a servlet in the &quot;https&quot; protocol are 10 times slower, so i&#39;m guessing everything is connected","title":"You must enter certificate nickname as ssl3 and/or tls is enabled?","body":"<p>I'm using glassfish 6 with java 11. So initially in https listener 2 i have TLS turned on, and when I try to turn SSL3 it says &quot;you must enter certificate nickname as ssl3 and/or tls is enabled glassfish&quot;; but i already gave it the name &quot;s1sa&quot;, my cacerts and keystore have a valid cert with that name, i have the same password as master but still not working.</p>\n<p>Im thinking this could be a bug in glassfish, am i doing something wrong?</p>\n<p>I tried: changing the name of certificate , setting the master password to the one in the keystore and cacerts. Also tried turning off &quot;TLS&quot; (now i can't turn it on either, it says the same message), tried editing domains.xml and replace s1as name. Log doesn't say anything related either.</p>\n<p>I was expecting to see TLS and or SSL3 enabled whenever i click on the checkbox.</p>\n<p>The whole problem started because uploads to a servlet in the &quot;https&quot; protocol are 10 times slower, so i'm guessing everything is connected</p>\n"},{"tags":["java","syntax","null","variable-assignment","method-call"],"comments":[{"owner":{"account_id":97082,"reputation":374996,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":4,"creation_date":1428580257,"post_id":29537639,"comment_id":47227531,"body_markdown":"Not really an answer but if your code is full of such blocks of code replacing missing values with default one, there&#39;s probably a problem in the design of your API.","body":"Not really an answer but if your code is full of such blocks of code replacing missing values with default one, there&#39;s probably a problem in the design of your API."}],"answers":[{"tags":[],"owner":{"account_id":5252868,"reputation":682,"user_id":4196542,"display_name":"crashxxl"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1428580244,"creation_date":1428580244,"answer_id":29537741,"question_id":29537639,"body_markdown":"    dinner = cage.getChicken();\r\n    if(dinner == null) dinner = getFreeRangeChicken();\r\n\r\nor\r\n\r\n    if( (dinner = cage.getChicken() ) == null) dinner = getFreeRangeChicken();","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<pre><code>dinner = cage.getChicken();\nif(dinner == null) dinner = getFreeRangeChicken();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if( (dinner = cage.getChicken() ) == null) dinner = getFreeRangeChicken();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717165,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":92,"is_accepted":true,"score":92,"last_activity_date":1483528426,"creation_date":1428580253,"answer_id":29537744,"question_id":29537639,"body_markdown":"Java lacks coalesce operator, so your code with an explicit temporary is your best choice for an assignment with a single call.\r\n\r\nYou can use the result variable as your temporary, like this:\r\n\r\n    dinner = ((dinner = cage.getChicken()) != null) ? dinner : getFreeRangeChicken();\r\n\r\nThis, however, is hard to read.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Java lacks coalesce operator, so your code with an explicit temporary is your best choice for an assignment with a single call.</p>\n\n<p>You can use the result variable as your temporary, like this:</p>\n\n<pre><code>dinner = ((dinner = cage.getChicken()) != null) ? dinner : getFreeRangeChicken();\n</code></pre>\n\n<p>This, however, is hard to read.</p>\n"},{"tags":[],"owner":{"account_id":1828009,"reputation":4065,"user_id":1660228,"accept_rate":80,"display_name":"Loki"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1428581046,"creation_date":1428580307,"answer_id":29537764,"question_id":29537639,"body_markdown":"Using Java 1.8 you can use `Optional`\r\n\r\n\tpublic class Main  {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\r\n            //example call, the methods are just dumb templates, note they are static\r\n\t\t\tFutureMeal meal = getChicken().orElse(getFreeRangeChicken());\r\n\r\n            //another possible way to call this having static methods is\r\n            FutureMeal meal = getChicken().orElseGet(Main::getFreeRangeChicken); //method reference\r\n\r\n            //or if you would use a Instance of Main and call getChicken and getFreeRangeChicken\r\n            // as nonstatic methods (assume static would be replaced with public for this)\r\n            Main m = new Main();\r\n            FutureMeal meal = m.getChicken().orElseGet(m::getFreeRangeChicken); //method reference\r\n            \r\n            //or\r\n            FutureMeal meal = m.getChicken().orElse(m.getFreeRangeChicken()); //method call\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tstatic Optional&lt;FutureMeal&gt; getChicken(){\r\n\t\t\t\r\n\t\t\t//instead of returning null, you would return Optional.empty() \r\n            //here I just return it to demonstrate\r\n\t\t\treturn Optional.empty();\r\n\r\n            //if you would return a valid object the following comment would be the code\r\n            //FutureMeal ret = new FutureMeal(); //your return object\r\n            //return Optional.of(ret);            \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tstatic FutureMeal getFreeRangeChicken(){\r\n\t\t\treturn new FutureMeal();\r\n\t\t}\r\n\t}\r\n\r\nYou would implement a logic for `getChicken` to return either `Optional.empty()` instead of null, or `Optional.of(myReturnObject)`, where `myReturnObject` is your `chicken`.\r\n\r\nThen you can call `getChicken()` and if it would return `Optional.empty()` the `orElse(fallback)` would give you whatever the fallback would be, in your case the second method.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Using Java 1.8 you can use <code>Optional</code></p>\n\n<pre><code>public class Main  {\n\n    public static void main(String[] args) {\n\n        //example call, the methods are just dumb templates, note they are static\n        FutureMeal meal = getChicken().orElse(getFreeRangeChicken());\n\n        //another possible way to call this having static methods is\n        FutureMeal meal = getChicken().orElseGet(Main::getFreeRangeChicken); //method reference\n\n        //or if you would use a Instance of Main and call getChicken and getFreeRangeChicken\n        // as nonstatic methods (assume static would be replaced with public for this)\n        Main m = new Main();\n        FutureMeal meal = m.getChicken().orElseGet(m::getFreeRangeChicken); //method reference\n\n        //or\n        FutureMeal meal = m.getChicken().orElse(m.getFreeRangeChicken()); //method call\n\n\n    }\n\n    static Optional&lt;FutureMeal&gt; getChicken(){\n\n        //instead of returning null, you would return Optional.empty() \n        //here I just return it to demonstrate\n        return Optional.empty();\n\n        //if you would return a valid object the following comment would be the code\n        //FutureMeal ret = new FutureMeal(); //your return object\n        //return Optional.of(ret);            \n\n    }\n\n    static FutureMeal getFreeRangeChicken(){\n        return new FutureMeal();\n    }\n}\n</code></pre>\n\n<p>You would implement a logic for <code>getChicken</code> to return either <code>Optional.empty()</code> instead of null, or <code>Optional.of(myReturnObject)</code>, where <code>myReturnObject</code> is your <code>chicken</code>.</p>\n\n<p>Then you can call <code>getChicken()</code> and if it would return <code>Optional.empty()</code> the <code>orElse(fallback)</code> would give you whatever the fallback would be, in your case the second method.</p>\n"},{"tags":[],"owner":{"account_id":2319381,"reputation":874,"user_id":2035600,"accept_rate":86,"display_name":"Dan Jay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1434707285,"creation_date":1434707285,"answer_id":30935017,"question_id":29537639,"body_markdown":"Alternatively in Java8 you can use **Nullable** or **NotNull** Annotations according to your need.\r\n\r\n     public class TestingNullable {\r\n            @Nullable\r\n            public Color nullableMethod(){\r\n                //some code here\r\n                return color;\r\n            }\r\n\r\n            public void usingNullableMethod(){\r\n                // some code\r\n                Color color = nullableMethod();\r\n                // Introducing assurance of not-null resolves the problem\r\n                if (color != null) {\r\n                    color.toString();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n----------\r\n\r\n\r\n     public class TestingNullable {\r\n            public void foo(@NotNull Object param){\r\n                //some code here\r\n            }\r\n\r\n            ...\r\n\r\n            public void callingNotNullMethod() {\r\n                //some code here\r\n                // the parameter value according to the explicit contract\r\n                // cannot be null\r\n                foo(null);\r\n            }\r\n        }\r\n\r\nhttp://mindprod.com/jgloss/atnullable.html","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Alternatively in Java8 you can use <strong>Nullable</strong> or <strong>NotNull</strong> Annotations according to your need.</p>\n\n<pre><code> public class TestingNullable {\n        @Nullable\n        public Color nullableMethod(){\n            //some code here\n            return color;\n        }\n\n        public void usingNullableMethod(){\n            // some code\n            Color color = nullableMethod();\n            // Introducing assurance of not-null resolves the problem\n            if (color != null) {\n                color.toString();\n            }\n        }\n    }\n</code></pre>\n\n<hr>\n\n<pre><code> public class TestingNullable {\n        public void foo(@NotNull Object param){\n            //some code here\n        }\n\n        ...\n\n        public void callingNotNullMethod() {\n            //some code here\n            // the parameter value according to the explicit contract\n            // cannot be null\n            foo(null);\n        }\n    }\n</code></pre>\n\n<p><a href=\"http://mindprod.com/jgloss/atnullable.html\" rel=\"nofollow\">http://mindprod.com/jgloss/atnullable.html</a></p>\n"},{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1529667309,"creation_date":1467140657,"answer_id":38084312,"question_id":29537639,"body_markdown":"Same principle as Loki&#39;s answer but shorter. Just keep in mind that shorter doesn&#39;t automatically mean better.\r\n\r\n    dinner = Optional.ofNullable(cage.getChicken())\r\n      .orElse(getFreerangeChicken());\r\n\r\n\r\n----\r\nNote: This usage of `Optional` is explicitly discouraged by the architects of the JDK and the designers of the Optional feature. You are allocating a fresh object and immediately throwing it away every time. But on the other hand it can be quite readable.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Same principle as Loki's answer but shorter. Just keep in mind that shorter doesn't automatically mean better.</p>\n\n<pre><code>dinner = Optional.ofNullable(cage.getChicken())\n  .orElse(getFreerangeChicken());\n</code></pre>\n\n<hr>\n\n<p>Note: This usage of <code>Optional</code> is explicitly discouraged by the architects of the JDK and the designers of the Optional feature. You are allocating a fresh object and immediately throwing it away every time. But on the other hand it can be quite readable.</p>\n"},{"tags":[],"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1661778411,"creation_date":1477037359,"answer_id":40171461,"question_id":29537639,"body_markdown":"If you don&#39;t mind to use commons-lang you can use [org.apache.commons.lang3.ObjectUtils#defaultIfNull][1]\r\n\r\nYour code would be:\r\n\r\n    dinner = ObjectUtils.defaultIfNull(cage.getChicken(),getFreeRangeChicken())\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull-T-T-","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>If you don't mind to use commons-lang you can use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#defaultIfNull-T-T-\" rel=\"nofollow noreferrer\">org.apache.commons.lang3.ObjectUtils#defaultIfNull</a></p>\n<p>Your code would be:</p>\n<pre><code>dinner = ObjectUtils.defaultIfNull(cage.getChicken(),getFreeRangeChicken())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359980,"reputation":17363,"user_id":1680919,"accept_rate":60,"display_name":"Levite"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1511267056,"creation_date":1511267056,"answer_id":47413065,"question_id":29537639,"body_markdown":"# Use your own\r\n\r\n\r\n    public static &lt;T&gt; T defaultWhenNull(@Nullable T object, @NonNull T def) {\r\n        return (object == null) ? def : object;\r\n    }\r\n\r\nExample:\r\n\r\n    defaultWhenNull(getNullableString(), &quot;&quot;);\r\n\r\n&amp;nbsp;\r\n\r\n### Advantages\r\n - Works if you **don&#39;t develop in Java8** \r\n - Works for android development with support for **pre API 24** devices\r\n - Doesn&#39;t need an external library\r\n\r\n### Disadvantages\r\n\r\n - Always evaluates the `default value` (as oposed to `cond ? nonNull() : notEvaluated()`)\r\n\r\n\r\n   This could be circumvented by passing a Callable instead of a default value, but making it somewhat more complicated and less dynamic (e.g. if performance is an issue).\r\n\r\n   By the way, you encounter the same disadvantage when using `Optional.orElse()` ;-)\r\n\r\n","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<h1>Use your own</h1>\n\n<pre><code>public static &lt;T&gt; T defaultWhenNull(@Nullable T object, @NonNull T def) {\n    return (object == null) ? def : object;\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>defaultWhenNull(getNullableString(), \"\");\n</code></pre>\n\n<p>&nbsp;</p>\n\n<h3>Advantages</h3>\n\n<ul>\n<li>Works if you <strong>don't develop in Java8</strong> </li>\n<li>Works for android development with support for <strong>pre API 24</strong> devices</li>\n<li>Doesn't need an external library</li>\n</ul>\n\n<h3>Disadvantages</h3>\n\n<ul>\n<li><p>Always evaluates the <code>default value</code> (as oposed to <code>cond ? nonNull() : notEvaluated()</code>)</p>\n\n<p>This could be circumvented by passing a Callable instead of a default value, but making it somewhat more complicated and less dynamic (e.g. if performance is an issue).</p>\n\n<p>By the way, you encounter the same disadvantage when using <code>Optional.orElse()</code> ;-)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1535478061,"creation_date":1535478061,"answer_id":52063580,"question_id":29537639,"body_markdown":"Since Java 9 you have [Objects#requireNonNullElse](https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElse(T,T)) which does:\r\n\r\n    public static &lt;T&gt; T requireNonNullElse(T obj, T defaultObj) {\r\n        return (obj != null) ? obj : requireNonNull(defaultObj, &quot;defaultObj&quot;);\r\n    }\r\n\r\nYour code would be\r\n\r\n    dinner = Objects.requireNonNullElse(cage.getChicken(), getFreeRangeChicken());\r\n\r\nWhich is 1 line and calls `getChicken()` only once, so both requirements are satisfied.\r\n\r\nNote that the second argument cannot be `null` as well; this method forces non-nullness of the returned value.\r\n\r\nConsider also the alternative [Objects#requireNonNullElseGet](https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)):\r\n\r\n    public static &lt;T&gt; T requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)\r\n\r\nwhich does not even evaluate the second argument if the first is not `null`, but does have the overhead of creating a `Supplier`.","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Since Java 9 you have <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElse(T,T)\" rel=\"noreferrer\">Objects#requireNonNullElse</a> which does:</p>\n\n<pre><code>public static &lt;T&gt; T requireNonNullElse(T obj, T defaultObj) {\n    return (obj != null) ? obj : requireNonNull(defaultObj, \"defaultObj\");\n}\n</code></pre>\n\n<p>Your code would be</p>\n\n<pre><code>dinner = Objects.requireNonNullElse(cage.getChicken(), getFreeRangeChicken());\n</code></pre>\n\n<p>Which is 1 line and calls <code>getChicken()</code> only once, so both requirements are satisfied.</p>\n\n<p>Note that the second argument cannot be <code>null</code> as well; this method forces non-nullness of the returned value.</p>\n\n<p>Consider also the alternative <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Objects.html#requireNonNullElseGet(T,java.util.function.Supplier)\" rel=\"noreferrer\">Objects#requireNonNullElseGet</a>:</p>\n\n<pre><code>public static &lt;T&gt; T requireNonNullElseGet(T obj, Supplier&lt;? extends T&gt; supplier)\n</code></pre>\n\n<p>which does not even evaluate the second argument if the first is not <code>null</code>, but does have the overhead of creating a <code>Supplier</code>.</p>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3368,"user_id":9224219,"display_name":"Datz"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683097657,"creation_date":1633075086,"answer_id":69402417,"question_id":29537639,"body_markdown":"You could use\r\n\r\n```\r\nObjects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\r\n```\r\n\r\neven nicer with static import:\r\n\r\n```\r\nimport static java.util.Objects.requireNonNullElseGet;\r\n\r\nrequireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\r\n```","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>You could use</p>\n<pre><code>Objects.requireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\n</code></pre>\n<p>even nicer with static import:</p>\n<pre><code>import static java.util.Objects.requireNonNullElseGet;\n\nrequireNonNullElseGet(cage.getChicken(), () -&gt; getFreerangeChicken())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701703192,"creation_date":1701703192,"answer_id":77600586,"question_id":29537639,"body_markdown":"Trivial attempt to make a copy of a list, if it refers to a null, will trigger a **NullPointerException**:\r\n\r\n    List&lt;String&gt; originalList = null;\r\n    List&lt;String&gt; copyList = new ArrayList(originalList);\r\n\r\nSame **NullPointerException** if we will use newer API to get immutable list:\r\n\r\n    List&lt;String&gt; originalList = null;\r\n    List&lt;String&gt; copyList = List.copyOf(originalList);\r\n\r\nAnd this is the good thing we have control to intercept exception. However, we often just want to have an empty list if original list was referring to null. Here few examples creating a copy of original list. **In case of original list is null, it will return an empty list, instead of throwing exception**:\r\n\r\n    //List copied into immutable List\r\n    //Java 9+\r\n    copyList = List.copyOf(Objects.requireNonNullElse(originalList, List.of()));\r\n    //Java 8+\r\n    copyList = List.copyOf(Optional.ofNullable(originalList).orElse(List.of()));\r\n    \r\n    //Copy provided within good old mutable ArrayList\r\n    //Java 9+\r\n    copyList = new ArrayList(Objects.requireNonNullElse(originalList, new ArrayList()));\r\n    //Java 8+\r\n    copyList = new ArrayList(Optional.ofNullable(originalList).orElse(new ArrayList()));","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Trivial attempt to make a copy of a list, if it refers to a null, will trigger a <strong>NullPointerException</strong>:</p>\n<pre><code>List&lt;String&gt; originalList = null;\nList&lt;String&gt; copyList = new ArrayList(originalList);\n</code></pre>\n<p>Same <strong>NullPointerException</strong> if we will use newer API to get immutable list:</p>\n<pre><code>List&lt;String&gt; originalList = null;\nList&lt;String&gt; copyList = List.copyOf(originalList);\n</code></pre>\n<p>And this is the good thing we have control to intercept exception. However, we often just want to have an empty list if original list was referring to null. Here few examples creating a copy of original list. <strong>In case of original list is null, it will return an empty list, instead of throwing exception</strong>:</p>\n<pre><code>//List copied into immutable List\n//Java 9+\ncopyList = List.copyOf(Objects.requireNonNullElse(originalList, List.of()));\n//Java 8+\ncopyList = List.copyOf(Optional.ofNullable(originalList).orElse(List.of()));\n\n//Copy provided within good old mutable ArrayList\n//Java 9+\ncopyList = new ArrayList(Objects.requireNonNullElse(originalList, new ArrayList()));\n//Java 8+\ncopyList = new ArrayList(Optional.ofNullable(originalList).orElse(new ArrayList()));\n</code></pre>\n"}],"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215920,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"accepted_answer_id":29537744,"answer_count":10,"score":108,"last_activity_date":1701703192,"creation_date":1428579953,"question_id":29537639,"body_markdown":"Java is littered with statements like:\r\n\r\n    if(cage.getChicken() != null) {\r\n        dinner = cage.getChicken();\r\n    } else {\r\n        dinner = getFreeRangeChicken();\r\n    }\r\n\r\nWhich takes two calls to `getChicken()` before the returned object can be assigned to `dinner`.\r\n\r\nThis could also be written in one line like so:\r\n\r\n    dinner = cage.getChicken() != null? cage.getChicken() : getFreeRangeChicken();\r\nBut alas there are still two calls to `getChicken()`.\r\n\r\nOf course we could assign a local variable then use the ternary operator again to assign it if it is not null, but this is two lines and not so pretty:\r\n\r\n    FutureMeal chicken = cage.getChicken();\r\n    dinner = chicken != null? chicken : getFreeRangeChicken();\r\n\r\nSo is there any way to say:\r\n\r\n&gt; Variable var = some value if some value is not null OR some other\r\n&gt; value;\r\n\r\nAnd I guess I&#39;m just talking syntax here, after the code is compiled it probably doesn&#39;t make much difference how the code was written in a performance sense.\r\n\r\nAs this is such common code it&#39;d be great to have a one-liner to write it.\r\n\r\nDo any other languages have this feature?","title":"Check if returned value is not null and if so assign it, in one line, with one method call","body":"<p>Java is littered with statements like:</p>\n\n<pre><code>if(cage.getChicken() != null) {\n    dinner = cage.getChicken();\n} else {\n    dinner = getFreeRangeChicken();\n}\n</code></pre>\n\n<p>Which takes two calls to <code>getChicken()</code> before the returned object can be assigned to <code>dinner</code>.</p>\n\n<p>This could also be written in one line like so:</p>\n\n<pre><code>dinner = cage.getChicken() != null? cage.getChicken() : getFreeRangeChicken();\n</code></pre>\n\n<p>But alas there are still two calls to <code>getChicken()</code>.</p>\n\n<p>Of course we could assign a local variable then use the ternary operator again to assign it if it is not null, but this is two lines and not so pretty:</p>\n\n<pre><code>FutureMeal chicken = cage.getChicken();\ndinner = chicken != null? chicken : getFreeRangeChicken();\n</code></pre>\n\n<p>So is there any way to say:</p>\n\n<blockquote>\n  <p>Variable var = some value if some value is not null OR some other\n  value;</p>\n</blockquote>\n\n<p>And I guess I'm just talking syntax here, after the code is compiled it probably doesn't make much difference how the code was written in a performance sense.</p>\n\n<p>As this is such common code it'd be great to have a one-liner to write it.</p>\n\n<p>Do any other languages have this feature?</p>\n"},{"tags":["java","excel"],"comments":[{"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"score":0,"creation_date":1375365891,"post_id":17995796,"comment_id":26313332,"body_markdown":"If the spredsheet is not that big you can clear the row you want to delete and then shift back one position the row below... Not the optimal but an option.","body":"If the spredsheet is not that big you can clear the row you want to delete and then shift back one position the row below... Not the optimal but an option."}],"answers":[{"tags":[],"owner":{"account_id":2192969,"reputation":678,"user_id":1939482,"accept_rate":50,"display_name":"James Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375364966,"creation_date":1375364966,"answer_id":17995927,"question_id":17995796,"body_markdown":"Perhaps using a VBA macro would be more helpful in this situation? VBA macros can be embedded into your spreadsheet, so running them could be a lot easier.\r\n\r\nHere is a good place to get started with VBA:\r\n\r\nhttp://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx\r\n\r\n","title":"Delete Excel rows programmatically using Java","body":"<p>Perhaps using a VBA macro would be more helpful in this situation? VBA macros can be embedded into your spreadsheet, so running them could be a lot easier.</p>\n\n<p>Here is a good place to get started with VBA:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/office/ee814737(v=office.14).aspx</a></p>\n"},{"tags":[],"owner":{"account_id":2887395,"reputation":2006,"user_id":2476907,"display_name":"Ganesh Rengarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375365675,"creation_date":1375365675,"answer_id":17996214,"question_id":17995796,"body_markdown":" Try this one...    \r\n\r\n     SVTableModel model = new SVTableModel(sheet);\r\n     int lastIndex = model.getRowCount();\r\n     for (int i=1; i&lt;=lastIndex; i++)\r\n       {\r\n      row=sheet.getRow(i);\r\n      if((row.getCell(getLastCell)!=null) &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid&quot;) ||  row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n      {\r\n          row.setZeroHeight(true);\r\n          sheet.removeRow(row);\r\n      }","title":"Delete Excel rows programmatically using Java","body":"<p>Try this one...    </p>\n\n<pre><code> SVTableModel model = new SVTableModel(sheet);\n int lastIndex = model.getRowCount();\n for (int i=1; i&lt;=lastIndex; i++)\n   {\n  row=sheet.getRow(i);\n  if((row.getCell(getLastCell)!=null) &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid\") ||  row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n  {\n      row.setZeroHeight(true);\n      sheet.removeRow(row);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2377273,"reputation":3085,"user_id":2080264,"display_name":"araknoid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375367275,"creation_date":1375367275,"answer_id":17996849,"question_id":17995796,"body_markdown":"Instead of `sheet.removeRow(row);` you can use the `shiftRows(int startRow, int endRow, int n)` instruction, that seems you have tried, that shifts rows between startRow and endRow n number of rows. \r\n\r\nIn your case it will be\r\n\r\n    // ... code before    ...\r\n    for (int i=0; i&lt;=lastIndex; i++)\r\n            {\r\n              row=sheet.getRow(i);\r\n              if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid&quot;) || row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n                  {\r\n                   // This should shift up by 1 row all the rows below\r\n                   sheet.shiftRows(i+1, lastIndex, -1);\r\n                   i--; // Since you move row at i+1 to i you have to recompute the i-th row\r\n                }\r\n            }\r\n    // ... code after ...\r\n\r\nCheck [org.apache.poi.hssf.usermodel.HSSFSheet Documentation](http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFSheet.html) for more information","title":"Delete Excel rows programmatically using Java","body":"<p>Instead of <code>sheet.removeRow(row);</code> you can use the <code>shiftRows(int startRow, int endRow, int n)</code> instruction, that seems you have tried, that shifts rows between startRow and endRow n number of rows. </p>\n\n<p>In your case it will be</p>\n\n<pre><code>// ... code before    ...\nfor (int i=0; i&lt;=lastIndex; i++)\n        {\n          row=sheet.getRow(i);\n          if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid\") || row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n              {\n               // This should shift up by 1 row all the rows below\n               sheet.shiftRows(i+1, lastIndex, -1);\n               i--; // Since you move row at i+1 to i you have to recompute the i-th row\n            }\n        }\n// ... code after ...\n</code></pre>\n\n<p>Check <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFSheet.html\" rel=\"nofollow\">org.apache.poi.hssf.usermodel.HSSFSheet Documentation</a> for more information</p>\n"},{"tags":[],"owner":{"account_id":15904122,"reputation":11,"user_id":11475794,"display_name":"Ravi Chhetri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569324137,"creation_date":1569324137,"answer_id":58079189,"question_id":17995796,"body_markdown":"Please try the below code. My last cell value is Mismatched ot \r\n    Matched. Set as per ur excel.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\n    public class DeleteAllRecord {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry{\r\n\r\n\t\t\tFile src= new File(&quot;testdata\\\\OSBC.xlsx&quot;);\r\n\t\t\tFileInputStream fis= new FileInputStream(src);\r\n\t\t\tXSSFWorkbook workbook= new XSSFWorkbook(fis);\r\n\t\t\tXSSFSheet data= workbook.getSheet(&quot;TestData&quot;);\t\r\n\t\t\tint length=data.getLastRowNum();\r\n\t\t\tXSSFSheet data1;\r\n\t\t\tRow row1;\r\n\t\t\tfor(int i=1;i&lt;=length;i++){\r\n\r\n\t\t\t\tString testCaseNo=data.getRow(i).getCell(4).toString();\r\n\t\t\t\tSystem.out.println(&quot;The Testcase no &quot;+testCaseNo);\r\n\t\t\t\tdata1= workbook.getSheet(testCaseNo);\r\n\t\t\t\trow1 = data1.getRow(2);\r\n\t\t\t\tint getLastCell=row1.getLastCellNum()-1;\r\n\t\t\t\tSystem.out.println(&quot;The last cell is &quot;+getLastCell);\r\n\t\t\t\tint lastIndex = data1.getLastRowNum();\r\n\t\t\t\tSystem.out.println(&quot;The last row is &quot;+lastIndex);\r\n\t\t\t\tString str1= row1.getCell(getLastCell).toString();\r\n\t\t\t\tSystem.out.println(&quot;The valu1 is &quot;+ str1);\r\n\t\t\t\tfor (int j=0; j&lt;lastIndex-1; j++)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tString str=data1.getRow(j+2).getCell(getLastCell).toString();\r\n\t\t\t\t\trow1=data1.getRow(j+2);\r\n\t\t\t\t\tSystem.out.println(&quot;print &quot; + (j+2) +str);\r\n\r\n\t\t\t\t\tif(row1.getCell(getLastCell)!=null &amp;&amp;\r\n    (row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;MATCHED&quot;)||\r\n    row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;MISMATCHED&quot;)|| \r\n    row1.getCell(getLastCell).toString().equalsIgnoreCase(&quot;&quot;))){\r\n\t\t\t\t\t\t\r\n    data1.removeRow(row1);\r\n\t\t\t\t\t\tSystem.out.println(&quot;print &quot; + (j+2)+ &quot; &quot; +str);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Null&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tFileOutputStream fileOut = new FileOutputStream(&quot;testdata\\\\delete.xlsx&quot;);\r\n\t\t\t\tworkbook.write(fileOut);\r\n\t\t\t\tfileOut.close();\r\n\t\t\t\tSystem.out.println(&quot;File deleted&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\r\n\t\t\tSystem.out.println(&quot;No Data Exists to delete&quot;);\r\n\t\t  }\r\n\t   }\r\n    }\r\n","title":"Delete Excel rows programmatically using Java","body":"<p>Please try the below code. My last cell value is Mismatched ot \n    Matched. Set as per ur excel.</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class DeleteAllRecord {\n\npublic static void main(String[] args) {\n\n    try{\n\n        File src= new File(\"testdata\\\\OSBC.xlsx\");\n        FileInputStream fis= new FileInputStream(src);\n        XSSFWorkbook workbook= new XSSFWorkbook(fis);\n        XSSFSheet data= workbook.getSheet(\"TestData\");  \n        int length=data.getLastRowNum();\n        XSSFSheet data1;\n        Row row1;\n        for(int i=1;i&lt;=length;i++){\n\n            String testCaseNo=data.getRow(i).getCell(4).toString();\n            System.out.println(\"The Testcase no \"+testCaseNo);\n            data1= workbook.getSheet(testCaseNo);\n            row1 = data1.getRow(2);\n            int getLastCell=row1.getLastCellNum()-1;\n            System.out.println(\"The last cell is \"+getLastCell);\n            int lastIndex = data1.getLastRowNum();\n            System.out.println(\"The last row is \"+lastIndex);\n            String str1= row1.getCell(getLastCell).toString();\n            System.out.println(\"The valu1 is \"+ str1);\n            for (int j=0; j&lt;lastIndex-1; j++)\n            {\n\n                String str=data1.getRow(j+2).getCell(getLastCell).toString();\n                row1=data1.getRow(j+2);\n                System.out.println(\"print \" + (j+2) +str);\n\n                if(row1.getCell(getLastCell)!=null &amp;&amp;\n(row1.getCell(getLastCell).toString().equalsIgnoreCase(\"MATCHED\")||\nrow1.getCell(getLastCell).toString().equalsIgnoreCase(\"MISMATCHED\")|| \nrow1.getCell(getLastCell).toString().equalsIgnoreCase(\"\"))){\n\ndata1.removeRow(row1);\n                    System.out.println(\"print \" + (j+2)+ \" \" +str);\n\n                }\n                else{\n                    System.out.println(\"Null\");\n                }\n            }\n            FileOutputStream fileOut = new FileOutputStream(\"testdata\\\\delete.xlsx\");\n            workbook.write(fileOut);\n            fileOut.close();\n            System.out.println(\"File deleted\");\n        }\n    }\n    catch(Exception e){\n\n        System.out.println(\"No Data Exists to delete\");\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":2401998,"reputation":165,"user_id":2099478,"accept_rate":55,"display_name":"Java Developer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701702410,"creation_date":1375364667,"question_id":17995796,"body_markdown":"Finding last column cell values. if cell value is &quot;Not Valid&quot; or &quot;Not Applicable&quot;, delete the entire row.\r\n\r\n The code I have written so far is as follows:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.ss.usermodel.Sheet;\r\n    import org.apache.poi.ss.usermodel.WorkbookFactory;\r\n    import org.apache.poi.ss.usermodel.Workbook;\r\n\r\n    public class Column\r\n    {\r\n    \tpublic static void main(String[] args) throws InvalidFormatException, FileNotFoundException, IOException\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tWorkbook wb = WorkbookFactory.create(new FileInputStream(&quot;C:/Users/Excel1.xlsx&quot;));\r\n    \t\t\tSheet sheet = wb.getSheet(&quot;Retail-All&quot;);\r\n    \t\t\t\r\n    \t\t\tWorkbook wb2 = new HSSFWorkbook();\r\n    \t\t\twb2 = wb;\r\n    \t\t\t\r\n    \t\t\tRow row;\r\n    \t\t\trow = sheet.getRow(0);\r\n    \t\t\tint getLastCell=row.getLastCellNum()-1;\r\n            \tint lastIndex = sheet.getLastRowNum();\r\n            \t\r\n            \tfor (int i=0; i&lt;=lastIndex; i++)\r\n            \t{\r\n          \t \t    row=sheet.getRow(i);\r\n          \t\t    if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not valid) || row.getCell(getLastCell).toString().equalsIgnoreCase(&quot;Not Applicable&quot;)))\r\n                    {\r\n          \t\t   \t\tsheet.removeRow(row);\r\n          \t\t   \t\t//sheet.shiftRows(i, lastIndex, -1);\r\n              \t\t}\r\n            \t}\r\n            \tFileOutputStream fileOut = new FileOutputStream(&quot;C:/Users/shiftRows.xlsx&quot;);\r\n            \twb2.write(fileOut);\r\n            \tfileOut.close();\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nWith the above code, using row.setZeroHeight(true); method I can able to hide the rows. \r\n  \r\nWith the above code, using sheet.removeRow(row); method I can able to empty all the cells in that particular row.\r\n\r\nI found some code in net, but none of them are deleting the rows permanently.My requirement is to delete the rows permanently. How to code to meet my requirement?","title":"Delete Excel rows programmatically using Java","body":"<p>Finding last column cell values. if cell value is \"Not Valid\" or \"Not Applicable\", delete the entire row.</p>\n\n<p>The code I have written so far is as follows:</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.WorkbookFactory;\nimport org.apache.poi.ss.usermodel.Workbook;\n\npublic class Column\n{\n    public static void main(String[] args) throws InvalidFormatException, FileNotFoundException, IOException\n    {\n        try\n        {\n            Workbook wb = WorkbookFactory.create(new FileInputStream(\"C:/Users/Excel1.xlsx\"));\n            Sheet sheet = wb.getSheet(\"Retail-All\");\n\n            Workbook wb2 = new HSSFWorkbook();\n            wb2 = wb;\n\n            Row row;\n            row = sheet.getRow(0);\n            int getLastCell=row.getLastCellNum()-1;\n            int lastIndex = sheet.getLastRowNum();\n\n            for (int i=0; i&lt;=lastIndex; i++)\n            {\n                row=sheet.getRow(i);\n                if(row.getCell(getLastCell)!=null &amp;&amp; (row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not valid) || row.getCell(getLastCell).toString().equalsIgnoreCase(\"Not Applicable\")))\n                {\n                    sheet.removeRow(row);\n                    //sheet.shiftRows(i, lastIndex, -1);\n                }\n            }\n            FileOutputStream fileOut = new FileOutputStream(\"C:/Users/shiftRows.xlsx\");\n            wb2.write(fileOut);\n            fileOut.close();\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>With the above code, using row.setZeroHeight(true); method I can able to hide the rows. </p>\n\n<p>With the above code, using sheet.removeRow(row); method I can able to empty all the cells in that particular row.</p>\n\n<p>I found some code in net, but none of them are deleting the rows permanently.My requirement is to delete the rows permanently. How to code to meet my requirement?</p>\n"},{"tags":["java","web-services","rest","jersey"],"comments":[{"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"score":0,"creation_date":1333619663,"post_id":10025702,"comment_id":12822697,"body_markdown":"is it because your web.xml is referring to &quot;com.restful.demo.resources&quot; but your code is in the package &quot;mypack&quot;?","body":"is it because your web.xml is referring to &quot;com.restful.demo.resources&quot; but your code is in the package &quot;mypack&quot;?"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333621096,"post_id":10025702,"comment_id":12823124,"body_markdown":"I am getting the same error after adding the package&quot;mypack&quot; in web.xml","body":"I am getting the same error after adding the package&quot;mypack&quot; in web.xml"},{"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"score":0,"creation_date":1333698687,"post_id":10025702,"comment_id":12844769,"body_markdown":"I am working from this example:\nhttp://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\nPlease give suggestions how do it.","body":"I am working from this example: <a href=\"http://www.jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey/\" rel=\"nofollow noreferrer\">jgeppert.com/2009/03/restful-web-services-jax-rs-mit-jersey</a> Please give suggestions how do it."}],"answers":[{"tags":[],"owner":{"account_id":60290,"reputation":2077,"user_id":180152,"accept_rate":81,"display_name":"jaxb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333619957,"creation_date":1333619957,"answer_id":10026475,"question_id":10025702,"body_markdown":"It is because:\r\n  \r\n    &lt;init-param&gt;\r\n         &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n\r\nChange it to:\r\n\r\n     &lt;init-param&gt;\r\n         &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n         &lt;param-value&gt;p1&lt;/param-value&gt;\r\n    &lt;/init-param&gt;\r\n","title":"WebServices Calculator Example using Java","body":"<p>It is because:</p>\n\n<pre><code>&lt;init-param&gt;\n     &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n     &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n\n<p>Change it to:</p>\n\n<pre><code> &lt;init-param&gt;\n     &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n     &lt;param-value&gt;p1&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":917789,"reputation":7969,"user_id":950199,"display_name":"Martin Matula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333629094,"creation_date":1333629094,"answer_id":10028641,"question_id":10025702,"body_markdown":"What I see is a code using a JAX-WS web service and a web.xml registering Jersey servlet. There is not a single JAX-RS resource in your code. So that&#39;s why you are getting the error. Look at the JAX-RS spec and see how to write JAX-RS resources.","title":"WebServices Calculator Example using Java","body":"<p>What I see is a code using a JAX-WS web service and a web.xml registering Jersey servlet. There is not a single JAX-RS resource in your code. So that's why you are getting the error. Look at the JAX-RS spec and see how to write JAX-RS resources.</p>\n"}],"owner":{"account_id":910413,"reputation":421,"user_id":944404,"accept_rate":76,"display_name":"spt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12076,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701702410,"creation_date":1333616752,"question_id":10025702,"body_markdown":"I have created an sample application of calculator for sum of two numbers using webservices in Java by using Jersey service.\r\n\r\nMy code is : \r\nCalculator.java\r\n\r\n    package p1;\r\n    import javax.jws.WebService;\r\n    import javax.jws.WebMethod;\r\n    import javax.ws.rs.Path;\r\n    \r\n    @WebService\r\n    @Path(&quot;/CalculatorService&quot;)\r\n    public class Calculator\r\n    {\r\n    \t@WebMethod\r\n    \tpublic String sum(int x,int y)\r\n    \t{\r\n    \t\treturn &quot;&quot;+(x+y);\r\n    \t}\r\n    }\r\nCalculator.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.jws.WebMethod;\r\n    import javax.jws.WebParam;\r\n    import javax.jws.WebResult;\r\n    import javax.jws.WebService;\r\n    import javax.xml.ws.RequestWrapper;\r\n    import javax.xml.ws.ResponseWrapper;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAXWS SI.\r\n     * JAX-WS RI 2.0_02-b08-fcs\r\n     * Generated source version: 2.0\r\n     * \r\n     */\r\n    @WebService(name = &quot;Calculator&quot;, targetNamespace = &quot;http://p1/&quot;)\r\n    public interface Calculator {\r\n    \r\n    \r\n        /**\r\n         * \r\n         * @param arg1\r\n         * @param arg0\r\n         * @return\r\n         *     returns java.lang.String\r\n         */\r\n        @WebMethod\r\n        @WebResult(targetNamespace = &quot;&quot;)\r\n        @RequestWrapper(localName = &quot;sum&quot;, targetNamespace = &quot;http://p1/&quot;, className = &quot;mypack.Sum&quot;)\r\n        @ResponseWrapper(localName = &quot;sumResponse&quot;, targetNamespace = &quot;http://p1/&quot;, className = &quot;mypack.SumResponse&quot;)\r\n        public String sum(\r\n            @WebParam(name = &quot;arg0&quot;, targetNamespace = &quot;&quot;)\r\n            int arg0,\r\n            @WebParam(name = &quot;arg1&quot;, targetNamespace = &quot;&quot;)\r\n            int arg1);\r\n    \r\n    }\r\nCalculatorService.java:\r\n\r\n    package mypack;\r\n    \r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.Service;\r\n    import javax.xml.ws.WebEndpoint;\r\n    import javax.xml.ws.WebServiceClient;\r\n    \r\n    \r\n    /**\r\n     * This class was generated by the JAXWS SI.\r\n     * JAX-WS RI 2.0_02-b08-fcs\r\n     * Generated source version: 2.0\r\n     * \r\n     */\r\n    @WebServiceClient(name = &quot;CalculatorService&quot;, targetNamespace = &quot;http://p1/&quot;, wsdlLocation = &quot;http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL&quot;)\r\n    public class CalculatorService\r\n        extends Service\r\n    {\r\n    \r\n        private final static URL CALCULATORSERVICE_WSDL_LOCATION;\r\n    \r\n        static {\r\n            URL url = null;\r\n            try {\r\n                url = new URL(&quot;http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL&quot;);\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            }\r\n            CALCULATORSERVICE_WSDL_LOCATION = url;\r\n        }\r\n    \r\n        public CalculatorService(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n        public CalculatorService() {\r\n            super(CALCULATORSERVICE_WSDL_LOCATION, new QName(&quot;http://p1/&quot;, &quot;CalculatorService&quot;));\r\n        }\r\n    \r\n        /**\r\n         * \r\n         * @return\r\n         *     returns Calculator\r\n         */\r\n        @WebEndpoint(name = &quot;CalculatorPort&quot;)\r\n        public Calculator getCalculatorPort() {\r\n            return (Calculator)super.getPort(new QName(&quot;http://p1/&quot;, &quot;CalculatorPort&quot;), Calculator.class);\r\n        }\r\n    \r\n    }\r\nObjectFactory.java:\r\n\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.JAXBElement;\r\n    import javax.xml.bind.annotation.XmlElementDecl;\r\n    import javax.xml.bind.annotation.XmlRegistry;\r\n    import javax.xml.namespace.QName;\r\n    \r\n    \r\n    /**\r\n     * This object contains factory methods for each \r\n     * Java content interface and Java element interface \r\n     * generated in the mypack package. \r\n     * &lt;p&gt;An ObjectFactory allows you to programatically \r\n     * construct new instances of the Java representation \r\n     * for XML content. The Java representation of XML \r\n     * content can consist of schema derived interfaces \r\n     * and classes representing the binding of schema \r\n     * type definitions, element declarations and model \r\n     * groups.  Factory methods for each of these are \r\n     * provided in this class.\r\n     * \r\n     */\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName _Sum_QNAME = new QName(&quot;http://p1/&quot;, &quot;sum&quot;);\r\n        private final static QName _SumResponse_QNAME = new QName(&quot;http://p1/&quot;, &quot;sumResponse&quot;);\r\n    \r\n        /**\r\n         * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: mypack\r\n         * \r\n         */\r\n        public ObjectFactory() {\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link Sum }\r\n         * \r\n         */\r\n        public Sum createSum() {\r\n            return new Sum();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link SumResponse }\r\n         * \r\n         */\r\n        public SumResponse createSumResponse() {\r\n            return new SumResponse();\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link Sum }{@code &gt;}}\r\n         * \r\n         */\r\n        @XmlElementDecl(namespace = &quot;http://p1/&quot;, name = &quot;sum&quot;)\r\n        public JAXBElement&lt;Sum&gt; createSum(Sum value) {\r\n            return new JAXBElement&lt;Sum&gt;(_Sum_QNAME, Sum.class, null, value);\r\n        }\r\n    \r\n        /**\r\n         * Create an instance of {@link JAXBElement }{@code &lt;}{@link SumResponse }{@code &gt;}}\r\n         * \r\n         */\r\n        @XmlElementDecl(namespace = &quot;http://p1/&quot;, name = &quot;sumResponse&quot;)\r\n        public JAXBElement&lt;SumResponse&gt; createSumResponse(SumResponse value) {\r\n            return new JAXBElement&lt;SumResponse&gt;(_SumResponse_QNAME, SumResponse.class, null, value);\r\n        }\r\n    \r\n    }\r\npackage-info.java:\r\n\r\n    @javax.xml.bind.annotation.XmlSchema(namespace = &quot;http://p1/&quot;)\r\n    package mypack;\r\n\r\nSum.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for sum complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;sum&quot;&gt;\r\n     *   &amp;lt;complexContent&gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n     *       &amp;lt;sequence&gt;\r\n     *         &amp;lt;element name=&quot;arg0&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}int&quot;/&gt;\r\n     *         &amp;lt;element name=&quot;arg1&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}int&quot;/&gt;\r\n     *       &amp;lt;/sequence&gt;\r\n     *     &amp;lt;/restriction&gt;\r\n     *   &amp;lt;/complexContent&gt;\r\n     * &amp;lt;/complexType&gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;sum&quot;, propOrder = {\r\n        &quot;arg0&quot;,\r\n        &quot;arg1&quot;\r\n    })\r\n    public class Sum {\r\n    \r\n        protected int arg0;\r\n        protected int arg1;\r\n    \r\n        /**\r\n         * Gets the value of the arg0 property.\r\n         * \r\n         */\r\n        public int getArg0() {\r\n            return arg0;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the arg0 property.\r\n         * \r\n         */\r\n        public void setArg0(int value) {\r\n            this.arg0 = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the arg1 property.\r\n         * \r\n         */\r\n        public int getArg1() {\r\n            return arg1;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the arg1 property.\r\n         * \r\n         */\r\n        public void setArg1(int value) {\r\n            this.arg1 = value;\r\n        }\r\n    \r\n    }\r\n\r\nSumResponse.java:\r\n\r\n    package mypack;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for sumResponse complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;sumResponse&quot;&gt;\r\n     *   &amp;lt;complexContent&gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n     *       &amp;lt;sequence&gt;\r\n     *         &amp;lt;element name=&quot;return&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&gt;\r\n     *       &amp;lt;/sequence&gt;\r\n     *     &amp;lt;/restriction&gt;\r\n     *   &amp;lt;/complexContent&gt;\r\n     * &amp;lt;/complexType&gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;sumResponse&quot;, propOrder = {\r\n        &quot;_return&quot;\r\n    })\r\n    public class SumResponse {\r\n    \r\n        @XmlElement(name = &quot;return&quot;)\r\n        protected String _return;\r\n    \r\n        /**\r\n         * Gets the value of the return property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getReturn() {\r\n            return _return;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the return property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setReturn(String value) {\r\n            this._return = value;\r\n        }\r\n    \r\n    }\r\nAnd my web.xml file is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n      &lt;display-name&gt;CalculatorEx&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n          &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n          &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\nI am executing my application using:\r\n`http://localhost:8080/CalculatorEx/rest/CalculatorService`\r\n\r\ni am getting the error like this:\r\n\r\n    exception:\r\n    javax.servlet.ServletException: Servlet.init() for servlet Jersey REST Service threw exception\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tjava.lang.Thread.run(Thread.java:679)\r\n    \r\n    root cause:\r\n    com.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.\r\n    \tcom.sun.jersey.server.impl.application.RootResourceUriRules.&lt;init&gt;(RootResourceUriRules.java:99)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1298)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:169)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:775)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:771)\r\n    \tcom.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:771)\r\n    \tcom.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:766)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:488)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:318)\r\n    \tcom.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\r\n    \tcom.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\r\n    \tcom.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:556)\r\n    \tjavax.servlet.GenericServlet.init(GenericServlet.java:160)\r\n    \torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \torg.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\r\n    \torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\r\n    \torg.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\r\n    \torg.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\r\n    \torg.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\r\n    \tjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tjava.lang.Thread.run(Thread.java:679)\r\n\r\n","title":"WebServices Calculator Example using Java","body":"<p>I have created an sample application of calculator for sum of two numbers using webservices in Java by using Jersey service.</p>\n\n<p>My code is : \nCalculator.java</p>\n\n<pre><code>package p1;\nimport javax.jws.WebService;\nimport javax.jws.WebMethod;\nimport javax.ws.rs.Path;\n\n@WebService\n@Path(\"/CalculatorService\")\npublic class Calculator\n{\n    @WebMethod\n    public String sum(int x,int y)\n    {\n        return \"\"+(x+y);\n    }\n}\n</code></pre>\n\n<p>Calculator.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.jws.WebMethod;\nimport javax.jws.WebParam;\nimport javax.jws.WebResult;\nimport javax.jws.WebService;\nimport javax.xml.ws.RequestWrapper;\nimport javax.xml.ws.ResponseWrapper;\n\n\n/**\n * This class was generated by the JAXWS SI.\n * JAX-WS RI 2.0_02-b08-fcs\n * Generated source version: 2.0\n * \n */\n@WebService(name = \"Calculator\", targetNamespace = \"http://p1/\")\npublic interface Calculator {\n\n\n    /**\n     * \n     * @param arg1\n     * @param arg0\n     * @return\n     *     returns java.lang.String\n     */\n    @WebMethod\n    @WebResult(targetNamespace = \"\")\n    @RequestWrapper(localName = \"sum\", targetNamespace = \"http://p1/\", className = \"mypack.Sum\")\n    @ResponseWrapper(localName = \"sumResponse\", targetNamespace = \"http://p1/\", className = \"mypack.SumResponse\")\n    public String sum(\n        @WebParam(name = \"arg0\", targetNamespace = \"\")\n        int arg0,\n        @WebParam(name = \"arg1\", targetNamespace = \"\")\n        int arg1);\n\n}\n</code></pre>\n\n<p>CalculatorService.java:</p>\n\n<pre><code>package mypack;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.Service;\nimport javax.xml.ws.WebEndpoint;\nimport javax.xml.ws.WebServiceClient;\n\n\n/**\n * This class was generated by the JAXWS SI.\n * JAX-WS RI 2.0_02-b08-fcs\n * Generated source version: 2.0\n * \n */\n@WebServiceClient(name = \"CalculatorService\", targetNamespace = \"http://p1/\", wsdlLocation = \"http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL\")\npublic class CalculatorService\n    extends Service\n{\n\n    private final static URL CALCULATORSERVICE_WSDL_LOCATION;\n\n    static {\n        URL url = null;\n        try {\n            url = new URL(\"http://localhost:8081/MyCalculatorWs/CalculatorService?WSDL\");\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        }\n        CALCULATORSERVICE_WSDL_LOCATION = url;\n    }\n\n    public CalculatorService(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    public CalculatorService() {\n        super(CALCULATORSERVICE_WSDL_LOCATION, new QName(\"http://p1/\", \"CalculatorService\"));\n    }\n\n    /**\n     * \n     * @return\n     *     returns Calculator\n     */\n    @WebEndpoint(name = \"CalculatorPort\")\n    public Calculator getCalculatorPort() {\n        return (Calculator)super.getPort(new QName(\"http://p1/\", \"CalculatorPort\"), Calculator.class);\n    }\n\n}\n</code></pre>\n\n<p>ObjectFactory.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.JAXBElement;\nimport javax.xml.bind.annotation.XmlElementDecl;\nimport javax.xml.bind.annotation.XmlRegistry;\nimport javax.xml.namespace.QName;\n\n\n/**\n * This object contains factory methods for each \n * Java content interface and Java element interface \n * generated in the mypack package. \n * &lt;p&gt;An ObjectFactory allows you to programatically \n * construct new instances of the Java representation \n * for XML content. The Java representation of XML \n * content can consist of schema derived interfaces \n * and classes representing the binding of schema \n * type definitions, element declarations and model \n * groups.  Factory methods for each of these are \n * provided in this class.\n * \n */\n@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName _Sum_QNAME = new QName(\"http://p1/\", \"sum\");\n    private final static QName _SumResponse_QNAME = new QName(\"http://p1/\", \"sumResponse\");\n\n    /**\n     * Create a new ObjectFactory that can be used to create new instances of schema derived classes for package: mypack\n     * \n     */\n    public ObjectFactory() {\n    }\n\n    /**\n     * Create an instance of {@link Sum }\n     * \n     */\n    public Sum createSum() {\n        return new Sum();\n    }\n\n    /**\n     * Create an instance of {@link SumResponse }\n     * \n     */\n    public SumResponse createSumResponse() {\n        return new SumResponse();\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link Sum }{@code &gt;}}\n     * \n     */\n    @XmlElementDecl(namespace = \"http://p1/\", name = \"sum\")\n    public JAXBElement&lt;Sum&gt; createSum(Sum value) {\n        return new JAXBElement&lt;Sum&gt;(_Sum_QNAME, Sum.class, null, value);\n    }\n\n    /**\n     * Create an instance of {@link JAXBElement }{@code &lt;}{@link SumResponse }{@code &gt;}}\n     * \n     */\n    @XmlElementDecl(namespace = \"http://p1/\", name = \"sumResponse\")\n    public JAXBElement&lt;SumResponse&gt; createSumResponse(SumResponse value) {\n        return new JAXBElement&lt;SumResponse&gt;(_SumResponse_QNAME, SumResponse.class, null, value);\n    }\n\n}\n</code></pre>\n\n<p>package-info.java:</p>\n\n<pre><code>@javax.xml.bind.annotation.XmlSchema(namespace = \"http://p1/\")\npackage mypack;\n</code></pre>\n\n<p>Sum.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for sum complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"sum\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"arg0\" type=\"{http://www.w3.org/2001/XMLSchema}int\"/&gt;\n *         &amp;lt;element name=\"arg1\" type=\"{http://www.w3.org/2001/XMLSchema}int\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"sum\", propOrder = {\n    \"arg0\",\n    \"arg1\"\n})\npublic class Sum {\n\n    protected int arg0;\n    protected int arg1;\n\n    /**\n     * Gets the value of the arg0 property.\n     * \n     */\n    public int getArg0() {\n        return arg0;\n    }\n\n    /**\n     * Sets the value of the arg0 property.\n     * \n     */\n    public void setArg0(int value) {\n        this.arg0 = value;\n    }\n\n    /**\n     * Gets the value of the arg1 property.\n     * \n     */\n    public int getArg1() {\n        return arg1;\n    }\n\n    /**\n     * Sets the value of the arg1 property.\n     * \n     */\n    public void setArg1(int value) {\n        this.arg1 = value;\n    }\n\n}\n</code></pre>\n\n<p>SumResponse.java:</p>\n\n<pre><code>package mypack;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for sumResponse complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"sumResponse\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"return\" type=\"{http://www.w3.org/2001/XMLSchema}string\" minOccurs=\"0\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"sumResponse\", propOrder = {\n    \"_return\"\n})\npublic class SumResponse {\n\n    @XmlElement(name = \"return\")\n    protected String _return;\n\n    /**\n     * Gets the value of the return property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getReturn() {\n        return _return;\n    }\n\n    /**\n     * Sets the value of the return property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setReturn(String value) {\n        this._return = value;\n    }\n\n}\n</code></pre>\n\n<p>And my web.xml file is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"&gt;\n  &lt;display-name&gt;CalculatorEx&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n      &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n      &lt;param-value&gt;com.restful.demo.resources&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I am executing my application using:\n<code>http://localhost:8080/CalculatorEx/rest/CalculatorService</code></p>\n\n<p>i am getting the error like this:</p>\n\n<pre><code>exception:\njavax.servlet.ServletException: Servlet.init() for servlet Jersey REST Service threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    java.lang.Thread.run(Thread.java:679)\n\nroot cause:\ncom.sun.jersey.api.container.ContainerException: The ResourceConfig instance does not contain any root resource classes.\n    com.sun.jersey.server.impl.application.RootResourceUriRules.&lt;init&gt;(RootResourceUriRules.java:99)\n    com.sun.jersey.server.impl.application.WebApplicationImpl._initiate(WebApplicationImpl.java:1298)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.access$700(WebApplicationImpl.java:169)\n    com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:775)\n    com.sun.jersey.server.impl.application.WebApplicationImpl$13.f(WebApplicationImpl.java:771)\n    com.sun.jersey.spi.inject.Errors.processWithErrors(Errors.java:193)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:771)\n    com.sun.jersey.server.impl.application.WebApplicationImpl.initiate(WebApplicationImpl.java:766)\n    com.sun.jersey.spi.container.servlet.ServletContainer.initiate(ServletContainer.java:488)\n    com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.initiate(ServletContainer.java:318)\n    com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:609)\n    com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:210)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:373)\n    com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:556)\n    javax.servlet.GenericServlet.init(GenericServlet.java:160)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)\n    org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987)\n    org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579)\n    org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    java.lang.Thread.run(Thread.java:679)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":114737,"reputation":1746,"user_id":3719412,"display_name":"cool"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1521667923,"creation_date":1521661464,"answer_id":49415278,"question_id":49415197,"body_markdown":"There was an issue in feign client before. I guess you are experiencing the same maybe because you are using an old version but what you should do is including the pathVariable name in your @PathVariable annotation like this `    \r\n    @RequestMapping(value = &quot;/hello/{name}&quot;, method = RequestMethod.GET)\r\n    String hello(@PathVariable(value = &quot;name&quot;) String name);`\r\n\r\nYou can find the details from [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/issues/861","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>There was an issue in feign client before. I guess you are experiencing the same maybe because you are using an old version but what you should do is including the pathVariable name in your @PathVariable annotation like this <code>\n    @RequestMapping(value = \"/hello/{name}\", method = RequestMethod.GET)\n    String hello(@PathVariable(value = \"name\") String name);</code></p>\n\n<p>You can find the details from <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/861\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1802358,"reputation":1658,"user_id":1640358,"accept_rate":33,"display_name":"Susitha Ravinda Senarath"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1562651868,"creation_date":1562651868,"answer_id":56946135,"question_id":49415197,"body_markdown":"```\r\n@GetMapping(value = &quot;/foo/{fooId}&quot;)\r\n    @ResponseBody\r\n    String getFoo(@PathVariable(value=&quot;fooId&quot;) int fooId);\r\n```\r\nwill do","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<pre><code>@GetMapping(value = \"/foo/{fooId}\")\n    @ResponseBody\n    String getFoo(@PathVariable(value=\"fooId\") int fooId);\n</code></pre>\n\n<p>will do</p>\n"},{"tags":[],"owner":{"account_id":5746045,"reputation":1135,"user_id":4537268,"display_name":"Ganesh Giri"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1586099257,"creation_date":1586099257,"answer_id":61044689,"question_id":49415197,"body_markdown":"When you using rest feign client service we need to define exact @Pathvariable name.\r\n\r\n \r\n\r\n    @GetMapping(&quot;/hello-world/from/{from}/to/{to}&quot;)\r\n     public String getHelloWorld(@PathVariable(&quot;from&quot;) String from, @PathVariable (&quot;to&quot;) String to);","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>When you using rest feign client service we need to define exact @Pathvariable name.</p>\n\n<pre><code>@GetMapping(\"/hello-world/from/{from}/to/{to}\")\n public String getHelloWorld(@PathVariable(\"from\") String from, @PathVariable (\"to\") String to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10410348,"reputation":11,"user_id":7675953,"display_name":"Dinesh D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610764106,"creation_date":1610727008,"answer_id":65739528,"question_id":49415197,"body_markdown":"I had the same issue with @pathvariable, its resolved when I added the value property of `@PathVariable` like below,\r\n\r\n```\r\n@PathVariable(value = &quot;from&quot;) String from,\r\n\t\t\t@PathVariable(value = &quot;to&quot;) String to);\r\n```","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>I had the same issue with @pathvariable, its resolved when I added the value property of <code>@PathVariable</code> like below,</p>\n<pre><code>@PathVariable(value = &quot;from&quot;) String from,\n            @PathVariable(value = &quot;to&quot;) String to);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15433035,"reputation":13,"user_id":11741602,"display_name":"Edisson Andres Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700669522,"creation_date":1700669495,"answer_id":77531520,"question_id":49415197,"body_markdown":"In Spring Boot, when using @PathVariable, it&#39;s not necessary to explicitly specify the parameter name if you are using the default parameter name, which is derived from the method parameter name.\r\n\r\nFor example, instead of:\r\n\r\n    @GetMapping(&quot;/example/{customerId}&quot;)\r\n    public ResponseEntity&lt;?&gt; exampleMethod(@PathVariable(value=&quot;customerId&quot;) BigInteger customerId)\r\n\r\nYou can simply use:\r\n\r\n    @GetMapping(&quot;/example/{customerId}&quot;)\r\n    public ResponseEntity&lt;?&gt; exampleMethod(@PathVariable BigInteger customerId)\r\n\r\n\r\nThis works well in most cases, and Spring Boot is able to match the path variable correctly.\r\n\r\nHowever, if you are facing issues with the Maven Compiler Plugin, particularly version 3.5.1, I recommend updating the plugin to a newer version. In my case, upgrading from version 3.5.1 to 3.8.1 resolved the issue.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt; \r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nIt&#39;s worth mentioning that this solution is tested with Spring Boot version 2.7.7 and Spring Cloud version 2021.0.8. Ensure compatibility with your specific versions.\r\n","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>In Spring Boot, when using @PathVariable, it's not necessary to explicitly specify the parameter name if you are using the default parameter name, which is derived from the method parameter name.</p>\n<p>For example, instead of:</p>\n<pre><code>@GetMapping(&quot;/example/{customerId}&quot;)\npublic ResponseEntity&lt;?&gt; exampleMethod(@PathVariable(value=&quot;customerId&quot;) BigInteger customerId)\n</code></pre>\n<p>You can simply use:</p>\n<pre><code>@GetMapping(&quot;/example/{customerId}&quot;)\npublic ResponseEntity&lt;?&gt; exampleMethod(@PathVariable BigInteger customerId)\n</code></pre>\n<p>This works well in most cases, and Spring Boot is able to match the path variable correctly.</p>\n<p>However, if you are facing issues with the Maven Compiler Plugin, particularly version 3.5.1, I recommend updating the plugin to a newer version. In my case, upgrading from version 3.5.1 to 3.8.1 resolved the issue.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt; \n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>It's worth mentioning that this solution is tested with Spring Boot version 2.7.7 and Spring Cloud version 2021.0.8. Ensure compatibility with your specific versions.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701702268,"creation_date":1701702268,"answer_id":77600478,"question_id":49415197,"body_markdown":"[Even though there seems to be a problem in the spring-cloud-oepnfiegn][1], most of the time the reason is not the framework, based on my experience. \r\n\r\nThe problem often comes out from something like this: you use some library, that contains the OpenFeign clients to the services. In this case, the issue is often in the compilation of this client library. [See the related thread in spring-cloud-oepnfiegn bugtracker][2]. \r\n\r\nThe issue is that `javac`, by default, does not retain parameter&#39;s names of the methods and constructors in the bytecode. Therefore, if the authors of the client lib relied on the spring to resolve `@PathVariable` by simple parameter name - that just does not work - all information has been erased already. \r\n\r\nSo to solve this problem, you need to either:\r\n- Add an explicit `@PathVariable(&quot;someVar&quot;)` mapping to the path variable in the client lib, then recompile\r\n- Or you need to recompile the client with `-parameters` flag. [This flag will include metadata about parameter&#39;s names into the bytecode][3] and spring will resolve the mapping without any additional hints. \r\n\r\nUnfortunately, I do not know the ways to fix it unless you do not have access to the library source code. Hope it helped.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/863\r\n  [2]: https://github.com/spring-cloud/spring-cloud-openfeign/issues/178\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCJABJA","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p><a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/863\" rel=\"nofollow noreferrer\">Even though there seems to be a problem in the spring-cloud-oepnfiegn</a>, most of the time the reason is not the framework, based on my experience.</p>\n<p>The problem often comes out from something like this: you use some library, that contains the OpenFeign clients to the services. In this case, the issue is often in the compilation of this client library. <a href=\"https://github.com/spring-cloud/spring-cloud-openfeign/issues/178\" rel=\"nofollow noreferrer\">See the related thread in spring-cloud-oepnfiegn bugtracker</a>.</p>\n<p>The issue is that <code>javac</code>, by default, does not retain parameter's names of the methods and constructors in the bytecode. Therefore, if the authors of the client lib relied on the spring to resolve <code>@PathVariable</code> by simple parameter name - that just does not work - all information has been erased already.</p>\n<p>So to solve this problem, you need to either:</p>\n<ul>\n<li>Add an explicit <code>@PathVariable(&quot;someVar&quot;)</code> mapping to the path variable in the client lib, then recompile</li>\n<li>Or you need to recompile the client with <code>-parameters</code> flag. <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html#BHCJABJA\" rel=\"nofollow noreferrer\">This flag will include metadata about parameter's names into the bytecode</a> and spring will resolve the mapping without any additional hints.</li>\n</ul>\n<p>Unfortunately, I do not know the ways to fix it unless you do not have access to the library source code. Hope it helped.</p>\n"}],"owner":{"account_id":343341,"reputation":1286,"user_id":674989,"accept_rate":85,"display_name":"Rig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32388,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":61044689,"answer_count":6,"score":11,"last_activity_date":1701702268,"creation_date":1521661124,"question_id":49415197,"body_markdown":"I have a pretty simple situation and I&#39;ve tried a few things now and I can&#39;t find the cause of this issue. It claims it can not Autowire the Feign client class though this is how I have done this in Spring Boot 1.5.9. At least I&#39;m pretty sure. Things work fine in all my unit tests though I&#39;m mocking this client. Formerly it was a part of an imported library however to eliminate possibilities of me not properly locating the bean I just added it to the same project.     \r\n\r\nI&#39;m not the most experienced with Spring or Feign so I&#39;m wondering if it&#39;s obvious what I&#39;m missing here.     \r\n\r\nSimple feign client:\r\n\r\n    @FeignClient(name = &quot;my-other-service&quot;)\r\n    public interface OtherServiceClient {\r\n    \r\n        @GetMapping(value = &quot;/foo/{fooId}&quot;)\r\n        @ResponseBody\r\n        String getFoo(@PathVariable int fooId);\r\n    }\r\n\r\nMain application class:\r\n\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    @EnableFeignClients\r\n    // Had a component scan here when in other module\r\n    public class MyServiceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MyServiceApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nThe service that depends on the feign client:\r\n\r\n    @Service\r\n    public class FooService {\r\n        private final FooRepository fooRepository;\r\n        private final BarRepository barRepository;\r\n        private OtherServiceClient otherServiceClient;\r\n    \r\n        @Autowired\r\n        public OrderService(\r\n                FooRepository fooRepository,\r\n                BarRepository barRepository,\r\n                OtherServiceClient otherServiceClient) {\r\n            this.fooRepository= fooRepository;\r\n            this.barRepository = barRepository;\r\n            this.otherServiceClient = otherServiceClient;\r\n        }\r\n\r\n\r\nSince it might be an auto config thing here is the configuration report: \r\n\r\n    ============================\r\n    CONDITIONS EVALUATION REPORT\r\n    ============================\r\n    \r\n    \r\n    Positive matches:\r\n    -----------------\r\n    \r\n       ConfigServiceBootstrapConfiguration#configServicePropertySource matched:\r\n          - @ConditionalOnProperty (spring.cloud.config.enabled) matched (OnPropertyCondition)\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.config.client.ConfigServicePropertySourceLocator; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration matched:\r\n          - @ConditionalOnBean (types: org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor; SearchStrategy: all) found bean &#39;org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor&#39; (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesBeans matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesBeans; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n       ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesRebinder matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesRebinder; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n       EncryptionBootstrapConfiguration matched:\r\n          - @ConditionalOnClass found required class &#39;org.springframework.security.crypto.encrypt.TextEncryptor&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n    \r\n       PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\r\n          - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\r\n    \r\n    \r\n    Negative matches:\r\n    -----------------\r\n    \r\n       ConfigServiceBootstrapConfiguration.RetryConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnClass did not find required class &#39;org.springframework.retry.annotation.Retryable&#39; (OnClassCondition)\r\n    \r\n       DiscoveryClientConfigServiceBootstrapConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property &#39;spring.cloud.config.discovery.enabled&#39; (OnPropertyCondition)\r\n    \r\n       EncryptionBootstrapConfiguration.RsaEncryptionConfiguration:\r\n          Did not match:\r\n             - Keystore nor key found in Environment (EncryptionBootstrapConfiguration.KeyCondition)\r\n          Matched:\r\n             - @ConditionalOnClass found required class &#39;org.springframework.security.rsa.crypto.RsaSecretEncryptor&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n    \r\n       EncryptionBootstrapConfiguration.VanillaEncryptionConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnMissingClass found unwanted class &#39;org.springframework.security.rsa.crypto.RsaSecretEncryptor&#39; (OnClassCondition)\r\n    \r\n       EurekaDiscoveryClientConfigServiceBootstrapConfiguration:\r\n          Did not match:\r\n             - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property &#39;spring.cloud.config.discovery.enabled&#39; (OnPropertyCondition)\r\n          Matched:\r\n             - @ConditionalOnClass found required class &#39;org.springframework.cloud.config.client.ConfigServicePropertySourceLocator&#39;; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\r\n\r\n\r\nRelevant parts of the pom...I&#39;m using Maven.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;Finchley.BUILD-SNAPSHOT&lt;/spring-cloud.version&gt;\r\n    \r\n        &lt;spring-restdocs.version&gt;2.0.0.RELEASE&lt;/spring-restdocs.version&gt;\r\n        &lt;snippetsDirectory&gt;${project.build.directory}/generated-snippets&lt;/snippetsDirectory&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n            &lt;version&gt;10.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nStack trace pruned from some of the less pertinent data...\r\n\r\n    2018-03-21 15:07:20.481  INFO 26756 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\r\n    2018-03-21 15:07:20.483  INFO 26756 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2018-03-21 15:07:20.539  INFO 26756 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n        2018-03-21 15:07:20.930  INFO 26756 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\r\n        2018-03-21 15:07:21.445  INFO 26756 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    \r\n        java.lang.reflect.InvocationTargetException: null\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at ...\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n            at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n            at com.myservice.EqOrderServiceApplication.main(EqOrderServiceApplication.java:14) ~[classes/:na]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n        Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\r\n            ... 49 common frames omitted\r\n    \r\n        2018-03-21 15:07:22.361  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2018-03-21 15:07:23.295  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Refreshing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\r\n        2018-03-21 15:07:23.316  INFO 26756 --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 &#39;javax.inject.Inject&#39; annotation found and supported for autowiring\r\n        2018-03-21 15:07:24.048  WARN 26756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39; defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n        2018-03-21 15:07:24.049  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Closing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\r\n        2018-03-21 15:07:24.051  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n        2018-03-21 15:07:24.053  WARN 26756 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method &#39;close&#39; failed on bean with name &#39;eurekaRegistration&#39;: org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name &#39;org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration&#39;: Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\r\n        2018-03-21 15:07:24.055  INFO 26756 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n        2018-03-21 15:07:24.077  INFO 26756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n    \r\n        Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n        2018-03-21 15:07:24.091 ERROR 26756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n        org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mainController&#39; defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at com.myservice.MyServiceApplication.main(MyServiceApplication.java:14) [classes/:na]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\r\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;orderService&#39; defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            .\r\n            .\r\n            .\r\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 24 common frames omitted\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;com.myservice.OtherServiceClient &#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1645) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1178) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:258) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1325) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1291) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 38 common frames omitted\r\n        Caused by: java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\r\n            at feign.Util.checkState(Util.java:128) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:51) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:238) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:110) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:133) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at feign.Contract$BaseContract.parseAndValidatateMetadata(Contract.java:66) ~[feign-core-9.5.1.jar:na]\r\n            at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:146) ~[feign-core-9.5.1.jar:na]\r\n            at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:53) ~[feign-core-9.5.1.jar:na]\r\n            at feign.Feign$Builder.target(Feign.java:218) ~[feign-core-9.5.1.jar:na]\r\n            at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:39) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.FeignClientFactoryBean.loadBalance(FeignClientFactoryBean.java:223) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:244) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\r\n            at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:161) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\r\n            ... 50 common frames omitted\r\n    \r\n        Disconnected from the target VM, address: &#39;127.0.0.1:50881&#39;, transport: &#39;socket&#39;\r\n    \r\n        Process finished with exit code 0    \r\n\r\n\r\nI&#39;m pretty stumped at this point.     \r\n\r\n\r\nEDIT: \r\n\r\nUpdate, so, in order to investigate more as I was confident the service started prior to beginning the Feign work I commented out all references to the feign client and the feign client itself except the the configuration annotations on the application class. I still see the reference to the database driver on start up but the application does indeed run. This is the exception I see on start up but without Feign interactions the application starts.\r\n\r\n    2018-03-21 17:04:56.222  INFO 27424 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n    \r\n    java.lang.reflect.InvocationTargetException: null\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\r\n\r\n    Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\r\n    \t... 49 common frames omitted    \r\n\r\n\r\nThe database driver is on the older side so I might see about updating it to the ojdbc8 driver maybe while I&#39;m at it...    ","title":"Spring Boot 2 - Unsatisfied dependency on Feign client when autowired for service","body":"<p>I have a pretty simple situation and I've tried a few things now and I can't find the cause of this issue. It claims it can not Autowire the Feign client class though this is how I have done this in Spring Boot 1.5.9. At least I'm pretty sure. Things work fine in all my unit tests though I'm mocking this client. Formerly it was a part of an imported library however to eliminate possibilities of me not properly locating the bean I just added it to the same project.</p>\n<p>I'm not the most experienced with Spring or Feign so I'm wondering if it's obvious what I'm missing here.</p>\n<p>Simple feign client:</p>\n<pre><code>@FeignClient(name = &quot;my-other-service&quot;)\npublic interface OtherServiceClient {\n\n    @GetMapping(value = &quot;/foo/{fooId}&quot;)\n    @ResponseBody\n    String getFoo(@PathVariable int fooId);\n}\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\n@EnableFeignClients\n// Had a component scan here when in other module\npublic class MyServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>The service that depends on the feign client:</p>\n<pre><code>@Service\npublic class FooService {\n    private final FooRepository fooRepository;\n    private final BarRepository barRepository;\n    private OtherServiceClient otherServiceClient;\n\n    @Autowired\n    public OrderService(\n            FooRepository fooRepository,\n            BarRepository barRepository,\n            OtherServiceClient otherServiceClient) {\n        this.fooRepository= fooRepository;\n        this.barRepository = barRepository;\n        this.otherServiceClient = otherServiceClient;\n    }\n</code></pre>\n<p>Since it might be an auto config thing here is the configuration report:</p>\n<pre><code>============================\nCONDITIONS EVALUATION REPORT\n============================\n\n\nPositive matches:\n-----------------\n\n   ConfigServiceBootstrapConfiguration#configServicePropertySource matched:\n      - @ConditionalOnProperty (spring.cloud.config.enabled) matched (OnPropertyCondition)\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.config.client.ConfigServicePropertySourceLocator; SearchStrategy: all) did not find any beans (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration matched:\n      - @ConditionalOnBean (types: org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor; SearchStrategy: all) found bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor' (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesBeans matched:\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesBeans; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n   ConfigurationPropertiesRebinderAutoConfiguration#configurationPropertiesRebinder matched:\n      - @ConditionalOnMissingBean (types: org.springframework.cloud.context.properties.ConfigurationPropertiesRebinder; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n   EncryptionBootstrapConfiguration matched:\n      - @ConditionalOnClass found required class 'org.springframework.security.crypto.encrypt.TextEncryptor'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n\n   PropertyPlaceholderAutoConfiguration#propertySourcesPlaceholderConfigurer matched:\n      - @ConditionalOnMissingBean (types: org.springframework.context.support.PropertySourcesPlaceholderConfigurer; SearchStrategy: current) did not find any beans (OnBeanCondition)\n\n\nNegative matches:\n-----------------\n\n   ConfigServiceBootstrapConfiguration.RetryConfiguration:\n      Did not match:\n         - @ConditionalOnClass did not find required class 'org.springframework.retry.annotation.Retryable' (OnClassCondition)\n\n   DiscoveryClientConfigServiceBootstrapConfiguration:\n      Did not match:\n         - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property 'spring.cloud.config.discovery.enabled' (OnPropertyCondition)\n\n   EncryptionBootstrapConfiguration.RsaEncryptionConfiguration:\n      Did not match:\n         - Keystore nor key found in Environment (EncryptionBootstrapConfiguration.KeyCondition)\n      Matched:\n         - @ConditionalOnClass found required class 'org.springframework.security.rsa.crypto.RsaSecretEncryptor'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n\n   EncryptionBootstrapConfiguration.VanillaEncryptionConfiguration:\n      Did not match:\n         - @ConditionalOnMissingClass found unwanted class 'org.springframework.security.rsa.crypto.RsaSecretEncryptor' (OnClassCondition)\n\n   EurekaDiscoveryClientConfigServiceBootstrapConfiguration:\n      Did not match:\n         - @ConditionalOnProperty (spring.cloud.config.discovery.enabled) did not find property 'spring.cloud.config.discovery.enabled' (OnPropertyCondition)\n      Matched:\n         - @ConditionalOnClass found required class 'org.springframework.cloud.config.client.ConfigServicePropertySourceLocator'; @ConditionalOnMissingClass did not find unwanted class (OnClassCondition)\n</code></pre>\n<p>Relevant parts of the pom...I'm using Maven.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;Finchley.BUILD-SNAPSHOT&lt;/spring-cloud.version&gt;\n\n    &lt;spring-restdocs.version&gt;2.0.0.RELEASE&lt;/spring-restdocs.version&gt;\n    &lt;snippetsDirectory&gt;${project.build.directory}/generated-snippets&lt;/snippetsDirectory&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n        &lt;version&gt;10.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n        &lt;version&gt;2.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Stack trace pruned from some of the less pertinent data...</p>\n<pre><code>2018-03-21 15:07:20.481  INFO 26756 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.14.Final}\n2018-03-21 15:07:20.483  INFO 26756 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2018-03-21 15:07:20.539  INFO 26756 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n    2018-03-21 15:07:20.930  INFO 26756 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\n    2018-03-21 15:07:21.445  INFO 26756 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n\n    java.lang.reflect.InvocationTargetException: null\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.useContextualLobCreation(LobCreatorBuilderImpl.java:113) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder(LobCreatorBuilderImpl.java:54) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:271) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at ...\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:861) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:888) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57) [spring-orm-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:388) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1246) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1234) ~[spring-boot-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n        at com.myservice.EqOrderServiceApplication.main(EqOrderServiceApplication.java:14) ~[classes/:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    Caused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\n        ... 49 common frames omitted\n\n    2018-03-21 15:07:22.361  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n    2018-03-21 15:07:23.295  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Refreshing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\n    2018-03-21 15:07:23.316  INFO 26756 --- [  restartedMain] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring\n    2018-03-21 15:07:24.048  WARN 26756 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController' defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n    2018-03-21 15:07:24.049  INFO 26756 --- [  restartedMain] s.c.a.AnnotationConfigApplicationContext : Closing FeignContext-dbe-order-detail: startup date [Wed Mar 21 15:07:23 EDT 2018]; parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@1290d90c\n    2018-03-21 15:07:24.051  INFO 26756 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n    2018-03-21 15:07:24.053  WARN 26756 --- [  restartedMain] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method 'close' failed on bean with name 'eurekaRegistration': org.springframework.beans.factory.BeanCreationNotAllowedException: Error creating bean with name 'org.springframework.cloud.netflix.eureka.EurekaClientAutoConfiguration$RefreshableEurekaClientConfiguration': Singleton bean creation not allowed while singletons of this factory are in destruction (Do not request a bean from a BeanFactory in a destroy method implementation!)\n    2018-03-21 15:07:24.055  INFO 26756 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n    2018-03-21 15:07:24.077  INFO 26756 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\n    Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n    2018-03-21 15:07:24.091 ERROR 26756 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mainController' defined in file [&lt;my path&gt;\\controller\\MainController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at com.myservice.MyServiceApplication.main(MyServiceApplication.java:14) [classes/:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_162]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_162]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_162]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-2.0.0.RELEASE.jar:2.0.0.RELEASE]\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderService' defined in file [&lt;my path&gt;\\service\\OrderService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:729) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1270) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1127) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        .\n        .\n        .\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 24 common frames omitted\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.myservice.OtherServiceClient ': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1645) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getObjectForBeanInstance(AbstractAutowireCapableBeanFactory.java:1178) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:258) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:251) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1325) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1291) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1065) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:815) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:721) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 38 common frames omitted\n    Caused by: java.lang.IllegalStateException: PathVariable annotation was empty on param 0.\n        at feign.Util.checkState(Util.java:128) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.annotation.PathVariableParameterProcessor.processArgument(PathVariableParameterProcessor.java:51) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.support.SpringMvcContract.processAnnotationsOnParameter(SpringMvcContract.java:238) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:110) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:133) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at feign.Contract$BaseContract.parseAndValidatateMetadata(Contract.java:66) ~[feign-core-9.5.1.jar:na]\n        at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:146) ~[feign-core-9.5.1.jar:na]\n        at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:53) ~[feign-core-9.5.1.jar:na]\n        at feign.Feign$Builder.target(Feign.java:218) ~[feign-core-9.5.1.jar:na]\n        at org.springframework.cloud.openfeign.HystrixTargeter.target(HystrixTargeter.java:39) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.FeignClientFactoryBean.loadBalance(FeignClientFactoryBean.java:223) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.cloud.openfeign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:244) ~[spring-cloud-openfeign-core-2.0.0.BUILD-20180321.114528-231.jar:2.0.0.BUILD-SNAPSHOT]\n        at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:161) ~[spring-beans-5.0.4.RELEASE.jar:5.0.4.RELEASE]\n        ... 50 common frames omitted\n\n    Disconnected from the target VM, address: '127.0.0.1:50881', transport: 'socket'\n\n    Process finished with exit code 0    \n</code></pre>\n<p>I'm pretty stumped at this point.</p>\n<p>EDIT:</p>\n<p>Update, so, in order to investigate more as I was confident the service started prior to beginning the Feign work I commented out all references to the feign client and the feign client itself except the the configuration annotations on the application class. I still see the reference to the database driver on start up but the application does indeed run. This is the exception I see on start up but without Feign interactions the application starts.</p>\n<pre><code>2018-03-21 17:04:56.222  INFO 27424 --- [  restartedMain] o.h.e.j.e.i.LobCreatorBuilderImpl        : HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n\njava.lang.reflect.InvocationTargetException: null\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_162]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\norg.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94) [hibernate-core-5.2.14.Final.jar:5.2.14.Final]\n\nCaused by: java.lang.AbstractMethodError: oracle.jdbc.driver.T4CConnection.createClob()Ljava/sql/Clob;\n    ... 49 common frames omitted    \n</code></pre>\n<p>The database driver is on the older side so I might see about updating it to the ojdbc8 driver maybe while I'm at it...</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537210,"post_id":45649670,"comment_id":78257914,"body_markdown":"what are you using firebase for notifications or storage and please post your logcat error code","body":"what are you using firebase for notifications or storage and please post your logcat error code"},{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537417,"post_id":45649670,"comment_id":78257973,"body_markdown":"If you are using Firebase for notifications then to initialize fire base you have to do something like this    FirebaseMessaging.getInstance().subscribeToTopic(Config.TOPIC_GLOBAL);      But do not forget to use services and files related to Firebase services","body":"If you are using Firebase for notifications then to initialize fire base you have to do something like this    FirebaseMessaging.getInstance().subscribeToTopic(Config.TOPI&zwnj;&#8203;C_GLOBAL);      But do not forget to use services and files related to Firebase services"},{"owner":{"account_id":4286140,"reputation":11,"user_id":3503882,"display_name":"Abdullah Al Mamun"},"score":0,"creation_date":1502537589,"post_id":45649670,"comment_id":78258021,"body_markdown":"i am not  using firebase for notifications. i just use admob ad. ad perfectly show but log cat show this massage.","body":"i am not  using firebase for notifications. i just use admob ad. ad perfectly show but log cat show this massage."},{"owner":{"account_id":8084605,"reputation":337,"user_id":6092538,"accept_rate":78,"display_name":"Snehal Gongle"},"score":0,"creation_date":1502537889,"post_id":45649670,"comment_id":78258104,"body_markdown":"//Add this in OnCreate of Activity to initialize the ad\nMobileAds.initialize(getApplicationContext(), &quot;&lt; your-ad-unit-Id &gt;&quot;);    try this","body":"//Add this in OnCreate of Activity to initialize the ad MobileAds.initialize(getApplicationContext(), &quot;&lt; your-ad-unit-Id &gt;&quot;);    try this"},{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":0,"creation_date":1502623468,"post_id":45649670,"comment_id":78277484,"body_markdown":"Are you seeing this with release and debug builds?  If release only, are you using ProGuard?","body":"Are you seeing this with release and debug builds?  If release only, are you using ProGuard?"},{"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"score":0,"creation_date":1503599840,"post_id":45649670,"comment_id":78696302,"body_markdown":"I have the same error. Did you find a solution?","body":"I have the same error. Did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":1540427,"reputation":1000,"user_id":1435238,"accept_rate":75,"display_name":"Bero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503654454,"creation_date":1503653527,"answer_id":45878485,"question_id":45649670,"body_markdown":"There is a bug in Google Play Service. Here is the link to Google Group: https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ It should be fixed if one of the next release","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>There is a bug in Google Play Service. Here is the link to Google Group: <a href=\"https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!search/appMeasurement/google-admob-ads-sdk/9Cukd02En9o/ELCZfzjUCQAJ</a> It should be fixed if one of the next release</p>\n"},{"tags":[],"owner":{"account_id":5216151,"reputation":601,"user_id":4171025,"display_name":"Mohan Noone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701702170,"creation_date":1701702170,"answer_id":77600463,"question_id":45649670,"body_markdown":"Had the same issue today, and adding this to the Proguard/R8 rules fixed it:\r\n\r\n    -keep class com.google.android.gms.measurement.AppMeasurement {public *; }","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Had the same issue today, and adding this to the Proguard/R8 rules fixed it:</p>\n<pre><code>-keep class com.google.android.gms.measurement.AppMeasurement {public *; }\n</code></pre>\n"}],"owner":{"account_id":4286140,"reputation":11,"user_id":3503882,"display_name":"Abdullah Al Mamun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701702170,"creation_date":1502537003,"question_id":45649670,"body_markdown":"Android studio show this what is the problem?\r\ni include this file compile `&#39;com.google.android.gms:play-services-ads:11.0.4&#39;`\r\nbut it also shows this. whats the matter?\r\n\r\n    \r\n\r\n&gt; 08-12 08:56:52.773 22268-22319/? W/Ads: Invoke Firebase method\r\n&gt; getInstance error.\r\n&gt;     java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.measurement.AppMeasurement&quot; on path:\r\n&gt; DexPathList[[zip file &quot;/data/app/com.orangehostbd.bpl-1/base.apk&quot;,","title":"Invoke Firebase method getInstance error. java.lang.ClassNotFoundException: Didn&#39;t find class","body":"<p>Android studio show this what is the problem?\ni include this file compile <code>'com.google.android.gms:play-services-ads:11.0.4'</code>\nbut it also shows this. whats the matter?</p>\n\n<blockquote>\n  <p>08-12 08:56:52.773 22268-22319/? W/Ads: Invoke Firebase method\n  getInstance error.\n      java.lang.ClassNotFoundException: Didn't find class \"com.google.android.gms.measurement.AppMeasurement\" on path:\n  DexPathList[[zip file \"/data/app/com.orangehostbd.bpl-1/base.apk\",</p>\n</blockquote>\n"},{"tags":["java","threadpoolexecutor","java-threads","java-21","virtual-threads"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1701613668,"post_id":77594577,"comment_id":136795045,"body_markdown":"What is the issue you have when creating thread pools? You can even specify a ` ThreadFactory`, which will create virtual threads for you. Please [edit] your question to include a more detailed description. Also add the source code you have already tried and what the problem is with the source code you have.","body":"What is the issue you have when creating thread pools? You can even specify a ` ThreadFactory`, which will create virtual threads for you. Please <a href=\"https://stackoverflow.com/posts/77594577/edit\">edit</a> your question to include a more detailed description. Also add the source code you have already tried and what the problem is with the source code you have."},{"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"score":0,"creation_date":1701613819,"post_id":77594577,"comment_id":136795058,"body_markdown":"@Progman Yeah, I Could create a ThreadFactory as pass it in but still i wont be able to limit the number of platform threads the pool can run on.","body":"@Progman Yeah, I Could create a ThreadFactory as pass it in but still i wont be able to limit the number of platform threads the pool can run on."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701629137,"post_id":77594577,"comment_id":136796789,"body_markdown":"[Never pool virtual threads.](https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2)","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2\" rel=\"nofollow noreferrer\">Never pool virtual threads.</a>"},{"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"score":0,"creation_date":1701630483,"post_id":77594577,"comment_id":136796948,"body_markdown":"@VGR I did read that, but in my case with what i want to create does make sense. My use case uses job dependent on each other (basically output of one job provides input to another in queue). I want to be able to create a ThreadPool for each job and each task in the job will be a Vthread. The jobs don&#39;t take equal amount of time per task so I should be able to provide some allocation to each job based on its requirements. This will enable me to stream jobs into one another. Now each job may use Vthread or Pthread based on the operation (I/O or compute).","body":"@VGR I did read that, but in my case with what i want to create does make sense. My use case uses job dependent on each other (basically output of one job provides input to another in queue). I want to be able to create a ThreadPool for each job and each task in the job will be a Vthread. The jobs don&#39;t take equal amount of time per task so I should be able to provide some allocation to each job based on its requirements. This will enable me to stream jobs into one another. Now each job may use Vthread or Pthread based on the operation (I/O or compute)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701631036,"post_id":77594577,"comment_id":136797018,"body_markdown":"Virtual threads are not designed to be reused.  Keeping a pool of them undermines how they work.  Your job should just create the virtual threads it needs as it needs them, and should not attempt to pool them.","body":"Virtual threads are not designed to be reused.  Keeping a pool of them undermines how they work.  Your job should just create the virtual threads it needs as it needs them, and should not attempt to pool them."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701632337,"post_id":77594577,"comment_id":136797141,"body_markdown":"What exactly do you mean by &quot;so I should be able to provide some allocation to each job based on its requirements&quot;?","body":"What exactly do you mean by &quot;so I should be able to provide some allocation to each job based on its requirements&quot;?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701632424,"post_id":77594577,"comment_id":136797150,"body_markdown":"I suggest you revamp your Question to explain your need and your requirement,. What prompted you to devise this pooling solution? This looks like an [XY problem](https://en.wikipedia.org/wiki/XY_problem).","body":"I suggest you revamp your Question to explain your need and your requirement,. What prompted you to devise this pooling solution? This looks like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701701706,"creation_date":1701634478,"answer_id":77596023,"question_id":77594577,"body_markdown":"[Virtual threads][1] were invented to avoid the bother you seem to be undertaking. \r\n\r\n\r\nAnd, virtual threads are explicitly documented as *not* being intended for pooling. Like [facial tissues][2], grab a fresh one, use it, and dispose. \r\n\r\nRead the Java JEP, and watch videos with Ron Pressler, Alan Bateman, etc. to understand the purpose and nature of virtual thread technology. \r\n\r\nYou said:\r\n\r\n&gt; My use case uses job dependent on each other (basically output of one job provides input to another in queue). \r\n\r\n… and:\r\n\r\n&gt; when passing in a runnable, inside the run method I could just create virtual threads \r\n\r\nTurn your thinking inside-out: Instead of creating virtual threads to run a bunch of related cascading tasks, create just one thread to do all the work in serial fashion. \r\n\r\nIf you have a series of cascading tasks, each task picking up after the previous task‘s result, then simply write wrap all that work in a single `Runnable`/`Callable`. Execute that single combined task in a single new fresh virtual thread. Let that virtual thread run to completion. \r\n\r\nLet&#39;s devise a simple demo app. We have three tasks that feed into one another, `TaskA`, `TaskB`, and `TaskC`. They are housed together as `AlphabetTask`. The result is &quot;ABC&quot;, each letter having been added by each subtask.\r\n\r\n```java\r\nclass AlphabetTask implements Callable &lt; String &gt;\r\n{\r\n    private final UUID id = UUID.randomUUID ( );\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\r\n        String a = new TaskA ( ).call ( );\r\n        String b = new TaskB ( a ).call ( );\r\n        String c = new TaskC ( b ).call ( );\r\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\r\n        return c;\r\n    }\r\n}\r\n\r\nclass TaskA implements Callable &lt; String &gt;\r\n{\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return &quot;A&quot;;\r\n    }\r\n}\r\n\r\nclass TaskB implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskB ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;B&quot;;\r\n    }\r\n}\r\n\r\nclass TaskC implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskC ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;C&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWe establish three instances of *AlphabetTask*.\r\n\r\n\r\n\r\n```java\r\nCollection &lt; AlphabetTask &gt; alphabetTasks =\r\n        List.of (\r\n                new AlphabetTask ( ) ,\r\n                new AlphabetTask ( ) ,\r\n                new AlphabetTask ( )\r\n        );\r\n```\r\n\r\nWe submit all of those instances to an executor service. For each of those three `AlphabetTasks`, the executor assigns a fresh new virtual thread. Within each virtual thread, each of our subtasks are called in sequential order.\r\n\r\nNotice that we can use try-with-resources syntax to automatically close our executor service if its tasks complete in under a day. \r\n\r\n```java\r\nList &lt; Future &lt; String &gt; &gt; futures = List.of ( );\r\ntry (\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n)\r\n{\r\n    try\r\n    {\r\n        futures = executorService.invokeAll ( alphabetTasks );\r\n    } catch ( InterruptedException e )\r\n    {\r\n        throw new RuntimeException ( e );\r\n    }\r\n}\r\n// The try-with-resources blocks here if executor service has any uncompleted tasks.\r\nfutures.forEach ( stringFuture -&gt; {\r\n    try\r\n    {\r\n        System.out.println ( stringFuture.get ( ) );\r\n    } catch ( InterruptedException | ExecutionException e )\r\n    {\r\n        throw new RuntimeException ( e );\r\n    }\r\n} );\r\n\r\n```\r\n\r\nCaveat: Virtual threads are appropriate to tasks where the code involves blocking, such as file I/O, network I/O, database calls, waiting on a lock, etc. Do *not* use virtual threads to run CPU-bound tasks (no blocking involved). \r\n\r\nWhen run:\r\n\r\n```none\r\nStarting AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c 2023-12-03T20:30:03.442091Z\r\nStarting AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 2023-12-03T20:30:03.442091Z\r\nStarting AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b 2023-12-03T20:30:03.442091Z\r\nRunning TaskA. 2023-12-03T20:30:03.452388Z\r\nRunning TaskA. 2023-12-03T20:30:03.452392Z\r\nRunning TaskA. 2023-12-03T20:30:03.452383Z\r\nRunning TaskB. 2023-12-03T20:30:03.556780Z\r\nRunning TaskB. 2023-12-03T20:30:03.687342Z\r\nRunning TaskC. 2023-12-03T20:30:03.812744Z\r\nRunning TaskB. 2023-12-03T20:30:04.108820Z\r\nRunning TaskC. 2023-12-03T20:30:04.278596Z\r\nEnding AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b Result: ABC 2023-12-03T20:30:04.310085Z\r\nRunning TaskC. 2023-12-03T20:30:04.360861Z\r\nEnding AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c Result: ABC 2023-12-03T20:30:04.624803Z\r\nEnding AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 Result: ABC 2023-12-03T20:30:04.953132Z\r\nABC\r\nABC\r\nABC\r\n```\r\n\r\nBeware: Output on console may *not* appear in chronological order when calling `System.out.println` across threads. Include and inspect timestamps if you care about order.\r\n\r\n\r\n----------\r\n\r\nHere is all of that code for your copy-paste convenience, to be dropped into a single `.java` file.\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.*;\r\n\r\npublic class Subtasks\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Subtasks app = new Subtasks ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        Collection &lt; AlphabetTask &gt; alphabetTasks =\r\n                List.of (\r\n                        new AlphabetTask ( ) ,\r\n                        new AlphabetTask ( ) ,\r\n                        new AlphabetTask ( )\r\n                );\r\n        List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\r\n        try (\r\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n        )\r\n        {\r\n            try\r\n            {\r\n                futures = executorService.invokeAll ( alphabetTasks );\r\n            } catch ( InterruptedException e )\r\n            {\r\n                throw new RuntimeException ( e );\r\n            }\r\n        }\r\n        // The try-with-resources blocks here if executor service has any uncompleted tasks.\r\n        futures.forEach ( stringFuture -&gt; {\r\n            try\r\n            {\r\n                System.out.println ( stringFuture.get ( ) );\r\n            } catch ( InterruptedException | ExecutionException e )\r\n            {\r\n                throw new RuntimeException ( e );\r\n            }\r\n        } );\r\n    }\r\n}\r\n\r\nclass AlphabetTask implements Callable &lt; String &gt;\r\n{\r\n    private final UUID id = UUID.randomUUID ( );\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\r\n        String a = new TaskA ( ).call ( );\r\n        String b = new TaskB ( a ).call ( );\r\n        String c = new TaskC ( b ).call ( );\r\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\r\n        return c;\r\n    }\r\n}\r\n\r\nclass TaskA implements Callable &lt; String &gt;\r\n{\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return &quot;A&quot;;\r\n    }\r\n}\r\n\r\nclass TaskB implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskB ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;B&quot;;\r\n    }\r\n}\r\n\r\nclass TaskC implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskC ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;C&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://en.wikipedia.org/wiki/Facial_tissue","title":"Create separate thread Pools for a pool of Platform Threads in java","body":"<p><a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">Virtual threads</a> were invented to avoid the bother you seem to be undertaking.</p>\n<p>And, virtual threads are explicitly documented as <em>not</em> being intended for pooling. Like <a href=\"https://en.wikipedia.org/wiki/Facial_tissue\" rel=\"nofollow noreferrer\">facial tissues</a>, grab a fresh one, use it, and dispose.</p>\n<p>Read the Java JEP, and watch videos with Ron Pressler, Alan Bateman, etc. to understand the purpose and nature of virtual thread technology.</p>\n<p>You said:</p>\n<blockquote>\n<p>My use case uses job dependent on each other (basically output of one job provides input to another in queue).</p>\n</blockquote>\n<p>… and:</p>\n<blockquote>\n<p>when passing in a runnable, inside the run method I could just create virtual threads</p>\n</blockquote>\n<p>Turn your thinking inside-out: Instead of creating virtual threads to run a bunch of related cascading tasks, create just one thread to do all the work in serial fashion.</p>\n<p>If you have a series of cascading tasks, each task picking up after the previous task‘s result, then simply write wrap all that work in a single <code>Runnable</code>/<code>Callable</code>. Execute that single combined task in a single new fresh virtual thread. Let that virtual thread run to completion.</p>\n<p>Let's devise a simple demo app. We have three tasks that feed into one another, <code>TaskA</code>, <code>TaskB</code>, and <code>TaskC</code>. They are housed together as <code>AlphabetTask</code>. The result is &quot;ABC&quot;, each letter having been added by each subtask.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AlphabetTask implements Callable &lt; String &gt;\n{\n    private final UUID id = UUID.randomUUID ( );\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\n        String a = new TaskA ( ).call ( );\n        String b = new TaskB ( a ).call ( );\n        String c = new TaskC ( b ).call ( );\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\n        return c;\n    }\n}\n\nclass TaskA implements Callable &lt; String &gt;\n{\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return &quot;A&quot;;\n    }\n}\n\nclass TaskB implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskB ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;B&quot;;\n    }\n}\n\nclass TaskC implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskC ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;C&quot;;\n    }\n}\n</code></pre>\n<p>We establish three instances of <em>AlphabetTask</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection &lt; AlphabetTask &gt; alphabetTasks =\n        List.of (\n                new AlphabetTask ( ) ,\n                new AlphabetTask ( ) ,\n                new AlphabetTask ( )\n        );\n</code></pre>\n<p>We submit all of those instances to an executor service. For each of those three <code>AlphabetTasks</code>, the executor assigns a fresh new virtual thread. Within each virtual thread, each of our subtasks are called in sequential order.</p>\n<p>Notice that we can use try-with-resources syntax to automatically close our executor service if its tasks complete in under a day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\ntry (\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n)\n{\n    try\n    {\n        futures = executorService.invokeAll ( alphabetTasks );\n    } catch ( InterruptedException e )\n    {\n        throw new RuntimeException ( e );\n    }\n}\n// The try-with-resources blocks here if executor service has any uncompleted tasks.\nfutures.forEach ( stringFuture -&gt; {\n    try\n    {\n        System.out.println ( stringFuture.get ( ) );\n    } catch ( InterruptedException | ExecutionException e )\n    {\n        throw new RuntimeException ( e );\n    }\n} );\n\n</code></pre>\n<p>Caveat: Virtual threads are appropriate to tasks where the code involves blocking, such as file I/O, network I/O, database calls, waiting on a lock, etc. Do <em>not</em> use virtual threads to run CPU-bound tasks (no blocking involved).</p>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c 2023-12-03T20:30:03.442091Z\nStarting AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 2023-12-03T20:30:03.442091Z\nStarting AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b 2023-12-03T20:30:03.442091Z\nRunning TaskA. 2023-12-03T20:30:03.452388Z\nRunning TaskA. 2023-12-03T20:30:03.452392Z\nRunning TaskA. 2023-12-03T20:30:03.452383Z\nRunning TaskB. 2023-12-03T20:30:03.556780Z\nRunning TaskB. 2023-12-03T20:30:03.687342Z\nRunning TaskC. 2023-12-03T20:30:03.812744Z\nRunning TaskB. 2023-12-03T20:30:04.108820Z\nRunning TaskC. 2023-12-03T20:30:04.278596Z\nEnding AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b Result: ABC 2023-12-03T20:30:04.310085Z\nRunning TaskC. 2023-12-03T20:30:04.360861Z\nEnding AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c Result: ABC 2023-12-03T20:30:04.624803Z\nEnding AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 Result: ABC 2023-12-03T20:30:04.953132Z\nABC\nABC\nABC\n</code></pre>\n<p>Beware: Output on console may <em>not</em> appear in chronological order when calling <code>System.out.println</code> across threads. Include and inspect timestamps if you care about order.</p>\n<hr />\n<p>Here is all of that code for your copy-paste convenience, to be dropped into a single <code>.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.concurrent.*;\n\npublic class Subtasks\n{\n    public static void main ( String[] args )\n    {\n        Subtasks app = new Subtasks ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        Collection &lt; AlphabetTask &gt; alphabetTasks =\n                List.of (\n                        new AlphabetTask ( ) ,\n                        new AlphabetTask ( ) ,\n                        new AlphabetTask ( )\n                );\n        List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\n        try (\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n        )\n        {\n            try\n            {\n                futures = executorService.invokeAll ( alphabetTasks );\n            } catch ( InterruptedException e )\n            {\n                throw new RuntimeException ( e );\n            }\n        }\n        // The try-with-resources blocks here if executor service has any uncompleted tasks.\n        futures.forEach ( stringFuture -&gt; {\n            try\n            {\n                System.out.println ( stringFuture.get ( ) );\n            } catch ( InterruptedException | ExecutionException e )\n            {\n                throw new RuntimeException ( e );\n            }\n        } );\n    }\n}\n\nclass AlphabetTask implements Callable &lt; String &gt;\n{\n    private final UUID id = UUID.randomUUID ( );\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\n        String a = new TaskA ( ).call ( );\n        String b = new TaskB ( a ).call ( );\n        String c = new TaskC ( b ).call ( );\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\n        return c;\n    }\n}\n\nclass TaskA implements Callable &lt; String &gt;\n{\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return &quot;A&quot;;\n    }\n}\n\nclass TaskB implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskB ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;B&quot;;\n    }\n}\n\nclass TaskC implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskC ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;C&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77596023,"answer_count":1,"score":0,"last_activity_date":1701701706,"creation_date":1701611546,"question_id":77594577,"body_markdown":"I want to create pool of virtual threads running on separate pool of Java Threads.\r\n\r\nHere&#39;s the architecture I am trying to create:\r\n\r\n[![architecture][1]][1]\r\n\r\nThis is to enable me to create separate pools to run batch tasks in one JVM and take benefit of virtual threads with n:m mapping for each pool. So if i have 12 cores then i can create 2 ThreadPools of 6 Threads. Each pool will only execute a specific task. Each pool will have N number of VirtualThreads. So, here the mapping would be 2 pools of {N VirtualThreads -&gt; 6 Platform Threads}.\r\n\r\nTLDR, I want to limit the number of PlatformThreads that a pool of virtual threads can run on.\r\n\r\nOne thing i could think of is, create the thread pool and when passing in a runnable, inside the run method I could just create virtual threads but the not sure how practical is it and will i be getting the pool partition that i want. Another issue with this approach is, the virtual threads will be running in just one java thread, so no N:M mapping\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEC7i.jpg","title":"Create separate thread Pools for a pool of Platform Threads in java","body":"<p>I want to create pool of virtual threads running on separate pool of Java Threads.</p>\n<p>Here's the architecture I am trying to create:</p>\n<p><a href=\"https://i.stack.imgur.com/rEC7i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEC7i.jpg\" alt=\"architecture\" /></a></p>\n<p>This is to enable me to create separate pools to run batch tasks in one JVM and take benefit of virtual threads with n:m mapping for each pool. So if i have 12 cores then i can create 2 ThreadPools of 6 Threads. Each pool will only execute a specific task. Each pool will have N number of VirtualThreads. So, here the mapping would be 2 pools of {N VirtualThreads -&gt; 6 Platform Threads}.</p>\n<p>TLDR, I want to limit the number of PlatformThreads that a pool of virtual threads can run on.</p>\n<p>One thing i could think of is, create the thread pool and when passing in a runnable, inside the run method I could just create virtual threads but the not sure how practical is it and will i be getting the pool partition that i want. Another issue with this approach is, the virtual threads will be running in just one java thread, so no N:M mapping</p>\n"},{"tags":["java","string","variables"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1701248464,"post_id":77569733,"comment_id":136750889,"body_markdown":"Short answer: you can&#39;t, at least not for local variables. It&#39;s something that people are inclined to want to do when they start programming, and there is almost never a need for this. Check [this related question](https://stackoverflow.com/questions/6729605/assigning-variables-with-dynamic-names-in-java) for context. If you want to store key/value pairs, use a `HashMap`. By the way, `String x=&#39;abc&#39;;` is not valid Java.","body":"Short answer: you can&#39;t, at least not for local variables. It&#39;s something that people are inclined to want to do when they start programming, and there is almost never a need for this. Check <a href=\"https://stackoverflow.com/questions/6729605/assigning-variables-with-dynamic-names-in-java\">this related question</a> for context. If you want to store key/value pairs, use a <code>HashMap</code>. By the way, <code>String x=&#39;abc&#39;;</code> is not valid Java."},{"owner":{"account_id":28977552,"reputation":125,"user_id":22196286,"display_name":"Mark"},"score":1,"creation_date":1701249351,"post_id":77569733,"comment_id":136751052,"body_markdown":"I know i just wrote a dummy example for the sake of the question but thank u for ur clarification","body":"I know i just wrote a dummy example for the sake of the question but thank u for ur clarification"}],"answers":[{"tags":[],"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701700360,"creation_date":1701248761,"answer_id":77569792,"question_id":77569733,"body_markdown":"You can&#39;t. When you compile a java program in java bytecode, the information about variable names are not included.\r\n\r\nFor example:\r\nFile `Main.java`\r\n```java\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;abc&quot;;\r\n\t\tSystem.out.println(x);\r\n\t}\r\n}\r\n```\r\n\r\ncompiled in `Main.class` (there are many more &quot;characters&quot; you cannot see):\r\n```lang-none\r\n&#202;&#254;&#186;&#190;   = \r\n      java/lang/Object &lt;init&gt; ()V  abc\t \r\n   \r\n  java/lang/System out Ljava/io/PrintStream;\r\n      java/io/PrintStream println (Ljava/lang/String;)V  Main Code LineNumberTable main ([Ljava/lang/String;)V \r\nSourceFile \tMain.java !                    *&#183; &#177;            \t       +     L&#178; \t+&#182; &#177;              \r\n       \r\n```\r\n\r\nIf you try to use a decompiler to decompile the bytecode, that&#39;s what you&#39;d get:\r\n```java\r\nimport java.io.PrintStream;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] paramArrayOfString)\r\n\t{\r\n\t\tString str = &quot;abc&quot;;\r\n\t\tSystem.out.println(str);\r\n\t}\r\n}\r\n```\r\nAs you can see, there is no information about any variable names.\r\n\r\nThe simplest reason behind this is that this information is *completely useless to the runtime*, it is only useful to programmers when they&#39;re writing code, to give a meaning of what they&#39;re coding and keep track of the business logic.","title":"how to display variable name dynamic in java","body":"<p>You can't. When you compile a java program in java bytecode, the information about variable names are not included.</p>\n<p>For example:\nFile <code>Main.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(String[] args) {\n        String x = &quot;abc&quot;;\n        System.out.println(x);\n    }\n}\n</code></pre>\n<p>compiled in <code>Main.class</code> (there are many more &quot;characters&quot; you cannot see):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Êþº¾   = \n      java/lang/Object &lt;init&gt; ()V  abc   \n   \n  java/lang/System out Ljava/io/PrintStream;\n      java/io/PrintStream println (Ljava/lang/String;)V  Main Code LineNumberTable main ([Ljava/lang/String;)V \nSourceFile  Main.java !                    *· ±                    +     L²     +¶ ±              \n       \n</code></pre>\n<p>If you try to use a decompiler to decompile the bytecode, that's what you'd get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.PrintStream;\n\npublic class Main\n{\n    public static void main(String[] paramArrayOfString)\n    {\n        String str = &quot;abc&quot;;\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p>As you can see, there is no information about any variable names.</p>\n<p>The simplest reason behind this is that this information is <em>completely useless to the runtime</em>, it is only useful to programmers when they're writing code, to give a meaning of what they're coding and keep track of the business logic.</p>\n"}],"owner":{"account_id":28977552,"reputation":125,"user_id":22196286,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701251363,"accepted_answer_id":77569792,"answer_count":1,"score":0,"last_activity_date":1701700360,"creation_date":1701248060,"question_id":77569733,"body_markdown":"i want to display only the variable name not the value\r\nlet&#39;s say\r\n```\r\nString x=&#39;abc&#39;;\r\n```\r\ni want my output to be ```x``` not```abc```\r\ndon&#39;t want to create a code like this\r\n```\r\nSystem.out.println(&#39;x&#39;)\r\n```\r\ni want dynamicaly save the variable name in another variable and display it\r\nlike if there&#39;s a built in function to do this like for example i know this function doesn&#39;t exist but lets say it exists\r\n```\r\nSystem.out.println(x.getVariableName()) //output x\r\n```\r\ni want a something like that","title":"how to display variable name dynamic in java","body":"<p>i want to display only the variable name not the value\nlet's say</p>\n<pre><code>String x='abc';\n</code></pre>\n<p>i want my output to be <code>x</code> not<code>abc</code>\ndon't want to create a code like this</p>\n<pre><code>System.out.println('x')\n</code></pre>\n<p>i want dynamicaly save the variable name in another variable and display it\nlike if there's a built in function to do this like for example i know this function doesn't exist but lets say it exists</p>\n<pre><code>System.out.println(x.getVariableName()) //output x\n</code></pre>\n<p>i want a something like that</p>\n"},{"tags":["java","jaxb","cxf-xjc-plugin"],"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701700337,"creation_date":1686058960,"question_id":76415336,"body_markdown":"cxf-xjc-plugin isn&#39;t working as expected. \r\n\r\nI am getting the following issue after a clean install in maven (java11)\r\n\r\n&gt; vendor extension bindings (jaxb:extensionBindingPrefixes) are not\r\n&gt; allowed in the strict mode. Use -extension\r\n\r\nWhat is the error cause ? \r\n\r\n\r\nhere the plugin conifugration :\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;xjc&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;xsdOptions&gt;\r\n                                    &lt;xsdOption&gt;\r\n                                        &lt;xsd&gt;src/main/resources/xsd/Content.xsd&lt;/xsd&gt;\r\n                                            &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\r\n                                        &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\r\n                                    &lt;/xsdOption&gt;\r\n                                    &lt;xsdOption&gt;\r\n                                        &lt;xsd&gt;src/main/resources/xsd/e-BoxDefinitionType.xsd&lt;/xsd&gt;\r\n                                        &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\r\n                                        &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\r\n                                    &lt;/xsdOption&gt;\r\n                                &lt;/xsdOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nHere my rules : \r\n\r\n\r\n","title":"jaxb:extensionBindingPrefixes is not working for cxf-xjc-plugin?","body":"<p>cxf-xjc-plugin isn't working as expected.</p>\n<p>I am getting the following issue after a clean install in maven (java11)</p>\n<blockquote>\n<p>vendor extension bindings (jaxb:extensionBindingPrefixes) are not\nallowed in the strict mode. Use -extension</p>\n</blockquote>\n<p>What is the error cause ?</p>\n<p>here the plugin conifugration :</p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;xsdOptions&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;src/main/resources/xsd/Content.xsd&lt;/xsd&gt;\n                                        &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\n                                    &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\n                                &lt;/xsdOption&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;src/main/resources/xsd/e-BoxDefinitionType.xsd&lt;/xsd&gt;\n                                    &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\n                                    &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\n                                &lt;/xsdOption&gt;\n                            &lt;/xsdOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Here my rules :</p>\n"},{"tags":["java","arrays","optimization"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":6,"creation_date":1375264360,"post_id":17967114,"comment_id":26262130,"body_markdown":"What restrictions are placed on you? Can you `sort`? You can certainly improve on this O(n^3) implementation. This algorithm should be O(nln(n)) in the optimal case.","body":"What restrictions are placed on you? Can you <code>sort</code>? You can certainly improve on this O(n^3) implementation. This algorithm should be O(nln(n)) in the optimal case."},{"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1375264364,"post_id":17967114,"comment_id":26262131,"body_markdown":"Well yes, you&#39;ve got an O(n^3) algorithm... that doesn&#39;t sound like a good idea to me.","body":"Well yes, you&#39;ve got an O(n^3) algorithm... that doesn&#39;t sound like a good idea to me."},{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":2,"creation_date":1375264371,"post_id":17967114,"comment_id":26262138,"body_markdown":"you can use `Set&lt;Integer&gt;` ?","body":"you can use <code>Set&lt;Integer&gt;</code> ?"},{"owner":{"display_name":"user1907906"},"score":11,"creation_date":1375264398,"post_id":17967114,"comment_id":26262153,"body_markdown":"You asked this in [Codereview](http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array), too. There is [an answer](http://codereview.stackexchange.com/a/29212/27897), too.","body":"You asked this in <a href=\"http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array\">Codereview</a>, too. There is <a href=\"http://codereview.stackexchange.com/a/29212/27897\">an answer</a>, too."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264524,"post_id":17967114,"comment_id":26262238,"body_markdown":"@BoristheSpider Yes, the array can be sorted.","body":"@BoristheSpider Yes, the array can be sorted."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264577,"post_id":17967114,"comment_id":26262267,"body_markdown":"@sanbhat I was asked to write my own implementation, not to use any tools.","body":"@sanbhat I was asked to write my own implementation, not to use any tools."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264637,"post_id":17967114,"comment_id":26262299,"body_markdown":"@Tichodroma I asked, but there isn&#39;t too much attention there, so I asked it here.","body":"@Tichodroma I asked, but there isn&#39;t too much attention there, so I asked it here."},{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1375264693,"post_id":17967114,"comment_id":26262345,"body_markdown":"@ashur Perhaps take a look at the answer there. It will help you.","body":"@ashur Perhaps take a look at the answer there. It will help you."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375264791,"post_id":17967114,"comment_id":26262403,"body_markdown":"What&#39;s the range of the `int`s in the arrays? If it&#39;s known and small you can do a bucket sort and remove duplicates as you go.","body":"What&#39;s the range of the <code>int</code>s in the arrays? If it&#39;s known and small you can do a bucket sort and remove duplicates as you go."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264938,"post_id":17967114,"comment_id":26262484,"body_markdown":"@BoristheSpider values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000.","body":"@BoristheSpider values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000."},{"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"score":3,"creation_date":1375264958,"post_id":17967114,"comment_id":26262494,"body_markdown":"Well, you already have two answers in the [code review forum](http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array)","body":"Well, you already have two answers in the <a href=\"http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array\">code review forum</a>"},{"owner":{"account_id":1082858,"reputation":104678,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1397884651,"post_id":17967114,"comment_id":35427378,"body_markdown":"possible duplicate of [Java Remove Duplicates from an Array?](http://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array\">Java Remove Duplicates from an Array?</a>"},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1412316025,"post_id":17967114,"comment_id":41036681,"body_markdown":"This question appears to be off-topic because it is asking for a code review. See [What topics can I ask about here](http://stackoverflow.com/help/on-topic) in the Help Center. Perhaps [Code Review Stack Exchange](http://codereview.stackexchange.com/) would be a better place to ask.","body":"This question appears to be off-topic because it is asking for a code review. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://codereview.stackexchange.com/\">Code Review Stack Exchange</a> would be a better place to ask."},{"owner":{"account_id":261142,"reputation":47108,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1425591847,"post_id":17967114,"comment_id":46037814,"body_markdown":"possible duplicate of [How do I remove repeated elements from ArrayList?](http://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist\">How do I remove repeated elements from ArrayList?</a>"},{"owner":{"account_id":3178785,"reputation":8361,"user_id":2686013,"display_name":"HaveNoDisplayName"},"score":0,"creation_date":1444117718,"post_id":17967114,"comment_id":53753605,"body_markdown":"Possible duplicate of [Algorithm: efficient way to remove duplicate integers from an array](http://stackoverflow.com/questions/1532819/algorithm-efficient-way-to-remove-duplicate-integers-from-an-array)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1532819/algorithm-efficient-way-to-remove-duplicate-integers-from-an-array\">Algorithm: efficient way to remove duplicate integers from an array</a>"},{"owner":{"account_id":1235179,"reputation":1372,"user_id":1198898,"display_name":"human.js"},"score":0,"creation_date":1486554667,"post_id":17967114,"comment_id":71393338,"body_markdown":"code can benefit by sorting the array and then using that information to modify that array in place and getting a new end index.","body":"code can benefit by sorting the array and then using that information to modify that array in place and getting a new end index."}],"answers":[{"tags":[],"owner":{"account_id":3111948,"reputation":5565,"user_id":2633527,"accept_rate":71,"display_name":"David Xu"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1518965992,"creation_date":1375264490,"answer_id":17967206,"question_id":17967114,"body_markdown":"    public static int[] removeDuplicates(int[] arr){\r\n    \tHashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    \tfinal int len = arr.length;\r\n        //changed end to len\r\n        for(int i = 0; i &lt; len; i++){\r\n            set.add(arr[i]);\r\n        }\r\n    \r\n        int[] whitelist = new int[set.size()];\r\n    \tint i = 0;\r\n    \tfor (Iterator&lt;Integer&gt; it = set.iterator(); it.hasNext();) {\r\n    \t\twhitelist[i++] = it.next();\r\n    \t}\r\n        return whitelist;\r\n    }\r\n\r\nRuns in O(N) time instead of your O(N^3) time","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static int[] removeDuplicates(int[] arr){\n    HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    final int len = arr.length;\n    //changed end to len\n    for(int i = 0; i &lt; len; i++){\n        set.add(arr[i]);\n    }\n\n    int[] whitelist = new int[set.size()];\n    int i = 0;\n    for (Iterator&lt;Integer&gt; it = set.iterator(); it.hasNext();) {\n        whitelist[i++] = it.next();\n    }\n    return whitelist;\n}\n</code></pre>\n\n<p>Runs in O(N) time instead of your O(N^3) time</p>\n"},{"tags":[],"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"down_vote_count":14,"up_vote_count":59,"is_accepted":false,"score":45,"last_activity_date":1398991632,"creation_date":1375264513,"answer_id":17967216,"question_id":17967114,"body_markdown":"you can take the help of **Set** collection\r\n\r\n    int end = arr.length;\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n    \r\n    for(int i = 0; i &lt; end; i++){\r\n      set.add(arr[i]);\r\n    }\r\n\r\nnow if you will iterate through this **set**, it will contain only unique values. Iterating code is like this :\r\n\r\n    Iterator it = set.iterator();\r\n    while(it.hasNext()) {\r\n      System.out.println(it.next());\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>you can take the help of <strong>Set</strong> collection</p>\n\n<pre><code>int end = arr.length;\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\nfor(int i = 0; i &lt; end; i++){\n  set.add(arr[i]);\n}\n</code></pre>\n\n<p>now if you will iterate through this <strong>set</strong>, it will contain only unique values. Iterating code is like this :</p>\n\n<pre><code>Iterator it = set.iterator();\nwhile(it.hasNext()) {\n  System.out.println(it.next());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1375267655,"creation_date":1375264632,"answer_id":17967261,"question_id":17967114,"body_markdown":"You need to sort your array then then loop and remove duplicates. As you cannot use other tools you need to write be code yourself.\r\n\r\nYou can easily find examples of quicksort in Java [on the internet][1] (on which this example is based).\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1};\r\n        System.out.println(Arrays.toString(original));\r\n        quicksort(original);\r\n        System.out.println(Arrays.toString(original));\r\n        final int[] unqiue = new int[original.length];\r\n        int prev = original[0];\r\n        unqiue[0] = prev;\r\n        int count = 1;\r\n        for (int i = 1; i &lt; original.length; ++i) {\r\n            if (original[i] != prev) {\r\n                unqiue[count++] = original[i];\r\n            }\r\n            prev = original[i];\r\n        }\r\n        System.out.println(Arrays.toString(unqiue));\r\n        final int[] compressed = new int[count];\r\n        System.arraycopy(unqiue, 0, compressed, 0, count);\r\n        System.out.println(Arrays.toString(compressed));\r\n    }\r\n\r\n    private static void quicksort(final int[] values) {\r\n        if (values.length == 0) {\r\n            return;\r\n        }\r\n        quicksort(values, 0, values.length - 1);\r\n    }\r\n\r\n    private static void quicksort(final int[] values, final int low, final int high) {\r\n        int i = low, j = high;\r\n        int pivot = values[low + (high - low) / 2];\r\n        while (i &lt;= j) {\r\n            while (values[i] &lt; pivot) {\r\n                i++;\r\n            }\r\n            while (values[j] &gt; pivot) {\r\n                j--;\r\n            }\r\n            if (i &lt;= j) {\r\n                swap(values, i, j);\r\n                i++;\r\n                j--;\r\n            }\r\n        }\r\n        if (low &lt; j) {\r\n            quicksort(values, low, j);\r\n        }\r\n        if (i &lt; high) {\r\n            quicksort(values, i, high);\r\n        }\r\n    }\r\n\r\n    private static void swap(final int[] values, final int i, final int j) {\r\n        final int temp = values[i];\r\n        values[i] = values[j];\r\n        values[j] = temp;\r\n    }\r\n\r\nSo the process runs in 3 steps.\r\n\r\n 1. Sort the array  - `O(nlgn)`\r\n 2. Remove duplicates - `O(n)`\r\n 3. Compact the array - `O(n)`\r\n\r\nSo this improves significantly on your `O(n^3)` approach.\r\n\r\nOutput:\r\n\r\n    [1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1]\r\n    [1, 1, 1, 2, 4, 4, 7, 8, 8, 9, 9]\r\n    [1, 2, 4, 7, 8, 9, 0, 0, 0, 0, 0]\r\n    [1, 2, 4, 7, 8, 9]\r\n\r\n**EDIT**\r\n\r\nOP states _values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000_. This is a classic case where an O(n) sort can be used.\r\n\r\nWe create an array of size `range +1`, in this case `1001`. We then loop over the data and increment the values on each index corresponding to the datapoint.\r\n\r\nWe can then compact the resulting array, dropping values the have not been incremented. This makes the values unique as we ignore the count.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000};\r\n        System.out.println(Arrays.toString(original));\r\n        final int[] buckets = new int[1001];\r\n        for (final int i : original) {\r\n            buckets[i]++;\r\n        }\r\n        final int[] unique = new int[original.length];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; buckets.length; ++i) {\r\n            if (buckets[i] &gt; 0) {\r\n                unique[count++] = i;\r\n            }\r\n        }\r\n        final int[] compressed = new int[count];\r\n        System.arraycopy(unique, 0, compressed, 0, count);\r\n        System.out.println(Arrays.toString(compressed));\r\n    }\r\n\r\nOutput:\r\n\r\n    [1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000]\r\n    [1, 2, 4, 7, 8, 9, 1000]\r\n\r\n[1]:http://www.vogella.com/articles/JavaAlgorithmsQuicksort/article.html","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>You need to sort your array then then loop and remove duplicates. As you cannot use other tools you need to write be code yourself.</p>\n\n<p>You can easily find examples of quicksort in Java <a href=\"http://www.vogella.com/articles/JavaAlgorithmsQuicksort/article.html\" rel=\"nofollow\">on the internet</a> (on which this example is based).</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1};\n    System.out.println(Arrays.toString(original));\n    quicksort(original);\n    System.out.println(Arrays.toString(original));\n    final int[] unqiue = new int[original.length];\n    int prev = original[0];\n    unqiue[0] = prev;\n    int count = 1;\n    for (int i = 1; i &lt; original.length; ++i) {\n        if (original[i] != prev) {\n            unqiue[count++] = original[i];\n        }\n        prev = original[i];\n    }\n    System.out.println(Arrays.toString(unqiue));\n    final int[] compressed = new int[count];\n    System.arraycopy(unqiue, 0, compressed, 0, count);\n    System.out.println(Arrays.toString(compressed));\n}\n\nprivate static void quicksort(final int[] values) {\n    if (values.length == 0) {\n        return;\n    }\n    quicksort(values, 0, values.length - 1);\n}\n\nprivate static void quicksort(final int[] values, final int low, final int high) {\n    int i = low, j = high;\n    int pivot = values[low + (high - low) / 2];\n    while (i &lt;= j) {\n        while (values[i] &lt; pivot) {\n            i++;\n        }\n        while (values[j] &gt; pivot) {\n            j--;\n        }\n        if (i &lt;= j) {\n            swap(values, i, j);\n            i++;\n            j--;\n        }\n    }\n    if (low &lt; j) {\n        quicksort(values, low, j);\n    }\n    if (i &lt; high) {\n        quicksort(values, i, high);\n    }\n}\n\nprivate static void swap(final int[] values, final int i, final int j) {\n    final int temp = values[i];\n    values[i] = values[j];\n    values[j] = temp;\n}\n</code></pre>\n\n<p>So the process runs in 3 steps.</p>\n\n<ol>\n<li>Sort the array  - <code>O(nlgn)</code></li>\n<li>Remove duplicates - <code>O(n)</code></li>\n<li>Compact the array - <code>O(n)</code></li>\n</ol>\n\n<p>So this improves significantly on your <code>O(n^3)</code> approach.</p>\n\n<p>Output:</p>\n\n<pre><code>[1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1]\n[1, 1, 1, 2, 4, 4, 7, 8, 8, 9, 9]\n[1, 2, 4, 7, 8, 9, 0, 0, 0, 0, 0]\n[1, 2, 4, 7, 8, 9]\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>OP states <em>values inside array doesn't matter really. But I can assume that range is between 0-1000</em>. This is a classic case where an O(n) sort can be used.</p>\n\n<p>We create an array of size <code>range +1</code>, in this case <code>1001</code>. We then loop over the data and increment the values on each index corresponding to the datapoint.</p>\n\n<p>We can then compact the resulting array, dropping values the have not been incremented. This makes the values unique as we ignore the count.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000};\n    System.out.println(Arrays.toString(original));\n    final int[] buckets = new int[1001];\n    for (final int i : original) {\n        buckets[i]++;\n    }\n    final int[] unique = new int[original.length];\n    int count = 0;\n    for (int i = 0; i &lt; buckets.length; ++i) {\n        if (buckets[i] &gt; 0) {\n            unique[count++] = i;\n        }\n    }\n    final int[] compressed = new int[count];\n    System.arraycopy(unique, 0, compressed, 0, count);\n    System.out.println(Arrays.toString(compressed));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000]\n[1, 2, 4, 7, 8, 9, 1000]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2750348,"reputation":643,"user_id":2369893,"display_name":"DaMachk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375264742,"creation_date":1375264742,"answer_id":17967304,"question_id":17967114,"body_markdown":"What if you create two boolean arrays: 1 for negative values and 1 for positive values and init it all on false.\r\n\r\nThen you cycle thorugh the input array and lookup in the arrays if you&#39;ve encoutered the value already.\r\nIf not, you add it to the output array and mark it as already used.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>What if you create two boolean arrays: 1 for negative values and 1 for positive values and init it all on false.</p>\n\n<p>Then you cycle thorugh the input array and lookup in the arrays if you've encoutered the value already.\nIf not, you add it to the output array and mark it as already used.</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375265042,"creation_date":1375265042,"answer_id":17967417,"question_id":17967114,"body_markdown":"There exists many solution of this problem. \r\n\r\n1. The sort approach \r\n\r\n - You sort your array and resolve only unique items \r\n\r\n\r\n2. The set approach \r\n\r\n - You declare a HashSet where you put all item then you have only unique ones. \r\n\r\n3. You create a boolean array that represent the items all ready returned, (this depend on your data in the array). \r\n\r\n\r\nIf you deal with large amount of data i would pick the 1. solution. As you do not allocate additional memory and sorting is quite fast. For small set of data the complexity would be n^2 but for large i will be n log n.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>There exists many solution of this problem. </p>\n\n<ol>\n<li><p>The sort approach </p>\n\n<ul>\n<li>You sort your array and resolve only unique items </li>\n</ul></li>\n<li><p>The set approach </p>\n\n<ul>\n<li>You declare a HashSet where you put all item then you have only unique ones. </li>\n</ul></li>\n<li><p>You create a boolean array that represent the items all ready returned, (this depend on your data in the array). </p></li>\n</ol>\n\n<p>If you deal with large amount of data i would pick the 1. solution. As you do not allocate additional memory and sorting is quite fast. For small set of data the complexity would be n^2 but for large i will be n log n.</p>\n"},{"tags":[],"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539264512,"creation_date":1375266223,"answer_id":17967818,"question_id":17967114,"body_markdown":"For a sorted Array, just check the next index:\r\n\r\n    //sorted data!\r\n    public static int[] distinct(int[] arr) {\r\n    \tint[] temp = new int[arr.length];\r\n    \r\n    \tint count = 0;\r\n    \tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\tint current = arr[i];\r\n    \r\n    \t\tif(count &gt; 0 )\r\n    \t\t\tif(temp[count - 1] == current)\r\n    \t\t\t\tcontinue;\r\n    \r\n    \t\ttemp[count] = current;\r\n    \t\tcount++;\r\n    \t}\r\n\r\n        int[] whitelist = new int[count];\r\n        System.arraycopy(temp, 0, whitelist, 0, count);\r\n    \r\n    \treturn whitelist;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>For a sorted Array, just check the next index:</p>\n\n<pre><code>//sorted data!\npublic static int[] distinct(int[] arr) {\n    int[] temp = new int[arr.length];\n\n    int count = 0;\n    for (int i = 0; i &lt; arr.length; i++) {\n        int current = arr[i];\n\n        if(count &gt; 0 )\n            if(temp[count - 1] == current)\n                continue;\n\n        temp[count] = current;\n        count++;\n    }\n\n    int[] whitelist = new int[count];\n    System.arraycopy(temp, 0, whitelist, 0, count);\n\n    return whitelist;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973998,"reputation":138700,"user_id":995876,"display_name":"Esailija"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1471529400,"creation_date":1375283849,"answer_id":17974322,"question_id":17967114,"body_markdown":"Since you can assume the range is between 0-1000 there is a very simple and efficient solution\r\n\r\n    //Throws an exception if values are not in the range of 0-1000\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        boolean[] set = new boolean[1001]; //values must default to false\r\n        int totalItems = 0;\r\n        \r\n        for (int i = 0; i &lt; arr.length; ++i) {\r\n            if (!set[arr[i]]) {\r\n                set[arr[i]] = true;\r\n                totalItems++;\r\n            }\r\n        }\r\n        \r\n        int[] ret = new int[totalItems];\r\n        int c = 0;\r\n        for (int i = 0; i &lt; set.length; ++i) {\r\n            if (set[i]) {\r\n                ret[c++] = i;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    \r\nThis runs in linear time O(n). Caveat: the returned array is sorted so if that is illegal then this answer is invalid.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Since you can assume the range is between 0-1000 there is a very simple and efficient solution</p>\n\n<pre><code>//Throws an exception if values are not in the range of 0-1000\npublic static int[] removeDuplicates(int[] arr) {\n    boolean[] set = new boolean[1001]; //values must default to false\n    int totalItems = 0;\n\n    for (int i = 0; i &lt; arr.length; ++i) {\n        if (!set[arr[i]]) {\n            set[arr[i]] = true;\n            totalItems++;\n        }\n    }\n\n    int[] ret = new int[totalItems];\n    int c = 0;\n    for (int i = 0; i &lt; set.length; ++i) {\n        if (set[i]) {\n            ret[c++] = i;\n        }\n    }\n    return ret;\n}\n</code></pre>\n\n<p>This runs in linear time O(n). Caveat: the returned array is sorted so if that is illegal then this answer is invalid.</p>\n"},{"tags":[],"owner":{"account_id":3541763,"reputation":21,"user_id":2958646,"display_name":"Tummala srikanth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383704081,"creation_date":1383702794,"answer_id":19802629,"question_id":17967114,"body_markdown":"This is simple way to sort the elements in the array\r\n\r\n    public class DublicatesRemove {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tSystem.out.println(&quot;enter size of the array&quot;);\r\n    \t\tint l = Integer.parseInt(br.readLine());\r\n    \t\tint[] a = new int[l];\r\n    \t\t// insert elements in the array logic\r\n    \t\tfor (int i = 0; i &lt; l; i++) \r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;enter a element&quot;);\r\n    \t\t\tint el = Integer.parseInt(br.readLine());\r\n    \t\t\ta[i] = el;\r\n    \t\t}\r\n    \t\t// sorting elements in the array logic\r\n    \t\tfor (int i = 0; i &lt; l; i++) \r\n    \t\t{\r\n    \t\t\tfor (int j = 0; j &lt; l - 1; j++) \r\n    \t\t\t{\r\n    \t\t\t\tif (a[j] &gt; a[j + 1])\r\n    \t\t\t\t{\r\n    \t\t\t\t\tint temp = a[j];\r\n    \t\t\t\t\ta[j] = a[j + 1];\r\n    \t\t\t\t\ta[j + 1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// remove duplicate elements logic\r\n    \t\tint b = 0;\r\n    \t\ta[b] = a[0];\r\n    \t\tfor (int i = 1; i &lt; l; i++)\r\n    \t\t{\r\n    \t\t\tif (a[b] != a[i])\r\n    \t\t\t{\r\n    \t\t\t\tb++;\r\n    \t\t\t\ta[b]=a[i];\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;=b;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(a[i]);\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is simple way to sort the elements in the array</p>\n\n<pre><code>public class DublicatesRemove {\n    public static void main(String args[]) throws Exception {\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"enter size of the array\");\n        int l = Integer.parseInt(br.readLine());\n        int[] a = new int[l];\n        // insert elements in the array logic\n        for (int i = 0; i &lt; l; i++) \n        {\n            System.out.println(\"enter a element\");\n            int el = Integer.parseInt(br.readLine());\n            a[i] = el;\n        }\n        // sorting elements in the array logic\n        for (int i = 0; i &lt; l; i++) \n        {\n            for (int j = 0; j &lt; l - 1; j++) \n            {\n                if (a[j] &gt; a[j + 1])\n                {\n                    int temp = a[j];\n                    a[j] = a[j + 1];\n                    a[j + 1] = temp;\n                }\n            }\n        }\n        // remove duplicate elements logic\n        int b = 0;\n        a[b] = a[0];\n        for (int i = 1; i &lt; l; i++)\n        {\n            if (a[b] != a[i])\n            {\n                b++;\n                a[b]=a[i];\n\n            }\n\n        }\n        for(int i=0;i&lt;=b;i++)\n        {\n            System.out.println(a[i]);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4591780,"reputation":325,"user_id":3724864,"accept_rate":48,"display_name":"Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402383645,"creation_date":1402382573,"answer_id":24134518,"question_id":17967114,"body_markdown":"\r\n    public static void main(String args[]) {\r\n\t\tint[] intarray = {1,2,3,4,5,1,2,3,4,5,1,2,3,4,5};\r\n\t\t\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\tfor(int i : intarray) {\r\n\t\t\tset.add(i);\r\n\t\t}\r\n\t\t\r\n\t\tIterator&lt;Integer&gt; setitr = set.iterator();\r\n\t\tfor(int pos=0; pos &lt; intarray.length; pos ++) {\r\n\t\t\tif(pos &lt; set.size()) {\r\n\t\t\t\tintarray[pos] =setitr.next();\r\n\t\t\t} else {\r\n\t\t\t\tintarray[pos]= 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i: intarray)\r\n\t\tSystem.out.println(i);\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String args[]) {\n    int[] intarray = {1,2,3,4,5,1,2,3,4,5,1,2,3,4,5};\n\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    for(int i : intarray) {\n        set.add(i);\n    }\n\n    Iterator&lt;Integer&gt; setitr = set.iterator();\n    for(int pos=0; pos &lt; intarray.length; pos ++) {\n        if(pos &lt; set.size()) {\n            intarray[pos] =setitr.next();\n        } else {\n            intarray[pos]= 0;\n        }\n    }\n\n    for(int i: intarray)\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088897,"reputation":153,"user_id":1083974,"display_name":"Eagle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402897760,"creation_date":1402897760,"answer_id":24237289,"question_id":17967114,"body_markdown":"I know this is kinda dead but I just wrote this for my own use. It&#39;s more or less the same as adding to a hashset and then pulling all the elements out of it. It should run in O(nlogn) worst case.\r\n\r\n        public static int[] removeDuplicates(int[] numbers) {\r\n        Entry[] entries = new Entry[numbers.length];\r\n        int size = 0;\r\n        for (int i = 0 ; i &lt; numbers.length ; i++) {\r\n            int nextVal = numbers[i];\r\n            int index = nextVal % entries.length;\r\n            Entry e = entries[index];\r\n            if (e == null) {\r\n                entries[index] = new Entry(nextVal);\r\n                size++;\r\n            } else {\r\n                if(e.insert(nextVal)) {\r\n                    size++;\r\n                }\r\n            }\r\n        }\r\n        int[] result = new int[size];\r\n        int index = 0;\r\n        for (int i = 0 ; i &lt; entries.length ; i++) {\r\n            Entry current = entries[i];\r\n            while (current != null) {\r\n                result[i++] = current.value;\r\n                current = current.next;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static class Entry {\r\n        int value;\r\n        Entry next;\r\n\r\n        Entry(int value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public boolean insert(int newVal) {\r\n            Entry current = this;\r\n            Entry prev = null;\r\n            while (current != null) {\r\n                if (current.value == newVal) {\r\n                    return false;\r\n                } else if(current.next != null) {\r\n                    prev = current;\r\n                    current = next;\r\n                }\r\n            }\r\n            prev.next = new Entry(value);\r\n            return true;\r\n        }\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I know this is kinda dead but I just wrote this for my own use. It's more or less the same as adding to a hashset and then pulling all the elements out of it. It should run in O(nlogn) worst case.</p>\n\n<pre><code>    public static int[] removeDuplicates(int[] numbers) {\n    Entry[] entries = new Entry[numbers.length];\n    int size = 0;\n    for (int i = 0 ; i &lt; numbers.length ; i++) {\n        int nextVal = numbers[i];\n        int index = nextVal % entries.length;\n        Entry e = entries[index];\n        if (e == null) {\n            entries[index] = new Entry(nextVal);\n            size++;\n        } else {\n            if(e.insert(nextVal)) {\n                size++;\n            }\n        }\n    }\n    int[] result = new int[size];\n    int index = 0;\n    for (int i = 0 ; i &lt; entries.length ; i++) {\n        Entry current = entries[i];\n        while (current != null) {\n            result[i++] = current.value;\n            current = current.next;\n        }\n    }\n    return result;\n}\n\npublic static class Entry {\n    int value;\n    Entry next;\n\n    Entry(int value) {\n        this.value = value;\n    }\n\n    public boolean insert(int newVal) {\n        Entry current = this;\n        Entry prev = null;\n        while (current != null) {\n            if (current.value == newVal) {\n                return false;\n            } else if(current.next != null) {\n                prev = current;\n                current = next;\n            }\n        }\n        prev.next = new Entry(value);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4629673,"reputation":134,"user_id":3752541,"display_name":"user3752541"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1483764943,"creation_date":1403095491,"answer_id":24285962,"question_id":17967114,"body_markdown":"    class Demo \r\n    {\r\n        public static void main(String[] args) \r\n\t    {\r\n\t\t    int a[]={3,2,1,4,2,1};\r\n\t\t    System.out.print(&quot;Before Sorting:&quot;);\r\n\t\t    for (int i=0;i&lt;a.length; i++ )\r\n\t\t    {\r\n\t\t    \tSystem.out.print(a[i]+&quot;\\t&quot;);\r\n\t    \t}\r\n            System.out.print (&quot;\\nAfter Sorting:&quot;);\r\n\t\t    //sorting the elements\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    for(int j=i;j&lt;a.length;j++)\r\n\t\t\t    {\r\n\t\t\t\t    if(a[i]&gt;a[j])\r\n\t\t\t\t    {\r\n\t\t\t\t        int temp=a[i];\r\n\t\t\t\t        a[i]=a[j];\r\n\t\t\t\t        a[j]=temp;\r\n\t\t\t\t    }\r\n\r\n\t\t\t    }\r\n\t\t    }\r\n\r\n\t\t    //After sorting\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    System.out.print(a[i]+&quot;\\t&quot;);\r\n\t\t    }\r\n            System.out.print(&quot;\\nAfter removing duplicates:&quot;);\r\n\t\t    int b=0;\r\n\t\t    a[b]=a[0];\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    if (a[b]!=a[i])\r\n\t\t\t    {\r\n\t\t\t\t    b++;\r\n\t\t\t\t    a[b]=a[i];\r\n\t\t\t    }\r\n\t\t    }\r\n\t        for (int i=0;i&lt;=b;i++ )\r\n\t        {\r\n\t\t        System.out.print(a[i]+&quot;\\t&quot;);\r\n\t        }\r\n\t    }\r\n    }\r\n      OUTPUT:Before Sortng:3 2 1 4 2 1 After Sorting:1 1 2 2 3 4 \r\n                    Removing Duplicates:1 2 3 4\r\n\r\n    \r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>class Demo \n{\n    public static void main(String[] args) \n    {\n        int a[]={3,2,1,4,2,1};\n        System.out.print(\"Before Sorting:\");\n        for (int i=0;i&lt;a.length; i++ )\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n        System.out.print (\"\\nAfter Sorting:\");\n        //sorting the elements\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=i;j&lt;a.length;j++)\n            {\n                if(a[i]&gt;a[j])\n                {\n                    int temp=a[i];\n                    a[i]=a[j];\n                    a[j]=temp;\n                }\n\n            }\n        }\n\n        //After sorting\n        for(int i=0;i&lt;a.length;i++)\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n        System.out.print(\"\\nAfter removing duplicates:\");\n        int b=0;\n        a[b]=a[0];\n        for(int i=0;i&lt;a.length;i++)\n        {\n            if (a[b]!=a[i])\n            {\n                b++;\n                a[b]=a[i];\n            }\n        }\n        for (int i=0;i&lt;=b;i++ )\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n    }\n}\n  OUTPUT:Before Sortng:3 2 1 4 2 1 After Sorting:1 1 2 2 3 4 \n                Removing Duplicates:1 2 3 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4333163,"reputation":1673,"user_id":3538065,"accept_rate":44,"display_name":"driftking9987"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407168993,"creation_date":1407168993,"answer_id":25123107,"question_id":17967114,"body_markdown":"    int tempvar=0; //Variable for the final array without any duplicates\r\n    \t int whilecount=0;    //variable for while loop\r\n    \t while(whilecount&lt;(nsprtable*2)-1) //nsprtable can be any number\r\n    \t {\r\n    //to check whether the next value is idential in case of sorted array\t\t\r\n    if(temparray[whilecount]!=temparray[whilecount+1])\r\n    \t\t{\r\n    \t\t\tfinalarray[tempvar]=temparray[whilecount];\r\n    \t\t\ttempvar++;\r\n    \t\t\twhilecount=whilecount+1;\r\n    \t\t}\r\n    \t\telse if (temparray[whilecount]==temparray[whilecount+1])\r\n    \t\t{\r\n    \t\t\tfinalarray[tempvar]=temparray[whilecount];\r\n    \t\t\ttempvar++;\r\n    \t\t\twhilecount=whilecount+2;\r\n    \t\t}\r\n    \t }\r\n\r\nHope this helps or solves the purpose.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>int tempvar=0; //Variable for the final array without any duplicates\n     int whilecount=0;    //variable for while loop\n     while(whilecount&lt;(nsprtable*2)-1) //nsprtable can be any number\n     {\n//to check whether the next value is idential in case of sorted array       \nif(temparray[whilecount]!=temparray[whilecount+1])\n        {\n            finalarray[tempvar]=temparray[whilecount];\n            tempvar++;\n            whilecount=whilecount+1;\n        }\n        else if (temparray[whilecount]==temparray[whilecount+1])\n        {\n            finalarray[tempvar]=temparray[whilecount];\n            tempvar++;\n            whilecount=whilecount+2;\n        }\n     }\n</code></pre>\n\n<p>Hope this helps or solves the purpose.</p>\n"},{"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1532985397,"creation_date":1407272092,"answer_id":25148131,"question_id":17967114,"body_markdown":"**Note: I am assuming the array is sorted.**\r\n\r\nCode:\r\n\r\n    int[] input = new int[]{1, 1, 3, 7, 7, 8, 9, 9, 9, 10};\r\n    int current = input[0];\r\n    boolean found = false;\r\n\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n        if (current == input[i] &amp;&amp; !found) {\r\n            found = true;\r\n        } else if (current != input[i]) {\r\n            System.out.print(&quot; &quot; + current);\r\n            current = input[i];\r\n            found = false;\r\n        }\r\n    }\r\n    System.out.print(&quot; &quot; + current);\r\n\r\noutput:\r\n\r\n      1 3 7 8 9 10\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p><strong>Note: I am assuming the array is sorted.</strong></p>\n\n<p>Code:</p>\n\n<pre><code>int[] input = new int[]{1, 1, 3, 7, 7, 8, 9, 9, 9, 10};\nint current = input[0];\nboolean found = false;\n\nfor (int i = 0; i &lt; input.length; i++) {\n    if (current == input[i] &amp;&amp; !found) {\n        found = true;\n    } else if (current != input[i]) {\n        System.out.print(\" \" + current);\n        current = input[i];\n        found = false;\n    }\n}\nSystem.out.print(\" \" + current);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>  1 3 7 8 9 10\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3222017"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413348940,"creation_date":1413348940,"answer_id":26374737,"question_id":17967114,"body_markdown":"    package com.pari.practice;\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n\r\n    import com.pari.sort.Sort;\r\n\r\n    public class RemoveDuplicates {\r\n\t\r\n\t /**\r\n\t * brute force- o(N square)\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups(int[] input){\r\n\t\tboolean[] isSame = new boolean[input.length];\r\n\t\tint sameNums = 0;\r\n\t\t\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tfor( int j = i+1; j &lt; input.length; j++){\r\n\t\t\t\tif( input[j] == input[i] ){ //compare same\r\n\t\t\t\t\tisSame[j] = true;\r\n\t\t\t\t\tsameNums++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] result = new int[input.length-sameNums];\r\n\t\tint count = 0;\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tif( isSame[i] == true) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tresult[count] = input[i];\r\n\t\t\t\tcount++;\r\n \t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * set - o(N)\r\n\t * does not guarantee order of elements returned - set property\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups1(int[] input){\r\n\t\tHashSet myset = new HashSet();\r\n\t\t\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tmyset.add(input[i]);\r\n\t\t}\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] result = new int[myset.size()];\r\n\t\tIterator setitr = myset.iterator();\r\n\t\tint count = 0;\r\n\t\twhile( setitr.hasNext() ){\r\n\t\t\tresult[count] = (int) setitr.next();\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n  \treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * quicksort - o(Nlogn)\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups2(int[] input){\r\n\t\tSort st = new Sort();\r\n\t\tst.quickSort(input, 0, input.length-1); //input is sorted\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] intermediateResult = new int[input.length];\r\n\t\tint count = 0;\r\n\t\tint prev = Integer.MIN_VALUE;\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tif( input[i] != prev ){\r\n\t\t\t\tintermediateResult[count] = input[i];\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tprev = input[i];\r\n\t\t}\r\n\t\t\r\n\t\tint[] result = new int[count];\r\n\t\tSystem.arraycopy(intermediateResult, 0, result, 0, count);\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void printArray(int[] input){\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tSystem.out.print(input[i] + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tint[] input = {5,6,8,0,1,2,5,9,11,0};\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups(input));\r\n\t\tSystem.out.println();\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups1(input));\r\n\t\tSystem.out.println();\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups2(input));\r\n\t}\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n5 6 8 0 1 2 9 11 \r\n\r\n0 1 2 5 6 8 9 11 \r\n\r\n0 1 2 5 6 8 9 11 \r\n\r\nI have just written the above code for trying out. thanks.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>package com.pari.practice;\n\nimport java.util.HashSet;\nimport java.util.Iterator;\n\nimport com.pari.sort.Sort;\n\npublic class RemoveDuplicates {\n\n /**\n * brute force- o(N square)\n * \n * @param input\n * @return\n */\npublic static int[] removeDups(int[] input){\n    boolean[] isSame = new boolean[input.length];\n    int sameNums = 0;\n\n    for( int i = 0; i &lt; input.length; i++ ){\n        for( int j = i+1; j &lt; input.length; j++){\n            if( input[j] == input[i] ){ //compare same\n                isSame[j] = true;\n                sameNums++;\n            }\n        }\n    }\n\n    //compact the array into the result.\n    int[] result = new int[input.length-sameNums];\n    int count = 0;\n    for( int i = 0; i &lt; input.length; i++ ){\n        if( isSame[i] == true) {\n            continue;\n        }\n        else{\n            result[count] = input[i];\n            count++;\n        }\n    }\n\n    return result;\n}\n\n/**\n * set - o(N)\n * does not guarantee order of elements returned - set property\n * \n * @param input\n * @return\n */\npublic static int[] removeDups1(int[] input){\n    HashSet myset = new HashSet();\n\n    for( int i = 0; i &lt; input.length; i++ ){\n        myset.add(input[i]);\n    }\n\n    //compact the array into the result.\n    int[] result = new int[myset.size()];\n    Iterator setitr = myset.iterator();\n    int count = 0;\n    while( setitr.hasNext() ){\n        result[count] = (int) setitr.next();\n        count++;\n    }\n\nreturn result;\n}\n\n/**\n * quicksort - o(Nlogn)\n * \n * @param input\n * @return\n */\npublic static int[] removeDups2(int[] input){\n    Sort st = new Sort();\n    st.quickSort(input, 0, input.length-1); //input is sorted\n\n    //compact the array into the result.\n    int[] intermediateResult = new int[input.length];\n    int count = 0;\n    int prev = Integer.MIN_VALUE;\n    for( int i = 0; i &lt; input.length; i++ ){\n        if( input[i] != prev ){\n            intermediateResult[count] = input[i];\n            count++;\n        }\n        prev = input[i];\n    }\n\n    int[] result = new int[count];\n    System.arraycopy(intermediateResult, 0, result, 0, count);\n\n    return result;\n}\n\n\npublic static void printArray(int[] input){\n    for( int i = 0; i &lt; input.length; i++ ){\n        System.out.print(input[i] + \" \");\n    }\n}\n\npublic static void main(String[] args){\n    int[] input = {5,6,8,0,1,2,5,9,11,0};\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups(input));\n    System.out.println();\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups1(input));\n    System.out.println();\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups2(input));\n}\n}\n</code></pre>\n\n<p>Output:\n5 6 8 0 1 2 9 11 </p>\n\n<p>0 1 2 5 6 8 9 11 </p>\n\n<p>0 1 2 5 6 8 9 11 </p>\n\n<p>I have just written the above code for trying out. thanks.</p>\n"},{"tags":[],"owner":{"account_id":4888255,"reputation":4302,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1429031864,"creation_date":1429031864,"answer_id":29633545,"question_id":17967114,"body_markdown":"Slight modification to the original code itself, by removing the innermost for loop.\r\n\r\n\tpublic static int[] removeDuplicates(int[] arr){\r\n\t\tint end = arr.length;\r\n\r\n\t    for (int i = 0; i &lt; end; i++) {\r\n\t        for (int j = i + 1; j &lt; end; j++) {\r\n\t            if (arr[i] == arr[j]) {                  \r\n\t            \t/*int shiftLeft = j;\r\n\t                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\r\n\t                    arr[shiftLeft] = arr[k];\r\n\t                }*/\r\n\t            \tarr[j] = arr[end-1];\r\n\t                end--;\r\n\t                j--;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    int[] whitelist = new int[end];\r\n\t    /*for(int i = 0; i &lt; end; i++){\r\n\t        whitelist[i] = arr[i];\r\n\t    }*/\r\n\t    System.arraycopy(arr, 0, whitelist, 0, end);\r\n\t    return whitelist;\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Slight modification to the original code itself, by removing the innermost for loop.</p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr){\n    int end = arr.length;\n\n    for (int i = 0; i &lt; end; i++) {\n        for (int j = i + 1; j &lt; end; j++) {\n            if (arr[i] == arr[j]) {                  \n                /*int shiftLeft = j;\n                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\n                    arr[shiftLeft] = arr[k];\n                }*/\n                arr[j] = arr[end-1];\n                end--;\n                j--;\n            }\n        }\n    }\n\n    int[] whitelist = new int[end];\n    /*for(int i = 0; i &lt; end; i++){\n        whitelist[i] = arr[i];\n    }*/\n    System.arraycopy(arr, 0, whitelist, 0, end);\n    return whitelist;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6307018,"reputation":1,"user_id":4916184,"display_name":"JavDev"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1436332503,"creation_date":1436332503,"answer_id":31283992,"question_id":17967114,"body_markdown":"    public class RemoveDuplicates {\r\n\tpublic Integer[] returnUniqueNumbers(Integer[] original,\r\n\t\t\tInteger[] uniqueNumbers) {\r\n\t\tint k = 0;\t\r\n\t\t\r\n\t\tfor (int j =  original.length - 1; j &gt;= 0; j--) {\r\n\t\t\tboolean present = false;\r\n\t\t\tfor (Integer u : uniqueNumbers) {\r\n\t\t\t\tif (u != null){\r\n\t\t\t\tif(u.equals(original[j])) {\r\n\t\t\t\t\tpresent = true;\r\n\t\t\t\t}}\r\n\t\t\t}\r\n\t\t\tif (present == false) {\r\n\t\t\t\tuniqueNumbers[k] = original[j];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn uniqueNumbers;\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tRemoveDuplicates removeDup = new RemoveDuplicates();\r\n\t\tInteger[] original = { 10, 20, 40, 30, 50, 40, 30, 20, 10, 50, 50, 50,20,30,10,40 };\r\n\t\tInteger[] finalValue = new Integer[original.length + 1];\r\n\r\n\t\t// method to return unique values\r\n\t\tInteger[] unique = removeDup.returnUniqueNumbers(original, finalValue);\r\n\r\n\t\t// iterate to return unique values\r\n\t\tfor (Integer u : unique) {\r\n\t\t\tif (u != null) {\r\n\t\t\t\tSystem.out.println(&quot;unique value : &quot; + u);\r\n\t\t\t}\r\n\t\t}\r\n\t}}\r\n\r\nThis code handles unsorted array containing multiple duplicates for same value and returns unique elements.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public class RemoveDuplicates {\npublic Integer[] returnUniqueNumbers(Integer[] original,\n        Integer[] uniqueNumbers) {\n    int k = 0;  \n\n    for (int j =  original.length - 1; j &gt;= 0; j--) {\n        boolean present = false;\n        for (Integer u : uniqueNumbers) {\n            if (u != null){\n            if(u.equals(original[j])) {\n                present = true;\n            }}\n        }\n        if (present == false) {\n            uniqueNumbers[k] = original[j];\n            k++;\n        }\n    }\n    return uniqueNumbers;\n}\n\npublic static void main(String args[]) {\n    RemoveDuplicates removeDup = new RemoveDuplicates();\n    Integer[] original = { 10, 20, 40, 30, 50, 40, 30, 20, 10, 50, 50, 50,20,30,10,40 };\n    Integer[] finalValue = new Integer[original.length + 1];\n\n    // method to return unique values\n    Integer[] unique = removeDup.returnUniqueNumbers(original, finalValue);\n\n    // iterate to return unique values\n    for (Integer u : unique) {\n        if (u != null) {\n            System.out.println(\"unique value : \" + u);\n        }\n    }\n}}\n</code></pre>\n\n<p>This code handles unsorted array containing multiple duplicates for same value and returns unique elements.</p>\n"},{"tags":[],"owner":{"account_id":2461576,"reputation":1,"user_id":2145636,"display_name":"Raj Asthana"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1437258466,"creation_date":1437258466,"answer_id":31496173,"question_id":17967114,"body_markdown":"I have done using sample as 12 elements, \r\n\r\n\r\npublic class Remdup_arr {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint a[] = {1,1,2,3,4,4,5,6,7,8,6,8};\r\n\t\tfor(int p : a)\r\n\t\t{\r\n\t\t\tSystem.out.print(p);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tremdup(a);\r\n\t\t\r\n\t}\r\n\r\n\tprivate static void remdup(int[] a) {\r\n\t\t\r\n\t\tint length = a.length;\r\n\t\tint b[] = new int[11];\r\n\t\tint d = 1;\r\n\t\tb[0]=a[0];\r\n\t\twhile(length&lt;13 &amp;&amp; length&gt;0)\r\n\t\t{\r\n\t\t\tint x = a[length-1];\r\n\t\t\tif(!(contain(b , x)))\r\n\t\t\t\t{b[d] = a[length-1];\r\n\t\t\t\td++;}\r\n\t\t\tlength--;\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tfor( int z = 0;z&lt;b.length;z++){\r\n\t\t\tSystem.out.print(b[z]);\r\n\t\t    System.out.print(&quot;\\t&quot;);}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static boolean contain(int[] b ,int p) {\r\n\t\t\r\n\t\tboolean bool = false;\r\n\t\tint len = b.length;\r\n\t\tfor(int i = 0;i&lt;len;i++)\r\n\t\t{\r\n\t\t\tif(p == b[i])\r\n\t\t\t\tbool = true;\r\n\t\t}\r\n\t\t\t\r\n\t    \t\t\r\n\t\t\t\r\n\t\treturn bool;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\t\r\n\r\noutput is :-\r\n1\t1\t2\t3\t4\t4\t5\t6\t7\t8\t6\t8\t\r\n\r\n1\t8\t6\t7\t5\t4\t3\t2\t0\t0\t0\t","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I have done using sample as 12 elements, </p>\n\n<p>public class Remdup_arr {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int a[] = {1,1,2,3,4,4,5,6,7,8,6,8};\n    for(int p : a)\n    {\n        System.out.print(p);\n        System.out.print(\"\\t\");\n    }\n\n    System.out.println();\n    System.out.println();\n\n    remdup(a);\n\n}\n\nprivate static void remdup(int[] a) {\n\n    int length = a.length;\n    int b[] = new int[11];\n    int d = 1;\n    b[0]=a[0];\n    while(length&lt;13 &amp;&amp; length&gt;0)\n    {\n        int x = a[length-1];\n        if(!(contain(b , x)))\n            {b[d] = a[length-1];\n            d++;}\n        length--;\n\n\n    }\n\n    for( int z = 0;z&lt;b.length;z++){\n        System.out.print(b[z]);\n        System.out.print(\"\\t\");}\n\n}\n\nprivate static boolean contain(int[] b ,int p) {\n\n    boolean bool = false;\n    int len = b.length;\n    for(int i = 0;i&lt;len;i++)\n    {\n        if(p == b[i])\n            bool = true;\n    }\n\n\n\n    return bool;\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>output is :-\n1   1   2   3   4   4   5   6   7   8   6   8   </p>\n\n<p>1   8   6   7   5   4   3   2   0   0   0   </p>\n"},{"tags":[],"owner":{"account_id":6832217,"reputation":21,"user_id":5255742,"display_name":"Deepanjan Das"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1440394152,"creation_date":1440270606,"answer_id":32159808,"question_id":17967114,"body_markdown":"Use the ArrayUtil class as you need. I have written some methods other than removing duplicates. This class is implemented without using any Collection framework classes.\r\n\r\n    public class ArrayUtils {\r\n\t/**\r\n\t * Removes all duplicate elements from an array. \r\n\t * @param arr Array from which duplicate elements are to be removed.\r\n\t * @param removeAllDuplicates true if remove all duplicate values, false otherwise \r\n\t * @return Array of unique elements.\r\n\t */\r\n\tpublic static int[] removeDuplicate(int[] arr, boolean removeAllDuplicates)         {\r\n\t\tint size = arr.length;\r\n\r\n\t\tfor (int i = 0; i &lt; size;) {\r\n\t\t\tboolean flag = false;\r\n\r\n\t\t\tfor (int j = i + 1; j &lt; size;) {\r\n\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\tshrinkArray(arr, j, size);\r\n\t\t\t\t\tsize--;\r\n\t\t\t\t} else\r\n\t\t\t\t\tj++;\r\n\t\t\t}\r\n\r\n\t\t\tif (flag &amp;&amp; removeAllDuplicates) {\r\n\t\t\t\tshrinkArray(arr, i, size);\r\n\t\t\t\tsize--;\r\n\t\t\t} else\r\n\t\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tint unique[] = new int[size];\r\n\t\tfor (int i = 0; i &lt; size; i++)\r\n\t\t\tunique[i] = arr[i];\r\n\r\n\t\treturn unique;\r\n\t}\r\n\r\n\t/**\r\n\t * Removes duplicate elements from an array. \r\n\t * @param arr Array from which duplicate elements are to be removed.\r\n\t * @return Array of unique elements.\r\n\t */\r\n\tpublic static int[] removeDuplicate(int[] arr) {\r\n\t\treturn removeDuplicate(arr, false);\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void shrinkArray(int[] arr, int pos, int size) {\r\n\t\tfor (int i = pos; i &lt; size - 1; i++) {\r\n\t\t\tarr[i] = arr[i + 1];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Displays the array.\r\n\t * @param arr The array to be displayed.\r\n\t */\r\n\tpublic static void displayArray(int arr[]) {\r\n\t\tSystem.out.println(&quot;\\n\\nThe Array Is:-\\n&quot;);\r\n\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.print(arr[i] + &quot;\\t&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initializes the array with a given value.\r\n\t * @param arr The array to be initialized.\r\n\t * @param withValue The value with which the array is to be initialized.\r\n\t */\r\n\tpublic static void initializeArray(int[] arr, int withValue) {\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = withValue;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Checks whether an element is there in the array. \r\n\t * @param arr The array in which the element is to be found.\r\n\t * @param element The element that is to be found.\r\n\t * @return True if found false otherwise\r\n\t */\r\n\tpublic static boolean contains(int arr[], int element) {\r\n\t\tfor(int i=0; i&lt; arr.length; i++) {\r\n\t\t\tif(arr[i] == element)\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Removes a element from an array.\r\n\t * @param arr The array from which the element is to removed.\r\n\t * @param element The element to be removed\r\n\t * @return The size of the array after removing.\r\n\t */\r\n\tpublic static int removeElement(int[] arr, int element) {\r\n\t\tint size = arr.length;\r\n\t\tfor(int i=0; i&lt; arr.length; i++){\r\n\t\t\tif(arr[i] == element){\r\n\t\t\t\tshrinkArray(arr, i, arr.length);\r\n\t\t\t\tsize--;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Counts unique elements in an array.\r\n\t * @param arr The required array.\r\n\t * @return Unique element count.\r\n\t */\r\n\tpublic static int uniqueElementCount(int arr[]) {\r\n\t\tint count = 0;\r\n\t\tint uniqueCount=0;\r\n\t\tint[] consideredElements = new int[arr.length];\r\n\t\t\r\n\t\tinitializeArray(consideredElements, 0);\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\tint element = arr[i];\r\n\t\t\tfor(int j=i+1;j&lt;arr.length; j++){\r\n\t\t\t\tif(element != arr[j] &amp;&amp; !contains(consideredElements, element)){\r\n\t\t\t\t\tconsideredElements[count++] = element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0;i&lt; consideredElements.length;i++)\r\n\t\t\tif(consideredElements[i]!=0)\r\n\t\t\t\tuniqueCount++;\r\n\t\t\t\r\n\t\treturn uniqueCount;\r\n\t}\r\n    }\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Use the ArrayUtil class as you need. I have written some methods other than removing duplicates. This class is implemented without using any Collection framework classes.</p>\n\n<pre><code>public class ArrayUtils {\n/**\n * Removes all duplicate elements from an array. \n * @param arr Array from which duplicate elements are to be removed.\n * @param removeAllDuplicates true if remove all duplicate values, false otherwise \n * @return Array of unique elements.\n */\npublic static int[] removeDuplicate(int[] arr, boolean removeAllDuplicates)         {\n    int size = arr.length;\n\n    for (int i = 0; i &lt; size;) {\n        boolean flag = false;\n\n        for (int j = i + 1; j &lt; size;) {\n            if (arr[i] == arr[j]) {\n                flag = true;\n                shrinkArray(arr, j, size);\n                size--;\n            } else\n                j++;\n        }\n\n        if (flag &amp;&amp; removeAllDuplicates) {\n            shrinkArray(arr, i, size);\n            size--;\n        } else\n            i++;\n    }\n\n    int unique[] = new int[size];\n    for (int i = 0; i &lt; size; i++)\n        unique[i] = arr[i];\n\n    return unique;\n}\n\n/**\n * Removes duplicate elements from an array. \n * @param arr Array from which duplicate elements are to be removed.\n * @return Array of unique elements.\n */\npublic static int[] removeDuplicate(int[] arr) {\n    return removeDuplicate(arr, false);\n}\n\n\nprivate static void shrinkArray(int[] arr, int pos, int size) {\n    for (int i = pos; i &lt; size - 1; i++) {\n        arr[i] = arr[i + 1];\n    }\n}\n\n/**\n * Displays the array.\n * @param arr The array to be displayed.\n */\npublic static void displayArray(int arr[]) {\n    System.out.println(\"\\n\\nThe Array Is:-\\n\");\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(arr[i] + \"\\t\");\n    }\n}\n\n/**\n * Initializes the array with a given value.\n * @param arr The array to be initialized.\n * @param withValue The value with which the array is to be initialized.\n */\npublic static void initializeArray(int[] arr, int withValue) {\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = withValue;\n    }\n}\n\n/**\n * Checks whether an element is there in the array. \n * @param arr The array in which the element is to be found.\n * @param element The element that is to be found.\n * @return True if found false otherwise\n */\npublic static boolean contains(int arr[], int element) {\n    for(int i=0; i&lt; arr.length; i++) {\n        if(arr[i] == element)\n            return true;\n    }\n\n    return false;\n}\n\n/**\n * Removes a element from an array.\n * @param arr The array from which the element is to removed.\n * @param element The element to be removed\n * @return The size of the array after removing.\n */\npublic static int removeElement(int[] arr, int element) {\n    int size = arr.length;\n    for(int i=0; i&lt; arr.length; i++){\n        if(arr[i] == element){\n            shrinkArray(arr, i, arr.length);\n            size--;\n        }\n    }\n    return size;\n}\n\n/**\n * Counts unique elements in an array.\n * @param arr The required array.\n * @return Unique element count.\n */\npublic static int uniqueElementCount(int arr[]) {\n    int count = 0;\n    int uniqueCount=0;\n    int[] consideredElements = new int[arr.length];\n\n    initializeArray(consideredElements, 0);\n\n    for(int i=0;i&lt;arr.length;i++) {\n        int element = arr[i];\n        for(int j=i+1;j&lt;arr.length; j++){\n            if(element != arr[j] &amp;&amp; !contains(consideredElements, element)){\n                consideredElements[count++] = element;\n            }\n        }\n    }\n\n    for(int i=0;i&lt; consideredElements.length;i++)\n        if(consideredElements[i]!=0)\n            uniqueCount++;\n\n    return uniqueCount;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6936585,"reputation":9,"user_id":5324294,"display_name":"venkata harish"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441958010,"creation_date":1441956878,"answer_id":32518025,"question_id":17967114,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tInteger[] intArray = { 1, 1, 1, 2, 4, 2, 3, 5, 3, 6, 7, 3, 4, 5 };\r\n    \t\tInteger[] finalArray = removeDuplicates(intArray);\r\n    \t\tSystem.err.println(Arrays.asList(finalArray));\r\n    \t}\r\n    \r\n    \tprivate static Integer[] removeDuplicates(Integer[] intArray) {\r\n    \t\tint count = 0;\r\n    \t\tInteger[] interimArray = new Integer[intArray.length];\r\n    \t\tfor (int i = 0; i &lt; intArray.length; i++) {\r\n    \t\t\tboolean exists = false;\r\n    \t\t\tfor (int j = 0; j &lt; interimArray.length; j++) {\r\n    \t\t\t\tif (interimArray[j]!=null &amp;&amp; interimArray[j] == intArray[i]) {\r\n    \t\t\t\t\texists = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (!exists) {\r\n    \t\t\t\tinterimArray[count] = intArray[i];\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfinal Integer[] finalArray = new Integer[count];\r\n    \t    System.arraycopy(interimArray, 0, finalArray, 0, count);\r\n    \t\treturn finalArray;\r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String[] args) {\n        Integer[] intArray = { 1, 1, 1, 2, 4, 2, 3, 5, 3, 6, 7, 3, 4, 5 };\n        Integer[] finalArray = removeDuplicates(intArray);\n        System.err.println(Arrays.asList(finalArray));\n    }\n\n    private static Integer[] removeDuplicates(Integer[] intArray) {\n        int count = 0;\n        Integer[] interimArray = new Integer[intArray.length];\n        for (int i = 0; i &lt; intArray.length; i++) {\n            boolean exists = false;\n            for (int j = 0; j &lt; interimArray.length; j++) {\n                if (interimArray[j]!=null &amp;&amp; interimArray[j] == intArray[i]) {\n                    exists = true;\n                }\n            }\n            if (!exists) {\n                interimArray[count] = intArray[i];\n                count++;\n            }\n        }\n        final Integer[] finalArray = new Integer[count];\n        System.arraycopy(interimArray, 0, finalArray, 0, count);\n        return finalArray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429479,"reputation":43,"user_id":812393,"display_name":"Jonathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441960549,"creation_date":1441960549,"answer_id":32519076,"question_id":17967114,"body_markdown":"I feel Android Killer&#39;s idea is great, but I just wondered if we can leverage HashMap. So I did a little experiment. And I found HashMap seems faster than HashSet.\r\n\r\nHere is code:\r\n\r\n        int[] input = new int[1000000];\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tRandom random = new Random();\r\n\t\t\tinput[i] = random.nextInt(200000);\r\n\t\t}\r\n\r\n\t\tlong startTime1 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Set start time:&quot; + startTime1);\r\n\r\n\t\tSet&lt;Integer&gt; resultSet = new HashSet&lt;Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tresultSet.add(input[i]);\r\n\t\t}\r\n\r\n\t\tlong endTime1 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Set end time:&quot;+ endTime1);\r\n\t\tSystem.out.println(&quot;result of set:&quot; + (endTime1 - startTime1));\t\t\r\n\t\tSystem.out.println(&quot;number of Set:&quot; + resultSet.size() + &quot;\\n&quot;);\r\n\r\n\t\tlong startTime2 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Map start time:&quot; + startTime1);\r\n\r\n\t\tMap&lt;Integer, Integer&gt; resultMap = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tif (!resultMap.containsKey(input[i]))\r\n\t\t\t\tresultMap.put(input[i], input[i]);\r\n\t\t}\r\n\r\n\t\tlong endTime2 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Map end Time:&quot; + endTime2);\r\n\t\tSystem.out.println(&quot;result of Map:&quot; + (endTime2 - startTime2));\r\n\t\tSystem.out.println(&quot;number of Map:&quot; + resultMap.size());\r\n\r\nHere is result:\r\n\r\n    Set start time:1441960583837\r\n    Set end time:1441960583917\r\n    result of set:80\r\n    number of Set:198652\r\n    \r\n    Map start time:1441960583837\r\n    Map end Time:1441960583983\r\n    result of Map:66\r\n    number of Map:198652\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I feel Android Killer's idea is great, but I just wondered if we can leverage HashMap. So I did a little experiment. And I found HashMap seems faster than HashSet.</p>\n\n<p>Here is code:</p>\n\n<pre><code>    int[] input = new int[1000000];\n\n    for (int i = 0; i &lt; input.length; i++) {\n        Random random = new Random();\n        input[i] = random.nextInt(200000);\n    }\n\n    long startTime1 = new Date().getTime();\n    System.out.println(\"Set start time:\" + startTime1);\n\n    Set&lt;Integer&gt; resultSet = new HashSet&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; input.length; i++) {\n        resultSet.add(input[i]);\n    }\n\n    long endTime1 = new Date().getTime();\n    System.out.println(\"Set end time:\"+ endTime1);\n    System.out.println(\"result of set:\" + (endTime1 - startTime1));     \n    System.out.println(\"number of Set:\" + resultSet.size() + \"\\n\");\n\n    long startTime2 = new Date().getTime();\n    System.out.println(\"Map start time:\" + startTime1);\n\n    Map&lt;Integer, Integer&gt; resultMap = new HashMap&lt;Integer, Integer&gt;();\n\n    for (int i = 0; i &lt; input.length; i++) {\n        if (!resultMap.containsKey(input[i]))\n            resultMap.put(input[i], input[i]);\n    }\n\n    long endTime2 = new Date().getTime();\n    System.out.println(\"Map end Time:\" + endTime2);\n    System.out.println(\"result of Map:\" + (endTime2 - startTime2));\n    System.out.println(\"number of Map:\" + resultMap.size());\n</code></pre>\n\n<p>Here is result:</p>\n\n<pre><code>Set start time:1441960583837\nSet end time:1441960583917\nresult of set:80\nnumber of Set:198652\n\nMap start time:1441960583837\nMap end Time:1441960583983\nresult of Map:66\nnumber of Map:198652\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1479475835,"creation_date":1442821095,"answer_id":32689754,"question_id":17967114,"body_markdown":"Since this question is still getting a lot of attention, I decided to answer it by copying [this answer from Code Review.SE](https://codereview.stackexchange.com/a/29216/5799):\r\n\r\n&gt; You&#39;re following the same philosophy as the bubble sort, which is\r\n&gt; very, very, very slow. Have you tried this?:\r\n&gt; \r\n&gt;- Sort your unordered array with [quicksort](http://en.wikipedia.org/wiki/Quicksort). Quicksort is much faster\r\n&gt; than bubble sort (I know, you are not sorting, but the algorithm you\r\n&gt; follow is almost the same as bubble sort to traverse the array). \r\n\r\n\r\n&gt;- Then start removing duplicates (repeated values will be next to each\r\n&gt; other). In a `for` loop you could have two indices: `source` and\r\n&gt; `destination`. (On each loop you copy `source` to `destination` unless they\r\n&gt; are the same, and increment both by 1). Every time you find a\r\n&gt; duplicate you increment source (and don&#39;t perform the copy).\r\n@morgano","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Since this question is still getting a lot of attention, I decided to answer it by copying <a href=\"https://codereview.stackexchange.com/a/29216/5799\">this answer from Code Review.SE</a>:</p>\n\n<blockquote>\n  <p>You're following the same philosophy as the bubble sort, which is\n  very, very, very slow. Have you tried this?:</p>\n  \n  <ul>\n  <li><p>Sort your unordered array with <a href=\"http://en.wikipedia.org/wiki/Quicksort\" rel=\"noreferrer\">quicksort</a>. Quicksort is much faster\n  than bubble sort (I know, you are not sorting, but the algorithm you\n  follow is almost the same as bubble sort to traverse the array). </p></li>\n  <li><p>Then start removing duplicates (repeated values will be next to each\n  other). In a <code>for</code> loop you could have two indices: <code>source</code> and\n  <code>destination</code>. (On each loop you copy <code>source</code> to <code>destination</code> unless they\n  are the same, and increment both by 1). Every time you find a\n  duplicate you increment source (and don't perform the copy).\n  @morgano</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6100119,"reputation":221,"user_id":4759425,"accept_rate":33,"display_name":"UmaShankar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453703699,"creation_date":1453703699,"answer_id":34986443,"question_id":17967114,"body_markdown":"Hope it helps...\r\n\r\n    if (!checked)//Condition to add into array {\r\n\t\t\t$scope.selectWeekDays.push(WeekKeys);\r\n\t\t} else {\r\n\t\t\tfor (i = 0; i &lt;= $scope.selectWeekDays.length; i++) // Loop to check IsExists {\r\n\t\t\t\tif ($scope.selectWeekDays[i] == WeekKeys)//then if Equals removing by splice {\r\n\t\t\t\t\t$scope.selectWeekDays.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Hope it helps...</p>\n\n<pre><code>if (!checked)//Condition to add into array {\n        $scope.selectWeekDays.push(WeekKeys);\n    } else {\n        for (i = 0; i &lt;= $scope.selectWeekDays.length; i++) // Loop to check IsExists {\n            if ($scope.selectWeekDays[i] == WeekKeys)//then if Equals removing by splice {\n                $scope.selectWeekDays.splice(i, 1);\n                break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8033728,"reputation":105,"user_id":6057655,"display_name":"Bharath Kumar"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461612880,"creation_date":1461612880,"answer_id":36849523,"question_id":17967114,"body_markdown":"      public static void main(String[] args) { \r\n                int input[] = { 1, 5, 1, 0, -3, 1, -3, 2, 1 }; \r\n                int j = 0; \r\n                int output[] = new int[100]; \r\n                Arrays.fill(a, 0); \r\n                for (int i = 0; i &lt; 9; i++) { \r\n                        if (output[input[i]] == 0) {\r\n                                input[j++] = input[i]; \r\n                                output[input[i]]++; \r\n                        } \r\n                } \r\n                for (int i = 0; i &lt; j; i++) { \r\n                        System.out.print(input[i] + &quot; &quot;); \r\n                } \r\n        }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>  public static void main(String[] args) { \n            int input[] = { 1, 5, 1, 0, -3, 1, -3, 2, 1 }; \n            int j = 0; \n            int output[] = new int[100]; \n            Arrays.fill(a, 0); \n            for (int i = 0; i &lt; 9; i++) { \n                    if (output[input[i]] == 0) {\n                            input[j++] = input[i]; \n                            output[input[i]]++; \n                    } \n            } \n            for (int i = 0; i &lt; j; i++) { \n                    System.out.print(input[i] + \" \"); \n            } \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8708164,"reputation":71,"user_id":6515353,"display_name":"Nitin Sindhe"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1466959042,"creation_date":1466957761,"answer_id":38040529,"question_id":17967114,"body_markdown":"\tpublic class RemoveDuplicates {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t\tint size;\r\n\t\t\tSystem.out.println(&quot;Enter an array size&quot;);\r\n\t\t\tScanner sc=new Scanner(System.in);\r\n\t\t\tsize = sc.nextInt();\r\n\t\t\r\n\t\t\tint arr[] = new int[size];\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Enter &quot;+size+&quot; numbers&quot;);\r\n\t\t\tfor(int i=0;i&lt;size;i++){\r\n\t\t\t\tarr[i]=sc.nextInt();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor(int i=0;i&lt;size;i++){\r\n\t\t\t\tint count=0;\r\n\t\t\t\tfor(int j=i+1;j&lt;size;j++){\r\n\t\t\t\t\tif(arr[i]==arr[j]){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tint shiftLeft = j;\r\n\t\t\t\t\r\n\t\t\t\t\t\tfor (int k = j+1; k &lt; size; k++, shiftLeft++) {\r\n\t\t\t\t\t\t\tarr[shiftLeft] = arr[k];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsize--;\r\n\t\t\t\t\t\tj--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;New Array&quot;);\r\n\t\t\tfor(int i=0;i&lt;size;i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(arr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n    }\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public class RemoveDuplicates {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int size;\n        System.out.println(\"Enter an array size\");\n        Scanner sc=new Scanner(System.in);\n        size = sc.nextInt();\n\n        int arr[] = new int[size];\n\n        System.out.println(\"Enter \"+size+\" numbers\");\n        for(int i=0;i&lt;size;i++){\n            arr[i]=sc.nextInt();\n        }\n\n        for(int i=0;i&lt;size;i++){\n            int count=0;\n            for(int j=i+1;j&lt;size;j++){\n                if(arr[i]==arr[j]){\n\n                    int shiftLeft = j;\n\n                    for (int k = j+1; k &lt; size; k++, shiftLeft++) {\n                        arr[shiftLeft] = arr[k];\n                    }\n                    size--;\n                    j--;\n                }\n            }\n        }\n        System.out.println(\"New Array\");\n        for(int i=0;i&lt;size;i++)\n        {\n            System.out.println(arr[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8798502,"reputation":9,"user_id":6575604,"display_name":"Naveen Sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1468254817,"creation_date":1468254817,"answer_id":38311919,"question_id":17967114,"body_markdown":"    //Remove duplicate from sorted array\r\n    \r\n    public class RemDupFromArray {\r\n    \tstatic int num;\r\n    \tpublic static void main(String[] args){\r\n    \t\tint arr[] = {0,0,2,2,3, 5, 5,7, 7, 7};\r\n    \t\tfor(int i=0;i&lt;arr.length-1;i++){\r\n    \t\t\tif(num!=arr[i]){\r\n    \t\t\t\tnum=arr[i];\r\n    \t\t\t\tSystem.out.print(arr[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>//Remove duplicate from sorted array\n\npublic class RemDupFromArray {\n    static int num;\n    public static void main(String[] args){\n        int arr[] = {0,0,2,2,3, 5, 5,7, 7, 7};\n        for(int i=0;i&lt;arr.length-1;i++){\n            if(num!=arr[i]){\n                num=arr[i];\n                System.out.print(arr[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422964,"reputation":33654,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1472044711,"creation_date":1472044711,"answer_id":39124471,"question_id":17967114,"body_markdown":"Well first answer will be to use hashset which is designed to remove duplicates as Android Killer answer pointed out\r\n\r\n**Approach 2 :-**\r\nBut if you are not allowed to use set then sort it first with quicksort which will be nlogn and then apply `XOR` operation to find duplicates\r\n\r\nOptimized one \r\n\r\n    public static void removeDuplicates(int[] arr) {\r\n    \t\tint[] input = new int[] { 1, 1, 3, 7, 7, 8, 9, 9, 9, 10 };\r\n    \t\tint current = input[0];\r\n    \t\tboolean found = false;\r\n    \r\n    \t\tfor (int i = 0; i &lt; input.length-1; i++) {\r\n    \t\t\t\r\n    \t\t\tif((input[i]^input[i+1])==0){\r\n    \t\t\t\tSystem.out.println(input[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Well first answer will be to use hashset which is designed to remove duplicates as Android Killer answer pointed out</p>\n\n<p><strong>Approach 2 :-</strong>\nBut if you are not allowed to use set then sort it first with quicksort which will be nlogn and then apply <code>XOR</code> operation to find duplicates</p>\n\n<p>Optimized one </p>\n\n<pre><code>public static void removeDuplicates(int[] arr) {\n        int[] input = new int[] { 1, 1, 3, 7, 7, 8, 9, 9, 9, 10 };\n        int current = input[0];\n        boolean found = false;\n\n        for (int i = 0; i &lt; input.length-1; i++) {\n\n            if((input[i]^input[i+1])==0){\n                System.out.println(input[i]);\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9091521,"reputation":1,"user_id":6767192,"display_name":"Azeem Mohammed"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472395827,"creation_date":1472395827,"answer_id":39192493,"question_id":17967114,"body_markdown":"\r\n\r\n       \tpublic static int[] removeDuplicates(int[] input){\r\n        \t\r\n            int j = 0;\r\n            int i = 1;\r\n            //return if the array length is less than 2\r\n            if(input.length &lt; 2){\r\n                return input;\r\n            }\r\n            while(i &lt; input.length){\r\n                if(input[i] == input[j]){\r\n                    i++;\r\n                }else{\r\n                \tj = j+1;\r\n                \tinput[j] = input[i];\r\n                \ti = i+1;\r\n                }    \r\n            }\r\n            int[] output = new int[j+1];\r\n            for(int k=0; k&lt;output.length; k++){\r\n                output[k] = input[k];\r\n            }\r\n             \r\n            return output;\r\n        }\r\n    \r\n    public static void main(String a[]){\r\n            int[] input1 = {2,3,6,6,8,9,10,10,10,12,12};\r\n            int[] output = removeDuplicates(input1);\r\n            for(int i:output){\r\n                System.out.println(i+&quot; &quot;);\r\n            }\r\n        }\r\n     ","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>    public static int[] removeDuplicates(int[] input){\n\n        int j = 0;\n        int i = 1;\n        //return if the array length is less than 2\n        if(input.length &lt; 2){\n            return input;\n        }\n        while(i &lt; input.length){\n            if(input[i] == input[j]){\n                i++;\n            }else{\n                j = j+1;\n                input[j] = input[i];\n                i = i+1;\n            }    \n        }\n        int[] output = new int[j+1];\n        for(int k=0; k&lt;output.length; k++){\n            output[k] = input[k];\n        }\n\n        return output;\n    }\n\npublic static void main(String a[]){\n        int[] input1 = {2,3,6,6,8,9,10,10,10,12,12};\n        int[] output = removeDuplicates(input1);\n        for(int i:output){\n            System.out.println(i+\" \");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8436578,"reputation":59,"user_id":6504878,"display_name":"Papasani Mohansrinivas"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1475656936,"creation_date":1475656936,"answer_id":39869230,"question_id":17967114,"body_markdown":"    \r\n\r\n\r\n\r\n    import java.util.*;\r\n    class removeDuplicate{\r\n\tint [] y ;\r\n\r\n\tpublic removeDuplicate(int[] array){\r\n\t\ty=array;\r\n\t\t\r\n\t\t\r\n\t\tfor(int b=0;b&lt;y.length;b++){\r\n\t\t\tint temp = y[b];\r\n\t\t\tfor(int v=0;v&lt;y.length;v++){\r\n\t\t\t\tif( b!=v &amp;&amp; temp==y[v]){\r\n\t\t\t\t\ty[v]=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>import java.util.*;\nclass removeDuplicate{\nint [] y ;\n\npublic removeDuplicate(int[] array){\n    y=array;\n\n\n    for(int b=0;b&lt;y.length;b++){\n        int temp = y[b];\n        for(int v=0;v&lt;y.length;v++){\n            if( b!=v &amp;&amp; temp==y[v]){\n                y[v]=0;\n            }\n        }\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7337765,"reputation":776,"user_id":5588506,"display_name":"Juan Furattini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481909210,"creation_date":1481895721,"answer_id":41185759,"question_id":17967114,"body_markdown":"This is not using Set, Map, List or any extra collection, only two arrays:\r\n\r\n    package arrays.duplicates;\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.Arrays;\r\n\r\n    public class ArrayDuplicatesRemover&lt;T&gt; {\r\n\r\n        public static &lt;T&gt; T[] removeDuplicates(T[] input, Class&lt;T&gt; clazz) {\r\n            T[] output = (T[]) Array.newInstance(clazz, 0);\r\n            for (T t : input) {\r\n                if (!inArray(t, output)) {\r\n                    output = Arrays.copyOf(output, output.length + 1);\r\n                    output[output.length - 1] = t;\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n\r\n        private static &lt;T&gt; boolean inArray(T search, T[] array) {\r\n            for (T element : array) {\r\n                if (element.equals(search)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\nAnd the main to test it\r\n\r\n    package arrays.duplicates;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class TestArrayDuplicates {\r\n\r\n        public static void main(String[] args) {\r\n            Integer[] array = {1, 1, 2, 2, 3, 3, 3, 3, 4};\r\n            testArrayDuplicatesRemover(array);\r\n        }\r\n\r\n        private static void testArrayDuplicatesRemover(Integer[] array) {\r\n            final Integer[] expectedResult = {1, 2, 3, 4};\r\n            Integer[] arrayWithoutDuplicates = ArrayDuplicatesRemover.removeDuplicates(array, Integer.class);\r\n            System.out.println(&quot;Array without duplicates is supposed to be: &quot; + Arrays.toString(expectedResult));\r\n            System.out.println(&quot;Array without duplicates currently is: &quot; + Arrays.toString(arrayWithoutDuplicates));\r\n            System.out.println(&quot;Is test passed ok?: &quot; + (Arrays.equals(arrayWithoutDuplicates, expectedResult) ? &quot;YES&quot; : &quot;NO&quot;));\r\n        }\r\n\r\n    }\r\n\r\nAnd the output:\r\n\r\n    Array without duplicates is supposed to be: [1, 2, 3, 4]\r\n    Array without duplicates currently is: [1, 2, 3, 4]\r\n    Is test passed ok?: YES","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is not using Set, Map, List or any extra collection, only two arrays:</p>\n\n<pre><code>package arrays.duplicates;\n\nimport java.lang.reflect.Array;\nimport java.util.Arrays;\n\npublic class ArrayDuplicatesRemover&lt;T&gt; {\n\n    public static &lt;T&gt; T[] removeDuplicates(T[] input, Class&lt;T&gt; clazz) {\n        T[] output = (T[]) Array.newInstance(clazz, 0);\n        for (T t : input) {\n            if (!inArray(t, output)) {\n                output = Arrays.copyOf(output, output.length + 1);\n                output[output.length - 1] = t;\n            }\n        }\n        return output;\n    }\n\n    private static &lt;T&gt; boolean inArray(T search, T[] array) {\n        for (T element : array) {\n            if (element.equals(search)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>And the main to test it</p>\n\n<pre><code>package arrays.duplicates;\n\nimport java.util.Arrays;\n\npublic class TestArrayDuplicates {\n\n    public static void main(String[] args) {\n        Integer[] array = {1, 1, 2, 2, 3, 3, 3, 3, 4};\n        testArrayDuplicatesRemover(array);\n    }\n\n    private static void testArrayDuplicatesRemover(Integer[] array) {\n        final Integer[] expectedResult = {1, 2, 3, 4};\n        Integer[] arrayWithoutDuplicates = ArrayDuplicatesRemover.removeDuplicates(array, Integer.class);\n        System.out.println(\"Array without duplicates is supposed to be: \" + Arrays.toString(expectedResult));\n        System.out.println(\"Array without duplicates currently is: \" + Arrays.toString(arrayWithoutDuplicates));\n        System.out.println(\"Is test passed ok?: \" + (Arrays.equals(arrayWithoutDuplicates, expectedResult) ? \"YES\" : \"NO\"));\n    }\n\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Array without duplicates is supposed to be: [1, 2, 3, 4]\nArray without duplicates currently is: [1, 2, 3, 4]\nIs test passed ok?: YES\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692226,"reputation":1140,"user_id":1554363,"accept_rate":86,"display_name":"androidEnthusiast"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665953060,"creation_date":1484850255,"answer_id":41749035,"question_id":17967114,"body_markdown":"How about this one, only for **the sorted Array** of numbers, to print the Array without duplicates, **without using Set** or other Collections, just an Array: \r\n\r\n     public static int[] removeDuplicates(int[] array) {\r\n\t\tint[] nums = new int[array.length];\r\n\t\tint addedNumber = 0;\r\n\t\tint j = 0;\r\n\t\tfor(int i=0; i &lt; array.length; i++) {\r\n\t\t\tif (addedNumber != array[i]) {\r\n\t\t\tnums[j] = array[i];\r\n\t\t\tj++;\r\n\t\t\taddedNumber = nums[j-1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Arrays.copyOf(nums, j);\r\n\t}\r\n\r\n\r\nAn array of 1040 duplicated numbers processed in 33020 nanoseconds(**0.033020 millisec**). ","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>How about this one, only for <strong>the sorted Array</strong> of numbers, to print the Array without duplicates, <strong>without using Set</strong> or other Collections, just an Array:</p>\n<pre><code> public static int[] removeDuplicates(int[] array) {\n    int[] nums = new int[array.length];\n    int addedNumber = 0;\n    int j = 0;\n    for(int i=0; i &lt; array.length; i++) {\n        if (addedNumber != array[i]) {\n        nums[j] = array[i];\n        j++;\n        addedNumber = nums[j-1];\n        }\n    }\n    return Arrays.copyOf(nums, j);\n}\n</code></pre>\n<p>An array of 1040 duplicated numbers processed in 33020 nanoseconds(<strong>0.033020 millisec</strong>).</p>\n"},{"tags":[],"owner":{"account_id":395294,"reputation":24690,"user_id":758174,"accept_rate":61,"display_name":"Pierre D"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491365855,"creation_date":1491365855,"answer_id":43221724,"question_id":17967114,"body_markdown":"Okay, so you cannot use `Set` or other collections.  One solution I don&#39;t see here so far is one based on the use of a [Bloom filter][1], which essentially is an array of bits, so perhaps that passes your requirements.\r\n\r\nThe Bloom filter is a lovely and very handy technique, fast and space-efficient, that can be used to do a quick check of the existence of an element in a set without storing the set itself or the elements.  It has a (typically small) false positive rate, but no false negative rate.  In other words, for your question, if a Bloom filter tells you that an element hasn&#39;t been seen so far, you can be sure it hasn&#39;t.  But if it says that an element has been seen, you actually need to check.  This still saves a lot of time if there aren&#39;t too many duplicates in your list (for those, there is no looping to do, except in the small probability case of a false positive --you typically chose this rate based on how much space you are willing to give to the Bloom filter (rule of thumb: less than 10 bits per unique element for a false positive rate of 1%).\r\n\r\nThere are many implementations of Bloom filters, see e.g. [here][2] or [here][3], so I won&#39;t repeat that in this answer.  Let us just assume the api described in that last reference, in particular, the [description][4] of `put(E e)`:\r\n\r\n&gt; `true` if the Bloom filter&#39;s bits changed as a result of this operation. If the bits changed, this is _definitely_ the first time object has been added to the filter. If the bits haven&#39;t changed, this _might_ be the first time object has been added to the filter. (...)\r\n\r\nAn implementation using such a Bloom filter would then be:\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\r\n        int n = arr.length;\r\n        BloomFilter&lt;Integer&gt; bf = new BloomFilter&lt;&gt;(...);  // decide how many bits and how many hash functions to use (compromise between space and false positive rate)\r\n\r\n        for (int e : arr) {\r\n            boolean might_contain = !bf.put(e);\r\n            boolean found = false;\r\n            if (might_contain) {\r\n                // check if false positive\r\n                for (int u : out) {\r\n                    if (u == e) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!found) {\r\n                out.add(e);\r\n            }\r\n        }\r\n        return out.stream().mapToInt(i -&gt; i).toArray();\r\n    }\r\n\r\nObviously, if you can alter the incoming array in place, then there is no need for an `ArrayList`: at the end, when you know the actual number of unique elements, just `arraycopy()` those.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bloom_filter\r\n  [2]: http://www.javamex.com/tutorials/collections/bloom_filter_java.shtml\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html\r\n  [4]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html#put-T-","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Okay, so you cannot use <code>Set</code> or other collections.  One solution I don't see here so far is one based on the use of a <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\">Bloom filter</a>, which essentially is an array of bits, so perhaps that passes your requirements.</p>\n\n<p>The Bloom filter is a lovely and very handy technique, fast and space-efficient, that can be used to do a quick check of the existence of an element in a set without storing the set itself or the elements.  It has a (typically small) false positive rate, but no false negative rate.  In other words, for your question, if a Bloom filter tells you that an element hasn't been seen so far, you can be sure it hasn't.  But if it says that an element has been seen, you actually need to check.  This still saves a lot of time if there aren't too many duplicates in your list (for those, there is no looping to do, except in the small probability case of a false positive --you typically chose this rate based on how much space you are willing to give to the Bloom filter (rule of thumb: less than 10 bits per unique element for a false positive rate of 1%).</p>\n\n<p>There are many implementations of Bloom filters, see e.g. <a href=\"http://www.javamex.com/tutorials/collections/bloom_filter_java.shtml\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html\" rel=\"nofollow noreferrer\">here</a>, so I won't repeat that in this answer.  Let us just assume the api described in that last reference, in particular, the <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html#put-T-\" rel=\"nofollow noreferrer\">description</a> of <code>put(E e)</code>:</p>\n\n<blockquote>\n  <p><code>true</code> if the Bloom filter's bits changed as a result of this operation. If the bits changed, this is <em>definitely</em> the first time object has been added to the filter. If the bits haven't changed, this <em>might</em> be the first time object has been added to the filter. (...)</p>\n</blockquote>\n\n<p>An implementation using such a Bloom filter would then be:</p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr) {\n    ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\n    int n = arr.length;\n    BloomFilter&lt;Integer&gt; bf = new BloomFilter&lt;&gt;(...);  // decide how many bits and how many hash functions to use (compromise between space and false positive rate)\n\n    for (int e : arr) {\n        boolean might_contain = !bf.put(e);\n        boolean found = false;\n        if (might_contain) {\n            // check if false positive\n            for (int u : out) {\n                if (u == e) {\n                    found = true;\n                    break;\n                }\n            }\n        }\n        if (!found) {\n            out.add(e);\n        }\n    }\n    return out.stream().mapToInt(i -&gt; i).toArray();\n}\n</code></pre>\n\n<p>Obviously, if you can alter the incoming array in place, then there is no need for an <code>ArrayList</code>: at the end, when you know the actual number of unique elements, just <code>arraycopy()</code> those.</p>\n"},{"tags":[],"owner":{"account_id":9166006,"reputation":61,"user_id":6815577,"display_name":"PINTU KUMAR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492980872,"creation_date":1492958009,"answer_id":43572435,"question_id":17967114,"body_markdown":"Please check this. It will work for both sorted/unsorted array. The complexity is O(n^2) same as bubble sort. \r\nYes the complexity can be improved further with first sort and then binary search. But this is simple enough to work on every cases except negative element (-1). This can also be changed by using large integer value instead of -1.\r\n\r\n\r\n\r\n    void remove_duplicates(int *A, int N)\r\n\r\n    {\r\n\r\n\tint i,j;\r\n\r\n\tfor (i=1; i&lt;N; i++) {\r\n\t\tif (A[i] == -1) continue;\r\n\t\tfor (j=i+1; j&lt;=N; j++) {\r\n\t\t\tif (A[i] == A[j])\r\n\t\t\t\tA[j] = -1;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n    int main() {\r\n\r\n\tint N;\r\n\tint A[1001];\r\n\tint i;\r\n\r\n\tprintf(&quot;Enter N: &quot;);\r\n\tscanf(&quot;%d&quot;, &amp;N);\r\n\tprintf(&quot;Enter the elements:\\n&quot;);\r\n\tfor (i=1; i&lt;=N; i++)\r\n\t\tscanf(&quot;%d&quot;, &amp;A[i]);\r\n\r\n\tremove_duplicates(A, N);\r\n\tfor (i=1; i&lt;=N; i++) {\r\n\t\tif (A[i] == -1)\r\n\t\t\tcontinue;\r\n\t\tprintf(&quot;%d  &quot;, A[i]);\r\n\t}\r\n\tprintf(&quot;\\n&quot;);\r\n\r\n\treturn 0;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Please check this. It will work for both sorted/unsorted array. The complexity is O(n^2) same as bubble sort. \nYes the complexity can be improved further with first sort and then binary search. But this is simple enough to work on every cases except negative element (-1). This can also be changed by using large integer value instead of -1.</p>\n\n<pre><code>void remove_duplicates(int *A, int N)\n\n{\n\nint i,j;\n\nfor (i=1; i&lt;N; i++) {\n    if (A[i] == -1) continue;\n    for (j=i+1; j&lt;=N; j++) {\n        if (A[i] == A[j])\n            A[j] = -1;\n    }\n}\n}\n\nint main() {\n\nint N;\nint A[1001];\nint i;\n\nprintf(\"Enter N: \");\nscanf(\"%d\", &amp;N);\nprintf(\"Enter the elements:\\n\");\nfor (i=1; i&lt;=N; i++)\n    scanf(\"%d\", &amp;A[i]);\n\nremove_duplicates(A, N);\nfor (i=1; i&lt;=N; i++) {\n    if (A[i] == -1)\n        continue;\n    printf(\"%d  \", A[i]);\n}\nprintf(\"\\n\");\n\nreturn 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500389015,"creation_date":1500389015,"answer_id":45170038,"question_id":17967114,"body_markdown":"**Why do all people not check this below lines?**\r\n\r\n*I need to write my own implementation - not to use Set, HashSet etc. Or any other tools such as iterators. Simply an array to remove duplicates.* \r\n\r\nI&#39;m posting very simple implementation with caring the above line.\r\n\r\n    public class RemoveDuplicates {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] arr = { 1, 2, 3, 4, 2, 3, 1 }; // input array\r\n\t\tint len = arr.length;\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; len; j++) {\r\n\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\twhile (j &lt; (len) - 1) {\r\n\t\t\t\t\t\tarr[j] = arr[j - 1];\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlen--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tSystem.out.print(&quot;  &quot; +arr[i]);\r\n\t\t}\r\n\r\n\t   }\r\n     }\r\n\r\n&gt; Input  : 1, 2, 3, 4, 2, 3, 1\r\n\r\n&gt; Output :   1  2  3  4","title":"How to efficiently remove duplicates from an array without using Set","body":"<p><strong>Why do all people not check this below lines?</strong></p>\n\n<p><em>I need to write my own implementation - not to use Set, HashSet etc. Or any other tools such as iterators. Simply an array to remove duplicates.</em> </p>\n\n<p>I'm posting very simple implementation with caring the above line.</p>\n\n<pre><code>public class RemoveDuplicates {\n\npublic static void main(String[] args) {\n\n    int[] arr = { 1, 2, 3, 4, 2, 3, 1 }; // input array\n    int len = arr.length;\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = i + 1; j &lt; len; j++) {\n            if (arr[i] == arr[j]) {\n                while (j &lt; (len) - 1) {\n                    arr[j] = arr[j - 1];\n                    j++;\n                }\n                len--;\n            }\n        }\n    }\n    for (int i = 0; i &lt; len; i++) {\n        System.out.print(\"  \" +arr[i]);\n    }\n\n   }\n }\n</code></pre>\n\n<blockquote>\n  <p>Input  : 1, 2, 3, 4, 2, 3, 1</p>\n  \n  <p>Output :   1  2  3  4</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8346196,"reputation":333,"user_id":6269836,"accept_rate":75,"display_name":"T&#252;rkmen Mustafa Demirci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508313948,"creation_date":1508313948,"answer_id":46805446,"question_id":17967114,"body_markdown":"Here is my solution. The time complexity is o(n^2)\r\n\r\n    public String removeDuplicates(char[] arr) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tif (arr == null)\r\n    \t\t\treturn null;\r\n    \t\tint len = arr.length;\r\n    \r\n    \t\tif (arr.length &lt; 2)\r\n    \t\t\treturn sb.append(arr[0]).toString();\r\n    \r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \r\n    \t\t\tfor (int j = i + 1; j &lt; len; j++) {\r\n    \t\t\t\tif (arr[i] == arr[j]) {\r\n    \t\t\t\t\tarr[j] = 0;\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (arr[i] != 0)\r\n    \t\t\t\tsb.append(arr[i]);\r\n    \t\t}\r\n    \r\n    \t\treturn sb.toString().trim();\r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Here is my solution. The time complexity is o(n^2)</p>\n\n<pre><code>public String removeDuplicates(char[] arr) {\n        StringBuilder sb = new StringBuilder();\n\n        if (arr == null)\n            return null;\n        int len = arr.length;\n\n        if (arr.length &lt; 2)\n            return sb.append(arr[0]).toString();\n\n        for (int i = 0; i &lt; len; i++) {\n\n            for (int j = i + 1; j &lt; len; j++) {\n                if (arr[i] == arr[j]) {\n                    arr[j] = 0;\n\n                }\n            }\n            if (arr[i] != 0)\n                sb.append(arr[i]);\n        }\n\n        return sb.toString().trim();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4638300,"reputation":133,"user_id":3758849,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510751086,"creation_date":1510751086,"answer_id":47308178,"question_id":17967114,"body_markdown":"    public void removeDup(){ \r\n    String[] arr = {&quot;1&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;};\r\n    \t      boolean exists = false;\r\n    \t      String[] arr2 = new String[arr.length];\r\n    \t      int count1 = 0;\r\n    \t      for(int loop=0;loop&lt;arr.length;loop++)\r\n    \t      \t{\r\n    \t    \t  String val = arr[loop];\r\n    \t    \t  exists = false;\r\n    \t    \t  for(int loop2=0;loop2&lt;arr2.length;loop2++)\r\n    \t    \t  { \t\r\n    \t    \t\t  if(arr2[loop2]==null)break;\r\n    \t    \t\t  if(arr2[loop2]==val){\r\n    \t    \t  \t\t\texists = true;\r\n    \t    \t  \t}\r\n    \t    \t  }\r\n    \t    \t  if(!exists) {\r\n    \t    \t  \t\tarr2[count1] = val;\r\n    \t    \t  \t\tcount1++;\r\n    \t    \t  }\r\n    \t    \t}\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public void removeDup(){ \nString[] arr = {\"1\",\"1\",\"2\",\"3\",\"3\"};\n          boolean exists = false;\n          String[] arr2 = new String[arr.length];\n          int count1 = 0;\n          for(int loop=0;loop&lt;arr.length;loop++)\n            {\n              String val = arr[loop];\n              exists = false;\n              for(int loop2=0;loop2&lt;arr2.length;loop2++)\n              {     \n                  if(arr2[loop2]==null)break;\n                  if(arr2[loop2]==val){\n                        exists = true;\n                }\n              }\n              if(!exists) {\n                    arr2[count1] = val;\n                    count1++;\n              }\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524203780,"creation_date":1524146009,"answer_id":49922884,"question_id":17967114,"body_markdown":"\r\n     package javaa;\r\n\r\n    public class UniqueElementinAnArray \r\n    {\r\n\r\n\t public static void main(String[] args) \r\n\t {\r\n\t\tint[] a = {10,10,10,10,10,100};\r\n\t\tint[] output = new int[a.length];\r\n\t\tint count = 0;\r\n\t\tint num = 0;\r\n\t\t\r\n\t\t//Iterate over an array\r\n\t\tfor(int i=0; i&lt;a.length; i++)\r\n\t\t{\r\n\t\t\tnum=a[i];\r\n\t\t\tboolean flag = check(output,num);\r\n\t\t\tif(flag==false)\r\n\t\t\t{\r\n\t\t\t\toutput[count]=num;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//print the all the elements from an array except zero&#39;s (0)\r\n\t\tfor (int i : output) \r\n\t\t{\r\n\t\t\tif(i!=0 )\r\n\t\t\t\tSystem.out.print(i+&quot;  &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t/***\r\n\t * If a next number from an array is already exists in unique array then return true else false\r\n\t * @param arr\tUnique number array. Initially this array is an empty.\r\n\t * @param num\tNumber to be search in unique array. Whether it is duplicate or unique.\r\n\t * @return\ttrue: If a number is already exists in an array else false \r\n\t */\r\n\tpublic static boolean check(int[] arr, int num)\r\n\t{\r\n\t\tboolean flag = false;\r\n\t\tfor(int i=0;i&lt;arr.length; i++)\r\n\t\t{\r\n\t\t\tif(arr[i]==num)\r\n\t\t\t{\r\n\t\t\t\tflag = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn flag;\r\n\t}\r\n\r\n}\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code> package javaa;\n\npublic class UniqueElementinAnArray \n{\n\n public static void main(String[] args) \n {\n    int[] a = {10,10,10,10,10,100};\n    int[] output = new int[a.length];\n    int count = 0;\n    int num = 0;\n\n    //Iterate over an array\n    for(int i=0; i&lt;a.length; i++)\n    {\n        num=a[i];\n        boolean flag = check(output,num);\n        if(flag==false)\n        {\n            output[count]=num;\n            ++count;\n        }\n\n    }\n\n    //print the all the elements from an array except zero's (0)\n    for (int i : output) \n    {\n        if(i!=0 )\n            System.out.print(i+\"  \");\n    }\n\n}\n\n/***\n * If a next number from an array is already exists in unique array then return true else false\n * @param arr   Unique number array. Initially this array is an empty.\n * @param num   Number to be search in unique array. Whether it is duplicate or unique.\n * @return  true: If a number is already exists in an array else false \n */\npublic static boolean check(int[] arr, int num)\n{\n    boolean flag = false;\n    for(int i=0;i&lt;arr.length; i++)\n    {\n        if(arr[i]==num)\n        {\n            flag = true;\n            break;\n        }\n    }\n    return flag;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648546050,"creation_date":1524432683,"answer_id":49970935,"question_id":17967114,"body_markdown":"This is an interview question.\r\n\r\n    public class Test4 {\r\n    public static void main(String[] args) {\r\n    \t int a[] = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65}; \r\n                  int newlength =    lengthofarraywithoutduplicates(a);\r\n                  for(int i = 0 ; i &lt; newlength ;i++) {\r\n                \t  System.out.println(a[i]);\r\n                  }//for\r\n    }//main\r\n    \r\n    private static int lengthofarraywithoutduplicates(int[] a) {\r\n    \t int count = 1 ;\r\n    \t for (int i = 1; i &lt; a.length; i++) {\r\n    \t\t  int ch = a[i];\r\n    \t\t  if(ch != a[i-1]) {\r\n    \t\t\t  a[count++] = ch;\r\n    \t\t  }//if\r\n    \t}//for\r\n    \treturn count;\r\n    \t\r\n    }//fix\r\n    \r\n    }//end1\r\n\r\n\r\nBut, it&#39;s always better to use Stream :\r\n\r\n\t\r\n\r\n    int[] a = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65};\r\n    int[] array = Arrays.stream(a).distinct().toArray();\r\n    System.out.println(Arrays.toString(array));//[1, 2, 3, 6, 66, 7, 65]\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is an interview question.</p>\n<pre><code>public class Test4 {\npublic static void main(String[] args) {\n     int a[] = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65}; \n              int newlength =    lengthofarraywithoutduplicates(a);\n              for(int i = 0 ; i &lt; newlength ;i++) {\n                  System.out.println(a[i]);\n              }//for\n}//main\n\nprivate static int lengthofarraywithoutduplicates(int[] a) {\n     int count = 1 ;\n     for (int i = 1; i &lt; a.length; i++) {\n          int ch = a[i];\n          if(ch != a[i-1]) {\n              a[count++] = ch;\n          }//if\n    }//for\n    return count;\n    \n}//fix\n\n}//end1\n</code></pre>\n<p>But, it's always better to use Stream :</p>\n<pre><code>int[] a = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65};\nint[] array = Arrays.stream(a).distinct().toArray();\nSystem.out.println(Arrays.toString(array));//[1, 2, 3, 6, 66, 7, 65]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9073730,"reputation":26,"user_id":6755990,"display_name":"Falguni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532717158,"creation_date":1532715230,"answer_id":51563419,"question_id":17967114,"body_markdown":"\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n\r\n    int end = arr.length;\r\n\r\n     HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(end);\r\n        for(int i = 0 ; i &lt; end ; i++){\r\n            set.add(arr[i]);\r\n        }\r\n    return set.toArray();\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static int[] removeDuplicates(int[] arr) {\n\nint end = arr.length;\n\n HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(end);\n    for(int i = 0 ; i &lt; end ; i++){\n        set.add(arr[i]);\n    }\nreturn set.toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679483,"reputation":99,"user_id":4491252,"display_name":"Jeremiah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1534339855,"creation_date":1534339855,"answer_id":51859701,"question_id":17967114,"body_markdown":"Heres a simpler, better way to do this using arraylists instead:\r\n\r\n    public static final &lt;T&gt; ArrayList&lt;T&gt; removeDuplicates(ArrayList&lt;T&gt; in){\r\n\t\tArrayList&lt;T&gt; out = new ArrayList&lt;T&gt;();\r\n\t\tfor(T t : in) \r\n\t\t\tif(!out.contains(t)) \r\n\t\t\t\tout.add(t);\r\n\t\treturn out;\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Heres a simpler, better way to do this using arraylists instead:</p>\n\n<pre><code>public static final &lt;T&gt; ArrayList&lt;T&gt; removeDuplicates(ArrayList&lt;T&gt; in){\n    ArrayList&lt;T&gt; out = new ArrayList&lt;T&gt;();\n    for(T t : in) \n        if(!out.contains(t)) \n            out.add(t);\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232768,"reputation":895,"user_id":497833,"display_name":"Maurizio Cucchiara"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539430955,"creation_date":1539430955,"answer_id":52792544,"question_id":17967114,"body_markdown":"Not a big fun of updating user input, however considering your constraints...\r\n\r\n\r\n    public int[] removeDup(int[] nums) {\r\n      Arrays.sort(nums);\r\n      int x = 0;\r\n      for (int i = 0; i &lt; nums.length; i++) {\r\n        if (i == 0 || nums[i] != nums[i - 1]) {\r\n    \tnums[x++] = nums[i];\r\n        }\r\n      }\r\n      return Arrays.copyOf(nums, x);\r\n    }\r\n\r\nArray sort can be easily replaced with any nlog(n) algorithm.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Not a big fun of updating user input, however considering your constraints...</p>\n\n<pre><code>public int[] removeDup(int[] nums) {\n  Arrays.sort(nums);\n  int x = 0;\n  for (int i = 0; i &lt; nums.length; i++) {\n    if (i == 0 || nums[i] != nums[i - 1]) {\n    nums[x++] = nums[i];\n    }\n  }\n  return Arrays.copyOf(nums, x);\n}\n</code></pre>\n\n<p>Array sort can be easily replaced with any nlog(n) algorithm.</p>\n"},{"tags":[],"owner":{"account_id":5576356,"reputation":1938,"user_id":4419626,"accept_rate":30,"display_name":"Tomin"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1550326971,"creation_date":1550326971,"answer_id":54724042,"question_id":17967114,"body_markdown":"If you are allowed to use Java 8 streams:\r\n\r\n    Arrays.stream(arr).distinct().toArray();","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>If you are allowed to use Java 8 streams:</p>\n\n<pre><code>Arrays.stream(arr).distinct().toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552814991,"creation_date":1552814991,"answer_id":55205639,"question_id":17967114,"body_markdown":"The most efficient way to remove duplicates from integer array without using set is, just create a temp array and iterate the original array and check if number exists in temp array then do not push into array else put into temp array and return temp array as result. Please consider the following code snippet :\r\n\r\n    package com.numbers;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class RemoveDuplicates {\r\n    \tpublic int[] removeDuplicate(int[] array) {\r\n    \t\tint[] tempArray = new int[array.length];\r\n    \t\tint j = 0;\r\n    \t\tfor (int i : array) {\r\n    \t\t\tif (!isExists(tempArray, i)) {\r\n    \t\t\t\ttempArray[j++] = i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn tempArray;\r\n    \t}\r\n    \r\n    \tpublic static boolean isExists(int[] array, int num) {\r\n    \t\tif (array == null)\r\n    \t\t\treturn false;\r\n    \t\tfor (int i : array) {\r\n    \t\t\tif (i == num) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint [] array = { 10, 20, 30, 10, 45, 30 };\r\n    \t\tRemoveDuplicates duplicates = new RemoveDuplicates();\r\n    \t\tSystem.out.println(&quot;Before removing duplicates : &quot; + Arrays.toString(array));\r\n    \t\tint [] newArray = duplicates.removeDuplicate(array);\r\n    \t\tSystem.out.println(&quot;After removing duplicates : &quot; + Arrays.toString(newArray));\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>The most efficient way to remove duplicates from integer array without using set is, just create a temp array and iterate the original array and check if number exists in temp array then do not push into array else put into temp array and return temp array as result. Please consider the following code snippet :</p>\n\n<pre><code>package com.numbers;\n\nimport java.util.Arrays;\n\npublic class RemoveDuplicates {\n    public int[] removeDuplicate(int[] array) {\n        int[] tempArray = new int[array.length];\n        int j = 0;\n        for (int i : array) {\n            if (!isExists(tempArray, i)) {\n                tempArray[j++] = i;\n            }\n        }\n        return tempArray;\n    }\n\n    public static boolean isExists(int[] array, int num) {\n        if (array == null)\n            return false;\n        for (int i : array) {\n            if (i == num) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        int [] array = { 10, 20, 30, 10, 45, 30 };\n        RemoveDuplicates duplicates = new RemoveDuplicates();\n        System.out.println(\"Before removing duplicates : \" + Arrays.toString(array));\n        int [] newArray = duplicates.removeDuplicate(array);\n        System.out.println(\"After removing duplicates : \" + Arrays.toString(newArray));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11812679,"reputation":11,"user_id":8643749,"display_name":"Abdul Rehman Mehar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562487440,"creation_date":1562487440,"answer_id":56920421,"question_id":17967114,"body_markdown":"Just a trick to remove duplicates.\r\n\r\n    public class RemoveDuplicates {\r\n        public static void main(String[] args) {\r\n            int[] arr = {2,2,2,2,2,5,9, 4,5,6,1,6,6,2,4,7};\r\n            arr = removeDuplicates(arr);    \r\n            print(arr);\r\n        }\r\n\r\n        public static int[] removeDuplicates(int [] arr) {\r\n            final int garbage = -2147483648;\r\n            int duplicates = 0;\r\n\r\n            for(int i=0; i&lt;arr.length; i++) {\r\n                for(int j=i+1; j&lt;arr.length; j++) {\r\n                    if (arr[i] == arr[j]) {\r\n                        arr[i] = garbage;\r\n                        duplicates++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            int[] nArr = new int[arr.length - duplicates];\r\n            int nItr = 0;\r\n            for(int i=0; i&lt;arr.length; i++) {\r\n                if (arr[i] != garbage) {\r\n                    nArr[nItr] = arr[i];\r\n                    nItr++;\r\n                } \r\n            }\r\n            return nArr;\r\n        }\r\n\r\n        public static void print(int [] arr) {\r\n            for (int n : arr) {\r\n                System.out.print(n + &quot;\\t&quot;);\r\n            }\r\n        }\r\n\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Just a trick to remove duplicates.</p>\n\n<pre><code>public class RemoveDuplicates {\n    public static void main(String[] args) {\n        int[] arr = {2,2,2,2,2,5,9, 4,5,6,1,6,6,2,4,7};\n        arr = removeDuplicates(arr);    \n        print(arr);\n    }\n\n    public static int[] removeDuplicates(int [] arr) {\n        final int garbage = -2147483648;\n        int duplicates = 0;\n\n        for(int i=0; i&lt;arr.length; i++) {\n            for(int j=i+1; j&lt;arr.length; j++) {\n                if (arr[i] == arr[j]) {\n                    arr[i] = garbage;\n                    duplicates++;\n                }\n            }\n        }\n\n        int[] nArr = new int[arr.length - duplicates];\n        int nItr = 0;\n        for(int i=0; i&lt;arr.length; i++) {\n            if (arr[i] != garbage) {\n                nArr[nItr] = arr[i];\n                nItr++;\n            } \n        }\n        return nArr;\n    }\n\n    public static void print(int [] arr) {\n        for (int n : arr) {\n            System.out.print(n + \"\\t\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16810539,"reputation":91,"user_id":12153660,"display_name":"Abhishek Anand"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577466821,"creation_date":1577466821,"answer_id":59503942,"question_id":17967114,"body_markdown":"\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Practice {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint a[] = { 1, 3, 3, 4, 2, 1, 5, 6, 7, 7, 8, 10 };\r\n\t\tArrays.sort(a);\r\n\t\tint j = 0;\r\n\t\tfor (int i = 0; i &lt; a.length - 1; i++) {\r\n\t\t\tif (a[i] != a[i + 1]) {\r\n\t\t\t\ta[j] = a[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\ta[j] = a[a.length - 1];\r\n\t\tfor (int i = 0; i &lt;= j; i++) {\r\n\t\t\tSystem.out.println(a[i]);\r\n\t\t}\r\n\r\n\t}\r\n    }\r\n    **This is the most simplest way**","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>import java.util.Arrays;\n\npublic class Practice {\n\npublic static void main(String[] args) {\n    int a[] = { 1, 3, 3, 4, 2, 1, 5, 6, 7, 7, 8, 10 };\n    Arrays.sort(a);\n    int j = 0;\n    for (int i = 0; i &lt; a.length - 1; i++) {\n        if (a[i] != a[i + 1]) {\n            a[j] = a[i];\n            j++;\n        }\n    }\n    a[j] = a[a.length - 1];\n    for (int i = 0; i &lt;= j; i++) {\n        System.out.println(a[i]);\n    }\n\n}\n}\n**This is the most simplest way**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15716783,"reputation":567,"user_id":11340793,"display_name":"Hamidreza Soltani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577786178,"creation_date":1577786178,"answer_id":59542475,"question_id":17967114,"body_markdown":"You can use an auxiliary array (temp) which in indexes are numbers of main array. So the time complexity will be liner and O(n). As we want to do it without using any library, we define another array (unique) to push non-duplicate elements:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var num = [2,4,9,4,1,2,24,12,4];\r\n    let temp = [];\r\n    let unique = [];\r\n    let j = 0;\r\n    for (let i = 0; i &lt; num.length; i++){\r\n      if (temp[num[i]] !== 1){\r\n        temp[num[i]] = 1;\r\n        unique[j++] = num[i];\r\n      }\r\n    }\r\n    console.log(unique);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>You can use an auxiliary array (temp) which in indexes are numbers of main array. So the time complexity will be liner and O(n). As we want to do it without using any library, we define another array (unique) to push non-duplicate elements:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var num = [2,4,9,4,1,2,24,12,4];\r\nlet temp = [];\r\nlet unique = [];\r\nlet j = 0;\r\nfor (let i = 0; i &lt; num.length; i++){\r\n  if (temp[num[i]] !== 1){\r\n    temp[num[i]] = 1;\r\n    unique[j++] = num[i];\r\n  }\r\n}\r\nconsole.log(unique);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14548410,"reputation":41,"user_id":10508051,"display_name":"Leo Garza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603603860,"creation_date":1603603316,"answer_id":64520611,"question_id":17967114,"body_markdown":"If you are looking to remove duplicates using the same array and also keeping the time complexity of O(n). Then this should do the trick. Also, would only work if the array is sorted. \r\n\r\n    function removeDuplicates_sorted(arr){\r\n\r\n    let j = 0; \r\n\r\n    for(let x = 0; x &lt; arr.length - 1; x++){\r\n        \r\n        if(arr[x] != arr[x + 1]){ \r\n            arr[j++] = arr[x];\r\n        }\r\n    }\r\n\r\n    arr[j++] = arr[arr.length - 1];\r\n    arr.length = j;\r\n\r\n    return arr;\r\n}\r\n\r\nHere is for an unsorted array, its O(n) but uses more space complexity then the sorted. \r\n\r\n    function removeDuplicates_unsorted(arr){\r\n\r\n    let map = {};\r\n    let j = 0;\r\n\r\n    for(var numbers of arr){\r\n        if(!map[numbers]){\r\n            map[numbers] = 1;\r\n            arr[j++] = numbers;\r\n        }\r\n    }\r\n\r\n    arr.length = j;\r\n\r\n    return arr;\r\n}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>If you are looking to remove duplicates using the same array and also keeping the time complexity of O(n). Then this should do the trick. Also, would only work if the array is sorted.</p>\n<pre><code>function removeDuplicates_sorted(arr){\n\nlet j = 0; \n\nfor(let x = 0; x &lt; arr.length - 1; x++){\n    \n    if(arr[x] != arr[x + 1]){ \n        arr[j++] = arr[x];\n    }\n}\n\narr[j++] = arr[arr.length - 1];\narr.length = j;\n\nreturn arr;\n</code></pre>\n<p>}</p>\n<p>Here is for an unsorted array, its O(n) but uses more space complexity then the sorted.</p>\n<pre><code>function removeDuplicates_unsorted(arr){\n\nlet map = {};\nlet j = 0;\n\nfor(var numbers of arr){\n    if(!map[numbers]){\n        map[numbers] = 1;\n        arr[j++] = numbers;\n    }\n}\n\narr.length = j;\n\nreturn arr;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605319116,"creation_date":1605291945,"answer_id":64826139,"question_id":17967114,"body_markdown":"We can remove duplicates using heap data structure.\r\n1. Create a min Heap or Max heap [I use min Heap](Takes `O(n)`)\r\n2. remove the elements from the heap and store it into another list if that element is not in that list. This  takes `O(nlog(n))` since we remove an element from the heap and it takes `log n` we do this  until the all n elements removed from the heap `n * logn`\r\n\r\n\r\nOverall Time complexity is `O(nlog(n))`. \r\n\r\n\r\nPython code for my approach\r\n\r\n```\r\nimport heapq\r\n\r\nl =[1,2,4,6,3,2,6,1]\r\n\r\nheapq.heapify(l)\r\nno_duplicate_list =[]\r\n\r\ntry:\r\n    while True:\r\n        e = heapq.heappop(l)# will return the minimum value from the heap \r\n        if no_duplicate_list ==[]:\r\n            no_duplicate_list.append(e)\r\n        else:\r\n            if e == no_duplicate_list[-1]:\r\n                continue\r\n            no_duplicate_list.append(e)\r\nexcept IndexError as i:\r\n    print(no_duplicate_list) #[1, 2, 3, 4, 6]\r\n\r\n```\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>We can remove duplicates using heap data structure.</p>\n<ol>\n<li>Create a min Heap or Max heap [I use min Heap](Takes <code>O(n)</code>)</li>\n<li>remove the elements from the heap and store it into another list if that element is not in that list. This  takes <code>O(nlog(n))</code> since we remove an element from the heap and it takes <code>log n</code> we do this  until the all n elements removed from the heap <code>n * logn</code></li>\n</ol>\n<p>Overall Time complexity is <code>O(nlog(n))</code>.</p>\n<p>Python code for my approach</p>\n<pre><code>import heapq\n\nl =[1,2,4,6,3,2,6,1]\n\nheapq.heapify(l)\nno_duplicate_list =[]\n\ntry:\n    while True:\n        e = heapq.heappop(l)# will return the minimum value from the heap \n        if no_duplicate_list ==[]:\n            no_duplicate_list.append(e)\n        else:\n            if e == no_duplicate_list[-1]:\n                continue\n            no_duplicate_list.append(e)\nexcept IndexError as i:\n    print(no_duplicate_list) #[1, 2, 3, 4, 6]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22601679,"reputation":73,"user_id":16909816,"display_name":"wesmlr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643307486,"creation_date":1643307486,"answer_id":70883744,"question_id":17967114,"body_markdown":"Note to other readers who desire to use the Set method of solving this problem: If original ordering must be preserved, do not use HashSet as in the top result. HashSet does not guarantee the preservation of the original order, so LinkedHashSet should be used instead-this keeps track of the order in which the elements were inserted into the set and returns them in that order. ","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Note to other readers who desire to use the Set method of solving this problem: If original ordering must be preserved, do not use HashSet as in the top result. HashSet does not guarantee the preservation of the original order, so LinkedHashSet should be used instead-this keeps track of the order in which the elements were inserted into the set and returns them in that order.</p>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701700268,"creation_date":1701698797,"answer_id":77600054,"question_id":17967114,"body_markdown":"    public static void main(String[] args) {\r\n        int[] array = new int[]{1, 1, 2, 2, 3, 4, 5, 2};\r\n        int[] newArray  = removeDuplicates(array);\r\n        for (int i : newArray) {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n    // the total time complexity is O(n^2)\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        int[] newArr = new int[arr.length];    //O(n)\r\n        int count = 0;\r\n\r\n       for (int i : arr) {                     //O(n)\r\n            boolean result = check(newArr, i); //O(n)\r\n\r\n            if (result)\r\n                newArr[count++] = i;\r\n        }\r\n        return  Arrays.copyOf(newArr, count);  //O(n)\r\n    }\r\n\r\n    public static boolean check(int[] arr, int value){\r\n        boolean result = true;\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] == value){\r\n                result = false;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String[] args) {\n    int[] array = new int[]{1, 1, 2, 2, 3, 4, 5, 2};\n    int[] newArray  = removeDuplicates(array);\n    for (int i : newArray) {\n        System.out.println(i);\n    }\n}\n\n// the total time complexity is O(n^2)\npublic static int[] removeDuplicates(int[] arr) {\n    int[] newArr = new int[arr.length];    //O(n)\n    int count = 0;\n\n   for (int i : arr) {                     //O(n)\n        boolean result = check(newArr, i); //O(n)\n\n        if (result)\n            newArr[count++] = i;\n    }\n    return  Arrays.copyOf(newArr, count);  //O(n)\n}\n\npublic static boolean check(int[] arr, int value){\n    boolean result = true;\n    for(int i = 0; i &lt; arr.length; i++){\n        if(arr[i] == value){\n            result = false;\n            break;\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510188,"favorite_count":0,"down_vote_count":5,"up_vote_count":74,"accepted_answer_id":32689754,"answer_count":49,"score":69,"last_activity_date":1701700268,"creation_date":1375264229,"question_id":17967114,"body_markdown":"I was asked to write my own implementation to remove duplicated values in an array. Here is what I have created. But after tests with 1,000,000 elements it took very long time to finish. Is there something that I can do to improve my algorithm or any bugs to remove ? \r\n\r\n**I need to write my own implementation - not to [use `Set`](https://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array), `HashSet` etc. Or any other tools such as iterators. Simply an array to remove duplicates.**\r\n\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n    \r\n        int end = arr.length;\r\n    \r\n        for (int i = 0; i &lt; end; i++) {\r\n            for (int j = i + 1; j &lt; end; j++) {\r\n                if (arr[i] == arr[j]) {                  \r\n                    int shiftLeft = j;\r\n                    for (int k = j+1; k &lt; end; k++, shiftLeft++) {\r\n                        arr[shiftLeft] = arr[k];\r\n                    }\r\n                    end--;\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n    \r\n        int[] whitelist = new int[end];\r\n        for(int i = 0; i &lt; end; i++){\r\n            whitelist[i] = arr[i];\r\n        }\r\n        return whitelist;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I was asked to write my own implementation to remove duplicated values in an array. Here is what I have created. But after tests with 1,000,000 elements it took very long time to finish. Is there something that I can do to improve my algorithm or any bugs to remove ? </p>\n\n<p><strong>I need to write my own implementation - not to <a href=\"https://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array\">use <code>Set</code></a>, <code>HashSet</code> etc. Or any other tools such as iterators. Simply an array to remove duplicates.</strong></p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr) {\n\n    int end = arr.length;\n\n    for (int i = 0; i &lt; end; i++) {\n        for (int j = i + 1; j &lt; end; j++) {\n            if (arr[i] == arr[j]) {                  \n                int shiftLeft = j;\n                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\n                    arr[shiftLeft] = arr[k];\n                }\n                end--;\n                j--;\n            }\n        }\n    }\n\n    int[] whitelist = new int[end];\n    for(int i = 0; i &lt; end; i++){\n        whitelist[i] = arr[i];\n    }\n    return whitelist;\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":6,"creation_date":1481051501,"post_id":19154117,"comment_id":69214810,"body_markdown":"There was no reason to close this question.  Anyway, the best solution is to use `string.regionMatches(true, 0, prefix, 0, prefix.length());` which doesn&#39;t incur the cost of &quot;normalizing&quot; both strings.","body":"There was no reason to close this question.  Anyway, the best solution is to use <code>string.regionMatches(true, 0, prefix, 0, prefix.length());</code> which doesn&#39;t incur the cost of &quot;normalizing&quot; both strings."},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":0,"creation_date":1539121142,"post_id":19154117,"comment_id":92384505,"body_markdown":"@AlexanderAbakumov Fine by me.  The correct answer is posted in my comment above.  It is much more efficient than changing the case of strings.  It&#39;d be good to upgrade it to an answer rather than a comment.","body":"@AlexanderAbakumov Fine by me.  The correct answer is posted in my comment above.  It is much more efficient than changing the case of strings.  It&#39;d be good to upgrade it to an answer rather than a comment."}],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1701700120,"creation_date":1380788309,"answer_id":19154150,"question_id":19154117,"body_markdown":"&lt;strike&gt;One option is to convert both of them to either lowercase or uppercase:\r\n\r\n    &quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());\r\n&lt;/strike&gt;\r\nThis is wrong. See: &lt;a href=&quot;https://stackoverflow.com/a/15518878/14731&quot;&gt;https://stackoverflow.com/a/15518878/14731&lt;/a&gt;\r\n&lt;hr /&gt;\r\n\r\nAnother option is to use [`String#regionMatches()`][1] method, which takes a boolean argument stating whether to do case-sensitive matching or not. You can use it like this:\r\n\r\n    String haystack = &quot;Session&quot;;\r\n    String needle = &quot;sEsSi&quot;;\r\n    System.out.println(haystack.regionMatches(true, 0, needle, 0, needle.length()));  // true\r\n\r\nIt checks whether the region of `needle` from index `0` till length `5` is present in `haystack` starting from index `0` till length `5` or not. The first argument is `true`, means it will do case-insensitive matching.\r\n\r\n&lt;hr /&gt;\r\n\r\nAnd if only you are a big fan of ***Regex***, you can do something like this:\r\n\r\n    System.out.println(haystack.matches(&quot;(?i)&quot; + Pattern.quote(needle) + &quot;.*&quot;));\r\n\r\n`(?i)` embedded flag is for ignore case matching. \r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#regionMatches%28boolean,%20int,%20java.lang.String,%20int,%20int%29\r\n","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p><strike>One option is to convert both of them to either lowercase or uppercase:</p>\n<pre><code>&quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());\n</code></pre>\n</strike>\nThis is wrong. See: <a href=\"https://stackoverflow.com/a/15518878/14731\">https://stackoverflow.com/a/15518878/14731</a>\n<hr />\n<p>Another option is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#regionMatches%28boolean,%20int,%20java.lang.String,%20int,%20int%29\" rel=\"nofollow noreferrer\"><code>String#regionMatches()</code></a> method, which takes a boolean argument stating whether to do case-sensitive matching or not. You can use it like this:</p>\n<pre><code>String haystack = &quot;Session&quot;;\nString needle = &quot;sEsSi&quot;;\nSystem.out.println(haystack.regionMatches(true, 0, needle, 0, needle.length()));  // true\n</code></pre>\n<p>It checks whether the region of <code>needle</code> from index <code>0</code> till length <code>5</code> is present in <code>haystack</code> starting from index <code>0</code> till length <code>5</code> or not. The first argument is <code>true</code>, means it will do case-insensitive matching.</p>\n<hr />\n<p>And if only you are a big fan of <em><strong>Regex</strong></em>, you can do something like this:</p>\n<pre><code>System.out.println(haystack.matches(&quot;(?i)&quot; + Pattern.quote(needle) + &quot;.*&quot;));\n</code></pre>\n<p><code>(?i)</code> embedded flag is for ignore case matching.</p>\n"},{"tags":[],"owner":{"account_id":2720760,"reputation":2190,"user_id":2347107,"accept_rate":79,"display_name":"agad"},"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1380788320,"creation_date":1380788320,"answer_id":19154156,"question_id":19154117,"body_markdown":"    myString.toLowerCase().startsWith(starting.toLowerCase());","title":"How to use `string.startsWith()` method ignoring the case?","body":"<pre><code>myString.toLowerCase().startsWith(starting.toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1380788336,"creation_date":1380788336,"answer_id":19154164,"question_id":19154117,"body_markdown":"try this,\r\n\r\n    String session = &quot;Session&quot;;\r\n    if(session.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase()))","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>try this,</p>\n\n<pre><code>String session = \"Session\";\nif(session.toLowerCase().startsWith(\"sEsSi\".toLowerCase()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1380788338,"creation_date":1380788338,"answer_id":19154165,"question_id":19154117,"body_markdown":"You can always do\r\n\r\n    &quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can always do</p>\n\n<pre><code>\"Session\".toLowerCase().startsWith(\"sEsSi\".toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1380788351,"creation_date":1380788351,"answer_id":19154168,"question_id":19154117,"body_markdown":"You can use `someString.toUpperCase().startsWith(someOtherString.toUpperCase())`","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can use <code>someString.toUpperCase().startsWith(someOtherString.toUpperCase())</code></p>\n"},{"tags":[],"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"down_vote_count":22,"up_vote_count":143,"is_accepted":true,"score":121,"last_activity_date":1475851594,"creation_date":1380788390,"answer_id":19154186,"question_id":19154117,"body_markdown":"Use `toUpperCase()` or `toLowerCase()` to standardise your string before testing it.","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>Use <code>toUpperCase()</code> or <code>toLowerCase()</code> to standardise your string before testing it.</p>\n"},{"tags":[],"owner":{"account_id":5784405,"reputation":595,"user_id":4564127,"accept_rate":80,"display_name":"S&#233;bastien Vandamme"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1701699994,"creation_date":1595496944,"answer_id":63051198,"question_id":19154117,"body_markdown":"I know I&#39;m late, but what about using StringUtils.startsWithIgnoreCase() from Apache Commons Lang 3 ?\r\n\r\nExample : \r\n\r\n    StringUtils.startsWithIgnoreCase(string, &quot;start&quot;);\r\n\r\nJust add the following dependency to your pom.xml file (taking the hypothesis that you use Maven) :\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>I know I'm late, but what about using StringUtils.startsWithIgnoreCase() from Apache Commons Lang 3 ?</p>\n<p>Example :</p>\n<pre><code>StringUtils.startsWithIgnoreCase(string, &quot;start&quot;);\n</code></pre>\n<p>Just add the following dependency to your pom.xml file (taking the hypothesis that you use Maven) :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8983661,"reputation":805,"user_id":6697946,"display_name":"pedram"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1627448703,"creation_date":1627448703,"answer_id":68554662,"question_id":19154117,"body_markdown":"StartsWith(String value, bool ignoreCase, CultureInfo? culture)\r\ne.g: \r\n\r\n    string test = &quot;Session&quot;;\r\n    bool result = test.StartsWith(&quot;sEsSi&quot;, true, null);\r\n    Console.WriteLine(result);\r\n\r\npoint: in VS by right-clicking on StartsWith and then &quot;pick definition&quot; can see all overloading method \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HOjqc.png\r\n  [2]: https://i.stack.imgur.com/JKsnf.png","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>StartsWith(String value, bool ignoreCase, CultureInfo? culture)\ne.g:</p>\n<pre><code>string test = &quot;Session&quot;;\nbool result = test.StartsWith(&quot;sEsSi&quot;, true, null);\nConsole.WriteLine(result);\n</code></pre>\n<p>point: in VS by right-clicking on StartsWith and then &quot;pick definition&quot; can see all overloading method</p>\n<p><a href=\"https://i.stack.imgur.com/HOjqc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOjqc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JKsnf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKsnf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18530329,"reputation":9,"user_id":13501274,"display_name":"TTTT"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690957469,"creation_date":1690500078,"answer_id":76783971,"question_id":19154117,"body_markdown":"    myString.StartsWith(anotherString, StringComparison.OrdinalIgnoreCase)","title":"How to use `string.startsWith()` method ignoring the case?","body":"<pre><code>myString.StartsWith(anotherString, StringComparison.OrdinalIgnoreCase)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10598771,"reputation":304,"user_id":8261867,"display_name":"A.G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693534657,"creation_date":1693529677,"answer_id":77019970,"question_id":19154117,"body_markdown":"You can use String.search() function with regex that will give you the index of the first substring match of the search string. Then you can test the returned index to see if it is 0. &#39;i&#39; at the end makes the search case insensitive.\r\n\r\n    const session = &#39;Session&#39;;\r\n    const startsWith = session.search(/sEsSi/i) === 0;","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can use String.search() function with regex that will give you the index of the first substring match of the search string. Then you can test the returned index to see if it is 0. 'i' at the end makes the search case insensitive.</p>\n<pre><code>const session = 'Session';\nconst startsWith = session.search(/sEsSi/i) === 0;\n</code></pre>\n"}],"owner":{"account_id":3376401,"reputation":1557,"user_id":2834468,"display_name":"Sheetal Bhatewara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135630,"favorite_count":0,"down_vote_count":4,"up_vote_count":150,"accepted_answer_id":19154186,"answer_count":10,"score":146,"last_activity_date":1701700120,"creation_date":1380788193,"question_id":19154117,"body_markdown":"I want to use `string.startsWith()` method but ignoring the case.\r\n\r\nSuppose I have `String` &quot;Session&quot; and I use `startsWith` on &quot;sEsSi&quot; then it should return `true`.\r\n\r\nHow can I achieve this?","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>I want to use <code>string.startsWith()</code> method but ignoring the case.</p>\n\n<p>Suppose I have <code>String</code> \"Session\" and I use <code>startsWith</code> on \"sEsSi\" then it should return <code>true</code>.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","intellij-idea","javafx","controlsfx"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694375841,"creation_date":1694356769,"answer_id":77076574,"question_id":77076526,"body_markdown":"It looks like `org.controlsfx.controls` is being put onto the class path instead of the module path by IntelliJ:\r\n\r\n    class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e)\r\n\r\n(The unnamed modules means the class path).\r\n\r\nIntelliJ puts dependencies on the class or module path depending on whether the project itself is modular. So, in order to have IJ put `org.controlsfx.controls` on the module path, you have to modularise the project by adding a `module-info.java` file.\r\n\r\n(see also: https://stackoverflow.com/questions/65267831)\r\n\r\n---\r\n\r\nIf you don&#39;t want to modularise your project, alternatively you could try using:\r\n\r\n    --add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED\r\n\r\nWhich exports the package to the class path instead (unnamed module). However, this might not work if `org.controlsfx.controls` does not support being put on the class path.\r\n\r\n","title":"Run time error of controls-fx, WARNING: Unknown module: org.controlsfx.controls specified to --add-exports","body":"<p>It looks like <code>org.controlsfx.controls</code> is being put onto the class path instead of the module path by IntelliJ:</p>\n<pre><code>class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e)\n</code></pre>\n<p>(The unnamed modules means the class path).</p>\n<p>IntelliJ puts dependencies on the class or module path depending on whether the project itself is modular. So, in order to have IJ put <code>org.controlsfx.controls</code> on the module path, you have to modularise the project by adding a <code>module-info.java</code> file.</p>\n<p>(see also: <a href=\"https://stackoverflow.com/questions/65267831\">IntelliJ: Put some dependencies on the module path in non-modular application</a>)</p>\n<hr />\n<p>If you don't want to modularise your project, alternatively you could try using:</p>\n<pre><code>--add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED\n</code></pre>\n<p>Which exports the package to the class path instead (unnamed module). However, this might not work if <code>org.controlsfx.controls</code> does not support being put on the class path.</p>\n"}],"owner":{"account_id":23773642,"reputation":1,"user_id":17787395,"display_name":"K X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701699988,"creation_date":1694355962,"question_id":77076526,"body_markdown":"I could include the controlsfx into my project in IntelliJ but I can&#39;t run the program. \r\nI also already try the other solution: adding this into VM options\r\n\r\n    --add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\r\n\r\nWhen I run the program, it has run time error:\r\n\r\n        WARNING: Unknown module: org.controlsfx.controls specified to --add-exports\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        \tat javafx.base@20.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n        \tat javafx.fxml@20.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n        \tat javafx.fxml@20.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n        \t... 33 more\r\n        Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to unnamed module @0x6bbb636e\r\n        \tat org.controlsfx.control.textfield.AutoCompletionBinding.&lt;init&gt;(AutoCompletionBinding.java:538)\r\n        \tat impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:107)\r\n        \tat impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:92)\r\n        \tat org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:188)\r\n        \tat org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:182)\r\n        \tat Controller.HomeSubScene.SearchBookingController.setUp(SearchBookingController.java:44)\r\n        \tat Controller.HomeCustController.showScene(HomeCustController.java:162)\r\n        \tat Controller.HomeCustController.showManageBookingScene(HomeCustController.java:134)\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        \t... 40 more\r\n    \r\nI hope I could use the controls fx in my project.","title":"Run time error of controls-fx, WARNING: Unknown module: org.controlsfx.controls specified to --add-exports","body":"<p>I could include the controlsfx into my project in IntelliJ but I can't run the program.\nI also already try the other solution: adding this into VM options</p>\n<pre><code>--add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\n</code></pre>\n<p>When I run the program, it has run time error:</p>\n<pre><code>    WARNING: Unknown module: org.controlsfx.controls specified to --add-exports\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at javafx.base@20.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n        at javafx.fxml@20.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n        at javafx.fxml@20.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n        ... 33 more\n    Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to unnamed module @0x6bbb636e\n        at org.controlsfx.control.textfield.AutoCompletionBinding.&lt;init&gt;(AutoCompletionBinding.java:538)\n        at impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:107)\n        at impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:92)\n        at org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:188)\n        at org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:182)\n        at Controller.HomeSubScene.SearchBookingController.setUp(SearchBookingController.java:44)\n        at Controller.HomeCustController.showScene(HomeCustController.java:162)\n        at Controller.HomeCustController.showManageBookingScene(HomeCustController.java:134)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        ... 40 more\n</code></pre>\n<p>I hope I could use the controls fx in my project.</p>\n"},{"tags":["java","vert.x","event-bus","vertx-verticle"],"owner":{"account_id":5406100,"reputation":195,"user_id":4304575,"display_name":"Adrien Ruffie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701699817,"creation_date":1701699817,"question_id":77600176,"body_markdown":"I would like to know if is possible with Vert.X and its event bus (and several servers on the same eventbus), to be alert if a disconnection (a connection lost) with a remote server.\r\n\r\nFor example, we have several client(slave) servers and one master, we want to be informed when the connection between client/master.\r\n\r\nIn order to register a special event at the disconnection.\r\n\r\nThere exists a type of handler/callback which can be automatically notified by Vert.X ?\r\n\r\nthank a lot and best regards","title":"Track Vert.X eventbus disconnection","body":"<p>I would like to know if is possible with Vert.X and its event bus (and several servers on the same eventbus), to be alert if a disconnection (a connection lost) with a remote server.</p>\n<p>For example, we have several client(slave) servers and one master, we want to be informed when the connection between client/master.</p>\n<p>In order to register a special event at the disconnection.</p>\n<p>There exists a type of handler/callback which can be automatically notified by Vert.X ?</p>\n<p>thank a lot and best regards</p>\n"},{"tags":["java","hashmap"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438111,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":160,"is_accepted":true,"score":160,"last_activity_date":1684064526,"creation_date":1304683804,"answer_id":5911199,"question_id":5911174,"body_markdown":"Basically you&#39;d need to iterate over the map&#39;s entry set, remembering both the &quot;currently known maximum&quot; and the key associated with it. (Or just the entry containing both, of course.)\r\n\r\nFor example:\r\n\r\n    Map.Entry&lt;Foo, Bar&gt; maxEntry = null;\r\n\r\n    for (Map.Entry&lt;Foo, Bar&gt; entry : map.entrySet())\r\n    {\r\n        if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0)\r\n        {\r\n            maxEntry = entry;\r\n        }\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Basically you'd need to iterate over the map's entry set, remembering both the &quot;currently known maximum&quot; and the key associated with it. (Or just the entry containing both, of course.)</p>\n<p>For example:</p>\n<pre><code>Map.Entry&lt;Foo, Bar&gt; maxEntry = null;\n\nfor (Map.Entry&lt;Foo, Bar&gt; entry : map.entrySet())\n{\n    if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0)\n    {\n        maxEntry = entry;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1619299987,"creation_date":1340946512,"answer_id":11256352,"question_id":5911174,"body_markdown":"This code will print all the keys with maximum value\r\n\r\n    public class NewClass4 {\r\n        public static void main(String[] args)\r\n        {\r\n            HashMap&lt;Integer,Integer&gt;map=new HashMap&lt;Integer, Integer&gt;();\r\n            map.put(1, 50);\r\n            map.put(2, 60);\r\n            map.put(3, 30);\r\n            map.put(4, 60);\r\n            map.put(5, 60);\r\n            int maxValueInMap=(Collections.max(map.values()));  // This will return max value in the HashMap\r\n            for (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {  // Iterate through HashMap\r\n                if (entry.getValue()==maxValueInMap) {\r\n                    System.out.println(entry.getKey());     // Print the key with max value\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>This code will print all the keys with maximum value</p>\n<pre><code>public class NewClass4 {\n    public static void main(String[] args)\n    {\n        HashMap&lt;Integer,Integer&gt;map=new HashMap&lt;Integer, Integer&gt;();\n        map.put(1, 50);\n        map.put(2, 60);\n        map.put(3, 30);\n        map.put(4, 60);\n        map.put(5, 60);\n        int maxValueInMap=(Collections.max(map.values()));  // This will return max value in the HashMap\n        for (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {  // Iterate through HashMap\n            if (entry.getValue()==maxValueInMap) {\n                System.out.println(entry.getKey());     // Print the key with max value\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4438552,"reputation":888,"user_id":3613700,"accept_rate":100,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1400864956,"creation_date":1400864956,"answer_id":23834888,"question_id":5911174,"body_markdown":"Here&#39;s how do do it directly (without an explicit extra loop) by defining the appropriate `Comparator`:\r\n\r\n    int keyOfMaxValue = Collections.max(\r\n                            yourMap.entrySet(), \r\n                            new Comparator&lt;Entry&lt;Double,Integer&gt;&gt;(){\r\n                                @Override\r\n                                public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\r\n                                    return o1.getValue() &gt; o2.getValue()? 1:-1;\r\n                                }\r\n                            }).getKey();\r\n\r\n\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p>Here's how do do it directly (without an explicit extra loop) by defining the appropriate <code>Comparator</code>:</p>\n\n<pre><code>int keyOfMaxValue = Collections.max(\n                        yourMap.entrySet(), \n                        new Comparator&lt;Entry&lt;Double,Integer&gt;&gt;(){\n                            @Override\n                            public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\n                                return o1.getValue() &gt; o2.getValue()? 1:-1;\n                            }\n                        }).getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1684054099,"creation_date":1421616695,"answer_id":28015042,"question_id":5911174,"body_markdown":"For completeness, here is a [tag:Java-8] way of doing it\r\n\r\n**Cleanest way:** \r\n\r\n    Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey()\r\nor\r\n\r\n\r\n    countMap.entrySet().stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\r\n\r\nor\r\n\r\n    Collections.max(countMap.entrySet(), (entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()).getKey();\r\n\r\nor\r\n\r\n    Collections.max(countMap.entrySet(), Comparator.comparingInt(Map.Entry::getValue)).getKey();","title":"Finding Key associated with max Value in a Java Map","body":"<p>For completeness, here is a <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-8-tooltip-container\">java-8</a> way of doing it</p>\n<p><strong>Cleanest way:</strong></p>\n<pre><code>Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey()\n</code></pre>\n<p>or</p>\n<pre><code>countMap.entrySet().stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\n</code></pre>\n<p>or</p>\n<pre><code>Collections.max(countMap.entrySet(), (entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()).getKey();\n</code></pre>\n<p>or</p>\n<pre><code>Collections.max(countMap.entrySet(), Comparator.comparingInt(Map.Entry::getValue)).getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442717072,"creation_date":1442717072,"answer_id":32675235,"question_id":5911174,"body_markdown":"For my project, I used a slightly modified version of Jon&#39;s and Fathah&#39;s solution. In the case of multiple entries with the same value, it returns the last entry it finds:\r\n\r\n    public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map) {\t\t\r\n    \tEntry&lt;String, Integer&gt; maxEntry = null;\r\n    \tInteger max = Collections.max(map.values());\r\n    \t\r\n    \tfor(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    \t\tInteger value = entry.getValue();\r\n    \t\t\r\n    \t\tif(null != value &amp;&amp; max == value) {\r\n    \t\t\tmaxEntry = entry;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn maxEntry;\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>For my project, I used a slightly modified version of Jon's and Fathah's solution. In the case of multiple entries with the same value, it returns the last entry it finds:</p>\n\n<pre><code>public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map) {        \n    Entry&lt;String, Integer&gt; maxEntry = null;\n    Integer max = Collections.max(map.values());\n\n    for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n        Integer value = entry.getValue();\n\n        if(null != value &amp;&amp; max == value) {\n            maxEntry = entry;\n        }\n    }\n\n    return maxEntry;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191912,"reputation":309,"user_id":2858684,"accept_rate":60,"display_name":"Danilo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447867457,"creation_date":1447867457,"answer_id":33786431,"question_id":5911174,"body_markdown":"Is this solution ok?\r\n\r\n    int[] a = { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\r\n\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\tfor (int i : a) {\r\n\tInteger count = map.get(i);\r\n\tmap.put(i, count != null ? count + 1 : 0);\r\n\t}\r\n\tInteger max = Collections.max(map.keySet());\r\n\tSystem.out.println(max);\r\n\tSystem.out.println(map);","title":"Finding Key associated with max Value in a Java Map","body":"<p>Is this solution ok?</p>\n\n<pre><code>int[] a = { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\nMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (int i : a) {\nInteger count = map.get(i);\nmap.put(i, count != null ? count + 1 : 0);\n}\nInteger max = Collections.max(map.keySet());\nSystem.out.println(max);\nSystem.out.println(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4858789,"reputation":749,"user_id":5744883,"accept_rate":86,"display_name":"Parnab Sanyal"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1461573767,"creation_date":1461571873,"answer_id":36835135,"question_id":5911174,"body_markdown":"you can do like that\r\n\r\n    HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n    hm.put(1,10);\r\n    hm.put(2,45);\r\n    hm.put(3,100);\r\n    Iterator&lt;Integer&gt; it = hm.keySet().iterator();\r\n    Integer fk = it.next();\r\n    Integer max = hm.get(fk);\r\n    while(it.hasNext()) {\r\n        Integer k = it.next();\r\n        Integer val = hm.get(k);\r\n        if (val &gt; max){\r\n             max = val;\r\n             fk=k;\r\n        }\r\n    }\r\n    System.out.println(&quot;Max Value &quot;+max+&quot; is associated with &quot;+fk+&quot; key&quot;);\r\n\r\n         ","title":"Finding Key associated with max Value in a Java Map","body":"<p>you can do like that</p>\n\n<pre><code>HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\nhm.put(1,10);\nhm.put(2,45);\nhm.put(3,100);\nIterator&lt;Integer&gt; it = hm.keySet().iterator();\nInteger fk = it.next();\nInteger max = hm.get(fk);\nwhile(it.hasNext()) {\n    Integer k = it.next();\n    Integer val = hm.get(k);\n    if (val &gt; max){\n         max = val;\n         fk=k;\n    }\n}\nSystem.out.println(\"Max Value \"+max+\" is associated with \"+fk+\" key\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1463922271,"creation_date":1463922271,"answer_id":37374726,"question_id":5911174,"body_markdown":"A simple one liner using Java-8 \r\n\r\n    Key key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();","title":"Finding Key associated with max Value in a Java Map","body":"<p>A simple one liner using Java-8 </p>\n\n<pre><code>Key key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1478730266,"creation_date":1478730266,"answer_id":40517026,"question_id":5911174,"body_markdown":"An answer that returns an Optional since the map may have no max value if it is empty:\r\n`map.entrySet().stream().max(Map.Entry.comparingByValue()).map(Map.Entry::getKey);`","title":"Finding Key associated with max Value in a Java Map","body":"<p>An answer that returns an Optional since the map may have no max value if it is empty:\n<code>map.entrySet().stream().max(Map.Entry.comparingByValue()).map(Map.Entry::getKey);</code></p>\n"},{"tags":[],"owner":{"account_id":8179507,"reputation":432,"user_id":6157200,"display_name":"Mariusz Szurgot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497355346,"creation_date":1478733607,"answer_id":40517647,"question_id":5911174,"body_markdown":"Java 8 way to get all keys with max value.\r\n\r\n    Integer max = PROVIDED_MAP.entrySet()\r\n                .stream()\r\n                .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)\r\n                .get()\r\n                .getValue();\r\n\r\n    List listOfMax = PROVIDED_MAP.entrySet()\r\n                .stream()\r\n                .filter(entry -&gt; entry.getValue() == max)\r\n                .map(Map.Entry::getKey)\r\n                .collect(Collectors.toList());\r\n\r\n    System.out.println(listOfMax);\r\n\r\nAlso you can parallelize it by using `parallelStream()` instead of `stream()`","title":"Finding Key associated with max Value in a Java Map","body":"<p>Java 8 way to get all keys with max value.</p>\n\n<pre><code>Integer max = PROVIDED_MAP.entrySet()\n            .stream()\n            .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)\n            .get()\n            .getValue();\n\nList listOfMax = PROVIDED_MAP.entrySet()\n            .stream()\n            .filter(entry -&gt; entry.getValue() == max)\n            .map(Map.Entry::getKey)\n            .collect(Collectors.toList());\n\nSystem.out.println(listOfMax);\n</code></pre>\n\n<p>Also you can parallelize it by using <code>parallelStream()</code> instead of <code>stream()</code></p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1701699224,"creation_date":1498162842,"answer_id":44708676,"question_id":5911174,"body_markdown":"I have two methods, using this m&#233;thod to get the key with the max value:\r\n\r\n     public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map){        \r\n        Entry&lt;String, Integer&gt; maxEntry = null;\r\n        Integer max = Collections.max(map.values());\r\n    \r\n        for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n            Integer value = entry.getValue();\r\n            if(null != value &amp;&amp; max == value) {\r\n                maxEntry = entry;\r\n            }\r\n        }\r\n        return maxEntry;\r\n    }\r\n\r\nAs an example gettin the Entry with the max value using the method:\r\n\r\n    Map.Entry&lt;String, Integer&gt; maxEntry =  getMaxEntry(map);\r\n\r\n-------------------------------\r\n\r\nUsing **Java 8** we can get an object containing the max value:\r\n\r\n    Object maxEntry = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();      \r\n    \r\n    System.out.println(&quot;maxEntry = &quot; + maxEntry);\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p>I have two methods, using this méthod to get the key with the max value:</p>\n<pre><code> public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map){        \n    Entry&lt;String, Integer&gt; maxEntry = null;\n    Integer max = Collections.max(map.values());\n\n    for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n        Integer value = entry.getValue();\n        if(null != value &amp;&amp; max == value) {\n            maxEntry = entry;\n        }\n    }\n    return maxEntry;\n}\n</code></pre>\n<p>As an example gettin the Entry with the max value using the method:</p>\n<pre><code>Map.Entry&lt;String, Integer&gt; maxEntry =  getMaxEntry(map);\n</code></pre>\n<hr />\n<p>Using <strong>Java 8</strong> we can get an object containing the max value:</p>\n<pre><code>Object maxEntry = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();      \n\nSystem.out.println(&quot;maxEntry = &quot; + maxEntry);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620114711,"creation_date":1548426757,"answer_id":54367324,"question_id":5911174,"body_markdown":"**1. Using Stream**\r\n    \r\n    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndLambda(Map&lt;K, V&gt; map) {\r\n        Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\r\n            .stream()\r\n            .max((Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\r\n                .compareTo(e2.getValue())\r\n            );\r\n         \r\n        return maxEntry.get().getKey();\r\n    }\r\n**2. Using Collections.max()  with a Lambda Expression**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMaxAndLambda(Map&lt;K, V&gt; map) {\r\n            Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), (Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\r\n                .compareTo(e2.getValue()));\r\n            return maxEntry.getKey();\r\n        }\r\n**3. Using Stream with Method Reference**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndMethodReference(Map&lt;K, V&gt; map) {\r\n            Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\r\n                .stream()\r\n                .max(Map.Entry.comparingByValue());\r\n            return maxEntry.get()\r\n                .getKey();\r\n        }\r\n**4. Using Collections.max()**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMax(Map&lt;K, V&gt; map) {\r\n            Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\r\n                public int compare(Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) {\r\n                    return e1.getValue()\r\n                        .compareTo(e2.getValue());\r\n                }\r\n            });\r\n            return maxEntry.getKey();\r\n        }\r\n**5. Using Simple Iteration**\r\n\r\n    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingIteration(Map&lt;K, V&gt; map) {\r\n        Map.Entry&lt;K, V&gt; maxEntry = null;\r\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\r\n            if (maxEntry == null || entry.getValue()\r\n                .compareTo(maxEntry.getValue()) &gt; 0) {\r\n                maxEntry = entry;\r\n            }\r\n        }\r\n        return maxEntry.getKey();\r\n    }\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>1. Using Stream</strong></p>\n<pre><code>public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndLambda(Map&lt;K, V&gt; map) {\n    Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\n        .stream()\n        .max((Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\n            .compareTo(e2.getValue())\n        );\n     \n    return maxEntry.get().getKey();\n}\n</code></pre>\n<p><strong>2. Using Collections.max()  with a Lambda Expression</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMaxAndLambda(Map&lt;K, V&gt; map) {\n        Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), (Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\n            .compareTo(e2.getValue()));\n        return maxEntry.getKey();\n    }\n</code></pre>\n<p><strong>3. Using Stream with Method Reference</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndMethodReference(Map&lt;K, V&gt; map) {\n        Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\n            .stream()\n            .max(Map.Entry.comparingByValue());\n        return maxEntry.get()\n            .getKey();\n    }\n</code></pre>\n<p><strong>4. Using Collections.max()</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMax(Map&lt;K, V&gt; map) {\n        Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\n            public int compare(Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) {\n                return e1.getValue()\n                    .compareTo(e2.getValue());\n            }\n        });\n        return maxEntry.getKey();\n    }\n</code></pre>\n<p><strong>5. Using Simple Iteration</strong></p>\n<pre><code>public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingIteration(Map&lt;K, V&gt; map) {\n    Map.Entry&lt;K, V&gt; maxEntry = null;\n    for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\n        if (maxEntry == null || entry.getValue()\n            .compareTo(maxEntry.getValue()) &gt; 0) {\n            maxEntry = entry;\n        }\n    }\n    return maxEntry.getKey();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16073264,"reputation":11,"user_id":11601134,"display_name":"Abdullah Uzundere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559681094,"creation_date":1559681094,"answer_id":56451107,"question_id":5911174,"body_markdown":"    int maxValue = 0;\r\n    int mKey = 0;\r\n    for(Integer key: map.keySet()){\r\n        if(map.get(key) &gt; maxValue){\r\n            maxValue = map.get(key);\r\n            mKey = key;\r\n        }\r\n    }\r\n    System.out.println(&quot;Max Value &quot; + maxValue + &quot; is associated with &quot; + mKey + &quot; key&quot;);","title":"Finding Key associated with max Value in a Java Map","body":"<pre><code>int maxValue = 0;\nint mKey = 0;\nfor(Integer key: map.keySet()){\n    if(map.get(key) &gt; maxValue){\n        maxValue = map.get(key);\n        mKey = key;\n    }\n}\nSystem.out.println(\"Max Value \" + maxValue + \" is associated with \" + mKey + \" key\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564140350,"creation_date":1564140350,"answer_id":57219091,"question_id":5911174,"body_markdown":"Majority Element/ max element in the map :\r\n\r\n    public class Main {\r\n    \t public static void main(String[] args) {\r\n    \t int[] a = {1,3,4,3,4,3,2,3,3,3,3,3};\r\n         List&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\r\n         Map&lt;Integer, Long&gt; map = list.parallelStream()\r\n                 .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\r\n         System.out.println(&quot;Map =&gt; &quot; + map);\r\n         //{1=1, 2=1, 3=8, 4=2}\r\n         map.entrySet()\r\n         .stream()\r\n         .max(Comparator.comparing(Entry::getValue))//compare the values and get the maximum value\r\n         .map(Entry::getKey)// get the key appearing maximum number of times\r\n         .ifPresentOrElse(System.out::println,() -&gt; new RuntimeException(&quot;no such thing&quot;));\r\n    \r\n         /*\r\n          * OUTPUT : Map =&gt; {1=1, 2=1, 3=8, 4=2} \r\n          * 3\r\n          */\r\n         // or in  this way \r\n         System.out.println(&quot;.............&quot;);\r\n         Integer maxAppearedElement = map.entrySet()\r\n        \t\t .parallelStream()\r\n        \t\t .max(Comparator.comparing(Entry::getValue))\r\n        \t\t .map(Entry::getKey)\r\n        \t\t .get();\r\n         System.out.println(maxAppearedElement);\r\n    \r\n    \t } \r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Majority Element/ max element in the map :</p>\n\n<pre><code>public class Main {\n     public static void main(String[] args) {\n     int[] a = {1,3,4,3,4,3,2,3,3,3,3,3};\n     List&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\n     Map&lt;Integer, Long&gt; map = list.parallelStream()\n             .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n     System.out.println(\"Map =&gt; \" + map);\n     //{1=1, 2=1, 3=8, 4=2}\n     map.entrySet()\n     .stream()\n     .max(Comparator.comparing(Entry::getValue))//compare the values and get the maximum value\n     .map(Entry::getKey)// get the key appearing maximum number of times\n     .ifPresentOrElse(System.out::println,() -&gt; new RuntimeException(\"no such thing\"));\n\n     /*\n      * OUTPUT : Map =&gt; {1=1, 2=1, 3=8, 4=2} \n      * 3\n      */\n     // or in  this way \n     System.out.println(\".............\");\n     Integer maxAppearedElement = map.entrySet()\n             .parallelStream()\n             .max(Comparator.comparing(Entry::getValue))\n             .map(Entry::getKey)\n             .get();\n     System.out.println(maxAppearedElement);\n\n     } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567148239,"creation_date":1567148239,"answer_id":57721928,"question_id":5911174,"body_markdown":" **given map**\r\n\r\n HashMap&lt;Integer, Integer&gt; abc = new HashMap&lt;&gt;();\r\n\r\n**get all map entries with a maximum of values.**\r\n\r\n you can use any of the below methods in the filter to get respective map entries for sets of minimum or maximum values\r\n\r\n    Collections.max(abc.values())\r\n    Collections.min(abc.values())\r\n    Collections.max(abc.keys())\r\n    Collections.max(abc.keys())\r\n    \r\n    abc.entrySet().stream().filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n\r\n\r\n**if only want to get the keys for the filter map** \r\n\r\n    abc.entrySet()\r\n           .stream()\r\n           .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n           .map(Map.Entry::getKey);\r\n\r\n**if you want to get the values for the filtered map**\r\n\r\n    abc.entrySet()\r\n          .stream()\r\n          .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n          .map(Map.Entry::getvalue)\r\n\r\n**if you want to get all such keys in a list:**\r\n\r\n    abc.entrySet()\r\n      .stream()\r\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n      .map(Map.Entry::getKey)\r\n      .collect(Collectors.toList())\r\n\r\n**if you want to get all such values in a list:**\r\n\r\n    abc.entrySet()\r\n      .stream()\r\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n      .map(Map.Entry::getvalue)\r\n      .collect(Collectors.toList())","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>given map</strong></p>\n\n<p>HashMap abc = new HashMap&lt;>();</p>\n\n<p><strong>get all map entries with a maximum of values.</strong></p>\n\n<p>you can use any of the below methods in the filter to get respective map entries for sets of minimum or maximum values</p>\n\n<pre><code>Collections.max(abc.values())\nCollections.min(abc.values())\nCollections.max(abc.keys())\nCollections.max(abc.keys())\n\nabc.entrySet().stream().filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n</code></pre>\n\n<p><strong>if only want to get the keys for the filter map</strong> </p>\n\n<pre><code>abc.entrySet()\n       .stream()\n       .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n       .map(Map.Entry::getKey);\n</code></pre>\n\n<p><strong>if you want to get the values for the filtered map</strong></p>\n\n<pre><code>abc.entrySet()\n      .stream()\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n      .map(Map.Entry::getvalue)\n</code></pre>\n\n<p><strong>if you want to get all such keys in a list:</strong></p>\n\n<pre><code>abc.entrySet()\n  .stream()\n  .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n  .map(Map.Entry::getKey)\n  .collect(Collectors.toList())\n</code></pre>\n\n<p><strong>if you want to get all such values in a list:</strong></p>\n\n<pre><code>abc.entrySet()\n  .stream()\n  .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n  .map(Map.Entry::getvalue)\n  .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1576050908,"creation_date":1576050908,"answer_id":59281101,"question_id":5911174,"body_markdown":"Simple to understand.\r\nIn Below code, maxKey is the key which is holding the max value.\r\n\r\n    int maxKey = 0;\r\n    int maxValue = 0;\r\n    for(int i : birds.keySet())\r\n    {\r\n     \tif(birds.get(i) &gt; maxValue)\r\n       \t{\r\n       \t\tmaxKey = i;\r\n       \t\tmaxValue = birds.get(i);\r\n       \t}\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Simple to understand.\nIn Below code, maxKey is the key which is holding the max value.</p>\n\n<pre><code>int maxKey = 0;\nint maxValue = 0;\nfor(int i : birds.keySet())\n{\n    if(birds.get(i) &gt; maxValue)\n    {\n        maxKey = i;\n        maxValue = birds.get(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612303009,"creation_date":1612302176,"answer_id":66018055,"question_id":5911174,"body_markdown":"This is going to return the keys with max value in a `Map&lt;Integer, Integer&gt;`\r\n\r\n    public Set&lt;Integer&gt; getMaxKeys(Map&lt;Integer, Integer&gt; map) { \r\n    \r\n            if (map.isEmpty()) {\r\n                return Collections.emptySet();\r\n            }\r\n    \r\n            return map\r\n            .entrySet()\r\n            .stream()\r\n            .collect(\r\n                groupingBy(\r\n                    Map.Entry::getValue, TreeMap::new, mapping(Map.Entry::getKey, toSet())\r\n                )\r\n             )\r\n             .lastEntry()\r\n             .getValue();\r\n        }","title":"Finding Key associated with max Value in a Java Map","body":"<p>This is going to return the keys with max value in a <code>Map&lt;Integer, Integer&gt;</code></p>\n<pre><code>public Set&lt;Integer&gt; getMaxKeys(Map&lt;Integer, Integer&gt; map) { \n\n        if (map.isEmpty()) {\n            return Collections.emptySet();\n        }\n\n        return map\n        .entrySet()\n        .stream()\n        .collect(\n            groupingBy(\n                Map.Entry::getValue, TreeMap::new, mapping(Map.Entry::getKey, toSet())\n            )\n         )\n         .lastEntry()\n         .getValue();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5854706,"reputation":77,"user_id":4612374,"display_name":"Sophie"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626735959,"creation_date":1626674194,"answer_id":68435678,"question_id":5911174,"body_markdown":"The simplest way is:\r\n\r\n    Collections.max(hmap.values());","title":"Finding Key associated with max Value in a Java Map","body":"<p>The simplest way is:</p>\n<pre><code>Collections.max(hmap.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652185867,"creation_date":1652185867,"answer_id":72186356,"question_id":5911174,"body_markdown":"**Kotlin**:\r\n```kotlin\r\nval key = map.toList().groupingBy { it }.eachCount().maxByOrNull { it.value }?.key\r\n```","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>Kotlin</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val key = map.toList().groupingBy { it }.eachCount().maxByOrNull { it.value }?.key\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15614852,"reputation":565,"user_id":11265290,"display_name":"Imran Sefat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652198527,"creation_date":1652198527,"answer_id":72189607,"question_id":5911174,"body_markdown":"        int max = 0;\r\n    // here m is a HashMap&lt;String, Integer&gt;\r\n        for(Map.Entry&lt;String,Integer&gt; entry : m.entrySet()){\r\n    \r\n           if(entry.getValue() &gt; max){\r\n              max = entry.getValue();              \r\n           }\r\n        }","title":"Finding Key associated with max Value in a Java Map","body":"<pre><code>    int max = 0;\n// here m is a HashMap&lt;String, Integer&gt;\n    for(Map.Entry&lt;String,Integer&gt; entry : m.entrySet()){\n\n       if(entry.getValue() &gt; max){\n          max = entry.getValue();              \n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":117187,"reputation":3726,"user_id":307006,"accept_rate":50,"display_name":"Ben B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395603,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"accepted_answer_id":5911199,"answer_count":20,"score":186,"last_activity_date":1701699224,"creation_date":1304683650,"question_id":5911174,"body_markdown":"What is the easiest way to get key associated with the max value in a map?\r\n\r\nI believe that Collections.max(someMap) will return the max Key, when you want the key that corresponds to the max value.","title":"Finding Key associated with max Value in a Java Map","body":"<p>What is the easiest way to get key associated with the max value in a map?</p>\n\n<p>I believe that Collections.max(someMap) will return the max Key, when you want the key that corresponds to the max value.</p>\n"},{"tags":["java","json","jackson","json-deserialization","objectmapper"],"comments":[{"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"score":1,"creation_date":1594985893,"post_id":62944201,"comment_id":111325698,"body_markdown":"Anybody here who has faced this issue? org.apache.avro.AvroRuntimeException: Not an array:","body":"Anybody here who has faced this issue? org.apache.avro.AvroRuntimeException: Not an array:"},{"owner":{"account_id":14088751,"reputation":1,"user_id":10177797,"display_name":"Shashank Agrawal"},"score":0,"creation_date":1613148634,"post_id":62944201,"comment_id":116995550,"body_markdown":"If you haven&#39;t resolve it yet: https://stackoverflow.com/questions/39349733/jsonmappingexception-when-serializing-avro-generated-object-to-json","body":"If you haven&#39;t resolve it yet: <a href=\"https://stackoverflow.com/questions/39349733/jsonmappingexception-when-serializing-avro-generated-object-to-json\" title=\"jsonmappingexception when serializing avro generated object to json\">stackoverflow.com/questions/39349733/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624389267,"creation_date":1624315224,"answer_id":68075543,"question_id":62944201,"body_markdown":"The Jackson conversion process evaluates each and every field or getter of the object recursively, so it can create the JSON nodes. \r\n\r\nYou are probably converting a generated AVRO type here. It contains a field called `$SCHEMA` which itself does not have a method called `getElementType()` implemented. The default method `getElementType()` of `org.apache.avro.Schema` throws this exception explicitly. Since Jackson comes across this method during its conversion process, the exception is thrown. \r\n\r\n`getElementType()` Is just the one of many default implementations in that Schema class which throw an exception by default. I don&#39;t think there is any way around it, except for not using Jackson to create JSON, but instead use the same API that created the AVRO type in the first place. \r\n\r\nEDIT: maybe you could register a `JsonSerializer&lt;Schema&gt;` to your mapper, and customize the serialization of Schema yourself. \r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>The Jackson conversion process evaluates each and every field or getter of the object recursively, so it can create the JSON nodes.</p>\n<p>You are probably converting a generated AVRO type here. It contains a field called <code>$SCHEMA</code> which itself does not have a method called <code>getElementType()</code> implemented. The default method <code>getElementType()</code> of <code>org.apache.avro.Schema</code> throws this exception explicitly. Since Jackson comes across this method during its conversion process, the exception is thrown.</p>\n<p><code>getElementType()</code> Is just the one of many default implementations in that Schema class which throw an exception by default. I don't think there is any way around it, except for not using Jackson to create JSON, but instead use the same API that created the AVRO type in the first place.</p>\n<p>EDIT: maybe you could register a <code>JsonSerializer&lt;Schema&gt;</code> to your mapper, and customize the serialization of Schema yourself.</p>\n"},{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624435472,"creation_date":1624378523,"answer_id":68087222,"question_id":62944201,"body_markdown":"This issue comes when you auto generate your POJOs from Avro schema using Avro compiler. This auto generated POJO contains below extra field among others (apart from the one specified by the user in the Avro schema)\r\n\r\n    public static final org.apache.avro.Schema SCHEMA$;\r\n\r\n \r\n\r\nDue to some bug in Avro API the `Schema.getElementType()` method causes **Not an array** Exception during serialization. Below is the method definition \r\n \r\n     public Schema getElementType() {\r\n        throw new AvroRuntimeException(&quot;Not an array: &quot; + this);\r\n      }\r\n\r\nTo fix this issue, just ignore SCHEMA$ field in the auto generated POJO during serialization as below\r\n\r\n    // create this class to ignore one or more fields\r\n    public abstract class IgnoreSchemaProperty\r\n    {\r\n        @JsonIgnore\r\n        abstract void getSchema();\r\n    }\r\n\r\n    public class Test{\r\n        public static void main(String args[]) {\r\n            ObjectMapper objectMapper=new ObjectMapper();\r\n            //pass the above created class in the mixIn\r\n            objectMapper.addMixIn(YourPojo.class, IgnoreSchemaProperty.class);\r\n            String pojoJson = objectMapper.writeValueAsString(YourPojo);\r\n            System.out.println(pojoJson);\r\n        }\r\n    }\r\n\r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>This issue comes when you auto generate your POJOs from Avro schema using Avro compiler. This auto generated POJO contains below extra field among others (apart from the one specified by the user in the Avro schema)</p>\n<pre><code>public static final org.apache.avro.Schema SCHEMA$;\n</code></pre>\n<p>Due to some bug in Avro API the <code>Schema.getElementType()</code> method causes <strong>Not an array</strong> Exception during serialization. Below is the method definition</p>\n<pre><code> public Schema getElementType() {\n    throw new AvroRuntimeException(&quot;Not an array: &quot; + this);\n  }\n</code></pre>\n<p>To fix this issue, just ignore SCHEMA$ field in the auto generated POJO during serialization as below</p>\n<pre><code>// create this class to ignore one or more fields\npublic abstract class IgnoreSchemaProperty\n{\n    @JsonIgnore\n    abstract void getSchema();\n}\n\npublic class Test{\n    public static void main(String args[]) {\n        ObjectMapper objectMapper=new ObjectMapper();\n        //pass the above created class in the mixIn\n        objectMapper.addMixIn(YourPojo.class, IgnoreSchemaProperty.class);\n        String pojoJson = objectMapper.writeValueAsString(YourPojo);\n        System.out.println(pojoJson);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680688743,"creation_date":1680688743,"answer_id":75938065,"question_id":62944201,"body_markdown":"You can use JsonSerializer for Avro Schema checked code:\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import org.apache.avro.Schema;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class AvroSchemaSerializer extends JsonSerializer&lt;Schema&gt; {\r\n        @Override\r\n        public void serialize(Schema value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n            String res = value.toString();\r\n            jgen.writeRaw(res);\r\n        }\r\n    }\r\n\r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>You can use JsonSerializer for Avro Schema checked code:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport org.apache.avro.Schema;\n\nimport java.io.IOException;\n\npublic class AvroSchemaSerializer extends JsonSerializer&lt;Schema&gt; {\n    @Override\n    public void serialize(Schema value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n        String res = value.toString();\n        jgen.writeRaw(res);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18954,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701699053,"creation_date":1701699053,"answer_id":77600084,"question_id":62944201,"body_markdown":"Issue shows out when you convert an Avro POJO to JSON using Jackson. The solution is unbelievably humble: `avroPojo.toString()`.\r\n\r\nYou can use this utility method to get the difference of the two compared JSONs:\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.google.common.collect.MapDifference;\r\n    import com.google.common.collect.Maps;\r\n    import lombok.SneakyThrows;\r\n    import lombok.experimental.UtilityClass;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    @UtilityClass\r\n    public class JsonUtils {\r\n\r\n    private static final ObjectMapper MAPPER = new ObjectMapper();\r\n\r\n    /**\r\n     * Compare two String JSON-objects.\r\n     *\r\n     * @param sourceJson Basic object to compare.\r\n     * @param targetJson Comparable object.\r\n     * @return A map of fields that differ.\r\n     */\r\n    @SneakyThrows\r\n    public static MapDifference&lt;String, Object&gt; compareJsons(String sourceJson, String targetJson) {\r\n\r\n        Map&lt;String, Object&gt; sourceJsonMap = MAPPER.readValue(\r\n                sourceJson,\r\n                new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n\r\n        Map&lt;String, Object&gt; targetJsonMap = MAPPER.readValue(\r\n                targetJson,\r\n                new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n\r\n        return Maps.difference(sourceJsonMap, targetJsonMap);\r\n      }\r\n    }\r\n\r\nRequired dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-databind.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.0.1-jre&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>Issue shows out when you convert an Avro POJO to JSON using Jackson. The solution is unbelievably humble: <code>avroPojo.toString()</code>.</p>\n<p>You can use this utility method to get the difference of the two compared JSONs:</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.google.common.collect.MapDifference;\nimport com.google.common.collect.Maps;\nimport lombok.SneakyThrows;\nimport lombok.experimental.UtilityClass;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@UtilityClass\npublic class JsonUtils {\n\nprivate static final ObjectMapper MAPPER = new ObjectMapper();\n\n/**\n * Compare two String JSON-objects.\n *\n * @param sourceJson Basic object to compare.\n * @param targetJson Comparable object.\n * @return A map of fields that differ.\n */\n@SneakyThrows\npublic static MapDifference&lt;String, Object&gt; compareJsons(String sourceJson, String targetJson) {\n\n    Map&lt;String, Object&gt; sourceJsonMap = MAPPER.readValue(\n            sourceJson,\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n\n    Map&lt;String, Object&gt; targetJsonMap = MAPPER.readValue(\n            targetJson,\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n\n    return Maps.difference(sourceJsonMap, targetJsonMap);\n  }\n}\n</code></pre>\n<p>Required dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${jackson-databind.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;32.0.1-jre&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9602,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1701699053,"creation_date":1594937203,"question_id":62944201,"body_markdown":"While converting Java object to JSON string, I&#39;m facing JsonMappingException. Below is the complete exception message.\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Not an array: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemMemberIdentification2&quot;,&quot;namespace&quot;:&quot;com.sam.eps.paymentdomain.avro.pacs002&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemMemberIdentification2&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;clearing_system_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemIdentification2Choice&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemIdentification2Choice&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;code&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null},{&quot;name&quot;:&quot;proprietary&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]}],&quot;default&quot;:null},{&quot;name&quot;:&quot;member_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]} (through reference chain: com.sam.eps.paymentdomain.avro.pacs002.Document[&quot;fi_to_fi_payment_status_report&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FIToFIPaymentStatusReportV10[&quot;group_header&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.GroupHeader91[&quot;instructed_agent&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.BranchAndFinancialInstitutionIdentification6[&quot;financial_institution_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FinancialInstitutionIdentification18[&quot;clearing_system_member_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.ClearingSystemMemberIdentification2[&quot;schema&quot;]-&gt;org.apache.avro.Schema$RecordSchema[&quot;elementType&quot;])\r\n\r\nBelow is the java code which I use for converting Java object to JSON String. I tried enabling ACCEPT_SINGLE_VALUE_AS_ARRAY, ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT but still facing the issue. Not sure what is causing **JsonMappingException: Not an array** issue.\r\n\r\n    private String convertObjectToJson(Object request) throws JsonProcessingException {\r\n    \r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.registerModule(new JavaTimeModule());\r\n    \t\tSimpleModule simpleModule = new SimpleModule();\r\n    \t\tsimpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n    \t\t\t\tjsonGenerator.writeString(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(offsetDateTime));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tsimpleModule.addSerializer(LocalDate.class, new JsonSerializer&lt;LocalDate&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void serialize(LocalDate localDate, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n    \t\t\t\tjsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE.format(localDate));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tobjectMapper.registerModule(simpleModule);\r\n    \t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\tobjectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n    \t\tobjectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\r\n    \t\tobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t\treturn objectMapper.writeValueAsString(request);\r\n    \t}","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>While converting Java object to JSON string, I'm facing JsonMappingException. Below is the complete exception message.</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Not an array: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemMemberIdentification2&quot;,&quot;namespace&quot;:&quot;com.sam.eps.paymentdomain.avro.pacs002&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemMemberIdentification2&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;clearing_system_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemIdentification2Choice&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemIdentification2Choice&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;code&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null},{&quot;name&quot;:&quot;proprietary&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]}],&quot;default&quot;:null},{&quot;name&quot;:&quot;member_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]} (through reference chain: com.sam.eps.paymentdomain.avro.pacs002.Document[&quot;fi_to_fi_payment_status_report&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FIToFIPaymentStatusReportV10[&quot;group_header&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.GroupHeader91[&quot;instructed_agent&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.BranchAndFinancialInstitutionIdentification6[&quot;financial_institution_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FinancialInstitutionIdentification18[&quot;clearing_system_member_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.ClearingSystemMemberIdentification2[&quot;schema&quot;]-&gt;org.apache.avro.Schema$RecordSchema[&quot;elementType&quot;])\n</code></pre>\n<p>Below is the java code which I use for converting Java object to JSON String. I tried enabling ACCEPT_SINGLE_VALUE_AS_ARRAY, ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT but still facing the issue. Not sure what is causing <strong>JsonMappingException: Not an array</strong> issue.</p>\n<pre><code>private String convertObjectToJson(Object request) throws JsonProcessingException {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\n            @Override\n            public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(offsetDateTime));\n            }\n        });\n        simpleModule.addSerializer(LocalDate.class, new JsonSerializer&lt;LocalDate&gt;() {\n            @Override\n            public void serialize(LocalDate localDate, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE.format(localDate));\n            }\n        });\n        objectMapper.registerModule(simpleModule);\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        objectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        return objectMapper.writeValueAsString(request);\n    }\n</code></pre>\n"},{"tags":["java","web-services","validation","soap","wsdl"],"comments":[{"owner":{"account_id":5649129,"reputation":163,"user_id":4470352,"display_name":"Francisco M"},"score":0,"creation_date":1490353174,"post_id":21461504,"comment_id":73085163,"body_markdown":"This would help you: http://stackoverflow.com/questions/42952387/how-to-set-wsdl-inner-schema-to-jaxb2marshaller-to-validate-each-post-i-wold-mak","body":"This would help you: <a href=\"http://stackoverflow.com/questions/42952387/how-to-set-wsdl-inner-schema-to-jaxb2marshaller-to-validate-each-post-i-wold-mak\" title=\"how to set wsdl inner schema to jaxb2marshaller to validate each post i wold mak\">stackoverflow.com/questions/42952387/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2038913,"reputation":4421,"user_id":1820583,"accept_rate":84,"display_name":"Eduardo Briguenti Vieira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391099862,"creation_date":1391099862,"answer_id":21462212,"question_id":21461504,"body_markdown":"If you want to validate an xml, you need to create an XSD for that xml. \r\n\r\nAfter that is just a call to a validate method, just like you did.\r\n\r\n    package com.journaldev.xml;\r\n     \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n     \r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    import javax.xml.validation.Schema;\r\n    import javax.xml.validation.SchemaFactory;\r\n    import javax.xml.validation.Validator;\r\n     \r\n    import org.xml.sax.SAXException;\r\n     \r\n    public class XMLValidation {\r\n     \r\n        public static void main(String[] args) {\r\n             \r\n          System.out.println(&quot;EmployeeRequest.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;EmployeeRequest.xml&quot;));\r\n          System.out.println(&quot;EmployeeResponse.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;EmployeeResponse.xml&quot;));\r\n          System.out.println(&quot;employee.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;employee.xml&quot;));\r\n           \r\n          }\r\n         \r\n        public static boolean validateXMLSchema(String xsdPath, String xmlPath){\r\n             \r\n            try {\r\n                SchemaFactory factory = \r\n                        SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n                Schema schema = factory.newSchema(new File(xsdPath));\r\n                Validator validator = schema.newValidator();\r\n                validator.validate(new StreamSource(new File(xmlPath)));\r\n            } catch (IOException | SAXException e) {\r\n                System.out.println(&quot;Exception: &quot;+e.getMessage());\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n**Here a tutorial:**\r\n\r\nhttp://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java","title":"How programmatically (!) validate soap request/response with wsdl?","body":"<p>If you want to validate an xml, you need to create an XSD for that xml. </p>\n\n<p>After that is just a call to a validate method, just like you did.</p>\n\n<pre><code>package com.journaldev.xml;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\n\nimport org.xml.sax.SAXException;\n\npublic class XMLValidation {\n\n    public static void main(String[] args) {\n\n      System.out.println(\"EmployeeRequest.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"EmployeeRequest.xml\"));\n      System.out.println(\"EmployeeResponse.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"EmployeeResponse.xml\"));\n      System.out.println(\"employee.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"employee.xml\"));\n\n      }\n\n    public static boolean validateXMLSchema(String xsdPath, String xmlPath){\n\n        try {\n            SchemaFactory factory = \n                    SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            Schema schema = factory.newSchema(new File(xsdPath));\n            Validator validator = schema.newValidator();\n            validator.validate(new StreamSource(new File(xmlPath)));\n        } catch (IOException | SAXException e) {\n            System.out.println(\"Exception: \"+e.getMessage());\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>Here a tutorial:</strong></p>\n\n<p><a href=\"http://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java\" rel=\"nofollow\">http://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java</a></p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10080,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701698790,"creation_date":1391097993,"question_id":21461504,"body_markdown":"Suppose I have an xml file with request/response and wsdl file. How I can validate *request/response by wsdl*?\r\n\r\n**Important**\r\n\r\nI know that it is possible to enable such validation with container like Spring-Ws or Metro, but I want manual validation without container like that:\r\n\r\n    public static void main (String[] arg) {\r\n         File xmlRequest = new File(arg[0]);\r\n         File wsdlFile = new File(arg[1]);\r\n         //....\r\n         someValidator.validate(xmlRequest, wsdlFile);\r\n    }","title":"How programmatically (!) validate soap request/response with wsdl?","body":"<p>Suppose I have an xml file with request/response and wsdl file. How I can validate <em>request/response by wsdl</em>?</p>\n\n<p><strong>Important</strong></p>\n\n<p>I know that it is possible to enable such validation with container like Spring-Ws or Metro, but I want manual validation without container like that:</p>\n\n<pre><code>public static void main (String[] arg) {\n     File xmlRequest = new File(arg[0]);\n     File wsdlFile = new File(arg[1]);\n     //....\n     someValidator.validate(xmlRequest, wsdlFile);\n}\n</code></pre>\n"},{"tags":["java","android","service","android-broadcast"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701698671,"creation_date":1701698671,"answer_id":77600042,"question_id":76583558,"body_markdown":"You are checking if your `Service` is running, and of course it is, so this method will ralways eturn `true`. Using `getRunningTasks()` is not intended for this purpose and probably won&#39;t be reliable, especially with newer Android versions.\r\n\r\nWhat you should do is to store the current &quot;charging&quot; state in shared preferences. Whenever your `BroadcastReceiver` is triggered, compare the new &quot;charging&quot; state to the state you have stored in shared preferences. If they are different and the new state is &quot;CHARGING&quot;, then you can launch your app.","title":"How to check if the app is running in background or foreground","body":"<p>You are checking if your <code>Service</code> is running, and of course it is, so this method will ralways eturn <code>true</code>. Using <code>getRunningTasks()</code> is not intended for this purpose and probably won't be reliable, especially with newer Android versions.</p>\n<p>What you should do is to store the current &quot;charging&quot; state in shared preferences. Whenever your <code>BroadcastReceiver</code> is triggered, compare the new &quot;charging&quot; state to the state you have stored in shared preferences. If they are different and the new state is &quot;CHARGING&quot;, then you can launch your app.</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701698671,"creation_date":1688061717,"question_id":76583558,"body_markdown":"I have a `Service` that always running in the background even if the app is completely closed. In this service, I have a `BroadcastReceiver` that let me know if the device is charging or not :\r\n\r\n      @Override\r\n        public void onBatteryStatusChanged(BatteryUtils.Status status) {\r\n            if (status.getStatus() == BatteryUtils.BatteryStatus.CHARGING) {\r\n                 if(!AppUtils.isAppRunning(getPackageName()))\r\n                       LogUtils.dTag(Constants.TAG, &quot;APP SHOULD LAUNCH NOW&quot;);\r\n            }\r\n        }\r\n\r\n    public static boolean isAppRunning(final String pkgName) {\r\n        ActivityManager am = (ActivityManager) Utils.getApp().getSystemService(Context.ACTIVITY_SERVICE);\r\n        if (am != null) {\r\n            List&lt;ActivityManager.RunningTaskInfo&gt; taskInfo = am.getRunningTasks(Integer.MAX_VALUE);\r\n            if (taskInfo != null &amp;&amp; taskInfo.size() &gt; 0) {\r\n                for (ActivityManager.RunningTaskInfo aInfo : taskInfo) {\r\n                    if (aInfo.baseActivity != null) {\r\n                        if (pkgName.equals(aInfo.baseActivity.getPackageName())) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            List&lt;ActivityManager.RunningServiceInfo&gt; serviceInfo = am.getRunningServices(Integer.MAX_VALUE);\r\n            if (serviceInfo != null &amp;&amp; serviceInfo.size() &gt; 0) {\r\n                for (ActivityManager.RunningServiceInfo aInfo : serviceInfo) {\r\n                    if (pkgName.equals(aInfo.service.getPackageName())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n**My Goal :**\r\n\r\nIs launching the app once the charger is plugged in, but only if it hasn&#39;t already been launched.\r\n\r\n**My Issue :** \r\n\r\nWhen I check whether the app is running or not, it always returns `TRUE`, even when the app is closed. This behavior occurs because the service is running in the background, leading to the entire app being considered as running.\r\n","title":"How to check if the app is running in background or foreground","body":"<p>I have a <code>Service</code> that always running in the background even if the app is completely closed. In this service, I have a <code>BroadcastReceiver</code> that let me know if the device is charging or not :</p>\n<pre><code>  @Override\n    public void onBatteryStatusChanged(BatteryUtils.Status status) {\n        if (status.getStatus() == BatteryUtils.BatteryStatus.CHARGING) {\n             if(!AppUtils.isAppRunning(getPackageName()))\n                   LogUtils.dTag(Constants.TAG, &quot;APP SHOULD LAUNCH NOW&quot;);\n        }\n    }\n\npublic static boolean isAppRunning(final String pkgName) {\n    ActivityManager am = (ActivityManager) Utils.getApp().getSystemService(Context.ACTIVITY_SERVICE);\n    if (am != null) {\n        List&lt;ActivityManager.RunningTaskInfo&gt; taskInfo = am.getRunningTasks(Integer.MAX_VALUE);\n        if (taskInfo != null &amp;&amp; taskInfo.size() &gt; 0) {\n            for (ActivityManager.RunningTaskInfo aInfo : taskInfo) {\n                if (aInfo.baseActivity != null) {\n                    if (pkgName.equals(aInfo.baseActivity.getPackageName())) {\n                        return true;\n                    }\n                }\n            }\n        }\n        List&lt;ActivityManager.RunningServiceInfo&gt; serviceInfo = am.getRunningServices(Integer.MAX_VALUE);\n        if (serviceInfo != null &amp;&amp; serviceInfo.size() &gt; 0) {\n            for (ActivityManager.RunningServiceInfo aInfo : serviceInfo) {\n                if (pkgName.equals(aInfo.service.getPackageName())) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p><strong>My Goal :</strong></p>\n<p>Is launching the app once the charger is plugged in, but only if it hasn't already been launched.</p>\n<p><strong>My Issue :</strong></p>\n<p>When I check whether the app is running or not, it always returns <code>TRUE</code>, even when the app is closed. This behavior occurs because the service is running in the background, leading to the entire app being considered as running.</p>\n"},{"tags":["java","maven","keycloak"],"comments":[{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1657197930,"post_id":72897675,"comment_id":128756951,"body_markdown":"Can you run `mvn clean install -e -DskipTests`?","body":"Can you run <code>mvn clean install -e -DskipTests</code>?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1657199677,"post_id":72897675,"comment_id":128757755,"body_markdown":"@LajosArpad After having these issues I decided to try `17.0.0` and it built correctly. I went back to `18.0.0` and ran your command and now it is building correctly too. I&#39;ll keep the question open for the moment for if the problem arises.","body":"@LajosArpad After having these issues I decided to try <code>17.0.0</code> and it built correctly. I went back to <code>18.0.0</code> and ran your command and now it is building correctly too. I&#39;ll keep the question open for the moment for if the problem arises."}],"answers":[{"tags":[],"owner":{"account_id":16466058,"reputation":1,"user_id":11896143,"display_name":"bachhs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663676480,"creation_date":1662452749,"answer_id":73618912,"question_id":72897675,"body_markdown":"keycloak-guides generates the documentation for keycloak. You have to set UTF-8 as the default encoding type in the Windows environment.\r\nTry setting **MAVEN_OPTS=-Dfile.encoding=UTF-8** in System Environment Variable.\r\n\r\n[Edit System Variable][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pl92R.png","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>keycloak-guides generates the documentation for keycloak. You have to set UTF-8 as the default encoding type in the Windows environment.\nTry setting <strong>MAVEN_OPTS=-Dfile.encoding=UTF-8</strong> in System Environment Variable.</p>\n<p><a href=\"https://i.stack.imgur.com/pl92R.png\" rel=\"nofollow noreferrer\">Edit System Variable</a></p>\n"},{"tags":[],"owner":{"account_id":23911556,"reputation":81,"user_id":17908449,"display_name":"john ifemezuo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701698594,"creation_date":1701698594,"answer_id":77600029,"question_id":72897675,"body_markdown":"Am currently using Ubuntu 23.04. I ran `sudo apt install maven` in the terminal and it worked fine for me.","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>Am currently using Ubuntu 23.04. I ran <code>sudo apt install maven</code> in the terminal and it worked fine for me.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701698594,"creation_date":1657196229,"question_id":72897675,"body_markdown":"I would like to build the `Keycloak` project. I&#39;ve checked out the `18.0.0` tag and also `main` but I&#39;m getting the `keycloak-themes` and `keycloak-guides` projects fail to build. \r\n\r\nI&#39;m using Java 11 and have followed the instructions [here][1]. \r\n\r\nI can successfully build `17.0.0`.\r\n\r\n**Command**\r\n```\r\nmvn clean install -DskipTests\r\n```\r\n\r\n\r\n**keycloak-guides**\r\n```\r\n[ERROR] Failed to execute goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc (server-asciidoc-to-html) on project keycloak-guides: Execution server-asciidoc-to-html of goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc failed: org.jruby.exceptions.RaiseException: (ArgumentError) asciidoctor: FAILED: C:/Users/michael.haywood/IdeaProjects/keycloak/docs/guides/target/generated-guides/server/index.adoc: Failed to load AsciiDoc document - invalid byte sequence in UTF-8 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-guides\r\n```\r\n\r\n**keycloak-themes**\r\n```\r\n[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.12.0:npm (npm-install-common) on project keycloak-themes: Failed to run task: &#39;npm ci --no-optional --ignore-scripts&#39; failed. org.apache.commons.exec.ExecuteException: Process exited with an error: -4058 (Exit value: -4058) -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-themes\r\n```\r\n\r\nAre there any other prerequisites when building `Keycloak` from the source code? \r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/main/docs/building.md","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>I would like to build the <code>Keycloak</code> project. I've checked out the <code>18.0.0</code> tag and also <code>main</code> but I'm getting the <code>keycloak-themes</code> and <code>keycloak-guides</code> projects fail to build.</p>\n<p>I'm using Java 11 and have followed the instructions <a href=\"https://github.com/keycloak/keycloak/blob/main/docs/building.md\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I can successfully build <code>17.0.0</code>.</p>\n<p><strong>Command</strong></p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p><strong>keycloak-guides</strong></p>\n<pre><code>[ERROR] Failed to execute goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc (server-asciidoc-to-html) on project keycloak-guides: Execution server-asciidoc-to-html of goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc failed: org.jruby.exceptions.RaiseException: (ArgumentError) asciidoctor: FAILED: C:/Users/michael.haywood/IdeaProjects/keycloak/docs/guides/target/generated-guides/server/index.adoc: Failed to load AsciiDoc document - invalid byte sequence in UTF-8 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-guides\n</code></pre>\n<p><strong>keycloak-themes</strong></p>\n<pre><code>[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.12.0:npm (npm-install-common) on project keycloak-themes: Failed to run task: 'npm ci --no-optional --ignore-scripts' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: -4058 (Exit value: -4058) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-themes\n</code></pre>\n<p>Are there any other prerequisites when building <code>Keycloak</code> from the source code?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622728160,"creation_date":1622728160,"answer_id":67822714,"question_id":67822266,"body_markdown":"In your test, add a `ChannelInterceptor` to the `submitApplicationChannel` before calling the gateway.\r\n\r\n```java\r\npublic interface ChannelInterceptor {\r\n\r\n\t/**\r\n\t * Invoked before the Message is actually sent to the channel.\r\n\t * This allows for modification of the Message if necessary.\r\n\t * If this method returns {@code null} then the actual\r\n\t * send invocation will not occur.\r\n\t */\r\n\t@Nullable\r\n\tdefault Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked immediately after the send invocation. The boolean\r\n\t * value argument represents the return value of that invocation.\r\n\t */\r\n\tdefault void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked after the completion of a send regardless of any exception that\r\n\t * have been raised thus allowing for proper resource cleanup.\r\n\t * &lt;p&gt;Note that this will be invoked only if {@link #preSend} successfully\r\n\t * completed and returned a Message, i.e. it did not return {@code null}.\r\n\t * @since 4.1\r\n\t */\r\n\tdefault void afterSendCompletion(\r\n\t\t\tMessage&lt;?&gt; message, MessageChannel channel, boolean sent, @Nullable Exception ex) {\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked as soon as receive is called and before a Message is\r\n\t * actually retrieved. If the return value is &#39;false&#39;, then no\r\n\t * Message will be retrieved. This only applies to PollableChannels.\r\n\t */\r\n\tdefault boolean preReceive(MessageChannel channel) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked immediately after a Message has been retrieved but before\r\n\t * it is returned to the caller. The Message may be modified if\r\n\t * necessary; {@code null} aborts further interceptor invocations.\r\n\t * This only applies to PollableChannels.\r\n\t */\r\n\t@Nullable\r\n\tdefault Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked after the completion of a receive regardless of any exception that\r\n\t * have been raised thus allowing for proper resource cleanup.\r\n\t * &lt;p&gt;Note that this will be invoked only if {@link #preReceive} successfully\r\n\t * completed and returned {@code true}.\r\n\t * @since 4.1\r\n\t */\r\n\tdefault void afterReceiveCompletion(@Nullable Message&lt;?&gt; message, MessageChannel channel,\r\n\t\t\t@Nullable Exception ex) {\r\n\t}\r\n\r\n}\r\n```","title":"How to test MessageChannel in Spring Integration?","body":"<p>In your test, add a <code>ChannelInterceptor</code> to the <code>submitApplicationChannel</code> before calling the gateway.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ChannelInterceptor {\n\n    /**\n     * Invoked before the Message is actually sent to the channel.\n     * This allows for modification of the Message if necessary.\n     * If this method returns {@code null} then the actual\n     * send invocation will not occur.\n     */\n    @Nullable\n    default Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n        return message;\n    }\n\n    /**\n     * Invoked immediately after the send invocation. The boolean\n     * value argument represents the return value of that invocation.\n     */\n    default void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\n    }\n\n    /**\n     * Invoked after the completion of a send regardless of any exception that\n     * have been raised thus allowing for proper resource cleanup.\n     * &lt;p&gt;Note that this will be invoked only if {@link #preSend} successfully\n     * completed and returned a Message, i.e. it did not return {@code null}.\n     * @since 4.1\n     */\n    default void afterSendCompletion(\n            Message&lt;?&gt; message, MessageChannel channel, boolean sent, @Nullable Exception ex) {\n    }\n\n    /**\n     * Invoked as soon as receive is called and before a Message is\n     * actually retrieved. If the return value is 'false', then no\n     * Message will be retrieved. This only applies to PollableChannels.\n     */\n    default boolean preReceive(MessageChannel channel) {\n        return true;\n    }\n\n    /**\n     * Invoked immediately after a Message has been retrieved but before\n     * it is returned to the caller. The Message may be modified if\n     * necessary; {@code null} aborts further interceptor invocations.\n     * This only applies to PollableChannels.\n     */\n    @Nullable\n    default Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\n        return message;\n    }\n\n    /**\n     * Invoked after the completion of a receive regardless of any exception that\n     * have been raised thus allowing for proper resource cleanup.\n     * &lt;p&gt;Note that this will be invoked only if {@link #preReceive} successfully\n     * completed and returned {@code true}.\n     * @since 4.1\n     */\n    default void afterReceiveCompletion(@Nullable Message&lt;?&gt; message, MessageChannel channel,\n            @Nullable Exception ex) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67822714,"answer_count":1,"score":0,"last_activity_date":1701698515,"creation_date":1622726424,"question_id":67822266,"body_markdown":"I&#39;m trying to know if the message passed through specific channel for test or i&#39;d like to get the message from specific channel\r\n\r\nSo my flow is: ```controller -&gt; gateway -&gt; ServiceActivator```\r\n\r\n        private final Gateway gateway;\r\n        public ResponseEntity&lt;Map&lt;String,String&gt;&gt; submit(String applicationId, ApplicationDto applicationDto) {\r\n        applicationDto.setApplicationId(applicationId);\r\n        gateway.submitApplication(applicationDto);\r\n        return ResponseEntity.ok(Map.of(MESSAGE, &quot;Accepted submit&quot;));\r\n        }\r\n\r\n\r\nthe gateway\r\n\r\n    @Gateway(requestChannel = &quot;submitApplicationChannel&quot;, replyChannel = &quot;replySubmitApplicationChannel&quot;)\r\n    WorkflowPayload submitApplication(ApplicationDto applicationDto);\r\n\r\n\r\npipeline\r\n\r\n    @Bean\r\n    MessageChannel submitApplicationChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\nSo my test is sending a request to start the flow\r\n\r\n    @Test\r\n    @DisplayName(&quot;Application Submission&quot;)\r\n    void submissionTest() throws Exception {\r\n        \r\n        mockMvc.perform(MockMvcRequestBuilders\r\n                .post(&quot;/api/v1/applications/contract-validation/&quot; + APPLICATION_ID)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(payload)))\r\n                .andExpect(status().isAccepted())\r\n                .andReturn();\r\n\r\n    //Check HERE if the message passed through the channel\r\n\r\n    }\r\n\r\n\r\nCan you give me a hand??","title":"How to test MessageChannel in Spring Integration?","body":"<p>I'm trying to know if the message passed through specific channel for test or i'd like to get the message from specific channel</p>\n<p>So my flow is: <code>controller -&gt; gateway -&gt; ServiceActivator</code></p>\n<pre><code>    private final Gateway gateway;\n    public ResponseEntity&lt;Map&lt;String,String&gt;&gt; submit(String applicationId, ApplicationDto applicationDto) {\n    applicationDto.setApplicationId(applicationId);\n    gateway.submitApplication(applicationDto);\n    return ResponseEntity.ok(Map.of(MESSAGE, &quot;Accepted submit&quot;));\n    }\n</code></pre>\n<p>the gateway</p>\n<pre><code>@Gateway(requestChannel = &quot;submitApplicationChannel&quot;, replyChannel = &quot;replySubmitApplicationChannel&quot;)\nWorkflowPayload submitApplication(ApplicationDto applicationDto);\n</code></pre>\n<p>pipeline</p>\n<pre><code>@Bean\nMessageChannel submitApplicationChannel() {\n    return new DirectChannel();\n}\n</code></pre>\n<p>So my test is sending a request to start the flow</p>\n<pre><code>@Test\n@DisplayName(&quot;Application Submission&quot;)\nvoid submissionTest() throws Exception {\n    \n    mockMvc.perform(MockMvcRequestBuilders\n            .post(&quot;/api/v1/applications/contract-validation/&quot; + APPLICATION_ID)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(objectMapper.writeValueAsString(payload)))\n            .andExpect(status().isAccepted())\n            .andReturn();\n\n//Check HERE if the message passed through the channel\n\n}\n</code></pre>\n<p>Can you give me a hand??</p>\n"},{"tags":["java","javafx","awt","menuitem","trayicon"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701701050,"post_id":77599976,"comment_id":136804926,"body_markdown":"Haven&#39;t looked at your code in depth, but it may help to see some working examples. For instance, [this example](https://gist.github.com/jewelsea/e231e89e8d36ef4e5d8a) by jewelsea.","body":"Haven&#39;t looked at your code in depth, but it may help to see some working examples. For instance, <a href=\"https://gist.github.com/jewelsea/e231e89e8d36ef4e5d8a\" rel=\"nofollow noreferrer\">this example</a> by jewelsea."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701704291,"post_id":77599976,"comment_id":136805631,"body_markdown":"I&#39;m not sure the `setOnCloseEvent(...)` handler is doing anything (other than the logging) that the default behavior doesn&#39;t do anyway. Create and post a [mre].","body":"I&#39;m not sure the <code>setOnCloseEvent(...)</code> handler is doing anything (other than the logging) that the default behavior doesn&#39;t do anyway. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701732463,"post_id":77599976,"comment_id":136810015,"body_markdown":"Dustin built a library to handle tray icons in JavaFX called [FXTrayIcon](https://github.com/dustinkredmond/FXTrayIcon).  It might be better to try that than try to implement the functionality yourself.","body":"Dustin built a library to handle tray icons in JavaFX called <a href=\"https://github.com/dustinkredmond/FXTrayIcon\" rel=\"nofollow noreferrer\">FXTrayIcon</a>.  It might be better to try that than try to implement the functionality yourself."},{"owner":{"account_id":27986047,"reputation":11,"user_id":21372856,"display_name":"George Elizarov"},"score":1,"creation_date":1702276694,"post_id":77599976,"comment_id":136872036,"body_markdown":"@jewelsea thank you very much, this library is amazing!","body":"@jewelsea thank you very much, this library is amazing!"}],"owner":{"account_id":27986047,"reputation":11,"user_id":21372856,"display_name":"George Elizarov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701698441,"creation_date":1701698126,"question_id":77599976,"body_markdown":"I have one suspended state of my application that I can&#39;t get around in any way.\r\nI was able to successfully create an application that has absolutely all the functionality. I decided to practice a little and add the ability of the application to work in the tray, for this I created a tray icon with a menu (Open and Close the application window).\r\n```\r\nprivate TrayIcon trayIcon;\r\nprivate PopupMenu popup;\r\nprivate MenuItem openItem;\r\nprivate MenuItem closeItem;\r\nprivate System Tray tray; \r\n```\r\nthere are only two options in my menu, close Item - &quot;Close&quot;, which works wonderfully, and open Item - &quot;Open&quot;, which broke my head.\r\nThe main idea is that I have a primaryStage that hides in the tray when you click the &quot;cross&quot; button on the main window (anyway, I guess it should be like this), I implemented it like this:\r\n```\r\nprimaryStage.setOnCloseRequest(event -&gt; {\r\n            event.consumer();\r\n            primaryStage.hide();\r\n        });\r\n```\r\nNext, when I click the tray icon, the menu is displayed, I press the &quot;Open&quot; button. And visually nothing happens. Next, I went into debug mode, added messages for debugging and saw this behavior that on the line:\r\n`Platform.runLater(new Runnable() {`\r\nthe compiler passes to:\r\n```\r\npublic static void runLater(Runnable runnable) {\r\n        PlatformImpl.runLater(runnable);\r\n    }\r\n```\r\nsome object, then returns back to my method and ignoring the run method exits the method, you can get there again by initiating an event by clicking on the &quot;Open&quot; button. The implementation was written through lambda expressions, but I expanded everything for a better understanding of the process.\r\n\r\nWhat should I change in the code so that the window of my JavaFX application finally opens at the click of the menu button?\r\n\r\n```\r\nopenItem.addActionListener(new ActionListener() {\r\n   @Override\r\n      public void actionPerformed(ActionEvent event) {\r\n      System.out.println(&quot;Preparing to call Platform.runLater&quot;);\r\n      System.out.println(Platform.isFxApplicationThread()); // here is FALSE\r\n   \r\n      Platform.runLater(new Runnable() {\r\n\r\n          @Override\r\n          public void run() { // leave from here to ...\r\n             System.out.println(&quot;Executing in Platform.runLater&quot;);\r\n             System.out.println(Platform.isFxApplicationThread());\r\n             primaryStage.setIconified(false);\r\n             primaryStage.show();\r\n             primaryStage.toFront();\r\n          }\r\n      }); // to here ... and again, after pressing &quot;OPEN&quot;\r\n    }\r\n});\r\n\r\n    closeItem = new MenuItem(&quot;Close&quot;);\r\n    closeItem.addActionListener(event -&gt; {\r\n       Platform.exit();\r\n       tray.remove(trayIcon);\r\n       System.exit(0);\r\n    });\r\n```\r\nHere is my Start method:\r\n```\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        primaryStage.setTitle(&quot;Meal Ordering App&quot;);\r\n        FXMLLoader startLoader = new FXMLLoader(getClass().getResource(&quot;/Start.fxml&quot;));\r\n        Parent root = startLoader.load();\r\n        Scene scene = new Scene(root);\r\n        primaryStage.setScene(scene);\r\n\r\n        prepareTrayIcon(primaryStage);\r\n        primaryStage.show();\r\n\r\n        primaryStage.setOnCloseRequest(event -&gt; {\r\n            System.out.println(&quot;Closing window requested&quot;);\r\n            event.consume();\r\n            System.out.println(&quot;event is consumed? &quot; + event.isConsumed());\r\n            primaryStage.hide();\r\n        });\r\n\r\n        scheduleNotifications();\r\n    }\r\n```\r\n\r\nI rewrote it in different ways, it didn’t help","title":"Java/JavaFX AWT (MenuItem) to JavaFX (event)","body":"<p>I have one suspended state of my application that I can't get around in any way.\nI was able to successfully create an application that has absolutely all the functionality. I decided to practice a little and add the ability of the application to work in the tray, for this I created a tray icon with a menu (Open and Close the application window).</p>\n<pre><code>private TrayIcon trayIcon;\nprivate PopupMenu popup;\nprivate MenuItem openItem;\nprivate MenuItem closeItem;\nprivate System Tray tray; \n</code></pre>\n<p>there are only two options in my menu, close Item - &quot;Close&quot;, which works wonderfully, and open Item - &quot;Open&quot;, which broke my head.\nThe main idea is that I have a primaryStage that hides in the tray when you click the &quot;cross&quot; button on the main window (anyway, I guess it should be like this), I implemented it like this:</p>\n<pre><code>primaryStage.setOnCloseRequest(event -&gt; {\n            event.consumer();\n            primaryStage.hide();\n        });\n</code></pre>\n<p>Next, when I click the tray icon, the menu is displayed, I press the &quot;Open&quot; button. And visually nothing happens. Next, I went into debug mode, added messages for debugging and saw this behavior that on the line:\n<code>Platform.runLater(new Runnable() {</code>\nthe compiler passes to:</p>\n<pre><code>public static void runLater(Runnable runnable) {\n        PlatformImpl.runLater(runnable);\n    }\n</code></pre>\n<p>some object, then returns back to my method and ignoring the run method exits the method, you can get there again by initiating an event by clicking on the &quot;Open&quot; button. The implementation was written through lambda expressions, but I expanded everything for a better understanding of the process.</p>\n<p>What should I change in the code so that the window of my JavaFX application finally opens at the click of the menu button?</p>\n<pre><code>openItem.addActionListener(new ActionListener() {\n   @Override\n      public void actionPerformed(ActionEvent event) {\n      System.out.println(&quot;Preparing to call Platform.runLater&quot;);\n      System.out.println(Platform.isFxApplicationThread()); // here is FALSE\n   \n      Platform.runLater(new Runnable() {\n\n          @Override\n          public void run() { // leave from here to ...\n             System.out.println(&quot;Executing in Platform.runLater&quot;);\n             System.out.println(Platform.isFxApplicationThread());\n             primaryStage.setIconified(false);\n             primaryStage.show();\n             primaryStage.toFront();\n          }\n      }); // to here ... and again, after pressing &quot;OPEN&quot;\n    }\n});\n\n    closeItem = new MenuItem(&quot;Close&quot;);\n    closeItem.addActionListener(event -&gt; {\n       Platform.exit();\n       tray.remove(trayIcon);\n       System.exit(0);\n    });\n</code></pre>\n<p>Here is my Start method:</p>\n<pre><code>    @Override\n    public void start(Stage primaryStage) throws IOException {\n        primaryStage.setTitle(&quot;Meal Ordering App&quot;);\n        FXMLLoader startLoader = new FXMLLoader(getClass().getResource(&quot;/Start.fxml&quot;));\n        Parent root = startLoader.load();\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n\n        prepareTrayIcon(primaryStage);\n        primaryStage.show();\n\n        primaryStage.setOnCloseRequest(event -&gt; {\n            System.out.println(&quot;Closing window requested&quot;);\n            event.consume();\n            System.out.println(&quot;event is consumed? &quot; + event.isConsumed());\n            primaryStage.hide();\n        });\n\n        scheduleNotifications();\n    }\n</code></pre>\n<p>I rewrote it in different ways, it didn’t help</p>\n"},{"tags":["java","matrix","liferay"],"owner":{"account_id":30063134,"reputation":1,"user_id":23038839,"display_name":"ImAycee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701698431,"creation_date":1701698431,"question_id":77600015,"body_markdown":"I&#39;m actually working on a matrix server and a Liferay application, I would like to embed the matrix&#39;s client in my liferay application, I saw element, which doesn&#39;t let embed it in any site, and also saw about cactus which is not really what I&#39;m seeking, as I want to include a chat in my application.\r\n\r\nIf anyone got any idea about a great client for Matrix to include it liferay.\r\n\r\nThank you.\r\n\r\nI tried embedding Element.io in an iframe, but it&#39;s not authorized.\r\n\r\nChecked other clients like cactus, but it&#39;s not really what I&#39;m seeking","title":"Matrix Client for Liferay","body":"<p>I'm actually working on a matrix server and a Liferay application, I would like to embed the matrix's client in my liferay application, I saw element, which doesn't let embed it in any site, and also saw about cactus which is not really what I'm seeking, as I want to include a chat in my application.</p>\n<p>If anyone got any idea about a great client for Matrix to include it liferay.</p>\n<p>Thank you.</p>\n<p>I tried embedding Element.io in an iframe, but it's not authorized.</p>\n<p>Checked other clients like cactus, but it's not really what I'm seeking</p>\n"},{"tags":["java","spring","spring-boot","rest","error-handling"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":9,"creation_date":1467275297,"post_id":38117717,"comment_id":63667836,"body_markdown":"One solution is to use `ResponseEntity&lt;Object&gt;`. An other is to use the a BaseClass or Interface for types Success and Error.","body":"One solution is to use <code>ResponseEntity&lt;Object&gt;</code>. An other is to use the a BaseClass or Interface for types Success and Error."},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467276050,"post_id":38117717,"comment_id":63668277,"body_markdown":"Could you not just return `ResponseEntity` in yout method definition ? `  public ResponseEntity myControllerMethod(...)    and return either a `ResponseEntity&lt;Success&gt;` or a `ResponseEntity&lt;Error&gt;`","body":"Could you not just return <code>ResponseEntity</code> in yout method definition ? `  public ResponseEntity myControllerMethod(...)    and return either a <code>ResponseEntity&lt;Success&gt;</code> or a <code>ResponseEntity&lt;Error&gt;</code>"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1467292123,"post_id":38117717,"comment_id":63679401,"body_markdown":"`ResponseEntity&lt;Either&lt;Error, Success&gt;&gt;` would be good, if you could manage to implement the data structure in java","body":"<code>ResponseEntity&lt;Either&lt;Error, Success&gt;&gt;</code> would be good, if you could manage to implement the data structure in java"}],"answers":[{"tags":[],"owner":{"account_id":1202195,"reputation":3616,"user_id":1172611,"accept_rate":88,"display_name":"shazinltc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467275846,"creation_date":1467275846,"answer_id":38117932,"question_id":38117717,"body_markdown":"I used to use a class like this. The **statusCode** is set when there is an error with the error message set in **message**. Data is stored either in the Map or in a List as and when appropriate.\r\n\r\n    /**\r\n    * \r\n    */\r\n    package com.test.presentation.response;\r\n\r\n    import java.util.Collection;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * A simple POJO to send JSON response to ajax requests. This POJO enables  us to\r\n     * send messages and error codes with the actual objects in the application.\r\n     * \r\n     * \r\n     */\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public class GenericResponse {\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t */\r\n\tprivate Collection rows;\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t */\r\n\tprivate Map mapData;\r\n\r\n\t/**\r\n\t * A String containing error code. Set to 1 if there is an error\r\n\t */\r\n\tprivate int statusCode = 0;\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t */\r\n\tprivate String message;\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t * \r\n\t * @return the rows\r\n\t */\r\n\tpublic Collection getRows() {\r\n\t\treturn rows;\r\n\t}\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t * \r\n\t * @param rows\r\n\t *            the rows to set\r\n\t */\r\n\tpublic void setRows(Collection rows) {\r\n\t\tthis.rows = rows;\r\n\t}\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t * \r\n\t * @return the mapData\r\n\t */\r\n\tpublic Map getMapData() {\r\n\t\treturn mapData;\r\n\t}\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t * \r\n\t * @param mapData\r\n\t *            the mapData to set\r\n\t */\r\n\tpublic void setMapData(Map mapData) {\r\n\t\tthis.mapData = mapData;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error code.\r\n\t * \r\n\t * @return the errorCode\r\n\t */\r\n\tpublic int getStatusCode() {\r\n\t\treturn statusCode;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error code.\r\n\t * \r\n\t * @param errorCode\r\n\t *            the errorCode to set\r\n\t */\r\n\tpublic void setStatusCode(int errorCode) {\r\n\t\tthis.statusCode = errorCode;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t * \r\n\t * @return the errorMessage\r\n\t */\r\n\tpublic String getMessage() {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t * \r\n\t * @param errorMessage\r\n\t *            the errorMessage to set\r\n\t */\r\n\tpublic void setMessage(String errorMessage) {\r\n\t\tthis.message = errorMessage;\r\n\t}\r\n\r\n}\r\n\r\nHope this helps.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I used to use a class like this. The <strong>statusCode</strong> is set when there is an error with the error message set in <strong>message</strong>. Data is stored either in the Map or in a List as and when appropriate.</p>\n\n<pre><code>/**\n* \n*/\npackage com.test.presentation.response;\n\nimport java.util.Collection;\nimport java.util.Map;\n\n/**\n * A simple POJO to send JSON response to ajax requests. This POJO enables  us to\n * send messages and error codes with the actual objects in the application.\n * \n * \n */\n@SuppressWarnings(\"rawtypes\")\npublic class GenericResponse {\n\n/**\n * An array that contains the actual objects\n */\nprivate Collection rows;\n\n/**\n * An Map that contains the actual objects\n */\nprivate Map mapData;\n\n/**\n * A String containing error code. Set to 1 if there is an error\n */\nprivate int statusCode = 0;\n\n/**\n * A String containing error message.\n */\nprivate String message;\n\n/**\n * An array that contains the actual objects\n * \n * @return the rows\n */\npublic Collection getRows() {\n    return rows;\n}\n\n/**\n * An array that contains the actual objects\n * \n * @param rows\n *            the rows to set\n */\npublic void setRows(Collection rows) {\n    this.rows = rows;\n}\n\n/**\n * An Map that contains the actual objects\n * \n * @return the mapData\n */\npublic Map getMapData() {\n    return mapData;\n}\n\n/**\n * An Map that contains the actual objects\n * \n * @param mapData\n *            the mapData to set\n */\npublic void setMapData(Map mapData) {\n    this.mapData = mapData;\n}\n\n/**\n * A String containing error code.\n * \n * @return the errorCode\n */\npublic int getStatusCode() {\n    return statusCode;\n}\n\n/**\n * A String containing error code.\n * \n * @param errorCode\n *            the errorCode to set\n */\npublic void setStatusCode(int errorCode) {\n    this.statusCode = errorCode;\n}\n\n/**\n * A String containing error message.\n * \n * @return the errorMessage\n */\npublic String getMessage() {\n    return message;\n}\n\n/**\n * A String containing error message.\n * \n * @param errorMessage\n *            the errorMessage to set\n */\npublic void setMessage(String errorMessage) {\n    this.message = errorMessage;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4171274,"reputation":650,"user_id":3418978,"display_name":"Maulik Patel"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1538653286,"creation_date":1467276126,"answer_id":38118045,"question_id":38117717,"body_markdown":"i am not sure but, I think you can use `@ResponseEntity` and `@ResponseBody` and send 2 different one is Success and second is error message like :\r\n\r\n\r\n    @RequestMapping(value =&quot;/book2&quot;, produces =MediaType.APPLICATION_JSON_VALUE )\r\n    @ResponseBody\r\n    Book bookInfo2() {\r\n        Book book = new Book();\r\n        book.setBookName(&quot;Ramcharitmanas&quot;);\r\n        book.setWriter(&quot;TulasiDas&quot;);\r\n        return book;\r\n    }\r\n    \r\n    @RequestMapping(value =&quot;/book3&quot;, produces =MediaType.APPLICATION_JSON_VALUE )\r\n    public ResponseEntity&lt;Book&gt; bookInfo3() {\r\n    \tBook book = new Book();\r\n       \tbook.setBookName(&quot;Ramayan&quot;);\r\n       \tbook.setWriter(&quot;Valmiki&quot;);\r\n        return ResponseEntity.accepted().body(book);\r\n    }\r\n\r\n \r\n\r\nFor more detail refer to this: \r\nhttp://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity\r\n\r\n","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>i am not sure but, I think you can use <code>@ResponseEntity</code> and <code>@ResponseBody</code> and send 2 different one is Success and second is error message like :</p>\n\n<pre><code>@RequestMapping(value =\"/book2\", produces =MediaType.APPLICATION_JSON_VALUE )\n@ResponseBody\nBook bookInfo2() {\n    Book book = new Book();\n    book.setBookName(\"Ramcharitmanas\");\n    book.setWriter(\"TulasiDas\");\n    return book;\n}\n\n@RequestMapping(value =\"/book3\", produces =MediaType.APPLICATION_JSON_VALUE )\npublic ResponseEntity&lt;Book&gt; bookInfo3() {\n    Book book = new Book();\n    book.setBookName(\"Ramayan\");\n    book.setWriter(\"Valmiki\");\n    return ResponseEntity.accepted().body(book);\n}\n</code></pre>\n\n<p>For more detail refer to this: \n<a href=\"http://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity\" rel=\"nofollow noreferrer\">http://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity</a></p>\n"},{"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1559137506,"creation_date":1467291698,"answer_id":38123930,"question_id":38117717,"body_markdown":"You can return generic wildcard `&lt;?&gt;` to return `Success` and `Error` on a same request mapping method\r\n\r\n\tpublic ResponseEntity&lt;?&gt; method() {\r\n\t\tboolean b = // some logic\r\n\t\tif (b)\r\n\t\t\treturn new ResponseEntity&lt;Success&gt;(HttpStatus.OK);\r\n\t\telse\r\n\t\t\treturn new ResponseEntity&lt;Error&gt;(HttpStatus.CONFLICT); //appropriate error code\r\n\t}\r\n\r\n**@Mark Norman answer is the correct approach** ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can return generic wildcard <code>&lt;?&gt;</code> to return <code>Success</code> and <code>Error</code> on a same request mapping method</p>\n\n<pre><code>public ResponseEntity&lt;?&gt; method() {\n    boolean b = // some logic\n    if (b)\n        return new ResponseEntity&lt;Success&gt;(HttpStatus.OK);\n    else\n        return new ResponseEntity&lt;Error&gt;(HttpStatus.CONFLICT); //appropriate error code\n}\n</code></pre>\n\n<p><strong>@Mark Norman answer is the correct approach</strong> </p>\n"},{"tags":[],"owner":{"account_id":3731659,"reputation":3183,"user_id":3103802,"accept_rate":73,"display_name":"Saveendra Ekanayake"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1468946462,"creation_date":1468946462,"answer_id":38464143,"question_id":38117717,"body_markdown":"Its possible to return `ResponseEntity` without using generics, such as follows,\r\n\r\n    public ResponseEntity method() {\r\n        boolean isValid = // some logic\r\n        if (isValid){\r\n            return new ResponseEntity(new Success(), HttpStatus.OK);\r\n        }\r\n        else{\r\n            return new ResponseEntity(new Error(), HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Its possible to return <code>ResponseEntity</code> without using generics, such as follows,</p>\n\n<pre><code>public ResponseEntity method() {\n    boolean isValid = // some logic\n    if (isValid){\n        return new ResponseEntity(new Success(), HttpStatus.OK);\n    }\n    else{\n        return new ResponseEntity(new Error(), HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9964013,"reputation":225,"user_id":7372285,"display_name":"sharath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484100273,"creation_date":1484095664,"answer_id":41581004,"question_id":38117717,"body_markdown":"Here is a way that I would do it:\r\n\r\n    public ResponseEntity &lt; ? extends BaseResponse &gt; message(@PathVariable String player) { //REST Endpoint.\r\n    \r\n     try {\r\n      Integer.parseInt(player);\r\n      return new ResponseEntity &lt; ErrorResponse &gt; (new ErrorResponse(&quot;111&quot;, &quot;player is not found&quot;), HttpStatus.BAD_REQUEST);\r\n     } catch (Exception e) {\r\n    \r\n    \r\n     }\r\n     Message msg = new Message(player, &quot;Hello &quot; + player);\r\n     return new ResponseEntity &lt; Message &gt; (msg, HttpStatus.OK);\r\n    \r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/getAll/{player}&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; messageAll(@PathVariable String player) { //REST Endpoint.\r\n    \r\n     try {\r\n      Integer.parseInt(player);\r\n      List &lt; ErrorResponse &gt; errs = new ArrayList &lt; ErrorResponse &gt; ();\r\n      errs.add(new ErrorResponse(&quot;111&quot;, &quot;player is not found&quot;));\r\n      return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (errs, HttpStatus.BAD_REQUEST);\r\n     } catch (Exception e) {\r\n    \r\n    \r\n     }\r\n     Message msg = new Message(player, &quot;Hello &quot; + player);\r\n     List &lt; Message &gt; msgList = new ArrayList &lt; Message &gt; ();\r\n     msgList.add(msg);\r\n     return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (msgList, HttpStatus.OK);\r\n    \r\n    }\r\n    ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Here is a way that I would do it:</p>\n\n<pre><code>public ResponseEntity &lt; ? extends BaseResponse &gt; message(@PathVariable String player) { //REST Endpoint.\n\n try {\n  Integer.parseInt(player);\n  return new ResponseEntity &lt; ErrorResponse &gt; (new ErrorResponse(\"111\", \"player is not found\"), HttpStatus.BAD_REQUEST);\n } catch (Exception e) {\n\n\n }\n Message msg = new Message(player, \"Hello \" + player);\n return new ResponseEntity &lt; Message &gt; (msg, HttpStatus.OK);\n\n}\n\n@RequestMapping(value = \"/getAll/{player}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; messageAll(@PathVariable String player) { //REST Endpoint.\n\n try {\n  Integer.parseInt(player);\n  List &lt; ErrorResponse &gt; errs = new ArrayList &lt; ErrorResponse &gt; ();\n  errs.add(new ErrorResponse(\"111\", \"player is not found\"));\n  return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (errs, HttpStatus.BAD_REQUEST);\n } catch (Exception e) {\n\n\n }\n Message msg = new Message(player, \"Hello \" + player);\n List &lt; Message &gt; msgList = new ArrayList &lt; Message &gt; ();\n msgList.add(msg);\n return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (msgList, HttpStatus.OK);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11506037,"reputation":1545,"user_id":8432237,"accept_rate":50,"display_name":"NeeruKSingh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509007144,"creation_date":1509005904,"answer_id":46949124,"question_id":38117717,"body_markdown":"You can also  implement like this to return Success and Error on a same request mapping method,use Object class(Parent class of every class in java) :-     \r\n\r\n    public ResponseEntity&lt; Object&gt; method() {                                                                                                                                                                                                                                                                                                                                                                                  \r\n        boolean b = //  logic  here   \r\n          if (b)  \r\n            return new ResponseEntity&lt; Object&gt;(HttpStatus.OK);      \r\n        else      \r\n            return new ResponseEntity&lt; Object&gt;(HttpStatus.CONFLICT); //appropriate error code   \r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can also  implement like this to return Success and Error on a same request mapping method,use Object class(Parent class of every class in java) :-     </p>\n\n<pre><code>public ResponseEntity&lt; Object&gt; method() {                                                                                                                                                                                                                                                                                                                                                                                  \n    boolean b = //  logic  here   \n      if (b)  \n        return new ResponseEntity&lt; Object&gt;(HttpStatus.OK);      \n    else      \n        return new ResponseEntity&lt; Object&gt;(HttpStatus.CONFLICT); //appropriate error code   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12983409,"reputation":61,"user_id":9385037,"display_name":"Ridha10"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519122012,"creation_date":1519122012,"answer_id":48882913,"question_id":38117717,"body_markdown":"You can use a map with your object or string like bellow :\r\n\r\n    @RequestMapping(value = &quot;/path&quot;, \r\n    \t\tmethod = RequestMethod.GET, \r\n    \t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;Map&lt;String,String&gt;&gt; getData(){\r\n    \r\n    \tMap&lt;String,String&gt; response = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \tboolean isValid = // some logic\r\n        if (isValid){\r\n            response.put(&quot;ok&quot;, &quot;success saving data&quot;);\r\n            return ResponseEntity.accepted().body(response);\r\n        }\r\n        else{\r\n            response.put(&quot;error&quot;, &quot;an error expected on processing file&quot;);\r\n            return ResponseEntity.badRequest().body(response);\r\n        }\r\n    \r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can use a map with your object or string like bellow :</p>\n\n<pre><code>@RequestMapping(value = \"/path\", \n        method = RequestMethod.GET, \n        produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;Map&lt;String,String&gt;&gt; getData(){\n\n    Map&lt;String,String&gt; response = new HashMap&lt;String, String&gt;();\n\n    boolean isValid = // some logic\n    if (isValid){\n        response.put(\"ok\", \"success saving data\");\n        return ResponseEntity.accepted().body(response);\n    }\n    else{\n        response.put(\"error\", \"an error expected on processing file\");\n        return ResponseEntity.badRequest().body(response);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"down_vote_count":1,"up_vote_count":196,"is_accepted":true,"score":195,"last_activity_date":1594165646,"creation_date":1524790704,"answer_id":50053782,"question_id":38117717,"body_markdown":"I recommend using Spring&#39;s `@ControllerAdvice` to handle errors. Read [this guide][1] for a good introduction, starting at the section named &quot;Spring Boot Error Handling&quot;. For an in-depth discussion, there&#39;s [an article][2] in the Spring.io blog that was updated on April, 2018.\r\n\r\nA brief summary on how this works:\r\n\r\n - Your controller method should only return `ResponseEntity&lt;Success&gt;`. It will not be responsible for returning error or exception responses.\r\n - You will implement a class that handles exceptions for all controllers.  This class will be annotated with `@ControllerAdvice`\r\n - This controller advice class will contain methods annotated with `@ExceptionHandler`\r\n - Each exception handler method will be configured to handle one or more exception types. These methods are where you specify the response type for errors\r\n - For your example, you would declare (in the controller advice class) an exception handler method for the validation error.  The return type would be `ResponseEntity&lt;Error&gt;`\r\n\r\nWith this approach, you only need to implement your controller exception handling in one place for all endpoints in your API. It also makes it easy for your API to have a uniform exception response structure across all endpoints. This simplifies exception handling for your clients.\r\n\r\n\r\n  [1]: https://www.toptal.com/java/spring-boot-rest-api-error-handling\r\n  [2]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I recommend using Spring's <code>@ControllerAdvice</code> to handle errors. Read <a href=\"https://www.toptal.com/java/spring-boot-rest-api-error-handling\" rel=\"noreferrer\">this guide</a> for a good introduction, starting at the section named &quot;Spring Boot Error Handling&quot;. For an in-depth discussion, there's <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"noreferrer\">an article</a> in the Spring.io blog that was updated on April, 2018.</p>\n<p>A brief summary on how this works:</p>\n<ul>\n<li>Your controller method should only return <code>ResponseEntity&lt;Success&gt;</code>. It will not be responsible for returning error or exception responses.</li>\n<li>You will implement a class that handles exceptions for all controllers.  This class will be annotated with <code>@ControllerAdvice</code></li>\n<li>This controller advice class will contain methods annotated with <code>@ExceptionHandler</code></li>\n<li>Each exception handler method will be configured to handle one or more exception types. These methods are where you specify the response type for errors</li>\n<li>For your example, you would declare (in the controller advice class) an exception handler method for the validation error.  The return type would be <code>ResponseEntity&lt;Error&gt;</code></li>\n</ul>\n<p>With this approach, you only need to implement your controller exception handling in one place for all endpoints in your API. It also makes it easy for your API to have a uniform exception response structure across all endpoints. This simplifies exception handling for your clients.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593509160,"creation_date":1593509160,"answer_id":62654290,"question_id":38117717,"body_markdown":"Note: if you upgrade from spring boot 1 to spring boot 2 there is a `ResponseStatusException` which has a Http error code and a description.\r\n\r\nSo, you can effectively use generics they way it is intended.\r\n\r\nThe only case which is a bit challenging for me, is the response type for a status 204 (ok with no body). I tend to mark those methods as `ResponseEntity&lt;?&gt;`, because `ResponseEntity&lt;Void&gt;` is less predictive.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Note: if you upgrade from spring boot 1 to spring boot 2 there is a <code>ResponseStatusException</code> which has a Http error code and a description.</p>\n<p>So, you can effectively use generics they way it is intended.</p>\n<p>The only case which is a bit challenging for me, is the response type for a status 204 (ok with no body). I tend to mark those methods as <code>ResponseEntity&lt;?&gt;</code>, because <code>ResponseEntity&lt;Void&gt;</code> is less predictive.</p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1671287533,"creation_date":1597909433,"answer_id":63500498,"question_id":38117717,"body_markdown":"Spring 2 introduced **ResponseStatusException** using this you can **return** String, different HTTP status code, DTO at the **same time**.\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\r\n    \tif(userDto.getId() != null) {\r\n    \t\tthrow new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,&quot;A new user cannot already have an ID&quot;);\r\n    \t}\r\n    \treturn ResponseEntity.ok(userService.saveUser(userDto));\r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Spring 2 introduced <strong>ResponseStatusException</strong> using this you can <strong>return</strong> String, different HTTP status code, DTO at the <strong>same time</strong>.</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\n    if(userDto.getId() != null) {\n        throw new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,&quot;A new user cannot already have an ID&quot;);\n    }\n    return ResponseEntity.ok(userService.saveUser(userDto));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636368195,"creation_date":1598445289,"answer_id":63597817,"question_id":38117717,"body_markdown":"Using custom exception class you can return different HTTP status code and dto objects.\r\n    \r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\r\n        if(userDto.getId() != null) {\r\n            throw new UserNotFoundException(&quot;A new user cannot already have an ID&quot;);\r\n        }\r\n        return ResponseEntity.ok(userService.saveUser(userDto));\r\n    }\r\n\r\nException class\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;user not found&quot;)\r\n    public class UserNotFoundException extends RuntimeException {\r\n    \r\n        public UserNotFoundException(String message) {\r\n    \r\n            super(message);\r\n        }\r\n    }\r\n\r\n ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Using custom exception class you can return different HTTP status code and dto objects.</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\n    if(userDto.getId() != null) {\n        throw new UserNotFoundException(&quot;A new user cannot already have an ID&quot;);\n    }\n    return ResponseEntity.ok(userService.saveUser(userDto));\n}\n</code></pre>\n<p>Exception class</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;user not found&quot;)\npublic class UserNotFoundException extends RuntimeException {\n\n    public UserNotFoundException(String message) {\n\n        super(message);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599104633,"creation_date":1599103612,"answer_id":63716348,"question_id":38117717,"body_markdown":"For exceptional cases, I will recommend you to adopt [RFC-7807 Problem Details for HTTP APIs\r\n](https://www.rfc-editor.org/rfc/rfc7807) standard in your application.\r\n\r\n[Zalando&#39;s Problems for Spring](https://github.com/zalando/problem-spring-web) provides a good integration with Spring Boot, you can integrate it easily with your existing Spring Boot based application. Just like what [JHipster](https://www.jhipster.tech/managing-server-errors/#api-errors) did.\r\n\r\nAfter adopting RFC-7087 in your application, just throw Exception in your controller method, and you will get a detailed and standard error response like:\r\n\r\n```json\r\n   {\r\n    &quot;type&quot;: &quot;https://example.com/probs/validation-error&quot;,\r\n    &quot;title&quot;: &quot;Request parameter is malformed.&quot;,\r\n    &quot;status&quot;: 400\r\n    &quot;detail&quot;: &quot;Validation error, value of xxx should be a positive number.&quot;,\r\n    &quot;instance&quot;: &quot;/account/12345/msgs/abc&quot;,\r\n   }\r\n```","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>For exceptional cases, I will recommend you to adopt <a href=\"https://www.rfc-editor.org/rfc/rfc7807\" rel=\"nofollow noreferrer\">RFC-7807 Problem Details for HTTP APIs\n</a> standard in your application.</p>\n<p><a href=\"https://github.com/zalando/problem-spring-web\" rel=\"nofollow noreferrer\">Zalando's Problems for Spring</a> provides a good integration with Spring Boot, you can integrate it easily with your existing Spring Boot based application. Just like what <a href=\"https://www.jhipster.tech/managing-server-errors/#api-errors\" rel=\"nofollow noreferrer\">JHipster</a> did.</p>\n<p>After adopting RFC-7087 in your application, just throw Exception in your controller method, and you will get a detailed and standard error response like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>   {\n    &quot;type&quot;: &quot;https://example.com/probs/validation-error&quot;,\n    &quot;title&quot;: &quot;Request parameter is malformed.&quot;,\n    &quot;status&quot;: 400\n    &quot;detail&quot;: &quot;Validation error, value of xxx should be a positive number.&quot;,\n    &quot;instance&quot;: &quot;/account/12345/msgs/abc&quot;,\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660535486,"creation_date":1660535486,"answer_id":73356754,"question_id":38117717,"body_markdown":"To follow up the answer of **@MarkNorman**, I would say you have to define the mapping between the exceptions coming from your `service` to your `controller` (HTTP Error Code).\r\n\r\n - Success response are mapped to `200` status (OK) \r\n - Validation exception mapped with `400` status (BAD_REQUEST)\r\n - Record not found mapped with `404` status (NOT_FOUND)\r\n - Other exception mapped to `500` status (INTERNAL_SERVER_ERROR)\r\n\r\nFor example, your code should look something like this:\r\n\r\n    @GetMapping(&quot;/persons/{id}&quot;)\r\n    public ResponseEntity&lt;Success&gt; findPersonById(@PathVariable(&quot;id&quot;) Long id) {\r\n        try {\r\n            var person = service.findById(id);\r\n            var message = new Message(HttpStatus.OK, getCurrentDateTime(), person);\r\n            return message;\r\n        } catch(ServiceException exception) {\r\n            throw new NotFoundException(&quot;An error occurs while finding a person&quot;, exception);\r\n        }\r\n    }\r\n\r\nAll the exceptions thrown should be redirect in the `ControllerAdvice`\r\n\r\n    @ExceptionHandler(NotFoundException.class)\r\n    public ResponseEntity&lt;Error&gt; handleNotFoundException(NotFoundException exception) {\r\n        var error = new Error(HttpStatus.NOT_FOUND,\r\n                    getCurrentDateTime(),\r\n                    exception.getMessage());\r\n    \r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\r\n    }\r\n\r\nThe main thing to understand is that your `RestControllers` only understand HTTP protocol and HTTP Code for responses.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>To follow up the answer of <strong>@MarkNorman</strong>, I would say you have to define the mapping between the exceptions coming from your <code>service</code> to your <code>controller</code> (HTTP Error Code).</p>\n<ul>\n<li>Success response are mapped to <code>200</code> status (OK)</li>\n<li>Validation exception mapped with <code>400</code> status (BAD_REQUEST)</li>\n<li>Record not found mapped with <code>404</code> status (NOT_FOUND)</li>\n<li>Other exception mapped to <code>500</code> status (INTERNAL_SERVER_ERROR)</li>\n</ul>\n<p>For example, your code should look something like this:</p>\n<pre><code>@GetMapping(&quot;/persons/{id}&quot;)\npublic ResponseEntity&lt;Success&gt; findPersonById(@PathVariable(&quot;id&quot;) Long id) {\n    try {\n        var person = service.findById(id);\n        var message = new Message(HttpStatus.OK, getCurrentDateTime(), person);\n        return message;\n    } catch(ServiceException exception) {\n        throw new NotFoundException(&quot;An error occurs while finding a person&quot;, exception);\n    }\n}\n</code></pre>\n<p>All the exceptions thrown should be redirect in the <code>ControllerAdvice</code></p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\npublic ResponseEntity&lt;Error&gt; handleNotFoundException(NotFoundException exception) {\n    var error = new Error(HttpStatus.NOT_FOUND,\n                getCurrentDateTime(),\n                exception.getMessage());\n\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n}\n</code></pre>\n<p>The main thing to understand is that your <code>RestControllers</code> only understand HTTP protocol and HTTP Code for responses.</p>\n"},{"tags":[],"owner":{"account_id":6511,"reputation":4394,"user_id":10980,"accept_rate":60,"display_name":"Rejeev Divakaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666211797,"creation_date":1666211797,"answer_id":74131604,"question_id":38117717,"body_markdown":"You can use @ExceptionHandler Controller Advice to return custom Return Object in case error. \r\nSee the example code below which returns 400 with Custom response in case of Validation Error.\r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler {\r\n        @ExceptionHandler(value = InputValidationError.class)\r\n        public ResponseEntity&lt;ValidationErrorResponse&gt; handleException(InputValidationError ex){\r\n            return ResponseEntity.badRequest().body(ex.validationErrorResponse);\r\n        }\r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can use @ExceptionHandler Controller Advice to return custom Return Object in case error.\nSee the example code below which returns 400 with Custom response in case of Validation Error.</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n    @ExceptionHandler(value = InputValidationError.class)\n    public ResponseEntity&lt;ValidationErrorResponse&gt; handleException(InputValidationError ex){\n        return ResponseEntity.badRequest().body(ex.validationErrorResponse);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701698411,"creation_date":1701698411,"answer_id":77600012,"question_id":38117717,"body_markdown":"As for spring boot 3.x, my preferred syntax is returning `ResponseEntity&lt;?&gt;` (with generics) - choosing the `HttpStatus` and `body` according to the result/exception; very clean, easy to maintain and agnostic to the type of API/method I use.\r\n\r\nE.g. \r\n\r\nIn this example, I&#39;m returning either a `User` dto or an `INTERNAL_SERVER_ERROR` with the relevant error message:   \r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;?&gt; signup(@RequestBody User user) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.addUser(user));\r\n   \t\t} catch (Exception e) {\r\n   \t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n   \t\t}\r\n   \t}","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>As for spring boot 3.x, my preferred syntax is returning <code>ResponseEntity&lt;?&gt;</code> (with generics) - choosing the <code>HttpStatus</code> and <code>body</code> according to the result/exception; very clean, easy to maintain and agnostic to the type of API/method I use.</p>\n<p>E.g.</p>\n<p>In this example, I'm returning either a <code>User</code> dto or an <code>INTERNAL_SERVER_ERROR</code> with the relevant error message:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\npublic ResponseEntity&lt;?&gt; signup(@RequestBody User user) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.addUser(user));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3731659,"reputation":3183,"user_id":3103802,"accept_rate":73,"display_name":"Saveendra Ekanayake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278260,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":50053782,"answer_count":15,"score":113,"last_activity_date":1701698411,"creation_date":1467275170,"question_id":38117717,"body_markdown":"I have written simple REST application in `Spring Boot` (`Spring` Framework). \r\n\r\nIt returns `ResponseEntity&lt;Success&gt;` as **Success** response in the controller level. But I want to return a completely different **Error** response `ResponseEntity&lt;Error&gt;`, if there is an error (*validation error, logic error, runtime error*) in the API. \r\n\r\n**Success** &amp; **Error** responses are completely different for the application.\r\n`Success` &amp; `Error` are the 2 java classes which the application uses to represent **Success** &amp; **Error** responses.\r\n\r\nWhat is the best way to return different types of `ResponseEntity` in `Spring-Boot` (Best way to handle the errors for REST with `Spring`)?\r\n","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I have written simple REST application in <code>Spring Boot</code> (<code>Spring</code> Framework).</p>\n<p>It returns <code>ResponseEntity&lt;Success&gt;</code> as <strong>Success</strong> response in the controller level. But I want to return a completely different <strong>Error</strong> response <code>ResponseEntity&lt;Error&gt;</code>, if there is an error (<em>validation error, logic error, runtime error</em>) in the API.</p>\n<p><strong>Success</strong> &amp; <strong>Error</strong> responses are completely different for the application.\n<code>Success</code> &amp; <code>Error</code> are the 2 java classes which the application uses to represent <strong>Success</strong> &amp; <strong>Error</strong> responses.</p>\n<p>What is the best way to return different types of <code>ResponseEntity</code> in <code>Spring-Boot</code> (Best way to handle the errors for REST with <code>Spring</code>)?</p>\n"},{"tags":["java","sql","postgresql","tomcat","jdbc"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365544609,"post_id":15913253,"comment_id":22665292,"body_markdown":"where did you get the postgresql JDBC driver from? Can you add the link to that one?","body":"where did you get the postgresql JDBC driver from? Can you add the link to that one?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365544688,"post_id":15913253,"comment_id":22665329,"body_markdown":"possible duplicate of [The infamous &quot;No suitable Driver&quot; exception for Tomcat 5.5, Postgres, and JDBC](http://stackoverflow.com/questions/1911253/the-infamous-no-suitable-driver-exception-for-tomcat-5-5-postgres-and-jdbc)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1911253/the-infamous-no-suitable-driver-exception-for-tomcat-5-5-postgres-and-jdbc\">The infamous &quot;No suitable Driver&quot; exception for Tomcat 5.5, Postgres, and JDBC</a>"},{"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1365544727,"post_id":15913253,"comment_id":22665353,"body_markdown":"In which lib directory did you put it? Why do you use DriverManager since you want to get the connection from a Tomcat DataSource?","body":"In which lib directory did you put it? Why do you use DriverManager since you want to get the connection from a Tomcat DataSource?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1365547427,"post_id":15913253,"comment_id":22666319,"body_markdown":"I agree with JB Nizet: using a DataSource JNDI lookup and the DriverManager does not make any sense.","body":"I agree with JB Nizet: using a DataSource JNDI lookup and the DriverManager does not make any sense."},{"owner":{"account_id":2608736,"reputation":105,"user_id":2259305,"display_name":"cstokes2"},"score":0,"creation_date":1365565894,"post_id":15913253,"comment_id":22670931,"body_markdown":"I am completely new to this so what should I be doing instead? Thanks","body":"I am completely new to this so what should I be doing instead? Thanks"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1365566688,"post_id":15913253,"comment_id":22671122,"body_markdown":"You don&#39;t need to instantiate the Driver class and get the connection from DriverManger, the Datasource takes care of this for you. Just remove this line: Class.forName(&quot;org.postgres.Driver&quot;); and than get the connection from the Datasource you have already looked up in the code, so remove: con = DriverManager.getConnection(url, user, password); and than: con = ds.getConnection(); and use the connection. Remove all the unused code from stance variables. \nStudy this page: http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html","body":"You don&#39;t need to instantiate the Driver class and get the connection from DriverManger, the Datasource takes care of this for you. Just remove this line: Class.forName(&quot;org.postgres.Driver&quot;); and than get the connection from the Datasource you have already looked up in the code, so remove: con = DriverManager.getConnection(url, user, password); and than: con = ds.getConnection(); and use the connection. Remove all the unused code from stance variables.  Study this page: <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-6.0-doc/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1701698312,"creation_date":1365544753,"answer_id":15913334,"question_id":15913253,"body_markdown":"The proper Driver name is **org.postgresql.Driver** and not org.postgres.Driver\r\n\r\nUpdate: \r\n\r\nCheck this page give it a bit of study and you should be fine \r\n:) \r\nhttp://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\r\n\r\n\r\nThen instead of using DriverManager, you should just do a lookup(you did already) and get a connection from the DataSource(You can remove pwd, user, and other unused stuff from your code):\r\n\r\n    Context initContext = new InitialContext();\r\n    Context envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\r\n    DataSource ds = (DataSource)envContext.lookup(&quot;jdbc/UptonDB&quot;);\r\n    Connection conn = ds.getConnection();","title":"No Suitable Driver found Postgres JDBC","body":"<p>The proper Driver name is <strong>org.postgresql.Driver</strong> and not org.postgres.Driver</p>\n<p>Update:</p>\n<p>Check this page give it a bit of study and you should be fine\n:)\n<a href=\"http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html</a></p>\n<p>Then instead of using DriverManager, you should just do a lookup(you did already) and get a connection from the DataSource(You can remove pwd, user, and other unused stuff from your code):</p>\n<pre><code>Context initContext = new InitialContext();\nContext envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\nDataSource ds = (DataSource)envContext.lookup(&quot;jdbc/UptonDB&quot;);\nConnection conn = ds.getConnection();\n</code></pre>\n"}],"owner":{"account_id":2608736,"reputation":105,"user_id":2259305,"display_name":"cstokes2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14920,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15913334,"answer_count":1,"score":5,"last_activity_date":1701698312,"creation_date":1365544304,"question_id":15913253,"body_markdown":"I am receiving a &quot;no suitable driver found&quot; error when I test my web service on tomcat. I have the JDBC .jar in the lib folder as various tutorials says to do. Here is my code:\r\n\r\n    public class PostDBConnection {\r\n\t\r\n     PreparedStatement st;\r\n     ResultSet rs;\r\n     Connection con;\r\n     DataSource ds;\r\n     InitialContext cxt;\r\n\r\n     String url = &quot;jdbc:postgresql://127.0.0.1:5432/UptonDB&quot;;\r\n     String user = &quot;*****&quot;;\r\n     String password = &quot;*******&quot;;\r\n     String query = &quot;&quot;;\r\n     StringBuilder response = new StringBuilder();\r\n     \r\n\t@SuppressWarnings(&quot;unused&quot;)\r\n\tpublic String getInfo(){\r\n\t\t\r\n        int size = 0;  \r\n        \r\n      \r\n        try {\r\n        \t\r\n        \tcxt = new InitialContext();\t\t\r\n\t\t\tds = (DataSource) cxt.lookup(&quot;java:comp/env/jdbc/UptonDB&quot;);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\t  \r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tClass.forName(&quot;org.postgres.Driver&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t \r\n\t\t\tcon = DriverManager.getConnection(url, user, password);\r\n\t\t  \tst =  con.prepareStatement(&quot;SELECT VERSION()&quot;);\t  \t\t\r\n\t\t  \trs = st.executeQuery();\r\n\t\t  \r\n\t\t  \r\n\t\t  \twhile(rs.next())\r\n\t\t  \t\t{\r\n\t\t  \t\t\t\tresponse.append(rs.getString(1));\r\n\t\t  \t\t\t\r\n\t\t  \t\t}\t\t  \t\t\r\n\t\t  \t}\t  \r\n\t\t\r\n\t\tcatch(SQLException exc)\r\n\t\t\t{\r\n\t\t\t\tLogger lgr = Logger.getLogger(PostDBConnection.class.getName());\r\n\t            lgr.log(Level.SEVERE, exc.getMessage(), exc);\r\n\t\t  \t} \r\n        finally {\r\n            try {\r\n               if (rs != null) {\r\n                    rs.close();\r\n                }\r\n                if (st != null) {\r\n                    st.close();\r\n                }\r\n                if (con != null) {\r\n                    con.close();\r\n                }\r\n\r\n            } catch (SQLException ex) {\r\n                Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\r\n                lgr.log(Level.WARNING, ex.getMessage(), ex);\r\n            }\r\n        }\r\n        \r\n        return response.toString();\r\n    }\r\n\r\nAlso here are the web.xml and context.xml files I created by following instructions on the Tomcat website:\r\n\r\n     &lt;resource-ref&gt;\r\n \t&lt;description&gt;PostgreSQL Data Source &lt;/description&gt;\r\n \t&lt;res-ref-name&gt;jdbc/UptonDB&lt;/res-ref-name&gt;\r\n \t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n \t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n\r\nweb.xml: \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n       &lt;Context&gt;  \r\n       &lt;Resource name=&quot;jdbc/UptonDB&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; \r\n        removeAbandoned=&quot;true&quot; removeAbandonedTimeout=&quot;30&quot; maxActive=&quot;80&quot;   \r\n        maxIdle=&quot;30&quot; maxWait=&quot;10000&quot; username=&quot;*****&quot; password=&quot;*******&quot;\r\n        driverClassName=&quot;org.postgresql.Driver&quot;\r\n        url = &quot;jdbc:postgresql://127.0.0.1:5432/UptonDB&quot; useUnicode=&quot;true&quot;\r\n        characterEncoding=&quot;utf-8&quot; characterSetResults=&quot;utf8&quot;/&gt;\r\n       &lt;/Context&gt;\r\n\r\n  \r\nAny help is appreciated thanks!\t","title":"No Suitable Driver found Postgres JDBC","body":"<p>I am receiving a \"no suitable driver found\" error when I test my web service on tomcat. I have the JDBC .jar in the lib folder as various tutorials says to do. Here is my code:</p>\n\n<pre><code>public class PostDBConnection {\n\n PreparedStatement st;\n ResultSet rs;\n Connection con;\n DataSource ds;\n InitialContext cxt;\n\n String url = \"jdbc:postgresql://127.0.0.1:5432/UptonDB\";\n String user = \"*****\";\n String password = \"*******\";\n String query = \"\";\n StringBuilder response = new StringBuilder();\n\n@SuppressWarnings(\"unused\")\npublic String getInfo(){\n\n    int size = 0;  \n\n\n    try {\n\n        cxt = new InitialContext();     \n        ds = (DataSource) cxt.lookup(\"java:comp/env/jdbc/UptonDB\");\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    try{\n\n        try {\n\n            Class.forName(\"org.postgres.Driver\");\n\n\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        con = DriverManager.getConnection(url, user, password);\n        st =  con.prepareStatement(\"SELECT VERSION()\");         \n        rs = st.executeQuery();\n\n\n        while(rs.next())\n            {\n                    response.append(rs.getString(1));\n\n            }               \n        }     \n\n    catch(SQLException exc)\n        {\n            Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\n            lgr.log(Level.SEVERE, exc.getMessage(), exc);\n        } \n    finally {\n        try {\n           if (rs != null) {\n                rs.close();\n            }\n            if (st != null) {\n                st.close();\n            }\n            if (con != null) {\n                con.close();\n            }\n\n        } catch (SQLException ex) {\n            Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\n            lgr.log(Level.WARNING, ex.getMessage(), ex);\n        }\n    }\n\n    return response.toString();\n}\n</code></pre>\n\n<p>Also here are the web.xml and context.xml files I created by following instructions on the Tomcat website:</p>\n\n<pre><code> &lt;resource-ref&gt;\n&lt;description&gt;PostgreSQL Data Source &lt;/description&gt;\n&lt;res-ref-name&gt;jdbc/UptonDB&lt;/res-ref-name&gt;\n&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n&lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p>web.xml: </p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n   &lt;Context&gt;  \n   &lt;Resource name=\"jdbc/UptonDB\" auth=\"Container\" type=\"javax.sql.DataSource\" \n    removeAbandoned=\"true\" removeAbandonedTimeout=\"30\" maxActive=\"80\"   \n    maxIdle=\"30\" maxWait=\"10000\" username=\"*****\" password=\"*******\"\n    driverClassName=\"org.postgresql.Driver\"\n    url = \"jdbc:postgresql://127.0.0.1:5432/UptonDB\" useUnicode=\"true\"\n    characterEncoding=\"utf-8\" characterSetResults=\"utf8\"/&gt;\n   &lt;/Context&gt;\n</code></pre>\n\n<p>Any help is appreciated thanks! </p>\n"},{"tags":["java","maven","dependency-management","configuration-management"],"comments":[{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1504729085,"post_id":46070735,"comment_id":79129279,"body_markdown":"Your assumption you made is wrong, cause the dependencies tag is not inside the `build` tag. They are keep on their own. http://maven.apache.org/pom.html#Dependencies. If you check the global pom the define deps using a real pom which uses the real depenencies locally that&#39;s the test..I hope you don&#39;t upload the deps manually into remote repository...","body":"Your assumption you made is wrong, cause the dependencies tag is not inside the <code>build</code> tag. They are keep on their own. <a href=\"http://maven.apache.org/pom.html#Dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#Dependencies</a>. If you check the global pom the define deps using a real pom which uses the real depenencies locally that&#39;s the test..I hope you don&#39;t upload the deps manually into remote repository..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1504791045,"post_id":46070735,"comment_id":79157237,"body_markdown":"@khmarbaise It would still be great to have a check whether dependencyManagement entries actually exist, without constructing and updating a test project.","body":"@khmarbaise It would still be great to have a check whether dependencyManagement entries actually exist, without constructing and updating a test project."},{"owner":{"account_id":112317,"reputation":93929,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1504793332,"post_id":46070735,"comment_id":79159043,"body_markdown":"Might be an idea for an improvement of plugins ...might be located in the maven-dependency-plugin goal like `resolve-dependency-management` something like this? Someone can make a jira request for it?...","body":"Might be an idea for an improvement of plugins ...might be located in the maven-dependency-plugin goal like <code>resolve-dependency-management</code> something like this? Someone can make a jira request for it?..."},{"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"score":0,"creation_date":1504823821,"post_id":46070735,"comment_id":79175159,"body_markdown":"@khamrbaise - you&#39;re right. I was confused. But the question still valid","body":"@khamrbaise - you&#39;re right. I was confused. But the question still valid"}],"answers":[{"tags":[],"owner":{"account_id":262424,"reputation":1418,"user_id":547270,"display_name":"scrutari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550870330,"creation_date":1550870330,"answer_id":54835333,"question_id":46070735,"body_markdown":"In maven dependency plugin there is goal `dependency:analyze-dep-mgt`. You may use it to check dependencies in `dependencyManagement` section of your `pom.xml`.\r\nIf you need deeper control or more functionality, options would be to create your own plugin or have a dummy project which would use all your managed dependencies (although I should say this is a cumbersome solution).","title":"verify maven managed dependencies","body":"<p>In maven dependency plugin there is goal <code>dependency:analyze-dep-mgt</code>. You may use it to check dependencies in <code>dependencyManagement</code> section of your <code>pom.xml</code>.\nIf you need deeper control or more functionality, options would be to create your own plugin or have a dummy project which would use all your managed dependencies (although I should say this is a cumbersome solution).</p>\n"}],"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54835333,"answer_count":1,"score":11,"last_activity_date":1701698048,"creation_date":1504687907,"question_id":46070735,"body_markdown":"maven allows you to define in pom file:\r\n\r\n(A) `dependencies` -&gt; the actual direct dependencies of the project\r\n\r\n(B) `dependencyManagement`/`dependencies` -&gt; managed dependencies that affect dependencies of category (A) with undefined version and transitive dependencies.\r\n\r\n\r\n* If I put wrong/unknown artifact on category A - maven will surely fail.\r\n* If I put wrong/unknown artifact on category B - maven will fail only if it affects category A (for instance, A defines dep on `foo:bar` and B defines dep on `foo:bar:&lt;unknown-version&gt;`.\r\n\r\n---\r\nI wonder if there is any existing plugin that will allow me to verify all managed deps (category B) - make sure they actually exist.\r\n\r\nI have 1 global pom project with deps management that serves multiple projects and I want to verify any change to the deps in the CI before uploading new version to remote repository","title":"verify maven managed dependencies","body":"<p>maven allows you to define in pom file:</p>\n\n<p>(A) <code>dependencies</code> -> the actual direct dependencies of the project</p>\n\n<p>(B) <code>dependencyManagement</code>/<code>dependencies</code> -> managed dependencies that affect dependencies of category (A) with undefined version and transitive dependencies.</p>\n\n<ul>\n<li>If I put wrong/unknown artifact on category A - maven will surely fail.</li>\n<li>If I put wrong/unknown artifact on category B - maven will fail only if it affects category A (for instance, A defines dep on <code>foo:bar</code> and B defines dep on <code>foo:bar:&lt;unknown-version&gt;</code>.</li>\n</ul>\n\n<hr>\n\n<p>I wonder if there is any existing plugin that will allow me to verify all managed deps (category B) - make sure they actually exist.</p>\n\n<p>I have 1 global pom project with deps management that serves multiple projects and I want to verify any change to the deps in the CI before uploading new version to remote repository</p>\n"},{"tags":["java","windows","file","apache-commons-vfs"],"comments":[{"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"score":0,"creation_date":1701697509,"post_id":77599710,"comment_id":136804149,"body_markdown":"they come from org.apache.commons, from commons-vfs2","body":"they come from org.apache.commons, from commons-vfs2"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697577,"creation_date":1701695700,"question_id":77599710,"body_markdown":"I am using [Apache Commons Virtual File System][1] (VFS).\r\n\r\nI am building some unit tests for my code and I need to modify the write permission for a folder, to make it not writeable. I tried the below code:\r\n```java\r\n@Rule\r\npublic TemporaryFolder tempFolder = new TemporaryFolder();\r\n\r\n@Test\r\npublic void test_notWriteable() throws IOException {\r\n\r\n    // given\r\n    File dir = tempFolder.newFolder(&quot;testDirectory&quot;);\r\n    dir.setWritable(false, false);\r\n    when(fileApi.isHdfs()).thenReturn(false);\r\n    when(fileApi.getBaseDirectory()).thenReturn(&quot;file://&quot; + dir.getAbsolutePath());\r\n\r\n    // when\r\n    String isBaseFolderAccessible = fileApi.isLocalBaseFolderAccessible();\r\n\r\n    // then\r\n    assertEquals(&quot;dashboard.basedir.not_writeable&quot;, isBaseFolderAccessible);\r\n}\r\n```\r\nThe method:\r\n```\r\nprivate String isLocalBaseFolderAccessible() {\r\n    try {\r\n        final FileSystemManager fileSystemManager = VFS.getManager();\r\n\r\n        final FileObject folder = fileSystemManager.resolveFile(fileApi.getBaseDirectory());\r\n        if (!folder.exists()) {\r\n            return BASEDIR_NOT_FOUND;\r\n        } else if (!folder.isReadable()) {\r\n            return BASEDIR_NOT_READABLE;\r\n        } else if (!folder.isWriteable()) {\r\n            return BASEDIR_NOT_WRITEABLE;\r\n        }\r\n    } catch (Exception exception) {\r\n        final String exceptionMessage = exception.getMessage();\r\n        logger.error(&quot;exception while trying to check base directory access: {}&quot;, exceptionMessage);\r\n        return SETTINGS_CHECK_BASEDIR_NOT_FOUND_I18N;\r\n    }\r\n    return null;\r\n}\r\n```\r\nUnfortunately, the method returns null, so the folder is writeable. \r\nThe problem comes from the fact that `isWriteable()` is called for `AbstractFileObject` and it always returns true:\r\n\r\nfrom `AbstractFileObject`:\r\n```java\r\nprotected boolean doIsWriteable() throws Exception\r\n\r\n{ return true; }\r\n```\r\nI also tried using ACLs for changing the permissions, but that also did not work.\r\nDoes anyone know what I can do to change the folder permissions on Windows, with Java?\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-vfs/","title":"Cannot modify read/write permissions from Java on Windows on folders","body":"<p>I am using <a href=\"https://commons.apache.org/proper/commons-vfs/\" rel=\"nofollow noreferrer\">Apache Commons Virtual File System</a> (VFS).</p>\n<p>I am building some unit tests for my code and I need to modify the write permission for a folder, to make it not writeable. I tried the below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule\npublic TemporaryFolder tempFolder = new TemporaryFolder();\n\n@Test\npublic void test_notWriteable() throws IOException {\n\n    // given\n    File dir = tempFolder.newFolder(&quot;testDirectory&quot;);\n    dir.setWritable(false, false);\n    when(fileApi.isHdfs()).thenReturn(false);\n    when(fileApi.getBaseDirectory()).thenReturn(&quot;file://&quot; + dir.getAbsolutePath());\n\n    // when\n    String isBaseFolderAccessible = fileApi.isLocalBaseFolderAccessible();\n\n    // then\n    assertEquals(&quot;dashboard.basedir.not_writeable&quot;, isBaseFolderAccessible);\n}\n</code></pre>\n<p>The method:</p>\n<pre><code>private String isLocalBaseFolderAccessible() {\n    try {\n        final FileSystemManager fileSystemManager = VFS.getManager();\n\n        final FileObject folder = fileSystemManager.resolveFile(fileApi.getBaseDirectory());\n        if (!folder.exists()) {\n            return BASEDIR_NOT_FOUND;\n        } else if (!folder.isReadable()) {\n            return BASEDIR_NOT_READABLE;\n        } else if (!folder.isWriteable()) {\n            return BASEDIR_NOT_WRITEABLE;\n        }\n    } catch (Exception exception) {\n        final String exceptionMessage = exception.getMessage();\n        logger.error(&quot;exception while trying to check base directory access: {}&quot;, exceptionMessage);\n        return SETTINGS_CHECK_BASEDIR_NOT_FOUND_I18N;\n    }\n    return null;\n}\n</code></pre>\n<p>Unfortunately, the method returns null, so the folder is writeable.\nThe problem comes from the fact that <code>isWriteable()</code> is called for <code>AbstractFileObject</code> and it always returns true:</p>\n<p>from <code>AbstractFileObject</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected boolean doIsWriteable() throws Exception\n\n{ return true; }\n</code></pre>\n<p>I also tried using ACLs for changing the permissions, but that also did not work.\nDoes anyone know what I can do to change the folder permissions on Windows, with Java?</p>\n"},{"tags":["java","hadoop","mapreduce","hadoop-yarn"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1702102580,"post_id":77599915,"comment_id":136858714,"body_markdown":"As the logs say - `For more detailed output, check the application tracking page`","body":"As the logs say - <code>For more detailed output, check the application tracking page</code>"}],"owner":{"account_id":30063010,"reputation":1,"user_id":23038736,"display_name":"Maria R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697540,"creation_date":1701697540,"question_id":77599915,"body_markdown":"I am trying to run some jar files on my hadoop installed on Windows. I can create the Jar file perfectly from the java files but every time I try to run it gives me this error:\r\n\r\n`2023-12-04 15:02:01,966 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at /0.0.0.0:8032\r\n2023-12-04 15:02:03,739 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\r\n2023-12-04 15:02:03,756 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/Maria/.staging/job_1701694425339_0001\r\n2023-12-04 15:02:04,472 INFO input.FileInputFormat: Total input files to process : 1\r\n2023-12-04 15:02:04,675 INFO mapreduce.JobSubmitter: number of splits:1\r\n2023-12-04 15:02:05,070 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1701694425339_0001\r\n2023-12-04 15:02:05,072 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n2023-12-04 15:02:05,549 INFO conf.Configuration: resource-types.xml not found\r\n2023-12-04 15:02:05,551 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n2023-12-04 15:02:06,682 INFO impl.YarnClientImpl: Submitted application application_1701694425339_0001\r\n2023-12-04 15:02:06,829 INFO mapreduce.Job: The url to track the job: http://DESKTOP-K5QUG8Q:8088/proxy/application_1701694425339_0001/\r\n2023-12-04 15:02:06,833 INFO mapreduce.Job: Running job: job_1701694425339_0001\r\n2023-12-04 15:02:14,011 INFO mapreduce.Job: Job job_1701694425339_0001 running in uber mode : false\r\n2023-12-04 15:02:14,018 INFO mapreduce.Job:  map 0% reduce 0%\r\n2023-12-04 15:02:14,078 INFO mapreduce.Job: Job job_1701694425339_0001 failed with state FAILED due to: Application application_1701694425339_0001 failed 2 times due to AM Container for appattempt_1701694425339_0001_000002 exited with  exitCode: -1\r\nFailing this attempt.Diagnostics: [2023-12-04 15:02:13.720]java.net.URISyntaxException: Relative path in absolute URI:\r\n           C:%5Chadoop%5Cshare%5Chadoop%5Cmapreduce%5Clib%5C*\r\nFor more detailed output, check the application tracking page: http://DESKTOP-K5QUG8Q:8088/cluster/app/application_1701694425339_0001 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n2023-12-04 15:02:14,202 INFO mapreduce.Job: Counters: 0`\r\n\r\nDoes anyone know how this can be fixed? I really need to use hadoop for an asignment. Thank you \r\n\r\nI was trying to run a jar file and an error occurs every time","title":"Hadoop running jar files probelm","body":"<p>I am trying to run some jar files on my hadoop installed on Windows. I can create the Jar file perfectly from the java files but every time I try to run it gives me this error:</p>\n<p><code>2023-12-04 15:02:01,966 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at /0.0.0.0:8032 2023-12-04 15:02:03,739 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this. 2023-12-04 15:02:03,756 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/Maria/.staging/job_1701694425339_0001 2023-12-04 15:02:04,472 INFO input.FileInputFormat: Total input files to process : 1 2023-12-04 15:02:04,675 INFO mapreduce.JobSubmitter: number of splits:1 2023-12-04 15:02:05,070 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1701694425339_0001 2023-12-04 15:02:05,072 INFO mapreduce.JobSubmitter: Executing with tokens: [] 2023-12-04 15:02:05,549 INFO conf.Configuration: resource-types.xml not found 2023-12-04 15:02:05,551 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'. 2023-12-04 15:02:06,682 INFO impl.YarnClientImpl: Submitted application application_1701694425339_0001 2023-12-04 15:02:06,829 INFO mapreduce.Job: The url to track the job: http://DESKTOP-K5QUG8Q:8088/proxy/application_1701694425339_0001/ 2023-12-04 15:02:06,833 INFO mapreduce.Job: Running job: job_1701694425339_0001 2023-12-04 15:02:14,011 INFO mapreduce.Job: Job job_1701694425339_0001 running in uber mode : false 2023-12-04 15:02:14,018 INFO mapreduce.Job:  map 0% reduce 0% 2023-12-04 15:02:14,078 INFO mapreduce.Job: Job job_1701694425339_0001 failed with state FAILED due to: Application application_1701694425339_0001 failed 2 times due to AM Container for appattempt_1701694425339_0001_000002 exited with  exitCode: -1 Failing this attempt.Diagnostics: [2023-12-04 15:02:13.720]java.net.URISyntaxException: Relative path in absolute URI: C:%5Chadoop%5Cshare%5Chadoop%5Cmapreduce%5Clib%5C* For more detailed output, check the application tracking page: http://DESKTOP-K5QUG8Q:8088/cluster/app/application_1701694425339_0001 Then click on links to logs of each attempt. . Failing the application. 2023-12-04 15:02:14,202 INFO mapreduce.Job: Counters: 0</code></p>\n<p>Does anyone know how this can be fixed? I really need to use hadoop for an asignment. Thank you</p>\n<p>I was trying to run a jar file and an error occurs every time</p>\n"},{"tags":["java","azure","azure-application-insights","metrics","open-telemetry"],"comments":[{"owner":{"account_id":28166626,"reputation":436,"user_id":21525734,"display_name":"Pavan"},"score":0,"creation_date":1701747628,"post_id":77599859,"comment_id":136811200,"body_markdown":"can you share the code what you have tried?","body":"can you share the code what you have tried?"},{"owner":{"account_id":30062208,"reputation":1,"user_id":23038085,"display_name":"Wesley Obi"},"score":0,"creation_date":1701760414,"post_id":77599859,"comment_id":136812364,"body_markdown":"@Pavan \n`private TelemetryClient telemetry = new TelemetryClient();`\n`telemetry.trackMetric(new MyTelemetryObject());`\n\nI don&#39;t the code is helpful but there you go. \nAs I said, the data are arriving on azure, but in the alert rule, the payload is not populated with all the data that are in the log","body":"@Pavan  <code>private TelemetryClient telemetry = new TelemetryClient();</code> <code>telemetry.trackMetric(new MyTelemetryObject());</code>  I don&#39;t the code is helpful but there you go.  As I said, the data are arriving on azure, but in the alert rule, the payload is not populated with all the data that are in the log"}],"owner":{"account_id":30062208,"reputation":1,"user_id":23038085,"display_name":"Wesley Obi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697007,"creation_date":1701697007,"question_id":77599859,"body_markdown":"I&#39;m new to Azure and I&#39;m some problems with the custom metrics feature in Azure. My app is sending custom metrics signals to the Azure Application Insights. If I go to the logs in Azure I can clearly see the signal with the content represented in form of customDimentions. This signal is captured by an Azure Alert, that sends a payload to a specified webhook. The issue is that I couldn&#39;t find add the customDImentions obj to the Alert payload. I know that Alerts have custom properties, but those are static.\r\n\r\nDoes anyone know a solution or a workaround?\r\n\r\nAfter sending the signal from my application I can get some information in my alert like the signal name and the value, but not its properties","title":"Send customDimentions from Azure Application Insights with an Alert Rule","body":"<p>I'm new to Azure and I'm some problems with the custom metrics feature in Azure. My app is sending custom metrics signals to the Azure Application Insights. If I go to the logs in Azure I can clearly see the signal with the content represented in form of customDimentions. This signal is captured by an Azure Alert, that sends a payload to a specified webhook. The issue is that I couldn't find add the customDImentions obj to the Alert payload. I know that Alerts have custom properties, but those are static.</p>\n<p>Does anyone know a solution or a workaround?</p>\n<p>After sending the signal from my application I can get some information in my alert like the signal name and the value, but not its properties</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket","spring-scheduled"],"answers":[{"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701679056,"creation_date":1701679056,"answer_id":77598132,"question_id":77588072,"body_markdown":"If you want to use websocket, the users you send notifications to must be using the application at that moment. That is, if the user to whom you send a notification is not logged in to the system, they cannot receive the message. Therefore, it would be more logical to use a mail server instead of websocket. \r\n\r\nIf you still want to use websocket, please share the client(frontend) code as well. Before you can send information to the client, the client must connect to websocket. After the connection is successfully established, you must subscribe to the channel.\r\n\r\n\r\n\r\nFirst of all, the WebSocketConfig class needs to be edited as follows.\r\n\r\n        @Override\r\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/our-websocket&quot;)\r\n                .setAllowedOrigins(&quot;*&quot;) // or your domain.com\r\n                .setHandshakeHandler(new UserHandshakeHandler())\r\n                .withSockJS();\r\n    }\r\n\r\n\r\nThen, you should correct the UseHandshakeHandler class. You must access and use the information of the requesting user with the following method.\r\n\r\n\r\n        @Override\r\n    protected Principal determineUser(\r\n            ServerHttpRequest request,\r\n            WebSocketHandler wsHandler,\r\n            Map&lt;String, Object&gt; attributes\r\n    ) {\r\n\r\n        // The user&#39;s information can be accessed with the token in the request object.\r\n        /*\r\n        String token = request.getHeader(&quot;Authorization&quot;);\r\n        UserDetailsImpl user = Jwts.parserBuilder()......\r\n        String id = user.getId;\r\n        return new UserPrincipal(id);\r\n        */\r\n        \r\n        // for testing\r\n        String id = UUID.randomUUID().toString(); //You should use this id when sending private messages to the user.\r\n        System.out.println(id);\r\n        return new UserPrincipal(id);\r\n    }\r\n\r\n\r\nI added an example of html and js code below. you can use this for testing.\r\n\r\n**src/main/resources/static/app.js:**\r\n    \r\n    var stompClient = null;\r\n    \r\n    function setConnected(connected) {\r\n        $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n        $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n        if (connected) {\r\n            $(&quot;#conversation&quot;).show();\r\n        }\r\n        else {\r\n            $(&quot;#conversation&quot;).hide();\r\n        }\r\n        $(&quot;#greetings&quot;).html(&quot;&quot;);\r\n    }\r\n    \r\n    function connect() {\r\n        var socket = new SockJS(&#39;http://localhost:8080/our-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            setConnected(true);\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/user/topic/private-messages&#39;, function (greeting) {\r\n            });\r\n        });\r\n    \r\n        socket.addEventListener(&quot;message&quot;, (event) =&gt; {\r\n            showGreeting(event.data);\r\n        });\r\n    \r\n    }\r\n    \r\n    function showGreeting(message) {\r\n        $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n    }\r\n    \r\n    function disconnect() {\r\n        if (stompClient !== null) {\r\n            stompClient.disconnect();\r\n        }\r\n        setConnected(false);\r\n        console.log(&quot;Disconnected&quot;);\r\n    }\r\n    \r\n    \r\n    \r\n    $(function () {\r\n        $(&quot;form&quot;).on(&#39;submit&#39;, function (e) {\r\n            e.preventDefault();\r\n        });\r\n        $( &quot;#connect&quot; ).click(function() { connect(); });\r\n        $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\r\n    });\r\n\r\n\r\n\r\n**src/main/resources/static/index.html:**\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hello WebSocket&lt;/title&gt;\r\n        &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.0/cerulean/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n  \r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;noscript&gt;&lt;h2 style=&quot;color: #ff0000&quot;&gt;Seems your browser doesn&#39;t support Javascript! Websocket relies on Javascript being\r\n        enabled. Please enable\r\n        Javascript and reload this page!&lt;/h2&gt;&lt;/noscript&gt;\r\n    &lt;div id=&quot;main-content&quot; class=&quot;container&quot;&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                &lt;form class=&quot;form-inline&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;connect&quot;&gt;WebSocket connection:&lt;/label&gt;\r\n                        &lt;button id=&quot;connect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot;&gt;Connect&lt;/button&gt;\r\n                        &lt;button id=&quot;disconnect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot; disabled=&quot;disabled&quot;&gt;Disconnect\r\n                        &lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                &lt;table id=&quot;conversation&quot; class=&quot;table table-striped&quot;&gt;\r\n                    &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Greetings&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody id=&quot;greetings&quot;&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nNow, run the application and open the `index.html` file. Press the connect button and send a request to the `user-name` value shown on the screen from postman. You will see that the message reaches the user.\r\n\r\n\r\n\r\n\r\nTest pictures.\r\n\r\n[connect to websocket][1]\r\n\r\n[send message to user by id][2]\r\n\r\n[show message][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2d95s.png\r\n  [2]: https://i.stack.imgur.com/oFaxn.png\r\n  [3]: https://i.stack.imgur.com/wfF6Q.jpg","title":"Send message from server to client use Websocket. Java","body":"<p>If you want to use websocket, the users you send notifications to must be using the application at that moment. That is, if the user to whom you send a notification is not logged in to the system, they cannot receive the message. Therefore, it would be more logical to use a mail server instead of websocket.</p>\n<p>If you still want to use websocket, please share the client(frontend) code as well. Before you can send information to the client, the client must connect to websocket. After the connection is successfully established, you must subscribe to the channel.</p>\n<p>First of all, the WebSocketConfig class needs to be edited as follows.</p>\n<pre><code>    @Override\npublic void registerStompEndpoints(final StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/our-websocket&quot;)\n            .setAllowedOrigins(&quot;*&quot;) // or your domain.com\n            .setHandshakeHandler(new UserHandshakeHandler())\n            .withSockJS();\n}\n</code></pre>\n<p>Then, you should correct the UseHandshakeHandler class. You must access and use the information of the requesting user with the following method.</p>\n<pre><code>    @Override\nprotected Principal determineUser(\n        ServerHttpRequest request,\n        WebSocketHandler wsHandler,\n        Map&lt;String, Object&gt; attributes\n) {\n\n    // The user's information can be accessed with the token in the request object.\n    /*\n    String token = request.getHeader(&quot;Authorization&quot;);\n    UserDetailsImpl user = Jwts.parserBuilder()......\n    String id = user.getId;\n    return new UserPrincipal(id);\n    */\n    \n    // for testing\n    String id = UUID.randomUUID().toString(); //You should use this id when sending private messages to the user.\n    System.out.println(id);\n    return new UserPrincipal(id);\n}\n</code></pre>\n<p>I added an example of html and js code below. you can use this for testing.</p>\n<p><strong>src/main/resources/static/app.js:</strong></p>\n<pre><code>var stompClient = null;\n\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n    if (connected) {\n        $(&quot;#conversation&quot;).show();\n    }\n    else {\n        $(&quot;#conversation&quot;).hide();\n    }\n    $(&quot;#greetings&quot;).html(&quot;&quot;);\n}\n\nfunction connect() {\n    var socket = new SockJS('http://localhost:8080/our-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        setConnected(true);\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/user/topic/private-messages', function (greeting) {\n        });\n    });\n\n    socket.addEventListener(&quot;message&quot;, (event) =&gt; {\n        showGreeting(event.data);\n    });\n\n}\n\nfunction showGreeting(message) {\n    $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n}\n\nfunction disconnect() {\n    if (stompClient !== null) {\n        stompClient.disconnect();\n    }\n    setConnected(false);\n    console.log(&quot;Disconnected&quot;);\n}\n\n\n\n$(function () {\n    $(&quot;form&quot;).on('submit', function (e) {\n        e.preventDefault();\n    });\n    $( &quot;#connect&quot; ).click(function() { connect(); });\n    $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\n});\n</code></pre>\n<p><strong>src/main/resources/static/index.html:</strong></p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello WebSocket&lt;/title&gt;\n    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.0/cerulean/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;noscript&gt;&lt;h2 style=&quot;color: #ff0000&quot;&gt;Seems your browser doesn't support Javascript! Websocket relies on Javascript being\n    enabled. Please enable\n    Javascript and reload this page!&lt;/h2&gt;&lt;/noscript&gt;\n&lt;div id=&quot;main-content&quot; class=&quot;container&quot;&gt;\n\n    &lt;br&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-6&quot;&gt;\n            &lt;form class=&quot;form-inline&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;connect&quot;&gt;WebSocket connection:&lt;/label&gt;\n                    &lt;button id=&quot;connect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot;&gt;Connect&lt;/button&gt;\n                    &lt;button id=&quot;disconnect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot; disabled=&quot;disabled&quot;&gt;Disconnect\n                    &lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-6&quot;&gt;\n            &lt;table id=&quot;conversation&quot; class=&quot;table table-striped&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Greetings&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody id=&quot;greetings&quot;&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now, run the application and open the <code>index.html</code> file. Press the connect button and send a request to the <code>user-name</code> value shown on the screen from postman. You will see that the message reaches the user.</p>\n<p>Test pictures.</p>\n<p><a href=\"https://i.stack.imgur.com/2d95s.png\" rel=\"nofollow noreferrer\">connect to websocket</a></p>\n<p><a href=\"https://i.stack.imgur.com/oFaxn.png\" rel=\"nofollow noreferrer\">send message to user by id</a></p>\n<p><a href=\"https://i.stack.imgur.com/wfF6Q.jpg\" rel=\"nofollow noreferrer\">show message</a></p>\n"}],"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701696859,"creation_date":1701464752,"question_id":77588072,"body_markdown":"I hope for your help, I have already looked through everything but have not found an answer. The task is this: I need to send information from my Java application to the client (frontend). The essence of the information is that the user has a password expiration date in the system and I need to send a notification to the user that his password is about to expire. Of course, to do this, I need to make a request to the database for a specific user, calculate how many days he still has left before the password expires. I want to use Websocket for this. I made a config class for training videos and other servers and controllers, but I still didn’t understand how my application should send information to the client. Help! I already thought of using the @Sheduled annotation, but a method marked with this annotation cannot accept method arguments, then I will not be able to execute a timer request for any user.\r\nHere is my code, please tell me!\r\n\r\n\r\n\r\nWebSocketConfig class\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(final MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n            registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/our-websocket&quot;)\r\n                    .setHandshakeHandler(new UserHandshakeHandler())\r\n                    .withSockJS();\r\n        }\r\n    }\r\n\r\nUserHandshakeHandler class\r\n\r\n    public class UserHandshakeHandler extends DefaultHandshakeHandler {\r\n        private final Logger LOG = LoggerFactory.getLogger(UserHandshakeHandler.class);\r\n    \r\n        @Override\r\n        protected Principal determineUser(ServerHttpRequest request, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) {\r\n    \r\n            final String randomId = UUID.randomUUID().toString();\r\n            LOG.info(&quot;User with ID &#39;{}&#39; opened the page&quot;, randomId);\r\n    \r\n            return new UserPrincipal(randomId);\r\n        }\r\n    }\r\n\r\n\r\n\r\nWSService class\r\n\r\n    @Service\r\n    public class WSService {\r\n    \r\n        private final SimpMessagingTemplate messagingTemplate;\r\n        private final NotificationService notificationService;\r\n    \r\n        @Autowired\r\n        public WSService(SimpMessagingTemplate messagingTemplate, NotificationService notificationService) {\r\n            this.messagingTemplate = messagingTemplate;\r\n            this.notificationService = notificationService;\r\n        }\r\n    \r\n        public void notifyFrontend(final String message) {\r\n            ResponseMessage response = new ResponseMessage(message);\r\n            notificationService.sendGlobalNotification();\r\n    \r\n            messagingTemplate.convertAndSend(&quot;/topic/messages&quot;, response);\r\n        }\r\n    \r\n        public void notifyUser(final String id, final String message) {\r\n            ResponseMessage response = new ResponseMessage(message);\r\n    \r\n            notificationService.sendPrivateNotification(id);\r\n            messagingTemplate.convertAndSendToUser(id, &quot;/topic/private-messages&quot;, response);\r\n        }\r\n    }\r\n\r\n\r\nWSController class\r\n\r\n    @RestController\r\n    public class WSController {\r\n    \r\n        @Autowired\r\n        private WSService service;\r\n    \r\n        @Autowired\r\n        private UsersRepository usersRepository;\r\n    \r\n        @PostMapping(&quot;/send-message&quot;)\r\n        public void sendMessage(@RequestBody final Message message) {\r\n            service.notifyFrontend(message.getMessageContent());\r\n        }\r\n    \r\n        @PostMapping(&quot;/send-private-message/{id}&quot;)\r\n        public void sendPrivateMessage(@PathVariable final String id,\r\n                                       @RequestBody final Message message) {\r\n                service.notifyUser(id, message.getMessageContent());\r\n        }\r\n    \r\n        @Scheduled(fixedDelay = 10000)\r\n        public void sendPrivateMessage() {\r\n            List&lt;Users&gt; list = this.usersRepository.findAll();\r\n            for (Users users: list){\r\n                service.notifyUser(users.getId().toString(), &quot;testString&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nindex.html code\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Hello WS&lt;/title&gt;\r\n        &lt;link href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;script src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/webjars/sockjs-client/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/webjars/stomp-websocket/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/scripts.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div class=&quot;container&quot; style=&quot;margin-top: 50px&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;form class=&quot;form-inline&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;message&quot;&gt;Message&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; id=&quot;message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button id=&quot;send&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot; style=&quot;margin-top: 10px&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;form class=&quot;form-inline&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;private-message&quot;&gt;Private Message&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; id=&quot;private-message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button id=&quot;send-private&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send Private Message&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;table id=&quot;message-history&quot; class=&quot;table table-striped&quot;&gt;\r\n                        &lt;thead&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;th&gt;Messages\r\n                                &lt;span\r\n                                        id=&quot;notifications&quot;\r\n                                        style=&quot;\r\n                                        color: white;\r\n                                        background-color: red;\r\n                                        padding-left: 15px;\r\n                                        padding-right: 15px;&quot;&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/th&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody id=&quot;messages&quot;&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nscript.js code\r\n\r\n    var stompClient = null;\r\n    var notificationCount = 0;\r\n    \r\n    $(document).ready(function() {\r\n        console.log(&quot;Index page is ready&quot;);\r\n        connect();\r\n    \r\n        $(&quot;#send&quot;).click(function() {\r\n            sendMessage();\r\n        });\r\n    \r\n        $(&quot;#send-private&quot;).click(function() {\r\n            sendPrivateMessage();\r\n        });\r\n    \r\n        $(&quot;#notifications&quot;).click(function() {\r\n            resetNotificationCount();\r\n        });\r\n    });\r\n    \r\n    function connect() {\r\n        var socket = new SockJS(&#39;/our-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            updateNotificationDisplay();\r\n            stompClient.subscribe(&#39;/topic/messages&#39;, function (message) {\r\n                showMessage(JSON.parse(message.body).content);\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/user/topic/private-messages&#39;, function (message) {\r\n                showMessage(JSON.parse(message.body).content);\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/topic/global-notifications&#39;, function (message) {\r\n                notificationCount = notificationCount + 1;\r\n                updateNotificationDisplay();\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/user/topic/private-notifications&#39;, function (message) {\r\n                notificationCount = notificationCount + 1;\r\n                updateNotificationDisplay();\r\n            });\r\n        });\r\n    }\r\n    \r\n    function showMessage(message) {\r\n        $(&quot;#messages&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n    }\r\n    \r\n    function sendMessage() {\r\n        console.log(&quot;sending message&quot;);\r\n        stompClient.send(&quot;/ws/message&quot;, {}, JSON.stringify({&#39;messageContent&#39;: $(&quot;#message&quot;).val()}));\r\n    }\r\n    \r\n    function sendPrivateMessage() {\r\n        console.log(&quot;sending private message&quot;);\r\n        stompClient.send(&quot;/ws/private-message&quot;, {}, JSON.stringify({&#39;messageContent&#39;: $(&quot;#private-message&quot;).val()}));\r\n    }\r\n    \r\n    function updateNotificationDisplay() {\r\n        if (notificationCount == 0) {\r\n            $(&#39;#notifications&#39;).hide();\r\n        } else {\r\n            $(&#39;#notifications&#39;).show();\r\n            $(&#39;#notifications&#39;).text(notificationCount);\r\n        }\r\n    }\r\n    \r\n    function resetNotificationCount() {\r\n        notificationCount = 0;\r\n        updateNotificationDisplay();\r\n    }\r\n\r\n","title":"Send message from server to client use Websocket. Java","body":"<p>I hope for your help, I have already looked through everything but have not found an answer. The task is this: I need to send information from my Java application to the client (frontend). The essence of the information is that the user has a password expiration date in the system and I need to send a notification to the user that his password is about to expire. Of course, to do this, I need to make a request to the database for a specific user, calculate how many days he still has left before the password expires. I want to use Websocket for this. I made a config class for training videos and other servers and controllers, but I still didn’t understand how my application should send information to the client. Help! I already thought of using the @Sheduled annotation, but a method marked with this annotation cannot accept method arguments, then I will not be able to execute a timer request for any user.\nHere is my code, please tell me!</p>\n<p>WebSocketConfig class</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(final MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/our-websocket&quot;)\n                .setHandshakeHandler(new UserHandshakeHandler())\n                .withSockJS();\n    }\n}\n</code></pre>\n<p>UserHandshakeHandler class</p>\n<pre><code>public class UserHandshakeHandler extends DefaultHandshakeHandler {\n    private final Logger LOG = LoggerFactory.getLogger(UserHandshakeHandler.class);\n\n    @Override\n    protected Principal determineUser(ServerHttpRequest request, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) {\n\n        final String randomId = UUID.randomUUID().toString();\n        LOG.info(&quot;User with ID '{}' opened the page&quot;, randomId);\n\n        return new UserPrincipal(randomId);\n    }\n}\n</code></pre>\n<p>WSService class</p>\n<pre><code>@Service\npublic class WSService {\n\n    private final SimpMessagingTemplate messagingTemplate;\n    private final NotificationService notificationService;\n\n    @Autowired\n    public WSService(SimpMessagingTemplate messagingTemplate, NotificationService notificationService) {\n        this.messagingTemplate = messagingTemplate;\n        this.notificationService = notificationService;\n    }\n\n    public void notifyFrontend(final String message) {\n        ResponseMessage response = new ResponseMessage(message);\n        notificationService.sendGlobalNotification();\n\n        messagingTemplate.convertAndSend(&quot;/topic/messages&quot;, response);\n    }\n\n    public void notifyUser(final String id, final String message) {\n        ResponseMessage response = new ResponseMessage(message);\n\n        notificationService.sendPrivateNotification(id);\n        messagingTemplate.convertAndSendToUser(id, &quot;/topic/private-messages&quot;, response);\n    }\n}\n</code></pre>\n<p>WSController class</p>\n<pre><code>@RestController\npublic class WSController {\n\n    @Autowired\n    private WSService service;\n\n    @Autowired\n    private UsersRepository usersRepository;\n\n    @PostMapping(&quot;/send-message&quot;)\n    public void sendMessage(@RequestBody final Message message) {\n        service.notifyFrontend(message.getMessageContent());\n    }\n\n    @PostMapping(&quot;/send-private-message/{id}&quot;)\n    public void sendPrivateMessage(@PathVariable final String id,\n                                   @RequestBody final Message message) {\n            service.notifyUser(id, message.getMessageContent());\n    }\n\n    @Scheduled(fixedDelay = 10000)\n    public void sendPrivateMessage() {\n        List&lt;Users&gt; list = this.usersRepository.findAll();\n        for (Users users: list){\n            service.notifyUser(users.getId().toString(), &quot;testString&quot;);\n        }\n    }\n}\n</code></pre>\n<p>index.html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Hello WS&lt;/title&gt;\n    &lt;link href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;script src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/webjars/sockjs-client/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/webjars/stomp-websocket/stomp.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/scripts.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot; style=&quot;margin-top: 50px&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;form class=&quot;form-inline&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;message&quot;&gt;Message&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; id=&quot;message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button id=&quot;send&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot; style=&quot;margin-top: 10px&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;form class=&quot;form-inline&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;private-message&quot;&gt;Private Message&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; id=&quot;private-message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button id=&quot;send-private&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send Private Message&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;table id=&quot;message-history&quot; class=&quot;table table-striped&quot;&gt;\n                    &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Messages\n                            &lt;span\n                                    id=&quot;notifications&quot;\n                                    style=&quot;\n                                    color: white;\n                                    background-color: red;\n                                    padding-left: 15px;\n                                    padding-right: 15px;&quot;&gt;\n                            &lt;/span&gt;\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody id=&quot;messages&quot;&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>script.js code</p>\n<pre><code>var stompClient = null;\nvar notificationCount = 0;\n\n$(document).ready(function() {\n    console.log(&quot;Index page is ready&quot;);\n    connect();\n\n    $(&quot;#send&quot;).click(function() {\n        sendMessage();\n    });\n\n    $(&quot;#send-private&quot;).click(function() {\n        sendPrivateMessage();\n    });\n\n    $(&quot;#notifications&quot;).click(function() {\n        resetNotificationCount();\n    });\n});\n\nfunction connect() {\n    var socket = new SockJS('/our-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        console.log('Connected: ' + frame);\n        updateNotificationDisplay();\n        stompClient.subscribe('/topic/messages', function (message) {\n            showMessage(JSON.parse(message.body).content);\n        });\n\n        stompClient.subscribe('/user/topic/private-messages', function (message) {\n            showMessage(JSON.parse(message.body).content);\n        });\n\n        stompClient.subscribe('/topic/global-notifications', function (message) {\n            notificationCount = notificationCount + 1;\n            updateNotificationDisplay();\n        });\n\n        stompClient.subscribe('/user/topic/private-notifications', function (message) {\n            notificationCount = notificationCount + 1;\n            updateNotificationDisplay();\n        });\n    });\n}\n\nfunction showMessage(message) {\n    $(&quot;#messages&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n}\n\nfunction sendMessage() {\n    console.log(&quot;sending message&quot;);\n    stompClient.send(&quot;/ws/message&quot;, {}, JSON.stringify({'messageContent': $(&quot;#message&quot;).val()}));\n}\n\nfunction sendPrivateMessage() {\n    console.log(&quot;sending private message&quot;);\n    stompClient.send(&quot;/ws/private-message&quot;, {}, JSON.stringify({'messageContent': $(&quot;#private-message&quot;).val()}));\n}\n\nfunction updateNotificationDisplay() {\n    if (notificationCount == 0) {\n        $('#notifications').hide();\n    } else {\n        $('#notifications').show();\n        $('#notifications').text(notificationCount);\n    }\n}\n\nfunction resetNotificationCount() {\n    notificationCount = 0;\n    updateNotificationDisplay();\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1701696803,"post_id":77599763,"comment_id":136804002,"body_markdown":"A servlet is nothing more then a java class that extends `HttpServlet`.","body":"A servlet is nothing more then a java class that extends <code>HttpServlet</code>."}],"owner":{"account_id":30062813,"reputation":9,"user_id":23038578,"display_name":"Vũ Trần"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701700603,"answer_count":0,"score":0,"last_activity_date":1701696848,"creation_date":1701696199,"question_id":77599763,"body_markdown":"How can I create and select a servlet in IntelliJ IDEA? I&#39;m creating a Jakarta EE project, clicking on Java, and creating a new file, but I can&#39;t find the option to create a servlet.\r\n\r\nI can create it manually, but that takes quite a while.","title":"How can I create and select a servlet in IntelliJ IDEA?","body":"<p>How can I create and select a servlet in IntelliJ IDEA? I'm creating a Jakarta EE project, clicking on Java, and creating a new file, but I can't find the option to create a servlet.</p>\n<p>I can create it manually, but that takes quite a while.</p>\n"},{"tags":["java","spring","spring-boot","http","spring-security"],"comments":[{"owner":{"account_id":25296938,"reputation":85,"user_id":19121922,"display_name":"Phi Tiet"},"score":0,"creation_date":1701698808,"post_id":77599830,"comment_id":136804436,"body_markdown":"@Gilles this is a great link, I already had the Advice set to what is shown in the post. What was missing was : \n\n```spring.mvc.static-path-pattern: /static.```","body":"@Gilles this is a great link, I already had the Advice set to what is shown in the post. What was missing was :   <code>spring.mvc.static-path-pattern: &#47;static.</code>"}],"owner":{"account_id":25296938,"reputation":85,"user_id":19121922,"display_name":"Phi Tiet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701706802,"answer_count":0,"score":1,"last_activity_date":1701696820,"creation_date":1701696820,"question_id":77599830,"body_markdown":"In my spring security setup using Java 21 &amp; SB 3.2, I&#39;ve configured spring security to permit all requests matching &quot;/hello/**&quot;\r\n\r\nThis works when i&#39;m accessing an existing endpoint, but for endpoints where I expect a 404 (non-existing ones) I get a 401. When I change\r\n\r\n```anyRequest().authenticated())```\r\n\r\nInto:\r\n\r\n```anyRequest().permitAll())```\r\n\r\nI get the 404 I want, suggesting that the matching is not working, how do I circumvent this?\r\n\r\nSecurityConfig:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        var anonymousRequestMatcher = new OrRequestMatcher(\r\n                requestMatcher(&quot;/hello/**&quot;),\r\n                requestMatcher(&quot;/anonymous/**&quot;)\r\n        );\r\n\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorization -&gt;\r\n                        authorization\r\n                                .requestMatchers(anonymousRequestMatcher).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .exceptionHandling(exceptionHandling -&gt;\r\n                        exceptionHandling\r\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(UNAUTHORIZED))) // 401 for unauthenticated\r\n                .build();\r\n\r\n    }\r\n\r\n    private AntPathRequestMatcher requestMatcher(String pattern) {\r\n        return new AntPathRequestMatcher(pattern);\r\n    }\r\n}\r\n```\r\n\r\nSimple Controller:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class HelloController {\r\n\r\n    @GetMapping\r\n    public String hello(){\r\n        return &quot;hello world&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith no authentication/authorization getting the default &quot;/hello&quot; path gives me a 200 with &quot;hello world&quot;. However, &quot;hello/123&quot; results in a 401.\r\n\r\n","title":"Spring security 401 when expecting 404","body":"<p>In my spring security setup using Java 21 &amp; SB 3.2, I've configured spring security to permit all requests matching &quot;/hello/**&quot;</p>\n<p>This works when i'm accessing an existing endpoint, but for endpoints where I expect a 404 (non-existing ones) I get a 401. When I change</p>\n<p><code>anyRequest().authenticated())</code></p>\n<p>Into:</p>\n<p><code>anyRequest().permitAll())</code></p>\n<p>I get the 404 I want, suggesting that the matching is not working, how do I circumvent this?</p>\n<p>SecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        var anonymousRequestMatcher = new OrRequestMatcher(\n                requestMatcher(&quot;/hello/**&quot;),\n                requestMatcher(&quot;/anonymous/**&quot;)\n        );\n\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorization -&gt;\n                        authorization\n                                .requestMatchers(anonymousRequestMatcher).permitAll()\n                                .anyRequest().authenticated())\n                .exceptionHandling(exceptionHandling -&gt;\n                        exceptionHandling\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(UNAUTHORIZED))) // 401 for unauthenticated\n                .build();\n\n    }\n\n    private AntPathRequestMatcher requestMatcher(String pattern) {\n        return new AntPathRequestMatcher(pattern);\n    }\n}\n</code></pre>\n<p>Simple Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class HelloController {\n\n    @GetMapping\n    public String hello(){\n        return &quot;hello world&quot;;\n    }\n\n}\n</code></pre>\n<p>With no authentication/authorization getting the default &quot;/hello&quot; path gives me a 200 with &quot;hello world&quot;. However, &quot;hello/123&quot; results in a 401.</p>\n"},{"tags":["java","regex","ascii","lexical-analysis"],"comments":[{"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1296784284,"post_id":4893759,"comment_id":5445699,"body_markdown":"That doesn’t make sense to me.  Is there a backslash there? Are these real control characters, or some ASCII sequence implying the same?  Why go \\c@ .. \\cZ only?  There are others, you know.","body":"That doesn’t make sense to me.  Is there a backslash there? Are these real control characters, or some ASCII sequence implying the same?  Why go \\c@ .. \\cZ only?  There are others, you know."},{"owner":{"account_id":78982,"reputation":58999,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1296784294,"post_id":4893759,"comment_id":5445701,"body_markdown":"Why are you putting the caret in a character class anyway?","body":"Why are you putting the caret in a character class anyway?"},{"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"score":0,"creation_date":1296784693,"post_id":4893759,"comment_id":5445768,"body_markdown":"I&#39;m trying to match the literal text for the control characters, not the control characters themselves.","body":"I&#39;m trying to match the literal text for the control characters, not the control characters themselves."},{"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1296784799,"post_id":4893759,"comment_id":5445782,"body_markdown":"Control-X is defined as the character whose code point is the  result of `^-ing` the code point of `X` with the code point of `@`; that is, bit 0x40.","body":"Control-X is defined as the character whose code point is the  result of <code>^-ing</code> the code point of <code>X</code> with the code point of <code>@</code>; that is, bit 0x40."}],"answers":[{"tags":[],"owner":{"account_id":216196,"reputation":79143,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1296785344,"creation_date":1296784190,"answer_id":4893779,"question_id":4893759,"body_markdown":"Match an ASCII text string of the form `^X` using the pattern `\\^.`, nothing more.  Match an ASCII text string of the form `\\^X` with the pattern `\\\\\\^.`.  You may wish to constrain that dot to `[?@_\\[\\]^\\\\]`, so `\\\\\\^[A-Z?@_\\[\\]^\\\\]`.  It’s easier to read as `[?\\x40-\\x5F]` for the bracketed character class, hence `\\\\\\^[?\\x40-\\x5F]` for a literal BACKSLASH, followed by a literal CIRCUMFLEX, followed by something that turns into one of the valid control characters.\r\n\r\nNote that that is the result of printing out the pattern, or what you’d read from a file. It’s what you need to pass to the regex compiler.  If you have it as a string literal, you must of course double each of those backslashes. ``\\\\\\\\\\\\^[?\\\\x40-\\\\x5F]&quot;` Yes, it is insane looking, but that is because Java does not support regexes directly as Groovy and Scala — or Perl and Ruby — do.  Regex work is always easier without the extra bbaacckksslllllaasshheesssssess. :)\r\n\r\nIf you had real control characters instead of indirect representations of them, you would use `\\pC` for all literal code points with the property GC=Other, or `\\p{Cc}` for just GC=Control.","title":"What is a regular expression for control characters?","body":"<p>Match an ASCII text string of the form <code>^X</code> using the pattern <code>\\^.</code>, nothing more.  Match an ASCII text string of the form <code>\\^X</code> with the pattern <code>\\\\\\^.</code>.  You may wish to constrain that dot to <code>[?@_\\[\\]^\\\\]</code>, so <code>\\\\\\^[A-Z?@_\\[\\]^\\\\]</code>.  It’s easier to read as <code>[?\\x40-\\x5F]</code> for the bracketed character class, hence <code>\\\\\\^[?\\x40-\\x5F]</code> for a literal BACKSLASH, followed by a literal CIRCUMFLEX, followed by something that turns into one of the valid control characters.</p>\n\n<p>Note that that is the result of printing out the pattern, or what you’d read from a file. It’s what you need to pass to the regex compiler.  If you have it as a string literal, you must of course double each of those backslashes. <code>`\\\\\\\\\\\\^[?\\\\x40-\\\\x5F]\"</code> Yes, it is insane looking, but that is because Java does not support regexes directly as Groovy and Scala — or Perl and Ruby — do.  Regex work is always easier without the extra bbaacckksslllllaasshheesssssess. :)</p>\n\n<p>If you had real control characters instead of indirect representations of them, you would use <code>\\pC</code> for all literal code points with the property GC=Other, or <code>\\p{Cc}</code> for just GC=Control.</p>\n"},{"tags":[],"owner":{"account_id":33407,"reputation":876,"user_id":93508,"display_name":"gbvb"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1701696696,"creation_date":1296784390,"answer_id":4893791,"question_id":4893759,"body_markdown":"Check this out: https://www.regular-expressions.info/nonprint.html . You should be able to use \\cA to \\cZ to find the control characters.. ","title":"What is a regular expression for control characters?","body":"<p>Check this out: <a href=\"https://www.regular-expressions.info/nonprint.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/nonprint.html</a> . You should be able to use \\cA to \\cZ to find the control characters..</p>\n"}],"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29814,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":4893779,"answer_count":2,"score":12,"last_activity_date":1701696696,"creation_date":1296783980,"question_id":4893759,"body_markdown":"I&#39;m trying to match a control character in the form \\^c where c is any valid character for control characters. I have this regular expression, but it&#39;s not currently working: `\\\\[^][@-z]`\r\n\r\nI think the problem lies with the fact that the caret character (^) is part of the regular expressions parsing engine.","title":"What is a regular expression for control characters?","body":"<p>I'm trying to match a control character in the form \\^c where c is any valid character for control characters. I have this regular expression, but it's not currently working: <code>\\\\[^][@-z]</code></p>\n\n<p>I think the problem lies with the fact that the caret character (^) is part of the regular expressions parsing engine.</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"score":6,"creation_date":1368223922,"post_id":16491482,"comment_id":23669167,"body_markdown":"Have you tried recursion?","body":"Have you tried recursion?"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1368224107,"post_id":16491482,"comment_id":23669230,"body_markdown":"DO you have any CODE we can work with?","body":"DO you have any CODE we can work with?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224345,"post_id":16491482,"comment_id":23669305,"body_markdown":"@Tdorno   void printReverse() {\n    Node&lt;E&gt; temp = list;\n    if (temp.getNext() == null) { \n      System.out.println(temp.getInfo());\n    }\n    printReverse(temp.getNext());\n  }\n}","body":"@Tdorno   void printReverse() {     Node&lt;E&gt; temp = list;     if (temp.getNext() == null) {        System.out.println(temp.getInfo());     }     printReverse(temp.getNext());   } }"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":1,"creation_date":1368224483,"post_id":16491482,"comment_id":23669358,"body_markdown":"@user2272227 but by definition, shouldn&#39;t getNext()==null always be false if it&#39;s a circular linked list?","body":"@user2272227 but by definition, shouldn&#39;t getNext()==null always be false if it&#39;s a circular linked list?"},{"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"score":0,"creation_date":1368224544,"post_id":16491482,"comment_id":23669378,"body_markdown":"@user2272227 How are you choosing the start of the list?","body":"@user2272227 How are you choosing the start of the list?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224710,"post_id":16491482,"comment_id":23669434,"body_markdown":"@rob the list is always instanciated   Node&lt;E&gt; list; which is pointing to the first node.","body":"@rob the list is always instanciated   Node&lt;E&gt; list; which is pointing to the first node."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224742,"post_id":16491482,"comment_id":23669441,"body_markdown":"@FDinoff   Node&lt;E&gt; list; the name of the node at the start is called list.","body":"@FDinoff   Node&lt;E&gt; list; the name of the node at the start is called list."},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368224908,"post_id":16491482,"comment_id":23669487,"body_markdown":"@user2272227 right, but the last node in a circular list points to the first node (otherwise it wouldn&#39;t be circular), so getNext() should always return a non-null value as long as the list contains at least one element.","body":"@user2272227 right, but the last node in a circular list points to the first node (otherwise it wouldn&#39;t be circular), so getNext() should always return a non-null value as long as the list contains at least one element."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224950,"post_id":16491482,"comment_id":23669502,"body_markdown":"@rob exactly, its circular.","body":"@rob exactly, its circular."},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368225017,"post_id":16491482,"comment_id":23669523,"body_markdown":"And now we&#39;ve come full-circle (pun intended).  temp.getNext() should never return null, so you can&#39;t test for that.","body":"And now we&#39;ve come full-circle (pun intended).  temp.getNext() should never return null, so you can&#39;t test for that."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225053,"post_id":16491482,"comment_id":23669537,"body_markdown":"@rob so how would this be solved?","body":"@rob so how would this be solved?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225157,"post_id":16491482,"comment_id":23669562,"body_markdown":"Can the list be modified?","body":"Can the list be modified?"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368225201,"post_id":16491482,"comment_id":23669573,"body_markdown":"You can recursion and test for temp.getNext() == start instead (or, rather, temp.getNext() != start), as Harold mentioned in his answer/comment, and as Marvo answered in his solution.","body":"You can recursion and test for temp.getNext() == start instead (or, rather, temp.getNext() != start), as Harold mentioned in his answer/comment, and as Marvo answered in his solution."},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225355,"post_id":16491482,"comment_id":23669624,"body_markdown":"You don&#39;t absolutely need to use recursion.  You could also put every entry on a stack, and test each node against the first entry in the stack.  Then when you&#39;re done populating the stack, you&#39;d pop off each entry and print it until the stack is empty.  It&#39;d probably use less memory than recursion, and it would use heap rather than the program&#39;s stack, so it might be better.  But for crazy long lists, it&#39;d be a problem.  Reversing the links during print is another way and would use less memory, but that assumes nobody else needs to use the list at the time you&#39;re printing.","body":"You don&#39;t absolutely need to use recursion.  You could also put every entry on a stack, and test each node against the first entry in the stack.  Then when you&#39;re done populating the stack, you&#39;d pop off each entry and print it until the stack is empty.  It&#39;d probably use less memory than recursion, and it would use heap rather than the program&#39;s stack, so it might be better.  But for crazy long lists, it&#39;d be a problem.  Reversing the links during print is another way and would use less memory, but that assumes nobody else needs to use the list at the time you&#39;re printing."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225652,"post_id":16491482,"comment_id":23669691,"body_markdown":"@Marvo marvo, you gave me a lovely solution down, if it was to be done using the stack way? would you have time to right the code for me to test and see how it works? If not, it&#39;s alright. you&#39;ve done a lot!","body":"@Marvo marvo, you gave me a lovely solution down, if it was to be done using the stack way? would you have time to right the code for me to test and see how it works? If not, it&#39;s alright. you&#39;ve done a lot!"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368226299,"post_id":16491482,"comment_id":23669900,"body_markdown":"Stack approach has been added as another answer.","body":"Stack approach has been added as another answer."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1701707839,"post_id":16491482,"comment_id":136806374,"body_markdown":"You could reverse the list, then print the list while undoing the reverse, similar to the C++ code in [this answer](https://stackoverflow.com/a/77574724/3282056), but checking getting back to the head node instead of null.","body":"You could reverse the list, then print the list while undoing the reverse, similar to the C++ code in <a href=\"https://stackoverflow.com/a/77574724/3282056\">this answer</a>, but checking getting back to the head node instead of null."}],"answers":[{"tags":[],"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368224126,"creation_date":1368224126,"answer_id":16491546,"question_id":16491482,"body_markdown":"In the base case (start node is equal to next node), print the current node. Otherwise, recurse on the next node and then print the current node.\r\n\r\nNote this uses linear space because of the stack, but this is optimal since you have no back pointers.","title":"Printing reversely a circular single linked list","body":"<p>In the base case (start node is equal to next node), print the current node. Otherwise, recurse on the next node and then print the current node.</p>\n\n<p>Note this uses linear space because of the stack, but this is optimal since you have no back pointers.</p>\n"},{"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368225685,"creation_date":1368224802,"answer_id":16491660,"question_id":16491482,"body_markdown":"How about:\r\n\r\n    class Node {\r\n        int data;\r\n        Node next;\r\n        public Node getNode() ...\r\n        public String toString() ...\r\n    }\r\n    \r\n    public class CircularList {\r\n    \r\n        private Node list;\r\n    \r\n        public void printReverse() {\r\n            final Node head = this.list;\r\n            printReverseRecurse(list, head);\r\n            System.out.println(list.toString());\r\n        }\r\n    \r\n        private void printReverseRecurse(Node node, Node head) {\r\n            if (node != head) {\r\n                printReverseRecurse(node.getNext(), head);\r\n                System.out.print(node.toString());\r\n            }\r\n        }\r\n    }\r\n          \r\nAfter editing, I forgot to pass the `head` reference to the private method.  ","title":"Printing reversely a circular single linked list","body":"<p>How about:</p>\n\n<pre><code>class Node {\n    int data;\n    Node next;\n    public Node getNode() ...\n    public String toString() ...\n}\n\npublic class CircularList {\n\n    private Node list;\n\n    public void printReverse() {\n        final Node head = this.list;\n        printReverseRecurse(list, head);\n        System.out.println(list.toString());\n    }\n\n    private void printReverseRecurse(Node node, Node head) {\n        if (node != head) {\n            printReverseRecurse(node.getNext(), head);\n            System.out.print(node.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>After editing, I forgot to pass the <code>head</code> reference to the private method.  </p>\n"},{"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368228008,"creation_date":1368226152,"answer_id":16491877,"question_id":16491482,"body_markdown":"Here&#39;s a non-recursive approach using a stack on the heap instead of the program stack.  Should use less memory than the recursive approach.\r\n\r\n    class Node { \r\n        private int data;\r\n        private Node next;\r\n        public Node getNode() { ... }\r\n        public String toString() { ... }\r\n    }\r\n    \r\n    public class CircularList {\r\n    \r\n        private Node list;\r\n    \r\n        public reversePrint() {\r\n            Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\r\n    \r\n            // First, put all the entries in the stack\r\n            Node node = list;\r\n            do {\r\n                stack.push(node);\r\n                node = node.getNext();\r\n            } while (node != list);\r\n    \r\n            while (!stack.empty()) {\r\n                System.out.print(stack.pop());\r\n            }\r\n        }\r\n    \r\n    }","title":"Printing reversely a circular single linked list","body":"<p>Here's a non-recursive approach using a stack on the heap instead of the program stack.  Should use less memory than the recursive approach.</p>\n\n<pre><code>class Node { \n    private int data;\n    private Node next;\n    public Node getNode() { ... }\n    public String toString() { ... }\n}\n\npublic class CircularList {\n\n    private Node list;\n\n    public reversePrint() {\n        Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\n\n        // First, put all the entries in the stack\n        Node node = list;\n        do {\n            stack.push(node);\n            node = node.getNext();\n        } while (node != list);\n\n        while (!stack.empty()) {\n            System.out.print(stack.pop());\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368401736,"creation_date":1368228555,"answer_id":16492176,"question_id":16491482,"body_markdown":"Here&#39;s a possible solution using recursion, the printing method doesn&#39;t receive any parameters:\r\n\r\n    public class ReversePrinter {\r\n    \r\n        private Node&lt;?&gt; head;\r\n        private Node&lt;?&gt; current;\r\n        private boolean first = true;\r\n    \r\n        public ReversePrinter(Node&lt;?&gt; head) {\r\n            this.head = head;\r\n            this.current = head;\r\n        }\r\n    \r\n        public void printReverse() {\r\n\r\n            if (current == null) {\r\n                return;\r\n            } else if (current == head) {\r\n        \t\tif (!first) return;\r\n        \t\tfirst = false;\r\n        \t}\r\n    \r\n            Node&lt;?&gt; previous = current;\r\n            current = current.getNext();\r\n            printReverse();\r\n            System.out.println(previous.getInfo());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nUse it like this:\r\n\r\n    ReversePrinter printer = new ReversePrinter(nodeHeadOfList);\r\n    printer.printReverse();\r\n\r\nFor the example in the question, it will print on the console:\r\n\r\n    3\r\n    2\r\n    1","title":"Printing reversely a circular single linked list","body":"<p>Here's a possible solution using recursion, the printing method doesn't receive any parameters:</p>\n\n<pre><code>public class ReversePrinter {\n\n    private Node&lt;?&gt; head;\n    private Node&lt;?&gt; current;\n    private boolean first = true;\n\n    public ReversePrinter(Node&lt;?&gt; head) {\n        this.head = head;\n        this.current = head;\n    }\n\n    public void printReverse() {\n\n        if (current == null) {\n            return;\n        } else if (current == head) {\n            if (!first) return;\n            first = false;\n        }\n\n        Node&lt;?&gt; previous = current;\n        current = current.getNext();\n        printReverse();\n        System.out.println(previous.getInfo());\n\n    }\n\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>ReversePrinter printer = new ReversePrinter(nodeHeadOfList);\nprinter.printReverse();\n</code></pre>\n\n<p>For the example in the question, it will print on the console:</p>\n\n<pre><code>3\n2\n1\n</code></pre>\n"}],"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1368232428,"answer_count":4,"score":2,"last_activity_date":1701696562,"creation_date":1368223868,"question_id":16491482,"body_markdown":"I am practicing questions randomly from my textbook and i came over this question and was not able to get it done.\r\n\r\nHow can I print a circular single linked list in reverse order? For example : If the list has elements: 1 2 3 , It should print them 3 2 1\r\n\r\nNote it&#39;s a circular linked list and no parameters should be in the method.\r\n\r\nThank you!\r\n","title":"Printing reversely a circular single linked list","body":"<p>I am practicing questions randomly from my textbook and i came over this question and was not able to get it done.</p>\n\n<p>How can I print a circular single linked list in reverse order? For example : If the list has elements: 1 2 3 , It should print them 3 2 1</p>\n\n<p>Note it's a circular linked list and no parameters should be in the method.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":17000499,"reputation":48387,"user_id":12299000,"display_name":"kaya3"},"score":3,"creation_date":1583087533,"post_id":60478226,"comment_id":106990003,"body_markdown":"Why throw `UnsupportedOperationException` when the task says you should throw `IllegalArgumentException`?","body":"Why throw <code>UnsupportedOperationException</code> when the task says you should throw <code>IllegalArgumentException</code>?"},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1583135657,"post_id":60478226,"comment_id":107000610,"body_markdown":"The best exception here would be the ArrayIndexOutOfBoundsException https://docs.oracle.com/javase/9/docs/api/java/lang/ArrayIndexOutOfBoundsException.html","body":"The best exception here would be the ArrayIndexOutOfBoundsException <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/lang/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583146387,"creation_date":1583086528,"answer_id":60478265,"question_id":60478226,"body_markdown":"You can simplify the first check writing this at the start, before the loop:\r\n\r\n    if (head == null || size &lt; 0) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\nAnd inside the loop you have to check if you fell outside the list:\r\n\r\n    if (n == null) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\nFinally, after the loop you have to return the actual element you found:\r\n\r\n    return n.getItem();\r\n\r\nAlso notice that `size` and `n` are confusing names for your variables, you&#39;d be better off calling them `index` and `current`. Here&#39;s how the code should look like, taking into account all my recommendations:\r\n\r\n    public Item get(int index) {\r\n    \r\n        if (head == null || index &lt; 0) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        Node current = head;\r\n\r\n        for (int i = 0; i &lt; index; i++) {\r\n            if (current == null) {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n            current = current.next();\r\n        }\r\n    \r\n        return current.getItem();\r\n    \r\n    }","title":"Linked Lists and Throwing an Exception","body":"<p>You can simplify the first check writing this at the start, before the loop:</p>\n\n<pre><code>if (head == null || size &lt; 0) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>And inside the loop you have to check if you fell outside the list:</p>\n\n<pre><code>if (n == null) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>Finally, after the loop you have to return the actual element you found:</p>\n\n<pre><code>return n.getItem();\n</code></pre>\n\n<p>Also notice that <code>size</code> and <code>n</code> are confusing names for your variables, you'd be better off calling them <code>index</code> and <code>current</code>. Here's how the code should look like, taking into account all my recommendations:</p>\n\n<pre><code>public Item get(int index) {\n\n    if (head == null || index &lt; 0) {\n        throw new UnsupportedOperationException();\n    }\n\n    Node current = head;\n\n    for (int i = 0; i &lt; index; i++) {\n        if (current == null) {\n            throw new UnsupportedOperationException();\n        }\n        current = current.next();\n    }\n\n    return current.getItem();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583243220,"creation_date":1583087343,"answer_id":60478396,"question_id":60478226,"body_markdown":"Your code should look something like this:\r\n\r\n    public Item get(int size){\r\n       if(head == null || size &lt; 0){\r\n          throw new UnsupportedOperationException();\r\n       }\r\n       else{\r\n          Node n = head;\r\n          for(int i=0; i &lt;=size;i++){\r\n             if(n == null){\r\n                throw new UnsupportedOperationException();\r\n             }\r\n             if(i != 0){\r\n                n = n.next();\r\n             }\r\n          }\r\n          return n.getItem();\r\n       }\r\n     return null;  \r\n    }","title":"Linked Lists and Throwing an Exception","body":"<p>Your code should look something like this:</p>\n\n<pre><code>public Item get(int size){\n   if(head == null || size &lt; 0){\n      throw new UnsupportedOperationException();\n   }\n   else{\n      Node n = head;\n      for(int i=0; i &lt;=size;i++){\n         if(n == null){\n            throw new UnsupportedOperationException();\n         }\n         if(i != 0){\n            n = n.next();\n         }\n      }\n      return n.getItem();\n   }\n return null;  \n}\n</code></pre>\n"}],"owner":{"account_id":17880542,"reputation":1,"user_id":12989454,"display_name":"Hanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701696529,"creation_date":1583086239,"question_id":60478226,"body_markdown":"My question is about implementing a method `get(int n)` which should return the element at index n (indexing starts with 0). If the index is out of bounds, the exception `IllegalArgumentException` should be thrown.\r\nThis is the code I wrote, is it correct or should I change something?\r\n\r\n(int size) for an array list\r\n\r\n```java\r\npublic Item get(int size) {\r\n     \tNode&lt;Item&gt; n= head;\r\n        for (int i=0; i&lt;=size;i++)\r\n            n=n.next;\r\n \r\n        if ( size &lt; 0 ) { throw new UnsupportedOperationException();} \t\t\r\n        return null;*\r\n```","title":"Linked Lists and Throwing an Exception","body":"<p>My question is about implementing a method <code>get(int n)</code> which should return the element at index n (indexing starts with 0). If the index is out of bounds, the exception <code>IllegalArgumentException</code> should be thrown.\nThis is the code I wrote, is it correct or should I change something?</p>\n\n<p>(int size) for an array list</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Item get(int size) {\n        Node&lt;Item&gt; n= head;\n        for (int i=0; i&lt;=size;i++)\n            n=n.next;\n\n        if ( size &lt; 0 ) { throw new UnsupportedOperationException();}       \n        return null;*\n</code></pre>\n"},{"tags":["java","angular","hibernate","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530264904,"creation_date":1530263759,"answer_id":51098300,"question_id":51097962,"body_markdown":"You need pagination support then add the parameter `Pageable pageable`\r\n\r\n        @CrossOrigin(maxAge = 3600)\r\n        @RequestMapping(value = &quot;/payment/all&quot;, method = RequestMethod.POST)\r\n        public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(Pageable pageable){\r\n            try {\r\n                System.out.println(pag.getPageno()+ &quot; &quot; + pag.getRecords());\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            //NO pageable object need to be manually constructed\r\n            return notaryPaymentRepository.findAll(pageable).getContent();\r\n        }\r\n\r\n\r\nand URL can now have extra query params like **/payment/all?page=2&amp;size=10**\r\n\r\nIf you use Spring data REST, then you will have HATEOAS support which will give you more information about how many total counts are there and what page you are in etc., But the response would be of HAL format.\r\n**Reference:** https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>You need pagination support then add the parameter <code>Pageable pageable</code></p>\n\n<pre><code>    @CrossOrigin(maxAge = 3600)\n    @RequestMapping(value = \"/payment/all\", method = RequestMethod.POST)\n    public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(Pageable pageable){\n        try {\n            System.out.println(pag.getPageno()+ \" \" + pag.getRecords());\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        //NO pageable object need to be manually constructed\n        return notaryPaymentRepository.findAll(pageable).getContent();\n    }\n</code></pre>\n\n<p>and URL can now have extra query params like <strong>/payment/all?page=2&amp;size=10</strong></p>\n\n<p>If you use Spring data REST, then you will have HATEOAS support which will give you more information about how many total counts are there and what page you are in etc., But the response would be of HAL format.\n<strong>Reference:</strong> <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting</a></p>\n"},{"tags":[],"owner":{"account_id":5783705,"reputation":211,"user_id":9306190,"display_name":"Deep Sodhi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530266610,"creation_date":1530265922,"answer_id":51099001,"question_id":51097962,"body_markdown":"You can get the response of your query in Page&lt;T&gt; class obj which extends the Slice&lt;T&gt; class and has all the methods you would need.\r\n\r\n    Pageable pageable = new PageRequest(pageNo, PAGE_SIZE);\r\n\r\nThe pageNo and PAGE_SIZE needs to be sent from the client\r\n\r\n    @Query(value = &quot;SELECT h FROM {NameOfYourModelClass} h&quot;)\r\n    Page&lt;HorseWatch&gt; getPaginatedModel(Pageable pageable);\r\n\r\nCall this method from your service class and retrieve it in a Page object\r\n\r\nYou can get the page content, page number and total number of pages using (using **getContent()**,**getNumber()**,**getTotalPages()** from the object )\r\n\r\n\r\nSave these values in your response class and send this class back to the client \r\n\r\n    public class PageResponse {\r\n        private List&lt;{NameOfModelClass}&gt; content;\r\n        private int currentPage;\r\n        private int totalPages;\r\n    }\r\n\r\n","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>You can get the response of your query in Page class obj which extends the Slice class and has all the methods you would need.</p>\n\n<pre><code>Pageable pageable = new PageRequest(pageNo, PAGE_SIZE);\n</code></pre>\n\n<p>The pageNo and PAGE_SIZE needs to be sent from the client</p>\n\n<pre><code>@Query(value = \"SELECT h FROM {NameOfYourModelClass} h\")\nPage&lt;HorseWatch&gt; getPaginatedModel(Pageable pageable);\n</code></pre>\n\n<p>Call this method from your service class and retrieve it in a Page object</p>\n\n<p>You can get the page content, page number and total number of pages using (using <strong>getContent()</strong>,<strong>getNumber()</strong>,<strong>getTotalPages()</strong> from the object )</p>\n\n<p>Save these values in your response class and send this class back to the client </p>\n\n<pre><code>public class PageResponse {\n    private List&lt;{NameOfModelClass}&gt; content;\n    private int currentPage;\n    private int totalPages;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23257203,"reputation":49,"user_id":17344072,"display_name":"M. Muhammadsodiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701696072,"creation_date":1701696072,"answer_id":77599754,"question_id":51097962,"body_markdown":"Maybe it is too late to answer but here is how I do.\r\n\r\n***Repository***\r\n\r\n    Page&lt;Student&gt; findAll(Pageable pageable)\r\n\r\n***Service***\r\n\r\n    Pageable pageable = PageRequest.of(filter.getPage(), filter.getSize());\r\n    Page&lt;Student&gt; all = studentRepository.findAll(pageable);\r\n\r\n    int size = all.getSize();\r\n    long totalElements = all.getTotalElements();\r\n    int totalPages = all.getTotalPages();\r\n    List&lt;Student&gt; content = all.getContent();\r\n\r\n***Imports***\r\n\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    \r\nMaybe it not a direct answer but for someone it is useful)","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>Maybe it is too late to answer but here is how I do.</p>\n<p><em><strong>Repository</strong></em></p>\n<pre><code>Page&lt;Student&gt; findAll(Pageable pageable)\n</code></pre>\n<p><em><strong>Service</strong></em></p>\n<pre><code>Pageable pageable = PageRequest.of(filter.getPage(), filter.getSize());\nPage&lt;Student&gt; all = studentRepository.findAll(pageable);\n\nint size = all.getSize();\nlong totalElements = all.getTotalElements();\nint totalPages = all.getTotalPages();\nList&lt;Student&gt; content = all.getContent();\n</code></pre>\n<p><em><strong>Imports</strong></em></p>\n<pre><code>import org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\n</code></pre>\n<p>Maybe it not a direct answer but for someone it is useful)</p>\n"}],"owner":{"account_id":1835772,"reputation":651,"user_id":1666213,"display_name":"MehmanBashirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4404,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51099001,"answer_count":3,"score":3,"last_activity_date":1701696072,"creation_date":1530262670,"question_id":51097962,"body_markdown":"I need your advice for paginations.\r\n\r\nMy table data is very long.Therefor I use pagination and every pag action İ call data from database&lt;br/&gt;\r\nI have a rest method in spring-boot application.&lt;br/&gt;\r\nThis method could get data from database and everthing is ok.&lt;br/&gt;\r\nI need pag count(all count of my data/ perPage count).&lt;br/&gt;\r\nI can find this count from db.&lt;br/&gt;\r\nI must write two seperate method for allCount and the below method?&lt;br/&gt;\r\n \r\nHow can I use ideal way for pagination in Spring boot?\r\n \r\n\r\n      @CrossOrigin(maxAge = 3600)\r\n        @RequestMapping(value = &quot;/payment/all&quot;, method = RequestMethod.POST)\r\n        public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag){\r\n            try {\r\n                System.out.println(pag.getPageno()+ &quot; &quot; + pag.getRecords());\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Pageable pageable = new PageRequest(pag.getPageno(), pag.getRecords());\r\n            System.out.println(&quot;here&quot;+notaryPaymentRepository.findAll(pageable).getContent().size());\r\n            return notaryPaymentRepository.findAll(pageable).getContent();\r\n        }\r\n\r\n\r\n\r\n\r\n    public interface NotaryPaymentRepository  extends JpaRepository&lt;NotaryPaymentInformationEntity,Integer&gt;{\r\n    \r\n    \r\n    }\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KJ6VQ.png","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>I need your advice for paginations.</p>\n\n<p>My table data is very long.Therefor I use pagination and every pag action İ call data from database<br/>\nI have a rest method in spring-boot application.<br/>\nThis method could get data from database and everthing is ok.<br/>\nI need pag count(all count of my data/ perPage count).<br/>\nI can find this count from db.<br/>\nI must write two seperate method for allCount and the below method?<br/></p>\n\n<p>How can I use ideal way for pagination in Spring boot?</p>\n\n<pre><code>  @CrossOrigin(maxAge = 3600)\n    @RequestMapping(value = \"/payment/all\", method = RequestMethod.POST)\n    public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag){\n        try {\n            System.out.println(pag.getPageno()+ \" \" + pag.getRecords());\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        Pageable pageable = new PageRequest(pag.getPageno(), pag.getRecords());\n        System.out.println(\"here\"+notaryPaymentRepository.findAll(pageable).getContent().size());\n        return notaryPaymentRepository.findAll(pageable).getContent();\n    }\n\n\n\n\npublic interface NotaryPaymentRepository  extends JpaRepository&lt;NotaryPaymentInformationEntity,Integer&gt;{\n\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KJ6VQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJ6VQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162713,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701696068,"creation_date":1701696068,"answer_id":77599751,"question_id":77599532,"body_markdown":"Looking into the [function which loads the properties][1]:\r\n\r\n    public static void loadJMeterProperties(String file) {\r\n        Properties p = new Properties(System.getProperties());\r\n        try (InputStream is = new FileInputStream(new File(file))) {\r\n            p.load(is);\r\n        } catch (IOException e) {\r\n            try (InputStream is = ClassLoader.getSystemResourceAsStream(\r\n                        &quot;org/apache/jmeter/jmeter.properties&quot;)) { // $NON-NLS-1$\r\n                if (is == null) {\r\n                    throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\r\n                }\r\n                p.load(is);\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\r\n            }\r\n        }\r\n        appProperties = p;\r\n    }\r\n\r\nyou&#39;re getting an [IOException][2] so the file is most probably not there. \r\n\r\nYou need to have a **full JMeter installation** in order to be able to run tests your way. I&#39;m not sure whether it&#39;s a good idea to do this in Lambda in general, but if you really want this - you can consider running your test in a different way, for example:\r\n\r\n - [JMeter Maven Plugin][3] \r\n - [JMeter DSL][4]\r\n\r\nboth are capable of downloading/configuring a JMeter instance and executing a test plan.  \r\n\r\n\r\n  [1]: https://github.com/apache/jmeter/blob/rel/v5.6.2/src/core/src/main/java/org/apache/jmeter/util/JMeterUtils.java#L216-L232\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html\r\n  [3]: https://github.com/jmeter-maven-plugin/jmeter-maven-plugin\r\n  [4]: https://www.blazemeter.com/blog/jmeter-dsl","title":"java.lang.RuntimeException: Could not read JMeter properties file","body":"<p>Looking into the <a href=\"https://github.com/apache/jmeter/blob/rel/v5.6.2/src/core/src/main/java/org/apache/jmeter/util/JMeterUtils.java#L216-L232\" rel=\"nofollow noreferrer\">function which loads the properties</a>:</p>\n<pre><code>public static void loadJMeterProperties(String file) {\n    Properties p = new Properties(System.getProperties());\n    try (InputStream is = new FileInputStream(new File(file))) {\n        p.load(is);\n    } catch (IOException e) {\n        try (InputStream is = ClassLoader.getSystemResourceAsStream(\n                    &quot;org/apache/jmeter/jmeter.properties&quot;)) { // $NON-NLS-1$\n            if (is == null) {\n                throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\n            }\n            p.load(is);\n        } catch (IOException ex) {\n            throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\n        }\n    }\n    appProperties = p;\n}\n</code></pre>\n<p>you're getting an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">IOException</a> so the file is most probably not there.</p>\n<p>You need to have a <strong>full JMeter installation</strong> in order to be able to run tests your way. I'm not sure whether it's a good idea to do this in Lambda in general, but if you really want this - you can consider running your test in a different way, for example:</p>\n<ul>\n<li><a href=\"https://github.com/jmeter-maven-plugin/jmeter-maven-plugin\" rel=\"nofollow noreferrer\">JMeter Maven Plugin</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-dsl\" rel=\"nofollow noreferrer\">JMeter DSL</a></li>\n</ul>\n<p>both are capable of downloading/configuring a JMeter instance and executing a test plan.</p>\n"}],"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiğit G&#252;neş"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599751,"answer_count":1,"score":0,"last_activity_date":1701696068,"creation_date":1701693786,"question_id":77599532,"body_markdown":"I am currently trying to develop an AWS lambda function that fetches a Jmeter file from github and executes it. I built a Java jar file and uploaded a S3 bucket. The lambda pulls the code from this bucket. I tried to execute it but I received the error below:\r\n```\r\nJmeter execution function started.\r\njava.lang.RuntimeException: Could not read JMeter properties file:/tmp/var/task/jmeter_properties/bin/jmeter.properties\r\nat org.apache.jmeter.util.JMeterUtils.loadJMeterProperties(JMeterUtils.java:218)\r\nat sta.JmeterUtility.executeTest(JmeterUtility.java:23)\r\nat sta.App.executeProcess(App.java:54)\r\nat sta.App.handleRequest(App.java:42)\r\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\r\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoMethodRequestHandler.handleRequest(EventHandlerLoader.java:285)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoHandlerAsStreamHandler.handleRequest(EventHandlerLoader.java:202)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$2.call(EventHandlerLoader.java:905)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:245)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:197)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:187)\r\nJMeter execution finished\r\n```\r\nI tried to upload this jmeter.properties file to the S3 bucket too and give necessary access to read it, also tried to put it under the resource but regardless of its location, I received this error.\r\n\r\nMy Java code that executes the JMeter:\r\n\r\n```\r\n\tprivate static final String TMP_FOLDER = &quot;/tmp&quot;;\r\n\tprivate static final String WORKING_FOLDER = &quot;/tmp/var/task&quot;;\r\n\r\n\tvoid executeTest(TriggerData event) throws IOException {\r\n\t\tSystem.out.println(&quot;Jmeter execution function started.&quot;);\r\n\r\n\t\t// Initialize JMeter engine\r\n\t\tStandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n\t\tJMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\r\n\t\tJMeterUtils.setJMeterHome(WORKING_FOLDER + &quot;/jmeter_properties&quot;);\r\n\t\tSaveService.loadProperties();\r\n\r\n\t\t// you can comment this line out to see extra log messages of i.e. DEBUG level\r\n\t\tJMeterUtils.initLogging();\r\n\r\n\t\t// Load existing .jmx Test Plan\r\n\t\tHashTree testPlanTree = SaveService\r\n\t\t\t\t.loadTree(new File(TMP_FOLDER + &quot;/&quot; + event.getJmeterTest() + &quot;.jmx&quot;));\r\n\r\n\t\t// Run Test Plan\r\n\t\tjmeter.configure(testPlanTree);\r\n\t\tjmeter.run();\r\n\t\tjmeter.exit();\r\n\r\n\t\tSystem.out.println(&quot;jmeter completed for Service: &quot; + event.getServiceName() + &quot; - &quot; + event.getEnv()+&quot;_&quot; + event.getRegion() + &quot; and stopped&quot;);\r\n\t}\r\n```\r\nWhen I trace the code it always stucks on:\r\n```\r\nJMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\r\n```\r\n\r\nDo you have any idea about the problem? Thanks in advance.","title":"java.lang.RuntimeException: Could not read JMeter properties file","body":"<p>I am currently trying to develop an AWS lambda function that fetches a Jmeter file from github and executes it. I built a Java jar file and uploaded a S3 bucket. The lambda pulls the code from this bucket. I tried to execute it but I received the error below:</p>\n<pre><code>Jmeter execution function started.\njava.lang.RuntimeException: Could not read JMeter properties file:/tmp/var/task/jmeter_properties/bin/jmeter.properties\nat org.apache.jmeter.util.JMeterUtils.loadJMeterProperties(JMeterUtils.java:218)\nat sta.JmeterUtility.executeTest(JmeterUtility.java:23)\nat sta.App.executeProcess(App.java:54)\nat sta.App.handleRequest(App.java:42)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoMethodRequestHandler.handleRequest(EventHandlerLoader.java:285)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoHandlerAsStreamHandler.handleRequest(EventHandlerLoader.java:202)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$2.call(EventHandlerLoader.java:905)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:245)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:197)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:187)\nJMeter execution finished\n</code></pre>\n<p>I tried to upload this jmeter.properties file to the S3 bucket too and give necessary access to read it, also tried to put it under the resource but regardless of its location, I received this error.</p>\n<p>My Java code that executes the JMeter:</p>\n<pre><code>    private static final String TMP_FOLDER = &quot;/tmp&quot;;\n    private static final String WORKING_FOLDER = &quot;/tmp/var/task&quot;;\n\n    void executeTest(TriggerData event) throws IOException {\n        System.out.println(&quot;Jmeter execution function started.&quot;);\n\n        // Initialize JMeter engine\n        StandardJMeterEngine jmeter = new StandardJMeterEngine();\n        JMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\n        JMeterUtils.setJMeterHome(WORKING_FOLDER + &quot;/jmeter_properties&quot;);\n        SaveService.loadProperties();\n\n        // you can comment this line out to see extra log messages of i.e. DEBUG level\n        JMeterUtils.initLogging();\n\n        // Load existing .jmx Test Plan\n        HashTree testPlanTree = SaveService\n                .loadTree(new File(TMP_FOLDER + &quot;/&quot; + event.getJmeterTest() + &quot;.jmx&quot;));\n\n        // Run Test Plan\n        jmeter.configure(testPlanTree);\n        jmeter.run();\n        jmeter.exit();\n\n        System.out.println(&quot;jmeter completed for Service: &quot; + event.getServiceName() + &quot; - &quot; + event.getEnv()+&quot;_&quot; + event.getRegion() + &quot; and stopped&quot;);\n    }\n</code></pre>\n<p>When I trace the code it always stucks on:</p>\n<pre><code>JMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\n</code></pre>\n<p>Do you have any idea about the problem? Thanks in advance.</p>\n"},{"tags":["java","rdf","rml-rdf"],"owner":{"account_id":2021629,"reputation":57943,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701696065,"creation_date":1701275195,"question_id":77572932,"body_markdown":"When using [Carml](https://github.com/carml/carml), I can define a namespace prefix in the [RML](https://rml.io/specs/rml/) file with:\r\n\r\n    carml:declaresNamespace [\r\n          carml:namespacePrefix &quot;tei&quot;;\r\n          carml:namespaceName &quot;http://www.tei-c.org/ns/1.0&quot;;\r\n    ];\r\n\r\nReading the [RmlMapper](https://github.com/RMLio/rmlmapper-java) Github issues it seems that there is no equivalent (yet) in RmlMapper.\r\n\r\nHow to set a namespace prefix programmatically with RmlMapper?\r\n\r\n**Note:**\r\n\r\nIn [XMLRecordFactory](https://github.com/RMLio/rmlmapper-java/blob/master/src/main/java/be/ugent/rml/records/XMLRecordFactory.java), we see:           \r\n\r\n    // Extract and register existing source namespaces into the XPath compiler\r\n    SaxNamespaceResolver.registerNamespaces(compiler, document);\r\n\r\nAnd indeed, if I change my source XML from:\r\n\r\n    &lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xmlns:tei=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\r\n\r\nThe namespace prefix is correctly defined for XPath. But I don&#39;t want to change all XML source files.","title":"How to set a namespace prefix programmatically with RmlMapper?","body":"<p>When using <a href=\"https://github.com/carml/carml\" rel=\"nofollow noreferrer\">Carml</a>, I can define a namespace prefix in the <a href=\"https://rml.io/specs/rml/\" rel=\"nofollow noreferrer\">RML</a> file with:</p>\n<pre><code>carml:declaresNamespace [\n      carml:namespacePrefix &quot;tei&quot;;\n      carml:namespaceName &quot;http://www.tei-c.org/ns/1.0&quot;;\n];\n</code></pre>\n<p>Reading the <a href=\"https://github.com/RMLio/rmlmapper-java\" rel=\"nofollow noreferrer\">RmlMapper</a> Github issues it seems that there is no equivalent (yet) in RmlMapper.</p>\n<p>How to set a namespace prefix programmatically with RmlMapper?</p>\n<p><strong>Note:</strong></p>\n<p>In <a href=\"https://github.com/RMLio/rmlmapper-java/blob/master/src/main/java/be/ugent/rml/records/XMLRecordFactory.java\" rel=\"nofollow noreferrer\">XMLRecordFactory</a>, we see:</p>\n<pre><code>// Extract and register existing source namespaces into the XPath compiler\nSaxNamespaceResolver.registerNamespaces(compiler, document);\n</code></pre>\n<p>And indeed, if I change my source XML from:</p>\n<pre><code>&lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xmlns:tei=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\n</code></pre>\n<p>The namespace prefix is correctly defined for XPath. But I don't want to change all XML source files.</p>\n"},{"tags":["java","kotlin","android-12","talkback","magnification"],"comments":[{"owner":{"account_id":24305145,"reputation":640,"user_id":18248018,"display_name":"Quack E. Duck"},"score":0,"creation_date":1701800257,"post_id":77599736,"comment_id":136819421,"body_markdown":"Can you add the text excerpt which is having this issue to your question? It&#39;s hard to tell what the problem could be without being able to test it on the same data.","body":"Can you add the text excerpt which is having this issue to your question? It&#39;s hard to tell what the problem could be without being able to test it on the same data."}],"owner":{"account_id":30062747,"reputation":1,"user_id":23038530,"display_name":"K Maheshwara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701695970,"creation_date":1701695970,"question_id":77599736,"body_markdown":"The talkback reading extra comma and text magnifcation is magnifying extra comma character even if the comma is not declared in text in Android 12\r\nCan I get some suggestions for this query\r\n\r\nTried by debugging and conformed that text does not have any comma, but the accessibility is printing comma","title":"Talkback reading extra comma in Android 12","body":"<p>The talkback reading extra comma and text magnifcation is magnifying extra comma character even if the comma is not declared in text in Android 12\nCan I get some suggestions for this query</p>\n<p>Tried by debugging and conformed that text does not have any comma, but the accessibility is printing comma</p>\n"},{"tags":["java","memory-management","neural-network","deeplearning4j","nd4j"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701474145,"post_id":77587597,"comment_id":136784409,"body_markdown":"What&#39;s the shape of `inputData`? Are you using batches? If so, what&#39;s the batch size? Also, what&#39;s the point of convolutional layers with a 1x1 kernel?","body":"What&#39;s the shape of <code>inputData</code>? Are you using batches? If so, what&#39;s the batch size? Also, what&#39;s the point of convolutional layers with a 1x1 kernel?"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701478564,"post_id":77587597,"comment_id":136784760,"body_markdown":"@dan1st i tried kernel of 3x3 because i thought that was a standard plus or minus, but it changed the data shape, inputData shape is 1 channel, 42 batchsize, hight 6 width 7","body":"@dan1st i tried kernel of 3x3 because i thought that was a standard plus or minus, but it changed the data shape, inputData shape is 1 channel, 42 batchsize, hight 6 width 7"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701502862,"post_id":77587597,"comment_id":136786079,"body_markdown":"To be honest, I have no idea how your code is supposed to run since the number of output nodes of a layer should match the number of input nodes of the next layer. Anyways, you need to expext each dense layer to store around twice the number of input nodes times the number of output nodes variables","body":"To be honest, I have no idea how your code is supposed to run since the number of output nodes of a layer should match the number of input nodes of the next layer. Anyways, you need to expext each dense layer to store around twice the number of input nodes times the number of output nodes variables"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701503243,"post_id":77587597,"comment_id":136786111,"body_markdown":"oh and also multiplied with the batch size - for convolution layers, you don&#39;t need to store that much information. Oh and forget the &#39;twice&#39;, that&#39;s for training and not for inference.","body":"oh and also multiplied with the batch size - for convolution layers, you don&#39;t need to store that much information. Oh and forget the &#39;twice&#39;, that&#39;s for training and not for inference."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701522946,"post_id":77587597,"comment_id":136787679,"body_markdown":"@dan1st I didn&#39;t see where my input didn&#39;t match the output, sorry i am obviously new to neural networks, but i&#39;ve tried to change my code a bit, if u can look at it or  if u can tell me where my input didn&#39;t match the output i would be very grateful, thank u in advance","body":"@dan1st I didn&#39;t see where my input didn&#39;t match the output, sorry i am obviously new to neural networks, but i&#39;ve tried to change my code a bit, if u can look at it or  if u can tell me where my input didn&#39;t match the output i would be very grateful, thank u in advance"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701554509,"post_id":77587597,"comment_id":136790952,"body_markdown":"`policy_output` seems to have `numOutputs` but the next(?) layer (`value_dense`) seems to have `numHiddenNodes` inputs. But I could have made a mistake reading it.","body":"<code>policy_output</code> seems to have <code>numOutputs</code> but the next(?) layer (<code>value_dense</code>) seems to have <code>numHiddenNodes</code> inputs. But I could have made a mistake reading it."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701597301,"post_id":77587597,"comment_id":136793622,"body_markdown":"@dan1st no they are two separate outputs","body":"@dan1st no they are two separate outputs"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701601589,"post_id":77587597,"comment_id":136793926,"body_markdown":"I see. How much memory is needed for training?","body":"I see. How much memory is needed for training?"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701690974,"post_id":77587597,"comment_id":136802937,"body_markdown":"@dan1st i don&#39;t know really... i&#39;m trying to implement a version of alphazero, and also i have a problem of segmentation falt every 6 hours plus or minus, i am providing also the informations about the segmentation fault now in my question","body":"@dan1st i don&#39;t know really... i&#39;m trying to implement a version of alphazero, and also i have a problem of segmentation falt every 6 hours plus or minus, i am providing also the informations about the segmentation fault now in my question"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701691271,"post_id":77587597,"comment_id":136802989,"body_markdown":"Can you please try to reduce it to a [mcve]? Also, your &quot;time problem&quot; seems kind of expected - if you have expensive computations, it will take some time.","body":"Can you please try to reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Also, your &quot;time problem&quot; seems kind of expected - if you have expensive computations, it will take some time."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701692933,"post_id":77587597,"comment_id":136803281,"body_markdown":"@dan1st i deleted some less important things, is it better?","body":"@dan1st i deleted some less important things, is it better?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701693089,"post_id":77587597,"comment_id":136803315,"body_markdown":"I meant that you should try to come up with the most simple possible code/model that others can run to reproduce your issue. Also, please only focus on one thing in your question (e.g. the segmentation fault or the high memory use)","body":"I meant that you should try to come up with the most simple possible code/model that others can run to reproduce your issue. Also, please only focus on one thing in your question (e.g. the segmentation fault or the high memory use)"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701695564,"post_id":77587597,"comment_id":136803790,"body_markdown":"@dan1st, i deleted the error, but less than the model i am using and the function that cause the problem i think i can&#39;t provide if u want to reproduce the error, if u meant that it&#39; not enough then i am sorry, but please clarify what u would like me to provide, like: where i call the function or what","body":"@dan1st, i deleted the error, but less than the model i am using and the function that cause the problem i think i can&#39;t provide if u want to reproduce the error, if u meant that it&#39; not enough then i am sorry, but please clarify what u would like me to provide, like: where i call the function or what"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701699786,"post_id":77587597,"comment_id":136804636,"body_markdown":"If it&#39;s possible for you, it might be helpful to create a smaller model so you still run into the issue (though probably at a smaller scale) (it&#39;s hard to find an issue when you can&#39;t reproduce it)","body":"If it&#39;s possible for you, it might be helpful to create a smaller model so you still run into the issue (though probably at a smaller scale) (it&#39;s hard to find an issue when you can&#39;t reproduce it)"}],"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701695421,"creation_date":1701458349,"question_id":77587597,"body_markdown":"I&#39;m experiencing high memory usage issues when performing inference with a neural network model using Deeplearning4j. Despite reducing the number of hidden nodes, the memory consumption remains unexpectedly high.\r\n\r\nHere are the details of my setup:\r\n\r\n- Deeplearning4j version: deeplearning4j-core:1.0.0-M2\r\n- Backend: ND4J Backend CPU\r\n- Operating System: Mac\r\n- Java version: tried Java 15, Java 21\r\n\r\nThe model configuration is as follows:\r\n\r\n- Number of input nodes: 50\r\n- Number of hidden nodes: 420\r\n- Number of outputs: 7\r\n- Network depth: 10 layers\r\n\r\nThe issue occurs during the `output` method call, where I observe a memory usage of around 16.33 GB, which seems excessive for the model size. Here is the code snippet where the issue is observed:\r\n```java\r\nObject [] rollout (State stato){\r\n        INDArray p;\r\n        int v;\r\n        if (trained){\r\n            INDArray inputData = stato.toINDArray();\r\n            INDArray[] out;\r\n            out = model.output(inputData);\r\n            p = out[0];\r\n            v = out[1].getInt(0);\r\n        } else {\r\n            //si verifica quando i modelli non sono ancora addestrati, scelgo quindi un valore a caso e assegno una probabilit&#224; massima a ogni nodo figlio\r\n            Random r = new Random();\r\n            p = Nd4j.ones(Board.N).mul(Integer.MAX_VALUE);\r\n            v = Math.abs(r.nextInt()) % MAXREWWARD;\r\n        }\r\n        Object[] out = {p,v};\r\n        return out;\r\n    }\r\n```\r\nhere is my neural network configuration, i am trying to reproduce a version of alphazero\r\n```java\r\n DeepLearning (int numInputs, int numOutputs, String name, int M, int  N, int X, int nndepth) throws IOException {\r\n        this.numInputs = numInputs;\r\n        this.numHiddenNodes = M*N*10;\r\n        this.numOutputs = numOutputs;\r\n        DeepLearning.M = M;\r\n        DeepLearning.N = N;\r\n        DeepLearning.X = X;\r\n        this.name = name;\r\n        File file = new File(&quot;./model&quot; +  name + M + &quot;.&quot; + N + &quot;.&quot; + X + &quot;.&quot; + &quot;.zip&quot;);\r\n        if (file.exists()){\r\n            trained = true;\r\n            this.model = ComputationGraph.load(file , true);\r\n        } else {\r\n            ComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\r\n                    .seed(System.currentTimeMillis())\r\n                    .weightInit(WeightInit.RELU)\r\n                    .l2(1e-4)\r\n                    .updater(new Adam(learningRate))\r\n                    .graphBuilder();\r\n            graphBuilder.addInputs(&quot;input&quot;)\r\n                    .setInputTypes(InputType.feedForward(numInputs));\r\n            String lastLayer = &quot;input&quot;;\r\n            for (int i = 0; i &lt; nndepth; i++) {\r\n                graphBuilder.addLayer(&quot;torso_&quot; + i,\r\n                        new DenseLayer.Builder()\r\n                                .nIn(i == 0 ? numInputs : numHiddenNodes)\r\n                                .nOut(numHiddenNodes)\r\n                                .activation(Activation.RELU)\r\n                                .build(),\r\n                        lastLayer);\r\n                lastLayer = &quot;torso_&quot; + i;\r\n            }\r\n\r\n            graphBuilder.addLayer(&quot;policy_dense&quot;,\r\n                    new DenseLayer.Builder()\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numHiddenNodes)\r\n                            .activation(Activation.RELU)\r\n                            .build(),\r\n                    lastLayer);\r\n            graphBuilder.addLayer(&quot;policy_output&quot;,\r\n                    new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numOutputs)\r\n                            .activation(Activation.SOFTMAX)\r\n                            .build(),\r\n                    &quot;policy_dense&quot;);\r\n\r\n            graphBuilder.addLayer(&quot;value_dense&quot;,\r\n                    new DenseLayer.Builder()\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numHiddenNodes)\r\n                            .activation(Activation.RELU)\r\n                            .build(),\r\n                    lastLayer);\r\n            graphBuilder.addLayer(&quot;value_output&quot;,\r\n                    new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(1)\r\n                            .activation(Activation.IDENTITY)\r\n                            .build(),\r\n                    &quot;value_dense&quot;);\r\n\r\n            graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\r\n\r\n            ComputationGraphConfiguration conf = graphBuilder.build();\r\n            model = new ComputationGraph(conf);\r\n        }\r\n        model.init();\r\n        System.out.println(&quot;Numero parametri: &quot; + model.numParams());\r\n        this.myReplay = new ReplayBuffer();\r\n    }\r\n\r\n    private String addDenseLayer(ComputationGraphConfiguration.GraphBuilder graphBuilder, String inputLayer, String layerName, int nIn, int nOut, Activation activation) {\r\n        graphBuilder.addLayer(layerName, new DenseLayer.Builder()\r\n                .nIn(nIn)\r\n                .nOut(nOut)\r\n                .activation(activation)\r\n                .build(), inputLayer);\r\n        return layerName;\r\n    }\r\n```\r\nI have tried the following troubleshooting steps without success:\r\n\r\nEnsuring the use of workspaces to manage memory efficiently.\r\nUsing in-place operations to reduce memory allocation.\r\nReducing batch size during inference.\r\nChecking for memory leaks and ensuring objects are being garbage collected.\r\nThe profiler indicates that most of the computation time is spent in the output call of the ComputationGraph.\r\n\r\nHere&#39;s the memory profile screenshot: \r\n[![memory usage][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/aoNdO.png\r\n  [2]: https://i.stack.imgur.com/Ajatf.png\r\n  [3]: https://i.stack.imgur.com/L2xSS.png\r\n  [4]: https://i.stack.imgur.com/8l6i7.png","title":"High Memory Usage with Deeplearning4j during Model Inference","body":"<p>I'm experiencing high memory usage issues when performing inference with a neural network model using Deeplearning4j. Despite reducing the number of hidden nodes, the memory consumption remains unexpectedly high.</p>\n<p>Here are the details of my setup:</p>\n<ul>\n<li>Deeplearning4j version: deeplearning4j-core:1.0.0-M2</li>\n<li>Backend: ND4J Backend CPU</li>\n<li>Operating System: Mac</li>\n<li>Java version: tried Java 15, Java 21</li>\n</ul>\n<p>The model configuration is as follows:</p>\n<ul>\n<li>Number of input nodes: 50</li>\n<li>Number of hidden nodes: 420</li>\n<li>Number of outputs: 7</li>\n<li>Network depth: 10 layers</li>\n</ul>\n<p>The issue occurs during the <code>output</code> method call, where I observe a memory usage of around 16.33 GB, which seems excessive for the model size. Here is the code snippet where the issue is observed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object [] rollout (State stato){\n        INDArray p;\n        int v;\n        if (trained){\n            INDArray inputData = stato.toINDArray();\n            INDArray[] out;\n            out = model.output(inputData);\n            p = out[0];\n            v = out[1].getInt(0);\n        } else {\n            //si verifica quando i modelli non sono ancora addestrati, scelgo quindi un valore a caso e assegno una probabilità massima a ogni nodo figlio\n            Random r = new Random();\n            p = Nd4j.ones(Board.N).mul(Integer.MAX_VALUE);\n            v = Math.abs(r.nextInt()) % MAXREWWARD;\n        }\n        Object[] out = {p,v};\n        return out;\n    }\n</code></pre>\n<p>here is my neural network configuration, i am trying to reproduce a version of alphazero</p>\n<pre class=\"lang-java prettyprint-override\"><code> DeepLearning (int numInputs, int numOutputs, String name, int M, int  N, int X, int nndepth) throws IOException {\n        this.numInputs = numInputs;\n        this.numHiddenNodes = M*N*10;\n        this.numOutputs = numOutputs;\n        DeepLearning.M = M;\n        DeepLearning.N = N;\n        DeepLearning.X = X;\n        this.name = name;\n        File file = new File(&quot;./model&quot; +  name + M + &quot;.&quot; + N + &quot;.&quot; + X + &quot;.&quot; + &quot;.zip&quot;);\n        if (file.exists()){\n            trained = true;\n            this.model = ComputationGraph.load(file , true);\n        } else {\n            ComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\n                    .seed(System.currentTimeMillis())\n                    .weightInit(WeightInit.RELU)\n                    .l2(1e-4)\n                    .updater(new Adam(learningRate))\n                    .graphBuilder();\n            graphBuilder.addInputs(&quot;input&quot;)\n                    .setInputTypes(InputType.feedForward(numInputs));\n            String lastLayer = &quot;input&quot;;\n            for (int i = 0; i &lt; nndepth; i++) {\n                graphBuilder.addLayer(&quot;torso_&quot; + i,\n                        new DenseLayer.Builder()\n                                .nIn(i == 0 ? numInputs : numHiddenNodes)\n                                .nOut(numHiddenNodes)\n                                .activation(Activation.RELU)\n                                .build(),\n                        lastLayer);\n                lastLayer = &quot;torso_&quot; + i;\n            }\n\n            graphBuilder.addLayer(&quot;policy_dense&quot;,\n                    new DenseLayer.Builder()\n                            .nIn(numHiddenNodes)\n                            .nOut(numHiddenNodes)\n                            .activation(Activation.RELU)\n                            .build(),\n                    lastLayer);\n            graphBuilder.addLayer(&quot;policy_output&quot;,\n                    new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\n                            .nIn(numHiddenNodes)\n                            .nOut(numOutputs)\n                            .activation(Activation.SOFTMAX)\n                            .build(),\n                    &quot;policy_dense&quot;);\n\n            graphBuilder.addLayer(&quot;value_dense&quot;,\n                    new DenseLayer.Builder()\n                            .nIn(numHiddenNodes)\n                            .nOut(numHiddenNodes)\n                            .activation(Activation.RELU)\n                            .build(),\n                    lastLayer);\n            graphBuilder.addLayer(&quot;value_output&quot;,\n                    new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                            .nIn(numHiddenNodes)\n                            .nOut(1)\n                            .activation(Activation.IDENTITY)\n                            .build(),\n                    &quot;value_dense&quot;);\n\n            graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\n\n            ComputationGraphConfiguration conf = graphBuilder.build();\n            model = new ComputationGraph(conf);\n        }\n        model.init();\n        System.out.println(&quot;Numero parametri: &quot; + model.numParams());\n        this.myReplay = new ReplayBuffer();\n    }\n\n    private String addDenseLayer(ComputationGraphConfiguration.GraphBuilder graphBuilder, String inputLayer, String layerName, int nIn, int nOut, Activation activation) {\n        graphBuilder.addLayer(layerName, new DenseLayer.Builder()\n                .nIn(nIn)\n                .nOut(nOut)\n                .activation(activation)\n                .build(), inputLayer);\n        return layerName;\n    }\n</code></pre>\n<p>I have tried the following troubleshooting steps without success:</p>\n<p>Ensuring the use of workspaces to manage memory efficiently.\nUsing in-place operations to reduce memory allocation.\nReducing batch size during inference.\nChecking for memory leaks and ensuring objects are being garbage collected.\nThe profiler indicates that most of the computation time is spent in the output call of the ComputationGraph.</p>\n<p>Here's the memory profile screenshot:\n<a href=\"https://i.stack.imgur.com/aoNdO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aoNdO.png\" alt=\"memory usage\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":2161358,"reputation":42668,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1701642961,"post_id":77596245,"comment_id":136798150,"body_markdown":"Your code works fine for me. Can you show us a list of request headers you&#39;re setting and can you try setting the log level of `org.springframework.security` to trace and show us the logs when you call the `/user/login` endpoint?","body":"Your code works fine for me. Can you show us a list of request headers you&#39;re setting and can you try setting the log level of <code>org.springframework.security</code> to trace and show us the logs when you call the <code>&#47;user&#47;login</code> endpoint?"}],"answers":[{"tags":[],"owner":{"account_id":26158800,"reputation":17,"user_id":19845689,"display_name":"Karim Diawara"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701641256,"creation_date":1701641256,"answer_id":77596344,"question_id":77596245,"body_markdown":"The issue with your code lies in the `@Bean SecurityFilterChain securityFilterChain(HttpSecurity http)` method. While you&#39;re allowing access to the `/user/login` endpoint using `permitAll()`, you&#39;re also enabling HTTP Basic authentication using `httpBasic(Customizer.withDefaults())`. This means that even though the endpoint is accessible without authentication, the httpBasic configuration is still intercepting requests and attempting to authenticate them using HTTP Basic credentials.\r\n\r\nTo resolve this issue, you can either disable HTTP Basic authentication entirely or exclude the `/user/login` endpoint from HTTP Basic authentication. Here&#39;s how to disable HTTP Basic authentication:\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.cors(cors -&gt; cors.disable())\r\n            .csrf(csrf -&gt; csrf.disable())\r\n            .authorizeHttpRequests(auth -&gt;\r\n                auth.requestMatchers(&quot;/user/login&quot;).permitAll()\r\n                    .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n            )\r\n            // Disable HTTP Basic authentication\r\n            .httpBasic(Customizer::disable)\r\n            .build();\r\n    }","title":"Why am I getting 401 Unauthorized in my REST api when using permitAll() method in Spring Security?","body":"<p>The issue with your code lies in the <code>@Bean SecurityFilterChain securityFilterChain(HttpSecurity http)</code> method. While you're allowing access to the <code>/user/login</code> endpoint using <code>permitAll()</code>, you're also enabling HTTP Basic authentication using <code>httpBasic(Customizer.withDefaults())</code>. This means that even though the endpoint is accessible without authentication, the httpBasic configuration is still intercepting requests and attempting to authenticate them using HTTP Basic credentials.</p>\n<p>To resolve this issue, you can either disable HTTP Basic authentication entirely or exclude the <code>/user/login</code> endpoint from HTTP Basic authentication. Here's how to disable HTTP Basic authentication:</p>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http.cors(cors -&gt; cors.disable())\n        .csrf(csrf -&gt; csrf.disable())\n        .authorizeHttpRequests(auth -&gt;\n            auth.requestMatchers(&quot;/user/login&quot;).permitAll()\n                .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\n        )\n        // Disable HTTP Basic authentication\n        .httpBasic(Customizer::disable)\n        .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11794960,"reputation":44,"user_id":8629878,"display_name":"Tripurari Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701695401,"creation_date":1701693759,"answer_id":77599526,"question_id":77596245,"body_markdown":"Earlier I was also getting 401 for every request. Now it is working as expected, you can see my **SecurityConfig** code.\r\n\r\nYou can also see the spring-security doc as well.\r\n[https://docs.spring.io/spring-security/reference/servlet/authentication/index.html][1]\r\n\r\nThe problem is that with your requestMatcher() function endPoint as parameter. Please make sure the correct endpoint.\r\n\r\nI was also thinking about why my requestMatcher() function not working.\r\n\r\nInside the **application.properties**\r\nI set -&gt;  `server.servlet.context-path=/api`\r\n\r\ninside the **SecurityConfig class** -&gt;\r\n inside the **secuirtyFilterChain()** method -&gt;, I also code to allow the /login api to permit to without authorization but not working got 401\r\n\r\n    .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n\r\nBut I read the logs carefully and then able to understand my endPoint is protected so that&#39;s why i was getting 401.\r\n\r\nI created another controller and then tested it was working and it was not inside the /api/.\r\n\r\nThen I commented the `server.servlet.context-path=/api` inside the **application.properties** file.\r\n\r\nAdded **@RequestMapping(&quot;/api&quot;)** for the AuthController to allow the path **/api/auth/**** then it works as expected.\r\n\r\n    package com.kanban.backend.controller;\r\n    \r\n    import com.kanban.backend.dto.LoginDto;\r\n    import com.kanban.backend.service.AuthService;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.security.access.prepost.PostAuthorize;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @CrossOrigin\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class AuthController {\r\n    \r\n        private final AuthService authService;\r\n    \r\n        public AuthController(AuthService authService) {\r\n            this.authService = authService;\r\n        }\r\n    \r\n        @PostMapping(&quot;/auth/login&quot;)\r\n        public ResponseEntity&lt;String&gt; login(@RequestBody LoginDto loginDto) {\r\n            System.out.println(&quot;AuthController::login&quot;);\r\n            String response = authService.login(loginDto);\r\n            return ResponseEntity.ok(response);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAfter that if you will get the same problem, feel free ping.\r\n\r\n    package com.kanban.backend.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n            return configuration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf(AbstractHttpConfigurer::disable)\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize\r\n                            .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    ).httpBasic(Customizer.withDefaults());\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/index.html","title":"Why am I getting 401 Unauthorized in my REST api when using permitAll() method in Spring Security?","body":"<p>Earlier I was also getting 401 for every request. Now it is working as expected, you can see my <strong>SecurityConfig</strong> code.</p>\n<p>You can also see the spring-security doc as well.\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/index.html</a></p>\n<p>The problem is that with your requestMatcher() function endPoint as parameter. Please make sure the correct endpoint.</p>\n<p>I was also thinking about why my requestMatcher() function not working.</p>\n<p>Inside the <strong>application.properties</strong>\nI set -&gt;  <code>server.servlet.context-path=/api</code></p>\n<p>inside the <strong>SecurityConfig class</strong> -&gt;\ninside the <strong>secuirtyFilterChain()</strong> method -&gt;, I also code to allow the /login api to permit to without authorization but not working got 401</p>\n<pre><code>.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n</code></pre>\n<p>But I read the logs carefully and then able to understand my endPoint is protected so that's why i was getting 401.</p>\n<p>I created another controller and then tested it was working and it was not inside the /api/.</p>\n<p>Then I commented the <code>server.servlet.context-path=/api</code> inside the <strong>application.properties</strong> file.</p>\n<p>Added <strong>@RequestMapping(&quot;/api&quot;)</strong> for the AuthController to allow the path <strong>/api/auth/</strong>** then it works as expected.</p>\n<pre><code>package com.kanban.backend.controller;\n\nimport com.kanban.backend.dto.LoginDto;\nimport com.kanban.backend.service.AuthService;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PostAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@CrossOrigin\n@RequestMapping(&quot;/api&quot;)\npublic class AuthController {\n\n    private final AuthService authService;\n\n    public AuthController(AuthService authService) {\n        this.authService = authService;\n    }\n\n    @PostMapping(&quot;/auth/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody LoginDto loginDto) {\n        System.out.println(&quot;AuthController::login&quot;);\n        String response = authService.login(loginDto);\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p>After that if you will get the same problem, feel free ping.</p>\n<pre><code>package com.kanban.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                ).httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15289746,"reputation":15,"user_id":11031613,"display_name":"Lorena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701752790,"answer_count":2,"score":-3,"last_activity_date":1701695401,"creation_date":1701638917,"question_id":77596245,"body_markdown":"Hello StackOverflow community. I am working on a Spring Boot 3 API which uses an http basic username and password login stored in a database. But when I post to the login url I got 401 unauthorized.\r\n\r\nI tried, just for debugging, using permitAll() on absolute all but it still throws 401 Unauthorized.\r\n\r\nCan you help me figure out what&#39;s wrong with my code? Here it is:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n        \r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        \r\n        @Bean\r\n        AuthenticationManager authenticationManager() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(new AppUserDetailsService());\r\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            return new ProviderManager(authenticationProvider);\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http.cors(cors -&gt; cors.disable())\r\n                        .csrf(csrf -&gt; csrf.disable())\r\n                        .authorizeHttpRequests(auth -&gt; \r\n                            auth.requestMatchers(&quot;/user/login&quot;).permitAll()\r\n                                .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                         )\r\n                        .httpBasic(Customizer.withDefaults())\r\n                        .build();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why am I getting 401 Unauthorized in my REST api when using permitAll() method in Spring Security?","body":"<p>Hello StackOverflow community. I am working on a Spring Boot 3 API which uses an http basic username and password login stored in a database. But when I post to the login url I got 401 unauthorized.</p>\n<p>I tried, just for debugging, using permitAll() on absolute all but it still throws 401 Unauthorized.</p>\n<p>Can you help me figure out what's wrong with my code? Here it is:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    \n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    AuthenticationManager authenticationManager() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(new AppUserDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(authenticationProvider);\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.cors(cors -&gt; cors.disable())\n                    .csrf(csrf -&gt; csrf.disable())\n                    .authorizeHttpRequests(auth -&gt; \n                        auth.requestMatchers(&quot;/user/login&quot;).permitAll()\n                            .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\n                     )\n                    .httpBasic(Customizer.withDefaults())\n                    .build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701693759,"post_id":77599457,"comment_id":136803455,"body_markdown":"If you put the files in the correct directories, and compile it the right way, your code compiles correctly.  (I tried.  It does.)","body":"If you put the files in the correct directories, and compile it the right way, your code compiles correctly.  (I tried.  It does.)"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701694300,"post_id":77599457,"comment_id":136803547,"body_markdown":"i just tried to open the OOP folder directly in vs code and removing the package OOP lines and it works just fine i don&#39;t know why but it works but i would still like to know how to fix the original problem","body":"i just tried to open the OOP folder directly in vs code and removing the package OOP lines and it works just fine i don&#39;t know why but it works but i would still like to know how to fix the original problem"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701694427,"post_id":77599457,"comment_id":136803569,"body_markdown":"BTW: Take care of java naming conventions. Package names shoud be lower case","body":"BTW: Take care of java naming conventions. Package names shoud be lower case"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701694486,"post_id":77599457,"comment_id":136803578,"body_markdown":"You need to read about how packages work; see https://docs.oracle.com/javase/tutorial/java/package/managingfiles.html","body":"You need to read about how packages work; see <a href=\"https://docs.oracle.com/javase/tutorial/java/package/managingfiles.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/package/managingfiles.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701694799,"post_id":77599457,"comment_id":136803639,"body_markdown":"it might be entirely because of the package OOP line if i remove it the file runs fine but shows red squiggly lines on top of the code but it runs fine","body":"it might be entirely because of the package OOP line if i remove it the file runs fine but shows red squiggly lines on top of the code but it runs fine"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701694871,"post_id":77599457,"comment_id":136803653,"body_markdown":"share the project structure please","body":"share the project structure please"},{"owner":{"account_id":47283,"reputation":703807,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701694903,"post_id":77599457,"comment_id":136803662,"body_markdown":"@AranyaDebKesh - Read the tutorial.  Just read it.  It will explain what you did wrong.","body":"@AranyaDebKesh - Read the tutorial.  Just read it.  It will explain what you did wrong."},{"owner":{"account_id":71739,"reputation":307143,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701695810,"post_id":77599457,"comment_id":136803835,"body_markdown":"And don’t say you’ve tried everything. You haven’t. It’s just meaningless.","body":"And don’t say you’ve tried everything. You haven’t. It’s just meaningless."},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701696636,"post_id":77599457,"comment_id":136803967,"body_markdown":"believe me i read it but it doesn&#39;t answer my question when i use it my program shows those errors and when i remove it the program runs fine but it shows error that expected declaration but the program still runs","body":"believe me i read it but it doesn&#39;t answer my question when i use it my program shows those errors and when i remove it the program runs fine but it shows error that expected declaration but the program still runs"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701696774,"post_id":77599457,"comment_id":136803995,"body_markdown":"the root folder is named java and inside it there is a folder called OOP and there are other files outside of OOP folder and inside OOP folder there are files User.java User.class and Library.java Library.class","body":"the root folder is named java and inside it there is a folder called OOP and there are other files outside of OOP folder and inside OOP folder there are files User.java User.class and Library.java Library.class"}],"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701693112,"answer_count":0,"score":0,"last_activity_date":1701695058,"creation_date":1701693007,"question_id":77599457,"body_markdown":"I&#39;m currently following a Java programming tutorial on FreeCodeCamp and encountered an issue while coding along. I&#39;m using Visual Studio Code with necessary extentions or at least i hope so. The error occurs when I run the Library class, and I&#39;m unable to resolve it.\r\nall the files are under a folder called OOP and only these files are present with respective class files\r\n\r\n```java \r\npackage OOP;\r\nimport java.time.LocalDate;\r\n\r\npublic class User {\r\n    public String name;\r\n    public LocalDate birthday;\r\n}\r\n```\r\nThis the first file in the OOP folder\r\n\r\n```java\r\npackage OOP;\r\nimport java.time.LocalDate;\r\n// import java.util.*;\r\n// import OOP.Users;\r\n\r\npublic class Library {\r\n    public static void main(String[] args) {\r\n\r\n        User youngerUser = new User();\r\n\r\n        youngerUser.name = &quot;User Junior&quot;;\r\n        youngerUser.birthday = LocalDate.parse(&quot;2007-01-31&quot;);\r\n\r\n        System.out.printf(&quot;%s was born back in %s&quot;, youngerUser.name, youngerUser.birthday.toString());\r\n    }\r\n}\r\n```\r\nThis is the second file\r\n\r\nThe error message I&#39;m receiving is:\r\n\r\n```\r\nLibrary.java:9: error: cannot find symbol\r\nUser youngerUser = new User();\r\n^\r\nsymbol:   class User\r\nlocation: class Library\r\nLibrary.java:9: error: cannot find symbol\r\nUser youngerUser = new User();\r\n                       ^\r\nsymbol:   class User\r\nlocation: class Library\r\n2 errors\r\n```\r\n\r\ni have tried everything but i cannot figure out how to fix it. the problem continues when i use cli for running or use code runner","title":"Java could not find symbol in OOP program","body":"<p>I'm currently following a Java programming tutorial on FreeCodeCamp and encountered an issue while coding along. I'm using Visual Studio Code with necessary extentions or at least i hope so. The error occurs when I run the Library class, and I'm unable to resolve it.\nall the files are under a folder called OOP and only these files are present with respective class files</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OOP;\nimport java.time.LocalDate;\n\npublic class User {\n    public String name;\n    public LocalDate birthday;\n}\n</code></pre>\n<p>This the first file in the OOP folder</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OOP;\nimport java.time.LocalDate;\n// import java.util.*;\n// import OOP.Users;\n\npublic class Library {\n    public static void main(String[] args) {\n\n        User youngerUser = new User();\n\n        youngerUser.name = &quot;User Junior&quot;;\n        youngerUser.birthday = LocalDate.parse(&quot;2007-01-31&quot;);\n\n        System.out.printf(&quot;%s was born back in %s&quot;, youngerUser.name, youngerUser.birthday.toString());\n    }\n}\n</code></pre>\n<p>This is the second file</p>\n<p>The error message I'm receiving is:</p>\n<pre><code>Library.java:9: error: cannot find symbol\nUser youngerUser = new User();\n^\nsymbol:   class User\nlocation: class Library\nLibrary.java:9: error: cannot find symbol\nUser youngerUser = new User();\n                       ^\nsymbol:   class User\nlocation: class Library\n2 errors\n</code></pre>\n<p>i have tried everything but i cannot figure out how to fix it. the problem continues when i use cli for running or use code runner</p>\n"},{"tags":["java","tomcat","authentication","unauthorized"],"comments":[{"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"score":0,"creation_date":1369144832,"post_id":16671858,"comment_id":23987943,"body_markdown":"Everything looks good to me . Can you try with only below role. &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;","body":"Everything looks good to me . Can you try with only below role. &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1515786271,"post_id":16671858,"comment_id":83448534,"body_markdown":"One ubernoob thing that got me... the sample &lt;user&gt; tags in tomcat-users.xml start in a commented block by default.. make sure to remove them from that. XD","body":"One ubernoob thing that got me... the sample &lt;user&gt; tags in tomcat-users.xml start in a commented block by default.. make sure to remove them from that. XD"}],"answers":[{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1369145150,"creation_date":1369145150,"answer_id":16672092,"question_id":16671858,"body_markdown":"Configuration looks fine for me . can you please try with below **tomacat-users.xml**.\r\n\r\n    &lt;tomcat-users&gt;\r\n\t  &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\nPlease restart the server after change.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Configuration looks fine for me . can you please try with below <strong>tomacat-users.xml</strong>.</p>\n\n<pre><code>&lt;tomcat-users&gt;\n  &lt;user name=\"admin\" password=\"admin\" roles=\"admin-gui,manager-gui\" /&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>Please restart the server after change.</p>\n"},{"tags":[],"owner":{"account_id":120273,"reputation":2670,"user_id":312605,"accept_rate":87,"display_name":"aspdeepak"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1399384771,"creation_date":1399384771,"answer_id":23496855,"question_id":16671858,"body_markdown":"From tailing **[tomcat-root]/logs/catalina.out**, I observed that you are using a locked username **&quot;admin&quot;**\r\n\r\n    06-May-2014 16:47:41.828 WARNING [http-nio-192.168.0.51-8080-exec-6] org.apache.catalina.realm.LockOutRealm.authenticate An attempt was made to authenticate the locked user &quot;admin&quot;\r\n\r\n\r\nYou should try with a better(non guessable) username.\r\n\r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;TomcatAdmin&quot; password=&quot;secpa55wd&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\n\r\nThis should definitely work for you.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>From tailing <strong>[tomcat-root]/logs/catalina.out</strong>, I observed that you are using a locked username <strong>\"admin\"</strong></p>\n\n<pre><code>06-May-2014 16:47:41.828 WARNING [http-nio-192.168.0.51-8080-exec-6] org.apache.catalina.realm.LockOutRealm.authenticate An attempt was made to authenticate the locked user \"admin\"\n</code></pre>\n\n<p>You should try with a better(non guessable) username.</p>\n\n<pre><code>&lt;role rolename=\"manager-gui\"/&gt;\n&lt;user username=\"TomcatAdmin\" password=\"secpa55wd\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>This should definitely work for you.</p>\n"},{"tags":[],"owner":{"account_id":339751,"reputation":713,"user_id":669408,"display_name":"Marco Schoolenberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446519336,"creation_date":1446519336,"answer_id":33490621,"question_id":16671858,"body_markdown":"Solutions above probably solved your problem.The locked user solution tipped me off on my issue.  \r\n\r\nSomething weird I noticed... Don&#39;t know how it happened. \r\n\r\nAfter installing a new tomcat7 I ended up with a &quot;tomcat-users.xml&quot; file owned by user root and group root. \r\n\r\nI found out because catalina.out contains a few lines like  &quot;javax.naming.NamingException: /var/lib/tomcat7/conf/tomcat-users.xml (Permission denied)&quot;\r\n\r\nAfter changing file ownership to user &quot;root&quot; &amp; group &quot;tomcat7&quot; fixed my login issue. \r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Solutions above probably solved your problem.The locked user solution tipped me off on my issue.  </p>\n\n<p>Something weird I noticed... Don't know how it happened. </p>\n\n<p>After installing a new tomcat7 I ended up with a \"tomcat-users.xml\" file owned by user root and group root. </p>\n\n<p>I found out because catalina.out contains a few lines like  \"javax.naming.NamingException: /var/lib/tomcat7/conf/tomcat-users.xml (Permission denied)\"</p>\n\n<p>After changing file ownership to user \"root\" &amp; group \"tomcat7\" fixed my login issue. </p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490642802,"creation_date":1490642802,"answer_id":43054838,"question_id":16671858,"body_markdown":"If you try any of the other Answers and then there is no difference, you may need to *clean your Tomcat* and then try again.  These are my clean commands (not sure how general they are):\r\n\r\n    rm -R $TOMCAT_HOME/work/Catalina/&lt;host&gt;/*\r\n    rm -rf $TOMCAT_HOME/webapps/&lt;app name&gt;\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>If you try any of the other Answers and then there is no difference, you may need to <em>clean your Tomcat</em> and then try again.  These are my clean commands (not sure how general they are):</p>\n\n<pre><code>rm -R $TOMCAT_HOME/work/Catalina/&lt;host&gt;/*\nrm -rf $TOMCAT_HOME/webapps/&lt;app name&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439324,"reputation":32505,"user_id":828193,"accept_rate":85,"display_name":"user000001"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513438201,"creation_date":1513438201,"answer_id":47847181,"question_id":16671858,"body_markdown":"In my case the password had special characters, that needed to be XML encoded before being added to the `/opt/tomcat/conf/tomcat-users.xml` file.\r\n\r\nThe tool that I used for the encoding was https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>In my case the password had special characters, that needed to be XML encoded before being added to the <code>/opt/tomcat/conf/tomcat-users.xml</code> file.</p>\n\n<p>The tool that I used for the encoding was <a href=\"https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii\" rel=\"nofollow noreferrer\">https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii</a></p>\n"},{"tags":[],"owner":{"account_id":6965149,"reputation":31,"user_id":5343432,"display_name":"Travis Green"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521041423,"creation_date":1521041423,"answer_id":49281757,"question_id":16671858,"body_markdown":"Also verify that the tomcat-users.xml you are editing actually corresponds with the instance of Tomcat you are running.  If you have multiple installations, but only one running, make sure you are editing the file at the correct location.\r\n\r\nWhen you run startup.bat (or startup.sh), the script will output the CATALINA_* environmental variables.  If the paths do match the current working directory you are running from, it is a good bet that you have been editing the wrong tomcat-users.xml file.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Also verify that the tomcat-users.xml you are editing actually corresponds with the instance of Tomcat you are running.  If you have multiple installations, but only one running, make sure you are editing the file at the correct location.</p>\n\n<p>When you run startup.bat (or startup.sh), the script will output the CATALINA_* environmental variables.  If the paths do match the current working directory you are running from, it is a good bet that you have been editing the wrong tomcat-users.xml file.</p>\n"},{"tags":[],"owner":{"account_id":7944129,"reputation":248,"user_id":5997148,"display_name":"hardik patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524031453,"creation_date":1524031453,"answer_id":49892274,"question_id":16671858,"body_markdown":"Check syntax and start-ending tag. i did stupid mistake when i started work on java. \r\nThis line was working for me.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tomcat-users&gt;\r\n     &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n          &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n          &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Check syntax and start-ending tag. i did stupid mistake when i started work on java. \nThis line was working for me.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;tomcat-users&gt;\n &lt;role rolename=\"manager-gui\"/&gt;\n      &lt;role rolename=\"manager-script\"/&gt;\n      &lt;role rolename=\"manager-jmx\"/&gt;\n      &lt;role rolename=\"manager-status\"/&gt;\n      &lt;role rolename=\"admin-gui\"/&gt;\n      &lt;role rolename=\"admin-script\"/&gt;\n      &lt;role rolename=\"manager-gui\"/&gt;\n&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13814341,"reputation":3543,"user_id":9971280,"display_name":"Niroshan Ratnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608819170,"creation_date":1606024525,"answer_id":64951094,"question_id":16671858,"body_markdown":"If you are using XAMPP follow the below steps\r\n\r\n1. Go to XAMPP and Click on Config infront of Tomcat\r\n\r\n      &lt;img src=&quot;https://i.stack.imgur.com/7W205.png&quot; width=&quot;450&quot; height=&quot;300&quot;&gt;\r\n\r\n2. Then select tomcat-users.xml in the popup\r\n\r\n3. And when it opens on an editor paste the following inside \r\ntomcat-users tags with your preferred password. Which will be as follows\r\n\r\n```\r\n&lt;tomcat-users&gt;\r\n&lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n&lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-gui&quot;/&gt;\r\n&lt;/tomcat-users&gt;\r\n```\r\n\r\n4. Then restart the tomcat server from XAMPP.\r\n\r\n5. And open the tomcat using the browser and you can give the user name and password as you given in the config file above, In my case, username = tomcat and password = password\r\n\r\n    ","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>If you are using XAMPP follow the below steps</p>\n<ol>\n<li><p>Go to XAMPP and Click on Config infront of Tomcat</p>\n   <img src=\"https://i.stack.imgur.com/7W205.png\" width=\"450\" height=\"300\">\n</li>\n<li><p>Then select tomcat-users.xml in the popup</p>\n</li>\n<li><p>And when it opens on an editor paste the following inside\ntomcat-users tags with your preferred password. Which will be as follows</p>\n</li>\n</ol>\n<pre><code>&lt;tomcat-users&gt;\n&lt;role rolename=&quot;manager-gui&quot;/&gt;\n&lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-gui&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<ol start=\"4\">\n<li><p>Then restart the tomcat server from XAMPP.</p>\n</li>\n<li><p>And open the tomcat using the browser and you can give the user name and password as you given in the config file above, In my case, username = tomcat and password = password</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12898517,"reputation":608,"user_id":9328127,"display_name":"pradeep karunathilaka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623968362,"creation_date":1623968362,"answer_id":68027169,"question_id":16671858,"body_markdown":"Don&#39;t change anything. just replace below configurations to `/etc/tomcat9/tomcat-users.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\r\n                  version=&quot;1.0&quot;&gt;\r\n    \t\t\t  \r\n      &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui,tomcat&quot; /\r\n    &lt;/tomcat-users&gt;\r\n\r\nThen restart tomcat server by using `sudo systemctl restart tomcat9`\r\n\r\nuse this url to log manage-app admin http://127.0.0.1:8080/manager/html\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Don't change anything. just replace below configurations to <code>/etc/tomcat9/tomcat-users.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\n              version=&quot;1.0&quot;&gt;\n              \n  &lt;role rolename=&quot;tomcat&quot;/&gt;\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui,tomcat&quot; /\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>Then restart tomcat server by using <code>sudo systemctl restart tomcat9</code></p>\n<p>use this url to log manage-app admin <a href=\"http://127.0.0.1:8080/manager/html\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/manager/html</a></p>\n"},{"tags":[],"owner":{"account_id":21316812,"reputation":67,"user_id":15690535,"display_name":"Afreen Shaikh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1625058884,"creation_date":1625054811,"answer_id":68194442,"question_id":16671858,"body_markdown":"1.Goto C:\\Program Files\\Apache Tomcat 7\\conf\\tomcat-users.xml\r\nopen it with notepad\r\n2.and add following tag inside &lt;tomcat-users&gt; &lt;/tomcat-users&gt; tag\r\n\r\n```lang-xml\r\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n  &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-gui&quot;/&gt;\r\n```\r\n\r\n3.on browser enter :\r\n  http://localhost:9090/manager/html\r\n  enter username:tomcat password:tomcat","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>1.Goto C:\\Program Files\\Apache Tomcat 7\\conf\\tomcat-users.xml\nopen it with notepad\n2.and add following tag inside   tag</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-gui&quot;/&gt;\n</code></pre>\n<p>3.on browser enter :\nhttp://localhost:9090/manager/html\nenter username:tomcat password:tomcat</p>\n"},{"tags":[],"owner":{"account_id":18772543,"reputation":1,"user_id":13689064,"display_name":"SAM MU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634715634,"creation_date":1634715634,"answer_id":69642077,"question_id":16671858,"body_markdown":"**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\r\n                  version=&quot;1.0&quot;&gt;\r\n      &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n      &lt;user username=&quot;tomcatuser&quot; password=&quot;tomcatpassword&quot; roles=&quot;admin-gui,manager-gui,tomcat,manager-script,manager-jmx,manager-status&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n    &lt;!-- --&gt;\r\n\r\n**\r\ntomacat 7+ version need to set manager rolse as manager-script,manager-jmx, manager-status  \r\nThen restart tomcat `sudo systemctl restart tomcat8`","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\n              version=&quot;1.0&quot;&gt;\n  &lt;role rolename=&quot;tomcat&quot;/&gt;\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-script&quot;/&gt;\n  &lt;role rolename=&quot;manager-jmx&quot;/&gt;\n  &lt;role rolename=&quot;manager-status&quot;/&gt;\n  &lt;user username=&quot;tomcatuser&quot; password=&quot;tomcatpassword&quot; roles=&quot;admin-gui,manager-gui,tomcat,manager-script,manager-jmx,manager-status&quot;/&gt;\n&lt;/tomcat-users&gt;\n&lt;!-- --&gt;\n</code></pre>\n<p>**\ntomacat 7+ version need to set manager rolse as manager-script,manager-jmx, manager-status<br />\nThen restart tomcat <code>sudo systemctl restart tomcat8</code></p>\n"}],"owner":{"account_id":2465273,"reputation":710,"user_id":2148530,"accept_rate":50,"display_name":"giaffa86"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86449,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":23496855,"answer_count":11,"score":15,"last_activity_date":1701694853,"creation_date":1369144490,"question_id":16671858,"body_markdown":"I have read a lot of topics in stackoverflow for solve my problem, but none was useful.\r\n\r\nWhen I tried to log in Manager App ([http://localhost:8080/manager/html][1]) using a lot of different configurations, but I always obtained **401 Unauthorized** after attempted to log in using the rights credentials.\r\nI restarted the tomcat server a couple of times.\r\n\r\nThis is my last configuration in conf/tomcat-users.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;tomcat-users&gt;\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n    &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script&quot;/&gt;\r\n&lt;/tomcat-users&gt;\r\n```\r\n\r\nThis is the part related to tomcat-users in server.xml\r\n\r\n```xml\r\n&lt;GlobalNamingResources&gt;\r\n    &lt;!-- Editable user database that can also be used by\r\n         UserDatabaseRealm to authenticate users\r\n    --&gt;\r\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n              type=&quot;org.apache.catalina.UserDatabase&quot;\r\n              description=&quot;User database that can be updated and saved&quot;\r\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n&lt;/GlobalNamingResources&gt;\r\n```\r\n\r\nThis is my configuration:\r\nApache Tomcat: Version 7.0.40 64 bit\r\nTested on Chrome 26\r\n\r\nIf there is something else useful that I forgot, let me know.\r\nThanks in advance","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>I have read a lot of topics in stackoverflow for solve my problem, but none was useful.</p>\n<p>When I tried to log in Manager App ([http://localhost:8080/manager/html][1]) using a lot of different configurations, but I always obtained <strong>401 Unauthorized</strong> after attempted to log in using the rights credentials.\nI restarted the tomcat server a couple of times.</p>\n<p>This is my last configuration in conf/tomcat-users.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tomcat-users&gt;\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\n    &lt;role rolename=&quot;manager-status&quot;/&gt;\n    &lt;role rolename=&quot;admin-gui&quot;/&gt;\n    &lt;role rolename=&quot;admin-script&quot;/&gt;\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>This is the part related to tomcat-users in server.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;GlobalNamingResources&gt;\n    &lt;!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    --&gt;\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\n              type=&quot;org.apache.catalina.UserDatabase&quot;\n              description=&quot;User database that can be updated and saved&quot;\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\n&lt;/GlobalNamingResources&gt;\n</code></pre>\n<p>This is my configuration:\nApache Tomcat: Version 7.0.40 64 bit\nTested on Chrome 26</p>\n<p>If there is something else useful that I forgot, let me know.\nThanks in advance</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1701607945,"post_id":77594111,"comment_id":136794486,"body_markdown":"What test cases are failing? Please provide the code to initialise your input data such that it reproduces the problem.","body":"What test cases are failing? Please provide the code to initialise your input data such that it reproduces the problem."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1701695849,"post_id":77594111,"comment_id":136803844,"body_markdown":"An obvious error. your program would fail if the `ranked` list is empty","body":"An obvious error. your program would fail if the <code>ranked</code> list is empty"}],"owner":{"account_id":26644189,"reputation":33,"user_id":20259350,"display_name":"Monach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694801,"creation_date":1701603593,"question_id":77594111,"body_markdown":"When solving implementation in Hackerrank, I meet one challenge : \r\n[Climbing the Leaderboard][1].\r\n\r\nHere is the summary how this work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAt the first look I see that it contains two Integer List: current leaderboard and new user scores list in order already but current leaderboard contains some repeated element and new user scores list is not. So I choose the solution like this:\r\n\r\n 1. I move the element from current leaderBoard to new Leader Board ( still in order but not contains any repeated element)\r\n 2. I loop through each score in new user scores list and perform the binary searching in the new Leader Board to find the position for new score.\r\n 3. From what I estimate this solution will have the time complexity is O(nlog(n))\r\n\r\nHere is my code:\r\n\r\n        public static List&lt;Integer&gt; climbingLeaderboard(List&lt;Integer&gt; ranked, List&lt;Integer&gt; player) {\r\n        // Write your code here\r\n            List&lt;Integer&gt; newLeadRank =  new ArrayList&lt;&gt;();\r\n            \r\n            List&lt;Integer&gt; newRankedBoard = new ArrayList&lt;&gt;();\r\n            newRankedBoard.add(ranked.get(0));\r\n            \r\n            for(int i = 1 ; i &lt; ranked.size() ; i++){\r\n                if(ranked.get(i-1) != ranked.get(i)){\r\n                    newRankedBoard.add(ranked.get(i));\r\n                }\r\n            }        \r\n            for(Integer point : player){\r\n                int newRanked = findNewRankedPosition(newRankedBoard, point);\r\n                newLeadRank.add(newRanked);\r\n            }\r\n            return newLeadRank;\r\n        }\r\n        \r\n        public static int findNewRankedPosition(List&lt;Integer&gt; newRankedBoard, int playerPoint){\r\n            int last = newRankedBoard.size()-1;\r\n            int first = 0;\r\n            return binarySearch(newRankedBoard, first, last, playerPoint);\r\n        }\r\n        \r\n        public static int binarySearch(List&lt;Integer&gt; newRankedBoard, int first, int last, int key){\r\n            int mid = (first + last) / 2;\r\n            int newRanked = 1;\r\n            while(first &lt;= last){\r\n                if(newRankedBoard.get(mid) &gt; key){\r\n                    \r\n                    if(mid + 1 &lt; newRankedBoard.size() &amp;&amp; newRankedBoard.get(mid+1) &lt; key){\r\n                        \r\n                        newRanked = mid + 2;\r\n                        break;\r\n                    }else if(mid + 1 == newRankedBoard.size()){\r\n                        newRanked = mid + 2;\r\n                        break;\r\n                    }\r\n                    return binarySearch(newRankedBoard, mid + 1, last, key);  \r\n                }else if(newRankedBoard.get(mid) &lt; key){\r\n                    if(mid - 1 &gt; 0 &amp;&amp; newRankedBoard.get(mid-1) &gt; key){\r\n                        newRanked = mid + 1;\r\n                        break;\r\n                    }else if(mid - 1 == 0 &amp;&amp; newRankedBoard.get(0) &lt; key){\r\n                        newRanked = 1;\r\n                        break;\r\n                    }\r\n                    return binarySearch(newRankedBoard, first, mid - 1, key);\r\n                }else if(newRankedBoard.get(mid) == key){\r\n                    newRanked = mid + 1;\r\n                    break; \r\n                }\r\n            }\r\n            return newRanked ;\r\n        }\r\n    }\r\n\r\nI pass all the example test case and 4/12 test case. But fail another 8/12 test case. Can you take a look and tell me where I am wrong and how I can enhance my code?\r\n\r\nHere is one test case I failed:\r\n\r\n200\r\n\r\n998 995 995 991 989 989 984 979 968 964 955 955 947 945 942 934 933 930 928 927 918 916 905 900 898 895 895 895 892 887 882 881 878 876 872 872 858 856 846 844 839 823 808 806 804 800 799 794 793 789 784 772 766 765 764 762 762 759 757 751 747 745 738 725 720 708 706 703 699 697 693 691 690 685 682 677 662 661 656 648 642 641 640 634 632 625 623 618 618 617 601 601 600 591 585 583 578 552 550 550 546 543 539 509 505 503 503 494 486 474 472 472 472 468 467 464 439 438 434 434 427 421 420 405 399 395 392 388 386 384 377 374 368 356 350 344 342 341 337 331 298 296 296 294 290 260 259 248 245 244 244 233 228 215 211 210 206 202 201 189 186 181 178 168 163 162 161 159 151 147 143 142 142 141 139 132 130 128 125 125 120 112 111 95 92 91 88 81 69 66 63 48 44 20 18 17 14 8 1 1\r\n\r\n20\r\n\r\n18 31 38 126 152 170 198 199 202 243 369 376 376 408 560 572 614 665 666 942\r\n\r\n\r\nThe expected Result should be:\r\n\r\n177\r\n176\r\n176\r\n162\r\n153\r\n148\r\n144\r\n144\r\n142\r\n136\r\n119\r\n118\r\n118\r\n110\r\n89\r\n89\r\n83\r\n70\r\n70\r\n12\r\n\r\nMy Result is:\r\n\r\n194\r\n193\r\n193\r\n179\r\n169\r\n164\r\n160\r\n160\r\n158\r\n152\r\n133\r\n132\r\n132\r\n124\r\n98\r\n98\r\n91\r\n77\r\n77\r\n15\r\n  \r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/climbing-the-leaderboard/problem\r\n  [2]: https://i.stack.imgur.com/3q45H.png","title":"Climbing the Leaderboard Solution using BinarySearch but it fails 8/12 test cases","body":"<p>When solving implementation in Hackerrank, I meet one challenge :\n<a href=\"https://www.hackerrank.com/challenges/climbing-the-leaderboard/problem\" rel=\"nofollow noreferrer\">Climbing the Leaderboard</a>.</p>\n<p>Here is the summary how this work:</p>\n<p><a href=\"https://i.stack.imgur.com/3q45H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3q45H.png\" alt=\"enter image description here\" /></a></p>\n<p>At the first look I see that it contains two Integer List: current leaderboard and new user scores list in order already but current leaderboard contains some repeated element and new user scores list is not. So I choose the solution like this:</p>\n<ol>\n<li>I move the element from current leaderBoard to new Leader Board ( still in order but not contains any repeated element)</li>\n<li>I loop through each score in new user scores list and perform the binary searching in the new Leader Board to find the position for new score.</li>\n<li>From what I estimate this solution will have the time complexity is O(nlog(n))</li>\n</ol>\n<p>Here is my code:</p>\n<pre><code>    public static List&lt;Integer&gt; climbingLeaderboard(List&lt;Integer&gt; ranked, List&lt;Integer&gt; player) {\n    // Write your code here\n        List&lt;Integer&gt; newLeadRank =  new ArrayList&lt;&gt;();\n        \n        List&lt;Integer&gt; newRankedBoard = new ArrayList&lt;&gt;();\n        newRankedBoard.add(ranked.get(0));\n        \n        for(int i = 1 ; i &lt; ranked.size() ; i++){\n            if(ranked.get(i-1) != ranked.get(i)){\n                newRankedBoard.add(ranked.get(i));\n            }\n        }        \n        for(Integer point : player){\n            int newRanked = findNewRankedPosition(newRankedBoard, point);\n            newLeadRank.add(newRanked);\n        }\n        return newLeadRank;\n    }\n    \n    public static int findNewRankedPosition(List&lt;Integer&gt; newRankedBoard, int playerPoint){\n        int last = newRankedBoard.size()-1;\n        int first = 0;\n        return binarySearch(newRankedBoard, first, last, playerPoint);\n    }\n    \n    public static int binarySearch(List&lt;Integer&gt; newRankedBoard, int first, int last, int key){\n        int mid = (first + last) / 2;\n        int newRanked = 1;\n        while(first &lt;= last){\n            if(newRankedBoard.get(mid) &gt; key){\n                \n                if(mid + 1 &lt; newRankedBoard.size() &amp;&amp; newRankedBoard.get(mid+1) &lt; key){\n                    \n                    newRanked = mid + 2;\n                    break;\n                }else if(mid + 1 == newRankedBoard.size()){\n                    newRanked = mid + 2;\n                    break;\n                }\n                return binarySearch(newRankedBoard, mid + 1, last, key);  \n            }else if(newRankedBoard.get(mid) &lt; key){\n                if(mid - 1 &gt; 0 &amp;&amp; newRankedBoard.get(mid-1) &gt; key){\n                    newRanked = mid + 1;\n                    break;\n                }else if(mid - 1 == 0 &amp;&amp; newRankedBoard.get(0) &lt; key){\n                    newRanked = 1;\n                    break;\n                }\n                return binarySearch(newRankedBoard, first, mid - 1, key);\n            }else if(newRankedBoard.get(mid) == key){\n                newRanked = mid + 1;\n                break; \n            }\n        }\n        return newRanked ;\n    }\n}\n</code></pre>\n<p>I pass all the example test case and 4/12 test case. But fail another 8/12 test case. Can you take a look and tell me where I am wrong and how I can enhance my code?</p>\n<p>Here is one test case I failed:</p>\n<p>200</p>\n<p>998 995 995 991 989 989 984 979 968 964 955 955 947 945 942 934 933 930 928 927 918 916 905 900 898 895 895 895 892 887 882 881 878 876 872 872 858 856 846 844 839 823 808 806 804 800 799 794 793 789 784 772 766 765 764 762 762 759 757 751 747 745 738 725 720 708 706 703 699 697 693 691 690 685 682 677 662 661 656 648 642 641 640 634 632 625 623 618 618 617 601 601 600 591 585 583 578 552 550 550 546 543 539 509 505 503 503 494 486 474 472 472 472 468 467 464 439 438 434 434 427 421 420 405 399 395 392 388 386 384 377 374 368 356 350 344 342 341 337 331 298 296 296 294 290 260 259 248 245 244 244 233 228 215 211 210 206 202 201 189 186 181 178 168 163 162 161 159 151 147 143 142 142 141 139 132 130 128 125 125 120 112 111 95 92 91 88 81 69 66 63 48 44 20 18 17 14 8 1 1</p>\n<p>20</p>\n<p>18 31 38 126 152 170 198 199 202 243 369 376 376 408 560 572 614 665 666 942</p>\n<p>The expected Result should be:</p>\n<p>177\n176\n176\n162\n153\n148\n144\n144\n142\n136\n119\n118\n118\n110\n89\n89\n83\n70\n70\n12</p>\n<p>My Result is:</p>\n<p>194\n193\n193\n179\n169\n164\n160\n160\n158\n152\n133\n132\n132\n124\n98\n98\n91\n77\n77\n15</p>\n"},{"tags":["java","for-loop","compilation","switch-statement","automaton"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701692689,"post_id":77598817,"comment_id":136803236,"body_markdown":"Welcome to Stack Overflow! As it&#39;s currently written, it’s hard to tell exactly what your code is doing. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). You should explain how your code works. It seems an implementation of a state machine. You should explain the design in your question. We don&#39;t know what the states are or why it should enter one. Have you tried to debug the code?","body":"Welcome to Stack Overflow! As it&#39;s currently written, it’s hard to tell exactly what your code is doing. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>. You should explain how your code works. It seems an implementation of a state machine. You should explain the design in your question. We don&#39;t know what the states are or why it should enter one. Have you tried to debug the code?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701692692,"post_id":77598817,"comment_id":136803238,"body_markdown":"`for (int i = 0; i &lt; len; i++)` will increment `i` to 5 and then `i &lt; len` is false terminating the loop - `state = 6` )or `7`) will change to `8` after processing the last character, that is, code will only get to `8` after the last character and then the loop is terminated","body":"<code>for (int i = 0; i &lt; len; i++)</code> will increment <code>i</code> to 5 and then <code>i &lt; len</code> is false terminating the loop - <code>state = 6</code> )or <code>7</code>) will change to <code>8</code> after processing the last character, that is, code will only get to <code>8</code> after the last character and then the loop is terminated"}],"owner":{"account_id":30061519,"reputation":1,"user_id":23037540,"display_name":"BADR EL ADRAOUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694643,"creation_date":1701686811,"question_id":77598817,"body_markdown":"this is the code :\r\n\r\n```\r\npackage Tp2;\r\n\r\nimport java.util.Date;\r\nimport java.util.Scanner;\r\n\r\npublic class EX2_Date_forme {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;give a string or (exit) to leave : &quot;);\r\n            String input = sc.nextLine();\r\n\r\n            if (input.equals(&quot;exit&quot;)) {\r\n                break;\r\n            } else {\r\n                System.out.println();\r\n                Date(input);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void Date(String input) {\r\n        int len = input.length();\r\n        int state = 0;\r\n        int tracker = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = input.charAt(i);\r\n            boolean c_isBetween_zero_in_AndNine = Character.getNumericValue(c) &gt;= 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\r\n            boolean c_isBetween_zero_out_AndNine = Character.getNumericValue(c) &gt; 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\r\n            switch (state) {\r\n\r\n                case 0:\r\n                    if (c == &#39;0&#39;){\r\n                        state = 1;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;1&#39; || c == &#39;2&#39;){\r\n                        state = 2;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;3&#39;){\r\n                        state = 3;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 1:\r\n                    if (c_isBetween_zero_out_AndNine) {\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 2:\r\n                    if (c_isBetween_zero_in_AndNine){\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 3:\r\n                    if (c == &#39;0&#39;) {\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 4:\r\n                    if (c == &#39;/&#39;) {\r\n                        state = 5;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 5:\r\n                    if (c == &#39;0&#39;){\r\n                        state = 6;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;1&#39;){\r\n                        state = 7;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 6:\r\n                    if (c_isBetween_zero_out_AndNine){\r\n                        state = 8;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 7:\r\n                    if (c == &#39;0&#39; || c == &#39;1&#39; || c == &#39;2&#39;){\r\n                        tracker++;\r\n                        state = 8;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 8:\r\n                    if (tracker == len) System.out.println(&quot;in the language&quot;);\r\n                    else\r\n                        System.out.println(&quot;error&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nWe want to recognize a date in the form:\r\n03/02 for February 3, limited to the current year.\r\n\r\nFor simplicity, we consider that each month is made up\r\nof 30 days.\r\n\r\nWhen, for example, I type &quot;01/01&quot; in debug mode, everything works as expected until the last iteration where i=4, len=5, and state=8. However, the for loop doesn&#39;t continue to enter case 8.\r\n\r\ni expected to see the &quot;in the langage message&quot; but I got no result\r\n\r\nit worked when i added this after the loop and it worked :\r\n\r\n        if (state == 8 &amp;&amp; tracker == len) {\r\n            System.out.println(&quot;in the language&quot;);\r\n        } else {\r\n            System.out.println(&quot;error&quot;);\r\n        }\r\n\r\n\r\nbut i want it to enter the case number 8","title":"recognizing a date in the form: 03/02 for February 3 , For simplicity, we consider that each month is made up of 30 days","body":"<p>this is the code :</p>\n<pre><code>package Tp2;\n\nimport java.util.Date;\nimport java.util.Scanner;\n\npublic class EX2_Date_forme {\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;give a string or (exit) to leave : &quot;);\n            String input = sc.nextLine();\n\n            if (input.equals(&quot;exit&quot;)) {\n                break;\n            } else {\n                System.out.println();\n                Date(input);\n            }\n        }\n    }\n\n    public static void Date(String input) {\n        int len = input.length();\n        int state = 0;\n        int tracker = 0;\n        for (int i = 0; i &lt; len; i++) {\n            char c = input.charAt(i);\n            boolean c_isBetween_zero_in_AndNine = Character.getNumericValue(c) &gt;= 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\n            boolean c_isBetween_zero_out_AndNine = Character.getNumericValue(c) &gt; 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\n            switch (state) {\n\n                case 0:\n                    if (c == '0'){\n                        state = 1;\n                        tracker++;\n                    }\n                    else if (c == '1' || c == '2'){\n                        state = 2;\n                        tracker++;\n                    }\n                    else if (c == '3'){\n                        state = 3;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 1:\n                    if (c_isBetween_zero_out_AndNine) {\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 2:\n                    if (c_isBetween_zero_in_AndNine){\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 3:\n                    if (c == '0') {\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 4:\n                    if (c == '/') {\n                        state = 5;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 5:\n                    if (c == '0'){\n                        state = 6;\n                        tracker++;\n                    }\n                    else if (c == '1'){\n                        state = 7;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 6:\n                    if (c_isBetween_zero_out_AndNine){\n                        state = 8;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 7:\n                    if (c == '0' || c == '1' || c == '2'){\n                        tracker++;\n                        state = 8;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 8:\n                    if (tracker == len) System.out.println(&quot;in the language&quot;);\n                    else\n                        System.out.println(&quot;error&quot;);\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>We want to recognize a date in the form:\n03/02 for February 3, limited to the current year.</p>\n<p>For simplicity, we consider that each month is made up\nof 30 days.</p>\n<p>When, for example, I type &quot;01/01&quot; in debug mode, everything works as expected until the last iteration where i=4, len=5, and state=8. However, the for loop doesn't continue to enter case 8.</p>\n<p>i expected to see the &quot;in the langage message&quot; but I got no result</p>\n<p>it worked when i added this after the loop and it worked :</p>\n<pre><code>    if (state == 8 &amp;&amp; tracker == len) {\n        System.out.println(&quot;in the language&quot;);\n    } else {\n        System.out.println(&quot;error&quot;);\n    }\n</code></pre>\n<p>but i want it to enter the case number 8</p>\n"},{"tags":["java","eclipse","tomcat","context.xml"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1535578972,"post_id":52085247,"comment_id":91123256,"body_markdown":"Have you compared your settings with the reference example in the [documentation (tomcat7)](https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html) or [tomcat8](https://tomcat.apache.org/tomcat-8.0-doc/jndi-datasource-examples-howto.html)? (Please find the proper page to your tomcat version.)","body":"Have you compared your settings with the reference example in the <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">documentation (tomcat7)</a> or <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">tomcat8</a>? (Please find the proper page to your tomcat version.)"},{"owner":{"account_id":7078016,"reputation":1626,"user_id":5417326,"display_name":"Lev Khruschev"},"score":1,"creation_date":1535581153,"post_id":52085247,"comment_id":91123916,"body_markdown":"When I worked with tomcat context files, they were placed in `${TOMCAT_HOME}/conf/Catalina/localhost` and it was working scheme.","body":"When I worked with tomcat context files, they were placed in <code>${TOMCAT_HOME}&#47;conf&#47;Catalina&#47;localhost</code> and it was working scheme."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1535618280,"post_id":52085247,"comment_id":91135097,"body_markdown":"Please add error message, code, and *all* textual content as text, directly in the question. Not as images.","body":"Please add error message, code, and <i>all</i> textual content as text, directly in the question. Not as images."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1535654576,"post_id":52085247,"comment_id":91157934,"body_markdown":"The resource JNDI name should be `&lt;res-ref-name&gt;jdbc/ParkingBookSystem&lt;/res-ref-name&gt;` I think, same for the context.xml file. Yours is missing `jdbc`","body":"The resource JNDI name should be <code>&lt;res-ref-name&gt;jdbc&#47;ParkingBookSystem&lt;&#47;res-ref-name&gt;</code> I think, same for the context.xml file. Yours is missing <code>jdbc</code>"}],"answers":[{"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701694466,"creation_date":1535597131,"answer_id":52088540,"question_id":52085247,"body_markdown":"Seems JNDI name is not on the correct place as it should be _inside_ `Resource` element but it&#39;s instead on `Context` one\r\n\r\n```xml\r\n&lt;Context&gt;\r\n    &lt;Resource \r\n        name=&quot;jdbc/ParkingSystem&quot; \r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        maxActive=&quot;20&quot;\r\n        maxIdle=&quot;5&quot;\r\n        maxWait=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot;\r\n        password=&quot;abcdefgh&quot; \r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\n`path` attribute on `Context` element is meant to define context root of your app, in other words, the URL starting path, e.g.: if `path=&quot;/ParkingLot&quot;`, your app will be found under `http://localhost:8080/ParkingLot`.","title":"Tomcat is unable to read my context.xml file","body":"<p>Seems JNDI name is not on the correct place as it should be <em>inside</em> <code>Resource</code> element but it's instead on <code>Context</code> one</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Context&gt;\n    &lt;Resource \n        name=&quot;jdbc/ParkingSystem&quot; \n        auth=&quot;Container&quot;\n        type=&quot;javax.sql.DataSource&quot;\n        maxActive=&quot;20&quot;\n        maxIdle=&quot;5&quot;\n        maxWait=&quot;10000&quot;\n        username=&quot;sql2226123&quot;\n        password=&quot;abcdefgh&quot; \n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p><code>path</code> attribute on <code>Context</code> element is meant to define context root of your app, in other words, the URL starting path, e.g.: if <code>path=&quot;/ParkingLot&quot;</code>, your app will be found under <code>http://localhost:8080/ParkingLot</code>.</p>\n"}],"owner":{"account_id":9692014,"reputation":461,"user_id":7189801,"accept_rate":75,"display_name":"Luke_Nuke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4952,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52088540,"answer_count":1,"score":0,"last_activity_date":1701694466,"creation_date":1535572826,"question_id":52085247,"body_markdown":"I have the following issue:\r\nI have context.xml file which can not be read by the server either by adding through @Resource() injection or by using class (check below). I&#39;m using eclipse, Tomcat 9.0. I have .war file exported by eclipse and put in the target folder within my project. Here goes the code.\r\n\r\nContext.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE xml&gt;\r\n&lt;Context path=&quot;jdbc/ParkingSystem&quot;&gt;\r\n    &lt;Resource name=&quot;sql2226123&quot; \r\n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n        maxActive=&quot;20&quot; maxIdle=&quot;5&quot; maxWait=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;/&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nhttps://pastebin.com/fSZG2bJR\r\n\r\nand I have following class to set connection with MySQL DB here goes the constructor:\r\nhttps://pastebin.com/XKmBRAZX\r\n\r\nhere is constructor used in servlet:\r\nhttps://pastebin.com/EmSzL5Y1\r\n\r\nhere is my pom.xml:\r\nhttps://pastebin.com/umU6R2KF\r\n\r\nmy context.xml is located:\r\nC:\\Users\\lukas\\eclipse-workspace\\ParkingBookSystem\\src\\main\\resources\\META-INF\\context.xml\r\n\r\nmy .war file (exported by eclipse) is located:\r\nC:\\Users\\userName\\eclipse-workspace\\ProjectName\\ProjectName.war\r\n\r\nand this is my error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eUryW.png\r\nI&#39;ve lost all ideas :(\r\n\r\nOk so I&#39;ve made updates according to apache.org/tomcat-9.0\r\nNow my web.xml looks like this:\r\n\r\n```xml\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n                             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n         version=&quot;2.4&quot;&gt;\r\n    &lt;description&gt;ParkingBookSystem&lt;/description&gt;\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;DB Connection&lt;/description&gt;\r\n        &lt;res-ref-name&gt;/ParkingBookSystem&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nand my context.xml looks like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE xml&gt;\r\n&lt;Context&gt;\r\n    &lt;Resource \r\n        name=&quot;/ParkingBookSystem&quot; \r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        maxTotal=&quot;20&quot;\r\n        maxIdle=&quot;5&quot;\r\n        maxWaitMillis=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot;\r\n        password=&quot;xxxxxxxx&quot;\r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nNow the error is gone but there is only white screen displayed as if there was no connection to the MySQL DB although I&#39;m 100% sure those:\r\n```xml\r\nusername=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \r\nurl=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n```\r\n\r\nare correct I logged in to the DB as admin right now with it (I&#39;ve changed the password in the question on stack).\r\n\r\nOk so since HTTP 500 error is gone and on web-browser now I have just white screen and Tomcat server is throwing following error so I&#39;am adding the most acutal error:\r\n```\r\njava.sql.SQLException: Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2224)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2104)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1563)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookDbUtil.doesBookExist(BookDbUtil.java:91)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.addBook(BookControllerServlet.java:117)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.doGet(BookControllerServlet.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: java.sql.SQLException: No suitable driver\r\n\tat java.sql.DriverManager.getDriver(Unknown Source)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2209)\r\n\t... 29 more\r\n```","title":"Tomcat is unable to read my context.xml file","body":"<p>I have the following issue:\nI have context.xml file which can not be read by the server either by adding through @Resource() injection or by using class (check below). I'm using eclipse, Tomcat 9.0. I have .war file exported by eclipse and put in the target folder within my project. Here goes the code.</p>\n<p>Context.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n&lt;Context path=&quot;jdbc/ParkingSystem&quot;&gt;\n    &lt;Resource name=&quot;sql2226123&quot; \n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\n        maxActive=&quot;20&quot; maxIdle=&quot;5&quot; maxWait=&quot;10000&quot;\n        username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;/&gt;\n&lt;/Context&gt;\n</code></pre>\n<p><a href=\"https://pastebin.com/fSZG2bJR\" rel=\"nofollow noreferrer\">https://pastebin.com/fSZG2bJR</a></p>\n<p>and I have following class to set connection with MySQL DB here goes the constructor:\n<a href=\"https://pastebin.com/XKmBRAZX\" rel=\"nofollow noreferrer\">https://pastebin.com/XKmBRAZX</a></p>\n<p>here is constructor used in servlet:\n<a href=\"https://pastebin.com/EmSzL5Y1\" rel=\"nofollow noreferrer\">https://pastebin.com/EmSzL5Y1</a></p>\n<p>here is my pom.xml:\n<a href=\"https://pastebin.com/umU6R2KF\" rel=\"nofollow noreferrer\">https://pastebin.com/umU6R2KF</a></p>\n<p>my context.xml is located:\nC:\\Users\\lukas\\eclipse-workspace\\ParkingBookSystem\\src\\main\\resources\\META-INF\\context.xml</p>\n<p>my .war file (exported by eclipse) is located:\nC:\\Users\\userName\\eclipse-workspace\\ProjectName\\ProjectName.war</p>\n<p>and this is my error:\n<a href=\"https://i.stack.imgur.com/eUryW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUryW.png\" alt=\"enter image description here\" /></a></p>\n<p>I've lost all ideas :(</p>\n<p>Ok so I've made updates according to apache.org/tomcat-9.0\nNow my web.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\n                             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\n         version=&quot;2.4&quot;&gt;\n    &lt;description&gt;ParkingBookSystem&lt;/description&gt;\n    &lt;resource-ref&gt;\n        &lt;description&gt;DB Connection&lt;/description&gt;\n        &lt;res-ref-name&gt;/ParkingBookSystem&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>and my context.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n&lt;Context&gt;\n    &lt;Resource \n        name=&quot;/ParkingBookSystem&quot; \n        auth=&quot;Container&quot;\n        type=&quot;javax.sql.DataSource&quot;\n        maxTotal=&quot;20&quot;\n        maxIdle=&quot;5&quot;\n        maxWaitMillis=&quot;10000&quot;\n        username=&quot;sql2226123&quot;\n        password=&quot;xxxxxxxx&quot;\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>Now the error is gone but there is only white screen displayed as if there was no connection to the MySQL DB although I'm 100% sure those:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \nurl=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n</code></pre>\n<p>are correct I logged in to the DB as admin right now with it (I've changed the password in the question on stack).</p>\n<p>Ok so since HTTP 500 error is gone and on web-browser now I have just white screen and Tomcat server is throwing following error so I'am adding the most acutal error:</p>\n<pre><code>java.sql.SQLException: Cannot create JDBC driver of class '' for connect URL 'null'\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2224)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2104)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1563)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookDbUtil.doesBookExist(BookDbUtil.java:91)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.addBook(BookControllerServlet.java:117)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.doGet(BookControllerServlet.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.sql.SQLException: No suitable driver\n    at java.sql.DriverManager.getDriver(Unknown Source)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2209)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1444735296,"post_id":33101168,"comment_id":54017439,"body_markdown":"Can you show some code with which statements you tried?","body":"Can you show some code with which statements you tried?"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1444735795,"post_id":33101168,"comment_id":54017763,"body_markdown":"Deleted them mostly, but what I basically need is the equivalent of &quot;select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;&quot;","body":"Deleted them mostly, but what I basically need is the equivalent of &quot;select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1444740499,"creation_date":1444736991,"answer_id":33101956,"question_id":33101168,"body_markdown":"You can use this `@Query`\r\n\r\n    @Query(&quot;select u.username from Users u inner join u.friendship f where f.friendId = :userId&quot;)\r\n\r\nMake sure that you have an `association` between your entities `Users` and `Friendship`. Should be a `@OneToMany` relation I think.\r\n\r\nAnd it should be in a `List&lt;String&gt;` instead of `Map`.\r\n\r\n**EDIT:1**\r\n\r\nIf I understand it correctly, you will need another class `friendship`.\r\n\r\nMaybe you need an embeddable class (`friendship`) described here. \r\n\r\nhttp://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/\r\n\r\n\r\n  [1]: http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/ \r\n\r\nOr you can create a new entity.\r\n\r\nhttp://www.concretepage.com/hibernate/elementcollection_hibernate_annotation\r\n\r\nAnd this is also a good example:\r\n\r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ElementCollection\r\n\r\n","title":"JPA Query ElementCollection key","body":"<p>You can use this <code>@Query</code></p>\n\n<pre><code>@Query(\"select u.username from Users u inner join u.friendship f where f.friendId = :userId\")\n</code></pre>\n\n<p>Make sure that you have an <code>association</code> between your entities <code>Users</code> and <code>Friendship</code>. Should be a <code>@OneToMany</code> relation I think.</p>\n\n<p>And it should be in a <code>List&lt;String&gt;</code> instead of <code>Map</code>.</p>\n\n<p><strong>EDIT:1</strong></p>\n\n<p>If I understand it correctly, you will need another class <code>friendship</code>.</p>\n\n<p>Maybe you need an embeddable class (<code>friendship</code>) described here. </p>\n\n<p><a href=\"http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/\" rel=\"nofollow\">http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/</a></p>\n\n<p>Or you can create a new entity.</p>\n\n<p><a href=\"http://www.concretepage.com/hibernate/elementcollection_hibernate_annotation\" rel=\"nofollow\">http://www.concretepage.com/hibernate/elementcollection_hibernate_annotation</a></p>\n\n<p>And this is also a good example:</p>\n\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ElementCollection\" rel=\"nofollow\">https://en.wikibooks.org/wiki/Java_Persistence/ElementCollection</a></p>\n"},{"tags":[],"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701694162,"creation_date":1701694162,"answer_id":77599572,"question_id":33101168,"body_markdown":"You need use with tansaction. Try it.\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\r\n    List&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);","title":"JPA Query ElementCollection key","body":"<p>You need use with tansaction. Try it.</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\nList&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);\n</code></pre>\n"}],"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2602,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":33101956,"answer_count":2,"score":2,"last_activity_date":1701694162,"creation_date":1444734728,"question_id":33101168,"body_markdown":"I have an entity class called User with the variable username with an ElementCollection map to represent &quot;friendship&quot; between two users, mapped by the userId, the start date and the id of the friend. The code for that relation is as follows:\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n\t@CollectionTable(name = &quot;friendship&quot;, joinColumns = @JoinColumn(name=&quot;userId&quot;))\r\n\t@MapKeyColumn(name = &quot;friendId&quot;)\r\n\t@Column(name = &quot;startDate&quot;)\r\n\tprivate Map&lt;Integer, Date&gt; friendShipMap;\r\n\r\nI want to display the friends on a profile page for each user. I know I can just access the map via Java and get the ids (and find the usernames for the friends like that), but I&#39;d like to use a custom @Query to get all the friends usernames for a given id. Somehow, the map is confusing me and I fail to find a proper statement for this.\r\n\r\nAny help on this is greatly appreciated.\r\n\r\nEdit: To clarify, I would like to use a custom @Query statement for the following SQL statement:\r\n\r\n    select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;\r\n\r\nSo I thought it would be basically like this:\r\n\r\n\t@Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\r\n\tList&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);\r\n\r\nBut I can&#39;t use m.userId, it says &quot;cannot dereference scalar collection element: userId&quot;. \r\n\r\nThe corresponding table looks like this:\r\n\r\n    userId | startDate |friendId\r\n","title":"JPA Query ElementCollection key","body":"<p>I have an entity class called User with the variable username with an ElementCollection map to represent \"friendship\" between two users, mapped by the userId, the start date and the id of the friend. The code for that relation is as follows:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)\n@CollectionTable(name = \"friendship\", joinColumns = @JoinColumn(name=\"userId\"))\n@MapKeyColumn(name = \"friendId\")\n@Column(name = \"startDate\")\nprivate Map&lt;Integer, Date&gt; friendShipMap;\n</code></pre>\n\n<p>I want to display the friends on a profile page for each user. I know I can just access the map via Java and get the ids (and find the usernames for the friends like that), but I'd like to use a custom @Query to get all the friends usernames for a given id. Somehow, the map is confusing me and I fail to find a proper statement for this.</p>\n\n<p>Any help on this is greatly appreciated.</p>\n\n<p>Edit: To clarify, I would like to use a custom @Query statement for the following SQL statement:</p>\n\n<pre><code>select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;\n</code></pre>\n\n<p>So I thought it would be basically like this:</p>\n\n<pre><code>@Query(\"SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId\")\nList&lt;User&gt; getFriends(@Param(\"userId\") int userId);\n</code></pre>\n\n<p>But I can't use m.userId, it says \"cannot dereference scalar collection element: userId\". </p>\n\n<p>The corresponding table looks like this:</p>\n\n<pre><code>userId | startDate |friendId\n</code></pre>\n"},{"tags":["java","jpa","intellij-idea"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701709619,"post_id":77599571,"comment_id":136806719,"body_markdown":"What do you mean by, &quot;can&#39;t do&quot;? https://www.jetbrains.com/help/idea/java-compiler.html","body":"What do you mean by, &quot;can&#39;t do&quot;? <a href=\"https://www.jetbrains.com/help/idea/java-compiler.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/java-compiler.html</a>"},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701793902,"post_id":77599571,"comment_id":136818288,"body_markdown":"quote: but I still get the error &quot;Symbol not found&quot;. Can you share a screenshot of the problem?","body":"quote: but I still get the error &quot;Symbol not found&quot;. Can you share a screenshot of the problem?"}],"owner":{"account_id":21088679,"reputation":327,"user_id":15501126,"display_name":"Maxim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694146,"creation_date":1701694146,"question_id":77599571,"body_markdown":"I have a JPA Entity class that I&#39;m trying to modify, but IntelliJ always automatically adds the following lines to the file:\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = 2570912915331392859L;\r\n\r\nThe @Serial annotation isn&#39;t found though and it tells me to change the language version, which I can&#39;t do. So the project doesn&#39;t compile. I tried changing the file in another Editor so the property doesn&#39;t get added automatically, but I still get the error &quot;Symbol not found&quot;.\r\n\r\nI couldn&#39;t find any setting to disable this. Any ideas?","title":"IntelliJ 2023.2.5 - how to disable adding serialVersionUID on save","body":"<p>I have a JPA Entity class that I'm trying to modify, but IntelliJ always automatically adds the following lines to the file:</p>\n<pre><code>@Serial\nprivate static final long serialVersionUID = 2570912915331392859L;\n</code></pre>\n<p>The @Serial annotation isn't found though and it tells me to change the language version, which I can't do. So the project doesn't compile. I tried changing the file in another Editor so the property doesn't get added automatically, but I still get the error &quot;Symbol not found&quot;.</p>\n<p>I couldn't find any setting to disable this. Any ideas?</p>\n"},{"tags":["java","httpclient","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701693888,"creation_date":1701693888,"answer_id":77599543,"question_id":77227198,"body_markdown":"The `HttpRequestRetryHandler` and `ServiceUnavailableRetryStrategy` got [merged][1] into the [HttpRequestRetryStrategy][2].\r\n\r\nSo your new implementation would be:\r\n\r\n    .setRetryStrategy(new HttpRequestRetryStrategy() {\r\n        @Override\r\n        public boolean retryRequest(HttpRequest request, IOException exception, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n\r\n        @Override\r\n        public boolean retryRequest(HttpResponse response, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n\r\n        @Override\r\n        public TimeValue getRetryInterval(HttpResponse response, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24230642/2049986\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/HttpRequestRetryStrategy.html","title":"How to implement HttpRequestRetryHandler and ServiceUnavailableRetryStrategy in apache httpclient5","body":"<p>The <code>HttpRequestRetryHandler</code> and <code>ServiceUnavailableRetryStrategy</code> got <a href=\"https://stackoverflow.com/a/24230642/2049986\">merged</a> into the <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/HttpRequestRetryStrategy.html\" rel=\"nofollow noreferrer\">HttpRequestRetryStrategy</a>.</p>\n<p>So your new implementation would be:</p>\n<pre><code>.setRetryStrategy(new HttpRequestRetryStrategy() {\n    @Override\n    public boolean retryRequest(HttpRequest request, IOException exception, int execCount, HttpContext context) {\n        // code block\n    }\n\n    @Override\n    public boolean retryRequest(HttpResponse response, int execCount, HttpContext context) {\n        // code block\n    }\n\n    @Override\n    public TimeValue getRetryInterval(HttpResponse response, int execCount, HttpContext context) {\n        // code block\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701693888,"creation_date":1696400430,"question_id":77227198,"body_markdown":"I am updating the project to use httpclient5, I would like to know what is the relevant class to use for ```HttpRequestRetryHandler``` and ```ServiceUnavailableRetryStrategy```\r\n\r\nThe code snippet we have is as below\r\n\r\n```\r\nimport org.apache.http.client.HttpRequestRetryHandler;\r\nimport org.apache.http.client.ServiceUnavailableRetryStrategy;\r\n```\r\n\r\n\r\n```\r\n.setRetryHandler(new HttpRequestRetryHandler() {\r\n  @Override\r\n  public boolean retryRequest(IOException exp, int count, HttpContext context) {\r\n    // code block\r\n  }\r\n)\r\n.setServiceUnavailableRetryStrategy(new ServiceUnavailableRetryStrategy() {\r\n  @Override\r\n  public boolean retryRequest(HttpResponse res, int count, HttpContext context) {\r\n    // code block\r\n  }\r\n)\r\n```\r\n\r\nCould someone help and explain what is the new class in httpclient5 and how this code block can be rewritten?\r\n\r\n","title":"How to implement HttpRequestRetryHandler and ServiceUnavailableRetryStrategy in apache httpclient5","body":"<p>I am updating the project to use httpclient5, I would like to know what is the relevant class to use for <code>HttpRequestRetryHandler</code> and <code>ServiceUnavailableRetryStrategy</code></p>\n<p>The code snippet we have is as below</p>\n<pre><code>import org.apache.http.client.HttpRequestRetryHandler;\nimport org.apache.http.client.ServiceUnavailableRetryStrategy;\n</code></pre>\n<pre><code>.setRetryHandler(new HttpRequestRetryHandler() {\n  @Override\n  public boolean retryRequest(IOException exp, int count, HttpContext context) {\n    // code block\n  }\n)\n.setServiceUnavailableRetryStrategy(new ServiceUnavailableRetryStrategy() {\n  @Override\n  public boolean retryRequest(HttpResponse res, int count, HttpContext context) {\n    // code block\n  }\n)\n</code></pre>\n<p>Could someone help and explain what is the new class in httpclient5 and how this code block can be rewritten?</p>\n"},{"tags":["java","memory-leaks"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701693647,"creation_date":1701693647,"answer_id":77599516,"question_id":77599073,"body_markdown":"You are creating an additional `Mat` object that is not automatically released:\r\n\r\n    /*...*/ new Mat(bytes) /*...*/\r\n\r\nYou should separatly include it into the try with resources:\r\n\r\n    // image binary\r\n    byte[] bytes;\r\n    try (PointerScope pointerScope = new PointerScope();\r\n         Mat data = new Mat(bytes);\r\n         Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(data, opencv_imgcodecs.IMREAD_COLOR)) {\r\n    \r\n        // my bussiness logic\r\n    \r\n        pointerScope.deallocate();\r\n        \r\n    }","title":"How deal with org.bytedeco.opencv.opencv_core.Mat memory leak?","body":"<p>You are creating an additional <code>Mat</code> object that is not automatically released:</p>\n<pre><code>/*...*/ new Mat(bytes) /*...*/\n</code></pre>\n<p>You should separatly include it into the try with resources:</p>\n<pre><code>// image binary\nbyte[] bytes;\ntry (PointerScope pointerScope = new PointerScope();\n     Mat data = new Mat(bytes);\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(data, opencv_imgcodecs.IMREAD_COLOR)) {\n\n    // my bussiness logic\n\n    pointerScope.deallocate();\n    \n}\n</code></pre>\n"}],"owner":{"account_id":30061916,"reputation":11,"user_id":23037852,"display_name":"言予鹿"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701693647,"creation_date":1701689461,"question_id":77599073,"body_markdown":"This is how I use org.bytedeco.opencv.opencv_core.Mat,core code:\r\n\r\n```\r\n// image binary\r\nbyte[] bytes;\r\ntry (PointerScope pointerScope = new PointerScope();\r\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(new Mat(bytes), opencv_imgcodecs.IMREAD_COLOR)) {\r\n\r\n    // my bussiness logic\r\n\r\n    pointerScope.deallocate();\r\n    \r\n}\r\n```\r\n\r\nI found that the off-heap memory used by the Mat object will not be recycled, causing a memory leak. After the program runs for a period of time, OOM will occur.\r\n\r\nI tried using the mat.release() method but it didn&#39;t work","title":"How deal with org.bytedeco.opencv.opencv_core.Mat memory leak?","body":"<p>This is how I use org.bytedeco.opencv.opencv_core.Mat,core code:</p>\n<pre><code>// image binary\nbyte[] bytes;\ntry (PointerScope pointerScope = new PointerScope();\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(new Mat(bytes), opencv_imgcodecs.IMREAD_COLOR)) {\n\n    // my bussiness logic\n\n    pointerScope.deallocate();\n    \n}\n</code></pre>\n<p>I found that the off-heap memory used by the Mat object will not be recycled, causing a memory leak. After the program runs for a period of time, OOM will occur.</p>\n<p>I tried using the mat.release() method but it didn't work</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":72918,"reputation":6140,"user_id":210290,"accept_rate":85,"display_name":"crusam"},"score":5,"creation_date":1351608667,"post_id":13141302,"comment_id":17874371,"body_markdown":"I think all has already been said, but maybe you are interested in the following article about try on ressources: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html . This might also be helpful to understand the given answers.","body":"I think all has already been said, but maybe you are interested in the following article about try on ressources: <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a> . This might also be helpful to understand the given answers."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":252,"is_accepted":false,"score":251,"last_activity_date":1560761508,"creation_date":1351608077,"answer_id":13141382,"question_id":13141302,"body_markdown":"[`AutoCloseable`](http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html) (introduced in Java 7) makes it possible to use the [***try-with-resources***][1] idiom:\r\n\r\n\tpublic class MyResource implements AutoCloseable {\r\n\t\t\r\n\t\tpublic void close() throws Exception {\r\n\t\t\tSystem.out.println(&quot;Closing!&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nNow you can say:\r\n\r\n\ttry (MyResource res = new MyResource()) {\r\n\t\t// use resource here\r\n\t}\r\n\r\nand JVM will call `close()` automatically for you.\r\n\r\n[`Closeable`](http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html) is an older interface. &lt;del&gt;For some reason&lt;/del&gt; To preserve backward compatibility, language designers decided to create a separate one.  This allows not only all `Closeable` classes (like streams throwing `IOException`) to be used in try-with-resources, but also allows throwing more general checked exceptions from `close()`.\r\n\r\nWhen in doubt, use `AutoCloseable`, users of your class will be grateful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"implements Closeable or implements AutoCloseable","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"noreferrer\"><code>AutoCloseable</code></a> (introduced in Java 7) makes it possible to use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\"><strong><em>try-with-resources</em></strong></a> idiom:</p>\n\n<pre><code>public class MyResource implements AutoCloseable {\n\n    public void close() throws Exception {\n        System.out.println(\"Closing!\");\n    }\n\n}\n</code></pre>\n\n<p>Now you can say:</p>\n\n<pre><code>try (MyResource res = new MyResource()) {\n    // use resource here\n}\n</code></pre>\n\n<p>and JVM will call <code>close()</code> automatically for you.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html\" rel=\"noreferrer\"><code>Closeable</code></a> is an older interface. <del>For some reason</del> To preserve backward compatibility, language designers decided to create a separate one.  This allows not only all <code>Closeable</code> classes (like streams throwing <code>IOException</code>) to be used in try-with-resources, but also allows throwing more general checked exceptions from <code>close()</code>.</p>\n\n<p>When in doubt, use <code>AutoCloseable</code>, users of your class will be grateful.</p>\n"},{"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"down_vote_count":5,"up_vote_count":53,"is_accepted":true,"score":48,"last_activity_date":1701693620,"creation_date":1351608303,"answer_id":13141468,"question_id":13141302,"body_markdown":"In the code you have posted, you don&#39;t need to implement [`AutoCloseable`][1].\r\n\r\nYou only have to (or should) implement [`Closeable`][2] or [`AutoCloseable`][1] if you are about to implement your own `PrintWriter`, which handles files or any other resources which needs to be closed.\r\n\r\nIn your implementation, it is enough to call `pw.close()`. You should do this in a finally block:\r\n\r\n    PrintWriter pw = null;\r\n    try {\r\n       File file = new File(&quot;C:\\\\test.txt&quot;);\r\n       pw = new PrintWriter(file);\r\n    } catch (IOException e) {\r\n       System.out.println(&quot;bad things happen&quot;);\r\n    } finally {\r\n       if (pw != null) {\r\n          try {\r\n             pw.close();\r\n          } catch (IOException e) {\r\n          }\r\n       }\r\n    }\r\n\r\nThe code above is Java 6 related. In Java 7 this can be done more elegantly (see [this answer][3]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\r\n  [3]: https://stackoverflow.com/a/13141382/714965","title":"implements Closeable or implements AutoCloseable","body":"<p>In the code you have posted, you don't need to implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>.</p>\n<p>You only have to (or should) implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> if you are about to implement your own <code>PrintWriter</code>, which handles files or any other resources which needs to be closed.</p>\n<p>In your implementation, it is enough to call <code>pw.close()</code>. You should do this in a finally block:</p>\n<pre><code>PrintWriter pw = null;\ntry {\n   File file = new File(&quot;C:\\\\test.txt&quot;);\n   pw = new PrintWriter(file);\n} catch (IOException e) {\n   System.out.println(&quot;bad things happen&quot;);\n} finally {\n   if (pw != null) {\n      try {\n         pw.close();\n      } catch (IOException e) {\n      }\n   }\n}\n</code></pre>\n<p>The code above is Java 6 related. In Java 7 this can be done more elegantly (see <a href=\"https://stackoverflow.com/a/13141382/714965\">this answer</a>).</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681828,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1617640131,"creation_date":1351608378,"answer_id":13141492,"question_id":13141302,"body_markdown":"[`Closeable` extends `AutoCloseable`][1], and is specifically dedicated to IO streams: it throws `IOException` instead of `Exception`, and is idempotent, whereas `AutoCloseable` doesn&#39;t provide this guarantee.\r\n\r\nThis is all explained in the javadoc of both interfaces.\r\n\r\nImplementing `AutoCloseable` (or `Closeable`) allows a class to be used as a resource of the [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) construct introduced in Java 7, which allows closing such resources automatically at the end of a block, without having to add a `finally` block which closes the resource explicitly.\r\n\r\nYour class doesn&#39;t represent a closeable resource, and there&#39;s absolutely no point in implementing this interface: an `IOTest` can&#39;t be closed. It shouldn&#39;t even be possible to instantiate it, since it doesn&#39;t have any instance method. Remember that implementing an interface means that there is a **is-a** relationship between the class and the interface. You have no such relationship here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html","title":"implements Closeable or implements AutoCloseable","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html\" rel=\"noreferrer\"><code>Closeable</code> extends <code>AutoCloseable</code></a>, and is specifically dedicated to IO streams: it throws <code>IOException</code> instead of <code>Exception</code>, and is idempotent, whereas <code>AutoCloseable</code> doesn't provide this guarantee.</p>\n<p>This is all explained in the javadoc of both interfaces.</p>\n<p>Implementing <code>AutoCloseable</code> (or <code>Closeable</code>) allows a class to be used as a resource of the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> construct introduced in Java 7, which allows closing such resources automatically at the end of a block, without having to add a <code>finally</code> block which closes the resource explicitly.</p>\n<p>Your class doesn't represent a closeable resource, and there's absolutely no point in implementing this interface: an <code>IOTest</code> can't be closed. It shouldn't even be possible to instantiate it, since it doesn't have any instance method. Remember that implementing an interface means that there is a <strong>is-a</strong> relationship between the class and the interface. You have no such relationship here.</p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1548661223,"creation_date":1489752720,"answer_id":42857248,"question_id":13141302,"body_markdown":"Here is the small example\r\n\r\n    public class TryWithResource {\r\n\r\n        public static void main(String[] args) {\r\n            try (TestMe r = new TestMe()) {\r\n                r.generalTest();\r\n            } catch(Exception e) {\r\n                System.out.println(&quot;From Exception Block&quot;);\r\n            } finally {\r\n                System.out.println(&quot;From Final Block&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    public class TestMe implements AutoCloseable {\r\n    \r\n    \t@Override\r\n    \tpublic void close() throws Exception {\r\n    \t\tSystem.out.println(&quot; From Close -  AutoCloseable  &quot;);\r\n    \t}\r\n    \r\n    \tpublic void generalTest() {\r\n    \t\tSystem.out.println(&quot; GeneralTest &quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is the output:\r\n\r\n    GeneralTest \r\n    From Close -  AutoCloseable  \r\n    From Final Block","title":"implements Closeable or implements AutoCloseable","body":"<p>Here is the small example</p>\n\n<pre><code>public class TryWithResource {\n\n    public static void main(String[] args) {\n        try (TestMe r = new TestMe()) {\n            r.generalTest();\n        } catch(Exception e) {\n            System.out.println(\"From Exception Block\");\n        } finally {\n            System.out.println(\"From Final Block\");\n        }\n    }\n}\n\n\n\npublic class TestMe implements AutoCloseable {\n\n    @Override\n    public void close() throws Exception {\n        System.out.println(\" From Close -  AutoCloseable  \");\n    }\n\n    public void generalTest() {\n        System.out.println(\" GeneralTest \");\n    }\n}\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>GeneralTest \nFrom Close -  AutoCloseable  \nFrom Final Block\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4047119,"reputation":303,"user_id":3328022,"display_name":"inder"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501757456,"creation_date":1494328947,"answer_id":43868471,"question_id":13141302,"body_markdown":"The `try-with-resources` Statement.\r\n    \r\nThe `try-with-resources statement` is a `try` statement that declares one or more resources. A `resource` is an object that must be closed after the program is finished with it. The `try-with-resources statement` ensures that each resource is closed at the end of the statement. Any object that implements `java.lang.AutoCloseable`, which includes all objects which implement `java.io.Closeable`, can be used as a resource.\r\n    \r\nThe following example reads the first line from a file. It uses an instance of `BufferedReader` to read data from the file. `BufferedReader` is a resource that must be closed after the program is finished with it:\r\n\r\n    \r\n    static String readFirstLineFromFile(String path) throws IOException {\r\n        try (BufferedReader br =\r\n                       new BufferedReader(new FileReader(path))) {\r\n            return br.readLine();\r\n        }\r\n    }\r\n\r\nIn this example, the resource declared in the try-with-resources statement is a BufferedReader. The declaration statement appears within parentheses immediately after the try keyword. The class `BufferedReader`, in Java SE 7 and later, implements the interface `java.lang.AutoCloseable`. Because the `BufferedReader` instance is declared in a try-with-resource statement, it will be closed regardless of whether the try statement completes normally or abruptly (as a result of the method `BufferedReader.readLine` throwing an `IOException`).\r\n    \r\nPrior to Java SE 7, you can use a `finally` block to ensure that a resource is closed regardless of whether the try statement completes normally or abruptly. The following example uses a `finally` block instead of a `try-with-resources` statement:\r\n\r\n    \r\n    static String readFirstLineFromFileWithFinallyBlock(String path)\r\n                                                         throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(path));\r\n        try {\r\n            return br.readLine();\r\n        } finally {\r\n            if (br != null) br.close();\r\n        }\r\n\r\n    }\r\n    \r\nPlease [refer to the docs](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","title":"implements Closeable or implements AutoCloseable","body":"<p>The <code>try-with-resources</code> Statement.</p>\n\n<p>The <code>try-with-resources statement</code> is a <code>try</code> statement that declares one or more resources. A <code>resource</code> is an object that must be closed after the program is finished with it. The <code>try-with-resources statement</code> ensures that each resource is closed at the end of the statement. Any object that implements <code>java.lang.AutoCloseable</code>, which includes all objects which implement <code>java.io.Closeable</code>, can be used as a resource.</p>\n\n<p>The following example reads the first line from a file. It uses an instance of <code>BufferedReader</code> to read data from the file. <code>BufferedReader</code> is a resource that must be closed after the program is finished with it:</p>\n\n<pre><code>static String readFirstLineFromFile(String path) throws IOException {\n    try (BufferedReader br =\n                   new BufferedReader(new FileReader(path))) {\n        return br.readLine();\n    }\n}\n</code></pre>\n\n<p>In this example, the resource declared in the try-with-resources statement is a BufferedReader. The declaration statement appears within parentheses immediately after the try keyword. The class <code>BufferedReader</code>, in Java SE 7 and later, implements the interface <code>java.lang.AutoCloseable</code>. Because the <code>BufferedReader</code> instance is declared in a try-with-resource statement, it will be closed regardless of whether the try statement completes normally or abruptly (as a result of the method <code>BufferedReader.readLine</code> throwing an <code>IOException</code>).</p>\n\n<p>Prior to Java SE 7, you can use a <code>finally</code> block to ensure that a resource is closed regardless of whether the try statement completes normally or abruptly. The following example uses a <code>finally</code> block instead of a <code>try-with-resources</code> statement:</p>\n\n<pre><code>static String readFirstLineFromFileWithFinallyBlock(String path)\n                                                     throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    try {\n        return br.readLine();\n    } finally {\n        if (br != null) br.close();\n    }\n\n}\n</code></pre>\n\n<p>Please <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">refer to the docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1564760009,"creation_date":1532527356,"answer_id":51520896,"question_id":13141302,"body_markdown":"Recently I have read a Java SE 8 Programmer Guide ii Book.\r\n\r\nI found something about the difference between `AutoCloseable` vs `Closeable`.\r\n\r\nThe `AutoCloseable` interface was introduced in Java 7. Before that, another interface\r\nexisted called `Closeable`. It was similar to what the language designers wanted, with the\r\nfollowing exceptions:\r\n\r\n - `Closeable` restricts the type of exception thrown to `IOException`.\r\n - `Closeable` requires implementations to be idempotent.\r\n\r\nThe language designers emphasize backward compatibility. Since changing the existing\r\ninterface was undesirable, they made a new one called `AutoCloseable`. This new\r\ninterface is less strict than `Closeable`. Since `Closeable` meets the requirements for\r\n`AutoCloseable`, it started implementing `AutoCloseable` when the latter was introduced.","title":"implements Closeable or implements AutoCloseable","body":"<p>Recently I have read a Java SE 8 Programmer Guide ii Book.</p>\n\n<p>I found something about the difference between <code>AutoCloseable</code> vs <code>Closeable</code>.</p>\n\n<p>The <code>AutoCloseable</code> interface was introduced in Java 7. Before that, another interface\nexisted called <code>Closeable</code>. It was similar to what the language designers wanted, with the\nfollowing exceptions:</p>\n\n<ul>\n<li><code>Closeable</code> restricts the type of exception thrown to <code>IOException</code>.</li>\n<li><code>Closeable</code> requires implementations to be idempotent.</li>\n</ul>\n\n<p>The language designers emphasize backward compatibility. Since changing the existing\ninterface was undesirable, they made a new one called <code>AutoCloseable</code>. This new\ninterface is less strict than <code>Closeable</code>. Since <code>Closeable</code> meets the requirements for\n<code>AutoCloseable</code>, it started implementing <code>AutoCloseable</code> when the latter was introduced.</p>\n"}],"owner":{"account_id":1991900,"reputation":1937,"user_id":1785745,"accept_rate":50,"display_name":"malas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175157,"favorite_count":0,"down_vote_count":2,"up_vote_count":180,"accepted_answer_id":13141468,"answer_count":6,"score":178,"last_activity_date":1701693620,"creation_date":1351607808,"question_id":13141302,"body_markdown":"I&#39;m in the process of learning Java and I cannot find any good explanation on the `implements Closeable` and the `implements AutoCloseable` interfaces.\r\n\r\nWhen I implemented an `interface Closeable`, my Eclipse IDE created a method `public void close() throws IOException`.\r\n\r\nI can close the stream using `pw.close();` without the interface. But, I cannot understand how I can implement the`close()` method using the interface. And, what is the purpose of this interface?\r\n\r\nAlso I would like to know: how can I check if `IOstream` was really closed?\r\n\r\nI was using the basic code below \r\n\r\n    import java.io.*;\r\n    \r\n    public class IOtest implements AutoCloseable {\r\n\r\n\tpublic static void main(String[] args) throws IOException  {\r\n\t\t\r\n\t\tFile file = new File(&quot;C:\\\\test.txt&quot;);\r\n\t\tPrintWriter pw = new PrintWriter(file);\r\n\t\t\r\n\t\tSystem.out.println(&quot;file has been created&quot;);\r\n\t\t\r\n\t\tpw.println(&quot;file has been created&quot;);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws IOException {\r\n\t\t\r\n\t\t\r\n\t}","title":"implements Closeable or implements AutoCloseable","body":"<p>I'm in the process of learning Java and I cannot find any good explanation on the <code>implements Closeable</code> and the <code>implements AutoCloseable</code> interfaces.</p>\n\n<p>When I implemented an <code>interface Closeable</code>, my Eclipse IDE created a method <code>public void close() throws IOException</code>.</p>\n\n<p>I can close the stream using <code>pw.close();</code> without the interface. But, I cannot understand how I can implement the<code>close()</code> method using the interface. And, what is the purpose of this interface?</p>\n\n<p>Also I would like to know: how can I check if <code>IOstream</code> was really closed?</p>\n\n<p>I was using the basic code below </p>\n\n<pre><code>import java.io.*;\n\npublic class IOtest implements AutoCloseable {\n\npublic static void main(String[] args) throws IOException  {\n\n    File file = new File(\"C:\\\\test.txt\");\n    PrintWriter pw = new PrintWriter(file);\n\n    System.out.println(\"file has been created\");\n\n    pw.println(\"file has been created\");\n\n}\n\n@Override\npublic void close() throws IOException {\n\n\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":20917186,"reputation":109,"user_id":15366599,"display_name":"Auloma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701693562,"creation_date":1701693562,"question_id":77599507,"body_markdown":"My goal is to read the content of a USB key on an android tablet.\r\nI am currently using a small project before integrating this feature to my initial app.\r\nI am using the libaums library as follow:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.Manifest;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport android.app.PendingIntent;\r\nimport android.content.Intent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.hardware.usb.UsbManager;\r\n\r\nimport me.jahnen.libaums.core.UsbMassStorageDevice;\r\nimport me.jahnen.libaums.core.fs.*;\r\nimport me.jahnen.libaums.*;\r\nimport me.jahnen.*;\r\nimport me.jahnen.libaums.core.fs.*;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.emteria.usbpermissions.USB_PERMISSION&quot;;\r\n\r\n    Button btnLoad;\r\n    TextView tvLoad;\r\n    TextView tvUsb;\r\n    String fileName, filePath, fileContent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btnLoad = findViewById(R.id.btnLoad);\r\n        tvLoad = findViewById(R.id.tvLoad);\r\n        tvUsb = findViewById(R.id.tvUsb);\r\n        fileName = &quot;myFile.txt&quot;;\r\n        filePath = &quot;myFileDir&quot;;\r\n\r\n        //btnLoad.setEnabled(isExternalStorageAvailableForRW());\r\n        tvUsb.setText(&quot;tv usb&quot;);\r\n        btnLoad.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n            }\r\n        });\r\n\r\n        UsbMassStorageDevice[] devices = UsbMassStorageDevice.getMassStorageDevices(this /* Context or Activity */);\r\n        int deviceNumber = devices.length;\r\n        tvLoad.setText(String.valueOf(deviceNumber));\r\n        UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n\r\n        for(UsbMassStorageDevice device: devices) {\r\n            BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    synchronized (this) {\r\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                            // La permission a &#233;t&#233; accord&#233;e, ex&#233;cutez votre code ici\r\n                            tvUsb.setText(&quot;Permission granted&quot;);\r\n//                            FileSystem currentFs = device.getPartitions().get(0).getFileSystem();\r\n\r\n                            try {\r\n                                device.init();\r\n                            } catch (IOException e) {\r\n                                Log.e(&quot;USB&quot;, e.getMessage());\r\n                                tvUsb.setText(e.getMessage());\r\n                            }\r\n                        } else {\r\n                            tvUsb.setText(&quot;Permission denied&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(usbReceiver, filter);\r\n\r\n            PendingIntent permissionIntent = PendingIntent.getBroadcast(\r\n                    this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            usbManager.requestPermission(device.getUsbDevice(), permissionIntent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy problem is when I am calling device.init(), the USB key is ejected from the tablet without throwing any error.\r\nAfter that, an error is thrown explaining that there is no more USB device and the maximum try number has been reached.\r\n\r\nHas somebody an idea to solve the problem ?\r\n\r\nHere is the manifest:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.emteria.usbpermissions.USB_PERMISSION&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\r\n\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nI am running the app on Android 8.\r\nThanks for help !","title":"Android libaums: device.init() eject the device","body":"<p>My goal is to read the content of a USB key on an android tablet.\nI am currently using a small project before integrating this feature to my initial app.\nI am using the libaums library as follow:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.Manifest;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbManager;\n\nimport me.jahnen.libaums.core.UsbMassStorageDevice;\nimport me.jahnen.libaums.core.fs.*;\nimport me.jahnen.libaums.*;\nimport me.jahnen.*;\nimport me.jahnen.libaums.core.fs.*;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String ACTION_USB_PERMISSION = &quot;com.emteria.usbpermissions.USB_PERMISSION&quot;;\n\n    Button btnLoad;\n    TextView tvLoad;\n    TextView tvUsb;\n    String fileName, filePath, fileContent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btnLoad = findViewById(R.id.btnLoad);\n        tvLoad = findViewById(R.id.tvLoad);\n        tvUsb = findViewById(R.id.tvUsb);\n        fileName = &quot;myFile.txt&quot;;\n        filePath = &quot;myFileDir&quot;;\n\n        //btnLoad.setEnabled(isExternalStorageAvailableForRW());\n        tvUsb.setText(&quot;tv usb&quot;);\n        btnLoad.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        });\n\n        UsbMassStorageDevice[] devices = UsbMassStorageDevice.getMassStorageDevices(this /* Context or Activity */);\n        int deviceNumber = devices.length;\n        tvLoad.setText(String.valueOf(deviceNumber));\n        UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        for(UsbMassStorageDevice device: devices) {\n            BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    synchronized (this) {\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                            // La permission a été accordée, exécutez votre code ici\n                            tvUsb.setText(&quot;Permission granted&quot;);\n//                            FileSystem currentFs = device.getPartitions().get(0).getFileSystem();\n\n                            try {\n                                device.init();\n                            } catch (IOException e) {\n                                Log.e(&quot;USB&quot;, e.getMessage());\n                                tvUsb.setText(e.getMessage());\n                            }\n                        } else {\n                            tvUsb.setText(&quot;Permission denied&quot;);\n                        }\n                    }\n                }\n            };\n\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n            registerReceiver(usbReceiver, filter);\n\n            PendingIntent permissionIntent = PendingIntent.getBroadcast(\n                    this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n            usbManager.requestPermission(device.getUsbDevice(), permissionIntent);\n        }\n    }\n}\n</code></pre>\n<p>My problem is when I am calling device.init(), the USB key is ejected from the tablet without throwing any error.\nAfter that, an error is thrown explaining that there is no more USB device and the maximum try number has been reached.</p>\n<p>Has somebody an idea to solve the problem ?</p>\n<p>Here is the manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.emteria.usbpermissions.USB_PERMISSION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\n\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I am running the app on Android 8.\nThanks for help !</p>\n"},{"tags":["java","spring-boot","hazelcast","hazelcast-imap"],"answers":[{"tags":[],"owner":{"account_id":14230921,"reputation":836,"user_id":10280183,"display_name":"Mike Yawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701693554,"creation_date":1701693554,"answer_id":77599504,"question_id":77598925,"body_markdown":"Insertion into a map is always going to be performed by the cluster member (and more specifically, the partition thread) than owns the key being inserted.  In your case, the ‘host’ keys both hashed to values that ended up being owned by the same member.  By having operations performed by the owning thread, rather than letting any member update any key, Hazelcast can ensure thread safe behavior without requiring that you lock the map before updating it.  (The keys may or may not have hashed to the same partition, but it seems that they must have hashed to partitions residing on the same member). ","title":"Hazelcast Cluster: Inconsistent Entry Additions Across Two Instances","body":"<p>Insertion into a map is always going to be performed by the cluster member (and more specifically, the partition thread) than owns the key being inserted.  In your case, the ‘host’ keys both hashed to values that ended up being owned by the same member.  By having operations performed by the owning thread, rather than letting any member update any key, Hazelcast can ensure thread safe behavior without requiring that you lock the map before updating it.  (The keys may or may not have hashed to the same partition, but it seems that they must have hashed to partitions residing on the same member).</p>\n"}],"owner":{"account_id":24839747,"reputation":3,"user_id":18717917,"display_name":"Usama Zaheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599504,"answer_count":1,"score":0,"last_activity_date":1701693554,"creation_date":1701687912,"question_id":77598925,"body_markdown":"I&#39;m running two instances of an application, and each instance is supposed to add its host information to a Hazelcast map named &quot;hosts&quot; during startup.\r\n\r\n`HazelcastInstance hz = Hazelcast.newHazelcastInstance();\r\nIMap&lt;String, Void&gt; set = hz.getMap(&quot;hosts&quot;);\r\nset.set(host, Void, ttl, TimeUnit.SECONDS);`\r\n\r\nHowever, I&#39;ve noticed an unexpected behavior. Instance 1 is correctly adding its host information to the map, but strangely, it&#39;s also adding the host information of instance 2. On the other hand, instance 2 does not add any host information to the map.\r\n\r\n1- Both instances are using the same code to add entries to the &quot;hosts&quot; map.\r\n2- I have verified that the host information retrieved by each instance is correct.\r\n3- The cluster is correctly formed, as both instances are visible in the Hazelcast Management Center.\r\n4- The Map is also created and has 2 members. member 1 adds 2 entries but member 2 adds 0.\r\n\r\nI&#39;m trying to understand why instance 1 is adding entries for both itself and instance 2, while instance 2 is not adding any entries. The logic to add entries seems correct, and there are no apparent issues with the cluster formation.","title":"Hazelcast Cluster: Inconsistent Entry Additions Across Two Instances","body":"<p>I'm running two instances of an application, and each instance is supposed to add its host information to a Hazelcast map named &quot;hosts&quot; during startup.</p>\n<p><code>HazelcastInstance hz = Hazelcast.newHazelcastInstance(); IMap&lt;String, Void&gt; set = hz.getMap(&quot;hosts&quot;); set.set(host, Void, ttl, TimeUnit.SECONDS);</code></p>\n<p>However, I've noticed an unexpected behavior. Instance 1 is correctly adding its host information to the map, but strangely, it's also adding the host information of instance 2. On the other hand, instance 2 does not add any host information to the map.</p>\n<p>1- Both instances are using the same code to add entries to the &quot;hosts&quot; map.\n2- I have verified that the host information retrieved by each instance is correct.\n3- The cluster is correctly formed, as both instances are visible in the Hazelcast Management Center.\n4- The Map is also created and has 2 members. member 1 adds 2 entries but member 2 adds 0.</p>\n<p>I'm trying to understand why instance 1 is adding entries for both itself and instance 2, while instance 2 is not adding any entries. The logic to add entries seems correct, and there are no apparent issues with the cluster formation.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701692915,"creation_date":1701692915,"question_id":77599447,"body_markdown":"the full error message goes like \r\n&gt; Cannot add or update a child row: a foreign key constraint fails (`phinder`.`storage`, CONSTRAINT `FK63lhdaxtuokuwqrojm6ue9qsh` FOREIGN KEY (`address_address_id`) REFERENCES `address` (`address_id`))\r\n\r\nMy pharmacy class looks like\r\n```\r\npublic class Pharmacy {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long pharmacyId;\r\n  private String pharmacyName;\r\n  private Double latitude;\r\n  private Double longitude;\r\n  private boolean isOpen;\r\n  private boolean isPrivate;\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  private Address address;\r\n  @OneToMany(cascade = CascadeType.ALL)\r\n  private Set&lt;User&gt; users;\r\n  @OneToMany(cascade = CascadeType.ALL)\r\n  private Set&lt;Storage&gt; storage;\r\n}\r\n```\r\n\r\nMy Adress class looks like\r\n```\r\n@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long addressId;\r\n    private String phoneNumber;\r\n    private String email;\r\n    private String country;\r\n    private String city;\r\n    private String subCity;\r\n    private String woreda;\r\n    private String houseNumber;\r\n```\r\n\r\nMy Storage Class looks like\r\n```\r\n@Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long storageId;\r\n  private String storageName;\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  private Address address;\r\n  private Long pharmacyId;\r\n  private Boolean isEnabled;\r\n```\r\n\r\nand the error is caused when i try to run the function below where it creates a new pharmacy object the creates a new storage and then assigns the storage to the pharmacy and then saves the pharmacy and due to cascade should save the rest of the objects\r\n\r\n```\r\npublic Pharmacy addPharmacy(Pharmacy pharmacy) {\r\n        Pharmacy registeredPharmacy = pharmacyRepo.save(pharmacy);\r\n        Storage storage = new Storage(\r\n            registeredPharmacy.getPharmacyName(),\r\n            registeredPharmacy.getPharmacyId(),\r\n            AddressCopier.copyObjectWithoutField(registeredPharmacy.getAddress(), &quot;addressId&quot;),\r\n            true\r\n        );\r\n        Set&lt;Storage&gt; storages = new HashSet&lt;&gt;();\r\n        storages.add(storage);\r\n        registeredPharmacy.setStorage(storages);\r\n        return pharmacyRepo.save(registeredPharmacy);\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\ni have tried the other answers to similar questions like saving the address first before saving the storage and pharmacy but i still get the same error and its not working so it&#39;d be wonderful if someone helps","title":"SQL Error: 1452, SQLState: 23000 - Cannot add or update a child row: a foreign key constraint fails","body":"<p>the full error message goes like</p>\n<blockquote>\n<p>Cannot add or update a child row: a foreign key constraint fails (<code>phinder</code>.<code>storage</code>, CONSTRAINT <code>FK63lhdaxtuokuwqrojm6ue9qsh</code> FOREIGN KEY (<code>address_address_id</code>) REFERENCES <code>address</code> (<code>address_id</code>))</p>\n</blockquote>\n<p>My pharmacy class looks like</p>\n<pre><code>public class Pharmacy {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long pharmacyId;\n  private String pharmacyName;\n  private Double latitude;\n  private Double longitude;\n  private boolean isOpen;\n  private boolean isPrivate;\n  @OneToOne(cascade = CascadeType.ALL)\n  private Address address;\n  @OneToMany(cascade = CascadeType.ALL)\n  private Set&lt;User&gt; users;\n  @OneToMany(cascade = CascadeType.ALL)\n  private Set&lt;Storage&gt; storage;\n}\n</code></pre>\n<p>My Adress class looks like</p>\n<pre><code>@Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long addressId;\n    private String phoneNumber;\n    private String email;\n    private String country;\n    private String city;\n    private String subCity;\n    private String woreda;\n    private String houseNumber;\n</code></pre>\n<p>My Storage Class looks like</p>\n<pre><code>@Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long storageId;\n  private String storageName;\n  @OneToOne(cascade = CascadeType.ALL)\n  private Address address;\n  private Long pharmacyId;\n  private Boolean isEnabled;\n</code></pre>\n<p>and the error is caused when i try to run the function below where it creates a new pharmacy object the creates a new storage and then assigns the storage to the pharmacy and then saves the pharmacy and due to cascade should save the rest of the objects</p>\n<pre><code>public Pharmacy addPharmacy(Pharmacy pharmacy) {\n        Pharmacy registeredPharmacy = pharmacyRepo.save(pharmacy);\n        Storage storage = new Storage(\n            registeredPharmacy.getPharmacyName(),\n            registeredPharmacy.getPharmacyId(),\n            AddressCopier.copyObjectWithoutField(registeredPharmacy.getAddress(), &quot;addressId&quot;),\n            true\n        );\n        Set&lt;Storage&gt; storages = new HashSet&lt;&gt;();\n        storages.add(storage);\n        registeredPharmacy.setStorage(storages);\n        return pharmacyRepo.save(registeredPharmacy);\n    }\n</code></pre>\n<p>i have tried the other answers to similar questions like saving the address first before saving the storage and pharmacy but i still get the same error and its not working so it'd be wonderful if someone helps</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9843,"page":16,"page_size":100}
